{"items":[{"tags":["java","generics","super","bounded-wildcard","pecs"],"comments":[{"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"score":5,"creation_date":1547965356,"post_id":2723397,"comment_id":95370616,"body_markdown":"A very good explanation with an example @ youtube.com/watch?v=34oiEq9nD0M&amp;feature=youtu.be&amp;t=1630 which explains `super` part but, gives an idea of another.","body":"A very good explanation with an example @ youtube.com/watch?v=34oiEq9nD0M&amp;feature=youtu.be&amp;t=1630 which explains <code>super</code> part but, gives an idea of another."}],"answers":[{"comments":[{"owner":{"account_id":317363,"reputation":1074,"user_id":634012,"display_name":"Fatih Arslan"},"score":2,"creation_date":1549549564,"post_id":2723503,"comment_id":95948629,"body_markdown":"Does this principle only hold for Collections? It makes sense when one tries to correlate it with a list. If you think about the signature of \nsort(List&lt;T&gt;,Comparator&lt;? super T&gt;) ---&gt; here the Comparator uses super so it means it is a consumer in PECS context. \nWhen you look at the implementation for instance like :\n    public int compare(Person a, Person b) {\n        return a.age &lt; b.age ? -1 : a.age == b.age ? 0 : 1;\n    }\nI feel like Person does not consume anything but produces age. That makes me confused. Is there a flaw in my reasoning or PECS only holds for Collections?","body":"Does this principle only hold for Collections? It makes sense when one tries to correlate it with a list. If you think about the signature of  sort(List&lt;T&gt;,Comparator&lt;? super T&gt;) ---&gt; here the Comparator uses super so it means it is a consumer in PECS context.  When you look at the implementation for instance like :     public int compare(Person a, Person b) {         return a.age &lt; b.age ? -1 : a.age == b.age ? 0 : 1;     } I feel like Person does not consume anything but produces age. That makes me confused. Is there a flaw in my reasoning or PECS only holds for Collections?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1623170293,"post_id":2723503,"comment_id":119999808,"body_markdown":"@FatihArslan don’t look into the comparator implementation. It’s irrelevant. The method `sort(List&lt;T&gt;,Comparator&lt;? super T&gt;)` declares the type bounds and in that `sort` method, the comparator *consumes* `T` instances.","body":"@FatihArslan don’t look into the comparator implementation. It’s irrelevant. The method <code>sort(List&lt;T&gt;,Comparator&lt;? super T&gt;)</code> declares the type bounds and in that <code>sort</code> method, the comparator <i>consumes</i> <code>T</code> instances."}],"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"comment_count":2,"down_vote_count":3,"up_vote_count":32,"is_accepted":false,"score":29,"last_activity_date":1503664485,"creation_date":1272389572,"answer_id":2723503,"question_id":2723397,"body_markdown":"As I explain in [my answer][1] to another question, PECS is a mnemonic device  created by Josh Bloch to help remember **P**roducer &lt;code&gt;&lt;strong&gt;e&lt;/strong&gt;xtends&lt;/code&gt;, **C**onsumer &lt;code&gt;&lt;strong&gt;s&lt;/strong&gt;uper&lt;/code&gt;.\n\n&gt; This means that when a parameterized type being passed to a method will *produce* instances of &lt;code&gt;T&lt;/code&gt; (they will be retrieved from it in some way), &lt;code&gt;? extends T&lt;/code&gt; should be used, since any instance of a subclass of &lt;code&gt;T&lt;/code&gt; is also a &lt;code&gt;T&lt;/code&gt;.\n&gt;\n&gt; When a parameterized type being passed to a method will *consume* instances of &lt;code&gt;T&lt;/code&gt; (they will be passed to it to do something), &lt;code&gt;? super T&lt;/code&gt; should be used because an instance of &lt;code&gt;T&lt;/code&gt; can legally be passed to any method that accepts some supertype of &lt;code&gt;T&lt;/code&gt;. A &lt;code&gt;Comparator&amp;lt;Number&amp;gt;&lt;/code&gt; could be used on a &lt;code&gt;Collection&amp;lt;Integer&amp;gt;&lt;/code&gt;, for example. &lt;code&gt;? extends T&lt;/code&gt; would not work, because a &lt;code&gt;Comparator&amp;lt;Integer&amp;gt;&lt;/code&gt; could not operate on a &lt;code&gt;Collection&amp;lt;Number&amp;gt;&lt;/code&gt;.\n\nNote that generally you should only be using &lt;code&gt;? extends T&lt;/code&gt; and &lt;code&gt;? super T&lt;/code&gt; for the parameters of some method. Methods should just use &lt;code&gt;T&lt;/code&gt; as the type parameter on a generic return type.\n\n\n  [1]: https://stackoverflow.com/questions/2248390/java-generics-collections-max-signature-and-comparator/2248503#2248503","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>As I explain in <a href=\"https://stackoverflow.com/questions/2248390/java-generics-collections-max-signature-and-comparator/2248503#2248503\">my answer</a> to another question, PECS is a mnemonic device  created by Josh Bloch to help remember <strong>P</strong>roducer <code><strong>e</strong>xtends</code>, <strong>C</strong>onsumer <code><strong>s</strong>uper</code>.</p>\n<blockquote>\n<p>This means that when a parameterized type being passed to a method will <em>produce</em> instances of <code>T</code> (they will be retrieved from it in some way), <code>? extends T</code> should be used, since any instance of a subclass of <code>T</code> is also a <code>T</code>.</p>\n<p>When a parameterized type being passed to a method will <em>consume</em> instances of <code>T</code> (they will be passed to it to do something), <code>? super T</code> should be used because an instance of <code>T</code> can legally be passed to any method that accepts some supertype of <code>T</code>. A <code>Comparator&lt;Number&gt;</code> could be used on a <code>Collection&lt;Integer&gt;</code>, for example. <code>? extends T</code> would not work, because a <code>Comparator&lt;Integer&gt;</code> could not operate on a <code>Collection&lt;Number&gt;</code>.</p>\n</blockquote>\n<p>Note that generally you should only be using <code>? extends T</code> and <code>? super T</code> for the parameters of some method. Methods should just use <code>T</code> as the type parameter on a generic return type.</p>\n"},{"comments":[{"owner":{"account_id":173533,"reputation":9578,"user_id":402281,"accept_rate":58,"display_name":"Feuermurmel"},"score":204,"creation_date":1367932316,"post_id":2723538,"comment_id":23544205,"body_markdown":"I&#39;m always trying to think about it this way: A _producer_ is allowed to produce something more specific, hence _extends_, a _consumer_ is allowed to accept something more general, hence _super_.","body":"I&#39;m always trying to think about it this way: A <i>producer</i> is allowed to produce something more specific, hence <i>extends</i>, a <i>consumer</i> is allowed to accept something more general, hence <i>super</i>."},{"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"score":12,"creation_date":1390591258,"post_id":2723538,"comment_id":32173405,"body_markdown":"Another way to remember the producer/consumer distinction is to think of a method signature. If you have a method `doSomethingWithList(List list)`, you are *consuming* the list and so will need covariance / extends (or an invariant List). On the other hand if your method is `List doSomethingProvidingList`, then you are *producing* the List and will need contravariance / super (or an invariant List).","body":"Another way to remember the producer/consumer distinction is to think of a method signature. If you have a method <code>doSomethingWithList(List list)</code>, you are <i>consuming</i> the list and so will need covariance / extends (or an invariant List). On the other hand if your method is <code>List doSomethingProvidingList</code>, then you are <i>producing</i> the List and will need contravariance / super (or an invariant List)."},{"owner":{"account_id":1520052,"reputation":299,"user_id":1751705,"accept_rate":80,"display_name":"Chatterjee"},"score":3,"creation_date":1400912846,"post_id":2723538,"comment_id":36688334,"body_markdown":"@MichaelMyers: Why can&#39;t we simply use a parameterized type for both these cases? Is there any specific advantage of using wildcards here, or is it just a means of improving readability similar to, say, using references to `const` as method parameters in C++ to signify that the method does not modify the arguments?","body":"@MichaelMyers: Why can&#39;t we simply use a parameterized type for both these cases? Is there any specific advantage of using wildcards here, or is it just a means of improving readability similar to, say, using references to <code>const</code> as method parameters in C++ to signify that the method does not modify the arguments?"},{"owner":{"account_id":248860,"reputation":2568,"user_id":524504,"accept_rate":75,"display_name":"masterxilo"},"score":15,"creation_date":1401217687,"post_id":2723538,"comment_id":36793775,"body_markdown":"@Raman, I think you just confused it. In doSthWithList( you can have List&lt;? super Thing&gt; ), since you are a consumer, you can use super (remember, CS). However, it&#39;s List&lt;? extends Thing&gt; getList() since you are allowed to return something more specific when producing (PE).","body":"@Raman, I think you just confused it. In doSthWithList( you can have List&lt;? super Thing&gt; ), since you are a consumer, you can use super (remember, CS). However, it&#39;s List&lt;? extends Thing&gt; getList() since you are allowed to return something more specific when producing (PE)."},{"owner":{"account_id":1150494,"reputation":4777,"user_id":1132333,"accept_rate":61,"display_name":"H.Rabiee"},"score":0,"creation_date":1414074818,"post_id":2723538,"comment_id":41687401,"body_markdown":"what if we want to go through and add to the collection?","body":"what if we want to go through and add to the collection?"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":1,"creation_date":1431956269,"post_id":2723538,"comment_id":48704855,"body_markdown":"@hajder Then your only option is to use the exact type: `Collection&lt;Thing&gt;`. The reason for this is that you must be sure that the get method will return something that you can cast to `Thing`, and the add method accepts a `Thing`, which it can cast to the actual element type. The only type that satisfies both criteria is `Thing` itself.","body":"@hajder Then your only option is to use the exact type: <code>Collection&lt;Thing&gt;</code>. The reason for this is that you must be sure that the get method will return something that you can cast to <code>Thing</code>, and the add method accepts a <code>Thing</code>, which it can cast to the actual element type. The only type that satisfies both criteria is <code>Thing</code> itself."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1431956462,"post_id":2723538,"comment_id":48705008,"body_markdown":"@hajder Though note that here &quot;going through&quot; assumes that you really need to cast the elements to `Thing`.","body":"@hajder Though note that here &quot;going through&quot; assumes that you really need to cast the elements to <code>Thing</code>."},{"owner":{"account_id":1255397,"reputation":2306,"user_id":1214974,"accept_rate":67,"display_name":"Janus Varmarken"},"score":6,"creation_date":1455198046,"post_id":2723538,"comment_id":58388918,"body_markdown":"@Chatterjee: the reason for using wildcards is flexibility. By declaring that a parameter is of type Collection&lt;? super Thing&gt; you give the caller more flexibility as she can invoke your method not only with a Collection&lt;Thing&gt; as an argument but also with a Collection&lt;SomeSupertypeOfThing&gt; as an argument.","body":"@Chatterjee: the reason for using wildcards is flexibility. By declaring that a parameter is of type Collection&lt;? super Thing&gt; you give the caller more flexibility as she can invoke your method not only with a Collection&lt;Thing&gt; as an argument but also with a Collection&lt;SomeSupertypeOfThing&gt; as an argument."},{"owner":{"account_id":9921653,"reputation":164,"user_id":7344554,"display_name":"Eric Zhang"},"score":0,"creation_date":1496109570,"post_id":2723538,"comment_id":75513056,"body_markdown":"@MichaelMyers: For the case2, `Collection &lt;? super Thing&gt; ` also is iterable,   right?","body":"@MichaelMyers: For the case2, <code>Collection &lt;? super Thing&gt; </code> also is iterable,   right?"},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":2,"creation_date":1496276411,"post_id":2723538,"comment_id":75599256,"body_markdown":"@EricZhang: When you are adding to a collection, it does not matter whether or not the collection is iterable.","body":"@EricZhang: When you are adding to a collection, it does not matter whether or not the collection is iterable."},{"owner":{"account_id":62229,"reputation":21708,"user_id":185022,"accept_rate":81,"display_name":"AZ_"},"score":2,"creation_date":1527688441,"post_id":2723538,"comment_id":88222556,"body_markdown":"PECS is counter intuitive, If I am taking something from the list so I am consuming items or producing?","body":"PECS is counter intuitive, If I am taking something from the list so I am consuming items or producing?"},{"owner":{"account_id":6381480,"reputation":1141,"user_id":4950769,"accept_rate":50,"display_name":"Treefish Zhang"},"score":10,"creation_date":1556975667,"post_id":2723538,"comment_id":98615013,"body_markdown":"@AZ_ I share your sentiment. If a method do get() from the list, the method would be considered a Consumer&lt;T&gt;, and the list is considered a provider; but the rule of PECS is “from the list’s point of view”, thus ‘extends’ is called for. It should be GEPS: get extends; put super.","body":"@AZ_ I share your sentiment. If a method do get() from the list, the method would be considered a Consumer&lt;T&gt;, and the list is considered a provider; but the rule of PECS is “from the list’s point of view”, thus ‘extends’ is called for. It should be GEPS: get extends; put super."},{"owner":{"account_id":14105282,"reputation":657,"user_id":10189517,"display_name":"HKIT"},"score":0,"creation_date":1665290592,"post_id":2723538,"comment_id":130663300,"body_markdown":"In case I, all subtype of Thing is Thing, why adding Thing instance is not allowed? As all operation only happen in Thing type. Can you give a concrete example why adding Thing instance to the list in case I will cause issue?","body":"In case I, all subtype of Thing is Thing, why adding Thing instance is not allowed? As all operation only happen in Thing type. Can you give a concrete example why adding Thing instance to the list in case I will cause issue?"},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1665411250,"post_id":2723538,"comment_id":130687722,"body_markdown":"@HKIT: It isn&#39;t that adding a Thing to the `Collection&lt;? extends Thing&gt;` will cause an issue. The language simply won&#39;t permit it and your program won&#39;t compile. The contrast is rather between `Collection&lt;? extends Thing&gt;` and simply `Collection&lt;Thing&gt;`. And the difference is that a `Collection&lt;MyThingSubType&gt;` is not a `Collection&lt;Thing&gt;` and couldn&#39;t be passed to a method expecting such, but it is a `Collection&lt;? extends Thing&gt;` and could be passed to such a method.","body":"@HKIT: It isn&#39;t that adding a Thing to the <code>Collection&lt;? extends Thing&gt;</code> will cause an issue. The language simply won&#39;t permit it and your program won&#39;t compile. The contrast is rather between <code>Collection&lt;? extends Thing&gt;</code> and simply <code>Collection&lt;Thing&gt;</code>. And the difference is that a <code>Collection&lt;MyThingSubType&gt;</code> is not a <code>Collection&lt;Thing&gt;</code> and couldn&#39;t be passed to a method expecting such, but it is a <code>Collection&lt;? extends Thing&gt;</code> and could be passed to such a method."},{"owner":{"account_id":1161864,"reputation":2061,"user_id":1141215,"display_name":"PJ_Finnegan"},"score":0,"creation_date":1669814413,"post_id":2723538,"comment_id":131728055,"body_markdown":"`Here you don&#39;t care what is already in the list as long as it will allow a Thing to be added; this is what ? super Thing guarantees.` does this mean that the Thing will be downcast to the class `?` when added to the collection?","body":"<code>Here you don&#39;t care what is already in the list as long as it will allow a Thing to be added; this is what ? super Thing guarantees.</code> does this mean that the Thing will be downcast to the class <code>?</code> when added to the collection?"},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1670013792,"post_id":2723538,"comment_id":131782189,"body_markdown":"@PJ_Finnegan: Casting only matters when you&#39;re immediately acting on an object. It doesn&#39;t lose its runtime type when it&#39;s added to the collection, if that&#39;s what you&#39;re asking.","body":"@PJ_Finnegan: Casting only matters when you&#39;re immediately acting on an object. It doesn&#39;t lose its runtime type when it&#39;s added to the collection, if that&#39;s what you&#39;re asking."}],"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":16,"down_vote_count":2,"up_vote_count":1035,"is_accepted":true,"score":1033,"last_activity_date":1609610845,"creation_date":1272389846,"answer_id":2723538,"question_id":2723397,"body_markdown":"**tl;dr:** &quot;PECS&quot; is from the collection&#39;s point of view. If you are *only* pulling items from a generic collection, it is a producer and you should use `extends`; if you are *only* stuffing items in, it is a consumer and you should use `super`. If you do both with the same collection, you shouldn&#39;t use either `extends` or `super`.\r\n\r\n---\r\n\r\nSuppose you have a method that takes as its parameter a collection of things, but you want it to be more flexible than just accepting a `Collection&lt;Thing&gt;`.\r\n\r\n**Case 1: You want to go through the collection and do things with each item.**  \r\nThen the list is a **producer**, so you should use a `Collection&lt;? extends Thing&gt;`.\r\n\r\nThe reasoning is that a `Collection&lt;? extends Thing&gt;` could hold any subtype of `Thing`, and thus each element will behave as a `Thing` when you perform your operation. (You actually cannot add anything (except null) to a `Collection&lt;? extends Thing&gt;`, because you cannot know at runtime which *specific* subtype of `Thing` the collection holds.)\r\n\r\n**Case 2: You want to add things to the collection.**  \r\nThen the list is a **consumer**, so you should use a `Collection&lt;? super Thing&gt;`.\r\n\r\nThe reasoning here is that unlike `Collection&lt;? extends Thing&gt;`, `Collection&lt;? super Thing&gt;` can always hold a `Thing` no matter what the actual parameterized type is. Here you don&#39;t care what is already in the list as long as it will allow a `Thing` to be added; this is what `? super Thing` guarantees.","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p><strong>tl;dr:</strong> &quot;PECS&quot; is from the collection's point of view. If you are <em>only</em> pulling items from a generic collection, it is a producer and you should use <code>extends</code>; if you are <em>only</em> stuffing items in, it is a consumer and you should use <code>super</code>. If you do both with the same collection, you shouldn't use either <code>extends</code> or <code>super</code>.</p>\n<hr />\n<p>Suppose you have a method that takes as its parameter a collection of things, but you want it to be more flexible than just accepting a <code>Collection&lt;Thing&gt;</code>.</p>\n<p><strong>Case 1: You want to go through the collection and do things with each item.</strong><br />\nThen the list is a <strong>producer</strong>, so you should use a <code>Collection&lt;? extends Thing&gt;</code>.</p>\n<p>The reasoning is that a <code>Collection&lt;? extends Thing&gt;</code> could hold any subtype of <code>Thing</code>, and thus each element will behave as a <code>Thing</code> when you perform your operation. (You actually cannot add anything (except null) to a <code>Collection&lt;? extends Thing&gt;</code>, because you cannot know at runtime which <em>specific</em> subtype of <code>Thing</code> the collection holds.)</p>\n<p><strong>Case 2: You want to add things to the collection.</strong><br />\nThen the list is a <strong>consumer</strong>, so you should use a <code>Collection&lt;? super Thing&gt;</code>.</p>\n<p>The reasoning here is that unlike <code>Collection&lt;? extends Thing&gt;</code>, <code>Collection&lt;? super Thing&gt;</code> can always hold a <code>Thing</code> no matter what the actual parameterized type is. Here you don't care what is already in the list as long as it will allow a <code>Thing</code> to be added; this is what <code>? super Thing</code> guarantees.</p>\n"},{"comments":[{"owner":{"account_id":281630,"reputation":4230,"user_id":578046,"accept_rate":45,"display_name":"Saurabh Patil"},"score":0,"creation_date":1464580068,"post_id":19231762,"comment_id":62527918,"body_markdown":"So &quot;? extends B&quot; should be interpreted as &quot;? B extends&quot;. It&#39;s something that B extends so that would include all the super classes of B up to Object, excluding B itself. Thanks for the code!","body":"So &quot;? extends B&quot; should be interpreted as &quot;? B extends&quot;. It&#39;s something that B extends so that would include all the super classes of B up to Object, excluding B itself. Thanks for the code!"},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":4,"creation_date":1475043373,"post_id":19231762,"comment_id":66776273,"body_markdown":"@SaurabhPatil No, `? extends B` means B and anything extending B.","body":"@SaurabhPatil No, <code>? extends B</code> means B and anything extending B."},{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":0,"creation_date":1647845020,"post_id":19231762,"comment_id":126464087,"body_markdown":"What is the significance of the lines marked &quot;does not compile&quot;? My understanding is that we cannot add anything other than null to an &quot;extends&quot; list.; we cannot add As or Bs or Cs. CoVarience might be demonstrated by the failure to compile C c = myBlist.get(0); Similarly in the Contrvarience methos all gets fail except assignment to Object. Failure to a add an A demonstrates Contravarience.","body":"What is the significance of the lines marked &quot;does not compile&quot;? My understanding is that we cannot add anything other than null to an &quot;extends&quot; list.; we cannot add As or Bs or Cs. CoVarience might be demonstrated by the failure to compile C c = myBlist.get(0); Similarly in the Contrvarience methos all gets fail except assignment to Object. Failure to a add an A demonstrates Contravarience."},{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":0,"creation_date":1647845244,"post_id":19231762,"comment_id":126464136,"body_markdown":"Downvoted because there is no explanation and as the example stands I think it does not demonstrate what it tries to demonstrate. Happy to upvote if an explanation is added.","body":"Downvoted because there is no explanation and as the example stands I think it does not demonstrate what it tries to demonstrate. Happy to upvote if an explanation is added."}],"tags":[],"owner":{"account_id":2386830,"reputation":7918,"user_id":2087640,"accept_rate":82,"display_name":"Gab"},"comment_count":4,"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1381169713,"creation_date":1381169713,"answer_id":19231762,"question_id":2723397,"body_markdown":"    public class Test {\r\n    \r\n    \tpublic class A {}\r\n    \r\n    \tpublic class B extends A {}\r\n    \r\n    \tpublic class C extends B {}\r\n    \r\n    \tpublic void testCoVariance(List&lt;? extends B&gt; myBlist) {\r\n    \t\tB b = new B();\r\n    \t\tC c = new C();\r\n    \t\tmyBlist.add(b); // does not compile\r\n    \t\tmyBlist.add(c); // does not compile\r\n    \t\tA a = myBlist.get(0); \r\n    \t}\r\n    \t\r\n    \tpublic void testContraVariance(List&lt;? super B&gt; myBlist) {\r\n    \t\tB b = new B();\r\n    \t\tC c = new C();\r\n    \t\tmyBlist.add(b);\r\n    \t\tmyBlist.add(c);\r\n    \t\tA a = myBlist.get(0); // does not compile\r\n    \t}\r\n    }","title":"What is PECS (Producer Extends Consumer Super)?","body":"<pre><code>public class Test {\n\n    public class A {}\n\n    public class B extends A {}\n\n    public class C extends B {}\n\n    public void testCoVariance(List&lt;? extends B&gt; myBlist) {\n        B b = new B();\n        C c = new C();\n        myBlist.add(b); // does not compile\n        myBlist.add(c); // does not compile\n        A a = myBlist.get(0); \n    }\n\n    public void testContraVariance(List&lt;? super B&gt; myBlist) {\n        B b = new B();\n        C c = new C();\n        myBlist.add(b);\n        myBlist.add(c);\n        A a = myBlist.get(0); // does not compile\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":197,"creation_date":1402873898,"post_id":19739576,"comment_id":37428574,"body_markdown":"Hey everyone. I&#39;m Andrey Tyukin, I just wanted to confirm that anoopelias &amp; DaoWen contacted me and obtained my permission to use the sketch, it&#39;s licensed under (CC)-BY-SA.\nThx @ Anoop for giving it a second life^^\n\n@Brian Agnew: (on &quot;few votes&quot;): That&#39;s because it&#39;s a sketch for Scala, it uses Scala syntax and assumes declaration-site variance, which is quite different to Java&#39;s weird call-site variance... Maybe I should write a more detailed answer that clearly shows how this sketch applies to Java...","body":"Hey everyone. I&#39;m Andrey Tyukin, I just wanted to confirm that anoopelias &amp; DaoWen contacted me and obtained my permission to use the sketch, it&#39;s licensed under (CC)-BY-SA. Thx @ Anoop for giving it a second life^^  @Brian Agnew: (on &quot;few votes&quot;): That&#39;s because it&#39;s a sketch for Scala, it uses Scala syntax and assumes declaration-site variance, which is quite different to Java&#39;s weird call-site variance... Maybe I should write a more detailed answer that clearly shows how this sketch applies to Java..."},{"owner":{"account_id":1343420,"reputation":594,"user_id":1284618,"accept_rate":38,"display_name":"cs4r"},"score":4,"creation_date":1493642152,"post_id":19739576,"comment_id":74481670,"body_markdown":"This is one of the simplest and clearest explanations for Covariance and Contravariance that I have ever found!","body":"This is one of the simplest and clearest explanations for Covariance and Contravariance that I have ever found!"},{"owner":{"account_id":7354018,"reputation":9583,"user_id":5599298,"accept_rate":100,"display_name":"slouc"},"score":0,"creation_date":1496390813,"post_id":19739576,"comment_id":75652436,"body_markdown":"@Andrey Tyukin Hi, I also want to use this image. How can I contact you?","body":"@Andrey Tyukin Hi, I also want to use this image. How can I contact you?"},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1496423777,"post_id":19739576,"comment_id":75672256,"body_markdown":"If you have any questions about this illustration, we can discuss them in the chatroom:\nhttps://chat.stackoverflow.com/rooms/145734/covariance-contravariance-illustration","body":"If you have any questions about this illustration, we can discuss them in the chatroom: <a href=\"https://chat.stackoverflow.com/rooms/145734/covariance-contravariance-illustration\">chat.stackoverflow.com/rooms/145734/&hellip;</a>"},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":6,"creation_date":1519002735,"post_id":19739576,"comment_id":84720120,"body_markdown":"I finally added an [explanation for Scala&#39;s notions of covariance and contravariance, with a detailed explanation and compilable code](https://stackoverflow.com/questions/48812254/how-to-check-covariant-and-contravariant-position-of-an-element-in-the-function/48858344#48858344).","body":"I finally added an <a href=\"https://stackoverflow.com/questions/48812254/how-to-check-covariant-and-contravariant-position-of-an-element-in-the-function/48858344#48858344\">explanation for Scala&#39;s notions of covariance and contravariance, with a detailed explanation and compilable code</a>."},{"owner":{"account_id":3311832,"reputation":390,"user_id":2785156,"accept_rate":17,"display_name":"Chetan Gowda"},"score":1,"creation_date":1526895522,"post_id":19739576,"comment_id":87905379,"body_markdown":"Can someone explain the use/application of &lt;? super MyClass&gt;. Because you can put MyClass and its subclass objects into it, but if you want to take out stuff from that collection. They can be taken out only as Objects.","body":"Can someone explain the use/application of &lt;? super MyClass&gt;. Because you can put MyClass and its subclass objects into it, but if you want to take out stuff from that collection. They can be taken out only as Objects."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1533988718,"post_id":19739576,"comment_id":90555259,"body_markdown":"@ChetanGowda Here is a rather detailed example that explains why `&lt;? super X&gt;` is useful, and what happens if you omit it: [Java 8 Comparator `comparing()` static function](https://stackoverflow.com/a/49124661/2707792).","body":"@ChetanGowda Here is a rather detailed example that explains why <code>&lt;? super X&gt;</code> is useful, and what happens if you omit it: <a href=\"https://stackoverflow.com/a/49124661/2707792\">Java 8 Comparator <code>comparing()</code> static function</a>."},{"owner":{"account_id":46020,"reputation":2539,"user_id":135845,"display_name":"Eric"},"score":0,"creation_date":1589993981,"post_id":19739576,"comment_id":109515512,"body_markdown":"Are the angle brackets directional or comparative?","body":"Are the angle brackets directional or comparative?"}],"tags":[],"owner":{"account_id":1399922,"reputation":9340,"user_id":1328888,"accept_rate":78,"display_name":"anoopelias"},"comment_count":8,"down_vote_count":3,"up_vote_count":677,"is_accepted":false,"score":674,"last_activity_date":1622275448,"creation_date":1383374078,"answer_id":19739576,"question_id":2723397,"body_markdown":"The principles behind this in computer science is called\r\n\r\n - Covariance: `? extends MyClass`,\r\n - Contravariance: `? super MyClass` and\r\n - Invariance/non-variance: `MyClass`\r\n\r\nThe picture below should explain the concept. \r\nPicture courtesy: [Andrey Tyukin][2]\r\n\r\n![Covariance vs Contravariance][1]\r\n\r\n  [1]: http://i.stack.imgur.com/KjDLw.png\r\n  [2]: https://stackoverflow.com/users/2707792/andrey-tyukin\r\n","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>The principles behind this in computer science is called</p>\n<ul>\n<li>Covariance: <code>? extends MyClass</code>,</li>\n<li>Contravariance: <code>? super MyClass</code> and</li>\n<li>Invariance/non-variance: <code>MyClass</code></li>\n</ul>\n<p>The picture below should explain the concept.\nPicture courtesy: <a href=\"https://stackoverflow.com/users/2707792/andrey-tyukin\">Andrey Tyukin</a></p>\n<p><img src=\"https://i.stack.imgur.com/KjDLw.png\" alt=\"Covariance vs Contravariance\" /></p>\n"},{"tags":[],"owner":{"account_id":2596160,"reputation":1526,"user_id":2249812,"accept_rate":67,"display_name":"Pradeep Kr Kaushal"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1547893796,"creation_date":1415861484,"answer_id":26902970,"question_id":2723397,"body_markdown":"In a nutshell, three easy rules to remember PECS: \r\n\r\n 1. Use the `&lt;? extends T&gt;` wildcard if you need to retrieve object of\r\n    type `T` from a collection.\r\n 2. Use the `&lt;? super T&gt;` wildcard if you need to put objects of type `T` in\r\n    a collection.\r\n 3. If you need to satisfy both things, well, don’t use any wildcard. As\r\n    simple as that.\r\n","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>In a nutshell, three easy rules to remember PECS: </p>\n\n<ol>\n<li>Use the <code>&lt;? extends T&gt;</code> wildcard if you need to retrieve object of\ntype <code>T</code> from a collection.</li>\n<li>Use the <code>&lt;? super T&gt;</code> wildcard if you need to put objects of type <code>T</code> in\na collection.</li>\n<li>If you need to satisfy both things, well, don’t use any wildcard. As\nsimple as that.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"score":0,"creation_date":1524982373,"post_id":31634364,"comment_id":87183484,"body_markdown":"Hey, I just wanted to know what you meant with the last sentense: &quot;If you think my analogy is wrong please update&quot;. Do you mean if it is ethically wrong (which is subjective) or if it is wrong in the context of programming (which is objective: no, it&#39;s not wrong)? I would like to replace it with a more neutral example which is universally acceptable independent of cultural norms and ethical believes; If that is OK with you.","body":"Hey, I just wanted to know what you meant with the last sentense: &quot;If you think my analogy is wrong please update&quot;. Do you mean if it is ethically wrong (which is subjective) or if it is wrong in the context of programming (which is objective: no, it&#39;s not wrong)? I would like to replace it with a more neutral example which is universally acceptable independent of cultural norms and ethical believes; If that is OK with you."},{"owner":{"account_id":5730547,"reputation":789,"user_id":4526235,"accept_rate":72,"display_name":"Oleg Kuts"},"score":0,"creation_date":1555072579,"post_id":31634364,"comment_id":97992043,"body_markdown":"at last I could get it. Nice explanation.","body":"at last I could get it. Nice explanation."},{"owner":{"account_id":455161,"reputation":1236,"user_id":853191,"accept_rate":25,"display_name":"LiuWenbin_NO."},"score":2,"creation_date":1558065908,"post_id":31634364,"comment_id":98984776,"body_markdown":"@Premraj, `In-variance/Non-variance: ? or ? extends Object - Unbounded Wildcard. It stands for the family of all types. Use when you both get and put.`, I cannot add element to List&lt;?&gt; or List&lt;? extends Object&gt;, so I don&#39;t understand why it can be `Use when you both get and put`.","body":"@Premraj, <code>In-variance&#47;Non-variance: ? or ? extends Object - Unbounded Wildcard. It stands for the family of all types. Use when you both get and put.</code>, I cannot add element to List&lt;?&gt; or List&lt;? extends Object&gt;, so I don&#39;t understand why it can be <code>Use when you both get and put</code>."},{"owner":{"account_id":15396867,"reputation":294,"user_id":11107679,"display_name":"mouselabs"},"score":1,"creation_date":1587062381,"post_id":31634364,"comment_id":108369078,"body_markdown":"@LiuWenbin_NO. - That part of the answer is misleading. `?` - the &quot;unbounded wildcard&quot; - corresponds with the exact opposite of invariance. Please refer to the following documentation: https://docs.oracle.com/javase/tutorial/java/generics/wildcardGuidelines.html which states: _In the case where the code needs to access the variable as both an &quot;in&quot; and an &quot;out&quot; variable, do not use a wildcard._ (They are using &quot;in&quot; and &quot;out&quot; as synonymous with &quot;get&quot; and &quot;put&quot;). With the exception of `null` you can&#39;t add  to a Collection parameterized with `?`.","body":"@LiuWenbin_NO. - That part of the answer is misleading. <code>?</code> - the &quot;unbounded wildcard&quot; - corresponds with the exact opposite of invariance. Please refer to the following documentation: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/wildcardGuidelines.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/&hellip;</a> which states: <i>In the case where the code needs to access the variable as both an &quot;in&quot; and an &quot;out&quot; variable, do not use a wildcard.</i> (They are using &quot;in&quot; and &quot;out&quot; as synonymous with &quot;get&quot; and &quot;put&quot;). With the exception of <code>null</code> you can&#39;t add  to a Collection parameterized with <code>?</code>."},{"owner":{"account_id":1875874,"reputation":71921,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"score":0,"creation_date":1623950229,"post_id":31634364,"comment_id":120230064,"body_markdown":"https://stackoverflow.com/a/1368212/1697099 for more","body":"<a href=\"https://stackoverflow.com/a/1368212/1697099\">stackoverflow.com/a/1368212/1697099</a> for more"}],"tags":[],"owner":{"account_id":1875874,"reputation":71921,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"comment_count":5,"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1649471648,"creation_date":1437892429,"answer_id":31634364,"question_id":2723397,"body_markdown":"&gt;When dealing with collections, a common rule for selecting between upper or lower bounded wildcards is PECS. [credit][1]\r\n\r\nPECS (Producer `extends` and Consumer `super`) \r\n\r\nmnemonic → Ge**t** (ex**t**end) and P**u**t (S**u**per) principle.  \r\n\r\n- This **principle** states that:\r\n \r\n  - Use an `extends` wildcard when you only get values out of a structure.\r\n  - Use a `super` wildcard when you only put values into a structure.\r\n  - And don’t use a wildcard when you both get and put.\r\n\r\n\r\n\r\nExample in Java:\r\n\r\n    class Super {\r\n            Number testCoVariance() {\r\n                return null;\r\n            }\r\n            void testContraVariance(Number parameter) {\r\n            } \r\n        }\r\n        \r\n        class Sub extends Super {\r\n            @Override\r\n            Integer testCoVariance() {\r\n                return null;\r\n            } //compiles successfully i.e. return type is don&#39;t care(Integer is subtype of Number)\r\n            @Override\r\n            void testContraVariance(Integer parameter) {\r\n            } //doesn&#39;t support even though Integer is subtype of Number\r\n        }\r\n\r\nThe Liskov Substitution Principle (LSP) states that “**objects in a program should be replaceable with instances of their subtypes without altering the correctness of that program**”. \r\n\r\nWithin the type system of a programming language, a typing rule   \r\n\r\n- **covariant** if it preserves the ordering of types (≤), which orders types from more specific to more generic;\r\n- **contravariant** if it reverses this ordering;\r\n- **invariant** or nonvariant if neither of these applies.\r\n\r\n[Covariance and contravariance][2]\r\n\r\n- Read-only data types (sources) can be **[covariant][3]**; \r\n- write-only data types (sinks) can be **contravariant**. \r\n- Mutable data types which act as both sources and sinks should be **invariant**. \r\n\r\nTo illustrate this general phenomenon, consider the array type. For the type Animal we can make the type Animal[]  \r\n\r\n- **covariant**: a Cat[] is an Animal[];\r\n- **contravariant**: an Animal[] is a Cat[];\r\n- **invariant**: an Animal[] is not a Cat[] and a Cat[] is not an Animal[].\r\n\r\nJava Examples:\r\n\r\n\r\n    Object name= new String(&quot;prem&quot;); //works\r\n    List&lt;Number&gt; numbers = new ArrayList&lt;Integer&gt;();//gets compile time error\r\n    \r\n    Integer[] myInts = {1,2,3,4};\r\n    Number[] myNumber = myInts;\r\n    myNumber[0] = 3.14; //attempt of heap pollution i.e. at runtime gets java.lang.ArrayStoreException: java.lang.Double(we can fool compiler but not run-time)\r\n\r\n    List&lt;String&gt; list=new ArrayList&lt;&gt;();\r\n    list.add(&quot;prem&quot;);\r\n    List&lt;Object&gt; listObject=list; //Type mismatch: cannot convert from List&lt;String&gt; to List&lt;Object&gt; at Compiletime  \r\n\r\n[more examples][4] \r\n\r\n[![enter image description here][5]][5] [Image src][6]\r\n\r\n \r\n\r\n\r\n**bounded**(i.e. heading toward somewhere) **wildcard** : There are 3 different flavours of wildcards:   \r\n\r\n -  In-variance/Non-variance: `?` or `? extends Object` - **Unbounded** Wildcard. It stands for the family of  all types. Use when you both get and put.\r\n -  Co-variance: `? extends T` ( Reign of `T` descendants)  - a wildcard with an **upper bound**. `T` is the **upper**-most class in the inheritance hierarchy. Use an `extends` wildcard when you only **Get** values out of a structure. \r\n -  Contra-variance: `? super T` ( Reign of `T` ancestor)  - a wildcard with a **lower bound**. `T` is the **lower**-most class in the inheritance hierarchy. Use a `super` wildcard when you only **Put** values into a structure.\r\n\r\nNote: wildcard `?` means **zero or one time**, represents an **unknown type**. The wildcard can be used as the type of a parameter, never used as a type argument for a generic method invocation, a generic class instance creation.(i.e. when used wildcard that reference not used in elsewhere in program like we use `T`)\r\n\r\n[![enter image description here][7]][7]\r\n\r\n  \r\n\r\n     import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    class Shape { void draw() {}}\r\n    \r\n    class Circle extends Shape {void draw() {}}\r\n    \r\n    class Square extends Shape {void draw() {}}\r\n    \r\n    class Rectangle extends Shape {void draw() {}}\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            //? extends Shape i.e. can use any sub type of Shape, here Shape is Upper Bound in inheritance hierarchy\r\n            List&lt;? extends Shape&gt; intList5 = new ArrayList&lt;Shape&gt;();\r\n            List&lt;? extends Shape&gt; intList6 = new ArrayList&lt;Cricle&gt;();\r\n            List&lt;? extends Shape&gt; intList7 = new ArrayList&lt;Rectangle&gt;();\r\n            List&lt;? extends Shape&gt; intList9 = new ArrayList&lt;Object&gt;();//ERROR.\r\n    \r\n    \r\n            //? super Shape i.e. can use any super type of Shape, here Shape is Lower Bound in inheritance hierarchy\r\n            List&lt;? super Shape&gt; inList5 = new ArrayList&lt;Shape&gt;();\r\n            List&lt;? super Shape&gt; inList6 = new ArrayList&lt;Object&gt;();\r\n            List&lt;? super Shape&gt; inList7 = new ArrayList&lt;Circle&gt;(); //ERROR.\r\n    \r\n            //-----------------------------------------------------------\r\n            Circle circle = new Circle();\r\n            Shape shape = circle; // OK. Circle IS-A Shape\r\n    \r\n            List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\r\n            List&lt;Shape&gt; shapes = circles; // ERROR. List&lt;Circle&gt; is not subtype of List&lt;Shape&gt; even when Circle IS-A Shape\r\n    \r\n            List&lt;? extends Circle&gt; circles2 = new ArrayList&lt;&gt;();\r\n            List&lt;? extends Shape&gt; shapes2 = circles2; // OK. List&lt;? extends Circle&gt; is subtype of List&lt;? extends Shape&gt;\r\n    \r\n    \r\n            //-----------------------------------------------------------\r\n            Shape shape2 = new Shape();\r\n            Circle circle2= (Circle) shape2; // OK. with type casting\r\n    \r\n            List&lt;Shape&gt; shapes3 = new ArrayList&lt;&gt;();\r\n            List&lt;Circle&gt; circles3 = shapes3; //ERROR. List&lt;Circle&gt; is not subtype of  List&lt;Shape&gt; even Circle is subetype of Shape\r\n    \r\n            List&lt;? super Shape&gt; shapes4 = new ArrayList&lt;&gt;();\r\n            List&lt;? super Circle&gt; circles4 = shapes4; //OK.\r\n        }\r\n    \r\n        \r\n        \r\n        /*\r\n         * Example for an upper bound wildcard (Get values i.e Producer `extends`)\r\n         *\r\n         * */\r\n        public void testCoVariance(List&lt;? extends Shape&gt; list) {\r\n            list.add(new Object());//ERROR\r\n            list.add(new Shape()); //ERROR\r\n            list.add(new Circle()); // ERROR\r\n            list.add(new Square()); // ERROR\r\n            list.add(new Rectangle()); // ERROR\r\n            Shape shape= list.get(0);//OK so list act as produces only\r\n        /*\r\n         * You can&#39;t add a Shape,Circle,Square,Rectangle to a List&lt;? extends Shape&gt;\r\n         * You can get an object and know that it will be an Shape\r\n         */\r\n        }\r\n        \r\n        \r\n        /*\r\n         * Example for  a lower bound wildcard (Put values i.e Consumer`super`)\r\n         * */\r\n        public void testContraVariance(List&lt;? super Shape&gt; list) {\r\n            list.add(new Object());//ERROR\r\n            list.add(new Shape());//OK\r\n            list.add(new Circle());//OK\r\n            list.add(new Square());//OK\r\n            list.add(new Rectangle());//OK\r\n            Shape shape= list.get(0); // ERROR. Type mismatch, so list acts only as consumer\r\n            Object object= list.get(0); //OK gets an object, but we don&#39;t know what kind of Object it is.\r\n            /*\r\n             * You can add a Shape,Circle,Square,Rectangle to a List&lt;? super Shape&gt;\r\n             * You can&#39;t get an Shape(but can get Object) and don&#39;t know what kind of Shape it is.\r\n             */\r\n        }\r\n    }\r\n\r\n[generics][8] and [examples][9]\r\n\r\n\r\n[Covariance and contravariance][10] determine compatibility based on types. In either case, variance is a directed relation. Covariance can be translated as &quot;**different in the same direction**,&quot; or with-different, whereas contravariance means &quot;**different in the opposite direction**,&quot; or against-different. Covariant and contravariant types are not the same, but there is a correlation between them. The names imply the direction of the correlation.\r\n\r\n\r\nhttps://stackoverflow.com/a/54576828/1697099  \r\nhttps://stackoverflow.com/a/64888058/1697099\r\n\r\n - Covariance: accept subtypes (read only i.e. Producer) \r\n - Contravariance: accept supertypes (write only i.e. Consumer)\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-generics-interview-questions#q13-when-would-you-choose-to-use-a-lower-bounded-type-vs-an-upper-bounded-type\r\n  [2]: https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)\r\n  [3]: https://en.m.wikipedia.org/wiki/Covariant_return_type\r\n  [4]: http://www.codejava.net/java-core/collections/generics-with-subtyping-and-the-substitution-principle\r\n  [5]: https://i.stack.imgur.com/KoW5X.png\r\n  [6]: https://www.mathsisfun.com/definitions/bounds.html\r\n  [7]: http://i.stack.imgur.com/ki1Kf.jpg\r\n  [8]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeArguments.html\r\n  [9]: http://www.codejava.net/java-core/collections/generics-with-extends-and-super-wildcards-and-the-get-and-put-principle\r\n  [10]: https://www.infoworld.com/article/3172592/type-dependency-in-java-part-1.html","title":"What is PECS (Producer Extends Consumer Super)?","body":"<blockquote>\n<p>When dealing with collections, a common rule for selecting between upper or lower bounded wildcards is PECS. <a href=\"https://www.baeldung.com/java-generics-interview-questions#q13-when-would-you-choose-to-use-a-lower-bounded-type-vs-an-upper-bounded-type\" rel=\"noreferrer\">credit</a></p>\n</blockquote>\n<p>PECS (Producer <code>extends</code> and Consumer <code>super</code>)</p>\n<p>mnemonic → Ge<strong>t</strong> (ex<strong>t</strong>end) and P<strong>u</strong>t (S<strong>u</strong>per) principle.</p>\n<ul>\n<li><p>This <strong>principle</strong> states that:</p>\n<ul>\n<li>Use an <code>extends</code> wildcard when you only get values out of a structure.</li>\n<li>Use a <code>super</code> wildcard when you only put values into a structure.</li>\n<li>And don’t use a wildcard when you both get and put.</li>\n</ul>\n</li>\n</ul>\n<p>Example in Java:</p>\n<pre><code>class Super {\n        Number testCoVariance() {\n            return null;\n        }\n        void testContraVariance(Number parameter) {\n        } \n    }\n    \n    class Sub extends Super {\n        @Override\n        Integer testCoVariance() {\n            return null;\n        } //compiles successfully i.e. return type is don't care(Integer is subtype of Number)\n        @Override\n        void testContraVariance(Integer parameter) {\n        } //doesn't support even though Integer is subtype of Number\n    }\n</code></pre>\n<p>The Liskov Substitution Principle (LSP) states that “<strong>objects in a program should be replaceable with instances of their subtypes without altering the correctness of that program</strong>”.</p>\n<p>Within the type system of a programming language, a typing rule</p>\n<ul>\n<li><strong>covariant</strong> if it preserves the ordering of types (≤), which orders types from more specific to more generic;</li>\n<li><strong>contravariant</strong> if it reverses this ordering;</li>\n<li><strong>invariant</strong> or nonvariant if neither of these applies.</li>\n</ul>\n<p><a href=\"https://en.wikipedia.org/wiki/Covariance_and_contravariance_(computer_science)\" rel=\"noreferrer\">Covariance and contravariance</a></p>\n<ul>\n<li>Read-only data types (sources) can be <strong><a href=\"https://en.m.wikipedia.org/wiki/Covariant_return_type\" rel=\"noreferrer\">covariant</a></strong>;</li>\n<li>write-only data types (sinks) can be <strong>contravariant</strong>.</li>\n<li>Mutable data types which act as both sources and sinks should be <strong>invariant</strong>.</li>\n</ul>\n<p>To illustrate this general phenomenon, consider the array type. For the type Animal we can make the type Animal[]</p>\n<ul>\n<li><strong>covariant</strong>: a Cat[] is an Animal[];</li>\n<li><strong>contravariant</strong>: an Animal[] is a Cat[];</li>\n<li><strong>invariant</strong>: an Animal[] is not a Cat[] and a Cat[] is not an Animal[].</li>\n</ul>\n<p>Java Examples:</p>\n<pre><code>Object name= new String(&quot;prem&quot;); //works\nList&lt;Number&gt; numbers = new ArrayList&lt;Integer&gt;();//gets compile time error\n\nInteger[] myInts = {1,2,3,4};\nNumber[] myNumber = myInts;\nmyNumber[0] = 3.14; //attempt of heap pollution i.e. at runtime gets java.lang.ArrayStoreException: java.lang.Double(we can fool compiler but not run-time)\n\nList&lt;String&gt; list=new ArrayList&lt;&gt;();\nlist.add(&quot;prem&quot;);\nList&lt;Object&gt; listObject=list; //Type mismatch: cannot convert from List&lt;String&gt; to List&lt;Object&gt; at Compiletime  \n</code></pre>\n<p><a href=\"http://www.codejava.net/java-core/collections/generics-with-subtyping-and-the-substitution-principle\" rel=\"noreferrer\">more examples</a></p>\n<p><a href=\"https://i.stack.imgur.com/KoW5X.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KoW5X.png\" alt=\"enter image description here\" /></a> <a href=\"https://www.mathsisfun.com/definitions/bounds.html\" rel=\"noreferrer\">Image src</a></p>\n<p><strong>bounded</strong>(i.e. heading toward somewhere) <strong>wildcard</strong> : There are 3 different flavours of wildcards:</p>\n<ul>\n<li>In-variance/Non-variance: <code>?</code> or <code>? extends Object</code> - <strong>Unbounded</strong> Wildcard. It stands for the family of  all types. Use when you both get and put.</li>\n<li>Co-variance: <code>? extends T</code> ( Reign of <code>T</code> descendants)  - a wildcard with an <strong>upper bound</strong>. <code>T</code> is the <strong>upper</strong>-most class in the inheritance hierarchy. Use an <code>extends</code> wildcard when you only <strong>Get</strong> values out of a structure.</li>\n<li>Contra-variance: <code>? super T</code> ( Reign of <code>T</code> ancestor)  - a wildcard with a <strong>lower bound</strong>. <code>T</code> is the <strong>lower</strong>-most class in the inheritance hierarchy. Use a <code>super</code> wildcard when you only <strong>Put</strong> values into a structure.</li>\n</ul>\n<p>Note: wildcard <code>?</code> means <strong>zero or one time</strong>, represents an <strong>unknown type</strong>. The wildcard can be used as the type of a parameter, never used as a type argument for a generic method invocation, a generic class instance creation.(i.e. when used wildcard that reference not used in elsewhere in program like we use <code>T</code>)</p>\n<p><a href=\"https://i.stack.imgur.com/ki1Kf.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ki1Kf.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code> import java.util.ArrayList;\nimport java.util.List;\n\nclass Shape { void draw() {}}\n\nclass Circle extends Shape {void draw() {}}\n\nclass Square extends Shape {void draw() {}}\n\nclass Rectangle extends Shape {void draw() {}}\n\npublic class Test {\n\n    public static void main(String[] args) {\n        //? extends Shape i.e. can use any sub type of Shape, here Shape is Upper Bound in inheritance hierarchy\n        List&lt;? extends Shape&gt; intList5 = new ArrayList&lt;Shape&gt;();\n        List&lt;? extends Shape&gt; intList6 = new ArrayList&lt;Cricle&gt;();\n        List&lt;? extends Shape&gt; intList7 = new ArrayList&lt;Rectangle&gt;();\n        List&lt;? extends Shape&gt; intList9 = new ArrayList&lt;Object&gt;();//ERROR.\n\n\n        //? super Shape i.e. can use any super type of Shape, here Shape is Lower Bound in inheritance hierarchy\n        List&lt;? super Shape&gt; inList5 = new ArrayList&lt;Shape&gt;();\n        List&lt;? super Shape&gt; inList6 = new ArrayList&lt;Object&gt;();\n        List&lt;? super Shape&gt; inList7 = new ArrayList&lt;Circle&gt;(); //ERROR.\n\n        //-----------------------------------------------------------\n        Circle circle = new Circle();\n        Shape shape = circle; // OK. Circle IS-A Shape\n\n        List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\n        List&lt;Shape&gt; shapes = circles; // ERROR. List&lt;Circle&gt; is not subtype of List&lt;Shape&gt; even when Circle IS-A Shape\n\n        List&lt;? extends Circle&gt; circles2 = new ArrayList&lt;&gt;();\n        List&lt;? extends Shape&gt; shapes2 = circles2; // OK. List&lt;? extends Circle&gt; is subtype of List&lt;? extends Shape&gt;\n\n\n        //-----------------------------------------------------------\n        Shape shape2 = new Shape();\n        Circle circle2= (Circle) shape2; // OK. with type casting\n\n        List&lt;Shape&gt; shapes3 = new ArrayList&lt;&gt;();\n        List&lt;Circle&gt; circles3 = shapes3; //ERROR. List&lt;Circle&gt; is not subtype of  List&lt;Shape&gt; even Circle is subetype of Shape\n\n        List&lt;? super Shape&gt; shapes4 = new ArrayList&lt;&gt;();\n        List&lt;? super Circle&gt; circles4 = shapes4; //OK.\n    }\n\n    \n    \n    /*\n     * Example for an upper bound wildcard (Get values i.e Producer `extends`)\n     *\n     * */\n    public void testCoVariance(List&lt;? extends Shape&gt; list) {\n        list.add(new Object());//ERROR\n        list.add(new Shape()); //ERROR\n        list.add(new Circle()); // ERROR\n        list.add(new Square()); // ERROR\n        list.add(new Rectangle()); // ERROR\n        Shape shape= list.get(0);//OK so list act as produces only\n    /*\n     * You can't add a Shape,Circle,Square,Rectangle to a List&lt;? extends Shape&gt;\n     * You can get an object and know that it will be an Shape\n     */\n    }\n    \n    \n    /*\n     * Example for  a lower bound wildcard (Put values i.e Consumer`super`)\n     * */\n    public void testContraVariance(List&lt;? super Shape&gt; list) {\n        list.add(new Object());//ERROR\n        list.add(new Shape());//OK\n        list.add(new Circle());//OK\n        list.add(new Square());//OK\n        list.add(new Rectangle());//OK\n        Shape shape= list.get(0); // ERROR. Type mismatch, so list acts only as consumer\n        Object object= list.get(0); //OK gets an object, but we don't know what kind of Object it is.\n        /*\n         * You can add a Shape,Circle,Square,Rectangle to a List&lt;? super Shape&gt;\n         * You can't get an Shape(but can get Object) and don't know what kind of Shape it is.\n         */\n    }\n}\n</code></pre>\n<p><a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeArguments.html\" rel=\"noreferrer\">generics</a> and <a href=\"http://www.codejava.net/java-core/collections/generics-with-extends-and-super-wildcards-and-the-get-and-put-principle\" rel=\"noreferrer\">examples</a></p>\n<p><a href=\"https://www.infoworld.com/article/3172592/type-dependency-in-java-part-1.html\" rel=\"noreferrer\">Covariance and contravariance</a> determine compatibility based on types. In either case, variance is a directed relation. Covariance can be translated as &quot;<strong>different in the same direction</strong>,&quot; or with-different, whereas contravariance means &quot;<strong>different in the opposite direction</strong>,&quot; or against-different. Covariant and contravariant types are not the same, but there is a correlation between them. The names imply the direction of the correlation.</p>\n<p><a href=\"https://stackoverflow.com/a/54576828/1697099\">https://stackoverflow.com/a/54576828/1697099</a><br />\n<a href=\"https://stackoverflow.com/a/64888058/1697099\">https://stackoverflow.com/a/64888058/1697099</a></p>\n<ul>\n<li>Covariance: accept subtypes (read only i.e. Producer)</li>\n<li>Contravariance: accept supertypes (write only i.e. Consumer)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1495044742,"creation_date":1495044742,"answer_id":44032098,"question_id":2723397,"body_markdown":"(adding an answer because never enough examples with Generics wildcards)\r\n\r\n           // Source \r\n           List&lt;Integer&gt; intList = Arrays.asList(1,2,3);\r\n           List&lt;Double&gt; doubleList = Arrays.asList(2.78,3.14);\r\n           List&lt;Number&gt; numList = Arrays.asList(1,2,2.78,3.14,5);\r\n        \r\n           // Destination\r\n           List&lt;Integer&gt; intList2 = new ArrayList&lt;&gt;();\r\n           List&lt;Double&gt; doublesList2 = new ArrayList&lt;&gt;();\r\n           List&lt;Number&gt; numList2 = new ArrayList&lt;&gt;();\r\n    \r\n            // Works\r\n            copyElements1(intList,intList2);         // from int to int\r\n            copyElements1(doubleList,doublesList2);  // from double to double\r\n    \r\n    \r\n         static &lt;T&gt; void copyElements1(Collection&lt;T&gt; src, Collection&lt;T&gt; dest) {\r\n            for(T n : src){\r\n                dest.add(n);\r\n             }\r\n          }\r\n    \r\n    \r\n         // Let&#39;s try to copy intList to its supertype\r\n         copyElements1(intList,numList2); // error, method signature just says &quot;T&quot;\r\n                                          // and here the compiler is given \r\n                                          // two types: Integer and Number, \r\n                                          // so which one shall it be?\r\n    \r\n         // PECS to the rescue!\r\n         copyElements2(intList,numList2);  // possible\r\n    \r\n    \r\n    \r\n        // copy Integer (? extends T) to its supertype (Number is super of Integer)\r\n        private static &lt;T&gt; void copyElements2(Collection&lt;? extends T&gt; src, \r\n                                              Collection&lt;? super T&gt; dest) {\r\n            for(T n : src){\r\n                dest.add(n);\r\n            }\r\n        }","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>(adding an answer because never enough examples with Generics wildcards)</p>\n\n<pre><code>       // Source \n       List&lt;Integer&gt; intList = Arrays.asList(1,2,3);\n       List&lt;Double&gt; doubleList = Arrays.asList(2.78,3.14);\n       List&lt;Number&gt; numList = Arrays.asList(1,2,2.78,3.14,5);\n\n       // Destination\n       List&lt;Integer&gt; intList2 = new ArrayList&lt;&gt;();\n       List&lt;Double&gt; doublesList2 = new ArrayList&lt;&gt;();\n       List&lt;Number&gt; numList2 = new ArrayList&lt;&gt;();\n\n        // Works\n        copyElements1(intList,intList2);         // from int to int\n        copyElements1(doubleList,doublesList2);  // from double to double\n\n\n     static &lt;T&gt; void copyElements1(Collection&lt;T&gt; src, Collection&lt;T&gt; dest) {\n        for(T n : src){\n            dest.add(n);\n         }\n      }\n\n\n     // Let's try to copy intList to its supertype\n     copyElements1(intList,numList2); // error, method signature just says \"T\"\n                                      // and here the compiler is given \n                                      // two types: Integer and Number, \n                                      // so which one shall it be?\n\n     // PECS to the rescue!\n     copyElements2(intList,numList2);  // possible\n\n\n\n    // copy Integer (? extends T) to its supertype (Number is super of Integer)\n    private static &lt;T&gt; void copyElements2(Collection&lt;? extends T&gt; src, \n                                          Collection&lt;? super T&gt; dest) {\n        for(T n : src){\n            dest.add(n);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4533206,"reputation":541,"user_id":3683093,"accept_rate":80,"display_name":"Jason"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1524982396,"creation_date":1519033808,"answer_id":48863403,"question_id":2723397,"body_markdown":"Remember this: \r\n\r\n&gt; Consumer eat **supper**(super); Producer **extends** his parent&#39;s factory","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>Remember this: </p>\n\n<blockquote>\n  <p>Consumer eat <strong>supper</strong>(super); Producer <strong>extends</strong> his parent's factory</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":19387534,"reputation":449,"user_id":14176948,"display_name":"Alex Mandelias"},"score":1,"creation_date":1658489835,"post_id":52468697,"comment_id":129070137,"body_markdown":"Thank you so very much for your answer. Your very concrete examples with the generic Lists and why we can and can&#39;t do certain operations finally made it click for me.","body":"Thank you so very much for your answer. Your very concrete examples with the generic Lists and why we can and can&#39;t do certain operations finally made it click for me."}],"tags":[],"owner":{"account_id":10179440,"reputation":372,"user_id":7516845,"display_name":"Daniel"},"comment_count":1,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1587122847,"creation_date":1537724554,"answer_id":52468697,"question_id":2723397,"body_markdown":"let&#39;s assume this hierarchy:\r\n\r\n    class Creature{}// X\r\n    class Animal extends Creature{}// Y\r\n    class Fish extends Animal{}// Z\r\n    class Shark extends Fish{}// A\r\n    class HammerSkark extends Shark{}// B\r\n    class DeadHammerShark extends HammerSkark{}// C\r\n\r\n**Let&#39;s clarify PE - Producer Extends:**\r\n\r\n    List&lt;? extends Shark&gt; sharks = new ArrayList&lt;&gt;();\r\n\r\nWhy you cannot add objects that extend &quot;Shark&quot; in this list? like:\r\n    \r\n    sharks.add(new HammerShark());//will result in compilation error\r\n\r\nSince you have a list that can be of type A, B or C **at runtime**, you cannot add any object of type A, B or C in it because you can end up with a combination that is not allowed in java. &lt;br&gt;In practice, the compiler can indeed see at compiletime that you add a B:\r\n\r\n    sharks.add(new HammerShark());\r\n\r\n...but it has no way to tell if at runtime, your B will be a subtype or supertype of the list type. At runtime the list type can be any of the types A, B, C. So you cannot end up adding HammerSkark (super type) in a list of DeadHammerShark for example.\r\n\r\n*You will say: &quot;OK, but why can&#39;t I add HammerSkark in it since it is the smallest type?&quot;. \r\nAnswer: It is the smallest **you** know. But HammerSkark can be extended too by somebody else and you end up in the same scenario.\r\n\r\n**Let&#39;s clarify CS - Consumer Super:**\r\n\r\nIn the same hierarchy we can try this:\r\n\r\n    List&lt;? super Shark&gt; sharks = new ArrayList&lt;&gt;();\r\n\r\nWhat and why you **can** add to this list?\r\n\r\n    sharks.add(new Shark());\r\n    sharks.add(new DeadHammerShark());\r\n    sharks.add(new HammerSkark());\r\n\r\nYou can add the above types of objects because anything below shark(A,B,C) will always be subtypes of anything above shark (X,Y,Z). Easy to understand. \r\n\r\nYou **cannot** add types above Shark, because **at runtime** the type of added object can be higher in hierarchy than the declared type of the list(X,Y,Z). This is not allowed.\r\n\r\nBut why you cannot read from this list?\r\n(I mean you can get an element out of it, but you cannot assign it to anything other than Object o):\r\n\r\n    Object o;\r\n    o = sharks.get(2);// only assignment that works\r\n        \r\n    Animal s;\r\n    s = sharks.get(2);//doen&#39;t work\r\n\r\nAt runtime, the type of list can be any type above A: X, Y, Z, ...\r\nThe compiler can compile your assignment statement (which seems correct) but, **at runtime** the type of s (Animal) can be lower in hierarchy than the declared type of the list(which could be Creature, or higher). This is not allowed.\r\n\r\n**To sum up**\r\n\r\n**We use `&lt;? super T&gt;` to add objects of types equal or below `T` to the `List`.** We cannot read from \r\nit.&lt;br&gt;\r\n**We use `&lt;? extends T&gt;` to read objects of types equal or below `T` from list.** We cannot add element to it.","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>let's assume this hierarchy:</p>\n\n<pre><code>class Creature{}// X\nclass Animal extends Creature{}// Y\nclass Fish extends Animal{}// Z\nclass Shark extends Fish{}// A\nclass HammerSkark extends Shark{}// B\nclass DeadHammerShark extends HammerSkark{}// C\n</code></pre>\n\n<p><strong>Let's clarify PE - Producer Extends:</strong></p>\n\n<pre><code>List&lt;? extends Shark&gt; sharks = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>Why you cannot add objects that extend \"Shark\" in this list? like:</p>\n\n<pre><code>sharks.add(new HammerShark());//will result in compilation error\n</code></pre>\n\n<p>Since you have a list that can be of type A, B or C <strong>at runtime</strong>, you cannot add any object of type A, B or C in it because you can end up with a combination that is not allowed in java. <br>In practice, the compiler can indeed see at compiletime that you add a B:</p>\n\n<pre><code>sharks.add(new HammerShark());\n</code></pre>\n\n<p>...but it has no way to tell if at runtime, your B will be a subtype or supertype of the list type. At runtime the list type can be any of the types A, B, C. So you cannot end up adding HammerSkark (super type) in a list of DeadHammerShark for example.</p>\n\n<p>*You will say: \"OK, but why can't I add HammerSkark in it since it is the smallest type?\". \nAnswer: It is the smallest <strong>you</strong> know. But HammerSkark can be extended too by somebody else and you end up in the same scenario.</p>\n\n<p><strong>Let's clarify CS - Consumer Super:</strong></p>\n\n<p>In the same hierarchy we can try this:</p>\n\n<pre><code>List&lt;? super Shark&gt; sharks = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>What and why you <strong>can</strong> add to this list?</p>\n\n<pre><code>sharks.add(new Shark());\nsharks.add(new DeadHammerShark());\nsharks.add(new HammerSkark());\n</code></pre>\n\n<p>You can add the above types of objects because anything below shark(A,B,C) will always be subtypes of anything above shark (X,Y,Z). Easy to understand. </p>\n\n<p>You <strong>cannot</strong> add types above Shark, because <strong>at runtime</strong> the type of added object can be higher in hierarchy than the declared type of the list(X,Y,Z). This is not allowed.</p>\n\n<p>But why you cannot read from this list?\n(I mean you can get an element out of it, but you cannot assign it to anything other than Object o):</p>\n\n<pre><code>Object o;\no = sharks.get(2);// only assignment that works\n\nAnimal s;\ns = sharks.get(2);//doen't work\n</code></pre>\n\n<p>At runtime, the type of list can be any type above A: X, Y, Z, ...\nThe compiler can compile your assignment statement (which seems correct) but, <strong>at runtime</strong> the type of s (Animal) can be lower in hierarchy than the declared type of the list(which could be Creature, or higher). This is not allowed.</p>\n\n<p><strong>To sum up</strong></p>\n\n<p><strong>We use <code>&lt;? super T&gt;</code> to add objects of types equal or below <code>T</code> to the <code>List</code>.</strong> We cannot read from \nit.<br>\n<strong>We use <code>&lt;? extends T&gt;</code> to read objects of types equal or below <code>T</code> from list.</strong> We cannot add element to it.</p>\n"},{"tags":[],"owner":{"account_id":7284149,"reputation":673,"user_id":5552809,"display_name":"contrapost"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542721661,"creation_date":1542721661,"answer_id":53394456,"question_id":2723397,"body_markdown":"Using real life example (with some simplifications):\r\n\r\n1. Imagine a freight train with freight cars as analogy to a list.\r\n2. You can **put** a cargo in a freight car if the cargo has **the same or smaller size** than the freight car = `&lt;? super FreightCarSize&gt;`\r\n3. You can **unload** a cargo from a freight car if you have **enough place** (more than the size of the cargo) in your depot = `&lt;? extends DepotSize&gt;`","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>Using real life example (with some simplifications):</p>\n\n<ol>\n<li>Imagine a freight train with freight cars as analogy to a list.</li>\n<li>You can <strong>put</strong> a cargo in a freight car if the cargo has <strong>the same or smaller size</strong> than the freight car = <code>&lt;? super FreightCarSize&gt;</code></li>\n<li>You can <strong>unload</strong> a cargo from a freight car if you have <strong>enough place</strong> (more than the size of the cargo) in your depot = <code>&lt;? extends DepotSize&gt;</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549553617,"creation_date":1549553617,"answer_id":54576828,"question_id":2723397,"body_markdown":"**Covariance**: accept subtypes&lt;br&gt;\r\n**Contravariance**: accept supertypes\r\n\r\nCovariant types are read-only, while contravariant types are write-only.","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p><strong>Covariance</strong>: accept subtypes<br>\n<strong>Contravariance</strong>: accept supertypes</p>\n\n<p>Covariant types are read-only, while contravariant types are write-only.</p>\n"},{"comments":[{"owner":{"account_id":15396867,"reputation":294,"user_id":11107679,"display_name":"mouselabs"},"score":1,"creation_date":1587106949,"post_id":59868129,"comment_id":108382807,"body_markdown":"I&#39;ve run into that same mental collision and would tend to agree except that PECS doesn&#39;t specify the naming of code and the type boundaries themselves _are_ set on the Collection declarations. Moreover as far as naming is concerned you often have names for producing/consuming Collections like `src` and `dst`. So you&#39;re dealing with both code and containers at the same time and I&#39;ve ended up thinking about it along those lines - &quot;consuming code&quot; consumes from a producing container, and &quot;producing code&quot; produces for a consuming container.","body":"I&#39;ve run into that same mental collision and would tend to agree except that PECS doesn&#39;t specify the naming of code and the type boundaries themselves <i>are</i> set on the Collection declarations. Moreover as far as naming is concerned you often have names for producing/consuming Collections like <code>src</code> and <code>dst</code>. So you&#39;re dealing with both code and containers at the same time and I&#39;ve ended up thinking about it along those lines - &quot;consuming code&quot; consumes from a producing container, and &quot;producing code&quot; produces for a consuming container."},{"owner":{"account_id":193260,"reputation":1633,"user_id":434888,"display_name":"Gino"},"score":0,"creation_date":1675212819,"post_id":59868129,"comment_id":132879288,"body_markdown":"I think PECS is a terrible nomenclature. I couldn&#39;t wrap my head around it until you explained that it was from the perspective of the data collection itself. Someone mentioned using GEPS instead (Get Extends, Put Super), and I think this is a much more useful mnemonic.. I was able to accurately reconstruct the Collections.copy(List dest, List src) signature based on the GEPS mnemonic..","body":"I think PECS is a terrible nomenclature. I couldn&#39;t wrap my head around it until you explained that it was from the perspective of the data collection itself. Someone mentioned using GEPS instead (Get Extends, Put Super), and I think this is a much more useful mnemonic.. I was able to accurately reconstruct the Collections.copy(List dest, List src) signature based on the GEPS mnemonic.."}],"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1579726622,"creation_date":1579726622,"answer_id":59868129,"question_id":2723397,"body_markdown":"This is the clearest, simplest way for me think of extends vs. super:\r\n\r\n- `extends` is for **reading**\r\n\r\n- `super` is for **writing**\r\n\r\nI find &quot;PECS&quot; to be a non-obvious way to think of things regarding who is the &quot;producer&quot; and who is the &quot;consumer&quot;. &quot;PECS&quot; is defined from the perspective of the _data collection itself_ – the collection &quot;consumes&quot; if objects are being written _to_ it (it is consuming objects from calling code), and it &quot;produces&quot; if objects are being read _from_ it (it is producing objects to some calling code). This is counter to how everything else is named though. Standard Java APIs are named from the perspective of the calling code, not the collection itself. For example, a collection-centric view of [java.util.List](https://docs.oracle.com/javase/9/docs/api/java/util/List.html) should have a method named &quot;receive()&quot; instead of &quot;add()&quot; – after all, the calling code _adds_ the element, but the list itself _receives_ the element.\r\n\r\nI think it&#39;s more intuitive, natural and consistent to think of things from the perspective of the code that interacts with the collection – does the code &quot;read from&quot; or &quot;write to&quot; the collection? Following that, any code _writing to_ the collection would be the &quot;producer&quot;, and any code _reading from_ the collection would be the &quot;consumer&quot;.\r\n\r\n","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>This is the clearest, simplest way for me think of extends vs. super:</p>\n\n<ul>\n<li><p><code>extends</code> is for <strong>reading</strong></p></li>\n<li><p><code>super</code> is for <strong>writing</strong></p></li>\n</ul>\n\n<p>I find \"PECS\" to be a non-obvious way to think of things regarding who is the \"producer\" and who is the \"consumer\". \"PECS\" is defined from the perspective of the <em>data collection itself</em> – the collection \"consumes\" if objects are being written <em>to</em> it (it is consuming objects from calling code), and it \"produces\" if objects are being read <em>from</em> it (it is producing objects to some calling code). This is counter to how everything else is named though. Standard Java APIs are named from the perspective of the calling code, not the collection itself. For example, a collection-centric view of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html\" rel=\"noreferrer\">java.util.List</a> should have a method named \"receive()\" instead of \"add()\" – after all, the calling code <em>adds</em> the element, but the list itself <em>receives</em> the element.</p>\n\n<p>I think it's more intuitive, natural and consistent to think of things from the perspective of the code that interacts with the collection – does the code \"read from\" or \"write to\" the collection? Following that, any code <em>writing to</em> the collection would be the \"producer\", and any code <em>reading from</em> the collection would be the \"consumer\".</p>\n"},{"comments":[{"owner":{"account_id":513210,"reputation":2496,"user_id":915756,"accept_rate":73,"display_name":"Michal Vician"},"score":1,"creation_date":1591968121,"post_id":61294213,"comment_id":110263021,"body_markdown":"For those like me, who didn&#39;t understand the &quot;IS-A&quot; terminology: https://en.wikipedia.org/wiki/Is-a","body":"For those like me, who didn&#39;t understand the &quot;IS-A&quot; terminology: <a href=\"https://en.wikipedia.org/wiki/Is-a\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Is-a</a>"},{"owner":{"account_id":15396867,"reputation":294,"user_id":11107679,"display_name":"mouselabs"},"score":0,"creation_date":1592538511,"post_id":61294213,"comment_id":110467413,"body_markdown":"@MichalVician Imagine a `class A` and a `class B`, with each having a single public method defined - `a()` and `b()` - respectively. If `B extends A`, then the result is that `B` contains both `a()` and `b()`.  `B` then &quot;IS-A&quot; `A` because it fully represents `A`&#39;s &quot;interface.&quot; But the same can&#39;t be said of `A` - `A` is not a `B`, we only know that `B` is (at least) an `A`, since it `extends A`","body":"@MichalVician Imagine a <code>class A</code> and a <code>class B</code>, with each having a single public method defined - <code>a()</code> and <code>b()</code> - respectively. If <code>B extends A</code>, then the result is that <code>B</code> contains both <code>a()</code> and <code>b()</code>.  <code>B</code> then &quot;IS-A&quot; <code>A</code> because it fully represents <code>A</code>&#39;s &quot;interface.&quot; But the same can&#39;t be said of <code>A</code> - <code>A</code> is not a <code>B</code>, we only know that <code>B</code> is (at least) an <code>A</code>, since it <code>extends A</code>"}],"tags":[],"owner":{"account_id":15396867,"reputation":294,"user_id":11107679,"display_name":"mouselabs"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1678328017,"creation_date":1587234658,"answer_id":61294213,"question_id":2723397,"body_markdown":"What helped me was looking at it using ordinary assignment as an analogy. \r\n\r\nThe PECS &quot;rule&quot; just ensures that the following is legal:\r\n\r\n - Consumer: whatever `?` is, it can legally *refer to* `T` \r\n - Producer: whatever `?` is, it can legally be *referred to by* `T`\r\n\r\nThe typical pairing along the lines of `List&lt;? super T&gt; consumer`, `List&lt;? extends T&gt; producer` is simply ensuring that the compiler can enforce the standard &quot;IS-A&quot; inheritance and assignment rules.\r\n\r\nConsider the following toy code:\r\n\r\n```java\r\n// copies the elements of &#39;producer&#39; into &#39;consumer&#39;\r\nstatic &lt;T&gt; void copy(List&lt;? super T&gt; consumer, List&lt;? extends T&gt; producer) {\r\n   for(T t : producer)\r\n       consumer.add(t);\r\n}\r\n```\r\n\r\nThe `consumer` type is the reference - the &quot;left hand side&quot; of the assignment - and it must be `T` or a super-type of `T` - `&lt;? super T&gt;` ensures that. \r\n\r\nFor `producer` the concern is the same it&#39;s just inverted: the `producer` type is the &quot;referent&quot; - the &quot;right hand side&quot; of the assignment - and it must be `T` or a sub-type of `T` - `&lt;? extends T&gt;` ensures that.","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>What helped me was looking at it using ordinary assignment as an analogy.</p>\n<p>The PECS &quot;rule&quot; just ensures that the following is legal:</p>\n<ul>\n<li>Consumer: whatever <code>?</code> is, it can legally <em>refer to</em> <code>T</code></li>\n<li>Producer: whatever <code>?</code> is, it can legally be <em>referred to by</em> <code>T</code></li>\n</ul>\n<p>The typical pairing along the lines of <code>List&lt;? super T&gt; consumer</code>, <code>List&lt;? extends T&gt; producer</code> is simply ensuring that the compiler can enforce the standard &quot;IS-A&quot; inheritance and assignment rules.</p>\n<p>Consider the following toy code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// copies the elements of 'producer' into 'consumer'\nstatic &lt;T&gt; void copy(List&lt;? super T&gt; consumer, List&lt;? extends T&gt; producer) {\n   for(T t : producer)\n       consumer.add(t);\n}\n</code></pre>\n<p>The <code>consumer</code> type is the reference - the &quot;left hand side&quot; of the assignment - and it must be <code>T</code> or a super-type of <code>T</code> - <code>&lt;? super T&gt;</code> ensures that.</p>\n<p>For <code>producer</code> the concern is the same it's just inverted: the <code>producer</code> type is the &quot;referent&quot; - the &quot;right hand side&quot; of the assignment - and it must be <code>T</code> or a sub-type of <code>T</code> - <code>&lt;? extends T&gt;</code> ensures that.</p>\n"},{"comments":[{"owner":{"account_id":14105282,"reputation":657,"user_id":10189517,"display_name":"HKIT"},"score":0,"creation_date":1665300054,"post_id":62171149,"comment_id":130664260,"body_markdown":"to me it is the best answer talking about why we cannot add item to a wildcard upper bound","body":"to me it is the best answer talking about why we cannot add item to a wildcard upper bound"}],"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1664435195,"creation_date":1591181737,"answer_id":62171149,"question_id":2723397,"body_markdown":"**PECS (Producer extends and Consumer super)**\r\n\r\n[\\[Covariance and contravariance\\]][1]\r\n\r\n\r\nLets take a look at example\r\n\r\n``` Java\r\npublic class A { }\r\n//B is A\r\npublic class B extends A { }\r\n//C is A\r\npublic class C extends A { }\r\n```\r\n\r\nGenerics allows you to work with Types dynamically in a safe way\r\n\r\n``` Java\r\n//ListA\r\nList&lt;A&gt; listA = new ArrayList&lt;A&gt;();\r\n\r\n//add\r\nlistA.add(new A());\r\nlistA.add(new B());\r\nlistA.add(new C());\r\n\r\n//get\r\nA a0 = listA.get(0);\r\nA a1 = listA.get(1);\r\nA a2 = listA.get(2);\r\n```\r\n\r\n``` Java\r\n//ListB\r\nList&lt;B&gt; listB = new ArrayList&lt;B&gt;();\r\n\r\n//add\r\nlistB.add(new B());\r\n\r\n//get\r\nB b0 = listB.get(0);\r\n```\r\n&lt;img src=&quot;https://i.stack.imgur.com/D4RwI.png&quot; height=&quot;150&quot;&gt;\r\n\r\nProblem\r\n-------\r\nSince Java&#39;s Collection is a reference type as a result we have next issues:\r\n\r\n**Problem #1**\r\n\r\n``` Java\r\n//not compiled\r\n//danger of **adding** non-B objects using listA reference\r\nlistA = listB;\r\n```\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/WyHs7.png&quot; height=&quot;150&quot;&gt;\r\n\r\n*Swift&#39;s generic does not have such problem because Collection is `Value type`[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][2] therefore a new collection is created\r\n\r\n**Problem #2**\r\n``` Java\r\n//not compiled\r\n//danger of **getting** non-B objects using listB reference\r\nlistB = listA;\r\n```\r\n\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/nTEXJ.png&quot; height=&quot;150&quot;&gt;\r\n\r\nThe solution - Generic Wildcards\r\n--------------------------------\r\n\r\nWildcard is a reference type feature and it can not be instantiated directly\r\n\r\n**Solution #1**\r\n`&lt;? super A&gt;` aka lower bound aka contravariance aka consumers guarantees that it is operates by A and all superclasses, that is why it is safe to **add**\r\n\r\n``` Java\r\nList&lt;? super A&gt; listSuperA;\r\nlistSuperA = listA;\r\nlistSuperA = new ArrayList&lt;Object&gt;();\r\n\r\n//add\r\nlistSuperA.add(new A());\r\nlistSuperA.add(new B());\r\n\r\n//get\r\nObject o0 = listSuperA.get(0);\r\n```\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/jtcBs.png&quot; height=&quot;150&quot;&gt;\r\n\r\n**Solution #2**\r\n\r\n`&lt;? extends A&gt;` aka upper bound aka covariance aka producers guarantees that it is operates by A and all subclasses, that is why it is safe to **get** and cast\r\n\r\n``` Java\r\nList&lt;? extends A&gt; listExtendsA;\r\nlistExtendsA = listA;\r\nlistExtendsA = listB;\r\n\r\n//get\r\nA a0 = listExtendsA.get(0);\r\n```\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/Y33aY.png&quot; height=&quot;150&quot;&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62752867/4770877\r\n  [2]: https://stackoverflow.com/a/59219141/4770877","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p><strong>PECS (Producer extends and Consumer super)</strong></p>\n<p><a href=\"https://stackoverflow.com/a/62752867/4770877\">[Covariance and contravariance]</a></p>\n<p>Lets take a look at example</p>\n<pre><code>public class A { }\n//B is A\npublic class B extends A { }\n//C is A\npublic class C extends A { }\n</code></pre>\n<p>Generics allows you to work with Types dynamically in a safe way</p>\n<pre><code>//ListA\nList&lt;A&gt; listA = new ArrayList&lt;A&gt;();\n\n//add\nlistA.add(new A());\nlistA.add(new B());\nlistA.add(new C());\n\n//get\nA a0 = listA.get(0);\nA a1 = listA.get(1);\nA a2 = listA.get(2);\n</code></pre>\n<pre><code>//ListB\nList&lt;B&gt; listB = new ArrayList&lt;B&gt;();\n\n//add\nlistB.add(new B());\n\n//get\nB b0 = listB.get(0);\n</code></pre>\n<img src=\"https://i.stack.imgur.com/D4RwI.png\" height=\"150\">\n<h2>Problem</h2>\n<p>Since Java's Collection is a reference type as a result we have next issues:</p>\n<p><strong>Problem #1</strong></p>\n<pre><code>//not compiled\n//danger of **adding** non-B objects using listA reference\nlistA = listB;\n</code></pre>\n<img src=\"https://i.stack.imgur.com/WyHs7.png\" height=\"150\">\n<p>*Swift's generic does not have such problem because Collection is <code>Value type</code><a href=\"https://stackoverflow.com/a/59219141/4770877\"><sup>[About]</sup></a> therefore a new collection is created</p>\n<p><strong>Problem #2</strong></p>\n<pre><code>//not compiled\n//danger of **getting** non-B objects using listB reference\nlistB = listA;\n</code></pre>\n<img src=\"https://i.stack.imgur.com/nTEXJ.png\" height=\"150\">\n<h2>The solution - Generic Wildcards</h2>\n<p>Wildcard is a reference type feature and it can not be instantiated directly</p>\n<p><strong>Solution #1</strong>\n<code>&lt;? super A&gt;</code> aka lower bound aka contravariance aka consumers guarantees that it is operates by A and all superclasses, that is why it is safe to <strong>add</strong></p>\n<pre><code>List&lt;? super A&gt; listSuperA;\nlistSuperA = listA;\nlistSuperA = new ArrayList&lt;Object&gt;();\n\n//add\nlistSuperA.add(new A());\nlistSuperA.add(new B());\n\n//get\nObject o0 = listSuperA.get(0);\n</code></pre>\n<img src=\"https://i.stack.imgur.com/jtcBs.png\" height=\"150\">\n<p><strong>Solution #2</strong></p>\n<p><code>&lt;? extends A&gt;</code> aka upper bound aka covariance aka producers guarantees that it is operates by A and all subclasses, that is why it is safe to <strong>get</strong> and cast</p>\n<pre><code>List&lt;? extends A&gt; listExtendsA;\nlistExtendsA = listA;\nlistExtendsA = listB;\n\n//get\nA a0 = listExtendsA.get(0);\n</code></pre>\n<img src=\"https://i.stack.imgur.com/Y33aY.png\" height=\"150\">\n"},{"comments":[{"owner":{"account_id":7307087,"reputation":442,"user_id":10661805,"display_name":"Ray Jasson"},"score":0,"creation_date":1675535412,"post_id":64888058,"comment_id":132951729,"body_markdown":"The code example you gave is the **gist**!","body":"The code example you gave is the <b>gist</b>!"}],"tags":[],"owner":{"account_id":13889174,"reputation":2896,"user_id":10027592,"display_name":"starriet"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1605680490,"creation_date":1605680490,"answer_id":64888058,"question_id":2723397,"body_markdown":"let’s try visualizing this concept.\r\n\r\n`&lt;? super SomeType&gt;` is an “undefined(yet)” type, but that undefined type **should be a super**class of the ‘SomeType’ class.\r\n\r\nThe same goes for `&lt;? extends SomeType&gt;`. It’s a type that **should extend** the ‘SomeType’ class (it should be a child class of the ‘SomeType’ class).\r\n\r\nIf we consider the concept of &#39;class inheritance&#39; in a Venn diagram, an example would be like this:\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nMammal class **extends** Animal class (Animal class is a **super**class of Mammal class).\r\n\r\nCat/Dog class **extends** Mammal class (Mammal class is a **super**class of Cat/Dog class).\r\n\r\n\r\n\r\n\r\nThen, let’s think about the ‘circles’ in the above diagram as a ‘box’ that has a physical volume.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou CAN’T put a bigger box into a smaller one.\r\n\r\nYou can ONLY put a smaller box into a bigger one.\r\n\r\n\r\nWhen you say `&lt;? super SomeType&gt;`, you wanna describe a ‘box’ that is the same size or **bigger** than the ‘SomeType’ box.\r\n\r\nIf you say `&lt;? extends SomeType&gt;`, then you wanna describe a ‘box’ that is the same size or **smaller** than the ‘SomeType’ box.\r\n\r\n\r\n *so what is PECS anyway?*\r\n\r\nAn example of a ‘Producer’ is a List which we only read from.\r\n\r\nAn example of a ‘Consumer’ is a List which we only write into.\r\n\r\n\r\n*Just keep in mind this:*\r\n\r\n - We ‘read’ from a ‘producer’, and take that stuff into our own box.\r\n   \r\n - And we ‘write’ our own box into a ‘consumer’.\r\n\r\n\r\n\r\n\r\nSo, we need to read(take) something from a ‘producer’ **and put that into our ‘box’.** This means that any boxes taken from the producer should **NOT** be bigger than our ‘box’. That’s why “**P**roducer **E**xtends.”\r\n\r\n\r\n**“Extends” means a smaller box**(smaller circle in the Venn diagram above). The boxes of a producer should be smaller than our own box, because we are gonna take those boxes from the producer and put them into our own box. We can’t put anything bigger than our box!\r\n\r\n\r\nAlso, we need to write(put) **our own ‘box’ into** a ‘consumer’. This means that the boxes of the consumer should **NOT** be smaller than our own box. That’s why “**C**onsumer **S**uper.”\r\n\r\n\r\n**“Super” means a bigger box**(bigger circle in the Venn diagram above). If we want to put our own boxes into a consumer, the boxes of the consumer should be bigger than our box!\r\n\r\nNow we can easily understand this example:\r\n\r\n```\r\npublic class Collections { \r\n  public static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src) {\r\n      for (int i = 0; i &lt; src.size(); i++) \r\n        dest.set(i, src.get(i)); \r\n  } \r\n}\r\n```\r\n\r\nIn the above example, we want to read(take) something from `src` and write(put) them into `dest`. So the `src` is a “Producer” and its “boxes” should be smaller(more specific) than some type `T`.\r\n\r\nVice versa, the `dest` is a “Consumer” and its “boxes” should be bigger(more general) than some type `T`.\r\n\r\nIf the “boxes” of the `src` were bigger than that of the `dest`, we couldn’t put those big boxes into the smaller boxes the `dest` has.\r\n\r\nIf anyone reads this, I hope it helps you better understand\r\n “**P**roducer **E**xtends, **C**onsumer **S**uper.”\r\n\r\nHappy coding! :)\r\n\r\n  [1]: https://i.stack.imgur.com/rneiP.png\r\n  [2]: https://i.stack.imgur.com/mpxnl.png","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>let’s try visualizing this concept.</p>\n<p><code>&lt;? super SomeType&gt;</code> is an “undefined(yet)” type, but that undefined type <strong>should be a super</strong>class of the ‘SomeType’ class.</p>\n<p>The same goes for <code>&lt;? extends SomeType&gt;</code>. It’s a type that <strong>should extend</strong> the ‘SomeType’ class (it should be a child class of the ‘SomeType’ class).</p>\n<p>If we consider the concept of 'class inheritance' in a Venn diagram, an example would be like this:</p>\n<p><a href=\"https://i.stack.imgur.com/rneiP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rneiP.png\" alt=\"enter image description here\" /></a></p>\n<p>Mammal class <strong>extends</strong> Animal class (Animal class is a <strong>super</strong>class of Mammal class).</p>\n<p>Cat/Dog class <strong>extends</strong> Mammal class (Mammal class is a <strong>super</strong>class of Cat/Dog class).</p>\n<p>Then, let’s think about the ‘circles’ in the above diagram as a ‘box’ that has a physical volume.</p>\n<p><a href=\"https://i.stack.imgur.com/mpxnl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mpxnl.png\" alt=\"enter image description here\" /></a></p>\n<p>You CAN’T put a bigger box into a smaller one.</p>\n<p>You can ONLY put a smaller box into a bigger one.</p>\n<p>When you say <code>&lt;? super SomeType&gt;</code>, you wanna describe a ‘box’ that is the same size or <strong>bigger</strong> than the ‘SomeType’ box.</p>\n<p>If you say <code>&lt;? extends SomeType&gt;</code>, then you wanna describe a ‘box’ that is the same size or <strong>smaller</strong> than the ‘SomeType’ box.</p>\n<p><em>so what is PECS anyway?</em></p>\n<p>An example of a ‘Producer’ is a List which we only read from.</p>\n<p>An example of a ‘Consumer’ is a List which we only write into.</p>\n<p><em>Just keep in mind this:</em></p>\n<ul>\n<li><p>We ‘read’ from a ‘producer’, and take that stuff into our own box.</p>\n</li>\n<li><p>And we ‘write’ our own box into a ‘consumer’.</p>\n</li>\n</ul>\n<p>So, we need to read(take) something from a ‘producer’ <strong>and put that into our ‘box’.</strong> This means that any boxes taken from the producer should <strong>NOT</strong> be bigger than our ‘box’. That’s why “<strong>P</strong>roducer <strong>E</strong>xtends.”</p>\n<p><strong>“Extends” means a smaller box</strong>(smaller circle in the Venn diagram above). The boxes of a producer should be smaller than our own box, because we are gonna take those boxes from the producer and put them into our own box. We can’t put anything bigger than our box!</p>\n<p>Also, we need to write(put) <strong>our own ‘box’ into</strong> a ‘consumer’. This means that the boxes of the consumer should <strong>NOT</strong> be smaller than our own box. That’s why “<strong>C</strong>onsumer <strong>S</strong>uper.”</p>\n<p><strong>“Super” means a bigger box</strong>(bigger circle in the Venn diagram above). If we want to put our own boxes into a consumer, the boxes of the consumer should be bigger than our box!</p>\n<p>Now we can easily understand this example:</p>\n<pre><code>public class Collections { \n  public static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src) {\n      for (int i = 0; i &lt; src.size(); i++) \n        dest.set(i, src.get(i)); \n  } \n}\n</code></pre>\n<p>In the above example, we want to read(take) something from <code>src</code> and write(put) them into <code>dest</code>. So the <code>src</code> is a “Producer” and its “boxes” should be smaller(more specific) than some type <code>T</code>.</p>\n<p>Vice versa, the <code>dest</code> is a “Consumer” and its “boxes” should be bigger(more general) than some type <code>T</code>.</p>\n<p>If the “boxes” of the <code>src</code> were bigger than that of the <code>dest</code>, we couldn’t put those big boxes into the smaller boxes the <code>dest</code> has.</p>\n<p>If anyone reads this, I hope it helps you better understand\n“<strong>P</strong>roducer <strong>E</strong>xtends, <strong>C</strong>onsumer <strong>S</strong>uper.”</p>\n<p>Happy coding! :)</p>\n"},{"tags":[],"owner":{"account_id":10968388,"reputation":34405,"user_id":8059459,"accept_rate":90,"display_name":"Willem van der Veen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648884872,"creation_date":1648822715,"answer_id":71708416,"question_id":2723397,"body_markdown":"PECS: Producer extends and Consumer super\r\n-----------------------------------------\r\n\r\nPrerequisites for understanding:\r\n\r\n - Generics and generic wildcards\r\n- Polymorphism, Subtyping and Supertyping\r\n\r\n\r\n----------\r\n\r\n\r\nLets say we have a type which takes a generic type parameter T, for example `List&lt;T&gt;`. When we write code it can be potentially beneficial to also allow subtypes or supertypes of our generic type parameter T. This relaxes the restraints for the user of the API and can make the code more flexible.\r\n\r\nLet first see what we gain relaxing these restrictions. Lets say we have the following 3 classes:\r\n\r\n    class BaseAnimal{};\r\n    \r\n    class Animal extends BaseAnimal{};\r\n    \r\n    class Duck extends Animal{};\r\n\r\nand we are building a public method which takes a `list&lt;Animal&gt;`\r\n\r\n 1. If we use a super `List&lt;? super Animal&gt;` instead of `List&lt;Animal&gt;` we now can pass in more lists to satisfy the requirement of our method. We now can pass in either `List&lt;Animal&gt;` or `List&lt;BaseAnimal&gt;` even `List&lt;Object&gt;`\r\n2. If we use an extends `List&lt;? extends Animal&gt;` instead of `List&lt;Animal&gt;` we now can pass in more lists to satisfy the requirement of our method. We now can pass in either `List&lt;Animal&gt;` or `List&lt;Duck&gt;`\r\n\r\nHowever this poses the following 2 restrictions:\r\n\r\n 1. If we use a super type like `List&lt;? super Animal&gt;` we don&#39;t know the exact type of `List&lt;T&gt;` it will be. It could be either a list of `List&lt;Animal&gt;` or `List&lt;BaseAnimal&gt;` or `List&lt;Object&gt;`. We have no way of knowing. This means we can never get a value out of this List because we do not know what the type will be. However we can put any data type which is `Animal` or extends it into the `List`. Because we can only put data into the  `List` it is called a **consumer** of data. \r\n2. If we use an extends `List&lt;? extends Animal&gt;` instead of `List&lt;Animal&gt;`. We also don&#39;t know what the exact type is. It can either be `List&lt;Animal&gt;` or `List&lt;Duck&gt;`. We can&#39;t add something to the `List` now because we can never certainly know what the type is. However we can pull something out because we always know that anything which comes out of the list is a subtype of `Animal`. Because we can only pull data out of the `List` is it called a **producer** of data.\r\n\r\n\r\nHere is a simple program to illustrate the relaxation of the type restrictions:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Generics {\r\n        public static void main(String[] args) {\r\n    \r\n            Generics generics = new Generics();\r\n    \r\n            generics.producerExtends(new ArrayList&lt;Duck&gt;());\r\n            generics.producerExtends(new ArrayList&lt;Animal&gt;());\r\n    \r\n            generics.consumerSuper(new ArrayList&lt;Object&gt;());\r\n            generics.consumerSuper(new ArrayList&lt;Animal&gt;());\r\n    \r\n        }\r\n    \r\n        //  ? extends T   is an upper bound\r\n        public void producerExtends (List&lt;? extends Animal&gt; list) {\r\n    \r\n            // Following are illegal since we never know exactly what type the list will be\r\n            // list.add(new Duck());\r\n            // list.add(new Animal());\r\n            \r\n            // We can read from it since we are always getting an Animal or subclass from it\r\n            // However we can read them as an animal type, so this compiles fine\r\n            if (list.size() &gt; 0) {\r\n                Animal animal = list.get(0);\r\n            }\r\n        }\r\n    \r\n        // ? extends T   is a lower bound\r\n        public void consumerSuper (List&lt;? super Animal&gt; list) {\r\n            // It will be either a list of Animal or a superclass of it\r\n            // Therefore we can add any type which extends animals\r\n            list.add(new Duck());\r\n            list.add(new Animal());\r\n    \r\n            // Compiler won&#39;t allow this it could potentially be a super type of Animal\r\n            // Animal animal = list.get(0);\r\n        }","title":"What is PECS (Producer Extends Consumer Super)?","body":"<h2>PECS: Producer extends and Consumer super</h2>\n<p>Prerequisites for understanding:</p>\n<ul>\n<li>Generics and generic wildcards</li>\n<li>Polymorphism, Subtyping and Supertyping</li>\n</ul>\n<hr />\n<p>Lets say we have a type which takes a generic type parameter T, for example <code>List&lt;T&gt;</code>. When we write code it can be potentially beneficial to also allow subtypes or supertypes of our generic type parameter T. This relaxes the restraints for the user of the API and can make the code more flexible.</p>\n<p>Let first see what we gain relaxing these restrictions. Lets say we have the following 3 classes:</p>\n<pre><code>class BaseAnimal{};\n\nclass Animal extends BaseAnimal{};\n\nclass Duck extends Animal{};\n</code></pre>\n<p>and we are building a public method which takes a <code>list&lt;Animal&gt;</code></p>\n<ol>\n<li>If we use a super <code>List&lt;? super Animal&gt;</code> instead of <code>List&lt;Animal&gt;</code> we now can pass in more lists to satisfy the requirement of our method. We now can pass in either <code>List&lt;Animal&gt;</code> or <code>List&lt;BaseAnimal&gt;</code> even <code>List&lt;Object&gt;</code></li>\n<li>If we use an extends <code>List&lt;? extends Animal&gt;</code> instead of <code>List&lt;Animal&gt;</code> we now can pass in more lists to satisfy the requirement of our method. We now can pass in either <code>List&lt;Animal&gt;</code> or <code>List&lt;Duck&gt;</code></li>\n</ol>\n<p>However this poses the following 2 restrictions:</p>\n<ol>\n<li>If we use a super type like <code>List&lt;? super Animal&gt;</code> we don't know the exact type of <code>List&lt;T&gt;</code> it will be. It could be either a list of <code>List&lt;Animal&gt;</code> or <code>List&lt;BaseAnimal&gt;</code> or <code>List&lt;Object&gt;</code>. We have no way of knowing. This means we can never get a value out of this List because we do not know what the type will be. However we can put any data type which is <code>Animal</code> or extends it into the <code>List</code>. Because we can only put data into the  <code>List</code> it is called a <strong>consumer</strong> of data.</li>\n<li>If we use an extends <code>List&lt;? extends Animal&gt;</code> instead of <code>List&lt;Animal&gt;</code>. We also don't know what the exact type is. It can either be <code>List&lt;Animal&gt;</code> or <code>List&lt;Duck&gt;</code>. We can't add something to the <code>List</code> now because we can never certainly know what the type is. However we can pull something out because we always know that anything which comes out of the list is a subtype of <code>Animal</code>. Because we can only pull data out of the <code>List</code> is it called a <strong>producer</strong> of data.</li>\n</ol>\n<p>Here is a simple program to illustrate the relaxation of the type restrictions:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Generics {\n    public static void main(String[] args) {\n\n        Generics generics = new Generics();\n\n        generics.producerExtends(new ArrayList&lt;Duck&gt;());\n        generics.producerExtends(new ArrayList&lt;Animal&gt;());\n\n        generics.consumerSuper(new ArrayList&lt;Object&gt;());\n        generics.consumerSuper(new ArrayList&lt;Animal&gt;());\n\n    }\n\n    //  ? extends T   is an upper bound\n    public void producerExtends (List&lt;? extends Animal&gt; list) {\n\n        // Following are illegal since we never know exactly what type the list will be\n        // list.add(new Duck());\n        // list.add(new Animal());\n        \n        // We can read from it since we are always getting an Animal or subclass from it\n        // However we can read them as an animal type, so this compiles fine\n        if (list.size() &gt; 0) {\n            Animal animal = list.get(0);\n        }\n    }\n\n    // ? extends T   is a lower bound\n    public void consumerSuper (List&lt;? super Animal&gt; list) {\n        // It will be either a list of Animal or a superclass of it\n        // Therefore we can add any type which extends animals\n        list.add(new Duck());\n        list.add(new Animal());\n\n        // Compiler won't allow this it could potentially be a super type of Animal\n        // Animal animal = list.get(0);\n    }\n</code></pre>\n"}],"owner":{"account_id":45413,"reputation":28777,"user_id":133830,"accept_rate":87,"display_name":"peakit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164549,"favorite_count":0,"down_vote_count":2,"up_vote_count":900,"accepted_answer_id":2723538,"answer_count":16,"score":898,"last_activity_date":1678328017,"creation_date":1272388600,"question_id":2723397,"body_markdown":"I came across PECS (short for *Producer `extends` and Consumer `super`*) while reading up on generics. \r\n\r\nCan someone explain to me how to use PECS to resolve confusion between `extends` and `super`?","title":"What is PECS (Producer Extends Consumer Super)?","body":"<p>I came across PECS (short for <em>Producer <code>extends</code> and Consumer <code>super</code></em>) while reading up on generics. </p>\n\n<p>Can someone explain to me how to use PECS to resolve confusion between <code>extends</code> and <code>super</code>?</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":20626554,"reputation":310,"user_id":16202819,"display_name":"ocean moist"},"score":1,"creation_date":1678241276,"post_id":75668697,"comment_id":133494012,"body_markdown":"there is a semi colon in the original echo&#39;d env variable. is this intentional?","body":"there is a semi colon in the original echo&#39;d env variable. is this intentional?"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1678263909,"post_id":75668697,"comment_id":133497108,"body_markdown":"Why are you using VSCODE for java? You should try intellij instead","body":"Why are you using VSCODE for java? You should try intellij instead"}],"answers":[{"comments":[{"owner":{"account_id":4070056,"reputation":40371,"user_id":3626371,"display_name":"KavinduWije"},"score":0,"creation_date":1678412641,"post_id":75679832,"comment_id":133532098,"body_markdown":"I tired but still not working","body":"I tired but still not working"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1678413976,"post_id":75679832,"comment_id":133532252,"body_markdown":"Set `JAVA_HOME` in Maven settings.xml. [for example](https://pastebin.com/31xLz8aa).","body":"Set <code>JAVA_HOME</code> in Maven settings.xml. <a href=\"https://pastebin.com/31xLz8aa\" rel=\"nofollow noreferrer\">for example</a>."}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678327700,"creation_date":1678327700,"answer_id":75679832,"question_id":75668697,"body_markdown":"&gt; The JAVA_HOME environment variable is not defined correctly, \r\n&gt; \r\n&gt; this environment variable is needed to run this program. \r\n\r\nThe error message has reminded environmental variable `JAVA_HOME` incorrectly, please check the settings of *JAVA_HOME* in the system and user environment variables. Confirm that setting the correct *JAVA_HOME* environment variable and restarting VSCODE.\r\n\r\nIn addition, you can use the command to check whether you can succeed in the external terminal, which shows that it is not the problem of VSCODE.\r\n\r\n\r\nOr you can manually set the correct Javhom variable with `set JAVA_HOME=&lt;path\\to\\JDK&gt;`.\r\n\r\n","title":"Create maven project in Visual Studio Code (VScode) failing due to JAVA_HOME","body":"<blockquote>\n<p>The JAVA_HOME environment variable is not defined correctly,</p>\n<p>this environment variable is needed to run this program.</p>\n</blockquote>\n<p>The error message has reminded environmental variable <code>JAVA_HOME</code> incorrectly, please check the settings of <em>JAVA_HOME</em> in the system and user environment variables. Confirm that setting the correct <em>JAVA_HOME</em> environment variable and restarting VSCODE.</p>\n<p>In addition, you can use the command to check whether you can succeed in the external terminal, which shows that it is not the problem of VSCODE.</p>\n<p>Or you can manually set the correct Javhom variable with <code>set JAVA_HOME=&lt;path\\to\\JDK&gt;</code>.</p>\n"}],"owner":{"account_id":4070056,"reputation":40371,"user_id":3626371,"display_name":"KavinduWije"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678327700,"creation_date":1678239228,"question_id":75668697,"body_markdown":"I&#39;m using windows OS and installed VScode version 1.76.0.\r\n\r\n\r\nWhen I select create java project with maven then I&#39;m getting below error. \r\n\r\nI already set the JAVA_HOME in my environment variables correctly. \r\n\r\nI&#39;m using **Maven for Java** extension in VScode as well. \r\n\r\nI herewith pasted the VScode console log as shows below. \r\n\r\n```\r\n*&#160; Executing task: &quot;mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.2:generate -DarchetypeArtifactId=&quot;maven-archetype-quickstart&quot; -DarchetypeGroupId=&quot;org.apache.maven.archetypes&quot; -DarchetypeVersion=&quot;1.0&quot; -DgroupId=&quot;com.helloman&quot; -DartifactId=&quot;hello&quot;&quot;&#160;\r\n\r\nThe JAVA_HOME environment variable is not defined correctly,&#160;\r\nthis environment variable is needed to run this program.&#160;\r\n\r\n*&#160; The terminal process &quot;cmd.exe /c &quot;mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.2:generate -DarchetypeArtifactId=&quot;maven-archetype-quickstart&quot; -DarchetypeGroupId=&quot;org.apache.maven.archetypes&quot; -DarchetypeVersion=&quot;1.0&quot; -DgroupId=&quot;com.helloman&quot; -DartifactId=&quot;hello&quot;&quot;&quot; terminated with exit code: 1.&#160;\r\n*&#160; Terminal will be reused by tasks, press any key to close it.\r\n```\r\n\r\nI tried with different archtypes also but got no success on that. \r\n\r\nIn windows CMD see JAVA home location by executing echo %JAVA_HOME% but without set JAVA_HOME in cmd manually the Maven is not identify the JAVA_HOME set in windows environment variables\r\n\r\nPlease refer to the below image\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LjRRM.png","title":"Create maven project in Visual Studio Code (VScode) failing due to JAVA_HOME","body":"<p>I'm using windows OS and installed VScode version 1.76.0.</p>\n<p>When I select create java project with maven then I'm getting below error.</p>\n<p>I already set the JAVA_HOME in my environment variables correctly.</p>\n<p>I'm using <strong>Maven for Java</strong> extension in VScode as well.</p>\n<p>I herewith pasted the VScode console log as shows below.</p>\n<pre><code>*  Executing task: &quot;mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.2:generate -DarchetypeArtifactId=&quot;maven-archetype-quickstart&quot; -DarchetypeGroupId=&quot;org.apache.maven.archetypes&quot; -DarchetypeVersion=&quot;1.0&quot; -DgroupId=&quot;com.helloman&quot; -DartifactId=&quot;hello&quot;&quot; \n\nThe JAVA_HOME environment variable is not defined correctly, \nthis environment variable is needed to run this program. \n\n*  The terminal process &quot;cmd.exe /c &quot;mvn org.apache.maven.plugins:maven-archetype-plugin:3.1.2:generate -DarchetypeArtifactId=&quot;maven-archetype-quickstart&quot; -DarchetypeGroupId=&quot;org.apache.maven.archetypes&quot; -DarchetypeVersion=&quot;1.0&quot; -DgroupId=&quot;com.helloman&quot; -DartifactId=&quot;hello&quot;&quot;&quot; terminated with exit code: 1. \n*  Terminal will be reused by tasks, press any key to close it.\n</code></pre>\n<p>I tried with different archtypes also but got no success on that.</p>\n<p>In windows CMD see JAVA home location by executing echo %JAVA_HOME% but without set JAVA_HOME in cmd manually the Maven is not identify the JAVA_HOME set in windows environment variables</p>\n<p>Please refer to the below image</p>\n<p><a href=\"https://i.stack.imgur.com/LjRRM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LjRRM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","webview"],"answers":[{"comments":[{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1678234043,"post_id":75667673,"comment_id":133493089,"body_markdown":"Tried it but it is not really working as well ..","body":"Tried it but it is not really working as well .."}],"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678227054,"creation_date":1678227054,"answer_id":75667673,"question_id":75667409,"body_markdown":"try with `onSaveInstanceState` method instead of creating &quot;dummy&quot; `Bundle`, saving `WebView`s state into it (in `onPause`) and then... doing nothing with this `Bundle` - it will be gc&#39;ed and state is lost (when `Fragment` gets destroyed and new instance will be created)\r\n\r\n\r\n    @Override\r\n    public void onSaveInstanceState(@NonNull Bundle outState) {\r\n        webView.saveState(outState);\r\n        super.onSaveInstanceState(outState);\r\n    }","title":"save webview state in fragment","body":"<p>try with <code>onSaveInstanceState</code> method instead of creating &quot;dummy&quot; <code>Bundle</code>, saving <code>WebView</code>s state into it (in <code>onPause</code>) and then... doing nothing with this <code>Bundle</code> - it will be gc'ed and state is lost (when <code>Fragment</code> gets destroyed and new instance will be created)</p>\n<pre><code>@Override\npublic void onSaveInstanceState(@NonNull Bundle outState) {\n    webView.saveState(outState);\n    super.onSaveInstanceState(outState);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1678239257,"post_id":75668548,"comment_id":133493799,"body_markdown":"is there anyway to simply push back that fragment into backstack without killing it and the next i call it from backstack ? or it will also destroyed in this case ?","body":"is there anyway to simply push back that fragment into backstack without killing it and the next i call it from backstack ? or it will also destroyed in this case ?"},{"owner":{"account_id":3492124,"reputation":1637,"user_id":2921519,"display_name":"Maurice Lam"},"score":0,"creation_date":1678241036,"post_id":75668548,"comment_id":133493997,"body_markdown":"If that fragment is outside of the backstack, something has to hold onto a reference to it. If the activity hasn&#39;t been destroyed, you can use that. But if the user navigated away, then no, your app&#39;s whole process can be killed by the framework at that point","body":"If that fragment is outside of the backstack, something has to hold onto a reference to it. If the activity hasn&#39;t been destroyed, you can use that. But if the user navigated away, then no, your app&#39;s whole process can be killed by the framework at that point"},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1678241607,"post_id":75668548,"comment_id":133494041,"body_markdown":"Yeah i don&#39;t like the activity is destroy , while activity is up , i navigation back to the same fragment with backstack or something ( sound more like hide and how fragment  , instead of reloading the content of it everytime ) , any way to do that thank you","body":"Yeah i don&#39;t like the activity is destroy , while activity is up , i navigation back to the same fragment with backstack or something ( sound more like hide and how fragment  , instead of reloading the content of it everytime ) , any way to do that thank you"},{"owner":{"account_id":3492124,"reputation":1637,"user_id":2921519,"display_name":"Maurice Lam"},"score":0,"creation_date":1678257025,"post_id":75668548,"comment_id":133495805,"body_markdown":"Yes, in that case you would use `saveState` to get the bundle, pass it to a `ViewModel` shared with the activity as described [here](https://developer.android.com/guide/fragments/communicate#viewmodel). Then when you create the new fragment, you pass reuse that same `ViewModel` instead of creating a new one","body":"Yes, in that case you would use <code>saveState</code> to get the bundle, pass it to a <code>ViewModel</code> shared with the activity as described <a href=\"https://developer.android.com/guide/fragments/communicate#viewmodel\" rel=\"nofollow noreferrer\">here</a>. Then when you create the new fragment, you pass reuse that same <code>ViewModel</code> instead of creating a new one"},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1678319748,"post_id":75668548,"comment_id":133511718,"body_markdown":"Thank you for your help , could you please show some code and it works i&#39;ll mark it as correct","body":"Thank you for your help , could you please show some code and it works i&#39;ll mark it as correct"},{"owner":{"account_id":3492124,"reputation":1637,"user_id":2921519,"display_name":"Maurice Lam"},"score":0,"creation_date":1678327144,"post_id":75668548,"comment_id":133512627,"body_markdown":"Added that above. Hope that helps!","body":"Added that above. Hope that helps!"},{"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"score":0,"creation_date":1678332531,"post_id":75668548,"comment_id":133513303,"body_markdown":"Thank you for adding some code , i have done as you said but state is not saved , this is how it looks like in my code , am i doing anything wrong https://ibb.co/BKmRGCv","body":"Thank you for adding some code , i have done as you said but state is not saved , this is how it looks like in my code , am i doing anything wrong <a href=\"https://ibb.co/BKmRGCv\" rel=\"nofollow noreferrer\">ibb.co/BKmRGCv</a>"}],"tags":[],"owner":{"account_id":3492124,"reputation":1637,"user_id":2921519,"display_name":"Maurice Lam"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678327115,"creation_date":1678237132,"answer_id":75668548,"question_id":75667409,"body_markdown":"You need to save the created bundle somewhere. Depending on the use case the place you store it may be different – the use case `saveState` is designed for is during activity recreation you put it in `onSaveInstanceState` and restore it in `onRestoreInstanceState`, as suggested in @snachmsm&#39;s answer.\r\n\r\nBut this won&#39;t help if you want to handle the case where the user navigates away and the fragment is removed from the back stack. For example, if you have a tabbed activity with multiple fragments. In that case, you may want to pass the bundle up to the activity to hold onto, and use the patterns described in https://developer.android.com/guide/fragments/communicate.\r\n\r\nFor example, you can define the view model like this:\r\n\r\n```kt\r\nclass WebViewModel : ViewModel() {\r\n    val webViewState = Bundle()\r\n}\r\n```\r\n\r\nAnd then share them between the activity and the fragment:\r\n\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n    private val viewModel: WebViewModel by viewModels()\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n    }\r\n}\r\n\r\nclass WebFragment : Fragment() {\r\n    private val viewModel: WebViewModel by activityViewModels()\r\n\r\n    override fun onCreateView(): View {\r\n        val webview = ... // inflate the webview\r\n        webview.restoreState(viewModel.webViewState)\r\n        return webview\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        webView.saveState(viewModel.webViewState)\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\n\r\nIf you want to go further than that, to get the user back onto the same page even if the Activity finishes, as far as I can find there is no good way to do that. Since `Bundle` itself is not persistable, you cannot write it to disk without risking compatibility issues. It may work depending on the WebView implementation, as described in https://stackoverflow.com/questions/59469477/how-can-i-save-and-restore-android-webviews-webbackforwardlist, but be prepared to handle any errors if you try to do that.\r\n\r\nThere is also `copyBackForwardList()`, which allows you to get the `WebBackForwardList`, and all its public API data is persistable. However, there is no API to restore / set / inject that list back into WebView after recreation, so you&#39;ll have to resort to replaying the history by repeatedly calling `setUrl`, or use the [javascript History API](https://developer.mozilla.org/en-US/docs/Web/API/History/pushState).\r\n\r\nNone of these are particularly good options, so I would suggest looking into whether the &quot;restore&quot; requirements can be relaxed to only go back to the last (current) page on the stack rather than restoring the full history. Obviously not ideal, but it&#39;s a reasonable compromise if you are just embedding a webview for interactions with a few simple web pages rather than building your own browser.","title":"save webview state in fragment","body":"<p>You need to save the created bundle somewhere. Depending on the use case the place you store it may be different – the use case <code>saveState</code> is designed for is during activity recreation you put it in <code>onSaveInstanceState</code> and restore it in <code>onRestoreInstanceState</code>, as suggested in @snachmsm's answer.</p>\n<p>But this won't help if you want to handle the case where the user navigates away and the fragment is removed from the back stack. For example, if you have a tabbed activity with multiple fragments. In that case, you may want to pass the bundle up to the activity to hold onto, and use the patterns described in <a href=\"https://developer.android.com/guide/fragments/communicate\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/communicate</a>.</p>\n<p>For example, you can define the view model like this:</p>\n<pre><code>class WebViewModel : ViewModel() {\n    val webViewState = Bundle()\n}\n</code></pre>\n<p>And then share them between the activity and the fragment:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    private val viewModel: WebViewModel by viewModels()\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n}\n\nclass WebFragment : Fragment() {\n    private val viewModel: WebViewModel by activityViewModels()\n\n    override fun onCreateView(): View {\n        val webview = ... // inflate the webview\n        webview.restoreState(viewModel.webViewState)\n        return webview\n    }\n\n    override fun onDestroyView() {\n        webView.saveState(viewModel.webViewState)\n    }\n}\n</code></pre>\n<hr />\n<p>If you want to go further than that, to get the user back onto the same page even if the Activity finishes, as far as I can find there is no good way to do that. Since <code>Bundle</code> itself is not persistable, you cannot write it to disk without risking compatibility issues. It may work depending on the WebView implementation, as described in <a href=\"https://stackoverflow.com/questions/59469477/how-can-i-save-and-restore-android-webviews-webbackforwardlist\">How can i save and restore android WebView&#39;s WebBackForwardList?</a>, but be prepared to handle any errors if you try to do that.</p>\n<p>There is also <code>copyBackForwardList()</code>, which allows you to get the <code>WebBackForwardList</code>, and all its public API data is persistable. However, there is no API to restore / set / inject that list back into WebView after recreation, so you'll have to resort to replaying the history by repeatedly calling <code>setUrl</code>, or use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History/pushState\" rel=\"nofollow noreferrer\">javascript History API</a>.</p>\n<p>None of these are particularly good options, so I would suggest looking into whether the &quot;restore&quot; requirements can be relaxed to only go back to the last (current) page on the stack rather than restoring the full history. Obviously not ideal, but it's a reasonable compromise if you are just embedding a webview for interactions with a few simple web pages rather than building your own browser.</p>\n"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678327115,"creation_date":1678225133,"question_id":75667409,"body_markdown":"I&#39;m basically using navigation component with graph.  I navigate from home fragment to web fragment when I open the url in a webview.  My issue is that I want to save the webview state when I leave web fragment, and when I come back, I want to show the saved instance instead of reloading the whole page, but what I have done so far is not working.  If anyone could help , I would appreciate it. Thank you \r\n\r\n\r\n * This is my code \r\n\r\n```\r\n\r\n public class TestFragment extends Fragment {\r\n\r\n    private WebView webView;\r\n    private Bundle webViewBundle;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View v = inflater.inflate(R.layout.test_layout, container, false);\r\n        webView = v.findViewById(R.id.webView);\r\n\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.setWebViewClient(new MyWebViewClient());\r\n        if(webViewBundle != null){\r\n            webView.restoreState(webViewBundle);\r\n        } else {\r\n            assert getArguments() != null;\r\n            String url = getArguments().getString(&quot;url&quot;);\r\n            webView.loadUrl(url);\r\n        }\r\n        return v;\r\n    }\r\n\r\n    @Override\r\n    public void onViewStateRestored(@Nullable Bundle savedInstanceState) {\r\n        super.onViewStateRestored(savedInstanceState);\r\n        webView.restoreState(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        webViewBundle = new Bundle();\r\n        webView.saveState(webViewBundle);\r\n    }\r\n\r\n    class MyWebViewClient extends WebViewClient {\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n            webView.loadUrl(url);\r\n            webView.saveState(webViewBundle);\r\n            return true;\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"save webview state in fragment","body":"<p>I'm basically using navigation component with graph.  I navigate from home fragment to web fragment when I open the url in a webview.  My issue is that I want to save the webview state when I leave web fragment, and when I come back, I want to show the saved instance instead of reloading the whole page, but what I have done so far is not working.  If anyone could help , I would appreciate it. Thank you</p>\n<ul>\n<li>This is my code</li>\n</ul>\n<pre><code>\n public class TestFragment extends Fragment {\n\n    private WebView webView;\n    private Bundle webViewBundle;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View v = inflater.inflate(R.layout.test_layout, container, false);\n        webView = v.findViewById(R.id.webView);\n\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.setWebViewClient(new MyWebViewClient());\n        if(webViewBundle != null){\n            webView.restoreState(webViewBundle);\n        } else {\n            assert getArguments() != null;\n            String url = getArguments().getString(&quot;url&quot;);\n            webView.loadUrl(url);\n        }\n        return v;\n    }\n\n    @Override\n    public void onViewStateRestored(@Nullable Bundle savedInstanceState) {\n        super.onViewStateRestored(savedInstanceState);\n        webView.restoreState(savedInstanceState);\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        webViewBundle = new Bundle();\n        webView.saveState(webViewBundle);\n    }\n\n    class MyWebViewClient extends WebViewClient {\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            webView.loadUrl(url);\n            webView.saveState(webViewBundle);\n            return true;\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","kerberos","jaas"],"comments":[{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1678395398,"post_id":75676558,"comment_id":133529187,"body_markdown":"`krb5.conf` is the configuration of *any* Kerberos client (C, Java, etc) -- so that it knows how to contact the Kerberos service! Whereas your JAAS config is specific to *Java* authentication library in *your* specific Java app, but might cover any protocol (Kerberos, LDAP, basic login/pwd etc)","body":"<code>krb5.conf</code> is the configuration of <i>any</i> Kerberos client (C, Java, etc) -- so that it knows how to contact the Kerberos service! Whereas your JAAS config is specific to <i>Java</i> authentication library in <i>your</i> specific Java app, but might cover any protocol (Kerberos, LDAP, basic login/pwd etc)"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1678395573,"post_id":75676558,"comment_id":133529232,"body_markdown":"And a keytab file is just a (history of) encrypted password(s) for a specific account (a &quot;principal&quot; in Kerberos jargon)","body":"And a keytab file is just a (history of) encrypted password(s) for a specific account (a &quot;principal&quot; in Kerberos jargon)"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1678395690,"post_id":75676558,"comment_id":133529261,"body_markdown":"Note that env variable `KRB5_CONFIG` can be used to override the default location of the Kerberos client conf -- that default being `/etc/krb5.conf` on Linux and `%something%\\krb5.ini` on Windows","body":"Note that env variable <code>KRB5_CONFIG</code> can be used to override the default location of the Kerberos client conf -- that default being <code>&#47;etc&#47;krb5.conf</code> on Linux and <code>%something%\\krb5.ini</code> on Windows"}],"answers":[{"comments":[{"owner":{"account_id":24443491,"reputation":57,"user_id":18366833,"display_name":"Misubushi"},"score":0,"creation_date":1678353725,"post_id":75679741,"comment_id":133517069,"body_markdown":"Correct me if I&#39;m wrong ,  so , Keytab file holds the encrypted token which we got from KDC along with principal and conf file holds the details of where we can get that token right?","body":"Correct me if I&#39;m wrong ,  so , Keytab file holds the encrypted token which we got from KDC along with principal and conf file holds the details of where we can get that token right?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678376424,"post_id":75679741,"comment_id":133524039,"body_markdown":"Sounds correct to me","body":"Sounds correct to me"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678326499,"creation_date":1678326499,"answer_id":75679741,"question_id":75676558,"body_markdown":"The first is specific config to only the Kafka client.\r\n\r\nThe second is a JVM wide property, which is carried through to any library you&#39;re using that needs Kerberos. Ideally, you pass this at `java -D` CLI argument, rather than via code `System.setProperty`","title":"Krb5.conf vs krb5.keytab in Kafka kerberos authentication","body":"<p>The first is specific config to only the Kafka client.</p>\n<p>The second is a JVM wide property, which is carried through to any library you're using that needs Kerberos. Ideally, you pass this at <code>java -D</code> CLI argument, rather than via code <code>System.setProperty</code></p>\n"}],"owner":{"account_id":24443491,"reputation":57,"user_id":18366833,"display_name":"Misubushi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":884,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75679741,"answer_count":1,"score":0,"last_activity_date":1678326618,"creation_date":1678297945,"question_id":75676558,"body_markdown":"We are connecting to a Kafka server that uses kerberos authentication and from my understanding I know that When using Kerberos, we can provide the credentials to the client application in two ways. Either in the form of a valid Kerberos ticket, stored in a ticket cache, or as a keytab file, which the application can use to obtain a Kerberos ticket.\r\n\r\nHere , I have keytab file . so , I have created a **JASS config** like below and have set that to kafkaConfig.\r\n\r\n\r\n```\r\nkerberosConfig = &quot;com.ibm.security.auth.module.Krb5LoginModule required &quot;\r\n\t\t\t\t+ &quot;useKeytab=\\&quot;&quot;\r\n\t\t\t\t+ keytabPath\r\n\t\t\t\t+ &quot;\\&quot; credsType=both  principal=\\&quot;&quot;\r\n\t\t\t\t+ principal + &quot;\\&quot;;&quot;;\r\n\r\nkafkaConfig.setProperty(&quot;sasl.jaas.config&quot;, kerberosConfig );\r\n```\r\nNow , the question here is **I just used this JAAS config with keytab for kafka connection and it works fine without any issue** but I found that we also need to pass krb5.confi to system properties as well for kerberos authentication like below \r\n\r\n\r\n```\r\nSystem.setProperty(&quot;java.security.krb5.conf&quot;, krb5.conf);\r\n```\r\nSo , could someone please explain what is is the difference between keytab vs krb5.conf and whether keytab file alone is enough or should I need to pass krb5.conf to system props as well? or whether krb5.conf alone is enough ?\r\n\r\n\r\n","title":"Krb5.conf vs krb5.keytab in Kafka kerberos authentication","body":"<p>We are connecting to a Kafka server that uses kerberos authentication and from my understanding I know that When using Kerberos, we can provide the credentials to the client application in two ways. Either in the form of a valid Kerberos ticket, stored in a ticket cache, or as a keytab file, which the application can use to obtain a Kerberos ticket.</p>\n<p>Here , I have keytab file . so , I have created a <strong>JASS config</strong> like below and have set that to kafkaConfig.</p>\n<pre><code>kerberosConfig = &quot;com.ibm.security.auth.module.Krb5LoginModule required &quot;\n                + &quot;useKeytab=\\&quot;&quot;\n                + keytabPath\n                + &quot;\\&quot; credsType=both  principal=\\&quot;&quot;\n                + principal + &quot;\\&quot;;&quot;;\n\nkafkaConfig.setProperty(&quot;sasl.jaas.config&quot;, kerberosConfig );\n</code></pre>\n<p>Now , the question here is <strong>I just used this JAAS config with keytab for kafka connection and it works fine without any issue</strong> but I found that we also need to pass krb5.confi to system properties as well for kerberos authentication like below</p>\n<pre><code>System.setProperty(&quot;java.security.krb5.conf&quot;, krb5.conf);\n</code></pre>\n<p>So , could someone please explain what is is the difference between keytab vs krb5.conf and whether keytab file alone is enough or should I need to pass krb5.conf to system props as well? or whether krb5.conf alone is enough ?</p>\n"},{"tags":["java","android","android-videoview"],"comments":[{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1678238428,"post_id":75667160,"comment_id":133493688,"body_markdown":"Can you provide more information on this statement ***however the video does not play at all***? Any error log? And do you test it on an emulator? Can you try it on a real device or try another emulator? And also what is your ```R.raw.asf``` format? Is the encoding supported by the device?","body":"Can you provide more information on this statement <b><i>however the video does not play at all</i></b>? Any error log? And do you test it on an emulator? Can you try it on a real device or try another emulator? And also what is your <code>R.raw.asf</code> format? Is the encoding supported by the device?"},{"owner":{"account_id":27880253,"reputation":29,"user_id":21288859,"display_name":"Lord V"},"score":0,"creation_date":1678241925,"post_id":75667160,"comment_id":133494082,"body_markdown":"Hello! Sure i have tried both emulator and Real device. R.raw.asf it&#39;s MP4 file so yes supported by device. Log is clear.","body":"Hello! Sure i have tried both emulator and Real device. R.raw.asf it&#39;s MP4 file so yes supported by device. Log is clear."},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1678243191,"post_id":75667160,"comment_id":133494218,"body_markdown":"May I know if you are showing the correct layout with ```@layout/videopozadina```? The way that you set the video to your ```VideoView``` looks good to me. And just to double confirm your video can be played and is not corrupted?","body":"May I know if you are showing the correct layout with <code>@layout&#47;videopozadina</code>? The way that you set the video to your <code>VideoView</code> looks good to me. And just to double confirm your video can be played and is not corrupted?"},{"owner":{"account_id":27880253,"reputation":29,"user_id":21288859,"display_name":"Lord V"},"score":1,"creation_date":1678243648,"post_id":75667160,"comment_id":133494269,"body_markdown":"Hello thanks for your reply. I have tried with another video but same thing... Also i have tried to add directly to my fragment_login layour by\n`&lt;VideoView\n            android:id=&quot;@+id/bgVideoView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:fitsSystemWindows=&quot;true&quot;\n            android:keepScreenOn=&quot;true&quot; /&gt;\n`\nStill no progress...","body":"Hello thanks for your reply. I have tried with another video but same thing... Also i have tried to add directly to my fragment_login layour by <code>&lt;VideoView             android:id=&quot;@+id&#47;bgVideoView&quot;             android:layout_width=&quot;match_parent&quot;             android:layout_height=&quot;match_parent&quot;             android:fitsSystemWindows=&quot;true&quot;             android:keepScreenOn=&quot;true&quot; &#47;&gt; </code> Still no progress..."},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1678244427,"post_id":75667160,"comment_id":133494359,"body_markdown":"I have instead provided a little guiding sample that should be working fine. See if it gives you any hint.","body":"I have instead provided a little guiding sample that should be working fine. See if it gives you any hint."},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1678326485,"post_id":75667160,"comment_id":133512534,"body_markdown":"I have reposted another guide from your provided screenshot. See if that is your case?","body":"I have reposted another guide from your provided screenshot. See if that is your case?"}],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678326430,"creation_date":1678326430,"answer_id":75679733,"question_id":75667160,"body_markdown":"So from the provided screenshot, I guess it should be from this xml:\r\n```xml\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;include layout=&quot;@layout/videopozadina&quot; /&gt;\r\n    &lt;!-- There should be more layout design here --&gt;\r\n```\r\n\r\nAnd you need to make sure that for this layout ```videopozadina```, it has the ```VideoView``` defined there, which I believe it should be something you provided like this:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;VideoView\r\n        android:id=&quot;@+id/bgVideoView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:keepScreenOn=&quot;true&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nThen, you need to further define an ID for the included layout in the first xml mentioned here:\r\n```xml\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;include id=&quot;@+id/videoLayout&quot; \r\n             layout=&quot;@layout/videopozadina&quot; /&gt;\r\n   &lt;!-- There should be more layout design here --&gt;\r\n```\r\n\r\nAnd you should set the video in the Fragment or Activity of your login / register page (I am not sure if it is ```videologreg```):\r\n```java\r\npublic class videologreg extends AppCompatActivity {\r\n    private VideoView mVideoView;\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        // I guess you should have setContentView() elsewhere, and the View should be the first mentioned xml, I believe\r\n        // to play a video on the login background\r\n        // You should first retrieve the included layout with the ID first, then further access the VideoView inside the included layout\r\n        mVideoView = (VideoView) findViewById(R.id.videoLayout).findViewById(R.id.bgVideoView);\r\n\r\n        Uri uri = Uri.parse(&quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.asf);\r\n        mVideoView.setVideoURI(uri);\r\n        mVideoView.start();\r\n        mVideoView.setOnPreparedListener(mediaPlayer -&gt; mediaPlayer.setLooping(true));\r\n    }\r\n}\r\n```","title":"Video intended for background does not play","body":"<p>So from the provided screenshot, I guess it should be from this xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;include layout=&quot;@layout/videopozadina&quot; /&gt;\n    &lt;!-- There should be more layout design here --&gt;\n</code></pre>\n<p>And you need to make sure that for this layout <code>videopozadina</code>, it has the <code>VideoView</code> defined there, which I believe it should be something you provided like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;VideoView\n        android:id=&quot;@+id/bgVideoView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:keepScreenOn=&quot;true&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Then, you need to further define an ID for the included layout in the first xml mentioned here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;include id=&quot;@+id/videoLayout&quot; \n             layout=&quot;@layout/videopozadina&quot; /&gt;\n   &lt;!-- There should be more layout design here --&gt;\n</code></pre>\n<p>And you should set the video in the Fragment or Activity of your login / register page (I am not sure if it is <code>videologreg</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class videologreg extends AppCompatActivity {\n    private VideoView mVideoView;\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // I guess you should have setContentView() elsewhere, and the View should be the first mentioned xml, I believe\n        // to play a video on the login background\n        // You should first retrieve the included layout with the ID first, then further access the VideoView inside the included layout\n        mVideoView = (VideoView) findViewById(R.id.videoLayout).findViewById(R.id.bgVideoView);\n\n        Uri uri = Uri.parse(&quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.asf);\n        mVideoView.setVideoURI(uri);\n        mVideoView.start();\n        mVideoView.setOnPreparedListener(mediaPlayer -&gt; mediaPlayer.setLooping(true));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27880253,"reputation":29,"user_id":21288859,"display_name":"Lord V"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678326430,"creation_date":1678223120,"question_id":75667160,"body_markdown":"I want to put on my application a background video on the login/register page\r\n\r\nI have made videobg.xml layout\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;VideoView\r\n        android:id=&quot;@+id/bgVideoView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:keepScreenOn=&quot;true&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nafter that I made videologreg.java\r\n\r\n\r\n```java\r\npublic class videologreg extends AppCompatActivity {\r\n    private VideoView mVideoView;\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        //to play a video on the login background\r\n        mVideoView = (VideoView) findViewById(R.id.bgVideoView);\r\n\r\n\r\n\r\n        Uri uri = Uri.parse(&quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.asf);\r\n        mVideoView.setVideoURI(uri);\r\n        mVideoView.start();\r\n\r\n        mVideoView.setOnPreparedListener(mediaPlayer -&gt; mediaPlayer.setLooping(true));\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nand finally I&#39;m in the register login layout\r\n\r\n\r\n```xml\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;include layout=&quot;@layout/videopozadina&quot; /&gt;\r\n```\r\n\r\nhowever the video does not play at all so I would like your help, thanks in advance.\r\n\r\n\r\n\r\n\r\nI have tried all the above things but unfortunately it doesn&#39;t work\r\n\r\n\r\nAbout black screen what i got\r\n\r\n[![what i got][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/24s0n.jpg","title":"Video intended for background does not play","body":"<p>I want to put on my application a background video on the login/register page</p>\n<p>I have made videobg.xml layout</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;VideoView\n        android:id=&quot;@+id/bgVideoView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:keepScreenOn=&quot;true&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>after that I made videologreg.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class videologreg extends AppCompatActivity {\n    private VideoView mVideoView;\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        //to play a video on the login background\n        mVideoView = (VideoView) findViewById(R.id.bgVideoView);\n\n\n\n        Uri uri = Uri.parse(&quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.asf);\n        mVideoView.setVideoURI(uri);\n        mVideoView.start();\n\n        mVideoView.setOnPreparedListener(mediaPlayer -&gt; mediaPlayer.setLooping(true));\n\n\n\n\n    }\n}\n</code></pre>\n<p>and finally I'm in the register login layout</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;include layout=&quot;@layout/videopozadina&quot; /&gt;\n</code></pre>\n<p>however the video does not play at all so I would like your help, thanks in advance.</p>\n<p>I have tried all the above things but unfortunately it doesn't work</p>\n<p>About black screen what i got</p>\n<p><a href=\"https://i.stack.imgur.com/24s0n.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/24s0n.jpg\" alt=\"what i got\" /></a></p>\n"},{"tags":["java","jasper-reports"],"owner":{"account_id":25816987,"reputation":11,"user_id":19556778,"display_name":"Jihed Ben Zarb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678326304,"creation_date":1678326304,"question_id":75679727,"body_markdown":"i made a template in jasper studio that only has a tabe in the first place , i passed the data to this table with a java program using JrBeanCollectionDataSource ,everything worked fine ! but when i try to add fields outside the table in the report , they stay null , when i try to change my JasperFillManager.fillReport(jasperReport,parameters,new JrEmptyDataSource()) to JasperFillManager.fillReport(jasperReport,parameters,itemsDataSource) , the fields get the data but now the table wont get anything and wont appear at all \r\nthis is my java Program\r\n```\r\nList&lt;Invoice&gt; listItems= new ArrayList&lt;Invoice&gt;();\r\n\r\n        Invoice invoice=new Invoice();\r\n\r\n        Invoice.setFromTo(&quot;HammamSousse/Kantaoui&quot;);\r\n        Invoice.setTripPrice(&quot;9.265&quot;);\r\n\r\n        listItems.add(invoice);\r\n\r\n        JRBeanCollectionDataSource itemsJRBean=new JRBeanCollectionDataSource(listItems);\r\n        Map&lt;String,Object&gt; parameters=new HashMap&lt;String,Object&gt;();\r\n        parameters.put(&quot;Parameter1&quot;,itemsJRBean);\r\n        InputStream input =new FileInputStream(new File(&quot;path\\\\vt.jrxml&quot;));\r\n        JasperDesign jasperDesign= JRXmlLoader.load(input);\r\n        JasperReport jasperReport=JasperCompileManager.compileReport(jasperDesign);\r\n        JasperPrint jasperPrint=JasperFillManager.fillReport(jasperReport,parameters,new JREmptyDataSource());\r\n        JasperViewer.viewReport(jasperPrint);\r\n```\r\nthis is my jrxml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  --&gt;\r\n&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;vt&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;39704726-dd18-487b-ad98-129fcc839d94&quot;&gt;\r\n\t&lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\r\n\t&lt;style name=&quot;Table_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;style name=&quot;Table_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;style name=&quot;Table_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;subDataset name=&quot;Dataset2&quot; uuid=&quot;52282a42-91df-4c9f-b013-7c06e354af7d&quot;&gt;\r\n\t\t&lt;queryString&gt;\r\n\t\t\t&lt;![CDATA[]]&gt;\r\n\t\t&lt;/queryString&gt;\r\n\t\t&lt;field name=&quot;fromTo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t\t&lt;field name=&quot;tripPrice&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;/subDataset&gt;\r\n\t&lt;parameter name=&quot;Parameter1&quot; class=&quot;net.sf.jasperreports.engine.data.JRBeanCollectionDataSource&quot;/&gt;\r\n\t&lt;queryString&gt;\r\n\t\t&lt;![CDATA[]]&gt;\r\n\t&lt;/queryString&gt;\r\n\t&lt;background&gt;\r\n\t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/background&gt;\r\n\t&lt;title&gt;\r\n\t\t&lt;band height=&quot;79&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/title&gt;\r\n\t&lt;pageHeader&gt;\r\n\t\t&lt;band height=&quot;35&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/pageHeader&gt;\r\n\t&lt;columnHeader&gt;\r\n\t\t&lt;band height=&quot;67&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/columnHeader&gt;\r\n\t&lt;detail&gt;\r\n\t\t&lt;band height=&quot;274&quot; splitType=&quot;Stretch&quot;&gt;\r\n\t\t\t&lt;componentElement&gt;\r\n\t\t\t\t&lt;reportElement x=&quot;70&quot; y=&quot;37&quot; width=&quot;410&quot; height=&quot;63&quot; uuid=&quot;f6e0b09e-81be-47e7-a751-07cc0a469e45&quot;&gt;\r\n\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.layout&quot; value=&quot;com.jaspersoft.studio.editor.layout.VerticalRowLayout&quot;/&gt;\r\n\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.table_header&quot; value=&quot;Table_TH&quot;/&gt;\r\n\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.column_header&quot; value=&quot;Table_CH&quot;/&gt;\r\n\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.detail&quot; value=&quot;Table_TD&quot;/&gt;\r\n\t\t\t\t&lt;/reportElement&gt;\r\n\t\t\t\t&lt;jr:table xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\r\n\t\t\t\t\t&lt;datasetRun subDataset=&quot;Dataset2&quot; uuid=&quot;8b074442-09df-43e1-b7e2-bd0616ee1ce8&quot;&gt;\r\n\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[$P{Parameter1}]]&gt;&lt;/dataSourceExpression&gt;\r\n\t\t\t\t\t&lt;/datasetRun&gt;\r\n\t\t\t\t\t&lt;jr:column width=&quot;250&quot; uuid=&quot;0e2ca4af-49fd-4103-9d22-d9f95a71ae6b&quot;&gt;\r\n\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column1&quot;/&gt;\r\n\t\t\t\t\t\t&lt;jr:columnHeader style=&quot;Table_CH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;250&quot; height=&quot;30&quot; uuid=&quot;03aa47f1-fbd2-46a8-8cd3-9a353ae46704&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Static Text]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;/jr:columnHeader&gt;\r\n\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;30&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;250&quot; height=&quot;30&quot; uuid=&quot;daea7ee2-0796-46f1-8520-a3aff839a4a0&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{fromTo}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t&lt;jr:column width=&quot;160&quot; uuid=&quot;42babb80-7040-4118-8ebb-d617e52023bd&quot;&gt;\r\n\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column2&quot;/&gt;\r\n\t\t\t\t\t\t&lt;jr:columnHeader style=&quot;Table_CH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;160&quot; height=&quot;30&quot; uuid=&quot;96bf0ffe-5585-48bd-a409-1c52b391f2e4&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Static Text]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;/jr:columnHeader&gt;\r\n\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;30&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;160&quot; height=&quot;30&quot; uuid=&quot;caa8f50d-3a61-4cb6-b7db-5da2ec76fc5b&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{tripPrice}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t&lt;/jr:table&gt;\r\n\t\t\t&lt;/componentElement&gt;\r\n\t\t&lt;/band&gt;\r\n\t&lt;/detail&gt;\r\n\t&lt;columnFooter&gt;\r\n\t\t&lt;band height=&quot;45&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/columnFooter&gt;\r\n\t&lt;pageFooter&gt;\r\n\t\t&lt;band height=&quot;54&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/pageFooter&gt;\r\n\t&lt;summary&gt;\r\n\t\t&lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/summary&gt;\r\n&lt;/jasperReport&gt;\r\n```\r\n\r\n\r\n\r\ni want to pass the same data to the fields outside the table and to the table itself , Any Solutions? Thanks in advance ","title":"unable to display both the data in the table and outside the table at the same time","body":"<p>i made a template in jasper studio that only has a tabe in the first place , i passed the data to this table with a java program using JrBeanCollectionDataSource ,everything worked fine ! but when i try to add fields outside the table in the report , they stay null , when i try to change my JasperFillManager.fillReport(jasperReport,parameters,new JrEmptyDataSource()) to JasperFillManager.fillReport(jasperReport,parameters,itemsDataSource) , the fields get the data but now the table wont get anything and wont appear at all\nthis is my java Program</p>\n<pre><code>List&lt;Invoice&gt; listItems= new ArrayList&lt;Invoice&gt;();\n\n        Invoice invoice=new Invoice();\n\n        Invoice.setFromTo(&quot;HammamSousse/Kantaoui&quot;);\n        Invoice.setTripPrice(&quot;9.265&quot;);\n\n        listItems.add(invoice);\n\n        JRBeanCollectionDataSource itemsJRBean=new JRBeanCollectionDataSource(listItems);\n        Map&lt;String,Object&gt; parameters=new HashMap&lt;String,Object&gt;();\n        parameters.put(&quot;Parameter1&quot;,itemsJRBean);\n        InputStream input =new FileInputStream(new File(&quot;path\\\\vt.jrxml&quot;));\n        JasperDesign jasperDesign= JRXmlLoader.load(input);\n        JasperReport jasperReport=JasperCompileManager.compileReport(jasperDesign);\n        JasperPrint jasperPrint=JasperFillManager.fillReport(jasperReport,parameters,new JREmptyDataSource());\n        JasperViewer.viewReport(jasperPrint);\n</code></pre>\n<p>this is my jrxml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  --&gt;\n&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;vt&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;39704726-dd18-487b-ad98-129fcc839d94&quot;&gt;\n    &lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\n    &lt;style name=&quot;Table_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;Table_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;Table_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;subDataset name=&quot;Dataset2&quot; uuid=&quot;52282a42-91df-4c9f-b013-7c06e354af7d&quot;&gt;\n        &lt;queryString&gt;\n            &lt;![CDATA[]]&gt;\n        &lt;/queryString&gt;\n        &lt;field name=&quot;fromTo&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;field name=&quot;tripPrice&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;/subDataset&gt;\n    &lt;parameter name=&quot;Parameter1&quot; class=&quot;net.sf.jasperreports.engine.data.JRBeanCollectionDataSource&quot;/&gt;\n    &lt;queryString&gt;\n        &lt;![CDATA[]]&gt;\n    &lt;/queryString&gt;\n    &lt;background&gt;\n        &lt;band splitType=&quot;Stretch&quot;/&gt;\n    &lt;/background&gt;\n    &lt;title&gt;\n        &lt;band height=&quot;79&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/title&gt;\n    &lt;pageHeader&gt;\n        &lt;band height=&quot;35&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/pageHeader&gt;\n    &lt;columnHeader&gt;\n        &lt;band height=&quot;67&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/columnHeader&gt;\n    &lt;detail&gt;\n        &lt;band height=&quot;274&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;componentElement&gt;\n                &lt;reportElement x=&quot;70&quot; y=&quot;37&quot; width=&quot;410&quot; height=&quot;63&quot; uuid=&quot;f6e0b09e-81be-47e7-a751-07cc0a469e45&quot;&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.layout&quot; value=&quot;com.jaspersoft.studio.editor.layout.VerticalRowLayout&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.table.style.table_header&quot; value=&quot;Table_TH&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.table.style.column_header&quot; value=&quot;Table_CH&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.table.style.detail&quot; value=&quot;Table_TD&quot;/&gt;\n                &lt;/reportElement&gt;\n                &lt;jr:table xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\n                    &lt;datasetRun subDataset=&quot;Dataset2&quot; uuid=&quot;8b074442-09df-43e1-b7e2-bd0616ee1ce8&quot;&gt;\n                        &lt;dataSourceExpression&gt;&lt;![CDATA[$P{Parameter1}]]&gt;&lt;/dataSourceExpression&gt;\n                    &lt;/datasetRun&gt;\n                    &lt;jr:column width=&quot;250&quot; uuid=&quot;0e2ca4af-49fd-4103-9d22-d9f95a71ae6b&quot;&gt;\n                        &lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column1&quot;/&gt;\n                        &lt;jr:columnHeader style=&quot;Table_CH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;250&quot; height=&quot;30&quot; uuid=&quot;03aa47f1-fbd2-46a8-8cd3-9a353ae46704&quot;/&gt;\n                                &lt;text&gt;&lt;![CDATA[Static Text]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:columnHeader&gt;\n                        &lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;30&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;250&quot; height=&quot;30&quot; uuid=&quot;daea7ee2-0796-46f1-8520-a3aff839a4a0&quot;/&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$F{fromTo}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=&quot;160&quot; uuid=&quot;42babb80-7040-4118-8ebb-d617e52023bd&quot;&gt;\n                        &lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Column2&quot;/&gt;\n                        &lt;jr:columnHeader style=&quot;Table_CH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;160&quot; height=&quot;30&quot; uuid=&quot;96bf0ffe-5585-48bd-a409-1c52b391f2e4&quot;/&gt;\n                                &lt;text&gt;&lt;![CDATA[Static Text]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:columnHeader&gt;\n                        &lt;jr:detailCell style=&quot;Table_TD&quot; height=&quot;30&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;160&quot; height=&quot;30&quot; uuid=&quot;caa8f50d-3a61-4cb6-b7db-5da2ec76fc5b&quot;/&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$F{tripPrice}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                &lt;/jr:table&gt;\n            &lt;/componentElement&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n    &lt;columnFooter&gt;\n        &lt;band height=&quot;45&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/columnFooter&gt;\n    &lt;pageFooter&gt;\n        &lt;band height=&quot;54&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/pageFooter&gt;\n    &lt;summary&gt;\n        &lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/summary&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n<p>i want to pass the same data to the fields outside the table and to the table itself , Any Solutions? Thanks in advance</p>\n"},{"tags":["java","binary","twos-complement"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1488630286,"post_id":42595963,"comment_id":72322997,"body_markdown":"Do you know the theory behind it? If you know the theory, implementing it is an easy task. What have you tried so far?","body":"Do you know the theory behind it? If you know the theory, implementing it is an easy task. What have you tried so far?"},{"owner":{"account_id":1435254,"reputation":29439,"user_id":4826457,"display_name":"Suraj Rao"},"score":0,"creation_date":1488630340,"post_id":42595963,"comment_id":72323012,"body_markdown":"This possibly pure Java.. How is it specific to Android?","body":"This possibly pure Java.. How is it specific to Android?"},{"owner":{"account_id":8810824,"reputation":197,"user_id":6583944,"accept_rate":50,"display_name":"Sarbjit Singh"},"score":0,"creation_date":1488630864,"post_id":42595963,"comment_id":72323166,"body_markdown":"@BackSlash I have posted my code to get 1&#39;s complement.","body":"@BackSlash I have posted my code to get 1&#39;s complement."},{"owner":{"account_id":8810824,"reputation":197,"user_id":6583944,"accept_rate":50,"display_name":"Sarbjit Singh"},"score":0,"creation_date":1488631484,"post_id":42595963,"comment_id":72323316,"body_markdown":"@suraj Android uses core Java itself.","body":"@suraj Android uses core Java itself."},{"owner":{"account_id":1435254,"reputation":29439,"user_id":4826457,"display_name":"Suraj Rao"},"score":0,"creation_date":1488631552,"post_id":42595963,"comment_id":72323335,"body_markdown":"You are right. my point was being a core java question, there is no need for android tag. It is not an android related issue","body":"You are right. my point was being a core java question, there is no need for android tag. It is not an android related issue"},{"owner":{"account_id":8810824,"reputation":197,"user_id":6583944,"accept_rate":50,"display_name":"Sarbjit Singh"},"score":0,"creation_date":1488631687,"post_id":42595963,"comment_id":72323369,"body_markdown":"okay thanks for you suggestion.","body":"okay thanks for you suggestion."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1488632647,"post_id":42595963,"comment_id":72323715,"body_markdown":"Possible duplicate of [How to convert ones&#39; complement number into its 2&#39;s complement?](http://stackoverflow.com/questions/35196967/how-to-convert-ones-complement-number-into-its-2s-complement)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/35196967/how-to-convert-ones-complement-number-into-its-2s-complement\">How to convert ones&#39; complement number into its 2&#39;s complement?</a>"},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":0,"creation_date":1488642734,"post_id":42595963,"comment_id":72326932,"body_markdown":"It&#39;s &quot;complement&quot;, not &quot;compliment&quot;. One should spell the terms of art correctly.","body":"It&#39;s &quot;complement&quot;, not &quot;compliment&quot;. One should spell the terms of art correctly."},{"owner":{"account_id":8810824,"reputation":197,"user_id":6583944,"accept_rate":50,"display_name":"Sarbjit Singh"},"score":0,"creation_date":1488642872,"post_id":42595963,"comment_id":72326979,"body_markdown":"@Lew Bloch Sorry for misspell.","body":"@Lew Bloch Sorry for misspell."}],"answers":[{"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":1,"creation_date":1488634405,"post_id":42596461,"comment_id":72324275,"body_markdown":"Also, without finding the 1&#39;s complement first: go through the original binary string backwards, if you find a 1 flip all other numbers after that 1.","body":"Also, without finding the 1&#39;s complement first: go through the original binary string backwards, if you find a 1 flip all other numbers after that 1."},{"owner":{"account_id":2843312,"reputation":937,"user_id":2442396,"display_name":"bp4D"},"score":0,"creation_date":1543000416,"post_id":42596461,"comment_id":93776280,"body_markdown":"@BackSlash - I think this comment is a saver.  Can you please explain the math behind this?","body":"@BackSlash - I think this comment is a saver.  Can you please explain the math behind this?"},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":1,"creation_date":1543054564,"post_id":42596461,"comment_id":93786267,"body_markdown":"@BhanuDevapatla It&#39;s simple logic :) 2&#39;s complement is: `NOT(original) + 01`. So, for `0001`, it is `NOT(0001) + 01 = 1110 + 01 = 1111`. For `0010` it&#39;s `NOT(0010) + 01 = 1101 + 01 = 1110`. For `0011` it&#39;s `NOT(0011) + 01 = 1100 + 01 = 1101`. For `1111` it&#39;s `NOT(1111) + 01 = 0000 + 01 = 0001`. If you watch closely you&#39;ll notice that this is the same of 1) reading the number from right to left, 2) keeping the bits until you find a `1`, 3) negating all other bits (`0` becomes `1`, `1` becomes `0`).","body":"@BhanuDevapatla It&#39;s simple logic :) 2&#39;s complement is: <code>NOT(original) + 01</code>. So, for <code>0001</code>, it is <code>NOT(0001) + 01 = 1110 + 01 = 1111</code>. For <code>0010</code> it&#39;s <code>NOT(0010) + 01 = 1101 + 01 = 1110</code>. For <code>0011</code> it&#39;s <code>NOT(0011) + 01 = 1100 + 01 = 1101</code>. For <code>1111</code> it&#39;s <code>NOT(1111) + 01 = 0000 + 01 = 0001</code>. If you watch closely you&#39;ll notice that this is the same of 1) reading the number from right to left, 2) keeping the bits until you find a <code>1</code>, 3) negating all other bits (<code>0</code> becomes <code>1</code>, <code>1</code> becomes <code>0</code>)."}],"tags":[],"owner":{"account_id":10377194,"reputation":4505,"user_id":7653073,"display_name":"Malte Hartwig"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488633752,"creation_date":1488633352,"answer_id":42596461,"question_id":42595963,"body_markdown":"[This wikipedia section][1] explains an easy way to get the 2&#39;s complement: Get the 1&#39;s complement, then add 1 (in binary logic). So you can use the `complementFunction` you already have, then go through the String backwards. If you find a 1, flip it and continue. If you find a 0, flip it and stop.\r\n\r\n    String  twos = &quot;&quot;;\r\n    for (int i = bin.length() - 1; i &gt;= 0; i--) {\r\n        if (bin.charAt(i) == &#39;1&#39;) {\r\n            twos = &quot;0&quot; + twos;\r\n        } else {\r\n            twos = bin.substring(0, i) + &quot;1&quot; + two;\r\n            break;\r\n        }\r\n        twos = flip(bin.charAt(i));\r\n    }\r\n    return twos;\r\n  [1]: https://en.wikipedia.org/wiki/Two%27s_complement#From_the_ones.27_complement &quot;Two&#39;s complement&quot;  \r\n\r\n","title":"How to get 2&#39;s complement of a binary number in Java programmatically","body":"<p><a href=\"https://en.wikipedia.org/wiki/Two%27s_complement#From_the_ones.27_complement\" rel=\"nofollow noreferrer\" title=\"Two&#39;s complement\">This wikipedia section</a> explains an easy way to get the 2's complement: Get the 1's complement, then add 1 (in binary logic). So you can use the <code>complementFunction</code> you already have, then go through the String backwards. If you find a 1, flip it and continue. If you find a 0, flip it and stop.</p>\n\n<pre><code>String  twos = \"\";\nfor (int i = bin.length() - 1; i &gt;= 0; i--) {\n    if (bin.charAt(i) == '1') {\n        twos = \"0\" + twos;\n    } else {\n        twos = bin.substring(0, i) + \"1\" + two;\n        break;\n    }\n    twos = flip(bin.charAt(i));\n}\nreturn twos;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8810824,"reputation":197,"user_id":6583944,"accept_rate":50,"display_name":"Sarbjit Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1488863422,"creation_date":1488644382,"answer_id":42598250,"question_id":42595963,"body_markdown":"Thanks for your help everyone.\r\nI got the solution and it is as follows :\r\n\r\n      public String twosCompliment(String bin) {\r\n            String twos = &quot;&quot;, ones = &quot;&quot;;\r\n    \r\n            for (int i = 0; i &lt; bin.length(); i++) {\r\n                ones += flip(bin.charAt(i));\r\n            }\r\n            int number0 = Integer.parseInt(ones, 2);\r\n            StringBuilder builder = new StringBuilder(ones);\r\n            boolean b = false;\r\n            for (int i = ones.length() - 1; i &gt; 0; i--) {\r\n                if (ones.charAt(i) == &#39;1&#39;) {\r\n                    builder.setCharAt(i, &#39;0&#39;);\r\n                } else {\r\n                    builder.setCharAt(i, &#39;1&#39;);\r\n                    b = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!b)\r\n                builder.append(&quot;1&quot;, 0, 7);\r\n    \r\n            twos = builder.toString();\r\n    \r\n            return twos;\r\n        }\r\n\r\n    // Returns &#39;0&#39; for &#39;1&#39; and &#39;1&#39; for &#39;0&#39;\r\n        public char flip(char c) {\r\n            return (c == &#39;0&#39;) ? &#39;1&#39; : &#39;0&#39;;\r\n        }\r\n\r\n\r\nThanks to all for helping.","title":"How to get 2&#39;s complement of a binary number in Java programmatically","body":"<p>Thanks for your help everyone.\nI got the solution and it is as follows :</p>\n\n<pre><code>  public String twosCompliment(String bin) {\n        String twos = \"\", ones = \"\";\n\n        for (int i = 0; i &lt; bin.length(); i++) {\n            ones += flip(bin.charAt(i));\n        }\n        int number0 = Integer.parseInt(ones, 2);\n        StringBuilder builder = new StringBuilder(ones);\n        boolean b = false;\n        for (int i = ones.length() - 1; i &gt; 0; i--) {\n            if (ones.charAt(i) == '1') {\n                builder.setCharAt(i, '0');\n            } else {\n                builder.setCharAt(i, '1');\n                b = true;\n                break;\n            }\n        }\n        if (!b)\n            builder.append(\"1\", 0, 7);\n\n        twos = builder.toString();\n\n        return twos;\n    }\n\n// Returns '0' for '1' and '1' for '0'\n    public char flip(char c) {\n        return (c == '0') ? '1' : '0';\n    }\n</code></pre>\n\n<p>Thanks to all for helping.</p>\n"},{"tags":[],"owner":{"account_id":2843312,"reputation":937,"user_id":2442396,"display_name":"bp4D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543000974,"creation_date":1543000974,"answer_id":53452000,"question_id":42595963,"body_markdown":"@BackSlash&#39;s comment above is intriguing.  This answer is the full program written based on this idea:\r\n\r\n    import java.time.temporal.ValueRange;\r\n    import java.util.Scanner;\r\n    \r\n    //This program generates convert decimal to binary\r\n    public class ConvertDecimalToBinary {\r\n    \r\n    \r\n        public static int getNumberOfBytes(int n) {\r\n            int bytes = 0;\r\n            ValueRange byteRange = ValueRange.of(Byte.MIN_VALUE, Byte.MAX_VALUE);\r\n            ValueRange shortRange = ValueRange.of(Short.MIN_VALUE, Short.MAX_VALUE);\r\n            ValueRange intRange = ValueRange.of(Integer.MIN_VALUE, Integer.MAX_VALUE);\r\n            if (byteRange.isValidValue(n)) {\r\n                bytes = 1;\r\n            } else if (shortRange.isValidValue(n)) {\r\n                bytes = 2;\r\n            } else if (intRange.isValidValue(n)) {\r\n                bytes = 4;\r\n            }\r\n            return bytes;\r\n        }\r\n    \r\n        //Convert a positive decimal number to binary\r\n        public static String convertPositiveNumberToBinary(int n, int bytes,boolean reverse) {\r\n            int bits = 8 * bytes;\r\n            StringBuilder sb = new StringBuilder(bits); //in-bits\r\n            if (n == 0) {\r\n                sb.append(&quot;0&quot;);\r\n            } else {\r\n                while (n &gt; 0) {\r\n                    sb.append(n % 2);\r\n                    n &gt;&gt;= 1;  //aka n/2\r\n                }\r\n            }\r\n    \r\n            if (sb.length() &lt; bits) {\r\n                for (int i = sb.length(); i &lt; bits; i++) {\r\n                    sb.append(&quot;0&quot;);\r\n    \r\n                }\r\n            }\r\n            if (reverse) {\r\n                return sb.toString();\r\n            } else {\r\n                return sb.reverse().toString();\r\n            }\r\n        }\r\n    \r\n        //Convert negative decimal number to binary\r\n        public static String convertNegativeNumberToBinary(int n, int bytes) {\r\n            int m = -n; //conver to positve\r\n            String binary = convertPositiveNumberToBinary(m,bytes,true);\r\n            int len = binary.length();\r\n            StringBuilder sb = new StringBuilder(len); //in-bits\r\n            boolean foundFirstOne = false;\r\n            for(int i=0; i &lt; len;i++) {\r\n                if(foundFirstOne)  {\r\n                    if(binary.charAt(i) == &#39;1&#39;) {\r\n                        sb.append(&#39;0&#39;);\r\n                    }\r\n                    else {\r\n                        sb.append(&#39;1&#39;);\r\n                    }\r\n                }\r\n                else {\r\n                    if(binary.charAt(i) == &#39;1&#39;) {\r\n                        foundFirstOne = true;\r\n                    }\r\n                    sb.append(binary.charAt(i));\r\n                }\r\n            }\r\n            return sb.reverse().toString();\r\n    \r\n        }\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            while(scanner.hasNextInt()) {\r\n                int n = scanner.nextInt();\r\n                int bytes = getNumberOfBytes(n);\r\n                String binary;\r\n    \r\n                if(n &gt;= 0) {\r\n                    binary = convertPositiveNumberToBinary(n,bytes,false);\r\n                }\r\n                else {\r\n                    binary = convertNegativeNumberToBinary(n,bytes);\r\n                }\r\n                System.out.println(String.format(&quot;Binary representation of {%s} is {%s}&quot;,n,binary));\r\n            }\r\n            scanner.close();\r\n        }\r\n    }","title":"How to get 2&#39;s complement of a binary number in Java programmatically","body":"<p>@BackSlash's comment above is intriguing.  This answer is the full program written based on this idea:</p>\n\n<pre><code>import java.time.temporal.ValueRange;\nimport java.util.Scanner;\n\n//This program generates convert decimal to binary\npublic class ConvertDecimalToBinary {\n\n\n    public static int getNumberOfBytes(int n) {\n        int bytes = 0;\n        ValueRange byteRange = ValueRange.of(Byte.MIN_VALUE, Byte.MAX_VALUE);\n        ValueRange shortRange = ValueRange.of(Short.MIN_VALUE, Short.MAX_VALUE);\n        ValueRange intRange = ValueRange.of(Integer.MIN_VALUE, Integer.MAX_VALUE);\n        if (byteRange.isValidValue(n)) {\n            bytes = 1;\n        } else if (shortRange.isValidValue(n)) {\n            bytes = 2;\n        } else if (intRange.isValidValue(n)) {\n            bytes = 4;\n        }\n        return bytes;\n    }\n\n    //Convert a positive decimal number to binary\n    public static String convertPositiveNumberToBinary(int n, int bytes,boolean reverse) {\n        int bits = 8 * bytes;\n        StringBuilder sb = new StringBuilder(bits); //in-bits\n        if (n == 0) {\n            sb.append(\"0\");\n        } else {\n            while (n &gt; 0) {\n                sb.append(n % 2);\n                n &gt;&gt;= 1;  //aka n/2\n            }\n        }\n\n        if (sb.length() &lt; bits) {\n            for (int i = sb.length(); i &lt; bits; i++) {\n                sb.append(\"0\");\n\n            }\n        }\n        if (reverse) {\n            return sb.toString();\n        } else {\n            return sb.reverse().toString();\n        }\n    }\n\n    //Convert negative decimal number to binary\n    public static String convertNegativeNumberToBinary(int n, int bytes) {\n        int m = -n; //conver to positve\n        String binary = convertPositiveNumberToBinary(m,bytes,true);\n        int len = binary.length();\n        StringBuilder sb = new StringBuilder(len); //in-bits\n        boolean foundFirstOne = false;\n        for(int i=0; i &lt; len;i++) {\n            if(foundFirstOne)  {\n                if(binary.charAt(i) == '1') {\n                    sb.append('0');\n                }\n                else {\n                    sb.append('1');\n                }\n            }\n            else {\n                if(binary.charAt(i) == '1') {\n                    foundFirstOne = true;\n                }\n                sb.append(binary.charAt(i));\n            }\n        }\n        return sb.reverse().toString();\n\n    }\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        while(scanner.hasNextInt()) {\n            int n = scanner.nextInt();\n            int bytes = getNumberOfBytes(n);\n            String binary;\n\n            if(n &gt;= 0) {\n                binary = convertPositiveNumberToBinary(n,bytes,false);\n            }\n            else {\n                binary = convertNegativeNumberToBinary(n,bytes);\n            }\n            System.out.println(String.format(\"Binary representation of {%s} is {%s}\",n,binary));\n        }\n        scanner.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678325592,"creation_date":1678325592,"answer_id":75679675,"question_id":42595963,"body_markdown":"I was doing some browsing on this subject and ended up reading this question and its answers. The way I see it, there is this much simpler way to calculate the two&#39;s complement of a integer.\r\n\r\n```\r\npublic static int twosComplement(final int value) {\r\n    final int mask = 0xffff_ffff;\r\n    return (value ^ mask) + 1;\r\n}\r\n\r\npublic static String stringTwosComplement(String bin) {\r\n    int value = Integer.parseInt(bin, 2);\r\n    int result = twosComplement(value);\r\n    return Integer.toBinaryString(result);\r\n}\r\n```\r\n\r\nThe algorithm is based on the same idea @malte-hartwig brought in his answer: the two&#39;s complement is the **one&#39;s complement** plus `1`.","title":"How to get 2&#39;s complement of a binary number in Java programmatically","body":"<p>I was doing some browsing on this subject and ended up reading this question and its answers. The way I see it, there is this much simpler way to calculate the two's complement of a integer.</p>\n<pre><code>public static int twosComplement(final int value) {\n    final int mask = 0xffff_ffff;\n    return (value ^ mask) + 1;\n}\n\npublic static String stringTwosComplement(String bin) {\n    int value = Integer.parseInt(bin, 2);\n    int result = twosComplement(value);\n    return Integer.toBinaryString(result);\n}\n</code></pre>\n<p>The algorithm is based on the same idea @malte-hartwig brought in his answer: the two's complement is the <strong>one's complement</strong> plus <code>1</code>.</p>\n"}],"owner":{"account_id":8810824,"reputation":197,"user_id":6583944,"accept_rate":50,"display_name":"Sarbjit Singh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26270,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":42598250,"answer_count":4,"score":4,"last_activity_date":1678325592,"creation_date":1488630128,"question_id":42595963,"body_markdown":"How to calculate the 2&#39;s Complement of a Hex number in Android/Java.\r\n\r\n        For Example : \r\n        String x = 10011010;\r\n        1&#39;s complement of x = 01100101;\r\n        2&#39;s complement is 01100110;\r\n\r\n*How I can pro-grammatically achieve in Java?*\r\n\r\nI had tried the following code to convert the binary to its 1&#39;s compliment:\r\n\r\n\r\n \r\n\r\n    public String complementFunction(String bin) {\r\n            String  ones = &quot;&quot;;\r\n    \r\n            for (int i = 0; i &lt; bin.length(); i++) {\r\n                ones += flip(bin.charAt(i));\r\n            }\r\n            return ones;\r\n        }\r\n    \r\n    // Returns &#39;0&#39; for &#39;1&#39; and &#39;1&#39; for &#39;0&#39;\r\n        public char flip(char c) {\r\n            return (c == &#39;0&#39;) ? &#39;1&#39; : &#39;0&#39;;\r\n        }\r\n\r\nBut I&#39;m not able to get its two&#39;s complement.\r\n","title":"How to get 2&#39;s complement of a binary number in Java programmatically","body":"<p>How to calculate the 2's Complement of a Hex number in Android/Java.</p>\n\n<pre><code>    For Example : \n    String x = 10011010;\n    1's complement of x = 01100101;\n    2's complement is 01100110;\n</code></pre>\n\n<p><em>How I can pro-grammatically achieve in Java?</em></p>\n\n<p>I had tried the following code to convert the binary to its 1's compliment:</p>\n\n<pre><code>public String complementFunction(String bin) {\n        String  ones = \"\";\n\n        for (int i = 0; i &lt; bin.length(); i++) {\n            ones += flip(bin.charAt(i));\n        }\n        return ones;\n    }\n\n// Returns '0' for '1' and '1' for '0'\n    public char flip(char c) {\n        return (c == '0') ? '1' : '0';\n    }\n</code></pre>\n\n<p>But I'm not able to get its two's complement.</p>\n"},{"tags":["java","aws-lambda","android-management-api"],"owner":{"account_id":21118765,"reputation":43,"user_id":15525282,"display_name":"swdev123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678324561,"creation_date":1678324475,"question_id":75679580,"body_markdown":"I am looking for a way to make the AMA calls from AWS lambda. I came across workload identity federation which will help us make the calls without having to store service account keys. But I am not able to find any documentation on how this can be done for AMA. Is this supported? If so is there a java library that can help simplify these calls?","title":"Is there support for workload identity federation for Android management api to make calls from AWS Lambda","body":"<p>I am looking for a way to make the AMA calls from AWS lambda. I came across workload identity federation which will help us make the calls without having to store service account keys. But I am not able to find any documentation on how this can be done for AMA. Is this supported? If so is there a java library that can help simplify these calls?</p>\n"},{"tags":["java","cron","quartz-scheduler","crontrigger"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1678314414,"post_id":75678701,"comment_id":133510926,"body_markdown":"Also, you want `ofEpochMilli` not `ofEpochSecond`","body":"Also, you want <code>ofEpochMilli</code> not <code>ofEpochSecond</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678314492,"post_id":75678701,"comment_id":133510935,"body_markdown":"I just want to point out that `Date.from(Instant.ofEpochSecond(prevRun))` produces  `Wed Nov 28 21:03:20 AEDT 55151` ... pretty sure you don&#39;t want to wait that long","body":"I just want to point out that <code>Date.from(Instant.ofEpochSecond(prevRun))</code> produces  <code>Wed Nov 28 21:03:20 AEDT 55151</code> ... pretty sure you don&#39;t want to wait that long"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1678314587,"post_id":75678701,"comment_id":133510947,"body_markdown":"Stop worrying about what things like `Date` (you should stop using this) prints by default, it&#39;s `toString` method will make use of the current local/time zone, this is what date formatters are for.  Care only that the value, if converted to UTC, is correct.","body":"Stop worrying about what things like <code>Date</code> (you should stop using this) prints by default, it&#39;s <code>toString</code> method will make use of the current local/time zone, this is what date formatters are for.  Care only that the value, if converted to UTC, is correct."},{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":0,"creation_date":1678314875,"post_id":75678701,"comment_id":133511003,"body_markdown":"@g00se - Adding ofEpochMilli gives `Tue Jan 20 02:10:58 PST 1970`","body":"@g00se - Adding ofEpochMilli gives <code>Tue Jan 20 02:10:58 PST 1970</code>"},{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":0,"creation_date":1678314965,"post_id":75678701,"comment_id":133511017,"body_markdown":"@MadProgrammer - i ad put correct prevRun Value","body":"@MadProgrammer - i ad put correct prevRun Value"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678315039,"post_id":75678701,"comment_id":133511031,"body_markdown":"2023-03-08T07:01:05Z is what it gives me from prevRun. If you want to operate in UTC, you probably want something like `long prevRun = 1678258865000L;\nInstant i = Instant.ofEpochMilli(prevRun);\nZonedDateTime prevRunZdt = ZonedDateTime.ofInstant(i, ZoneId.of(&quot;UTC&quot;));\n// Now add to prevRunZdt`","body":"2023-03-08T07:01:05Z is what it gives me from prevRun. If you want to operate in UTC, you probably want something like <code>long prevRun = 1678258865000L; Instant i = Instant.ofEpochMilli(prevRun); ZonedDateTime prevRunZdt = ZonedDateTime.ofInstant(i, ZoneId.of(&quot;UTC&quot;)); &#47;&#47; Now add to prevRunZdt</code>"},{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":0,"creation_date":1678315277,"post_id":75678701,"comment_id":133511074,"body_markdown":"How do I determine the next cron run? The cron expression using quartz scheduler operates only on Date ? My main problem is determining next run in UTC format.","body":"How do I determine the next cron run? The cron expression using quartz scheduler operates only on Date ? My main problem is determining next run in UTC format."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678315879,"post_id":75678701,"comment_id":133511202,"body_markdown":"Yes you might have to convert back into to `Date` to use that API","body":"Yes you might have to convert back into to <code>Date</code> to use that API"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678317012,"post_id":75678701,"comment_id":133511383,"body_markdown":"`Date.from(ZonedDateTime.ofInstant(Instant.ofEpochMilli(1678258865000L), ZoneId.of(&quot;UTC&quot;)).toInstant());`.  Note `ZonedDateTime.ofInstant` will result in `2023-03-08T07:01:05Z[UTC]` and `Date.from` will result in `Wed Mar 08 18:01:05 AEDT 2023` (for me) which is correct, as AU is +11 hours ahead of UTC - stop worrying about what `Date#toString` prints","body":"<code>Date.from(ZonedDateTime.ofInstant(Instant.ofEpochMilli(16782&zwnj;&#8203;58865000L), ZoneId.of(&quot;UTC&quot;)).toInstant());</code>.  Note <code>ZonedDateTime.ofInstant</code> will result in <code>2023-03-08T07:01:05Z[UTC]</code> and <code>Date.from</code> will result in <code>Wed Mar 08 18:01:05 AEDT 2023</code> (for me) which is correct, as AU is +11 hours ahead of UTC - stop worrying about what <code>Date#toString</code> prints"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678321987,"post_id":75678701,"comment_id":133511977,"body_markdown":"In your first example, I don’t see how that long number corresponds to that date-time mathematically; the fractional second does not match. Furthermore, your date-time lacks an indicator of time zone or offset. Is that meant to be in UTC, an offset of zero?","body":"In your first example, I don’t see how that long number corresponds to that date-time mathematically; the fractional second does not match. Furthermore, your date-time lacks an indicator of time zone or offset. Is that meant to be in UTC, an offset of zero?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678322267,"post_id":75678701,"comment_id":133512011,"body_markdown":"Why don’t you fetch your date-time from the database using `OffsetDateTime` with `ResultSet::getObject` as prescribed by JDBC 4.2+, and as described on many existing Answers on Stack Overflow?","body":"Why don’t you fetch your date-time from the database using <code>OffsetDateTime</code> with <code>ResultSet::getObject</code> as prescribed by JDBC 4.2+, and as described on many existing Answers on Stack Overflow?"},{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":0,"creation_date":1678324376,"post_id":75678701,"comment_id":133512276,"body_markdown":"I just took a sample of a long number that was returned from the database. In the database, it&#39;s stored in UTC time format.","body":"I just took a sample of a long number that was returned from the database. In the database, it&#39;s stored in UTC time format."}],"answers":[{"comments":[{"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"score":0,"creation_date":1678324145,"post_id":75679331,"comment_id":133512240,"body_markdown":"May i know why did you put 18 in the cron expression?","body":"May i know why did you put 18 in the cron expression?"},{"owner":{"account_id":20436985,"reputation":31,"user_id":14994609,"display_name":"Oscar Oliveira"},"score":0,"creation_date":1678325010,"post_id":75679331,"comment_id":133512346,"body_markdown":"Difference of my timezone with UTC.  In your timezone did this code work?","body":"Difference of my timezone with UTC.  In your timezone did this code work?"},{"owner":{"account_id":20436985,"reputation":31,"user_id":14994609,"display_name":"Oscar Oliveira"},"score":0,"creation_date":1678325418,"post_id":75679331,"comment_id":133512393,"body_markdown":"I found it strange that it didn&#39;t work because through cron it would be enough to define &quot;0 * 23 * * ?&quot;, that is, run every 24 hours correct?","body":"I found it strange that it didn&#39;t work because through cron it would be enough to define &quot;0 * 23 * * ?&quot;, that is, run every 24 hours correct?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678359447,"post_id":75679331,"comment_id":133518720,"body_markdown":"We&#39;ve already said, more than once, that `ofEpochSecond` is the wrong way to create the `Instant`","body":"We&#39;ve already said, more than once, that <code>ofEpochSecond</code> is the wrong way to create the <code>Instant</code>"}],"tags":[],"owner":{"account_id":20436985,"reputation":31,"user_id":14994609,"display_name":"Oscar Oliveira"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1678323713,"creation_date":1678320658,"answer_id":75679331,"question_id":75678701,"body_markdown":"Good night friend\r\n\r\n    \tlong prevRun = 1678298465L; // is Wed Mar 08 15:01:05 BRT\r\n\t\tfinal CronExpression cronExpression = new CronExpression(&quot;0 1 18 * * ?&quot;);\r\n\t    cronExpression.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n\t    Date date = Date.from(Instant.ofEpochSecond(prevRun)); \r\n\t    Date nextRun = cronExpression.getNextValidTimeAfter(date);\r\n\t    System.out.println(date);        // Wed Mar 08 15:01:05 BRT 2023\r\n\t    System.out.println(nextRun);     // Thu Mar 09 15:01:00 BRT 2023","title":"Convert next cron time in UTC format","body":"<p>Good night friend</p>\n<pre><code>    long prevRun = 1678298465L; // is Wed Mar 08 15:01:05 BRT\n    final CronExpression cronExpression = new CronExpression(&quot;0 1 18 * * ?&quot;);\n    cronExpression.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\n    Date date = Date.from(Instant.ofEpochSecond(prevRun)); \n    Date nextRun = cronExpression.getNextValidTimeAfter(date);\n    System.out.println(date);        // Wed Mar 08 15:01:05 BRT 2023\n    System.out.println(nextRun);     // Thu Mar 09 15:01:00 BRT 2023\n</code></pre>\n"}],"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75679331,"answer_count":1,"score":-1,"last_activity_date":1678324405,"creation_date":1678313447,"question_id":75678701,"body_markdown":"My database has times in UTC format. When I fetch from the database it comes in a long datatype format. For eg \r\n\r\n    In DB - 2023-03-08 15:01:05.234081\r\n    Corresponding Long - 1678258865\r\n\r\nI am having a cron expression and trying to determine the next time to be run for the particular data. For eg, the next run should be at 2023-03-09 15:00:00.234081 UTC for the above data.\r\n\r\n        long prevRun = 1678258865L;\r\n        final CronExpression cronExpression = new CronExpression(&quot;0 1 0 * * ?&quot;);\r\n        cronExpression.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n        Date date = Date.from(Instant.ofEpochSecond(prevRun)); =&gt; Outputs Tue Mar 07 23:01:05 PST 2023\r\n        Date nextRun = cronExpression.getNextValidTimeAfter(prevRun); =&gt; Outputs Wed Mar 08 16:01:00 PST 2023\r\n\r\nThe fourth line always gives in the local system time zone which is why the cron gives this output. \r\nAny advice on how I can get a new run in UTC time format for the above cron expression? I am using a cron quartz expression parser for my current use case.","title":"Convert next cron time in UTC format","body":"<p>My database has times in UTC format. When I fetch from the database it comes in a long datatype format. For eg</p>\n<pre><code>In DB - 2023-03-08 15:01:05.234081\nCorresponding Long - 1678258865\n</code></pre>\n<p>I am having a cron expression and trying to determine the next time to be run for the particular data. For eg, the next run should be at 2023-03-09 15:00:00.234081 UTC for the above data.</p>\n<pre><code>    long prevRun = 1678258865L;\n    final CronExpression cronExpression = new CronExpression(&quot;0 1 0 * * ?&quot;);\n    cronExpression.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\n    Date date = Date.from(Instant.ofEpochSecond(prevRun)); =&gt; Outputs Tue Mar 07 23:01:05 PST 2023\n    Date nextRun = cronExpression.getNextValidTimeAfter(prevRun); =&gt; Outputs Wed Mar 08 16:01:00 PST 2023\n</code></pre>\n<p>The fourth line always gives in the local system time zone which is why the cron gives this output.\nAny advice on how I can get a new run in UTC time format for the above cron expression? I am using a cron quartz expression parser for my current use case.</p>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":5360271,"reputation":4735,"user_id":4271755,"accept_rate":100,"display_name":"Invisible Arrow"},"score":1,"creation_date":1424452977,"post_id":28634586,"comment_id":45569247,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/9482309/javadoc-bug-link-cant-handle-generics","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/9482309/javadoc-bug-link-cant-handle-generics\" title=\"javadoc bug link cant handle generics\">stackoverflow.com/questions/9482309/&hellip;</a>"},{"owner":{"account_id":181369,"reputation":2736,"user_id":415320,"accept_rate":100,"display_name":"Valentin Ruano"},"score":0,"creation_date":1424452993,"post_id":28634586,"comment_id":45569254,"body_markdown":"Type parameters do not change the signature of the methods and so there is no chance you are going to have more than one method with two different component types for the list argument; that would result in a compilation error. So the link will always work. If what you are worried about is the text that appears in the final documentation link you can control that with a their argument for the {@link annotation.","body":"Type parameters do not change the signature of the methods and so there is no chance you are going to have more than one method with two different component types for the list argument; that would result in a compilation error. So the link will always work. If what you are worried about is the text that appears in the final documentation link you can control that with a their argument for the {@link annotation."},{"owner":{"account_id":10069,"reputation":55091,"user_id":18852,"accept_rate":67,"display_name":"Senthil Kumaran"},"score":0,"creation_date":1424453037,"post_id":28634586,"comment_id":45569287,"body_markdown":"This question is not generics.","body":"This question is not generics."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1424453683,"post_id":28634586,"comment_id":45569664,"body_markdown":"@ValentinRuano, I think I see what you&#39;re getting at, but type parameters are significant in the signature -- the output type of a call can be affected by type parameters that appear in the signature.  Type parameters in the signature do not affect static dispatch though -- you can&#39;t overload a method by changing only type parameters so you can&#39;t affect which method is called by adding or specializing type parameters to the static type of inputs.","body":"@ValentinRuano, I think I see what you&#39;re getting at, but type parameters are significant in the signature -- the output type of a call can be affected by type parameters that appear in the signature.  Type parameters in the signature do not affect static dispatch though -- you can&#39;t overload a method by changing only type parameters so you can&#39;t affect which method is called by adding or specializing type parameters to the static type of inputs."},{"owner":{"account_id":181369,"reputation":2736,"user_id":415320,"accept_rate":100,"display_name":"Valentin Ruano"},"score":0,"creation_date":1424456931,"post_id":28634586,"comment_id":45571346,"body_markdown":"@MikeSamuel the return type may change but overloaded methods should pretty much do the same albeit with different input parameters. I think that if it is important for the documentation that the link (note that this is just a link) has the full list of args (specially if more than 2) to understand it, is a sign that either you are over-overloading or the documentation around that link can be written better. I think that the main reason behind the possibility of adding the formal arguments is to de-ambiguate the link itself and not documenting per se; the user should follow the link for that","body":"@MikeSamuel the return type may change but overloaded methods should pretty much do the same albeit with different input parameters. I think that if it is important for the documentation that the link (note that this is just a link) has the full list of args (specially if more than 2) to understand it, is a sign that either you are over-overloading or the documentation around that link can be written better. I think that the main reason behind the possibility of adding the formal arguments is to de-ambiguate the link itself and not documenting per se; the user should follow the link for that"}],"answers":[{"comments":[{"owner":{"account_id":10069,"reputation":55091,"user_id":18852,"accept_rate":67,"display_name":"Senthil Kumaran"},"score":0,"creation_date":1424453132,"post_id":28634729,"comment_id":45569351,"body_markdown":"But this does not denote that mine is a List of Strings?","body":"But this does not denote that mine is a List of Strings?"},{"owner":{"account_id":181369,"reputation":2736,"user_id":415320,"accept_rate":100,"display_name":"Valentin Ruano"},"score":1,"creation_date":1424453180,"post_id":28634729,"comment_id":45569374,"body_markdown":"@SenthilKumaran does it really matter, that is just a link to the corresponding documentation","body":"@SenthilKumaran does it really matter, that is just a link to the corresponding documentation"},{"owner":{"account_id":411202,"reputation":41997,"user_id":783510,"accept_rate":91,"display_name":"Philipp Cla&#223;en"},"score":0,"creation_date":1424453207,"post_id":28634729,"comment_id":45569396,"body_markdown":"Yes, I think the explanation given in this answer shows the reason: http://stackoverflow.com/a/9541824/783510","body":"Yes, I think the explanation given in this answer shows the reason: <a href=\"http://stackoverflow.com/a/9541824/783510\">stackoverflow.com/a/9541824/783510</a>"}],"tags":[],"owner":{"account_id":411202,"reputation":41997,"user_id":783510,"accept_rate":91,"display_name":"Philipp Cla&#223;en"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424453102,"creation_date":1424453102,"answer_id":28634729,"question_id":28634586,"body_markdown":"That should work:\r\n\r\n    {@link #getVersionMetadata(String, String, String, List)}\r\n","title":"Javadoc link tag with List parameter","body":"<p>That should work:</p>\n\n<pre><code>{@link #getVersionMetadata(String, String, String, List)}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":181369,"reputation":2736,"user_id":415320,"accept_rate":100,"display_name":"Valentin Ruano"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1424453249,"creation_date":1424453249,"answer_id":28634784,"question_id":28634586,"body_markdown":"You can change the text in the link to reflect the list type parameter like so...\r\n\r\n       {@link #getVersionMetadata(String, String, String, List) getVersionMetaData(String,String,String,List&amp;lt;String&amp;gt;)}","title":"Javadoc link tag with List parameter","body":"<p>You can change the text in the link to reflect the list type parameter like so...</p>\n\n<pre><code>   {@link #getVersionMetadata(String, String, String, List) getVersionMetaData(String,String,String,List&amp;lt;String&amp;gt;)}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27969916,"reputation":1,"user_id":21359844,"display_name":"Jesse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678323443,"creation_date":1678323443,"answer_id":75679519,"question_id":28634586,"body_markdown":"An alternative which works in IntelliJ and actually links to the classes. I&#39;m unsure how it will appear in other IDEs.\r\n```\r\n{@link List}&lt;{@link String}&gt;\r\n```","title":"Javadoc link tag with List parameter","body":"<p>An alternative which works in IntelliJ and actually links to the classes. I'm unsure how it will appear in other IDEs.</p>\n<pre><code>{@link List}&lt;{@link String}&gt;\n</code></pre>\n"}],"owner":{"account_id":10069,"reputation":55091,"user_id":18852,"accept_rate":67,"display_name":"Senthil Kumaran"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28634784,"answer_count":3,"score":1,"last_activity_date":1678323443,"creation_date":1424452587,"question_id":28634586,"body_markdown":"I was writing a javadoc link tag, with the parameter List as something like this.\r\n\r\n    {@link #getVersionMetadata(String, String, String, List&lt;String&gt;)\r\n\r\nIt does not feel right to me. And escaping the `&lt;` and `&gt;` does not seem acceptable by the IDE.\r\n\r\n    {@link #getVersionMetadata(String, String, String, List&amp;lt;String&amp;gt;)\r\n\r\nWhat is the correct way to use List&lt;&gt; with javadoc @link?","title":"Javadoc link tag with List parameter","body":"<p>I was writing a javadoc link tag, with the parameter List as something like this.</p>\n\n<pre><code>{@link #getVersionMetadata(String, String, String, List&lt;String&gt;)\n</code></pre>\n\n<p>It does not feel right to me. And escaping the <code>&lt;</code> and <code>&gt;</code> does not seem acceptable by the IDE.</p>\n\n<pre><code>{@link #getVersionMetadata(String, String, String, List&amp;lt;String&amp;gt;)\n</code></pre>\n\n<p>What is the correct way to use List&lt;> with javadoc @link?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1635318124,"post_id":69734102,"comment_id":123261829,"body_markdown":"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools","body":"<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"score":0,"creation_date":1635321072,"post_id":69734102,"comment_id":123262943,"body_markdown":"i dont understand how it can help ... sorry @Boris the Spider","body":"i dont understand how it can help ... sorry @Boris the Spider"},{"owner":{"account_id":11179248,"reputation":11910,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1635326635,"post_id":69734102,"comment_id":123265227,"body_markdown":"This instruction describes how to use Spring dev tools in IntelliJ IDEA: https://faun.pub/10-steps-to-enabling-auto-reload-for-spring-boot-in-intellij-230326413b68","body":"This instruction describes how to use Spring dev tools in IntelliJ IDEA: <a href=\"https://faun.pub/10-steps-to-enabling-auto-reload-for-spring-boot-in-intellij-230326413b68\" rel=\"nofollow noreferrer\">faun.pub/&hellip;</a>"},{"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"score":0,"creation_date":1635331196,"post_id":69734102,"comment_id":123267159,"body_markdown":"my question now is specific to spring but it is general question\ni update my question","body":"my question now is specific to spring but it is general question i update my question"}],"owner":{"account_id":24987,"reputation":30045,"user_id":63898,"accept_rate":64,"display_name":"user63898"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678322994,"creation_date":1635317926,"question_id":69734102,"body_markdown":"I have Spring Boot server which build from different modules, now starting the server takes a lot of time. Currently when I&#39;m doing change I need to stop the server, `cd` to the module directory run `mvn clean install`, and then in the IDE pressing the debug button to start the server so it will reload the new compiled module.\r\n\r\nMy question is is there any way to compile and load the module without stopping the server from within the IDE? It&#39;s not Spring or other framework question, it is general IDE specific.\r\n\r\n","title":"How to compile jar/artifact and dynamically load it without stopping the server in debug mode (Maven project)","body":"<p>I have Spring Boot server which build from different modules, now starting the server takes a lot of time. Currently when I'm doing change I need to stop the server, <code>cd</code> to the module directory run <code>mvn clean install</code>, and then in the IDE pressing the debug button to start the server so it will reload the new compiled module.</p>\n<p>My question is is there any way to compile and load the module without stopping the server from within the IDE? It's not Spring or other framework question, it is general IDE specific.</p>\n"},{"tags":["java","kotlin","oop","libgdx"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1678902982,"post_id":75679070,"comment_id":133624976,"body_markdown":"I would rename those functions to something like `generateNewScreen()`, since by convention `getScreen()` on an enum implies it returns the same instance each time.","body":"I would rename those functions to something like <code>generateNewScreen()</code>, since by convention <code>getScreen()</code> on an enum implies it returns the same instance each time."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678317507,"creation_date":1678317507,"answer_id":75679092,"question_id":75679070,"body_markdown":"Make it a shared abstract method:\r\n\r\n    enum class ScreenEnum {\r\n        MAIN_MENU {\r\n            override fun getScreen(): BaseScreen {\r\n                return MenuScreen()\r\n            }\r\n        },\r\n        GAME {\r\n            override fun getScreen(): BaseScreen {\r\n                return GameScreen()\r\n            }\r\n        };\r\n    \r\n        abstract fun getScreen(): BaseScreen\r\n    }","title":"In kotlin how can I access this function from enum class in another class?","body":"<p>Make it a shared abstract method:</p>\n<pre><code>enum class ScreenEnum {\n    MAIN_MENU {\n        override fun getScreen(): BaseScreen {\n            return MenuScreen()\n        }\n    },\n    GAME {\n        override fun getScreen(): BaseScreen {\n            return GameScreen()\n        }\n    };\n\n    abstract fun getScreen(): BaseScreen\n}\n</code></pre>\n"}],"owner":{"account_id":26484919,"reputation":18,"user_id":20123654,"display_name":"David Rocha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75679092,"answer_count":1,"score":0,"last_activity_date":1678322906,"creation_date":1678317377,"question_id":75679070,"body_markdown":"To facilitate navigation between screens in my game I created this class\r\n\r\n```kt\r\nenum class ScreenEnum {\r\n    MAIN_MENU {\r\n        fun getScreen(): BaseScreen {\r\n            return MenuScreen()\r\n        }\r\n    },\r\n    GAME {\r\n        fun getScreen(): BaseScreen {\r\n            return GameScreen()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut I don&#39;t know how I can access these methods from another class in kotlin, did I do something wrong when creating the enum class? Thanks in advance if you can help me.\r\n\r\n```kt\r\nclass Game() : BaseGame() {\r\n    override fun create() {\r\n       super.create()\r\n       // -&gt; Here is where I am trying to access the getScreen method\r\n       // ScreenEnum.MAIN_MENU\r\n    }\r\n}\r\n```\r\n\r\nI tried to access from a java class but without success","title":"In kotlin how can I access this function from enum class in another class?","body":"<p>To facilitate navigation between screens in my game I created this class</p>\n<pre><code>enum class ScreenEnum {\n    MAIN_MENU {\n        fun getScreen(): BaseScreen {\n            return MenuScreen()\n        }\n    },\n    GAME {\n        fun getScreen(): BaseScreen {\n            return GameScreen()\n        }\n    }\n}\n</code></pre>\n<p>But I don't know how I can access these methods from another class in kotlin, did I do something wrong when creating the enum class? Thanks in advance if you can help me.</p>\n<pre><code>class Game() : BaseGame() {\n    override fun create() {\n       super.create()\n       // -&gt; Here is where I am trying to access the getScreen method\n       // ScreenEnum.MAIN_MENU\n    }\n}\n</code></pre>\n<p>I tried to access from a java class but without success</p>\n"},{"tags":["java","java-14"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1678322105,"post_id":75679239,"comment_id":133511999,"body_markdown":"Java 14 is end-of-life.  You shouldn&#39;t be using it to learn about new Java language constructs.  Use Java 17.  (Or later if you are trying to learn about post Java 17 features ...)   I don&#39;t know if it will make a difference here ... but this could be a Java compiler or JLS bug that has been fixed by Java 17.","body":"Java 14 is end-of-life.  You shouldn&#39;t be using it to learn about new Java language constructs.  Use Java 17.  (Or later if you are trying to learn about post Java 17 features ...)   I don&#39;t know if it will make a difference here ... but this could be a Java compiler or JLS bug that has been fixed by Java 17."},{"owner":{"account_id":7123842,"reputation":27597,"user_id":5684257,"display_name":"HTNW"},"score":1,"creation_date":1678322353,"post_id":75679239,"comment_id":133512024,"body_markdown":"@StephenC This has not changed since Java 14.","body":"@StephenC This has not changed since Java 14."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1678322403,"post_id":75679239,"comment_id":133512030,"body_markdown":"Even so, using an EOL&#39;d Java version to learn Java is ... asking for trouble.","body":"Even so, using an EOL&#39;d Java version to learn Java is ... asking for trouble."},{"owner":{"account_id":17066586,"reputation":4516,"user_id":12348584,"display_name":"H3AR7B3A7"},"score":0,"creation_date":1678322621,"post_id":75679239,"comment_id":133512060,"body_markdown":"Does this answer your question? [Why &#39;&amp;&amp;&#39; and not &#39;&amp;&#39;?](https://stackoverflow.com/questions/7331686/why-and-not)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7331686/why-and-not\">Why &#39;&amp;&amp;&#39; and not &#39;&amp;&#39;?</a>"},{"owner":{"account_id":3156670,"reputation":71,"user_id":2668926,"display_name":"davidandcode"},"score":0,"creation_date":1678324778,"post_id":75679239,"comment_id":133512327,"body_markdown":"my bad what i meant was really java 17","body":"my bad what i meant was really java 17"}],"answers":[{"comments":[{"owner":{"account_id":3156670,"reputation":71,"user_id":2668926,"display_name":"davidandcode"},"score":0,"creation_date":1678325988,"post_id":75679436,"comment_id":133512468,"body_markdown":"in the &amp; case, if the compiler can&#39;t figure out from static code if the &quot;myObj instanceof Integer iObj&quot; has been evaluated then why the compiler can figure it out in the &amp;&amp; case?","body":"in the &amp; case, if the compiler can&#39;t figure out from static code if the &quot;myObj instanceof Integer iObj&quot; has been evaluated then why the compiler can figure it out in the &amp;&amp; case?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1678335968,"post_id":75679436,"comment_id":133513641,"body_markdown":"Because the spec says that the compiler must do so for `&amp;&amp;`, and not for `&amp;`. As I said, &#39;cuz spec said so&#39; is what this boils down to. There is no clear reason for why the spec says so. `javac` is on rails: It must do precisely what the spec says. No less, but also _no more_ either.","body":"Because the spec says that the compiler must do so for <code>&amp;&amp;</code>, and not for <code>&amp;</code>. As I said, &#39;cuz spec said so&#39; is what this boils down to. There is no clear reason for why the spec says so. <code>javac</code> is on rails: It must do precisely what the spec says. No less, but also <i>no more</i> either."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1678362093,"post_id":75679436,"comment_id":133519419,"body_markdown":"@H3AR7B3A7 the `&amp;` operator is as old as the `&amp;&amp;` operator—both exist in Java since day one. And it’s not helpful to call `&amp;` a “bitwise operator”, as you can use it for `boolean` expressions too. And in case of the “Definite Assignment” rules, it is considered. It’s just that there is no point in ever appending `&amp; … instanceof …` to a condition, as that would mean: “perform this type check even if you know that it has no effect”","body":"@H3AR7B3A7 the <code>&amp;</code> operator is as old as the <code>&amp;&amp;</code> operator—both exist in Java since day one. And it’s not helpful to call <code>&amp;</code> a “bitwise operator”, as you can use it for <code>boolean</code> expressions too. And in case of the “Definite Assignment” rules, it is considered. It’s just that there is no point in ever appending <code>&amp; … instanceof …</code> to a condition, as that would mean: “perform this type check even if you know that it has no effect”"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1678366479,"post_id":75679436,"comment_id":133520692,"body_markdown":"@Holger is playing a dangerous game, trying to divine the intent of the spec author, but &#39;... this seems kinda useless&#39; is a very plausible guess. Various OpenJDK team leads and committers are on record about wanting to err on the side of disallowing things rather than allowing them, because you can &#39;fix&#39; a disallow into an allow later with more insights, but you can&#39;t change an allow into a disallow later with more insight (not without breaking backwards compatibility). &quot;Seems useless&quot; + &quot;when in doubt, disallow&quot; together are hopefully enough to satisfy your curiosity :)","body":"@Holger is playing a dangerous game, trying to divine the intent of the spec author, but &#39;... this seems kinda useless&#39; is a very plausible guess. Various OpenJDK team leads and committers are on record about wanting to err on the side of disallowing things rather than allowing them, because you can &#39;fix&#39; a disallow into an allow later with more insights, but you can&#39;t change an allow into a disallow later with more insight (not without breaking backwards compatibility). &quot;Seems useless&quot; + &quot;when in doubt, disallow&quot; together are hopefully enough to satisfy your curiosity :)"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1678366518,"post_id":75679436,"comment_id":133520709,"body_markdown":"And that record is the various mailing lists, such as [amber-dev](https://mail.openjdk.org/mailman/listinfo/amber-dev), core-libs-dev, valhalla-dev, etcetera.","body":"And that record is the various mailing lists, such as <a href=\"https://mail.openjdk.org/mailman/listinfo/amber-dev\" rel=\"nofollow noreferrer\">amber-dev</a>, core-libs-dev, valhalla-dev, etcetera."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678367133,"post_id":75679436,"comment_id":133520914,"body_markdown":"I did not intent to pretend to know the spec author’s intention. My comment was meant as a response to a now-deleted comment, addressing the actual differences between `&amp;` and `&amp;&amp;`. You’re right that it is an established practice to start with disallowing something (or everything except something) and waiting whether someone requests adding the missing feature. Well, and that leads to the conclusion that it is rather unlikely that someone can explain why they need support for writing `&amp; … instanceof …` instead of `&amp;&amp; … instanceof …`…","body":"I did not intent to pretend to know the spec author’s intention. My comment was meant as a response to a now-deleted comment, addressing the actual differences between <code>&amp;</code> and <code>&amp;&amp;</code>. You’re right that it is an established practice to start with disallowing something (or everything except something) and waiting whether someone requests adding the missing feature. Well, and that leads to the conclusion that it is rather unlikely that someone can explain why they need support for writing <code>&amp; … instanceof …</code> instead of <code>&amp;&amp; … instanceof …</code>…"},{"owner":{"account_id":3156670,"reputation":71,"user_id":2668926,"display_name":"davidandcode"},"score":0,"creation_date":1678390250,"post_id":75679436,"comment_id":133528025,"body_markdown":"Is there any way that I can see how &amp; and &amp;&amp; were compiled?","body":"Is there any way that I can see how &amp; and &amp;&amp; were compiled?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1678410374,"post_id":75679436,"comment_id":133531797,"body_markdown":"Sure, `javap -c -v ClassName` can do that.","body":"Sure, <code>javap -c -v ClassName</code> can do that."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678322108,"creation_date":1678322108,"answer_id":75679436,"question_id":75679239,"body_markdown":"Indeed, &#39;right side will not necessarily be evaluated&#39; is just completely wrong.\r\n\r\n`&amp;&amp;` is legal because __within the if statement__, you have an absolute guarantee that `myObj instanceof Integer iObj` will have been evaluated, _and_ evaluated to true (thus establishing `iObj` in the scope of the code inside the if block). Given `a &amp;&amp; b`, b is not neccessarily evaluated, but if code flows into that `if`, b definitely has been, which is why your first snippet compiles.\r\n\r\n`&amp;` is presumably not legal here because the spec didn&#39;t bother. There is no explanation that involves a scenario where `myObj instanceof Integer iObj` either didn&#39;t get evaluated, or evaluated to `false` somehow. Inside the if block, it _will have been evaluated, and will have evaluated to `true`_. But, the point is, the compiler has to figure out that based on static code analysis and _that part_ is where the spec doesn&#39;t bother listing out explicitly that `boolean &amp; boolean` establishes definite evaluation (and definitely true evaluation).\r\n","title":"Java&#39;s &quot;&amp;&amp;&quot; vs &quot;&amp;&quot; operator","body":"<p>Indeed, 'right side will not necessarily be evaluated' is just completely wrong.</p>\n<p><code>&amp;&amp;</code> is legal because <strong>within the if statement</strong>, you have an absolute guarantee that <code>myObj instanceof Integer iObj</code> will have been evaluated, <em>and</em> evaluated to true (thus establishing <code>iObj</code> in the scope of the code inside the if block). Given <code>a &amp;&amp; b</code>, b is not neccessarily evaluated, but if code flows into that <code>if</code>, b definitely has been, which is why your first snippet compiles.</p>\n<p><code>&amp;</code> is presumably not legal here because the spec didn't bother. There is no explanation that involves a scenario where <code>myObj instanceof Integer iObj</code> either didn't get evaluated, or evaluated to <code>false</code> somehow. Inside the if block, it <em>will have been evaluated, and will have evaluated to <code>true</code></em>. But, the point is, the compiler has to figure out that based on static code analysis and <em>that part</em> is where the spec doesn't bother listing out explicitly that <code>boolean &amp; boolean</code> establishes definite evaluation (and definitely true evaluation).</p>\n"}],"owner":{"account_id":3156670,"reputation":71,"user_id":2668926,"display_name":"davidandcode"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":1,"score":3,"last_activity_date":1678322108,"creation_date":1678319306,"question_id":75679239,"body_markdown":"I am using the example from Java the complete reference by Herbert Schildt, 12th ed and Java is 14\r\n\r\nWhere he gives the 2 following examples (if blocks), the first one is ok and the 2nd one is wrong therefore commented\r\n\r\n    public class PatternMatch {\r\n        public static void main(String[] args){\r\n            Number myOb = Integer.valueOf(9);\r\n            int count = 10;\r\n            if((count &lt; 100) &amp;&amp; myOb instanceof Integer iObj) { // is OK!!!\r\n                iObj = count;\r\n            }\r\n\r\n            /*\r\n            if((count &lt; 100) &amp; myOb instanceof Integer iObj) { // Error!!!\r\n                iObj = count;\r\n            }\r\n            */\r\n        }\r\n    }\r\n\r\nHis explanation on why the 2nd if block (commented out) is &quot;In this case, the compiler cannot know whether or not iObj will be in scope in the if block because the right side of the &amp; will not necessarily be evaluated&quot;. This leads to my confusion: &amp; makes sure both its left and right sides are ALWAYS evaluated so why &quot;because the right side of the &amp; will not necessarily be evaluated&quot;?\r\n\r\nThanks! \r\n\r\nif you put the java14 code in your IDE, you do see the 2nd if block produces the compilation error saying iObj not defined... but I just don&#39;t understand his explanation:\r\n\r\nHis explanation on why the 2nd if block is &quot;In this case, the compiler cannot know whether or not iObj will be in scope in the if block because the right side of the &amp; will not necessarily be evaluated&quot;. This leads to my confusion: &amp; makes sure both its left and right sides are ALWAYS evaluated so why &quot;because the right side of the &amp; will not necessarily be evaluated&quot;?\r\n\r\n    public class PatternMatch {\r\n        public static void main(String[] args){\r\n            Number myOb = Integer.valueOf(9);\r\n            int count = 10;\r\n            if((count &lt; 100) &amp;&amp; myOb instanceof Integer iObj) { // is OK!!!\r\n                iObj = count;\r\n            }\r\n\r\n        \r\n            if((count &lt; 100) &amp; myOb instanceof Integer iObj) { // Error!!!\r\n                iObj = count;\r\n            }\r\n       \r\n        }\r\n    }\r\n","title":"Java&#39;s &quot;&amp;&amp;&quot; vs &quot;&amp;&quot; operator","body":"<p>I am using the example from Java the complete reference by Herbert Schildt, 12th ed and Java is 14</p>\n<p>Where he gives the 2 following examples (if blocks), the first one is ok and the 2nd one is wrong therefore commented</p>\n<pre><code>public class PatternMatch {\n    public static void main(String[] args){\n        Number myOb = Integer.valueOf(9);\n        int count = 10;\n        if((count &lt; 100) &amp;&amp; myOb instanceof Integer iObj) { // is OK!!!\n            iObj = count;\n        }\n\n        /*\n        if((count &lt; 100) &amp; myOb instanceof Integer iObj) { // Error!!!\n            iObj = count;\n        }\n        */\n    }\n}\n</code></pre>\n<p>His explanation on why the 2nd if block (commented out) is &quot;In this case, the compiler cannot know whether or not iObj will be in scope in the if block because the right side of the &amp; will not necessarily be evaluated&quot;. This leads to my confusion: &amp; makes sure both its left and right sides are ALWAYS evaluated so why &quot;because the right side of the &amp; will not necessarily be evaluated&quot;?</p>\n<p>Thanks!</p>\n<p>if you put the java14 code in your IDE, you do see the 2nd if block produces the compilation error saying iObj not defined... but I just don't understand his explanation:</p>\n<p>His explanation on why the 2nd if block is &quot;In this case, the compiler cannot know whether or not iObj will be in scope in the if block because the right side of the &amp; will not necessarily be evaluated&quot;. This leads to my confusion: &amp; makes sure both its left and right sides are ALWAYS evaluated so why &quot;because the right side of the &amp; will not necessarily be evaluated&quot;?</p>\n<pre><code>public class PatternMatch {\n    public static void main(String[] args){\n        Number myOb = Integer.valueOf(9);\n        int count = 10;\n        if((count &lt; 100) &amp;&amp; myOb instanceof Integer iObj) { // is OK!!!\n            iObj = count;\n        }\n\n    \n        if((count &lt; 100) &amp; myOb instanceof Integer iObj) { // Error!!!\n            iObj = count;\n        }\n   \n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1512725,"reputation":405,"user_id":1414420,"accept_rate":44,"display_name":"spy-killer"},"score":0,"creation_date":1678247752,"post_id":75669280,"comment_id":133494692,"body_markdown":"This is not framed in a question what specifically are you having difficulty with and what have you tried so far to get it working?","body":"This is not framed in a question what specifically are you having difficulty with and what have you tried so far to get it working?"},{"owner":{"account_id":27816069,"reputation":43,"user_id":21237425,"display_name":"Myrdock"},"score":0,"creation_date":1678249726,"post_id":75669280,"comment_id":133494965,"body_markdown":"I have to count the number of attempts and the number of problems gotten right in the add, subtract, and multiply functions and send these numbers to the student class. I have tried to create variables in several places to send the counts to the main class so I can send them over but nothing works.","body":"I have to count the number of attempts and the number of problems gotten right in the add, subtract, and multiply functions and send these numbers to the student class. I have tried to create variables in several places to send the counts to the main class so I can send them over but nothing works."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1678311156,"post_id":75669280,"comment_id":133510256,"body_markdown":"I have edited your question, adding your comment to clarify the question for those who complained about its unclarity.","body":"I have edited your question, adding your comment to clarify the question for those who complained about its unclarity."}],"answers":[{"tags":[],"owner":{"account_id":2708451,"reputation":674,"user_id":2337522,"display_name":"Sky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678264841,"creation_date":1678264841,"answer_id":75670893,"question_id":75669280,"body_markdown":"You need to make sure that the `student` object, which you create in method `main`, can be accessed from your `addition()`, `substraction()`, etc. methods.\r\n\r\nTo achieve this, you could pass the `student` object as parameter to these methods, or declare `student` as static variable on class `MathTutor`, like this:\r\n\r\n    public class MathTutor {\r\n        private static Student student;\r\n\r\n\r\nNext, in order to count attempts, you need to call your student&#39;s `attempted` and `correct` methods from within `addition()`, `substraction()`, and so on. I&#39;d change these methods to something like this, so that they increase internal counters of the `student` object, e.g.:\r\n\r\n    public void addAttempt() {\r\n        attempted++;\r\n    }\r\n\r\nThen at the end, your `results()` method can print out results of a student, just like you did in your out-commented code.","title":"Math Tutor sending correct variable and attempted variable to second class","body":"<p>You need to make sure that the <code>student</code> object, which you create in method <code>main</code>, can be accessed from your <code>addition()</code>, <code>substraction()</code>, etc. methods.</p>\n<p>To achieve this, you could pass the <code>student</code> object as parameter to these methods, or declare <code>student</code> as static variable on class <code>MathTutor</code>, like this:</p>\n<pre><code>public class MathTutor {\n    private static Student student;\n</code></pre>\n<p>Next, in order to count attempts, you need to call your student's <code>attempted</code> and <code>correct</code> methods from within <code>addition()</code>, <code>substraction()</code>, and so on. I'd change these methods to something like this, so that they increase internal counters of the <code>student</code> object, e.g.:</p>\n<pre><code>public void addAttempt() {\n    attempted++;\n}\n</code></pre>\n<p>Then at the end, your <code>results()</code> method can print out results of a student, just like you did in your out-commented code.</p>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678321579,"creation_date":1678311098,"answer_id":75678430,"question_id":75669280,"body_markdown":"Since this is an exercise I will refrain from solving it, but I will provide you the guidance you need to make sure you will be able to solve it.\r\n\r\nLet&#39;s consider this class:\r\n\r\n```\r\npublic class Foo {\r\n    //...\r\n    public int getSomeValue() {\r\n        return 42; // you can use your own value instead, this is just an example\r\n    }\r\n    //...\r\n    public Foo() {} //An empty constructor for the sake of simplicity\r\n    //...\r\n}\r\n```\r\n\r\nNow, let&#39;s consider another class\r\n\r\n```\r\npublic class Bar {\r\n    public void doSomething() {\r\n        Foo foo = new Foo();\r\n        int someValue = foo.getSomeValue();\r\n        //Do something with someValue\r\n    }\r\n}\r\n```\r\n\r\nWe have used a [getter][1] inside `doSomething` in order to get some value from our `foo` instance of the `Foo` `class`. You can also define a `public` data-member, but it&#39;s not something I would recommend.\r\n\r\nBack to your example: it&#39;s very good that you have a `public` setter called `setName`, but you will also need to differentiate data reading from data writing for managing the attempted and correct data. Currently you have two methods where the setter and getter features are messed up. Instead, you will need to have a `getAttempted` method to allow it to be read (this will be used from outside the class to get the attempted value) and a `setAttempted` value to change this value. You will need to follow the same pattern for correct. Then you will be able to properly set and get these values.\r\n\r\n\r\n  [1]: https://codehs.gitbooks.io/apjava/content/Classes-And-Object-Oriented-Programming/getter-and-setter-methods.html","title":"Math Tutor sending correct variable and attempted variable to second class","body":"<p>Since this is an exercise I will refrain from solving it, but I will provide you the guidance you need to make sure you will be able to solve it.</p>\n<p>Let's consider this class:</p>\n<pre><code>public class Foo {\n    //...\n    public int getSomeValue() {\n        return 42; // you can use your own value instead, this is just an example\n    }\n    //...\n    public Foo() {} //An empty constructor for the sake of simplicity\n    //...\n}\n</code></pre>\n<p>Now, let's consider another class</p>\n<pre><code>public class Bar {\n    public void doSomething() {\n        Foo foo = new Foo();\n        int someValue = foo.getSomeValue();\n        //Do something with someValue\n    }\n}\n</code></pre>\n<p>We have used a <a href=\"https://codehs.gitbooks.io/apjava/content/Classes-And-Object-Oriented-Programming/getter-and-setter-methods.html\" rel=\"nofollow noreferrer\">getter</a> inside <code>doSomething</code> in order to get some value from our <code>foo</code> instance of the <code>Foo</code> <code>class</code>. You can also define a <code>public</code> data-member, but it's not something I would recommend.</p>\n<p>Back to your example: it's very good that you have a <code>public</code> setter called <code>setName</code>, but you will also need to differentiate data reading from data writing for managing the attempted and correct data. Currently you have two methods where the setter and getter features are messed up. Instead, you will need to have a <code>getAttempted</code> method to allow it to be read (this will be used from outside the class to get the attempted value) and a <code>setAttempted</code> value to change this value. You will need to follow the same pattern for correct. Then you will be able to properly set and get these values.</p>\n"}],"owner":{"account_id":27816069,"reputation":43,"user_id":21237425,"display_name":"Myrdock"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1678321579,"creation_date":1678247149,"question_id":75669280,"body_markdown":"I am supposed to create a math tutor. I was able to create one that works fine according to the instructions. However, I&#39;m supposed to collect the number of attempts and number of problems correct and send them to a second class. Then calculate the number of attempts using a fuction and calculate the number correct problems using a function. Figure a score and display that information.\r\n\r\n\r\n```\r\npublic class Math_Tutor \r\n{\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) \r\n    {\r\n        int choice;\r\n        \r\n        Scanner input = new Scanner(System.in);\r\n        System.out.print(&quot;Please enter your name: &quot;);\r\n        String name = input.nextLine();\r\n        Student student = new Student();\r\n        student.setName(name);\r\n        \r\n        do\r\n        {\r\n            System.out.println(&quot;*** Math Tutor Menu ***&quot;);\r\n            System.out.println(\r\n            &quot;Choose the type of problem:\\n&quot; +\r\n            &quot;1. Addition\\n&quot; +\r\n            &quot;2. Subtraction\\n&quot; +\r\n            &quot;3. Multiplication\\n&quot; +\r\n            &quot;4. Exit&quot;\r\n            );\r\n            \r\n            System.out.print(&quot;Enter your choice: &quot;);\r\n            choice = input.nextInt();\r\n            \r\n                switch (choice)\r\n                {\r\n                    case 1: \r\n                    addition();\r\n                    break;\r\n                    case 2:\r\n                    subtraction();\r\n                    break;\r\n                    case 3:\r\n                    multiplication();\r\n                    break;\r\n                }\r\n                \r\n        } while (choice!=4);\r\n        \r\n        student.results();\r\n\r\n    }\r\n    \r\n    public static void addition()\r\n    {\r\n        int keepGoing;\r\n        \r\n        do \r\n        {\r\n            int firstNum = (int)(Math.random() * 10);\r\n            int secondNum = (int)(Math.random() * 10);\r\n            int add = firstNum + secondNum;\r\n            \r\n            System.out.println(firstNum + &quot; + &quot; + secondNum + &quot; ?&quot;);\r\n            Scanner input = new Scanner(System.in);\r\n            int addInput = input.nextInt();\r\n\r\n            if (addInput == add)\r\n\r\n            System.out.println(&quot;Correct!&quot;);\r\n            \r\n            else\r\n\r\n            System.out.println(&quot;Your answer is wrong. The correct answer is &quot;+ add);\r\n\r\n            System.out.println(&quot;Would you like to keep going?\\n&quot;\r\n                    + &quot;1. Yes\\n&quot;\r\n                    + &quot;2. No&quot;);\r\n            System.out.print(&quot;Enter your choice: &quot;);\r\n            keepGoing=input.nextInt();\r\n            \r\n        } while (keepGoing != 2);\r\n    }\r\n    \r\n    public static void subtraction()\r\n    {\r\n        int keepGoing;\r\n\r\n        do \r\n        {\r\n            int firstNum = (int)(Math.random() * 10);\r\n            int secondNum = (int)(Math.random() * 10);\r\n            if (firstNum &lt; secondNum)\r\n            {\r\n                int temp = firstNum;\r\n                firstNum = secondNum;\r\n                secondNum = temp;\r\n            }\r\n            int subtract = firstNum - secondNum;\r\n            System.out.println(firstNum + &quot; - &quot; + secondNum + &quot; ?&quot;);\r\n            Scanner input = new Scanner(System.in);\r\n            int subInput = input.nextInt();\r\n\r\n            if (subInput == subtract)\r\n\r\n            System.out.println(&quot;Correct!&quot;);\r\n\r\n            else\r\n\r\n            System.out.println(&quot;Your answer is wrong. The correct answer is &quot;+ subtract);\r\n\r\n            System.out.println(&quot;Would you like to keep going?\\n&quot;\r\n                    + &quot;1. Yes\\n&quot;\r\n                    + &quot;2. No&quot;);\r\n            System.out.print(&quot;Enter your choice: &quot;);\r\n            keepGoing=input.nextInt();\r\n       \r\n        } while(keepGoing != 2);\r\n    }\r\n    \r\n    public static void multiplication()\r\n    {\r\n        int keepGoing;\r\n\r\n        do \r\n        {\r\n            int firstNum = (int)(Math.random() * 10);\r\n            int secondNum = (int)(Math.random() * 10);\r\n            int multiply = firstNum * secondNum;\r\n            System.out.println(firstNum + &quot; * &quot; + secondNum + &quot; ?&quot;);\r\n            Scanner input = new Scanner(System.in);\r\n            int multInput = input.nextInt();\r\n\r\n            if (multInput == multiply)\r\n\r\n            System.out.println(&quot;Correct!&quot;);\r\n\r\n            else\r\n\r\n            System.out.println(&quot;Your answer is wrong. The correct answer is &quot;+ multiply);\r\n\r\n            System.out.println(&quot;Would you like to keep going?\\n&quot;\r\n                    + &quot;1. Yes\\n&quot;\r\n                    + &quot;2. No&quot;);\r\n            System.out.print(&quot;Enter your choice: &quot;);\r\n            keepGoing=input.nextInt();\r\n       \r\n        } while(keepGoing != 2);\r\n    }\r\n    \r\n}\r\n```\r\n\r\n\r\nHere is the second class\r\n\r\n\r\n```\r\npublic class Student \r\n{   \r\n        private String student;\r\n        private int attempted;\r\n        private int correct;\r\n        private int score;\r\n        \r\n        \r\n    public String setName(String name)\r\n    {\r\n        student = name;\r\n        return student;\r\n        \r\n    }\r\n    \r\n    public int attempted(int attempt)\r\n    {\r\n        attempted = attempt;\r\n        return attempted;\r\n    }\r\n    \r\n    public int correct(int right)\r\n    {\r\n        correct = right;\r\n        return correct;\r\n    }\r\n    \r\n    public void results()\r\n    {\r\n        System.out.print(&quot;*** Results for &quot; + student + &quot; ***&quot;);\r\n//        System.out.print(&quot;Total number of problems attempted: &quot; + attempted);\r\n//        System.out.print(&quot;Total number of problems correct: &quot; + correct);\r\n//        score = (correct / attempted) * 100;\r\n//        System.out.print(student + &quot; scored : &quot; + score);\r\n//        if (score &gt;= 90)\r\n//            System.out.print(&quot;Great work &quot; + student);\r\n//        else if (score &gt;= 80 &amp;&amp; score &lt; 90)\r\n//            System.out.print(&quot;Good work &quot; + student);\r\n//        else if (score &gt;= 70 &amp;&amp; score &lt; 80)\r\n//            System.out.print(&quot;Not bad &quot; + student);\r\n//        else \r\n//            System.out.print(&quot;Keep trying&quot;);\r\n        \r\n    }\r\n}\r\n```\r\n\r\nI have to count the number of attempts and the number of problems gotten right in the add, subtract, and multiply functions and send these numbers to the student class. I have tried to create variables in several places to send the counts to the main class so I can send them over but nothing works.","title":"Math Tutor sending correct variable and attempted variable to second class","body":"<p>I am supposed to create a math tutor. I was able to create one that works fine according to the instructions. However, I'm supposed to collect the number of attempts and number of problems correct and send them to a second class. Then calculate the number of attempts using a fuction and calculate the number correct problems using a function. Figure a score and display that information.</p>\n<pre><code>public class Math_Tutor \n{\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) \n    {\n        int choice;\n        \n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Please enter your name: &quot;);\n        String name = input.nextLine();\n        Student student = new Student();\n        student.setName(name);\n        \n        do\n        {\n            System.out.println(&quot;*** Math Tutor Menu ***&quot;);\n            System.out.println(\n            &quot;Choose the type of problem:\\n&quot; +\n            &quot;1. Addition\\n&quot; +\n            &quot;2. Subtraction\\n&quot; +\n            &quot;3. Multiplication\\n&quot; +\n            &quot;4. Exit&quot;\n            );\n            \n            System.out.print(&quot;Enter your choice: &quot;);\n            choice = input.nextInt();\n            \n                switch (choice)\n                {\n                    case 1: \n                    addition();\n                    break;\n                    case 2:\n                    subtraction();\n                    break;\n                    case 3:\n                    multiplication();\n                    break;\n                }\n                \n        } while (choice!=4);\n        \n        student.results();\n\n    }\n    \n    public static void addition()\n    {\n        int keepGoing;\n        \n        do \n        {\n            int firstNum = (int)(Math.random() * 10);\n            int secondNum = (int)(Math.random() * 10);\n            int add = firstNum + secondNum;\n            \n            System.out.println(firstNum + &quot; + &quot; + secondNum + &quot; ?&quot;);\n            Scanner input = new Scanner(System.in);\n            int addInput = input.nextInt();\n\n            if (addInput == add)\n\n            System.out.println(&quot;Correct!&quot;);\n            \n            else\n\n            System.out.println(&quot;Your answer is wrong. The correct answer is &quot;+ add);\n\n            System.out.println(&quot;Would you like to keep going?\\n&quot;\n                    + &quot;1. Yes\\n&quot;\n                    + &quot;2. No&quot;);\n            System.out.print(&quot;Enter your choice: &quot;);\n            keepGoing=input.nextInt();\n            \n        } while (keepGoing != 2);\n    }\n    \n    public static void subtraction()\n    {\n        int keepGoing;\n\n        do \n        {\n            int firstNum = (int)(Math.random() * 10);\n            int secondNum = (int)(Math.random() * 10);\n            if (firstNum &lt; secondNum)\n            {\n                int temp = firstNum;\n                firstNum = secondNum;\n                secondNum = temp;\n            }\n            int subtract = firstNum - secondNum;\n            System.out.println(firstNum + &quot; - &quot; + secondNum + &quot; ?&quot;);\n            Scanner input = new Scanner(System.in);\n            int subInput = input.nextInt();\n\n            if (subInput == subtract)\n\n            System.out.println(&quot;Correct!&quot;);\n\n            else\n\n            System.out.println(&quot;Your answer is wrong. The correct answer is &quot;+ subtract);\n\n            System.out.println(&quot;Would you like to keep going?\\n&quot;\n                    + &quot;1. Yes\\n&quot;\n                    + &quot;2. No&quot;);\n            System.out.print(&quot;Enter your choice: &quot;);\n            keepGoing=input.nextInt();\n       \n        } while(keepGoing != 2);\n    }\n    \n    public static void multiplication()\n    {\n        int keepGoing;\n\n        do \n        {\n            int firstNum = (int)(Math.random() * 10);\n            int secondNum = (int)(Math.random() * 10);\n            int multiply = firstNum * secondNum;\n            System.out.println(firstNum + &quot; * &quot; + secondNum + &quot; ?&quot;);\n            Scanner input = new Scanner(System.in);\n            int multInput = input.nextInt();\n\n            if (multInput == multiply)\n\n            System.out.println(&quot;Correct!&quot;);\n\n            else\n\n            System.out.println(&quot;Your answer is wrong. The correct answer is &quot;+ multiply);\n\n            System.out.println(&quot;Would you like to keep going?\\n&quot;\n                    + &quot;1. Yes\\n&quot;\n                    + &quot;2. No&quot;);\n            System.out.print(&quot;Enter your choice: &quot;);\n            keepGoing=input.nextInt();\n       \n        } while(keepGoing != 2);\n    }\n    \n}\n</code></pre>\n<p>Here is the second class</p>\n<pre><code>public class Student \n{   \n        private String student;\n        private int attempted;\n        private int correct;\n        private int score;\n        \n        \n    public String setName(String name)\n    {\n        student = name;\n        return student;\n        \n    }\n    \n    public int attempted(int attempt)\n    {\n        attempted = attempt;\n        return attempted;\n    }\n    \n    public int correct(int right)\n    {\n        correct = right;\n        return correct;\n    }\n    \n    public void results()\n    {\n        System.out.print(&quot;*** Results for &quot; + student + &quot; ***&quot;);\n//        System.out.print(&quot;Total number of problems attempted: &quot; + attempted);\n//        System.out.print(&quot;Total number of problems correct: &quot; + correct);\n//        score = (correct / attempted) * 100;\n//        System.out.print(student + &quot; scored : &quot; + score);\n//        if (score &gt;= 90)\n//            System.out.print(&quot;Great work &quot; + student);\n//        else if (score &gt;= 80 &amp;&amp; score &lt; 90)\n//            System.out.print(&quot;Good work &quot; + student);\n//        else if (score &gt;= 70 &amp;&amp; score &lt; 80)\n//            System.out.print(&quot;Not bad &quot; + student);\n//        else \n//            System.out.print(&quot;Keep trying&quot;);\n        \n    }\n}\n</code></pre>\n<p>I have to count the number of attempts and the number of problems gotten right in the add, subtract, and multiply functions and send these numbers to the student class. I have tried to create variables in several places to send the counts to the main class so I can send them over but nothing works.</p>\n"},{"tags":["java","rest","post","quarkus","jsonb"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":3,"creation_date":1678321787,"post_id":75679383,"comment_id":133511959,"body_markdown":"class vs interface","body":"class vs interface"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1678339748,"post_id":75679383,"comment_id":133514124,"body_markdown":"Can you show the code you are using to inject the service into another class?","body":"Can you show the code you are using to inject the service into another class?"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":2,"creation_date":1678344505,"post_id":75679383,"comment_id":133514832,"body_markdown":"Should OffersRestClientService be a interface instead of a class?","body":"Should OffersRestClientService be a interface instead of a class?"},{"owner":{"account_id":17922090,"reputation":305,"user_id":13021632,"display_name":"MansouriAla"},"score":0,"creation_date":1678355794,"post_id":75679383,"comment_id":133517676,"body_markdown":"Yes the problem is solved Thanks a lot, class vs interface @ScaryWombat you can post it as an answer and I will confirm it","body":"Yes the problem is solved Thanks a lot, class vs interface @ScaryWombat you can post it as an answer and I will confirm it"}],"owner":{"account_id":17922090,"reputation":305,"user_id":13021632,"display_name":"MansouriAla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678321437,"creation_date":1678321437,"question_id":75679383,"body_markdown":"Trying to send a post request in quarkus simple without any configs, as referred in the official docs [here][1]\r\n\r\nAnd referred in this StackOverflow answer [here][2] as well.\r\n\r\nI just did added the extension `quarkus-rest-client-reactive-jsonb` and this straight forward snippet:\r\n\r\n```\r\npackage org.offerService.infrastructure;\r\n\r\nimport java.util.concurrent.CompletionStage;\r\n\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.QueryParam;\r\nimport javax.ws.rs.core.Response;\r\n\r\nimport org.LeadsService.contract.offerDto.OfferDto;\r\nimport org.LeadsService.contract.reponseType.responseTypeOffer.ResponseCreateOffer;\r\nimport org.eclipse.microprofile.rest.client.inject.RegisterRestClient;\r\n\r\n@Path(&quot;/offer&quot;)\r\n@RegisterRestClient(configKey = &quot;offer-api&quot;)\r\npublic class OffersRestClientService {\r\n\r\n    @POST\r\n    @Path(&quot;/createOffer&quot;)\r\n    CompletionStage&lt;ResponseCreateOffer&gt; createOffer(OfferDto offer);\r\n}\r\n\r\n```\r\nand in the application properties I&#39;m refering to that endpoint:\r\n\r\n&gt; quarkus.rest-client.offer-api.url=localhost:8082\r\n\r\nNow the error message I get a warning when I try to Inject this service anywhere:\r\n\r\n    The corresponding org.OfferService.infrastructure.OfferRestClientService interface does not have the @RegisterRestClient annotation. The field offerRestClient will not be injected as a CDI bean.microprofile-restclient\r\n\r\nAnd in the service itself the same file I shared I get an error in here exactly `createOffer(OfferDto offer);\r\n` ( pre-last line ) says \r\n\r\n    The method createOffer(OfferDto) from the type OfferRestClientService is not visible Java(67108965)\r\n\r\nso the problem here is that it doesn&#39;t recognize `@RegisterRestClient` though it&#39;s imported properly \r\n\r\n  [1]: https://quarkus.io/guides/rest-client-reactive#async-support\r\n  [2]: https://stackoverflow.com/questions/66347707/send-a-simple-post-request-from-quarkus-java\r\n","title":"This method requires a body instead of a semicolon, Java Quarkus post request, and interface does not have the @RegisterRestClient","body":"<p>Trying to send a post request in quarkus simple without any configs, as referred in the official docs <a href=\"https://quarkus.io/guides/rest-client-reactive#async-support\" rel=\"nofollow noreferrer\">here</a></p>\n<p>And referred in this StackOverflow answer <a href=\"https://stackoverflow.com/questions/66347707/send-a-simple-post-request-from-quarkus-java\">here</a> as well.</p>\n<p>I just did added the extension <code>quarkus-rest-client-reactive-jsonb</code> and this straight forward snippet:</p>\n<pre><code>package org.offerService.infrastructure;\n\nimport java.util.concurrent.CompletionStage;\n\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.QueryParam;\nimport javax.ws.rs.core.Response;\n\nimport org.LeadsService.contract.offerDto.OfferDto;\nimport org.LeadsService.contract.reponseType.responseTypeOffer.ResponseCreateOffer;\nimport org.eclipse.microprofile.rest.client.inject.RegisterRestClient;\n\n@Path(&quot;/offer&quot;)\n@RegisterRestClient(configKey = &quot;offer-api&quot;)\npublic class OffersRestClientService {\n\n    @POST\n    @Path(&quot;/createOffer&quot;)\n    CompletionStage&lt;ResponseCreateOffer&gt; createOffer(OfferDto offer);\n}\n\n</code></pre>\n<p>and in the application properties I'm refering to that endpoint:</p>\n<blockquote>\n<p>quarkus.rest-client.offer-api.url=localhost:8082</p>\n</blockquote>\n<p>Now the error message I get a warning when I try to Inject this service anywhere:</p>\n<pre><code>The corresponding org.OfferService.infrastructure.OfferRestClientService interface does not have the @RegisterRestClient annotation. The field offerRestClient will not be injected as a CDI bean.microprofile-restclient\n</code></pre>\n<p>And in the service itself the same file I shared I get an error in here exactly <code>createOffer(OfferDto offer); </code> ( pre-last line ) says</p>\n<pre><code>The method createOffer(OfferDto) from the type OfferRestClientService is not visible Java(67108965)\n</code></pre>\n<p>so the problem here is that it doesn't recognize <code>@RegisterRestClient</code> though it's imported properly</p>\n"},{"tags":["java","multithreading","parallel-processing","synchronization"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678324221,"post_id":75679356,"comment_id":133512251,"body_markdown":"`Thread#start()` creates a [_happens-before_ relationship](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/package-summary.html#MemoryVisibility).","body":"<code>Thread#start()</code> creates a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/package-summary.html#MemoryVisibility\" rel=\"nofollow noreferrer\"><i>happens-before</i> relationship</a>."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1678324490,"post_id":75679356,"comment_id":133512295,"body_markdown":"This has nothing to do with thread execution; it is just the sequential execution of program statements.","body":"This has nothing to do with thread execution; it is just the sequential execution of program statements."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678331379,"post_id":75679356,"comment_id":133513178,"body_markdown":"why? ..........","body":"why? .........."}],"answers":[{"comments":[{"owner":{"account_id":26716287,"reputation":1,"user_id":20320843,"display_name":"Wasserentzug"},"score":0,"creation_date":1678343648,"post_id":75679380,"comment_id":133514679,"body_markdown":"So it is also not possible that the time that the command &quot;println(main started)&quot; takes to actually get executed is longer than the time it takes for the second thread to print &quot;thread-1 printed&quot;?","body":"So it is also not possible that the time that the command &quot;println(main started)&quot; takes to actually get executed is longer than the time it takes for the second thread to print &quot;thread-1 printed&quot;?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678358984,"post_id":75679380,"comment_id":133518585,"body_markdown":"@Wasserentzug Your thread is started **after** the call to `println(&quot;main started&quot;)` has returned (i.e., completed). In other words, `println(&quot;main started&quot;)` _happens-before_ the call to `start()`, which _happens-before_ `println(&quot;thread-1 printed&quot;)`.","body":"@Wasserentzug Your thread is started <b>after</b> the call to <code>println(&quot;main started&quot;)</code> has returned (i.e., completed). In other words, <code>println(&quot;main started&quot;)</code> <i>happens-before</i> the call to <code>start()</code>, which <i>happens-before</i> <code>println(&quot;thread-1 printed&quot;)</code>."}],"tags":[],"owner":{"account_id":11629093,"reputation":2552,"user_id":8517948,"accept_rate":100,"display_name":"LW001"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678321309,"creation_date":1678321309,"answer_id":75679380,"question_id":75679356,"body_markdown":"This code will always print\r\n\r\n    main printed\r\n    Thread-1 printed\r\n\r\nno matter how fast Thread-1 executes, as Thread-1 is only created/started after the line `System.out.println(&quot;main printed&quot;);`. Your main method is still synchronous with the `System.out.println(&quot;main printed&quot;)` instruction being called before `new Thread( () -&gt; ...)` creating the thread in the first place. That order will not change.\r\n\r\nThe order could, in theory, change if `System.out.println(&quot;main printed&quot;)` was also wrapped in a thread and ran in parallel to the other thread, assuming the second print would for some reason take longer than the first one.","title":"Is it possible for a thread to execute before another line in main that comes before it?","body":"<p>This code will always print</p>\n<pre><code>main printed\nThread-1 printed\n</code></pre>\n<p>no matter how fast Thread-1 executes, as Thread-1 is only created/started after the line <code>System.out.println(&quot;main printed&quot;);</code>. Your main method is still synchronous with the <code>System.out.println(&quot;main printed&quot;)</code> instruction being called before <code>new Thread( () -&gt; ...)</code> creating the thread in the first place. That order will not change.</p>\n<p>The order could, in theory, change if <code>System.out.println(&quot;main printed&quot;)</code> was also wrapped in a thread and ran in parallel to the other thread, assuming the second print would for some reason take longer than the first one.</p>\n"}],"owner":{"account_id":26716287,"reputation":1,"user_id":20320843,"display_name":"Wasserentzug"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678321309,"creation_date":1678321007,"question_id":75679356,"body_markdown":"Would it be possible for this code to print out:\r\n\r\n--&gt; console-output:\r\n```\r\nThread-1 printed\r\nmain printed\r\n```\r\n\r\n--&gt; Code:\r\n\r\n\r\n```\r\npublic static void main (String [] args)\r\n{\r\nSystem.out.println(&quot;main printed&quot;);\r\nnew Thread( () -&gt; System.out.println(&quot;Thread-1 printed&quot;)).start();\r\n}\r\n```\r\n\r\nIn my opinion this code should be able to print out either\r\n\r\n```\r\nThread-1 printed\r\nmain printed\r\n```\r\n\r\nor \r\n\r\n```\r\nmain printed\r\nThread-1 printed\r\n```\r\n\r\nbecause i think that it would be possible for the other thread to simply be faster than the main thread for whatever reason. Is this assumption true or false?\r\n\r\n\r\n\r\n\r\nI tried the code various times but only got the result where main printed before the thread-1.\r\nBut i still think that in theory it would be possible because there is no &quot;join()&quot; or something else that is called on main-thread.\r\n","title":"Is it possible for a thread to execute before another line in main that comes before it?","body":"<p>Would it be possible for this code to print out:</p>\n<p>--&gt; console-output:</p>\n<pre><code>Thread-1 printed\nmain printed\n</code></pre>\n<p>--&gt; Code:</p>\n<pre><code>public static void main (String [] args)\n{\nSystem.out.println(&quot;main printed&quot;);\nnew Thread( () -&gt; System.out.println(&quot;Thread-1 printed&quot;)).start();\n}\n</code></pre>\n<p>In my opinion this code should be able to print out either</p>\n<pre><code>Thread-1 printed\nmain printed\n</code></pre>\n<p>or</p>\n<pre><code>main printed\nThread-1 printed\n</code></pre>\n<p>because i think that it would be possible for the other thread to simply be faster than the main thread for whatever reason. Is this assumption true or false?</p>\n<p>I tried the code various times but only got the result where main printed before the thread-1.\nBut i still think that in theory it would be possible because there is no &quot;join()&quot; or something else that is called on main-thread.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23751376,"reputation":622,"user_id":17768086,"display_name":"Kelechi Daniels"},"score":0,"creation_date":1678301919,"post_id":75676837,"comment_id":133507974,"body_markdown":"Can you explain it, what is not working in first two formats ?","body":"Can you explain it, what is not working in first two formats ?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1678303414,"post_id":75676837,"comment_id":133508323,"body_markdown":"Note that UTC isn&#39;t a format, it&#39;s related to time zones. Additionally, I&#39;d expect 2022-11-30 21:59:59+00 to be equivalent to 2022-11-30T**21**:59:59Z as the &quot;+00&quot; normally means &quot;an offset of 0 hours from UTC&quot;.","body":"Note that UTC isn&#39;t a format, it&#39;s related to time zones. Additionally, I&#39;d expect 2022-11-30 21:59:59+00 to be equivalent to 2022-11-30T<b>21</b>:59:59Z as the &quot;+00&quot; normally means &quot;an offset of 0 hours from UTC&quot;."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678306275,"post_id":75676837,"comment_id":133509075,"body_markdown":"You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. Avoid `SimpelDateFormat` &amp; `Date`.","body":"You are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310. Avoid <code>SimpelDateFormat</code> &amp; <code>Date</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678306365,"post_id":75676837,"comment_id":133509095,"body_markdown":"What database engine? And *exactly* what data type of your column?","body":"What database engine? And <i>exactly</i> what data type of your column?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678306477,"post_id":75676837,"comment_id":133509124,"body_markdown":"You should be exchanging date-time objects with your database, not strings.","body":"You should be exchanging date-time objects with your database, not strings."},{"owner":{"account_id":11390186,"reputation":137,"user_id":8350536,"accept_rate":0,"display_name":"DevPerson"},"score":0,"creation_date":1678314201,"post_id":75676837,"comment_id":133510879,"body_markdown":"You&#39;re right. It&#39;s datetime in DB but retrieving datetime as String","body":"You&#39;re right. It&#39;s datetime in DB but retrieving datetime as String"}],"answers":[{"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678303853,"post_id":75677193,"comment_id":133508461,"body_markdown":"With a switch case based on the length of the date string.","body":"With a switch case based on the length of the date string."},{"owner":{"account_id":11390186,"reputation":137,"user_id":8350536,"accept_rate":0,"display_name":"DevPerson"},"score":0,"creation_date":1678314473,"post_id":75677193,"comment_id":133510933,"body_markdown":"First parser works if mili seconds exists. Second parser works if no mili seconds. But my case is same database column can contain mili seconds or may not contain mili seconds. However +00 will be exists","body":"First parser works if mili seconds exists. Second parser works if no mili seconds. But my case is same database column can contain mili seconds or may not contain mili seconds. However +00 will be exists"},{"owner":{"account_id":27960485,"reputation":185,"user_id":21352393,"display_name":"MarcelMM"},"score":0,"creation_date":1678320703,"post_id":75677193,"comment_id":133511827,"body_markdown":"You can use Pattern matching to test and choose what date pattern you will parse. That is for the longest one: `Pattern.compile(&quot;\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{3}[+-]\\\\d{2}&quot;).matcher(&quot;2023-03-08 10:20:09.000+00&quot;).matches()`","body":"You can use Pattern matching to test and choose what date pattern you will parse. That is for the longest one: <code>Pattern.compile(&quot;\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}&zwnj;&#8203;\\\\.\\\\d{3}[+-]\\\\d{2}&quot;&zwnj;&#8203;).matcher(&quot;2023-03-0&zwnj;&#8203;8 10:20:09.000+00&quot;).matches()</code>"}],"tags":[],"owner":{"account_id":27960485,"reputation":185,"user_id":21352393,"display_name":"MarcelMM"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678302202,"creation_date":1678302202,"answer_id":75677193,"question_id":75676837,"body_markdown":"You must use differents patterns for the first and second examples:\r\n\r\ndateToUTC(&quot;2023-03-08 10:20:09.891+00&quot;);\r\n\r\n    Date date = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSX&quot;).parse(source);\r\n\r\ndateToUTC(&quot;2023-01-12 08:32:10+00&quot;);\r\n\r\n    Date date = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ssX&quot;).parse(source);\r\n\r\n","title":"Convert String date to UTC format","body":"<p>You must use differents patterns for the first and second examples:</p>\n<p>dateToUTC(&quot;2023-03-08 10:20:09.891+00&quot;);</p>\n<pre><code>Date date = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSSX&quot;).parse(source);\n</code></pre>\n<p>dateToUTC(&quot;2023-01-12 08:32:10+00&quot;);</p>\n<pre><code>Date date = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ssX&quot;).parse(source);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23751376,"reputation":622,"user_id":17768086,"display_name":"Kelechi Daniels"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678304004,"creation_date":1678304004,"answer_id":75677444,"question_id":75676837,"body_markdown":"When you are working with database you should use `OffsetDateTime` to store an instant on the universal timeline to nanosecond precision.\r\n\r\n&gt;OffsetDateTime adds to the instant the offset from UTC, which allows the local date-time to be obtained. We can use OffsetDateTime when modeling date-time concepts in more detail, or when communicating to a database or in a network protocol.\r\n\r\n[Read more](https://howtodoinjava.com/java/date-time/parse-string-to-date-time-utc-gmt/)\r\n\r\nTry this example code:\r\n\r\n    DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter\r\n                .ofPattern(&quot;dd/MM/uuuu&#39;T&#39;HH:mm:ss:SSSXXXXX&quot;);\r\n\r\n    //Date string with offset information\r\n    String dateString = &quot;03/08/2019T16:20:17:717+05:30&quot;;\r\n\r\n    //Instance with given offset\r\n    OffsetDateTime odtInstanceAtOffset = OffsetDateTime.parse(dateString, DATE_TIME_FORMATTER);\r\n\r\n    //Instance in UTC\r\n    OffsetDateTime odtInstanceAtUTC = odtInstanceAtOffset.withOffsetSameInstant(ZoneOffset.UTC);\r\n\r\n    //Formatting to string\r\n    String dateStringInUTC = odtInstanceAtUTC.format(DATE_TIME_FORMATTER);\r\n\r\n    System.out.println(odtInstanceAtOffset);\r\n    System.out.println(odtInstanceAtUTC);\r\n    System.out.println(dateStringInUTC);\r\n\r\n    //Convert OffsetDateTime to instant which is in UTC\r\n    System.out.println(odtInstanceAtOffset.toInstant());\r\nOutput:\r\n\r\n    2019-08-03T16:20:17.717+05:30\r\n    2019-08-03T10:50:17.717Z\r\n    03/08/2019T10:50:17:717Z\r\n    2019-08-03T10:50:17.717Z","title":"Convert String date to UTC format","body":"<p>When you are working with database you should use <code>OffsetDateTime</code> to store an instant on the universal timeline to nanosecond precision.</p>\n<blockquote>\n<p>OffsetDateTime adds to the instant the offset from UTC, which allows the local date-time to be obtained. We can use OffsetDateTime when modeling date-time concepts in more detail, or when communicating to a database or in a network protocol.</p>\n</blockquote>\n<p><a href=\"https://howtodoinjava.com/java/date-time/parse-string-to-date-time-utc-gmt/\" rel=\"nofollow noreferrer\">Read more</a></p>\n<p>Try this example code:</p>\n<pre><code>DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter\n            .ofPattern(&quot;dd/MM/uuuu'T'HH:mm:ss:SSSXXXXX&quot;);\n\n//Date string with offset information\nString dateString = &quot;03/08/2019T16:20:17:717+05:30&quot;;\n\n//Instance with given offset\nOffsetDateTime odtInstanceAtOffset = OffsetDateTime.parse(dateString, DATE_TIME_FORMATTER);\n\n//Instance in UTC\nOffsetDateTime odtInstanceAtUTC = odtInstanceAtOffset.withOffsetSameInstant(ZoneOffset.UTC);\n\n//Formatting to string\nString dateStringInUTC = odtInstanceAtUTC.format(DATE_TIME_FORMATTER);\n\nSystem.out.println(odtInstanceAtOffset);\nSystem.out.println(odtInstanceAtUTC);\nSystem.out.println(dateStringInUTC);\n\n//Convert OffsetDateTime to instant which is in UTC\nSystem.out.println(odtInstanceAtOffset.toInstant());\n</code></pre>\n<p>Output:</p>\n<pre><code>2019-08-03T16:20:17.717+05:30\n2019-08-03T10:50:17.717Z\n03/08/2019T10:50:17:717Z\n2019-08-03T10:50:17.717Z\n</code></pre>\n"}],"owner":{"account_id":11390186,"reputation":137,"user_id":8350536,"accept_rate":0,"display_name":"DevPerson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75677193,"answer_count":2,"score":-1,"last_activity_date":1678320918,"creation_date":1678299831,"question_id":75676837,"body_markdown":"Looks bit silly. But spend a day to find out the solution.\r\nCurrently we save data in the database like: **2022-11-30 21:59:59+00**\r\nI want to convert this to UTC format. i.e **2022-11-30T20:59:59Z**.\r\n\r\nI did write method to convert above to UTC\r\n\r\n    private static void dateToUTC(String source) {\r\n        String pattern = &quot;yyyy-MM-dd hh:mm:ss&quot;;\r\n        DateFormat sdf = new SimpleDateFormat(pattern);\r\n        try {\r\n            System.out.println(&quot;Date--------------&gt; : &quot;+ source);\r\n            //Date date = sdf.parse(source);\r\n            Date date = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n                    .parse(source);\r\n            System.out.println(&quot;Date------date--------&gt; : &quot;+ date);\r\n            //System.out.println(&quot;Date------date--------&gt; : &quot;+ date.toInstant());\r\n            ZonedDateTime zdt = ZonedDateTime.ofInstant(date.toInstant(), ZoneId.of(&quot;UTC&quot;));\r\n            String s = zdt.toLocalDateTime().toInstant(ZoneOffset.UTC).toString();\r\n            System.out.println(&quot;Working ---------------&gt; &quot;+zdt.toLocalDateTime().toInstant(ZoneOffset.UTC));\r\n            System.out.println(&quot;SSSSSSSS--------------&gt; : &quot;+ s);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n```\r\ndateToUTC(&quot;2023-03-08 10:20:09.891+00&quot;);\r\ndateToUTC(&quot;2023-01-12 08:32:10+00&quot;);\r\ndateToUTC(&quot;2015-06-12 00:10:10&quot;);\r\n```\r\nlast is working fine. But first 2 are not converting.\r\n```\r\nDate--------------&gt; : 2023-03-08 10:20:09.891+00\r\nDate------date--------&gt; : Wed Mar 08 10:20:09 GMT 2023\r\nWorking ---------------&gt; 2023-03-08T10:20:09Z\r\nSSSSSSSS--------------&gt; : 2023-03-08T10:20:09Z\r\nDate--------------&gt; : 2023-01-12 08:32:10+00\r\nDate------date--------&gt; : Thu Jan 12 08:32:10 GMT 2023\r\nWorking ---------------&gt; 2023-01-12T08:32:10Z\r\nSSSSSSSS--------------&gt; : 2023-01-12T08:32:10Z\r\nDate--------------&gt; : 2015-06-12 00:10:10\r\nDate------date--------&gt; : Fri Jun 12 00:10:10 BST 2015\r\nWorking ---------------&gt; 2015-06-11T23:10:10Z\r\nSSSSSSSS--------------&gt; : 2015-06-11T23:10:10Z\r\n```\r\nCould someone assist me please to convert GMT to UTC.","title":"Convert String date to UTC format","body":"<p>Looks bit silly. But spend a day to find out the solution.\nCurrently we save data in the database like: <strong>2022-11-30 21:59:59+00</strong>\nI want to convert this to UTC format. i.e <strong>2022-11-30T20:59:59Z</strong>.</p>\n<p>I did write method to convert above to UTC</p>\n<pre><code>private static void dateToUTC(String source) {\n    String pattern = &quot;yyyy-MM-dd hh:mm:ss&quot;;\n    DateFormat sdf = new SimpleDateFormat(pattern);\n    try {\n        System.out.println(&quot;Date--------------&gt; : &quot;+ source);\n        //Date date = sdf.parse(source);\n        Date date = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;)\n                .parse(source);\n        System.out.println(&quot;Date------date--------&gt; : &quot;+ date);\n        //System.out.println(&quot;Date------date--------&gt; : &quot;+ date.toInstant());\n        ZonedDateTime zdt = ZonedDateTime.ofInstant(date.toInstant(), ZoneId.of(&quot;UTC&quot;));\n        String s = zdt.toLocalDateTime().toInstant(ZoneOffset.UTC).toString();\n        System.out.println(&quot;Working ---------------&gt; &quot;+zdt.toLocalDateTime().toInstant(ZoneOffset.UTC));\n        System.out.println(&quot;SSSSSSSS--------------&gt; : &quot;+ s);\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<pre><code>dateToUTC(&quot;2023-03-08 10:20:09.891+00&quot;);\ndateToUTC(&quot;2023-01-12 08:32:10+00&quot;);\ndateToUTC(&quot;2015-06-12 00:10:10&quot;);\n</code></pre>\n<p>last is working fine. But first 2 are not converting.</p>\n<pre><code>Date--------------&gt; : 2023-03-08 10:20:09.891+00\nDate------date--------&gt; : Wed Mar 08 10:20:09 GMT 2023\nWorking ---------------&gt; 2023-03-08T10:20:09Z\nSSSSSSSS--------------&gt; : 2023-03-08T10:20:09Z\nDate--------------&gt; : 2023-01-12 08:32:10+00\nDate------date--------&gt; : Thu Jan 12 08:32:10 GMT 2023\nWorking ---------------&gt; 2023-01-12T08:32:10Z\nSSSSSSSS--------------&gt; : 2023-01-12T08:32:10Z\nDate--------------&gt; : 2015-06-12 00:10:10\nDate------date--------&gt; : Fri Jun 12 00:10:10 BST 2015\nWorking ---------------&gt; 2015-06-11T23:10:10Z\nSSSSSSSS--------------&gt; : 2015-06-11T23:10:10Z\n</code></pre>\n<p>Could someone assist me please to convert GMT to UTC.</p>\n"},{"tags":["java","string","processing"],"answers":[{"tags":[],"owner":{"account_id":6286249,"reputation":180,"user_id":4885365,"display_name":"Mruk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678320293,"creation_date":1678320293,"answer_id":75679298,"question_id":75678845,"body_markdown":"Imagine that You have nice small function which return for You an ArrayList of Strings of proper width:\r\n\r\n\r\n    public static class TextSplitter {\r\n      public static ArrayList&lt;String&gt; splitText(String inputText, int maximumLength) {\r\n        String[] inputTable = split(inputText, &#39; &#39;);\r\n        ArrayList&lt;String&gt; outputTable = new ArrayList&lt;String&gt;();\r\n        String line = &quot;&quot;;\r\n        for (String str : inputTable) {\r\n          line = line + &quot; &quot; + str;\r\n          if (line.length() &gt;= maximumLength) {\r\n            outputTable.add(line);\r\n            line = &quot;&quot;;\r\n          }\r\n        }\r\n        outputTable.add(line);\r\n        return outputTable;\r\n      }\r\n    }\r\n\r\nNow, You can pass Your riddle String as an argument of *splitText* method and get ArrayList of short strings:\r\n\r\n    ArrayList&lt;String&gt; textList = TextSplitter.splitText(riddle, 12);\r\n\r\nYour riddle() now should just call a splitText()\r\n\r\n    void riddle() {\r\n      fill(0);\r\n      textSize(50);\r\n      stroke(0);\r\n      textAlign(CENTER);\r\n      int textScrPos = 50;\r\n      ArrayList&lt;String&gt; textList = TextSplitter.splitText(riddle, 12);\r\n      for (String str : textList) {\r\n        textScrPos += 64;\r\n        text(str, width/2, textScrPos);\r\n      }\r\n    }\r\n\r\nSo, the final code:\r\n\r\n\r\n    import javax.swing.JOptionPane;\r\n    String Answer; // FOR GET AN INPUT\r\n    String Secret = &quot;Java&quot;; // CORRECT ANSWER\r\n    int textposX, textposY; //X AND Y CO-ORDINATES OF THE TEXT\r\n    final int ansBoxHeight = 50; // HEIGHT OF THE ANSWER BOX\r\n    final int ansBoxWidth = 200; // WIDTH OF THE ANSWER BOX\r\n    int boxPosX, boxPosY; // ANSWER BOX X AND Y CO-ORDINATES\r\n    String riddle = &quot;WHAT IS THIS: high-level, class-based, object-oriented programming language?&quot;;\r\n    \r\n    void setup() {\r\n      size(500, 500);\r\n      textposX = width/2;\r\n      textposY = height/2;\r\n    }\r\n    \r\n    void draw() {\r\n      answerBox();\r\n      riddle();\r\n      answerComparison();\r\n    }\r\n    \r\n    void riddle() {\r\n      fill(0);\r\n      textSize(50);\r\n      stroke(0);\r\n      textAlign(CENTER);\r\n      int textScrPos = 0;\r\n      ArrayList&lt;String&gt; textList = TextSplitter.splitText(riddle, 12);\r\n      for (String str : textList) {\r\n        textScrPos += 64;\r\n        text(str, width/2, textScrPos);\r\n      }\r\n    }\r\n    \r\n    void answerBox() {\r\n      noFill();\r\n      rect(boxPosX+150, boxPosY+440, ansBoxWidth, ansBoxHeight);\r\n      if (mouseX&gt;boxPosX+150\r\n        &amp;&amp; mouseX&lt;boxPosX+150+ansBoxWidth+ansBoxHeight\r\n        &amp;&amp; mouseY&gt;boxPosY+440\r\n        &amp;&amp; mouseY&lt;boxPosY+440+ansBoxWidth+ansBoxHeight\r\n        &amp;&amp; mousePressed) {\r\n        noLoop();\r\n        Answer = JOptionPane.showInputDialog(&quot;Correct Answer Is;&quot;);\r\n        rect(boxPosX+150, boxPosY+440, ansBoxWidth, ansBoxHeight);\r\n        text(Answer, textposX-70, textposY+230);\r\n      }\r\n    }\r\n    \r\n    void answerComparison() {\r\n      if (Secret.equals(Answer) == true) {\r\n        fill(0);\r\n        background(0);\r\n      }\r\n    }\r\n    \r\n    public static class TextSplitter {\r\n      public static ArrayList&lt;String&gt; splitText(String inputText, int maximumLength) {\r\n        String[] inputTable = split(inputText, &#39; &#39;);\r\n        ArrayList&lt;String&gt; outputTable = new ArrayList&lt;String&gt;();\r\n        String line = &quot;&quot;;\r\n        for (String str : inputTable) {\r\n          line = line + &quot; &quot; + str;\r\n          if (line.length() &gt;= maximumLength) {\r\n            outputTable.add(line);\r\n            line = &quot;&quot;;\r\n          }\r\n        }\r\n        outputTable.add(line);\r\n        return outputTable;\r\n      }\r\n    }\r\n\r\n\r\n","title":"Center a sentence onto a canvas using a for loop in processing","body":"<p>Imagine that You have nice small function which return for You an ArrayList of Strings of proper width:</p>\n<pre><code>public static class TextSplitter {\n  public static ArrayList&lt;String&gt; splitText(String inputText, int maximumLength) {\n    String[] inputTable = split(inputText, ' ');\n    ArrayList&lt;String&gt; outputTable = new ArrayList&lt;String&gt;();\n    String line = &quot;&quot;;\n    for (String str : inputTable) {\n      line = line + &quot; &quot; + str;\n      if (line.length() &gt;= maximumLength) {\n        outputTable.add(line);\n        line = &quot;&quot;;\n      }\n    }\n    outputTable.add(line);\n    return outputTable;\n  }\n}\n</code></pre>\n<p>Now, You can pass Your riddle String as an argument of <em>splitText</em> method and get ArrayList of short strings:</p>\n<pre><code>ArrayList&lt;String&gt; textList = TextSplitter.splitText(riddle, 12);\n</code></pre>\n<p>Your riddle() now should just call a splitText()</p>\n<pre><code>void riddle() {\n  fill(0);\n  textSize(50);\n  stroke(0);\n  textAlign(CENTER);\n  int textScrPos = 50;\n  ArrayList&lt;String&gt; textList = TextSplitter.splitText(riddle, 12);\n  for (String str : textList) {\n    textScrPos += 64;\n    text(str, width/2, textScrPos);\n  }\n}\n</code></pre>\n<p>So, the final code:</p>\n<pre><code>import javax.swing.JOptionPane;\nString Answer; // FOR GET AN INPUT\nString Secret = &quot;Java&quot;; // CORRECT ANSWER\nint textposX, textposY; //X AND Y CO-ORDINATES OF THE TEXT\nfinal int ansBoxHeight = 50; // HEIGHT OF THE ANSWER BOX\nfinal int ansBoxWidth = 200; // WIDTH OF THE ANSWER BOX\nint boxPosX, boxPosY; // ANSWER BOX X AND Y CO-ORDINATES\nString riddle = &quot;WHAT IS THIS: high-level, class-based, object-oriented programming language?&quot;;\n\nvoid setup() {\n  size(500, 500);\n  textposX = width/2;\n  textposY = height/2;\n}\n\nvoid draw() {\n  answerBox();\n  riddle();\n  answerComparison();\n}\n\nvoid riddle() {\n  fill(0);\n  textSize(50);\n  stroke(0);\n  textAlign(CENTER);\n  int textScrPos = 0;\n  ArrayList&lt;String&gt; textList = TextSplitter.splitText(riddle, 12);\n  for (String str : textList) {\n    textScrPos += 64;\n    text(str, width/2, textScrPos);\n  }\n}\n\nvoid answerBox() {\n  noFill();\n  rect(boxPosX+150, boxPosY+440, ansBoxWidth, ansBoxHeight);\n  if (mouseX&gt;boxPosX+150\n    &amp;&amp; mouseX&lt;boxPosX+150+ansBoxWidth+ansBoxHeight\n    &amp;&amp; mouseY&gt;boxPosY+440\n    &amp;&amp; mouseY&lt;boxPosY+440+ansBoxWidth+ansBoxHeight\n    &amp;&amp; mousePressed) {\n    noLoop();\n    Answer = JOptionPane.showInputDialog(&quot;Correct Answer Is;&quot;);\n    rect(boxPosX+150, boxPosY+440, ansBoxWidth, ansBoxHeight);\n    text(Answer, textposX-70, textposY+230);\n  }\n}\n\nvoid answerComparison() {\n  if (Secret.equals(Answer) == true) {\n    fill(0);\n    background(0);\n  }\n}\n\npublic static class TextSplitter {\n  public static ArrayList&lt;String&gt; splitText(String inputText, int maximumLength) {\n    String[] inputTable = split(inputText, ' ');\n    ArrayList&lt;String&gt; outputTable = new ArrayList&lt;String&gt;();\n    String line = &quot;&quot;;\n    for (String str : inputTable) {\n      line = line + &quot; &quot; + str;\n      if (line.length() &gt;= maximumLength) {\n        outputTable.add(line);\n        line = &quot;&quot;;\n      }\n    }\n    outputTable.add(line);\n    return outputTable;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26375246,"reputation":25,"user_id":20029280,"display_name":"Jrishi_del14"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75679298,"answer_count":1,"score":1,"last_activity_date":1678320293,"creation_date":1678314683,"question_id":75678845,"body_markdown":"still learning I&#39;m trying to get a sentence split into word by word and trying to make it to the center of the canvas in processing anytime when I enter a new sentence. I&#39;m trying to do this using &#39;for&#39; loops and I can&#39;t determine how to position the X and Y co-ordinate into the loop which then  split the sentence word by word and make to the center of the canvas. I was able manually split the sentence into word by word but it will mess up when I try update into a new sentence. By far this is what I have done.\r\n\r\n```\r\nimport javax.swing.JOptionPane;\r\nString Answer; // FOR GET AN INPUT\r\nString Secret = &quot;Sponge&quot;; // CORRECT ANSWER\r\nint textposX, textposY; //X AND Y CO-ORDINATES OF THE TEXT\r\nfinal int ansBoxHeight = 50; // HEIGHT OF THE ANSWER BOX\r\nfinal int ansBoxWidth = 200; // WIDTH OF THE ANSWER BOX\r\nint boxPosX, boxPosY; // ANSWER BOX X AND Y CO-ORDINATES\r\nString riddle = &quot;WHAT IS: FULL OF HOLES BUT STILL HOLDS WATER, WHAT AM I?&quot;;\r\n\r\nvoid setup() {\r\n  size(500, 500);\r\n  textposX = width/2;\r\n  textposY = height/2;\r\n}\r\n\r\nvoid draw() {\r\n  answerBox();\r\n  riddle();\r\n  answerComparison();\r\n}\r\n\r\nvoid riddle() {\r\n  fill(0);\r\n  textSize(50);\r\n  for (int textposX = 0; textposX&lt;=450; textposX = textposX+120) {\r\n    for (int textposY = 0; textposY&gt;=450; textposY = textposY+100) {\r\n      text(riddle, textposX, textposY);\r\n    }\r\n  }\r\n  //text(&quot;WHAT IS:&quot;, textposX-100, textposY-200);\r\n  //text(&quot;FULL OF HOLES&quot;, textposX-150, textposY-90);\r\n  //text(&quot;BUT&quot;, textposX-50, textposY-50);\r\n  //text(&quot;STILL HOLDS&quot;, textposX-130, textposY-10);\r\n  //text(&quot;WATER?&quot;, textposX-70, textposY+30);\r\n  //text(&quot;WHAT AM I;&quot;, textposX-110, textposY+120);\r\n}\r\n\r\nvoid answerBox() {\r\n  noFill();\r\n  rect(boxPosX+150, boxPosY+440, ansBoxWidth, ansBoxHeight);\r\n  if (mouseX&gt;boxPosX+150 &amp;&amp; mouseX&lt;boxPosX+150+ansBoxWidth+ansBoxHeight &amp;&amp; mouseY&gt;boxPosY+440 &amp;&amp; mouseY&lt;boxPosY+440+ansBoxWidth+ansBoxHeight &amp;&amp; mousePressed) {\r\n    noLoop();\r\n    Answer = JOptionPane.showInputDialog(&quot;Correct Answer Is;&quot;);\r\n    rect(boxPosX+150, boxPosY+440, ansBoxWidth, ansBoxHeight);\r\n    text(Answer, textposX-70, textposY+230);\r\n  }\r\n}\r\n\r\nvoid answerComparison() {\r\n  if (Secret.equals(Answer) == true) {\r\n    fill(0);\r\n    background(0);\r\n  }\r\n}\r\n```\r\n","title":"Center a sentence onto a canvas using a for loop in processing","body":"<p>still learning I'm trying to get a sentence split into word by word and trying to make it to the center of the canvas in processing anytime when I enter a new sentence. I'm trying to do this using 'for' loops and I can't determine how to position the X and Y co-ordinate into the loop which then  split the sentence word by word and make to the center of the canvas. I was able manually split the sentence into word by word but it will mess up when I try update into a new sentence. By far this is what I have done.</p>\n<pre><code>import javax.swing.JOptionPane;\nString Answer; // FOR GET AN INPUT\nString Secret = &quot;Sponge&quot;; // CORRECT ANSWER\nint textposX, textposY; //X AND Y CO-ORDINATES OF THE TEXT\nfinal int ansBoxHeight = 50; // HEIGHT OF THE ANSWER BOX\nfinal int ansBoxWidth = 200; // WIDTH OF THE ANSWER BOX\nint boxPosX, boxPosY; // ANSWER BOX X AND Y CO-ORDINATES\nString riddle = &quot;WHAT IS: FULL OF HOLES BUT STILL HOLDS WATER, WHAT AM I?&quot;;\n\nvoid setup() {\n  size(500, 500);\n  textposX = width/2;\n  textposY = height/2;\n}\n\nvoid draw() {\n  answerBox();\n  riddle();\n  answerComparison();\n}\n\nvoid riddle() {\n  fill(0);\n  textSize(50);\n  for (int textposX = 0; textposX&lt;=450; textposX = textposX+120) {\n    for (int textposY = 0; textposY&gt;=450; textposY = textposY+100) {\n      text(riddle, textposX, textposY);\n    }\n  }\n  //text(&quot;WHAT IS:&quot;, textposX-100, textposY-200);\n  //text(&quot;FULL OF HOLES&quot;, textposX-150, textposY-90);\n  //text(&quot;BUT&quot;, textposX-50, textposY-50);\n  //text(&quot;STILL HOLDS&quot;, textposX-130, textposY-10);\n  //text(&quot;WATER?&quot;, textposX-70, textposY+30);\n  //text(&quot;WHAT AM I;&quot;, textposX-110, textposY+120);\n}\n\nvoid answerBox() {\n  noFill();\n  rect(boxPosX+150, boxPosY+440, ansBoxWidth, ansBoxHeight);\n  if (mouseX&gt;boxPosX+150 &amp;&amp; mouseX&lt;boxPosX+150+ansBoxWidth+ansBoxHeight &amp;&amp; mouseY&gt;boxPosY+440 &amp;&amp; mouseY&lt;boxPosY+440+ansBoxWidth+ansBoxHeight &amp;&amp; mousePressed) {\n    noLoop();\n    Answer = JOptionPane.showInputDialog(&quot;Correct Answer Is;&quot;);\n    rect(boxPosX+150, boxPosY+440, ansBoxWidth, ansBoxHeight);\n    text(Answer, textposX-70, textposY+230);\n  }\n}\n\nvoid answerComparison() {\n  if (Secret.equals(Answer) == true) {\n    fill(0);\n    background(0);\n  }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","api","amazon-s3"],"comments":[{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":1,"creation_date":1678320948,"post_id":75679165,"comment_id":133511856,"body_markdown":"Unless the contents of `fileName` starts with a `/`, then the URL it produces will be incorrect, and if it does, that&#39;s not the key that you need to pass to the delete object request.","body":"Unless the contents of <code>fileName</code> starts with a <code>&#47;</code>, then the URL it produces will be incorrect, and if it does, that&#39;s not the key that you need to pass to the delete object request."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1678372081,"post_id":75679165,"comment_id":133522562,"body_markdown":"And what would that key be and how should it be?","body":"And what would that key be and how should it be?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1678373595,"post_id":75679165,"comment_id":133523114,"body_markdown":"It should be something like &quot;String fileName = &quot;/products/images/&quot; + UUID.randomUUID().toString() + &quot;-&quot; + file.getOriginalFilename();&quot; ?","body":"It should be something like &quot;String fileName = &quot;/products/images/&quot; + UUID.randomUUID().toString() + &quot;-&quot; + file.getOriginalFilename();&quot; ?"}],"answers":[{"comments":[{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1678319557,"post_id":75679229,"comment_id":133511692,"body_markdown":"I didn&#39;t understand the difference in this code... Then &quot;productModel.setImage_url(&quot;https://&quot; + BUCKET_NAME + &quot;.s3.amazonaws.com&quot; + fileName);\n&quot; is wrong?","body":"I didn&#39;t understand the difference in this code... Then &quot;productModel.setImage_url(&quot;https://&quot; + BUCKET_NAME + &quot;.s3.amazonaws.com&quot; + fileName); &quot; is wrong?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1678319696,"post_id":75679229,"comment_id":133511714,"body_markdown":"But why even entering the file in amazon s3 and going to the url link I still can&#39;t see the image?","body":"But why even entering the file in amazon s3 and going to the url link I still can&#39;t see the image?"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1678319702,"post_id":75679229,"comment_id":133511715,"body_markdown":"No - that&#39;s your code.  The difference is that you need to have the &quot;key&quot; to the object to be able to delete it.  You&#39;re using a URL.  And if your bucket isn&#39;t set for HTTP hosting then the URL will not allow you to see it.  You must [configure your bucket for static hosting](https://docs.aws.amazon.com/AmazonS3/latest/userguide/HostingWebsiteOnS3Setup.html) for the URL method to work.  But your question was about deleting.","body":"No - that&#39;s your code.  The difference is that you need to have the &quot;key&quot; to the object to be able to delete it.  You&#39;re using a URL.  And if your bucket isn&#39;t set for HTTP hosting then the URL will not allow you to see it.  You must <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/HostingWebsiteOnS3Setup.html\" rel=\"nofollow noreferrer\">configure your bucket for static hosting</a> for the URL method to work.  But your question was about deleting."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1678373589,"post_id":75679229,"comment_id":133523110,"body_markdown":"It should be something like &quot;String fileName = &quot;/products/images/&quot; + UUID.randomUUID().toString() + &quot;-&quot; + file.getOriginalFilename();&quot; ?","body":"It should be something like &quot;String fileName = &quot;/products/images/&quot; + UUID.randomUUID().toString() + &quot;-&quot; + file.getOriginalFilename();&quot; ?"}],"tags":[],"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678319166,"creation_date":1678319166,"answer_id":75679229,"question_id":75679165,"body_markdown":"In S3 there are buckets and keys.  The key is the file name, including the &quot;folder&quot;.  It is not the entire URL.  A key may be something like `folder1/folder2/filename.txt`.  So for your code, delete with:\r\n\r\n    String imageUrl = productModel.getImage_url();\r\n\r\n    // extract the file name from the imageUrl.  This may be as simple\r\n    // as finding the last forward slash or it may be something stored\r\n    // in your ProductModel object\r\n\r\n    String objectKey = ...\r\n\r\n    try {\r\n        DeleteObjectRequest deleteObjectRequest = DeleteObjectRequest.builder()\r\n                .bucket(BUCKET_NAME)\r\n                .key(objectKey)  // delete by the key\r\n                .build();\r\n\r\n        s3Client.deleteObject(deleteObjectRequest);\r\n    } catch (Exception e) {\r\n        return ResponseEntity.status(HttpStatus.CONFLICT).body(e);\r\n    }","title":"Problem with file directory link in amazon s3","body":"<p>In S3 there are buckets and keys.  The key is the file name, including the &quot;folder&quot;.  It is not the entire URL.  A key may be something like <code>folder1/folder2/filename.txt</code>.  So for your code, delete with:</p>\n<pre><code>String imageUrl = productModel.getImage_url();\n\n// extract the file name from the imageUrl.  This may be as simple\n// as finding the last forward slash or it may be something stored\n// in your ProductModel object\n\nString objectKey = ...\n\ntry {\n    DeleteObjectRequest deleteObjectRequest = DeleteObjectRequest.builder()\n            .bucket(BUCKET_NAME)\n            .key(objectKey)  // delete by the key\n            .build();\n\n    s3Client.deleteObject(deleteObjectRequest);\n} catch (Exception e) {\n    return ResponseEntity.status(HttpStatus.CONFLICT).body(e);\n}\n</code></pre>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75679229,"answer_count":1,"score":-1,"last_activity_date":1678319166,"creation_date":1678318445,"question_id":75679165,"body_markdown":"Basically I have a product registration api, and in that api in my post, I send json information to my database and upload the product image which is stored in my amazon s3 and its directory link is saved in &quot;image_url&quot; in the product database.\r\n\r\n\r\nBut I save the link exactly like this:\r\n\r\n```\r\nproductModel.setImage_url(&quot;https://&quot; + BUCKET_NAME + &quot;.s3.amazonaws.com&quot; + fileName);\r\n\r\n```\r\n\r\nSo I see that this is problematic, because I&#39;m trying with my delete method to delete the image sent inside the database and I&#39;m not succeeding\r\n\r\n```\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; deleteProduct(@PathVariable(value = &quot;id&quot;) UUID id) {\r\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\r\n        if (!productModelOptional.isPresent()) {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found!&quot;);\r\n        }\r\n        ProductModel productModel = productModelOptional.get();\r\n\r\n        String imageUrl = productModel.getImage_url();\r\n\r\n        try {\r\n            DeleteObjectRequest deleteObjectRequest = DeleteObjectRequest.builder()\r\n                    .bucket(BUCKET_NAME)\r\n                    .key(imageUrl)\r\n                    .build();\r\n\r\n            s3Client.deleteObject(deleteObjectRequest);\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(e);\r\n        }\r\n        productService.delete(productModelOptional.get());\r\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Product deleted succesfully!&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI thought I might be sending the link wrong somehow, but logging into my amazon s3 and clicking on the image link itself I am taken to a page with the message:\r\n\r\n```\r\nThis XML file does not appear to have any style information associated with it. The document tree is shown below.\r\n\r\n```\r\n\r\nThere&#39;s something wrong and I don&#39;t know what it is\r\n","title":"Problem with file directory link in amazon s3","body":"<p>Basically I have a product registration api, and in that api in my post, I send json information to my database and upload the product image which is stored in my amazon s3 and its directory link is saved in &quot;image_url&quot; in the product database.</p>\n<p>But I save the link exactly like this:</p>\n<pre><code>productModel.setImage_url(&quot;https://&quot; + BUCKET_NAME + &quot;.s3.amazonaws.com&quot; + fileName);\n\n</code></pre>\n<p>So I see that this is problematic, because I'm trying with my delete method to delete the image sent inside the database and I'm not succeeding</p>\n<pre><code>    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; deleteProduct(@PathVariable(value = &quot;id&quot;) UUID id) {\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\n        if (!productModelOptional.isPresent()) {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found!&quot;);\n        }\n        ProductModel productModel = productModelOptional.get();\n\n        String imageUrl = productModel.getImage_url();\n\n        try {\n            DeleteObjectRequest deleteObjectRequest = DeleteObjectRequest.builder()\n                    .bucket(BUCKET_NAME)\n                    .key(imageUrl)\n                    .build();\n\n            s3Client.deleteObject(deleteObjectRequest);\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(e);\n        }\n        productService.delete(productModelOptional.get());\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Product deleted succesfully!&quot;);\n    }\n}\n\n</code></pre>\n<p>I thought I might be sending the link wrong somehow, but logging into my amazon s3 and clicking on the image link itself I am taken to a page with the message:</p>\n<pre><code>This XML file does not appear to have any style information associated with it. The document tree is shown below.\n\n</code></pre>\n<p>There's something wrong and I don't know what it is</p>\n"},{"tags":["java","inheritance","classloader","equality"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678318972,"creation_date":1678318972,"answer_id":75679211,"question_id":75679138,"body_markdown":"Did you try it? You would indeed end up with false. You can write code like so:\r\n\r\n```\r\nimport com.foo.Foo;\r\n\r\nvoid test(Object o) {\r\n  System.out.println(o.getClass());\r\n  System.out.println(o instanceof Foo);\r\n}\r\n```\r\n\r\nand call it so that it first prints `com.foo.Foo` and then nevertheless prints `false`, even leading to the fun error message &quot;An instance of type com.foo.Foo cannot be cast to com.foo.Foo&quot;.\r\n\r\nThe thing is, you would have 2 actual instances of `java.lang.Class` here, both with name `com.foo.Foo`, but with different values for &#39;classLoader&#39;, and as far as java is concerned, these 2 classes are __not, in any way, related or compatible__.\r\n\r\nWhen writing:\r\n\r\n```\r\nfoo instanceof Foo\r\n```\r\n\r\nThere are 2 types involved:\r\n\r\n* The `Foo` that was written directly into the source file, translated to byte code, by the JVM that bytecode (the class file) was read in and &#39;parsed&#39;, and this results in one take on &#39;what class is this actually&#39;, and it&#39;ll have the same classloader as whatever class this code is in.\r\n\r\n* The `foo` variable is a reference variable; it is pointing at some object. That object knows what its type is - that object began life by some `new X()` call, and that &#39;type&#39; is the exact same principle at work as in the previous bullet, but this time for `X`, and crucially, this time in the context of the class that the `new X()` source code expression is in.\r\n\r\nIf `ClassThatExecutedNewFoo` and `ClassThatIsExecutingInstanceofFoo` have different loaders _and_ they didn&#39;t both end up delegating the job of loading `Foo` to a common parent, then you end up with 2 different classes, and therefore, `foo instanceof Foo` resulting in `false`, even if `foo.getClass().getName().equals(Foo.class.getName())` is `true`. Yes, the JVM can load the same identical class more than once if you want to, so long as multiple class loaders are involved.\r\n\r\n## Parentage\r\n\r\nA crucial aspect here is classloader hierarchy. ClassLoaders always have a parent, and classloader really really tries very hard to make you write new ones such that they _first_ ask their &#39;parent loader&#39; to load a class, and __only if__ the parent can&#39;t get the job done, then and only then does the ClassLoader itself try.\r\n\r\nThe reason, once you think about it, should be obvious: If it did not work like that, and each classloader aims to load whatever you ask on its own, then that means a class loaded by loader A and a class loaded by loader B don&#39;t even agree on something as utterly fundamental as `java.lang.String`. Or worse, `java.lang.Object`. Which makes any attempt to communicate between code from these 2 classes pretty much impossible. There has to be _some_ form of common ground for them to talk to each other.\r\n\r\nHence, if you simply follow the obvious path and write `class MyLoader extends ClassLoader` and you implement the `findClass` method, you are likely to run into this shared parentage situation. You could make 2 loaders and nevertheless conclude: Odd, I asked loader A to load `com.foo.Foo`, I then asked loader B to load it, and I was expecting to end up with 2 `Foo` types that are completely incompatible (`instanceof` is false, that sort of thing). And yet they aren&#39;t.\r\n\r\nIf that happens, it&#39;s because both of your loaders first asked parent to laod it, and _it_ succeeded, meaning the loader of `Foo` is actually that parent and not A, nor B. Same class loaded by the same loader? That really is the same class and therefore things _are_ compatible with each other.\r\n\r\nYou can stop this from happening; either ensure parent-loader can&#39;t find it (in the common situation where &#39;parent loader&#39; is the main app loader that java creates for you, simply ensure `com.foo.Foo` is __not__ on the class path!) - or, override `loadClass`, but when you do that, be real careful. You should not `defineClass()` the class up in a loader unless you want that class to be incompatible with any other loader&#39;s attempt to do so (other than children of your own loader of course). e.g. trying to load `java.lang.String` will work but means Strings in classes you load are now incompatible with strings anywhere else, and that&#39;s rather unlikely to be something you want.\r\n","title":"getClass() &amp; instanceof semantic when classloaders are different","body":"<p>Did you try it? You would indeed end up with false. You can write code like so:</p>\n<pre><code>import com.foo.Foo;\n\nvoid test(Object o) {\n  System.out.println(o.getClass());\n  System.out.println(o instanceof Foo);\n}\n</code></pre>\n<p>and call it so that it first prints <code>com.foo.Foo</code> and then nevertheless prints <code>false</code>, even leading to the fun error message &quot;An instance of type com.foo.Foo cannot be cast to com.foo.Foo&quot;.</p>\n<p>The thing is, you would have 2 actual instances of <code>java.lang.Class</code> here, both with name <code>com.foo.Foo</code>, but with different values for 'classLoader', and as far as java is concerned, these 2 classes are <strong>not, in any way, related or compatible</strong>.</p>\n<p>When writing:</p>\n<pre><code>foo instanceof Foo\n</code></pre>\n<p>There are 2 types involved:</p>\n<ul>\n<li><p>The <code>Foo</code> that was written directly into the source file, translated to byte code, by the JVM that bytecode (the class file) was read in and 'parsed', and this results in one take on 'what class is this actually', and it'll have the same classloader as whatever class this code is in.</p>\n</li>\n<li><p>The <code>foo</code> variable is a reference variable; it is pointing at some object. That object knows what its type is - that object began life by some <code>new X()</code> call, and that 'type' is the exact same principle at work as in the previous bullet, but this time for <code>X</code>, and crucially, this time in the context of the class that the <code>new X()</code> source code expression is in.</p>\n</li>\n</ul>\n<p>If <code>ClassThatExecutedNewFoo</code> and <code>ClassThatIsExecutingInstanceofFoo</code> have different loaders <em>and</em> they didn't both end up delegating the job of loading <code>Foo</code> to a common parent, then you end up with 2 different classes, and therefore, <code>foo instanceof Foo</code> resulting in <code>false</code>, even if <code>foo.getClass().getName().equals(Foo.class.getName())</code> is <code>true</code>. Yes, the JVM can load the same identical class more than once if you want to, so long as multiple class loaders are involved.</p>\n<h2>Parentage</h2>\n<p>A crucial aspect here is classloader hierarchy. ClassLoaders always have a parent, and classloader really really tries very hard to make you write new ones such that they <em>first</em> ask their 'parent loader' to load a class, and <strong>only if</strong> the parent can't get the job done, then and only then does the ClassLoader itself try.</p>\n<p>The reason, once you think about it, should be obvious: If it did not work like that, and each classloader aims to load whatever you ask on its own, then that means a class loaded by loader A and a class loaded by loader B don't even agree on something as utterly fundamental as <code>java.lang.String</code>. Or worse, <code>java.lang.Object</code>. Which makes any attempt to communicate between code from these 2 classes pretty much impossible. There has to be <em>some</em> form of common ground for them to talk to each other.</p>\n<p>Hence, if you simply follow the obvious path and write <code>class MyLoader extends ClassLoader</code> and you implement the <code>findClass</code> method, you are likely to run into this shared parentage situation. You could make 2 loaders and nevertheless conclude: Odd, I asked loader A to load <code>com.foo.Foo</code>, I then asked loader B to load it, and I was expecting to end up with 2 <code>Foo</code> types that are completely incompatible (<code>instanceof</code> is false, that sort of thing). And yet they aren't.</p>\n<p>If that happens, it's because both of your loaders first asked parent to laod it, and <em>it</em> succeeded, meaning the loader of <code>Foo</code> is actually that parent and not A, nor B. Same class loaded by the same loader? That really is the same class and therefore things <em>are</em> compatible with each other.</p>\n<p>You can stop this from happening; either ensure parent-loader can't find it (in the common situation where 'parent loader' is the main app loader that java creates for you, simply ensure <code>com.foo.Foo</code> is <strong>not</strong> on the class path!) - or, override <code>loadClass</code>, but when you do that, be real careful. You should not <code>defineClass()</code> the class up in a loader unless you want that class to be incompatible with any other loader's attempt to do so (other than children of your own loader of course). e.g. trying to load <code>java.lang.String</code> will work but means Strings in classes you load are now incompatible with strings anywhere else, and that's rather unlikely to be something you want.</p>\n"}],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75679211,"answer_count":1,"score":0,"last_activity_date":1678318972,"creation_date":1678318101,"question_id":75679138,"body_markdown":"It seems that the &quot;same&quot; classes from different classloaders shouldn&#39;t appear in a same execution context, OSGI / app server ensure boundaries are not violated.\r\n\r\nImaging we escaped a jail and are comparing objects, which are &quot;equal&quot; (data &amp; package &amp; class name) but loaded from different jars: methods&#39; byte code could be different, one could be compiled for Java 8, another for Java 17.\r\n\r\nI expect `obj1 instanceof Clz2` &amp; `obj1.getClass() == obj2.getClass()`  return `false`.\r\n\r\nDo classloaders break equality and inheritance? ","title":"getClass() &amp; instanceof semantic when classloaders are different","body":"<p>It seems that the &quot;same&quot; classes from different classloaders shouldn't appear in a same execution context, OSGI / app server ensure boundaries are not violated.</p>\n<p>Imaging we escaped a jail and are comparing objects, which are &quot;equal&quot; (data &amp; package &amp; class name) but loaded from different jars: methods' byte code could be different, one could be compiled for Java 8, another for Java 17.</p>\n<p>I expect <code>obj1 instanceof Clz2</code> &amp; <code>obj1.getClass() == obj2.getClass()</code>  return <code>false</code>.</p>\n<p>Do classloaders break equality and inheritance?</p>\n"},{"tags":["java","gradle","init"],"comments":[{"owner":{"account_id":4694003,"reputation":1087,"user_id":3799365,"accept_rate":33,"display_name":"user3799365"},"score":0,"creation_date":1678318769,"post_id":75679187,"comment_id":133511618,"body_markdown":"I have used gradle older versions before and never saw this issue. I am also using Java 19.0.0","body":"I have used gradle older versions before and never saw this issue. I am also using Java 19.0.0"},{"owner":{"account_id":4694003,"reputation":1087,"user_id":3799365,"accept_rate":33,"display_name":"user3799365"},"score":0,"creation_date":1678319681,"post_id":75679187,"comment_id":133511711,"body_markdown":"I deleted and restarted using C:\\Gradle\\gradle-8.0.2 and keep getting settings.gradle already exists","body":"I deleted and restarted using C:\\Gradle\\gradle-8.0.2 and keep getting settings.gradle already exists"},{"owner":{"account_id":4694003,"reputation":1087,"user_id":3799365,"accept_rate":33,"display_name":"user3799365"},"score":0,"creation_date":1678319827,"post_id":75679187,"comment_id":133511729,"body_markdown":"Now I keep getting settings.gradle already exists","body":"Now I keep getting settings.gradle already exists"}],"owner":{"account_id":4694003,"reputation":1087,"user_id":3799365,"accept_rate":33,"display_name":"user3799365"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678318695,"creation_date":1678318695,"question_id":75679187,"body_markdown":"I downloaded gradle 8.0.2 version. When I look at my gradle directory I see \r\n\\gradle-8.0.2-bin\\gradle-8.0.2\\bin\r\nIt has two files gradle and gradle.bat\r\nWhen I run gradle init I see \r\n---\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nSome problems were found with the configuration of task &#39;:wrapper&#39; (type &#39;Wrapper&#39;).\r\n  - In plugin &#39;org.gradle.buildinit.plugins.BuildInitPlugin$Inject&#39; type &#39;org.gradle.api.tasks.wrapper.Wrapper&#39; property &#39;jarFile&#39; is not writable because &#39;C:\\Users\\baigk\\Downloads\\gradle-8.0.2-bin\\gradle-8.0.2\\bin\\gradle\\wrapper\\gradle-wrapper.jar&#39; ancestor &#39;C:\\Users\\baigk\\Downloads\\gradle-8.0.2-bin\\gradle-8.0.2\\bin\\gradle&#39; is not a directory.\r\n\r\n    Reason: Cannot create parent directories that are existing as file.\r\n\r\n    Possible solution: Configure &#39;jarFile&#39; to point to the correct location.","title":"gradle down missing directory","body":"<h2>I downloaded gradle 8.0.2 version. When I look at my gradle directory I see\n\\gradle-8.0.2-bin\\gradle-8.0.2\\bin\nIt has two files gradle and gradle.bat\nWhen I run gradle init I see</h2>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nSome problems were found with the configuration of task ':wrapper' (type 'Wrapper').\n<ul>\n<li><p>In plugin 'org.gradle.buildinit.plugins.BuildInitPlugin$Inject' type 'org.gradle.api.tasks.wrapper.Wrapper' property 'jarFile' is not writable because 'C:\\Users\\baigk\\Downloads\\gradle-8.0.2-bin\\gradle-8.0.2\\bin\\gradle\\wrapper\\gradle-wrapper.jar' ancestor 'C:\\Users\\baigk\\Downloads\\gradle-8.0.2-bin\\gradle-8.0.2\\bin\\gradle' is not a directory.</p>\n<p>Reason: Cannot create parent directories that are existing as file.</p>\n<p>Possible solution: Configure 'jarFile' to point to the correct location.</p>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":["java","spring-boot","hibernate","jpa","mariadb"],"comments":[{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1678327347,"post_id":75679164,"comment_id":133512655,"body_markdown":"&quot; a large update in First and its children may take up to 2-3 seconds&quot; - this seems to be the place to start; show some of the actual queries hitting the database and where is the time going?  If you are not already, inserting/updating multiple Second/Third records in a single request is going to be much faster","body":"&quot; a large update in First and its children may take up to 2-3 seconds&quot; - this seems to be the place to start; show some of the actual queries hitting the database and where is the time going?  If you are not already, inserting/updating multiple Second/Third records in a single request is going to be much faster"},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1678333602,"post_id":75679164,"comment_id":133513395,"body_markdown":"another way to say it: as phrased, your question isn&#39;t really answerable without someone knowing well all of your exact set of products; if you think the underlying problem is the database itself, focus on that.  show the table schemas and the sets of read and write queries and their explain plans and how long they are taking and ask for help with just the database layer.","body":"another way to say it: as phrased, your question isn&#39;t really answerable without someone knowing well all of your exact set of products; if you think the underlying problem is the database itself, focus on that.  show the table schemas and the sets of read and write queries and their explain plans and how long they are taking and ask for help with just the database layer."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678344516,"post_id":75679164,"comment_id":133514837,"body_markdown":"If you are calling that transactional method in a loop it will be slow. As each will have a single transaction. Transactions are slow, having only a single tx will also render batching of statements useless as there is always just 1. What you should do is remove the transactional, execute everything in 1 large transaction. Do a flush/clear every x records (your batch size). But that is all based on assumptions as there is too little code/information here to help you.","body":"If you are calling that transactional method in a loop it will be slow. As each will have a single transaction. Transactions are slow, having only a single tx will also render batching of statements useless as there is always just 1. What you should do is remove the transactional, execute everything in 1 large transaction. Do a flush/clear every x records (your batch size). But that is all based on assumptions as there is too little code/information here to help you."}],"owner":{"account_id":12628313,"reputation":51,"user_id":9180885,"display_name":"Vasil Lazarov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678318441,"creation_date":1678318441,"question_id":75679164,"body_markdown":"# TLDR\r\nHi, we seem to have hit a ceiling of the throughput we can squeeze out of our database layer. And we believe that our load, although not small, is not something that impressive.\r\nWe observe that, although we believe we have free capacity of connections, both in the app&#39;s and the DB&#39;s connection pools, we can&#39;t execute many concurrent transactions effectively. **The more threads we add, above a certain threshold, the slower becomes each transaction, resulting in relatively constant processing throughput** regardless of the count of threads we throw at it. For now we have set it to 10 threads as it appears that this gives us the optimal throughput. Apart from the multithreding constraint, we believe we should be able to make the Db updates faster as a whole.\r\n\r\n# In details:\r\nWe have a Spring boot application, using Spring Data JPA and Hibernate, running in a docker container. The underlying DB is MariaDb.\r\n\r\nThe bulk of our model consists of entity `First`, that has a `one-to-many` relationship with entity `Second`, that has a `one-to-many` relationship with entity `Third`. There are no many-to-many relationships.\r\n\r\nThe flow is basically the following:\r\nAs data flows in, we open a transaction, using Spring&#39;s @Transactional, fetch an entity First, update some of First&#39;s and its childrens properties, and in some occasions add new child entities. Then we call firstRepository.save and the transaction is committed. Save is called because First itself, or any of its children, may be a newly created entity. \r\nThis is done concurrently using several threads where each thread works on a separate First instance. \r\nThe business logic involved takes a minuscule amount of time. The majority of the time spent is for reading, saving and transaction commit. The last includes everything String&#39;s @Transactional proxy does in relation to committing the transaction.\r\n\r\nFor now, we are not able to avoid the routine of reading entire First, because after any update in First, or its children, we need to send the entire object over to the next system - always sending the entire snapshot.\r\n\r\nWe have several indexes on each of the entities - First, Second, Third\r\nTheir relationship is enforced with foreign keys.\r\n\r\nIn our efforts to increase the throughput we tried a lot of advice in terms of working with Hibernate and MariaDb, like:\r\n- Level 2 caching from Hibernate, which in our case is implemented by EhCache\r\n- Hikari datasource with large connection pool == 30, which is never completely used up\r\n- MariaDb has even larger pool == 10000\r\n- batching inserts and updates by Hibernate\r\n- eager fetching of child entities to reduce DB round trips. Remember we need all children anyway, even those that are not updated, because we have to pass on the entire `First` latest snapshot, so lazy loading does not save us anything\r\n- our DB engine is `InnoDb`, which is supposed to only lock certain records and not entire tables\r\n\r\nAll these listed above do help, but we still appear to be slow - a large update in First and its children may take up to 2-3 seconds. the constraint in our multithreading doesn&#39;t seem to be affected by these optimizations.\r\n\r\nWe don&#39;t understand why we can&#39;t squeeze more of our DB layer. Currently we have approximately `600k` records for `First`, `28M` of `Second` and `100M` of `Third`.\r\nThis makes an average of 50 Second for each First and 4 Third for each Second. However we are usually not actively using more than a set of 5000 First at a time. In other words, most of the data is not in active use most of the time.\r\n\r\nI have a suspicion that it may be miss-configuration in Hikari or the BD itself, that limits the connections that are actually used, or that makes the DB locks more rows than is necessary.\r\nBut I have no idea how to diagnose these.\r\n\r\n# Some source code snippets:\r\n```\r\n@Entity\r\n@Table(name = &quot;first&quot;, indexes = { \r\n\t\t@Index(name = &quot;blah1_inx&quot;, unique = false, columnList = &quot;blah1Id&quot;),\r\n\t\t@Index(name = &quot;blah2_inx&quot;, unique = false, columnList = &quot;blah1Id&quot;),\r\n\t\t@Index(name = &quot;blah3_inx&quot;, unique = false, columnList = &quot;blah2Id&quot;),\r\n\t\t@Index(name = &quot;blah4_inx&quot;, unique = false, columnList = &quot;blah3Id&quot;) })\r\n@Cacheable\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class First {\r\n\r\n\t@Id\r\n\tprivate Long id;\r\n\r\n\t@OneToMany(mappedBy = &quot;parent&quot;, cascade = {CascadeType.ALL})\r\n\t@OrderBy(&quot;typeId asc&quot;)\r\n\t@Fetch(FetchMode.JOIN)\r\n\t@LazyCollection(LazyCollectionOption.FALSE)\r\n\t@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n\tprivate Set&lt;Second&gt; second = new HashSet&lt;Second&gt;();\r\n\r\n\t/**\r\n\tThere are 24 more columns, some of which are @Lob\r\n\t**/\r\n\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;second&quot;, indexes = { \r\n\t\t@Index(name = &quot;blah100_inx&quot;, unique = false, columnList = &quot;blah100&quot;),\r\n\t\t@Index(name = &quot;blah101_inx&quot;, unique = false, columnList = &quot;blah101&quot;),\r\n\t\t@Index(name = &quot;blah102_inx&quot;, unique = false, columnList = &quot;blah102&quot;),\r\n\t\t@Index(name = &quot;blah103_inx&quot;, unique = false, columnList = &quot;blah103&quot;) })\r\n@Cacheable\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class Second {\r\n\r\n\t@Id\r\n\tprivate Long id;\r\n\r\n\t@ManyToOne(optional = false)\r\n\t@JoinColumn(name = &quot;parentId&quot;, nullable = false, referencedColumnName = &quot;id&quot;)\r\n\t@JsonIgnore\r\n\tprivate First parent;\r\n\r\n\t@OneToMany(mappedBy = &quot;parent&quot;, cascade = {CascadeType.ALL})\r\n\t@OrderBy(&quot;line asc, caption  desc&quot;)\r\n\t@Fetch(FetchMode.JOIN)\r\n\t@LazyCollection(LazyCollectionOption.FALSE)\r\n\t@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n\tprivate List&lt;Third&gt; third = new ArrayList&lt;Third&gt;();\r\n\r\n\r\n\t/**\r\n\tThere are 11 more columns, none of which are @Lob\r\n\t**/\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;third&quot;, indexes = { \r\n\t\t@Index(name = &quot;blah200_inx&quot;, unique = false, columnList = &quot;blah200&quot;),\r\n\t\t@Index(name = &quot;blah201_inx&quot;, unique = false, columnList = &quot;blah201&quot;),\r\n\t\t@Index(name = &quot;blah202_inx&quot;, unique = false, columnList = &quot;blah202&quot;),\r\n\t\t@Index(name = &quot;blah203_inx&quot;, unique = false, columnList = &quot;blah203&quot;) })\r\n@Cacheable\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class Third {\r\n\r\n\t@Id\r\n\tprivate Long id;\r\n\r\n\t@ManyToOne(optional = false)\r\n\t@JoinColumn(name = &quot;parentId&quot;, nullable = false, referencedColumnName = &quot;id&quot;)\r\n\tprivate Second parent;\r\n\r\n\r\n\t/**\r\n\tThere are 16 more columns, none of which are @Lob\r\n\t**/\r\n}\r\n```\r\n\r\nWe use a vanilla JpaRepository for fetching and saving\r\n```\r\npublic interface FirstRepository extends JpaRepository&lt;First, Long&gt; {\r\n\t...\r\n}\r\n```\r\n\r\nCreating/updating the data:\r\n```\r\n@Transactional(\r\n        propagation = Propagation.REQUIRES_NEW,\r\n        rollbackFor = {Exception.class}\r\n    )\r\n    public First process(Long id) {\r\n\tfirstRepository.findById(id)\r\n                .orElse(new First(id));\r\n\t\t\r\n\t// update somo of first&#39;s attributes, and some of attributes of first children\r\n\t// ...\r\n\t\r\n\treturn firstRepository.save(first);\r\n\t \r\n    }\r\n```\r\n\r\n# Configuration\r\n\r\n- the tables in the DB all use InnoDb engine and row format = Dynamic. \r\n- Some of the text fields in First are large - Type = longtext\r\n- Transaction isolation is the default, which should be REPEATABLE READ\r\n- We don&#39;t do explicit locking in Hibernate\r\n\r\napplication.properties\r\n```\r\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\nspring.datasource.url=jdbc:mariadb://${DB_HOST}:3306/${DB_DATABASE}?useSSL=false\r\n\r\nspring.datasource.hikari.maximumPoolSize=30\r\nspring.datasource.hikari.maxLifetime=27000\r\n#Hibernate l2 cache properties\r\nspring.jpa.properties.hibernate.cache.use_second_level_cache=true\r\nspring.jpa.properties.hibernate.cache.region.factory_class=org.hibernate.cache.ehcache.SingletonEhCacheRegionFactory\r\n\r\nspring.jpa.hibernate.jdbc.batch_size=50\r\nspring.jpa.hibernate.jdbc.batch_versioned_data=true\r\nspring.jpa.hibernate.order_inserts=true\r\nspring.jpa.hibernate.order_updates=true\r\n```\r\n\r\nSome DB settings that may be of interest:\r\n```\r\nMariaDB  Ver 15.1\r\nmax_connections = 10000 (no idea why they set that much here)\r\nexpire_logs_days = 3\r\nInnoDB settings:\r\ninnodb_buffer_pool_size = 32G\r\n```","title":"How to make faster DB updates with Spring JPA and Hibernate for a hierarchy of entities in one-to-many relationships","body":"<h1>TLDR</h1>\n<p>Hi, we seem to have hit a ceiling of the throughput we can squeeze out of our database layer. And we believe that our load, although not small, is not something that impressive.\nWe observe that, although we believe we have free capacity of connections, both in the app's and the DB's connection pools, we can't execute many concurrent transactions effectively. <strong>The more threads we add, above a certain threshold, the slower becomes each transaction, resulting in relatively constant processing throughput</strong> regardless of the count of threads we throw at it. For now we have set it to 10 threads as it appears that this gives us the optimal throughput. Apart from the multithreding constraint, we believe we should be able to make the Db updates faster as a whole.</p>\n<h1>In details:</h1>\n<p>We have a Spring boot application, using Spring Data JPA and Hibernate, running in a docker container. The underlying DB is MariaDb.</p>\n<p>The bulk of our model consists of entity <code>First</code>, that has a <code>one-to-many</code> relationship with entity <code>Second</code>, that has a <code>one-to-many</code> relationship with entity <code>Third</code>. There are no many-to-many relationships.</p>\n<p>The flow is basically the following:\nAs data flows in, we open a transaction, using Spring's @Transactional, fetch an entity First, update some of First's and its childrens properties, and in some occasions add new child entities. Then we call firstRepository.save and the transaction is committed. Save is called because First itself, or any of its children, may be a newly created entity.\nThis is done concurrently using several threads where each thread works on a separate First instance.\nThe business logic involved takes a minuscule amount of time. The majority of the time spent is for reading, saving and transaction commit. The last includes everything String's @Transactional proxy does in relation to committing the transaction.</p>\n<p>For now, we are not able to avoid the routine of reading entire First, because after any update in First, or its children, we need to send the entire object over to the next system - always sending the entire snapshot.</p>\n<p>We have several indexes on each of the entities - First, Second, Third\nTheir relationship is enforced with foreign keys.</p>\n<p>In our efforts to increase the throughput we tried a lot of advice in terms of working with Hibernate and MariaDb, like:</p>\n<ul>\n<li>Level 2 caching from Hibernate, which in our case is implemented by EhCache</li>\n<li>Hikari datasource with large connection pool == 30, which is never completely used up</li>\n<li>MariaDb has even larger pool == 10000</li>\n<li>batching inserts and updates by Hibernate</li>\n<li>eager fetching of child entities to reduce DB round trips. Remember we need all children anyway, even those that are not updated, because we have to pass on the entire <code>First</code> latest snapshot, so lazy loading does not save us anything</li>\n<li>our DB engine is <code>InnoDb</code>, which is supposed to only lock certain records and not entire tables</li>\n</ul>\n<p>All these listed above do help, but we still appear to be slow - a large update in First and its children may take up to 2-3 seconds. the constraint in our multithreading doesn't seem to be affected by these optimizations.</p>\n<p>We don't understand why we can't squeeze more of our DB layer. Currently we have approximately <code>600k</code> records for <code>First</code>, <code>28M</code> of <code>Second</code> and <code>100M</code> of <code>Third</code>.\nThis makes an average of 50 Second for each First and 4 Third for each Second. However we are usually not actively using more than a set of 5000 First at a time. In other words, most of the data is not in active use most of the time.</p>\n<p>I have a suspicion that it may be miss-configuration in Hikari or the BD itself, that limits the connections that are actually used, or that makes the DB locks more rows than is necessary.\nBut I have no idea how to diagnose these.</p>\n<h1>Some source code snippets:</h1>\n<pre><code>@Entity\n@Table(name = &quot;first&quot;, indexes = { \n        @Index(name = &quot;blah1_inx&quot;, unique = false, columnList = &quot;blah1Id&quot;),\n        @Index(name = &quot;blah2_inx&quot;, unique = false, columnList = &quot;blah1Id&quot;),\n        @Index(name = &quot;blah3_inx&quot;, unique = false, columnList = &quot;blah2Id&quot;),\n        @Index(name = &quot;blah4_inx&quot;, unique = false, columnList = &quot;blah3Id&quot;) })\n@Cacheable\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class First {\n\n    @Id\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;parent&quot;, cascade = {CascadeType.ALL})\n    @OrderBy(&quot;typeId asc&quot;)\n    @Fetch(FetchMode.JOIN)\n    @LazyCollection(LazyCollectionOption.FALSE)\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n    private Set&lt;Second&gt; second = new HashSet&lt;Second&gt;();\n\n    /**\n    There are 24 more columns, some of which are @Lob\n    **/\n\n}\n\n@Entity\n@Table(name = &quot;second&quot;, indexes = { \n        @Index(name = &quot;blah100_inx&quot;, unique = false, columnList = &quot;blah100&quot;),\n        @Index(name = &quot;blah101_inx&quot;, unique = false, columnList = &quot;blah101&quot;),\n        @Index(name = &quot;blah102_inx&quot;, unique = false, columnList = &quot;blah102&quot;),\n        @Index(name = &quot;blah103_inx&quot;, unique = false, columnList = &quot;blah103&quot;) })\n@Cacheable\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Second {\n\n    @Id\n    private Long id;\n\n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;parentId&quot;, nullable = false, referencedColumnName = &quot;id&quot;)\n    @JsonIgnore\n    private First parent;\n\n    @OneToMany(mappedBy = &quot;parent&quot;, cascade = {CascadeType.ALL})\n    @OrderBy(&quot;line asc, caption  desc&quot;)\n    @Fetch(FetchMode.JOIN)\n    @LazyCollection(LazyCollectionOption.FALSE)\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n    private List&lt;Third&gt; third = new ArrayList&lt;Third&gt;();\n\n\n    /**\n    There are 11 more columns, none of which are @Lob\n    **/\n}\n\n@Entity\n@Table(name = &quot;third&quot;, indexes = { \n        @Index(name = &quot;blah200_inx&quot;, unique = false, columnList = &quot;blah200&quot;),\n        @Index(name = &quot;blah201_inx&quot;, unique = false, columnList = &quot;blah201&quot;),\n        @Index(name = &quot;blah202_inx&quot;, unique = false, columnList = &quot;blah202&quot;),\n        @Index(name = &quot;blah203_inx&quot;, unique = false, columnList = &quot;blah203&quot;) })\n@Cacheable\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Third {\n\n    @Id\n    private Long id;\n\n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;parentId&quot;, nullable = false, referencedColumnName = &quot;id&quot;)\n    private Second parent;\n\n\n    /**\n    There are 16 more columns, none of which are @Lob\n    **/\n}\n</code></pre>\n<p>We use a vanilla JpaRepository for fetching and saving</p>\n<pre><code>public interface FirstRepository extends JpaRepository&lt;First, Long&gt; {\n    ...\n}\n</code></pre>\n<p>Creating/updating the data:</p>\n<pre><code>@Transactional(\n        propagation = Propagation.REQUIRES_NEW,\n        rollbackFor = {Exception.class}\n    )\n    public First process(Long id) {\n    firstRepository.findById(id)\n                .orElse(new First(id));\n        \n    // update somo of first's attributes, and some of attributes of first children\n    // ...\n    \n    return firstRepository.save(first);\n     \n    }\n</code></pre>\n<h1>Configuration</h1>\n<ul>\n<li>the tables in the DB all use InnoDb engine and row format = Dynamic.</li>\n<li>Some of the text fields in First are large - Type = longtext</li>\n<li>Transaction isolation is the default, which should be REPEATABLE READ</li>\n<li>We don't do explicit locking in Hibernate</li>\n</ul>\n<p>application.properties</p>\n<pre><code>spring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.datasource.url=jdbc:mariadb://${DB_HOST}:3306/${DB_DATABASE}?useSSL=false\n\nspring.datasource.hikari.maximumPoolSize=30\nspring.datasource.hikari.maxLifetime=27000\n#Hibernate l2 cache properties\nspring.jpa.properties.hibernate.cache.use_second_level_cache=true\nspring.jpa.properties.hibernate.cache.region.factory_class=org.hibernate.cache.ehcache.SingletonEhCacheRegionFactory\n\nspring.jpa.hibernate.jdbc.batch_size=50\nspring.jpa.hibernate.jdbc.batch_versioned_data=true\nspring.jpa.hibernate.order_inserts=true\nspring.jpa.hibernate.order_updates=true\n</code></pre>\n<p>Some DB settings that may be of interest:</p>\n<pre><code>MariaDB  Ver 15.1\nmax_connections = 10000 (no idea why they set that much here)\nexpire_logs_days = 3\nInnoDB settings:\ninnodb_buffer_pool_size = 32G\n</code></pre>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678317138,"creation_date":1678301674,"question_id":75677128,"body_markdown":"I am trying to record some audio with my android app. \r\n\r\nFirst I followed https://stackoverflow.com/questions/5924190/how-do-you-enable-a-microphone-input-in-the-android-emulator tutorial and set the `virtual microphone uses host input` to ON\r\n\r\nThen I used some code to record audio \r\n\r\nIt enters the IF statement, so permissions are set correctly, but the max amplitude returned is always 0, so it never records any audio\r\n\r\nMy problem is that I cannot check if this is an issue with the code or the emulator\r\n\r\nI tested the microphone on my laptop works just fine. \r\n\r\nBut I cannot test microphone in the emulator\r\n\r\nWhen I try to start the Camera App, it immediately crashes with `Camera keeps stopping` error\r\nWhen I try to type something with Gboard speech to text inside of the emulator, it shows `initializing` then immediately turns off the speech recording.\r\n\r\nIt seems there may be something wrong with the emulator here. How can I fix it?\r\n\r\n    private AudioRecord ar = null;\r\n    private int minSize;\r\n    private boolean permitted = false;\r\n    public void start(Context main_context) {\r\n        if (ContextCompat.checkSelfPermission(main_context, android.Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\r\n            permitted = true;\r\n            minSize = AudioRecord.getMinBufferSize(8000, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);\r\n            ar = new AudioRecord(MediaRecorder.AudioSource.MIC, 8000, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT, minSize);\r\n            ar.startRecording();\r\n        }\r\n    }\r\n\r\n    public void stop() {\r\n        if (ar != null &amp;&amp; permitted) {\r\n            ar.stop();\r\n        }\r\n    }\r\n\r\n    public double getAmplitude() {\r\n        short[] buffer = new short[minSize];\r\n        ar.read(buffer, 0, minSize);\r\n        int max = 0;\r\n        for (short s : buffer)\r\n        {\r\n            if (Math.abs(s) &gt; max)\r\n            {\r\n                max = Math.abs(s);\r\n            }\r\n        }\r\n        return max;\r\n    }","title":"Microphone not working Android Emulator in Android Studio","body":"<p>I am trying to record some audio with my android app.</p>\n<p>First I followed <a href=\"https://stackoverflow.com/questions/5924190/how-do-you-enable-a-microphone-input-in-the-android-emulator\">How do you enable a microphone input in the android emulator</a> tutorial and set the <code>virtual microphone uses host input</code> to ON</p>\n<p>Then I used some code to record audio</p>\n<p>It enters the IF statement, so permissions are set correctly, but the max amplitude returned is always 0, so it never records any audio</p>\n<p>My problem is that I cannot check if this is an issue with the code or the emulator</p>\n<p>I tested the microphone on my laptop works just fine.</p>\n<p>But I cannot test microphone in the emulator</p>\n<p>When I try to start the Camera App, it immediately crashes with <code>Camera keeps stopping</code> error\nWhen I try to type something with Gboard speech to text inside of the emulator, it shows <code>initializing</code> then immediately turns off the speech recording.</p>\n<p>It seems there may be something wrong with the emulator here. How can I fix it?</p>\n<pre><code>private AudioRecord ar = null;\nprivate int minSize;\nprivate boolean permitted = false;\npublic void start(Context main_context) {\n    if (ContextCompat.checkSelfPermission(main_context, android.Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED) {\n        permitted = true;\n        minSize = AudioRecord.getMinBufferSize(8000, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);\n        ar = new AudioRecord(MediaRecorder.AudioSource.MIC, 8000, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT, minSize);\n        ar.startRecording();\n    }\n}\n\npublic void stop() {\n    if (ar != null &amp;&amp; permitted) {\n        ar.stop();\n    }\n}\n\npublic double getAmplitude() {\n    short[] buffer = new short[minSize];\n    ar.read(buffer, 0, minSize);\n    int max = 0;\n    for (short s : buffer)\n    {\n        if (Math.abs(s) &gt; max)\n        {\n            max = Math.abs(s);\n        }\n    }\n    return max;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"comments":[{"owner":{"account_id":21083132,"reputation":3240,"user_id":15496965,"display_name":"Henning"},"score":2,"creation_date":1678210018,"post_id":75664822,"comment_id":133487744,"body_markdown":"Please share your pom.xml or build.gradle.","body":"Please share your pom.xml or build.gradle."},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1678317238,"post_id":75664822,"comment_id":133511409,"body_markdown":"And see if this is useful: https://stackoverflow.com/a/20192757/796761 Basically, it appears your pom has conflicting dependencies.","body":"And see if this is useful: <a href=\"https://stackoverflow.com/a/20192757/796761\">stackoverflow.com/a/20192757/796761</a> Basically, it appears your pom has conflicting dependencies."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678317936,"post_id":75664822,"comment_id":133511510,"body_markdown":"Please inspect your (verbose) &quot;effective pom&quot; someone/-thing (in your pom hierarchy) must set/manage this (wrong) version ..","body":"Please inspect your (verbose) &quot;effective pom&quot; someone/-thing (in your pom hierarchy) must set/manage this (wrong) version .."}],"owner":{"account_id":25911257,"reputation":25,"user_id":19635443,"display_name":"devoverflow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678316868,"creation_date":1678207294,"question_id":75664822,"body_markdown":"I am getting the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;org.springframework.core.io.support.SpringFactoriesLoader org.springframework.core.io.support.SpringFactoriesLoader.forDefaultResourceLocation(java.lang.ClassLoader)&#39;\r\n\r\nHere is the snapshot of the dependency hierarchy:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tdoWq.png\r\n\r\nI understand that with spring-boot-starter-web:3.0.1 we need spring-core:6.0.1 or above. How to correct this? As the hierarchy shows the spring-boot-starter-web:3.0.1 is translative dependent on spring-core:5.3.23. I am using jdk 17.","title":"spring-boot-starter-web 3.0.1 &gt; spring-core 5.3.23 class loader method not found","body":"<p>I am getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'org.springframework.core.io.support.SpringFactoriesLoader org.springframework.core.io.support.SpringFactoriesLoader.forDefaultResourceLocation(java.lang.ClassLoader)'\n</code></pre>\n<p>Here is the snapshot of the dependency hierarchy:\n<a href=\"https://i.stack.imgur.com/tdoWq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tdoWq.png\" alt=\"enter image description here\" /></a></p>\n<p>I understand that with spring-boot-starter-web:3.0.1 we need spring-core:6.0.1 or above. How to correct this? As the hierarchy shows the spring-boot-starter-web:3.0.1 is translative dependent on spring-core:5.3.23. I am using jdk 17.</p>\n"},{"tags":["java","plugins","maven-3","sonarlint"],"comments":[{"owner":{"account_id":1688086,"reputation":2868,"user_id":1550964,"display_name":"Duarte Meneses"},"score":1,"creation_date":1454058466,"post_id":35079987,"comment_id":57883274,"body_markdown":"What do you mean enabled? SonarLint is used in the IDE and must be installed in each IDE.","body":"What do you mean enabled? SonarLint is used in the IDE and must be installed in each IDE."},{"owner":{"account_id":5505361,"reputation":295,"user_id":4373341,"accept_rate":38,"display_name":"pramod kumar"},"score":0,"creation_date":1454058837,"post_id":35079987,"comment_id":57883461,"body_markdown":"I mean plugin should be automatically installed into ide. when maven is building the project,by putting something in  pluginmanagement tag of pom.xml","body":"I mean plugin should be automatically installed into ide. when maven is building the project,by putting something in  pluginmanagement tag of pom.xml"},{"owner":{"account_id":5505361,"reputation":295,"user_id":4373341,"accept_rate":38,"display_name":"pramod kumar"},"score":0,"creation_date":1454068742,"post_id":35079987,"comment_id":57889637,"body_markdown":"Can you suggest me some way, i could do it by adding some jars or anything that could help, basically i dont want to install it from eclipse marketeclipse","body":"Can you suggest me some way, i could do it by adding some jars or anything that could help, basically i dont want to install it from eclipse marketeclipse"},{"owner":{"account_id":1688086,"reputation":2868,"user_id":1550964,"display_name":"Duarte Meneses"},"score":1,"creation_date":1454074980,"post_id":35079987,"comment_id":57893567,"body_markdown":"SonarLint is not a maven plugin; You need to install the plugin in Eclipse or IntelliJ. In both IDEs, you can install it from a local file, if that makes any difference. If you want to trigger an analysis with maven and send the results to your instance of SonarQube, you can use the maven sonar plugin.","body":"SonarLint is not a maven plugin; You need to install the plugin in Eclipse or IntelliJ. In both IDEs, you can install it from a local file, if that makes any difference. If you want to trigger an analysis with maven and send the results to your instance of SonarQube, you can use the maven sonar plugin."},{"owner":{"account_id":5505361,"reputation":295,"user_id":4373341,"accept_rate":38,"display_name":"pramod kumar"},"score":2,"creation_date":1454128440,"post_id":35079987,"comment_id":57917447,"body_markdown":"What i want to do is ,  perform continuous integration with sonar lint","body":"What i want to do is ,  perform continuous integration with sonar lint"},{"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"score":0,"creation_date":1540842566,"post_id":35079987,"comment_id":93005142,"body_markdown":"Most likely you would have to find some way to call sonar-java-plugin which is the heart of sonarlint&#39;s static analyzer.","body":"Most likely you would have to find some way to call sonar-java-plugin which is the heart of sonarlint&#39;s static analyzer."}],"answers":[{"tags":[],"owner":{"account_id":22871379,"reputation":90,"user_id":17014361,"display_name":"raffaele spinoni"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1639478190,"creation_date":1639478190,"answer_id":70347447,"question_id":35079987,"body_markdown":"SonarLint is a local plugin that can be embedded in your IDE.\r\nIn the plugin setting you can put the &quot;Automatically trigger analysis&quot; in order to have feedback while writing. &lt;br /&gt;\r\nIn order to perform continuous integration you should use SonarQube, it is possible to integrate it with [Jenkins](https://docs.sonarqube.org/latest/analysis/jenkins/) or [Codemagic](https://docs.sonarqube.org/latest/analysis/codemagic/) and also with [Maven](https://docs.sonarqube.org/latest/analysis/scan/sonarscanner-for-maven/).\r\nIt is possible to add SonarQube to your pull requests as well. &lt;br /&gt;You can see the doc [here](https://docs.sonarqube.org/latest/analysis/pull-request/)\r\n\r\nYou can find more information about the difference between SonarLint and SonarQube [here](https://stackoverflow.com/questions/39828609/sonarqube-and-sonarlint-difference)\r\n\r\n","title":"Is there a way to integrate sonarlint plugin in pom.xml","body":"<p>SonarLint is a local plugin that can be embedded in your IDE.\nIn the plugin setting you can put the &quot;Automatically trigger analysis&quot; in order to have feedback while writing. <br />\nIn order to perform continuous integration you should use SonarQube, it is possible to integrate it with <a href=\"https://docs.sonarqube.org/latest/analysis/jenkins/\" rel=\"nofollow noreferrer\">Jenkins</a> or <a href=\"https://docs.sonarqube.org/latest/analysis/codemagic/\" rel=\"nofollow noreferrer\">Codemagic</a> and also with <a href=\"https://docs.sonarqube.org/latest/analysis/scan/sonarscanner-for-maven/\" rel=\"nofollow noreferrer\">Maven</a>.\nIt is possible to add SonarQube to your pull requests as well. <br />You can see the doc <a href=\"https://docs.sonarqube.org/latest/analysis/pull-request/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>You can find more information about the difference between SonarLint and SonarQube <a href=\"https://stackoverflow.com/questions/39828609/sonarqube-and-sonarlint-difference\">here</a></p>\n"}],"owner":{"account_id":5505361,"reputation":295,"user_id":4373341,"accept_rate":38,"display_name":"pramod kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9991,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"answer_count":1,"score":19,"last_activity_date":1678316795,"creation_date":1454056253,"question_id":35079987,"body_markdown":"I want to add sonarlint plugin to my project. When I build with maven, the plugin should be automatically enabled without my intervention. Is there a way I could do it?\r\n","title":"Is there a way to integrate sonarlint plugin in pom.xml","body":"<p>I want to add sonarlint plugin to my project. When I build with maven, the plugin should be automatically enabled without my intervention. Is there a way I could do it?</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":5334,"reputation":8391,"user_id":8528,"accept_rate":81,"display_name":"Spencer Kormos"},"score":1,"creation_date":1227632709,"post_id":317687,"comment_id":159546,"body_markdown":"I&#39;ve asked essentially the same question, although in a slightly different scenario: http://stackoverflow.com/questions/310271/injecting-beans-into-a-class-outside-the-spring-managed-context. So far, no one has been able to answer it.","body":"I&#39;ve asked essentially the same question, although in a slightly different scenario: <a href=\"http://stackoverflow.com/questions/310271/injecting-beans-into-a-class-outside-the-spring-managed-context\" title=\"injecting beans into a class outside the spring managed context\">stackoverflow.com/questions/310271/&hellip;</a>. So far, no one has been able to answer it."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1383142147,"post_id":317687,"comment_id":29237045,"body_markdown":"Please note that as of Spring 3.1, `PropertyPlaceholderConfigurer` is no longer the recommended class. Prefer `PropertySourcesPlaceholderConfigurer` instead. In any case, you can use the shorter XML definition `&lt;context:property-placeholder /&gt;`.","body":"Please note that as of Spring 3.1, <code>PropertyPlaceholderConfigurer</code> is no longer the recommended class. Prefer <code>PropertySourcesPlaceholderConfigurer</code> instead. In any case, you can use the shorter XML definition <code>&lt;context:property-placeholder &#47;&gt;</code>."},{"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"score":0,"creation_date":1469853303,"post_id":317687,"comment_id":64721439,"body_markdown":"http://stackoverflow.com/questions/28756014/how-to-configure-dynamic-properties-while-using-spring-boot","body":"<a href=\"http://stackoverflow.com/questions/28756014/how-to-configure-dynamic-properties-while-using-spring-boot\" title=\"how to configure dynamic properties while using spring boot\">stackoverflow.com/questions/28756014/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1227633747,"creation_date":1227633747,"answer_id":318188,"question_id":317687,"body_markdown":"A possible solutions is to declare a second bean which reads from the same properties file:\r\n\r\n    &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t&lt;property name=&quot;location&quot; value=&quot;/WEB-INF/app.properties&quot; /&gt;\r\n    &lt;/bean&gt;\t\r\n    \t\r\n    &lt;util:properties id=&quot;appProperties&quot; location=&quot;classpath:/WEB-INF/app.properties&quot;/&gt;\r\n\r\n\r\nThe bean named &#39;appProperties&#39; is of type java.util.Properties and can be dependency injected using the @Resource attruibute shown above.\r\n\r\n","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>A possible solutions is to declare a second bean which reads from the same properties file:</p>\n\n<pre><code>&lt;bean id=\"propertyConfigurer\" class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"location\" value=\"/WEB-INF/app.properties\" /&gt;\n&lt;/bean&gt; \n\n&lt;util:properties id=\"appProperties\" location=\"classpath:/WEB-INF/app.properties\"/&gt;\n</code></pre>\n\n<p>The bean named 'appProperties' is of type java.util.Properties and can be dependency injected using the @Resource attruibute shown above.</p>\n"},{"comments":[{"owner":{"account_id":178671,"reputation":356,"user_id":410807,"accept_rate":87,"display_name":"Czar"},"score":0,"creation_date":1296129083,"post_id":318195,"comment_id":5340098,"body_markdown":"Works for me, too. But is there no other way to acces the properties from a PropertyPlaceholderConfigurer via the @Value annotation (when using multiple PropertyPlaceholderConfigurer in several congif XML files.)?","body":"Works for me, too. But is there no other way to acces the properties from a PropertyPlaceholderConfigurer via the @Value annotation (when using multiple PropertyPlaceholderConfigurer in several congif XML files.)?"}],"tags":[],"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":1,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1294056426,"creation_date":1227633927,"answer_id":318195,"question_id":317687,"body_markdown":"Another alternative is to add the appProperties bean shown below:\r\n\r\n    &lt;bean id=&quot;propertyConfigurer&quot;   \r\n      class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n            &lt;property name=&quot;location&quot; value=&quot;/WEB-INF/app.properties&quot; /&gt;\r\n    &lt;/bean&gt; \r\n\r\n\r\n    &lt;bean id=&quot;appProperties&quot; \r\n              class=&quot;org.springframework.beans.factory.config.PropertiesFactoryBean&quot;&gt;\r\n            &lt;property name=&quot;singleton&quot; value=&quot;true&quot;/&gt;\r\n\r\n            &lt;property name=&quot;properties&quot;&gt;\r\n                    &lt;props&gt;\r\n                            &lt;prop key=&quot;results.max&quot;&gt;${results.max}&lt;/prop&gt;\r\n                    &lt;/props&gt;\r\n            &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nWhen retrieved, this bean can be cast to a `java.util.Properties` which will contain a property named `results.max` whose value is read from `app.properties`. Again, this bean can be dependency injected (as an instance of java.util.Properties) into any class via the @Resource annotation.\r\n\r\nPersonally, I prefer this solution (to the other I proposed), as you can limit exactly which properties are exposed by appProperties, and don&#39;t need to read app.properties twice.","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>Another alternative is to add the appProperties bean shown below:</p>\n\n<pre><code>&lt;bean id=\"propertyConfigurer\"   \n  class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n        &lt;property name=\"location\" value=\"/WEB-INF/app.properties\" /&gt;\n&lt;/bean&gt; \n\n\n&lt;bean id=\"appProperties\" \n          class=\"org.springframework.beans.factory.config.PropertiesFactoryBean\"&gt;\n        &lt;property name=\"singleton\" value=\"true\"/&gt;\n\n        &lt;property name=\"properties\"&gt;\n                &lt;props&gt;\n                        &lt;prop key=\"results.max\"&gt;${results.max}&lt;/prop&gt;\n                &lt;/props&gt;\n        &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>When retrieved, this bean can be cast to a <code>java.util.Properties</code> which will contain a property named <code>results.max</code> whose value is read from <code>app.properties</code>. Again, this bean can be dependency injected (as an instance of java.util.Properties) into any class via the @Resource annotation.</p>\n\n<p>Personally, I prefer this solution (to the other I proposed), as you can limit exactly which properties are exposed by appProperties, and don't need to read app.properties twice.</p>\n"},{"tags":[],"owner":{"account_id":15869,"reputation":4818,"user_id":33974,"display_name":"DaWilli"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1227683972,"creation_date":1227683972,"answer_id":319963,"question_id":317687,"body_markdown":"I need to have two properties files, one for production and an override for development (that will not be deployed). \r\n\r\nTo have both, a Properties Bean that can be autowired and a PropertyConfigurer, you can write:\r\n\r\n\r\n\t&lt;bean id=&quot;appProperties&quot; class=&quot;org.springframework.beans.factory.config.PropertiesFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;singleton&quot; value=&quot;true&quot; /&gt;\r\n\r\n\t\t&lt;property name=&quot;ignoreResourceNotFound&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;property name=&quot;locations&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;classpath:live.properties&lt;/value&gt;\r\n\t\t\t\t&lt;value&gt;classpath:development.properties&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nand reference the Properties Bean in the PropertyConfigurer\r\n\r\n\t&lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n\t\t&lt;property name=&quot;properties&quot; ref=&quot;appProperties&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\n","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>I need to have two properties files, one for production and an override for development (that will not be deployed). </p>\n\n<p>To have both, a Properties Bean that can be autowired and a PropertyConfigurer, you can write:</p>\n\n<pre><code>&lt;bean id=\"appProperties\" class=\"org.springframework.beans.factory.config.PropertiesFactoryBean\"&gt;\n    &lt;property name=\"singleton\" value=\"true\" /&gt;\n\n    &lt;property name=\"ignoreResourceNotFound\" value=\"true\" /&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;classpath:live.properties&lt;/value&gt;\n            &lt;value&gt;classpath:development.properties&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and reference the Properties Bean in the PropertyConfigurer</p>\n\n<pre><code>&lt;bean id=\"propertyConfigurer\" class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"properties\" ref=\"appProperties\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"score":8,"creation_date":1302123040,"post_id":339811,"comment_id":6339916,"body_markdown":"Is `systemProperties` simply `System.getProperties()`? I guess if I want to inject my own properties into a Spring bean I need to define a `&lt;bean id=&quot;appProperties&quot; class=&quot;org.springframework.beans.factory.config.PropertiesFactoryBean&quot;&gt;` then read values from that into another bean using something like `@Value(&quot;#{appProperties.databaseName}&quot;)`","body":"Is <code>systemProperties</code> simply <code>System.getProperties()</code>? I guess if I want to inject my own properties into a Spring bean I need to define a <code>&lt;bean id=&quot;appProperties&quot; class=&quot;org.springframework.beans.factory.config.PropertiesFa&zwnj;&#8203;ctoryBean&quot;&gt;</code> then read values from that into another bean using something like <code>@Value(&quot;#{appProperties.databaseName}&quot;)</code>"},{"owner":{"account_id":88257,"reputation":5626,"user_id":2559313,"accept_rate":86,"display_name":"gtrak"},"score":11,"creation_date":1311207337,"post_id":339811,"comment_id":8029606,"body_markdown":"Make sure to note from max&#39;s answer that you can also use placeholders in the expressions ${db.doStuff}, then you don&#39;t need a PropertiesFactoryBean, just a placeholderConfigurer","body":"Make sure to note from max&#39;s answer that you can also use placeholders in the expressions ${db.doStuff}, then you don&#39;t need a PropertiesFactoryBean, just a placeholderConfigurer"},{"owner":{"display_name":"user41871"},"score":9,"creation_date":1327779279,"post_id":339811,"comment_id":11351728,"body_markdown":"You can add your own properties using util:properties; e.g., &lt;util:properties id=&quot;config&quot; location=&quot;classpath:/spring/environment.properties&quot; /&gt;. See the edited answer for how to get the value. (I realize this is probably too late to have been helpful to Don, but others will hopefully benefit.)","body":"You can add your own properties using util:properties; e.g., &lt;util:properties id=&quot;config&quot; location=&quot;classpath:/spring/environment.properties&quot; /&gt;. See the edited answer for how to get the value. (I realize this is probably too late to have been helpful to Don, but others will hopefully benefit.)"},{"owner":{"account_id":38146,"reputation":1653,"user_id":109318,"accept_rate":50,"display_name":"Asaf Mesika"},"score":2,"creation_date":1349604907,"post_id":339811,"comment_id":17254437,"body_markdown":"It only worked for me when I used util:properties in my appname-servlet.xml file. Using propertyConfigurer defined in my applicationContext.xml (not the Spring MVC one) didn&#39;t work.","body":"It only worked for me when I used util:properties in my appname-servlet.xml file. Using propertyConfigurer defined in my applicationContext.xml (not the Spring MVC one) didn&#39;t work."},{"owner":{"account_id":2118231,"reputation":35729,"user_id":1882064,"accept_rate":64,"display_name":"arcseldon"},"score":0,"creation_date":1377060782,"post_id":339811,"comment_id":26936456,"body_markdown":"For a little further reading, that elaborates on some of this, check out this SOF question too: http://stackoverflow.com/questions/6425795/injecting-properties-using-spring-annotation-value/6430610#6430610","body":"For a little further reading, that elaborates on some of this, check out this SOF question too: <a href=\"http://stackoverflow.com/questions/6425795/injecting-properties-using-spring-annotation-value/6430610#6430610\" title=\"injecting properties using spring annotation value\">stackoverflow.com/questions/6425795/&hellip;</a>"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1582048937,"post_id":339811,"comment_id":106639825,"body_markdown":"Anyway to add the import statements on a java example?  #recurringTheme","body":"Anyway to add the import statements on a java example?  #recurringTheme"}],"tags":[],"owner":{"display_name":"user41871"},"comment_count":6,"down_vote_count":2,"up_vote_count":309,"is_accepted":true,"score":307,"last_activity_date":1533056754,"creation_date":1228376472,"answer_id":339811,"question_id":317687,"body_markdown":"You can do this in Spring 3 using EL support. Example:\r\n    \r\n    @Value(&quot;#{systemProperties.databaseName}&quot;)\r\n    public void setDatabaseName(String dbName) { ... }\r\n    \r\n    @Value(&quot;#{strategyBean.databaseKeyGenerator}&quot;)\r\n    public void setKeyGenerator(KeyGenerator kg) { ... }\r\n\r\n`systemProperties` is an implicit object and `strategyBean` is a bean name.\r\n\r\nOne more example, which works when you want to grab a property from a `Properties` object. It also shows that you can apply `@Value` to fields:\r\n\r\n    @Value(&quot;#{myProperties[&#39;github.oauth.clientId&#39;]}&quot;)\r\n    private String githubOauthClientId;\r\n\r\nHere is a [blog post][1] I wrote about this for a little more info.\r\n\r\n  [1]: https://web.archive.org/web/20170609134527/http://springinpractice.com/2008/12/02/new-stuff-in-spring-30/\r\n","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>You can do this in Spring 3 using EL support. Example:</p>\n\n<pre><code>@Value(\"#{systemProperties.databaseName}\")\npublic void setDatabaseName(String dbName) { ... }\n\n@Value(\"#{strategyBean.databaseKeyGenerator}\")\npublic void setKeyGenerator(KeyGenerator kg) { ... }\n</code></pre>\n\n<p><code>systemProperties</code> is an implicit object and <code>strategyBean</code> is a bean name.</p>\n\n<p>One more example, which works when you want to grab a property from a <code>Properties</code> object. It also shows that you can apply <code>@Value</code> to fields:</p>\n\n<pre><code>@Value(\"#{myProperties['github.oauth.clientId']}\")\nprivate String githubOauthClientId;\n</code></pre>\n\n<p>Here is a <a href=\"https://web.archive.org/web/20170609134527/http://springinpractice.com/2008/12/02/new-stuff-in-spring-30/\" rel=\"noreferrer\">blog post</a> I wrote about this for a little more info.</p>\n"},{"comments":[{"owner":{"account_id":20367,"reputation":3785,"user_id":48611,"accept_rate":33,"display_name":"Ricardo Gladwell"},"score":3,"creation_date":1272211782,"post_id":577266,"comment_id":2732960,"body_markdown":"Please note, that I have created a new project for the above:\n\nhttp://code.google.com/p/spring-property-annotations/","body":"Please note, that I have created a new project for the above:  <a href=\"http://code.google.com/p/spring-property-annotations/\" rel=\"nofollow noreferrer\">code.google.com/p/spring-property-annotations</a>"}],"tags":[],"owner":{"account_id":20367,"reputation":3785,"user_id":48611,"accept_rate":33,"display_name":"Ricardo Gladwell"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1235387901,"creation_date":1235387324,"answer_id":577266,"question_id":317687,"body_markdown":"Before we get Spring 3 - which allows you to inject property constants directly into your beans using annotations - I wrote a sub-class of the PropertyPlaceholderConfigurer bean that does the same thing. So, you can mark up your property setters and Spring will autowire your properties into your beans like so:\r\n\r\n    @Property(key=&quot;property.key&quot;, defaultValue=&quot;default&quot;)\r\n    public void setProperty(String property) {\r\n        this.property = property;\r\n    }\r\n\r\nThe Annotation is as follows:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME) \r\n    @Target({ElementType.METHOD, ElementType.FIELD})\r\n    public @interface Property {\r\n        String key();\r\n        String defaultValue() default &quot;&quot;;\r\n    }\r\n\r\nThe PropertyAnnotationAndPlaceholderConfigurer is as follows:\r\n\r\n    public class PropertyAnnotationAndPlaceholderConfigurer extends PropertyPlaceholderConfigurer {\r\n    \r\n        private static Logger log = Logger.getLogger(PropertyAnnotationAndPlaceholderConfigurer.class);\r\n    \r\n        @Override\r\n        protected void processProperties(ConfigurableListableBeanFactory beanFactory, Properties properties) throws BeansException {\r\n            super.processProperties(beanFactory, properties);\r\n    \r\n            for (String name : beanFactory.getBeanDefinitionNames()) {\r\n                MutablePropertyValues mpv = beanFactory.getBeanDefinition(name).getPropertyValues();\r\n                Class clazz = beanFactory.getType(name);\r\n    \r\n                if(log.isDebugEnabled()) log.debug(&quot;Configuring properties for bean=&quot;+name+&quot;[&quot;+clazz+&quot;]&quot;);\r\n    \r\n                if(clazz != null) {\r\n                    for (PropertyDescriptor property : BeanUtils.getPropertyDescriptors(clazz)) {\r\n                        Method setter = property.getWriteMethod();\r\n                        Method getter = property.getReadMethod();\r\n                        Property annotation = null;\r\n                        if(setter != null &amp;&amp; setter.isAnnotationPresent(Property.class)) {\r\n                            annotation = setter.getAnnotation(Property.class);\r\n                        } else if(setter != null &amp;&amp; getter != null &amp;&amp; getter.isAnnotationPresent(Property.class)) {\r\n                            annotation = getter.getAnnotation(Property.class);\r\n                        }\r\n                        if(annotation != null) {\r\n                            String value = resolvePlaceholder(annotation.key(), properties, SYSTEM_PROPERTIES_MODE_FALLBACK);\r\n                            if(StringUtils.isEmpty(value)) {\r\n                                value = annotation.defaultValue();\r\n                            }\r\n                            if(StringUtils.isEmpty(value)) {\r\n                                throw new BeanConfigurationException(&quot;No such property=[&quot;+annotation.key()+&quot;] found in properties.&quot;);\r\n                            }\r\n                            if(log.isDebugEnabled()) log.debug(&quot;setting property=[&quot;+clazz.getName()+&quot;.&quot;+property.getName()+&quot;] value=[&quot;+annotation.key()+&quot;=&quot;+value+&quot;]&quot;);\r\n                            mpv.addPropertyValue(property.getName(), value);\r\n                        }\r\n                    }\r\n    \r\n                    for(Field field : clazz.getDeclaredFields()) {\r\n                        if(log.isDebugEnabled()) log.debug(&quot;examining field=[&quot;+clazz.getName()+&quot;.&quot;+field.getName()+&quot;]&quot;);\r\n                        if(field.isAnnotationPresent(Property.class)) {\r\n                            Property annotation = field.getAnnotation(Property.class);\r\n                            PropertyDescriptor property = BeanUtils.getPropertyDescriptor(clazz, field.getName());\r\n    \r\n                            if(property.getWriteMethod() == null) {\r\n                                throw new BeanConfigurationException(&quot;setter for property=[&quot;+clazz.getName()+&quot;.&quot;+field.getName()+&quot;] not available.&quot;);\r\n                            }\r\n    \r\n                            Object value = resolvePlaceholder(annotation.key(), properties, SYSTEM_PROPERTIES_MODE_FALLBACK);\r\n                            if(value == null) {\r\n                                value = annotation.defaultValue();\r\n                            }\r\n                            if(value == null) {\r\n                                throw new BeanConfigurationException(&quot;No such property=[&quot;+annotation.key()+&quot;] found in properties.&quot;);\r\n                            }\r\n                            if(log.isDebugEnabled()) log.debug(&quot;setting property=[&quot;+clazz.getName()+&quot;.&quot;+field.getName()+&quot;] value=[&quot;+annotation.key()+&quot;=&quot;+value+&quot;]&quot;);\r\n                            mpv.addPropertyValue(property.getName(), value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nFeel free to modify to taste","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>Before we get Spring 3 - which allows you to inject property constants directly into your beans using annotations - I wrote a sub-class of the PropertyPlaceholderConfigurer bean that does the same thing. So, you can mark up your property setters and Spring will autowire your properties into your beans like so:</p>\n\n<pre><code>@Property(key=\"property.key\", defaultValue=\"default\")\npublic void setProperty(String property) {\n    this.property = property;\n}\n</code></pre>\n\n<p>The Annotation is as follows:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME) \n@Target({ElementType.METHOD, ElementType.FIELD})\npublic @interface Property {\n    String key();\n    String defaultValue() default \"\";\n}\n</code></pre>\n\n<p>The PropertyAnnotationAndPlaceholderConfigurer is as follows:</p>\n\n<pre><code>public class PropertyAnnotationAndPlaceholderConfigurer extends PropertyPlaceholderConfigurer {\n\n    private static Logger log = Logger.getLogger(PropertyAnnotationAndPlaceholderConfigurer.class);\n\n    @Override\n    protected void processProperties(ConfigurableListableBeanFactory beanFactory, Properties properties) throws BeansException {\n        super.processProperties(beanFactory, properties);\n\n        for (String name : beanFactory.getBeanDefinitionNames()) {\n            MutablePropertyValues mpv = beanFactory.getBeanDefinition(name).getPropertyValues();\n            Class clazz = beanFactory.getType(name);\n\n            if(log.isDebugEnabled()) log.debug(\"Configuring properties for bean=\"+name+\"[\"+clazz+\"]\");\n\n            if(clazz != null) {\n                for (PropertyDescriptor property : BeanUtils.getPropertyDescriptors(clazz)) {\n                    Method setter = property.getWriteMethod();\n                    Method getter = property.getReadMethod();\n                    Property annotation = null;\n                    if(setter != null &amp;&amp; setter.isAnnotationPresent(Property.class)) {\n                        annotation = setter.getAnnotation(Property.class);\n                    } else if(setter != null &amp;&amp; getter != null &amp;&amp; getter.isAnnotationPresent(Property.class)) {\n                        annotation = getter.getAnnotation(Property.class);\n                    }\n                    if(annotation != null) {\n                        String value = resolvePlaceholder(annotation.key(), properties, SYSTEM_PROPERTIES_MODE_FALLBACK);\n                        if(StringUtils.isEmpty(value)) {\n                            value = annotation.defaultValue();\n                        }\n                        if(StringUtils.isEmpty(value)) {\n                            throw new BeanConfigurationException(\"No such property=[\"+annotation.key()+\"] found in properties.\");\n                        }\n                        if(log.isDebugEnabled()) log.debug(\"setting property=[\"+clazz.getName()+\".\"+property.getName()+\"] value=[\"+annotation.key()+\"=\"+value+\"]\");\n                        mpv.addPropertyValue(property.getName(), value);\n                    }\n                }\n\n                for(Field field : clazz.getDeclaredFields()) {\n                    if(log.isDebugEnabled()) log.debug(\"examining field=[\"+clazz.getName()+\".\"+field.getName()+\"]\");\n                    if(field.isAnnotationPresent(Property.class)) {\n                        Property annotation = field.getAnnotation(Property.class);\n                        PropertyDescriptor property = BeanUtils.getPropertyDescriptor(clazz, field.getName());\n\n                        if(property.getWriteMethod() == null) {\n                            throw new BeanConfigurationException(\"setter for property=[\"+clazz.getName()+\".\"+field.getName()+\"] not available.\");\n                        }\n\n                        Object value = resolvePlaceholder(annotation.key(), properties, SYSTEM_PROPERTIES_MODE_FALLBACK);\n                        if(value == null) {\n                            value = annotation.defaultValue();\n                        }\n                        if(value == null) {\n                            throw new BeanConfigurationException(\"No such property=[\"+annotation.key()+\"] found in properties.\");\n                        }\n                        if(log.isDebugEnabled()) log.debug(\"setting property=[\"+clazz.getName()+\".\"+field.getName()+\"] value=[\"+annotation.key()+\"=\"+value+\"]\");\n                        mpv.addPropertyValue(property.getName(), value);\n                    }\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>Feel free to modify to taste</p>\n"},{"comments":[{"owner":{"account_id":165768,"reputation":3642,"user_id":389489,"accept_rate":78,"display_name":"Somu"},"score":21,"creation_date":1319746444,"post_id":1192859,"comment_id":9676352,"body_markdown":"+1 If an example helps, here it is - @Value(value=&quot;#{&#39;${server.env}&#39;}&quot;) or simply @Value(&quot;#{&#39;${server.env}&#39;}&quot;)","body":"+1 If an example helps, here it is - @Value(value=&quot;#{&#39;${server.env}&#39;}&quot;) or simply @Value(&quot;#{&#39;${server.env}&#39;}&quot;)"}],"tags":[],"owner":{"display_name":"max"},"comment_count":1,"down_vote_count":2,"up_vote_count":125,"is_accepted":false,"score":123,"last_activity_date":1421531369,"creation_date":1248771941,"answer_id":1192859,"question_id":317687,"body_markdown":"There is a new annotation `@Value` in *Spring 3.0.0M3*. `@Value` support not only `#{...}` expressions but `${...}` placeholders as well","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>There is a new annotation <code>@Value</code> in <em>Spring 3.0.0M3</em>. <code>@Value</code> support not only <code>#{...}</code> expressions but <code>${...}</code> placeholders as well</p>\n"},{"tags":[],"owner":{"account_id":83390,"reputation":739,"user_id":233833,"display_name":"Nik"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1261060108,"creation_date":1261060108,"answer_id":1922161,"question_id":317687,"body_markdown":"If you are stuck using Spring 2.5 you could define a bean for each of your properties and inject them using qualifiers.  Like this:\r\n\r\n      &lt;bean id=&quot;someFile&quot; class=&quot;java.io.File&quot;&gt;\r\n        &lt;constructor-arg value=&quot;${someFile}&quot;/&gt;\r\n      &lt;/bean&gt;\r\n\r\nand \r\n\r\n    @Service\r\n    public class Thing\r\n          public Thing(@Qualifier(&quot;someFile&quot;) File someFile) {\r\n    ...\r\n\r\nIts not super readable but it gets the job done.","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>If you are stuck using Spring 2.5 you could define a bean for each of your properties and inject them using qualifiers.  Like this:</p>\n\n<pre><code>  &lt;bean id=\"someFile\" class=\"java.io.File\"&gt;\n    &lt;constructor-arg value=\"${someFile}\"/&gt;\n  &lt;/bean&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Service\npublic class Thing\n      public Thing(@Qualifier(\"someFile\") File someFile) {\n...\n</code></pre>\n\n<p>Its not super readable but it gets the job done.</p>\n"},{"comments":[{"owner":{"account_id":144876,"reputation":1300,"user_id":354254,"accept_rate":30,"display_name":"shane lee"},"score":9,"creation_date":1351677345,"post_id":7675420,"comment_id":17897062,"body_markdown":"make sure and add in the namespace uri xmlns:p=&quot;http://www.springframework.org/schema/p&quot; to use the p: prefixed attributes.","body":"make sure and add in the namespace uri xmlns:p=&quot;<a href=\"http://www.springframework.org/schema/p\" rel=\"nofollow noreferrer\">springframework.org/schema/p</a>&quot; to use the p: prefixed attributes."},{"owner":{"account_id":2496720,"reputation":3114,"user_id":2172919,"accept_rate":53,"display_name":"luksmir"},"score":3,"creation_date":1378368200,"post_id":7675420,"comment_id":27427968,"body_markdown":"Why this methods works in a test context but not in the main context ?","body":"Why this methods works in a test context but not in the main context ?"},{"owner":{"account_id":3132855,"reputation":740,"user_id":2650097,"accept_rate":92,"display_name":"Kranach"},"score":9,"creation_date":1425420759,"post_id":7675420,"comment_id":45954994,"body_markdown":"sigh, I spent hour trying to make annotations-only approach work and discovered what is missing only after reading this answer-  declaration of a magical static bean PropertySauceYadaYada. Spring love!","body":"sigh, I spent hour trying to make annotations-only approach work and discovered what is missing only after reading this answer-  declaration of a magical static bean PropertySauceYadaYada. Spring love!"},{"owner":{"account_id":7558702,"reputation":1081,"user_id":5737191,"accept_rate":61,"display_name":"Kim"},"score":0,"creation_date":1490257233,"post_id":7675420,"comment_id":73033613,"body_markdown":"@barrymac hey barry, do U know what is the difference between @Value(#{...}) and @Value(${...}).\n\nThank you","body":"@barrymac hey barry, do U know what is the difference between @Value(#{...}) and @Value(${...}).  Thank you"},{"owner":{"account_id":260014,"reputation":724,"user_id":543320,"accept_rate":69,"display_name":"yaki_nuka"},"score":1,"creation_date":1493224824,"post_id":7675420,"comment_id":74328301,"body_markdown":"This works for me. Only one tip: annotation @Component is required.","body":"This works for me. Only one tip: annotation @Component is required."},{"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"score":0,"creation_date":1531146869,"post_id":7675420,"comment_id":89474870,"body_markdown":"How does Spring instantiate that private field under the hood if it doesn&#39;t have a setter?","body":"How does Spring instantiate that private field under the hood if it doesn&#39;t have a setter?"},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1552058042,"post_id":7675420,"comment_id":96879788,"body_markdown":"It works with application.properties but I couldn&#39;t make it working with application.yaml","body":"It works with application.properties but I couldn&#39;t make it working with application.yaml"}],"tags":[],"owner":{"account_id":76352,"reputation":2760,"user_id":218635,"accept_rate":76,"display_name":"barrymac"},"comment_count":7,"down_vote_count":1,"up_vote_count":154,"is_accepted":false,"score":153,"last_activity_date":1467274058,"creation_date":1317909779,"answer_id":7675420,"question_id":317687,"body_markdown":"Personally I love this new way in Spring 3.0 [from the docs][1]:\r\n\r\n    private @Value(&quot;${propertyName}&quot;) String propertyField;\r\n\r\nNo getters or setters! \r\n\r\nWith the properties being loaded via the config:\r\n\r\n    &lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;\r\n          p:location=&quot;classpath:propertyFile.properties&quot; name=&quot;propertiesBean&quot;/&gt;\r\n\r\nTo further my glee I can even control click on the EL expression in IntelliJ and it brings me to the property definition!\r\n\r\nThere&#39;s also the totally **non xml version**:\r\n\r\n    @PropertySource(&quot;classpath:propertyFile.properties&quot;)\r\n    public class AppConfig {\r\n    \r\n        @Bean\r\n        public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n            return new PropertySourcesPlaceholderConfigurer();\r\n        }\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/new-in-3.html\r\n","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>Personally I love this new way in Spring 3.0 <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/new-in-3.html\" rel=\"noreferrer\">from the docs</a>:</p>\n\n<pre><code>private @Value(\"${propertyName}\") String propertyField;\n</code></pre>\n\n<p>No getters or setters! </p>\n\n<p>With the properties being loaded via the config:</p>\n\n<pre><code>&lt;bean class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"\n      p:location=\"classpath:propertyFile.properties\" name=\"propertiesBean\"/&gt;\n</code></pre>\n\n<p>To further my glee I can even control click on the EL expression in IntelliJ and it brings me to the property definition!</p>\n\n<p>There's also the totally <strong>non xml version</strong>:</p>\n\n<pre><code>@PropertySource(\"classpath:propertyFile.properties\")\npublic class AppConfig {\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2049508,"reputation":2457,"user_id":2525548,"accept_rate":80,"display_name":"Mustafa"},"score":1,"creation_date":1438871892,"post_id":13161231,"comment_id":51636790,"body_markdown":"For me, this worked only if autowiring is enabled via\n`&lt;context:component-scan base-package=&quot;com.company.package&quot; /&gt;`\nFor reference, I&#39;m using spring via the `ApplicationContext`, not in a web context.","body":"For me, this worked only if autowiring is enabled via <code>&lt;context:component-scan base-package=&quot;com.company.package&quot; &#47;&gt;</code> For reference, I&#39;m using spring via the <code>ApplicationContext</code>, not in a web context."}],"tags":[],"owner":{"account_id":144876,"reputation":1300,"user_id":354254,"accept_rate":30,"display_name":"shane lee"},"comment_count":1,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1351696745,"creation_date":1351696745,"answer_id":13161231,"question_id":317687,"body_markdown":"`&lt;context:property-placeholder ... /&gt;` is the XML equivalent to the PropertyPlaceholderConfigurer. \r\n\r\nExample:\r\napplicationContext.xml\r\n\r\n    &lt;context:property-placeholder location=&quot;classpath:test.properties&quot;/&gt;  \r\n\r\nComponent class\r\n\r\n     private @Value(&quot;${propertyName}&quot;) String propertyField;\r\n\r\n \r\n\r\n","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p><code>&lt;context:property-placeholder ... /&gt;</code> is the XML equivalent to the PropertyPlaceholderConfigurer. </p>\n\n<p>Example:\napplicationContext.xml</p>\n\n<pre><code>&lt;context:property-placeholder location=\"classpath:test.properties\"/&gt;  \n</code></pre>\n\n<p>Component class</p>\n\n<pre><code> private @Value(\"${propertyName}\") String propertyField;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1357130375,"creation_date":1357130375,"answer_id":14122223,"question_id":317687,"body_markdown":"**Autowiring Property Values into Spring Beans:**\r\n\r\nMost people know that you can use @Autowired to tell Spring to inject one object into another when it loads your application context. A lesser known nugget of information is that you can also use the @Value annotation to inject values from a property file into a bean’s attributes.\r\nsee this post for more info...\r\n   \r\n[new stuff in Spring 3.0][1]\r\n||[ autowiring bean values][2]\r\n||[autowiring property values in spring][3]\r\n\r\n\r\n  [1]: http://springinpractice.com/2008/12/02/new-stuff-in-spring-30/\r\n  [2]: http://java.dzone.com/articles/autowiring-property-values\r\n  [3]: http://www.captaindebug.com/2011/10/autowiring-property-values-into-spring_28.html","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p><strong>Autowiring Property Values into Spring Beans:</strong></p>\n\n<p>Most people know that you can use @Autowired to tell Spring to inject one object into another when it loads your application context. A lesser known nugget of information is that you can also use the @Value annotation to inject values from a property file into a bean’s attributes.\nsee this post for more info...</p>\n\n<p><a href=\"http://springinpractice.com/2008/12/02/new-stuff-in-spring-30/\" rel=\"nofollow\">new stuff in Spring 3.0</a>\n||<a href=\"http://java.dzone.com/articles/autowiring-property-values\" rel=\"nofollow\"> autowiring bean values</a>\n||<a href=\"http://www.captaindebug.com/2011/10/autowiring-property-values-into-spring_28.html\" rel=\"nofollow\">autowiring property values in spring</a></p>\n"},{"tags":[],"owner":{"account_id":360377,"reputation":465,"user_id":702345,"display_name":"Harald Brabenetz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363197950,"creation_date":1363197950,"answer_id":15393100,"question_id":317687,"body_markdown":"If you need more Flexibility for the configurations, try the Settings4jPlaceholderConfigurer:\r\nhttp://settings4j.sourceforge.net/currentrelease/configSpringPlaceholder.html\r\n\r\nIn our application we use:\r\n\r\n* Preferences to configure the PreProd- and Prod-System\r\n* Preferences and JNDI Environment variables (JNDI overwrites the preferences) for &quot;mvn jetty:run&quot;\r\n* System Properties for UnitTests (@BeforeClass annotation)\r\n\r\nThe default order which key-value-Source is checked first, is described in:&lt;br/&gt;\r\nhttp://settings4j.sourceforge.net/currentrelease/configDefault.html &lt;br/&gt;\r\nIt can be customized with a settings4j.xml (accurate to log4j.xml) in your classpath.\r\n\r\nLet me know your opinion: settings4j-user@lists.sourceforge.net\r\n\r\nwith friendly regards, &lt;br/&gt;\r\nHarald\r\n\r\n\r\n","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>If you need more Flexibility for the configurations, try the Settings4jPlaceholderConfigurer:\n<a href=\"http://settings4j.sourceforge.net/currentrelease/configSpringPlaceholder.html\" rel=\"nofollow\">http://settings4j.sourceforge.net/currentrelease/configSpringPlaceholder.html</a></p>\n\n<p>In our application we use:</p>\n\n<ul>\n<li>Preferences to configure the PreProd- and Prod-System</li>\n<li>Preferences and JNDI Environment variables (JNDI overwrites the preferences) for \"mvn jetty:run\"</li>\n<li>System Properties for UnitTests (@BeforeClass annotation)</li>\n</ul>\n\n<p>The default order which key-value-Source is checked first, is described in:<br/>\n<a href=\"http://settings4j.sourceforge.net/currentrelease/configDefault.html\" rel=\"nofollow\">http://settings4j.sourceforge.net/currentrelease/configDefault.html</a> <br/>\nIt can be customized with a settings4j.xml (accurate to log4j.xml) in your classpath.</p>\n\n<p>Let me know your opinion: settings4j-user@lists.sourceforge.net</p>\n\n<p>with friendly regards, <br/>\nHarald</p>\n"},{"tags":[],"owner":{"account_id":2911666,"reputation":4689,"user_id":2495717,"accept_rate":88,"display_name":"ben3000"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371533065,"creation_date":1371530400,"answer_id":17160644,"question_id":317687,"body_markdown":"For me, it was @Lucky&#39;s answer, and specifically, the line\r\n\r\n    AutowiredFakaSource fakeDataSource = ctx.getBean(AutowiredFakaSource.class);\r\n\r\nfrom [the Captain Debug page][1]\r\n\r\nthat fixed my problem. I have an ApplicationContext-based app running from the command-line, and judging by a number of the comments on SO, Spring wires up these differently to MVC-based apps.\r\n\r\n\r\n  [1]: http://www.captaindebug.com/2011/10/autowiring-property-values-into-spring_28.html","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>For me, it was @Lucky's answer, and specifically, the line</p>\n\n<pre><code>AutowiredFakaSource fakeDataSource = ctx.getBean(AutowiredFakaSource.class);\n</code></pre>\n\n<p>from <a href=\"http://www.captaindebug.com/2011/10/autowiring-property-values-into-spring_28.html\" rel=\"nofollow\">the Captain Debug page</a></p>\n\n<p>that fixed my problem. I have an ApplicationContext-based app running from the command-line, and judging by a number of the comments on SO, Spring wires up these differently to MVC-based apps.</p>\n"},{"tags":[],"owner":{"account_id":3013636,"reputation":5970,"user_id":2556445,"display_name":"ravi ranjan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1397926347,"creation_date":1397926347,"answer_id":23172801,"question_id":317687,"body_markdown":"Use Spring&#39;s &quot;PropertyPlaceholderConfigurer&quot; class \r\n\r\nA simple example showing property file read dynamically as bean&#39;s property\r\n\r\n\t&lt;bean id=&quot;placeholderConfig&quot;\r\n\t\t\tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n   \t\t&lt;property name=&quot;locations&quot;&gt;\r\n      \t\t&lt;list&gt;\r\n          \t\t&lt;value&gt;/WEB-INF/classes/config_properties/dev/database.properties&lt;/value&gt;\r\n      \t\t&lt;/list&gt;\r\n  \t\t&lt;/property&gt; \r\n\t&lt;/bean&gt;\r\n\t\t\t\t\r\n\t&lt;bean id=&quot;devDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClass&quot; value=&quot;${dev.app.jdbc.driver}&quot;/&gt;\r\n\t\t&lt;property name=&quot;jdbcUrl&quot; value=&quot;${dev.app.jdbc.url}&quot;/&gt;\r\n\t\t&lt;property name=&quot;user&quot; value=&quot;${dev.app.jdbc.username}&quot;/&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;${dev.app.jdbc.password}&quot;/&gt;\r\n\t\t&lt;property name=&quot;acquireIncrement&quot; value=&quot;3&quot;/&gt;\r\n\t\t&lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot;/&gt;\r\n\t\t&lt;property name=&quot;maxPoolSize&quot; value=&quot;10&quot;/&gt;\r\n\t\t&lt;property name=&quot;maxStatementsPerConnection&quot; value=&quot;11000&quot;/&gt;\r\n\t\t&lt;property name=&quot;numHelperThreads&quot; value=&quot;8&quot;/&gt;\r\n\t\t&lt;property name=&quot;idleConnectionTestPeriod&quot; value=&quot;300&quot;/&gt;\r\n\t\t&lt;property name=&quot;preferredTestQuery&quot; value=&quot;SELECT 0&quot;/&gt;\r\n\t&lt;/bean&gt; \r\n\r\nProperty File\r\n\r\ndev.app.jdbc.driver=com.mysql.jdbc.Driver\r\n\r\ndev.app.jdbc.url=jdbc:mysql://localhost:3306/addvertisement\r\n\r\ndev.app.jdbc.username=root\r\n\r\ndev.app.jdbc.password=root\r\n","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>Use Spring's \"PropertyPlaceholderConfigurer\" class </p>\n\n<p>A simple example showing property file read dynamically as bean's property</p>\n\n<pre><code>&lt;bean id=\"placeholderConfig\"\n        class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;/WEB-INF/classes/config_properties/dev/database.properties&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt; \n&lt;/bean&gt;\n\n&lt;bean id=\"devDataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\" destroy-method=\"close\"&gt;\n    &lt;property name=\"driverClass\" value=\"${dev.app.jdbc.driver}\"/&gt;\n    &lt;property name=\"jdbcUrl\" value=\"${dev.app.jdbc.url}\"/&gt;\n    &lt;property name=\"user\" value=\"${dev.app.jdbc.username}\"/&gt;\n    &lt;property name=\"password\" value=\"${dev.app.jdbc.password}\"/&gt;\n    &lt;property name=\"acquireIncrement\" value=\"3\"/&gt;\n    &lt;property name=\"minPoolSize\" value=\"5\"/&gt;\n    &lt;property name=\"maxPoolSize\" value=\"10\"/&gt;\n    &lt;property name=\"maxStatementsPerConnection\" value=\"11000\"/&gt;\n    &lt;property name=\"numHelperThreads\" value=\"8\"/&gt;\n    &lt;property name=\"idleConnectionTestPeriod\" value=\"300\"/&gt;\n    &lt;property name=\"preferredTestQuery\" value=\"SELECT 0\"/&gt;\n&lt;/bean&gt; \n</code></pre>\n\n<p>Property File</p>\n\n<p>dev.app.jdbc.driver=com.mysql.jdbc.Driver</p>\n\n<p>dev.app.jdbc.url=jdbc:mysql://localhost:3306/addvertisement</p>\n\n<p>dev.app.jdbc.username=root</p>\n\n<p>dev.app.jdbc.password=root</p>\n"},{"tags":[],"owner":{"account_id":441753,"reputation":4372,"user_id":832031,"display_name":"Alexis Gamarra"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1420833687,"creation_date":1420833687,"answer_id":27868289,"question_id":317687,"body_markdown":"You also can annotate you class:\r\n\r\n    @PropertySource(&quot;classpath:/com/myProject/config/properties/database.properties&quot;)\r\n\r\nAnd have a variable like this:\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\nNow you can access to all your properties in this way:\r\n\r\n    env.getProperty(&quot;database.connection.driver&quot;)","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>You also can annotate you class:</p>\n\n<pre><code>@PropertySource(\"classpath:/com/myProject/config/properties/database.properties\")\n</code></pre>\n\n<p>And have a variable like this:</p>\n\n<pre><code>@Autowired\nprivate Environment env;\n</code></pre>\n\n<p>Now you can access to all your properties in this way:</p>\n\n<pre><code>env.getProperty(\"database.connection.driver\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1530100514,"creation_date":1463803080,"answer_id":37358733,"question_id":317687,"body_markdown":"As mentioned `@Value` does the job and it is quite flexible as you can have spring EL in it.\r\n\r\nHere are some examples, which could be helpful:\r\n\r\n\r\n    //Build and array from comma separated parameters \r\n    //Like currency.codes.list=10,11,12,13\r\n\t@Value(&quot;#{&#39;${currency.codes.list}&#39;.split(&#39;,&#39;)}&quot;) \r\n\tprivate List&lt;String&gt; currencyTypes;\r\n\r\nAnother to get a `set` from a `list`\r\n\r\n    //If you have a list of some objects like (List&lt;BranchVO&gt;) \r\n    //and the BranchVO has areaCode,cityCode,...\r\n    //You can easily make a set or areaCodes as below\r\n    @Value(&quot;#{BranchList.![areaCode]}&quot;) \r\n    private Set&lt;String&gt; areas;\r\n\r\nYou can also set values for primitive types.\r\n\r\n    @Value(&quot;${amount.limit}&quot;)\r\n\tprivate int amountLimit;\r\n\r\nYou can call static methods:\r\n \t\r\n\r\n    @Value(&quot;#{T(foo.bar).isSecurityEnabled()}&quot;)\r\n    private boolean securityEnabled;\r\n\r\nYou can have logic\r\n\r\n    @Value(&quot;#{T(foo.bar).isSecurityEnabled() ? &#39;${security.logo.path}&#39; : &#39;${default.logo.path}&#39;}&quot;)\r\n    private String logoPath;\r\n\r\n\r\n\t\r\n\r\n\r\n\r\n","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>As mentioned <code>@Value</code> does the job and it is quite flexible as you can have spring EL in it.</p>\n\n<p>Here are some examples, which could be helpful:</p>\n\n<pre><code>//Build and array from comma separated parameters \n//Like currency.codes.list=10,11,12,13\n@Value(\"#{'${currency.codes.list}'.split(',')}\") \nprivate List&lt;String&gt; currencyTypes;\n</code></pre>\n\n<p>Another to get a <code>set</code> from a <code>list</code></p>\n\n<pre><code>//If you have a list of some objects like (List&lt;BranchVO&gt;) \n//and the BranchVO has areaCode,cityCode,...\n//You can easily make a set or areaCodes as below\n@Value(\"#{BranchList.![areaCode]}\") \nprivate Set&lt;String&gt; areas;\n</code></pre>\n\n<p>You can also set values for primitive types.</p>\n\n<pre><code>@Value(\"${amount.limit}\")\nprivate int amountLimit;\n</code></pre>\n\n<p>You can call static methods:</p>\n\n<pre><code>@Value(\"#{T(foo.bar).isSecurityEnabled()}\")\nprivate boolean securityEnabled;\n</code></pre>\n\n<p>You can have logic</p>\n\n<pre><code>@Value(\"#{T(foo.bar).isSecurityEnabled() ? '${security.logo.path}' : '${default.logo.path}'}\")\nprivate String logoPath;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1907270,"reputation":516,"user_id":1721870,"display_name":"Sergei Pikalev"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476988307,"creation_date":1476988307,"answer_id":40161960,"question_id":317687,"body_markdown":"I think it&#39;s most convenient way to inject properties into bean is setter method.\r\n\r\nExample:\r\n\r\n    package org.some.beans;\r\n    \r\n    public class MyBean {\r\n        Long id;\r\n        String name;\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\nBean xml definition:\r\n\r\n    &lt;bean id=&quot;Bean1&quot; class=&quot;org.some.beans.MyBean&quot;&gt;\r\n        &lt;property name=&quot;id&quot; value=&quot;1&quot;/&gt;\r\n        &lt;property name=&quot;name&quot; value=&quot;MyBean&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nFor every named `property` method `setProperty(value)` will be invoked.\r\n\r\nThis way is especially helpful if you need more than one bean based on one implementation.\r\n\r\nFor example, if we define one more bean in xml:\r\n\r\n    &lt;bean id=&quot;Bean2&quot; class=&quot;org.some.beans.MyBean&quot;&gt;\r\n        &lt;property name=&quot;id&quot; value=&quot;2&quot;/&gt;\r\n        &lt;property name=&quot;name&quot; value=&quot;EnotherBean&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nThen code like this:\r\n\r\n    MyBean b1 = appContext.getBean(&quot;Bean1&quot;);\r\n    System.out.println(&quot;Bean id = &quot; + b1.getId() + &quot; name = &quot; + b1.getName());\r\n    MyBean b2 = appContext.getBean(&quot;Bean2&quot;);\r\n    System.out.println(&quot;Bean id = &quot; + b2.getId() + &quot; name = &quot; + b2.getName());\r\n\r\nWill print\r\n\r\n    Bean id = 1 name = MyBean\r\n    Bean id = 2 name = AnotherBean\r\n\r\nSo, in your case it should look like this:\r\n\r\n    @Repository(&quot;personDao&quot;)\r\n    public class PersonDaoImpl extends AbstractDaoImpl implements PersonDao {\r\n    \r\n        Long maxResults;\r\n    \r\n        public void setMaxResults(Long maxResults) {\r\n            this.maxResults = maxResults;\r\n        }\r\n    \r\n        // Now use maxResults value in your code, it will be injected on Bean creation\r\n        public void someMethod(Long results) {\r\n            if (results &lt; maxResults) {\r\n                ...\r\n            }\r\n        }\r\n    }","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>I think it's most convenient way to inject properties into bean is setter method.</p>\n\n<p>Example:</p>\n\n<pre><code>package org.some.beans;\n\npublic class MyBean {\n    Long id;\n    String name;\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n\n<p>Bean xml definition:</p>\n\n<pre><code>&lt;bean id=\"Bean1\" class=\"org.some.beans.MyBean\"&gt;\n    &lt;property name=\"id\" value=\"1\"/&gt;\n    &lt;property name=\"name\" value=\"MyBean\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>For every named <code>property</code> method <code>setProperty(value)</code> will be invoked.</p>\n\n<p>This way is especially helpful if you need more than one bean based on one implementation.</p>\n\n<p>For example, if we define one more bean in xml:</p>\n\n<pre><code>&lt;bean id=\"Bean2\" class=\"org.some.beans.MyBean\"&gt;\n    &lt;property name=\"id\" value=\"2\"/&gt;\n    &lt;property name=\"name\" value=\"EnotherBean\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Then code like this:</p>\n\n<pre><code>MyBean b1 = appContext.getBean(\"Bean1\");\nSystem.out.println(\"Bean id = \" + b1.getId() + \" name = \" + b1.getName());\nMyBean b2 = appContext.getBean(\"Bean2\");\nSystem.out.println(\"Bean id = \" + b2.getId() + \" name = \" + b2.getName());\n</code></pre>\n\n<p>Will print</p>\n\n<pre><code>Bean id = 1 name = MyBean\nBean id = 2 name = AnotherBean\n</code></pre>\n\n<p>So, in your case it should look like this:</p>\n\n<pre><code>@Repository(\"personDao\")\npublic class PersonDaoImpl extends AbstractDaoImpl implements PersonDao {\n\n    Long maxResults;\n\n    public void setMaxResults(Long maxResults) {\n        this.maxResults = maxResults;\n    }\n\n    // Now use maxResults value in your code, it will be injected on Bean creation\n    public void someMethod(Long results) {\n        if (results &lt; maxResults) {\n            ...\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3836319,"reputation":2792,"user_id":5620851,"display_name":"hi.nitish"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1477425369,"creation_date":1477425369,"answer_id":40248621,"question_id":317687,"body_markdown":"Spring way:     \r\n`private @Value(&quot;${propertyName}&quot;) \r\nString propertyField;`\r\n\r\n is a new way to inject the value using Spring&#39;s &quot;PropertyPlaceholderConfigurer&quot; class. \r\nAnother way is to call\r\n\r\n    java.util.Properties props = System.getProperties().getProperty(&quot;propertyName&quot;);\r\n\r\nNote: For @Value, you can not use **static** propertyField, it should be non-static only, otherwise it returns null. To fix it a non static setter is created for the static field and @Value is applied above that setter.\r\n\r\n","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>Spring way:<br>\n<code>private @Value(\"${propertyName}\") \nString propertyField;</code></p>\n\n<p>is a new way to inject the value using Spring's \"PropertyPlaceholderConfigurer\" class. \nAnother way is to call</p>\n\n<pre><code>java.util.Properties props = System.getProperties().getProperty(\"propertyName\");\n</code></pre>\n\n<p>Note: For @Value, you can not use <strong>static</strong> propertyField, it should be non-static only, otherwise it returns null. To fix it a non static setter is created for the static field and @Value is applied above that setter.</p>\n"},{"tags":[],"owner":{"account_id":5001117,"reputation":649,"user_id":5700910,"accept_rate":60,"display_name":"Vikrant Chaudhary"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1593418271,"creation_date":1593418271,"answer_id":62633789,"question_id":317687,"body_markdown":"Easiest way in Spring 5 is to use `@ConfigurationProperties` here is example\r\nhttps://mkyong.com/spring-boot/spring-boot-configurationproperties-example/","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>Easiest way in Spring 5 is to use <code>@ConfigurationProperties</code> here is example\n<a href=\"https://mkyong.com/spring-boot/spring-boot-configurationproperties-example/\" rel=\"nofollow noreferrer\">https://mkyong.com/spring-boot/spring-boot-configurationproperties-example/</a></p>\n"},{"tags":[],"owner":{"account_id":11139153,"reputation":59,"user_id":8176437,"display_name":"Aditya Dubey"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678316161,"creation_date":1678316161,"answer_id":75678971,"question_id":317687,"body_markdown":"use @PropertySource(&quot;classpath:XX.properties&quot;) on your configuration class.\r\nXX=file_name\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lm25w.png","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>use @PropertySource(&quot;classpath:XX.properties&quot;) on your configuration class.\nXX=file_name\n<a href=\"https://i.stack.imgur.com/lm25w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lm25w.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785432,"favorite_count":0,"down_vote_count":0,"up_vote_count":309,"accepted_answer_id":339811,"answer_count":19,"score":309,"last_activity_date":1678316161,"creation_date":1227626554,"question_id":317687,"body_markdown":"I have a bunch of Spring beans which are picked up from the classpath via annotations, e.g.\r\n\r\n    @Repository(&quot;personDao&quot;)\r\n    public class PersonDaoImpl extends AbstractDaoImpl implements PersonDao {\r\n        // Implementation omitted\r\n    }\r\n\r\nIn the Spring XML file, there&#39;s a [PropertyPlaceholderConfigurer][1] defined:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;bean id=&quot;propertyConfigurer&quot; \r\n      class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t&lt;property name=&quot;location&quot; value=&quot;/WEB-INF/app.properties&quot; /&gt;\r\n    &lt;/bean&gt;\t\r\n\r\n\r\nI want to inject one of the properties from app.properites into the bean shown above. I can&#39;t simply do something like \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;bean class=&quot;com.example.PersonDaoImpl&quot;&gt;\r\n        &lt;property name=&quot;maxResults&quot; value=&quot;${results.max}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nBecause PersonDaoImpl does not feature in the Spring XML file (it is picked up from the classpath via annotations). I&#39;ve got as far as the following:\r\n\r\n    @Repository(&quot;personDao&quot;)\r\n    public class PersonDaoImpl extends AbstractDaoImpl implements PersonDao {\r\n\r\n        @Resource(name = &quot;propertyConfigurer&quot;)\r\n        protected void setProperties(PropertyPlaceholderConfigurer ppc) {\r\n    \t// Now how do I access results.max?\t\r\n        }\r\n    }\r\n\r\nBut it&#39;s not clear to me how I access the property I&#39;m interested in from `ppc`?\r\n\r\n  [1]: http://static.springframework.org/spring/docs/2.5.x/api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html","title":"How can I inject a property value into a Spring Bean which was configured using annotations?","body":"<p>I have a bunch of Spring beans which are picked up from the classpath via annotations, e.g.</p>\n\n<pre><code>@Repository(\"personDao\")\npublic class PersonDaoImpl extends AbstractDaoImpl implements PersonDao {\n    // Implementation omitted\n}\n</code></pre>\n\n<p>In the Spring XML file, there's a <a href=\"http://static.springframework.org/spring/docs/2.5.x/api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html\" rel=\"noreferrer\">PropertyPlaceholderConfigurer</a> defined:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=\"propertyConfigurer\" \n  class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"location\" value=\"/WEB-INF/app.properties\" /&gt;\n&lt;/bean&gt; \n</code></pre>\n\n<p>I want to inject one of the properties from app.properites into the bean shown above. I can't simply do something like </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean class=\"com.example.PersonDaoImpl\"&gt;\n    &lt;property name=\"maxResults\" value=\"${results.max}\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Because PersonDaoImpl does not feature in the Spring XML file (it is picked up from the classpath via annotations). I've got as far as the following:</p>\n\n<pre><code>@Repository(\"personDao\")\npublic class PersonDaoImpl extends AbstractDaoImpl implements PersonDao {\n\n    @Resource(name = \"propertyConfigurer\")\n    protected void setProperties(PropertyPlaceholderConfigurer ppc) {\n    // Now how do I access results.max? \n    }\n}\n</code></pre>\n\n<p>But it's not clear to me how I access the property I'm interested in from <code>ppc</code>?</p>\n"},{"tags":["java","spring-mvc","service","controller"],"answers":[{"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678315984,"creation_date":1678315984,"answer_id":75678954,"question_id":75668154,"body_markdown":"While both methods cashOut and cashIn look very similar from first glance - it is more important that functionally they actually are expected to perform opposite actions.\r\n\r\nIt is a good practice to extract similar code blocks in functionalities that are expected to perform same thing. However, in case when expected flows are opposite - it is usually more useful to let those flows be separate - even with cost of introduction of duplication. Having flows as separate allows to make modifications easily in each flow without even a possibility to affect another flow. And in long term it would lead to code that is easier to maintain.\r\n\r\nHowever, if some minor code blocks do really do same thing (as additional population of walletTransaction in your example) - such parts could be extracted into some common method. This is because in both flows walletTransaction needs to be properly populated.\r\n\r\nSo, summing up, I&#39;d leave code as is - apart from 2 minor similar code extractions:\r\n\r\n1 - common logic of wallet transaction update\r\n\r\n    private void updateWalletTransaction(WalletTransaction walletTransaction, Wallet wallet, TransactionType transactionType) {\r\n        walletTransaction.setWallet(wallet);\r\n        walletTransaction.setWalletTransactionId(UUID.randomUUID().toString());\r\n        walletTransaction.setTransactionType(TransactionType.CASH_OUT);\r\n    }\r\n\r\nAnd call it in both methods as \r\n\r\n    updateWalletTransaction(walletTransaction, wallet, TransactionType.CASH_IN);\r\nor \r\n\r\n    updateWalletTransaction(walletTransaction, wallet, TransactionType.CASH_OUT);\r\n\r\n2 - common logic of checking that wallet is in ACTIVE status\r\n\r\n    private void checkWalletIsActive(Wallet wallet) {\r\n        if (wallet.getStatus() != WalletStatus.ACTIVE) {\r\n            throw new WalletInactiveException(wallet.getName() +&quot;is inactive so you cannot do any transaction.&quot; +\r\n                    &quot; to activate it use the \\&quot;enable wallet\\&quot; api :&gt;&quot;);\r\n        }\r\n    }\r\n\r\nSo resulting methods would look smth like:\r\n\r\n    public void cashIn(String walletId, WalletTransactionDto walletTransactionDto) throws WalletInactiveException {\r\n        WalletTransaction walletTransaction = walletTransactionMapper\r\n                                            .walletTransactionDtoToWalletTransaction(walletTransactionDto);\r\n        Wallet wallet = walletRepository.findWalletByWalletId(walletId);\r\n        String iban = wallet.getUser().getIban();\r\n\r\n        checkWalletIsActive(wallet);\r\n        updateWalletTransaction(walletTransaction, wallet, TransactionType.CASH_IN);\r\n        debitTransactionService.withdraw(walletTransaction, iban);\r\n        walletTransactionRepository.save(walletTransaction);\r\n\r\n        walletService.updateBalance(walletId, (double)walletTransaction.getTransactionAmount(),\r\n                                    walletTransaction.getTransactionType());\r\n    }\r\n\r\nand\r\n\r\n    public void cashOut(String walletId, WalletTransactionDto walletTransactionDto)\r\n            throws WalletInactiveException, InsufficientBalanceException {\r\n        WalletTransaction walletTransaction = walletTransactionMapper\r\n                                            .walletTransactionDtoToWalletTransaction(walletTransactionDto);\r\n        Wallet wallet = walletRepository.findWalletByWalletId(walletId);\r\n        String iban = wallet.getUser().getIban();\r\n\r\n        checkWalletIsActive(wallet);\r\n        if (walletTransaction.getTransactionAmount() &lt;= wallet.getBalance()) {\r\n                updateWalletTransaction(walletTransaction, wallet, TransactionType.CASH_OUT);\r\n                debitTransactionService.deposit(walletTransaction, iban);\r\n                walletTransactionRepository.save(walletTransaction);\r\n        } else {\r\n            throw new InsufficientBalanceException(&quot;the balance of &quot;+wallet.getName() +\r\n                    &quot; wallet is not sufficient. you can increase the wallet balance by&quot; +\r\n                    &quot;using \\&quot;cash in\\&quot; api&quot;);\r\n        }\r\n        walletService.updateBalance(walletId, (double)walletTransaction.getTransactionAmount(),\r\n            walletTransaction.getTransactionType());\r\n    }\r\n\r\n","title":"In the one of my controller and also a service class I have a duplicate lines of code what is the best practice to refactor them","body":"<p>While both methods cashOut and cashIn look very similar from first glance - it is more important that functionally they actually are expected to perform opposite actions.</p>\n<p>It is a good practice to extract similar code blocks in functionalities that are expected to perform same thing. However, in case when expected flows are opposite - it is usually more useful to let those flows be separate - even with cost of introduction of duplication. Having flows as separate allows to make modifications easily in each flow without even a possibility to affect another flow. And in long term it would lead to code that is easier to maintain.</p>\n<p>However, if some minor code blocks do really do same thing (as additional population of walletTransaction in your example) - such parts could be extracted into some common method. This is because in both flows walletTransaction needs to be properly populated.</p>\n<p>So, summing up, I'd leave code as is - apart from 2 minor similar code extractions:</p>\n<p>1 - common logic of wallet transaction update</p>\n<pre><code>private void updateWalletTransaction(WalletTransaction walletTransaction, Wallet wallet, TransactionType transactionType) {\n    walletTransaction.setWallet(wallet);\n    walletTransaction.setWalletTransactionId(UUID.randomUUID().toString());\n    walletTransaction.setTransactionType(TransactionType.CASH_OUT);\n}\n</code></pre>\n<p>And call it in both methods as</p>\n<pre><code>updateWalletTransaction(walletTransaction, wallet, TransactionType.CASH_IN);\n</code></pre>\n<p>or</p>\n<pre><code>updateWalletTransaction(walletTransaction, wallet, TransactionType.CASH_OUT);\n</code></pre>\n<p>2 - common logic of checking that wallet is in ACTIVE status</p>\n<pre><code>private void checkWalletIsActive(Wallet wallet) {\n    if (wallet.getStatus() != WalletStatus.ACTIVE) {\n        throw new WalletInactiveException(wallet.getName() +&quot;is inactive so you cannot do any transaction.&quot; +\n                &quot; to activate it use the \\&quot;enable wallet\\&quot; api :&gt;&quot;);\n    }\n}\n</code></pre>\n<p>So resulting methods would look smth like:</p>\n<pre><code>public void cashIn(String walletId, WalletTransactionDto walletTransactionDto) throws WalletInactiveException {\n    WalletTransaction walletTransaction = walletTransactionMapper\n                                        .walletTransactionDtoToWalletTransaction(walletTransactionDto);\n    Wallet wallet = walletRepository.findWalletByWalletId(walletId);\n    String iban = wallet.getUser().getIban();\n\n    checkWalletIsActive(wallet);\n    updateWalletTransaction(walletTransaction, wallet, TransactionType.CASH_IN);\n    debitTransactionService.withdraw(walletTransaction, iban);\n    walletTransactionRepository.save(walletTransaction);\n\n    walletService.updateBalance(walletId, (double)walletTransaction.getTransactionAmount(),\n                                walletTransaction.getTransactionType());\n}\n</code></pre>\n<p>and</p>\n<pre><code>public void cashOut(String walletId, WalletTransactionDto walletTransactionDto)\n        throws WalletInactiveException, InsufficientBalanceException {\n    WalletTransaction walletTransaction = walletTransactionMapper\n                                        .walletTransactionDtoToWalletTransaction(walletTransactionDto);\n    Wallet wallet = walletRepository.findWalletByWalletId(walletId);\n    String iban = wallet.getUser().getIban();\n\n    checkWalletIsActive(wallet);\n    if (walletTransaction.getTransactionAmount() &lt;= wallet.getBalance()) {\n            updateWalletTransaction(walletTransaction, wallet, TransactionType.CASH_OUT);\n            debitTransactionService.deposit(walletTransaction, iban);\n            walletTransactionRepository.save(walletTransaction);\n    } else {\n        throw new InsufficientBalanceException(&quot;the balance of &quot;+wallet.getName() +\n                &quot; wallet is not sufficient. you can increase the wallet balance by&quot; +\n                &quot;using \\&quot;cash in\\&quot; api&quot;);\n    }\n    walletService.updateBalance(walletId, (double)walletTransaction.getTransactionAmount(),\n        walletTransaction.getTransactionType());\n}\n</code></pre>\n"}],"owner":{"account_id":21020152,"reputation":13,"user_id":15446692,"display_name":"Mahzad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678315984,"creation_date":1678231976,"question_id":75668154,"body_markdown":"I&#39;m beginner in java and I&#39;m writing cash-in and cash-out functionalities in the digital wallet. I don&#39;t know how can I fix these type of duplication. This is my controller class that just their URL and service call are different\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/wallet_transaction&quot;)\r\n    public class WalletTransactionController {\r\n    \r\n    \r\n        @PutMapping(&quot;/cash-in/{walletId}&quot;)\r\n        void cashIn(@PathVariable String walletId,\r\n                    @RequestBody @Valid WalletTransactionRequest walletTransactionRequest) throws WalletInactiveException {\r\n            WalletTransactionDto walletTransactionDto = walletTransactionMapper\r\n                                                        .walletTrRequestToWalletTrDto(walletTransactionRequest);\r\n            walletTransactionService.chashIn(walletId, walletTransactionDto);\r\n        }\r\n    \r\n        @PutMapping(&quot;/cash-out/{walletId}&quot;)\r\n        void cashOut(@PathVariable String walletId,\r\n                     @RequestBody @Valid WalletTransactionRequest walletTransactionRequest) throws WalletInactiveException, InsufficientBalanceException {\r\n            WalletTransactionDto walletTransactionDto = walletTransactionMapper\r\n                    .walletTrRequestToWalletTrDto(walletTransactionRequest);\r\n            walletTransactionService.cashOut(walletId, walletTransactionDto);\r\n        }\r\n       \r\n\r\nalso my service class is like below. the main functionality of them are same. just inner method invocation are different\r\n\r\n    @Transactional\r\n    @Override\r\n    public void chashIn(String walletId, WalletTransactionDto walletTransactionDto) throws WalletInactiveException {\r\n        WalletTransaction walletTransaction = walletTransactionMapper\r\n                                                .walletTransactionDtoToWalletTransaction(walletTransactionDto);\r\n        Wallet wallet = walletRepository.findWalletByWalletId(walletId);\r\n        String iban = wallet.getUser().getIban();\r\n    \r\n        if(wallet.getStatus().equals(WalletStatus.ACTIVE)){\r\n            walletTransaction.setWallet(wallet);\r\n            walletTransaction.setWalletTransactionId(UUID.randomUUID().toString());\r\n            walletTransaction.setTransactionType(TransactionType.CASH_IN);\r\n            debitTransactionService.withdraw(walletTransaction, iban);\r\n            walletTransactionRepository.save(walletTransaction);\r\n        }else {\r\n            throw new WalletInactiveException(wallet.getName() +&quot;is inactive so you cannot do any transaction.&quot; +\r\n                    &quot; to activate it use the \\&quot;enable wallet\\&quot; api :&gt;&quot;);\r\n        }\r\n        walletService.updateBalance(walletId, (double)walletTransaction.getTransactionAmount(),\r\n                                        walletTransaction.getTransactionType());\r\n    }\r\n    \r\n    @Transactional\r\n    @Override\r\n    public void cashOut(String walletId, WalletTransactionDto walletTransactionDto)\r\n            throws WalletInactiveException, InsufficientBalanceException {\r\n    \r\n        WalletTransaction walletTransaction = walletTransactionMapper\r\n                .walletTransactionDtoToWalletTransaction(walletTransactionDto);\r\n        Wallet wallet = walletRepository.findWalletByWalletId(walletId);\r\n        String iban = wallet.getUser().getIban();\r\n    \r\n        if(wallet.getStatus().equals(WalletStatus.ACTIVE)){\r\n            if(walletTransaction.getTransactionAmount()&lt;= wallet.getBalance()){\r\n                walletTransaction.setWallet(wallet);\r\n                walletTransaction.setWalletTransactionId(UUID.randomUUID().toString());\r\n                walletTransaction.setTransactionType(TransactionType.CASH_OUT);\r\n                debitTransactionService.deposit(walletTransaction, iban);\r\n                walletTransactionRepository.save(walletTransaction);\r\n            }else{\r\n                throw new InsufficientBalanceException(&quot;the balance of &quot;+wallet.getName() +\r\n                        &quot; wallet is not sufficient. you can increase the wallet balance by&quot; +\r\n                        &quot;using \\&quot;cash in\\&quot; api&quot;);\r\n            }\r\n        }else{\r\n            throw new WalletInactiveException(wallet.getName() +&quot; wallet is inactive so you cannot do any transaction.&quot; +\r\n                    &quot; to activate it, use the \\&quot;enable wallet\\&quot; api :&gt;&quot;);\r\n        }\r\n    \r\n        walletService.updateBalance(walletId, (double)walletTransaction.getTransactionAmount(),\r\n                walletTransaction.getTransactionType());\r\n    }\r\n\r\n","title":"In the one of my controller and also a service class I have a duplicate lines of code what is the best practice to refactor them","body":"<p>I'm beginner in java and I'm writing cash-in and cash-out functionalities in the digital wallet. I don't know how can I fix these type of duplication. This is my controller class that just their URL and service call are different</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/wallet_transaction&quot;)\npublic class WalletTransactionController {\n\n\n    @PutMapping(&quot;/cash-in/{walletId}&quot;)\n    void cashIn(@PathVariable String walletId,\n                @RequestBody @Valid WalletTransactionRequest walletTransactionRequest) throws WalletInactiveException {\n        WalletTransactionDto walletTransactionDto = walletTransactionMapper\n                                                    .walletTrRequestToWalletTrDto(walletTransactionRequest);\n        walletTransactionService.chashIn(walletId, walletTransactionDto);\n    }\n\n    @PutMapping(&quot;/cash-out/{walletId}&quot;)\n    void cashOut(@PathVariable String walletId,\n                 @RequestBody @Valid WalletTransactionRequest walletTransactionRequest) throws WalletInactiveException, InsufficientBalanceException {\n        WalletTransactionDto walletTransactionDto = walletTransactionMapper\n                .walletTrRequestToWalletTrDto(walletTransactionRequest);\n        walletTransactionService.cashOut(walletId, walletTransactionDto);\n    }\n   \n</code></pre>\n<p>also my service class is like below. the main functionality of them are same. just inner method invocation are different</p>\n<pre><code>@Transactional\n@Override\npublic void chashIn(String walletId, WalletTransactionDto walletTransactionDto) throws WalletInactiveException {\n    WalletTransaction walletTransaction = walletTransactionMapper\n                                            .walletTransactionDtoToWalletTransaction(walletTransactionDto);\n    Wallet wallet = walletRepository.findWalletByWalletId(walletId);\n    String iban = wallet.getUser().getIban();\n\n    if(wallet.getStatus().equals(WalletStatus.ACTIVE)){\n        walletTransaction.setWallet(wallet);\n        walletTransaction.setWalletTransactionId(UUID.randomUUID().toString());\n        walletTransaction.setTransactionType(TransactionType.CASH_IN);\n        debitTransactionService.withdraw(walletTransaction, iban);\n        walletTransactionRepository.save(walletTransaction);\n    }else {\n        throw new WalletInactiveException(wallet.getName() +&quot;is inactive so you cannot do any transaction.&quot; +\n                &quot; to activate it use the \\&quot;enable wallet\\&quot; api :&gt;&quot;);\n    }\n    walletService.updateBalance(walletId, (double)walletTransaction.getTransactionAmount(),\n                                    walletTransaction.getTransactionType());\n}\n\n@Transactional\n@Override\npublic void cashOut(String walletId, WalletTransactionDto walletTransactionDto)\n        throws WalletInactiveException, InsufficientBalanceException {\n\n    WalletTransaction walletTransaction = walletTransactionMapper\n            .walletTransactionDtoToWalletTransaction(walletTransactionDto);\n    Wallet wallet = walletRepository.findWalletByWalletId(walletId);\n    String iban = wallet.getUser().getIban();\n\n    if(wallet.getStatus().equals(WalletStatus.ACTIVE)){\n        if(walletTransaction.getTransactionAmount()&lt;= wallet.getBalance()){\n            walletTransaction.setWallet(wallet);\n            walletTransaction.setWalletTransactionId(UUID.randomUUID().toString());\n            walletTransaction.setTransactionType(TransactionType.CASH_OUT);\n            debitTransactionService.deposit(walletTransaction, iban);\n            walletTransactionRepository.save(walletTransaction);\n        }else{\n            throw new InsufficientBalanceException(&quot;the balance of &quot;+wallet.getName() +\n                    &quot; wallet is not sufficient. you can increase the wallet balance by&quot; +\n                    &quot;using \\&quot;cash in\\&quot; api&quot;);\n        }\n    }else{\n        throw new WalletInactiveException(wallet.getName() +&quot; wallet is inactive so you cannot do any transaction.&quot; +\n                &quot; to activate it, use the \\&quot;enable wallet\\&quot; api :&gt;&quot;);\n    }\n\n    walletService.updateBalance(walletId, (double)walletTransaction.getTransactionAmount(),\n            walletTransaction.getTransactionType());\n}\n</code></pre>\n"},{"tags":["java","spring-security","spring-session","spring-authorization-server"],"answers":[{"comments":[{"owner":{"account_id":3106235,"reputation":199,"user_id":2628944,"display_name":"jetpack"},"score":0,"creation_date":1678339895,"post_id":75678944,"comment_id":133514142,"body_markdown":"thank you. But I realize this is not what is happening in my code. Sorry for this as I am trying to understand the spring authorization server. I created a new question, this is the link https://stackoverflow.com/questions/75680739/spring-authorization-server-no-authenticationprovider-found-for-oauth2authoriza","body":"thank you. But I realize this is not what is happening in my code. Sorry for this as I am trying to understand the spring authorization server. I created a new question, this is the link <a href=\"https://stackoverflow.com/questions/75680739/spring-authorization-server-no-authenticationprovider-found-for-oauth2authoriza\" title=\"spring authorization server no authenticationprovider found for oauth2authoriza\">stackoverflow.com/questions/75680739/&hellip;</a>"}],"tags":[],"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678315869,"creation_date":1678315869,"answer_id":75678944,"question_id":75670279,"body_markdown":"See [Configuring Client Authentication](https://docs.spring.io/spring-authorization-server/docs/0.3.1/reference/html/configuration-model.html#configuring-client-authentication) in the reference.","title":"How to set the provider for OAuth2ClientAuthenticationToken in Spring Authorization Server","body":"<p>See <a href=\"https://docs.spring.io/spring-authorization-server/docs/0.3.1/reference/html/configuration-model.html#configuring-client-authentication\" rel=\"nofollow noreferrer\">Configuring Client Authentication</a> in the reference.</p>\n"}],"owner":{"account_id":3106235,"reputation":199,"user_id":2628944,"display_name":"jetpack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75678944,"answer_count":1,"score":0,"last_activity_date":1678315869,"creation_date":1678260182,"question_id":75670279,"body_markdown":"How can I set the provider class for OAuth2ClientAuthenticationToken object.\r\n\r\nI am working on springboot using spring security 5 and Spring Authorization Server ver 0.3.1\r\nI already make the configuration of both but still I encounter this error.\r\n\r\nCan anybody provide some sample links on how to do such.\r\n\r\nError:\r\n```\r\norg.springframework.security.authentication.ProviderNotFoundException: No AuthenticationProvider found for org.springframework.security.oauth2.server.authorization.authentication.OAuth2ClientAuthenticationToken\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:234)\r\n\tat org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:120)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat \r\n```","title":"How to set the provider for OAuth2ClientAuthenticationToken in Spring Authorization Server","body":"<p>How can I set the provider class for OAuth2ClientAuthenticationToken object.</p>\n<p>I am working on springboot using spring security 5 and Spring Authorization Server ver 0.3.1\nI already make the configuration of both but still I encounter this error.</p>\n<p>Can anybody provide some sample links on how to do such.</p>\n<p>Error:</p>\n<pre><code>org.springframework.security.authentication.ProviderNotFoundException: No AuthenticationProvider found for org.springframework.security.oauth2.server.authorization.authentication.OAuth2ClientAuthenticationToken\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:234)\n    at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:120)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at \n</code></pre>\n"},{"tags":["java","spring","groovy","resttemplate"],"comments":[{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1364977798,"post_id":15781885,"comment_id":22437559,"body_markdown":"Can&#39;t you pass the inputstream to the other service?  Or you&#39;ll have to write the inputstream to a file and then pass the file handle to the service.  Also, not sure how this relates to Groovy?","body":"Can&#39;t you pass the inputstream to the other service?  Or you&#39;ll have to write the inputstream to a file and then pass the file handle to the service.  Also, not sure how this relates to Groovy?"},{"owner":{"account_id":1497699,"reputation":687,"user_id":1403273,"accept_rate":100,"display_name":"Gabi"},"score":0,"creation_date":1364978008,"post_id":15781885,"comment_id":22437659,"body_markdown":"I didn&#39;t find any way to just pass the input stream. I used the Groovy tag because the code is in groovy (java InputStream does not have a getBytes method)","body":"I didn&#39;t find any way to just pass the input stream. I used the Groovy tag because the code is in groovy (java InputStream does not have a getBytes method)"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":1,"creation_date":1364978714,"post_id":15781885,"comment_id":22438035,"body_markdown":"Ahhh, I was thrown as you&#39;re writing it in a very Java style ;-)  SO what does this other service accept then?","body":"Ahhh, I was thrown as you&#39;re writing it in a very Java style ;-)  SO what does this other service accept then?"},{"owner":{"account_id":304772,"reputation":11223,"user_id":614482,"accept_rate":80,"display_name":"Emerson Farrugia"},"score":0,"creation_date":1372268103,"post_id":15781885,"comment_id":25133403,"body_markdown":"I&#39;m not providing this as an answer, cause it&#39;s a bit larger in scope than an answer to your question, but have you considered Spring Integration for this problem? You&#39;re basically looking at a Claim Check pattern, with web service and REST adapters. You can get a lot of the work done for you by the SI framework. http://static.springsource.org/spring-integration/reference/htmlsingle/#claim-check","body":"I&#39;m not providing this as an answer, cause it&#39;s a bit larger in scope than an answer to your question, but have you considered Spring Integration for this problem? You&#39;re basically looking at a Claim Check pattern, with web service and REST adapters. You can get a lot of the work done for you by the SI framework. <a href=\"http://static.springsource.org/spring-integration/reference/htmlsingle/#claim-check\" rel=\"nofollow noreferrer\">static.springsource.org/spring-integration/reference/htmlsin&zwnj;&#8203;gle/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":465094,"reputation":4280,"user_id":868975,"accept_rate":71,"display_name":"Bax"},"score":0,"creation_date":1389796809,"post_id":15785322,"comment_id":31814740,"body_markdown":"Isn&#39;t the input stream all loaded into memory this way ?","body":"Isn&#39;t the input stream all loaded into memory this way ?"},{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":2,"creation_date":1389862172,"post_id":15785322,"comment_id":31845829,"body_markdown":"@Bax No, it&#39;ll be loaded piecemeal during the copying. Should be quite memory-efficient.","body":"@Bax No, it&#39;ll be loaded piecemeal during the copying. Should be quite memory-efficient."},{"owner":{"account_id":465094,"reputation":4280,"user_id":868975,"accept_rate":71,"display_name":"Bax"},"score":0,"creation_date":1389862413,"post_id":15785322,"comment_id":31845959,"body_markdown":"doWithRequest(request) is called before request.execute() and it will not return until all the stream is copied to the request body. The cintent is copied in chunks to the body but nobody consumes from it, it does not act like a pipe, am I missing smth ?","body":"doWithRequest(request) is called before request.execute() and it will not return until all the stream is copied to the request body. The cintent is copied in chunks to the body but nobody consumes from it, it does not act like a pipe, am I missing smth ?"},{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":1,"creation_date":1389868506,"post_id":15785322,"comment_id":31849697,"body_markdown":"@Bax `doWithRequest` is in an anonymous class; it&#39;s defined before, but won&#39;t be called until, execute (it&#39;s a callback)","body":"@Bax <code>doWithRequest</code> is in an anonymous class; it&#39;s defined before, but won&#39;t be called until, execute (it&#39;s a callback)"},{"owner":{"account_id":465094,"reputation":4280,"user_id":868975,"accept_rate":71,"display_name":"Bax"},"score":0,"creation_date":1389868699,"post_id":15785322,"comment_id":31849827,"body_markdown":"I&#39;m aware of Java semantics :) I talk about the RestTemplate class, it execute the instance of callback you pass, then call the execute method","body":"I&#39;m aware of Java semantics :) I talk about the RestTemplate class, it execute the instance of callback you pass, then call the execute method"},{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":0,"creation_date":1389871652,"post_id":15785322,"comment_id":31851712,"body_markdown":"@Bax you may have a point... I&#39;ve tested this and the request sets the Content-length header, which it could only do by buffering the entire contents. Will update the answer when I figure it out.","body":"@Bax you may have a point... I&#39;ve tested this and the request sets the Content-length header, which it could only do by buffering the entire contents. Will update the answer when I figure it out."},{"owner":{"account_id":465094,"reputation":4280,"user_id":868975,"accept_rate":71,"display_name":"Bax"},"score":4,"creation_date":1389872206,"post_id":15785322,"comment_id":31852046,"body_markdown":"found kind of solution, using *ClientHttpRequestFactory#setBufferRequestBody(false) generate in turn a *StreamingClientHttpRequest which open the connection when getBody() is called.","body":"found kind of solution, using *ClientHttpRequestFactory#setBufferRequestBody(false) generate in turn a *StreamingClientHttpRequest which open the connection when getBody() is called."},{"owner":{"account_id":142495,"reputation":1257,"user_id":350239,"display_name":"Max Ch"},"score":0,"creation_date":1406101676,"post_id":15785322,"comment_id":38690606,"body_markdown":"can&#39;t we just use new ByteArrayResource(inputStream.getBytes()) with ClientHttpRequestFactory#setBufferRequestBody(false) set on the RestTemplate? and then just call RestTemplate#exchange()?","body":"can&#39;t we just use new ByteArrayResource(inputStream.getBytes()) with ClientHttpRequestFactory#setBufferRequestBody(false) set on the RestTemplate? and then just call RestTemplate#exchange()?"},{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":0,"creation_date":1406107203,"post_id":15785322,"comment_id":38694049,"body_markdown":"@MaxCh there is no `getBytes` method on `InputStream`","body":"@MaxCh there is no <code>getBytes</code> method on <code>InputStream</code>"},{"owner":{"account_id":142495,"reputation":1257,"user_id":350239,"display_name":"Max Ch"},"score":0,"creation_date":1406189231,"post_id":15785322,"comment_id":38735268,"body_markdown":"This is right, the original question was written in Groovy, so I just followed that. But my point is that using ``execute`` may not be necessary with ``setBufferRequestBody(false)`` called. So code can be simpler. Right?","body":"This is right, the original question was written in Groovy, so I just followed that. But my point is that using <code>execute</code> may not be necessary with <code>setBufferRequestBody(false)</code> called. So code can be simpler. Right?"},{"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"score":0,"creation_date":1410051132,"post_id":15785322,"comment_id":40181982,"body_markdown":"@artbristol I also have similar question [here](https://stackoverflow.com/questions/25698072/simpleclienthttprequestfactory-vs-httpcomponentsclienthttprequestfactory-for-htt) on `RestTemplate` in which I am having doubts on ClientHttpRequestFactory implementations. See if you can help me out if possible. I am stuck on this for a while. Any help will be appreciated.","body":"@artbristol I also have similar question <a href=\"https://stackoverflow.com/questions/25698072/simpleclienthttprequestfactory-vs-httpcomponentsclienthttprequestfactory-for-htt\">here</a> on <code>RestTemplate</code> in which I am having doubts on ClientHttpRequestFactory implementations. See if you can help me out if possible. I am stuck on this for a while. Any help will be appreciated."},{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":8,"creation_date":1424129075,"post_id":15785322,"comment_id":45417175,"body_markdown":"ah... autoexec.bat. Thanks for the memories","body":"ah... autoexec.bat. Thanks for the memories"}],"tags":[],"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"comment_count":12,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1605522997,"creation_date":1364986162,"answer_id":15785322,"question_id":15781885,"body_markdown":"**Edit**: The other answers are better (use `Resource`) https://stackoverflow.com/a/36226006/116509\r\n\r\nMy original answer:\r\n\r\n\r\nYou can use `execute` for this kind of low-level operation. In this snippet I&#39;ve used Commons IO&#39;s `copy` method to copy the input stream. You would need to customize the `HttpMessageConverterExtractor` for the kind of response you&#39;re expecting.\r\n\r\n    final InputStream fis = new FileInputStream(new File(&quot;c:\\\\autoexec.bat&quot;)); // or whatever\r\n    final RequestCallback requestCallback = new RequestCallback() {\r\n         @Override\r\n        public void doWithRequest(final ClientHttpRequest request) throws IOException {\r\n            request.getHeaders().add(&quot;Content-type&quot;, &quot;application/octet-stream&quot;);\r\n            IOUtils.copy(fis, request.getBody());\r\n         }\r\n    };\r\n    final RestTemplate restTemplate = new RestTemplate();\r\n    SimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\r\n    requestFactory.setBufferRequestBody(false);\t\t\r\n    restTemplate.setRequestFactory(requestFactory);\t\t\r\n    final HttpMessageConverterExtractor&lt;String&gt; responseExtractor =\r\n        new HttpMessageConverterExtractor&lt;String&gt;(String.class, restTemplate.getMessageConverters());\r\n    restTemplate.execute(&quot;http://localhost:4000&quot;, HttpMethod.POST, requestCallback, responseExtractor);\r\n\r\n(Thanks to Baz for pointing out you need to call `setBufferRequestBody(false)` or it will defeat the point)","title":"How to forward large files with RestTemplate?","body":"<p><strong>Edit</strong>: The other answers are better (use <code>Resource</code>) <a href=\"https://stackoverflow.com/a/36226006/116509\">https://stackoverflow.com/a/36226006/116509</a></p>\n<p>My original answer:</p>\n<p>You can use <code>execute</code> for this kind of low-level operation. In this snippet I've used Commons IO's <code>copy</code> method to copy the input stream. You would need to customize the <code>HttpMessageConverterExtractor</code> for the kind of response you're expecting.</p>\n<pre><code>final InputStream fis = new FileInputStream(new File(&quot;c:\\\\autoexec.bat&quot;)); // or whatever\nfinal RequestCallback requestCallback = new RequestCallback() {\n     @Override\n    public void doWithRequest(final ClientHttpRequest request) throws IOException {\n        request.getHeaders().add(&quot;Content-type&quot;, &quot;application/octet-stream&quot;);\n        IOUtils.copy(fis, request.getBody());\n     }\n};\nfinal RestTemplate restTemplate = new RestTemplate();\nSimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\nrequestFactory.setBufferRequestBody(false);     \nrestTemplate.setRequestFactory(requestFactory);     \nfinal HttpMessageConverterExtractor&lt;String&gt; responseExtractor =\n    new HttpMessageConverterExtractor&lt;String&gt;(String.class, restTemplate.getMessageConverters());\nrestTemplate.execute(&quot;http://localhost:4000&quot;, HttpMethod.POST, requestCallback, responseExtractor);\n</code></pre>\n<p>(Thanks to Baz for pointing out you need to call <code>setBufferRequestBody(false)</code> or it will defeat the point)</p>\n"},{"comments":[{"owner":{"account_id":3510403,"reputation":322,"user_id":2934857,"display_name":"Jhoan Manuel Mu&#241;oz Serrano"},"score":0,"creation_date":1632227643,"post_id":32697516,"comment_id":122430953,"body_markdown":"This solved my original problem, and the rest template was able to process the large file without running out of memory thanks a lot! \n\nAfter that I started getting `Error writing body to server` and I was able to solve this one with the response in [this post](https://stackoverflow.com/a/52005690/2934857). I&#39;m leaving this here in case anyone else face the same problem.\n\nThanks!","body":"This solved my original problem, and the rest template was able to process the large file without running out of memory thanks a lot!   After that I started getting <code>Error writing body to server</code> and I was able to solve this one with the response in <a href=\"https://stackoverflow.com/a/52005690/2934857\">this post</a>. I&#39;m leaving this here in case anyone else face the same problem.  Thanks!"}],"tags":[],"owner":{"account_id":12892,"reputation":7721,"user_id":25625,"accept_rate":83,"display_name":"Ed Brannin"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1442844966,"creation_date":1442844966,"answer_id":32697516,"question_id":15781885,"body_markdown":"The only part of @artbristol&#39;s [answer](https://stackoverflow.com/a/15785322/25625) you really need is this (which you can set up as a `RestTemplate` Spring bean):\r\n\r\n    final RestTemplate restTemplate = new RestTemplate();\r\n    SimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\r\n    requestFactory.setBufferRequestBody(false);     \r\n    restTemplate.setRequestFactory(requestFactory);     \r\n\r\n\r\nAfter that, I think just using a `FileSystemResource` as your request body will do the right thing.\r\n\r\nI&#39;ve also used an `InputStreamResource` successfully this way, for cases where you already have the data as an `InputStream` and don&#39;t need to consume it multiple times.\r\n\r\nIn my case, we had gzipped our files and wrapped a `GZipInputStream` in an `InputStreamResource`.","title":"How to forward large files with RestTemplate?","body":"<p>The only part of @artbristol's <a href=\"https://stackoverflow.com/a/15785322/25625\">answer</a> you really need is this (which you can set up as a <code>RestTemplate</code> Spring bean):</p>\n\n<pre><code>final RestTemplate restTemplate = new RestTemplate();\nSimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\nrequestFactory.setBufferRequestBody(false);     \nrestTemplate.setRequestFactory(requestFactory);     \n</code></pre>\n\n<p>After that, I think just using a <code>FileSystemResource</code> as your request body will do the right thing.</p>\n\n<p>I've also used an <code>InputStreamResource</code> successfully this way, for cases where you already have the data as an <code>InputStream</code> and don't need to consume it multiple times.</p>\n\n<p>In my case, we had gzipped our files and wrapped a <code>GZipInputStream</code> in an <code>InputStreamResource</code>.</p>\n"},{"tags":[],"owner":{"account_id":3174228,"reputation":729,"user_id":2682499,"display_name":"RuntimeBlairror"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1525631089,"creation_date":1458931538,"answer_id":36226006,"question_id":15781885,"body_markdown":"I think that the above answer has unnecessary code - you don&#39;t need to make an anonymous RequestCallback inner class, and you don&#39;t need to use IOUtils from apache.\r\n\r\nI spent a bit of time researching a similar solution to yours and this is what I came up with:\r\n\r\nYou can accomplish your goal much simpler by using [the Spring Resource Interface][1] and RestTemplate.    \r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    \r\n    SimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\r\n    requestFactory.setBufferRequestBody(false);\r\n    restTemplate.setRequestFactory(requestFactory);\r\n    \r\n    File file = new File(&quot;/whatever&quot;);\r\n\r\n    HttpEntity&lt;FileSystemResource&gt; requestEntity = new HttpEntity&lt;&gt;(new FileSystemResource(file));\r\n    ResponseEntity e = restTemplate.exchange(&quot;http://localhost:4000&quot;, HttpMethod.POST, requestEntity, Map.class);\r\n\r\n(This example assumes that the response from where you are POSTing to is JSON. But, this can easily be changed by changing the return type class... set to Map.class above)\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/Resource.html &quot;Spring Resource Inferface&quot;","title":"How to forward large files with RestTemplate?","body":"<p>I think that the above answer has unnecessary code - you don't need to make an anonymous RequestCallback inner class, and you don't need to use IOUtils from apache.</p>\n\n<p>I spent a bit of time researching a similar solution to yours and this is what I came up with:</p>\n\n<p>You can accomplish your goal much simpler by using <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/Resource.html\" rel=\"noreferrer\" title=\"Spring Resource Inferface\">the Spring Resource Interface</a> and RestTemplate.    </p>\n\n<pre><code>RestTemplate restTemplate = new RestTemplate();\n\nSimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\nrequestFactory.setBufferRequestBody(false);\nrestTemplate.setRequestFactory(requestFactory);\n\nFile file = new File(\"/whatever\");\n\nHttpEntity&lt;FileSystemResource&gt; requestEntity = new HttpEntity&lt;&gt;(new FileSystemResource(file));\nResponseEntity e = restTemplate.exchange(\"http://localhost:4000\", HttpMethod.POST, requestEntity, Map.class);\n</code></pre>\n\n<p>(This example assumes that the response from where you are POSTing to is JSON. But, this can easily be changed by changing the return type class... set to Map.class above)</p>\n"},{"tags":[],"owner":{"account_id":116932,"reputation":21,"user_id":3259208,"display_name":"STAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678315367,"creation_date":1678315367,"answer_id":75678903,"question_id":15781885,"body_markdown":"One additional thing to note when doing large uploads is presence of Spring Actuator. That automatically injects `MetricsRestTemplateCustomizer` which will cause your request to be buffered, even if you set `setBufferRequestBody(false)` on your factory. \r\n\r\nTwo ways to get around it, probably more options:\r\n\r\n1) Disable the customizer globally - \r\n```\r\n@SpringBootApplication(exclude = HttpClientMetricsAutoConfiguration.class)\r\n```\r\n\r\n2) Disable for only some of the rest templates, if you&#39;re building a `restTemplate` via `restTemplateBuilder`.\r\n```java\r\n            var restTemplate = restTemplateBuilder.requestFactory(() -&gt;\r\n                    {\r\n                        var reqFact = new HttpComponentsClientHttpRequestFactory(HttpClientBuilder.create()//\r\n                                .setDefaultRequestConfig(RequestConfig.custom().build())//\r\n                                .build());\r\n                        reqFact.setBufferRequestBody(false);\r\n                        return reqFact;\r\n                    })//\r\n                    .setBufferRequestBody(false)//\r\n                    //these are to disable any possible interceptor/customizer that might force buffering on the request\r\n                    //like the MetricsRestTemplateCustomizer\r\n                    .interceptors(List.of())//\r\n                    .customizers(List.of())//\r\n                    .build();\r\n```","title":"How to forward large files with RestTemplate?","body":"<p>One additional thing to note when doing large uploads is presence of Spring Actuator. That automatically injects <code>MetricsRestTemplateCustomizer</code> which will cause your request to be buffered, even if you set <code>setBufferRequestBody(false)</code> on your factory.</p>\n<p>Two ways to get around it, probably more options:</p>\n<ol>\n<li>Disable the customizer globally -</li>\n</ol>\n<pre><code>@SpringBootApplication(exclude = HttpClientMetricsAutoConfiguration.class)\n</code></pre>\n<ol start=\"2\">\n<li>Disable for only some of the rest templates, if you're building a <code>restTemplate</code> via <code>restTemplateBuilder</code>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>            var restTemplate = restTemplateBuilder.requestFactory(() -&gt;\n                    {\n                        var reqFact = new HttpComponentsClientHttpRequestFactory(HttpClientBuilder.create()//\n                                .setDefaultRequestConfig(RequestConfig.custom().build())//\n                                .build());\n                        reqFact.setBufferRequestBody(false);\n                        return reqFact;\n                    })//\n                    .setBufferRequestBody(false)//\n                    //these are to disable any possible interceptor/customizer that might force buffering on the request\n                    //like the MetricsRestTemplateCustomizer\n                    .interceptors(List.of())//\n                    .customizers(List.of())//\n                    .build();\n</code></pre>\n"}],"owner":{"account_id":1497699,"reputation":687,"user_id":1403273,"accept_rate":100,"display_name":"Gabi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45811,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":15785322,"answer_count":4,"score":43,"last_activity_date":1678315367,"creation_date":1364976007,"question_id":15781885,"body_markdown":"I have a web service call through which zip files can be uploaded. The files are then forwarded to another service for storage, unzipping, etc.\r\nFor now the file is stored on the file system, then a FileSystemResource is built. \r\n\r\n    Resource zipFile = new FileSystemResource(tempFile.getAbsolutePath());\r\n\r\nI could use a ByteStreamResource in order to save time(the saving of the file on disk is not needed before forwarding) but for that i need to build a byte array. In case of large files I will get an &quot;OutOfMemory : java heap space&quot; error.\r\n\r\n\r\n    ByteArrayResource r = new ByteArrayResource(inputStream.getBytes());\r\n\r\nAny solutions to forwarding files without getting an OutOfMemory error using RestTemplate? \r\n\r\n\r\n\r\n","title":"How to forward large files with RestTemplate?","body":"<p>I have a web service call through which zip files can be uploaded. The files are then forwarded to another service for storage, unzipping, etc.\nFor now the file is stored on the file system, then a FileSystemResource is built. </p>\n\n<pre><code>Resource zipFile = new FileSystemResource(tempFile.getAbsolutePath());\n</code></pre>\n\n<p>I could use a ByteStreamResource in order to save time(the saving of the file on disk is not needed before forwarding) but for that i need to build a byte array. In case of large files I will get an \"OutOfMemory : java heap space\" error.</p>\n\n<pre><code>ByteArrayResource r = new ByteArrayResource(inputStream.getBytes());\n</code></pre>\n\n<p>Any solutions to forwarding files without getting an OutOfMemory error using RestTemplate? </p>\n"},{"tags":["java","tls1.2"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1674499373,"post_id":75213607,"comment_id":132722610,"body_markdown":"Given that Java 7 [went out of *extended* support in July 2022](https://blogs.oracle.com/java/post/java-se-7-end-of-extended-support-in-july-2022) I would strongly encourage you to put the effort into fixing the application to work with in-support versions rather than spending that effort trying to use a very old version of Java.","body":"Given that Java 7 <a href=\"https://blogs.oracle.com/java/post/java-se-7-end-of-extended-support-in-july-2022\" rel=\"nofollow noreferrer\">went out of <i>extended</i> support in July 2022</a> I would strongly encourage you to put the effort into fixing the application to work with in-support versions rather than spending that effort trying to use a very old version of Java."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674504636,"post_id":75213607,"comment_id":132724223,"body_markdown":"Let&#39;s put it more strongly: if you still need to be running this code in 1-2 months, then I **strongly** urge you to schedule a project to upgrade the system to at least run on Java 17 (the current TLS support). For bonus points call the project &quot;RemoveTheDot&quot; (1.7 -&gt; 17).","body":"Let&#39;s put it more strongly: if you still need to be running this code in 1-2 months, then I <b>strongly</b> urge you to schedule a project to upgrade the system to at least run on Java 17 (the current TLS support). For bonus points call the project &quot;RemoveTheDot&quot; (1.7 -&gt; 17)."}],"answers":[{"comments":[{"owner":{"account_id":26529106,"reputation":1,"user_id":20161600,"display_name":"Brandon Sifuentez"},"score":0,"creation_date":1674671544,"post_id":75214376,"comment_id":132766453,"body_markdown":"For 7u95, I believe that is only available with extended oracle support.","body":"For 7u95, I believe that is only available with extended oracle support."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1674742759,"post_id":75214376,"comment_id":132781851,"body_markdown":"That is correct. The alternative (except for upgrading) is to use code. I&#39;m not sure what level of support the last public release had, but it did not support the command line option.","body":"That is correct. The alternative (except for upgrading) is to use code. I&#39;m not sure what level of support the last public release had, but it did not support the command line option."}],"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674503528,"creation_date":1674503528,"answer_id":75214376,"question_id":75213607,"body_markdown":"If you want to do this without code (`jdk.tls.client.protocols`) that was added in [7u95][1]. I strongly agree with the comment above though - it is really high time to update to a more recent version.\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/7u95-relnotes.html","title":"What java 1.7 version is compatible/needed for TLS 1.2","body":"<p>If you want to do this without code (<code>jdk.tls.client.protocols</code>) that was added in <a href=\"https://www.oracle.com/java/technologies/javase/7u95-relnotes.html\" rel=\"nofollow noreferrer\">7u95</a>. I strongly agree with the comment above though - it is really high time to update to a more recent version.</p>\n"},{"tags":[],"owner":{"account_id":2047552,"reputation":773,"user_id":1827312,"accept_rate":80,"display_name":"David T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678315070,"creation_date":1678314630,"answer_id":75678839,"question_id":75213607,"body_markdown":"To anyone unfortunate enough to find this post, current versions of the [Azul Zulu 7 OpenJDK][1] seem to support setting the `jdk.tls.client.protocols` system property to `TLSv1.2` like is supported in 7u95 for Oracle Business customers.\r\n\r\n\r\n  [1]: https://www.azul.com/downloads/","title":"What java 1.7 version is compatible/needed for TLS 1.2","body":"<p>To anyone unfortunate enough to find this post, current versions of the <a href=\"https://www.azul.com/downloads/\" rel=\"nofollow noreferrer\">Azul Zulu 7 OpenJDK</a> seem to support setting the <code>jdk.tls.client.protocols</code> system property to <code>TLSv1.2</code> like is supported in 7u95 for Oracle Business customers.</p>\n"}],"owner":{"account_id":26529106,"reputation":1,"user_id":20161600,"display_name":"Brandon Sifuentez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678315070,"creation_date":1674498814,"question_id":75213607,"body_markdown":"I am trying to upgrade to using TLS 1.2 while keeping java version within Java 1.7. I cannot move up to Java 1.8. \r\n\r\nWe tried upgrading with 1.8 but the application blew up. ","title":"What java 1.7 version is compatible/needed for TLS 1.2","body":"<p>I am trying to upgrade to using TLS 1.2 while keeping java version within Java 1.7. I cannot move up to Java 1.8.</p>\n<p>We tried upgrading with 1.8 but the application blew up.</p>\n"},{"tags":["java","node.js","ssl","network-programming"],"comments":[{"owner":{"account_id":23264800,"reputation":1,"user_id":17350514,"display_name":"Guarf"},"score":0,"creation_date":1678324008,"post_id":75678844,"comment_id":133512218,"body_markdown":"just noticed that in the last code snippet i forgot to add &quot;socket.startHandshake();&quot; but it threw an error after that as well &quot;java.net.ConnectException: Connection refused: connect&quot;","body":"just noticed that in the last code snippet i forgot to add &quot;socket.startHandshake();&quot; but it threw an error after that as well &quot;java.net.ConnectException: Connection refused: connect&quot;"}],"owner":{"account_id":23264800,"reputation":1,"user_id":17350514,"display_name":"Guarf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678314677,"creation_date":1678314677,"question_id":75678844,"body_markdown":"I am trying to create a secure connection to a node.js server (run on localhost for now) and im not sure how to set it up. I have seen many examples of how to set them up using SSLSocket online, but when I try to modify them to suit my needs, I end up breaking it. Usually the error ends up saying `\r\njava.net.ConnectException: Connection refused: connect` pointing to the line where I create the SSLSocket.\r\n\r\nI want to create a SSLSocket client where I can have 5 different commands:\r\n- The client constructor\r\n- connect();\r\n- disconnect();\r\n- sendMessage();\r\n- receiveMessage();\r\n\r\nThis is the code I have when using regular Sockets:\r\n```\r\npublic class Client {\r\n    private int port;\r\n    private String hostname;\r\n    private Socket socket;\r\n    private PrintWriter out;\r\n    private BufferedReader in;\r\n\r\n    public Client(String hn, int pt) {\r\n    \thostname = hn;\r\n    \tport = pt;\r\n    }\r\n\r\n    public void connect() throws UnknownHostException, IOException {\r\n    \tsocket = new Socket(hostname, port);\r\n    \tout = new PrintWriter(new BufferedWriter(new OutputStreamWriter(socket.getOutputStream())));\r\n\tin = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n    }\r\n\r\n    public String receiveMessage() throws IOException {\r\n    \tString op;\r\n    \top = in.readLine();\r\n    \treturn op;\r\n    }\r\n\r\n    public void sendMessage(String pkt) {\r\n    \tout.println(pkt);\r\n    \tSystem.out.println(pkt);\r\n    \tout.flush();\r\n    }\r\n    \r\n    public void disconnect() throws IOException {\r\n    \tin.close();\r\n    \tout.close();\r\n    \tsocket.close();\r\n    }\r\n\r\n}\r\n```\r\nand a test run of it in Main:\r\n```\r\nClient client = new Client(&quot;localhost&quot;, 6969);\r\nclient.connect();\r\nclient.sendMessage(&quot;test&quot;);\r\nclient.receiveMessage();\r\nclient.disconnect();\r\n```\r\nThe reason I have it structured this way is because I want to put sendMessage(); and receiveMessage(); into seperate threads. This works very well, but how can I make the equivalent of this but using SSLSocket?\r\n\r\ni tried simply changing this to SSLSocket:\r\n```\r\npublic void connect() throws UnknownHostException, IOException {\r\n    \tsslsocketfactory = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n    \tsocket = (SSLSocket) sslsocketfactory\r\n    \t  .createSocket(hostname, port);\r\n    \tsocket.setEnabledCipherSuites(cipher_suites);\r\n        socket.setEnabledProtocols(protocols);\r\n    \tout = new PrintWriter(new BufferedWriter(new OutputStreamWriter(socket.getOutputStream())));\r\n\t\tin = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n    }\r\n```\r\nbut i don&#39;t completely understand how the whole keystore/truststore thing works or how to implement it, especially when the server is not written in Java.\r\n\r\ni tried several other things but I won&#39;t list them because, to be honest, i wasn&#39;t sure what i was doing\r\n\r\nhow do I go about this/are there any SSLSocket alternatives to use?\r\nany help would be really appreciated","title":"How do I create a secure Java client to communicate with a secure NodeJS server?","body":"<p>I am trying to create a secure connection to a node.js server (run on localhost for now) and im not sure how to set it up. I have seen many examples of how to set them up using SSLSocket online, but when I try to modify them to suit my needs, I end up breaking it. Usually the error ends up saying <code> java.net.ConnectException: Connection refused: connect</code> pointing to the line where I create the SSLSocket.</p>\n<p>I want to create a SSLSocket client where I can have 5 different commands:</p>\n<ul>\n<li>The client constructor</li>\n<li>connect();</li>\n<li>disconnect();</li>\n<li>sendMessage();</li>\n<li>receiveMessage();</li>\n</ul>\n<p>This is the code I have when using regular Sockets:</p>\n<pre><code>public class Client {\n    private int port;\n    private String hostname;\n    private Socket socket;\n    private PrintWriter out;\n    private BufferedReader in;\n\n    public Client(String hn, int pt) {\n        hostname = hn;\n        port = pt;\n    }\n\n    public void connect() throws UnknownHostException, IOException {\n        socket = new Socket(hostname, port);\n        out = new PrintWriter(new BufferedWriter(new OutputStreamWriter(socket.getOutputStream())));\n    in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n    }\n\n    public String receiveMessage() throws IOException {\n        String op;\n        op = in.readLine();\n        return op;\n    }\n\n    public void sendMessage(String pkt) {\n        out.println(pkt);\n        System.out.println(pkt);\n        out.flush();\n    }\n    \n    public void disconnect() throws IOException {\n        in.close();\n        out.close();\n        socket.close();\n    }\n\n}\n</code></pre>\n<p>and a test run of it in Main:</p>\n<pre><code>Client client = new Client(&quot;localhost&quot;, 6969);\nclient.connect();\nclient.sendMessage(&quot;test&quot;);\nclient.receiveMessage();\nclient.disconnect();\n</code></pre>\n<p>The reason I have it structured this way is because I want to put sendMessage(); and receiveMessage(); into seperate threads. This works very well, but how can I make the equivalent of this but using SSLSocket?</p>\n<p>i tried simply changing this to SSLSocket:</p>\n<pre><code>public void connect() throws UnknownHostException, IOException {\n        sslsocketfactory = (SSLSocketFactory) SSLSocketFactory.getDefault();\n        socket = (SSLSocket) sslsocketfactory\n          .createSocket(hostname, port);\n        socket.setEnabledCipherSuites(cipher_suites);\n        socket.setEnabledProtocols(protocols);\n        out = new PrintWriter(new BufferedWriter(new OutputStreamWriter(socket.getOutputStream())));\n        in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n    }\n</code></pre>\n<p>but i don't completely understand how the whole keystore/truststore thing works or how to implement it, especially when the server is not written in Java.</p>\n<p>i tried several other things but I won't list them because, to be honest, i wasn't sure what i was doing</p>\n<p>how do I go about this/are there any SSLSocket alternatives to use?\nany help would be really appreciated</p>\n"},{"tags":["java","maven","jboss","ear","mbeans"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1397325273,"post_id":23026183,"comment_id":35190217,"body_markdown":"Without the full structure of your project and without the full pom files it&#39;s hard to guess what you are doing in your build.","body":"Without the full structure of your project and without the full pom files it&#39;s hard to guess what you are doing in your build."},{"owner":{"account_id":3294002,"reputation":1062,"user_id":2771655,"accept_rate":41,"display_name":"user2771655"},"score":0,"creation_date":1397350730,"post_id":23026183,"comment_id":35197518,"body_markdown":"@khmarbaise  I update the whole pom file of my ear. My project has basically 2 modules. one is API and other one is ejb.","body":"@khmarbaise  I update the whole pom file of my ear. My project has basically 2 modules. one is API and other one is ejb."}],"answers":[{"comments":[{"owner":{"account_id":416394,"reputation":833,"user_id":791750,"accept_rate":88,"display_name":"froginvasion"},"score":0,"creation_date":1458133900,"post_id":24648472,"comment_id":59722308,"body_markdown":"any idea if there is a way to hook into the maven-ear-plugin to execute something after the plugin copies the artifacts, but before it zips them up? I need to add a file  that is based upon the artifact&#39;s manifest files. http://goo.gl/gD3Tcu","body":"any idea if there is a way to hook into the maven-ear-plugin to execute something after the plugin copies the artifacts, but before it zips them up? I need to add a file  that is based upon the artifact&#39;s manifest files. <a href=\"http://goo.gl/gD3Tcu\" rel=\"nofollow noreferrer\">goo.gl/gD3Tcu</a>"},{"owner":{"account_id":164218,"reputation":993,"user_id":386843,"accept_rate":43,"display_name":"mekondelta"},"score":0,"creation_date":1458143041,"post_id":24648472,"comment_id":59729850,"body_markdown":"You could use the maven unpack plugin after the ear is generated maybe and then re-pack? I don&#39;t have an example to hand but it&#39;s rife on the internet...","body":"You could use the maven unpack plugin after the ear is generated maybe and then re-pack? I don&#39;t have an example to hand but it&#39;s rife on the internet..."},{"owner":{"account_id":416394,"reputation":833,"user_id":791750,"accept_rate":88,"display_name":"froginvasion"},"score":0,"creation_date":1458202544,"post_id":24648472,"comment_id":59756994,"body_markdown":"thanks, that would be an approach indeed. I chose to publish/upload the file somewhere as part of my build process instead, because I need to get this file somewhere else either way (else I&#39;d need to unpack the ear again somewhere else and get to the file)","body":"thanks, that would be an approach indeed. I chose to publish/upload the file somewhere as part of my build process instead, because I need to get this file somewhere else either way (else I&#39;d need to unpack the ear again somewhere else and get to the file)"},{"owner":{"account_id":4673460,"reputation":2327,"user_id":3784642,"accept_rate":0,"display_name":"Bernard Hauzeur"},"score":0,"creation_date":1599054349,"post_id":24648472,"comment_id":112654793,"body_markdown":"correct path: ${project.build.directory}/${project.artifactId}-${project.version}/META-INF/myfile.properties","body":"correct path: ${project.build.directory}/${project.artifactId}-${project.v&zwnj;&#8203;ersion}/META-INF/myf&zwnj;&#8203;ile.properties"}],"tags":[],"owner":{"account_id":164218,"reputation":993,"user_id":386843,"accept_rate":43,"display_name":"mekondelta"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404893415,"creation_date":1404893415,"answer_id":24648472,"question_id":23026183,"body_markdown":"I suggest you use the Maven resources plugin at the prepare-package phase to copy the file to the ${build.directory}/${project.artifactId}-${project.version}/META-INF folder which is the folder where the final EAR is zipped from. The phase prepare-package is just before the EAR is zipped up.","title":"How to add a file to EAR META-INF folder - Maven","body":"<p>I suggest you use the Maven resources plugin at the prepare-package phase to copy the file to the ${build.directory}/${project.artifactId}-${project.version}/META-INF folder which is the folder where the final EAR is zipped from. The phase prepare-package is just before the EAR is zipped up.</p>\n"},{"comments":[{"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"score":0,"creation_date":1438089977,"post_id":25245051,"comment_id":51297101,"body_markdown":"This is the maven-ear-plugin documentation: https://maven.apache.org/plugins/maven-ear-plugin/ear-mojo.html . There we can see that src/main/application is the default value for the earSourceDirectory configuration.","body":"This is the maven-ear-plugin documentation: <a href=\"https://maven.apache.org/plugins/maven-ear-plugin/ear-mojo.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-ear-plugin/ear-mojo.html</a> . There we can see that src/main/application is the default value for the earSourceDirectory configuration."}],"tags":[],"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1678314090,"creation_date":1407765424,"answer_id":25245051,"question_id":23026183,"body_markdown":"The correct way is to add files to `src/main/application` instead of `src/main/resources`.\r\nYou can also specify a different [earSourceDirectory](https://maven.apache.org/plugins/maven-ear-plugin/ear-mojo.html#earSourceDirectory) configuration.\r\n\r\nAll files and directories from this directory are included in the EAR without any extra configuration.\r\n\r\nSo, in your case you would create `src/main/application/META-INF/startup-client-service.xml` in the EAR project.","title":"How to add a file to EAR META-INF folder - Maven","body":"<p>The correct way is to add files to <code>src/main/application</code> instead of <code>src/main/resources</code>.\nYou can also specify a different <a href=\"https://maven.apache.org/plugins/maven-ear-plugin/ear-mojo.html#earSourceDirectory\" rel=\"nofollow noreferrer\">earSourceDirectory</a> configuration.</p>\n<p>All files and directories from this directory are included in the EAR without any extra configuration.</p>\n<p>So, in your case you would create <code>src/main/application/META-INF/startup-client-service.xml</code> in the EAR project.</p>\n"},{"tags":[],"owner":{"account_id":1907716,"reputation":3402,"user_id":1722236,"accept_rate":89,"display_name":"Olivier Tonglet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515406462,"creation_date":1515406462,"answer_id":48148175,"question_id":23026183,"body_markdown":" - Use the phase &quot;process-resources&quot; with the goal &quot;resources&quot; (or mekondelta proposition of using &quot;prepare-package&quot;)\r\n - Set the output directory to ${basedir}/target/${project.artifactId}-${project.version}\r\n\r\nHere&#39;s a complete example\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-resources&lt;/id&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;\r\n                                ${basedir}/target/${project.artifactId}-${project.version}\r\n                            &lt;/outputDirectory&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;${project.parent.basedir}/ejb/src/main/resources/META-INF&lt;/directory&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n    ...","title":"How to add a file to EAR META-INF folder - Maven","body":"<ul>\n<li>Use the phase \"process-resources\" with the goal \"resources\" (or mekondelta proposition of using \"prepare-package\")</li>\n<li>Set the output directory to ${basedir}/target/${project.artifactId}-${project.version}</li>\n</ul>\n\n<p>Here's a complete example</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-resources&lt;/id&gt;\n                    &lt;phase&gt;process-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;resources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;\n                            ${basedir}/target/${project.artifactId}-${project.version}\n                        &lt;/outputDirectory&gt;\n                        &lt;resources&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;${project.parent.basedir}/ejb/src/main/resources/META-INF&lt;/directory&gt;\n                            &lt;/resource&gt;\n                        &lt;/resources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8116762,"reputation":11,"user_id":6115022,"display_name":"Ceddaerrix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551272726,"creation_date":1551272726,"answer_id":54906201,"question_id":23026183,"body_markdown":"Based on mekondelta&#39;s suggestion, I have  succeeded adding files into the EAR META-INF using the *maven-assembly-plugin*.\r\nIn my case, the files are **.properties* kept under &quot;src/main/resources/META-INF&quot; in my project.\r\n\r\nIn my POM.XML has the following build configuration:\r\n\r\n        &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;plugins&gt;\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;version&gt;5&lt;/version&gt;\r\n                    &lt;defaultLibBundleDir&gt;lib/&lt;/defaultLibBundleDir&gt;\r\n                    &lt;skinnyWars&gt;true&lt;/skinnyWars&gt;\r\n                    &lt;jboss&gt;\r\n                        &lt;version&gt;5&lt;/version&gt;\r\n                        &lt;loader-repository&gt;mcsa:loader=my-application&lt;/loader-repository&gt;\r\n                        &lt;loader-repository-config&gt;java2ParentDelegation=false&lt;/loader-repository-config&gt;\r\n                        &lt;data-sources&gt;\r\n                            &lt;data-source&gt;my-ds.xml&lt;/data-source&gt;\r\n                        &lt;/data-sources&gt;\r\n                    &lt;/jboss&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-metainf&lt;/id&gt;\r\n                        &lt;!--&lt;phase&gt;initialize&lt;/phase&gt;--&gt;\r\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;!--&lt;finalName&gt;.&lt;/finalName&gt;--&gt;\r\n                            &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\r\n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                            &lt;descriptors&gt;\r\n                                &lt;descriptor&gt;src/main/resources/metainf-assembly.xml&lt;/descriptor&gt;\r\n                            &lt;/descriptors&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;directory&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/build&gt;\r\n\r\n\r\nThe *metainf-assembly.xml* is as follow:\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2\r\n          http://maven.apache.org/xsd/assembly-1.1.2.xsd&quot;&gt;\r\n    &lt;id&gt;meta-data&lt;/id&gt;\r\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n    &lt;formats&gt;\r\n        &lt;format&gt;dir&lt;/format&gt;\r\n    &lt;/formats&gt;\r\n\r\n    &lt;fileSets&gt;\r\n        &lt;fileSet&gt;\r\n            &lt;directory&gt;${project.build.directory}/filtered-resources/META-INF/&lt;/directory&gt;\r\n            &lt;outputDirectory&gt;META-INF&lt;/outputDirectory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;*.properties&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/fileSet&gt;\r\n    &lt;/fileSets&gt;\r\n&lt;/assembly&gt;\r\n\r\n","title":"How to add a file to EAR META-INF folder - Maven","body":"<p>Based on mekondelta's suggestion, I have  succeeded adding files into the EAR META-INF using the <em>maven-assembly-plugin</em>.\nIn my case, the files are **.properties* kept under \"src/main/resources/META-INF\" in my project.</p>\n\n<p>In my POM.XML has the following build configuration:</p>\n\n<pre><code>    &lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n\n    &lt;plugins&gt;\n       &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.10.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;version&gt;5&lt;/version&gt;\n                &lt;defaultLibBundleDir&gt;lib/&lt;/defaultLibBundleDir&gt;\n                &lt;skinnyWars&gt;true&lt;/skinnyWars&gt;\n                &lt;jboss&gt;\n                    &lt;version&gt;5&lt;/version&gt;\n                    &lt;loader-repository&gt;mcsa:loader=my-application&lt;/loader-repository&gt;\n                    &lt;loader-repository-config&gt;java2ParentDelegation=false&lt;/loader-repository-config&gt;\n                    &lt;data-sources&gt;\n                        &lt;data-source&gt;my-ds.xml&lt;/data-source&gt;\n                    &lt;/data-sources&gt;\n                &lt;/jboss&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-metainf&lt;/id&gt;\n                    &lt;!--&lt;phase&gt;initialize&lt;/phase&gt;--&gt;\n                    &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;!--&lt;finalName&gt;.&lt;/finalName&gt;--&gt;\n                        &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\n                        &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                        &lt;descriptors&gt;\n                            &lt;descriptor&gt;src/main/resources/metainf-assembly.xml&lt;/descriptor&gt;\n                        &lt;/descriptors&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;directory&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>The <em>metainf-assembly.xml</em> is as follow:</p>\n\n<pre><code>&lt;assembly xmlns=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2\"\n      xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:schemaLocation=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2\n      http://maven.apache.org/xsd/assembly-1.1.2.xsd\"&gt;\n&lt;id&gt;meta-data&lt;/id&gt;\n&lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n&lt;formats&gt;\n    &lt;format&gt;dir&lt;/format&gt;\n&lt;/formats&gt;\n\n&lt;fileSets&gt;\n    &lt;fileSet&gt;\n        &lt;directory&gt;${project.build.directory}/filtered-resources/META-INF/&lt;/directory&gt;\n        &lt;outputDirectory&gt;META-INF&lt;/outputDirectory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;*.properties&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/fileSet&gt;\n&lt;/fileSets&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":3957080,"reputation":21,"user_id":3265213,"display_name":"Eliran_Mesika"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555265191,"creation_date":1555265191,"answer_id":55678434,"question_id":23026183,"body_markdown":"I managed to do it using maven-resources-plugin\r\n\r\n    \t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-resources&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/${env.APPLICATION_NAME}/META-INF/&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;directory&gt;src/main/application/&lt;/directory&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t\t\t\t&lt;/resources&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n[example project structure][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RQjvj.png\r\nNote:resource need to be located in src\\main\\application\\META-INF\\weblogic-application.xml","title":"How to add a file to EAR META-INF folder - Maven","body":"<p>I managed to do it using maven-resources-plugin</p>\n\n<pre><code>            &lt;plugin&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-resources&lt;/id&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-resources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${basedir}/target/${env.APPLICATION_NAME}/META-INF/&lt;/outputDirectory&gt;\n                        &lt;resources&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/application/&lt;/directory&gt;\n                                &lt;filtering&gt;true&lt;/filtering&gt;\n                            &lt;/resource&gt;\n                        &lt;/resources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/RQjvj.png\" rel=\"nofollow noreferrer\">example project structure</a></p>\n\n<p>Note:resource need to be located in src\\main\\application\\META-INF\\weblogic-application.xml</p>\n"},{"tags":[],"owner":{"account_id":147441,"reputation":2640,"user_id":358562,"display_name":"Angel O&#39;Sphere"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569577888,"creation_date":1569577888,"answer_id":58132117,"question_id":23026183,"body_markdown":"The simplest way, at least if it is not an EAR (did not try that), is to simply have a META-INF directory with the wanted files in ./src/main/resources. \r\nOf course that does not solve your problem is the file is generated to a different place.","title":"How to add a file to EAR META-INF folder - Maven","body":"<p>The simplest way, at least if it is not an EAR (did not try that), is to simply have a META-INF directory with the wanted files in ./src/main/resources. \nOf course that does not solve your problem is the file is generated to a different place.</p>\n"}],"owner":{"account_id":3294002,"reputation":1062,"user_id":2771655,"accept_rate":41,"display_name":"user2771655"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24828,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":6,"score":19,"last_activity_date":1678314090,"creation_date":1397277898,"question_id":23026183,"body_markdown":"I want to move a `startup MBEAN` file `(startup-client-service.xml)` from my `EJB` &gt;`META-INF`,  to `EAR`&gt; `META-INF` folder. I tried with the `maven-resources-plugin` plugin but it just copy the file from `EJB` &gt;`META-INF` to `Target` in `ear` folder. But in built `ear` the `startup-client-service.xml` file is not available in `META-INF`\r\n\r\nHow can I move my startup file to META-INF into ear &gt; META-INF ?\r\n\r\nThis is the pom file of ear.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.testapp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my-client-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;name&gt;Test app EAR&lt;/name&gt;\r\n    &lt;artifactId&gt;my-client-ear&lt;/artifactId&gt;\r\n\r\n    &lt;packaging&gt;ear&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.testapp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;my-client-ejb&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;type&gt;ejb&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;defaultLibBundleDir&gt;lib&lt;/defaultLibBundleDir&gt;\r\n                    &lt;modules&gt;\r\n                    &lt;/modules&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-resources&lt;/id&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;META-INF&lt;/outputDirectory&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;${project.parent.basedir}/ejb/src/main/resources/META-INF&lt;/directory&gt;\r\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;lifecycleMappingMetadata&gt;\r\n                            &lt;pluginExecutions&gt;\r\n                                &lt;pluginExecution&gt;\r\n                                    &lt;pluginExecutionFilter&gt;\r\n                                        &lt;groupId&gt;\r\n                                            org.apache.maven.plugins\r\n                                        &lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;\r\n                                            maven-ear-plugin\r\n                                        &lt;/artifactId&gt;\r\n                                        &lt;versionRange&gt;\r\n                                            [2.8,)\r\n                                        &lt;/versionRange&gt;\r\n                                        &lt;goals&gt;\r\n                                            &lt;goal&gt;\r\n                                                generate-application-xml\r\n                                            &lt;/goal&gt;                                         \r\n                                        &lt;/goals&gt;\r\n                                    &lt;/pluginExecutionFilter&gt;\r\n                                    &lt;action&gt;\r\n                                        &lt;ignore&gt;&lt;/ignore&gt;\r\n                                    &lt;/action&gt;\r\n                                &lt;/pluginExecution&gt;\r\n                            &lt;/pluginExecutions&gt;\r\n                        &lt;/lifecycleMappingMetadata&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;copy_bundle&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;install.dir&gt;${jboss.dir}\\server\\default\\deploy&lt;/install.dir&gt;\r\n            &lt;/properties&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;Copying bundle to destination folder&lt;/id&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;run&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;tasks&gt;\r\n                                        &lt;copy\r\n                                            file=&quot;${project.build.directory}/${project.build.finalName}.${project.packaging}&quot;\r\n                                            overwrite=&quot;true&quot; todir=&quot;${install.dir}&quot; /&gt;\r\n                                    &lt;/tasks&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\nBelow is the project workspace screen grab \r\n\r\n\r\n\r\n![Here is the project structure ][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/nadLo.jpg","title":"How to add a file to EAR META-INF folder - Maven","body":"<p>I want to move a <code>startup MBEAN</code> file <code>(startup-client-service.xml)</code> from my <code>EJB</code> ><code>META-INF</code>,  to <code>EAR</code>> <code>META-INF</code> folder. I tried with the <code>maven-resources-plugin</code> plugin but it just copy the file from <code>EJB</code> ><code>META-INF</code> to <code>Target</code> in <code>ear</code> folder. But in built <code>ear</code> the <code>startup-client-service.xml</code> file is not available in <code>META-INF</code></p>\n\n<p>How can I move my startup file to META-INF into ear > META-INF ?</p>\n\n<p>This is the pom file of ear.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;com.testapp&lt;/groupId&gt;\n    &lt;artifactId&gt;my-client-parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;name&gt;Test app EAR&lt;/name&gt;\n&lt;artifactId&gt;my-client-ear&lt;/artifactId&gt;\n\n&lt;packaging&gt;ear&lt;/packaging&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.testapp&lt;/groupId&gt;\n        &lt;artifactId&gt;my-client-ejb&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;type&gt;ejb&lt;/type&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.8&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;defaultLibBundleDir&gt;lib&lt;/defaultLibBundleDir&gt;\n                &lt;modules&gt;\n                &lt;/modules&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-resources&lt;/id&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-resources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;META-INF&lt;/outputDirectory&gt;\n                        &lt;resources&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;${project.parent.basedir}/ejb/src/main/resources/META-INF&lt;/directory&gt;\n                                &lt;filtering&gt;true&lt;/filtering&gt;\n                            &lt;/resource&gt;\n                        &lt;/resources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n                &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n                &lt;version&gt;1.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;lifecycleMappingMetadata&gt;\n                        &lt;pluginExecutions&gt;\n                            &lt;pluginExecution&gt;\n                                &lt;pluginExecutionFilter&gt;\n                                    &lt;groupId&gt;\n                                        org.apache.maven.plugins\n                                    &lt;/groupId&gt;\n                                    &lt;artifactId&gt;\n                                        maven-ear-plugin\n                                    &lt;/artifactId&gt;\n                                    &lt;versionRange&gt;\n                                        [2.8,)\n                                    &lt;/versionRange&gt;\n                                    &lt;goals&gt;\n                                        &lt;goal&gt;\n                                            generate-application-xml\n                                        &lt;/goal&gt;                                         \n                                    &lt;/goals&gt;\n                                &lt;/pluginExecutionFilter&gt;\n                                &lt;action&gt;\n                                    &lt;ignore&gt;&lt;/ignore&gt;\n                                &lt;/action&gt;\n                            &lt;/pluginExecution&gt;\n                        &lt;/pluginExecutions&gt;\n                    &lt;/lifecycleMappingMetadata&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;copy_bundle&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;install.dir&gt;${jboss.dir}\\server\\default\\deploy&lt;/install.dir&gt;\n        &lt;/properties&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;Copying bundle to destination folder&lt;/id&gt;\n                            &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;run&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;tasks&gt;\n                                    &lt;copy\n                                        file=\"${project.build.directory}/${project.build.finalName}.${project.packaging}\"\n                                        overwrite=\"true\" todir=\"${install.dir}\" /&gt;\n                                &lt;/tasks&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p></p>\n\n<p>Below is the project workspace screen grab </p>\n\n<p><img src=\"https://i.stack.imgur.com/nadLo.jpg\" alt=\"Here is the project structure \"></p>\n"},{"tags":["java","android","react-native","android-connectionservice","telecom"],"owner":{"account_id":20109109,"reputation":48,"user_id":14745870,"display_name":"ramsay2113"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678313853,"creation_date":1678313853,"question_id":75678744,"body_markdown":"I am building an Android calling app using an implementation of the `ConnectionService`. When I call `setAudioRoute` to change the audio route, or press mute or speaker on the native call screen, the `onCallAudioStateChanged` method is called and I handle the change there. However, when the call is on hold and I call `setAudioRoute` or press mute or speaker from the native call screen, the `onCallAudioStateChanged` method is not called.\r\n\r\nI&#39;m using this method to keep my custom UI in sync with the native call screen. So for example, if I were to press the speaker button on the native call screen, the `onCallAudioStateChanged` method will be called where I can then update my custom UI to reflect that the call is now on speaker. However, if the call is on hold and I press the speaker button on the native call screen, the `onCallAudioStateChanged` method is not called, so I have no way to reflect this change in my custom UI, so the state will not be in sync.\r\n\r\nIs there any way to make it so that this event fires when the call is on hold? And if not, is there any other method I can use to make sure that the state from the native call screen is in sync with my custom UI?","title":"Android onCallAudioStateChanged not called when call is on hold","body":"<p>I am building an Android calling app using an implementation of the <code>ConnectionService</code>. When I call <code>setAudioRoute</code> to change the audio route, or press mute or speaker on the native call screen, the <code>onCallAudioStateChanged</code> method is called and I handle the change there. However, when the call is on hold and I call <code>setAudioRoute</code> or press mute or speaker from the native call screen, the <code>onCallAudioStateChanged</code> method is not called.</p>\n<p>I'm using this method to keep my custom UI in sync with the native call screen. So for example, if I were to press the speaker button on the native call screen, the <code>onCallAudioStateChanged</code> method will be called where I can then update my custom UI to reflect that the call is now on speaker. However, if the call is on hold and I press the speaker button on the native call screen, the <code>onCallAudioStateChanged</code> method is not called, so I have no way to reflect this change in my custom UI, so the state will not be in sync.</p>\n<p>Is there any way to make it so that this event fires when the call is on hold? And if not, is there any other method I can use to make sure that the state from the native call screen is in sync with my custom UI?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data-mongodb"],"owner":{"account_id":4811671,"reputation":674,"user_id":3884974,"accept_rate":71,"display_name":"Adri&#225;n Arroyo Calle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678313742,"creation_date":1678313742,"question_id":75678731,"body_markdown":"I have a project using Spring Boot 2.7.7 and MongoDB. I&#39;m using the following pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;XXXXX&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;XXXX&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.9.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;XXXX&lt;/name&gt;\r\n\t&lt;description&gt;XXXX&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;kotlin.version&gt;1.8.10&lt;/kotlin.version&gt;\r\n\t\t&lt;kotlin.compiler.incremental&gt;true&lt;/kotlin.compiler.incremental&gt;\r\n\t\t&lt;spring.cloud.stream.version&gt;3.1.2&lt;/spring.cloud.stream.version&gt;\r\n\t\t&lt;release.train.version&gt;2021.0.5&lt;/release.train.version&gt;\r\n\t\t&lt;jacoco.version&gt;0.8.8&lt;/jacoco.version&gt;\r\n\t\t&lt;skip-jacoco&gt;false&lt;/skip-jacoco&gt;\r\n\t\t&lt;surefireArgLine&gt;&lt;/surefireArgLine&gt;\r\n\t\t&lt;failsafeArgLine&gt;&lt;/failsafeArgLine&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor.kotlin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-kotlin-extensions&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor.addons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-extra&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.4.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-gateway-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-gateway-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resilience4j-reactor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.azure.sdk.iot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;iot-service-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.26.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Cloud Stream Binder for Kafka --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.cloud.stream.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.cloud.stream.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.qpid&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;proton-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.33.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.cloud.stream.version}&lt;/version&gt;\r\n\t\t\t&lt;type&gt;test-jar&lt;/type&gt;\r\n\t\t\t&lt;classifier&gt;test-binder&lt;/classifier&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-zipkin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.8.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.opentracing.brave&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;brave-opentracing&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opentracing-mongo-common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Logging dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring tests --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- WebClient testing --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockwebserver3-junit5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0-alpha.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kotlin-test-junit5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.ninja-squad&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springmockk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;archunit-junit5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.22.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Swagger generation and UI --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-kotlin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${release.train.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t&lt;wait&gt;1000&lt;/wait&gt;\r\n\t\t\t\t\t&lt;maxAttempts&gt;180&lt;/maxAttempts&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;args&gt;\r\n\t\t\t\t\t\t&lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n\t\t\t\t\t&lt;/args&gt;\r\n\t\t\t\t\t&lt;compilerPlugins&gt;\r\n\t\t\t\t\t\t&lt;plugin&gt;spring&lt;/plugin&gt;\r\n\t\t\t\t\t\t&lt;plugin&gt;no-arg&lt;/plugin&gt;\r\n\t\t\t\t\t&lt;/compilerPlugins&gt;\r\n\t\t\t\t\t&lt;pluginOptions&gt;\r\n\t\t\t\t\t\t&lt;option&gt;no-arg:annotation=com.telefonica.haac.platform.filemon.common.core.mapping.Mappable&lt;/option&gt;\r\n\t\t\t\t\t&lt;/pluginOptions&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;compile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;test-compile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test-compile&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;sourceDirs&gt;\r\n\t\t\t\t\t\t\t\t&lt;sourceDir&gt;src/test/kotlin/unit&lt;/sourceDir&gt;\r\n\t\t\t\t\t\t\t\t&lt;sourceDir&gt;src/test/kotlin/integration&lt;/sourceDir&gt;\r\n\t\t\t\t\t\t\t\t&lt;sourceDir&gt;src/test/kotlin/common&lt;/sourceDir&gt;\r\n\t\t\t\t\t\t\t\t&lt;sourceDir&gt;src/test/kotlin/arch&lt;/sourceDir&gt;\r\n\t\t\t\t\t\t\t&lt;/sourceDirs&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;argLine&gt;@{surefireArgLine}&lt;/argLine&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*UnitTest.*&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*ArchTest.*&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t&lt;properties&gt;\r\n\t\t\t\t\t\t&lt;configurationParameters&gt;\r\n\t\t\t\t\t\t\tjunit.jupiter.execution.parallel.enabled = true\r\n\t\t\t\t\t\t\tjunit.jupiter.execution.parallel.mode.default = same_thread\r\n\t\t\t\t\t\t\tjunit.jupiter.execution.parallel.mode.classes.default = concurrent\r\n\t\t\t\t\t\t&lt;/configurationParameters&gt;\r\n\t\t\t\t\t&lt;/properties&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;argLine&gt;@{failsafeArgLine}&lt;/argLine&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*IntegrationTest.*&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;skip&gt;${skip-jacoco}&lt;/skip&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;pre-unit-test&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;skip&gt;${skip-jacoco}&lt;/skip&gt;\r\n\t\t\t\t\t\t\t&lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\r\n\t\t\t\t\t\t\t&lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;post-unit-test&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;skip&gt;${skip-jacoco}&lt;/skip&gt;\r\n\t\t\t\t\t\t\t&lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-ut&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;pre-integration-test&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;skip&gt;${skip-jacoco}&lt;/skip&gt;\r\n\t\t\t\t\t\t\t&lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/destFile&gt;\r\n\t\t\t\t\t\t\t&lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;post-integration-test&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;skip&gt;${skip-jacoco}&lt;/skip&gt;\r\n\t\t\t\t\t\t\t&lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/dataFile&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-it&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;!-- Detekt for check-styles --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.github.ozsie&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;detekt-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.21.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;baseline&gt;${basedir}/build-config/detekt-baseline.xml&lt;/baseline&gt;\r\n\t\t\t\t\t&lt;config&gt;${basedir}/build-config/detekt.yml&lt;/config&gt;\r\n\t\t\t\t\t&lt;autoCorrect&gt;true&lt;/autoCorrect&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;&lt;goal&gt;check&lt;/goal&gt;&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;report&gt;\r\n\t\t\t\t\t\t\t\t&lt;report&gt;html:${project.build.directory}/reports/detekt/detekt-report.html&lt;/report&gt;\r\n\t\t\t\t\t\t\t\t&lt;report&gt;xml:${project.build.directory}/reports/detekt/detekt-report.xml&lt;/report&gt;\r\n\t\t\t\t\t\t\t&lt;/report&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;io.gitlab.arturbosch.detekt&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;detekt-formatting&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.21.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;apiDocsUrl&gt;${springdoc.url}&lt;/apiDocsUrl&gt;\r\n\t\t\t\t\t&lt;outputFileName&gt;${springdoc.filename}.json&lt;/outputFileName&gt;\r\n\t\t\t\t\t&lt;outputDir&gt;${project.build.directory}/springdoc/openapi3/&lt;/outputDir&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThis works without any problem. However, just upgrading to Spring Boot 2.7.8 I start getting a lots of failures in the tests with this message:\r\n\r\n```\r\norg.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class [Lorg.bson.Document;.)\r\n```\r\n\r\nThis seems very strange as the class `org.bson.Document` is in the core of the MongoDB driver. We don&#39;t have any custom codec configuration for MongoDB neither. However, maybe I&#39;m missing some change that I need to apply to my pom.xml so it can read it correctly.\r\n\r\nThanks for your help. ","title":"Error upgrading to Spring Boot 2.7.8 from 2.7.7","body":"<p>I have a project using Spring Boot 2.7.7 and MongoDB. I'm using the following pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;XXXXX&lt;/groupId&gt;\n    &lt;artifactId&gt;XXXX&lt;/artifactId&gt;\n    &lt;version&gt;2.9.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;XXXX&lt;/name&gt;\n    &lt;description&gt;XXXX&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;kotlin.version&gt;1.8.10&lt;/kotlin.version&gt;\n        &lt;kotlin.compiler.incremental&gt;true&lt;/kotlin.compiler.incremental&gt;\n        &lt;spring.cloud.stream.version&gt;3.1.2&lt;/spring.cloud.stream.version&gt;\n        &lt;release.train.version&gt;2021.0.5&lt;/release.train.version&gt;\n        &lt;jacoco.version&gt;0.8.8&lt;/jacoco.version&gt;\n        &lt;skip-jacoco&gt;false&lt;/skip-jacoco&gt;\n        &lt;surefireArgLine&gt;&lt;/surefireArgLine&gt;\n        &lt;failsafeArgLine&gt;&lt;/failsafeArgLine&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-kotlin-extensions&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.addons&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-extra&lt;/artifactId&gt;\n            &lt;version&gt;3.4.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-gateway-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gateway-core&lt;/artifactId&gt;\n            &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n            &lt;version&gt;2.11.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n            &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n            &lt;artifactId&gt;resilience4j-reactor&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure.sdk.iot&lt;/groupId&gt;\n            &lt;artifactId&gt;iot-service-client&lt;/artifactId&gt;\n            &lt;version&gt;1.26.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Cloud Stream Binder for Kafka --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\n            &lt;version&gt;${spring.cloud.stream.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\n            &lt;version&gt;${spring.cloud.stream.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.qpid&lt;/groupId&gt;\n            &lt;artifactId&gt;proton-j&lt;/artifactId&gt;\n            &lt;version&gt;0.33.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\n            &lt;version&gt;${spring.cloud.stream.version}&lt;/version&gt;\n            &lt;type&gt;test-jar&lt;/type&gt;\n            &lt;classifier&gt;test-binder&lt;/classifier&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-zipkin&lt;/artifactId&gt;\n            &lt;version&gt;2.2.8.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentracing.brave&lt;/groupId&gt;\n            &lt;artifactId&gt;brave-opentracing&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;opentracing-mongo-common&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Logging dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring tests --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- WebClient testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;4.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;mockwebserver3-junit5&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0-alpha.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-test-junit5&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ninja-squad&lt;/groupId&gt;\n            &lt;artifactId&gt;springmockk&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\n            &lt;artifactId&gt;archunit-junit5&lt;/artifactId&gt;\n            &lt;version&gt;0.22.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Swagger generation and UI --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-kotlin&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${release.train.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                    &lt;wait&gt;1000&lt;/wait&gt;\n                    &lt;maxAttempts&gt;180&lt;/maxAttempts&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                        &lt;plugin&gt;no-arg&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                    &lt;pluginOptions&gt;\n                        &lt;option&gt;no-arg:annotation=com.telefonica.haac.platform.filemon.common.core.mapping.Mappable&lt;/option&gt;\n                    &lt;/pluginOptions&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;sourceDir&gt;src/test/kotlin/unit&lt;/sourceDir&gt;\n                                &lt;sourceDir&gt;src/test/kotlin/integration&lt;/sourceDir&gt;\n                                &lt;sourceDir&gt;src/test/kotlin/common&lt;/sourceDir&gt;\n                                &lt;sourceDir&gt;src/test/kotlin/arch&lt;/sourceDir&gt;\n                            &lt;/sourceDirs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;@{surefireArgLine}&lt;/argLine&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*UnitTest.*&lt;/include&gt;\n                        &lt;include&gt;**/*ArchTest.*&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;properties&gt;\n                        &lt;configurationParameters&gt;\n                            junit.jupiter.execution.parallel.enabled = true\n                            junit.jupiter.execution.parallel.mode.default = same_thread\n                            junit.jupiter.execution.parallel.mode.classes.default = concurrent\n                        &lt;/configurationParameters&gt;\n                    &lt;/properties&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;@{failsafeArgLine}&lt;/argLine&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*IntegrationTest.*&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jacoco.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;${skip-jacoco}&lt;/skip&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;pre-unit-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;skip&gt;${skip-jacoco}&lt;/skip&gt;\n                            &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\n                            &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;post-unit-test&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;skip&gt;${skip-jacoco}&lt;/skip&gt;\n                            &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\n                            &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-ut&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;pre-integration-test&lt;/id&gt;\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;skip&gt;${skip-jacoco}&lt;/skip&gt;\n                            &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/destFile&gt;\n                            &lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;post-integration-test&lt;/id&gt;\n                        &lt;phase&gt;integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;skip&gt;${skip-jacoco}&lt;/skip&gt;\n                            &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/dataFile&gt;\n                            &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-it&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Detekt for check-styles --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.ozsie&lt;/groupId&gt;\n                &lt;artifactId&gt;detekt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.21.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;baseline&gt;${basedir}/build-config/detekt-baseline.xml&lt;/baseline&gt;\n                    &lt;config&gt;${basedir}/build-config/detekt.yml&lt;/config&gt;\n                    &lt;autoCorrect&gt;true&lt;/autoCorrect&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\n                        &lt;goals&gt;&lt;goal&gt;check&lt;/goal&gt;&lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;report&gt;\n                                &lt;report&gt;html:${project.build.directory}/reports/detekt/detekt-report.html&lt;/report&gt;\n                                &lt;report&gt;xml:${project.build.directory}/reports/detekt/detekt-report.xml&lt;/report&gt;\n                            &lt;/report&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;io.gitlab.arturbosch.detekt&lt;/groupId&gt;\n                        &lt;artifactId&gt;detekt-formatting&lt;/artifactId&gt;\n                        &lt;version&gt;1.21.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n                &lt;artifactId&gt;springdoc-openapi-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;apiDocsUrl&gt;${springdoc.url}&lt;/apiDocsUrl&gt;\n                    &lt;outputFileName&gt;${springdoc.filename}.json&lt;/outputFileName&gt;\n                    &lt;outputDir&gt;${project.build.directory}/springdoc/openapi3/&lt;/outputDir&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This works without any problem. However, just upgrading to Spring Boot 2.7.8 I start getting a lots of failures in the tests with this message:</p>\n<pre><code>org.bson.codecs.configuration.CodecConfigurationException: Can't find a codec for class [Lorg.bson.Document;.)\n</code></pre>\n<p>This seems very strange as the class <code>org.bson.Document</code> is in the core of the MongoDB driver. We don't have any custom codec configuration for MongoDB neither. However, maybe I'm missing some change that I need to apply to my pom.xml so it can read it correctly.</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","spring-boot","jdbc","spring-batch"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678310902,"post_id":75678016,"comment_id":133510207,"body_markdown":"Sorry it is not possible. Which &quot;item&quot; can you expect (except null), when &quot;read (of that item) fails&quot;?? (Who should lay the egg, when the hen died?) ... the best you could get: is some (relevant) information from exception (object), or the listener *has* this information (but not through interface methods).","body":"Sorry it is not possible. Which &quot;item&quot; can you expect (except null), when &quot;read (of that item) fails&quot;?? (Who should lay the egg, when the hen died?) ... the best you could get: is some (relevant) information from exception (object), or the listener <i>has</i> this information (but not through interface methods)."},{"owner":{"account_id":27640298,"reputation":11,"user_id":21097356,"display_name":"Akane"},"score":0,"creation_date":1678311720,"post_id":75678016,"comment_id":133510355,"body_markdown":"Thank you so much for you comment!!! :) I see. maybe print all the &quot;item&quot; in the `afterRead` might be the way to go for now. And if the exception is thrown, I will print the class name and message to see what was the cause.","body":"Thank you so much for you comment!!! :) I see. maybe print all the &quot;item&quot; in the <code>afterRead</code> might be the way to go for now. And if the exception is thrown, I will print the class name and message to see what was the cause."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678312098,"post_id":75678016,"comment_id":133510430,"body_markdown":"Welcome!&#128578; And to be &quot;less verbose&quot;/to save useless logging, you could also do nothing on/not implement `afterRead(T)` (but just focus on`ReadError`!?;) ..and though you cannot get the (successfully) &quot;read item&quot;, you can have all the information, the reader had at that &quot;line/row&quot;.. (when exception occurred)","body":"Welcome!🙂 And to be &quot;less verbose&quot;/to save useless logging, you could also do nothing on/not implement <code>afterRead(T)</code> (but just focus on<code>ReadError</code>!?;) ..and though you cannot get the (successfully) &quot;read item&quot;, you can have all the information, the reader had at that &quot;line/row&quot;.. (when exception occurred)"}],"owner":{"account_id":27640298,"reputation":11,"user_id":21097356,"display_name":"Akane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678313694,"creation_date":1678308055,"question_id":75678016,"body_markdown":"Hi I am working on spring batch project.\r\n\r\nThis project uses JdbcCursorItemReader and some times it throws a couple of sql exceptions. \r\nFor now, I do not really care if this happens. However, I would like to know what exception was thrown and what item had a problem causing the exception. \r\n\r\nI saw some people suggesting to use Listener in other posts.\r\n\r\nI have implemented the following code\r\n \r\n```groovy\r\n@Component\r\nclass SomeReaderListener implements ItemReadListener&lt;SomeEntity&gt; {\r\n  @Override\r\n  void before(){}\r\n\r\n  @Override\r\n  void afterRead(SomeEntity item) {\r\n    log.info(&quot;SomeEntity: ${item}&quot;);\r\n  }\r\n\r\n  @Override\r\n  void onReadError(Exception ex) {\r\n    log.info(&quot;SomeEntity: ${ex.getClass()}|${ex.getMessage()}&quot;);\r\n  }\r\n}\r\n```\r\n\r\nIn the log, it logs all the items as expected.\r\nHowever, what I want is only the logs of item if there was an exception thrown.\r\nBut how do I have access to the `item` in `onReadError`\r\n\r\n\r\n\r\n\r\nI thought of the following approach.\r\n 1. create arrayList as bean\r\n 2. add all the item into the arrayList in the `afterRead`\r\n 3. remove those item from the arrayList, unless exception is thrown `onReadError`. If there is an exception, then prints the item in the `onReadError` function as well.\r\n\r\n*** Edit:\r\nI just thought it does not have be the arrayList at all. Just create a bean of object and replace it in each step with arrayList. But I do not think I have ever seen such code. I still think it is very bad code.\r\n \r\n\r\nHowever, this approach seems extremely inefficient. The exception is not thrown very often and I have a couple thousand records. It does not make sense to add each record in the arrayList and remove it right after...\r\nAlso, I believe spring batch offers a way better way to do what I am trying.\r\nCan someone help me with it?","title":"How can I access each record in spring batch listener when exception is thrown?","body":"<p>Hi I am working on spring batch project.</p>\n<p>This project uses JdbcCursorItemReader and some times it throws a couple of sql exceptions.\nFor now, I do not really care if this happens. However, I would like to know what exception was thrown and what item had a problem causing the exception.</p>\n<p>I saw some people suggesting to use Listener in other posts.</p>\n<p>I have implemented the following code</p>\n<pre><code>@Component\nclass SomeReaderListener implements ItemReadListener&lt;SomeEntity&gt; {\n  @Override\n  void before(){}\n\n  @Override\n  void afterRead(SomeEntity item) {\n    log.info(&quot;SomeEntity: ${item}&quot;);\n  }\n\n  @Override\n  void onReadError(Exception ex) {\n    log.info(&quot;SomeEntity: ${ex.getClass()}|${ex.getMessage()}&quot;);\n  }\n}\n</code></pre>\n<p>In the log, it logs all the items as expected.\nHowever, what I want is only the logs of item if there was an exception thrown.\nBut how do I have access to the <code>item</code> in <code>onReadError</code></p>\n<p>I thought of the following approach.</p>\n<ol>\n<li>create arrayList as bean</li>\n<li>add all the item into the arrayList in the <code>afterRead</code></li>\n<li>remove those item from the arrayList, unless exception is thrown <code>onReadError</code>. If there is an exception, then prints the item in the <code>onReadError</code> function as well.</li>\n</ol>\n<p>*** Edit:\nI just thought it does not have be the arrayList at all. Just create a bean of object and replace it in each step with arrayList. But I do not think I have ever seen such code. I still think it is very bad code.</p>\n<p>However, this approach seems extremely inefficient. The exception is not thrown very often and I have a couple thousand records. It does not make sense to add each record in the arrayList and remove it right after...\nAlso, I believe spring batch offers a way better way to do what I am trying.\nCan someone help me with it?</p>\n"},{"tags":["java","eclipse","maven"],"answers":[{"tags":[],"owner":{"account_id":916980,"reputation":8820,"user_id":2580516,"display_name":"Warren Dew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400313494,"creation_date":1400313494,"answer_id":23708989,"question_id":23708691,"body_markdown":"The warnings occur because the .pom files for your build - your project and its dependencies - contain information that appears to conflict or is missing.  The maven implementation happens to run anyway, but they might want to clean up a future version of maven to address the issues more cleanly, at which point it might not handle these issues any more.\r\n\r\nThis is unlikely to cause a problem until you update maven versions.  Given your description of your experience with maven, I&#39;d recommend leaving it alone until you have more experience and can address it comfortably.  In the meantime, the warnings will be there to remind you.","title":"Maven/mvn warnings - It is highly recommended to fix these problems because they threaten the stability of your build","body":"<p>The warnings occur because the .pom files for your build - your project and its dependencies - contain information that appears to conflict or is missing.  The maven implementation happens to run anyway, but they might want to clean up a future version of maven to address the issues more cleanly, at which point it might not handle these issues any more.</p>\n\n<p>This is unlikely to cause a problem until you update maven versions.  Given your description of your experience with maven, I'd recommend leaving it alone until you have more experience and can address it comfortably.  In the meantime, the warnings will be there to remind you.</p>\n"},{"tags":[],"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1400324447,"creation_date":1400324447,"answer_id":23710494,"question_id":23708691,"body_markdown":"most of the time these warningns pop up because, when you where defining your dependencies in your pom file you forgot to specify the attributes needed for depenceny (artifactID, groupId, version).\r\nusually this dosent make any problem unless you have to use an specific version of a dependency.  ","title":"Maven/mvn warnings - It is highly recommended to fix these problems because they threaten the stability of your build","body":"<p>most of the time these warningns pop up because, when you where defining your dependencies in your pom file you forgot to specify the attributes needed for depenceny (artifactID, groupId, version).\nusually this dosent make any problem unless you have to use an specific version of a dependency.  </p>\n"},{"tags":[],"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"comment_count":0,"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1581806680,"creation_date":1400362817,"answer_id":23716338,"question_id":23708691,"body_markdown":"Open your pom file. Look at the missing classes in your error. In your pom file, find the dependencies which would contain those classes and then read the next steps.\r\n\r\nYou have two warnings. The first warns you that you have the same dependency declared twice, but with different versions. When you are using classes from org.apache.httpcomponents:httpclient, how is Maven to know you want classes from 4.1.2, or 4.0.3? Delete the dependency tag for one of them.\r\n\r\nThe second warning says that the plugin org.codehaus.mojo:tomcat-maven-plugin is declared without a version. When you declare a dependency or plugin, you should always use a version as well, unless the version is inherited from a pluginManagement or dependencyManagement section. To fix this problem, find the plugin under `&lt;build&gt;&lt;plugins&gt;`, and explicitly set a version to use.\r\n\r\nYou can get your version number for eclipse (if you installed it) using - Click Window –&gt; Preferences –&gt; Maven –&gt; Installation . It will show you installation window with Maven version.","title":"Maven/mvn warnings - It is highly recommended to fix these problems because they threaten the stability of your build","body":"<p>Open your pom file. Look at the missing classes in your error. In your pom file, find the dependencies which would contain those classes and then read the next steps.</p>\n\n<p>You have two warnings. The first warns you that you have the same dependency declared twice, but with different versions. When you are using classes from org.apache.httpcomponents:httpclient, how is Maven to know you want classes from 4.1.2, or 4.0.3? Delete the dependency tag for one of them.</p>\n\n<p>The second warning says that the plugin org.codehaus.mojo:tomcat-maven-plugin is declared without a version. When you declare a dependency or plugin, you should always use a version as well, unless the version is inherited from a pluginManagement or dependencyManagement section. To fix this problem, find the plugin under <code>&lt;build&gt;&lt;plugins&gt;</code>, and explicitly set a version to use.</p>\n\n<p>You can get your version number for eclipse (if you installed it) using - Click Window –> Preferences –> Maven –> Installation . It will show you installation window with Maven version.</p>\n"},{"tags":[],"owner":{"account_id":12510916,"reputation":265,"user_id":9106074,"display_name":"Null Pointer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661932213,"creation_date":1661932213,"answer_id":73552534,"question_id":23708691,"body_markdown":"In my case, it is giving warning because I kept same dependency multiple times.\r\nRemove one and warning gone.\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nRemove one and solved !! :)","title":"Maven/mvn warnings - It is highly recommended to fix these problems because they threaten the stability of your build","body":"<p>In my case, it is giving warning because I kept same dependency multiple times.\nRemove one and warning gone.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Remove one and solved !! :)</p>\n"},{"tags":[],"owner":{"account_id":27969239,"reputation":1,"user_id":21359336,"display_name":"sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678313150,"creation_date":1678313105,"answer_id":75678671,"question_id":23708691,"body_markdown":"I also have the same error, as i have by mistake put same &quot;dependency&quot;  two times in pom.xml file\r\nAfter removing it,  Build is sucessfull.","title":"Maven/mvn warnings - It is highly recommended to fix these problems because they threaten the stability of your build","body":"<p>I also have the same error, as i have by mistake put same &quot;dependency&quot;  two times in pom.xml file\nAfter removing it,  Build is sucessfull.</p>\n"}],"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96318,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"accepted_answer_id":23716338,"answer_count":5,"score":28,"last_activity_date":1678313150,"creation_date":1400311040,"question_id":23708691,"body_markdown":"This question is NOT about the Spring framework or J2EE as such. \r\n\r\nAs per my book, I have a Spring project in eclipse-jee. It tells me to build the project with maven. I am new to maven and I don&#39;t know what I am doing with it. \r\n\r\nSo, I used windows cmd to get to my project folder in eclipse and executed `mvn package -DskipTests`. Now, this succeeds with a `BUILD SUCCESS` message, but it also gives me warnings\r\ngiven below. \r\n\r\nPlease tell me why the warnings occur and how can ignoring them could affect the code in the future ? \r\n\r\n    [INFO] Scanning for projects...\r\n    [WARNING]\r\n    [WARNING] Some problems were encountered while building the effective model for\r\n    com.perfmath.spring:soba:war:4\r\n    [WARNING] &#39;dependencies.dependency.(groupId:artifactId:type:classifier)&#39; must be\r\n     unique: org.apache.httpcomponents:httpclient:jar -&gt; version 4.1.2 vs 4.0.3 @ li\r\n    ne 229, column 15\r\n    [WARNING] &#39;build.plugins.plugin.version&#39; for org.codehaus.mojo:tomcat-maven-plug\r\n    in is missing. @ line 46, column 12\r\n    [WARNING]\r\n    [WARNING] It is highly recommended to fix these problems because they threaten t\r\n    he stability of your build.\r\n    [WARNING]\r\n    [WARNING] For this reason, future Maven versions might no longer support buildin\r\n    g such malformed projects.\r\n    [WARNING]\r\n\r\n\r\n**Dependencies section of my pom.xml -** \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.14&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-acl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-core-tiger&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.7.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-mock&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-mock.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Spring webflow --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.webflow&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-binding&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.webflow.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.webflow&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-js&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.webflow.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.webflow&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webflow&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.webflow.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jackson-mapper-asl.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jaxb-api.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hibenate.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hibenate.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hibenate.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.3.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;taglibs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;standard&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-pool&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20030825.183949&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.easymock&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;easymock&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n","title":"Maven/mvn warnings - It is highly recommended to fix these problems because they threaten the stability of your build","body":"<p>This question is NOT about the Spring framework or J2EE as such. </p>\n\n<p>As per my book, I have a Spring project in eclipse-jee. It tells me to build the project with maven. I am new to maven and I don't know what I am doing with it. </p>\n\n<p>So, I used windows cmd to get to my project folder in eclipse and executed <code>mvn package -DskipTests</code>. Now, this succeeds with a <code>BUILD SUCCESS</code> message, but it also gives me warnings\ngiven below. </p>\n\n<p>Please tell me why the warnings occur and how can ignoring them could affect the code in the future ? </p>\n\n<pre><code>[INFO] Scanning for projects...\n[WARNING]\n[WARNING] Some problems were encountered while building the effective model for\ncom.perfmath.spring:soba:war:4\n[WARNING] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be\n unique: org.apache.httpcomponents:httpclient:jar -&gt; version 4.1.2 vs 4.0.3 @ li\nne 229, column 15\n[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:tomcat-maven-plug\nin is missing. @ line 46, column 12\n[WARNING]\n[WARNING] It is highly recommended to fix these problems because they threaten t\nhe stability of your build.\n[WARNING]\n[WARNING] For this reason, future Maven versions might no longer support buildin\ng such malformed projects.\n[WARNING]\n</code></pre>\n\n<p><strong>Dependencies section of my pom.xml -</strong> </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.14&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;${spring-security.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;${spring-security.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n        &lt;version&gt;${spring-security.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-acl&lt;/artifactId&gt;\n        &lt;version&gt;${spring-security.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-core-tiger&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\n        &lt;version&gt;${spring-security.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-mock&lt;/artifactId&gt;\n        &lt;version&gt;${spring-mock.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Spring webflow --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.webflow&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-binding&lt;/artifactId&gt;\n        &lt;version&gt;${spring.webflow.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.webflow&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-js&lt;/artifactId&gt;\n        &lt;version&gt;${spring.webflow.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.webflow&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webflow&lt;/artifactId&gt;\n        &lt;version&gt;${spring.webflow.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;${jackson-mapper-asl.version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;${jaxb-api.version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;${hibenate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;${hibenate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n        &lt;version&gt;${hibenate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;4.3.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.6.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;taglibs&lt;/groupId&gt;\n        &lt;artifactId&gt;standard&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-pool&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-pool&lt;/artifactId&gt;\n        &lt;version&gt;20030825.183949&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.easymock&lt;/groupId&gt;\n        &lt;artifactId&gt;easymock&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n        &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","lombok","builder"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1678312351,"post_id":75678505,"comment_id":133510486,"body_markdown":"You can&#39;t mess with a class that doesn&#39;t want you to mess with it, and &#39;I have a private constructor&#39;, and the `final`-ness of it, says: Do not mess with me. If you can&#39;t change `Example` there is nothing you can do short of resorting to rewriting the class file or otherwise hacking the JVM which is just a cheeky way of modifying Example.","body":"You can&#39;t mess with a class that doesn&#39;t want you to mess with it, and &#39;I have a private constructor&#39;, and the <code>final</code>-ness of it, says: Do not mess with me. If you can&#39;t change <code>Example</code> there is nothing you can do short of resorting to rewriting the class file or otherwise hacking the JVM which is just a cheeky way of modifying Example."}],"owner":{"account_id":5260590,"reputation":210,"user_id":4202236,"display_name":"user4202236"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678311714,"creation_date":1678311714,"question_id":75678505,"body_markdown":"I have a class which I cannot modify due to various things that depend on it. \r\n\r\n    @builder\r\n    class Example {\r\n        public boolean isAvailable(){\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\nNow I want to create a mocked version of this class where I can override the isAvailable method. \r\nSince this class does not have a public constructor and uses @builder lombok annotation, I cannot really have following:\r\n\r\n    Example e = new Example () {\r\n        @override\r\n        public boolean isAvailable() {\r\n            return true;\r\n        }\r\n    }\r\n\r\nSo I have to have \r\n\r\n    Example e = Example.builder().build();\r\n\r\nNot sure how can I overrirde the isAvailable method in this case?\r\nNote - writing a public constructor in Example class is not an option for me. \r\n\r\n\r\n","title":"How to override methods for class instance created using builder annotation","body":"<p>I have a class which I cannot modify due to various things that depend on it.</p>\n<pre><code>@builder\nclass Example {\n    public boolean isAvailable(){\n        return false;\n    }\n}\n</code></pre>\n<p>Now I want to create a mocked version of this class where I can override the isAvailable method.\nSince this class does not have a public constructor and uses @builder lombok annotation, I cannot really have following:</p>\n<pre><code>Example e = new Example () {\n    @override\n    public boolean isAvailable() {\n        return true;\n    }\n}\n</code></pre>\n<p>So I have to have</p>\n<pre><code>Example e = Example.builder().build();\n</code></pre>\n<p>Not sure how can I overrirde the isAvailable method in this case?\nNote - writing a public constructor in Example class is not an option for me.</p>\n"},{"tags":["java","maven","recursion","comparison","assertj"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1678312659,"post_id":75678339,"comment_id":133510548,"body_markdown":"Why do you need to compare such big amounts of objects? Why are two owners with two or three different assignments not enough for your unit tests?","body":"Why do you need to compare such big amounts of objects? Why are two owners with two or three different assignments not enough for your unit tests?"},{"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"score":0,"creation_date":1678393354,"post_id":75678339,"comment_id":133528691,"body_markdown":"could you raise an issue in https://github.com/assertj/assertj/issues with a test reproducing the behavior? thanks!","body":"could you raise an issue in <a href=\"https://github.com/assertj/assertj/issues\" rel=\"nofollow noreferrer\">github.com/assertj/assertj/issues</a> with a test reproducing the behavior? thanks!"},{"owner":{"account_id":5387431,"reputation":13,"user_id":4290894,"display_name":"Amit"},"score":0,"creation_date":1678527147,"post_id":75678339,"comment_id":133552554,"body_markdown":"@JoelCostigliola thanks for the response. I have raised an issue as suggested. https://github.com/assertj/assertj/issues/2979","body":"@JoelCostigliola thanks for the response. I have raised an issue as suggested. <a href=\"https://github.com/assertj/assertj/issues/2979\" rel=\"nofollow noreferrer\">github.com/assertj/assertj/issues/2979</a>"}],"owner":{"account_id":5387431,"reputation":13,"user_id":4290894,"display_name":"Amit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678311259,"creation_date":1678310405,"question_id":75678339,"body_markdown":"I hope you would suggest me something as I am quite new to Java world and trying to work with **assertj-core** [recursive comparison APIs][1] for deep comparison between the objects as follows. But it appears that it doesn&#39;t work when we pass collections of custom objects for deep comparison when they are large in number for example even for 50 or 100, the comparison takes forever.\r\n\r\nLet me share you the code chunks to look at.\r\n\r\n```\r\nclass Owner\r\n{\r\n   String id;\r\n   String name;\r\n   ArrayList&lt;Assignment&gt; assignments;\r\n\r\n   Owner(String id,String name, ArrayList&lt;Assignment&gt; assignments)\r\n   {\r\n      this.id = id;\r\n      this.name = name;\r\n      this.assignments = assignments;\r\n   }\r\n}\r\n\r\nclass Assignment\r\n{\r\n   String assignmentName;\r\n   String assignmentDescription;\r\n   \r\n   Assignment(String assignmentName, String assignmentDescription)\r\n   {\r\n     this.assignmentName = assignmentName;\r\n     this.assignmentDescription = assignmentDescription;\r\n   }\r\n}\r\n```\r\n\r\nFrom above model, I am generating a list 100 owners and each having 20 assignments. Similarly another list 100 owners with 20 assignments each.\r\n\r\nNow when I start comparing them with **assertj** RecursiveComparisonDifferenceCalculator , the comparison takes forever.\r\n\r\nBelow is the sample code I have to get the difference between two objects.\r\n\r\n    \r\n    var config = RecursiveComparisonConfiguration();\r\n        \r\n    var difference = new RecursiveComparisonDifferenceCalculator.determineDifferences(list1owners, list2owners, config);\r\n    \r\n\r\nI have tried setting the properties of the **RecursiveComparisonConfiguration** object as follows but it doesn&#39;t seem work and the comparison is kind of stuck.\r\n\r\n    config.ignoreCollectionOrder(false);\r\n\r\nNot sure, but I thought the above setting would make list comparison to work index wise like first object of the list be compared with first object of the another list and so on, but that too doesn&#39;t seem to work either and the comparison still takes a significant time.\r\n\r\nPlease guide with all the possible suggestions/solutions you guys might have, I will try to follow them.\r\n\r\n\r\n  [1]: https://www.javadoc.io/static/org.assertj/assertj-core/3.13.2/org/assertj/core/api/recursive/comparison/RecursiveComparisonDifferenceCalculator.html#determineDifferences(java.lang.Object,java.lang.Object,org.assertj.core.api.recursive.comparison.RecursiveComparisonConfiguration)","title":"determineDifferences method of RecursiveComparisonDifferenceCalculator not able to compare the list of 100 objects","body":"<p>I hope you would suggest me something as I am quite new to Java world and trying to work with <strong>assertj-core</strong> <a href=\"https://www.javadoc.io/static/org.assertj/assertj-core/3.13.2/org/assertj/core/api/recursive/comparison/RecursiveComparisonDifferenceCalculator.html#determineDifferences(java.lang.Object,java.lang.Object,org.assertj.core.api.recursive.comparison.RecursiveComparisonConfiguration)\" rel=\"nofollow noreferrer\">recursive comparison APIs</a> for deep comparison between the objects as follows. But it appears that it doesn't work when we pass collections of custom objects for deep comparison when they are large in number for example even for 50 or 100, the comparison takes forever.</p>\n<p>Let me share you the code chunks to look at.</p>\n<pre><code>class Owner\n{\n   String id;\n   String name;\n   ArrayList&lt;Assignment&gt; assignments;\n\n   Owner(String id,String name, ArrayList&lt;Assignment&gt; assignments)\n   {\n      this.id = id;\n      this.name = name;\n      this.assignments = assignments;\n   }\n}\n\nclass Assignment\n{\n   String assignmentName;\n   String assignmentDescription;\n   \n   Assignment(String assignmentName, String assignmentDescription)\n   {\n     this.assignmentName = assignmentName;\n     this.assignmentDescription = assignmentDescription;\n   }\n}\n</code></pre>\n<p>From above model, I am generating a list 100 owners and each having 20 assignments. Similarly another list 100 owners with 20 assignments each.</p>\n<p>Now when I start comparing them with <strong>assertj</strong> RecursiveComparisonDifferenceCalculator , the comparison takes forever.</p>\n<p>Below is the sample code I have to get the difference between two objects.</p>\n<pre><code>var config = RecursiveComparisonConfiguration();\n    \nvar difference = new RecursiveComparisonDifferenceCalculator.determineDifferences(list1owners, list2owners, config);\n</code></pre>\n<p>I have tried setting the properties of the <strong>RecursiveComparisonConfiguration</strong> object as follows but it doesn't seem work and the comparison is kind of stuck.</p>\n<pre><code>config.ignoreCollectionOrder(false);\n</code></pre>\n<p>Not sure, but I thought the above setting would make list comparison to work index wise like first object of the list be compared with first object of the another list and so on, but that too doesn't seem to work either and the comparison still takes a significant time.</p>\n<p>Please guide with all the possible suggestions/solutions you guys might have, I will try to follow them.</p>\n"},{"tags":["java","spring-boot","spring-mvc","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678311161,"creation_date":1678311161,"answer_id":75678437,"question_id":75678054,"body_markdown":"I&#39;m pretty sure Spring Data Redis does not support the `@CreatedDate` and related annotations for automatic auditing. Those annotations don&#39;t do anything on their own, they&#39;re just markers. In order for something to actually happen, there has to be a Spring component that looks for them and takes some action. For JPA/Hibernate, there is the `@EnableJpaAuditing` annotation that you have to use to get it working. \r\n\r\nI don&#39;t find any reference to the auditing annotations in the [Spring Data Redis documentation][1], which means you probably have to implement it yourself through another mechanism. Spring Data Redis might have some callback mechanism, similar to JPA; that&#39;s where I would start with building a solution.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/","title":"Set created and updated date in a Redis key-value pair with Spring Boot","body":"<p>I'm pretty sure Spring Data Redis does not support the <code>@CreatedDate</code> and related annotations for automatic auditing. Those annotations don't do anything on their own, they're just markers. In order for something to actually happen, there has to be a Spring component that looks for them and takes some action. For JPA/Hibernate, there is the <code>@EnableJpaAuditing</code> annotation that you have to use to get it working.</p>\n<p>I don't find any reference to the auditing annotations in the <a href=\"https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/\" rel=\"nofollow noreferrer\">Spring Data Redis documentation</a>, which means you probably have to implement it yourself through another mechanism. Spring Data Redis might have some callback mechanism, similar to JPA; that's where I would start with building a solution.</p>\n"}],"owner":{"account_id":13804110,"reputation":302,"user_id":9963435,"display_name":"thenocturnalguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678311161,"creation_date":1678308306,"question_id":75678054,"body_markdown":"I am trying to set the creation timestamp and the updation timestamp in a Redis item just like we have in Hibernate and Spring Data JPA but it is just setting those fields to null.\r\n\r\n```\r\n@CreatedDate\r\nprivate Date createdAt;\r\n\r\n@LastModifiedDate\r\nprivate Date modifiedAt;\r\n```\r\n\r\nI am using the following dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBelow is the code that I am using:\r\n\r\n```\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\n@RedisHash(value = PersistenceConstants.HASH_CART)\r\npublic class Cart implements Serializable {\r\n    \r\n    @Id\r\n    private UUID id;\r\n\r\n    @NotNull\r\n    private long customerId;\r\n\r\n    private List&lt;Item&gt; items;\r\n\r\n    @CreatedDate\r\n    private Date createdAt;\r\n\r\n    @LastModifiedDate\r\n    private Date modifiedAt;\r\n}\r\n```","title":"Set created and updated date in a Redis key-value pair with Spring Boot","body":"<p>I am trying to set the creation timestamp and the updation timestamp in a Redis item just like we have in Hibernate and Spring Data JPA but it is just setting those fields to null.</p>\n<pre><code>@CreatedDate\nprivate Date createdAt;\n\n@LastModifiedDate\nprivate Date modifiedAt;\n</code></pre>\n<p>I am using the following dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Below is the code that I am using:</p>\n<pre><code>@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@ToString\n@RedisHash(value = PersistenceConstants.HASH_CART)\npublic class Cart implements Serializable {\n    \n    @Id\n    private UUID id;\n\n    @NotNull\n    private long customerId;\n\n    private List&lt;Item&gt; items;\n\n    @CreatedDate\n    private Date createdAt;\n\n    @LastModifiedDate\n    private Date modifiedAt;\n}\n</code></pre>\n"},{"tags":["java","spring","get-mapping"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678300310,"creation_date":1678300310,"answer_id":75676901,"question_id":75676878,"body_markdown":"Set `required = false` in the annotation to make it optional.\r\n\r\n```java\r\npublic String conc(@RequestParam(&quot;c1&quot;) String con1, \r\n                   @RequestParam(name = &quot;c2&quot;, required = false) String con2){\r\n\treturn stringService.conc(con1, con2 != null ? con2 : &quot;&quot;);\r\n}\r\n```","title":"How to handle a @RequestParam not defined","body":"<p>Set <code>required = false</code> in the annotation to make it optional.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String conc(@RequestParam(&quot;c1&quot;) String con1, \n                   @RequestParam(name = &quot;c2&quot;, required = false) String con2){\n    return stringService.conc(con1, con2 != null ? con2 : &quot;&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27745639,"reputation":3,"user_id":21181202,"display_name":"CookieXIV"},"score":0,"creation_date":1678355069,"post_id":75676913,"comment_id":133517454,"body_markdown":"easiest and most efficient! that is great! didn&#39;t really knew you could have a &quot;required&quot; thing that&#39;s so much helpful!","body":"easiest and most efficient! that is great! didn&#39;t really knew you could have a &quot;required&quot; thing that&#39;s so much helpful!"}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678300371,"creation_date":1678300371,"answer_id":75676913,"question_id":75676878,"body_markdown":"You can specify a default value in `@RequestParam`: `@RequestParam(name = &quot;yourParameterName&quot;, defaultValue = &quot;yourParameterDefaultValue&quot;)`\r\n\r\nHere, I just use an empty String as the default value:\r\n```java\r\n@GetMapping(&quot;/concat&quot;)\r\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(name=&quot;c2&quot;,defaultValue = &quot;&quot;) String con2){\r\n    return stringService.conc(con1, con2);\r\n}\r\n```\r\n\r\nThis will concatenate it with the empty string. Requesting `/concat?c1=a` will call `conc(&quot;a&quot;,&quot;&quot;)`.\r\n\r\nAlternatively, you can use `required=false` and do an explicit null check:\r\n\r\n```java\r\n@GetMapping(&quot;/concat&quot;)\r\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(name = &quot;c2&quot;, required = false) String con2){\r\n    if(con2 == null){\r\n        return con1;\r\n    }else{\r\n        return stringService.conc(con1, con2);\r\n    }\r\n}\r\n```\r\n\r\nRequesting `/concat?c1=a` will call `conc(&quot;a&quot;,null)`.","title":"How to handle a @RequestParam not defined","body":"<p>You can specify a default value in <code>@RequestParam</code>: <code>@RequestParam(name = &quot;yourParameterName&quot;, defaultValue = &quot;yourParameterDefaultValue&quot;)</code></p>\n<p>Here, I just use an empty String as the default value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/concat&quot;)\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(name=&quot;c2&quot;,defaultValue = &quot;&quot;) String con2){\n    return stringService.conc(con1, con2);\n}\n</code></pre>\n<p>This will concatenate it with the empty string. Requesting <code>/concat?c1=a</code> will call <code>conc(&quot;a&quot;,&quot;&quot;)</code>.</p>\n<p>Alternatively, you can use <code>required=false</code> and do an explicit null check:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/concat&quot;)\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(name = &quot;c2&quot;, required = false) String con2){\n    if(con2 == null){\n        return con1;\n    }else{\n        return stringService.conc(con1, con2);\n    }\n}\n</code></pre>\n<p>Requesting <code>/concat?c1=a</code> will call <code>conc(&quot;a&quot;,null)</code>.</p>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678310456,"creation_date":1678310456,"answer_id":75678346,"question_id":75676878,"body_markdown":"One option is to use `required = false` as suggested, but you can also take advantage of [Optional][1] as follows:\r\n\r\n```java\r\n@GetMapping(&quot;/concat&quot;)\r\npublic String conc(@RequestParam(&quot;c1&quot;) String con1, @RequestParam(&quot;c2&quot;) Optional&lt;String&gt; con2){\r\n\treturn con2.map(i-&gt;stringService.conc(con1, i)).orElse(con1);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"How to handle a @RequestParam not defined","body":"<p>One option is to use <code>required = false</code> as suggested, but you can also take advantage of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">Optional</a> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/concat&quot;)\npublic String conc(@RequestParam(&quot;c1&quot;) String con1, @RequestParam(&quot;c2&quot;) Optional&lt;String&gt; con2){\n    return con2.map(i-&gt;stringService.conc(con1, i)).orElse(con1);\n}\n</code></pre>\n"}],"owner":{"account_id":27745639,"reputation":3,"user_id":21181202,"display_name":"CookieXIV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75676913,"answer_count":3,"score":0,"last_activity_date":1678310456,"creation_date":1678300109,"question_id":75676878,"body_markdown":"So, as the title says i have this piece of code here\r\n```java\r\n@GetMapping(&quot;/concat&quot;)\r\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(&quot;c2&quot;) String con2){\r\n    return stringService.conc(con1, con2);\r\n}\r\n```\r\nwhich just return a string concatenated  with another string. my problem here is, i want to NOT define the &quot;c2&quot; param and either says it&#39;s null or say nothing at all as it NEEDS to work with even just one param. \r\n\r\nhow do i achieve that?\r\n\r\ni tried this \r\n```java\r\n@GetMapping(&quot;/concat&quot;)\r\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(&quot;c2&quot;) String con2){\r\n    if(con2 == null){\r\n        return con1;\r\n    }else{\r\n        return stringService.conc(con1, con2);\r\n    }\r\n}\r\n``` \r\nit obviously didn&#39;t work and i don&#39;t know how to use `@ExceptionHandler` (if that is the solution)","title":"How to handle a @RequestParam not defined","body":"<p>So, as the title says i have this piece of code here</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/concat&quot;)\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(&quot;c2&quot;) String con2){\n    return stringService.conc(con1, con2);\n}\n</code></pre>\n<p>which just return a string concatenated  with another string. my problem here is, i want to NOT define the &quot;c2&quot; param and either says it's null or say nothing at all as it NEEDS to work with even just one param.</p>\n<p>how do i achieve that?</p>\n<p>i tried this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/concat&quot;)\npublic String conc(@RequestParam(&quot;c1&quot;) String con1,@RequestParam(&quot;c2&quot;) String con2){\n    if(con2 == null){\n        return con1;\n    }else{\n        return stringService.conc(con1, con2);\n    }\n}\n</code></pre>\n<p>it obviously didn't work and i don't know how to use <code>@ExceptionHandler</code> (if that is the solution)</p>\n"},{"tags":["java","arrays","long-integer","bit-shift"],"answers":[{"tags":[],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678310409,"creation_date":1678310037,"answer_id":75678294,"question_id":75678293,"body_markdown":"According to [Patrick][1]&#39;s answer [here][2], for a `long[]` would be \r\n\r\n**Left Shift &lt;&lt;**\r\n\r\n    public static long[] shiftLeft(long[] longArray, int shiftBitCount) {\r\n        final int shiftMod = shiftBitCount % 64;\r\n        final long carryMask = ((1 &lt;&lt; shiftMod) - 1);\r\n        final int offsetLongs = (shiftBitCount / 64);\r\n\r\n        int sourceIndex;\r\n        for (int i = 0; i &lt; longArray.length; i++) {\r\n            sourceIndex = i + offsetLongs;\r\n            if (sourceIndex &gt;= longArray.length) {\r\n                longArray[i] = 0;\r\n            } else {\r\n                long src = longArray[sourceIndex];\r\n                long dst = (long) (src &lt;&lt; shiftMod);\r\n                if (sourceIndex + 1 &lt; longArray.length) {\r\n                    dst |= longArray[sourceIndex + 1] &gt;&gt;&gt; (64 - shiftMod) &amp; carryMask;\r\n                }\r\n                longArray[i] = dst;\r\n            }\r\n        }\r\n        return longArray;\r\n    }\r\n\r\n\r\n**Unsigned Right Shift &gt;&gt;&gt;**\r\n\r\n    public static long[] shiftRight(long[] longArray, int shiftBitCount) {\r\n        final int shiftMod = shiftBitCount % 64;\r\n        final long carryMask = 0xFFFFFFFFFFFFFFFFL  &lt;&lt; (64 - shiftMod);\r\n        final int offsetLongs = (shiftBitCount / 64);\r\n\r\n        int sourceIndex;\r\n        for (int i = longArray.length - 1; i &gt;= 0; i--) {\r\n            sourceIndex = i - offsetLongs;\r\n            if (sourceIndex &lt; 0) {\r\n                longArray[i] = 0;\r\n            } else {\r\n                long src = longArray[sourceIndex];\r\n                long dst =  src &gt;&gt;&gt; shiftMod;\r\n                if (sourceIndex - 1 &gt;= 0) {\r\n                    dst |= longArray[sourceIndex - 1] &lt;&lt; (64 - shiftMod) &amp; carryMask;\r\n                }\r\n                longArray[i] = dst;\r\n            }\r\n        }\r\n        return longArray;\r\n    }\r\n\r\n**Example**\r\n        \r\n        \r\n      public static void main(String[] args) {\r\n            int shift = 18;//n\r\n            long[] values = new long[]{\r\n                    0b1011010011111111001100111000000100110011101101110010001011100001L,\r\n                    0b1011010011111111001100111000000100110011101101110010001011100001L};\r\n            show(&quot;input: &quot;,values);\r\n            \r\n            shiftRight(values,shift);\r\n            show(&quot;output{&gt;&gt;&gt;&quot;+shift+&quot;}: &quot;,values);\r\n            //shiftLeft(values,shift);\r\n            //show(&quot;output{ &lt;&lt;&quot;+shift+&quot;}: &quot;,values);\r\n        }\r\n        \r\n        public static void show(String message,long[] values){\r\n            String input = &quot;&quot;;\r\n            for (int i = 0; i &lt; values.length; i++) {\r\n                long value = values[i];\r\n                input += String.format(&quot;%64s&quot;, Long.toBinaryString(value)).replace(&#39; &#39;, &#39;0&#39;);\r\n            }System.out.println(message+input);\r\n        }\r\n\r\n  [1]: https://stackoverflow.com/users/774398/patrick\r\n  [2]: https://stackoverflow.com/a/47231300","title":"Bit shift operations on a long array in Java","body":"<p>According to <a href=\"https://stackoverflow.com/users/774398/patrick\">Patrick</a>'s answer <a href=\"https://stackoverflow.com/a/47231300\">here</a>, for a <code>long[]</code> would be</p>\n<p><strong>Left Shift &lt;&lt;</strong></p>\n<pre><code>public static long[] shiftLeft(long[] longArray, int shiftBitCount) {\n    final int shiftMod = shiftBitCount % 64;\n    final long carryMask = ((1 &lt;&lt; shiftMod) - 1);\n    final int offsetLongs = (shiftBitCount / 64);\n\n    int sourceIndex;\n    for (int i = 0; i &lt; longArray.length; i++) {\n        sourceIndex = i + offsetLongs;\n        if (sourceIndex &gt;= longArray.length) {\n            longArray[i] = 0;\n        } else {\n            long src = longArray[sourceIndex];\n            long dst = (long) (src &lt;&lt; shiftMod);\n            if (sourceIndex + 1 &lt; longArray.length) {\n                dst |= longArray[sourceIndex + 1] &gt;&gt;&gt; (64 - shiftMod) &amp; carryMask;\n            }\n            longArray[i] = dst;\n        }\n    }\n    return longArray;\n}\n</code></pre>\n<p><strong>Unsigned Right Shift &gt;&gt;&gt;</strong></p>\n<pre><code>public static long[] shiftRight(long[] longArray, int shiftBitCount) {\n    final int shiftMod = shiftBitCount % 64;\n    final long carryMask = 0xFFFFFFFFFFFFFFFFL  &lt;&lt; (64 - shiftMod);\n    final int offsetLongs = (shiftBitCount / 64);\n\n    int sourceIndex;\n    for (int i = longArray.length - 1; i &gt;= 0; i--) {\n        sourceIndex = i - offsetLongs;\n        if (sourceIndex &lt; 0) {\n            longArray[i] = 0;\n        } else {\n            long src = longArray[sourceIndex];\n            long dst =  src &gt;&gt;&gt; shiftMod;\n            if (sourceIndex - 1 &gt;= 0) {\n                dst |= longArray[sourceIndex - 1] &lt;&lt; (64 - shiftMod) &amp; carryMask;\n            }\n            longArray[i] = dst;\n        }\n    }\n    return longArray;\n}\n</code></pre>\n<p><strong>Example</strong></p>\n<pre><code>  public static void main(String[] args) {\n        int shift = 18;//n\n        long[] values = new long[]{\n                0b1011010011111111001100111000000100110011101101110010001011100001L,\n                0b1011010011111111001100111000000100110011101101110010001011100001L};\n        show(&quot;input: &quot;,values);\n        \n        shiftRight(values,shift);\n        show(&quot;output{&gt;&gt;&gt;&quot;+shift+&quot;}: &quot;,values);\n        //shiftLeft(values,shift);\n        //show(&quot;output{ &lt;&lt;&quot;+shift+&quot;}: &quot;,values);\n    }\n    \n    public static void show(String message,long[] values){\n        String input = &quot;&quot;;\n        for (int i = 0; i &lt; values.length; i++) {\n            long value = values[i];\n            input += String.format(&quot;%64s&quot;, Long.toBinaryString(value)).replace(' ', '0');\n        }System.out.println(message+input);\n    }\n</code></pre>\n"}],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678310409,"creation_date":1678310037,"question_id":75678293,"body_markdown":"How does one shift a long array n positions to the right or left e.g. do a `&gt;&gt;&gt; n` or `&lt;&lt; n` on this array\r\n\r\n    long[] values = new long[]{\r\n                0b1011010011111111001100111000000100110011101101110010001011100001L,\r\n                0b1011010011111111001100111000000100110011101101110010001011100001L}; \r\n\r\n&gt; **Disclaimer**&lt;br&gt;\r\nThis question was asked since it doesn&#39;t exist, it is an extension of [this][1]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/28997781","title":"Bit shift operations on a long array in Java","body":"<p>How does one shift a long array n positions to the right or left e.g. do a <code>&gt;&gt;&gt; n</code> or <code>&lt;&lt; n</code> on this array</p>\n<pre><code>long[] values = new long[]{\n            0b1011010011111111001100111000000100110011101101110010001011100001L,\n            0b1011010011111111001100111000000100110011101101110010001011100001L}; \n</code></pre>\n<blockquote>\n<p><strong>Disclaimer</strong><br>\nThis question was asked since it doesn't exist, it is an extension of <a href=\"https://stackoverflow.com/q/28997781\">this</a>.</p>\n</blockquote>\n"},{"tags":["java","keypress","bullet"],"comments":[{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":1,"creation_date":1506585396,"post_id":46463806,"comment_id":79882372,"body_markdown":"You never change anything about the `Rectangle` you are using as a bullet. if you are not *telling* it to move, it won&#39;t.","body":"You never change anything about the <code>Rectangle</code> you are using as a bullet. if you are not <i>telling</i> it to move, it won&#39;t."},{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":0,"creation_date":1506585652,"post_id":46463806,"comment_id":79882531,"body_markdown":"I&#39;m having a hard time figuring out how any of this code is supposed to do anything. there a variables for the position of the ship, which are updated on keypresses, but also set to predefined values for every `Draw` call. does this work at all, currently?","body":"I&#39;m having a hard time figuring out how any of this code is supposed to do anything. there a variables for the position of the ship, which are updated on keypresses, but also set to predefined values for every <code>Draw</code> call. does this work at all, currently?"},{"owner":{"account_id":11688506,"reputation":69,"user_id":8557499,"display_name":"TA_800"},"score":0,"creation_date":1506585663,"post_id":46463806,"comment_id":79882535,"body_markdown":"@TimothyGroote I&#39;m sorry but I didn&#39;t get you. Could you explain it to me further in detail? Am I not telling it to move by updating the values of the y-axis in the shoot() method?","body":"@TimothyGroote I&#39;m sorry but I didn&#39;t get you. Could you explain it to me further in detail? Am I not telling it to move by updating the values of the y-axis in the shoot() method?"},{"owner":{"account_id":11688506,"reputation":69,"user_id":8557499,"display_name":"TA_800"},"score":0,"creation_date":1506585713,"post_id":46463806,"comment_id":79882571,"body_markdown":"Yep the ship movement works fine, even the collision. Only the bullet doesn&#39;t move up when the spacebar is pressed. It just appears on the ship (image in the post) but it just won&#39;t go up!","body":"Yep the ship movement works fine, even the collision. Only the bullet doesn&#39;t move up when the spacebar is pressed. It just appears on the ship (image in the post) but it just won&#39;t go up!"},{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":0,"creation_date":1506585853,"post_id":46463806,"comment_id":79882656,"body_markdown":"no, unfortunately not ;) gathering from what you describe, the `shoot()` method is only called once per &quot;shot&quot;. you need to keep track of your bullets in a separate variable, then update their Y position in ( i think) `paintComponent`. something along the lines of `by -= 15;`","body":"no, unfortunately not ;) gathering from what you describe, the <code>shoot()</code> method is only called once per &quot;shot&quot;. you need to keep track of your bullets in a separate variable, then update their Y position in ( i think) <code>paintComponent</code>. something along the lines of <code>by -= 15;</code>"},{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":0,"creation_date":1506585874,"post_id":46463806,"comment_id":79882667,"body_markdown":"I just noticed i got confused because `Draw()` is a constructor.","body":"I just noticed i got confused because <code>Draw()</code> is a constructor."},{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":0,"creation_date":1506585992,"post_id":46463806,"comment_id":79882733,"body_markdown":"oooh hang on, i think i know what you meant now. took me a while to shake the idea that this was an attempt at object oriented code.","body":"oooh hang on, i think i know what you meant now. took me a while to shake the idea that this was an attempt at object oriented code."},{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":1,"creation_date":1506586113,"post_id":46463806,"comment_id":79882818,"body_markdown":"the code in `shoot()` looks OK, but in your `paintcomponent` method, you are setting `by = y - 15;`, effectively undoing the changes made by `shoot()`. try setting `by` only at the *start* of the game, and when you need to reset the position of the bullet.","body":"the code in <code>shoot()</code> looks OK, but in your <code>paintcomponent</code> method, you are setting <code>by = y - 15;</code>, effectively undoing the changes made by <code>shoot()</code>. try setting <code>by</code> only at the <i>start</i> of the game, and when you need to reset the position of the bullet."},{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":0,"creation_date":1506586165,"post_id":46463806,"comment_id":79882861,"body_markdown":"also, try not setting `bx` while the bullet has been fired, or it will move along sideways with the ship ;)","body":"also, try not setting <code>bx</code> while the bullet has been fired, or it will move along sideways with the ship ;)"},{"owner":{"account_id":11688506,"reputation":69,"user_id":8557499,"display_name":"TA_800"},"score":0,"creation_date":1506586320,"post_id":46463806,"comment_id":79882966,"body_markdown":"Okay, your suggestion did make my bullet go up but there arises another problem as well. Lemme try and fix it. Thank you so much for your help!","body":"Okay, your suggestion did make my bullet go up but there arises another problem as well. Lemme try and fix it. Thank you so much for your help!"}],"answers":[{"comments":[{"owner":{"account_id":11688506,"reputation":69,"user_id":8557499,"display_name":"TA_800"},"score":0,"creation_date":1506586783,"post_id":46464239,"comment_id":79883303,"body_markdown":"Thanks a lot dude!","body":"Thanks a lot dude!"},{"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"score":0,"creation_date":1506586800,"post_id":46464239,"comment_id":79883321,"body_markdown":"No problem :) enjoy!","body":"No problem :) enjoy!"}],"tags":[],"owner":{"account_id":355666,"reputation":8624,"user_id":694736,"accept_rate":100,"display_name":"Timothy Groote"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1506586687,"creation_date":1506586687,"answer_id":46464239,"question_id":46463806,"body_markdown":"The reason for the bullet not moving becomes appearant when you compare your `shoot()` method, and the `paintComponent` method.\r\n\r\nShoot checks if you have the `shot` boolean set, and if so, moves the bullet y position up by `2`.\r\n\r\nWhen the bullet leaves the top of the screen, it resets the &quot;bullet&quot;.\r\nThis is all fine, it does what it&#39;s supposed to.\r\n\r\n     public void shoot() {\r\n            if (shot == true) {\r\n                by = by - 2; //this is fine, it moves the bullet up\r\n            }\r\n            if (by &lt;= -5) {\r\n                //Resetting values\r\n                bx = x + 32;\r\n                by = y - 15;\r\n                bullet = new Rectangle(bx, by, 10, 10);\r\n                shot = false;\r\n            }\r\n        }\r\n\r\n\r\nThen comes `paintComponent`, which is executed time your game is &quot;painted&quot; to the screen.\r\n\r\nIt defines a rectangle for the bullet at its current position,\r\ndraws the ship,\r\n\r\nThen overwrites the bullet&#39;s x and y position so it sits on top of the ship.\r\n**That is where your problem is**\r\n\r\n\r\n        public void paintComponent(Graphics g) {\r\n            bullet = new Rectangle(bx, by, 10, 10);\r\n            g.setColor(Color.RED);\r\n            g.fillRect(x, y, 75, 25);\r\n            g.fillRect(x + 32, y - 15, 10, 15);\r\n\r\n            //you are messing with bx and by here.\r\n            //probably because you wanted the bullet to be in the\r\n            //same position as the ship.\r\n\r\n            //this means they will be put back into the same position\r\n            //for every time your game is painted to the screen.\r\n            //my advice is, do *not* do this here.\r\n            bx = x + 32;\r\n            by = y - 15;\r\n\r\n            if (shot == true) {\r\n                g.setColor(Color.BLACK);\r\n                g.fillRect(bx, by, bullet.width, bullet.height);\r\n            }\r\n            repaint();\r\n        }","title":"Bullet not travelling up! Java game","body":"<p>The reason for the bullet not moving becomes appearant when you compare your <code>shoot()</code> method, and the <code>paintComponent</code> method.</p>\n\n<p>Shoot checks if you have the <code>shot</code> boolean set, and if so, moves the bullet y position up by <code>2</code>.</p>\n\n<p>When the bullet leaves the top of the screen, it resets the \"bullet\".\nThis is all fine, it does what it's supposed to.</p>\n\n<pre><code> public void shoot() {\n        if (shot == true) {\n            by = by - 2; //this is fine, it moves the bullet up\n        }\n        if (by &lt;= -5) {\n            //Resetting values\n            bx = x + 32;\n            by = y - 15;\n            bullet = new Rectangle(bx, by, 10, 10);\n            shot = false;\n        }\n    }\n</code></pre>\n\n<p>Then comes <code>paintComponent</code>, which is executed time your game is \"painted\" to the screen.</p>\n\n<p>It defines a rectangle for the bullet at its current position,\ndraws the ship,</p>\n\n<p>Then overwrites the bullet's x and y position so it sits on top of the ship.\n<strong>That is where your problem is</strong></p>\n\n<pre><code>    public void paintComponent(Graphics g) {\n        bullet = new Rectangle(bx, by, 10, 10);\n        g.setColor(Color.RED);\n        g.fillRect(x, y, 75, 25);\n        g.fillRect(x + 32, y - 15, 10, 15);\n\n        //you are messing with bx and by here.\n        //probably because you wanted the bullet to be in the\n        //same position as the ship.\n\n        //this means they will be put back into the same position\n        //for every time your game is painted to the screen.\n        //my advice is, do *not* do this here.\n        bx = x + 32;\n        by = y - 15;\n\n        if (shot == true) {\n            g.setColor(Color.BLACK);\n            g.fillRect(bx, by, bullet.width, bullet.height);\n        }\n        repaint();\n    }\n</code></pre>\n"}],"owner":{"account_id":11688506,"reputation":69,"user_id":8557499,"display_name":"TA_800"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":46464239,"answer_count":1,"score":2,"last_activity_date":1678309664,"creation_date":1506585235,"question_id":46463806,"body_markdown":"I&#39;m a newbie in Java and I&#39;m trying to make a ship fire a bullet. What I want is actually make the ship fire bullets as long as the Spacebar button is being held down.\r\nI&#39;ve successfully made the ship move here and there and also fire the bullet. However the bullet just won&#39;t go up. Here&#39;s my code -\r\n\r\n    package learningPackage;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.KeyAdapter;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseMotionListener;\r\n    \r\n    public class Draw extends JFrame implements Runnable {\r\n    \r\n    \t//Variables for the x and y coordinates, xDirection for modifying the values of x only.\r\n    \tint x, y, xDirection;\r\n    \tint bx, by;\r\n    \r\n    \tImage dbImage;\r\n    \tGraphics dbGraphics;\r\n    \r\n    \tboolean shot;\r\n    \r\n    \tRectangle bullet;\r\n    \t\r\n    \t\r\n    \t//Thread run\r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tmove();\r\n    \t\t\t\tshoot();\r\n    \t\t\t\t//Setting sleep to 0 will make it light-speed!\r\n    \t\t\t\tThread.sleep(5);\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Error!&quot;);\r\n    \t\t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    \t//Ship move\r\n    \t//Ship moves only in one direction, x - axis\r\n    \tpublic void move() {\r\n    \t\tx += xDirection;\r\n    \r\n    \t\t//Collision detection\r\n    \t\tif (x &lt;= 10) {\r\n    \t\t\tx = 10;\r\n    \t\t}\r\n    \t\tif (x &gt;= 415) {\r\n    \t\t\tx = 415;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t//KeyListeners\r\n    \tpublic class AL extends KeyAdapter {\r\n    \t\tpublic void keyPressed(KeyEvent e) {\r\n    \t\t\tint keyCode = e.getKeyCode();\r\n    \t\t\tif (keyCode == e.VK_LEFT) {\r\n    \t\t\t\txDirection = -2;\r\n    \t\t\t}\r\n    \t\t\tif (keyCode == e.VK_RIGHT) {\r\n    \t\t\t\txDirection = 2;\r\n    \t\t\t}\r\n    \t\t\tif (keyCode == e.VK_SPACE) {\r\n    \t\t\t\tshot = true;\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t\tpublic void keyReleased(KeyEvent e) {\r\n    \t\t\t\tint keyCode = e.getKeyCode();\r\n    \t\t\t\tif (keyCode == e.VK_LEFT) {\r\n    \t\t\t\t\txDirection = 0;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (keyCode == e.VK_RIGHT) {\r\n    \t\t\t\t\txDirection = 0;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (keyCode == e.VK_SPACE) {\r\n    \t\t\t\t\tshot = false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \r\n    \t\t//Constructor for the game frame\r\n    \t\tpublic Draw() {\r\n    \t\t\tsuper(&quot;Game&quot;);\r\n    \t\t\tsetSize(500, 500);\r\n    \t\t\tsetLocationRelativeTo(null);\r\n    \t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\tsetResizable(false);\r\n    \t\t\taddKeyListener(new AL());\r\n    \r\n    \t\t\tx = 200;\r\n    \t\t\ty = 465;\r\n    \r\n    \r\n    \t\t\tsetVisible(true);\r\n    \t\t}\r\n    \t\t\r\n    \t\t//Double - buffering\r\n    \t\tpublic void paint(Graphics g) {\r\n    \t\t\tdbImage = createImage(getWidth(), getHeight());\r\n    \t\t\tdbGraphics = dbImage.getGraphics();\r\n    \t\t\tpaintComponent(dbGraphics);\r\n    \t\t\tg.drawImage(dbImage, 0, 0, this);\r\n    \r\n    \t\t}\r\n    \r\n    \t\t//All the graphics\r\n    \t\tpublic void paintComponent(Graphics g) {\r\n    \t\t\t\r\n    \t\t\tbullet = new Rectangle(bx, by, 10, 10);\r\n    \t\t\tg.setColor(Color.RED);\r\n    \t\t\t//Ship rectangle\r\n    \t\t\tg.fillRect(x, y, 75, 25);\r\n    \t\t\t//Gun rectangle\r\n    \t\t\tg.fillRect(x + 32, y - 15, 10, 15);\r\n    \t\t\t\r\n    \t\t\t//Setting the same values for bx and by as x and y so that the bullet will start from the Gun rectangle\r\n    \t\t\tbx = x + 32;\r\n    \t\t\tby = y - 15;\r\n    \t\t\t\r\n    \t\t\tif (shot == true) {\r\n    \t\t\t\t\r\n    \t\t\t\tg.setColor(Color.BLACK);\r\n    \t\t\t\tg.fillRect(bx, by, bullet.width, bullet.height);\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\trepaint();\r\n    \r\n    \t\t}\r\n    \r\n    \t\t\r\n    \t\tpublic void shoot() {\r\n    \t\t\tif (shot == true) {\r\n    \t\t\t\tby = by - 2;\r\n    \t\t\t}\r\n    \t\t\tif (by &lt;= -5) {\r\n    \t\t\t\t//Resetting values\r\n    \t\t\t\tbx = x + 32;\r\n    \t\t\t\tby = y - 15;\r\n    \t\t\t\tbullet = new Rectangle(bx, by, 10, 10);\r\n    \t\t\t\tshot = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t//Main method\r\n    \t\tpublic static void main(String[] args) {\r\n    \t\t\tDraw gameTry = new Draw();\r\n    \t\t\tThread t1 = new Thread(gameTry);\r\n    \t\t\tt1.start();\r\n    \r\n    \t\t}\r\n    \t}\r\n\r\n\r\n\r\n[Here&#39;s what happens when I just move the ship, working perfectly fine -][1]\r\n\r\n[Here&#39;s what happens when I hold down space -][2]\r\n\r\nI was actually coping this code from a tutorial but since the tutorial-code wasn&#39;t working out, I decided to do this on my own, but I can&#39;t do it on my own as well!","title":"Bullet not travelling up! Java game","body":"<p>I'm a newbie in Java and I'm trying to make a ship fire a bullet. What I want is actually make the ship fire bullets as long as the Spacebar button is being held down.\nI've successfully made the ship move here and there and also fire the bullet. However the bullet just won't go up. Here's my code -</p>\n<pre><code>package learningPackage;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionListener;\n\npublic class Draw extends JFrame implements Runnable {\n\n    //Variables for the x and y coordinates, xDirection for modifying the values of x only.\n    int x, y, xDirection;\n    int bx, by;\n\n    Image dbImage;\n    Graphics dbGraphics;\n\n    boolean shot;\n\n    Rectangle bullet;\n    \n    \n    //Thread run\n    public void run() {\n        try {\n            while (true) {\n                move();\n                shoot();\n                //Setting sleep to 0 will make it light-speed!\n                Thread.sleep(5);\n\n            }\n        }\n        catch (Exception e) {\n            System.out.println(&quot;Error!&quot;);\n            }\n    }\n    \n    \n\n    //Ship move\n    //Ship moves only in one direction, x - axis\n    public void move() {\n        x += xDirection;\n\n        //Collision detection\n        if (x &lt;= 10) {\n            x = 10;\n        }\n        if (x &gt;= 415) {\n            x = 415;\n        }\n    }\n\n    //KeyListeners\n    public class AL extends KeyAdapter {\n        public void keyPressed(KeyEvent e) {\n            int keyCode = e.getKeyCode();\n            if (keyCode == e.VK_LEFT) {\n                xDirection = -2;\n            }\n            if (keyCode == e.VK_RIGHT) {\n                xDirection = 2;\n            }\n            if (keyCode == e.VK_SPACE) {\n                shot = true;\n                \n            }\n        }\n\n            public void keyReleased(KeyEvent e) {\n                int keyCode = e.getKeyCode();\n                if (keyCode == e.VK_LEFT) {\n                    xDirection = 0;\n                }\n                if (keyCode == e.VK_RIGHT) {\n                    xDirection = 0;\n                }\n                if (keyCode == e.VK_SPACE) {\n                    shot = false;\n                }\n            }\n        }\n\n\n        //Constructor for the game frame\n        public Draw() {\n            super(&quot;Game&quot;);\n            setSize(500, 500);\n            setLocationRelativeTo(null);\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            setResizable(false);\n            addKeyListener(new AL());\n\n            x = 200;\n            y = 465;\n\n\n            setVisible(true);\n        }\n        \n        //Double - buffering\n        public void paint(Graphics g) {\n            dbImage = createImage(getWidth(), getHeight());\n            dbGraphics = dbImage.getGraphics();\n            paintComponent(dbGraphics);\n            g.drawImage(dbImage, 0, 0, this);\n\n        }\n\n        //All the graphics\n        public void paintComponent(Graphics g) {\n            \n            bullet = new Rectangle(bx, by, 10, 10);\n            g.setColor(Color.RED);\n            //Ship rectangle\n            g.fillRect(x, y, 75, 25);\n            //Gun rectangle\n            g.fillRect(x + 32, y - 15, 10, 15);\n            \n            //Setting the same values for bx and by as x and y so that the bullet will start from the Gun rectangle\n            bx = x + 32;\n            by = y - 15;\n            \n            if (shot == true) {\n                \n                g.setColor(Color.BLACK);\n                g.fillRect(bx, by, bullet.width, bullet.height);\n\n            }\n\n            repaint();\n\n        }\n\n        \n        public void shoot() {\n            if (shot == true) {\n                by = by - 2;\n            }\n            if (by &lt;= -5) {\n                //Resetting values\n                bx = x + 32;\n                by = y - 15;\n                bullet = new Rectangle(bx, by, 10, 10);\n                shot = false;\n            }\n        }\n\n        //Main method\n        public static void main(String[] args) {\n            Draw gameTry = new Draw();\n            Thread t1 = new Thread(gameTry);\n            t1.start();\n\n        }\n    }\n</code></pre>\n<p>[Here's what happens when I just move the ship, working perfectly fine -][1]</p>\n<p>[Here's what happens when I hold down space -][2]</p>\n<p>I was actually coping this code from a tutorial but since the tutorial-code wasn't working out, I decided to do this on my own, but I can't do it on my own as well!</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678280712,"post_id":75673362,"comment_id":133501493,"body_markdown":"Are you sure that `file.txt` *is actually UTF-8 encoded*? Does `System.out.println(&quot;\\u0416&quot;);` successfully print Ж on your console?","body":"Are you sure that <code>file.txt</code> <i>is actually UTF-8 encoded</i>? Does <code>System.out.println(&quot;\\u0416&quot;);</code> successfully print Ж on your console?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678280834,"post_id":75673362,"comment_id":133501527,"body_markdown":"Also: `new String(everything.getBytes(),StandardCharsets.UTF_8)` is dangerous cargo-cult-level &quot;try to fix this stuff, but don&#39;t know how&quot; code that I see frequently but is almost always completely wrong. If you know the encoding, specify it when you create the `FileReader`, but don&#39;t try to &quot;fix&quot; strings like this after the fact. And especially when you set `file.encoding` to UTF-8, then it&#39;s a pointless, expensive no-op.","body":"Also: <code>new String(everything.getBytes(),StandardCharsets.UTF_8)</code> is dangerous cargo-cult-level &quot;try to fix this stuff, but don&#39;t know how&quot; code that I see frequently but is almost always completely wrong. If you know the encoding, specify it when you create the <code>FileReader</code>, but don&#39;t try to &quot;fix&quot; strings like this after the fact. And especially when you set <code>file.encoding</code> to UTF-8, then it&#39;s a pointless, expensive no-op."},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678281283,"post_id":75673362,"comment_id":133501647,"body_markdown":"@JoachimSauer System.out.println(&quot;\\u0416&quot;); doesn&#39;t print Ж. It prints the same as the txt file&#39;s text. A question mark only.","body":"@JoachimSauer System.out.println(&quot;\\u0416&quot;); doesn&#39;t print Ж. It prints the same as the txt file&#39;s text. A question mark only."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678281674,"post_id":75673362,"comment_id":133501763,"body_markdown":"Could be that the console encoding within IDEA is not set to UTF-8: https://www.jetbrains.com/help/idea/encoding.html#console Everything you configured is about how the IDEA *editor* treats files and how the Java VM treats encodings, but something (the IDEA console) must also display the console output.","body":"Could be that the console encoding within IDEA is not set to UTF-8: <a href=\"https://www.jetbrains.com/help/idea/encoding.html#console\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/encoding.html#console</a> Everything you configured is about how the IDEA <i>editor</i> treats files and how the Java VM treats encodings, but something (the IDEA console) must also display the console output."},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678281804,"post_id":75673362,"comment_id":133501812,"body_markdown":"@a moment, please. I&#39;ll check your link.","body":"@a moment, please. I&#39;ll check your link."},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678282888,"post_id":75673362,"comment_id":133502132,"body_markdown":"@JoachimSauer I checked it. At first there was &quot;default UTF-8&quot; I set directly to UTF-8. Tried again. There are no detected positive changes.","body":"@JoachimSauer I checked it. At first there was &quot;default UTF-8&quot; I set directly to UTF-8. Tried again. There are no detected positive changes."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678282942,"post_id":75673362,"comment_id":133502150,"body_markdown":"Well, just to say *By default, IntelliJ IDEA uses the system encoding to view console output.* (per the link @JoachimSauer posted) What *is* your default encoding?","body":"Well, just to say <i>By default, IntelliJ IDEA uses the system encoding to view console output.</i> (per the link @JoachimSauer posted) What <i>is</i> your default encoding?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678291824,"post_id":75673362,"comment_id":133505198,"body_markdown":"Edit your Question to include a small piece of text with a few of your problematic Cyrillic characters that we can copy-paste.","body":"Edit your Question to include a small piece of text with a few of your problematic Cyrillic characters that we can copy-paste."},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678292828,"post_id":75673362,"comment_id":133505487,"body_markdown":"@BasilBourque Just wait a moment and I&#39;ll update my question.","body":"@BasilBourque Just wait a moment and I&#39;ll update my question."},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678294003,"post_id":75673362,"comment_id":133505852,"body_markdown":"@BasilBourque and an interesting fact. I created a new txt file with Intellij Idea. Copied that part of the text from the first txt file to this new one and I was negatively surprised. In the console, all letters are displayed incorrectly. I decided to check both txt files with notepad++. For the first one it shows that the encoding is in utf-8, but for the second one - windows-1251. But it&#39;s weird. In fact, the UTF-8 one is displaying mostly correctly and the windows-1251 one not showing any correct characters. And all this happens when intellij settings are set to windows-1251, not utf-8.","body":"@BasilBourque and an interesting fact. I created a new txt file with Intellij Idea. Copied that part of the text from the first txt file to this new one and I was negatively surprised. In the console, all letters are displayed incorrectly. I decided to check both txt files with notepad++. For the first one it shows that the encoding is in utf-8, but for the second one - windows-1251. But it&#39;s weird. In fact, the UTF-8 one is displaying mostly correctly and the windows-1251 one not showing any correct characters. And all this happens when intellij settings are set to windows-1251, not utf-8."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678305353,"post_id":75673362,"comment_id":133508869,"body_markdown":"I suggest you shorten that example text. Just enough few words to demonstrate the issue.","body":"I suggest you shorten that example text. Just enough few words to demonstrate the issue."},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678309671,"post_id":75673362,"comment_id":133509885,"body_markdown":"@BasilBourque I shortened the text.","body":"@BasilBourque I shortened the text."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1678790612,"post_id":75673362,"comment_id":133597853,"body_markdown":"What JDK version and vendor are used in the project? Try using the latest IDE build from https://www.jetbrains.com/idea/download","body":"What JDK version and vendor are used in the project? Try using the latest IDE build from <a href=\"https://www.jetbrains.com/idea/download\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download</a>"}],"answers":[{"comments":[{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678289706,"post_id":75673495,"comment_id":133504427,"body_markdown":"I changed encoding to windows1252 everywhere. Now it nearly works. But nearly only, cause in every thousand characters there are from one to three incorrect characters.","body":"I changed encoding to windows1252 everywhere. Now it nearly works. But nearly only, cause in every thousand characters there are from one to three incorrect characters."},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1678289966,"post_id":75673495,"comment_id":133504529,"body_markdown":"This is not advisable. If your file is encoded in windows1252 read it with that encoding when you create the file reader.","body":"This is not advisable. If your file is encoded in windows1252 read it with that encoding when you create the file reader."},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678290928,"post_id":75673495,"comment_id":133504879,"body_markdown":"Hell. I meant windows-1251 not windows-1252.  Now about the file reader. I tried this too BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;, Charset.forName(&quot;windows-1251&quot;)));  it still works as nearly, not 100%. Some symbols it won&#39;t see. For example &quot;�?нтригует&quot; instead of &quot;интригует&quot;","body":"Hell. I meant windows-1251 not windows-1252.  Now about the file reader. I tried this too BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;, Charset.forName(&quot;windows-1251&quot;)));  it still works as nearly, not 100%. Some symbols it won&#39;t see. For example &quot;�?нтригует&quot; instead of &quot;интригует&quot;"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1678291816,"post_id":75673495,"comment_id":133505197,"body_markdown":"Use the library That I described in my answer and see what code you have there","body":"Use the library That I described in my answer and see what code you have there"},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678359726,"post_id":75673495,"comment_id":133518786,"body_markdown":"An interesting detail. I dindn&#39;t use Maven before. Before trying to realise your advice I did a little test. I created a new project with Maven and replaced my txt file from Gradle based project to Maven one. And with Maven there&#39;s no Error if txt file is encoded with windows-1251 and the IDE  is configured to use windows-1251. So, as I see, the problem is in Gradle!","body":"An interesting detail. I dindn&#39;t use Maven before. Before trying to realise your advice I did a little test. I created a new project with Maven and replaced my txt file from Gradle based project to Maven one. And with Maven there&#39;s no Error if txt file is encoded with windows-1251 and the IDE  is configured to use windows-1251. So, as I see, the problem is in Gradle!"},{"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"score":0,"creation_date":1678360466,"post_id":75673495,"comment_id":133518969,"body_markdown":"Why I decided to do a test like that? I had a bad feeling when I saw that &quot;        System.out.println(&quot;\\u0416&quot;); System.out.println(&quot;Жорик Варданов&quot;); &quot;  displays the same question marks which I saw for my txt file. It&#39;s weird, isn&#39;t it? The settings for both projects. I mean, the encodings in the configuration are the same but for Gradle - there are question marks while for Maven there aren&#39;t any problems. I will not write answer to my question yet. At first I want to try to understand what&#39;s wrong with Gradle.  But your answer I&#39;ll upvote now, because your hints saved my time.","body":"Why I decided to do a test like that? I had a bad feeling when I saw that &quot;        System.out.println(&quot;\\u0416&quot;); System.out.println(&quot;Жорик Варданов&quot;); &quot;  displays the same question marks which I saw for my txt file. It&#39;s weird, isn&#39;t it? The settings for both projects. I mean, the encodings in the configuration are the same but for Gradle - there are question marks while for Maven there aren&#39;t any problems. I will not write answer to my question yet. At first I want to try to understand what&#39;s wrong with Gradle.  But your answer I&#39;ll upvote now, because your hints saved my time."}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678281160,"creation_date":1678281160,"answer_id":75673495,"question_id":75673362,"body_markdown":"First try to use method `getBytes(Charset charset)` instead of just `getBytes()` in your line:\r\n\r\n    System.out.println(new String(everything.getBytes(),StandardCharsets.UTF_8));\r\nThis may solve your problem. Also, for diagnostics I would suggest to try convert your string that you think contains russian characters into unicode sequence and see if your string really contains russian characters and your problem is only display problem or that your String doesn&#39;t have the right chars to begin with. I wrote my own feature that can easily convert string into unicode sequence and vice-versa. Here how it works:\r\nThere is an Open Source java library MgntUtils written and maintained by me that has a Utility that converts Strings to unicode sequence and vise versa:\r\n\r\n    result = &quot;Hello World&quot;;\r\n    result = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(result);\r\n    System.out.println(result);\r\n    result = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(result);\r\n    System.out.println(result);\r\n\r\nThe output of this code is:\r\n\r\n    \\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\r\n    Hello World\r\n\r\nThe library can be found at [Maven Central][1] or at [Github][2] It comes as maven artifact and with sources and javadoc\r\n\r\nHere is javadoc for the class [StringUnicodeEncoderDecoder][3]\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/jar\r\n  [2]: https://github.com/michaelgantman/Mgnt\r\n  [3]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html ","title":"Intellij Idea, Java, no russian letters displaying correctly, even with manually setting the encoding to UTF-8. What&#39;s going on?","body":"<p>First try to use method <code>getBytes(Charset charset)</code> instead of just <code>getBytes()</code> in your line:</p>\n<pre><code>System.out.println(new String(everything.getBytes(),StandardCharsets.UTF_8));\n</code></pre>\n<p>This may solve your problem. Also, for diagnostics I would suggest to try convert your string that you think contains russian characters into unicode sequence and see if your string really contains russian characters and your problem is only display problem or that your String doesn't have the right chars to begin with. I wrote my own feature that can easily convert string into unicode sequence and vice-versa. Here how it works:\nThere is an Open Source java library MgntUtils written and maintained by me that has a Utility that converts Strings to unicode sequence and vise versa:</p>\n<pre><code>result = &quot;Hello World&quot;;\nresult = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(result);\nSystem.out.println(result);\nresult = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(result);\nSystem.out.println(result);\n</code></pre>\n<p>The output of this code is:</p>\n<pre><code>\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u0057\\u006f\\u0072\\u006c\\u0064\nHello World\n</code></pre>\n<p>The library can be found at <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils/1.5.0.2/jar\" rel=\"nofollow noreferrer\">Maven Central</a> or at <a href=\"https://github.com/michaelgantman/Mgnt\" rel=\"nofollow noreferrer\">Github</a> It comes as maven artifact and with sources and javadoc</p>\n<p>Here is javadoc for the class <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html\" rel=\"nofollow noreferrer\">StringUnicodeEncoderDecoder</a></p>\n"}],"owner":{"account_id":14866733,"reputation":288,"user_id":14048134,"display_name":"Ruben Kubalyan"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1678309611,"creation_date":1678280418,"question_id":75673362,"body_markdown":"I want to get the text from the txt file and print in terminal.\r\nThe Russian letters won&#39;t display correctly.\r\n\r\nI did the next things to fix the problem\r\n\r\n&gt; 1) https://stackoverflow.com/a/34717160/14048134 \r\n&gt; \r\n&gt; 2) https://stackoverflow.com/a/36932975/14048134 \r\n&gt; \r\n&gt; 3) https://stackoverflow.com/a/61205022/14048134 \r\n&gt; \r\n&gt; 4) go to Help | Edit Custom VM Options... and add (restart IDE is\r\n&gt; needed):\r\n&gt;     -Dconsole.encoding=UTF-8\r\n&gt;     -Dfile.encoding=UTF-8\r\n\r\nHere&#39;s my code:\r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;));\r\n    try {\r\n        StringBuilder sb = new StringBuilder();\r\n        String line = br.readLine();\r\n    \r\n        while (line != null) {\r\n            sb.append(line);\r\n            sb.append(System.lineSeparator());\r\n            line = br.readLine();\r\n        }\r\n        String everything = sb.toString();\r\n        System.out.println(new String(everything.getBytes(),StandardCharsets.UTF_8));\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    } finally {\r\n        br.close();\r\n    }\r\n\r\nNo matter what I do, the Russian letter&#39;s won&#39;t be displayed. \r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n![enter image description here][3]\r\n\r\n![enter image description here][4]\r\n\r\n\r\nAfter all, no Russian letters are displayed correctly, but the Latin ones and numbers are correct.\r\n\r\nHow can I fix this problem? Any ideas?\r\n\r\n\r\nUPDATE 1\r\n\r\n        BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;,StandardCharsets.UTF_8));\r\n        try {\r\n            StringBuilder sb = new StringBuilder();\r\n            String line = br.readLine();\r\n\r\n            while (line != null) {\r\n                sb.append(line);\r\n                sb.append(System.lineSeparator());\r\n                line = br.readLine();\r\n            }\r\n            String everything = sb.toString();\r\n            System.out.println(everything);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        } finally {\r\n            br.close();\r\n        }\r\n\r\nThis one doesn&#39;t work too. \r\n\r\nUPDATE 2\r\n\r\nHere&#39;s the console settings. \r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EiJt4.jpg\r\n  [2]: https://i.stack.imgur.com/1g3BS.jpg\r\n  [3]: https://i.stack.imgur.com/pQuni.jpg\r\n  [4]: https://i.stack.imgur.com/NEcn2.jpg\r\n  [5]: https://i.stack.imgur.com/zI92M.jpg\r\n\r\nThere is no benefit from this. \r\n\r\nUPDATE 3\r\n\r\n\r\nExpected result (the original text): &quot;Кстати, в Индонезии есть часть страны называемой Java...Карл, Java!!! Еще и страннее то, что как бы Индонезия кажется таким\r\nродным.... с чего это вдруг?&quot;\r\n\r\nActual result (what is displayed in console): &quot;Кстати, в �?ндонезии есть часть страны называемой Java...Карл, Java!!! Еще и страннее то, что как бы �?ндонезия кажется таким\r\nродным.... с чего это вдруг?&quot;","title":"Intellij Idea, Java, no russian letters displaying correctly, even with manually setting the encoding to UTF-8. What&#39;s going on?","body":"<p>I want to get the text from the txt file and print in terminal.\nThe Russian letters won't display correctly.</p>\n<p>I did the next things to fix the problem</p>\n<blockquote>\n<ol>\n<li><p><a href=\"https://stackoverflow.com/a/34717160/14048134\">https://stackoverflow.com/a/34717160/14048134</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/36932975/14048134\">https://stackoverflow.com/a/36932975/14048134</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/61205022/14048134\">https://stackoverflow.com/a/61205022/14048134</a></p>\n</li>\n<li><p>go to Help | Edit Custom VM Options... and add (restart IDE is\nneeded):\n-Dconsole.encoding=UTF-8\n-Dfile.encoding=UTF-8</p>\n</li>\n</ol>\n</blockquote>\n<p>Here's my code:</p>\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;));\ntry {\n    StringBuilder sb = new StringBuilder();\n    String line = br.readLine();\n\n    while (line != null) {\n        sb.append(line);\n        sb.append(System.lineSeparator());\n        line = br.readLine();\n    }\n    String everything = sb.toString();\n    System.out.println(new String(everything.getBytes(),StandardCharsets.UTF_8));\n} catch (IOException e) {\n    throw new RuntimeException(e);\n} finally {\n    br.close();\n}\n</code></pre>\n<p>No matter what I do, the Russian letter's won't be displayed.</p>\n<p><img src=\"https://i.stack.imgur.com/EiJt4.jpg\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/1g3BS.jpg\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/pQuni.jpg\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/NEcn2.jpg\" alt=\"enter image description here\" /></p>\n<p>After all, no Russian letters are displayed correctly, but the Latin ones and numbers are correct.</p>\n<p>How can I fix this problem? Any ideas?</p>\n<p>UPDATE 1</p>\n<pre><code>    BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;,StandardCharsets.UTF_8));\n    try {\n        StringBuilder sb = new StringBuilder();\n        String line = br.readLine();\n\n        while (line != null) {\n            sb.append(line);\n            sb.append(System.lineSeparator());\n            line = br.readLine();\n        }\n        String everything = sb.toString();\n        System.out.println(everything);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    } finally {\n        br.close();\n    }\n</code></pre>\n<p>This one doesn't work too.</p>\n<p>UPDATE 2</p>\n<p>Here's the console settings.</p>\n<p><a href=\"https://i.stack.imgur.com/zI92M.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zI92M.jpg\" alt=\"enter image description here\" /></a></p>\n<p>There is no benefit from this.</p>\n<p>UPDATE 3</p>\n<p>Expected result (the original text): &quot;Кстати, в Индонезии есть часть страны называемой Java...Карл, Java!!! Еще и страннее то, что как бы Индонезия кажется таким\nродным.... с чего это вдруг?&quot;</p>\n<p>Actual result (what is displayed in console): &quot;Кстати, в �?ндонезии есть часть страны называемой Java...Карл, Java!!! Еще и страннее то, что как бы �?ндонезия кажется таким\nродным.... с чего это вдруг?&quot;</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":222134,"reputation":2003,"user_id":480536,"accept_rate":100,"display_name":"BadSkillz"},"score":0,"creation_date":1306158340,"post_id":6097795,"comment_id":7068817,"body_markdown":"How is it not working? Do you get an error message or just a black screen?","body":"How is it not working? Do you get an error message or just a black screen?"},{"owner":{"account_id":7480552,"reputation":21,"user_id":5685400,"display_name":"Masayuki Suda"},"score":0,"creation_date":1450250696,"post_id":6097795,"comment_id":95811545,"body_markdown":"[My Library Link](https://github.com/MasayukiSuda/AnimateHorizontalProgressBar) Above link is my library.\nJust use it if you want.","body":"<a href=\"https://github.com/MasayukiSuda/AnimateHorizontalProgressBar\" rel=\"nofollow noreferrer\">My Library Link</a> Above link is my library. Just use it if you want."}],"answers":[{"tags":[],"owner":{"account_id":390504,"reputation":16206,"user_id":750613,"accept_rate":73,"display_name":"Nikhil"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1489562912,"creation_date":1306157361,"answer_id":6097894,"question_id":6097795,"body_markdown":"I am not sure but please check it:\r\n\r\n    pb.setProgress(pb.getProgress() * 100);\r\n","title":"Make a ProgressBar update smoothly","body":"<p>I am not sure but please check it:</p>\n\n<pre><code>pb.setProgress(pb.getProgress() * 100);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":371054,"reputation":24474,"user_id":719363,"accept_rate":75,"display_name":"Alex Gitelman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306158319,"creation_date":1306158319,"answer_id":6098076,"question_id":6097795,"body_markdown":"According to documentation interpolator applies to indeterminate progress.\r\nSince you set progress I think you intend to use regular one with values. \r\nI think the best for you would be to increase maximum value of progress and \r\ngo in smaller increments.","title":"Make a ProgressBar update smoothly","body":"<p>According to documentation interpolator applies to indeterminate progress.\nSince you set progress I think you intend to use regular one with values. \nI think the best for you would be to increase maximum value of progress and \ngo in smaller increments.</p>\n"},{"comments":[{"owner":{"account_id":290461,"reputation":5558,"user_id":592025,"accept_rate":100,"display_name":"midhunhk"},"score":1,"creation_date":1406715166,"post_id":6110027,"comment_id":38934272,"body_markdown":"Can you tell me what type of object is `incrementor` and how this is applied to a ProgressBar. I am also looking for this solution. Thanks","body":"Can you tell me what type of object is <code>incrementor</code> and how this is applied to a ProgressBar. I am also looking for this solution. Thanks"}],"tags":[],"owner":{"account_id":274883,"reputation":5504,"user_id":567390,"accept_rate":89,"display_name":"Todd Davies"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1306238287,"creation_date":1306238287,"answer_id":6110027,"question_id":6097795,"body_markdown":"I worked out how to do it, by using a runnable I was able to update the progress bar several times a second and so give the sliding effect. The code is below:\r\n\r\n    private Runnable SmoothIncrement = new Runnable() {\r\n\t\t   public void run() {\r\n\t\t       final long start = mStartTime;\r\n\t\t       long millis = SystemClock.uptimeMillis() - start;\r\n\t\t       \r\n\t\t       if(track!=increase) {\r\n\t\t    \t   if((pb.getProgress()==100)&amp;&amp;(count&lt;target)) {\r\n\t\t\t    \t   pb.setProgress(0);\r\n\t\t    \t   }\r\n\t\t    \t   pb.incrementProgressBy(1);\r\n\t\t    \t   track++;\r\n\t\t\t       incrementor.postAtTime(this, start + millis);\r\n\t\t       }\r\n\t\t       else {\r\n\t\t    \t   incrementor.removeCallbacks(this);\r\n\t\t       }\r\n\t\t   }\r\n\t\t};\r\n\r\nHere, &#39;track&#39; keeps track of how many increments have been done, and increase is the total number of increments that should be done. I can dynamically increase the number of increments from the UI thread to give a smooth effect. The code only works for progress bars that won&#39;t need to decrease.\r\n\r\nTo run it, simply use this code:\r\n\r\n    \t\t\t\t    mStartTime = System.currentTimeMillis();\r\n\t\t            \tincrementor.removeCallbacks(SmoothIncrement);\r\n\t\t            \tif(track!=0) {\r\n\t\t            \t\ttrack -= increase;\r\n\t\t            \t}\r\n\t\t            \tincrementor.postDelayed(SmoothIncrement, 0);","title":"Make a ProgressBar update smoothly","body":"<p>I worked out how to do it, by using a runnable I was able to update the progress bar several times a second and so give the sliding effect. The code is below:</p>\n\n<pre><code>private Runnable SmoothIncrement = new Runnable() {\n       public void run() {\n           final long start = mStartTime;\n           long millis = SystemClock.uptimeMillis() - start;\n\n           if(track!=increase) {\n               if((pb.getProgress()==100)&amp;&amp;(count&lt;target)) {\n                   pb.setProgress(0);\n               }\n               pb.incrementProgressBy(1);\n               track++;\n               incrementor.postAtTime(this, start + millis);\n           }\n           else {\n               incrementor.removeCallbacks(this);\n           }\n       }\n    };\n</code></pre>\n\n<p>Here, 'track' keeps track of how many increments have been done, and increase is the total number of increments that should be done. I can dynamically increase the number of increments from the UI thread to give a smooth effect. The code only works for progress bars that won't need to decrease.</p>\n\n<p>To run it, simply use this code:</p>\n\n<pre><code>                    mStartTime = System.currentTimeMillis();\n                    incrementor.removeCallbacks(SmoothIncrement);\n                    if(track!=0) {\n                        track -= increase;\n                    }\n                    incrementor.postDelayed(SmoothIncrement, 0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2104019,"reputation":1407,"user_id":1870830,"accept_rate":46,"display_name":"offset"},"score":5,"creation_date":1433157645,"post_id":16002144,"comment_id":49214328,"body_markdown":"@HamidrezaHosseinkhani - try `animation.setInterpolator(new LinearInterpolator());`","body":"@HamidrezaHosseinkhani - try <code>animation.setInterpolator(new LinearInterpolator());</code>"},{"owner":{"account_id":5323439,"reputation":1540,"user_id":4458300,"accept_rate":80,"display_name":"Vulovic Vukasin"},"score":2,"creation_date":1464868845,"post_id":16002144,"comment_id":62667255,"body_markdown":"Would like to add something, if you want it to move from point x to point y, just put: ObjectAnimator animation = ObjectAnimator.ofInt(seekbar, &quot;progress&quot;, now, end); Also, if it isnt smooth, try new LinearInterpolator()","body":"Would like to add something, if you want it to move from point x to point y, just put: ObjectAnimator animation = ObjectAnimator.ofInt(seekbar, &quot;progress&quot;, now, end); Also, if it isnt smooth, try new LinearInterpolator()"},{"owner":{"account_id":5570307,"reputation":159,"user_id":4489375,"accept_rate":75,"display_name":"osemec"},"score":0,"creation_date":1521104676,"post_id":16002144,"comment_id":85592535,"body_markdown":"Be aware that user can have different system animator scale value and setDuration will not be real time accurate.","body":"Be aware that user can have different system animator scale value and setDuration will not be real time accurate."}],"tags":[],"owner":{"account_id":1003050,"reputation":4832,"user_id":1017472,"display_name":"now"},"comment_count":3,"down_vote_count":1,"up_vote_count":133,"is_accepted":true,"score":132,"last_activity_date":1574372141,"creation_date":1365961076,"answer_id":16002144,"question_id":6097795,"body_markdown":"The Interpolator has to be attached to an animation and this will work only on Honeycomb or higher:\r\n\r\n    if(android.os.Build.VERSION.SDK_INT &gt;= 11){\r\n        // will update the &quot;progress&quot; propriety of seekbar until it reaches progress\r\n        ObjectAnimator animation = ObjectAnimator.ofInt(seekbar, &quot;progress&quot;, progress); \r\n        animation.setDuration(500); // 0.5 second\r\n        animation.setInterpolator(new DecelerateInterpolator());\r\n        animation.start();\r\n    }\r\n    else \r\n        seekbar.setProgress(progress); // no animation on Gingerbread or lower\r\n\r\nIf your minimum SDK is Gingerbread or lower, add:\r\n\r\n    @TargetApi(Build.VERSION_CODES.HONEYCOMB) \r\n    // or \r\n    @SuppressLint(&quot;NewApi&quot;) \r\nto your function/class.\r\n\r\nI used a DecelerateInterpolator, but this is optional and there are others possibilities.","title":"Make a ProgressBar update smoothly","body":"<p>The Interpolator has to be attached to an animation and this will work only on Honeycomb or higher:</p>\n\n<pre><code>if(android.os.Build.VERSION.SDK_INT &gt;= 11){\n    // will update the \"progress\" propriety of seekbar until it reaches progress\n    ObjectAnimator animation = ObjectAnimator.ofInt(seekbar, \"progress\", progress); \n    animation.setDuration(500); // 0.5 second\n    animation.setInterpolator(new DecelerateInterpolator());\n    animation.start();\n}\nelse \n    seekbar.setProgress(progress); // no animation on Gingerbread or lower\n</code></pre>\n\n<p>If your minimum SDK is Gingerbread or lower, add:</p>\n\n<pre><code>@TargetApi(Build.VERSION_CODES.HONEYCOMB) \n// or \n@SuppressLint(\"NewApi\") \n</code></pre>\n\n<p>to your function/class.</p>\n\n<p>I used a DecelerateInterpolator, but this is optional and there are others possibilities.</p>\n"},{"comments":[{"owner":{"account_id":28582,"reputation":101,"user_id":76461,"display_name":"Raj"},"score":0,"creation_date":1397159263,"post_id":20728139,"comment_id":35124072,"body_markdown":"Beautiful. Note, however, that this requires minSdkVersion of 11.","body":"Beautiful. Note, however, that this requires minSdkVersion of 11."},{"owner":{"account_id":482539,"reputation":8702,"user_id":896997,"accept_rate":95,"display_name":"tom91136"},"score":9,"creation_date":1420973637,"post_id":20728139,"comment_id":44173560,"body_markdown":"I hope that anything &lt; sdk 11 would disappear; supporting old versions of Android is like supporting IE6","body":"I hope that anything &lt; sdk 11 would disappear; supporting old versions of Android is like supporting IE6"},{"owner":{"account_id":2637468,"reputation":1889,"user_id":5299918,"display_name":"awsleiman"},"score":0,"creation_date":1491481184,"post_id":20728139,"comment_id":73578624,"body_markdown":"nice, just a small fix in the setSecondaryProgress :\nanimatorSecondary = ValueAnimator.ofInt(getSecondaryProgress(), secondaryProgress);\n          animatorSecondary.setIntValues(getSecondaryProgress(), secondaryProgress);","body":"nice, just a small fix in the setSecondaryProgress : animatorSecondary = ValueAnimator.ofInt(getSecondaryProgress(), secondaryProgress);           animatorSecondary.setIntValues(getSecondaryProgress(), secondaryProgress);"},{"owner":{"account_id":12565538,"reputation":1183,"user_id":9141664,"display_name":"Muhammad Farhan"},"score":0,"creation_date":1574417595,"post_id":20728139,"comment_id":104234825,"body_markdown":"This answer works like a charm as it reset the progress bar progress with reverse animation which is the problem I&#39;m facing in a recyclerView.","body":"This answer works like a charm as it reset the progress bar progress with reverse animation which is the problem I&#39;m facing in a recyclerView."}],"tags":[],"owner":{"account_id":482539,"reputation":8702,"user_id":896997,"accept_rate":95,"display_name":"tom91136"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1387705934,"creation_date":1387705934,"answer_id":20728139,"question_id":6097795,"body_markdown":"Here is a self-contained drop in solution:\r\n\r\n\timport android.animation.ValueAnimator;\r\n\timport android.animation.ValueAnimator.AnimatorUpdateListener;\r\n\timport android.content.Context;\r\n\timport android.util.AttributeSet;\r\n\timport android.view.animation.AccelerateDecelerateInterpolator;\r\n\timport android.view.animation.Interpolator;\r\n\timport android.widget.ProgressBar;\r\n\r\n\tpublic class AnimatingProgressBar extends ProgressBar {\r\n\r\n\t\tprivate static final Interpolator DEFAULT_INTERPOLATER = new AccelerateDecelerateInterpolator();\r\n\r\n\t\tprivate ValueAnimator animator;\r\n\t\tprivate ValueAnimator animatorSecondary;\r\n\t\tprivate boolean animate = true;\r\n\r\n\t\tpublic AnimatingProgressBar(Context context, AttributeSet attrs, int defStyle) {\r\n\t\t\tsuper(context, attrs, defStyle);\r\n\t\t}\r\n\r\n\t\tpublic AnimatingProgressBar(Context context, AttributeSet attrs) {\r\n\t\t\tsuper(context, attrs);\r\n\t\t}\r\n\r\n\t\tpublic AnimatingProgressBar(Context context) {\r\n\t\t\tsuper(context);\r\n\t\t}\r\n\r\n\t\tpublic boolean isAnimate() {\r\n\t\t\treturn animate;\r\n\t\t}\r\n\r\n\t\tpublic void setAnimate(boolean animate) {\r\n\t\t\tthis.animate = animate;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic synchronized void setProgress(int progress) {\r\n\t\t\tif (!animate) {\r\n\t\t\t\tsuper.setProgress(progress);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (animator != null)\r\n\t\t\t\tanimator.cancel();\r\n\t\t\tif (animator == null) {\r\n\t\t\t\tanimator = ValueAnimator.ofInt(getProgress(), progress);\r\n\t\t\t\tanimator.setInterpolator(DEFAULT_INTERPOLATER);\r\n\t\t\t\tanimator.addUpdateListener(new AnimatorUpdateListener() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onAnimationUpdate(ValueAnimator animation) {\r\n\t\t\t\t\t\tAnimatingProgressBar.super.setProgress((Integer) animation.getAnimatedValue());\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else\r\n\t\t\t\tanimator.setIntValues(getProgress(), progress);\r\n\t\t\tanimator.start();\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic synchronized void setSecondaryProgress(int secondaryProgress) {\r\n\t\t\tif (!animate) {\r\n\t\t\t\tsuper.setSecondaryProgress(secondaryProgress);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (animatorSecondary != null)\r\n\t\t\t\tanimatorSecondary.cancel();\r\n\t\t\tif (animatorSecondary == null) {\r\n\t\t\t\tanimatorSecondary = ValueAnimator.ofInt(getProgress(), secondaryProgress);\r\n\t\t\t\tanimatorSecondary.setInterpolator(DEFAULT_INTERPOLATER);\r\n\t\t\t\tanimatorSecondary.addUpdateListener(new AnimatorUpdateListener() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onAnimationUpdate(ValueAnimator animation) {\r\n\t\t\t\t\t\tAnimatingProgressBar.super.setSecondaryProgress((Integer) animation\r\n\t\t\t\t\t\t\t\t.getAnimatedValue());\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else\r\n\t\t\t\tanimatorSecondary.setIntValues(getProgress(), secondaryProgress);\r\n\t\t\tanimatorSecondary.start();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onDetachedFromWindow() {\r\n\t\t\tsuper.onDetachedFromWindow();\r\n\t\t\tif (animator != null)\r\n\t\t\t\tanimator.cancel();\r\n\t\t\tif (animatorSecondary != null)\r\n\t\t\t\tanimatorSecondary.cancel();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nreplace `ProgressBar` with `AnimatingProgressBar` in your layout\r\n\r\nYou many also change the type to AnimatingProgressBar to utilize `setAnimate()` to disable animation (could be useful when restoring activity state)\r\n","title":"Make a ProgressBar update smoothly","body":"<p>Here is a self-contained drop in solution:</p>\n\n<pre><code>import android.animation.ValueAnimator;\nimport android.animation.ValueAnimator.AnimatorUpdateListener;\nimport android.content.Context;\nimport android.util.AttributeSet;\nimport android.view.animation.AccelerateDecelerateInterpolator;\nimport android.view.animation.Interpolator;\nimport android.widget.ProgressBar;\n\npublic class AnimatingProgressBar extends ProgressBar {\n\n    private static final Interpolator DEFAULT_INTERPOLATER = new AccelerateDecelerateInterpolator();\n\n    private ValueAnimator animator;\n    private ValueAnimator animatorSecondary;\n    private boolean animate = true;\n\n    public AnimatingProgressBar(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n    }\n\n    public AnimatingProgressBar(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public AnimatingProgressBar(Context context) {\n        super(context);\n    }\n\n    public boolean isAnimate() {\n        return animate;\n    }\n\n    public void setAnimate(boolean animate) {\n        this.animate = animate;\n    }\n\n    @Override\n    public synchronized void setProgress(int progress) {\n        if (!animate) {\n            super.setProgress(progress);\n            return;\n        }\n        if (animator != null)\n            animator.cancel();\n        if (animator == null) {\n            animator = ValueAnimator.ofInt(getProgress(), progress);\n            animator.setInterpolator(DEFAULT_INTERPOLATER);\n            animator.addUpdateListener(new AnimatorUpdateListener() {\n\n                @Override\n                public void onAnimationUpdate(ValueAnimator animation) {\n                    AnimatingProgressBar.super.setProgress((Integer) animation.getAnimatedValue());\n                }\n            });\n        } else\n            animator.setIntValues(getProgress(), progress);\n        animator.start();\n\n    }\n\n    @Override\n    public synchronized void setSecondaryProgress(int secondaryProgress) {\n        if (!animate) {\n            super.setSecondaryProgress(secondaryProgress);\n            return;\n        }\n        if (animatorSecondary != null)\n            animatorSecondary.cancel();\n        if (animatorSecondary == null) {\n            animatorSecondary = ValueAnimator.ofInt(getProgress(), secondaryProgress);\n            animatorSecondary.setInterpolator(DEFAULT_INTERPOLATER);\n            animatorSecondary.addUpdateListener(new AnimatorUpdateListener() {\n\n                @Override\n                public void onAnimationUpdate(ValueAnimator animation) {\n                    AnimatingProgressBar.super.setSecondaryProgress((Integer) animation\n                            .getAnimatedValue());\n                }\n            });\n        } else\n            animatorSecondary.setIntValues(getProgress(), secondaryProgress);\n        animatorSecondary.start();\n    }\n\n    @Override\n    protected void onDetachedFromWindow() {\n        super.onDetachedFromWindow();\n        if (animator != null)\n            animator.cancel();\n        if (animatorSecondary != null)\n            animatorSecondary.cancel();\n    }\n\n}\n</code></pre>\n\n<p>replace <code>ProgressBar</code> with <code>AnimatingProgressBar</code> in your layout</p>\n\n<p>You many also change the type to AnimatingProgressBar to utilize <code>setAnimate()</code> to disable animation (could be useful when restoring activity state)</p>\n"},{"tags":[],"owner":{"account_id":5009550,"reputation":1537,"user_id":4026208,"display_name":"Pavel Kataykin"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1467798924,"creation_date":1467798924,"answer_id":38221166,"question_id":6097795,"body_markdown":"If you change progress value each time by 1 (for example from 45 to 46) you&#39;ll not see animation. Better to change progress by 100 points, for this you just need to multiply your max value to 100 and each progress value to 100 too. For example:\r\n\r\n    private void setProgressMax(ProgressBar pb, int max) {\r\n        pb.setMax(max * 100);\r\n    }\r\n\r\n    private void setProgressAnimate(ProgressBar pb, int progressTo) \r\n    {\r\n        ObjectAnimator animation = ObjectAnimator.ofInt(pb, &quot;progress&quot;, pb.getProgress(), progressTo * 100);\r\n        animation.setDuration(500);\r\n        animation.setInterpolator(new DecelerateInterpolator());\r\n        animation.start();\r\n    }","title":"Make a ProgressBar update smoothly","body":"<p>If you change progress value each time by 1 (for example from 45 to 46) you'll not see animation. Better to change progress by 100 points, for this you just need to multiply your max value to 100 and each progress value to 100 too. For example:</p>\n\n<pre><code>private void setProgressMax(ProgressBar pb, int max) {\n    pb.setMax(max * 100);\n}\n\nprivate void setProgressAnimate(ProgressBar pb, int progressTo) \n{\n    ObjectAnimator animation = ObjectAnimator.ofInt(pb, \"progress\", pb.getProgress(), progressTo * 100);\n    animation.setDuration(500);\n    animation.setInterpolator(new DecelerateInterpolator());\n    animation.start();\n}\n</code></pre>\n"}],"owner":{"account_id":274883,"reputation":5504,"user_id":567390,"accept_rate":89,"display_name":"Todd Davies"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61618,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":16002144,"answer_count":6,"score":53,"last_activity_date":1678309597,"creation_date":1306156996,"question_id":6097795,"body_markdown":"I&#39;m using a progress bar (in bar form). I wish to make the bar increase and decrease smoothly using an interpolator, but It&#39;s not working. This is what I have at the moment:\r\n\r\n    pb.setInterpolator(main.this, android.R.anim.bounce_interpolator);\t\t       \r\n    pb.setProgress(pb.getProgress()+10);\r\n\r\nAm I doing something really wrong?","title":"Make a ProgressBar update smoothly","body":"<p>I'm using a progress bar (in bar form). I wish to make the bar increase and decrease smoothly using an interpolator, but It's not working. This is what I have at the moment:</p>\n\n<pre><code>pb.setInterpolator(main.this, android.R.anim.bounce_interpolator);             \npb.setProgress(pb.getProgress()+10);\n</code></pre>\n\n<p>Am I doing something really wrong?</p>\n"},{"tags":["java","hibernate","heap-memory","heap-dump"],"answers":[{"comments":[{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1586352850,"post_id":46504297,"comment_id":108096904,"body_markdown":"Thanks for the answer. Maybe this will help other people, but just for the record: none of these settings help me to decrease the memory consuption.","body":"Thanks for the answer. Maybe this will help other people, but just for the record: none of these settings help me to decrease the memory consuption."}],"tags":[],"owner":{"account_id":7810518,"reputation":465,"user_id":5906841,"display_name":"i.merkurev"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1506786990,"creation_date":1506786015,"answer_id":46504297,"question_id":46496411,"body_markdown":"There are really a lot of issues which were related with &quot;Query Plan Cache Memory usage&quot;. ([1][1], [2][2], [3][3], [4][4]). But as a solution right now we can setup some settings, one of them - *hibernate.query.plan_cache_max_size*. It&#39;s weird, that it didn&#39;t help, in my case it worked. Perhaps the issue is hiding somewhere else.\r\n\r\nIf you have a heap dump, try to check your assumption by using Memory Analyzer (MAT), run this OQL query (if you haven&#39;t done it yet):\r\n\r\n    SELECT l.query.toString() FROM INSTANCEOF org.hibernate.engine.query.spi.QueryPlanCache$HQLQueryPlanKey l\r\n\r\nIt will give you an additional information.\r\n\r\nAnd just in case. Did you try to change a value for all these settings?\r\n\r\n    &quot;hibernate.cache.query_cache_factory&quot;\r\n    &quot;hibernate.query.plan_cache_max_size&quot;\r\n    &quot;hibernate.query.plan_cache_max_soft_references&quot;\r\n    &quot;hibernate.query.plan_cache_max_strong_references&quot;\r\n    &quot;hibernate.query.plan_parameter_metadata_max_size&quot;\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-5300\r\n  [2]: https://hibernate.atlassian.net/browse/HHH-2431\r\n  [3]: https://hibernate.atlassian.net/browse/HHH-3191\r\n  [4]: https://hibernate.atlassian.net/browse/HHH-4627","title":"Lots of hibernate queries in heap dump. How can I limit?","body":"<p>There are really a lot of issues which were related with \"Query Plan Cache Memory usage\". (<a href=\"https://hibernate.atlassian.net/browse/HHH-5300\" rel=\"noreferrer\">1</a>, <a href=\"https://hibernate.atlassian.net/browse/HHH-2431\" rel=\"noreferrer\">2</a>, <a href=\"https://hibernate.atlassian.net/browse/HHH-3191\" rel=\"noreferrer\">3</a>, <a href=\"https://hibernate.atlassian.net/browse/HHH-4627\" rel=\"noreferrer\">4</a>). But as a solution right now we can setup some settings, one of them - <em>hibernate.query.plan_cache_max_size</em>. It's weird, that it didn't help, in my case it worked. Perhaps the issue is hiding somewhere else.</p>\n\n<p>If you have a heap dump, try to check your assumption by using Memory Analyzer (MAT), run this OQL query (if you haven't done it yet):</p>\n\n<pre><code>SELECT l.query.toString() FROM INSTANCEOF org.hibernate.engine.query.spi.QueryPlanCache$HQLQueryPlanKey l\n</code></pre>\n\n<p>It will give you an additional information.</p>\n\n<p>And just in case. Did you try to change a value for all these settings?</p>\n\n<pre><code>\"hibernate.cache.query_cache_factory\"\n\"hibernate.query.plan_cache_max_size\"\n\"hibernate.query.plan_cache_max_soft_references\"\n\"hibernate.query.plan_cache_max_strong_references\"\n\"hibernate.query.plan_parameter_metadata_max_size\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4468566,"reputation":56,"user_id":3635428,"display_name":"Hien Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678309248,"creation_date":1560163840,"answer_id":56524973,"question_id":46496411,"body_markdown":"The &quot;hibernate.query.plan_cache_max_size&quot; works for me. This hibernate query cache can be reduced from the implementation by trying to avoid dynamic parameters sent to &quot;IN&quot; condition in the query.\r\n\r\n    SELECT * FROM TEST_TABLE WHERE A_COLUNN IN ($param1, $param2, ....)\r\nEach call to the hibernate query which generated above sample query with a specific number of parameter would store 1 row in the cache plan.\r\n\r\nInstead hibernate can be configured to send a fixed number of parameters by power of two by setting the property\r\n\r\n    hibernate.query.in_clause_parameter_padding: true\r\n\r\nAs an example if there are 5,6,7, or 8 parameters then it will use `in ($param1,$param2,$param3,$param4,$param5,$param6,$param7,$param8)`, in the case that there are only 5 parameters, then the last parameter is repeated 4 times.\r\n\r\nIn this way the number of query plans in the hibernate cache is greatly reduced. As well as reducing the amount of ram required for these very large queries, it should also increase the hit rate.  This benefit extends to the database SQL query plan cache if your RDBMS features one.\r\n\r\nReference: \r\nhttps://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#configurations-query","title":"Lots of hibernate queries in heap dump. How can I limit?","body":"<p>The &quot;hibernate.query.plan_cache_max_size&quot; works for me. This hibernate query cache can be reduced from the implementation by trying to avoid dynamic parameters sent to &quot;IN&quot; condition in the query.</p>\n<pre><code>SELECT * FROM TEST_TABLE WHERE A_COLUNN IN ($param1, $param2, ....)\n</code></pre>\n<p>Each call to the hibernate query which generated above sample query with a specific number of parameter would store 1 row in the cache plan.</p>\n<p>Instead hibernate can be configured to send a fixed number of parameters by power of two by setting the property</p>\n<pre><code>hibernate.query.in_clause_parameter_padding: true\n</code></pre>\n<p>As an example if there are 5,6,7, or 8 parameters then it will use <code>in ($param1,$param2,$param3,$param4,$param5,$param6,$param7,$param8)</code>, in the case that there are only 5 parameters, then the last parameter is repeated 4 times.</p>\n<p>In this way the number of query plans in the hibernate cache is greatly reduced. As well as reducing the amount of ram required for these very large queries, it should also increase the hit rate.  This benefit extends to the database SQL query plan cache if your RDBMS features one.</p>\n<p>Reference:\n<a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#configurations-query\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#configurations-query</a></p>\n"}],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5045,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1678309248,"creation_date":1506716451,"question_id":46496411,"body_markdown":"I&#39;m dealing with a big application that have hundreds of hibernate entities and `EAGER` associations. When I start this application the memory consumption is very high (more than 1 GB).\r\n\r\nLooking in the JVM heap dump of the application just after started, I analyzed and understood that the most of the memory is occupied by `char[]` with different `SELECT` statements from different entities of the application.\r\n\r\nI suppose that this `SELECT`s are generated by the query plan cache of the Hibernate.\r\n\r\nI would like to limit the size of this cache for the development environment. I tried to limit the size with some properties:\r\n\r\n    &quot;hibernate.query.plan_cache_max_size&quot;, &quot;16&quot; //default is 2048\r\n    &quot;hibernate.query.plan_parameter_metadata_max_size&quot;, &quot;16&quot; //default is 128\r\n\r\nBut there is no difference in the memory consumption.\r\n\r\nWhat I&#39;m supposed to do to limit the cache of Hibernate queries?\r\n\r\nI&#39;m using Hibernate 5.0.10.","title":"Lots of hibernate queries in heap dump. How can I limit?","body":"<p>I'm dealing with a big application that have hundreds of hibernate entities and <code>EAGER</code> associations. When I start this application the memory consumption is very high (more than 1 GB).</p>\n\n<p>Looking in the JVM heap dump of the application just after started, I analyzed and understood that the most of the memory is occupied by <code>char[]</code> with different <code>SELECT</code> statements from different entities of the application.</p>\n\n<p>I suppose that this <code>SELECT</code>s are generated by the query plan cache of the Hibernate.</p>\n\n<p>I would like to limit the size of this cache for the development environment. I tried to limit the size with some properties:</p>\n\n<pre><code>\"hibernate.query.plan_cache_max_size\", \"16\" //default is 2048\n\"hibernate.query.plan_parameter_metadata_max_size\", \"16\" //default is 128\n</code></pre>\n\n<p>But there is no difference in the memory consumption.</p>\n\n<p>What I'm supposed to do to limit the cache of Hibernate queries?</p>\n\n<p>I'm using Hibernate 5.0.10.</p>\n"},{"tags":["java","http","http-headers","vert.x","web-client"],"comments":[{"owner":{"account_id":13182557,"reputation":1084,"user_id":9521512,"display_name":"Gregoire Ducharme"},"score":0,"creation_date":1533047706,"post_id":51600666,"comment_id":90197166,"body_markdown":"Why did you had to change your HTTP method from `GET` to `POST` ? This seems pretty weird","body":"Why did you had to change your HTTP method from <code>GET</code> to <code>POST</code> ? This seems pretty weird"},{"owner":{"account_id":3151445,"reputation":2418,"user_id":2664815,"accept_rate":100,"display_name":"aCarella"},"score":0,"creation_date":1533128327,"post_id":51600666,"comment_id":90232005,"body_markdown":"Specific to the API I was using.","body":"Specific to the API I was using."}],"answers":[{"tags":[],"owner":{"account_id":23919410,"reputation":26,"user_id":17915490,"display_name":"Divanshi Mittal"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1641996739,"creation_date":1641996226,"answer_id":70682940,"question_id":51600666,"body_markdown":"You need to change \r\n\r\n    webClient.get(&quot;http://my-endpoint.com/api/get-items&quot;)\r\n\r\nto\r\n\r\n    webClient.get(80, &quot;my-endpoint.com&quot;, &quot;/api/get-items&quot;)","title":"Using Vert.x Web Client to send GET requests properly with headers","body":"<p>You need to change</p>\n<pre><code>webClient.get(&quot;http://my-endpoint.com/api/get-items&quot;)\n</code></pre>\n<p>to</p>\n<pre><code>webClient.get(80, &quot;my-endpoint.com&quot;, &quot;/api/get-items&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5478419,"reputation":148,"user_id":4355746,"display_name":"James Sutherland"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678309210,"creation_date":1678309210,"answer_id":75678171,"question_id":51600666,"body_markdown":"You can use the getAbs method if you don&#39;t want to parse the url yourself.\r\n\r\n    webClient.getAbs(&quot;http://my-endpoint.com/api/get-items&quot;)\r\n\r\nThis also applies to any request method, `postAbs`, `putAbs`, etc.","title":"Using Vert.x Web Client to send GET requests properly with headers","body":"<p>You can use the getAbs method if you don't want to parse the url yourself.</p>\n<pre><code>webClient.getAbs(&quot;http://my-endpoint.com/api/get-items&quot;)\n</code></pre>\n<p>This also applies to any request method, <code>postAbs</code>, <code>putAbs</code>, etc.</p>\n"}],"owner":{"account_id":3151445,"reputation":2418,"user_id":2664815,"accept_rate":100,"display_name":"aCarella"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70682940,"answer_count":2,"score":0,"last_activity_date":1678309210,"creation_date":1532977506,"question_id":51600666,"body_markdown":"I have an internal endpoint that I am trying to send `GET` requests to with Vert.x Web Client with Java. So far, I am unable to successfully get any data back.\r\n\r\nIf I cURL the endpoint, it works just fine (these are internal endpoints). The service I am trying to send `GET` requests to requires a few headers , and data as well:\r\n\r\n    curl -H &quot;Accept:application/json&quot; -H &quot;Content-Type:application/json&quot; -H &quot;alpha:192.168.10.20&quot; -d &#39;{&quot;mutate&quot;:&quot;*&quot;}&#39; http://my-endpoint.com/api/get-items\r\n\r\nBut if I try to use this in one of my router endpoints in Vert.x, I get an error:\r\n\r\n    WebClient webClient = WebClient.create(vertx);\r\n        webClient.get(&quot;http://my-endpoint.com/api/get-items&quot;)\r\n            .putHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n            .putHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            .putHeader(&quot;alpha&quot;, &quot;192.168.10.20&quot;)\r\n            .sendJsonObject(new JsonObject().put(&quot;mutate&quot;, &quot;*&quot;), ar -&gt; { \r\n                if (ar.succeeded()) {\r\n                    System.out.println(&quot;##### WEBCLIENT #####&quot;);\r\n                    System.out.println(ar);\r\n                } else {\r\n                    System.out.println(&quot;CAUSE: &quot; + ar.cause().getMessage());\r\n                    \r\n                }\r\n        });\r\n\r\nThe error message I get from the else statement is:\r\n\r\n    CAUSE: Connection refused: localhost/127.0.0.1:80\r\n\r\nWhat am I doing wrong? I&#39;ve been using this for reference: [Vert.x Web Client][1]\r\n\r\n\r\n\r\n\r\n\r\n===========================================\r\n\r\n&lt;b&gt;SOLUTION&lt;/b&gt;\r\n\r\n===========================================\r\n\r\n\r\nI had to change\r\n\r\n    webClient.get(&quot;http://my-endpoint.com/api/get-items&quot;)\r\n\r\nto\r\n\r\n    webClient.post(80, &quot;my-endpoint.com&quot;, &quot;/api/get-items&quot;)\r\n\r\nAlso had to add `.as(BodyCodec.jsonArray())` underneath the above line because the result I was getting was a Json Array.\r\n\r\n\r\n  [1]: https://vertx.io/docs/vertx-web-client/java/","title":"Using Vert.x Web Client to send GET requests properly with headers","body":"<p>I have an internal endpoint that I am trying to send <code>GET</code> requests to with Vert.x Web Client with Java. So far, I am unable to successfully get any data back.</p>\n\n<p>If I cURL the endpoint, it works just fine (these are internal endpoints). The service I am trying to send <code>GET</code> requests to requires a few headers , and data as well:</p>\n\n<pre><code>curl -H \"Accept:application/json\" -H \"Content-Type:application/json\" -H \"alpha:192.168.10.20\" -d '{\"mutate\":\"*\"}' http://my-endpoint.com/api/get-items\n</code></pre>\n\n<p>But if I try to use this in one of my router endpoints in Vert.x, I get an error:</p>\n\n<pre><code>WebClient webClient = WebClient.create(vertx);\n    webClient.get(\"http://my-endpoint.com/api/get-items\")\n        .putHeader(\"Accept\", \"application/json\")\n        .putHeader(\"Content-Type\", \"application/json\")\n        .putHeader(\"alpha\", \"192.168.10.20\")\n        .sendJsonObject(new JsonObject().put(\"mutate\", \"*\"), ar -&gt; { \n            if (ar.succeeded()) {\n                System.out.println(\"##### WEBCLIENT #####\");\n                System.out.println(ar);\n            } else {\n                System.out.println(\"CAUSE: \" + ar.cause().getMessage());\n\n            }\n    });\n</code></pre>\n\n<p>The error message I get from the else statement is:</p>\n\n<pre><code>CAUSE: Connection refused: localhost/127.0.0.1:80\n</code></pre>\n\n<p>What am I doing wrong? I've been using this for reference: <a href=\"https://vertx.io/docs/vertx-web-client/java/\" rel=\"nofollow noreferrer\">Vert.x Web Client</a></p>\n\n<p>===========================================</p>\n\n<p><b>SOLUTION</b></p>\n\n<p>===========================================</p>\n\n<p>I had to change</p>\n\n<pre><code>webClient.get(\"http://my-endpoint.com/api/get-items\")\n</code></pre>\n\n<p>to</p>\n\n<pre><code>webClient.post(80, \"my-endpoint.com\", \"/api/get-items\")\n</code></pre>\n\n<p>Also had to add <code>.as(BodyCodec.jsonArray())</code> underneath the above line because the result I was getting was a Json Array.</p>\n"},{"tags":["java","random","uuid","guid"],"comments":[{"owner":{"account_id":1700,"reputation":24591,"user_id":2291,"accept_rate":88,"display_name":"Jon Adams"},"score":3,"creation_date":1350575290,"post_id":2982748,"comment_id":17568338,"body_markdown":"The question at http://stackoverflow.com/questions/325443/generate-uuid-in-java is more about GUID collisions, then just how what the equivalent of a GUID is in the Java tech stack, which is what (I think) is more the focus of this question.","body":"The question at <a href=\"http://stackoverflow.com/questions/325443/generate-uuid-in-java\">stackoverflow.com/questions/325443/generate-uuid-in-java</a> is more about GUID collisions, then just how what the equivalent of a GUID is in the Java tech stack, which is what (I think) is more the focus of this question."}],"answers":[{"comments":[{"owner":{"account_id":1814811,"reputation":633,"user_id":1650137,"display_name":"Zero3"},"score":10,"creation_date":1452504552,"post_id":2982750,"comment_id":57181777,"body_markdown":"If you include an example like Kaleb Brasee did, your good answer would be even better.","body":"If you include an example like Kaleb Brasee did, your good answer would be even better."},{"owner":{"account_id":93254,"reputation":8418,"user_id":255243,"accept_rate":88,"display_name":"raddevus"},"score":0,"creation_date":1494619497,"post_id":2982750,"comment_id":74924124,"body_markdown":"Works in AndroidStudio 2.3 and on API levels 21 and beyond at least.  Maybe further back too.","body":"Works in AndroidStudio 2.3 and on API levels 21 and beyond at least.  Maybe further back too."},{"owner":{"account_id":2562985,"reputation":3978,"user_id":2223753,"accept_rate":82,"display_name":"Aviram Fireberger"},"score":8,"creation_date":1534162958,"post_id":2982750,"comment_id":90598367,"body_markdown":"TL;DR...     &quot;  UUID uuid = UUID.randomUUID();  &quot;","body":"TL;DR...     &quot;  UUID uuid = UUID.randomUUID();  &quot;"}],"tags":[],"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"comment_count":3,"down_vote_count":1,"up_vote_count":392,"is_accepted":true,"score":391,"last_activity_date":1437081070,"creation_date":1275786885,"answer_id":2982750,"question_id":2982748,"body_markdown":"Have a look at the [UUID class][1] bundled with Java 5 and later. \r\n\r\nFor example:\r\n\r\n* If you want a random UUID you can use the [randomUUID][2] method.\r\n* If you want a UUID initialized to a specific value you can use the [UUID constructor][3] or the [fromString][4] method.\r\n\r\n[1]: http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html\r\n[2]: http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID()\r\n[3]: http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#UUID(long,%20long)\r\n[4]: http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#fromString(java.lang.String)","title":"Create a GUID / UUID in Java","body":"<p>Have a look at the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html\" rel=\"noreferrer\">UUID class</a> bundled with Java 5 and later. </p>\n\n<p>For example:</p>\n\n<ul>\n<li>If you want a random UUID you can use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID()\" rel=\"noreferrer\">randomUUID</a> method.</li>\n<li>If you want a UUID initialized to a specific value you can use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#UUID(long,%20long)\" rel=\"noreferrer\">UUID constructor</a> or the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#fromString(java.lang.String)\" rel=\"noreferrer\">fromString</a> method.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":287080,"reputation":4522,"user_id":586687,"accept_rate":68,"display_name":"angel"},"score":2,"creation_date":1375884816,"post_id":2982751,"comment_id":26505900,"body_markdown":"could it return repeat? because Guid never are going to repeat","body":"could it return repeat? because Guid never are going to repeat"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":6,"creation_date":1437082125,"post_id":2982751,"comment_id":50895966,"body_markdown":"@angel Yes, it is theoretically possible for the `UUID.randomUUID` method to return a duplicate, but this is **not at all a realistic concern**. The Oracle/OpenJDK implementation uses a cryptographically-strong random number generator. Given that, and given the *astronomical range* given by so many bits in a UUID, you can generate many millions of such values in your app and still sleep well. Using one of the other variants further reduces the possibility of collisions even closer to zero because of using &quot;space and time&quot;, [1] MAC address or name, and [2] current date-time, as constraints.","body":"@angel Yes, it is theoretically possible for the <code>UUID.randomUUID</code> method to return a duplicate, but this is <b>not at all a realistic concern</b>. The Oracle/OpenJDK implementation uses a cryptographically-strong random number generator. Given that, and given the <i>astronomical range</i> given by so many bits in a UUID, you can generate many millions of such values in your app and still sleep well. Using one of the other variants further reduces the possibility of collisions even closer to zero because of using &quot;space and time&quot;, [1] MAC address or name, and [2] current date-time, as constraints."},{"owner":{"account_id":169541,"reputation":5448,"user_id":395685,"accept_rate":100,"display_name":"Nyerguds"},"score":1,"creation_date":1467724316,"post_id":2982751,"comment_id":63832654,"body_markdown":"@RenniePet Eh, if you&#39;re that paranoid, and you got access to the list of the already-used IDs when creating a new one, you just generate new ones in a `while` until you got one that isn&#39;t inside your list :p","body":"@RenniePet Eh, if you&#39;re that paranoid, and you got access to the list of the already-used IDs when creating a new one, you just generate new ones in a <code>while</code> until you got one that isn&#39;t inside your list :p"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1505352428,"post_id":2982751,"comment_id":79381471,"body_markdown":"The Oracle crypto random number generator is typically a PRNG with a random seed.  The random seed is typically obtained using a source of &quot;entropy&quot; provided by the OS.  If you can degrade or compromise that source, then the probability of a crypto random number generator producing the same number is increased.  It is also worth noting that on some (e.g. virtualized) platforms, the OS can run out of entropy.  There are &quot;dodgy hacks&quot; to workaround this, but they entail degrading the quality of the entropy.","body":"The Oracle crypto random number generator is typically a PRNG with a random seed.  The random seed is typically obtained using a source of &quot;entropy&quot; provided by the OS.  If you can degrade or compromise that source, then the probability of a crypto random number generator producing the same number is increased.  It is also worth noting that on some (e.g. virtualized) platforms, the OS can run out of entropy.  There are &quot;dodgy hacks&quot; to workaround this, but they entail degrading the quality of the entropy."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1505352555,"post_id":2982751,"comment_id":79381496,"body_markdown":"This is not just an academic concern.  I have seen an (**unverified !!**) claim that someone *did* run into problems with random-based UUIDs not being unique.","body":"This is not just an academic concern.  I have seen an (<b>unverified !!</b>) claim that someone <i>did</i> run into problems with random-based UUIDs not being unique."}],"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"comment_count":5,"down_vote_count":2,"up_vote_count":501,"is_accepted":false,"score":499,"last_activity_date":1275786963,"creation_date":1275786963,"answer_id":2982751,"question_id":2982748,"body_markdown":"`java.util.UUID.randomUUID();`","title":"Create a GUID / UUID in Java","body":"<p><code>java.util.UUID.randomUUID();</code></p>\n"},{"comments":[{"owner":{"account_id":1746184,"reputation":418,"user_id":1596352,"display_name":"DennisK"},"score":1,"creation_date":1358767836,"post_id":2983008,"comment_id":20101126,"body_markdown":"Not completely true, it can also generate name-based (version 3) UUIDs with `UUID.nameUUIDFromBytes(byte[] name)`","body":"Not completely true, it can also generate name-based (version 3) UUIDs with <code>UUID.nameUUIDFromBytes(byte[] name)</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1446201192,"post_id":2983008,"comment_id":54655830,"body_markdown":"I stand corrected.  I relied on the javadoc description which says *&quot;Static factory to **retrieve** a type 3 (name based) UUID based on the specified byte array. &quot;*","body":"I stand corrected.  I relied on the javadoc description which says <i>&quot;Static factory to <b>retrieve</b> a type 3 (name based) UUID based on the specified byte array. &quot;</i>"},{"owner":{"account_id":1240361,"reputation":528,"user_id":1203126,"display_name":"slartibartfast"},"score":0,"creation_date":1505338801,"post_id":2983008,"comment_id":79377866,"body_markdown":"I don&#39;t think the post is accurate. The [UUID Java docs](https://docs.oracle.com/javase/8/docs/api/index.html?overview-summary.html) state the constructor generates a type 2 variant, not random. For type 3 use `public static UUID nameUUIDFromBytes(byte[] name)`. for type 4 use `public static UUID randomUUID()`. Type 1 is not available with the JDK class.","body":"I don&#39;t think the post is accurate. The <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?overview-summary.html\" rel=\"nofollow noreferrer\">UUID Java docs</a> state the constructor generates a type 2 variant, not random. For type 3 use <code>public static UUID nameUUIDFromBytes(byte[] name)</code>. for type 4 use <code>public static UUID randomUUID()</code>. Type 1 is not available with the JDK class."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1505343411,"post_id":2983008,"comment_id":79379359,"body_markdown":"No.  I think I got it pretty much right.  The javadocs state: *&quot;although the constructors allow the creation of any variant of UUID (described below).&quot;* and 4 variants are listed below, including type 1.  Indeed, read the javadoc for `clockSequence()`","body":"No.  I think I got it pretty much right.  The javadocs state: <i>&quot;although the constructors allow the creation of any variant of UUID (described below).&quot;</i> and 4 variants are listed below, including type 1.  Indeed, read the javadoc for <code>clockSequence()</code>"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1505343360,"creation_date":1275794897,"answer_id":2983008,"question_id":2982748,"body_markdown":"It depends what kind of [UUID][1] you want.\r\n\r\n - The standard Java [`UUID`][2] class generates [Version 4][3] (random) UUIDs.  (**UPDATE** - [Version 3][4] (name) UUIDs can also be generated.) It can also handle other variants, though it cannot generate them.  (In this case, &quot;handle&quot; means construct `UUID` instances from [`long`][5], [`byte[]`][4] or [`String`][6] representations, and provide some appropriate accessors.)\r\n\r\n - The [Java UUID Generator (JUG)][7] implementation purports to support &quot;all 3 &#39;official&#39; types of UUID as defined by [RFC-4122][8]&quot; ... though the RFC actually defines 4 types and mentions a 5th type.\r\n\r\nFor more information on UUID types and variants, there is a good summary in [Wikipedia][9], and the gory details are in [RFC 4122][10] and the other specifications.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Universally_unique_identifier\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html\r\n  [3]: https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_.28random.29\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#nameUUIDFromBytes-byte:A-\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#UUID-long-long-\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#fromString-java.lang.String-\r\n  [7]: http://wiki.fasterxml.com/JugHome\r\n  [8]: https://www.rfc-editor.org/rfc/rfc4122\r\n  [9]: http://en.wikipedia.org/wiki/Uuid\r\n  [10]: https://www.rfc-editor.org/rfc/rfc4122","title":"Create a GUID / UUID in Java","body":"<p>It depends what kind of <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID</a> you want.</p>\n<ul>\n<li><p>The standard Java <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html\" rel=\"nofollow noreferrer\"><code>UUID</code></a> class generates <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_.28random.29\" rel=\"nofollow noreferrer\">Version 4</a> (random) UUIDs.  (<strong>UPDATE</strong> - <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#nameUUIDFromBytes-byte:A-\" rel=\"nofollow noreferrer\">Version 3</a> (name) UUIDs can also be generated.) It can also handle other variants, though it cannot generate them.  (In this case, &quot;handle&quot; means construct <code>UUID</code> instances from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#UUID-long-long-\" rel=\"nofollow noreferrer\"><code>long</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#nameUUIDFromBytes-byte:A-\" rel=\"nofollow noreferrer\"><code>byte[]</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#fromString-java.lang.String-\" rel=\"nofollow noreferrer\"><code>String</code></a> representations, and provide some appropriate accessors.)</p>\n</li>\n<li><p>The <a href=\"http://wiki.fasterxml.com/JugHome\" rel=\"nofollow noreferrer\">Java UUID Generator (JUG)</a> implementation purports to support &quot;all 3 'official' types of UUID as defined by <a href=\"https://www.rfc-editor.org/rfc/rfc4122\" rel=\"nofollow noreferrer\">RFC-4122</a>&quot; ... though the RFC actually defines 4 types and mentions a 5th type.</p>\n</li>\n</ul>\n<p>For more information on UUID types and variants, there is a good summary in <a href=\"http://en.wikipedia.org/wiki/Uuid\" rel=\"nofollow noreferrer\">Wikipedia</a>, and the gory details are in <a href=\"https://www.rfc-editor.org/rfc/rfc4122\" rel=\"nofollow noreferrer\">RFC 4122</a> and the other specifications.</p>\n"},{"comments":[{"owner":{"account_id":1746184,"reputation":418,"user_id":1596352,"display_name":"DennisK"},"score":5,"creation_date":1517909125,"post_id":31464974,"comment_id":84275338,"body_markdown":"I have some issues with your answer: First, it was already shown to be wrong that you can only get V4 from the standard Java library (V3 is also possible). Secondly, you make it sound like there&#39;s no options within Java besides the standard library, along with a hand-wavy &quot;because of security concerns&quot;. And last, it&#39;s just generally inefficient (programming- and/or performance-wise) to start depending on outside sources when there&#39;s plenty of ways to do it within Java (unless you need it in those, of course, e.g. as part of creating a record in the SQL server).","body":"I have some issues with your answer: First, it was already shown to be wrong that you can only get V4 from the standard Java library (V3 is also possible). Secondly, you make it sound like there&#39;s no options within Java besides the standard library, along with a hand-wavy &quot;because of security concerns&quot;. And last, it&#39;s just generally inefficient (programming- and/or performance-wise) to start depending on outside sources when there&#39;s plenty of ways to do it within Java (unless you need it in those, of course, e.g. as part of creating a record in the SQL server)."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":4,"up_vote_count":12,"is_accepted":false,"score":8,"last_activity_date":1470431679,"creation_date":1437082703,"answer_id":31464974,"question_id":2982748,"body_markdown":"The other Answers are correct, especially [this one](https://stackoverflow.com/a/2983008/642706) by [Stephen C](https://stackoverflow.com/users/139985/stephen-c).\r\n\r\n# Reaching Outside Java\r\n\r\n[Generating a UUID][1] value within Java is limited to [Version 4 (random)][2] because of security concerns. \r\n\r\nIf you want other versions of UUIDs, one avenue is to have your Java app reach outside the [JVM][3] to generate UUIDs by calling on:\r\n\r\n - **Command-line utility**&lt;br /&gt;Bundled with nearly every operating system.&lt;br /&gt; For example, [`uuidgen`][4] found in Mac OS X, BSD, and Linux.\r\n - **Database server**&lt;br /&gt;Use [JDBC][5] to retrieve a UUID generated on the database server.&lt;br /&gt;For example, the [`uuid-ossp`][6] extension often bundled with [Postgres][7]. That extension can generates Versions 1, 3, and 4 values and additionally a couple variations:\r\n  - `uuid_generate_v1mc()` –&#160;generates a version 1 UUID but uses a random multicast MAC address instead of the real MAC address of the computer.\r\n  - `uuid_generate_v5(namespace uuid, name text)` –&#160;generates a version 5 UUID, which works like a version 3 UUID except that SHA-1 is used as a hashing method.\r\n - **Web Service**&lt;br /&gt;For example, [UUID Generator](https://www.uuidgenerator.net/api) creates Versions 1 &amp; 3 as well as [nil values][8] and [GUID][9].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID--\r\n  [2]: https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_.28random.29\r\n  [3]: https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=2&amp;cad=rja&amp;uact=8&amp;ved=0CCIQFjABahUKEwj1jKa_zuDGAhXEEpIKHYwoAQw&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FJava_virtual_machine&amp;ei=kCSoVfWEDcSlyASM0YRg&amp;usg=AFQjCNE6RcWP8IuAXecy2dIl9NayBO_iBg&amp;sig2=0JkiHdYJ1SDk7s65x8N-vA&amp;bvm=bv.97949915,d.aWw\r\n  [4]: http://www.freebsd.org/cgi/man.cgi?query=uuidgen&amp;sektion=1\r\n  [5]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [6]: http://www.postgresql.org/docs/current/static/uuid-ossp.html\r\n  [7]: http://www.postgresql.org/\r\n  [8]: https://www.rfc-editor.org/rfc/rfc4122#section-4.1.7\r\n  [9]: https://en.wikipedia.org/wiki/Globally_unique_identifier","title":"Create a GUID / UUID in Java","body":"<p>The other Answers are correct, especially <a href=\"https://stackoverflow.com/a/2983008/642706\">this one</a> by <a href=\"https://stackoverflow.com/users/139985/stephen-c\">Stephen C</a>.</p>\n<h1>Reaching Outside Java</h1>\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/UUID.html#randomUUID--\" rel=\"nofollow noreferrer\">Generating a UUID</a> value within Java is limited to <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_.28random.29\" rel=\"nofollow noreferrer\">Version 4 (random)</a> because of security concerns.</p>\n<p>If you want other versions of UUIDs, one avenue is to have your Java app reach outside the <a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=2&amp;cad=rja&amp;uact=8&amp;ved=0CCIQFjABahUKEwj1jKa_zuDGAhXEEpIKHYwoAQw&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FJava_virtual_machine&amp;ei=kCSoVfWEDcSlyASM0YRg&amp;usg=AFQjCNE6RcWP8IuAXecy2dIl9NayBO_iBg&amp;sig2=0JkiHdYJ1SDk7s65x8N-vA&amp;bvm=bv.97949915,d.aWw\" rel=\"nofollow noreferrer\">JVM</a> to generate UUIDs by calling on:</p>\n<ul>\n<li><strong>Command-line utility</strong><br />Bundled with nearly every operating system.<br /> For example, <a href=\"http://www.freebsd.org/cgi/man.cgi?query=uuidgen&amp;sektion=1\" rel=\"nofollow noreferrer\"><code>uuidgen</code></a> found in Mac OS X, BSD, and Linux.</li>\n<li><strong>Database server</strong><br />Use <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a> to retrieve a UUID generated on the database server.<br />For example, the <a href=\"http://www.postgresql.org/docs/current/static/uuid-ossp.html\" rel=\"nofollow noreferrer\"><code>uuid-ossp</code></a> extension often bundled with <a href=\"http://www.postgresql.org/\" rel=\"nofollow noreferrer\">Postgres</a>. That extension can generates Versions 1, 3, and 4 values and additionally a couple variations:</li>\n<li><code>uuid_generate_v1mc()</code> – generates a version 1 UUID but uses a random multicast MAC address instead of the real MAC address of the computer.</li>\n<li><code>uuid_generate_v5(namespace uuid, name text)</code> – generates a version 5 UUID, which works like a version 3 UUID except that SHA-1 is used as a hashing method.</li>\n<li><strong>Web Service</strong><br />For example, <a href=\"https://www.uuidgenerator.net/api\" rel=\"nofollow noreferrer\">UUID Generator</a> creates Versions 1 &amp; 3 as well as <a href=\"https://www.rfc-editor.org/rfc/rfc4122#section-4.1.7\" rel=\"nofollow noreferrer\">nil values</a> and <a href=\"https://en.wikipedia.org/wiki/Globally_unique_identifier\" rel=\"nofollow noreferrer\">GUID</a>.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"score":1,"creation_date":1640355471,"post_id":39955377,"comment_id":124576438,"body_markdown":"@fluffy and where exactly it was asked for this in the question?","body":"@fluffy and where exactly it was asked for this in the question?"}],"tags":[],"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"comment_count":1,"down_vote_count":3,"up_vote_count":42,"is_accepted":false,"score":39,"last_activity_date":1563453778,"creation_date":1476092257,"answer_id":39955377,"question_id":2982748,"body_markdown":"Just to extend Mark Byers&#39;s answer with an example:\r\n\r\n    import java.util.UUID;\r\n    \r\n    public class RandomStringUUID {\r\n        public static void main(String[] args) {\r\n            UUID uuid = UUID.randomUUID();\r\n            System.out.println(&quot;UUID=&quot; + uuid.toString() );\r\n        }\r\n    }","title":"Create a GUID / UUID in Java","body":"<p>Just to extend Mark Byers's answer with an example:</p>\n\n<pre><code>import java.util.UUID;\n\npublic class RandomStringUUID {\n    public static void main(String[] args) {\n        UUID uuid = UUID.randomUUID();\n        System.out.println(\"UUID=\" + uuid.toString() );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1595679322,"creation_date":1595678368,"answer_id":63088064,"question_id":2982748,"body_markdown":"\r\nThis answer contains 2 generators for random-based and name-based UUIDs, compliant with RFC-4122. Feel free to use and share.\r\n\r\n**RANDOM-BASED (v4)**\r\n\r\nThis utility class that generates random-based UUIDs:\r\n\r\n```java\r\npackage your.package.name;\r\n\r\nimport java.security.SecureRandom;\r\nimport java.util.Random;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * Utility class that creates random-based UUIDs.\r\n * \r\n */\r\npublic abstract class RandomUuidCreator {\r\n\r\n\tprivate static final int RANDOM_VERSION = 4;\r\n\r\n\t/**\r\n\t * Returns a random-based UUID.\r\n\t * \r\n\t * It uses a thread local {@link SecureRandom}.\r\n\t * \r\n\t * @return a random-based UUID\r\n\t */\r\n\tpublic static UUID getRandomUuid() {\r\n\t\treturn getRandomUuid(SecureRandomLazyHolder.THREAD_LOCAL_RANDOM.get());\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a random-based UUID.\r\n\t * \r\n\t * It uses any instance of {@link Random}.\r\n\t * \r\n\t * @return a random-based UUID\r\n\t */\r\n\tpublic static UUID getRandomUuid(Random random) {\r\n\r\n\t\tlong msb = 0;\r\n\t\tlong lsb = 0;\r\n\r\n\t\t// (3) set all bit randomly\r\n\t\tif (random instanceof SecureRandom) {\r\n\t\t\t// Faster for instances of SecureRandom\r\n\t\t\tfinal byte[] bytes = new byte[16];\r\n\t\t\trandom.nextBytes(bytes);\r\n\t\t\tmsb = toNumber(bytes, 0, 8); // first 8 bytes for MSB\r\n\t\t\tlsb = toNumber(bytes, 8, 16); // last 8 bytes for LSB\r\n\t\t} else {\r\n\t\t\tmsb = random.nextLong(); // first 8 bytes for MSB\r\n\t\t\tlsb = random.nextLong(); // last 8 bytes for LSB\r\n\t\t}\r\n\r\n\t\t// Apply version and variant bits (required for RFC-4122 compliance)\r\n\t\tmsb = (msb &amp; 0xffffffffffff0fffL) | (RANDOM_VERSION &amp; 0x0f) &lt;&lt; 12; // apply version bits\r\n\t\tlsb = (lsb &amp; 0x3fffffffffffffffL) | 0x8000000000000000L; // apply variant bits\r\n\r\n\t\t// Return the UUID\r\n\t\treturn new UUID(msb, lsb);\r\n\t}\r\n\r\n\tprivate static long toNumber(final byte[] bytes, final int start, final int length) {\r\n\t\tlong result = 0;\r\n\t\tfor (int i = start; i &lt; length; i++) {\r\n\t\t\tresult = (result &lt;&lt; 8) | (bytes[i] &amp; 0xff);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// Holds thread local secure random\r\n\tprivate static class SecureRandomLazyHolder {\r\n\t\tstatic final ThreadLocal&lt;Random&gt; THREAD_LOCAL_RANDOM = ThreadLocal.withInitial(SecureRandom::new);\r\n\t}\r\n\r\n\t/**\r\n\t * For tests!\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSystem.out.println(&quot;// Using thread local `java.security.SecureRandom` (DEFAULT)&quot;);\r\n\t\tSystem.out.println(&quot;RandomUuidCreator.getRandomUuid()&quot;);\r\n\t\tSystem.out.println();\r\n\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\tSystem.out.println(RandomUuidCreator.getRandomUuid());\r\n\t\t}\r\n\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;// Using `java.util.Random` (FASTER)&quot;);\r\n\t\tSystem.out.println(&quot;RandomUuidCreator.getRandomUuid(new Random())&quot;);\r\n\t\tSystem.out.println();\r\n\t\tRandom random = new Random();\r\n\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\tSystem.out.println(RandomUuidCreator.getRandomUuid(random));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThis is the output:\r\n\r\n```text\r\n// Using thread local `java.security.SecureRandom` (DEFAULT)\r\nRandomUuidCreator.getRandomUuid()\r\n\r\n&#39;ef4f5ad2-8147-46cb-8389-c2b8c3ef6b10&#39;\r\n&#39;adc0305a-df29-4f08-9d73-800fde2048f0&#39;\r\n&#39;4b794b59-bff8-4013-b656-5d34c33f4ce3&#39;\r\n&#39;22517093-ee24-4120-96a5-ecee943992d1&#39;\r\n&#39;899fb1fb-3e3d-4026-85a8-8a2d274a10cb&#39;\r\n\r\n// Using `java.util.Random` (FASTER)\r\nRandomUuidCreator.getRandomUuid(new Random())\r\n\r\n&#39;4dabbbc2-fcb2-4074-a91c-5e2977a5bbf8&#39;\r\n&#39;078ec231-88bc-4d74-9774-96c0b820ceda&#39;\r\n&#39;726638fa-69a6-4a18-b09f-5fd2a708059b&#39;\r\n&#39;15616ebe-1dfd-4f5c-b2ed-cea0ac1ad823&#39;\r\n&#39;affa31ad-5e55-4cde-8232-cddd4931923a&#39;\r\n```\r\n\r\n**NAME-BASED (v3 and v5)**\r\n\r\nThis utility class that generates name-based UUIDs (MD5 and SHA1):\r\n\r\n```java\r\npackage your.package.name;\r\n\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * Utility class that creates UUIDv3 (MD5) and UUIDv5 (SHA1).\r\n *\r\n */\r\npublic class HashUuidCreator {\r\n\r\n\t// Domain Name System\r\n\tpublic static final UUID NAMESPACE_DNS = new UUID(0x6ba7b8109dad11d1L, 0x80b400c04fd430c8L);\r\n\t// Uniform Resource Locator\r\n\tpublic static final UUID NAMESPACE_URL = new UUID(0x6ba7b8119dad11d1L, 0x80b400c04fd430c8L);\r\n\t// ISO Object ID\r\n\tpublic static final UUID NAMESPACE_ISO_OID = new UUID(0x6ba7b8129dad11d1L, 0x80b400c04fd430c8L);\r\n\t// X.500 Distinguished Name\r\n\tpublic static final UUID NAMESPACE_X500_DN = new UUID(0x6ba7b8149dad11d1L, 0x80b400c04fd430c8L);\r\n\r\n\tprivate static final int VERSION_3 = 3; // UUIDv3 MD5\r\n\tprivate static final int VERSION_5 = 5; // UUIDv5 SHA1\r\n\r\n\tprivate static final String MESSAGE_DIGEST_MD5 = &quot;MD5&quot;; // UUIDv3\r\n\tprivate static final String MESSAGE_DIGEST_SHA1 = &quot;SHA-1&quot;; // UUIDv5\r\n\r\n\tprivate static UUID getHashUuid(UUID namespace, String name, String algorithm, int version) {\r\n\r\n\t\tfinal byte[] hash;\r\n\t\tfinal MessageDigest hasher;\r\n\r\n\t\ttry {\r\n\t\t\t// Instantiate a message digest for the chosen algorithm\r\n\t\t\thasher = MessageDigest.getInstance(algorithm);\r\n\r\n\t\t\t// Insert name space if NOT NULL\r\n\t\t\tif (namespace != null) {\r\n\t\t\t\thasher.update(toBytes(namespace.getMostSignificantBits()));\r\n\t\t\t\thasher.update(toBytes(namespace.getLeastSignificantBits()));\r\n\t\t\t}\r\n\r\n\t\t\t// Generate the hash\r\n\t\t\thash = hasher.digest(name.getBytes(StandardCharsets.UTF_8));\r\n\r\n\t\t\t// Split the hash into two parts: MSB and LSB\r\n\t\t\tlong msb = toNumber(hash, 0, 8); // first 8 bytes for MSB\r\n\t\t\tlong lsb = toNumber(hash, 8, 16); // last 8 bytes for LSB\r\n\r\n\t\t\t// Apply version and variant bits (required for RFC-4122 compliance)\r\n\t\t\tmsb = (msb &amp; 0xffffffffffff0fffL) | (version &amp; 0x0f) &lt;&lt; 12; // apply version bits\r\n\t\t\tlsb = (lsb &amp; 0x3fffffffffffffffL) | 0x8000000000000000L; // apply variant bits\r\n\r\n\t\t\t// Return the UUID\r\n\t\t\treturn new UUID(msb, lsb);\r\n\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\tthrow new RuntimeException(&quot;Message digest algorithm not supported.&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static UUID getMd5Uuid(String string) {\r\n\t\treturn getHashUuid(null, string, MESSAGE_DIGEST_MD5, VERSION_3);\r\n\t}\r\n\r\n\tpublic static UUID getSha1Uuid(String string) {\r\n\t\treturn getHashUuid(null, string, MESSAGE_DIGEST_SHA1, VERSION_5);\r\n\t}\r\n\r\n\tpublic static UUID getMd5Uuid(UUID namespace, String string) {\r\n\t\treturn getHashUuid(namespace, string, MESSAGE_DIGEST_MD5, VERSION_3);\r\n\t}\r\n\r\n\tpublic static UUID getSha1Uuid(UUID namespace, String string) {\r\n\t\treturn getHashUuid(namespace, string, MESSAGE_DIGEST_SHA1, VERSION_5);\r\n\t}\r\n\r\n\tprivate static byte[] toBytes(final long number) {\r\n\t\treturn new byte[] { (byte) (number &gt;&gt;&gt; 56), (byte) (number &gt;&gt;&gt; 48), (byte) (number &gt;&gt;&gt; 40),\r\n\t\t\t\t(byte) (number &gt;&gt;&gt; 32), (byte) (number &gt;&gt;&gt; 24), (byte) (number &gt;&gt;&gt; 16), (byte) (number &gt;&gt;&gt; 8),\r\n\t\t\t\t(byte) (number) };\r\n\t}\r\n\r\n\tprivate static long toNumber(final byte[] bytes, final int start, final int length) {\r\n\t\tlong result = 0;\r\n\t\tfor (int i = start; i &lt; length; i++) {\r\n\t\t\tresult = (result &lt;&lt; 8) | (bytes[i] &amp; 0xff);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/**\r\n\t * For tests!\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString string = &quot;JUST_A_TEST_STRING&quot;;\r\n\t\tUUID namespace = UUID.randomUUID(); // A custom name space\r\n\r\n\t\tSystem.out.println(&quot;Java&#39;s generator&quot;);\r\n\t\tSystem.out.println(&quot;UUID.nameUUIDFromBytes():      &#39;&quot; + UUID.nameUUIDFromBytes(string.getBytes()) + &quot;&#39;&quot;);\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;This generator&quot;);\r\n\t\tSystem.out.println(&quot;HashUuidCreator.getMd5Uuid():  &#39;&quot; + HashUuidCreator.getMd5Uuid(string) + &quot;&#39;&quot;);\r\n\t\tSystem.out.println(&quot;HashUuidCreator.getSha1Uuid(): &#39;&quot; + HashUuidCreator.getSha1Uuid(string) + &quot;&#39;&quot;);\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;This generator WITH name space&quot;);\r\n\t\tSystem.out.println(&quot;HashUuidCreator.getMd5Uuid():  &#39;&quot; + HashUuidCreator.getMd5Uuid(namespace, string) + &quot;&#39;&quot;);\r\n\t\tSystem.out.println(&quot;HashUuidCreator.getSha1Uuid(): &#39;&quot; + HashUuidCreator.getSha1Uuid(namespace, string) + &quot;&#39;&quot;);\r\n\t}\r\n}\r\n\r\n```\r\nThis is the output:\r\n\r\n```text\r\n// Java&#39;s generator\r\nUUID.nameUUIDFromBytes():      &#39;9e120341-627f-32be-8393-58b5d655b751&#39;\r\n\r\n// This generator\r\nHashUuidCreator.getMd5Uuid():  &#39;9e120341-627f-32be-8393-58b5d655b751&#39;\r\nHashUuidCreator.getSha1Uuid(): &#39;e4586bed-032a-5ae6-9883-331cd94c4ffa&#39;\r\n\r\n// This generator WITH name space\r\nHashUuidCreator.getMd5Uuid():  &#39;2b098683-03c9-3ed8-9426-cf5c81ab1f9f&#39;\r\nHashUuidCreator.getSha1Uuid(): &#39;1ef568c7-726b-58cc-a72a-7df173463bbb&#39;\r\n```\r\n\r\n**ALTERNATE GENERATOR**\r\n\r\nYou can also use the `uuid-creator` library. See these examples:\r\n\r\n```java\r\n// Create a random-based UUID\r\nUUID uuid = UuidCreator.getRandomBased();\r\n```\r\n\r\n```java\r\n// Create a name based UUID (SHA1)\r\nString name = &quot;JUST_A_TEST_STRING&quot;;\r\nUUID uuid = UuidCreator.getNameBasedSha1(name);\r\n```\r\n\r\nProject page: https://github.com/f4b6a3/uuid-creator\r\n","title":"Create a GUID / UUID in Java","body":"<p>This answer contains 2 generators for random-based and name-based UUIDs, compliant with RFC-4122. Feel free to use and share.</p>\n<p><strong>RANDOM-BASED (v4)</strong></p>\n<p>This utility class that generates random-based UUIDs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package your.package.name;\n\nimport java.security.SecureRandom;\nimport java.util.Random;\nimport java.util.UUID;\n\n/**\n * Utility class that creates random-based UUIDs.\n * \n */\npublic abstract class RandomUuidCreator {\n\n    private static final int RANDOM_VERSION = 4;\n\n    /**\n     * Returns a random-based UUID.\n     * \n     * It uses a thread local {@link SecureRandom}.\n     * \n     * @return a random-based UUID\n     */\n    public static UUID getRandomUuid() {\n        return getRandomUuid(SecureRandomLazyHolder.THREAD_LOCAL_RANDOM.get());\n    }\n\n    /**\n     * Returns a random-based UUID.\n     * \n     * It uses any instance of {@link Random}.\n     * \n     * @return a random-based UUID\n     */\n    public static UUID getRandomUuid(Random random) {\n\n        long msb = 0;\n        long lsb = 0;\n\n        // (3) set all bit randomly\n        if (random instanceof SecureRandom) {\n            // Faster for instances of SecureRandom\n            final byte[] bytes = new byte[16];\n            random.nextBytes(bytes);\n            msb = toNumber(bytes, 0, 8); // first 8 bytes for MSB\n            lsb = toNumber(bytes, 8, 16); // last 8 bytes for LSB\n        } else {\n            msb = random.nextLong(); // first 8 bytes for MSB\n            lsb = random.nextLong(); // last 8 bytes for LSB\n        }\n\n        // Apply version and variant bits (required for RFC-4122 compliance)\n        msb = (msb &amp; 0xffffffffffff0fffL) | (RANDOM_VERSION &amp; 0x0f) &lt;&lt; 12; // apply version bits\n        lsb = (lsb &amp; 0x3fffffffffffffffL) | 0x8000000000000000L; // apply variant bits\n\n        // Return the UUID\n        return new UUID(msb, lsb);\n    }\n\n    private static long toNumber(final byte[] bytes, final int start, final int length) {\n        long result = 0;\n        for (int i = start; i &lt; length; i++) {\n            result = (result &lt;&lt; 8) | (bytes[i] &amp; 0xff);\n        }\n        return result;\n    }\n\n    // Holds thread local secure random\n    private static class SecureRandomLazyHolder {\n        static final ThreadLocal&lt;Random&gt; THREAD_LOCAL_RANDOM = ThreadLocal.withInitial(SecureRandom::new);\n    }\n\n    /**\n     * For tests!\n     */\n    public static void main(String[] args) {\n\n        System.out.println(&quot;// Using thread local `java.security.SecureRandom` (DEFAULT)&quot;);\n        System.out.println(&quot;RandomUuidCreator.getRandomUuid()&quot;);\n        System.out.println();\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(RandomUuidCreator.getRandomUuid());\n        }\n\n        System.out.println();\n        System.out.println(&quot;// Using `java.util.Random` (FASTER)&quot;);\n        System.out.println(&quot;RandomUuidCreator.getRandomUuid(new Random())&quot;);\n        System.out.println();\n        Random random = new Random();\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(RandomUuidCreator.getRandomUuid(random));\n        }\n    }\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>// Using thread local `java.security.SecureRandom` (DEFAULT)\nRandomUuidCreator.getRandomUuid()\n\n'ef4f5ad2-8147-46cb-8389-c2b8c3ef6b10'\n'adc0305a-df29-4f08-9d73-800fde2048f0'\n'4b794b59-bff8-4013-b656-5d34c33f4ce3'\n'22517093-ee24-4120-96a5-ecee943992d1'\n'899fb1fb-3e3d-4026-85a8-8a2d274a10cb'\n\n// Using `java.util.Random` (FASTER)\nRandomUuidCreator.getRandomUuid(new Random())\n\n'4dabbbc2-fcb2-4074-a91c-5e2977a5bbf8'\n'078ec231-88bc-4d74-9774-96c0b820ceda'\n'726638fa-69a6-4a18-b09f-5fd2a708059b'\n'15616ebe-1dfd-4f5c-b2ed-cea0ac1ad823'\n'affa31ad-5e55-4cde-8232-cddd4931923a'\n</code></pre>\n<p><strong>NAME-BASED (v3 and v5)</strong></p>\n<p>This utility class that generates name-based UUIDs (MD5 and SHA1):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package your.package.name;\n\nimport java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.UUID;\n\n/**\n * Utility class that creates UUIDv3 (MD5) and UUIDv5 (SHA1).\n *\n */\npublic class HashUuidCreator {\n\n    // Domain Name System\n    public static final UUID NAMESPACE_DNS = new UUID(0x6ba7b8109dad11d1L, 0x80b400c04fd430c8L);\n    // Uniform Resource Locator\n    public static final UUID NAMESPACE_URL = new UUID(0x6ba7b8119dad11d1L, 0x80b400c04fd430c8L);\n    // ISO Object ID\n    public static final UUID NAMESPACE_ISO_OID = new UUID(0x6ba7b8129dad11d1L, 0x80b400c04fd430c8L);\n    // X.500 Distinguished Name\n    public static final UUID NAMESPACE_X500_DN = new UUID(0x6ba7b8149dad11d1L, 0x80b400c04fd430c8L);\n\n    private static final int VERSION_3 = 3; // UUIDv3 MD5\n    private static final int VERSION_5 = 5; // UUIDv5 SHA1\n\n    private static final String MESSAGE_DIGEST_MD5 = &quot;MD5&quot;; // UUIDv3\n    private static final String MESSAGE_DIGEST_SHA1 = &quot;SHA-1&quot;; // UUIDv5\n\n    private static UUID getHashUuid(UUID namespace, String name, String algorithm, int version) {\n\n        final byte[] hash;\n        final MessageDigest hasher;\n\n        try {\n            // Instantiate a message digest for the chosen algorithm\n            hasher = MessageDigest.getInstance(algorithm);\n\n            // Insert name space if NOT NULL\n            if (namespace != null) {\n                hasher.update(toBytes(namespace.getMostSignificantBits()));\n                hasher.update(toBytes(namespace.getLeastSignificantBits()));\n            }\n\n            // Generate the hash\n            hash = hasher.digest(name.getBytes(StandardCharsets.UTF_8));\n\n            // Split the hash into two parts: MSB and LSB\n            long msb = toNumber(hash, 0, 8); // first 8 bytes for MSB\n            long lsb = toNumber(hash, 8, 16); // last 8 bytes for LSB\n\n            // Apply version and variant bits (required for RFC-4122 compliance)\n            msb = (msb &amp; 0xffffffffffff0fffL) | (version &amp; 0x0f) &lt;&lt; 12; // apply version bits\n            lsb = (lsb &amp; 0x3fffffffffffffffL) | 0x8000000000000000L; // apply variant bits\n\n            // Return the UUID\n            return new UUID(msb, lsb);\n\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(&quot;Message digest algorithm not supported.&quot;);\n        }\n    }\n\n    public static UUID getMd5Uuid(String string) {\n        return getHashUuid(null, string, MESSAGE_DIGEST_MD5, VERSION_3);\n    }\n\n    public static UUID getSha1Uuid(String string) {\n        return getHashUuid(null, string, MESSAGE_DIGEST_SHA1, VERSION_5);\n    }\n\n    public static UUID getMd5Uuid(UUID namespace, String string) {\n        return getHashUuid(namespace, string, MESSAGE_DIGEST_MD5, VERSION_3);\n    }\n\n    public static UUID getSha1Uuid(UUID namespace, String string) {\n        return getHashUuid(namespace, string, MESSAGE_DIGEST_SHA1, VERSION_5);\n    }\n\n    private static byte[] toBytes(final long number) {\n        return new byte[] { (byte) (number &gt;&gt;&gt; 56), (byte) (number &gt;&gt;&gt; 48), (byte) (number &gt;&gt;&gt; 40),\n                (byte) (number &gt;&gt;&gt; 32), (byte) (number &gt;&gt;&gt; 24), (byte) (number &gt;&gt;&gt; 16), (byte) (number &gt;&gt;&gt; 8),\n                (byte) (number) };\n    }\n\n    private static long toNumber(final byte[] bytes, final int start, final int length) {\n        long result = 0;\n        for (int i = start; i &lt; length; i++) {\n            result = (result &lt;&lt; 8) | (bytes[i] &amp; 0xff);\n        }\n        return result;\n    }\n\n    /**\n     * For tests!\n     */\n    public static void main(String[] args) {\n\n        String string = &quot;JUST_A_TEST_STRING&quot;;\n        UUID namespace = UUID.randomUUID(); // A custom name space\n\n        System.out.println(&quot;Java's generator&quot;);\n        System.out.println(&quot;UUID.nameUUIDFromBytes():      '&quot; + UUID.nameUUIDFromBytes(string.getBytes()) + &quot;'&quot;);\n        System.out.println();\n        System.out.println(&quot;This generator&quot;);\n        System.out.println(&quot;HashUuidCreator.getMd5Uuid():  '&quot; + HashUuidCreator.getMd5Uuid(string) + &quot;'&quot;);\n        System.out.println(&quot;HashUuidCreator.getSha1Uuid(): '&quot; + HashUuidCreator.getSha1Uuid(string) + &quot;'&quot;);\n        System.out.println();\n        System.out.println(&quot;This generator WITH name space&quot;);\n        System.out.println(&quot;HashUuidCreator.getMd5Uuid():  '&quot; + HashUuidCreator.getMd5Uuid(namespace, string) + &quot;'&quot;);\n        System.out.println(&quot;HashUuidCreator.getSha1Uuid(): '&quot; + HashUuidCreator.getSha1Uuid(namespace, string) + &quot;'&quot;);\n    }\n}\n\n</code></pre>\n<p>This is the output:</p>\n<pre><code>// Java's generator\nUUID.nameUUIDFromBytes():      '9e120341-627f-32be-8393-58b5d655b751'\n\n// This generator\nHashUuidCreator.getMd5Uuid():  '9e120341-627f-32be-8393-58b5d655b751'\nHashUuidCreator.getSha1Uuid(): 'e4586bed-032a-5ae6-9883-331cd94c4ffa'\n\n// This generator WITH name space\nHashUuidCreator.getMd5Uuid():  '2b098683-03c9-3ed8-9426-cf5c81ab1f9f'\nHashUuidCreator.getSha1Uuid(): '1ef568c7-726b-58cc-a72a-7df173463bbb'\n</code></pre>\n<p><strong>ALTERNATE GENERATOR</strong></p>\n<p>You can also use the <code>uuid-creator</code> library. See these examples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a random-based UUID\nUUID uuid = UuidCreator.getRandomBased();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a name based UUID (SHA1)\nString name = &quot;JUST_A_TEST_STRING&quot;;\nUUID uuid = UuidCreator.getNameBasedSha1(name);\n</code></pre>\n<p>Project page: <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"noreferrer\">https://github.com/f4b6a3/uuid-creator</a></p>\n"},{"tags":[],"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640333128,"creation_date":1640333128,"answer_id":70470795,"question_id":2982748,"body_markdown":"For many cases, we need global UUID for objects and especially in Event-Driven Architecture or Event Sourcing we have to sort events based on the date, but we don&#39;t need full information about timestamps.\r\n\r\nThere we can use one of the implementations of [ULID](https://github.com/ulid/spec) which is **lexicographically sortable**.\r\n\r\nThe format is different from standard UUID, but is still simple:\r\n\r\n```\r\nexample value: 01AN4Z07BY79KA1307SR9X4MV3\r\n\r\n 01AN4Z07BY      79KA1307SR9X4MV3\r\n\r\n|----------|    |----------------|\r\n Timestamp          Randomness\r\n   48bits             80bits\r\n```\r\n\r\nThere are implementations in [many languages](https://github.com/ulid/spec#implementations-in-other-languages).\r\n\r\nFor example in Java, there is simple [lib](https://github.com/huxi/sulky/tree/master/sulky-ulid) for that.\r\n\r\nCode example:\r\n\r\n```java\r\nimport de.huxhorn.sulky.ulid.ULID;\r\n\r\nULID ulid = new ULID();\r\n\r\n// with current timestamp\r\nString newId = ulid.nextULID(); \r\n\r\n// with selected timestamp\r\nString newId2 = ulid.nextULID(Instant\r\n    .parse(&quot;2021-12-01T00:00:00.00Z&quot;)\r\n    .toEpochMilli()\r\n); \r\n```\r\n\r\nWith Spring you can create Bean for ULID generator as well.\r\n\r\n```java\r\n@Configuration\r\npublic class UUIDGeneratorConfig {\r\n\r\n    @Bean\r\n    public ULID ulidGenerator() {\r\n        return new ULID();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\npublic class ULIDGenerator {\r\n\r\n    private final ULID ulid;\r\n\r\n    public ULIDGenerator(ULID ulid) {\r\n        this.ulid = ulid;\r\n    }\r\n\r\n    public String generateUUID() {\r\n        return ulid.nextULID();\r\n    }\r\n\r\n    public String generateUUID(Instant timestamp) {\r\n        return ulid.nextULID(timestamp.toEpochMilli());\r\n    }\r\n}\r\n\r\n```","title":"Create a GUID / UUID in Java","body":"<p>For many cases, we need global UUID for objects and especially in Event-Driven Architecture or Event Sourcing we have to sort events based on the date, but we don't need full information about timestamps.</p>\n<p>There we can use one of the implementations of <a href=\"https://github.com/ulid/spec\" rel=\"nofollow noreferrer\">ULID</a> which is <strong>lexicographically sortable</strong>.</p>\n<p>The format is different from standard UUID, but is still simple:</p>\n<pre><code>example value: 01AN4Z07BY79KA1307SR9X4MV3\n\n 01AN4Z07BY      79KA1307SR9X4MV3\n\n|----------|    |----------------|\n Timestamp          Randomness\n   48bits             80bits\n</code></pre>\n<p>There are implementations in <a href=\"https://github.com/ulid/spec#implementations-in-other-languages\" rel=\"nofollow noreferrer\">many languages</a>.</p>\n<p>For example in Java, there is simple <a href=\"https://github.com/huxi/sulky/tree/master/sulky-ulid\" rel=\"nofollow noreferrer\">lib</a> for that.</p>\n<p>Code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import de.huxhorn.sulky.ulid.ULID;\n\nULID ulid = new ULID();\n\n// with current timestamp\nString newId = ulid.nextULID(); \n\n// with selected timestamp\nString newId2 = ulid.nextULID(Instant\n    .parse(&quot;2021-12-01T00:00:00.00Z&quot;)\n    .toEpochMilli()\n); \n</code></pre>\n<p>With Spring you can create Bean for ULID generator as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class UUIDGeneratorConfig {\n\n    @Bean\n    public ULID ulidGenerator() {\n        return new ULID();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ULIDGenerator {\n\n    private final ULID ulid;\n\n    public ULIDGenerator(ULID ulid) {\n        this.ulid = ulid;\n    }\n\n    public String generateUUID() {\n        return ulid.nextULID();\n    }\n\n    public String generateUUID(Instant timestamp) {\n        return ulid.nextULID(timestamp.toEpochMilli());\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":30782,"reputation":49002,"user_id":84131,"accept_rate":92,"display_name":"Chris Dutrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457303,"favorite_count":0,"down_vote_count":2,"up_vote_count":447,"accepted_answer_id":2982750,"answer_count":7,"score":445,"last_activity_date":1678308611,"creation_date":1275786747,"question_id":2982748,"body_markdown":"What are some of the best ways to create a GUID / UUID in Java?","title":"Create a GUID / UUID in Java","body":"<p>What are some of the best ways to create a GUID / UUID in Java?</p>\n"},{"tags":["java","swing","user-interface","awt"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1390188550,"post_id":21225760,"comment_id":31969937,"body_markdown":"1) Always copy/paste error &amp; exception output. 2) For better help sooner, post an [MCVE](http://stackoverflow.com/help/mcve).","body":"1) Always copy/paste error &amp; exception output. 2) For better help sooner, post an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."},{"owner":{"account_id":3881205,"reputation":11,"user_id":3213648,"display_name":"user3213648"},"score":0,"creation_date":1390188650,"post_id":21225760,"comment_id":31969961,"body_markdown":"Sorry I just updated the puush for it :S","body":"Sorry I just updated the puush for it :S"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1390194591,"post_id":21225760,"comment_id":31971314,"body_markdown":"An MCVE should have just one source file where possible (but it can contain multiple classes, only 1 **`public`** class).  Further, an MCVE should not require anything that will not be available for others.  Do you really think I have a `TwistedStallions.ttf` font here?  Try testing the code you think is an MCVE on another computer before posting it.","body":"An MCVE should have just one source file where possible (but it can contain multiple classes, only 1 <b><code>public</code></b> class).  Further, an MCVE should not require anything that will not be available for others.  Do you really think I have a <code>TwistedStallions.ttf</code> font here?  Try testing the code you think is an MCVE on another computer before posting it."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1678308578,"creation_date":1390190907,"answer_id":21226098,"question_id":21225760,"body_markdown":"There are any number of ways you might achieve this, for example, you could use some kind of delegation model.\r\n\r\nThat is, rather then trying to mange each element in a single method (or methods), you could devise a delegate which provide a simple interface method that the paint method would call and it would know how to do the rest.\r\n\r\nFor example, Swing uses this type of concept with it&#39;s cell renderers for `JList`, `JTable` and `JTree`.\r\n\r\nFor example...\r\n\r\n![Menu][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class MyAwesomeMenu {\r\n\r\n        public static void main(String[] args) {\r\n            new MyAwesomeMenu();\r\n        }\r\n\r\n        public MyAwesomeMenu() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n\r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private List&lt;String&gt; menuItems;\r\n            private String selectMenuItem;\r\n            private String focusedItem;\r\n\r\n            private MenuItemPainter painter;\r\n            private Map&lt;String, Rectangle&gt; menuBounds;\r\n\r\n            public TestPane() {\r\n                setBackground(Color.BLACK);\r\n                painter = new SimpleMenuItemPainter();\r\n                menuItems = new ArrayList&lt;&gt;(25);\r\n                menuItems.add(&quot;Start Game&quot;);\r\n                menuItems.add(&quot;Options&quot;);\r\n                menuItems.add(&quot;Exit&quot;);\r\n                selectMenuItem = menuItems.get(0);\r\n\r\n                MouseAdapter ma = new MouseAdapter() {\r\n\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        String newItem = null;\r\n                        for (String text : menuItems) {\r\n                            Rectangle bounds = menuBounds.get(text);\r\n                            if (bounds.contains(e.getPoint())) {\r\n                                newItem = text;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (newItem != null &amp;&amp; !newItem.equals(selectMenuItem)) {\r\n                            selectMenuItem = newItem;\r\n                            repaint();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void mouseMoved(MouseEvent e) {\r\n                        focusedItem = null;\r\n                        for (String text : menuItems) {\r\n                            Rectangle bounds = menuBounds.get(text);\r\n                            if (bounds.contains(e.getPoint())) {\r\n                                focusedItem = text;\r\n                                repaint();\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                };\r\n\r\n                addMouseListener(ma);\r\n                addMouseMotionListener(ma);\r\n            \r\n                InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n                ActionMap am = getActionMap();\r\n            \r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), &quot;arrowDown&quot;);\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;arrowUp&quot;);\r\n            \r\n                am.put(&quot;arrowDown&quot;, new MenuAction(1));\r\n                am.put(&quot;arrowUp&quot;, new MenuAction(-1));\r\n\r\n            }\r\n\r\n            @Override\r\n            public void invalidate() {\r\n                menuBounds = null;\r\n                super.invalidate();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                if (menuBounds == null) {\r\n                    menuBounds = new HashMap&lt;&gt;(menuItems.size());\r\n                    int width = 0;\r\n                    int height = 0;\r\n                    for (String text : menuItems) {\r\n                        Dimension dim = painter.getPreferredSize(g2d, text);\r\n                        width = Math.max(width, dim.width);\r\n                        height = Math.max(height, dim.height);\r\n                    }\r\n\r\n                    int x = (getWidth() - (width + 10)) / 2;\r\n\r\n                    int totalHeight = (height + 10) * menuItems.size();\r\n                    totalHeight += 5 * (menuItems.size() - 1);\r\n\r\n                    int y = (getHeight() - totalHeight) / 2;\r\n\r\n                    for (String text : menuItems) {\r\n                        menuBounds.put(text, new Rectangle(x, y, width + 10, height + 10));\r\n                        y += height + 10 + 5;\r\n                    }\r\n\r\n                }\r\n                for (String text : menuItems) {\r\n                    Rectangle bounds = menuBounds.get(text);\r\n                    boolean isSelected = text.equals(selectMenuItem);\r\n                    boolean isFocused = text.equals(focusedItem);\r\n                    painter.paint(g2d, text, bounds, isSelected, isFocused);\r\n                }\r\n                g2d.dispose();\r\n            }\r\n        \r\n            public class MenuAction extends AbstractAction {\r\n\r\n                private final int delta;\r\n            \r\n                public MenuAction(int delta) {\r\n                    this.delta = delta;\r\n                }\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    int index = menuItems.indexOf(selectMenuItem);\r\n                    if (index &lt; 0) {\r\n                        selectMenuItem = menuItems.get(0);\r\n                    }\r\n                    index += delta;\r\n                    if (index &lt; 0) {\r\n                        selectMenuItem = menuItems.get(menuItems.size() - 1);\r\n                    } else if (index &gt;= menuItems.size()) {\r\n                        selectMenuItem = menuItems.get(0);\r\n                    } else {\r\n                        selectMenuItem = menuItems.get(index);\r\n                    }\r\n                    repaint();\r\n                }\r\n            \r\n            }\r\n\r\n        }\r\n\r\n        public interface MenuItemPainter {\r\n\r\n            public void paint(Graphics2D g2d, String text, Rectangle bounds, boolean isSelected, boolean isFocused);\r\n\r\n            public Dimension getPreferredSize(Graphics2D g2d, String text);\r\n\r\n        }\r\n\r\n        public class SimpleMenuItemPainter implements MenuItemPainter {\r\n\r\n            public Dimension getPreferredSize(Graphics2D g2d, String text) {\r\n                return g2d.getFontMetrics().getStringBounds(text, g2d).getBounds().getSize();\r\n            }\r\n\r\n            @Override\r\n            public void paint(Graphics2D g2d, String text, Rectangle bounds, boolean isSelected, boolean isFocused) {\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                if (isSelected) {\r\n                    paintBackground(g2d, bounds, Color.BLUE, Color.WHITE);\r\n                } else if (isFocused) {\r\n                    paintBackground(g2d, bounds, Color.MAGENTA, Color.BLACK);\r\n                } else {\r\n                    paintBackground(g2d, bounds, Color.DARK_GRAY, Color.LIGHT_GRAY);\r\n                }\r\n                int x = bounds.x + ((bounds.width - fm.stringWidth(text)) / 2);\r\n                int y = bounds.y + ((bounds.height - fm.getHeight()) / 2) + fm.getAscent();\r\n                g2d.setColor(isSelected ? Color.WHITE : Color.LIGHT_GRAY);\r\n                g2d.drawString(text, x, y);\r\n            }\r\n\r\n            protected void paintBackground(Graphics2D g2d, Rectangle bounds, Color background, Color foreground) {\r\n                g2d.setColor(background);\r\n                g2d.fill(bounds);\r\n                g2d.setColor(foreground);\r\n                g2d.draw(bounds);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\nFrom here, you could add `ActionListener`\r\n\r\n  [1]: http://i.stack.imgur.com/HDlDx.gif","title":"How do I implement Java swing GUI start screen for a game with drawString and drawImage?","body":"<p>There are any number of ways you might achieve this, for example, you could use some kind of delegation model.</p>\n<p>That is, rather then trying to mange each element in a single method (or methods), you could devise a delegate which provide a simple interface method that the paint method would call and it would know how to do the rest.</p>\n<p>For example, Swing uses this type of concept with it's cell renderers for <code>JList</code>, <code>JTable</code> and <code>JTree</code>.</p>\n<p>For example...</p>\n<p><img src=\"https://i.stack.imgur.com/HDlDx.gif\" alt=\"Menu\" /></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class MyAwesomeMenu {\n\n    public static void main(String[] args) {\n        new MyAwesomeMenu();\n    }\n\n    public MyAwesomeMenu() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private List&lt;String&gt; menuItems;\n        private String selectMenuItem;\n        private String focusedItem;\n\n        private MenuItemPainter painter;\n        private Map&lt;String, Rectangle&gt; menuBounds;\n\n        public TestPane() {\n            setBackground(Color.BLACK);\n            painter = new SimpleMenuItemPainter();\n            menuItems = new ArrayList&lt;&gt;(25);\n            menuItems.add(&quot;Start Game&quot;);\n            menuItems.add(&quot;Options&quot;);\n            menuItems.add(&quot;Exit&quot;);\n            selectMenuItem = menuItems.get(0);\n\n            MouseAdapter ma = new MouseAdapter() {\n\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    String newItem = null;\n                    for (String text : menuItems) {\n                        Rectangle bounds = menuBounds.get(text);\n                        if (bounds.contains(e.getPoint())) {\n                            newItem = text;\n                            break;\n                        }\n                    }\n                    if (newItem != null &amp;&amp; !newItem.equals(selectMenuItem)) {\n                        selectMenuItem = newItem;\n                        repaint();\n                    }\n                }\n\n                @Override\n                public void mouseMoved(MouseEvent e) {\n                    focusedItem = null;\n                    for (String text : menuItems) {\n                        Rectangle bounds = menuBounds.get(text);\n                        if (bounds.contains(e.getPoint())) {\n                            focusedItem = text;\n                            repaint();\n                            break;\n                        }\n                    }\n                }\n\n            };\n\n            addMouseListener(ma);\n            addMouseMotionListener(ma);\n        \n            InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap am = getActionMap();\n        \n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), &quot;arrowDown&quot;);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;arrowUp&quot;);\n        \n            am.put(&quot;arrowDown&quot;, new MenuAction(1));\n            am.put(&quot;arrowUp&quot;, new MenuAction(-1));\n\n        }\n\n        @Override\n        public void invalidate() {\n            menuBounds = null;\n            super.invalidate();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            if (menuBounds == null) {\n                menuBounds = new HashMap&lt;&gt;(menuItems.size());\n                int width = 0;\n                int height = 0;\n                for (String text : menuItems) {\n                    Dimension dim = painter.getPreferredSize(g2d, text);\n                    width = Math.max(width, dim.width);\n                    height = Math.max(height, dim.height);\n                }\n\n                int x = (getWidth() - (width + 10)) / 2;\n\n                int totalHeight = (height + 10) * menuItems.size();\n                totalHeight += 5 * (menuItems.size() - 1);\n\n                int y = (getHeight() - totalHeight) / 2;\n\n                for (String text : menuItems) {\n                    menuBounds.put(text, new Rectangle(x, y, width + 10, height + 10));\n                    y += height + 10 + 5;\n                }\n\n            }\n            for (String text : menuItems) {\n                Rectangle bounds = menuBounds.get(text);\n                boolean isSelected = text.equals(selectMenuItem);\n                boolean isFocused = text.equals(focusedItem);\n                painter.paint(g2d, text, bounds, isSelected, isFocused);\n            }\n            g2d.dispose();\n        }\n    \n        public class MenuAction extends AbstractAction {\n\n            private final int delta;\n        \n            public MenuAction(int delta) {\n                this.delta = delta;\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                int index = menuItems.indexOf(selectMenuItem);\n                if (index &lt; 0) {\n                    selectMenuItem = menuItems.get(0);\n                }\n                index += delta;\n                if (index &lt; 0) {\n                    selectMenuItem = menuItems.get(menuItems.size() - 1);\n                } else if (index &gt;= menuItems.size()) {\n                    selectMenuItem = menuItems.get(0);\n                } else {\n                    selectMenuItem = menuItems.get(index);\n                }\n                repaint();\n            }\n        \n        }\n\n    }\n\n    public interface MenuItemPainter {\n\n        public void paint(Graphics2D g2d, String text, Rectangle bounds, boolean isSelected, boolean isFocused);\n\n        public Dimension getPreferredSize(Graphics2D g2d, String text);\n\n    }\n\n    public class SimpleMenuItemPainter implements MenuItemPainter {\n\n        public Dimension getPreferredSize(Graphics2D g2d, String text) {\n            return g2d.getFontMetrics().getStringBounds(text, g2d).getBounds().getSize();\n        }\n\n        @Override\n        public void paint(Graphics2D g2d, String text, Rectangle bounds, boolean isSelected, boolean isFocused) {\n            FontMetrics fm = g2d.getFontMetrics();\n            if (isSelected) {\n                paintBackground(g2d, bounds, Color.BLUE, Color.WHITE);\n            } else if (isFocused) {\n                paintBackground(g2d, bounds, Color.MAGENTA, Color.BLACK);\n            } else {\n                paintBackground(g2d, bounds, Color.DARK_GRAY, Color.LIGHT_GRAY);\n            }\n            int x = bounds.x + ((bounds.width - fm.stringWidth(text)) / 2);\n            int y = bounds.y + ((bounds.height - fm.getHeight()) / 2) + fm.getAscent();\n            g2d.setColor(isSelected ? Color.WHITE : Color.LIGHT_GRAY);\n            g2d.drawString(text, x, y);\n        }\n\n        protected void paintBackground(Graphics2D g2d, Rectangle bounds, Color background, Color foreground) {\n            g2d.setColor(background);\n            g2d.fill(bounds);\n            g2d.setColor(foreground);\n            g2d.draw(bounds);\n        }\n\n    }\n\n}\n</code></pre>\n<p>From here, you could add <code>ActionListener</code></p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390273579,"creation_date":1390273579,"answer_id":21248363,"question_id":21225760,"body_markdown":"When a GUI needs a button, use a `JButton`!  The [`JButton` API](http://docs.oracle.com/javase/7/docs/api/javax/swing/JButton.html) allows the possibility to add icons for many different circumstances.  This example shows different icons for the standard icon, the hover icon, and the pressed icon.  Your GUI would obviously use icons with text on them for the required effect.\n\nThe icons are pulled directly (hot-linked) from https://stackoverflow.com/q/19209650/418556.\n\n## Standard\n\n![enter image description here][1]\n\n## Hover over triangle\n\n![enter image description here][2]\n\n## Press triangle\n\n![enter image description here][3]\n\n## Code\n\n\n    import java.awt.*;\n    import java.awt.image.BufferedImage;\n    import javax.imageio.ImageIO;\n    import javax.swing.*;\n    import javax.swing.border.EmptyBorder;\n    import java.net.URL;\n    \n    public class IconHoverFocusIndication {\n    \n        // the GUI as seen by the user (without frame)\n        // swap the 1 and 0 for single column\n        JPanel gui = new JPanel(new GridLayout(1,0,50,50));\n        public static final int GREEN = 0, YELLOW = 1, RED = 2;\n        String[][] urls = {\n            {\n                &quot;https://i.stack.imgur.com/T5uTa.png&quot;,\n                &quot;https://i.stack.imgur.com/IHARa.png&quot;,\n                &quot;https://i.stack.imgur.com/wCF8S.png&quot;\n            },\n            {\n                &quot;https://i.stack.imgur.com/gYxHm.png&quot;,\n                &quot;https://i.stack.imgur.com/8BGfi.png&quot;,\n                &quot;https://i.stack.imgur.com/5v2TX.png&quot;\n            },\n            {\n                &quot;https://i.stack.imgur.com/1lgtq.png&quot;,\n                &quot;https://i.stack.imgur.com/6ZXhi.png&quot;,\n                &quot;https://i.stack.imgur.com/F0JHK.png&quot;\n            }\n        };\n    \n        IconHoverFocusIndication() throws Exception {\n            // adjust to requirement..\n            gui.setBorder(new EmptyBorder(15, 30, 15, 30));\n            gui.setBackground(Color.BLACK);\n            Insets zeroMargin = new Insets(0,0,0,0);\n            for (int ii = 0; ii &lt; 3; ii++) {\n                JButton b = new JButton();\n                b.setBorderPainted(false);\n                b.setMargin(zeroMargin);\n                b.setContentAreaFilled(false);\n                gui.add(b);\n    \n                URL url1 = new URL(urls[ii][GREEN]);\n                BufferedImage bi1 = ImageIO.read(url1);\n                b.setIcon(new ImageIcon(bi1));\n    \n                URL url2 = new URL(urls[ii][YELLOW]);\n                BufferedImage bi2 = ImageIO.read(url2);\n                b.setRolloverIcon(new ImageIcon(bi2));\n    \n                URL url3 = new URL(urls[ii][RED]);\n                BufferedImage bi3 = ImageIO.read(url3);\n                b.setPressedIcon(new ImageIcon(bi3));\n            }\n        }\n    \n        public JComponent getGUI() {\n            return gui;\n        }\n    \n        public static void main(String[] args) {\n            Runnable r = new Runnable() {\n    \n                @Override\n                public void run() {\n                    try {\n                        IconHoverFocusIndication ihfi =\n                                new IconHoverFocusIndication();\n                        JFrame f = new JFrame(&quot;Button Icons&quot;);\n                        f.add(ihfi.getGUI());\n                        // Ensures JVM closes after frame(s) closed and\n                        // all non-daemon threads are finished\n                        f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                        // See https://stackoverflow.com/a/7143398/418556 for demo.\n                        f.setLocationByPlatform(true);\n    \n                        // ensures the frame is the minimum size it needs to be\n                        // in order display the components within it\n                        f.pack();\n                        // should be done last, to avoid flickering, moving,\n                        // resizing artifacts.\n                        f.setVisible(true);\n                    } catch (Exception ex) {\n                        ex.printStackTrace();\n                    }\n                }\n            };\n            // Swing GUIs should be created and updated on the EDT\n            // http://docs.oracle.com/javase/tutorial/uiswing/concurrency\n            SwingUtilities.invokeLater(r);\n        }\n    }\n\n  [1]: https://i.stack.imgur.com/710hE.png\n  [2]: https://i.stack.imgur.com/Rrprb.png\n  [3]: https://i.stack.imgur.com/fLgRm.png","title":"How do I implement Java swing GUI start screen for a game with drawString and drawImage?","body":"<p>When a GUI needs a button, use a <code>JButton</code>!  The <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JButton.html\" rel=\"nofollow noreferrer\"><code>JButton</code> API</a> allows the possibility to add icons for many different circumstances.  This example shows different icons for the standard icon, the hover icon, and the pressed icon.  Your GUI would obviously use icons with text on them for the required effect.</p>\n<p>The icons are pulled directly (hot-linked) from <a href=\"https://stackoverflow.com/q/19209650/418556\">Example images for code and mark-up Q&amp;As</a>.</p>\n<h2>Standard</h2>\n<p><img src=\"https://i.stack.imgur.com/710hE.png\" alt=\"enter image description here\" /></p>\n<h2>Hover over triangle</h2>\n<p><img src=\"https://i.stack.imgur.com/Rrprb.png\" alt=\"enter image description here\" /></p>\n<h2>Press triangle</h2>\n<p><img src=\"https://i.stack.imgur.com/fLgRm.png\" alt=\"enter image description here\" /></p>\n<h2>Code</h2>\n<pre><code>import java.awt.*;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport javax.swing.border.EmptyBorder;\nimport java.net.URL;\n\npublic class IconHoverFocusIndication {\n\n    // the GUI as seen by the user (without frame)\n    // swap the 1 and 0 for single column\n    JPanel gui = new JPanel(new GridLayout(1,0,50,50));\n    public static final int GREEN = 0, YELLOW = 1, RED = 2;\n    String[][] urls = {\n        {\n            &quot;https://i.stack.imgur.com/T5uTa.png&quot;,\n            &quot;https://i.stack.imgur.com/IHARa.png&quot;,\n            &quot;https://i.stack.imgur.com/wCF8S.png&quot;\n        },\n        {\n            &quot;https://i.stack.imgur.com/gYxHm.png&quot;,\n            &quot;https://i.stack.imgur.com/8BGfi.png&quot;,\n            &quot;https://i.stack.imgur.com/5v2TX.png&quot;\n        },\n        {\n            &quot;https://i.stack.imgur.com/1lgtq.png&quot;,\n            &quot;https://i.stack.imgur.com/6ZXhi.png&quot;,\n            &quot;https://i.stack.imgur.com/F0JHK.png&quot;\n        }\n    };\n\n    IconHoverFocusIndication() throws Exception {\n        // adjust to requirement..\n        gui.setBorder(new EmptyBorder(15, 30, 15, 30));\n        gui.setBackground(Color.BLACK);\n        Insets zeroMargin = new Insets(0,0,0,0);\n        for (int ii = 0; ii &lt; 3; ii++) {\n            JButton b = new JButton();\n            b.setBorderPainted(false);\n            b.setMargin(zeroMargin);\n            b.setContentAreaFilled(false);\n            gui.add(b);\n\n            URL url1 = new URL(urls[ii][GREEN]);\n            BufferedImage bi1 = ImageIO.read(url1);\n            b.setIcon(new ImageIcon(bi1));\n\n            URL url2 = new URL(urls[ii][YELLOW]);\n            BufferedImage bi2 = ImageIO.read(url2);\n            b.setRolloverIcon(new ImageIcon(bi2));\n\n            URL url3 = new URL(urls[ii][RED]);\n            BufferedImage bi3 = ImageIO.read(url3);\n            b.setPressedIcon(new ImageIcon(bi3));\n        }\n    }\n\n    public JComponent getGUI() {\n        return gui;\n    }\n\n    public static void main(String[] args) {\n        Runnable r = new Runnable() {\n\n            @Override\n            public void run() {\n                try {\n                    IconHoverFocusIndication ihfi =\n                            new IconHoverFocusIndication();\n                    JFrame f = new JFrame(&quot;Button Icons&quot;);\n                    f.add(ihfi.getGUI());\n                    // Ensures JVM closes after frame(s) closed and\n                    // all non-daemon threads are finished\n                    f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                    // See https://stackoverflow.com/a/7143398/418556 for demo.\n                    f.setLocationByPlatform(true);\n\n                    // ensures the frame is the minimum size it needs to be\n                    // in order display the components within it\n                    f.pack();\n                    // should be done last, to avoid flickering, moving,\n                    // resizing artifacts.\n                    f.setVisible(true);\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            }\n        };\n        // Swing GUIs should be created and updated on the EDT\n        // http://docs.oracle.com/javase/tutorial/uiswing/concurrency\n        SwingUtilities.invokeLater(r);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3881205,"reputation":11,"user_id":3213648,"display_name":"user3213648"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678308578,"creation_date":1390188400,"question_id":21225760,"body_markdown":"I&#39;m not sure how I would fix the errors in my program and how I would highlight the option the user is hovering on. I want it to highlight the code for each position, i.e position 1 would be highlighted(as a different color) to start game,etc. and up/down would change position and I would change the position with up ,down, left, right. This is what I have so far. At the moment its bugged and when compiled with my window it comes out as:\r\n\r\n\r\n![enter image description here][1]\r\n\r\nWhich works for the main game and altered for this titleboard, what am I doing wrong and how do I fix it?\r\n\r\n##TitleBoard class\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.awt.geom.*;\r\n    import java.util.ArrayList;\r\n    \r\n    //sound + file opening\r\n    import java.io.*;\r\n    import javax.sound.sampled.*;\r\n    public class TitleBoard extends JPanel implements ActionListener{\r\n    \r\n        private ArrayList&lt;String&gt; OptionList;\r\n        private Image background;\r\n        private ImageIcon bgImageIcon;\r\n        private String cheatString;\r\n        private int position;\r\n        private Timer timer;\r\n        \r\n        public TitleBoard(){\r\n    \t\r\n    \tsetFocusable(true);\r\n    \taddKeyListener(new TAdapter());\r\n    \tbgImageIcon = new ImageIcon(&quot;&quot;);\r\n    \tbackground = bgImageIcon.getImage();\r\n    \tString[] options = {&quot;Start Game&quot;,&quot;Options&quot;,&quot;Quit&quot;};\r\n    \tOptionList = new ArrayList&lt;String&gt;();\r\n    \toptionSetup(options);\r\n    \tposition = 1;\r\n    \ttimer = new Timer(8, this);\r\n    \ttimer.start();\r\n    \t/*\r\n    \t  1 mod 3 =&gt;1 highlight on start\r\n    \t  2 mod 3 =&gt;2 highlight on options\r\n    \t  3 mod 3 =&gt;0 highlight on quit\r\n    \t*/\r\n    \r\n    \ttry{\r\n    \t    Font numFont = Font.createFont(Font.TRUETYPE_FONT,new File(&quot;TwistedStallions.ttf&quot;));\r\n    \t    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    \t    ge.registerFont(numFont);\r\n    \t    setFont(numFont.deriveFont(24f)); //adjusthislater\r\n    \t}catch(IOException|FontFormatException e){\r\n    \t    e.printStackTrace();\r\n    \t}\r\n    \t\r\n        }\r\n        private void optionSetup(String[] s){\r\n    \tfor(int i=0; i&lt;s.length;i++) {\r\n    \t    OptionList.add(s[i]);\r\n    \t}\r\n        }\r\n    \r\n    \r\n    \r\n        public void paint(Graphics g){\r\n    \tsuper.paint(g);\r\n    \tGraphics g2d = (Graphics2D)g;\r\n    \r\n    \tg2d.drawImage(background,0,0,this);\r\n    \tfor (int i=0;i&lt;OptionList.size();i++){\r\n    \t    g2d.drawString(OptionList.get(i),200,120+120*i);\r\n    \t}/*\r\n    \tg2d.drawString(OptionList.get(1),400,240);\r\n    \tg2d.drawString(OptionList.get(2),400,360);\r\n    \t//instructions on start screen maybe??\r\n    \t//800x500\r\n    \t//highlighting*/\r\n    \tToolkit.getDefaultToolkit().sync();\r\n    \tg.dispose();\r\n        }\r\n    \r\n        public void actionPerformed(ActionEvent e){\r\n    \trepaint();\r\n        }\r\n    \r\n    \r\n        \r\n        public class TAdapter extends KeyAdapter {\r\n    \tpublic void keyPressed(KeyEvent e){\r\n    \t    if(e.getKeyCode() == KeyEvent.VK_UP||\r\n    \t       e.getKeyCode() == KeyEvent.VK_RIGHT){\r\n    \t\tposition++;\r\n    \t    }\r\n    \t    if(e.getKeyCode() == KeyEvent.VK_DOWN||\r\n    \t       e.getKeyCode() == KeyEvent.VK_LEFT){\r\n    \t\tposition--;\r\n    \t    }\r\n    \t}\r\n        }\r\n    \r\n    }\r\n\r\n\r\n##Window Class\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class Window extends JFrame{\r\n        public Window(){\r\n    \tint width = 800, height = 600;\r\n    \t//TO DO: make a panel in TITLE MODE\r\n    \t///////////////////////////////////\r\n    \t//panel in GAME MODE.\r\n    \tadd(new TitleBoard());\r\n    \t//set default close\r\n    \tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \tsetSize(width,height);\r\n    \t//centers window\r\n    \tsetLocationRelativeTo(null);\r\n    \tsetTitle(&quot;Title&quot;);\r\n    \tsetResizable(false);\r\n    \tsetVisible(true);\t\r\n        }\r\n        public static void main(String[] args){\r\n    \tnew Window();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/CryN5.png","title":"How do I implement Java swing GUI start screen for a game with drawString and drawImage?","body":"<p>I'm not sure how I would fix the errors in my program and how I would highlight the option the user is hovering on. I want it to highlight the code for each position, i.e position 1 would be highlighted(as a different color) to start game,etc. and up/down would change position and I would change the position with up ,down, left, right. This is what I have so far. At the moment its bugged and when compiled with my window it comes out as:</p>\n\n<p><img src=\"https://i.stack.imgur.com/CryN5.png\" alt=\"enter image description here\"></p>\n\n<p>Which works for the main game and altered for this titleboard, what am I doing wrong and how do I fix it?</p>\n\n<h2>TitleBoard class</h2>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.awt.geom.*;\nimport java.util.ArrayList;\n\n//sound + file opening\nimport java.io.*;\nimport javax.sound.sampled.*;\npublic class TitleBoard extends JPanel implements ActionListener{\n\n    private ArrayList&lt;String&gt; OptionList;\n    private Image background;\n    private ImageIcon bgImageIcon;\n    private String cheatString;\n    private int position;\n    private Timer timer;\n\n    public TitleBoard(){\n\n    setFocusable(true);\n    addKeyListener(new TAdapter());\n    bgImageIcon = new ImageIcon(\"\");\n    background = bgImageIcon.getImage();\n    String[] options = {\"Start Game\",\"Options\",\"Quit\"};\n    OptionList = new ArrayList&lt;String&gt;();\n    optionSetup(options);\n    position = 1;\n    timer = new Timer(8, this);\n    timer.start();\n    /*\n      1 mod 3 =&gt;1 highlight on start\n      2 mod 3 =&gt;2 highlight on options\n      3 mod 3 =&gt;0 highlight on quit\n    */\n\n    try{\n        Font numFont = Font.createFont(Font.TRUETYPE_FONT,new File(\"TwistedStallions.ttf\"));\n        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n        ge.registerFont(numFont);\n        setFont(numFont.deriveFont(24f)); //adjusthislater\n    }catch(IOException|FontFormatException e){\n        e.printStackTrace();\n    }\n\n    }\n    private void optionSetup(String[] s){\n    for(int i=0; i&lt;s.length;i++) {\n        OptionList.add(s[i]);\n    }\n    }\n\n\n\n    public void paint(Graphics g){\n    super.paint(g);\n    Graphics g2d = (Graphics2D)g;\n\n    g2d.drawImage(background,0,0,this);\n    for (int i=0;i&lt;OptionList.size();i++){\n        g2d.drawString(OptionList.get(i),200,120+120*i);\n    }/*\n    g2d.drawString(OptionList.get(1),400,240);\n    g2d.drawString(OptionList.get(2),400,360);\n    //instructions on start screen maybe??\n    //800x500\n    //highlighting*/\n    Toolkit.getDefaultToolkit().sync();\n    g.dispose();\n    }\n\n    public void actionPerformed(ActionEvent e){\n    repaint();\n    }\n\n\n\n    public class TAdapter extends KeyAdapter {\n    public void keyPressed(KeyEvent e){\n        if(e.getKeyCode() == KeyEvent.VK_UP||\n           e.getKeyCode() == KeyEvent.VK_RIGHT){\n        position++;\n        }\n        if(e.getKeyCode() == KeyEvent.VK_DOWN||\n           e.getKeyCode() == KeyEvent.VK_LEFT){\n        position--;\n        }\n    }\n    }\n\n}\n</code></pre>\n\n<h2>Window Class</h2>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class Window extends JFrame{\n    public Window(){\n    int width = 800, height = 600;\n    //TO DO: make a panel in TITLE MODE\n    ///////////////////////////////////\n    //panel in GAME MODE.\n    add(new TitleBoard());\n    //set default close\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setSize(width,height);\n    //centers window\n    setLocationRelativeTo(null);\n    setTitle(\"Title\");\n    setResizable(false);\n    setVisible(true);   \n    }\n    public static void main(String[] args){\n    new Window();\n    }\n}\n</code></pre>\n"},{"tags":["java","mariadb","amazon-rds","amazon-aurora"],"comments":[{"owner":{"account_id":6819504,"reputation":1121,"user_id":5247096,"display_name":"Hakob Hakobyan"},"score":0,"creation_date":1591271897,"post_id":62193853,"comment_id":109996082,"body_markdown":"is aws port open, so that you can connect? \nAFAIK you need to edit inbound rules to be able to connect from outside","body":"is aws port open, so that you can connect?  AFAIK you need to edit inbound rules to be able to connect from outside"},{"owner":{"account_id":934082,"reputation":771,"user_id":963355,"display_name":"Hadi Tok"},"score":0,"creation_date":1591272488,"post_id":62193853,"comment_id":109996427,"body_markdown":"I use ssh tunneling through the nat instance. The instances does not have direct external access. You can check sshuttle  to do that.","body":"I use ssh tunneling through the nat instance. The instances does not have direct external access. You can check sshuttle  to do that."}],"answers":[{"comments":[{"owner":{"account_id":934082,"reputation":771,"user_id":963355,"display_name":"Hadi Tok"},"score":0,"creation_date":1606337167,"post_id":64777532,"comment_id":114937623,"body_markdown":"Thank you for your answer. I avoided it because with the aurora string there comes the  benefit of auto failover. It is more important us than to be able to use the read database.","body":"Thank you for your answer. I avoided it because with the aurora string there comes the  benefit of auto failover. It is more important us than to be able to use the read database."}],"tags":[],"owner":{"account_id":4017499,"reputation":31,"user_id":3309040,"display_name":"user3309040"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605046335,"creation_date":1605046335,"answer_id":64777532,"question_id":62193853,"body_markdown":"I ran into the same exception. Here is what worked for me.\r\nSo the issue here is with the protocol string, it needs to be changed from jdbc:mariadb:aurora to jdbc:mariadb and it works just fine. \r\nI got this idea by looking at the mysql driver connection protocol and gave it a try and it worked!\r\n\r\nGood luck!","title":"Receiving &quot;No active connections found for master&quot; while trying to connect Aurora read instance from java","body":"<p>I ran into the same exception. Here is what worked for me.\nSo the issue here is with the protocol string, it needs to be changed from jdbc:mariadb:aurora to jdbc:mariadb and it works just fine.\nI got this idea by looking at the mysql driver connection protocol and gave it a try and it worked!</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":934082,"reputation":771,"user_id":963355,"display_name":"Hadi Tok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678308559,"creation_date":1591271245,"question_id":62193853,"body_markdown":"I have already created a bug report(https://jira.mariadb.org/browse/CONJ-793) on MariaDB Jira but want to make sure it is a bug and there is nothing to do my side. I contacted the AWS support but they weren&#39;t very helpful.\r\n\r\nWe had problems with our lambda while connecting to the read database through read cluster URL. \r\nI was able to isolate the problem in my local tunneling through the nat instance. I have no problems running the same code against the write instance. This is the Java test code I used.\r\n``` \r\n    private static final String connectionString\r\n            = &quot;jdbc:mariadb:aurora://***.cluster-***.eu-west-1.rds.amazonaws.com:3306/db&quot;;\r\n       \r\n    public static void main(String[] args) {\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;user&quot;, user);\r\n        properties.setProperty(&quot;password&quot;, password);\r\n        DriverManager.setLoginTimeout(10);\r\n        try (Connection conn = DriverManager.getConnection(connectionString, properties)) {\r\n            Statement statement = conn.createStatement();\r\n            try (ResultSet resultSet = statement.executeQuery(&quot;select * from exchange limit 1&quot;)) {\r\n                resultSet.next();\r\n                System.out.println(resultSet.getString(1));\r\n            }\r\n\r\n        } catch (SQLException exception) {\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n```\r\nAnd I am receiving this exception:\r\n```\r\njava.sql.SQLException: Communications link failure with primary. No active connection found for master. \r\n\tat org.mariadb.jdbc.internal.failover.AbstractMastersListener.throwFailoverMessage(AbstractMastersListener.java:563)\r\n\tat org.mariadb.jdbc.internal.failover.impl.MastersSlavesListener.checkInitialConnection(MastersSlavesListener.java:350)\r\n\tat org.mariadb.jdbc.internal.failover.impl.MastersSlavesListener.initializeConnection(MastersSlavesListener.java:179)\r\n\tat org.mariadb.jdbc.internal.failover.FailoverProxy.&lt;init&gt;(FailoverProxy.java:120)\r\n\tat org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:607)\r\n\tat org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:150)\r\n\tat org.mariadb.jdbc.Driver.connect(Driver.java:89)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:208)\r\n\tat com.company.ConnectionTestJava.main(ConnectionTestJava.java:19)\r\n```\r\nHave anyone faced this issue? It is hard to believe that I would be the only one facing this. Is it related to my setup or it is a bug? If it is a bug is there a workaround while waiting for a solution?\r\n\r\n","title":"Receiving &quot;No active connections found for master&quot; while trying to connect Aurora read instance from java","body":"<p>I have already created a bug report(<a href=\"https://jira.mariadb.org/browse/CONJ-793\" rel=\"nofollow noreferrer\">https://jira.mariadb.org/browse/CONJ-793</a>) on MariaDB Jira but want to make sure it is a bug and there is nothing to do my side. I contacted the AWS support but they weren't very helpful.</p>\n\n<p>We had problems with our lambda while connecting to the read database through read cluster URL. \nI was able to isolate the problem in my local tunneling through the nat instance. I have no problems running the same code against the write instance. This is the Java test code I used.</p>\n\n<pre><code>    private static final String connectionString\n            = \"jdbc:mariadb:aurora://***.cluster-***.eu-west-1.rds.amazonaws.com:3306/db\";\n\n    public static void main(String[] args) {\n        Properties properties = new Properties();\n        properties.setProperty(\"user\", user);\n        properties.setProperty(\"password\", password);\n        DriverManager.setLoginTimeout(10);\n        try (Connection conn = DriverManager.getConnection(connectionString, properties)) {\n            Statement statement = conn.createStatement();\n            try (ResultSet resultSet = statement.executeQuery(\"select * from exchange limit 1\")) {\n                resultSet.next();\n                System.out.println(resultSet.getString(1));\n            }\n\n        } catch (SQLException exception) {\n            exception.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>And I am receiving this exception:</p>\n\n<pre><code>java.sql.SQLException: Communications link failure with primary. No active connection found for master. \n    at org.mariadb.jdbc.internal.failover.AbstractMastersListener.throwFailoverMessage(AbstractMastersListener.java:563)\n    at org.mariadb.jdbc.internal.failover.impl.MastersSlavesListener.checkInitialConnection(MastersSlavesListener.java:350)\n    at org.mariadb.jdbc.internal.failover.impl.MastersSlavesListener.initializeConnection(MastersSlavesListener.java:179)\n    at org.mariadb.jdbc.internal.failover.FailoverProxy.&lt;init&gt;(FailoverProxy.java:120)\n    at org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:607)\n    at org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:150)\n    at org.mariadb.jdbc.Driver.connect(Driver.java:89)\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql.DriverManager.getConnection(DriverManager.java:208)\n    at com.company.ConnectionTestJava.main(ConnectionTestJava.java:19)\n</code></pre>\n\n<p>Have anyone faced this issue? It is hard to believe that I would be the only one facing this. Is it related to my setup or it is a bug? If it is a bug is there a workaround while waiting for a solution?</p>\n"},{"tags":["java","nested","hashmap"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1678284864,"post_id":75674002,"comment_id":133502817,"body_markdown":"Why is `errorDescription` an anonymous and _broken_ implementation of a map? You cannot store anything in this map, it will always be empty and you cannot retrieve anything from it. Just leave the property unassigned or assign an empty `new HashMap&lt;&gt;()`. The error you have posted usually indicates a problem with input JSON (invalid JSON), e.g. using an array as key (only strings can be keys)","body":"Why is <code>errorDescription</code> an anonymous and <i>broken</i> implementation of a map? You cannot store anything in this map, it will always be empty and you cannot retrieve anything from it. Just leave the property unassigned or assign an empty <code>new HashMap&lt;&gt;()</code>. The error you have posted usually indicates a problem with input JSON (invalid JSON), e.g. using an array as key (only strings can be keys)"},{"owner":{"account_id":27695576,"reputation":3,"user_id":21141382,"display_name":"Markus"},"score":0,"creation_date":1678288374,"post_id":75674002,"comment_id":133503949,"body_markdown":"@knittl if I use `HashMap&lt;String, List&lt;ErrorDescription&gt;&gt; errorDescription = new HashMap&lt;&gt;();` then error is pretty much the same expect column is 33 now","body":"@knittl if I use <code>HashMap&lt;String, List&lt;ErrorDescription&gt;&gt; errorDescription = new HashMap&lt;&gt;();</code> then error is pretty much the same expect column is 33 now"},{"owner":{"account_id":27695576,"reputation":3,"user_id":21141382,"display_name":"Markus"},"score":0,"creation_date":1678288550,"post_id":75674002,"comment_id":133504011,"body_markdown":"@knittl the json generated here `String json = mapper.writeValueAsString(error);` is actually correct, maybe the issue is here `Map&lt;String, HashMap&lt;String, String&gt;&gt; map = new Gson().fromJson(json, new TypeToken&lt;HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt;() {}.getType());`","body":"@knittl the json generated here <code>String json = mapper.writeValueAsString(error);</code> is actually correct, maybe the issue is here <code>Map&lt;String, HashMap&lt;String, String&gt;&gt; map = new Gson().fromJson(json, new TypeToken&lt;HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt;() {}.getType());</code>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1678295114,"post_id":75674002,"comment_id":133506217,"body_markdown":"The TypeToken does not match your class&#39; structure. It maps to a `Map&lt;String, List&lt;ErrorDescription&gt;`, not a `Map&lt;String, Map&lt;String, String&gt;`. The anonymous map is still wrong","body":"The TypeToken does not match your class&#39; structure. It maps to a <code>Map&lt;String, List&lt;ErrorDescription&gt;</code>, not a <code>Map&lt;String, Map&lt;String, String&gt;</code>. The anonymous map is still wrong"}],"answers":[{"tags":[],"owner":{"account_id":27695576,"reputation":3,"user_id":21141382,"display_name":"Markus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678308443,"creation_date":1678308443,"answer_id":75678073,"question_id":75674002,"body_markdown":"I found a solution for my needs in a different approach + taking into account @knittl comment\r\n\r\n    `try {\r\n                JsonFactory factory = new JsonFactory();\r\n                ObjectMapper mapper = new ObjectMapper(factory);\r\n                ErrorWithClient error = (ErrorWithClient) errorResp;\r\n                try {\r\n                    String json = mapper.writeValueAsString(error);\r\n                    JsonObject jsonObject = new Gson().fromJson(json, JsonObject.class);\r\n                    JsonObject client = jsonObject.getAsJsonObject(&quot;client&quot;);\r\n                    Map&lt;String, JsonElement&gt; map = client.asMap();\r\n                    for (Map.Entry&lt;String, JsonElement&gt; entry : map.entrySet()) {\r\n                    }\r\n    \r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            } catch (RuntimeException e) {\r\n                throw new RuntimeException(e);\r\n            }`","title":"Iterate over Nested Hashmap ( java.lang.IllegalStateException: Expected a string but was BEGIN_ARRAY )","body":"<p>I found a solution for my needs in a different approach + taking into account @knittl comment</p>\n<pre><code>`try {\n            JsonFactory factory = new JsonFactory();\n            ObjectMapper mapper = new ObjectMapper(factory);\n            ErrorWithClient error = (ErrorWithClient) errorResp;\n            try {\n                String json = mapper.writeValueAsString(error);\n                JsonObject jsonObject = new Gson().fromJson(json, JsonObject.class);\n                JsonObject client = jsonObject.getAsJsonObject(&quot;client&quot;);\n                Map&lt;String, JsonElement&gt; map = client.asMap();\n                for (Map.Entry&lt;String, JsonElement&gt; entry : map.entrySet()) {\n                }\n\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        } catch (RuntimeException e) {\n            throw new RuntimeException(e);\n        }`\n</code></pre>\n"}],"owner":{"account_id":27695576,"reputation":3,"user_id":21141382,"display_name":"Markus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678308443,"creation_date":1678283823,"question_id":75674002,"body_markdown":"I want to iterate through the each field in &quot;client&quot; to assert that &quot;message&quot; and &quot;code&quot; is present and corresponds to the correct value in each object (first name, last name, city)\r\n\r\nClass:\r\n\r\n```lang-java\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\npublic class ErrorWithClient implements Iterable {\r\n\r\n    @JsonProperty(&quot;client&quot;)\r\n    Map&lt;String, List&lt;ErrorDescription&gt;&gt; errorDescription = new Map&lt;String, List&lt;ErrorDescription&gt;&gt;() {\r\n\r\n        @Override\r\n        public int size() {\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public boolean isEmpty() {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean containsKey(Object key) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean containsValue(Object value) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;ErrorDescription&gt; get(Object key) {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;ErrorDescription&gt; put(String key, List&lt;ErrorDescription&gt; value) {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;ErrorDescription&gt; remove(Object key) {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public void putAll(Map&lt;? extends String, ? extends List&lt;ErrorDescription&gt;&gt; m) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void clear() {\r\n\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;String&gt; keySet() {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public Collection&lt;List&lt;ErrorDescription&gt;&gt; values() {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;Entry&lt;String, List&lt;ErrorDescription&gt;&gt;&gt; entrySet() {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public Iterator iterator() {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nErrorDescription:\r\n\r\n```lang-java\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\npublic class ErrorDescription {\r\n\r\n    @JsonProperty(&quot;message&quot;)\r\n    String message;\r\n\r\n    @JsonProperty(&quot;code&quot;)\r\n    String code;\r\n\r\n}\r\n```\r\n\r\nResponse is achieved by API request to the server which consists of an empty &quot;client&quot;: {}  \r\nResponse:\r\n\r\n```lang-json\r\n{\r\n    &quot;client&quot;: {\r\n        &quot;first_name&quot;: [\r\n            {\r\n                &quot;message&quot;: &quot;This field is required.&quot;,\r\n                &quot;code&quot;: &quot;required&quot;\r\n            }\r\n        ],\r\n        &quot;last_name&quot;: [\r\n            {\r\n                &quot;message&quot;: &quot;This field is required.&quot;,\r\n                &quot;code&quot;: &quot;required&quot;\r\n            }\r\n        ],\r\n        &quot;city&quot;: [\r\n            {\r\n                &quot;message&quot;: &quot;This field is required.&quot;,\r\n                &quot;code&quot;: &quot;required&quot;\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nRecasting and for loop methods:\r\n\r\n```lang-java\r\ntry {\r\n    JsonFactory factory = new JsonFactory();\r\n    ObjectMapper mapper = new ObjectMapper(factory);\r\n    ErrorWithClient error = (ErrorWithClient) errorResp;\r\n    try {\r\n        String json = mapper.writeValueAsString(error);\r\n        Map&lt;String, HashMap&lt;String, String&gt;&gt; map = new Gson().fromJson(\r\n                json, \r\n                new TypeToken&lt;HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt;() {}.getType()\r\n            );\r\n        for (Map.Entry&lt;String, HashMap&lt;String, String&gt;&gt; client : map.entrySet()) {\r\n            String firstName = client.getKey();\r\n            System.out.println(firstName);\r\n            for (Map.Entry&lt;String, String&gt; field : client.getValue().entrySet()) {\r\n                String code = field.getKey();\r\n                String message = field.getValue();\r\n                System.out.println(code + &quot; &quot; + message);\r\n            }\r\n        }\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n} catch (RuntimeException e) {\r\n    throw new RuntimeException(e);\r\n}\r\n```\r\n\r\nI tried different methods of recasting and mapping the json + for looping through it  \r\nSo far described method is the closest i&#39;ve got but I&#39;m stuck with:\r\n\r\njava.lang.RuntimeException: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected a string but was BEGIN_ARRAY at line 1 column 36 path $\r\n\r\nWhat could be the solution is to describe response as class with getters and setters (but i doubt thats the issue)","title":"Iterate over Nested Hashmap ( java.lang.IllegalStateException: Expected a string but was BEGIN_ARRAY )","body":"<p>I want to iterate through the each field in &quot;client&quot; to assert that &quot;message&quot; and &quot;code&quot; is present and corresponds to the correct value in each object (first name, last name, city)</p>\n<p>Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class ErrorWithClient implements Iterable {\n\n    @JsonProperty(&quot;client&quot;)\n    Map&lt;String, List&lt;ErrorDescription&gt;&gt; errorDescription = new Map&lt;String, List&lt;ErrorDescription&gt;&gt;() {\n\n        @Override\n        public int size() {\n            return 0;\n        }\n\n        @Override\n        public boolean isEmpty() {\n            return false;\n        }\n\n        @Override\n        public boolean containsKey(Object key) {\n            return false;\n        }\n\n        @Override\n        public boolean containsValue(Object value) {\n            return false;\n        }\n\n        @Override\n        public List&lt;ErrorDescription&gt; get(Object key) {\n            return null;\n        }\n\n        @Override\n        public List&lt;ErrorDescription&gt; put(String key, List&lt;ErrorDescription&gt; value) {\n            return null;\n        }\n\n        @Override\n        public List&lt;ErrorDescription&gt; remove(Object key) {\n            return null;\n        }\n\n        @Override\n        public void putAll(Map&lt;? extends String, ? extends List&lt;ErrorDescription&gt;&gt; m) {\n\n        }\n\n        @Override\n        public void clear() {\n\n        }\n\n        @Override\n        public Set&lt;String&gt; keySet() {\n            return null;\n        }\n\n        @Override\n        public Collection&lt;List&lt;ErrorDescription&gt;&gt; values() {\n            return null;\n        }\n\n        @Override\n        public Set&lt;Entry&lt;String, List&lt;ErrorDescription&gt;&gt;&gt; entrySet() {\n            return null;\n        }\n    };\n\n    @Override\n    public Iterator iterator() {\n        return null;\n    }\n}\n</code></pre>\n<p>ErrorDescription:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class ErrorDescription {\n\n    @JsonProperty(&quot;message&quot;)\n    String message;\n\n    @JsonProperty(&quot;code&quot;)\n    String code;\n\n}\n</code></pre>\n<p>Response is achieved by API request to the server which consists of an empty &quot;client&quot;: {}<br />\nResponse:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;client&quot;: {\n        &quot;first_name&quot;: [\n            {\n                &quot;message&quot;: &quot;This field is required.&quot;,\n                &quot;code&quot;: &quot;required&quot;\n            }\n        ],\n        &quot;last_name&quot;: [\n            {\n                &quot;message&quot;: &quot;This field is required.&quot;,\n                &quot;code&quot;: &quot;required&quot;\n            }\n        ],\n        &quot;city&quot;: [\n            {\n                &quot;message&quot;: &quot;This field is required.&quot;,\n                &quot;code&quot;: &quot;required&quot;\n            }\n        ]\n    }\n}\n</code></pre>\n<p>Recasting and for loop methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    JsonFactory factory = new JsonFactory();\n    ObjectMapper mapper = new ObjectMapper(factory);\n    ErrorWithClient error = (ErrorWithClient) errorResp;\n    try {\n        String json = mapper.writeValueAsString(error);\n        Map&lt;String, HashMap&lt;String, String&gt;&gt; map = new Gson().fromJson(\n                json, \n                new TypeToken&lt;HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt;() {}.getType()\n            );\n        for (Map.Entry&lt;String, HashMap&lt;String, String&gt;&gt; client : map.entrySet()) {\n            String firstName = client.getKey();\n            System.out.println(firstName);\n            for (Map.Entry&lt;String, String&gt; field : client.getValue().entrySet()) {\n                String code = field.getKey();\n                String message = field.getValue();\n                System.out.println(code + &quot; &quot; + message);\n            }\n        }\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n} catch (RuntimeException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>I tried different methods of recasting and mapping the json + for looping through it<br />\nSo far described method is the closest i've got but I'm stuck with:</p>\n<p>java.lang.RuntimeException: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected a string but was BEGIN_ARRAY at line 1 column 36 path $</p>\n<p>What could be the solution is to describe response as class with getters and setters (but i doubt thats the issue)</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":27968707,"reputation":1,"user_id":21358931,"display_name":"Wojciech Brudniewicz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678307600,"creation_date":1678307600,"question_id":75677956,"body_markdown":"I am beginner in Android Stuio. I tried to create a remind me app. I cannot solve problem with schedule notifiaction. I have exactlly same code as guy on yt and it doesnt work.\r\n\r\nLayout I use:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_margin=&quot;20dp&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/etTitle&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Title&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/etMessage&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Message&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/etTitle&quot; /&gt;\r\n\r\n    &lt;DatePicker\r\n        android:id=&quot;@+id/datePicker&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginHorizontal=&quot;-30dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:calendarViewShown=&quot;false&quot;\r\n        android:datePickerMode=&quot;spinner&quot;\r\n        android:scaleX=&quot;0.7&quot;\r\n        android:scaleY=&quot;0.7&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/etMessage&quot; /&gt;\r\n\r\n    &lt;TimePicker\r\n        android:id=&quot;@+id/timePicker&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginHorizontal=&quot;-30dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:calendarViewShown=&quot;false&quot;\r\n        android:scaleX=&quot;0.7&quot;\r\n        android:scaleY=&quot;0.7&quot;\r\n        android:timePickerMode=&quot;spinner&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/datePicker&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/submitButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Schedule Notification&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/timePicker&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nActivity: \r\n\r\n```\r\npackage com.example.remindemeapp\r\n\r\nimport android.app.AlarmManager\r\nimport android.app.AlertDialog\r\nimport android.app.Notification\r\nimport android.app.NotificationChannel\r\nimport android.app.NotificationManager\r\nimport android.app.PendingIntent\r\nimport android.app.TaskStackBuilder\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.graphics.Color\r\nimport android.os.Build\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.text.format.DateFormat.getLongDateFormat\r\nimport android.util.Log\r\nimport android.widget.TextView\r\nimport androidx.core.app.NotificationCompat\r\nimport androidx.core.app.NotificationManagerCompat\r\nimport androidx.core.content.ContextCompat\r\nimport com.example.remindemeapp.databinding.ActivityMainBinding\r\nimport com.example.remindemeapp.databinding.CreateReminderLayoutBinding\r\nimport com.example.remindemeapp.databinding.CreateReminderLayoutBinding.*\r\nimport com.google.android.material.timepicker.TimeFormat\r\nimport kotlinx.android.synthetic.main.activity_main.*\r\nimport java.text.DateFormat\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\n\r\nclass CreateReminderActivity : AppCompatActivity() {\r\n\r\n    private lateinit var binding: CreateReminderLayoutBinding\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = CreateReminderLayoutBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        createNotificationChannel()\r\n        binding.submitButton.setOnClickListener {\r\n            scheduleNotification()\r\n        }\r\n    }\r\n\r\n    private fun scheduleNotification() {\r\n        val intent = Intent(applicationContext, Notification::class.java)\r\n        val title = binding.etTitle.text.toString()\r\n        val message = binding.etMessage.text.toString()\r\n        intent.putExtra(titleExtra, title)\r\n        intent.putExtra(messageExtra, message)\r\n\r\n        val pendingIntent = PendingIntent.getBroadcast(\r\n            applicationContext,\r\n            notificationID,\r\n            intent,\r\n            PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT\r\n        )\r\n\r\n        val alarmManager = getSystemService(Context.ALARM_SERVICE) as AlarmManager\r\n        val time = getTime()\r\n        alarmManager.setExactAndAllowWhileIdle(\r\n            AlarmManager.RTC_WAKEUP,\r\n            time,\r\n            pendingIntent\r\n        )\r\n        showAlert(time, title, message)\r\n    }\r\n\r\n    private fun showAlert(time: Long, title: String, message: String) {\r\n        val date = Date(time)\r\n        val dateFormat = android.text.format.DateFormat.getLongDateFormat(applicationContext)\r\n        val timeFormat = android.text.format.DateFormat.getTimeFormat(applicationContext)\r\n\r\n        AlertDialog.Builder(this)\r\n            .setTitle(&quot;Notification Scheduled&quot;)\r\n            .setMessage(\r\n                &quot;Title: &quot; + title +\r\n                        &quot;\\nMessage: &quot; + message +\r\n                        &quot;\\nAt: &quot; + dateFormat.format(date) + &quot; &quot; + timeFormat.format(date)\r\n            )\r\n            .setPositiveButton(&quot;Okay&quot;){_,_ -&gt;}\r\n            .show()\r\n    }\r\n\r\n    private fun getTime(): Long {\r\n        val minute = binding.timePicker.minute\r\n        val hour = binding.timePicker.hour\r\n        val day = binding.datePicker.dayOfMonth\r\n        val month = binding.datePicker.month\r\n        val year = binding.datePicker.year\r\n\r\n        val calendar = Calendar.getInstance()\r\n        calendar.set(year, month, day, hour, minute)\r\n        return calendar.timeInMillis\r\n    }\r\n\r\n    private fun createNotificationChannel() {\r\n        val name = &quot;Notif channel&quot;\r\n        val desc = &quot;A description of the Channel&quot;\r\n        val importance = NotificationManager.IMPORTANCE_DEFAULT\r\n        val channel = NotificationChannel(channelID, name, importance)\r\n        channel.description = desc\r\n        val notificationManager = getSystemService(NOTIFICATION_SERVICE) as NotificationManager\r\n        notificationManager.createNotificationChannel(channel)\r\n    }\r\n}\r\n```\r\nNotification class:\r\n\r\n```\r\npackage com.example.remindemeapp\r\n\r\nimport android.app.NotificationManager\r\nimport android.content.BroadcastReceiver\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.util.Log\r\nimport androidx.core.app.NotificationCompat\r\n\r\nconst val notificationID = 1\r\nconst val channelID = &quot;channel1&quot;\r\nconst val titleExtra = &quot;titleExtra&quot;\r\nconst val messageExtra = &quot;messageExtra&quot;\r\n\r\nclass Notification : BroadcastReceiver() {\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        val notification = NotificationCompat.Builder(context, channelID)\r\n            .setSmallIcon(R.drawable.ic_notification)\r\n            .setContentTitle(intent.getStringExtra(titleExtra))\r\n            .setContentText(intent.getStringExtra(messageExtra))\r\n            .build()\r\n\r\n        val manager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n        manager.notify(notificationID, notification)\r\n    }\r\n}\r\n```\r\nI added uses permission, new activity to manifest.\r\n\r\n\r\nI tried to debug it and it stops before after creating an alert.","title":"Android Studio Schedule Notifiaction doesnt work","body":"<p>I am beginner in Android Stuio. I tried to create a remind me app. I cannot solve problem with schedule notifiaction. I have exactlly same code as guy on yt and it doesnt work.</p>\n<p>Layout I use:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_margin=&quot;20dp&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n\n    &lt;EditText\n        android:id=&quot;@+id/etTitle&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Title&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/etMessage&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Message&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/etTitle&quot; /&gt;\n\n    &lt;DatePicker\n        android:id=&quot;@+id/datePicker&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginHorizontal=&quot;-30dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:calendarViewShown=&quot;false&quot;\n        android:datePickerMode=&quot;spinner&quot;\n        android:scaleX=&quot;0.7&quot;\n        android:scaleY=&quot;0.7&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/etMessage&quot; /&gt;\n\n    &lt;TimePicker\n        android:id=&quot;@+id/timePicker&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginHorizontal=&quot;-30dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:calendarViewShown=&quot;false&quot;\n        android:scaleX=&quot;0.7&quot;\n        android:scaleY=&quot;0.7&quot;\n        android:timePickerMode=&quot;spinner&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/datePicker&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/submitButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Schedule Notification&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/timePicker&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Activity:</p>\n<pre><code>package com.example.remindemeapp\n\nimport android.app.AlarmManager\nimport android.app.AlertDialog\nimport android.app.Notification\nimport android.app.NotificationChannel\nimport android.app.NotificationManager\nimport android.app.PendingIntent\nimport android.app.TaskStackBuilder\nimport android.content.Context\nimport android.content.Intent\nimport android.graphics.Color\nimport android.os.Build\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.text.format.DateFormat.getLongDateFormat\nimport android.util.Log\nimport android.widget.TextView\nimport androidx.core.app.NotificationCompat\nimport androidx.core.app.NotificationManagerCompat\nimport androidx.core.content.ContextCompat\nimport com.example.remindemeapp.databinding.ActivityMainBinding\nimport com.example.remindemeapp.databinding.CreateReminderLayoutBinding\nimport com.example.remindemeapp.databinding.CreateReminderLayoutBinding.*\nimport com.google.android.material.timepicker.TimeFormat\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.text.DateFormat\nimport java.text.SimpleDateFormat\nimport java.util.*\n\nclass CreateReminderActivity : AppCompatActivity() {\n\n    private lateinit var binding: CreateReminderLayoutBinding\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = CreateReminderLayoutBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        createNotificationChannel()\n        binding.submitButton.setOnClickListener {\n            scheduleNotification()\n        }\n    }\n\n    private fun scheduleNotification() {\n        val intent = Intent(applicationContext, Notification::class.java)\n        val title = binding.etTitle.text.toString()\n        val message = binding.etMessage.text.toString()\n        intent.putExtra(titleExtra, title)\n        intent.putExtra(messageExtra, message)\n\n        val pendingIntent = PendingIntent.getBroadcast(\n            applicationContext,\n            notificationID,\n            intent,\n            PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT\n        )\n\n        val alarmManager = getSystemService(Context.ALARM_SERVICE) as AlarmManager\n        val time = getTime()\n        alarmManager.setExactAndAllowWhileIdle(\n            AlarmManager.RTC_WAKEUP,\n            time,\n            pendingIntent\n        )\n        showAlert(time, title, message)\n    }\n\n    private fun showAlert(time: Long, title: String, message: String) {\n        val date = Date(time)\n        val dateFormat = android.text.format.DateFormat.getLongDateFormat(applicationContext)\n        val timeFormat = android.text.format.DateFormat.getTimeFormat(applicationContext)\n\n        AlertDialog.Builder(this)\n            .setTitle(&quot;Notification Scheduled&quot;)\n            .setMessage(\n                &quot;Title: &quot; + title +\n                        &quot;\\nMessage: &quot; + message +\n                        &quot;\\nAt: &quot; + dateFormat.format(date) + &quot; &quot; + timeFormat.format(date)\n            )\n            .setPositiveButton(&quot;Okay&quot;){_,_ -&gt;}\n            .show()\n    }\n\n    private fun getTime(): Long {\n        val minute = binding.timePicker.minute\n        val hour = binding.timePicker.hour\n        val day = binding.datePicker.dayOfMonth\n        val month = binding.datePicker.month\n        val year = binding.datePicker.year\n\n        val calendar = Calendar.getInstance()\n        calendar.set(year, month, day, hour, minute)\n        return calendar.timeInMillis\n    }\n\n    private fun createNotificationChannel() {\n        val name = &quot;Notif channel&quot;\n        val desc = &quot;A description of the Channel&quot;\n        val importance = NotificationManager.IMPORTANCE_DEFAULT\n        val channel = NotificationChannel(channelID, name, importance)\n        channel.description = desc\n        val notificationManager = getSystemService(NOTIFICATION_SERVICE) as NotificationManager\n        notificationManager.createNotificationChannel(channel)\n    }\n}\n</code></pre>\n<p>Notification class:</p>\n<pre><code>package com.example.remindemeapp\n\nimport android.app.NotificationManager\nimport android.content.BroadcastReceiver\nimport android.content.Context\nimport android.content.Intent\nimport android.util.Log\nimport androidx.core.app.NotificationCompat\n\nconst val notificationID = 1\nconst val channelID = &quot;channel1&quot;\nconst val titleExtra = &quot;titleExtra&quot;\nconst val messageExtra = &quot;messageExtra&quot;\n\nclass Notification : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n        val notification = NotificationCompat.Builder(context, channelID)\n            .setSmallIcon(R.drawable.ic_notification)\n            .setContentTitle(intent.getStringExtra(titleExtra))\n            .setContentText(intent.getStringExtra(messageExtra))\n            .build()\n\n        val manager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        manager.notify(notificationID, notification)\n    }\n}\n</code></pre>\n<p>I added uses permission, new activity to manifest.</p>\n<p>I tried to debug it and it stops before after creating an alert.</p>\n"},{"tags":["java","jar","unsupported-class-version"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1678196867,"post_id":75662763,"comment_id":133483396,"body_markdown":"Note that one computer has Java 18 and the other has Java **1.8** (a.k.a Java 8). That&#39;s an 8 year difference in release dates. The problem is not JDK vs JRE, it&#39;s that you&#39;re using a very old Java version on the second computer. If you&#39;re not using any features/classes that weren&#39;t in Java 8 then you can switch your compiler to generate Java 8 supported class files even when compiling on Java 18.","body":"Note that one computer has Java 18 and the other has Java <b>1.8</b> (a.k.a Java 8). That&#39;s an 8 year difference in release dates. The problem is not JDK vs JRE, it&#39;s that you&#39;re using a very old Java version on the second computer. If you&#39;re not using any features/classes that weren&#39;t in Java 8 then you can switch your compiler to generate Java 8 supported class files even when compiling on Java 18."},{"owner":{"account_id":22951853,"reputation":1,"user_id":17083016,"display_name":"Janekbrze"},"score":0,"creation_date":1678197502,"post_id":75662763,"comment_id":133483595,"body_markdown":"Thanks! Is it possible to update Java on the second computer to use JRE with up-to-date Java version? Or I have to compile it for Java 8?","body":"Thanks! Is it possible to update Java on the second computer to use JRE with up-to-date Java version? Or I have to compile it for Java 8?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678198429,"post_id":75662763,"comment_id":133483853,"body_markdown":"JREs are not really a thing any more (you can still get them from some vendors, but most ship only the JDK). Whether or not it&#39;s possible to install a newer Java version on that computer is not something we can answer: you need to know.","body":"JREs are not really a thing any more (you can still get them from some vendors, but most ship only the JDK). Whether or not it&#39;s possible to install a newer Java version on that computer is not something we can answer: you need to know."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1678307589,"post_id":75663132,"comment_id":133509392,"body_markdown":"Notes to reader: See also [*jpackage*](https://openjdk.org/jeps/392) tool. And see Oracle whitepaper, [*Java Client Roadmap Update*](https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf).","body":"Notes to reader: See also <a href=\"https://openjdk.org/jeps/392\" rel=\"nofollow noreferrer\"><i>jpackage</i></a> tool. And see Oracle whitepaper, <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\" rel=\"nofollow noreferrer\"><i>Java Client Roadmap Update</i></a>."},{"owner":{"account_id":22951853,"reputation":1,"user_id":17083016,"display_name":"Janekbrze"},"score":0,"creation_date":1678434447,"post_id":75663132,"comment_id":133535037,"body_markdown":"Thank You very much for such detailed answer! This is exactly what I wanted to know!","body":"Thank You very much for such detailed answer! This is exactly what I wanted to know!"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678307535,"creation_date":1678198536,"answer_id":75663132,"question_id":75662763,"body_markdown":"JRE, the concept, __is obsolete__ - JRE1.8 was the last one. Various vendors (such as Azul) make JREs for newer versions, but it&#39;s no longer a supported deployment platform.\r\n\r\nHence, no wonder your end user has it installed. JRE1.8 is __no longer supported__ and is very old, certainly too old to run what you compiled, which you compiled on the very newest java version.\r\n\r\nYou can tell your java to produce code that is JDK8 compatible with `javac --release 8 *.java` for example (or check your build tool docs for how to tell it to add this parameter), but it means you can&#39;t use any API introduced since then (and lots has been introduced), nor any java language feature introduced since then (so, no `var`, no `record`, no `&quot;&quot;&quot;` strings, etcetera).\r\n\r\n## But, your deployment model is obsolete!\r\n\r\nYour deployment model is:\r\n\r\n* You, end user, arrange for a JRE to exist. All I can do is tell you to go download one someplace.\r\n* I shall ship you a jar file.\r\n* You double click it.\r\n\r\nThis model is no longer recommended or available. Finding a JRE is now quite difficult and it is not reasonable to expect users to have it. At best you can ship extensive documentation about where they can get one (not openjdk.org or java.com, not anymore!)\r\n\r\nThere&#39;s a reason for that: It really never worked well, oracle/team OpenJDK&#39;s choice to get rid of the JRE vs JDK distribution model is perhaps more them just waking up and realizing how the real world has been deploying java apps, rather than that they are trying to annoy you by changing how things work.\r\n\r\nThe new model involves __you__ shipping the java runtime together with your app and __you__ taking on the responsibility of maintaining it.\r\n\r\nThere&#39;s various tutorials out there on how to do this, [`jlink`][1] is a key part of it (so include that in your searches). Alternatively, and this isn&#39;t particularly hard either, as this was already quite popular even 10 years ago when the JRE deployment model was still a thing: You can ship an entire JDK with your jars and make a simple installer. Things like [launch4j](https://launch4j.sourceforge.net) exist that make it real easy for your users to launch it (simply click the EXE).\r\n\r\nThe problem with the JRE deployment model in a nutshell:\r\n* Your end users would &#39;contract&#39; with oracle to download a JRE, install it on their system, and oracle+user would work together to keep it up to date. Failure to do this (for example, users getting jusched.exe out of their system start up folder) means oracle catches the heat for having a JRE that is probably insecure (due to not being updated).\r\n* All you could really do as app vendor is tell the user they need to go to oracle.com or java.com or whatnot first. This was awkward.\r\n* You have no real guarantee that the JRE they do have is compatible. Java is mostly backwards compatible but it can easily happen that, say, your app does not run on java 10 but it does on java8. If someone installs a JRE10, then your app &#39;runs&#39; and crashes. It is very difficult to test your app on JRE8,9,10,11,12,13,14,15,16,17,18, and 19, so people didn&#39;t, and this led to apps failing all the time.\r\n* Because it&#39;s a system thing, the JRE needs to announce where it is at, and register itself as being the thing to use to run any `.jar` file. This makes the security situation considerably more tricky.\r\n\r\nContrast to the new model (which is the model lots of folks already used _before_ this became the official model, because of the issues with the old model listed above):\r\n\r\n* You deploy precisely the JDK/JRE you want, and tested with.\r\n* There is no need to inform the user about needing to go to java.com\r\n* There is no need for this JDK/JRE to announce itself to the system.\r\n* There is less need to keep it updated; given that it doesn&#39;t register itself to run `.jar` files or otherwise gets involved in being executed for anything, other than your app, and most JDK security issues cannot be exploited unless the app is &#39;in on it&#39; / can be fixed app-side.\r\n* _It matches what the major java apps, such as intellij and eclipse, were already doing_.\r\n\r\nThe downside of this new model is that it&#39;s a lot more effort to write an installer. One advantage of JREs, that they are smaller in size, can be reproduced with `jlink` that, amongst other things, can make a tree-shaken JDK (a JDK with all parts that your specific app does not need, taken out of it).\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/282","title":"How to run jar on different computer without JDK?","body":"<p>JRE, the concept, <strong>is obsolete</strong> - JRE1.8 was the last one. Various vendors (such as Azul) make JREs for newer versions, but it's no longer a supported deployment platform.</p>\n<p>Hence, no wonder your end user has it installed. JRE1.8 is <strong>no longer supported</strong> and is very old, certainly too old to run what you compiled, which you compiled on the very newest java version.</p>\n<p>You can tell your java to produce code that is JDK8 compatible with <code>javac --release 8 *.java</code> for example (or check your build tool docs for how to tell it to add this parameter), but it means you can't use any API introduced since then (and lots has been introduced), nor any java language feature introduced since then (so, no <code>var</code>, no <code>record</code>, no <code>&quot;&quot;&quot;</code> strings, etcetera).</p>\n<h2>But, your deployment model is obsolete!</h2>\n<p>Your deployment model is:</p>\n<ul>\n<li>You, end user, arrange for a JRE to exist. All I can do is tell you to go download one someplace.</li>\n<li>I shall ship you a jar file.</li>\n<li>You double click it.</li>\n</ul>\n<p>This model is no longer recommended or available. Finding a JRE is now quite difficult and it is not reasonable to expect users to have it. At best you can ship extensive documentation about where they can get one (not openjdk.org or java.com, not anymore!)</p>\n<p>There's a reason for that: It really never worked well, oracle/team OpenJDK's choice to get rid of the JRE vs JDK distribution model is perhaps more them just waking up and realizing how the real world has been deploying java apps, rather than that they are trying to annoy you by changing how things work.</p>\n<p>The new model involves <strong>you</strong> shipping the java runtime together with your app and <strong>you</strong> taking on the responsibility of maintaining it.</p>\n<p>There's various tutorials out there on how to do this, <a href=\"https://openjdk.org/jeps/282\" rel=\"nofollow noreferrer\"><code>jlink</code></a> is a key part of it (so include that in your searches). Alternatively, and this isn't particularly hard either, as this was already quite popular even 10 years ago when the JRE deployment model was still a thing: You can ship an entire JDK with your jars and make a simple installer. Things like <a href=\"https://launch4j.sourceforge.net\" rel=\"nofollow noreferrer\">launch4j</a> exist that make it real easy for your users to launch it (simply click the EXE).</p>\n<p>The problem with the JRE deployment model in a nutshell:</p>\n<ul>\n<li>Your end users would 'contract' with oracle to download a JRE, install it on their system, and oracle+user would work together to keep it up to date. Failure to do this (for example, users getting jusched.exe out of their system start up folder) means oracle catches the heat for having a JRE that is probably insecure (due to not being updated).</li>\n<li>All you could really do as app vendor is tell the user they need to go to oracle.com or java.com or whatnot first. This was awkward.</li>\n<li>You have no real guarantee that the JRE they do have is compatible. Java is mostly backwards compatible but it can easily happen that, say, your app does not run on java 10 but it does on java8. If someone installs a JRE10, then your app 'runs' and crashes. It is very difficult to test your app on JRE8,9,10,11,12,13,14,15,16,17,18, and 19, so people didn't, and this led to apps failing all the time.</li>\n<li>Because it's a system thing, the JRE needs to announce where it is at, and register itself as being the thing to use to run any <code>.jar</code> file. This makes the security situation considerably more tricky.</li>\n</ul>\n<p>Contrast to the new model (which is the model lots of folks already used <em>before</em> this became the official model, because of the issues with the old model listed above):</p>\n<ul>\n<li>You deploy precisely the JDK/JRE you want, and tested with.</li>\n<li>There is no need to inform the user about needing to go to java.com</li>\n<li>There is no need for this JDK/JRE to announce itself to the system.</li>\n<li>There is less need to keep it updated; given that it doesn't register itself to run <code>.jar</code> files or otherwise gets involved in being executed for anything, other than your app, and most JDK security issues cannot be exploited unless the app is 'in on it' / can be fixed app-side.</li>\n<li><em>It matches what the major java apps, such as intellij and eclipse, were already doing</em>.</li>\n</ul>\n<p>The downside of this new model is that it's a lot more effort to write an installer. One advantage of JREs, that they are smaller in size, can be reproduced with <code>jlink</code> that, amongst other things, can make a tree-shaken JDK (a JDK with all parts that your specific app does not need, taken out of it).</p>\n"}],"owner":{"account_id":22951853,"reputation":1,"user_id":17083016,"display_name":"Janekbrze"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678205611,"answer_count":1,"score":0,"last_activity_date":1678307535,"creation_date":1678196640,"question_id":75662763,"body_markdown":"I created Java application and built a jar file. I can run this jar on my computer, but when I try to run it on other computer (with no JDK installed) by double click on jar, I&#39;m getting an error:\r\nA Java Exception has occured.\r\n\r\nWhen I run it from command line using `java -jar &lt;filename.jar&gt;`, I&#39;m getting such error:\r\n&gt; Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: MainWindow has been compiled by a more recent version of the Java Runtime (class file version 62.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\n\r\n\r\nI checked Java versions on both computers.\r\n\r\nFirst computer (with JDK):&lt;br&gt;\r\njava version &quot;18.0.2&quot; 2022-07-19&lt;br&gt;\r\nJava(TM) SE Runtime Environment (build 18.0.2+9-61)&lt;br&gt;\r\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.2+9-61, mixed mode, sharing)\r\n\r\nSecond computer (without JDK):&lt;br&gt;\r\njava version &quot;1.8.0_361&quot;&lt;br&gt;\r\nJava(TM) SE Runtime Environment (build 1.8.0_361-b09)&lt;br&gt;\r\nJava HotSpot(TM) Client VM (build 25.361-b09, mixed mode, sharing)\r\n\r\nAs I know, it should be possible to run a Jar file without JDK installed, just JRE should be enough. But it looks like this JRE is too old version? (I don&#39;t think so, but maybe I&#39;m wrong.)\r\n\r\nSummary:&lt;br&gt;\r\nHow to run a jar on the second computer without installing JDK?","title":"How to run jar on different computer without JDK?","body":"<p>I created Java application and built a jar file. I can run this jar on my computer, but when I try to run it on other computer (with no JDK installed) by double click on jar, I'm getting an error:\nA Java Exception has occured.</p>\n<p>When I run it from command line using <code>java -jar &lt;filename.jar&gt;</code>, I'm getting such error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: MainWindow has been compiled by a more recent version of the Java Runtime (class file version 62.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n</blockquote>\n<p>I checked Java versions on both computers.</p>\n<p>First computer (with JDK):<br>\njava version &quot;18.0.2&quot; 2022-07-19<br>\nJava(TM) SE Runtime Environment (build 18.0.2+9-61)<br>\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.2+9-61, mixed mode, sharing)</p>\n<p>Second computer (without JDK):<br>\njava version &quot;1.8.0_361&quot;<br>\nJava(TM) SE Runtime Environment (build 1.8.0_361-b09)<br>\nJava HotSpot(TM) Client VM (build 25.361-b09, mixed mode, sharing)</p>\n<p>As I know, it should be possible to run a Jar file without JDK installed, just JRE should be enough. But it looks like this JRE is too old version? (I don't think so, but maybe I'm wrong.)</p>\n<p>Summary:<br>\nHow to run a jar on the second computer without installing JDK?</p>\n"},{"tags":["java","android","android-handler"],"comments":[{"owner":{"account_id":1278157,"reputation":7595,"user_id":1232937,"accept_rate":40,"display_name":"Robin Davies"},"score":0,"creation_date":1678086081,"post_id":75647211,"comment_id":133458073,"body_markdown":"You need to narrow it down a bit. What are you calling to receive notifications. What doesn&#39;t happen?","body":"You need to narrow it down a bit. What are you calling to receive notifications. What doesn&#39;t happen?"},{"owner":{"account_id":25740044,"reputation":11,"user_id":19494186,"display_name":"HarmanPreet Singh"},"score":0,"creation_date":1678250640,"post_id":75647211,"comment_id":133495045,"body_markdown":"well I am using Handler mhandler = new Handler(new Handler.Callback() function for getting the response. This Handler is not getting called.","body":"well I am using Handler mhandler = new Handler(new Handler.Callback() function for getting the response. This Handler is not getting called."}],"answers":[{"tags":[],"owner":{"account_id":1278157,"reputation":7595,"user_id":1232937,"accept_rate":40,"display_name":"Robin Davies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678307415,"creation_date":1678307415,"answer_id":75677931,"question_id":75647211,"body_markdown":"That&#39;s a very unconventional way to use handlers.\r\n\r\nOff the top of my head, I&#39;d guess that your message ids are colliding with system message ids. I can&#39;t find docs on how one determines a safe range for message ids; but I&#39;d be gravely concerned about using message ID values of 11 and 22. If you REALLY have to minimize allocations, you might try very high numbers for message IDs. I suspect that if you look through logs, you&#39;ll \r\nfind some very irate system handler complaining about receiving data of the \r\nwrong type. The fact that you&#39;re not getting *any* callbacks strongly suggests that the system isn&#39;t going to let you filter system messages, and it absolutely should not. There&#39;s probably all kinds of sensitive information flying around in the body of system messages.\r\n\r\nThe more conventional way to use handlers in non-system code is to use `Runnable`&#39;s. Admittedly, there&#39;s one extra memory allocation for the Runnable; and a modest amount of extra overhead for the closure capture. But it is the way posts are usually done.\r\n\r\n```\r\n    class HostClass {\r\n    \r\n        private Handler handler;\r\n    \r\n        // calback method\r\n        public void handleResponse(byte[] bytes) {\r\n           // do something on the UI thread.\r\n        }\r\n    };\r\n    \r\n    class ClientClass {\r\n\r\n        private Handle hostHandler; //set by the constructor.\r\n        private HostClass host\r\n\r\n        // code running on a background thread.\r\n        private void threadProc()\r\n        {\r\n           byte[] receivedBytes = new byte[...];\r\n    \r\n           // post a runnable to the UI thread (new shiny Java 8 syntax)\r\n           hostHandler.post(() -&gt; {\r\n               // executing on the UI thread.\r\n               host-&gt;handleResponse(receivedBytes );      \r\n           });\r\n           //  or exactly the same thing, using the more verbose legacy syntax.\r\n           hostHandler.post(new Runnable() {\r\n              @Override\r\n             public void run () {\r\n                host-&gt;handleResponse(receivedBytes );\r\n             }\r\n           });\r\n        }\r\n    };\r\n```\r\n\r\nBest practice would probably suggest that you use a callback interface for your callbacks from the client thread instead of exposing your entire host class, if for no other reason than to clarify what the interaction between the host and client object are.","title":"Android not getting response from handler","body":"<p>That's a very unconventional way to use handlers.</p>\n<p>Off the top of my head, I'd guess that your message ids are colliding with system message ids. I can't find docs on how one determines a safe range for message ids; but I'd be gravely concerned about using message ID values of 11 and 22. If you REALLY have to minimize allocations, you might try very high numbers for message IDs. I suspect that if you look through logs, you'll\nfind some very irate system handler complaining about receiving data of the\nwrong type. The fact that you're not getting <em>any</em> callbacks strongly suggests that the system isn't going to let you filter system messages, and it absolutely should not. There's probably all kinds of sensitive information flying around in the body of system messages.</p>\n<p>The more conventional way to use handlers in non-system code is to use <code>Runnable</code>'s. Admittedly, there's one extra memory allocation for the Runnable; and a modest amount of extra overhead for the closure capture. But it is the way posts are usually done.</p>\n<pre><code>    class HostClass {\n    \n        private Handler handler;\n    \n        // calback method\n        public void handleResponse(byte[] bytes) {\n           // do something on the UI thread.\n        }\n    };\n    \n    class ClientClass {\n\n        private Handle hostHandler; //set by the constructor.\n        private HostClass host\n\n        // code running on a background thread.\n        private void threadProc()\n        {\n           byte[] receivedBytes = new byte[...];\n    \n           // post a runnable to the UI thread (new shiny Java 8 syntax)\n           hostHandler.post(() -&gt; {\n               // executing on the UI thread.\n               host-&gt;handleResponse(receivedBytes );      \n           });\n           //  or exactly the same thing, using the more verbose legacy syntax.\n           hostHandler.post(new Runnable() {\n              @Override\n             public void run () {\n                host-&gt;handleResponse(receivedBytes );\n             }\n           });\n        }\n    };\n</code></pre>\n<p>Best practice would probably suggest that you use a callback interface for your callbacks from the client thread instead of exposing your entire host class, if for no other reason than to clarify what the interaction between the host and client object are.</p>\n"}],"owner":{"account_id":25740044,"reputation":11,"user_id":19494186,"display_name":"HarmanPreet Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678307415,"creation_date":1678079027,"question_id":75647211,"body_markdown":"I am developing an app to communicate with wifi and android and I am able to send but not able to receive any response because my response is not being called.\r\n\r\nSo, the basic gist is that I am able to send data but not able to receive any response.\r\n\r\n\r\nHere&#39;s the code for more information :- \r\n\r\nWifi terminal\r\n\r\n```\r\npublic class wifi_terminal extends AppCompatActivity {\r\n\r\n    ListView logListView;\r\n    private static ChatAdapter adapter;\r\n    private ArrayList&lt;ChatMessage&gt; chatHistory;\r\n    Button sendButton;\r\n    EditText editText;\r\n\r\n    TCPConversation wifiCommn;\r\n    byte[] resbyts;\r\n    String response;\r\n    boolean aBoolean =false;\r\n    boolean isInDiagstate =false;\r\n    boolean stopLiveParams =false;\r\n\r\n    private Context context;\r\n    private final String TAG = &quot;WIFI Terminal Activity&quot;;\r\n    Timer timer;\r\n    WifiSemaphoreService wifiSemaphoreService;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_wifi_terminal);\r\n\r\n        init();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        finish();\r\n    }\r\n\r\n    private void init(){\r\n\r\n        context = wifi_terminal.this;\r\n        wifiSemaphoreService = new WifiSemaphoreService();\r\n        wifiCommn = Singletone.getTcpConversation();\r\n        wifiCommn.AssignHandler(mhandler);\r\n        TCPConversation.responseCase =1;\r\n\r\n        logListView= findViewById(R.id.loglistView);\r\n        logListView.setItemsCanFocus(true);\r\n        logListView.setTranscriptMode(ListView.TRANSCRIPT_MODE_ALWAYS_SCROLL);\r\n\r\n        loadDummyHistory();\r\n\r\n        sendButton = findViewById(R.id.sendTextid);\r\n        editText= findViewById(R.id.editTextid);\r\n\r\n        sendButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(wifiCommn!=null &amp;&amp; !wifiCommn.CheckConnection())\r\n                {\r\n                    String  message=editText.getText().toString();\r\n\r\n\r\n                    if(!message.equals(&quot;&quot;))\r\n                    {\r\n                        message=message+&quot;\\r\\n&quot;;\r\n                        final String finalMessage = message;\r\n                        Thread thread = new Thread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                wifiCommn.responseCase =1;\r\n\r\n                                wifiCommn.Send(finalMessage.getBytes());\r\n                                final String finalMessage1 = finalMessage.replace(&quot;\\r\\n&quot;,&quot;&quot;);\r\n                                PrintConv( finalMessage1,true);\r\n                                runOnUiThread(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        editText.setText(&quot;&quot;);\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n                        thread.start();\r\n\r\n                    }\r\n                    else\r\n                    {\r\n                        Toast.makeText(context, &quot;Enter some command!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    PrintConv( &quot;SOCKET CONN LOST&quot;,true);\r\n                    Toast.makeText(wifi_terminal.this, &quot;SOCKET CONN LOST&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    Handler mhandler = new Handler(new Handler.Callback()\r\n    {\r\n        @Override\r\n        public boolean handleMessage(Message message)\r\n        {\r\n            switch(message.what)\r\n            {\r\n                case 11:\r\n                    resbyts = (byte[]) message.obj;\r\n                    response= new String(resbyts);\r\n\r\n                    if(response.length()&gt;0){\r\n                        response = response.replace(&quot;\\r\\n&quot;,&quot;&quot;);\r\n                        aBoolean =true;\r\n                        PrintConv(response,false);\r\n                    }\r\n                    else{\r\n\r\n                        PrintConv(&quot;No Response&quot;,false);\r\n                    }\r\n\r\n\r\n\r\n                    break;\r\n\r\n                case 22:\r\n                    String responseString=(String) message.obj;\r\n                    if(wifiCommn!=null &amp;&amp; wifiCommn.CheckConnection())\r\n                    {\r\n                        wifiCommn.TerminateConnection();\r\n                        PrintConv(&quot;CONNECTION LOST&quot;,false);\r\n                    }\r\n                    Toast.makeText(context, responseString, Toast.LENGTH_SHORT).show();\r\n                    finish();\r\n\r\n                    break;\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n\r\n    public void displayMessage(ChatMessage message)\r\n    {\r\n        adapter.add(message);\r\n        adapter.notifyDataSetChanged();\r\n        scroll();\r\n    }\r\n    private void scroll() { logListView.setSelection(logListView.getCount() - 1); }\r\n    private void loadDummyHistory()\r\n    {\r\n        chatHistory = new ArrayList&lt;&gt;();\r\n        ChatMessage msg = new ChatMessage();\r\n        msg.setId(1);\r\n        msg.setMe(false);\r\n        msg.setDate(DateFormat.getDateTimeInstance().format(new Date()));\r\n        chatHistory.add(msg);\r\n\r\n        adapter = new ChatAdapter(wifi_terminal.this, new ArrayList&lt;ChatMessage&gt;());\r\n        logListView.setAdapter(adapter);\r\n\r\n\r\n    }\r\n\r\n    public void PrintConv(final String msg, final boolean val)\r\n    {\r\n        runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                ChatMessage chatMessage = new ChatMessage();\r\n                chatMessage.setId(11);//dummy\r\n                chatMessage.setMessage(msg);\r\n                chatMessage.setDate(DateFormat.getDateTimeInstance().format(new Date()));\r\n                chatMessage.setMe(val);\r\n                displayMessage(chatMessage);\r\n            }\r\n        });\r\n    }\r\n\r\n}```\r\n\r\n\r\nwifi communication :- \r\n\r\n\r\n```\r\npublic class WifiComm {\r\n\r\n    private Socket socket;\r\n    Handler handler;\r\n    private boolean minusOne =false;\r\n    public static int responseCase;\r\n    private int counter;\r\n    private Timer timer;\r\n    ArrayList&lt;Integer&gt; arr_byte = new ArrayList&lt;Integer&gt;();\r\n\r\n\r\n    static  ArrayList&lt;Byte&gt; readMessage2 = new ArrayList&lt;&gt;();\r\n\r\n    public WifiComm(Socket socket1)\r\n    {\r\n        socket = socket1;\r\n\r\n        Receiving recievingThread = new Receiving(socket);\r\n        recievingThread.start();\r\n    }\r\n\r\n\r\n    public  void AssignHandler(Handler mhandler)\r\n    {\r\n        handler = mhandler;\r\n    }\r\n    static  byte[] tempBuffer = new byte[2048];\r\n\r\n    public class Receiving extends Thread\r\n    {\r\n        private Receiving(Socket socket1) {\r\n            socket =socket1;\r\n        }\r\n\r\n        @Override\r\n        public void run()\r\n        {\r\n\r\n\r\n            boolean recieveData =false;\r\n            ArrayList&lt;Byte&gt;  readMessage1 =  new ArrayList&lt;&gt;();\r\n            StringBuilder readMessage2 = new StringBuilder();\r\n            ArrayList&lt;Byte&gt; readMessage3 = new ArrayList&lt;&gt;();\r\n            minusOne =false;\r\n            tempBuffer = new byte[2048];\r\n            while (true)\r\n            {\r\n\r\n                try {\r\n                    int size=0;\r\n                    size   = socket.getInputStream().read(tempBuffer);\r\n                    //  Log.e(&quot;E&quot;,new String(tempBuffer));\r\n                  //  Log.e(&quot;Socket res:&quot;,new String(tempBuffer));\r\n\r\n                    switch (responseCase)\r\n                    {\r\n                        case 1:/*Checks response until  &quot;\\n&quot; comes*/\r\n                            //readMessage1 = new StringBuilder();\r\n                            String read = new String(tempBuffer,0,size);\r\n                            for (int i = 0; i &lt; size; i++) {\r\n                                if (tempBuffer[i] == &#39;:&#39;) {\r\n                                    recieveData = true;\r\n                                    readMessage1.add(tempBuffer[i]);\r\n                                } else if (tempBuffer[i] == &#39;\\n&#39;) {\r\n                                    readMessage1.add(tempBuffer[i]);\r\n                                    byte[] tempByte = new byte[readMessage1.size()];\r\n                                    for (int j = 0; j &lt; readMessage1.size(); j++) {\r\n                                        tempByte[j] = readMessage1.get(j);\r\n                                    }\r\n                                    Log.e(&quot;BC1&quot;,readMessage1.toString());\r\n                                    readMessage1 = new ArrayList&lt;&gt;();\r\n\r\n                                    handler.obtainMessage(11,  tempByte).sendToTarget();\r\n                                    // CollectLogData(&quot; RX :&quot;+new String(tempByte));\r\n                                    recieveData = false;\r\n                                    tempBuffer = new byte[2048];\r\n                                } else {\r\n                                    if (recieveData) {\r\n                                        readMessage1.add(tempBuffer[i]);\r\n                                    }\r\n                                }\r\n\r\n\r\n                            }\r\n\r\n                            break;\r\n                        case 2:/*Checks response until  &quot;#&quot; comes*/\r\n                            String read2 = new String(tempBuffer);\r\n                            Log.e(&quot;BC2&quot;,read2);\r\n                            for(int i=0; i&lt;tempBuffer.length; i++)\r\n                            {\r\n                                switch (read2.charAt(i))\r\n                                {\r\n                                    case &#39;\\n&#39;:\r\n                                        readMessage2.append(read2.charAt(i));\r\n                                        tempBuffer = new byte[2048];\r\n                                        byte[] temp2 =readMessage2.toString().getBytes();\r\n\r\n                                        handler.obtainMessage(11, temp2).sendToTarget();\r\n                                        //Log.e(&quot;BC n :&quot;,readMessage2.toString());\r\n\r\n                                        readMessage2 = new StringBuilder();\r\n                                        break;\r\n\r\n\r\n\r\n                                    default:\r\n                                        readMessage2.append(read2.charAt(i));\r\n                                        break;\r\n                                }\r\n                            }\r\n                            break;\r\n\r\n                        case 3:\r\n                            try\r\n                            {\r\n                                Log.e(&quot;BC Res :&quot;,new String(tempBuffer));\r\n                                for(int i=0 ; i&lt;size ; i++)\r\n                                {\r\n                                    if(size&gt;=2 &amp;&amp; tempBuffer[i] == 4 &amp;&amp; tempBuffer[i-1]!=5)\r\n                                    {\r\n                                        readMessage3.add(tempBuffer[i]);\r\n                                        byte[] tempByte = new byte[readMessage3.size()];\r\n                                        for(int j=0;j&lt;readMessage3.size();j++)\r\n                                        {\r\n                                            tempByte[j] = readMessage3.get(j);\r\n                                        }\r\n                                        handler.obtainMessage(11, tempByte).sendToTarget();\r\n                                        Log.e(&quot;BC ResBytes STN:&quot;,new String(tempBuffer));\r\n                                        readMessage3.clear();\r\n                                        readMessage3 = new ArrayList&lt;&gt;();\r\n                                        tempBuffer = new byte[8094];\r\n                                    }\r\n                                    else {\r\n                                        readMessage3.add(tempBuffer[i]);\r\n                                    }\r\n                                }\r\n                            }\r\n                            catch (Exception e)\r\n                            {\r\n                                // CollectLogData(&quot; excp @ STN hanlder :&quot;+e.getMessage());\r\n\r\n                                e.printStackTrace();\r\n                            }\r\n                            break;\r\n                    }\r\n                }\r\n                catch (IOException e)\r\n                {\r\n                    minusOne=true;\r\n                    handler.obtainMessage(22, &quot;Socket Connection Lost!&quot;).sendToTarget();\r\n                    e.printStackTrace();\r\n                    break;\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    public static void clearBuffer()\r\n    {\r\n        readMessage2 = new ArrayList&lt;&gt;();\r\n    }\r\n    public void Send(final byte[] bite)\r\n    {\r\n        final byte[] msg;\r\n        msg=bite;\r\n        Thread t =  new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try\r\n                {\r\n                    socket.getOutputStream().write(msg);\r\n                    Log.e(&quot;BlueComm SENT &quot;,new String(msg));\r\n                }\r\n                catch (IOException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        t.start();\r\n    }\r\n\r\n    public void TerminateConnection()\r\n    {\r\n        if(socket.isConnected())\r\n        {\r\n            try {\r\n                socket.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    public boolean CheckConnection()\r\n    {\r\n        /*Something made socket disconnected*/\r\n        return minusOne;\r\n    }\r\n\r\n}\r\n```\r\n\r\nwifi semaphore service is just calling a constructor and does not have anything related to response.\r\n","title":"Android not getting response from handler","body":"<p>I am developing an app to communicate with wifi and android and I am able to send but not able to receive any response because my response is not being called.</p>\n<p>So, the basic gist is that I am able to send data but not able to receive any response.</p>\n<p>Here's the code for more information :-</p>\n<p>Wifi terminal</p>\n<pre><code>public class wifi_terminal extends AppCompatActivity {\n\n    ListView logListView;\n    private static ChatAdapter adapter;\n    private ArrayList&lt;ChatMessage&gt; chatHistory;\n    Button sendButton;\n    EditText editText;\n\n    TCPConversation wifiCommn;\n    byte[] resbyts;\n    String response;\n    boolean aBoolean =false;\n    boolean isInDiagstate =false;\n    boolean stopLiveParams =false;\n\n    private Context context;\n    private final String TAG = &quot;WIFI Terminal Activity&quot;;\n    Timer timer;\n    WifiSemaphoreService wifiSemaphoreService;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_wifi_terminal);\n\n        init();\n\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        finish();\n    }\n\n    private void init(){\n\n        context = wifi_terminal.this;\n        wifiSemaphoreService = new WifiSemaphoreService();\n        wifiCommn = Singletone.getTcpConversation();\n        wifiCommn.AssignHandler(mhandler);\n        TCPConversation.responseCase =1;\n\n        logListView= findViewById(R.id.loglistView);\n        logListView.setItemsCanFocus(true);\n        logListView.setTranscriptMode(ListView.TRANSCRIPT_MODE_ALWAYS_SCROLL);\n\n        loadDummyHistory();\n\n        sendButton = findViewById(R.id.sendTextid);\n        editText= findViewById(R.id.editTextid);\n\n        sendButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(wifiCommn!=null &amp;&amp; !wifiCommn.CheckConnection())\n                {\n                    String  message=editText.getText().toString();\n\n\n                    if(!message.equals(&quot;&quot;))\n                    {\n                        message=message+&quot;\\r\\n&quot;;\n                        final String finalMessage = message;\n                        Thread thread = new Thread(new Runnable() {\n                            @Override\n                            public void run() {\n                                wifiCommn.responseCase =1;\n\n                                wifiCommn.Send(finalMessage.getBytes());\n                                final String finalMessage1 = finalMessage.replace(&quot;\\r\\n&quot;,&quot;&quot;);\n                                PrintConv( finalMessage1,true);\n                                runOnUiThread(new Runnable() {\n                                    @Override\n                                    public void run() {\n                                        editText.setText(&quot;&quot;);\n                                    }\n                                });\n                            }\n                        });\n                        thread.start();\n\n                    }\n                    else\n                    {\n                        Toast.makeText(context, &quot;Enter some command!&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n                else\n                {\n                    PrintConv( &quot;SOCKET CONN LOST&quot;,true);\n                    Toast.makeText(wifi_terminal.this, &quot;SOCKET CONN LOST&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n\n\n    }\n\n\n    Handler mhandler = new Handler(new Handler.Callback()\n    {\n        @Override\n        public boolean handleMessage(Message message)\n        {\n            switch(message.what)\n            {\n                case 11:\n                    resbyts = (byte[]) message.obj;\n                    response= new String(resbyts);\n\n                    if(response.length()&gt;0){\n                        response = response.replace(&quot;\\r\\n&quot;,&quot;&quot;);\n                        aBoolean =true;\n                        PrintConv(response,false);\n                    }\n                    else{\n\n                        PrintConv(&quot;No Response&quot;,false);\n                    }\n\n\n\n                    break;\n\n                case 22:\n                    String responseString=(String) message.obj;\n                    if(wifiCommn!=null &amp;&amp; wifiCommn.CheckConnection())\n                    {\n                        wifiCommn.TerminateConnection();\n                        PrintConv(&quot;CONNECTION LOST&quot;,false);\n                    }\n                    Toast.makeText(context, responseString, Toast.LENGTH_SHORT).show();\n                    finish();\n\n                    break;\n            }\n            return true;\n        }\n    });\n\n    public void displayMessage(ChatMessage message)\n    {\n        adapter.add(message);\n        adapter.notifyDataSetChanged();\n        scroll();\n    }\n    private void scroll() { logListView.setSelection(logListView.getCount() - 1); }\n    private void loadDummyHistory()\n    {\n        chatHistory = new ArrayList&lt;&gt;();\n        ChatMessage msg = new ChatMessage();\n        msg.setId(1);\n        msg.setMe(false);\n        msg.setDate(DateFormat.getDateTimeInstance().format(new Date()));\n        chatHistory.add(msg);\n\n        adapter = new ChatAdapter(wifi_terminal.this, new ArrayList&lt;ChatMessage&gt;());\n        logListView.setAdapter(adapter);\n\n\n    }\n\n    public void PrintConv(final String msg, final boolean val)\n    {\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                ChatMessage chatMessage = new ChatMessage();\n                chatMessage.setId(11);//dummy\n                chatMessage.setMessage(msg);\n                chatMessage.setDate(DateFormat.getDateTimeInstance().format(new Date()));\n                chatMessage.setMe(val);\n                displayMessage(chatMessage);\n            }\n        });\n    }\n\n}```\n\n\nwifi communication :- \n\n\n</code></pre>\n<p>public class WifiComm {</p>\n<pre><code>private Socket socket;\nHandler handler;\nprivate boolean minusOne =false;\npublic static int responseCase;\nprivate int counter;\nprivate Timer timer;\nArrayList&lt;Integer&gt; arr_byte = new ArrayList&lt;Integer&gt;();\n\n\nstatic  ArrayList&lt;Byte&gt; readMessage2 = new ArrayList&lt;&gt;();\n\npublic WifiComm(Socket socket1)\n{\n    socket = socket1;\n\n    Receiving recievingThread = new Receiving(socket);\n    recievingThread.start();\n}\n\n\npublic  void AssignHandler(Handler mhandler)\n{\n    handler = mhandler;\n}\nstatic  byte[] tempBuffer = new byte[2048];\n\npublic class Receiving extends Thread\n{\n    private Receiving(Socket socket1) {\n        socket =socket1;\n    }\n\n    @Override\n    public void run()\n    {\n\n\n        boolean recieveData =false;\n        ArrayList&lt;Byte&gt;  readMessage1 =  new ArrayList&lt;&gt;();\n        StringBuilder readMessage2 = new StringBuilder();\n        ArrayList&lt;Byte&gt; readMessage3 = new ArrayList&lt;&gt;();\n        minusOne =false;\n        tempBuffer = new byte[2048];\n        while (true)\n        {\n\n            try {\n                int size=0;\n                size   = socket.getInputStream().read(tempBuffer);\n                //  Log.e(&quot;E&quot;,new String(tempBuffer));\n              //  Log.e(&quot;Socket res:&quot;,new String(tempBuffer));\n\n                switch (responseCase)\n                {\n                    case 1:/*Checks response until  &quot;\\n&quot; comes*/\n                        //readMessage1 = new StringBuilder();\n                        String read = new String(tempBuffer,0,size);\n                        for (int i = 0; i &lt; size; i++) {\n                            if (tempBuffer[i] == ':') {\n                                recieveData = true;\n                                readMessage1.add(tempBuffer[i]);\n                            } else if (tempBuffer[i] == '\\n') {\n                                readMessage1.add(tempBuffer[i]);\n                                byte[] tempByte = new byte[readMessage1.size()];\n                                for (int j = 0; j &lt; readMessage1.size(); j++) {\n                                    tempByte[j] = readMessage1.get(j);\n                                }\n                                Log.e(&quot;BC1&quot;,readMessage1.toString());\n                                readMessage1 = new ArrayList&lt;&gt;();\n\n                                handler.obtainMessage(11,  tempByte).sendToTarget();\n                                // CollectLogData(&quot; RX :&quot;+new String(tempByte));\n                                recieveData = false;\n                                tempBuffer = new byte[2048];\n                            } else {\n                                if (recieveData) {\n                                    readMessage1.add(tempBuffer[i]);\n                                }\n                            }\n\n\n                        }\n\n                        break;\n                    case 2:/*Checks response until  &quot;#&quot; comes*/\n                        String read2 = new String(tempBuffer);\n                        Log.e(&quot;BC2&quot;,read2);\n                        for(int i=0; i&lt;tempBuffer.length; i++)\n                        {\n                            switch (read2.charAt(i))\n                            {\n                                case '\\n':\n                                    readMessage2.append(read2.charAt(i));\n                                    tempBuffer = new byte[2048];\n                                    byte[] temp2 =readMessage2.toString().getBytes();\n\n                                    handler.obtainMessage(11, temp2).sendToTarget();\n                                    //Log.e(&quot;BC n :&quot;,readMessage2.toString());\n\n                                    readMessage2 = new StringBuilder();\n                                    break;\n\n\n\n                                default:\n                                    readMessage2.append(read2.charAt(i));\n                                    break;\n                            }\n                        }\n                        break;\n\n                    case 3:\n                        try\n                        {\n                            Log.e(&quot;BC Res :&quot;,new String(tempBuffer));\n                            for(int i=0 ; i&lt;size ; i++)\n                            {\n                                if(size&gt;=2 &amp;&amp; tempBuffer[i] == 4 &amp;&amp; tempBuffer[i-1]!=5)\n                                {\n                                    readMessage3.add(tempBuffer[i]);\n                                    byte[] tempByte = new byte[readMessage3.size()];\n                                    for(int j=0;j&lt;readMessage3.size();j++)\n                                    {\n                                        tempByte[j] = readMessage3.get(j);\n                                    }\n                                    handler.obtainMessage(11, tempByte).sendToTarget();\n                                    Log.e(&quot;BC ResBytes STN:&quot;,new String(tempBuffer));\n                                    readMessage3.clear();\n                                    readMessage3 = new ArrayList&lt;&gt;();\n                                    tempBuffer = new byte[8094];\n                                }\n                                else {\n                                    readMessage3.add(tempBuffer[i]);\n                                }\n                            }\n                        }\n                        catch (Exception e)\n                        {\n                            // CollectLogData(&quot; excp @ STN hanlder :&quot;+e.getMessage());\n\n                            e.printStackTrace();\n                        }\n                        break;\n                }\n            }\n            catch (IOException e)\n            {\n                minusOne=true;\n                handler.obtainMessage(22, &quot;Socket Connection Lost!&quot;).sendToTarget();\n                e.printStackTrace();\n                break;\n            }\n        }\n\n    }\n}\n\n\npublic static void clearBuffer()\n{\n    readMessage2 = new ArrayList&lt;&gt;();\n}\npublic void Send(final byte[] bite)\n{\n    final byte[] msg;\n    msg=bite;\n    Thread t =  new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try\n            {\n                socket.getOutputStream().write(msg);\n                Log.e(&quot;BlueComm SENT &quot;,new String(msg));\n            }\n            catch (IOException e)\n            {\n                e.printStackTrace();\n            }\n        }\n    });\n    t.start();\n}\n\npublic void TerminateConnection()\n{\n    if(socket.isConnected())\n    {\n        try {\n            socket.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\npublic boolean CheckConnection()\n{\n    /*Something made socket disconnected*/\n    return minusOne;\n}\n</code></pre>\n<p>}</p>\n<pre><code>\nwifi semaphore service is just calling a constructor and does not have anything related to response.\n</code></pre>\n"},{"tags":["java","android-studio","unit-testing","kotlin"],"answers":[{"tags":[],"owner":{"account_id":10335418,"reputation":145,"user_id":7623715,"display_name":"Ahmed Gabr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666591647,"creation_date":1666591647,"answer_id":74177173,"question_id":73288956,"body_markdown":" 1. Update gradle &amp; android gradle plugins\r\n 2. Update all dependencies plugins ( I prefer to delete gradle variables and use dependencies with direct version number to avoid conflict )\r\nlike this\r\n\r\n&gt; implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.1&quot;\r\n\r\n 3. Update kotolin version\r\n\r\n 4. update target sdk to 33\r\n\r\n 5. Add exported = &quot;true&quot; to the MainActivity tag in the manifest\r\n\r\n          &lt;activity\r\n            android:name=&quot;com.example.android.architecture.blueprints.todoapp.tasks.TasksActivity&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme.OverlapSystemBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n\r\n","title":"How to make &quot;Choose Destination Directory&quot; dialog appear after &quot;Create Test&quot; in Android Studio","body":"<ol>\n<li>Update gradle &amp; android gradle plugins</li>\n<li>Update all dependencies plugins ( I prefer to delete gradle variables and use dependencies with direct version number to avoid conflict )\nlike this</li>\n</ol>\n<blockquote>\n<p>implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.1&quot;</p>\n</blockquote>\n<ol start=\"3\">\n<li><p>Update kotolin version</p>\n</li>\n<li><p>update target sdk to 33</p>\n</li>\n<li><p>Add exported = &quot;true&quot; to the MainActivity tag in the manifest</p>\n<pre><code>  &lt;activity\n    android:name=&quot;com.example.android.architecture.blueprints.todoapp.tasks.TasksActivity&quot;\n    android:windowSoftInputMode=&quot;adjustResize&quot;\n    android:exported=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme.OverlapSystemBar&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25236240,"reputation":1,"user_id":19070706,"display_name":"Mahmoud Elkashef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678307277,"creation_date":1678307277,"answer_id":75677914,"question_id":73288956,"body_markdown":"1- Open file &gt; project structure \r\n\r\n- update Android gradle plugin version to **4.2.2**\r\n- update gradle version to **6.7.1**\r\n\r\n\r\n\r\n\r\n2- When you create a test and the dialog appears to you then\r\nedit the destination package to the root package of the project \r\nfor example, you will find the default package like this\r\n**com.example.android.architecture.blueprints.todoapp.statistics**\r\nremove **.statistics**\r\nmake your destination package like this\r\n**com.example.android.architecture.blueprints.todoapp**","title":"How to make &quot;Choose Destination Directory&quot; dialog appear after &quot;Create Test&quot; in Android Studio","body":"<p>1- Open file &gt; project structure</p>\n<ul>\n<li>update Android gradle plugin version to <strong>4.2.2</strong></li>\n<li>update gradle version to <strong>6.7.1</strong></li>\n</ul>\n<p>2- When you create a test and the dialog appears to you then\nedit the destination package to the root package of the project\nfor example, you will find the default package like this\n<strong>com.example.android.architecture.blueprints.todoapp.statistics</strong>\nremove <strong>.statistics</strong>\nmake your destination package like this\n<strong>com.example.android.architecture.blueprints.todoapp</strong></p>\n"}],"owner":{"account_id":25608216,"reputation":31,"user_id":19382007,"display_name":"Steven Shih"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1678307277,"creation_date":1660034787,"question_id":73288956,"body_markdown":"I am studying unit-testing from Google codelab.\r\n\r\nhttps://developer.android.com/codelabs/advanced-android-kotlin-training-testing-basics#5\r\n\r\nThere is one step to choose the folder in AndroidTest/Test destination dialog\r\n[enter image description here][1]\r\n\r\nBut my Android Studio doesn&#39;t show this dialog so I need to drag my file into test package everytime.\r\n\r\nHow to set the Android Studio to let this dialog open? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gk7TF.png","title":"How to make &quot;Choose Destination Directory&quot; dialog appear after &quot;Create Test&quot; in Android Studio","body":"<p>I am studying unit-testing from Google codelab.</p>\n<p><a href=\"https://developer.android.com/codelabs/advanced-android-kotlin-training-testing-basics#5\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/advanced-android-kotlin-training-testing-basics#5</a></p>\n<p>There is one step to choose the folder in AndroidTest/Test destination dialog\n<a href=\"https://i.stack.imgur.com/gk7TF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>But my Android Studio doesn't show this dialog so I need to drag my file into test package everytime.</p>\n<p>How to set the Android Studio to let this dialog open?</p>\n"},{"tags":["java","arrays","class","nullpointerexception","frequency"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678304774,"creation_date":1678304774,"answer_id":75677552,"question_id":75676861,"body_markdown":"You are only populating the first 10 elements but reading the first 101 elements. arr.length is 101 because arr = new Count[101].\r\n\r\nYour read loop, like the write loop, needs to stop at i &lt; 10","title":"What may be the problem for finding frequency of elements in array through class leading to NULL Pointer Exception?","body":"<p>You are only populating the first 10 elements but reading the first 101 elements. arr.length is 101 because arr = new Count[101].</p>\n<p>Your read loop, like the write loop, needs to stop at i &lt; 10</p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678307074,"creation_date":1678307074,"answer_id":75677885,"question_id":75676861,"body_markdown":"`arr[i].count` is attempting to access a field called `count` in the object at the array index of `i`.  You&#39;ve initialized the array, but it is empty.  You can check this with a simple print of the `array[0]`, which will return null.\r\n\r\nTo fix this, initialize the element of the array before you try to access it.\r\n```java\r\nfor (int i = 0 ; i &lt; 10 ; i++){\r\n  int value = lta.nextInt();\r\n  arr[value] = new Count();\r\n  arr[value].count += 1;\r\n}\r\n```\r\n\r\nNote however, that this will break the next loop. This is because you only initialize 10 indices in the array, but attempt to access all 102 of them.\r\n\r\nGenerally it&#39;s a bad programming practice to initialize a, array larger than what you need.  If you plan to only allow 10 values to be input, than initialize your array to 10.  Then use the length of the array in both loops.","title":"What may be the problem for finding frequency of elements in array through class leading to NULL Pointer Exception?","body":"<p><code>arr[i].count</code> is attempting to access a field called <code>count</code> in the object at the array index of <code>i</code>.  You've initialized the array, but it is empty.  You can check this with a simple print of the <code>array[0]</code>, which will return null.</p>\n<p>To fix this, initialize the element of the array before you try to access it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0 ; i &lt; 10 ; i++){\n  int value = lta.nextInt();\n  arr[value] = new Count();\n  arr[value].count += 1;\n}\n</code></pre>\n<p>Note however, that this will break the next loop. This is because you only initialize 10 indices in the array, but attempt to access all 102 of them.</p>\n<p>Generally it's a bad programming practice to initialize a, array larger than what you need.  If you plan to only allow 10 values to be input, than initialize your array to 10.  Then use the length of the array in both loops.</p>\n"}],"owner":{"account_id":25654258,"reputation":106,"user_id":19420986,"display_name":"Samik Pandit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75677552,"answer_count":2,"score":0,"last_activity_date":1678307074,"creation_date":1678300017,"question_id":75676861,"body_markdown":"This code finds the frequency of elements in the array. But it is showing cannot read field because array is null. \r\n\r\n## Code\r\n```\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner lta = new Scanner(System.in);\r\n        Count[] arr = new Count[101];\r\n        System.out.println(&quot;Enter the elements :&quot;);\r\n        for (int i = 0;i &lt; 10;i++){\r\n            int value = lta.nextInt();\r\n            arr[value].count += 1;\r\n        }\r\n        System.out.println(&quot;Frequency of the elements in the array :&quot;);\r\n        for (int i = 1;i &lt; arr.length;i++){\r\n            if (arr[i].count &gt; 0){\r\n                System.out.print(i + &quot; : &quot; + arr[i].count);\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n    static class Count{\r\n        long value;\r\n        long count;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n### Error \r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;count&quot; because &quot;arr[value]&quot; is null\r\n```\r\n\r\nIs there any solution for this program to run without any error or what is the reason behind termination of the JAVA program.","title":"What may be the problem for finding frequency of elements in array through class leading to NULL Pointer Exception?","body":"<p>This code finds the frequency of elements in the array. But it is showing cannot read field because array is null.</p>\n<h2>Code</h2>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner lta = new Scanner(System.in);\n        Count[] arr = new Count[101];\n        System.out.println(&quot;Enter the elements :&quot;);\n        for (int i = 0;i &lt; 10;i++){\n            int value = lta.nextInt();\n            arr[value].count += 1;\n        }\n        System.out.println(&quot;Frequency of the elements in the array :&quot;);\n        for (int i = 1;i &lt; arr.length;i++){\n            if (arr[i].count &gt; 0){\n                System.out.print(i + &quot; : &quot; + arr[i].count);\n                System.out.println();\n            }\n        }\n    }\n    static class Count{\n        long value;\n        long count;\n    }\n}\n\n\n</code></pre>\n<h3>Error</h3>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;count&quot; because &quot;arr[value]&quot; is null\n</code></pre>\n<p>Is there any solution for this program to run without any error or what is the reason behind termination of the JAVA program.</p>\n"},{"tags":["java","datetime","java-time"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678306859,"post_id":75676482,"comment_id":133509221,"body_markdown":"I suspect you would need to write your own class that implements the `Temporal` interface with your needed behavior. [OpenJDK](https://en.wikipedia.org/wiki/OpenJDK) provides open source code for you to peruse, if you follow the terms of their license.  … (continued)","body":"I suspect you would need to write your own class that implements the <code>Temporal</code> interface with your needed behavior. <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> provides open source code for you to peruse, if you follow the terms of their license.  … (continued)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1678307082,"post_id":75676482,"comment_id":133509282,"body_markdown":"(continued) … But that may be overkill. Personally, I would just write some handlers or wrappers that make liberal use of [`truncatedTo( ChronoUnit.MINUTES )`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalTime.html#truncatedTo(java.time.temporal.TemporalUnit)). To detect faulty input, just compare the time value before and after truncation —&#160;if different, you received unexpected input, so throw exception.","body":"(continued) … But that may be overkill. Personally, I would just write some handlers or wrappers that make liberal use of <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalTime.html#truncatedTo(java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\"><code>truncatedTo( ChronoUnit.MINUTES )</code></a>. To detect faulty input, just compare the time value before and after truncation — if different, you received unexpected input, so throw exception."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1678307289,"post_id":75676482,"comment_id":133509320,"body_markdown":"Regarding your mention &quot;patterns explicitly support missing components&quot;… Yes *formatting patterns* support missing components. But the date-time classes, the `Temporal` Implementations such as `LocalTime`, do *not* support missing components. The gap is bridged by supplying default values such as zero for minutes, seconds, and fractional second.","body":"Regarding your mention &quot;patterns explicitly support missing components&quot;… Yes <i>formatting patterns</i> support missing components. But the date-time classes, the <code>Temporal</code> Implementations such as <code>LocalTime</code>, do <i>not</i> support missing components. The gap is bridged by supplying default values such as zero for minutes, seconds, and fractional second."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1678316526,"post_id":75676482,"comment_id":133511312,"body_markdown":"`parse()` does resolution as your docs say and in this case resolves both date and time of day, which in turn implies seconds. Use `parseUnresolved()` instead. Then you get `seconds supported: false` and consequently `java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: SecondOfMinute`. Downside is it may also accept invalid dates and times. And if you can, avoid using `TemporalAccessor` at all. What do you want this for?","body":"<code>parse()</code> does resolution as your docs say and in this case resolves both date and time of day, which in turn implies seconds. Use <code>parseUnresolved()</code> instead. Then you get <code>seconds supported: false</code> and consequently <code>java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: SecondOfMinute</code>. Downside is it may also accept invalid dates and times. And if you can, avoid using <code>TemporalAccessor</code> at all. What do you want this for?"},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":1,"creation_date":1678377459,"post_id":75676482,"comment_id":133524423,"body_markdown":"@OleV.V. I need to be able to parse a varied set of strings like &quot;01MAY2022T06:03:22&quot; , &quot;NOV-17-2022T06:03&quot; an then standardize them all while *also* maintaining the missing fields. So those two strings should produce &quot;2022-05-01T06:03:22&quot; , &quot;2022-11-17T06:03&quot;. The input format would be a set of possible ones, but the output format needs to be consistent, aside from the missing fields. XML has a similar type called &quot;partialDateTime&quot; which allows for any lesser portions of the ISO datetime to be omitted. But the java datetimeformatter precludes this because it fills in the seconds as zero.","body":"@OleV.V. I need to be able to parse a varied set of strings like &quot;01MAY2022T06:03:22&quot; , &quot;NOV-17-2022T06:03&quot; an then standardize them all while <i>also</i> maintaining the missing fields. So those two strings should produce &quot;2022-05-01T06:03:22&quot; , &quot;2022-11-17T06:03&quot;. The input format would be a set of possible ones, but the output format needs to be consistent, aside from the missing fields. XML has a similar type called &quot;partialDateTime&quot; which allows for any lesser portions of the ISO datetime to be omitted. But the java datetimeformatter precludes this because it fills in the seconds as zero."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678378523,"post_id":75676482,"comment_id":133524789,"body_markdown":"The way I understand that XML concept it’s for conveying some rough precision, so that 06:11:00.000 would mean that you have got something like millisecond precision whereas 06:11 alone means that you don’t know what the seconds are. Something like that? I’m afraid it gets really nasty if you also need to represent how many decimals are on the seconds.","body":"The way I understand that XML concept it’s for conveying some rough precision, so that 06:11:00.000 would mean that you have got something like millisecond precision whereas 06:11 alone means that you don’t know what the seconds are. Something like that? I’m afraid it gets really nasty if you also need to represent how many decimals are on the seconds."}],"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678306689,"creation_date":1678297490,"question_id":75676482,"body_markdown":"I&#39;m trying to create a formatter that parses a string and creates a temporal that *does not have* the seconds field, such that formatting the Temporal Accessor will fail if seconds are required.\r\n\r\nI would expect the following code to fail on the last line, because the temporal accessor should not have a seconds field, and the second pattern requires one, but instead the output shows the seconds field is set to zero.\r\n\r\n   \r\n\r\n \r\n\r\n   \r\n\r\n     DateTimeFormatter partialDateTimeFormatter = new DateTimeFormatterBuilder()\r\n                \t\t\t\t.appendPattern(&quot;yyyy-MM-d&#39;T&#39;HH:mm&quot;)\r\n                \t\t\t\t.toFormatter();\r\n                \t\t\r\n        DateTimeFormatter fullDateTimeFormatter = new DateTimeFormatterBuilder()\r\n                \t\t\t\t.appendPattern(&quot;yyyy-MM-d&#39;T&#39;HH:mm:ss.SSS&quot;)\r\n                \t\t\t\t.toFormatter();\r\n                \t\t\r\n        TemporalAccessor ta = partialDateTimeFormatter.parse(&quot;2020-01-02T06:11&quot;);\r\n        \r\n        LOGGER.info(&quot;seconds supported: {}&quot;,ta.isSupported(ChronoField.SECOND_OF_MINUTE));\r\n        LOGGER.info(&quot;fullDateTimeFormatter: {}&quot;,fullDateTimeFormatter.format(ta));\r\n\r\nOutput:\r\n\r\n    12:44:02.561 [main] INFO MatcherTest - seconds supported: true    \r\n    12:39:44.370 [main] INFO MatcherTest - fullDateTimeFormatter: 2020-01-2T06:11:00.000\r\n\r\n\r\nI see in the docs here: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html that &quot;A LocalTime is formed if there is at least an hour-of-day available. This involves providing default values for minute, second and fraction of second.&quot; Which is odd to me given that patterns explicitly support missing components. \r\n\r\nSo I guess my question is: *How can I override / prevent that default behavior?*\r\n","title":"Java 8 DateTimeFormatter fills in seconds field with zero when it should be missing","body":"<p>I'm trying to create a formatter that parses a string and creates a temporal that <em>does not have</em> the seconds field, such that formatting the Temporal Accessor will fail if seconds are required.</p>\n<p>I would expect the following code to fail on the last line, because the temporal accessor should not have a seconds field, and the second pattern requires one, but instead the output shows the seconds field is set to zero.</p>\n<pre><code> DateTimeFormatter partialDateTimeFormatter = new DateTimeFormatterBuilder()\n                            .appendPattern(&quot;yyyy-MM-d'T'HH:mm&quot;)\n                            .toFormatter();\n                    \n    DateTimeFormatter fullDateTimeFormatter = new DateTimeFormatterBuilder()\n                            .appendPattern(&quot;yyyy-MM-d'T'HH:mm:ss.SSS&quot;)\n                            .toFormatter();\n                    \n    TemporalAccessor ta = partialDateTimeFormatter.parse(&quot;2020-01-02T06:11&quot;);\n    \n    LOGGER.info(&quot;seconds supported: {}&quot;,ta.isSupported(ChronoField.SECOND_OF_MINUTE));\n    LOGGER.info(&quot;fullDateTimeFormatter: {}&quot;,fullDateTimeFormatter.format(ta));\n</code></pre>\n<p>Output:</p>\n<pre><code>12:44:02.561 [main] INFO MatcherTest - seconds supported: true    \n12:39:44.370 [main] INFO MatcherTest - fullDateTimeFormatter: 2020-01-2T06:11:00.000\n</code></pre>\n<p>I see in the docs here: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html</a> that &quot;A LocalTime is formed if there is at least an hour-of-day available. This involves providing default values for minute, second and fraction of second.&quot; Which is odd to me given that patterns explicitly support missing components.</p>\n<p>So I guess my question is: <em>How can I override / prevent that default behavior?</em></p>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1676529000,"post_id":75468224,"comment_id":133155765,"body_markdown":"&quot;but when intregrated in web application ( JVM ) its KO.&quot; I have no idea what you mean by this.","body":"&quot;but when intregrated in web application ( JVM ) its KO.&quot; I have no idea what you mean by this."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676531484,"post_id":75468224,"comment_id":133156242,"body_markdown":"I strongly recommend you don’t use `Calendar` and `TimeZone`. Those classes are poorly designed and long outdated. Instead use `ZoneId` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>Calendar</code> and <code>TimeZone</code>. Those classes are poorly designed and long outdated. Instead use <code>ZoneId</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676531655,"post_id":75468224,"comment_id":133156281,"body_markdown":"What do you need the server time zone for? And why are you ever changing the server time zone? Can you explain your problem better, because I don’t understand it? Am I correct in assuming that the server time zone and the user’s time zone may be different?","body":"What do you need the server time zone for? And why are you ever changing the server time zone? Can you explain your problem better, because I don’t understand it? Am I correct in assuming that the server time zone and the user’s time zone may be different?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676531727,"post_id":75468224,"comment_id":133156292,"body_markdown":"There probably is a way to determine the operating system time zone, and it probably is OS dependent. So search for how to do it with your server OS.","body":"There probably is a way to determine the operating system time zone, and it probably is OS dependent. So search for how to do it with your server OS."},{"owner":{"account_id":272463,"reputation":1152,"user_id":563560,"accept_rate":18,"display_name":"sshet"},"score":0,"creation_date":1678294941,"post_id":75468224,"comment_id":133506158,"body_markdown":"WHat i have done , i have used Javascript to fetch users timezone ( clock) and passed that to a ajax call that stores the TZ in session , and use this TZ to convert dates to desired timezone","body":"WHat i have done , i have used Javascript to fetch users timezone ( clock) and passed that to a ajax call that stores the TZ in session , and use this TZ to convert dates to desired timezone"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678305977,"creation_date":1676528820,"answer_id":75468572,"question_id":75468224,"body_markdown":"# java.time\r\n\r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n## Avoid setting default time zone\r\n\r\nNo need to set the current default time zone of your JVM. Doing so is risky as you immediately affect all other code in all threads running in all apps in that JVM. And doing so is unreliable in that any code in any thread of any app in that JVM can change the zone at any moment behind your back.\r\n\r\n## `Instant`\r\n\r\nCapture the current moment as seen in UTC (an offset from UTC of zero hours-minutes-seconds) using `Instant` class.\r\n\r\n```java\r\nInstant now = Instant.now();\r\nSystem.out.println( &quot;now = &quot; + now );\r\n```\r\n\r\n&gt;now.toString() = 2023-02-16T06:24:54.944850Z\r\n\r\n## `ZoneId`\r\n\r\nTime zones are represented by the [`ZoneId`][1] class. \r\n\r\nUse [real time zone names][2] in the format of `Continent/Region`, such as `Africa/Casablanca`, `Europe/Berlin`, `Pacific/Auckland`. Never use 2-4 character pseudo-zones such as `CST`, `IST`, etc. \r\n\r\n```java\r\nSet &lt; String &gt; zoneNames = ZoneId.getAvailableZoneIds();\r\nfor ( String zoneName : zoneNames )\r\n{\r\n    ZoneId z = ZoneId.of( zoneName );\r\n    ZonedDateTime zdt = now.atZone( z );\r\n    System.out.println( &quot;Now in zone &quot; + z + &quot; is &quot; + zdt.toString() );\r\n}\r\n```\r\n\r\n```none\r\nNow in zone Asia/Aden is 2023-02-16T09:24:54.944850+03:00[Asia/Aden]\r\nNow in zone America/Cuiaba is 2023-02-16T02:24:54.944850-04:00[America/Cuiaba]\r\n…\r\nNow in zone Pacific/Guadalcanal is 2023-02-16T17:24:54.944850+11:00[Pacific/Guadalcanal]\r\nNow in zone Europe/Athens is 2023-02-16T08:24:54.944850+02:00[Europe/Athens]\r\nNow in zone US/Pacific is 2023-02-15T22:24:54.944850-08:00[US/Pacific]\r\nNow in zone Europe/Monaco is 2023-02-16T07:24:54.944850+01:00[Europe/Monaco]\r\n```\r\n\r\n## Current moment as seen by user\r\n\r\nYou asked:\r\n\r\n&gt;need is to display date and time according to users local clock timezone\r\n\r\nCapture the [current default time zone of the JVM][3] at runtime.\r\n\r\n    ZoneId z = ZoneId.systemDefault() ;\r\n\r\nHowever, if critical, your app should confirm the user&#39;s intended time zone.\r\n\r\n[Adjust our `Instant` object to that zone][4]. Same moment, different wall-clock time.\r\n\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\nOr skip over the `Instant` object to [get `ZonedDateTime` directly][5].\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/ZoneId.html\r\n  [2]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/ZoneId.html#systemDefault()\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Instant.html#atZone(java.time.ZoneId)\r\n  [5]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/ZonedDateTime.html#now(java.time.ZoneId)","title":"Java 11 , get timezone of users local machine","body":"<h1>java.time</h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h2>Avoid setting default time zone</h2>\n<p>No need to set the current default time zone of your JVM. Doing so is risky as you immediately affect all other code in all threads running in all apps in that JVM. And doing so is unreliable in that any code in any thread of any app in that JVM can change the zone at any moment behind your back.</p>\n<h2><code>Instant</code></h2>\n<p>Capture the current moment as seen in UTC (an offset from UTC of zero hours-minutes-seconds) using <code>Instant</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant now = Instant.now();\nSystem.out.println( &quot;now = &quot; + now );\n</code></pre>\n<blockquote>\n<p>now.toString() = 2023-02-16T06:24:54.944850Z</p>\n</blockquote>\n<h2><code>ZoneId</code></h2>\n<p>Time zones are represented by the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneId</code></a> class.</p>\n<p>Use <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">real time zone names</a> in the format of <code>Continent/Region</code>, such as <code>Africa/Casablanca</code>, <code>Europe/Berlin</code>, <code>Pacific/Auckland</code>. Never use 2-4 character pseudo-zones such as <code>CST</code>, <code>IST</code>, etc.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set &lt; String &gt; zoneNames = ZoneId.getAvailableZoneIds();\nfor ( String zoneName : zoneNames )\n{\n    ZoneId z = ZoneId.of( zoneName );\n    ZonedDateTime zdt = now.atZone( z );\n    System.out.println( &quot;Now in zone &quot; + z + &quot; is &quot; + zdt.toString() );\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Now in zone Asia/Aden is 2023-02-16T09:24:54.944850+03:00[Asia/Aden]\nNow in zone America/Cuiaba is 2023-02-16T02:24:54.944850-04:00[America/Cuiaba]\n…\nNow in zone Pacific/Guadalcanal is 2023-02-16T17:24:54.944850+11:00[Pacific/Guadalcanal]\nNow in zone Europe/Athens is 2023-02-16T08:24:54.944850+02:00[Europe/Athens]\nNow in zone US/Pacific is 2023-02-15T22:24:54.944850-08:00[US/Pacific]\nNow in zone Europe/Monaco is 2023-02-16T07:24:54.944850+01:00[Europe/Monaco]\n</code></pre>\n<h2>Current moment as seen by user</h2>\n<p>You asked:</p>\n<blockquote>\n<p>need is to display date and time according to users local clock timezone</p>\n</blockquote>\n<p>Capture the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/ZoneId.html#systemDefault()\" rel=\"nofollow noreferrer\">current default time zone of the JVM</a> at runtime.</p>\n<pre><code>ZoneId z = ZoneId.systemDefault() ;\n</code></pre>\n<p>However, if critical, your app should confirm the user's intended time zone.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Instant.html#atZone(java.time.ZoneId)\" rel=\"nofollow noreferrer\">Adjust our <code>Instant</code> object to that zone</a>. Same moment, different wall-clock time.</p>\n<pre><code>ZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n<p>Or skip over the <code>Instant</code> object to <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/ZonedDateTime.html#now(java.time.ZoneId)\" rel=\"nofollow noreferrer\">get <code>ZonedDateTime</code> directly</a>.</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now( z ) ;\n</code></pre>\n"}],"owner":{"account_id":272463,"reputation":1152,"user_id":563560,"accept_rate":18,"display_name":"sshet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75468572,"answer_count":1,"score":0,"last_activity_date":1678305977,"creation_date":1676525780,"question_id":75468224,"body_markdown":"We are developing applications where dates are stored in GMT , and need is to display date and time according to users local clock timezone \r\n\r\nJava 11 , when i change timezone , its requires JVM restart so its taking old timezone of during start of server.\r\n\r\nIs there any ways to determine timezone of machine ( OS) without restarting JVM?\r\n\r\nCode\r\n \r\n\r\n    Calendar cal = Calendar.getInstance();\r\n            System.out.println(&quot; -- &quot; + TimeZone.getDefault());\r\n            long milliDiff = cal.get(Calendar.ZONE_OFFSET);\r\n            // Got local offset, now loop through available timezone id(s).\r\n            String[] ids = TimeZone.getAvailableIDs();\r\n            String name = null;\r\n            for (String id : ids) {\r\n                System.out.println(&quot;ID  : &quot; + id);\r\n                TimeZone tz = TimeZone.getTimeZone(id);\r\n                System.out.println(&quot;TZ : &quot; + tz.getRawOffset());\r\n                if (tz.getRawOffset() == milliDiff) {\r\n                    // Found a match.\r\n                    name = id;\r\n                    break;\r\n                }\r\n            }\r\n            System.out.println(&quot;Name &quot; + name);\r\n\r\nAbove code works OK as standalone, but when intregrated in web application ( JVM ) its KO.","title":"Java 11 , get timezone of users local machine","body":"<p>We are developing applications where dates are stored in GMT , and need is to display date and time according to users local clock timezone</p>\n<p>Java 11 , when i change timezone , its requires JVM restart so its taking old timezone of during start of server.</p>\n<p>Is there any ways to determine timezone of machine ( OS) without restarting JVM?</p>\n<p>Code</p>\n<pre><code>Calendar cal = Calendar.getInstance();\n        System.out.println(&quot; -- &quot; + TimeZone.getDefault());\n        long milliDiff = cal.get(Calendar.ZONE_OFFSET);\n        // Got local offset, now loop through available timezone id(s).\n        String[] ids = TimeZone.getAvailableIDs();\n        String name = null;\n        for (String id : ids) {\n            System.out.println(&quot;ID  : &quot; + id);\n            TimeZone tz = TimeZone.getTimeZone(id);\n            System.out.println(&quot;TZ : &quot; + tz.getRawOffset());\n            if (tz.getRawOffset() == milliDiff) {\n                // Found a match.\n                name = id;\n                break;\n            }\n        }\n        System.out.println(&quot;Name &quot; + name);\n</code></pre>\n<p>Above code works OK as standalone, but when intregrated in web application ( JVM ) its KO.</p>\n"},{"tags":["java","filter","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1678323655,"post_id":75677695,"comment_id":133512170,"body_markdown":"I don&#39;t think you should be filtering anything if I understand that if a student appears in `schoolModelInfoList` (find by `studentCd`) , fill in the `schoolInfo` for that student in `studentDataInfos` with the modelInfo data. I would approach it by streaming the schoolModelInfoList, and lookup each studentCd in the `studentDataInfos` object. If found, fill in the data. You didn&#39;t provide the Java objects that you have mapped your JSON snippets to, so it&#39;s impossible to advise further.","body":"I don&#39;t think you should be filtering anything if I understand that if a student appears in <code>schoolModelInfoList</code> (find by <code>studentCd</code>) , fill in the <code>schoolInfo</code> for that student in <code>studentDataInfos</code> with the modelInfo data. I would approach it by streaming the schoolModelInfoList, and lookup each studentCd in the <code>studentDataInfos</code> object. If found, fill in the data. You didn&#39;t provide the Java objects that you have mapped your JSON snippets to, so it&#39;s impossible to advise further."}],"owner":{"account_id":27930939,"reputation":11,"user_id":21328971,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678305935,"creation_date":1678305670,"question_id":75677695,"body_markdown":"I have two JSON objects and want to do validation on studentCd value between both then retrieve the respective output using java 8 features. I have tried multiple times but Im getting\r\n**bad return type in lambda expression**\r\n\r\n# 1st JSON object\r\n\r\n    &quot;studentDataInfos&quot;: [\r\n       {\r\n          &quot;classCd&quot;:&quot;AD&quot;,\r\n          &quot;studentAtSchoolInfos&quot;:[\r\n             {\r\n                &quot;studentCd&quot;:&quot;AA&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                \r\n                }\r\n             },\r\n             {\r\n                &quot;studentCd&quot;:&quot;AK&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                \r\n                }\r\n             }\r\n          ]\r\n       },\r\n       {\r\n          &quot;classCd&quot;:&quot;KD&quot;,\r\n          &quot;studentAtSchoolInfos&quot;:[\r\n             {\r\n                &quot;studentCd&quot;:&quot;BI&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                \r\n                }\r\n             },\r\n             {\r\n                &quot;studentCd&quot;:&quot;KK&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                \r\n                }\r\n             }\r\n          ]\r\n       }\r\n    ]\r\n\r\n\r\n# 2nd Object \r\n\r\n    {\r\n    &quot;schoolModelInfoList&quot; :[\r\n       {\r\n          &quot;classCd&quot;:&quot;AR&quot;,\r\n          &quot;studentCd&quot;:&quot;AA&quot;,\r\n          &quot;heldOutsdSchlInd&quot;:&quot;N&quot;,\r\n          &quot;heldOutsdSchlDa&quot;:&quot;NULL&quot;,\r\n          &quot;schlDeclinedInd&quot;:&quot;N&quot;,\r\n          &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\r\n          &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\r\n          &quot;schlDiscussdedDa&quot;:&quot;2023-01-10&quot;\r\n       },\r\n       {\r\n          &quot;classCd&quot;:&quot;BR&quot;,\r\n          &quot;studentCd&quot;:&quot;KK&quot;,\r\n          &quot;heldOutsdSchlInd&quot;:&quot;Y&quot;,\r\n          &quot;heldOutsdSchlDa&quot;:&quot;2019-03-29&quot;,\r\n          &quot;schlDeclinedInd&quot;:&quot;N&quot;,\r\n          &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\r\n          &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\r\n          &quot;schlDiscussdedDa&quot;:&quot;2020-02-11&quot;\r\n       }\r\n    ]\r\n    }\r\n\r\nHere I want to validation 2nd object against first then set the dates and Indicator values to 1st object based in studentCd field values matches.\r\n\r\n\r\n\r\n\r\nI have tried below streams and filters but didn&#39;t work for me.\r\n\r\n        studentDataInfos.stream().filter(studentDataInfo -&gt;\r\n    studentDataInfo.studentAtSchoolInfos().stream().filter(\r\n    studentAtSchoolInfo -&gt; !studentAtSchoolInfo.getSchoolInfo().toString().isEmpty())\r\n                      .filter(schoolInfo -&gt; schoolModelInfoList.stream().\r\n                         anyMatch(schoolModelInfo -&gt; schoolModelInfo.getStudentCd().equals(schoolInfo.getStudentCd()))).collect(Collectors.toList());\r\n\r\n\r\nIm pretty much sure that above expression will have compilation errors or not in proper shape to get expected the output :) \r\n\r\n\r\n**Expected JSON output after using Java 8 filters and streams**\r\n\r\nHere 2nd object studentCd value matches with only 2 places in 1st object i.e. studentCd: AA and studentCd : KK\r\n\r\nBelow should be  the response body after streams and filters.\r\n\r\n\r\n    &quot;studentDataInfos&quot;: [\r\n       {\r\n          &quot;classCd&quot;:&quot;AD&quot;,\r\n          &quot;studentAtSchoolInfos&quot;:[\r\n             {\r\n                &quot;studentCd&quot;:&quot;AA&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                    &quot;heldOutsdSchlInd&quot;:&quot;N&quot;,\r\n                    &quot;heldOutsdSchlDa&quot;:&quot;NULL&quot;,\r\n                    &quot;schlDeclinedInd&quot;:&quot;N&quot;,\r\n                    &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\r\n                    &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\r\n                    &quot;schlDiscussdedDa&quot;:&quot;2023-01-10&quot;\r\n                }\r\n             },\r\n             {\r\n                &quot;studentCd&quot;:&quot;AK&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                \r\n                }\r\n             }\r\n          ]\r\n       },\r\n       {\r\n          &quot;classCd&quot;:&quot;KD&quot;,\r\n          &quot;studentAtSchoolInfos&quot;:[\r\n             {\r\n                &quot;studentCd&quot;:&quot;BI&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                \r\n                }\r\n             },\r\n             {\r\n                &quot;studentCd&quot;:&quot;KK&quot;,\r\n                &quot;schoolInfo&quot;:{\r\n                    &quot;heldOutsdSchlInd&quot;:&quot;Y&quot;,\r\n                    &quot;heldOutsdSchlDa&quot;:&quot;2019-03-29&quot;,\r\n                    &quot;schlDeclinedInd&quot;:&quot;N&quot;,\r\n                    &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\r\n                    &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\r\n                    &quot;schlDiscussdedDa&quot;:&quot;2020-02-11&quot;\r\n                }\r\n             }\r\n          ]\r\n       }\r\n    ]\r\n\r\n\r\nThank you advance &lt;3\r\n","title":"bad return type in lambda expression - Java Object Comparison using Java 8 features","body":"<p>I have two JSON objects and want to do validation on studentCd value between both then retrieve the respective output using java 8 features. I have tried multiple times but Im getting\n<strong>bad return type in lambda expression</strong></p>\n<h1>1st JSON object</h1>\n<pre><code>&quot;studentDataInfos&quot;: [\n   {\n      &quot;classCd&quot;:&quot;AD&quot;,\n      &quot;studentAtSchoolInfos&quot;:[\n         {\n            &quot;studentCd&quot;:&quot;AA&quot;,\n            &quot;schoolInfo&quot;:{\n            \n            }\n         },\n         {\n            &quot;studentCd&quot;:&quot;AK&quot;,\n            &quot;schoolInfo&quot;:{\n            \n            }\n         }\n      ]\n   },\n   {\n      &quot;classCd&quot;:&quot;KD&quot;,\n      &quot;studentAtSchoolInfos&quot;:[\n         {\n            &quot;studentCd&quot;:&quot;BI&quot;,\n            &quot;schoolInfo&quot;:{\n            \n            }\n         },\n         {\n            &quot;studentCd&quot;:&quot;KK&quot;,\n            &quot;schoolInfo&quot;:{\n            \n            }\n         }\n      ]\n   }\n]\n</code></pre>\n<h1>2nd Object</h1>\n<pre><code>{\n&quot;schoolModelInfoList&quot; :[\n   {\n      &quot;classCd&quot;:&quot;AR&quot;,\n      &quot;studentCd&quot;:&quot;AA&quot;,\n      &quot;heldOutsdSchlInd&quot;:&quot;N&quot;,\n      &quot;heldOutsdSchlDa&quot;:&quot;NULL&quot;,\n      &quot;schlDeclinedInd&quot;:&quot;N&quot;,\n      &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\n      &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\n      &quot;schlDiscussdedDa&quot;:&quot;2023-01-10&quot;\n   },\n   {\n      &quot;classCd&quot;:&quot;BR&quot;,\n      &quot;studentCd&quot;:&quot;KK&quot;,\n      &quot;heldOutsdSchlInd&quot;:&quot;Y&quot;,\n      &quot;heldOutsdSchlDa&quot;:&quot;2019-03-29&quot;,\n      &quot;schlDeclinedInd&quot;:&quot;N&quot;,\n      &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\n      &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\n      &quot;schlDiscussdedDa&quot;:&quot;2020-02-11&quot;\n   }\n]\n}\n</code></pre>\n<p>Here I want to validation 2nd object against first then set the dates and Indicator values to 1st object based in studentCd field values matches.</p>\n<p>I have tried below streams and filters but didn't work for me.</p>\n<pre><code>    studentDataInfos.stream().filter(studentDataInfo -&gt;\nstudentDataInfo.studentAtSchoolInfos().stream().filter(\nstudentAtSchoolInfo -&gt; !studentAtSchoolInfo.getSchoolInfo().toString().isEmpty())\n                  .filter(schoolInfo -&gt; schoolModelInfoList.stream().\n                     anyMatch(schoolModelInfo -&gt; schoolModelInfo.getStudentCd().equals(schoolInfo.getStudentCd()))).collect(Collectors.toList());\n</code></pre>\n<p>Im pretty much sure that above expression will have compilation errors or not in proper shape to get expected the output :)</p>\n<p><strong>Expected JSON output after using Java 8 filters and streams</strong></p>\n<p>Here 2nd object studentCd value matches with only 2 places in 1st object i.e. studentCd: AA and studentCd : KK</p>\n<p>Below should be  the response body after streams and filters.</p>\n<pre><code>&quot;studentDataInfos&quot;: [\n   {\n      &quot;classCd&quot;:&quot;AD&quot;,\n      &quot;studentAtSchoolInfos&quot;:[\n         {\n            &quot;studentCd&quot;:&quot;AA&quot;,\n            &quot;schoolInfo&quot;:{\n                &quot;heldOutsdSchlInd&quot;:&quot;N&quot;,\n                &quot;heldOutsdSchlDa&quot;:&quot;NULL&quot;,\n                &quot;schlDeclinedInd&quot;:&quot;N&quot;,\n                &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\n                &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\n                &quot;schlDiscussdedDa&quot;:&quot;2023-01-10&quot;\n            }\n         },\n         {\n            &quot;studentCd&quot;:&quot;AK&quot;,\n            &quot;schoolInfo&quot;:{\n            \n            }\n         }\n      ]\n   },\n   {\n      &quot;classCd&quot;:&quot;KD&quot;,\n      &quot;studentAtSchoolInfos&quot;:[\n         {\n            &quot;studentCd&quot;:&quot;BI&quot;,\n            &quot;schoolInfo&quot;:{\n            \n            }\n         },\n         {\n            &quot;studentCd&quot;:&quot;KK&quot;,\n            &quot;schoolInfo&quot;:{\n                &quot;heldOutsdSchlInd&quot;:&quot;Y&quot;,\n                &quot;heldOutsdSchlDa&quot;:&quot;2019-03-29&quot;,\n                &quot;schlDeclinedInd&quot;:&quot;N&quot;,\n                &quot;schlDeclinedDa&quot;:&quot;NULL&quot;,\n                &quot;schlDiscussdedInd&quot;:&quot;Y&quot;,\n                &quot;schlDiscussdedDa&quot;:&quot;2020-02-11&quot;\n            }\n         }\n      ]\n   }\n]\n</code></pre>\n<p>Thank you advance &lt;3</p>\n"},{"tags":["java","jmap","memory-footprint","jhat"],"owner":{"account_id":22768776,"reputation":87,"user_id":16926480,"display_name":"sr-01-01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678305934,"creation_date":1678305934,"question_id":75677742,"body_markdown":"I have a simple java class &quot;Tile&quot; that declares 4 fields : \r\n- two integers\r\n- two objects (pointers)\r\n\r\nI&#39;m trying to know what is the exact memory footprint of an instance of this class.\r\n\r\nUsing the `org.openjdk.jol.info.ClassLayout.parseInstance(obj)` method, I&#39;m getting this :\r\n\r\n```\r\n OFFSET  SIZE               TYPE DESCRIPTION                               VALUE\r\n      0     4               (object header)                           09 00 00 00 (00001001 00000000 00000000 00000000) (9)\r\n      4     4               (object header)                           00 00 00 00 (00000000 00000000 00000000 00000000) (0)\r\n      8     4               (object header)                           00 40 0b 01 (00000000 01000000 00001011 00000001) (17514496)\r\n     12     4                int   Tile.x                                    0\r\n     16     4                int   Tile.y                                    0\r\n     20     4                Board Tile.board                                (object)\r\n     24     4  java.util.ArrayList Tile.elements                             (object)\r\n     28     4                (loss due to the next object alignment)\r\nInstance size: 32 bytes\r\n```\r\n\r\nSo far so good, that seems to make sense.\r\n\r\nNow... I&#39;m also dumping the heap with jmap `jmap -dump:all,file=dump.dump  56311` and exploring it with jhat `jhat dump4.dump`.\r\n\r\nI&#39;m going under the Tile class, and there I read the following :\r\n\r\n```\r\nTile@0x7fbdf0da0 (40 bytes)\r\n```\r\n \r\nSo here it looks like that/jmap calculates 40 bytes instead of 32.\r\n\r\nAnd now I&#39;m going under the &quot;Heap Histogram&quot; feature, and I&#39;m getting the number of instances of each class, along with the &quot;Total Size&quot; :\r\n\r\n```\r\nclass Tile\t9\t216\r\n\r\n```\r\n\r\nThat means 24 bytes...\r\n\r\nSo... what should I believe ? 40 ? 32 ? 24 ? How to make sense of all this ?","title":"Java object memory footprint - what to believe ? jhat ? ClassLayout?","body":"<p>I have a simple java class &quot;Tile&quot; that declares 4 fields :</p>\n<ul>\n<li>two integers</li>\n<li>two objects (pointers)</li>\n</ul>\n<p>I'm trying to know what is the exact memory footprint of an instance of this class.</p>\n<p>Using the <code>org.openjdk.jol.info.ClassLayout.parseInstance(obj)</code> method, I'm getting this :</p>\n<pre><code> OFFSET  SIZE               TYPE DESCRIPTION                               VALUE\n      0     4               (object header)                           09 00 00 00 (00001001 00000000 00000000 00000000) (9)\n      4     4               (object header)                           00 00 00 00 (00000000 00000000 00000000 00000000) (0)\n      8     4               (object header)                           00 40 0b 01 (00000000 01000000 00001011 00000001) (17514496)\n     12     4                int   Tile.x                                    0\n     16     4                int   Tile.y                                    0\n     20     4                Board Tile.board                                (object)\n     24     4  java.util.ArrayList Tile.elements                             (object)\n     28     4                (loss due to the next object alignment)\nInstance size: 32 bytes\n</code></pre>\n<p>So far so good, that seems to make sense.</p>\n<p>Now... I'm also dumping the heap with jmap <code>jmap -dump:all,file=dump.dump  56311</code> and exploring it with jhat <code>jhat dump4.dump</code>.</p>\n<p>I'm going under the Tile class, and there I read the following :</p>\n<pre><code>Tile@0x7fbdf0da0 (40 bytes)\n</code></pre>\n<p>So here it looks like that/jmap calculates 40 bytes instead of 32.</p>\n<p>And now I'm going under the &quot;Heap Histogram&quot; feature, and I'm getting the number of instances of each class, along with the &quot;Total Size&quot; :</p>\n<pre><code>class Tile  9   216\n\n</code></pre>\n<p>That means 24 bytes...</p>\n<p>So... what should I believe ? 40 ? 32 ? 24 ? How to make sense of all this ?</p>\n"},{"tags":["java","string","unit-testing","junit"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":5,"creation_date":1678305476,"post_id":75677639,"comment_id":133508901,"body_markdown":"`equalsTest` always returns `true` as `number` is always `2`. The argument `boolean equals` is never used.","body":"<code>equalsTest</code> always returns <code>true</code> as <code>number</code> is always <code>2</code>. The argument <code>boolean equals</code> is never used."}],"answers":[{"tags":[],"owner":{"account_id":2876507,"reputation":786,"user_id":2468417,"display_name":"Viraj Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678305931,"creation_date":1678305931,"answer_id":75677741,"question_id":75677639,"body_markdown":"You have many problems with your code.\r\n\r\n## 1) The `equals` parameter\r\n\r\nYour `JUnitTesting.equalsTest(boolean)` method does not use the argument provided. It seems like you are confusing variables and arguments. An argument should be used when passing input.\r\n\r\nYour class method should look like this:\r\n\r\n```java\r\npublic class JUnitTesting {\r\n    int number = 2;\r\n            \r\n    public boolean equalsTest(){\r\n        return number == 2;\r\n    }\r\n}\r\n```\r\n\r\n## 2) Unnecessary Scoping\r\n\r\nIt appears that you made a mistake and copied and pasted it:\r\n\r\n```java\r\nJUnitTesting equals = new JUnitTesting();{\r\n    assertTrue(equals.equalsTest(false));\r\n}\r\n```\r\n\r\nThis code scopes the assertion, when you did not intend to.\r\n\r\n## 3) You don&#39;t know what your code does\r\n\r\nIf you took the time to write your code correctly, or if you took time to read your own code, you would know that the result of `equalsTest`, in no way, relies on the input. Therefore, any unit testing you do will essentially be a useless test. This is because it returns the same thing every time.\r\n\r\nSo really, your unit tests are executing the following:\r\n\r\n1. `assertTrue(true)`\r\n2. `assertFalse(true)`\r\n\r\nBecause `true == true`, your first test **must pass**. And because `true != false`, your second test **must fail**.\r\n","title":"How does assertTrue and assertFalse work in Java?","body":"<p>You have many problems with your code.</p>\n<h2>1) The <code>equals</code> parameter</h2>\n<p>Your <code>JUnitTesting.equalsTest(boolean)</code> method does not use the argument provided. It seems like you are confusing variables and arguments. An argument should be used when passing input.</p>\n<p>Your class method should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JUnitTesting {\n    int number = 2;\n            \n    public boolean equalsTest(){\n        return number == 2;\n    }\n}\n</code></pre>\n<h2>2) Unnecessary Scoping</h2>\n<p>It appears that you made a mistake and copied and pasted it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JUnitTesting equals = new JUnitTesting();{\n    assertTrue(equals.equalsTest(false));\n}\n</code></pre>\n<p>This code scopes the assertion, when you did not intend to.</p>\n<h2>3) You don't know what your code does</h2>\n<p>If you took the time to write your code correctly, or if you took time to read your own code, you would know that the result of <code>equalsTest</code>, in no way, relies on the input. Therefore, any unit testing you do will essentially be a useless test. This is because it returns the same thing every time.</p>\n<p>So really, your unit tests are executing the following:</p>\n<ol>\n<li><code>assertTrue(true)</code></li>\n<li><code>assertFalse(true)</code></li>\n</ol>\n<p>Because <code>true == true</code>, your first test <strong>must pass</strong>. And because <code>true != false</code>, your second test <strong>must fail</strong>.</p>\n"}],"owner":{"account_id":27948642,"reputation":1,"user_id":21343042,"display_name":"Nick Slack"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1678394550,"accepted_answer_id":75677741,"answer_count":1,"score":-2,"last_activity_date":1678305931,"creation_date":1678305327,"question_id":75677639,"body_markdown":"I am trying to learn these and can not understand why it is not working, and the test itself is giving me no help in identifying what is wrong.\r\n\r\nI updated my code trying to \r\n\r\nHere is my class with the method:\r\n\r\n    package JUnit;\r\n    \r\n    public class JUnitTesting {\r\n    \r\n        int number = 2;\r\n        \t\t\r\n        \tpublic boolean equalsTest(boolean equals){\r\n        \t\tif(number == 2) {\r\n        \t\t\tequals = true;\r\n        \t\t}\r\n        \t\telse if(number != 2) {\r\n        \t\t\tequals = false;\r\n        \t\t}\r\n        \t\treturn equals;\r\n        \t}\r\n        }\r\n        \t\r\nHere is the test:\r\n\r\n    package JUnit;\r\n    \r\n    //Import in some functions\r\n    import static org.junit.Assert.assertFalse;\r\n    import static org.junit.Assert.assertTrue;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    public class JUnitTest{\r\n    \t\r\n    @Test\r\n    \tpublic void equalsTest() {\r\n    \t\tJUnitTesting equals = new JUnitTesting();{\r\n    \t\t\tassertTrue(equals.equalsTest(false));\r\n    \t\t}\r\n    \t}\r\n    \r\n    @Test\r\n    public void equalsTestTwo() {\r\n    \tJUnitTesting equals = new JUnitTesting();{\r\n    \t\tassertFalse(equals.equalsTest(false));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe first is passing the test when it should fail and I do not know why, and the second is failing when it should be passing. All it says is java.lang.AssertionError. Thanks in advance for any answers.","title":"How does assertTrue and assertFalse work in Java?","body":"<p>I am trying to learn these and can not understand why it is not working, and the test itself is giving me no help in identifying what is wrong.</p>\n<p>I updated my code trying to</p>\n<p>Here is my class with the method:</p>\n<pre><code>package JUnit;\n\npublic class JUnitTesting {\n\n    int number = 2;\n            \n        public boolean equalsTest(boolean equals){\n            if(number == 2) {\n                equals = true;\n            }\n            else if(number != 2) {\n                equals = false;\n            }\n            return equals;\n        }\n    }\n        \n</code></pre>\n<p>Here is the test:</p>\n<pre><code>package JUnit;\n\n//Import in some functions\nimport static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertTrue;\n\nimport org.junit.Test;\n\npublic class JUnitTest{\n    \n@Test\n    public void equalsTest() {\n        JUnitTesting equals = new JUnitTesting();{\n            assertTrue(equals.equalsTest(false));\n        }\n    }\n\n@Test\npublic void equalsTestTwo() {\n    JUnitTesting equals = new JUnitTesting();{\n        assertFalse(equals.equalsTest(false));\n        }\n    }\n}\n</code></pre>\n<p>The first is passing the test when it should fail and I do not know why, and the second is failing when it should be passing. All it says is java.lang.AssertionError. Thanks in advance for any answers.</p>\n"},{"tags":["java","arrays","json","jackson","polymorphic-deserialization"],"answers":[{"comments":[{"owner":{"account_id":17069157,"reputation":210,"user_id":12350428,"display_name":"bob"},"score":0,"creation_date":1678306663,"post_id":75677701,"comment_id":133509179,"body_markdown":"Thank you for the quick answer. :) \n\nBut wouldn&#39;t also the `AccountLedgerList` also be an object wrapping the list in this case?","body":"Thank you for the quick answer. :)   But wouldn&#39;t also the <code>AccountLedgerList</code> also be an object wrapping the list in this case?"},{"owner":{"account_id":17069157,"reputation":210,"user_id":12350428,"display_name":"bob"},"score":0,"creation_date":1678308258,"post_id":75677701,"comment_id":133509554,"body_markdown":"Okay, it seems like it works thanks to you :) But I had to basically make AccountLedgerList implement List in order to make it work. Was that what you were trying to imply? Or are there other ways instead of having to implement List?","body":"Okay, it seems like it works thanks to you :) But I had to basically make AccountLedgerList implement List in order to make it work. Was that what you were trying to imply? Or are there other ways instead of having to implement List?"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1678340954,"post_id":75677701,"comment_id":133514290,"body_markdown":"Yes, JsonSubTypes.Type has to identify the class to be used, not the type that is contained in the List. It is just how I like to code it: `DtoType` and `DtoTypeList`. But as you said `DtoTypeList extends List&lt;DtoType&gt;` is functionally the same .","body":"Yes, JsonSubTypes.Type has to identify the class to be used, not the type that is contained in the List. It is just how I like to code it: <code>DtoType</code> and <code>DtoTypeList</code>. But as you said <code>DtoTypeList extends List&lt;DtoType&gt;</code> is functionally the same ."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678305713,"creation_date":1678305713,"answer_id":75677701,"question_id":75677453,"body_markdown":"The `List` type can&#39;t be identified.\r\n\r\nYour `TypeInfo` for `AccountLedger` should identify a class that contains an array of `AccountLedger`.\r\n\r\nYou have to have a class that contains the list, something like:\r\n\r\n    AccountLedgerList {\r\n        List&lt;AccountLedger&gt; data;\r\n    }\r\n\r\nand then your `method` identifies the `List` object type:\r\n\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = AccountLedgerList.class, name = &quot;AccountLedger&quot;)\r\n    })","title":"Jackson @JsonSubTypes - Polymorphic deserialization with generics","body":"<p>The <code>List</code> type can't be identified.</p>\n<p>Your <code>TypeInfo</code> for <code>AccountLedger</code> should identify a class that contains an array of <code>AccountLedger</code>.</p>\n<p>You have to have a class that contains the list, something like:</p>\n<pre><code>AccountLedgerList {\n    List&lt;AccountLedger&gt; data;\n}\n</code></pre>\n<p>and then your <code>method</code> identifies the <code>List</code> object type:</p>\n<pre><code>@JsonSubTypes({\n    @JsonSubTypes.Type(value = AccountLedgerList.class, name = &quot;AccountLedger&quot;)\n})\n</code></pre>\n"}],"owner":{"account_id":17069157,"reputation":210,"user_id":12350428,"display_name":"bob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75677701,"answer_count":1,"score":0,"last_activity_date":1678305713,"creation_date":1678304049,"question_id":75677453,"body_markdown":"I&#39;m trying to deserialize this json body that I don&#39;t have any control over. Because the API I&#39;m calling could provide different &quot;data&quot; (arrays of objects) depending on the &quot;method&quot; value, I thought of polymorphism and using `@JsonSubTypes`. However the current set up gives me an error. I&#39;m already using generics for another case which where &quot;data&quot; is an object and that works fine. But I&#39;m not able to solve this with arrays of objects.\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException:\r\n&gt; Unexpected token (START_OBJECT), expected START_ARRAY: need JSON Array\r\n&gt; to contain As.WRAPPER_ARRAY type information for class\r\n&gt; demo.common.dto.response.data.AccountLedgerResponse\r\n\r\nNot sure what it is referring to since &quot;data&quot; json property starts with **&quot;[&quot;**.\r\n\r\n**JSON**\r\n\r\n    {\r\n        &quot;version&quot;: &quot;1.1&quot;,\r\n        &quot;result&quot;: {\r\n            &quot;signature&quot;: &quot;lCteM8iCg++7uyF...TYoY/mc7eUQ6FWNPg==&quot;,\r\n            &quot;method&quot;: &quot;AccountLedger&quot;,\r\n            &quot;data&quot;: [{\r\n                &quot;userid&quot;: &quot;3839426635&quot;,\r\n                &quot;datestamp&quot;: &quot;2014-01-30 13:28:45.652299+01&quot;,\r\n                &quot;orderid&quot;: &quot;3209647863&quot;,\r\n                &quot;accountname&quot;: &quot;SUSPENSE_ACCOUNT_CLIENT_FUNDS_SWEDEN_ESSE&quot;,\r\n                &quot;messageid&quot;: &quot;133921&quot;,\r\n                &quot;transactiontype&quot;: &quot;User deposit of client funds to CLIENT_FUNDS_SWEDEN_ESSE&quot;,\r\n                &quot;currency&quot;: &quot;EUR&quot;,\r\n                &quot;amount&quot;: &quot;5.00000000000000000000&quot;,\r\n                &quot;gluepayid&quot;: &quot;3209647863&quot;\r\n            }, {\r\n                &quot;accountname&quot;: &quot;TRANSACTION_FEE_BANK_DEPOSIT&quot;,\r\n                &quot;orderid&quot;: &quot;3209647863&quot;,\r\n                &quot;userid&quot;: &quot;3839426635&quot;,\r\n                &quot;datestamp&quot;: &quot;2014-01-30 13:28:45.652299+01&quot;,\r\n                &quot;messageid&quot;: &quot;133921&quot;,\r\n                &quot;transactiontype&quot;: &quot;User deposit of client funds to CLIENT_FUNDS_SWEDEN_ESSE&quot;,\r\n                &quot;currency&quot;: &quot;SEK&quot;,\r\n                &quot;amount&quot;: &quot;-3.01&quot;,\r\n                &quot;gluepayid&quot;: &quot;3209647863&quot;\r\n            }],\r\n            &quot;uuid&quot;: &quot;9e4345db-6093-bb35-07d3-e335f1e28793&quot;\r\n        }\r\n    }\r\n\r\n\r\nThe expected object: \r\n\r\n    public record ResultList&lt;T extends ResponseData&gt;(\r\n\r\n    \t\t@JsonProperty(&quot;signature&quot;)\r\n    \t\tString signature,\r\n    \r\n    \t\t@JsonProperty(&quot;uuid&quot;)\r\n    \t\tUUID uuid,\r\n    \r\n    \t\t@JsonProperty(&quot;method&quot;)\r\n    \t\tMethod method,\r\n    \r\n    \t\t@JsonProperty(&quot;data&quot;)\r\n    \t\t@JsonTypeInfo(\r\n    \t\t\t\tuse = JsonTypeInfo.Id.NAME,\r\n    \t\t\t\tinclude = JsonTypeInfo.As.EXTERNAL_PROPERTY,\r\n    \t\t\t\tproperty = &quot;method&quot;)\r\n    \t\t@JsonSubTypes({\r\n    \t\t\t\t@JsonSubTypes.Type(value = AccountLedgerResponse.class, name = &quot;AccountLedger&quot;)\r\n    \t\t})\r\n    \t\tList&lt;T&gt; data) {\r\n    \r\n    \t@Builder\r\n    \tpublic ResultList {\r\n    \r\n    \t}\r\n    }","title":"Jackson @JsonSubTypes - Polymorphic deserialization with generics","body":"<p>I'm trying to deserialize this json body that I don't have any control over. Because the API I'm calling could provide different &quot;data&quot; (arrays of objects) depending on the &quot;method&quot; value, I thought of polymorphism and using <code>@JsonSubTypes</code>. However the current set up gives me an error. I'm already using generics for another case which where &quot;data&quot; is an object and that works fine. But I'm not able to solve this with arrays of objects.</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.MismatchedInputException:\nUnexpected token (START_OBJECT), expected START_ARRAY: need JSON Array\nto contain As.WRAPPER_ARRAY type information for class\ndemo.common.dto.response.data.AccountLedgerResponse</p>\n</blockquote>\n<p>Not sure what it is referring to since &quot;data&quot; json property starts with <strong>&quot;[&quot;</strong>.</p>\n<p><strong>JSON</strong></p>\n<pre><code>{\n    &quot;version&quot;: &quot;1.1&quot;,\n    &quot;result&quot;: {\n        &quot;signature&quot;: &quot;lCteM8iCg++7uyF...TYoY/mc7eUQ6FWNPg==&quot;,\n        &quot;method&quot;: &quot;AccountLedger&quot;,\n        &quot;data&quot;: [{\n            &quot;userid&quot;: &quot;3839426635&quot;,\n            &quot;datestamp&quot;: &quot;2014-01-30 13:28:45.652299+01&quot;,\n            &quot;orderid&quot;: &quot;3209647863&quot;,\n            &quot;accountname&quot;: &quot;SUSPENSE_ACCOUNT_CLIENT_FUNDS_SWEDEN_ESSE&quot;,\n            &quot;messageid&quot;: &quot;133921&quot;,\n            &quot;transactiontype&quot;: &quot;User deposit of client funds to CLIENT_FUNDS_SWEDEN_ESSE&quot;,\n            &quot;currency&quot;: &quot;EUR&quot;,\n            &quot;amount&quot;: &quot;5.00000000000000000000&quot;,\n            &quot;gluepayid&quot;: &quot;3209647863&quot;\n        }, {\n            &quot;accountname&quot;: &quot;TRANSACTION_FEE_BANK_DEPOSIT&quot;,\n            &quot;orderid&quot;: &quot;3209647863&quot;,\n            &quot;userid&quot;: &quot;3839426635&quot;,\n            &quot;datestamp&quot;: &quot;2014-01-30 13:28:45.652299+01&quot;,\n            &quot;messageid&quot;: &quot;133921&quot;,\n            &quot;transactiontype&quot;: &quot;User deposit of client funds to CLIENT_FUNDS_SWEDEN_ESSE&quot;,\n            &quot;currency&quot;: &quot;SEK&quot;,\n            &quot;amount&quot;: &quot;-3.01&quot;,\n            &quot;gluepayid&quot;: &quot;3209647863&quot;\n        }],\n        &quot;uuid&quot;: &quot;9e4345db-6093-bb35-07d3-e335f1e28793&quot;\n    }\n}\n</code></pre>\n<p>The expected object:</p>\n<pre><code>public record ResultList&lt;T extends ResponseData&gt;(\n\n        @JsonProperty(&quot;signature&quot;)\n        String signature,\n\n        @JsonProperty(&quot;uuid&quot;)\n        UUID uuid,\n\n        @JsonProperty(&quot;method&quot;)\n        Method method,\n\n        @JsonProperty(&quot;data&quot;)\n        @JsonTypeInfo(\n                use = JsonTypeInfo.Id.NAME,\n                include = JsonTypeInfo.As.EXTERNAL_PROPERTY,\n                property = &quot;method&quot;)\n        @JsonSubTypes({\n                @JsonSubTypes.Type(value = AccountLedgerResponse.class, name = &quot;AccountLedger&quot;)\n        })\n        List&lt;T&gt; data) {\n\n    @Builder\n    public ResultList {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","sql","jdbi"],"answers":[{"comments":[{"owner":{"account_id":16935487,"reputation":313,"user_id":12248597,"display_name":"EzyHoo"},"score":0,"creation_date":1689179933,"post_id":59080409,"comment_id":135178018,"body_markdown":"Both approach throws UnableToCreateStatementException error for me:\nhttps://stackoverflow.com/questions/76667296/jdbi-bindmethodslist-bindbeanlist-throws-unabletocreatestatementexception","body":"Both approach throws UnableToCreateStatementException error for me: <a href=\"https://stackoverflow.com/questions/76667296/jdbi-bindmethodslist-bindbeanlist-throws-unabletocreatestatementexception\" title=\"jdbi bindmethodslist bindbeanlist throws unabletocreatestatementexception\">stackoverflow.com/questions/76667296/&hellip;</a>"}],"tags":[],"owner":{"account_id":449795,"reputation":2023,"user_id":844786,"display_name":"talon55"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1574902920,"creation_date":1574902920,"answer_id":59080409,"question_id":55702129,"body_markdown":"It&#39;s actually quite easy to do this in JDBI3, but for some reason the solution isn&#39;t documented on [jdbi.org][1].\r\n\r\nHere it is:\r\n\r\n    List&lt;String&gt; result = handle.createQuery(getBasicQuery() + &quot; WHERE (key, val) in (&lt;query&gt;)&quot;)\r\n        .bindMethodsList(&quot;query&quot;, query, List.of(&quot;getKey&quot;, &quot;getValue&quot;))\r\n        .mapTo(String.class)\r\n        .list();\r\n\r\nNote that to use [`bindMethodsList()`][2] you&#39;ll need to have your query objects defined as instances of a class with public methods (ie. getters). Something like this would work just fine:\r\n\r\n    class Query {\r\n      String key;\r\n      String value;\r\n\r\n      Query(String key, String value) {\r\n        this.key = key;\r\n        this.value = value;\r\n      }\r\n\r\n      public String getKey() {\r\n        return key;\r\n      }\r\n\r\n      public String getValue() {\r\n        return value;\r\n      }\r\n    }\r\n\r\nAlternatively, you can skip the getters by making the properties themselves public and using [`bindBeanList()`][3].\r\n\r\n\r\n  [1]: http://jdbi.org/\r\n  [2]: http://jdbi.org/apidocs/org/jdbi/v3/core/statement/SqlStatement.html#bindMethodsList-java.lang.String-java.lang.Iterable-java.util.List-\r\n  [3]: http://jdbi.org/apidocs/org/jdbi/v3/core/statement/SqlStatement.html#bindBeanList-java.lang.String-java.util.List-java.util.List-","title":"How do I bind a list of tuples in jdbi?","body":"<p>It's actually quite easy to do this in JDBI3, but for some reason the solution isn't documented on <a href=\"http://jdbi.org/\" rel=\"noreferrer\">jdbi.org</a>.</p>\n\n<p>Here it is:</p>\n\n<pre><code>List&lt;String&gt; result = handle.createQuery(getBasicQuery() + \" WHERE (key, val) in (&lt;query&gt;)\")\n    .bindMethodsList(\"query\", query, List.of(\"getKey\", \"getValue\"))\n    .mapTo(String.class)\n    .list();\n</code></pre>\n\n<p>Note that to use <a href=\"http://jdbi.org/apidocs/org/jdbi/v3/core/statement/SqlStatement.html#bindMethodsList-java.lang.String-java.lang.Iterable-java.util.List-\" rel=\"noreferrer\"><code>bindMethodsList()</code></a> you'll need to have your query objects defined as instances of a class with public methods (ie. getters). Something like this would work just fine:</p>\n\n<pre><code>class Query {\n  String key;\n  String value;\n\n  Query(String key, String value) {\n    this.key = key;\n    this.value = value;\n  }\n\n  public String getKey() {\n    return key;\n  }\n\n  public String getValue() {\n    return value;\n  }\n}\n</code></pre>\n\n<p>Alternatively, you can skip the getters by making the properties themselves public and using <a href=\"http://jdbi.org/apidocs/org/jdbi/v3/core/statement/SqlStatement.html#bindBeanList-java.lang.String-java.util.List-java.util.List-\" rel=\"noreferrer\"><code>bindBeanList()</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":16935487,"reputation":313,"user_id":12248597,"display_name":"EzyHoo"},"score":0,"creation_date":1689179966,"post_id":70593264,"comment_id":135178021,"body_markdown":"This approach throws UnableToCreateStatementException error for me: https://stackoverflow.com/questions/76667296/jdbi-bindmethodslist-bindbeanlist-throws-unabletocreatestatementexception","body":"This approach throws UnableToCreateStatementException error for me: <a href=\"https://stackoverflow.com/questions/76667296/jdbi-bindmethodslist-bindbeanlist-throws-unabletocreatestatementexception\" title=\"jdbi bindmethodslist bindbeanlist throws unabletocreatestatementexception\">stackoverflow.com/questions/76667296/&hellip;</a>"}],"tags":[],"owner":{"account_id":4908550,"reputation":475,"user_id":3954514,"display_name":"Sebastian Cardona Osorio"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641387490,"creation_date":1641387490,"answer_id":70593264,"question_id":55702129,"body_markdown":"As @talon55 said, [bindBeanList][1] method is an alternative:\r\n\r\n```java\r\n\r\nString QRY_STRING = &quot;SELECT id FROM settlement_report WHERE (user_id, reference_id, has_type_id, record_type) IN (&lt;conditions&gt;)&quot;;\r\n\r\nList&lt;String&gt; fieldsBean = Arrays.asList(&quot;userId&quot;, &quot;referenceId&quot;, &quot;hasTypeId&quot;, &quot;recordType&quot;);\r\n\r\nhandle.createQuery(QRY_STRING)\r\n.bindBeanList(&quot;conditions&quot;, records, fieldsBean);\r\n```\r\n\r\n\r\n  [1]: http://jdbi.org/apidocs/org/jdbi/v3/core/statement/SqlStatement.html#bindBeanList(java.lang.String,java.util.List,java.util.List)","title":"How do I bind a list of tuples in jdbi?","body":"<p>As @talon55 said, <a href=\"http://jdbi.org/apidocs/org/jdbi/v3/core/statement/SqlStatement.html#bindBeanList(java.lang.String,java.util.List,java.util.List)\" rel=\"nofollow noreferrer\">bindBeanList</a> method is an alternative:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nString QRY_STRING = &quot;SELECT id FROM settlement_report WHERE (user_id, reference_id, has_type_id, record_type) IN (&lt;conditions&gt;)&quot;;\n\nList&lt;String&gt; fieldsBean = Arrays.asList(&quot;userId&quot;, &quot;referenceId&quot;, &quot;hasTypeId&quot;, &quot;recordType&quot;);\n\nhandle.createQuery(QRY_STRING)\n.bindBeanList(&quot;conditions&quot;, records, fieldsBean);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6830518,"reputation":301,"user_id":5254706,"display_name":"Gaurav Grover"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678305602,"creation_date":1678305602,"answer_id":75677681,"question_id":55702129,"body_markdown":"You can also use annotated interface methods for this query. Following mentioning my findings extending the example given by @talon55.\r\n\r\n```\r\n@RegisterRowMapper(xyzMapper.class)\r\npublic interface xyzDAO {\r\n\r\n    @SqlQuery(&quot;SELECT * FROM xyz WHERE (key, value) in (&lt;query&gt;)&quot;)\r\n    List&lt;String&gt; findAll(@BindMethodsList(value = &quot;query&quot;, methodNames = {&quot;getKey&quot;, &quot;getValue&quot;}) List&lt;Query&gt; query) throws UnableToExecuteStatementException;\r\n\r\n}\r\n```","title":"How do I bind a list of tuples in jdbi?","body":"<p>You can also use annotated interface methods for this query. Following mentioning my findings extending the example given by @talon55.</p>\n<pre><code>@RegisterRowMapper(xyzMapper.class)\npublic interface xyzDAO {\n\n    @SqlQuery(&quot;SELECT * FROM xyz WHERE (key, value) in (&lt;query&gt;)&quot;)\n    List&lt;String&gt; findAll(@BindMethodsList(value = &quot;query&quot;, methodNames = {&quot;getKey&quot;, &quot;getValue&quot;}) List&lt;Query&gt; query) throws UnableToExecuteStatementException;\n\n}\n</code></pre>\n"}],"owner":{"account_id":6472558,"reputation":91,"user_id":5012226,"display_name":"Monica Gangwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1933,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1678305602,"creation_date":1555397248,"question_id":55702129,"body_markdown":"I have a mysql query in this format\r\n```\r\nSELECT * from xyz where (key1, key2) in ((&#39;val1&#39;, &#39;val2&#39;), (&#39;val3&#39;, &#39;val4&#39;));\r\n```\r\nI&#39;m using jdbi to make this query. How do I bind the list of tuples in jdbi ?\r\nI was trying to use something like this\r\n```\r\nList&lt;String[]&gt; query = new ArrayList&lt;&gt;();\r\nfor(String key: vars.keySet()){\r\n  String[] entry = {key, vars.get(key)};\r\n  query.add(entry);\r\n}\r\nList&lt;String&gt; result = getBasicQuery() + &quot; WHERE (key, val) in (&lt;query&gt;)&quot;.bindList(&quot;query&quot;, query);\r\n```\r\n\r\nGetting this error on using bind this way\r\n```\r\n No argument factory registered for &#39;[Ljava.lang.String;@11fa461a&#39; of type class [Ljava.lang.String;\r\n```","title":"How do I bind a list of tuples in jdbi?","body":"<p>I have a mysql query in this format</p>\n\n<pre><code>SELECT * from xyz where (key1, key2) in (('val1', 'val2'), ('val3', 'val4'));\n</code></pre>\n\n<p>I'm using jdbi to make this query. How do I bind the list of tuples in jdbi ?\nI was trying to use something like this</p>\n\n<pre><code>List&lt;String[]&gt; query = new ArrayList&lt;&gt;();\nfor(String key: vars.keySet()){\n  String[] entry = {key, vars.get(key)};\n  query.add(entry);\n}\nList&lt;String&gt; result = getBasicQuery() + \" WHERE (key, val) in (&lt;query&gt;)\".bindList(\"query\", query);\n</code></pre>\n\n<p>Getting this error on using bind this way</p>\n\n<pre><code> No argument factory registered for '[Ljava.lang.String;@11fa461a' of type class [Ljava.lang.String;\n</code></pre>\n"},{"tags":["java","raspberry-pi","gpio","raspberry-pi4","pi4j"],"comments":[{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1678349067,"post_id":75677559,"comment_id":133515837,"body_markdown":"There seems to be a 32- versus 64-bit mismatch. Did you compile with the right version and running it with a similar version?","body":"There seems to be a 32- versus 64-bit mismatch. Did you compile with the right version and running it with a similar version?"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1678350452,"post_id":75677559,"comment_id":133516145,"body_markdown":"@Frank, I thought also that the problem is in the OS versions.  But today I saw some youtube videos and no one compiles the projects direct on the Pi. Every compiles the project on a normal desktop and than launches the executable jar file on the pi. Maybe this is the trouble? The project must be compiled external and launch on the pi as a jar but can not be launch direct from the intellij idea. What do you think about it? I use 64 bit raspbian for the development and for the tests.","body":"@Frank, I thought also that the problem is in the OS versions.  But today I saw some youtube videos and no one compiles the projects direct on the Pi. Every compiles the project on a normal desktop and than launches the executable jar file on the pi. Maybe this is the trouble? The project must be compiled external and launch on the pi as a jar but can not be launch direct from the intellij idea. What do you think about it? I use 64 bit raspbian for the development and for the tests."},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1678432087,"post_id":75677559,"comment_id":133534615,"body_markdown":"That could indeed be the problem. Did you check this tutorial about uploading code from IntelliJ IDEA and run/debug it on a RPi? https://pi4j.com/getting-started/crowpi/develop-with-intellij/","body":"That could indeed be the problem. Did you check this tutorial about uploading code from IntelliJ IDEA and run/debug it on a RPi? <a href=\"https://pi4j.com/getting-started/crowpi/develop-with-intellij/\" rel=\"nofollow noreferrer\">pi4j.com/getting-started/crowpi/develop-with-intellij</a>"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1679212058,"post_id":75677559,"comment_id":133678260,"body_markdown":"@Frank, I have launched successfully the simple example as Gradle project. Thanks, but I have not understood how could I make this. This library is not so simple as processing embedded IO library, but I think more powerful.","body":"@Frank, I have launched successfully the simple example as Gradle project. Thanks, but I have not understood how could I make this. This library is not so simple as processing embedded IO library, but I think more powerful."}],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678304821,"creation_date":1678304821,"question_id":75677559,"body_markdown":"I need to create a project for the RPI3. It must control external devices, read signals from a coin acceptor and output the graphic of a videogame to a screen 1920x1080 px. I used Processing libraries (www.processing.org) for all the purposes but it renders the graphic very slow and without Open GL ES support (I think this is the main reason). I want to transfer from processing to LibGDX to complete the project and am selecting for a library for simple interaction with the GPIO. I have founded only Pi4J project but can not even run tests.\r\n\r\nI get the next error message when I launch the first example of the Pi4J library on my RPI4B (Raspberry Pi OS 64bit):\r\n\r\n    /root/.jdks/liberica-11.0.18/bin/java -javaagent:/home/MGDSStudio/Software/idea-IC-223.8617.56/lib/idea_rt.jar=34803:/home/MGDSStudio/Software/idea-IC-223.8617.56/bin -Dfile.encoding=UTF-8 -classpath /home/MGDSStudio/GD/Tests/Pi4j/pi4j-v1/pi4j-example/target/classes:/home/MGDSStudio/GD/Tests/Pi4j/pi4j-v1/pi4j-core/target/classes:/root/.m2/repository/javax/xml/bind/jaxb-api/2.3.1/jaxb-api-2.3.1.jar:/root/.m2/repository/javax/activation/javax.activation-api/1.2.0/javax.activation-api-1.2.0.jar BlinkGpioExample\r\n    &lt;--Pi4J--&gt; GPIO Blink Example ... started.\r\n    Mar 08, 2023 7:27:37 PM com.pi4j.util.NativeLibraryLoader load\r\n    SEVERE: Unable to load [libpi4j] using path: [/lib/raspberrypi/dynamic/libpi4j-aarch64.so]\r\n    java.io.FileNotFoundException: File /lib/raspberrypi/dynamic/libpi4j-aarch64.so was not found in classpath.\r\n\r\nI use liberica jdk-11. What is wrong with it or my SBC? I have tested also on my Khadas Vim3 pro (Ubuntu 20.04 64 bit) but without success.","title":"Can not launch examples of the Pi4J from the Intellij IDEA on Raspberry Pi 4B","body":"<p>I need to create a project for the RPI3. It must control external devices, read signals from a coin acceptor and output the graphic of a videogame to a screen 1920x1080 px. I used Processing libraries (<a href=\"http://www.processing.org\" rel=\"nofollow noreferrer\">www.processing.org</a>) for all the purposes but it renders the graphic very slow and without Open GL ES support (I think this is the main reason). I want to transfer from processing to LibGDX to complete the project and am selecting for a library for simple interaction with the GPIO. I have founded only Pi4J project but can not even run tests.</p>\n<p>I get the next error message when I launch the first example of the Pi4J library on my RPI4B (Raspberry Pi OS 64bit):</p>\n<pre><code>/root/.jdks/liberica-11.0.18/bin/java -javaagent:/home/MGDSStudio/Software/idea-IC-223.8617.56/lib/idea_rt.jar=34803:/home/MGDSStudio/Software/idea-IC-223.8617.56/bin -Dfile.encoding=UTF-8 -classpath /home/MGDSStudio/GD/Tests/Pi4j/pi4j-v1/pi4j-example/target/classes:/home/MGDSStudio/GD/Tests/Pi4j/pi4j-v1/pi4j-core/target/classes:/root/.m2/repository/javax/xml/bind/jaxb-api/2.3.1/jaxb-api-2.3.1.jar:/root/.m2/repository/javax/activation/javax.activation-api/1.2.0/javax.activation-api-1.2.0.jar BlinkGpioExample\n&lt;--Pi4J--&gt; GPIO Blink Example ... started.\nMar 08, 2023 7:27:37 PM com.pi4j.util.NativeLibraryLoader load\nSEVERE: Unable to load [libpi4j] using path: [/lib/raspberrypi/dynamic/libpi4j-aarch64.so]\njava.io.FileNotFoundException: File /lib/raspberrypi/dynamic/libpi4j-aarch64.so was not found in classpath.\n</code></pre>\n<p>I use liberica jdk-11. What is wrong with it or my SBC? I have tested also on my Khadas Vim3 pro (Ubuntu 20.04 64 bit) but without success.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":1,"creation_date":1678304954,"post_id":75677558,"comment_id":133508750,"body_markdown":"Have a look at [this question](https://stackoverflow.com/questions/12850143/android-basics-running-code-in-the-ui-thread)","body":"Have a look at <a href=\"https://stackoverflow.com/questions/12850143/android-basics-running-code-in-the-ui-thread\">this question</a>"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1678320517,"post_id":75677558,"comment_id":133511802,"body_markdown":"You can&#39;t modify the `gameButton` from the background thread you should modify it in the main thread, try `runOnUIThread` method","body":"You can&#39;t modify the <code>gameButton</code> from the background thread you should modify it in the main thread, try <code>runOnUIThread</code> method"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678304821,"creation_date":1678304821,"question_id":75677558,"body_markdown":"I need to change the value of an element from a different thread\r\n\r\nThe error is on function `gameButton.setText(String.valueOf(out));`, I am aware I am not allowed to change main UI elements from external threads. \r\n\r\nWhat is the least complicated way to change the value of this element from an external thread?\r\n\r\n     public class MainActivity extends Activity {\r\n\r\n        DFT sProc = new DFT();\r\n        Button gameButton;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n\r\n            super.onCreate(savedInstanceState);\r\n\r\n            RelativeLayout gameLayout = new RelativeLayout(this);\r\n            gameButton = new Button(this);\r\n\r\n            //Add the start Button\r\n            gameButton.setText(&quot;Start&quot;);\r\n            gameButton.setBackgroundColor(Color.MAGENTA);\r\n            gameLayout.setBackgroundColor(Color.LTGRAY);\r\n            RelativeLayout.LayoutParams buttonDetails = new RelativeLayout.LayoutParams(\r\n                    RelativeLayout.LayoutParams.WRAP_CONTENT,\r\n                    RelativeLayout.LayoutParams.WRAP_CONTENT\r\n            );\r\n            buttonDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\r\n            buttonDetails.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\r\n            gameLayout.addView(gameButton, buttonDetails);\r\n            setContentView(gameLayout);\r\n\r\n            final Thread t = new Thread(this::soundThread);\r\n            t.start();\r\n        }\r\n\r\n        private void soundThread(){\r\n            for(ini i = 0; i &lt; 100; i++)\r\n            {\r\n                sProc.start(this);\r\n                try {\r\n                    Thread.sleep(1000);\r\n                    double out = sProc.getAmplitude();\r\n                    gameButton.setText(String.valueOf(out));\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n                sProc.stop();\r\n            };\r\n        }\r\n    }","title":"Change property of Button from another thread within the same class in Android","body":"<p>I need to change the value of an element from a different thread</p>\n<p>The error is on function <code>gameButton.setText(String.valueOf(out));</code>, I am aware I am not allowed to change main UI elements from external threads.</p>\n<p>What is the least complicated way to change the value of this element from an external thread?</p>\n<pre><code> public class MainActivity extends Activity {\n\n    DFT sProc = new DFT();\n    Button gameButton;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n\n        RelativeLayout gameLayout = new RelativeLayout(this);\n        gameButton = new Button(this);\n\n        //Add the start Button\n        gameButton.setText(&quot;Start&quot;);\n        gameButton.setBackgroundColor(Color.MAGENTA);\n        gameLayout.setBackgroundColor(Color.LTGRAY);\n        RelativeLayout.LayoutParams buttonDetails = new RelativeLayout.LayoutParams(\n                RelativeLayout.LayoutParams.WRAP_CONTENT,\n                RelativeLayout.LayoutParams.WRAP_CONTENT\n        );\n        buttonDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\n        buttonDetails.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\n        gameLayout.addView(gameButton, buttonDetails);\n        setContentView(gameLayout);\n\n        final Thread t = new Thread(this::soundThread);\n        t.start();\n    }\n\n    private void soundThread(){\n        for(ini i = 0; i &lt; 100; i++)\n        {\n            sProc.start(this);\n            try {\n                Thread.sleep(1000);\n                double out = sProc.getAmplitude();\n                gameButton.setText(String.valueOf(out));\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            sProc.stop();\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","swing","intellij-plugin","jtree"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1678308461,"post_id":75677508,"comment_id":133509607,"body_markdown":"`nodeStructureChanged` basically informs the `JTree` that the underlying structure has completely changed, so any expanded or selection information will be discarded.  The expanded state is maintained internally by the `JTree` and the selection via the `TreeSelectionModel`. If you want to maintain this state between updates, you have two basic choices. You either devise a delta update approach which can add/remove/update the nodes between the new and old models or try and restore the expended and selected states after the update - the first will likely produce a nicer UX","body":"<code>nodeStructureChanged</code> basically informs the <code>JTree</code> that the underlying structure has completely changed, so any expanded or selection information will be discarded.  The expanded state is maintained internally by the <code>JTree</code> and the selection via the <code>TreeSelectionModel</code>. If you want to maintain this state between updates, you have two basic choices. You either devise a delta update approach which can add/remove/update the nodes between the new and old models or try and restore the expended and selected states after the update - the first will likely produce a nicer UX"}],"owner":{"account_id":14398683,"reputation":505,"user_id":10401124,"display_name":"AmirHossein Abdolmotallebi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678304445,"creation_date":1678304445,"question_id":75677508,"body_markdown":"\r\nI have a `JTree` that I want to update its node based on a list that I have receiving from remote (some of its data is already in Tree ,so they are some repeatations)\r\n\r\nHere is my data model that comes from remote\r\n```kotlin\r\ndata class VariableInfo(\r\n    val name: String,\r\n    val type: String,\r\n    val value: String,\r\n    val children: List&lt;VariableInfo&gt;? = null,\r\n)\r\n```\r\nAnd here is &quot;VariableInfoTreeNode&quot;\r\n```kotlin\r\nclass VariableInfoTreeNode(\r\n    private val variableInfo: VariableInfo,\r\n    private val myParentNode: TreeNode?,\r\n) : TreeNode {\r\n    override fun toString(): String {\r\n        return &quot;${variableInfo.name}:${variableInfo.type} ${variableInfo.value}&quot;\r\n    }\r\n\r\n    override fun getChildAt(childIndex: Int): TreeNode {\r\n        return _children[childIndex]\r\n    }\r\n\r\n    override fun getChildCount(): Int {\r\n        return _children.size\r\n    }\r\n\r\n    override fun getParent(): TreeNode? {\r\n        return myParentNode\r\n    }\r\n\r\n    override fun getIndex(node: TreeNode?): Int {\r\n        return _children.indexOfFirst {\r\n            if (node is VariableInfoTreeNode) {\r\n                it == node\r\n            } else {\r\n                false\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun getAllowsChildren(): Boolean {\r\n        return true\r\n    }\r\n\r\n    override fun isLeaf(): Boolean {\r\n        return false\r\n    }\r\n\r\n    private val _children by lazy {\r\n        variableInfo.children?.map {\r\n            VariableInfoTreeNode(it, this)\r\n        } ?: emptyList()\r\n    }\r\n\r\n    override fun children(): Enumeration&lt;out TreeNode&gt; {\r\n        return Collections.enumeration(_children)\r\n    }\r\n}\r\n```\r\nI also have a RootNode for containing `VariableInfoTreeNode` nodes\r\n```kotlin\r\nclass VariableInfoRootNode:TreeNode{\r\n    private var children= emptyList&lt;VariableInfo&gt;()\r\n    private lateinit var childrenNodes:List&lt;VariableInfoTreeNode&gt;\r\n    init {\r\n        refreshChildTree()\r\n    }\r\n    fun setVariableInfo(variableInfoList: List&lt;VariableInfo&gt;){\r\n        children=variableInfoList\r\n        refreshChildTree()\r\n    }\r\n\r\n    private fun refreshChildTree(){\r\n        childrenNodes=children.map {\r\n            VariableInfoTreeNode(it,this)\r\n        }\r\n    }\r\n\r\n\r\n    override fun getChildAt(childIndex: Int): TreeNode {\r\n        return childrenNodes[childIndex]\r\n    }\r\n\r\n    override fun getChildCount(): Int {\r\n        return childrenNodes.size\r\n    }\r\n\r\n    override fun getParent(): TreeNode? {\r\n        return null\r\n    }\r\n\r\n    override fun getIndex(node: TreeNode?): Int {\r\n        return childrenNodes.indexOfFirst {\r\n            it==node\r\n        }\r\n    }\r\n\r\n    override fun getAllowsChildren(): Boolean {\r\n        return true\r\n    }\r\n\r\n    override fun isLeaf(): Boolean {\r\n        return false\r\n    }\r\n\r\n    override fun children(): Enumeration&lt;out TreeNode&gt; {\r\n        return Collections.enumeration(childrenNodes)\r\n    }\r\n}\r\n\r\n```\r\n\r\nand here is my MainTreeContainer class\r\n```kotlin\r\nclass DebugBoardView : JPanel(GridLayout()) {\r\n    private val rootNode = VariableInfoRootNode()\r\n\r\n    private val treeModel = DefaultTreeModel(rootNode)\r\n    private val tree: Tree = Tree(treeModel).apply {\r\n        isRootVisible = false\r\n    }\r\n    \r\n    // I call this method somewhere else and I want \r\n    // Tree to update itself and does not lose selection and expansion state\r\n    fun onVariablesUpdate(list: List&lt;VariableInfo&gt;) {\r\n        rootNode.setVariableInfo(list)\r\n        treeModel.nodeStructureChanged(rootNode)\r\n    }\r\n\r\n    init {\r\n        add(tree)\r\n        //periodically update with same fake data!\r\n        javax.swing.Timer(5000) {\r\n            onVariablesUpdate(fakeInfo)\r\n        }.start()\r\n    }\r\n}\r\n\r\n```\r\n\r\nmy problem is when I call `DebugBoardView::onVariablesUpdate` my tree will updated but all of selected paths and expanded paths will be gone!\r\n\r\nHow can I fix that?\r\n\r\nIt&#39;s worth to mention that I am developing `Intelij Idea Plugin` so any solution for this platform could be useful too\r\n\r\n\r\n","title":"update JTree nodes with a full TreeNode hierarchy instead of update","body":"<p>I have a <code>JTree</code> that I want to update its node based on a list that I have receiving from remote (some of its data is already in Tree ,so they are some repeatations)</p>\n<p>Here is my data model that comes from remote</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class VariableInfo(\n    val name: String,\n    val type: String,\n    val value: String,\n    val children: List&lt;VariableInfo&gt;? = null,\n)\n</code></pre>\n<p>And here is &quot;VariableInfoTreeNode&quot;</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class VariableInfoTreeNode(\n    private val variableInfo: VariableInfo,\n    private val myParentNode: TreeNode?,\n) : TreeNode {\n    override fun toString(): String {\n        return &quot;${variableInfo.name}:${variableInfo.type} ${variableInfo.value}&quot;\n    }\n\n    override fun getChildAt(childIndex: Int): TreeNode {\n        return _children[childIndex]\n    }\n\n    override fun getChildCount(): Int {\n        return _children.size\n    }\n\n    override fun getParent(): TreeNode? {\n        return myParentNode\n    }\n\n    override fun getIndex(node: TreeNode?): Int {\n        return _children.indexOfFirst {\n            if (node is VariableInfoTreeNode) {\n                it == node\n            } else {\n                false\n            }\n        }\n    }\n\n    override fun getAllowsChildren(): Boolean {\n        return true\n    }\n\n    override fun isLeaf(): Boolean {\n        return false\n    }\n\n    private val _children by lazy {\n        variableInfo.children?.map {\n            VariableInfoTreeNode(it, this)\n        } ?: emptyList()\n    }\n\n    override fun children(): Enumeration&lt;out TreeNode&gt; {\n        return Collections.enumeration(_children)\n    }\n}\n</code></pre>\n<p>I also have a RootNode for containing <code>VariableInfoTreeNode</code> nodes</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class VariableInfoRootNode:TreeNode{\n    private var children= emptyList&lt;VariableInfo&gt;()\n    private lateinit var childrenNodes:List&lt;VariableInfoTreeNode&gt;\n    init {\n        refreshChildTree()\n    }\n    fun setVariableInfo(variableInfoList: List&lt;VariableInfo&gt;){\n        children=variableInfoList\n        refreshChildTree()\n    }\n\n    private fun refreshChildTree(){\n        childrenNodes=children.map {\n            VariableInfoTreeNode(it,this)\n        }\n    }\n\n\n    override fun getChildAt(childIndex: Int): TreeNode {\n        return childrenNodes[childIndex]\n    }\n\n    override fun getChildCount(): Int {\n        return childrenNodes.size\n    }\n\n    override fun getParent(): TreeNode? {\n        return null\n    }\n\n    override fun getIndex(node: TreeNode?): Int {\n        return childrenNodes.indexOfFirst {\n            it==node\n        }\n    }\n\n    override fun getAllowsChildren(): Boolean {\n        return true\n    }\n\n    override fun isLeaf(): Boolean {\n        return false\n    }\n\n    override fun children(): Enumeration&lt;out TreeNode&gt; {\n        return Collections.enumeration(childrenNodes)\n    }\n}\n\n</code></pre>\n<p>and here is my MainTreeContainer class</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class DebugBoardView : JPanel(GridLayout()) {\n    private val rootNode = VariableInfoRootNode()\n\n    private val treeModel = DefaultTreeModel(rootNode)\n    private val tree: Tree = Tree(treeModel).apply {\n        isRootVisible = false\n    }\n    \n    // I call this method somewhere else and I want \n    // Tree to update itself and does not lose selection and expansion state\n    fun onVariablesUpdate(list: List&lt;VariableInfo&gt;) {\n        rootNode.setVariableInfo(list)\n        treeModel.nodeStructureChanged(rootNode)\n    }\n\n    init {\n        add(tree)\n        //periodically update with same fake data!\n        javax.swing.Timer(5000) {\n            onVariablesUpdate(fakeInfo)\n        }.start()\n    }\n}\n\n</code></pre>\n<p>my problem is when I call <code>DebugBoardView::onVariablesUpdate</code> my tree will updated but all of selected paths and expanded paths will be gone!</p>\n<p>How can I fix that?</p>\n<p>It's worth to mention that I am developing <code>Intelij Idea Plugin</code> so any solution for this platform could be useful too</p>\n"},{"tags":["java","spring","spring-data","spring-retry"],"comments":[{"owner":{"account_id":232145,"reputation":1695,"user_id":496792,"accept_rate":74,"display_name":"pakman"},"score":0,"creation_date":1581126072,"post_id":49678581,"comment_id":106337583,"body_markdown":"A more interesting question, I think, is if @ Transacional will work with a @ Recover annotated method.... it seems it does not!","body":"A more interesting question, I think, is if @ Transacional will work with a @ Recover annotated method.... it seems it does not!"}],"answers":[{"comments":[{"owner":{"account_id":1355667,"reputation":1242,"user_id":1294116,"accept_rate":62,"display_name":"Cobra1117"},"score":1,"creation_date":1522959793,"post_id":49678800,"comment_id":86373607,"body_markdown":"That&#39;s roughly the code that I was testing with, but wouldn&#39;t the behavior be different if the two proxies are reversed? I thought that `Retryable` essentially creates a try/catch (i.e. &quot;around&quot; advice). So if the transaction is closed OUTSIDE that try/catch, the exception wouldn&#39;t be caught by the retry proxy. (Maybe I&#39;m just not understanding how Spring Retry works behind the scenes...)","body":"That&#39;s roughly the code that I was testing with, but wouldn&#39;t the behavior be different if the two proxies are reversed? I thought that <code>Retryable</code> essentially creates a try/catch (i.e. &quot;around&quot; advice). So if the transaction is closed OUTSIDE that try/catch, the exception wouldn&#39;t be caught by the retry proxy. (Maybe I&#39;m just not understanding how Spring Retry works behind the scenes...)"}],"tags":[],"owner":{"account_id":2076676,"reputation":12739,"user_id":1849837,"accept_rate":88,"display_name":"Bartosz Bilicki"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1522952525,"creation_date":1522951660,"answer_id":49678800,"question_id":49678581,"body_markdown":"If you want to test it independenty and be sure how it behaves then you may have @Transactional @Service, then another service that uses transaction one and just adds retries.\r\n\r\nIn this case, no matter how much you test you are relying on undocumented behaviour (how exactly annotations processing is ordered). This may change between minor releases, based on order in which independent Spring beans are created, etc etc. In short, you are asking for problems when you mix @Transactional and @Retry on same method.\r\n\r\nedit: There is similar answered question https://stackoverflow.com/a/45514794/1849837 with code\r\n\r\n    @Retryable(StaleStateException.class)\r\n    @Transactional\r\n    public void doSomethingWithFoo(Long fooId){\r\n        // read your entity again before changes!\r\n        Foo foo = fooRepository.findOne(fooId);\r\n        foo.setStatus(REJECTED)  // &lt;- sample foo modification\r\n    } // commit on method end\r\n\r\nIn that case it seems to be fine, because no matter what order is (retry then transaction, or transaction or retry) observable behaviour will be the same. \r\n\r\n","title":"Spring Retry with Transactional","body":"<p>If you want to test it independenty and be sure how it behaves then you may have @Transactional @Service, then another service that uses transaction one and just adds retries.</p>\n\n<p>In this case, no matter how much you test you are relying on undocumented behaviour (how exactly annotations processing is ordered). This may change between minor releases, based on order in which independent Spring beans are created, etc etc. In short, you are asking for problems when you mix @Transactional and @Retry on same method.</p>\n\n<p>edit: There is similar answered question <a href=\"https://stackoverflow.com/a/45514794/1849837\">https://stackoverflow.com/a/45514794/1849837</a> with code</p>\n\n<pre><code>@Retryable(StaleStateException.class)\n@Transactional\npublic void doSomethingWithFoo(Long fooId){\n    // read your entity again before changes!\n    Foo foo = fooRepository.findOne(fooId);\n    foo.setStatus(REJECTED)  // &lt;- sample foo modification\n} // commit on method end\n</code></pre>\n\n<p>In that case it seems to be fine, because no matter what order is (retry then transaction, or transaction or retry) observable behaviour will be the same. </p>\n"},{"comments":[{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":1,"creation_date":1678290455,"post_id":49681641,"comment_id":133504711,"body_markdown":"But, the advice for the `@Retryable` annotation has an order of `Ordered.LOWEST_PRECEDENCE` too! Looks like your conclusion (about safety of the usage) is incorrect. If both advices for `@Retryable` and `@Transactional` have the same order, the resulting order is undefined (i.e., can&#39;t be trusted). So, to make it reliable it is required to change the order of `@Retryable` advice. There are multiple ways to do this, but starting from `spring-retry` 2.0.1 (not released yet) there is new `order` parameter of `@EnableRetry` annotation.","body":"But, the advice for the <code>@Retryable</code> annotation has an order of <code>Ordered.LOWEST_PRECEDENCE</code> too! Looks like your conclusion (about safety of the usage) is incorrect. If both advices for <code>@Retryable</code> and <code>@Transactional</code> have the same order, the resulting order is undefined (i.e., can&#39;t be trusted). So, to make it reliable it is required to change the order of <code>@Retryable</code> advice. There are multiple ways to do this, but starting from <code>spring-retry</code> 2.0.1 (not released yet) there is new <code>order</code> parameter of <code>@EnableRetry</code> annotation."}],"tags":[],"owner":{"account_id":1355667,"reputation":1242,"user_id":1294116,"accept_rate":62,"display_name":"Cobra1117"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1645019707,"creation_date":1522962965,"answer_id":49681641,"question_id":49678581,"body_markdown":"Found the answer here:\r\nhttps://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/transaction.html#tx-decl-explained\r\nTable 2 indicates that the advice for the `Transactional` annotation has an order of `Ordered.LOWEST_PRECEDENCE`, which means that it is safe to combine `Retryable` with `Transactional` as long as you aren&#39;t overriding the order of the advice for either of those annotations. In other words, you can safely use this form:\r\n\r\n\r\n    @Retryable(StaleStateException.class)\r\n    @Transactional\r\n    public void performDatabaseActions() {\r\n        //Database updates here that may cause an optimistic locking failure \r\n        //when the transaction closes\r\n    }\r\n\r\n","title":"Spring Retry with Transactional","body":"<p>Found the answer here:\n<a href=\"https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/transaction.html#tx-decl-explained\" rel=\"noreferrer\">https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/transaction.html#tx-decl-explained</a>\nTable 2 indicates that the advice for the <code>Transactional</code> annotation has an order of <code>Ordered.LOWEST_PRECEDENCE</code>, which means that it is safe to combine <code>Retryable</code> with <code>Transactional</code> as long as you aren't overriding the order of the advice for either of those annotations. In other words, you can safely use this form:</p>\n<pre><code>@Retryable(StaleStateException.class)\n@Transactional\npublic void performDatabaseActions() {\n    //Database updates here that may cause an optimistic locking failure \n    //when the transaction closes\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2790923,"reputation":623,"user_id":2401173,"display_name":"oceansize"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1544108885,"creation_date":1544108885,"answer_id":53654301,"question_id":49678581,"body_markdown":"By default Spring Retry builds advice with the same LOWEST_PRECEDENCE order - take a look at the RetryConfiguration.\r\nHowever, there is a pretty simple way to override this order:\r\n\r\n    @Configuration\r\n    public class MyRetryConfiguration extends RetryConfiguration {\r\n       @Override\r\n       public int getOrder() {\r\n          return Ordered.HIGHEST_PRECEDENCE;\r\n       }\r\n    }\r\n\r\n\r\n\r\nMake sure to omit the @EnableRetry annotation to avoid default RetryConfiguration be taken into account.","title":"Spring Retry with Transactional","body":"<p>By default Spring Retry builds advice with the same LOWEST_PRECEDENCE order - take a look at the RetryConfiguration.\nHowever, there is a pretty simple way to override this order:</p>\n\n<pre><code>@Configuration\npublic class MyRetryConfiguration extends RetryConfiguration {\n   @Override\n   public int getOrder() {\n      return Ordered.HIGHEST_PRECEDENCE;\n   }\n}\n</code></pre>\n\n<p>Make sure to omit the @EnableRetry annotation to avoid default RetryConfiguration be taken into account.</p>\n"},{"tags":[],"owner":{"account_id":2195409,"reputation":2824,"user_id":2420718,"display_name":"Julian Espinel"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1595793947,"creation_date":1595793947,"answer_id":63105134,"question_id":49678581,"body_markdown":"In case you are using Spring Boot and you want to use `@Retryable`, this is what you need to do:\r\n\r\n1. Add the dependency to the pom:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n2. Enable retries in your Spring Boot application:\r\n```java\r\n@EnableRetry // &lt;-- Add This\r\n@SpringBootApplication\r\npublic class SomeApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SomeApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n3. Annotate your method with `@Retryable`:\r\n```java\r\n@Retryable(value = CannotAcquireLockException.class,\r\n        backoff = @Backoff(delay = 100, maxDelay = 300))\r\n@Transactional(isolation = Isolation.SERIALIZABLE)\r\npublic boolean someMethod(String someArg, long otherArg) {\r\n    ...\r\n}\r\n```\r\n\r\nYou can annotate the same method with both `@Retryable` and `@Transactional` and it will work as expected.","title":"Spring Retry with Transactional","body":"<p>In case you are using Spring Boot and you want to use <code>@Retryable</code>, this is what you need to do:</p>\n<ol>\n<li>Add the dependency to the pom:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Enable retries in your Spring Boot application:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableRetry // &lt;-- Add This\n@SpringBootApplication\npublic class SomeApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SomeApplication.class, args);\n    }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>Annotate your method with <code>@Retryable</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Retryable(value = CannotAcquireLockException.class,\n        backoff = @Backoff(delay = 100, maxDelay = 300))\n@Transactional(isolation = Isolation.SERIALIZABLE)\npublic boolean someMethod(String someArg, long otherArg) {\n    ...\n}\n</code></pre>\n<p>You can annotate the same method with both <code>@Retryable</code> and <code>@Transactional</code> and it will work as expected.</p>\n"},{"tags":[],"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678304033,"creation_date":1678295468,"answer_id":75676138,"question_id":49678581,"body_markdown":"At the moment (spring-retry version &lt; 2.0.1), by default the order is **undefined** as both advices for `@Retryable` and `@Transactional` annotations have `order = Ordered.LOWEST_PRECEDENCE`.\r\n\r\nIt happens that `RetryConfiguration` advice implements `IntroductionAdvisor` interface. There is also method `org.springframework.aop.support.AopUtils.findAdvisorsThatCanApply` that adds into list all found advisors, but it does it using 2 consecutive loops: at first it adds all advisors that implement `IntroductionAdvisor` interface and then all other avisors (this is why `RetryConfiguration` advisor always happen to be before `BeanFactoryTransactionAttributeSourceAdvisor` in this list). Then `org.springframework.core.annotation.AnnotationAwareOrderComparator.sort` method is called, but because both advisors have the same order, the method keeps the order of advisors in the list.\r\n\r\nSo, basically, the reason why `@Retryable` advisor is applied before `@Transactional` advisor at the moment is just &quot;by accident&quot;, or &quot;implementation detail&quot;. It could be changed any moment by changing implementation of `AopUtils.findAdvisorsThatCanApply` method or `AnnotationAwareOrderComparator` etc. So, it&#39;s better to not rely on this implementation detail in your code. :)\r\n\r\nStarting from `spring-retry` version `2.0.1` (not released yet) there is new `order` attribute of `@EnableRetry` annotation that is equal to `Ordered.LOWEST_PRECEDENCE - 1` by default to make sure `@Retryable` advice will always be ordered before `@Transactional` advice (when `@Transactional` advice order is default).\r\n\r\nThe `order` attribute could also be set to any other value, according to your needs, e.g. `Ordered.LOWEST_PRECEDENCE - 4`.\r\n\r\n    @EnableRetry(order = Ordered.LOWEST_PRECEDENCE - 4)\r\n    @Configuration\r\n    public class MyAppConfiguration {}\r\n\r\nWith this configuration (and starting from spring-retry 2.0.1 - by default) the order of applying advices will be as this:\r\n\r\n    @Retryable\r\n      @Transactional\r\n        Your method body\r\n      End of @Transactional\r\n    End of @Retryable\r\n\r\n","title":"Spring Retry with Transactional","body":"<p>At the moment (spring-retry version &lt; 2.0.1), by default the order is <strong>undefined</strong> as both advices for <code>@Retryable</code> and <code>@Transactional</code> annotations have <code>order = Ordered.LOWEST_PRECEDENCE</code>.</p>\n<p>It happens that <code>RetryConfiguration</code> advice implements <code>IntroductionAdvisor</code> interface. There is also method <code>org.springframework.aop.support.AopUtils.findAdvisorsThatCanApply</code> that adds into list all found advisors, but it does it using 2 consecutive loops: at first it adds all advisors that implement <code>IntroductionAdvisor</code> interface and then all other avisors (this is why <code>RetryConfiguration</code> advisor always happen to be before <code>BeanFactoryTransactionAttributeSourceAdvisor</code> in this list). Then <code>org.springframework.core.annotation.AnnotationAwareOrderComparator.sort</code> method is called, but because both advisors have the same order, the method keeps the order of advisors in the list.</p>\n<p>So, basically, the reason why <code>@Retryable</code> advisor is applied before <code>@Transactional</code> advisor at the moment is just &quot;by accident&quot;, or &quot;implementation detail&quot;. It could be changed any moment by changing implementation of <code>AopUtils.findAdvisorsThatCanApply</code> method or <code>AnnotationAwareOrderComparator</code> etc. So, it's better to not rely on this implementation detail in your code. :)</p>\n<p>Starting from <code>spring-retry</code> version <code>2.0.1</code> (not released yet) there is new <code>order</code> attribute of <code>@EnableRetry</code> annotation that is equal to <code>Ordered.LOWEST_PRECEDENCE - 1</code> by default to make sure <code>@Retryable</code> advice will always be ordered before <code>@Transactional</code> advice (when <code>@Transactional</code> advice order is default).</p>\n<p>The <code>order</code> attribute could also be set to any other value, according to your needs, e.g. <code>Ordered.LOWEST_PRECEDENCE - 4</code>.</p>\n<pre><code>@EnableRetry(order = Ordered.LOWEST_PRECEDENCE - 4)\n@Configuration\npublic class MyAppConfiguration {}\n</code></pre>\n<p>With this configuration (and starting from spring-retry 2.0.1 - by default) the order of applying advices will be as this:</p>\n<pre><code>@Retryable\n  @Transactional\n    Your method body\n  End of @Transactional\nEnd of @Retryable\n</code></pre>\n"}],"owner":{"account_id":1355667,"reputation":1242,"user_id":1294116,"accept_rate":62,"display_name":"Cobra1117"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26228,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":49681641,"answer_count":5,"score":37,"last_activity_date":1678304033,"creation_date":1522950823,"question_id":49678581,"body_markdown":"Is Spring Retry guaranteed to work with Spring&#39;s `@Transactional` annotation?\r\n\r\nSpecifically, I&#39;m trying to use `@Retryable` for optimistic locking. It seems like it would be dependent on the ordering of the AOP proxies that were created. For example, if the calls look like this:\r\n\r\nCalling code -&gt; Retry Proxy -&gt; Transaction Proxy -&gt; Actual DB Code\r\n\r\nThen it would work correctly, but if the proxies were structured like this:\r\n\r\nCalling code -&gt; Transaction Proxy -&gt; Retry Proxy -&gt; Actual DB Code\r\n\r\nThen the retry wouldn&#39;t work, because the act of closing the transaction is what throws the optmistic locking exception.\r\n\r\nIn testing, it appeared to generate the first case (retry, then transaction), but I couldn&#39;t tell if this was a guaranteed behavior or just lucky.\r\n","title":"Spring Retry with Transactional","body":"<p>Is Spring Retry guaranteed to work with Spring's <code>@Transactional</code> annotation?</p>\n\n<p>Specifically, I'm trying to use <code>@Retryable</code> for optimistic locking. It seems like it would be dependent on the ordering of the AOP proxies that were created. For example, if the calls look like this:</p>\n\n<p>Calling code -> Retry Proxy -> Transaction Proxy -> Actual DB Code</p>\n\n<p>Then it would work correctly, but if the proxies were structured like this:</p>\n\n<p>Calling code -> Transaction Proxy -> Retry Proxy -> Actual DB Code</p>\n\n<p>Then the retry wouldn't work, because the act of closing the transaction is what throws the optmistic locking exception.</p>\n\n<p>In testing, it appeared to generate the first case (retry, then transaction), but I couldn't tell if this was a guaranteed behavior or just lucky.</p>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653742822,"post_id":37374868,"comment_id":127927959,"body_markdown":"This [article](https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46) and this [repo](https://github.com/alexmamo/CloudStorageJetpackCompose/) will help for sure.","body":"This <a href=\"https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46\" rel=\"nofollow noreferrer\">article</a> and this <a href=\"https://github.com/alexmamo/CloudStorageJetpackCompose/\" rel=\"nofollow noreferrer\">repo</a> will help for sure."}],"answers":[{"comments":[{"owner":{"account_id":5495580,"reputation":533,"user_id":4366818,"display_name":"Jonathan Fager"},"score":1,"creation_date":1464072000,"post_id":37379251,"comment_id":62319735,"body_markdown":"Using the Async i seem too be getting an error with the .addSuccessListener (Cannot resolve method).\nFurthermore, when I in the onSuccess method use something like link = downloadUrl.toString() it says it needs to be final.\nAny further assistance would be awesome!","body":"Using the Async i seem too be getting an error with the .addSuccessListener (Cannot resolve method). Furthermore, when I in the onSuccess method use something like link = downloadUrl.toString() it says it needs to be final. Any further assistance would be awesome!"},{"owner":{"account_id":7115118,"reputation":1725,"user_id":5441705,"display_name":"Benjamin Wulfe"},"score":1,"creation_date":1464113290,"post_id":37379251,"comment_id":62347353,"body_markdown":"1. Sorry, that should have been addOnSuccessListener (typo)\n2. when you get an error &quot;needs to be final&quot; in java it means there is a closure issue.  See http://stackoverflow.com/questions/1299837/cannot-refer-to-a-non-final-variable-inside-an-inner-class-defined-in-a-differen  fore more information.  Basically, the short answer is, define the &quot;link&quot; variable as a class member and it should be fine.","body":"1. Sorry, that should have been addOnSuccessListener (typo) 2. when you get an error &quot;needs to be final&quot; in java it means there is a closure issue.  See <a href=\"http://stackoverflow.com/questions/1299837/cannot-refer-to-a-non-final-variable-inside-an-inner-class-defined-in-a-differen\" title=\"cannot refer to a non final variable inside an inner class defined in a differen\">stackoverflow.com/questions/1299837/&hellip;</a>  fore more information.  Basically, the short answer is, define the &quot;link&quot; variable as a class member and it should be fine."},{"owner":{"account_id":5495580,"reputation":533,"user_id":4366818,"display_name":"Jonathan Fager"},"score":1,"creation_date":1464127262,"post_id":37379251,"comment_id":62354426,"body_markdown":"Worked like a sharm after some edits! Thx for the help!","body":"Worked like a sharm after some edits! Thx for the help!"},{"owner":{"account_id":9274367,"reputation":780,"user_id":6887435,"display_name":"ingdc"},"score":0,"creation_date":1696760008,"post_id":37379251,"comment_id":136192257,"body_markdown":"On a side note, any &quot;Unguessable download url&quot;, is still a public url that bypasses any access rule and can be accessed by anyone who happens to avail it.","body":"On a side note, any &quot;Unguessable download url&quot;, is still a public url that bypasses any access rule and can be accessed by anyone who happens to avail it."}],"tags":[],"owner":{"account_id":7115118,"reputation":1725,"user_id":5441705,"display_name":"Benjamin Wulfe"},"comment_count":4,"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1567961159,"creation_date":1463948484,"answer_id":37379251,"question_id":37374868,"body_markdown":"Please refer to the [documentation for getting a download URL][1].\r\n\r\nWhen you call `getDownloadUrl()`, the call is asynchronous and you must subscribe on a success callback to obtain the results:\r\n\r\n    // Calls the server to securely obtain an unguessable download Url\r\n    private void getUrlAsync (String date){\r\n        // Points to the root reference\r\n        StorageReference storageRef = FirebaseStorage.getInstance().getReference();\r\n        StorageReference dateRef = storageRef.child(&quot;/&quot; + date+ &quot;.csv&quot;);\r\n        dateRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;()\r\n        {\r\n            @Override\r\n            public void onSuccess(Uri downloadUrl) \r\n            {                \r\n               //do something with downloadurl\r\n            } \r\n        });\r\n    }\r\n\r\nThis will return a public unguessable download url. If you just uploaded a file, this public url will be in the success callback of the upload (you do not need to call another async method after you&#39;ve uploaded).\r\n\r\nHowever, if all you want is a `String` representation of the reference, you can just call `.toString()`\r\n\r\n    // Returns a Uri of the form gs://bucket/path that can be used\r\n    // in future calls to getReferenceFromUrl to perform additional\r\n    // actions\r\n    private String niceRefLink (String date){\r\n        // Points to the root reference\r\n        StorageReference storageRef = FirebaseStorage.getInstance().getReference();\r\n        StorageReference dateRef = storageRef.child(&quot;/&quot; + date+ &quot;.csv&quot;);\r\n        return dateRef.toString();\r\n    }\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/storage/android/download-files#download_data_via_url","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>Please refer to the <a href=\"https://firebase.google.com/docs/storage/android/download-files#download_data_via_url\" rel=\"noreferrer\">documentation for getting a download URL</a>.</p>\n\n<p>When you call <code>getDownloadUrl()</code>, the call is asynchronous and you must subscribe on a success callback to obtain the results:</p>\n\n<pre><code>// Calls the server to securely obtain an unguessable download Url\nprivate void getUrlAsync (String date){\n    // Points to the root reference\n    StorageReference storageRef = FirebaseStorage.getInstance().getReference();\n    StorageReference dateRef = storageRef.child(\"/\" + date+ \".csv\");\n    dateRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;()\n    {\n        @Override\n        public void onSuccess(Uri downloadUrl) \n        {                \n           //do something with downloadurl\n        } \n    });\n}\n</code></pre>\n\n<p>This will return a public unguessable download url. If you just uploaded a file, this public url will be in the success callback of the upload (you do not need to call another async method after you've uploaded).</p>\n\n<p>However, if all you want is a <code>String</code> representation of the reference, you can just call <code>.toString()</code></p>\n\n<pre><code>// Returns a Uri of the form gs://bucket/path that can be used\n// in future calls to getReferenceFromUrl to perform additional\n// actions\nprivate String niceRefLink (String date){\n    // Points to the root reference\n    StorageReference storageRef = FirebaseStorage.getInstance().getReference();\n    StorageReference dateRef = storageRef.child(\"/\" + date+ \".csv\");\n    return dateRef.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9445775,"reputation":3008,"user_id":7024599,"display_name":"Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536935458,"creation_date":1536935458,"answer_id":52334062,"question_id":37374868,"body_markdown":"\r\n    StorageReference mStorageRef = FirebaseStorage.getInstance().getReference();\r\n\r\n    final   StorageReference fileupload=mStorageRef.child(&quot;Photos&quot;).child(fileUri.getLastPathSegment());\r\n    UploadTask uploadTask = fileupload.putFile(fileUri);\r\n    \r\n    Task&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n        @Override\r\n        public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n            if (!task.isSuccessful()) {\r\n                throw task.getException();\r\n            }\r\n            return ref.getDownloadUrl();\r\n    \r\n        }\r\n        }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    Uri downloadUri = task.getResult();\r\n                    Picasso.get().load(downloadUri.toString()).into(image);\r\n    \r\n                } else {\r\n                     // Handle failures\r\n                }\r\n           }\r\n    });","title":"How to get URL from Firebase Storage getDownloadURL","body":"<pre><code>StorageReference mStorageRef = FirebaseStorage.getInstance().getReference();\n\nfinal   StorageReference fileupload=mStorageRef.child(\"Photos\").child(fileUri.getLastPathSegment());\nUploadTask uploadTask = fileupload.putFile(fileUri);\n\nTask&lt;Uri&gt; urlTask = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n    @Override\n    public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n        if (!task.isSuccessful()) {\n            throw task.getException();\n        }\n        return ref.getDownloadUrl();\n\n    }\n    }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n            if (task.isSuccessful()) {\n                Uri downloadUri = task.getResult();\n                Picasso.get().load(downloadUri.toString()).into(image);\n\n            } else {\n                 // Handle failures\n            }\n       }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14491845,"reputation":170,"user_id":10467779,"display_name":"Subhojit Halder"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1581333596,"creation_date":1541635965,"answer_id":53199791,"question_id":37374868,"body_markdown":"&gt; //Firebase Storage - Easy to Working with uploads and downloads.\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable final Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == RC_SIGN_IN){\r\n            if(resultCode == RESULT_OK){\r\n                Toast.makeText(this,&quot;Signed in!&quot;, LENGTH_SHORT).show();\r\n            } else if(resultCode == RESULT_CANCELED){\r\n                Toast.makeText(this,&quot;Signed in canceled!&quot;, LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        } else if(requestCode == RC_PHOTO_PICKER &amp;&amp; resultCode == RESULT_OK){\r\n            \r\n            // HERE I CALLED THAT METHOD\r\n            uploadPhotoInFirebase(data);\r\n\r\n        }\r\n    }\r\n\r\n    private void uploadPhotoInFirebase(@Nullable Intent data) {\r\n        Uri selectedImageUri = data.getData();\r\n\r\n        // Get a reference to store file at chat_photos/&lt;FILENAME&gt;\r\n        final StorageReference photoRef = mChatPhotoStorageReference\r\n                        .child(selectedImageUri\r\n                        .getLastPathSegment());\r\n\r\n        // Upload file to Firebase Storage\r\n        photoRef.putFile(selectedImageUri)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n\r\n                        // Download file From Firebase Storage\r\n                        photoRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Uri downloadPhotoUrl) {\r\n                                //Now play with downloadPhotoUrl\r\n                                //Store data into Firebase Realtime Database\r\n                                FriendlyMessage friendlyMessage = new FriendlyMessage\r\n                                        (null, mUsername, downloadPhotoUrl.toString());\r\n                                mDatabaseReference.push().setValue(friendlyMessage);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n    }\r\n","title":"How to get URL from Firebase Storage getDownloadURL","body":"<blockquote>\n  <p>//Firebase Storage - Easy to Working with uploads and downloads.</p>\n</blockquote>\n\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable final Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if(requestCode == RC_SIGN_IN){\n        if(resultCode == RESULT_OK){\n            Toast.makeText(this,\"Signed in!\", LENGTH_SHORT).show();\n        } else if(resultCode == RESULT_CANCELED){\n            Toast.makeText(this,\"Signed in canceled!\", LENGTH_SHORT).show();\n            finish();\n        }\n    } else if(requestCode == RC_PHOTO_PICKER &amp;&amp; resultCode == RESULT_OK){\n\n        // HERE I CALLED THAT METHOD\n        uploadPhotoInFirebase(data);\n\n    }\n}\n\nprivate void uploadPhotoInFirebase(@Nullable Intent data) {\n    Uri selectedImageUri = data.getData();\n\n    // Get a reference to store file at chat_photos/&lt;FILENAME&gt;\n    final StorageReference photoRef = mChatPhotoStorageReference\n                    .child(selectedImageUri\n                    .getLastPathSegment());\n\n    // Upload file to Firebase Storage\n    photoRef.putFile(selectedImageUri)\n            .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n\n                    // Download file From Firebase Storage\n                    photoRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                        @Override\n                        public void onSuccess(Uri downloadPhotoUrl) {\n                            //Now play with downloadPhotoUrl\n                            //Store data into Firebase Realtime Database\n                            FriendlyMessage friendlyMessage = new FriendlyMessage\n                                    (null, mUsername, downloadPhotoUrl.toString());\n                            mDatabaseReference.push().setValue(friendlyMessage);\n                        }\n                    });\n                }\n            });\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17358339,"reputation":981,"user_id":12575211,"display_name":"Shubham Garg"},"score":0,"creation_date":1634215228,"post_id":54696675,"comment_id":122968771,"body_markdown":"can you use this URL to show the Image to the user using the glide library?","body":"can you use this URL to show the Image to the user using the glide library?"}],"tags":[],"owner":{"account_id":12170600,"reputation":849,"user_id":8885420,"display_name":"Shrawan Thakur"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1550168457,"creation_date":1550167958,"answer_id":54696675,"question_id":37374868,"body_markdown":"**here i am uploading and getting the image url at the same time...**\r\n\r\n               final StorageReference profileImageRef = FirebaseStorage.getInstance().getReference(&quot;profilepics/&quot; + System.currentTimeMillis() + &quot;.jpg&quot;);\r\n        \r\n                if (uriProfileImage != null) {\r\n             \r\n                profileImageRef.putFile(uriProfileImage)\r\n                            .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                                @Override\r\n                                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                                   // profileImageUrl taskSnapshot.getDownloadUrl().toString(); //this is depreciated\r\n                                    \r\n                              //this is the new way to do it\r\n                       profileImageRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                                           String profileImageUrl=task.getResult().toString();\r\n                                            Log.i(&quot;URL&quot;,profileImageUrl);\r\n                                        }\r\n                                    });\r\n                                }\r\n                            })\r\n                            .addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    progressBar.setVisibility(View.GONE);\r\n                                    Toast.makeText(ProfileActivity.this, &quot;aaa &quot;+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                }","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p><strong>here i am uploading and getting the image url at the same time...</strong></p>\n\n<pre><code>           final StorageReference profileImageRef = FirebaseStorage.getInstance().getReference(\"profilepics/\" + System.currentTimeMillis() + \".jpg\");\n\n            if (uriProfileImage != null) {\n\n            profileImageRef.putFile(uriProfileImage)\n                        .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                            @Override\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                               // profileImageUrl taskSnapshot.getDownloadUrl().toString(); //this is depreciated\n\n                          //this is the new way to do it\n                   profileImageRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                                    @Override\n                                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                                       String profileImageUrl=task.getResult().toString();\n                                        Log.i(\"URL\",profileImageUrl);\n                                    }\n                                });\n                            }\n                        })\n                        .addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                progressBar.setVisibility(View.GONE);\n                                Toast.makeText(ProfileActivity.this, \"aaa \"+e.getMessage(), Toast.LENGTH_SHORT).show();\n                            }\n                        });\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911774,"reputation":539,"user_id":7011829,"display_name":"Vikash Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559143802,"creation_date":1559143802,"answer_id":56364026,"question_id":37374868,"body_markdown":"    Clean And Simple\r\n    private void putImageInStorage(StorageReference storageReference, Uri uri, final String key) {\r\n            storageReference.putFile(uri).addOnCompleteListener(MainActivity.this,\r\n                    new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                task.getResult().getMetadata().getReference().getDownloadUrl()\r\n                                        .addOnCompleteListener(MainActivity.this, \r\n                                                new OnCompleteListener&lt;Uri&gt;() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                                        if (task.isSuccessful()) {\r\n                                            FriendlyMessage friendlyMessage =\r\n                                                    new FriendlyMessage(null, mUsername, mPhotoUrl,\r\n                                                            task.getResult().toString());\r\n                                            mFirebaseDatabaseReference.child(MESSAGES_CHILD).child(key)\r\n                                                    .setValue(friendlyMessage);\r\n                                        }\r\n                                    }\r\n                                });\r\n                            } else {\r\n                                Log.w(TAG, &quot;Image upload task was not successful.&quot;,\r\n                                        task.getException());\r\n                            }\r\n                        }\r\n                    });\r\n        }","title":"How to get URL from Firebase Storage getDownloadURL","body":"<pre><code>Clean And Simple\nprivate void putImageInStorage(StorageReference storageReference, Uri uri, final String key) {\n        storageReference.putFile(uri).addOnCompleteListener(MainActivity.this,\n                new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\n                        if (task.isSuccessful()) {\n                            task.getResult().getMetadata().getReference().getDownloadUrl()\n                                    .addOnCompleteListener(MainActivity.this, \n                                            new OnCompleteListener&lt;Uri&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                                    if (task.isSuccessful()) {\n                                        FriendlyMessage friendlyMessage =\n                                                new FriendlyMessage(null, mUsername, mPhotoUrl,\n                                                        task.getResult().toString());\n                                        mFirebaseDatabaseReference.child(MESSAGES_CHILD).child(key)\n                                                .setValue(friendlyMessage);\n                                    }\n                                }\n                            });\n                        } else {\n                            Log.w(TAG, \"Image upload task was not successful.\",\n                                    task.getException());\n                        }\n                    }\n                });\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16296359,"reputation":11,"user_id":11768495,"display_name":"DeveLion"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1562828230,"creation_date":1562826807,"answer_id":56982917,"question_id":37374868,"body_markdown":"The getDownloadUrl method was removed in firebase versions greater than 11.0.5\r\nI recommend using version 11.0.2 that still uses this method. \r\n\r\n","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>The getDownloadUrl method was removed in firebase versions greater than 11.0.5\nI recommend using version 11.0.2 that still uses this method. </p>\n"},{"tags":[],"owner":{"account_id":13428791,"reputation":51,"user_id":9689202,"display_name":"TwistenTiger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564056056,"creation_date":1564056056,"answer_id":57201506,"question_id":37374868,"body_markdown":"For me, I did my code in Kotlin and I had the same error &quot;getDownload()&quot;. Here are both the dependencies that worked for me and the Kotlin code.\r\n\r\n   `implementation &#39;com.google.firebase:firebase-storage:18.1.0&#39;` firebase storage dependencies\r\n\r\nThis what I added and it worked for me in Kotlin. Storage() would come before Download()\r\n\r\n    profileImageUri = taskSnapshot.storage.downloadUrl.toString()\r\n","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>For me, I did my code in Kotlin and I had the same error \"getDownload()\". Here are both the dependencies that worked for me and the Kotlin code.</p>\n\n<p><code>implementation 'com.google.firebase:firebase-storage:18.1.0'</code> firebase storage dependencies</p>\n\n<p>This what I added and it worked for me in Kotlin. Storage() would come before Download()</p>\n\n<pre><code>profileImageUri = taskSnapshot.storage.downloadUrl.toString()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1880979,"reputation":885,"user_id":1701191,"accept_rate":29,"display_name":"Pranjal Choladhara"},"score":0,"creation_date":1601765922,"post_id":57419190,"comment_id":113508508,"body_markdown":"Output is something like this: `com.google.android.gms.tasks.zzu@ed93411`","body":"Output is something like this: <code>com.google.android.gms.tasks.zzu@ed93411</code>"}],"tags":[],"owner":{"account_id":13374715,"reputation":11,"user_id":9651898,"display_name":"epiphmo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565291073,"creation_date":1565291073,"answer_id":57419190,"question_id":37374868,"body_markdown":"The getDownloadUrl method has now been depreciated in the new firebase update. Instead use the following method.\r\n***taskSnapshot.getMetadata().getReference().getDownloadUrl().toString()***","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>The getDownloadUrl method has now been depreciated in the new firebase update. Instead use the following method.\n<strong><em>taskSnapshot.getMetadata().getReference().getDownloadUrl().toString()</em></strong></p>\n"},{"tags":[],"owner":{"account_id":12601487,"reputation":304,"user_id":9164064,"display_name":"chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573656614,"creation_date":1573656614,"answer_id":58839692,"question_id":37374868,"body_markdown":"change the received **URI** to **URL**\r\n\r\n```\r\n val urlTask = uploadTask.continueWith { task -&gt;\r\n            if (!task.isSuccessful) {\r\n                task.exception?.let {\r\n                    throw it\r\n                }\r\n            }\r\n\r\n            \r\n            spcaeRef.downloadUrl\r\n        }.addOnCompleteListener { task -&gt;\r\n            if (task.isSuccessful) {\r\n                \r\n                val downloadUri = task.result\r\n                \r\n                //URL\r\n                val url = downloadUri!!.result\r\n                \r\n            } else {\r\n                //handle failure here\r\n            }\r\n        }\r\n\r\n```","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>change the received <strong>URI</strong> to <strong>URL</strong></p>\n\n<pre><code> val urlTask = uploadTask.continueWith { task -&gt;\n            if (!task.isSuccessful) {\n                task.exception?.let {\n                    throw it\n                }\n            }\n\n\n            spcaeRef.downloadUrl\n        }.addOnCompleteListener { task -&gt;\n            if (task.isSuccessful) {\n\n                val downloadUri = task.result\n\n                //URL\n                val url = downloadUri!!.result\n\n            } else {\n                //handle failure here\n            }\n        }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9045334,"reputation":11,"user_id":6737900,"display_name":"Hamza Khliefat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577102965,"creation_date":1577102965,"answer_id":59455132,"question_id":37374868,"body_markdown":"You can Upload images to firestore and get it&#39;s download URL as below function:\r\n\r\n```\r\n  Future&lt;String&gt; uploadPic(File _image) async {\r\n\r\n    String fileName = basename(_image.path);\r\n    StorageReference firebaseStorageRef = FirebaseStorage.instance.ref().child(fileName);\r\n    StorageUploadTask uploadTask = firebaseStorageRef.putFile(_image);\r\n    var downloadURL = await(await uploadTask.onComplete).ref.getDownloadURL();\r\n    var url =downloadURL.toString();\r\n\r\n   return url;\r\n\r\n  }\r\n```","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>You can Upload images to firestore and get it's download URL as below function:</p>\n\n<pre><code>  Future&lt;String&gt; uploadPic(File _image) async {\n\n    String fileName = basename(_image.path);\n    StorageReference firebaseStorageRef = FirebaseStorage.instance.ref().child(fileName);\n    StorageUploadTask uploadTask = firebaseStorageRef.putFile(_image);\n    var downloadURL = await(await uploadTask.onComplete).ref.getDownloadURL();\n    var url =downloadURL.toString();\n\n   return url;\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21158437,"reputation":1,"user_id":15557225,"display_name":"Bharat Kumawat"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617624212,"creation_date":1617624212,"answer_id":66952747,"question_id":37374868,"body_markdown":"     private void getDownloadUrl(){\r\n            FirebaseStorage storage     = FirebaseStorage.getInstance();\r\n            StorageReference storageRef = storage.getReference();\r\n            StorageReference imageRef   = storageRef.child(&quot;image.jpg&quot;);\r\n            imageRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                    String profileimageurl =task.getResult().toString();\r\n                    Log.e(&quot;URL&quot;,profileimageurl);\r\n                    ShowPathTextView.setText(profileimageurl);\r\n                }\r\n            });\r\n        }","title":"How to get URL from Firebase Storage getDownloadURL","body":"<pre><code> private void getDownloadUrl(){\n        FirebaseStorage storage     = FirebaseStorage.getInstance();\n        StorageReference storageRef = storage.getReference();\n        StorageReference imageRef   = storageRef.child(&quot;image.jpg&quot;);\n        imageRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                String profileimageurl =task.getResult().toString();\n                Log.e(&quot;URL&quot;,profileimageurl);\n                ShowPathTextView.setText(profileimageurl);\n            }\n        });\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11126922,"reputation":2368,"user_id":8168140,"display_name":"gsm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622533576,"creation_date":1622533576,"answer_id":67784726,"question_id":37374868,"body_markdown":"**Also you can do as follows In latest Firebase_storage version nullsafe,**\r\n\r\n    //Import\r\n    import &#39;package:firebase_storage/firebase_storage.dart&#39; as firebase_storage;\r\n    \r\n    Future&lt;void&gt; _downloadLink(firebase_storage.Reference ref) async {\r\n        //Getting link make sure call await to make sure this function returned a value\r\n        final link = await ref.getDownloadURL();\r\n    \r\n        await Clipboard.setData(ClipboardData(\r\n          text: link,\r\n        ));\r\n    \r\n        ScaffoldMessenger.of(context).showSnackBar(\r\n          const SnackBar(\r\n            content: Text(\r\n              &#39;Success!\\n Copied download URL to Clipboard!&#39;,\r\n            ),\r\n          ),\r\n        );\r\n      }","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p><strong>Also you can do as follows In latest Firebase_storage version nullsafe,</strong></p>\n<pre><code>//Import\nimport 'package:firebase_storage/firebase_storage.dart' as firebase_storage;\n\nFuture&lt;void&gt; _downloadLink(firebase_storage.Reference ref) async {\n    //Getting link make sure call await to make sure this function returned a value\n    final link = await ref.getDownloadURL();\n\n    await Clipboard.setData(ClipboardData(\n      text: link,\n    ));\n\n    ScaffoldMessenger.of(context).showSnackBar(\n      const SnackBar(\n        content: Text(\n          'Success!\\n Copied download URL to Clipboard!',\n        ),\n      ),\n    );\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11944134,"reputation":49,"user_id":8888720,"display_name":"Aman Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634553924,"creation_date":1634553924,"answer_id":69614705,"question_id":37374868,"body_markdown":"    implementation &#39;com.google.firebase:firebase-storage:19.2.0&#39;\r\nRecently getting url from upload task wasn&#39;t working so I tried this and worked for me on above dependency. \r\nSo inside where you use firebase upload method use this.\r\nfilepath is the reference of Firebase Stoarage.\r\n    \r\n    filePath.putFile(imageUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n        @Override\r\n        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n            filePath.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                @Override\r\n                public void onSuccess(Uri uri) {\r\n                    Log.d(TAG, &quot;onSuccess: uri= &quot;+ uri.toString());\r\n                }\r\n            });\r\n        }\r\n    });","title":"How to get URL from Firebase Storage getDownloadURL","body":"<pre><code>implementation 'com.google.firebase:firebase-storage:19.2.0'\n</code></pre>\n<p>Recently getting url from upload task wasn't working so I tried this and worked for me on above dependency.\nSo inside where you use firebase upload method use this.\nfilepath is the reference of Firebase Stoarage.</p>\n<pre><code>filePath.putFile(imageUri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n    @Override\n    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n        filePath.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n            @Override\n            public void onSuccess(Uri uri) {\n                Log.d(TAG, &quot;onSuccess: uri= &quot;+ uri.toString());\n            }\n        });\n    }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678756495,"post_id":75677451,"comment_id":133591814,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75677451/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27441342,"reputation":1,"user_id":20936185,"display_name":"DEL"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678304031,"creation_date":1678304031,"answer_id":75677451,"question_id":37374868,"body_markdown":"firebase.storage().ref(`/users/${userUID}${path}/${newPostKey}`)\r\n                    .getDownloadURL()\r\n                    .then(url =&gt; object.imageUrl = url)","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>firebase.storage().ref(<code>/users/${userUID}${path}/${newPostKey}</code>)\n.getDownloadURL()\n.then(url =&gt; object.imageUrl = url)</p>\n"}],"owner":{"account_id":5495580,"reputation":533,"user_id":4366818,"display_name":"Jonathan Fager"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121362,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":37379251,"answer_count":14,"score":43,"last_activity_date":1678304031,"creation_date":1463922968,"question_id":37374868,"body_markdown":"I&#39;m trying to get the &quot;long term persistent download link&quot; to files in our Firebase storage bucket.\r\nI&#39;ve changed the permissions of this to\r\n \r\n    service firebase.storage {\r\n      match /b/project-xxx.appspot.com/o {\r\n        match /{allPaths=**} {\r\n          allow read, write;\r\n        }\r\n      }\r\n    }\r\n\r\nAnd my javacode looks like this:\r\n\r\n    private String niceLink (String date){\r\n        String link;\r\n        // Points to the root reference\r\n        StorageReference storageRef = FirebaseStorage.getInstance().getReference();\r\n        StorageReference dateRef = storageRef.child(&quot;/&quot; + date+ &quot;.csv&quot;);\r\n        link = dateRef.getDownloadUrl().toString();\r\n        return link;\r\n    }\r\n\r\n\r\nWhen I run this I get the uri link that looks something like\r\n*com.google.android.gms.tasks.zzh@xxx*\r\n\r\n**Question 1.** Can I from this get the download link similar to: *https://firebasestorage.googleapis.com/v0/b/project-xxxx.appspot.com/o/20-5-2016.csv?alt=media&amp;token=b5d45a7f-3ab7-4f9b-b661-3a2187adxxxx*\r\n\r\nWhen trying to get the link above I changed the last row before my return, like this:\r\n\r\n    private String niceLink (String date){\r\n        String link;\r\n        // Points to the root reference\r\n        StorageReference storageRef = FirebaseStorage.getInstance().getReference();\r\n        StorageReference dateRef = storageRef.child(&quot;/&quot; + date+ &quot;.csv&quot;);\r\n        link = dateRef.getDownloadUrl().getResult().toString();\r\n        return link;\r\n    }\r\n\r\nBut when doing this i get a 403 error, and the app crashing. The consol tells me this is bc user is not logged in /auth.\r\n&quot;Please sign in before asking for token&quot;\r\n\r\n\r\n**Question 2.** How do I fix this?","title":"How to get URL from Firebase Storage getDownloadURL","body":"<p>I'm trying to get the \"long term persistent download link\" to files in our Firebase storage bucket.\nI've changed the permissions of this to</p>\n\n<pre><code>service firebase.storage {\n  match /b/project-xxx.appspot.com/o {\n    match /{allPaths=**} {\n      allow read, write;\n    }\n  }\n}\n</code></pre>\n\n<p>And my javacode looks like this:</p>\n\n<pre><code>private String niceLink (String date){\n    String link;\n    // Points to the root reference\n    StorageReference storageRef = FirebaseStorage.getInstance().getReference();\n    StorageReference dateRef = storageRef.child(\"/\" + date+ \".csv\");\n    link = dateRef.getDownloadUrl().toString();\n    return link;\n}\n</code></pre>\n\n<p>When I run this I get the uri link that looks something like\n<em>com.google.android.gms.tasks.zzh@xxx</em></p>\n\n<p><strong>Question 1.</strong> Can I from this get the download link similar to: <em><a href=\"https://firebasestorage.googleapis.com/v0/b/project-xxxx.appspot.com/o/20-5-2016.csv?alt=media&amp;token=b5d45a7f-3ab7-4f9b-b661-3a2187adxxxx\" rel=\"noreferrer\">https://firebasestorage.googleapis.com/v0/b/project-xxxx.appspot.com/o/20-5-2016.csv?alt=media&amp;token=b5d45a7f-3ab7-4f9b-b661-3a2187adxxxx</a></em></p>\n\n<p>When trying to get the link above I changed the last row before my return, like this:</p>\n\n<pre><code>private String niceLink (String date){\n    String link;\n    // Points to the root reference\n    StorageReference storageRef = FirebaseStorage.getInstance().getReference();\n    StorageReference dateRef = storageRef.child(\"/\" + date+ \".csv\");\n    link = dateRef.getDownloadUrl().getResult().toString();\n    return link;\n}\n</code></pre>\n\n<p>But when doing this i get a 403 error, and the app crashing. The consol tells me this is bc user is not logged in /auth.\n\"Please sign in before asking for token\"</p>\n\n<p><strong>Question 2.</strong> How do I fix this?</p>\n"},{"tags":["java","spring-boot","maven"],"owner":{"account_id":9016679,"reputation":13,"user_id":6719272,"display_name":"Marcell Barbacena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678303527,"creation_date":1678303527,"question_id":75677380,"body_markdown":"I need to add a dependecy JAR (with JNI classes) and the DLLs libraries used in a Spring Boot 3.1.0-M1 rest server project.\r\n\r\nI manage to put then in the local maven repository.\r\n\r\nCode compiles and run. But a error at runtime points that the dependency is not it java.library.path:\r\n\r\n`java.lang.UnsatisfiedLinkError: no &lt;lib&gt; in java.library.path`\r\n\r\nMy pom is:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;custom&lt;/groupId&gt;\r\n        &lt;artifactId&gt;libjni&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;custom&lt;/groupId&gt;\r\n        &lt;artifactId&gt;libdll&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;type&gt;dll&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI don&#39;t know if this is the right approach. I could have used a system scope, but that shows a warning for deprecated and also not managed to make it work.\r\n\r\nI do not use `System.LoadLibrary`.","title":"JNI and DLL dependency in Spring Boot 3.1","body":"<p>I need to add a dependecy JAR (with JNI classes) and the DLLs libraries used in a Spring Boot 3.1.0-M1 rest server project.</p>\n<p>I manage to put then in the local maven repository.</p>\n<p>Code compiles and run. But a error at runtime points that the dependency is not it java.library.path:</p>\n<p><code>java.lang.UnsatisfiedLinkError: no &lt;lib&gt; in java.library.path</code></p>\n<p>My pom is:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;custom&lt;/groupId&gt;\n    &lt;artifactId&gt;libjni&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;custom&lt;/groupId&gt;\n    &lt;artifactId&gt;libdll&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;type&gt;dll&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I don't know if this is the right approach. I could have used a system scope, but that shows a warning for deprecated and also not managed to make it work.</p>\n<p>I do not use <code>System.LoadLibrary</code>.</p>\n"},{"tags":["java","spring-boot","intellij-idea","graphql","netflix-dgs"],"answers":[{"comments":[{"owner":{"account_id":11215114,"reputation":2336,"user_id":8228007,"display_name":"Rich Rajah"},"score":0,"creation_date":1699399520,"post_id":75677355,"comment_id":136526264,"body_markdown":"worked! thanks!","body":"worked! thanks!"}],"tags":[],"owner":{"account_id":6116642,"reputation":21,"user_id":4771437,"display_name":"mark-henry"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678303355,"creation_date":1678303355,"answer_id":75677355,"question_id":72784016,"body_markdown":"I had this issue in IntelliJ. Installing the Kotlin plugin [1] fixed it.\r\n\r\n[1] https://plugins.jetbrains.com/plugin/6954-kotlin","title":"Missing import in graphqldgs springboot application","body":"<p>I had this issue in IntelliJ. Installing the Kotlin plugin [1] fixed it.</p>\n<p>[1] <a href=\"https://plugins.jetbrains.com/plugin/6954-kotlin\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/6954-kotlin</a></p>\n"}],"owner":{"account_id":23217247,"reputation":67,"user_id":17310004,"display_name":"DanDevO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678303355,"creation_date":1656408805,"question_id":72784016,"body_markdown":"I have installed and setup graphqldgs on a spring boot project following the guide here: https://netflix.github.io/dgs/getting-started/\r\n\r\nWhen i try to write a test case - following the guide here: https://netflix.github.io/dgs/query-execution-testing/ - I am unable to import one of the values, as shown below\r\n\r\n`import com.netflix.graphql.dgs.autoconfig.DgsAutoConfiguration`\r\n\r\nI cannot locate DgsAutoConfiguration. The only thing i have is an asterix (*) after dot notation below:\r\n\r\n`import com.netflix.graphql.dgs.autoconfig.`\r\n\r\nI have these graphqldgs pom dependencies below:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-dgs-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-dgs-platform-dependencies&lt;/artifactId&gt;\r\n      &lt;!-- The DGS BOM/platform dependency. This is the only place you set version of DGS --&gt;\r\n      &lt;version&gt;4.9.16&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAny help is appreciated. Thanks!","title":"Missing import in graphqldgs springboot application","body":"<p>I have installed and setup graphqldgs on a spring boot project following the guide here: <a href=\"https://netflix.github.io/dgs/getting-started/\" rel=\"nofollow noreferrer\">https://netflix.github.io/dgs/getting-started/</a></p>\n<p>When i try to write a test case - following the guide here: <a href=\"https://netflix.github.io/dgs/query-execution-testing/\" rel=\"nofollow noreferrer\">https://netflix.github.io/dgs/query-execution-testing/</a> - I am unable to import one of the values, as shown below</p>\n<p><code>import com.netflix.graphql.dgs.autoconfig.DgsAutoConfiguration</code></p>\n<p>I cannot locate DgsAutoConfiguration. The only thing i have is an asterix (*) after dot notation below:</p>\n<p><code>import com.netflix.graphql.dgs.autoconfig.</code></p>\n<p>I have these graphqldgs pom dependencies below:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\n  &lt;artifactId&gt;graphql-dgs-spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.netflix.graphql.dgs&lt;/groupId&gt;\n  &lt;artifactId&gt;graphql-dgs-platform-dependencies&lt;/artifactId&gt;\n  &lt;!-- The DGS BOM/platform dependency. This is the only place you set version of DGS --&gt;\n  &lt;version&gt;4.9.16&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Any help is appreciated. Thanks!</p>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1678303553,"post_id":75677282,"comment_id":133508374,"body_markdown":"It created an array of iterators per vertex. each iterator for the vertex came from `G.adj(v).iterator()`, which I&#39;d assume to be the adjacency list for that vertex. The `Stack` is available vertices (starting with a single vertex), wherein while you are iterating the `Stack` for available vertices, you are adding the neighbors of the vertices to the stack to be considered next. It uses `marked` to track if a vertex was &quot;visited&quot; yet or not, and the stack to determine if its neighbors are exhausted. Since it considers the next available neighbor furthest in the chain first, you have DFS.","body":"It created an array of iterators per vertex. each iterator for the vertex came from <code>G.adj(v).iterator()</code>, which I&#39;d assume to be the adjacency list for that vertex. The <code>Stack</code> is available vertices (starting with a single vertex), wherein while you are iterating the <code>Stack</code> for available vertices, you are adding the neighbors of the vertices to the stack to be considered next. It uses <code>marked</code> to track if a vertex was &quot;visited&quot; yet or not, and the stack to determine if its neighbors are exhausted. Since it considers the next available neighbor furthest in the chain first, you have DFS."}],"owner":{"account_id":16286108,"reputation":1,"user_id":16783510,"display_name":"Makabaka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679060196,"answer_count":0,"score":0,"last_activity_date":1678302839,"creation_date":1678302839,"question_id":75677282,"body_markdown":"I am reading code of [implementing depth-first search in an undirected graph without using recursion ](https://algs4.cs.princeton.edu/41graph/NonrecursiveDFS.java) and am confused of how the iteration goes in the code. `hasNext()` and `next()` are used on one array for one iteration and then the code switches to iterating on some other array with `next()`. \r\n\r\nDoes the code know where the iteration is when it goes back and how?\r\n\r\n```\r\npublic class NonrecursiveDFS {\r\n    private boolean[] marked;  // marked[v] = is there an s-v path?\r\n    /**\r\n     * Computes the vertices connected to the source vertex {@code s} in the graph {@code G}.\r\n     * @param G the graph\r\n     * @param s the source vertex\r\n     * @throws IllegalArgumentException unless {@code 0 &lt;= s &lt; V}\r\n     */\r\n    public NonrecursiveDFS(Graph G, int s) {\r\n        marked = new boolean[G.V()];\r\n\r\n        validateVertex(s);\r\n\r\n        // to be able to iterate over each adjacency list, keeping track of which\r\n        // vertex in each adjacency list needs to be explored next\r\n        Iterator&lt;Integer&gt;[] adj = (Iterator&lt;Integer&gt;[]) new Iterator[G.V()];\r\n        for (int v = 0; v &lt; G.V(); v++)\r\n            adj[v] = G.adj(v).iterator();\r\n\r\n        // depth-first search using an explicit stack\r\n        Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\r\n        marked[s] = true;\r\n        stack.push(s);\r\n        while (!stack.isEmpty()) {\r\n            int v = stack.peek();\r\n            if (adj[v].hasNext()) {\r\n                int w = adj[v].next();\r\n                // StdOut.printf(&quot;check %d\\n&quot;, w);\r\n                if (!marked[w]) {\r\n                    // discovered vertex w for the first time\r\n                    marked[w] = true;\r\n                    // edgeTo[w] = v;\r\n                    stack.push(w);\r\n                    // StdOut.printf(&quot;dfs(%d)\\n&quot;, w);\r\n                }\r\n            }\r\n            else {\r\n                // StdOut.printf(&quot;%d done\\n&quot;, v);\r\n                stack.pop();\r\n            }\r\n        }\r\n    }\r\n```","title":"Does next() and hasNext() have &quot;memory&quot; in java","body":"<p>I am reading code of <a href=\"https://algs4.cs.princeton.edu/41graph/NonrecursiveDFS.java\" rel=\"nofollow noreferrer\">implementing depth-first search in an undirected graph without using recursion </a> and am confused of how the iteration goes in the code. <code>hasNext()</code> and <code>next()</code> are used on one array for one iteration and then the code switches to iterating on some other array with <code>next()</code>.</p>\n<p>Does the code know where the iteration is when it goes back and how?</p>\n<pre><code>public class NonrecursiveDFS {\n    private boolean[] marked;  // marked[v] = is there an s-v path?\n    /**\n     * Computes the vertices connected to the source vertex {@code s} in the graph {@code G}.\n     * @param G the graph\n     * @param s the source vertex\n     * @throws IllegalArgumentException unless {@code 0 &lt;= s &lt; V}\n     */\n    public NonrecursiveDFS(Graph G, int s) {\n        marked = new boolean[G.V()];\n\n        validateVertex(s);\n\n        // to be able to iterate over each adjacency list, keeping track of which\n        // vertex in each adjacency list needs to be explored next\n        Iterator&lt;Integer&gt;[] adj = (Iterator&lt;Integer&gt;[]) new Iterator[G.V()];\n        for (int v = 0; v &lt; G.V(); v++)\n            adj[v] = G.adj(v).iterator();\n\n        // depth-first search using an explicit stack\n        Stack&lt;Integer&gt; stack = new Stack&lt;Integer&gt;();\n        marked[s] = true;\n        stack.push(s);\n        while (!stack.isEmpty()) {\n            int v = stack.peek();\n            if (adj[v].hasNext()) {\n                int w = adj[v].next();\n                // StdOut.printf(&quot;check %d\\n&quot;, w);\n                if (!marked[w]) {\n                    // discovered vertex w for the first time\n                    marked[w] = true;\n                    // edgeTo[w] = v;\n                    stack.push(w);\n                    // StdOut.printf(&quot;dfs(%d)\\n&quot;, w);\n                }\n            }\n            else {\n                // StdOut.printf(&quot;%d done\\n&quot;, v);\n                stack.pop();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":1854272,"reputation":2117,"user_id":1680196,"display_name":"kasoban"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675512279,"creation_date":1675512279,"answer_id":75344964,"question_id":72609542,"body_markdown":"The fact that the current documentation still mentions Axiom as a solution even while it appears to be removed seems to be an error and is quite irritating indeed. In December [a blog post about updated samples][1] was published that mentions that support for Axiom was removed from spring-ws and mentions some details as to why:\r\n\r\n&gt; Axiom doesn’t support Jakarta EE 9+\r\n&gt;\r\n&gt; Spring Web Services 4.0 had to, unfortunately, drop its support for Apache Axiom. Its most recently version (1.4) still taps the old version of Java EE Activation, not the Jakarta EE version.\r\n\r\nWould be curious to hear whether you found a solution for this situation, or which one you chose. Using the `AxiomSoapMessageFactory` was a convenient way for me to utilise a StAX based processing with spring-ws that I am now sort of missing.\r\n\r\n  [1]: https://spring.io/blog/2022/12/02/spring-ws-samples-upgraded-for-spring-boot-3-0","title":"Missing Axiom support in spring-ws 4.0.0-M1","body":"<p>The fact that the current documentation still mentions Axiom as a solution even while it appears to be removed seems to be an error and is quite irritating indeed. In December <a href=\"https://spring.io/blog/2022/12/02/spring-ws-samples-upgraded-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">a blog post about updated samples</a> was published that mentions that support for Axiom was removed from spring-ws and mentions some details as to why:</p>\n<blockquote>\n<p>Axiom doesn’t support Jakarta EE 9+</p>\n<p>Spring Web Services 4.0 had to, unfortunately, drop its support for Apache Axiom. Its most recently version (1.4) still taps the old version of Java EE Activation, not the Jakarta EE version.</p>\n</blockquote>\n<p>Would be curious to hear whether you found a solution for this situation, or which one you chose. Using the <code>AxiomSoapMessageFactory</code> was a convenient way for me to utilise a StAX based processing with spring-ws that I am now sort of missing.</p>\n"}],"owner":{"account_id":8303170,"reputation":1,"user_id":6241190,"display_name":"pauld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678302136,"creation_date":1655157881,"question_id":72609542,"body_markdown":"Is Axiom support planned for spring-ws 4.x?  I tried upgrading my spring-ws 2.2.4 project to spring-ws 4.0.0-M1 (since 3.x is at End Of Support) and noticed that org.springframework.ws.soap.axiom package is missing from spring-ws-core module.  Reference Documentation still mentions AxiomSoapMessageFactory.\r\nThanks!","title":"Missing Axiom support in spring-ws 4.0.0-M1","body":"<p>Is Axiom support planned for spring-ws 4.x?  I tried upgrading my spring-ws 2.2.4 project to spring-ws 4.0.0-M1 (since 3.x is at End Of Support) and noticed that org.springframework.ws.soap.axiom package is missing from spring-ws-core module.  Reference Documentation still mentions AxiomSoapMessageFactory.\nThanks!</p>\n"},{"tags":["java","multithreading","sockets","ssl","connection-pooling"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1440131034,"post_id":32092733,"comment_id":52155369,"body_markdown":"There is no connection pooling of any kind here. The code you&#39;ve posted creates one connection and then exits. It doesn&#39;t have any need for connection pooling. It&#39;s entirely unclear what you&#39;re asking here, or whether you know what connection pooling really is, or why you think you need it.","body":"There is no connection pooling of any kind here. The code you&#39;ve posted creates one connection and then exits. It doesn&#39;t have any need for connection pooling. It&#39;s entirely unclear what you&#39;re asking here, or whether you know what connection pooling really is, or why you think you need it."}],"answers":[{"comments":[{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":0,"creation_date":1439981980,"post_id":32093528,"comment_id":52081685,"body_markdown":"What I have read and understood, connection pooling, in simple words is keeping some already created (probably persistent) connections ahead of time and give it to the client who requests it. So, why would it be implemented on client (and not server)","body":"What I have read and understood, connection pooling, in simple words is keeping some already created (probably persistent) connections ahead of time and give it to the client who requests it. So, why would it be implemented on client (and not server)"},{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":0,"creation_date":1439982166,"post_id":32093528,"comment_id":52081840,"body_markdown":"And even if it is right, can you please refer me to some documentation/ link etc. so that I can understand and implement it for my application","body":"And even if it is right, can you please refer me to some documentation/ link etc. so that I can understand and implement it for my application"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1439982484,"post_id":32093528,"comment_id":52082063,"body_markdown":"Your question doesn&#39;t make sense. A server can&#39;t give a connection to a client. Only a client can do that, from its own connection pool. I&#39;ve already given you quite enough information for a server-side implementation.","body":"Your question doesn&#39;t make sense. A server can&#39;t give a connection to a client. Only a client can do that, from its own connection pool. I&#39;ve already given you quite enough information for a server-side implementation."},{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":0,"creation_date":1439987536,"post_id":32093528,"comment_id":52085603,"body_markdown":"Ok. I get it, ie. why pool be implemented on the client. Can you also refer as to how can I improve my current implementation to connection pooling.","body":"Ok. I get it, ie. why pool be implemented on the client. Can you also refer as to how can I improve my current implementation to connection pooling."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1440131135,"post_id":32093528,"comment_id":52155389,"body_markdown":"Why? The code you&#39;ve posted creates one connection and then exits. It doesn&#39;t have any need for connection pooling. It&#39;s entirely unclear what you&#39;re asking here, or whether you know what connection pooling really is, or why you think you need it.","body":"Why? The code you&#39;ve posted creates one connection and then exits. It doesn&#39;t have any need for connection pooling. It&#39;s entirely unclear what you&#39;re asking here, or whether you know what connection pooling really is, or why you think you need it."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439981735,"creation_date":1439981735,"answer_id":32093528,"question_id":32092733,"body_markdown":"Connection pooling is implenented at the client.\r\n\r\nAt the server end, all you can do is accept connections and not terminate them until closed by the client, or until some read timeout occurs trying to read the second or subsequent request.","title":"SSL socket Connection Pooling in JAVA","body":"<p>Connection pooling is implenented at the client.</p>\n\n<p>At the server end, all you can do is accept connections and not terminate them until closed by the client, or until some read timeout occurs trying to read the second or subsequent request.</p>\n"},{"comments":[{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":0,"creation_date":1439989295,"post_id":32095902,"comment_id":52086960,"body_markdown":"Ok. My ultimate goal for this is to implement an application which is going to serve a lot of requests. I&#39;m only getting started with this, so if you could answer a few doubts.","body":"Ok. My ultimate goal for this is to implement an application which is going to serve a lot of requests. I&#39;m only getting started with this, so if you could answer a few doubts."},{"owner":{"account_id":4196468,"reputation":3437,"user_id":3437758,"accept_rate":83,"display_name":"Niklas P"},"score":0,"creation_date":1439989537,"post_id":32095902,"comment_id":52087139,"body_markdown":"If you&#39;d use an application server like tomcat for your application then the server would do the *thread-stuff*. If you want to implement your own small server than I would indeed create a thread for each socket - that means for each client. Of course it depends on what you do with your server but with actual standard hardware you can serve &gt;&gt;**a lot**&lt;&lt; of clients!! ;-)","body":"If you&#39;d use an application server like tomcat for your application then the server would do the <i>thread-stuff</i>. If you want to implement your own small server than I would indeed create a thread for each socket - that means for each client. Of course it depends on what you do with your server but with actual standard hardware you can serve &gt;&gt;**a lot**&lt;&lt; of clients!! ;-)"},{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":0,"creation_date":1439989948,"post_id":32095902,"comment_id":52087442,"body_markdown":"Thanks. It helped. So, do you mean I won&#39;t need to implement threading on my part?","body":"Thanks. It helped. So, do you mean I won&#39;t need to implement threading on my part?"},{"owner":{"account_id":4196468,"reputation":3437,"user_id":3437758,"accept_rate":83,"display_name":"Niklas P"},"score":0,"creation_date":1439990296,"post_id":32095902,"comment_id":52087713,"body_markdown":"It depends! Do you want to use/build a javaee server or an application server or do you want to build your own socket-handling-server on your own? If the last thing then you&#39;ve to work with Threads!","body":"It depends! Do you want to use/build a javaee server or an application server or do you want to build your own socket-handling-server on your own? If the last thing then you&#39;ve to work with Threads!"},{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":0,"creation_date":1439990985,"post_id":32095902,"comment_id":52088299,"body_markdown":"Ok. One last thing I suppose. Here is the situation- internal processing for a client request needs some processing with another server, with which I need to make a secure connection (this other server is not a db). Now, can I use connection pooling in this scenario. If yes, how can it be implemented (links/ref) and if not, what (similar)can be used?","body":"Ok. One last thing I suppose. Here is the situation- internal processing for a client request needs some processing with another server, with which I need to make a secure connection (this other server is not a db). Now, can I use connection pooling in this scenario. If yes, how can it be implemented (links/ref) and if not, what (similar)can be used?"},{"owner":{"account_id":4196468,"reputation":3437,"user_id":3437758,"accept_rate":83,"display_name":"Niklas P"},"score":0,"creation_date":1439991248,"post_id":32095902,"comment_id":52088483,"body_markdown":"No, this scenario is the same as the connection between the client and the server. The client sends the request to the server and the server does the ServerSockt-handling. In your scenario the server with the &quot;internal processing for a client&quot; is the client and the another server is the server. Connection Pooling is used within one server not for the communication between servers.","body":"No, this scenario is the same as the connection between the client and the server. The client sends the request to the server and the server does the ServerSockt-handling. In your scenario the server with the &quot;internal processing for a client&quot; is the client and the another server is the server. Connection Pooling is used within one server not for the communication between servers."},{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":0,"creation_date":1439991301,"post_id":32095902,"comment_id":52088520,"body_markdown":"Ok. So, any alternate for this?","body":"Ok. So, any alternate for this?"},{"owner":{"account_id":4196468,"reputation":3437,"user_id":3437758,"accept_rate":83,"display_name":"Niklas P"},"score":0,"creation_date":1439991429,"post_id":32095902,"comment_id":52088649,"body_markdown":"I&#39;ve no idea about the size / performance / load of your system. Normally I would assume that you don&#39;t need any alternate. If so, than you need more of *another server* and a *load balancer* in between of them.","body":"I&#39;ve no idea about the size / performance / load of your system. Normally I would assume that you don&#39;t need any alternate. If so, than you need more of <i>another server</i> and a <i>load balancer</i> in between of them."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1440131198,"post_id":32095902,"comment_id":52155401,"body_markdown":"Connection pooling is also used by clients, e.g. Web browers. When used in a server as you describe, the server is acting as a client to the database.","body":"Connection pooling is also used by clients, e.g. Web browers. When used in a server as you describe, the server is acting as a client to the database."}],"tags":[],"owner":{"account_id":4196468,"reputation":3437,"user_id":3437758,"accept_rate":83,"display_name":"Niklas P"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439988307,"creation_date":1439988307,"answer_id":32095902,"question_id":32092733,"body_markdown":"Your server is able to connect to multiple clients. In your code you&#39;ve initialized a `SSLServerSocket` who&#39;s task it is to wait for additional clients - each of them will get it&#39;s own `SSLSocket`.\r\n\r\nIf your server isn&#39;t able to handle all clients, you&#39;d use something like a **loadbalancer** which spreads the incoming requests to different server.\r\n\r\n**Connection Pooling** is typically used inside a server - e.g. for talking to a database.\r\n\r\nDoes this answer your question? If not, is your intention to spread the requests to more than one server or to get to know what connection pooling is for?","title":"SSL socket Connection Pooling in JAVA","body":"<p>Your server is able to connect to multiple clients. In your code you've initialized a <code>SSLServerSocket</code> who's task it is to wait for additional clients - each of them will get it's own <code>SSLSocket</code>.</p>\n\n<p>If your server isn't able to handle all clients, you'd use something like a <strong>loadbalancer</strong> which spreads the incoming requests to different server.</p>\n\n<p><strong>Connection Pooling</strong> is typically used inside a server - e.g. for talking to a database.</p>\n\n<p>Does this answer your question? If not, is your intention to spread the requests to more than one server or to get to know what connection pooling is for?</p>\n"},{"tags":[],"owner":{"account_id":1627501,"reputation":43,"user_id":1502707,"display_name":"Karthik_Rajendiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678301672,"creation_date":1678301672,"answer_id":75677127,"question_id":32092733,"body_markdown":"With Respect to Connection Pooling , As per your statement, i guess, you want to do in Client Side\r\n **Server Side** : THis can be implemented by using MultiThreading \r\n - A Long Running Thread,which waits on accept() method on Socket/Socketchannel\r\n\r\nBelow is a code Snippet\r\nServer side\r\n\r\n         ExecutorService threadPool = Executors.newFixedThreadPool(threadCount);\r\n            while(!isStopped()){\r\n        \t\t\ttry {\r\n        ServerSocketChannel socChnl1 = ServerSocketChannel.open();\r\n        \t\tsocChnl1.socket().bind(new InetSocketAddress(port));\r\n        \t\t\t\tSocketChannel obj=socChnl1 .accept();\r\n        \t\t\t\t\r\n        \t\t\t\tthreadPool.execute(new WorkerThread(obj);\r\n        \t\t\t\t\r\n        \t\t\t\t\r\n        \t\t\t} catch (IOException e) {\r\n        \t\t\t\te.printStackTrace();\r\n        \t\t\t}\r\n\r\n\r\nFor Client Side\r\n\r\n - Option 1 - to use Apache commons Client Pool \r\n - [sample code][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/AdamGamboa/socket-pool","title":"SSL socket Connection Pooling in JAVA","body":"<p>With Respect to Connection Pooling , As per your statement, i guess, you want to do in Client Side\n<strong>Server Side</strong> : THis can be implemented by using MultiThreading</p>\n<ul>\n<li>A Long Running Thread,which waits on accept() method on Socket/Socketchannel</li>\n</ul>\n<p>Below is a code Snippet\nServer side</p>\n<pre><code>     ExecutorService threadPool = Executors.newFixedThreadPool(threadCount);\n        while(!isStopped()){\n                try {\n    ServerSocketChannel socChnl1 = ServerSocketChannel.open();\n            socChnl1.socket().bind(new InetSocketAddress(port));\n                    SocketChannel obj=socChnl1 .accept();\n                    \n                    threadPool.execute(new WorkerThread(obj);\n                    \n                    \n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n</code></pre>\n<p>For Client Side</p>\n<ul>\n<li>Option 1 - to use Apache commons Client Pool</li>\n<li><a href=\"https://github.com/AdamGamboa/socket-pool\" rel=\"nofollow noreferrer\">sample code</a></li>\n</ul>\n"}],"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2095,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":32095902,"answer_count":3,"score":0,"last_activity_date":1678301672,"creation_date":1439979554,"question_id":32092733,"body_markdown":"I am creating a SSL server-client. Till now, what I have implemented is a simple server which can talk to a single client (no threading, that is). Now, I want to scale this application for multiple clients and I want to use connection pooling for that. Now, do I need to use threading for that or is there inbuilt library that I can use. Any examples, link etc would work.\r\n\r\nPS: I have tried googling but have not found a suitable link.\r\n\r\nBelow is my code if required:\r\n\r\nServer:\r\n\r\n\timport java.io.BufferedReader;\r\n\timport java.io.BufferedWriter;\r\n\timport java.io.FileInputStream;\r\n\timport java.io.FileNotFoundException;\r\n\timport java.io.IOException;\r\n\timport java.io.InputStreamReader;\r\n\timport java.io.OutputStreamWriter;\r\n\timport java.security.KeyManagementException;\r\n\timport java.security.KeyStore;\r\n\timport java.security.KeyStoreException;\r\n\timport java.security.NoSuchAlgorithmException;\r\n\timport java.security.UnrecoverableKeyException;\r\n\timport java.security.cert.CertificateException;\r\n\r\n\timport javax.net.ssl.*;\r\n\r\n\tpublic class SSLServer {\r\n\t\r\n\t\tpublic static void main(String args[]){\r\n\t\t\tString ksname = &quot;file.jks&quot;;\r\n\t\t\tchar kspass[] = &quot;pass&quot;.toCharArray();\r\n\t\t\tchar ctpass[] = &quot;pass&quot;.toCharArray();\r\n\t\t\r\n\t\t\ttry {\r\n\t\t\t\tKeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\t\t\tks.load(new FileInputStream(ksname), kspass);\r\n\t\t\t\tKeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n\t\t\t\tkmf.init(ks, ctpass);\r\n\t\t\t\tSSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\t\t\tsc.init(kmf.getKeyManagers(), null, null);\r\n\t\t\t\tSSLServerSocketFactory ssf = sc.getServerSocketFactory();\r\n\t\t\t\tSSLServerSocket s = (SSLServerSocket) ssf.createServerSocket(4321);\r\n\t\t\t\t//printServerSocketInfo(s);\r\n\t\t\t\tSSLSocket c = (SSLSocket) s.accept();\r\n\t\t\t\t//printSocketInfo(c);\r\n\t\t\t\r\n\t\t\t\tBufferedReader r = new BufferedReader(new InputStreamReader(c.getInputStream()));\r\n\t\t\t\tBufferedWriter w = new BufferedWriter(new OutputStreamWriter(c.getOutputStream()));\r\n\t\t\t\r\n\t\t\t\tw.write(&quot;Server starts\\n&quot;);\r\n\t\t\t\r\n\t\t\t\tw.flush();\r\n\t\t\t\tString k = null;\r\n\t\t\t\twhile((k = r.readLine()) != null){\r\n\t\t\t\t\t//do something\r\n\t\t\t\t\tif(k.equals(&quot;end&quot;))\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tw.write(resolve(k));\r\n\t\t\t\t\tw.newLine();\r\n\t\t\t\t\tw.flush();\r\n\t\t\t\t}\r\n\t\t\t\tw.close();\r\n\t\t\t\tr.close();\r\n\t\t\t\tc.close();\r\n\t\t\t\ts.close();\r\n\t\t\t\r\n\t\t\t} catch (KeyStoreException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (CertificateException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (UnrecoverableKeyException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (KeyManagementException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\t\r\n\t\t}\r\n\t\r\n\t\tprivate static void printSocketInfo(SSLSocket s) {\r\n\t\t\t  System.out.println(&quot;Socket class: &quot;+s.getClass());\r\n\t\t\t  System.out.println(&quot;   Remote address = &quot;\r\n\t\t\t     +s.getInetAddress().toString());\r\n\t\t\t  System.out.println(&quot;   Remote port = &quot;+s.getPort());\r\n\t\t\t  System.out.println(&quot;   Local socket address = &quot;\r\n\t\t\t     +s.getLocalSocketAddress().toString());\r\n\t\t\t  System.out.println(&quot;   Local address = &quot;\r\n\t\t\t     +s.getLocalAddress().toString());\r\n\t\t\t  System.out.println(&quot;   Local port = &quot;+s.getLocalPort());\r\n\t\t\t  System.out.println(&quot;   Need client authentication = &quot;\r\n\t\t\t     +s.getNeedClientAuth());\r\n\t\t\t  SSLSession ss = s.getSession();\r\n\t\t\t  System.out.println(&quot;   Cipher suite = &quot;+ss.getCipherSuite());\r\n\t\t\t  System.out.println(&quot;   Protocol = &quot;+ss.getProtocol());\r\n\t\t}\r\n\t\r\n\t\tprivate static void printServerSocketInfo(SSLServerSocket s) {\r\n\t\t\t  System.out.println(&quot;Server socket class: &quot;+s.getClass());\r\n\t\t\t  System.out.println(&quot;   Socket address = &quot;\r\n\t\t\t     +s.getInetAddress().toString());\r\n\t\t\t  System.out.println(&quot;   Socket port = &quot;\r\n\t\t\t     +s.getLocalPort());\r\n\t\t\t  System.out.println(&quot;   Need client authentication = &quot;\r\n\t\t\t     +s.getNeedClientAuth());\r\n\t\t\t  System.out.println(&quot;   Want client authentication = &quot;\r\n\t\t\t     +s.getWantClientAuth());\r\n\t\t\t  System.out.println(&quot;   Use client mode = &quot;\r\n\t\t\t     +s.getUseClientMode());\r\n\t\t}\r\n\t\r\n\t\tprivate static String resolve(String p){\r\n\t\t\t//some implementation\r\n            return &quot;something&quot;;\r\n\t\t}\r\n\t\r\n\t    }\r\n\r\nClient:\r\n\r\n\timport java.io.BufferedReader;\r\n\timport java.io.BufferedWriter;\r\n\timport java.io.IOException;\r\n\timport java.io.InputStreamReader;\r\n\timport java.io.OutputStreamWriter;\r\n\timport java.net.UnknownHostException;\r\n\r\n\timport javax.net.ssl.SSLSession;\r\n\timport javax.net.ssl.SSLSocket;\r\n\timport javax.net.ssl.SSLSocketFactory;\r\n\r\n\tpublic class SSLClient {\r\n\t\r\n\t\tpublic static void main(String[] args){\r\n\t\t\r\n\t\t\tSSLSocketFactory f = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n\t\t\r\n\t\t\ttry {\r\n\t\t\t\tSSLSocket c = (SSLSocket) f.createSocket(&quot;localhost&quot;, 4321);\r\n\t\t\t\tprintSocketInfo(c);\r\n\t\t\t\tc.startHandshake();\r\n\t\t\t\tBufferedWriter w = new BufferedWriter(new OutputStreamWriter(c.getOutputStream()));\r\n\t\t\t\tBufferedReader r = new BufferedReader(new InputStreamReader(c.getInputStream()));\r\n\t\t\t\r\n\t\t\t\t//to input hex code message\r\n\t\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\t\tString k = null;\r\n\t\t\t\twhile((k = r.readLine()) != null){\r\n\t\t\t\t\t//send message to server\r\n\t\t\t\t\tSystem.out.println(k);\r\n\t\t\t\t\tSystem.out.flush();\r\n\t\t\t\t\tk = in.readLine();\r\n\t\t\t\t\tif(k.equals(&quot;.&quot;))\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tSystem.out.println(k);\r\n\t\t\t\t\tSystem.out.flush();\r\n\t\t\t\t\tw.write(k);\r\n\t\t\t\t\tw.newLine();\r\n\t\t\t\t\tw.flush();\r\n\t\t\t\t}\r\n\t\t\t\tw.close();\r\n\t\t\t\tr.close();\r\n\t\t\t\tc.close();\r\n\t\t\t} catch (UnknownHostException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}","title":"SSL socket Connection Pooling in JAVA","body":"<p>I am creating a SSL server-client. Till now, what I have implemented is a simple server which can talk to a single client (no threading, that is). Now, I want to scale this application for multiple clients and I want to use connection pooling for that. Now, do I need to use threading for that or is there inbuilt library that I can use. Any examples, link etc would work.</p>\n\n<p>PS: I have tried googling but have not found a suitable link.</p>\n\n<p>Below is my code if required:</p>\n\n<p>Server:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.security.KeyManagementException;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.UnrecoverableKeyException;\nimport java.security.cert.CertificateException;\n\nimport javax.net.ssl.*;\n\npublic class SSLServer {\n\n    public static void main(String args[]){\n        String ksname = \"file.jks\";\n        char kspass[] = \"pass\".toCharArray();\n        char ctpass[] = \"pass\".toCharArray();\n\n        try {\n            KeyStore ks = KeyStore.getInstance(\"JKS\");\n            ks.load(new FileInputStream(ksname), kspass);\n            KeyManagerFactory kmf = KeyManagerFactory.getInstance(\"SunX509\");\n            kmf.init(ks, ctpass);\n            SSLContext sc = SSLContext.getInstance(\"TLS\");\n            sc.init(kmf.getKeyManagers(), null, null);\n            SSLServerSocketFactory ssf = sc.getServerSocketFactory();\n            SSLServerSocket s = (SSLServerSocket) ssf.createServerSocket(4321);\n            //printServerSocketInfo(s);\n            SSLSocket c = (SSLSocket) s.accept();\n            //printSocketInfo(c);\n\n            BufferedReader r = new BufferedReader(new InputStreamReader(c.getInputStream()));\n            BufferedWriter w = new BufferedWriter(new OutputStreamWriter(c.getOutputStream()));\n\n            w.write(\"Server starts\\n\");\n\n            w.flush();\n            String k = null;\n            while((k = r.readLine()) != null){\n                //do something\n                if(k.equals(\"end\"))\n                    break;\n                w.write(resolve(k));\n                w.newLine();\n                w.flush();\n            }\n            w.close();\n            r.close();\n            c.close();\n            s.close();\n\n        } catch (KeyStoreException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (NoSuchAlgorithmException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (CertificateException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (UnrecoverableKeyException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (KeyManagementException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }   \n    }\n\n    private static void printSocketInfo(SSLSocket s) {\n          System.out.println(\"Socket class: \"+s.getClass());\n          System.out.println(\"   Remote address = \"\n             +s.getInetAddress().toString());\n          System.out.println(\"   Remote port = \"+s.getPort());\n          System.out.println(\"   Local socket address = \"\n             +s.getLocalSocketAddress().toString());\n          System.out.println(\"   Local address = \"\n             +s.getLocalAddress().toString());\n          System.out.println(\"   Local port = \"+s.getLocalPort());\n          System.out.println(\"   Need client authentication = \"\n             +s.getNeedClientAuth());\n          SSLSession ss = s.getSession();\n          System.out.println(\"   Cipher suite = \"+ss.getCipherSuite());\n          System.out.println(\"   Protocol = \"+ss.getProtocol());\n    }\n\n    private static void printServerSocketInfo(SSLServerSocket s) {\n          System.out.println(\"Server socket class: \"+s.getClass());\n          System.out.println(\"   Socket address = \"\n             +s.getInetAddress().toString());\n          System.out.println(\"   Socket port = \"\n             +s.getLocalPort());\n          System.out.println(\"   Need client authentication = \"\n             +s.getNeedClientAuth());\n          System.out.println(\"   Want client authentication = \"\n             +s.getWantClientAuth());\n          System.out.println(\"   Use client mode = \"\n             +s.getUseClientMode());\n    }\n\n    private static String resolve(String p){\n        //some implementation\n        return \"something\";\n    }\n\n    }\n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.UnknownHostException;\n\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.SSLSocket;\nimport javax.net.ssl.SSLSocketFactory;\n\npublic class SSLClient {\n\n    public static void main(String[] args){\n\n        SSLSocketFactory f = (SSLSocketFactory) SSLSocketFactory.getDefault();\n\n        try {\n            SSLSocket c = (SSLSocket) f.createSocket(\"localhost\", 4321);\n            printSocketInfo(c);\n            c.startHandshake();\n            BufferedWriter w = new BufferedWriter(new OutputStreamWriter(c.getOutputStream()));\n            BufferedReader r = new BufferedReader(new InputStreamReader(c.getInputStream()));\n\n            //to input hex code message\n            BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n            String k = null;\n            while((k = r.readLine()) != null){\n                //send message to server\n                System.out.println(k);\n                System.out.flush();\n                k = in.readLine();\n                if(k.equals(\".\"))\n                    break;\n                System.out.println(k);\n                System.out.flush();\n                w.write(k);\n                w.newLine();\n                w.flush();\n            }\n            w.close();\n            r.close();\n            c.close();\n        } catch (UnknownHostException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1499674163,"post_id":45006727,"comment_id":76987041,"body_markdown":"You could use a `map` operation to map them to `Math.max(0, n)` and `Math.min(0, n)` respectively.","body":"You could use a <code>map</code> operation to map them to <code>Math.max(0, n)</code> and <code>Math.min(0, n)</code> respectively."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1499674218,"post_id":45006727,"comment_id":76987075,"body_markdown":"It would take two iterations with streams. You&#39;re better off with a single old-fashioned loop.","body":"It would take two iterations with streams. You&#39;re better off with a single old-fashioned loop."},{"owner":{"account_id":7759936,"reputation":727,"user_id":5873039,"accept_rate":91,"display_name":"drJava"},"score":0,"creation_date":1499674291,"post_id":45006727,"comment_id":76987123,"body_markdown":"@jsheeran I have also thought of Map but the problem in my case that this operation will be executed in a for loop and the number of iteration will be decided on runtime. I prefer less operation.","body":"@jsheeran I have also thought of Map but the problem in my case that this operation will be executed in a for loop and the number of iteration will be decided on runtime. I prefer less operation."}],"answers":[{"comments":[{"owner":{"account_id":7759936,"reputation":727,"user_id":5873039,"accept_rate":91,"display_name":"drJava"},"score":0,"creation_date":1499674672,"post_id":45006922,"comment_id":76987351,"body_markdown":"Is it not possible to edit the original list of the stream while creating a new list?","body":"Is it not possible to edit the original list of the stream while creating a new list?"},{"owner":{"account_id":4947636,"reputation":1073,"user_id":3982592,"display_name":"Shyam Baitmangalkar"},"score":0,"creation_date":1499674699,"post_id":45006922,"comment_id":76987368,"body_markdown":"Very appropriate answer!!","body":"Very appropriate answer!!"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1499674750,"post_id":45006922,"comment_id":76987401,"body_markdown":"You cannot modify a List while iterate over it, you&#39;ll a ConcurrentModificationException because then it won&#39;t be able to know on what he have to iterate if the list if changing","body":"You cannot modify a List while iterate over it, you&#39;ll a ConcurrentModificationException because then it won&#39;t be able to know on what he have to iterate if the list if changing"},{"owner":{"account_id":7759936,"reputation":727,"user_id":5873039,"accept_rate":91,"display_name":"drJava"},"score":0,"creation_date":1499674873,"post_id":45006922,"comment_id":76987484,"body_markdown":"@azro but in this operation, the size of the list will not be changed if it is editted based on this condition. Only the value of the element will be changed. Will it throw still ConcurrentModificationException?","body":"@azro but in this operation, the size of the list will not be changed if it is editted based on this condition. Only the value of the element will be changed. Will it throw still ConcurrentModificationException?"},{"owner":{"account_id":10299696,"reputation":2315,"user_id":7598776,"display_name":"Robin Topper"},"score":0,"creation_date":1499674902,"post_id":45006922,"comment_id":76987497,"body_markdown":"@drJava As azro said above, that is a bad idea. Bit more info [here](https://stackoverflow.com/questions/30778017/modifying-objects-within-stream-in-java8-while-iterating)","body":"@drJava As azro said above, that is a bad idea. Bit more info <a href=\"https://stackoverflow.com/questions/30778017/modifying-objects-within-stream-in-java8-while-iterating\">here</a>"},{"owner":{"account_id":7759936,"reputation":727,"user_id":5873039,"accept_rate":91,"display_name":"drJava"},"score":0,"creation_date":1499675086,"post_id":45006922,"comment_id":76987619,"body_markdown":"@RobinTopper The answer of Pshemo means that it is possible to do it if the size of the list will not be changed. https://stackoverflow.com/a/30778163/5873039","body":"@RobinTopper The answer of Pshemo means that it is possible to do it if the size of the list will not be changed. <a href=\"https://stackoverflow.com/a/30778163/5873039\">stackoverflow.com/a/30778163/5873039</a>"},{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":0,"creation_date":1499676383,"post_id":45006922,"comment_id":76988433,"body_markdown":"I really like the first solution, very elegant.","body":"I really like the first solution, very elegant."},{"owner":{"account_id":10299696,"reputation":2315,"user_id":7598776,"display_name":"Robin Topper"},"score":0,"creation_date":1499676424,"post_id":45006922,"comment_id":76988459,"body_markdown":"@Holger Any reason why `forEach` would be bettern than `count`? Just needed a terminal operation to evaluate the stream","body":"@Holger Any reason why <code>forEach</code> would be bettern than <code>count</code>? Just needed a terminal operation to evaluate the stream"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1499676459,"post_id":45006922,"comment_id":76988487,"body_markdown":"@RobinTopper I think `count()` skips `map()` operations in Java 9. EDIT: Just noticed Holger said exactly that.","body":"@RobinTopper I think <code>count()</code> skips <code>map()</code> operations in Java 9. EDIT: Just noticed Holger said exactly that."},{"owner":{"account_id":10299696,"reputation":2315,"user_id":7598776,"display_name":"Robin Topper"},"score":0,"creation_date":1499676705,"post_id":45006922,"comment_id":76988640,"body_markdown":"@Holger .... I&#39;m clearly still waking up ... Of course I should have used `forEach`. Completely misinterpreted your first comment.","body":"@Holger .... I&#39;m clearly still waking up ... Of course I should have used <code>forEach</code>. Completely misinterpreted your first comment."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1499676851,"post_id":45006922,"comment_id":76988735,"body_markdown":"Note that the second approach, in its current form, is basically equivalent to a classic `for` loop.","body":"Note that the second approach, in its current form, is basically equivalent to a classic <code>for</code> loop."}],"tags":[],"owner":{"account_id":10299696,"reputation":2315,"user_id":7598776,"display_name":"Robin Topper"},"comment_count":11,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1499677070,"creation_date":1499674435,"answer_id":45006922,"question_id":45006727,"body_markdown":"As shmosel already pointed out in the comments, you&#39;ll need two iterations using streams:\r\n\r\n\tList&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\r\n\tList&lt;Integer&gt; positives = list.stream().map(i -&gt; i &lt; 0 ? 0 : i).collect(Collectors.toList());\r\n\tList&lt;Integer&gt; negatives = list.stream().map(i -&gt; i &lt; 0 ? i : 0).collect(Collectors.toList());\r\n\r\n----------\r\n\r\nAll in one stream is possible if your list is modifiable. This is not better than a for-loop\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\r\n    List&lt;Integer&gt; list2 = new ArrayList&lt;&gt;();\r\n\t\t\r\n\tIntStream.range(0, list.size()).forEach(i -&gt; {\r\n\t   int j;\r\n\t   if ((j = list.get(i)) &lt; 0) {\r\n\t\t   list2.add(j);\r\n\t\t   list.set(i, 0);\r\n\t   } else {\r\n\t\t   list2.add(0);\r\n\t   }});\t","title":"Split a list into sublists based on a condition with Stream api","body":"<p>As shmosel already pointed out in the comments, you'll need two iterations using streams:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\nList&lt;Integer&gt; positives = list.stream().map(i -&gt; i &lt; 0 ? 0 : i).collect(Collectors.toList());\nList&lt;Integer&gt; negatives = list.stream().map(i -&gt; i &lt; 0 ? i : 0).collect(Collectors.toList());\n</code></pre>\n\n<hr>\n\n<p>All in one stream is possible if your list is modifiable. This is not better than a for-loop</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\nList&lt;Integer&gt; list2 = new ArrayList&lt;&gt;();\n\nIntStream.range(0, list.size()).forEach(i -&gt; {\n   int j;\n   if ((j = list.get(i)) &lt; 0) {\n       list2.add(j);\n       list.set(i, 0);\n   } else {\n       list2.add(0);\n   }}); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499677162,"creation_date":1499675812,"answer_id":45007340,"question_id":45006727,"body_markdown":"Well you could do that in place:\r\n\r\n      List&lt;Integer&gt; left = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\r\n        int[] right = new int[left.size()];\r\n\r\n        IntStream.range(0, left.size())\r\n                .filter(i -&gt; left.get(i) &lt; 0)\r\n                .forEach(x -&gt; {\r\n                    right[x] = left.get(x);\r\n                    left.set(x, 0);\r\n                });\r\n        System.out.println(left);\r\n        System.out.println(Arrays.toString(right));\r\n\r\nThat is a side-effect, but as far as I can tell, it is a safe side-effect. ","title":"Split a list into sublists based on a condition with Stream api","body":"<p>Well you could do that in place:</p>\n\n<pre><code>  List&lt;Integer&gt; left = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\n    int[] right = new int[left.size()];\n\n    IntStream.range(0, left.size())\n            .filter(i -&gt; left.get(i) &lt; 0)\n            .forEach(x -&gt; {\n                right[x] = left.get(x);\n                left.set(x, 0);\n            });\n    System.out.println(left);\n    System.out.println(Arrays.toString(right));\n</code></pre>\n\n<p>That is a side-effect, but as far as I can tell, it is a safe side-effect. </p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1499676040,"creation_date":1499676040,"answer_id":45007405,"question_id":45006727,"body_markdown":"If you want to do it in a single Stream operation, you need a custom collector:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; result = list.stream().collect(\r\n        () -&gt; Arrays.asList(new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;()),\r\n        (l,i) -&gt; { l.get(0).add(Math.max(0, i)); l.get(1).add(Math.min(0, i)); },\r\n        (a,b) -&gt; { a.get(0).addAll(b.get(0)); a.get(1).addAll(b.get(1)); });\r\n\r\n    System.out.println(result.get(0));\r\n    System.out.println(result.get(1));\r\n","title":"Split a list into sublists based on a condition with Stream api","body":"<p>If you want to do it in a single Stream operation, you need a custom collector:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\n\nList&lt;List&lt;Integer&gt;&gt; result = list.stream().collect(\n    () -&gt; Arrays.asList(new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;()),\n    (l,i) -&gt; { l.get(0).add(Math.max(0, i)); l.get(1).add(Math.min(0, i)); },\n    (a,b) -&gt; { a.get(0).addAll(b.get(0)); a.get(1).addAll(b.get(1)); });\n\nSystem.out.println(result.get(0));\nSystem.out.println(result.get(1));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7759936,"reputation":727,"user_id":5873039,"accept_rate":91,"display_name":"drJava"},"score":1,"creation_date":1499676274,"post_id":45007441,"comment_id":76988363,"body_markdown":"Hmm, interesting point. What do you suggest me if I want to determine whether my problem suits the &quot;functional approach&quot; or not?","body":"Hmm, interesting point. What do you suggest me if I want to determine whether my problem suits the &quot;functional approach&quot; or not?"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1499676648,"post_id":45007441,"comment_id":76988598,"body_markdown":"*&quot;What do you suggest me if I want to determine whether my problem suits the &quot;functional approach&quot; or not? &quot;* As I wrote in the answer: FP is applicable when you have an *unambiguous mapping* from one collection to another without looking at other items in the source or target collection.","body":"<i>&quot;What do you suggest me if I want to determine whether my problem suits the &quot;functional approach&quot; or not? &quot;</i> As I wrote in the answer: FP is applicable when you have an <i>unambiguous mapping</i> from one collection to another without looking at other items in the source or target collection."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1499676827,"post_id":45007441,"comment_id":76988719,"body_markdown":"I don’t see why functional programming should be limited to conversion of one collection to another. The two lists of the question are not different than a collection of pairs, semantically. There’s just less builtin support which makes a solution more complicated, [like mine](https://stackoverflow.com/a/45007405/2711488), but there’s no fundamental difference to what `Collectors.toList()` does, it’s just two lists instead of one. That isn’t more or less functional than collecting into one list.","body":"I don’t see why functional programming should be limited to conversion of one collection to another. The two lists of the question are not different than a collection of pairs, semantically. There’s just less builtin support which makes a solution more complicated, <a href=\"https://stackoverflow.com/a/45007405/2711488\">like mine</a>, but there’s no fundamental difference to what <code>Collectors.toList()</code> does, it’s just two lists instead of one. That isn’t more or less functional than collecting into one list."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":1,"creation_date":1499677264,"post_id":45007441,"comment_id":76988991,"body_markdown":"*&quot;I don’t see why functional programming should be limited to conversion of one collection to another.&quot;* - https://en.wikipedia.org/wiki/Functional_programming : *&quot;a style of building the structure and elements of computer programs, that treats computation as the evaluation of mathematical functions and avoids changing-state and mutable data.&quot;* **mathematical functions** have *one* target collection only. But of cause: if you have a new hammer any problem looks like a nail...","body":"<i>&quot;I don’t see why functional programming should be limited to conversion of one collection to another.&quot;</i> - <a href=\"https://en.wikipedia.org/wiki/Functional_programming\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Functional_programming</a> : <i>&quot;a style of building the structure and elements of computer programs, that treats computation as the evaluation of mathematical functions and avoids changing-state and mutable data.&quot;</i> <b>mathematical functions</b> have <i>one</i> target collection only. But of cause: if you have a new hammer any problem looks like a nail..."},{"owner":{"account_id":105127,"reputation":22963,"user_id":280693,"accept_rate":73,"display_name":"Tomas Jansson"},"score":1,"creation_date":1537451899,"post_id":45007441,"comment_id":91796938,"body_markdown":"I think your comment on functional programming is somewhat misleading. The &quot;essential&quot; pattern you describe is also wrong. The pattern is f(x) = y. Here x and y can be of completely different types. So x can be a list and y could be a list of list.","body":"I think your comment on functional programming is somewhat misleading. The &quot;essential&quot; pattern you describe is also wrong. The pattern is f(x) = y. Here x and y can be of completely different types. So x can be a list and y could be a list of list."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1537452817,"post_id":45007441,"comment_id":91797551,"body_markdown":"@TomasJansson *&quot;The pattern is f(x) = y. Here x and y can be of completely different types. So x can be a list and y could be a list of list.&quot;* I can follow that reasonning but still feels a bit strange to artifically join the two desired result lists...","body":"@TomasJansson <i>&quot;The pattern is f(x) = y. Here x and y can be of completely different types. So x can be a list and y could be a list of list.&quot;</i> I can follow that reasonning but still feels a bit strange to artifically join the two desired result lists..."},{"owner":{"account_id":105127,"reputation":22963,"user_id":280693,"accept_rate":73,"display_name":"Tomas Jansson"},"score":0,"creation_date":1537456233,"post_id":45007441,"comment_id":91799861,"body_markdown":"you could easily solve it with a reduce/fold operation where two lists are the input, then for each element you add the element to one of the lists.","body":"you could easily solve it with a reduce/fold operation where two lists are the input, then for each element you add the element to one of the lists."}],"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"comment_count":7,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1499676156,"creation_date":1499676156,"answer_id":45007441,"question_id":45006727,"body_markdown":"Java-Streams are a *functional programming* feature.\n\nThe essential pattern of functional programming is that you convert *one* collection to *one* other collection. This means your requirement is does not suit to a functional approach and hence java streams are the second best solution (after legacy for(each) loop). \n\n\n----------\n\n\n**But**  \nOf cause you can split the problem into two separate FP friendly operations. \n\nThe downside it that this requires an additional loop over the input collection. \nFor small collections (up to roughly 100000 items) this may not be a problem but for bigger collections you may raise a performance issue.   \n&lt;sup&gt;**Disclaimer:** do not choose or deny an approach for performance reasons unless you have justified your decision by *measurement with a profiling tool*!&lt;/sup&gt;\n\n# conclusion:\nI&#39;d consider the &quot;legacy loop&quot; the better approach since it may be more readable in the sense that it better expresses your intent (to split up the collection).","title":"Split a list into sublists based on a condition with Stream api","body":"<p>Java-Streams are a <em>functional programming</em> feature.</p>\n<p>The essential pattern of functional programming is that you convert <em>one</em> collection to <em>one</em> other collection. This means your requirement is does not suit to a functional approach and hence java streams are the second best solution (after legacy for(each) loop).</p>\n<hr />\n<p><strong>But</strong><br />\nOf cause you can split the problem into two separate FP friendly operations.</p>\n<p>The downside it that this requires an additional loop over the input collection.\nFor small collections (up to roughly 100000 items) this may not be a problem but for bigger collections you may raise a performance issue.<br />\n<sup><strong>Disclaimer:</strong> do not choose or deny an approach for performance reasons unless you have justified your decision by <em>measurement with a profiling tool</em>!</sup></p>\n<h1>conclusion:</h1>\n<p>I'd consider the &quot;legacy loop&quot; the better approach since it may be more readable in the sense that it better expresses your intent (to split up the collection).</p>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1499706668,"creation_date":1499706668,"answer_id":45017977,"question_id":45006727,"body_markdown":"A generic solution without streams might consist of choosing between two possible consumers, based on a condition:\r\n\r\n    private static &lt;T&gt; Consumer&lt;T&gt; splitBy(\r\n            Predicate&lt;T&gt; condition,\r\n            Consumer&lt;T&gt; action1,\r\n            Consumer&lt;T&gt; action2,\r\n            T zero) {\r\n        return n -&gt; {\r\n            if (condition.test(n)) {\r\n                action1.accept(n);\r\n                action2.accept(zero);\r\n            } else {\r\n                action1.accept(zero);\r\n                action2.accept(n);\r\n            }\r\n        };\r\n    }\r\n\r\nFor your specific problem, you could use the `splitBy` method as follows:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\r\n\r\n    List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\r\n    List&lt;Integer&gt; list2 = new ArrayList&lt;&gt;();\r\n\r\n    list.forEach(splitBy(n -&gt; n &gt; 0, list1::add, list2::add, 0));\r\n\r\n    System.out.println(list1); // [10, 0, 23, 5, 0, 287, 5, 0]\r\n    System.out.println(list2); // [0, -2, 0, 0, -11, 0, 0, -99]\r\n\r\n\r\n","title":"Split a list into sublists based on a condition with Stream api","body":"<p>A generic solution without streams might consist of choosing between two possible consumers, based on a condition:</p>\n\n<pre><code>private static &lt;T&gt; Consumer&lt;T&gt; splitBy(\n        Predicate&lt;T&gt; condition,\n        Consumer&lt;T&gt; action1,\n        Consumer&lt;T&gt; action2,\n        T zero) {\n    return n -&gt; {\n        if (condition.test(n)) {\n            action1.accept(n);\n            action2.accept(zero);\n        } else {\n            action1.accept(zero);\n            action2.accept(n);\n        }\n    };\n}\n</code></pre>\n\n<p>For your specific problem, you could use the <code>splitBy</code> method as follows:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(10, -2, 23, 5, -11, 287, 5, -99);\n\nList&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\nList&lt;Integer&gt; list2 = new ArrayList&lt;&gt;();\n\nlist.forEach(splitBy(n -&gt; n &gt; 0, list1::add, list2::add, 0));\n\nSystem.out.println(list1); // [10, 0, 23, 5, 0, 287, 5, 0]\nSystem.out.println(list2); // [0, -2, 0, 0, -11, 0, 0, -99]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637654881,"post_id":52481600,"comment_id":123877516,"body_markdown":"But it doesn’t produce the zeros, the OP wanted.","body":"But it doesn’t produce the zeros, the OP wanted."}],"tags":[],"owner":{"account_id":14409138,"reputation":831,"user_id":10408449,"display_name":"Tamas"},"comment_count":1,"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1537802670,"creation_date":1537799382,"answer_id":52481600,"question_id":45006727,"body_markdown":"    Map&lt;Boolean, List&lt;Integer&gt;&gt; results=\r\n      List1.stream().collect(Collectors.partitioningBy( n -&gt; n &lt; 0));\r\n\r\nI think that this one is prettier and easy to read. (You can then get the negative and non-negative list from the map.)\r\n   \r\n","title":"Split a list into sublists based on a condition with Stream api","body":"<pre><code>Map&lt;Boolean, List&lt;Integer&gt;&gt; results=\n  List1.stream().collect(Collectors.partitioningBy( n -&gt; n &lt; 0));\n</code></pre>\n\n<p>I think that this one is prettier and easy to read. (You can then get the negative and non-negative list from the map.)</p>\n"},{"tags":[],"owner":{"account_id":1479379,"reputation":1127,"user_id":1389089,"display_name":"shapiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1551859902,"creation_date":1551859902,"answer_id":55018350,"question_id":45006727,"body_markdown":"There are pros and cons in each solution. \r\n\r\n - `for` loop is the obvious answer, but your question explicitly\r\n   mentions Streams API. \r\n - Using different predicates a) causes code duplication, b) is error prone, c) results in additional processing time — 2N\r\n - Custom `Collector` is difficult to implement, and gives the impression of redundant work while the problem seems so straightforward, even na&#239;ve. \r\n\r\nI haven&#39;t seen anyone else mentioning this, but you can collect your numbers in a `Map&lt;Boolean,List&lt;Integer&gt;&gt;` map, where key corresponds to your grouping criterion, and `List` is the selection of items matching the criterion, for example:\r\n\r\n    List&lt;Integer&gt; numbers = List.of(10, -2, 23, 5, -11, 287, 5, -99);\r\n    Map&lt;Boolean, List&lt;Integer&gt;&gt; numbersByIsPositive = numbers.stream()\r\n        .collect(Collectors.groupingBy(number -&gt; number &gt;= 0));\r\n\r\n    List&lt;Integer&gt; positiveNumbers = numbersByIsPositive.get(true);\r\n    List&lt;Integer&gt; negativeNumbers = numbersByIsPositive.get(false);\r\n\r\nThink of auto-boxing and -unboxing when applying this approach.\r\n\r\nOutput: \r\n\r\n    Positive numbers: [10, 23, 5, 287, 5]\r\n    Negative numbers: [-2, -11, -99]","title":"Split a list into sublists based on a condition with Stream api","body":"<p>There are pros and cons in each solution. </p>\n\n<ul>\n<li><code>for</code> loop is the obvious answer, but your question explicitly\nmentions Streams API. </li>\n<li>Using different predicates a) causes code duplication, b) is error prone, c) results in additional processing time — 2N</li>\n<li>Custom <code>Collector</code> is difficult to implement, and gives the impression of redundant work while the problem seems so straightforward, even naïve. </li>\n</ul>\n\n<p>I haven't seen anyone else mentioning this, but you can collect your numbers in a <code>Map&lt;Boolean,List&lt;Integer&gt;&gt;</code> map, where key corresponds to your grouping criterion, and <code>List</code> is the selection of items matching the criterion, for example:</p>\n\n<pre><code>List&lt;Integer&gt; numbers = List.of(10, -2, 23, 5, -11, 287, 5, -99);\nMap&lt;Boolean, List&lt;Integer&gt;&gt; numbersByIsPositive = numbers.stream()\n    .collect(Collectors.groupingBy(number -&gt; number &gt;= 0));\n\nList&lt;Integer&gt; positiveNumbers = numbersByIsPositive.get(true);\nList&lt;Integer&gt; negativeNumbers = numbersByIsPositive.get(false);\n</code></pre>\n\n<p>Think of auto-boxing and -unboxing when applying this approach.</p>\n\n<p>Output: </p>\n\n<pre><code>Positive numbers: [10, 23, 5, 287, 5]\nNegative numbers: [-2, -11, -99]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11171121,"reputation":2994,"user_id":8198056,"display_name":"Adrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1593087125,"creation_date":1554289167,"answer_id":55493545,"question_id":45006727,"body_markdown":"Since Java 12 it can be done very simple by using [`Collectors::teeing`][1]:\r\n\r\n    var divided = List.of(10, -2, 23, 5, -11, 287, 5, -99)\r\n                .stream()\r\n                .collect(Collectors.teeing(\r\n                        Collectors.mapping(i -&gt; Math.max(0, i), Collectors.toList()),\r\n                        Collectors.mapping(i -&gt; Math.min(0, i), Collectors.toList()),\r\n                        List::of\r\n                ));\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Split a list into sublists based on a condition with Stream api","body":"<p>Since Java 12 it can be done very simple by using <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"noreferrer\"><code>Collectors::teeing</code></a>:</p>\n<pre><code>var divided = List.of(10, -2, 23, 5, -11, 287, 5, -99)\n            .stream()\n            .collect(Collectors.teeing(\n                    Collectors.mapping(i -&gt; Math.max(0, i), Collectors.toList()),\n                    Collectors.mapping(i -&gt; Math.min(0, i), Collectors.toList()),\n                    List::of\n            ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678301490,"creation_date":1678301490,"answer_id":75677093,"question_id":45006727,"body_markdown":"I have found two solutions for splitting the stream based on condition\r\n\r\nYour List is List1 = {10, -2, 23, 5, -11, 287, 5, -99}\r\n\r\n    List1.stream().collect(Collectors.partitioningBy(num -&gt; num &lt;0))\r\n\r\nThis would give a Map with below key values\r\n\r\n    &quot;true&quot; : 10,24,5,287,5\r\n    &quot;false&quot;: -2,-11,-99\r\n\r\nAnother solution is on the same line, but instead of using `partitioningBy`, use `groupingBy`\r\n\r\n    List2.stream().collect(Collectors.groupingBy(num -&gt; num &lt;0))","title":"Split a list into sublists based on a condition with Stream api","body":"<p>I have found two solutions for splitting the stream based on condition</p>\n<p>Your List is List1 = {10, -2, 23, 5, -11, 287, 5, -99}</p>\n<pre><code>List1.stream().collect(Collectors.partitioningBy(num -&gt; num &lt;0))\n</code></pre>\n<p>This would give a Map with below key values</p>\n<pre><code>&quot;true&quot; : 10,24,5,287,5\n&quot;false&quot;: -2,-11,-99\n</code></pre>\n<p>Another solution is on the same line, but instead of using <code>partitioningBy</code>, use <code>groupingBy</code></p>\n<pre><code>List2.stream().collect(Collectors.groupingBy(num -&gt; num &lt;0))\n</code></pre>\n"}],"owner":{"account_id":7759936,"reputation":727,"user_id":5873039,"accept_rate":91,"display_name":"drJava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54028,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":45007405,"answer_count":9,"score":36,"last_activity_date":1678301490,"creation_date":1499673813,"question_id":45006727,"body_markdown":"I have a specific question. There are some similar questions but these are either with Python, not with Java, or the requirements are different even if the question sounds similar. \r\n\r\nI have a list of values.\r\n\r\n    List1 = {10, -2, 23, 5, -11, 287, 5, -99}\r\n\r\nAt the end of the day, I would like to split lists based on their values. I mean if the value is bigger than zero, it will be stay in the original list and the corresponding index in the negative values list will be set zero. If the value is smaller than zero, it will go to the negative values list and the negative values in the original list will be replaced with zero.\r\n\r\nThe resulting lists should be like that;\r\n\r\n    List1 = {10, 0, 23, 5, 0, 287, 5, 0}\r\n    List2 = {0, -2, 0, 0, -11, 0, 0, -99}\r\nIs there any way to solve this with Stream api in Java?\r\n\r\n","title":"Split a list into sublists based on a condition with Stream api","body":"<p>I have a specific question. There are some similar questions but these are either with Python, not with Java, or the requirements are different even if the question sounds similar. </p>\n\n<p>I have a list of values.</p>\n\n<pre><code>List1 = {10, -2, 23, 5, -11, 287, 5, -99}\n</code></pre>\n\n<p>At the end of the day, I would like to split lists based on their values. I mean if the value is bigger than zero, it will be stay in the original list and the corresponding index in the negative values list will be set zero. If the value is smaller than zero, it will go to the negative values list and the negative values in the original list will be replaced with zero.</p>\n\n<p>The resulting lists should be like that;</p>\n\n<pre><code>List1 = {10, 0, 23, 5, 0, 287, 5, 0}\nList2 = {0, -2, 0, 0, -11, 0, 0, -99}\n</code></pre>\n\n<p>Is there any way to solve this with Stream api in Java?</p>\n"},{"tags":["java","jmapviewer"],"answers":[{"comments":[{"owner":{"account_id":4973882,"reputation":35,"user_id":4000830,"display_name":"KieranS"},"score":0,"creation_date":1411224308,"post_id":25944439,"comment_id":40626346,"body_markdown":"Thanks for the example - I have about 50 markers on the map, so that&#39;s a lot of iterations every time the mouse moves on the map. Is there a way of adding a tooltip directly to an image? I was going to try with using a &#39;jLabel&#39; with an icon to the map but I don&#39;t believe they can be shown on a jMapViewer","body":"Thanks for the example - I have about 50 markers on the map, so that&#39;s a lot of iterations every time the mouse moves on the map. Is there a way of adding a tooltip directly to an image? I was going to try with using a &#39;jLabel&#39; with an icon to the map but I don&#39;t believe they can be shown on a jMapViewer"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1411266444,"post_id":25944439,"comment_id":40635718,"body_markdown":"I&#39;ve elaborated above.","body":"I&#39;ve elaborated above."},{"owner":{"account_id":4973882,"reputation":35,"user_id":4000830,"display_name":"KieranS"},"score":0,"creation_date":1411328822,"post_id":25944439,"comment_id":40650575,"body_markdown":"That&#39;s excellent - Thanks for pointing me towards such a concrete example. I&#39;ll look to implement it like this. Thanks for your time and help!","body":"That&#39;s excellent - Thanks for pointing me towards such a concrete example. I&#39;ll look to implement it like this. Thanks for your time and help!"},{"owner":{"account_id":4973882,"reputation":35,"user_id":4000830,"display_name":"KieranS"},"score":1,"creation_date":1411338402,"post_id":25944439,"comment_id":40652969,"body_markdown":"Implemented your suggestion and it worked perfectly! many thanks for all your help.","body":"Implemented your suggestion and it worked perfectly! many thanks for all your help."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1678300955,"creation_date":1411178009,"answer_id":25944439,"question_id":25940174,"body_markdown":"Override the `getToolTipText()` method of `JMapViewer`. In your implementation, use `getPosition()` to convert the `MouseEvent` coordinates into geodetic coordinates. The example below simply displays the unformatted coordinates; you&#39;ll want to find the nearest `MapMarker` and return the appropriate text.\r\n\r\n    JMapViewer map = new JMapViewer() {\r\n\r\n        @Override\r\n        public String getToolTipText(MouseEvent e) {\r\n            Coordinate c = getPosition(e.getX(), e.getY());\r\n            return c.getLat() + &quot; &quot; + c.getLon();\r\n        }\r\n    };\r\n    map.setToolTipText(&quot;&quot;); // initialize \r\n\r\nAddendum: _Is there a way of adding a tooltip directly to an image?_\r\n\r\nNo; `JMapViewer` is the enclosing `JComponent` that handles tool tips.\r\n\r\n_I have about 50 markers on the map…that&#39;s a lot of iterations._\r\n\r\nYou definitely can&#39;t load images in your `MapMarker` implementation; use a [`SWingWorker`][1] to load images in the background, for [example][2].\r\n\r\nAs a concrete iteration example, `JFreeChart` easily handles tool tips for scores of entities in this way. Here&#39;s the enclosing panel&#39;s [`getToolTipText()`][3] implementation, and here&#39;s the [loop][4] that invokes `Shape#contains()`. A simplified example that illustrates the approach is seen [here][5].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\r\n  [2]: https://stackoverflow.com/a/4530659/230513\r\n  [3]: https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/swing/ChartPanel.java#L1277\r\n  [4]: https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/entity/StandardEntityCollection.java#L135\r\n  [5]: https://stackoverflow.com/a/53609066/230513","title":"How to add a ToolTip to MapMarker in JMapViewer","body":"<p>Override the <code>getToolTipText()</code> method of <code>JMapViewer</code>. In your implementation, use <code>getPosition()</code> to convert the <code>MouseEvent</code> coordinates into geodetic coordinates. The example below simply displays the unformatted coordinates; you'll want to find the nearest <code>MapMarker</code> and return the appropriate text.</p>\n<pre><code>JMapViewer map = new JMapViewer() {\n\n    @Override\n    public String getToolTipText(MouseEvent e) {\n        Coordinate c = getPosition(e.getX(), e.getY());\n        return c.getLat() + &quot; &quot; + c.getLon();\n    }\n};\nmap.setToolTipText(&quot;&quot;); // initialize \n</code></pre>\n<p>Addendum: <em>Is there a way of adding a tooltip directly to an image?</em></p>\n<p>No; <code>JMapViewer</code> is the enclosing <code>JComponent</code> that handles tool tips.</p>\n<p><em>I have about 50 markers on the map…that's a lot of iterations.</em></p>\n<p>You definitely can't load images in your <code>MapMarker</code> implementation; use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\"><code>SWingWorker</code></a> to load images in the background, for <a href=\"https://stackoverflow.com/a/4530659/230513\">example</a>.</p>\n<p>As a concrete iteration example, <code>JFreeChart</code> easily handles tool tips for scores of entities in this way. Here's the enclosing panel's <a href=\"https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/swing/ChartPanel.java#L1277\" rel=\"nofollow noreferrer\"><code>getToolTipText()</code></a> implementation, and here's the <a href=\"https://github.com/jfree/jfreechart/blob/master/src/main/java/org/jfree/chart/entity/StandardEntityCollection.java#L135\" rel=\"nofollow noreferrer\">loop</a> that invokes <code>Shape#contains()</code>. A simplified example that illustrates the approach is seen <a href=\"https://stackoverflow.com/a/53609066/230513\">here</a>.</p>\n"}],"owner":{"account_id":4973882,"reputation":35,"user_id":4000830,"display_name":"KieranS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1514,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25944439,"answer_count":1,"score":2,"last_activity_date":1678300955,"creation_date":1411151067,"question_id":25940174,"body_markdown":"I&#39;m trying to add a `ToolTip` to a custom `MapMarker` on *JMapViewer*. But repeaded searches on are not helping me solve this.\r\n\r\nThe custom *MapMarker* is:\r\n\r\n    public class MapMarkerUnit extends MapObjectImpl implements MapMarker\r\n\r\nand the Paint Method overide is \r\n\r\n    public void paint(Graphics g, Point position, int radio) {\r\n        String filename = &quot;marker.png&quot;;\r\n        //System.out.print(filename);\r\n        BufferedImage x = null;\r\n        try {\r\n            x = ImageIO.read(getClass().getResource(filename));\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(MapMarkerUnit.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        \r\n        g.drawImage(x, position.x-16, position.y-37,null);\r\n        \r\n        //if(getLayer()==null||getLayer().isVisibleTexts()) paintText(g, new       Point(position.x+20,position.y));\r\n    }\r\n\r\nThanks for any help your able to offer.","title":"How to add a ToolTip to MapMarker in JMapViewer","body":"<p>I'm trying to add a <code>ToolTip</code> to a custom <code>MapMarker</code> on <em>JMapViewer</em>. But repeaded searches on are not helping me solve this.</p>\n\n<p>The custom <em>MapMarker</em> is:</p>\n\n<pre><code>public class MapMarkerUnit extends MapObjectImpl implements MapMarker\n</code></pre>\n\n<p>and the Paint Method overide is </p>\n\n<pre><code>public void paint(Graphics g, Point position, int radio) {\n    String filename = \"marker.png\";\n    //System.out.print(filename);\n    BufferedImage x = null;\n    try {\n        x = ImageIO.read(getClass().getResource(filename));\n    } catch (IOException ex) {\n        Logger.getLogger(MapMarkerUnit.class.getName()).log(Level.SEVERE, null, ex);\n    }\n\n    g.drawImage(x, position.x-16, position.y-37,null);\n\n    //if(getLayer()==null||getLayer().isVisibleTexts()) paintText(g, new       Point(position.x+20,position.y));\n}\n</code></pre>\n\n<p>Thanks for any help your able to offer.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1507268,"reputation":144,"user_id":1410365,"display_name":"vmayatskii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678300781,"creation_date":1678300781,"answer_id":75676978,"question_id":75676683,"body_markdown":"You have to use `RelativeLayout.ALIGN_PARENT_BOTTOM` instead of `RelativeLayout.ALIGN_BOTTOM`. To set margins please use `setMargins()` method.\r\n\r\n    buttonDetails.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\r\n    buttonDetails.setMargins(0, 0, 0, 10);\r\n\r\n","title":"How to align button to bottom with Java","body":"<p>You have to use <code>RelativeLayout.ALIGN_PARENT_BOTTOM</code> instead of <code>RelativeLayout.ALIGN_BOTTOM</code>. To set margins please use <code>setMargins()</code> method.</p>\n<pre><code>buttonDetails.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\nbuttonDetails.setMargins(0, 0, 0, 10);\n</code></pre>\n"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678300781,"creation_date":1678298802,"question_id":75676683,"body_markdown":"I cannot get the button to align at the bottom of the screen with `RelativeLayout.ALIGN_BOTTOM` how can I get it to position correctly at the bottom of the screen?\r\n\r\nAlso, how I can create a margin, for example, 10 pixels from the bottom of the screen? I don&#39;t see an option to be able to add a positional offset anywhere in the layout rules.\r\n\r\n    RelativeLayout gameLayout = new RelativeLayout(this);\r\n    Button gameButton = new Button(this);\r\n    gameButton.setText(&quot;Start&quot;);\r\n    gameButton.setBackgroundColor(Color.MAGENTA);\r\n    gameLayout.setBackgroundColor(Color.LTGRAY);\r\n    //gameButton.\r\n    RelativeLayout.LayoutParams buttonDetails = new RelativeLayout.LayoutParams(\r\n            RelativeLayout.LayoutParams.WRAP_CONTENT,\r\n            RelativeLayout.LayoutParams.WRAP_CONTENT\r\n    );\r\n    buttonDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\r\n    buttonDetails.addRule(RelativeLayout.ALIGN_BOTTOM);\r\n\r\n    gameLayout.addView(gameButton, buttonDetails);\r\n    setContentView(gameLayout);\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uvU8t.png","title":"How to align button to bottom with Java","body":"<p>I cannot get the button to align at the bottom of the screen with <code>RelativeLayout.ALIGN_BOTTOM</code> how can I get it to position correctly at the bottom of the screen?</p>\n<p>Also, how I can create a margin, for example, 10 pixels from the bottom of the screen? I don't see an option to be able to add a positional offset anywhere in the layout rules.</p>\n<pre><code>RelativeLayout gameLayout = new RelativeLayout(this);\nButton gameButton = new Button(this);\ngameButton.setText(&quot;Start&quot;);\ngameButton.setBackgroundColor(Color.MAGENTA);\ngameLayout.setBackgroundColor(Color.LTGRAY);\n//gameButton.\nRelativeLayout.LayoutParams buttonDetails = new RelativeLayout.LayoutParams(\n        RelativeLayout.LayoutParams.WRAP_CONTENT,\n        RelativeLayout.LayoutParams.WRAP_CONTENT\n);\nbuttonDetails.addRule(RelativeLayout.CENTER_HORIZONTAL);\nbuttonDetails.addRule(RelativeLayout.ALIGN_BOTTOM);\n\ngameLayout.addView(gameButton, buttonDetails);\nsetContentView(gameLayout);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uvU8t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uvU8t.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","rest","jackson"],"comments":[{"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"score":0,"creation_date":1677759062,"post_id":75615034,"comment_id":133403225,"body_markdown":"If the json is always having similar attribute and type, why don&#39;t you use a DTO class having BigDecimal value? Or will it be different","body":"If the json is always having similar attribute and type, why don&#39;t you use a DTO class having BigDecimal value? Or will it be different"},{"owner":{"account_id":26249263,"reputation":21,"user_id":20039263,"display_name":"Vandit Shah"},"score":0,"creation_date":1677759309,"post_id":75615034,"comment_id":133403300,"body_markdown":"We can&#39;t use a DTO class as we our request is not static or pre defined, our request is based on versions, i.e request r1 for version v1 and so on.","body":"We can&#39;t use a DTO class as we our request is not static or pre defined, our request is based on versions, i.e request r1 for version v1 and so on."}],"answers":[{"tags":[],"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677760041,"creation_date":1677760041,"answer_id":75615406,"question_id":75615034,"body_markdown":"Jackson takes the value as Double. This behavior can be modified to obtain a BigDecimal object instead of a Double during deserialization. Enable the feature on the ObjectMapper object.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.enable(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS);","title":"Json String Mapping containing a field having big decimal field","body":"<p>Jackson takes the value as Double. This behavior can be modified to obtain a BigDecimal object instead of a Double during deserialization. Enable the feature on the ObjectMapper object.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.enable(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19567278,"reputation":89,"user_id":14319127,"display_name":"reddy"},"score":0,"creation_date":1677761980,"post_id":75615734,"comment_id":133404032,"body_markdown":"you can try this  I got below output\n{amount=600.014545218781256, currency=SATS}","body":"you can try this  I got below output {amount=600.014545218781256, currency=SATS}"},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1678174557,"post_id":75615734,"comment_id":133477529,"body_markdown":"While this code may provide a solution to the question, it&#39;s better to add context as to why/how it works. This can help future users learn, and apply that knowledge to their own code. You are also likely to have positive feedback from users in the form of upvotes, when the code is explained.","body":"While this code may provide a solution to the question, it&#39;s better to add context as to why/how it works. This can help future users learn, and apply that knowledge to their own code. You are also likely to have positive feedback from users in the form of upvotes, when the code is explained."}],"tags":[],"owner":{"account_id":19567278,"reputation":89,"user_id":14319127,"display_name":"reddy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678300706,"creation_date":1677761902,"answer_id":75615734,"question_id":75615034,"body_markdown":"   \r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n           ObjectMapper mapper = new ObjectMapper();\r\n           String json = &quot;{\\&quot;amount\\&quot;:600.014545218781256,\\&quot;currency\\&quot;:\\&quot;SATS\\&quot;}&quot;;\r\n           mapper.configure(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS,true);\r\n    \r\n           Map&lt;String, String&gt; map = mapper.readValue(json, Map.class);\r\n           System.out.println(map);\r\n       }        \r\n    }","title":"Json String Mapping containing a field having big decimal field","body":"<pre><code>public class Test {\n\n    public static void main(String[] args) throws IOException {\n\n       ObjectMapper mapper = new ObjectMapper();\n       String json = &quot;{\\&quot;amount\\&quot;:600.014545218781256,\\&quot;currency\\&quot;:\\&quot;SATS\\&quot;}&quot;;\n       mapper.configure(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS,true);\n\n       Map&lt;String, String&gt; map = mapper.readValue(json, Map.class);\n       System.out.println(map);\n   }        \n}\n</code></pre>\n"}],"owner":{"account_id":26249263,"reputation":21,"user_id":20039263,"display_name":"Vandit Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":818,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678300706,"creation_date":1677757834,"question_id":75615034,"body_markdown":"There is a scenario in which we are trying to convert a JSON string to a map, but during the conversion, values having big decimal value is truncated and converted to double. We need the actual big decimal value instead\r\n\r\nExample\r\n\r\n```javascript\r\n{\r\n    &quot;amount&quot;:600.014545218781256,\r\n    &quot;currency&quot;: &quot;SATS&quot;\r\n} \r\n```\r\n\r\nthis is the request\r\nbut the **amount** gets truncated to **600.0145452187812**. \r\n\r\n\r\nWe tried using object mapper, but as the incoming data is a string, we weren&#39;t able to use the features of object mapper such as :\r\n`objectMapper.configure(JsonWriteFeature.WRITE_NUMBERS_AS_STRINGS.mappedFeature(), true);`\r\n","title":"Json String Mapping containing a field having big decimal field","body":"<p>There is a scenario in which we are trying to convert a JSON string to a map, but during the conversion, values having big decimal value is truncated and converted to double. We need the actual big decimal value instead</p>\n<p>Example</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n    &quot;amount&quot;:600.014545218781256,\n    &quot;currency&quot;: &quot;SATS&quot;\n} \n</code></pre>\n<p>this is the request\nbut the <strong>amount</strong> gets truncated to <strong>600.0145452187812</strong>.</p>\n<p>We tried using object mapper, but as the incoming data is a string, we weren't able to use the features of object mapper such as :\n<code>objectMapper.configure(JsonWriteFeature.WRITE_NUMBERS_AS_STRINGS.mappedFeature(), true);</code></p>\n"},{"tags":["java","interface","abstract-class","junit5","allure"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1678369957,"post_id":75676962,"comment_id":133521847,"body_markdown":"Have you looked at Jupiter&#39;s way to support extensions like TestWatcher and AfterAllCallback? It&#39;s here: https://junit.org/junit5/docs/current/user-guide/#extensions and it does NOT work through subclass but through annotation `@ExtendWith`.","body":"Have you looked at Jupiter&#39;s way to support extensions like TestWatcher and AfterAllCallback? It&#39;s here: <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/#extensions</a> and it does NOT work through subclass but through annotation <code>@ExtendWith</code>."},{"owner":{"account_id":16624382,"reputation":1,"user_id":12013862,"display_name":"Antonio Cosic"},"score":0,"creation_date":1678391472,"post_id":75676962,"comment_id":133528278,"body_markdown":"Thank you, will try it tomorrow.","body":"Thank you, will try it tomorrow."}],"owner":{"account_id":16624382,"reputation":1,"user_id":12013862,"display_name":"Antonio Cosic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678300679,"creation_date":1678300679,"question_id":75676962,"body_markdown":"I am trying to migrate my Selenium project from jUnit4 to jUnit5 and I am kind of stuck with this issue. In jUnit4 I had a TestWatcher rule in a abstract class which all of my test classes extended. The rule was like this and the most important part in it was taking a screenshot of a test when it fails:\r\n\r\n\r\nThis is how the rule looked like in my abstract class for jUnit4.\r\n```\r\n@Rule\r\n\tpublic TestRule watchman = new TestWatcher() {\r\n\r\n\t\t@Override\r\n\t\tpublic Statement apply(Statement base, Description description) {\r\n\r\n\t\t\treturn super.apply(base, description);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void succeeded(Description description) {\r\n\t\t\tmainLogger.info(description.getDisplayName() + &quot; &quot; + &quot;success!&quot;);\r\n\t\t}\r\n\r\n\t\t/* U slučaju greške ispiši ju prema logger pravilima i uzmi screenshot */\r\n\t\t@Override\r\n\t\tprotected void failed(Throwable e, Description description) {\r\n\t\t\tmainLogger.error(&quot;Test ({}) failed because of exception {}&quot;, description, e);\r\n\t\t\tscreenshothandler.takeScreenshotForAllure();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void starting(Description description) {\r\n\t\t\tsuper.starting(description);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void finished(Description description) {\r\n\t\t\tsuper.finished(description);\r\n\t\t\tif (getDriver() != null) {\r\n\t\t\t\tscreenshothandler.tearDown();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t};\r\n```\r\n\r\nSo now in jUnit5 my abstract class is extending the new TestWatcher interface that contains all of the methods like the rule above (testFailed, testAborted etc..) and my test class extends the abstract class but the TestWatcher methods do not execute and i don&#39;t know why.\r\n\r\n```\r\npublic abstract class SeleniumTestWrapper implements TestWatcher, AfterAllCallback{\r\n\r\n\tfinal static Logger log = LoggerFactory.getLogger(SeleniumTestWrapper.class);\r\n\tprotected static final TestConfig testConfig = new TestConfig();\r\n\tprivate final WebDriverConfig webDriverConfig = new WebDriverConfig();\r\n\tprotected final WebDriverProvider webDriverProvider;\r\n\tpublic DatabaseProvider dbProvider;\r\n\tprotected ScreenshotHandler screenshothandler;\r\n\tpublic List&lt;TestResultStatus&gt; testResultsStatus = new ArrayList&lt;&gt;();\r\n\t\r\n\tfinal static boolean CERTIFICATES_ENABLED = new TypedProperties(&quot;/test_config.properties&quot;).getBoolean(&quot;certificate.login&quot;);\r\n\tfinal static boolean IS_REMOTE_DRIVER = new TypedProperties(&quot;/driver_config.properties&quot;).getBoolean(&quot;driver_remote&quot;);\r\n\r\n\tpublic SeleniumTestWrapper() {\r\n\t\tsuper();\r\n\t\tthis.webDriverProvider = new WebDriverProvider(this.webDriverConfig);\r\n\t\tthis.screenshothandler = new ScreenshotHandler(this.getDriver());\r\n\t\tthis.dbProvider = new DatabaseProvider();\r\n\t\t\r\n\t\t// Inicijaliziraj dbProvider ako je property = true\r\n\t\tboolean jdbcEnabled = new TypedProperties(&quot;/test_config.properties&quot;).getBoolean(&quot;jdbc.enable&quot;);\r\n\t\tif (jdbcEnabled) {\r\n\t\t\tthis.dbProvider.initialize();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected enum TestResultStatus {\r\n\t\tSUCCESSFUL, ABORTED, FAILED, DISABLED;\r\n\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic void afterAll(ExtensionContext context) throws Exception {\r\n\t\tMap&lt;TestResultStatus, Long&gt; summary = testResultsStatus.stream()\r\n\t\t\t\t.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\n\t\tlog.info(&quot;Test result summary for {} {}&quot;, context.getDisplayName(), summary.toString());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void testDisabled(ExtensionContext context, Optional&lt;String&gt; reason) {\r\n\t\tlog.info(&quot;Test Disabled for test {}: with reason :- {}&quot;,\r\n\t\t\t\tcontext.getDisplayName(),\r\n\t\t\t\treason.orElse(&quot;No reason&quot;));\r\n\r\n\t\ttestResultsStatus.add(TestResultStatus.DISABLED);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void testSuccessful(ExtensionContext context) {\r\n\t\tlog.info(&quot;\\u001B[32m&quot; + &quot;Test Successful for test {}: &quot;, context.getDisplayName() + &quot;\\u001B[37m&quot;);\r\n\r\n\t\ttestResultsStatus.add(TestResultStatus.SUCCESSFUL);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void testAborted(ExtensionContext context, Throwable cause) {\r\n\t\tlog.info(&quot;Test Aborted for test {}: &quot;, context.getDisplayName());\r\n\r\n\t\ttestResultsStatus.add(TestResultStatus.ABORTED);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void testFailed(ExtensionContext context, Throwable cause) {\r\n\t\tlog.info(&quot;\\u001B[31m&quot; + &quot;Test Failed for test {}: &quot;, context.getDisplayName() + &quot;\\u001B[37m&quot;);\r\n\t\tlog.error(&quot;Test ({}) failed because of exception {}&quot;, cause);\r\n\t\tscreenshothandler.takeScreenshotForAllure();\r\n\t\ttestResultsStatus.add(TestResultStatus.FAILED);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHere is the test class:\r\n\r\n\r\n```\r\npublic class ObracunDrugogDohotkaTests extends SeleniumTestWrapper {\r\n\tprivate CopBasePage startPage = PageFactory.initElements(getDriver(), CopBasePage.class);\r\n\tfinal static Logger logger = LoggerFactory.getLogger(ObracunDrugogDohotkaTests.class);\r\n\tprivate MenuPage menu = new MenuPage(getDriver());\r\n\tprivate TestUtils testUtils = new TestUtils();\r\n\tprivate OtvaranjeObracunaPage otvaranjeObracunaPage = new OtvaranjeObracunaPage(getDriver());\r\n\tprivate PripremaParameteraPrimateljaPage pripremaParameteraPrimateljaPage = new PripremaParameteraPrimateljaPage(getDriver());\r\n\tprivate EvidencijaPrimitakaPage evidencijaPrimitakaPage = new EvidencijaPrimitakaPage(getDriver());\r\n\tprivate ObracuniDrugogDohotkaPage obracuniDrugogDohotkaPage = new ObracuniDrugogDohotkaPage(getDriver());\r\n\tprivate ObracunDAO obracunDao = new ObracunDAO(dbProvider);\r\n\tprivate CopSpecificUtils copUtils = new CopSpecificUtils(dbProvider);\r\n\r\n\t@BeforeEach\r\n\tpublic void setup() {\r\n\r\n\t\tClientCertificateSetup ccs = new ClientCertificateSetup(getDriver());\r\n\t\tccs.setChromeCertificate(UserRoles.RESOLVER);\r\n\t\t\r\n\t\ttestUtils.testStartLog(this.getClass().getSimpleName());\r\n\t\tassertTrue(startPage.enterApplication());\r\n\t\tobracunDao.sveObracuneDrugogDohotkaZaRazdobljeDeaktiviraj(DrugiDohodakContent.INST_AGENCIJA_ZA_ZAST_OSOB_POD, 2008);\r\n\t}\r\n\r\n\r\n\t@Test\t\r\n\t@Description(&quot;Obracun drugog dohotka do statusa 100 i natrag. Ispis obrazaca PDF, kontrolno, XML&quot;)\r\n\tpublic void Obracunaj_Drugi_Dohodak_do_statusa_100_pregledaj_Izvjesca() {\r\n\t\tmenu.clickMenuDDObracuni();\r\n\t\tmenu.clickSubMenuOtvaranjeObracunaDD();\r\n\t\tassertEquals(DrugiDohodakContent.RADNJA_USPJESNO_OBAVLJENA, otvaranjeObracunaPage.otvoriOdaberiObracun(DrugiDohodakContent.AGENCIJA_ZA_ZAST_OSOB_POD, &quot;8&quot;, &quot;2020&quot;, &quot;obracun1&quot;, copUtils.dohvatiPrviSljedeciRadniDan()));\r\n\t\tmenu.clickSubMenuPripremaParametaraPrimateljaDD();\r\n\t\tpripremaParameteraPrimateljaPage.pripremiParametre();\r\n\t\tmenu.clickSubMenuEvidencijaPrimitakaDD();\r\n\t\tassertEquals(DrugiDohodakContent.UNOS_EVIDENCIJE_USPJESNO_ZAVRSEN_BR_UGOVORA_4, evidencijaPrimitakaPage.unesiPodatkeIzEvidUgovora());\r\n\t\tmenu.clickSubMenuObracunDrugogDohotka();\r\n\t\tobracuniDrugogDohotkaPage.provjeriGreskeObracuna(); \r\n\t\tassertEquals(DrugiDohodakContent.OBRACUN_DOVRSEN_3_PRIMATELJA, obracuniDrugogDohotkaPage.obracunajDrugiDohodak());\r\n\t\t// testiraj xml, pdf\r\n\t\t// TODO assertaj jesu li datoteke stvarno skinute, izdvoji to u drugi test, \r\n\t\tobracuniDrugogDohotkaPage.ispisiPDFObrazacZaSvePrimatelje();\r\n\t\tobracuniDrugogDohotkaPage.ispisiKontrolneIzvjestajeCSV();\r\n\t\tobracuniDrugogDohotkaPage.ispisiKontrolneIzvjestajePDF();\r\n\t\tobracuniDrugogDohotkaPage.ispisiPDFObrazacZaPojedinogPrim();\r\n\t\tobracuniDrugogDohotkaPage.ispisiXMLObrazacZaPojedinogPrim();\r\n\t\t// TODO usmjerit ove ispise na neki uzorak gdje ne mora obračunavat cijeli obračun\r\n\t\t\r\n\t\tobracuniDrugogDohotkaPage.ponistiVerifikacijuiIzmjeniObracun();\r\n\t\t// počisti obračun iz tablice\r\n\t\tmenu.clickSubMenuEvidencijaPrimitakaDD();\r\n\t\tevidencijaPrimitakaPage.unesiPodatkeIzEvidUgovora();\r\n\t\tevidencijaPrimitakaPage.brisiEvidenciju();\r\n\t\tmenu.clickSubMenuPripremaParametaraPrimateljaDD();\r\n\t\tpripremaParameteraPrimateljaPage.pripremiParametre();\r\n\t\tpripremaParameteraPrimateljaPage.uskladiParametre();\r\n\t\tmenu.clickSubMenuOtvaranjeObracunaDD();\r\n\t\tassertEquals(DrugiDohodakContent.RADNJA_USPJESNO_OBAVLJENA, otvaranjeObracunaPage.obrisiPrviObracunUTablici());\r\n\t}\r\n\r\n\t@AfterEach\r\n\tpublic void after() {\r\n\t\tassertFalse(startPage.fatalExceptionOccured());\r\n\t\ttestUtils.testEndLog(this.getClass().getSimpleName());\r\n\t}\r\n}```\r\n\r\n","title":"Can TestWatcher interface be implemented in a abstract class that all Test classes extend (jUnit5)","body":"<p>I am trying to migrate my Selenium project from jUnit4 to jUnit5 and I am kind of stuck with this issue. In jUnit4 I had a TestWatcher rule in a abstract class which all of my test classes extended. The rule was like this and the most important part in it was taking a screenshot of a test when it fails:</p>\n<p>This is how the rule looked like in my abstract class for jUnit4.</p>\n<pre><code>@Rule\n    public TestRule watchman = new TestWatcher() {\n\n        @Override\n        public Statement apply(Statement base, Description description) {\n\n            return super.apply(base, description);\n        }\n\n        @Override\n        protected void succeeded(Description description) {\n            mainLogger.info(description.getDisplayName() + &quot; &quot; + &quot;success!&quot;);\n        }\n\n        /* U slučaju greške ispiši ju prema logger pravilima i uzmi screenshot */\n        @Override\n        protected void failed(Throwable e, Description description) {\n            mainLogger.error(&quot;Test ({}) failed because of exception {}&quot;, description, e);\n            screenshothandler.takeScreenshotForAllure();\n        }\n\n        @Override\n        protected void starting(Description description) {\n            super.starting(description);\n        }\n\n        @Override\n        protected void finished(Description description) {\n            super.finished(description);\n            if (getDriver() != null) {\n                screenshothandler.tearDown();\n            }\n        }\n\n    };\n</code></pre>\n<p>So now in jUnit5 my abstract class is extending the new TestWatcher interface that contains all of the methods like the rule above (testFailed, testAborted etc..) and my test class extends the abstract class but the TestWatcher methods do not execute and i don't know why.</p>\n<pre><code>public abstract class SeleniumTestWrapper implements TestWatcher, AfterAllCallback{\n\n    final static Logger log = LoggerFactory.getLogger(SeleniumTestWrapper.class);\n    protected static final TestConfig testConfig = new TestConfig();\n    private final WebDriverConfig webDriverConfig = new WebDriverConfig();\n    protected final WebDriverProvider webDriverProvider;\n    public DatabaseProvider dbProvider;\n    protected ScreenshotHandler screenshothandler;\n    public List&lt;TestResultStatus&gt; testResultsStatus = new ArrayList&lt;&gt;();\n    \n    final static boolean CERTIFICATES_ENABLED = new TypedProperties(&quot;/test_config.properties&quot;).getBoolean(&quot;certificate.login&quot;);\n    final static boolean IS_REMOTE_DRIVER = new TypedProperties(&quot;/driver_config.properties&quot;).getBoolean(&quot;driver_remote&quot;);\n\n    public SeleniumTestWrapper() {\n        super();\n        this.webDriverProvider = new WebDriverProvider(this.webDriverConfig);\n        this.screenshothandler = new ScreenshotHandler(this.getDriver());\n        this.dbProvider = new DatabaseProvider();\n        \n        // Inicijaliziraj dbProvider ako je property = true\n        boolean jdbcEnabled = new TypedProperties(&quot;/test_config.properties&quot;).getBoolean(&quot;jdbc.enable&quot;);\n        if (jdbcEnabled) {\n            this.dbProvider.initialize();\n        }\n    }\n\n    protected enum TestResultStatus {\n        SUCCESSFUL, ABORTED, FAILED, DISABLED;\n    }\n    \n\n    @Override\n    public void afterAll(ExtensionContext context) throws Exception {\n        Map&lt;TestResultStatus, Long&gt; summary = testResultsStatus.stream()\n                .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n\n        log.info(&quot;Test result summary for {} {}&quot;, context.getDisplayName(), summary.toString());\n    }\n\n    @Override\n    public void testDisabled(ExtensionContext context, Optional&lt;String&gt; reason) {\n        log.info(&quot;Test Disabled for test {}: with reason :- {}&quot;,\n                context.getDisplayName(),\n                reason.orElse(&quot;No reason&quot;));\n\n        testResultsStatus.add(TestResultStatus.DISABLED);\n    }\n\n    @Override\n    public void testSuccessful(ExtensionContext context) {\n        log.info(&quot;\\u001B[32m&quot; + &quot;Test Successful for test {}: &quot;, context.getDisplayName() + &quot;\\u001B[37m&quot;);\n\n        testResultsStatus.add(TestResultStatus.SUCCESSFUL);\n    }\n\n    @Override\n    public void testAborted(ExtensionContext context, Throwable cause) {\n        log.info(&quot;Test Aborted for test {}: &quot;, context.getDisplayName());\n\n        testResultsStatus.add(TestResultStatus.ABORTED);\n    }\n\n    @Override\n    public void testFailed(ExtensionContext context, Throwable cause) {\n        log.info(&quot;\\u001B[31m&quot; + &quot;Test Failed for test {}: &quot;, context.getDisplayName() + &quot;\\u001B[37m&quot;);\n        log.error(&quot;Test ({}) failed because of exception {}&quot;, cause);\n        screenshothandler.takeScreenshotForAllure();\n        testResultsStatus.add(TestResultStatus.FAILED);\n    }\n\n}\n</code></pre>\n<p>Here is the test class:</p>\n<pre><code>public class ObracunDrugogDohotkaTests extends SeleniumTestWrapper {\n    private CopBasePage startPage = PageFactory.initElements(getDriver(), CopBasePage.class);\n    final static Logger logger = LoggerFactory.getLogger(ObracunDrugogDohotkaTests.class);\n    private MenuPage menu = new MenuPage(getDriver());\n    private TestUtils testUtils = new TestUtils();\n    private OtvaranjeObracunaPage otvaranjeObracunaPage = new OtvaranjeObracunaPage(getDriver());\n    private PripremaParameteraPrimateljaPage pripremaParameteraPrimateljaPage = new PripremaParameteraPrimateljaPage(getDriver());\n    private EvidencijaPrimitakaPage evidencijaPrimitakaPage = new EvidencijaPrimitakaPage(getDriver());\n    private ObracuniDrugogDohotkaPage obracuniDrugogDohotkaPage = new ObracuniDrugogDohotkaPage(getDriver());\n    private ObracunDAO obracunDao = new ObracunDAO(dbProvider);\n    private CopSpecificUtils copUtils = new CopSpecificUtils(dbProvider);\n\n    @BeforeEach\n    public void setup() {\n\n        ClientCertificateSetup ccs = new ClientCertificateSetup(getDriver());\n        ccs.setChromeCertificate(UserRoles.RESOLVER);\n        \n        testUtils.testStartLog(this.getClass().getSimpleName());\n        assertTrue(startPage.enterApplication());\n        obracunDao.sveObracuneDrugogDohotkaZaRazdobljeDeaktiviraj(DrugiDohodakContent.INST_AGENCIJA_ZA_ZAST_OSOB_POD, 2008);\n    }\n\n\n    @Test   \n    @Description(&quot;Obracun drugog dohotka do statusa 100 i natrag. Ispis obrazaca PDF, kontrolno, XML&quot;)\n    public void Obracunaj_Drugi_Dohodak_do_statusa_100_pregledaj_Izvjesca() {\n        menu.clickMenuDDObracuni();\n        menu.clickSubMenuOtvaranjeObracunaDD();\n        assertEquals(DrugiDohodakContent.RADNJA_USPJESNO_OBAVLJENA, otvaranjeObracunaPage.otvoriOdaberiObracun(DrugiDohodakContent.AGENCIJA_ZA_ZAST_OSOB_POD, &quot;8&quot;, &quot;2020&quot;, &quot;obracun1&quot;, copUtils.dohvatiPrviSljedeciRadniDan()));\n        menu.clickSubMenuPripremaParametaraPrimateljaDD();\n        pripremaParameteraPrimateljaPage.pripremiParametre();\n        menu.clickSubMenuEvidencijaPrimitakaDD();\n        assertEquals(DrugiDohodakContent.UNOS_EVIDENCIJE_USPJESNO_ZAVRSEN_BR_UGOVORA_4, evidencijaPrimitakaPage.unesiPodatkeIzEvidUgovora());\n        menu.clickSubMenuObracunDrugogDohotka();\n        obracuniDrugogDohotkaPage.provjeriGreskeObracuna(); \n        assertEquals(DrugiDohodakContent.OBRACUN_DOVRSEN_3_PRIMATELJA, obracuniDrugogDohotkaPage.obracunajDrugiDohodak());\n        // testiraj xml, pdf\n        // TODO assertaj jesu li datoteke stvarno skinute, izdvoji to u drugi test, \n        obracuniDrugogDohotkaPage.ispisiPDFObrazacZaSvePrimatelje();\n        obracuniDrugogDohotkaPage.ispisiKontrolneIzvjestajeCSV();\n        obracuniDrugogDohotkaPage.ispisiKontrolneIzvjestajePDF();\n        obracuniDrugogDohotkaPage.ispisiPDFObrazacZaPojedinogPrim();\n        obracuniDrugogDohotkaPage.ispisiXMLObrazacZaPojedinogPrim();\n        // TODO usmjerit ove ispise na neki uzorak gdje ne mora obračunavat cijeli obračun\n        \n        obracuniDrugogDohotkaPage.ponistiVerifikacijuiIzmjeniObracun();\n        // počisti obračun iz tablice\n        menu.clickSubMenuEvidencijaPrimitakaDD();\n        evidencijaPrimitakaPage.unesiPodatkeIzEvidUgovora();\n        evidencijaPrimitakaPage.brisiEvidenciju();\n        menu.clickSubMenuPripremaParametaraPrimateljaDD();\n        pripremaParameteraPrimateljaPage.pripremiParametre();\n        pripremaParameteraPrimateljaPage.uskladiParametre();\n        menu.clickSubMenuOtvaranjeObracunaDD();\n        assertEquals(DrugiDohodakContent.RADNJA_USPJESNO_OBAVLJENA, otvaranjeObracunaPage.obrisiPrviObracunUTablici());\n    }\n\n    @AfterEach\n    public void after() {\n        assertFalse(startPage.fatalExceptionOccured());\n        testUtils.testEndLog(this.getClass().getSimpleName());\n    }\n}```\n\n</code></pre>\n"},{"tags":["java","jackson","jackson-databind","jackson2","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1678108835,"post_id":75651295,"comment_id":133463944,"body_markdown":"this might help https://stackoverflow.com/questions/68443664/xstream-unmarshalling-xmlgregoriancalendar","body":"this might help <a href=\"https://stackoverflow.com/questions/68443664/xstream-unmarshalling-xmlgregoriancalendar\" title=\"xstream unmarshalling xmlgregoriancalendar\">stackoverflow.com/questions/68443664/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678108916,"post_id":75651295,"comment_id":133463971,"body_markdown":"&quot;JSON like this&quot; though valid is problematic,   ... `0001-01-01T00:00:00` gets a &quot;key&quot; (while in xml it is a &quot;value&quot;)... A subtle change like `[&quot;0001-01-01T00:00:00&quot;]` (`{}-&gt;[]` ... object-&gt;array) would be far easier to transform/implement. (Is it an option?)","body":"&quot;JSON like this&quot; though valid is problematic,   ... <code>0001-01-01T00:00:00</code> gets a &quot;key&quot; (while in xml it is a &quot;value&quot;)... A subtle change like <code>[&quot;0001-01-01T00:00:00&quot;]</code> (<code>{}-&gt;[]</code> ... object-&gt;array) would be far easier to transform/implement. (Is it an option?)"},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":2,"creation_date":1678108918,"post_id":75651295,"comment_id":133463972,"body_markdown":"thanks, that&#39;s me asking that question, with xstream, years ago","body":"thanks, that&#39;s me asking that question, with xstream, years ago"},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1678109118,"post_id":75651295,"comment_id":133464043,"body_markdown":"@xerx593 I mostly want to get rid of &#39;class&#39; and &#39;resolves-to&#39;","body":"@xerx593 I mostly want to get rid of &#39;class&#39; and &#39;resolves-to&#39;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678109245,"post_id":75651295,"comment_id":133464091,"body_markdown":"If you *need* this format: You have a to extract the date from XML and put it (as a key!) into desired JSON structure(/map) (with `value=null`)","body":"If you <i>need</i> this format: You have a to extract the date from XML and put it (as a key!) into desired JSON structure(/map) (with <code>value=null</code>)"},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1678109296,"post_id":75651295,"comment_id":133464108,"body_markdown":"I  don&#39;t understand.  dateIssuedField is the key.","body":"I  don&#39;t understand.  dateIssuedField is the key."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678109424,"post_id":75651295,"comment_id":133464148,"body_markdown":"And &quot;sub key&quot;?... (Is in XML &quot;lexicalValue&quot;..in (desired) JSON the value is a/the (sub) key )","body":"And &quot;sub key&quot;?... (Is in XML &quot;lexicalValue&quot;..in (desired) JSON the value is a/the (sub) key )"},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1678109534,"post_id":75651295,"comment_id":133464195,"body_markdown":"i can keep the sub-key lexicalValue if necessary.   the date is still a value though.","body":"i can keep the sub-key lexicalValue if necessary.   the date is still a value though."}],"answers":[{"comments":[{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":1,"creation_date":1678119458,"post_id":75652841,"comment_id":133467328,"body_markdown":"thanks for the big help.  I&#39;ll reply soon when i get it working.  (gotta do some traversing, etc).","body":"thanks for the big help.  I&#39;ll reply soon when i get it working.  (gotta do some traversing, etc)."},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":1,"creation_date":1678132607,"post_id":75652841,"comment_id":133470944,"body_markdown":"I managed to get it working with your answer (and some recursion)","body":"I managed to get it working with your answer (and some recursion)"}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678117138,"creation_date":1678117138,"answer_id":75652841,"question_id":75651295,"body_markdown":"As I commented: The desired output format \r\n\r\n```lang-json\r\n{&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;}}\r\n```\r\n\r\nis not really/fully [valid JSON][1]...\r\n\r\n(1) null value:\r\n```\r\n{&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;: null}}\r\n```\r\nor (2) single element array:\r\n```\r\n{&quot;dateIssuedField&quot;: [&quot;0001-01-01T00:00:00&quot;]}\r\n```\r\nor just (my fav 3):\r\n```\r\n{&quot;dateIssuedField&quot;: &quot;0001-01-01T00:00:00&quot;}\r\n```\r\nwould be.\r\n\r\n\r\n----------\r\n\r\n\r\nWith `in.xml`:\r\n```lang-xml\r\n&lt;myRoot&gt;\r\n  &lt;dateIssuedField class=&quot;foo.bar.Baz&quot; resolves-to=&quot;com.example.Ignore&quot;&gt;\r\n    &lt;lexicalValue&gt;0001-01-01T00:00:00&lt;/lexicalValue&gt;\r\n  &lt;/dateIssuedField&gt;\r\n&lt;/myRoot&gt;\r\n```\r\n(jdk:19, jackson-databind+jackson-dataformat-xml:2.14.2), we can navigate and modify the object tree as see fit.\r\n\r\nTo achieve (1):\r\n```lang-java\r\npackage com.acme.jackson;\r\n\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\npublic class Demo1 {\r\n\r\n  public static void main(String[] args) {\r\n    XmlMapper xmlMapper = new XmlMapper();\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    // xmlMapper.configure ...\r\n    try (InputStream xml = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;in.xml&quot;)) {\r\n      // navigate the structure...:\r\n      ObjectNode root = (ObjectNode) xmlMapper.readTree(xml);\r\n      ObjectNode node = (ObjectNode) root.get(&quot;dateIssuedField&quot;);\r\n\r\n      // ..and modify to our needs:\r\n      node.remove(&quot;class&quot;);\r\n      node.remove(&quot;resolves-to&quot;); // ...\r\n\r\n      // ...value to key:\r\n      String val = node.get(&quot;lexicalValue&quot;).textValue();\r\n      node.remove(&quot;lexicalValue&quot;);\r\n      node.put(val, (String) null);\r\n\r\n      // and verify:\r\n      System.err.println(objectMapper.writeValueAsString(root));\r\n    } catch (IOException ex) {\r\n      System.err.println(&quot;ohoh:&quot;);\r\n      System.err.println(ex.getLocalizedMessage());\r\n    }\r\n\r\n  }\r\n}\r\n```\r\nprints:\r\n```lang-json\r\n{&quot;dateIssuedField&quot;:{&quot;0001-01-01T00:00:00&quot;:null}}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nFor (my fav 3) we can:\r\n```lang-java\r\n// ...\r\ntry (InputStream xml = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;in.xml&quot;)) {\r\n  ObjectNode root = (ObjectNode) xmlMapper.readTree(xml);\r\n  root.replace(&quot;dateIssuedField&quot;,\r\n    new TextNode(\r\n      ((ObjectNode) root.get(&quot;dateIssuedField&quot;)).get(&quot;lexicalValue&quot;).textValue()\r\n    )\r\n  );\r\n  // verify:\r\n  System.err.println(objectMapper.writeValueAsString(root));\r\n} catch (IOException ex) { // ...\r\n```\r\nprints:\r\n```lang-json\r\n{&quot;dateIssuedField&quot;:&quot;0001-01-01T00:00:00&quot;}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nEven better: Map your model (of interest) as objects!\r\n\r\nFor larger models, it is worth to cope with (model/object/schema) &quot;generation&quot;. And always an option: To model &quot;manually&quot;.\r\n\r\nAdvantages: \r\n- No need to cast\r\n- Accessor navigation\r\n- More flexible de-/serialization\r\n- OO advantages/modeling flexibility\r\n- ...\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JSON","title":"Jackson XML to JSON, ignore attributes","body":"<p>As I commented: The desired output format</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;}}\n</code></pre>\n<p>is not really/fully <a href=\"https://en.wikipedia.org/wiki/JSON\" rel=\"nofollow noreferrer\">valid JSON</a>...</p>\n<p>(1) null value:</p>\n<pre><code>{&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;: null}}\n</code></pre>\n<p>or (2) single element array:</p>\n<pre><code>{&quot;dateIssuedField&quot;: [&quot;0001-01-01T00:00:00&quot;]}\n</code></pre>\n<p>or just (my fav 3):</p>\n<pre><code>{&quot;dateIssuedField&quot;: &quot;0001-01-01T00:00:00&quot;}\n</code></pre>\n<p>would be.</p>\n<hr />\n<p>With <code>in.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;myRoot&gt;\n  &lt;dateIssuedField class=&quot;foo.bar.Baz&quot; resolves-to=&quot;com.example.Ignore&quot;&gt;\n    &lt;lexicalValue&gt;0001-01-01T00:00:00&lt;/lexicalValue&gt;\n  &lt;/dateIssuedField&gt;\n&lt;/myRoot&gt;\n</code></pre>\n<p>(jdk:19, jackson-databind+jackson-dataformat-xml:2.14.2), we can navigate and modify the object tree as see fit.</p>\n<p>To achieve (1):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.acme.jackson;\n\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class Demo1 {\n\n  public static void main(String[] args) {\n    XmlMapper xmlMapper = new XmlMapper();\n    ObjectMapper objectMapper = new ObjectMapper();\n    // xmlMapper.configure ...\n    try (InputStream xml = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;in.xml&quot;)) {\n      // navigate the structure...:\n      ObjectNode root = (ObjectNode) xmlMapper.readTree(xml);\n      ObjectNode node = (ObjectNode) root.get(&quot;dateIssuedField&quot;);\n\n      // ..and modify to our needs:\n      node.remove(&quot;class&quot;);\n      node.remove(&quot;resolves-to&quot;); // ...\n\n      // ...value to key:\n      String val = node.get(&quot;lexicalValue&quot;).textValue();\n      node.remove(&quot;lexicalValue&quot;);\n      node.put(val, (String) null);\n\n      // and verify:\n      System.err.println(objectMapper.writeValueAsString(root));\n    } catch (IOException ex) {\n      System.err.println(&quot;ohoh:&quot;);\n      System.err.println(ex.getLocalizedMessage());\n    }\n\n  }\n}\n</code></pre>\n<p>prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;dateIssuedField&quot;:{&quot;0001-01-01T00:00:00&quot;:null}}\n</code></pre>\n<hr />\n<p>For (my fav 3) we can:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ...\ntry (InputStream xml = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;in.xml&quot;)) {\n  ObjectNode root = (ObjectNode) xmlMapper.readTree(xml);\n  root.replace(&quot;dateIssuedField&quot;,\n    new TextNode(\n      ((ObjectNode) root.get(&quot;dateIssuedField&quot;)).get(&quot;lexicalValue&quot;).textValue()\n    )\n  );\n  // verify:\n  System.err.println(objectMapper.writeValueAsString(root));\n} catch (IOException ex) { // ...\n</code></pre>\n<p>prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;dateIssuedField&quot;:&quot;0001-01-01T00:00:00&quot;}\n</code></pre>\n<hr />\n<p>Even better: Map your model (of interest) as objects!</p>\n<p>For larger models, it is worth to cope with (model/object/schema) &quot;generation&quot;. And always an option: To model &quot;manually&quot;.</p>\n<p>Advantages:</p>\n<ul>\n<li>No need to cast</li>\n<li>Accessor navigation</li>\n<li>More flexible de-/serialization</li>\n<li>OO advantages/modeling flexibility</li>\n<li>...</li>\n</ul>\n"}],"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75652841,"answer_count":1,"score":1,"last_activity_date":1678300540,"creation_date":1678108413,"question_id":75651295,"body_markdown":"I have XML like this:\r\n\r\n    ....\r\n      &lt;dateIssuedField class=&quot;org.apache.xerces.jaxp.datatype.XMLGregorianCalendarImpl&quot; resolves-to=&quot;org.apache.xerces.jaxp.datatype.SerializedXMLGregorianCalendar&quot;&gt;\r\n        &lt;lexicalValue&gt;0001-01-01T00:00:00&lt;/lexicalValue&gt;\r\n      &lt;/dateIssuedField&gt;\r\n    ....\r\n\r\nand I&#39;d like to get JSON like this:\r\n\r\n    &quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;}\r\n\r\n\r\nI&#39;ve tried so many things.  Unfortunately this &#39;class&#39; and &#39;resolves-to&#39; don&#39;t actually match any existing class.  So I can&#39;t add a serializer/deserializer that matches these classes.\r\n\r\nThe simplest fix would be to get rid of all attributes.  Then I&#39;ll just deal with &#39;lexicalValue&#39;. \r\n But I can&#39;t even work that out.\r\n\r\n\r\n\r\n\tXmlMapper xmlMapper = new XmlMapper();\r\n\txmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\n\tJsonNode node = xmlMapper.readTree(xml.getBytes());\r\n\tObjectMapper objectMapper = new ObjectMapper();\r\n\tString jsonOutput = objectMapper.writeValueAsString(node);\r\n\t\t\t\r\n\r\nI don&#39;t have the classes generated, so I can&#39;t use annotations to ignore the fields.\r\n\r\nIt looks like there is a MixIn technique, but I can&#39;t work out how to use it in this case.\r\n","title":"Jackson XML to JSON, ignore attributes","body":"<p>I have XML like this:</p>\n<pre><code>....\n  &lt;dateIssuedField class=&quot;org.apache.xerces.jaxp.datatype.XMLGregorianCalendarImpl&quot; resolves-to=&quot;org.apache.xerces.jaxp.datatype.SerializedXMLGregorianCalendar&quot;&gt;\n    &lt;lexicalValue&gt;0001-01-01T00:00:00&lt;/lexicalValue&gt;\n  &lt;/dateIssuedField&gt;\n....\n</code></pre>\n<p>and I'd like to get JSON like this:</p>\n<pre><code>&quot;dateIssuedField&quot;: {&quot;0001-01-01T00:00:00&quot;}\n</code></pre>\n<p>I've tried so many things.  Unfortunately this 'class' and 'resolves-to' don't actually match any existing class.  So I can't add a serializer/deserializer that matches these classes.</p>\n<p>The simplest fix would be to get rid of all attributes.  Then I'll just deal with 'lexicalValue'.\nBut I can't even work that out.</p>\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\nxmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n\nJsonNode node = xmlMapper.readTree(xml.getBytes());\nObjectMapper objectMapper = new ObjectMapper();\nString jsonOutput = objectMapper.writeValueAsString(node);\n        \n</code></pre>\n<p>I don't have the classes generated, so I can't use annotations to ignore the fields.</p>\n<p>It looks like there is a MixIn technique, but I can't work out how to use it in this case.</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":1905059,"reputation":1845,"user_id":1720101,"accept_rate":37,"display_name":"Shvalb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678300498,"creation_date":1678156279,"answer_id":75657559,"question_id":75655505,"body_markdown":"The way to do this is by injecting the parameter using the ObjectMapper + @JsonInject annotation. Hope this helps anyone..\r\n\r\nhttps://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jacksoninject.html\r\n","title":"Pass arguments to JsonDeserializer not via Annotations","body":"<p>The way to do this is by injecting the parameter using the ObjectMapper + @JsonInject annotation. Hope this helps anyone..</p>\n<p><a href=\"https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jacksoninject.html\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/jackson_annotations/jackson_annotations_jacksoninject.html</a></p>\n"}],"owner":{"account_id":1905059,"reputation":1845,"user_id":1720101,"accept_rate":37,"display_name":"Shvalb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678300498,"creation_date":1678134280,"question_id":75655505,"body_markdown":"I&#39;ve the following requirement:\r\nWrite a `JsonDeserializer` that is invoked when doing something like:\r\n\r\n```\r\npublic CustomConfiguration deserialize(User user, String data) {\r\n    objectMapper.readValue(data, CustomConfiguration.class);\r\n}\r\n```\r\n\r\n*AND* I would like to pass the `user` instance to the `deserialize` method.\r\n\r\nP.S: I&#39;m using SpringBoot 2.7.3, so my CustomDeserializes class uses the `@JsonComponent` annotation, so I&#39;m able to `@Autowired` objects.\r\n\r\nIs there a nice way to make this happen?\r\n\r\nThank you!","title":"Pass arguments to JsonDeserializer not via Annotations","body":"<p>I've the following requirement:\nWrite a <code>JsonDeserializer</code> that is invoked when doing something like:</p>\n<pre><code>public CustomConfiguration deserialize(User user, String data) {\n    objectMapper.readValue(data, CustomConfiguration.class);\n}\n</code></pre>\n<p><em>AND</em> I would like to pass the <code>user</code> instance to the <code>deserialize</code> method.</p>\n<p>P.S: I'm using SpringBoot 2.7.3, so my CustomDeserializes class uses the <code>@JsonComponent</code> annotation, so I'm able to <code>@Autowired</code> objects.</p>\n<p>Is there a nice way to make this happen?</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","reverse-engineering"],"owner":{"account_id":23479798,"reputation":11,"user_id":17532119,"display_name":"Noah Osterholz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678300459,"creation_date":1678300459,"question_id":75676929,"body_markdown":"The title about sums it up. In my case I want to have a link (for usage in a QR-Code) that opens a specific route planner app and directly enters the current location as starting point and a fixed location as destination. The app allows me to add shortcuts for specific connections to my homescreen but I couldn&#39;t figure out how to extract the link from these shortcuts. I did some reverse engineering in the past but never on a mobile app but that wouldn&#39;t be too much if it was needed. Also the app is very simple, presumably written in java and you don&#39;t need an account to use it so it should be exactly the same for every user. Can someone point me in the right direction here?\r\n\r\nI haven&#39;t yet tried anything but searching the app for the desired function. I frankly don&#39;t know where to start with this as I don&#39;t have a clue about anything mobile related.","title":"How can I extract an applink for an app that doesn&#39;t have a function for this itself?","body":"<p>The title about sums it up. In my case I want to have a link (for usage in a QR-Code) that opens a specific route planner app and directly enters the current location as starting point and a fixed location as destination. The app allows me to add shortcuts for specific connections to my homescreen but I couldn't figure out how to extract the link from these shortcuts. I did some reverse engineering in the past but never on a mobile app but that wouldn't be too much if it was needed. Also the app is very simple, presumably written in java and you don't need an account to use it so it should be exactly the same for every user. Can someone point me in the right direction here?</p>\n<p>I haven't yet tried anything but searching the app for the desired function. I frankly don't know where to start with this as I don't have a clue about anything mobile related.</p>\n"},{"tags":["java","json","spring-boot","jackson","spring-restcontroller"],"comments":[{"owner":{"account_id":2453179,"reputation":1066,"user_id":2138953,"accept_rate":83,"display_name":"PAX"},"score":0,"creation_date":1678265688,"post_id":75670577,"comment_id":133497611,"body_markdown":"Does this annotation is effective on method/class level? `@JsonFormat(prettyPrint = true)`","body":"Does this annotation is effective on method/class level? <code>@JsonFormat(prettyPrint = true)</code>"},{"owner":{"account_id":27963203,"reputation":1,"user_id":21354545,"display_name":"Y&#39;Kotyk"},"score":0,"creation_date":1678272385,"post_id":75670577,"comment_id":133499324,"body_markdown":"@PAX JsonFormat has not property prettyPrint","body":"@PAX JsonFormat has not property prettyPrint"}],"answers":[{"comments":[{"owner":{"account_id":27963203,"reputation":1,"user_id":21354545,"display_name":"Y&#39;Kotyk"},"score":2,"creation_date":1678272523,"post_id":75671075,"comment_id":133499355,"body_markdown":"Its doesn&#39;t work. I tried JsonFormat(shape = JsonFormat.Shape.OBJECT) on entity, on controller class and on methods in controller.","body":"Its doesn&#39;t work. I tried JsonFormat(shape = JsonFormat.Shape.OBJECT) on entity, on controller class and on methods in controller."}],"tags":[],"owner":{"account_id":16518376,"reputation":11,"user_id":11935193,"display_name":"TIM BERR"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678266063,"creation_date":1678266063,"answer_id":75671075,"question_id":75670577,"body_markdown":"Let&#39;s say you have a simple `Person` class with 2 properties, `name` and `age`:\r\n\r\n    public class Person {\r\n\r\n       private String name;\r\n       private int age;\r\n\r\n       public Person(String name, int age) {\r\n           this.name = name;\r\n           this.age = age;\r\n       }\r\n\r\n       public String getName() {\r\n           return name;\r\n       }\r\n\r\n       public int getAge() {\r\n           return age;\r\n       }\r\n    }\r\n\r\nAnd let&#39;s say you have a spring `RestController` that returns a `Person` object as JSON:\r\n\r\n    @RestController\r\n    public class MyRestController {\r\n\r\n       @GetMapping(&quot;/person&quot;)\r\n       public Person getPerson() {\r\n          return new Person(&quot;John Doe&quot;, 30);\r\n       }\r\n    }\r\n\r\nBy default, the JSON output will be compact and not indented:\r\n\r\n    {&quot;name&quot;:&quot;John Doe&quot;,&quot;age&quot;:30}\r\n\r\nTo pretty-print the JSON output, you can use the `@JsonFormat` annotation on the `Person` class:\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\n    public class Person {\r\n        //...\r\n    }\r\n\r\nThe `shape` property of the annotation specifics the shape of the serialized JSON. In this case, we set it to `JsonFormat.Shape.OBJECT` to indicate that the output should be formatted as a JSON object.\r\n\r\nNow, when you call the `/Person` endpoint, the JSON output will be pretty-printed\r\n\r\n    {\r\n      &quot;name&quot; : &quot;John Doe&quot;,\r\n      &quot;age&quot; : 30\r\n    }\r\n\r\nAs you can see, the JSON output is now indented and easier to read.\r\n\r\n","title":"How to make Indent output JSONs by annotations in RestController?","body":"<p>Let's say you have a simple <code>Person</code> class with 2 properties, <code>name</code> and <code>age</code>:</p>\n<pre><code>public class Person {\n\n   private String name;\n   private int age;\n\n   public Person(String name, int age) {\n       this.name = name;\n       this.age = age;\n   }\n\n   public String getName() {\n       return name;\n   }\n\n   public int getAge() {\n       return age;\n   }\n}\n</code></pre>\n<p>And let's say you have a spring <code>RestController</code> that returns a <code>Person</code> object as JSON:</p>\n<pre><code>@RestController\npublic class MyRestController {\n\n   @GetMapping(&quot;/person&quot;)\n   public Person getPerson() {\n      return new Person(&quot;John Doe&quot;, 30);\n   }\n}\n</code></pre>\n<p>By default, the JSON output will be compact and not indented:</p>\n<pre><code>{&quot;name&quot;:&quot;John Doe&quot;,&quot;age&quot;:30}\n</code></pre>\n<p>To pretty-print the JSON output, you can use the <code>@JsonFormat</code> annotation on the <code>Person</code> class:</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic class Person {\n    //...\n}\n</code></pre>\n<p>The <code>shape</code> property of the annotation specifics the shape of the serialized JSON. In this case, we set it to <code>JsonFormat.Shape.OBJECT</code> to indicate that the output should be formatted as a JSON object.</p>\n<p>Now, when you call the <code>/Person</code> endpoint, the JSON output will be pretty-printed</p>\n<pre><code>{\n  &quot;name&quot; : &quot;John Doe&quot;,\n  &quot;age&quot; : 30\n}\n</code></pre>\n<p>As you can see, the JSON output is now indented and easier to read.</p>\n"}],"owner":{"account_id":27963203,"reputation":1,"user_id":21354545,"display_name":"Y&#39;Kotyk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678300373,"creation_date":1678262637,"question_id":75670577,"body_markdown":"I need to pretty output JSONs. Is there an annotation for RestController that will help to do this? This is a spring boot application that produces = MediaType.APPLICATION_JSON_VALUE in @RequestMapping.\r\n\r\nI found one way with the configuration in application.yml\r\n```\r\njackson:\r\n  serialization:\r\n    indent-output: true\r\n```\r\nHowever, this solution imposes this rule on the entire project, and I want to do this for only one class.\r\nAlso, I think @JsonSerialize can help me, but I couldn&#39;t set up an annotation for pretty print","title":"How to make Indent output JSONs by annotations in RestController?","body":"<p>I need to pretty output JSONs. Is there an annotation for RestController that will help to do this? This is a spring boot application that produces = MediaType.APPLICATION_JSON_VALUE in @RequestMapping.</p>\n<p>I found one way with the configuration in application.yml</p>\n<pre><code>jackson:\n  serialization:\n    indent-output: true\n</code></pre>\n<p>However, this solution imposes this rule on the entire project, and I want to do this for only one class.\nAlso, I think @JsonSerialize can help me, but I couldn't set up an annotation for pretty print</p>\n"},{"tags":["java","spring","spring-boot","wildfly"],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678300112,"creation_date":1678300112,"answer_id":75676880,"question_id":75651961,"body_markdown":"You&#39;re using Spring Boot 3 which requires Jakarta EE 9+. WildFly 24 is a Jakarta EE 8 container. You need to use WildFly 27 which is Jakarta EE 10 or optionally WildFly 24 Preview which is Jakarta EE 9.1. I would suggest using WildFly 27.0.1.Final which can be found on the [WildFly downloads][1] page..\r\n\r\n[1]: https://www.wildfly.org/downloads/","title":"Not installing optional component org.springframework.web.servlet.tags.form.X due to an exception","body":"<p>You're using Spring Boot 3 which requires Jakarta EE 9+. WildFly 24 is a Jakarta EE 8 container. You need to use WildFly 27 which is Jakarta EE 10 or optionally WildFly 24 Preview which is Jakarta EE 9.1. I would suggest using WildFly 27.0.1.Final which can be found on the <a href=\"https://www.wildfly.org/downloads/\" rel=\"nofollow noreferrer\">WildFly downloads</a> page..</p>\n"}],"owner":{"account_id":20927538,"reputation":5,"user_id":15374648,"display_name":"denisxoctavian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75676880,"answer_count":1,"score":0,"last_activity_date":1678300112,"creation_date":1678112435,"question_id":75651961,"body_markdown":"I am trying to deploy app.war file to Wildfly 24.0. I get no errors when I am generating the WAR file with mvn clean install. I am using Spring Boot 3.0.4, Maven and Java 17. Everything works fine until I try to deploy the WAR file on Wildfly server I get this warn message:\r\n```\r\n(MSC service thread 1-2) WFLYEE0007: Not installing optional component org.springframework.web.servlet.tags.form.HiddenInputTag due to an exception (enable DEBUG log level to see the cause)\r\n16:04:59,240 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000128: Infinispan version: Infinispan &#39;Taedonggang&#39; 12.1.4.Final\r\n16:04:59,303 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n16:04:59,306 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n16:04:59,362 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller&#39;\r\n16:04:59,471 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000025: wakeUpInterval is &lt;= 0, not starting expired purge thread\r\n16:04:59,509 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\r\n16:04:59,548 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;wrapper.war&quot;.undertow-deployment.UndertowDeploymentInfoService: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;wrapper.war&quot;.undertow-deployment.UndertowDeploymentInfoService: Failed to start service\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.IllegalArgumentException: UT010009: Servlet app of type class org.springframework.web.servlet.DispatcherServlet does not implement javax.servlet.Servlet\r\n        at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.api.ServletInfo.&lt;init&gt;(ServletInfo.java:98)\r\n        at org.wildfly.extension.undertow@24.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createServletConfig(UndertowDeploymentInfoService.java:753)\r\n        at org.wildfly.extension.undertow@24.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.start(UndertowDeploymentInfoService.java:305)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n        ... 6 more\r\n```\r\nAnd because of that I have multiple warning messages. I have checked and org.springframework.web is in my project and also in the module of the wildfly server. This is how my mvn dependency:tree looks like:\r\n\r\n```\r\n[INFO] +- com.splunk:splunk:jar:1.9.3:compile\r\n[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile\r\n[INFO] |  +- com.google.code.gson:gson:jar:2.9.1:compile\r\n[INFO] |  \\- net.sf.opencsv:opencsv:jar:2.3:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.4:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\r\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\r\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.4:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\r\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:6.0.6:compile\r\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.6:compile\r\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.10.4:compile\r\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.10.4:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.6:compile\r\n[INFO] |     +- org.springframework:spring-aop:jar:6.0.6:compile\r\n[INFO] |     +- org.springframework:spring-context:jar:6.0.6:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.6:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.4:provided\r\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.5:provided\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:provided\r\n[INFO] |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.5:provided\r\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:test\r\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:3.0.4:test\r\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:test\r\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\r\n[INFO]    |  +- net.minidev:json-smart:jar:2.4.8:test\r\n[INFO]    |  |  \\- net.minidev:accessors-smart:jar:2.4.8:test\r\n[INFO]    |  |     \\- org.ow2.asm:asm:jar:9.1:test\r\n[INFO]    |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\r\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:test\r\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:test\r\n[INFO]    +- org.assertj:assertj-core:jar:3.23.1:test\r\n[INFO]    |  \\- net.bytebuddy:byte-buddy:jar:1.12.23:test\r\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\r\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\r\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\r\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\r\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\r\n[INFO]    +- org.mockito:mockito-core:jar:4.8.1:test\r\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\r\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.2:test\r\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\r\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO]    +- org.springframework:spring-core:jar:6.0.6:compile\r\n[INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\r\n[INFO]    +- org.springframework:spring-test:jar:6.0.6:test\r\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n```\r\n\r\nAnd this is how the module.xml of the wildfly server looks like:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.springframework.spring&quot;&gt;\r\n  &lt;resources&gt;\r\n    &lt;resource-root path=&quot;spring-boot-maven-plugin-3.0.3.jar&quot;/&gt;\r\n    &lt;resource-root path=&quot;spring-boot-starter-3.0.3.jar&quot;/&gt;\r\n    &lt;resource-root path=&quot;spring-boot-starter-tomcat-3.0.3.jar&quot;/&gt;\r\n    &lt;resource-root path=&quot;spring-boot-starter-web-3.0.3.jar&quot;/&gt;\r\n    &lt;resource-root path=&quot;spring-boot-test-3.0.3.jar&quot;/&gt;\r\n\t&lt;resource-root path=&quot;spring-core-6.0.5.jar&quot;/&gt;\r\n\t&lt;resource-root path=&quot;spring-web-6.0.5.jar&quot;/&gt;\r\n\t&lt;resource-root path=&quot;spring-webmvc-6.0.6.jar&quot;/&gt;\r\n  &lt;/resources&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;module name=&quot;javax.api&quot;/&gt;\r\n    &lt;module name=&quot;org.apache.commons.logging&quot;/&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/module&gt;\r\n```\r\nHow can I get rid of this problem ?\r\n\r\n\r\n\r\nI tried to change things in web.xml but no results.","title":"Not installing optional component org.springframework.web.servlet.tags.form.X due to an exception","body":"<p>I am trying to deploy app.war file to Wildfly 24.0. I get no errors when I am generating the WAR file with mvn clean install. I am using Spring Boot 3.0.4, Maven and Java 17. Everything works fine until I try to deploy the WAR file on Wildfly server I get this warn message:</p>\n<pre><code>(MSC service thread 1-2) WFLYEE0007: Not installing optional component org.springframework.web.servlet.tags.form.HiddenInputTag due to an exception (enable DEBUG log level to see the cause)\n16:04:59,240 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000128: Infinispan version: Infinispan 'Taedonggang' 12.1.4.Final\n16:04:59,303 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n16:04:59,306 INFO  [org.infinispan.CONFIG] (MSC service thread 1-1) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n16:04:59,362 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller'\n16:04:59,471 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000025: wakeUpInterval is &lt;= 0, not starting expired purge thread\n16:04:59,509 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\n16:04:59,548 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;wrapper.war&quot;.undertow-deployment.UndertowDeploymentInfoService: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;wrapper.war&quot;.undertow-deployment.UndertowDeploymentInfoService: Failed to start service\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1731)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1363)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalArgumentException: UT010009: Servlet app of type class org.springframework.web.servlet.DispatcherServlet does not implement javax.servlet.Servlet\n        at io.undertow.servlet@2.2.8.Final//io.undertow.servlet.api.ServletInfo.&lt;init&gt;(ServletInfo.java:98)\n        at org.wildfly.extension.undertow@24.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createServletConfig(UndertowDeploymentInfoService.java:753)\n        at org.wildfly.extension.undertow@24.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.start(UndertowDeploymentInfoService.java:305)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n        at org.jboss.msc@1.4.12.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n        ... 6 more\n</code></pre>\n<p>And because of that I have multiple warning messages. I have checked and org.springframework.web is in my project and also in the module of the wildfly server. This is how my mvn dependency:tree looks like:</p>\n<pre><code>[INFO] +- com.splunk:splunk:jar:1.9.3:compile\n[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile\n[INFO] |  +- com.google.code.gson:gson:jar:2.9.1:compile\n[INFO] |  \\- net.sf.opencsv:opencsv:jar:2.3:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.4:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.4:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.4:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:compile\n[INFO] |  +- org.springframework:spring-web:jar:6.0.6:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.6:compile\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.10.4:compile\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.10.4:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.6:compile\n[INFO] |     +- org.springframework:spring-aop:jar:6.0.6:compile\n[INFO] |     +- org.springframework:spring-context:jar:6.0.6:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.6:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.4:provided\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.5:provided\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:provided\n[INFO] |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.5:provided\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.0.4:test\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:3.0.4:test\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.4:test\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\n[INFO]    |  +- net.minidev:json-smart:jar:2.4.8:test\n[INFO]    |  |  \\- net.minidev:accessors-smart:jar:2.4.8:test\n[INFO]    |  |     \\- org.ow2.asm:asm:jar:9.1:test\n[INFO]    |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:test\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:test\n[INFO]    +- org.assertj:assertj-core:jar:3.23.1:test\n[INFO]    |  \\- net.bytebuddy:byte-buddy:jar:1.12.23:test\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\n[INFO]    +- org.mockito:mockito-core:jar:4.8.1:test\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO]    +- org.springframework:spring-core:jar:6.0.6:compile\n[INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\n[INFO]    +- org.springframework:spring-test:jar:6.0.6:test\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n</code></pre>\n<p>And this is how the module.xml of the wildfly server looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.springframework.spring&quot;&gt;\n  &lt;resources&gt;\n    &lt;resource-root path=&quot;spring-boot-maven-plugin-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-boot-starter-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-boot-starter-tomcat-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-boot-starter-web-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-boot-test-3.0.3.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-core-6.0.5.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-web-6.0.5.jar&quot;/&gt;\n    &lt;resource-root path=&quot;spring-webmvc-6.0.6.jar&quot;/&gt;\n  &lt;/resources&gt;\n  &lt;dependencies&gt;\n    &lt;module name=&quot;javax.api&quot;/&gt;\n    &lt;module name=&quot;org.apache.commons.logging&quot;/&gt;\n  &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n<p>How can I get rid of this problem ?</p>\n<p>I tried to change things in web.xml but no results.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1678299928,"post_id":75676590,"comment_id":133507491,"body_markdown":"This sounds a lot like dependency injection. You may want to google for that term, and see some of the common libraries/frameworks for it in Java. (I&#39;ve used Guice and Spring-Boot in the past, but there are others.)","body":"This sounds a lot like dependency injection. You may want to google for that term, and see some of the common libraries/frameworks for it in Java. (I&#39;ve used Guice and Spring-Boot in the past, but there are others.)"}],"answers":[{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678298565,"creation_date":1678298565,"answer_id":75676650,"question_id":75676590,"body_markdown":"Not as written.  The static return type is &#39;AnimalImpl&#39;.  But generics may be able to solve your problem; something like\r\n\r\n    class zoo {\r\n        &lt;T&gt; T getAnimal(Class&lt;T&gt; clazz);\r\n    }\r\n\r\n","title":"Can a I control the type of the return value of a method by passing different parameters to it?","body":"<p>Not as written.  The static return type is 'AnimalImpl'.  But generics may be able to solve your problem; something like</p>\n<pre><code>class zoo {\n    &lt;T&gt; T getAnimal(Class&lt;T&gt; clazz);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678300085,"creation_date":1678300085,"answer_id":75676874,"question_id":75676590,"body_markdown":"Generics, but, you don&#39;t want to use instances of `java.lang.Class` as the carrier of choice like this. It&#39;s extremely inflexible. For example, the job &#39;hey, here is an instance of `Class&lt;Lion&gt;`, now you get to make a lion&#39; __does not work__ - you have to hack your way out of the typesystem do to that, and just.. at runtime use reflection to ask for the no-args constructor, call it, and pray that it works. There is no way to tell the compiler that `Lion` (the class) _must_ have a no-args public constructor, and that it can&#39;t be abstract either.\r\n\r\nThe better solution is to make... a factory! (Yes, java is the clich&#233;d &#39;oooh factories everywhere&#39; language, but that&#39;s just people who misunderstand what this is or cribbing notes off of code bases that took it too far. The concept is quite useful, don&#39;t let the memes mislead you).\r\n\r\nYou want the concept of &#39;a thing that can describe an animal and make new instances of that animal, using this specific type-system-based specification&#39;.\r\n\r\nThus, you want something like:\r\n\r\n```\r\npublic interface AnimalMaker&lt;A extends Animal&gt; {\r\n  A create();\r\n  String describe();\r\n}\r\n\r\npublic abstract class Animal {}\r\n\r\npublic class Lion extends Animal {}\r\n\r\npublic class LionMaker implements AnimalMaker&lt;Lion&gt; {\r\n  public Lion create() { return new Lion(); }\r\n  public String describe() { return &quot;Describe lion here&quot;; }\r\n}\r\n```\r\n\r\nand then you can make a method that makes lions like so:\r\n\r\n```\r\npublic class Zoo {\r\n  public &lt;A extends Animal&gt; A importAnimal(AnimalMaker&lt;A&gt; maker) {\r\n    A animal = maker.create();\r\n    animals.add(animal);\r\n    return animal;\r\n  }\r\n}\r\n```\r\n\r\nand use _that_ like so:\r\n\r\n```\r\nvoid specializeAsLionZoo() {\r\n  LionMaker maker = new LionMaker();\r\n  Lion newLion = zoo.importAnimal(maker);\r\n}\r\n```\r\n","title":"Can a I control the type of the return value of a method by passing different parameters to it?","body":"<p>Generics, but, you don't want to use instances of <code>java.lang.Class</code> as the carrier of choice like this. It's extremely inflexible. For example, the job 'hey, here is an instance of <code>Class&lt;Lion&gt;</code>, now you get to make a lion' <strong>does not work</strong> - you have to hack your way out of the typesystem do to that, and just.. at runtime use reflection to ask for the no-args constructor, call it, and pray that it works. There is no way to tell the compiler that <code>Lion</code> (the class) <em>must</em> have a no-args public constructor, and that it can't be abstract either.</p>\n<p>The better solution is to make... a factory! (Yes, java is the clichéd 'oooh factories everywhere' language, but that's just people who misunderstand what this is or cribbing notes off of code bases that took it too far. The concept is quite useful, don't let the memes mislead you).</p>\n<p>You want the concept of 'a thing that can describe an animal and make new instances of that animal, using this specific type-system-based specification'.</p>\n<p>Thus, you want something like:</p>\n<pre><code>public interface AnimalMaker&lt;A extends Animal&gt; {\n  A create();\n  String describe();\n}\n\npublic abstract class Animal {}\n\npublic class Lion extends Animal {}\n\npublic class LionMaker implements AnimalMaker&lt;Lion&gt; {\n  public Lion create() { return new Lion(); }\n  public String describe() { return &quot;Describe lion here&quot;; }\n}\n</code></pre>\n<p>and then you can make a method that makes lions like so:</p>\n<pre><code>public class Zoo {\n  public &lt;A extends Animal&gt; A importAnimal(AnimalMaker&lt;A&gt; maker) {\n    A animal = maker.create();\n    animals.add(animal);\n    return animal;\n  }\n}\n</code></pre>\n<p>and use <em>that</em> like so:</p>\n<pre><code>void specializeAsLionZoo() {\n  LionMaker maker = new LionMaker();\n  Lion newLion = zoo.importAnimal(maker);\n}\n</code></pre>\n"}],"owner":{"account_id":400648,"reputation":5518,"user_id":766736,"accept_rate":49,"display_name":"Jer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678300085,"creation_date":1678298147,"question_id":75676590,"body_markdown":"To give a concrete example, I am looking to do something like the following (contrived example, of course):\r\n\r\n    Interface Animal {}\r\n    Interface AnimalImpl {}\r\n    Interface Lion extends Animal {}\r\n    Interface Hippo extends Animal {}\r\n    Class LionImpl implements Lion, AnimalImpl {}\r\n    Class HippoImpl implements Hippo, AnimalImpl {}\r\n\r\nThen we have a zoo which can have at most one Animal of each type.  It contains something like a map from class to AnimalImpl.\r\n\r\nThen I would want to call something like \r\n\r\n`zoo.getAnimal(Lion.class)` and have it return a Lion.  I can have it return an AnimalImpl, but then I have to cast to a Lion - I&#39;m looking to avoid that cast.  (And likewise, if I called `zoo.getAnimal(Hippo.class)`, it should return a Hippo.)\r\n\r\n","title":"Can a I control the type of the return value of a method by passing different parameters to it?","body":"<p>To give a concrete example, I am looking to do something like the following (contrived example, of course):</p>\n<pre><code>Interface Animal {}\nInterface AnimalImpl {}\nInterface Lion extends Animal {}\nInterface Hippo extends Animal {}\nClass LionImpl implements Lion, AnimalImpl {}\nClass HippoImpl implements Hippo, AnimalImpl {}\n</code></pre>\n<p>Then we have a zoo which can have at most one Animal of each type.  It contains something like a map from class to AnimalImpl.</p>\n<p>Then I would want to call something like</p>\n<p><code>zoo.getAnimal(Lion.class)</code> and have it return a Lion.  I can have it return an AnimalImpl, but then I have to cast to a Lion - I'm looking to avoid that cast.  (And likewise, if I called <code>zoo.getAnimal(Hippo.class)</code>, it should return a Hippo.)</p>\n"},{"tags":["java","jax-rs","open-liberty"],"comments":[{"owner":{"account_id":6890847,"reputation":2050,"user_id":5294422,"display_name":"F Rowe"},"score":0,"creation_date":1678225090,"post_id":75667179,"comment_id":133491464,"body_markdown":"What&#39;s in your feature list?  When you enable servlet-3.1, it enables jaxrs-1.1 and jaxrs-2.0 (see https://www.ibm.com/docs/en/was-liberty/base?topic=features-java-servlets-31)","body":"What&#39;s in your feature list?  When you enable servlet-3.1, it enables jaxrs-1.1 and jaxrs-2.0 (see <a href=\"https://www.ibm.com/docs/en/was-liberty/base?topic=features-java-servlets-31\" rel=\"nofollow noreferrer\">ibm.com/docs/en/was-liberty/&hellip;</a>)"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1678288652,"post_id":75667179,"comment_id":133504045,"body_markdown":"@FRowe it it the other way around - jaxrs enables servlets (not servlets jaxrs), as one may just use servlets without rest services. There is no embedded JAXRS, but maybe you are using default config which enables some features (eg webprofile)","body":"@FRowe it it the other way around - jaxrs enables servlets (not servlets jaxrs), as one may just use servlets without rest services. There is no embedded JAXRS, but maybe you are using default config which enables some features (eg webprofile)"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1678288767,"post_id":75667179,"comment_id":133504088,"body_markdown":"@Uzair add your `server.xml` to the question. If you want to use rest you need to add jaxrs feature.","body":"@Uzair add your <code>server.xml</code> to the question. If you want to use rest you need to add jaxrs feature."},{"owner":{"account_id":26460746,"reputation":1,"user_id":20102736,"display_name":"Uzair Hassan"},"score":0,"creation_date":1678300291,"post_id":75667179,"comment_id":133507595,"body_markdown":"updated with server.xml file. @Gas","body":"updated with server.xml file. @Gas"},{"owner":{"account_id":1623729,"reputation":5200,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1678385305,"post_id":75667179,"comment_id":133526802,"body_markdown":"@Uzair I can see why the error messages caused you to ask the question wondering if there was &quot;embedded JAXRS&quot; (though is that message coming from the server?).  But in any case, the feature set exposed to applications is carefully documented in the Open Liberty docs.  Sometimes one feature enables another, e.g. `jaxrs-2.0` enables `servlet-3.1`:   https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html#_features_that_this_feature_enables, and as I noted in a comment in the answer, EE 6 -level features like jaxrs-1.1 are only available in WebSphere Liberty not Open Liberty.","body":"@Uzair I can see why the error messages caused you to ask the question wondering if there was &quot;embedded JAXRS&quot; (though is that message coming from the server?).  But in any case, the feature set exposed to applications is carefully documented in the Open Liberty docs.  Sometimes one feature enables another, e.g. <code>jaxrs-2.0</code> enables <code>servlet-3.1</code>:   <a href=\"https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html#_features_that_this_feature_enables\" rel=\"nofollow noreferrer\">openliberty.io/docs/latest/reference/feature/&hellip;</a>, and as I noted in a comment in the answer, EE 6 -level features like jaxrs-1.1 are only available in WebSphere Liberty not Open Liberty."},{"owner":{"account_id":1623729,"reputation":5200,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1678385372,"post_id":75667179,"comment_id":133526815,"body_markdown":"Even if the Liberty server were to use some JAX-RS function internally without a JAX-RS feature being enabled, it would not be carefully guarded and not accessible for application use, without the appropriate features being enabled (in server.xml, etc.)","body":"Even if the Liberty server were to use some JAX-RS function internally without a JAX-RS feature being enabled, it would not be carefully guarded and not accessible for application use, without the appropriate features being enabled (in server.xml, etc.)"}],"answers":[{"comments":[{"owner":{"account_id":1623729,"reputation":5200,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1678384859,"post_id":75675306,"comment_id":133526683,"body_markdown":"Yes, the EE 6 features such as jaxrs-1.1 are available in WebSphere Liberty, but Open Liberty only supports EE 7 and above (generally speaking).","body":"Yes, the EE 6 features such as jaxrs-1.1 are available in WebSphere Liberty, but Open Liberty only supports EE 7 and above (generally speaking)."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678290980,"creation_date":1678290980,"answer_id":75675306,"question_id":75667179,"body_markdown":"When Liberty was first build, they made a concious decision to only support the more current standards. They didn&#39;t want to get bogged down with old and obsolete specifications.\r\n\r\nSo, as I understand it, OpenLiberty only supports JaxRS 2.0 and above, so the answer is no.\r\n\r\nSee:\r\n* https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html\r\n* https://openliberty.io/docs/latest/reference/feature/jaxrs-2.1.html\r\n* https://openliberty.io/docs/latest/reference/feature/restfulWS-3.0.html\r\n\r\n","title":"Is it possible to develop on OpenLiberty using JAXRS-1.1 feature? Does openliberty come embedded with specific feature sets that are abstracted away?","body":"<p>When Liberty was first build, they made a concious decision to only support the more current standards. They didn't want to get bogged down with old and obsolete specifications.</p>\n<p>So, as I understand it, OpenLiberty only supports JaxRS 2.0 and above, so the answer is no.</p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html\" rel=\"nofollow noreferrer\">https://openliberty.io/docs/latest/reference/feature/jaxrs-2.0.html</a></li>\n<li><a href=\"https://openliberty.io/docs/latest/reference/feature/jaxrs-2.1.html\" rel=\"nofollow noreferrer\">https://openliberty.io/docs/latest/reference/feature/jaxrs-2.1.html</a></li>\n<li><a href=\"https://openliberty.io/docs/latest/reference/feature/restfulWS-3.0.html\" rel=\"nofollow noreferrer\">https://openliberty.io/docs/latest/reference/feature/restfulWS-3.0.html</a></li>\n</ul>\n"}],"owner":{"account_id":26460746,"reputation":1,"user_id":20102736,"display_name":"Uzair Hassan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678300075,"creation_date":1678223311,"question_id":75667179,"body_markdown":"I am trying to build using JAXRS-1.1 feature along with servlet-3.1 and transportSecurity-1.0\r\nI am having a hard time with the set up.\r\n\r\nIf I do not include JAXRS-1.1, I still see many errors when making simple PUT calls to the server such as \r\n```\r\n[INFO] (org.codehaus.mojo.pluginsupport.ant.AntHelper) org.apache.cxf.interceptor.Fault\r\n[INFO] (org.codehaus.mojo.pluginsupport.ant.AntHelper) [WARNING ] Exception in handleFault on interceptor org.apache.cxf.jaxrs.interceptor.JAXRSDefaultFaultOutInterceptor@ccb42500\r\n```\r\n\r\nand this makes me think JAXRS comes embedded. \r\n\r\nI have not been able to figure out how to check if OpenLiberty comes embedded with JAXRS-2.0\r\n\r\nHere is the server.xml\r\n\r\n    &lt;server description=&quot;Sample Servlet server&quot;&gt;\r\n        &lt;featureManager&gt;\r\n            \r\n            &lt;!-- https://openliberty.io/docs/latest/reference/feature/microProfile-1.0.html --&gt;\r\n            \r\n            &lt;feature&gt;servlet-3.1&lt;/feature&gt;\r\n            &lt;feature&gt;transportSecurity-1.0&lt;/feature&gt;    \r\n        &lt;/featureManager&gt;\r\n    \r\n        &lt;variable name=&quot;default.https.port&quot; defaultValue=&quot;9443&quot; /&gt;\r\n        &lt;variable name=&quot;app.context.root&quot; defaultValue=&quot;ServletSample&quot; /&gt;\r\n        &lt;variable name=&quot;keystore.path&quot; defaultValue=&quot;${WLP_OUTPUT_DIR}/resources/security/key.p12&quot; /&gt;\r\n    \r\n        &lt;!-- tag::httpEndpoint[] --&gt;\r\n        &lt;httpEndpoint httpPort=&quot;-1&quot; httpsPort=&quot;${default.https.port}&quot; id=&quot;defaultHttpEndpoint&quot; host=&quot;*&quot; /&gt;\r\n        &lt;!-- end::httpEndpoint[] --&gt;\r\n    \r\n        &lt;webApplication location=&quot;ServletSample.war&quot; contextRoot=&quot;/&quot; /&gt;\r\n    \r\n        &lt;keyStore id=&quot;defaultKeyStore&quot; password=&quot;${env.GARBLED_KEYSTORE}&quot; /&gt;\r\n        &lt;ssl id=&quot;defaultSSLConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; clientAuthenticationSupported=&quot;true&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\r\n        &lt;ssl id=&quot;controllerConnectionConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\r\n        &lt;ssl id=&quot;memberConnectionConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\r\n    \r\n    &lt;/server&gt;\r\nand since it is a requirement to build with JAXRS-1.1, I have simply added that as a dependency in maven. Maven&#39;s pom.xml dependency section look like this:\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"Is it possible to develop on OpenLiberty using JAXRS-1.1 feature? Does openliberty come embedded with specific feature sets that are abstracted away?","body":"<p>I am trying to build using JAXRS-1.1 feature along with servlet-3.1 and transportSecurity-1.0\nI am having a hard time with the set up.</p>\n<p>If I do not include JAXRS-1.1, I still see many errors when making simple PUT calls to the server such as</p>\n<pre><code>[INFO] (org.codehaus.mojo.pluginsupport.ant.AntHelper) org.apache.cxf.interceptor.Fault\n[INFO] (org.codehaus.mojo.pluginsupport.ant.AntHelper) [WARNING ] Exception in handleFault on interceptor org.apache.cxf.jaxrs.interceptor.JAXRSDefaultFaultOutInterceptor@ccb42500\n</code></pre>\n<p>and this makes me think JAXRS comes embedded.</p>\n<p>I have not been able to figure out how to check if OpenLiberty comes embedded with JAXRS-2.0</p>\n<p>Here is the server.xml</p>\n<pre><code>&lt;server description=&quot;Sample Servlet server&quot;&gt;\n    &lt;featureManager&gt;\n        \n        &lt;!-- https://openliberty.io/docs/latest/reference/feature/microProfile-1.0.html --&gt;\n        \n        &lt;feature&gt;servlet-3.1&lt;/feature&gt;\n        &lt;feature&gt;transportSecurity-1.0&lt;/feature&gt;    \n    &lt;/featureManager&gt;\n\n    &lt;variable name=&quot;default.https.port&quot; defaultValue=&quot;9443&quot; /&gt;\n    &lt;variable name=&quot;app.context.root&quot; defaultValue=&quot;ServletSample&quot; /&gt;\n    &lt;variable name=&quot;keystore.path&quot; defaultValue=&quot;${WLP_OUTPUT_DIR}/resources/security/key.p12&quot; /&gt;\n\n    &lt;!-- tag::httpEndpoint[] --&gt;\n    &lt;httpEndpoint httpPort=&quot;-1&quot; httpsPort=&quot;${default.https.port}&quot; id=&quot;defaultHttpEndpoint&quot; host=&quot;*&quot; /&gt;\n    &lt;!-- end::httpEndpoint[] --&gt;\n\n    &lt;webApplication location=&quot;ServletSample.war&quot; contextRoot=&quot;/&quot; /&gt;\n\n    &lt;keyStore id=&quot;defaultKeyStore&quot; password=&quot;${env.GARBLED_KEYSTORE}&quot; /&gt;\n    &lt;ssl id=&quot;defaultSSLConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; clientAuthenticationSupported=&quot;true&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\n    &lt;ssl id=&quot;controllerConnectionConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\n    &lt;ssl id=&quot;memberConnectionConfig&quot; keyStoreRef=&quot;defaultKeyStore&quot; trustStoreRef=&quot;defaultKeyStore&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\n\n&lt;/server&gt;\n</code></pre>\n<p>and since it is a requirement to build with JAXRS-1.1, I have simply added that as a dependency in maven. Maven's pom.xml dependency section look like this:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-feign","feign","openfeign"],"comments":[{"owner":{"account_id":2591194,"reputation":673,"user_id":2245872,"accept_rate":63,"display_name":"Jo&#227;o Pereira"},"score":0,"creation_date":1682629964,"post_id":75542802,"comment_id":134250454,"body_markdown":"Did you find a fix to this?","body":"Did you find a fix to this?"}],"owner":{"account_id":27858689,"reputation":21,"user_id":21271673,"display_name":"robhok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1813,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678299942,"creation_date":1677144175,"question_id":75542802,"body_markdown":"I am using Spring-Boot 3.0.2 with openfeign 4.0.1 in a small Spring-boot application.\r\n\r\n```\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n\r\n...\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nMy feign client looks fairly easy:\r\n\r\n\r\n```\r\n@FeignClient\r\npublic interface MyFeignClient {\r\n\r\n    @RequestLine(&quot;GET /Users&quot;)\r\n    @CollectionFormat(feign.CollectionFormat.CSV)\r\n    BaseResponseWithResultSetDto&lt;UserResponseDto&gt; getAllowedUsers(@SpringQueryMap QueryDTO query);\r\n//...\r\n```\r\n\r\nThe query dto consists of 2 fields, select and filter which both are list of strings.\r\n\r\n```\r\npublic class QueryDTO{\r\n\r\n    @JsonProperty(&quot;$select&quot;)\r\n    private List&lt;String&gt; select;\r\n    @JsonProperty(&quot;$filter&quot;)\r\n    private List&lt;String&gt; filter;\r\n\r\n// getters + setters + add\r\n```\r\n\r\n\r\nAfter I built the client with the feign builder I try to call my getAllowedUsers method and pass my dto for filtering and selecting fields for the response.\r\n\r\n \r\n```\r\nQueryDTO dto = new QueryDTO ();\r\ndto.addSelect(&quot;UserCode&quot;);\r\ndto.addSelect(&quot;InternalKey&quot;);\r\ndto.addFilter(&quot;IsAllowed eq &#39;Y&#39;&quot;);\r\nBaseResponseWithResultSetDto&lt;UserResponseDto&gt; result = this.myFeignClient.getAllowedUsers(dto);\r\n```\r\n\r\nThe expected request URL would be:\r\n/Users?$select=UserCode,InternalKey&amp;$filter=IsAllowed eq &#39;Y&#39;\r\n\r\nBut instead feign only generates /Users and passes the query map as body in the GET request. This can be seen in the DEBUG log:\r\n\r\n```\r\n2023-02-23T09:53:52.840+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.headers                  : http-outgoing-0 &gt;&gt; GET /b1s/v2/Users HTTP/1.1\r\n...\r\n2023-02-23T09:53:52.856+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n2023-02-23T09:53:52.857+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;{[\\r][\\n]&quot;\r\n2023-02-23T09:53:52.858+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;  &quot;$select&quot; : [ &quot;UserCode&quot;, &quot;InternalKey&quot; ],[\\r][\\n]&quot;\r\n2023-02-23T09:53:52.858+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;  &quot;$filter&quot; : [ &quot;IsAllowed eq &#39;Y&#39;&quot; ][\\r][\\n]&quot;\r\n2023-02-23T09:53:52.859+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;}&quot;\r\n\r\n```\r\n\r\nAlso in the access log of the corresponding service I only see requests to /Users\r\n[23/Feb/2023:09:53:52 +0100] 127.0.0.1 290582 &quot;GET /b1s/v2/Users HTTP/1.1&quot; 200 18291 ssl=TLSv1.2 t=0s pid=5232 sid=- sid2=- n=- +\r\n\r\n\r\nAny ideas what I am missing? I am aware, that I could possibly use a PathParam, RequestParam, Param approach, but this is not what I intend for future use.\r\n\r\n\r\n\r\n\r\nI read the docs for Spring Open Feign, but the docs are a bit meager about the use and the result of this implementation. \r\n\r\nI expected that the resulting URL would be /Users?$select=UserCode,InternalKey&amp;$filter=IsAllowed eq &#39;Y&#39;\r\nbut instead the query params were passed as body in my GET request.","title":"SpringQueryMap adds query params as body instead passing them in the url","body":"<p>I am using Spring-Boot 3.0.2 with openfeign 4.0.1 in a small Spring-boot application.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n...\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My feign client looks fairly easy:</p>\n<pre><code>@FeignClient\npublic interface MyFeignClient {\n\n    @RequestLine(&quot;GET /Users&quot;)\n    @CollectionFormat(feign.CollectionFormat.CSV)\n    BaseResponseWithResultSetDto&lt;UserResponseDto&gt; getAllowedUsers(@SpringQueryMap QueryDTO query);\n//...\n</code></pre>\n<p>The query dto consists of 2 fields, select and filter which both are list of strings.</p>\n<pre><code>public class QueryDTO{\n\n    @JsonProperty(&quot;$select&quot;)\n    private List&lt;String&gt; select;\n    @JsonProperty(&quot;$filter&quot;)\n    private List&lt;String&gt; filter;\n\n// getters + setters + add\n</code></pre>\n<p>After I built the client with the feign builder I try to call my getAllowedUsers method and pass my dto for filtering and selecting fields for the response.</p>\n<pre><code>QueryDTO dto = new QueryDTO ();\ndto.addSelect(&quot;UserCode&quot;);\ndto.addSelect(&quot;InternalKey&quot;);\ndto.addFilter(&quot;IsAllowed eq 'Y'&quot;);\nBaseResponseWithResultSetDto&lt;UserResponseDto&gt; result = this.myFeignClient.getAllowedUsers(dto);\n</code></pre>\n<p>The expected request URL would be:\n/Users?$select=UserCode,InternalKey&amp;$filter=IsAllowed eq 'Y'</p>\n<p>But instead feign only generates /Users and passes the query map as body in the GET request. This can be seen in the DEBUG log:</p>\n<pre><code>2023-02-23T09:53:52.840+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.headers                  : http-outgoing-0 &gt;&gt; GET /b1s/v2/Users HTTP/1.1\n...\n2023-02-23T09:53:52.856+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\n2023-02-23T09:53:52.857+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;{[\\r][\\n]&quot;\n2023-02-23T09:53:52.858+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;  &quot;$select&quot; : [ &quot;UserCode&quot;, &quot;InternalKey&quot; ],[\\r][\\n]&quot;\n2023-02-23T09:53:52.858+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;  &quot;$filter&quot; : [ &quot;IsAllowed eq 'Y'&quot; ][\\r][\\n]&quot;\n2023-02-23T09:53:52.859+01:00 DEBUG 9236 --- [  restartedMain] org.apache.http.wire                     : http-outgoing-0 &gt;&gt; &quot;}&quot;\n\n</code></pre>\n<p>Also in the access log of the corresponding service I only see requests to /Users\n[23/Feb/2023:09:53:52 +0100] 127.0.0.1 290582 &quot;GET /b1s/v2/Users HTTP/1.1&quot; 200 18291 ssl=TLSv1.2 t=0s pid=5232 sid=- sid2=- n=- +</p>\n<p>Any ideas what I am missing? I am aware, that I could possibly use a PathParam, RequestParam, Param approach, but this is not what I intend for future use.</p>\n<p>I read the docs for Spring Open Feign, but the docs are a bit meager about the use and the result of this implementation.</p>\n<p>I expected that the resulting URL would be /Users?$select=UserCode,InternalKey&amp;$filter=IsAllowed eq 'Y'\nbut instead the query params were passed as body in my GET request.</p>\n"},{"tags":["java","jlink"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1678306253,"post_id":75676783,"comment_id":133509068,"body_markdown":"From `jlink --list-plugins`: &quot;--strip-native-commands Exclude native commands (such as java/java.exe) from the image.&quot; If you want it included, don&#39;t exclude it.","body":"From <code>jlink --list-plugins</code>: &quot;--strip-native-commands Exclude native commands (such as java/java.exe) from the image.&quot; If you want it included, don&#39;t exclude it."}],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678299421,"creation_date":1678299421,"question_id":75676783,"body_markdown":"I am trying to generate a JRE using jlink.\r\n\r\nI do so by executing:\r\n\r\n    /Library/Java/JavaVirtualMachines/temurin-18.jdk/Contents/Home/bin/jlink\r\n    --verbose --output /Users/alex/sources/project/target/runtime\r\n    --module-path /Users/alex/sources/project/target/mods\r\n    --add-modules java.desktop,java.base,java.logging,java.xml,java.scripting,java.compiler,java.instrument,jdk.unsupported,javafx.base,javafx.graphics,javafx.controls,javafx.fxml,java.sql,java.naming\r\n    --strip-native-commands\r\n    --no-header-files\r\n    --no-man-pages\r\n    --strip-debug\r\n    --compress=1\r\n\r\nthis is the generated runtime image:\r\n\r\n    out\r\n    ├── conf\r\n    │&#160;&#160; ├── logging.properties\r\n    │&#160;&#160; ├── net.properties\r\n    │&#160;&#160; ├── security\r\n    │&#160;&#160; │&#160;&#160; ├── java.policy\r\n    │&#160;&#160; │&#160;&#160; ├── java.security\r\n    │&#160;&#160; │&#160;&#160; └── policy\r\n    │&#160;&#160; │&#160;&#160;     ├── README.txt\r\n    │&#160;&#160; │&#160;&#160;     ├── limited\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160; ├── default_US_export.policy\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160; ├── default_local.policy\r\n    │&#160;&#160; │&#160;&#160;     │&#160;&#160; └── exempt_local.policy\r\n    │&#160;&#160; │&#160;&#160;     └── unlimited\r\n    │&#160;&#160; │&#160;&#160;         ├── default_US_export.policy\r\n    │&#160;&#160; │&#160;&#160;         └── default_local.policy\r\n    │&#160;&#160; └── sound.properties\r\n    ├── legal\r\n    │&#160;&#160; ├── java.base\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; ├── LICENSE\r\n    │&#160;&#160; │&#160;&#160; ├── aes.md\r\n    │&#160;&#160; │&#160;&#160; ├── asm.md\r\n    │&#160;&#160; │&#160;&#160; ├── c-libutl.md\r\n    │&#160;&#160; │&#160;&#160; ├── cldr.md\r\n    │&#160;&#160; │&#160;&#160; ├── icu.md\r\n    │&#160;&#160; │&#160;&#160; ├── public_suffix.md\r\n    │&#160;&#160; │&#160;&#160; └── unicode.md\r\n    │&#160;&#160; ├── java.compiler\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.datatransfer\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.desktop\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; ├── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; │&#160;&#160; ├── colorimaging.md\r\n    │&#160;&#160; │&#160;&#160; ├── freetype.md\r\n    │&#160;&#160; │&#160;&#160; ├── giflib.md\r\n    │&#160;&#160; │&#160;&#160; ├── harfbuzz.md\r\n    │&#160;&#160; │&#160;&#160; ├── jpeg.md\r\n    │&#160;&#160; │&#160;&#160; ├── lcms.md\r\n    │&#160;&#160; │&#160;&#160; ├── libpng.md\r\n    │&#160;&#160; │&#160;&#160; ├── mesa3d.md\r\n    │&#160;&#160; │&#160;&#160; └── xwd.md\r\n    │&#160;&#160; ├── java.instrument\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.logging\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.naming\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.prefs\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.scripting\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.security.sasl\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.sql\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.transaction.xa\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; └── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; ├── java.xml\r\n    │&#160;&#160; │&#160;&#160; ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160; │&#160;&#160; ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160; │&#160;&#160; ├── LICENSE -&gt; ../java.base/LICENSE\r\n    │&#160;&#160; │&#160;&#160; ├── bcel.md\r\n    │&#160;&#160; │&#160;&#160; ├── dom.md\r\n    │&#160;&#160; │&#160;&#160; ├── jcup.md\r\n    │&#160;&#160; │&#160;&#160; ├── xalan.md\r\n    │&#160;&#160; │&#160;&#160; └── xerces.md\r\n    │&#160;&#160; └── jdk.unsupported\r\n    │&#160;&#160;     ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\r\n    │&#160;&#160;     ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\r\n    │&#160;&#160;     └── LICENSE -&gt; ../java.base/LICENSE\r\n    ├── lib\r\n    │&#160;&#160; ├── classlist\r\n    │&#160;&#160; ├── fontconfig.bfc\r\n    │&#160;&#160; ├── fontconfig.properties.src\r\n    │&#160;&#160; ├── jrt-fs.jar\r\n    │&#160;&#160; ├── jspawnhelper\r\n    │&#160;&#160; ├── jvm.cfg\r\n    │&#160;&#160; ├── libawt.dylib\r\n    │&#160;&#160; ├── libawt_lwawt.dylib\r\n    │&#160;&#160; ├── libfontmanager.dylib\r\n    │&#160;&#160; ├── libfreetype.dylib\r\n    │&#160;&#160; ├── libinstrument.dylib\r\n    │&#160;&#160; ├── libjava.dylib\r\n    │&#160;&#160; ├── libjavajpeg.dylib\r\n    │&#160;&#160; ├── libjawt.dylib\r\n    │&#160;&#160; ├── libjimage.dylib\r\n    │&#160;&#160; ├── libjli.dylib\r\n    │&#160;&#160; ├── libjsig.dylib\r\n    │&#160;&#160; ├── libjsound.dylib\r\n    │&#160;&#160; ├── liblcms.dylib\r\n    │&#160;&#160; ├── libmlib_image.dylib\r\n    │&#160;&#160; ├── libnet.dylib\r\n    │&#160;&#160; ├── libnio.dylib\r\n    │&#160;&#160; ├── libosx.dylib\r\n    │&#160;&#160; ├── libosxapp.dylib\r\n    │&#160;&#160; ├── libosxsecurity.dylib\r\n    │&#160;&#160; ├── libosxui.dylib\r\n    │&#160;&#160; ├── libprefs.dylib\r\n    │&#160;&#160; ├── libsplashscreen.dylib\r\n    │&#160;&#160; ├── libverify.dylib\r\n    │&#160;&#160; ├── libzip.dylib\r\n    │&#160;&#160; ├── modules\r\n    │&#160;&#160; ├── psfont.properties.ja\r\n    │&#160;&#160; ├── psfontj2d.properties\r\n    │&#160;&#160; ├── security\r\n    │&#160;&#160; │&#160;&#160; ├── blocked.certs\r\n    │&#160;&#160; │&#160;&#160; ├── cacerts\r\n    │&#160;&#160; │&#160;&#160; ├── default.policy\r\n    │&#160;&#160; │&#160;&#160; └── public_suffix_list.dat\r\n    │&#160;&#160; ├── server\r\n    │&#160;&#160; │&#160;&#160; ├── libjsig.dylib\r\n    │&#160;&#160; │&#160;&#160; └── libjvm.dylib\r\n    │&#160;&#160; ├── shaders.metallib\r\n    │&#160;&#160; └── tzdb.dat\r\n    └── release\r\n\r\nWhat I am missing here is `bin/java`. How do I start Java using this runtime?\r\n\r\n","title":"jlink generated runtime does not contain Java binary","body":"<p>I am trying to generate a JRE using jlink.</p>\n<p>I do so by executing:</p>\n<pre><code>/Library/Java/JavaVirtualMachines/temurin-18.jdk/Contents/Home/bin/jlink\n--verbose --output /Users/alex/sources/project/target/runtime\n--module-path /Users/alex/sources/project/target/mods\n--add-modules java.desktop,java.base,java.logging,java.xml,java.scripting,java.compiler,java.instrument,jdk.unsupported,javafx.base,javafx.graphics,javafx.controls,javafx.fxml,java.sql,java.naming\n--strip-native-commands\n--no-header-files\n--no-man-pages\n--strip-debug\n--compress=1\n</code></pre>\n<p>this is the generated runtime image:</p>\n<pre><code>out\n├── conf\n│   ├── logging.properties\n│   ├── net.properties\n│   ├── security\n│   │   ├── java.policy\n│   │   ├── java.security\n│   │   └── policy\n│   │       ├── README.txt\n│   │       ├── limited\n│   │       │   ├── default_US_export.policy\n│   │       │   ├── default_local.policy\n│   │       │   └── exempt_local.policy\n│   │       └── unlimited\n│   │           ├── default_US_export.policy\n│   │           └── default_local.policy\n│   └── sound.properties\n├── legal\n│   ├── java.base\n│   │   ├── ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION\n│   │   ├── LICENSE\n│   │   ├── aes.md\n│   │   ├── asm.md\n│   │   ├── c-libutl.md\n│   │   ├── cldr.md\n│   │   ├── icu.md\n│   │   ├── public_suffix.md\n│   │   └── unicode.md\n│   ├── java.compiler\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.datatransfer\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.desktop\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   ├── LICENSE -&gt; ../java.base/LICENSE\n│   │   ├── colorimaging.md\n│   │   ├── freetype.md\n│   │   ├── giflib.md\n│   │   ├── harfbuzz.md\n│   │   ├── jpeg.md\n│   │   ├── lcms.md\n│   │   ├── libpng.md\n│   │   ├── mesa3d.md\n│   │   └── xwd.md\n│   ├── java.instrument\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.logging\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.naming\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.prefs\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.scripting\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.security.sasl\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.sql\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.transaction.xa\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   └── LICENSE -&gt; ../java.base/LICENSE\n│   ├── java.xml\n│   │   ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│   │   ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│   │   ├── LICENSE -&gt; ../java.base/LICENSE\n│   │   ├── bcel.md\n│   │   ├── dom.md\n│   │   ├── jcup.md\n│   │   ├── xalan.md\n│   │   └── xerces.md\n│   └── jdk.unsupported\n│       ├── ADDITIONAL_LICENSE_INFO -&gt; ../java.base/ADDITIONAL_LICENSE_INFO\n│       ├── ASSEMBLY_EXCEPTION -&gt; ../java.base/ASSEMBLY_EXCEPTION\n│       └── LICENSE -&gt; ../java.base/LICENSE\n├── lib\n│   ├── classlist\n│   ├── fontconfig.bfc\n│   ├── fontconfig.properties.src\n│   ├── jrt-fs.jar\n│   ├── jspawnhelper\n│   ├── jvm.cfg\n│   ├── libawt.dylib\n│   ├── libawt_lwawt.dylib\n│   ├── libfontmanager.dylib\n│   ├── libfreetype.dylib\n│   ├── libinstrument.dylib\n│   ├── libjava.dylib\n│   ├── libjavajpeg.dylib\n│   ├── libjawt.dylib\n│   ├── libjimage.dylib\n│   ├── libjli.dylib\n│   ├── libjsig.dylib\n│   ├── libjsound.dylib\n│   ├── liblcms.dylib\n│   ├── libmlib_image.dylib\n│   ├── libnet.dylib\n│   ├── libnio.dylib\n│   ├── libosx.dylib\n│   ├── libosxapp.dylib\n│   ├── libosxsecurity.dylib\n│   ├── libosxui.dylib\n│   ├── libprefs.dylib\n│   ├── libsplashscreen.dylib\n│   ├── libverify.dylib\n│   ├── libzip.dylib\n│   ├── modules\n│   ├── psfont.properties.ja\n│   ├── psfontj2d.properties\n│   ├── security\n│   │   ├── blocked.certs\n│   │   ├── cacerts\n│   │   ├── default.policy\n│   │   └── public_suffix_list.dat\n│   ├── server\n│   │   ├── libjsig.dylib\n│   │   └── libjvm.dylib\n│   ├── shaders.metallib\n│   └── tzdb.dat\n└── release\n</code></pre>\n<p>What I am missing here is <code>bin/java</code>. How do I start Java using this runtime?</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","queue"],"owner":{"account_id":15286938,"reputation":317,"user_id":11029695,"display_name":"khalD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678299324,"creation_date":1678293785,"question_id":75675855,"body_markdown":"I need to manage my API using a queue (RabbitMQ). In order to do this, I need to perform the following operations:\r\n\r\n1. Receive a request body in my API, which will be sent to the consumer. (The controller acts as the &quot;Producer.&quot;)\r\n2. Perform all operations inside the receiveMessage() function in the consumer class.\r\n3. Return a specific object that was processed inside the receiveMessage() function as a response in my controller.\r\n\r\nI am currently stuck on point 3 and I need something that logically works like this (on my controller I have only convertAndSend as void):\r\n\r\n```\r\n@RequestMapping(value = &quot;/api&quot;, method = RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json&quot;)\r\npublic ResponseEntity&lt;DTO&gt; apiController(@RequestBody Request body, HttpServletRequest request) {\r\n\r\n\t// send the message to the queue\r\n\trabbitTemplate.convertAndSend(RabbitMQConfig.EXCHANGE_NAME, RabbitMQConfig.QUEUE_NAME, body);\r\n    // how could I get the value returned from convertAndSend ?\r\n\r\n    // idelly i need to send the message to the queue and return the value like that, but i know that is not possible\r\n\t// DTO response = rabbitTemplate.convertAndSend(RabbitMQConfig.EXCHANGE_NAME, RabbitMQConfig.QUEUE_NAME, body);\r\n\t\t\r\n\treturn new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n}\r\n```\r\n\r\nBut i now that `rabbitTemplate.convertAndSend()` must be a void. Honestly i don&#39;t know how to figure it out, maybe I misunderstood something ?\r\n","title":"How to get object handled by consumer (RabbitMq using Spring Boot)","body":"<p>I need to manage my API using a queue (RabbitMQ). In order to do this, I need to perform the following operations:</p>\n<ol>\n<li>Receive a request body in my API, which will be sent to the consumer. (The controller acts as the &quot;Producer.&quot;)</li>\n<li>Perform all operations inside the receiveMessage() function in the consumer class.</li>\n<li>Return a specific object that was processed inside the receiveMessage() function as a response in my controller.</li>\n</ol>\n<p>I am currently stuck on point 3 and I need something that logically works like this (on my controller I have only convertAndSend as void):</p>\n<pre><code>@RequestMapping(value = &quot;/api&quot;, method = RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json&quot;)\npublic ResponseEntity&lt;DTO&gt; apiController(@RequestBody Request body, HttpServletRequest request) {\n\n    // send the message to the queue\n    rabbitTemplate.convertAndSend(RabbitMQConfig.EXCHANGE_NAME, RabbitMQConfig.QUEUE_NAME, body);\n    // how could I get the value returned from convertAndSend ?\n\n    // idelly i need to send the message to the queue and return the value like that, but i know that is not possible\n    // DTO response = rabbitTemplate.convertAndSend(RabbitMQConfig.EXCHANGE_NAME, RabbitMQConfig.QUEUE_NAME, body);\n        \n    return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n}\n</code></pre>\n<p>But i now that <code>rabbitTemplate.convertAndSend()</code> must be a void. Honestly i don't know how to figure it out, maybe I misunderstood something ?</p>\n"},{"tags":["java","database","oracle","hibernate","stored-procedures"],"owner":{"account_id":936903,"reputation":727,"user_id":965682,"accept_rate":54,"display_name":"Jack1987"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678298836,"creation_date":1678296600,"question_id":75676330,"body_markdown":"I&#39;m working in improving some performance issues in my Application. I have a stored procedure, in Oracle, using Java, Spring and Hibernate, I&#39;m calling the procedure, which creates a table, that table is mapped in an entity. Now, using this method, it takes almost a minute to complete, but executing directly in SQL Developer, takes 10 times less. Are there any tips or info out there about performance troubles using this tech stack to call the procedure? Code below:\r\n\r\n    public interface DRptRepository extends JpaRepository&lt;TgHyDetail, Long&gt; {  \r\n        @Procedure(procedureName = &quot;PKG_RPT.RPT&quot;)\r\n        public void executeReportPackage(@Param(&quot;P_ID&quot;) Long Id, @Param(&quot;Y&quot;) String y,\r\n                @Param(&quot;D&quot;) String d, @Param(&quot;A&quot;) String a, \r\n                @Param(&quot;N&quot;) Long n, @Param(&quot;R&quot;) Integer r, @Param(&quot;H&quot;) String h);   \r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;T&quot;)\r\n    public class TgHyDetail extends Domain {\r\n\r\n","title":"Calling stored procedure using Java and Hibernate takes to much time","body":"<p>I'm working in improving some performance issues in my Application. I have a stored procedure, in Oracle, using Java, Spring and Hibernate, I'm calling the procedure, which creates a table, that table is mapped in an entity. Now, using this method, it takes almost a minute to complete, but executing directly in SQL Developer, takes 10 times less. Are there any tips or info out there about performance troubles using this tech stack to call the procedure? Code below:</p>\n<pre><code>public interface DRptRepository extends JpaRepository&lt;TgHyDetail, Long&gt; {  \n    @Procedure(procedureName = &quot;PKG_RPT.RPT&quot;)\n    public void executeReportPackage(@Param(&quot;P_ID&quot;) Long Id, @Param(&quot;Y&quot;) String y,\n            @Param(&quot;D&quot;) String d, @Param(&quot;A&quot;) String a, \n            @Param(&quot;N&quot;) Long n, @Param(&quot;R&quot;) Integer r, @Param(&quot;H&quot;) String h);   \n}\n\n\n@Entity\n@Table(name = &quot;T&quot;)\npublic class TgHyDetail extends Domain {\n</code></pre>\n"},{"tags":["java","spring-boot","webserver","swagger-ui","springdoc"],"comments":[{"owner":{"account_id":12565083,"reputation":115,"user_id":11727348,"display_name":"mbluke"},"score":0,"creation_date":1678286880,"post_id":75602241,"comment_id":133503479,"body_markdown":"What is the behavior on a server, does it also pick up the IP address and not the host name?","body":"What is the behavior on a server, does it also pick up the IP address and not the host name?"}],"answers":[{"tags":[],"owner":{"account_id":12565083,"reputation":115,"user_id":11727348,"display_name":"mbluke"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678298788,"creation_date":1678298788,"answer_id":75676680,"question_id":75602241,"body_markdown":"Spring Boot 3.0.4 (which uses Spring Framework 6.0.6) fixes the issue. It was a Spring regression, see [https://github.com/spring-projects/spring-framework/issues/30033][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/30033","title":"After upgrade to Spring Boot 3 and Springdoc 2, server address changes from &quot;localhost&quot; to &quot;[0:0:0:0:0:0:0:1]&quot; or &quot;127.0.0.1&quot;","body":"<p>Spring Boot 3.0.4 (which uses Spring Framework 6.0.6) fixes the issue. It was a Spring regression, see <a href=\"https://github.com/spring-projects/spring-framework/issues/30033\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/30033</a></p>\n"}],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75676680,"answer_count":1,"score":0,"last_activity_date":1678298788,"creation_date":1677665454,"question_id":75602241,"body_markdown":"We recently upgraded our application to Spring Boot 3 and Springdoc 2:\r\n\r\n```xml\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.3&lt;/version&gt;\r\n&lt;/parent&gt;\r\n...\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n`application.properties` contain the port definition:\r\n\r\n```\r\nserver.port=8096\r\n```\r\n\r\nEverything works fine, the server is listening at the same endpoints as before, but OpenApi works differently than before.\r\n\r\nWhen I run SwaggerUI on the address `http://localhost:8096/swagger-ui.html` as usual, it generates the OpenApi definition with server address not as `http://localhost:8096` as before the upgrade, but as `http://[0:0:0:0:0:0:0:1]:8096`. For some reason it decides to use IPv6.\r\n\r\nWhen I modify `application.properties` to explicitly contain the server address:\r\n\r\n```\r\nserver.address=localhost\r\nserver.port=8096\r\n```\r\n\r\nOpenApi now willfuly replaces it with its IPv4 address, so the server address is now `http://127.0.0.1:8096`.\r\n\r\nThen I cannot test the endpoints from within SwaggerUI, because it causes CORS! (Swagger UI running in the browser at `http://localhost:8096`, however HTTP requests called from within the UI go to `http://127.0.0.1:8096`.)\r\n\r\nI would somehow accept it and call Swagger UI via the IP address, but it is awkward, and *most of all*, it **used to work smoothly before the upgrade**.\r\n\r\nI am running under Windows 11. For the record, I didn&#39;t do any changes in the operating system settings, and my Spring Boot 2 version still works as expected!\r\n\r\nI came with a workaround which is functional, but I am not happy with it as it is an ugly hack:\r\n\r\n```java\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.springdoc.core.customizers.ServerBaseUrlCustomizer;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class OpenApi30Config {\r\n    @Value(&quot;${spring.profiles.active}&quot;)\r\n    private String profile;\r\n\r\n    @Bean\r\n    public ServerBaseUrlCustomizer serverBaseUrlCustomizer() {\r\n        return serverBaseUrl -&gt; {\r\n            if (StringUtils.contains(profile, &quot;local&quot;)) {\r\n                String newServerBaseUrl = StringUtils.replace(serverBaseUrl, &quot;[0:0:0:0:0:0:0:1]&quot;, &quot;localhost&quot;);\r\n                newServerBaseUrl = StringUtils.replace(newServerBaseUrl, &quot;127.0.0.1&quot;, &quot;localhost&quot;);\r\n                return newServerBaseUrl;\r\n            }\r\n            return serverBaseUrl;\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n### Questions (strongly related):\r\n\r\n1. Why did Spring Boot 3 / OpenApi 2 change this behaviour?\r\n2. Is there a more &quot;canonical&quot; way to return it back to using `localhost` in the server address?","title":"After upgrade to Spring Boot 3 and Springdoc 2, server address changes from &quot;localhost&quot; to &quot;[0:0:0:0:0:0:0:1]&quot; or &quot;127.0.0.1&quot;","body":"<p>We recently upgraded our application to Spring Boot 3 and Springdoc 2:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3&lt;/version&gt;\n&lt;/parent&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><code>application.properties</code> contain the port definition:</p>\n<pre><code>server.port=8096\n</code></pre>\n<p>Everything works fine, the server is listening at the same endpoints as before, but OpenApi works differently than before.</p>\n<p>When I run SwaggerUI on the address <code>http://localhost:8096/swagger-ui.html</code> as usual, it generates the OpenApi definition with server address not as <code>http://localhost:8096</code> as before the upgrade, but as <code>http://[0:0:0:0:0:0:0:1]:8096</code>. For some reason it decides to use IPv6.</p>\n<p>When I modify <code>application.properties</code> to explicitly contain the server address:</p>\n<pre><code>server.address=localhost\nserver.port=8096\n</code></pre>\n<p>OpenApi now willfuly replaces it with its IPv4 address, so the server address is now <code>http://127.0.0.1:8096</code>.</p>\n<p>Then I cannot test the endpoints from within SwaggerUI, because it causes CORS! (Swagger UI running in the browser at <code>http://localhost:8096</code>, however HTTP requests called from within the UI go to <code>http://127.0.0.1:8096</code>.)</p>\n<p>I would somehow accept it and call Swagger UI via the IP address, but it is awkward, and <em>most of all</em>, it <strong>used to work smoothly before the upgrade</strong>.</p>\n<p>I am running under Windows 11. For the record, I didn't do any changes in the operating system settings, and my Spring Boot 2 version still works as expected!</p>\n<p>I came with a workaround which is functional, but I am not happy with it as it is an ugly hack:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.lang3.StringUtils;\nimport org.springdoc.core.customizers.ServerBaseUrlCustomizer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class OpenApi30Config {\n    @Value(&quot;${spring.profiles.active}&quot;)\n    private String profile;\n\n    @Bean\n    public ServerBaseUrlCustomizer serverBaseUrlCustomizer() {\n        return serverBaseUrl -&gt; {\n            if (StringUtils.contains(profile, &quot;local&quot;)) {\n                String newServerBaseUrl = StringUtils.replace(serverBaseUrl, &quot;[0:0:0:0:0:0:0:1]&quot;, &quot;localhost&quot;);\n                newServerBaseUrl = StringUtils.replace(newServerBaseUrl, &quot;127.0.0.1&quot;, &quot;localhost&quot;);\n                return newServerBaseUrl;\n            }\n            return serverBaseUrl;\n        };\n    }\n}\n</code></pre>\n<h3>Questions (strongly related):</h3>\n<ol>\n<li>Why did Spring Boot 3 / OpenApi 2 change this behaviour?</li>\n<li>Is there a more &quot;canonical&quot; way to return it back to using <code>localhost</code> in the server address?</li>\n</ol>\n"},{"tags":["java","properties","configuration","struts2","app-config"],"answers":[{"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1678298290,"post_id":75619459,"comment_id":133507096,"body_markdown":"You can also upvote this answer. It will help others to find a better solution.","body":"You can also upvote this answer. It will help others to find a better solution."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678298739,"creation_date":1677781495,"answer_id":75619459,"question_id":75591111,"body_markdown":"Struts2 keeps it&#39;s configuration in the `struts.xml` or `struts.properties` files that have loaded and parced on application startup. These properties can be accessible everywhere in you application, even via dependency injection.\r\n\r\nBut there&#39;s another way to configure your actions with properties files. It&#39;s known as Message Resource properties. You can configure them either in `struts.xml` or `struts.properties` file. The key/values are loaded via the\r\n\r\n&gt; Within action classes that extend `ActionSupport` through the `getText()` method\r\n\r\nThere&#39;s a lot of places and properties where you can configure. Everything about it is described in the [Localization Guide][1].\r\n\r\nFor your purpose you can use global properties, or custom text provider.\r\n\r\n\r\n\r\n&gt;Global Resources (`struts.custom.i18n.resource`s) in `struts.properties`\r\nA global resource bundle could be specified programmatically, as well as the locale.\r\n&gt;\r\n&gt;Comparison with Struts 1\r\nStruts 1 users should be familiar with the `application.properties` resource bundle, where you can put all the messages in the application that are going to be translated. Struts 2, though, splits the resource bundles \r\n&gt;\r\n&gt;Using only global bundles\r\nIf you don’t need to use the package-scan-functionality and only base on the global bundles (those provided by the framework and via `struts.custom.i18n.resources`) you can use existing `GlobalLocalizedTextProvider` implementation. To use this please define the following option in your `struts.xml`:\r\n&gt;\r\n&gt;```\r\n&gt;&lt;constant name=&quot;struts.localizedTextProvider&quot; value=&quot;global-only&quot; /&gt;\r\n&gt;```\r\n&gt;Custom `TextProvider` and `TextProviderFactory`\r\n&gt;If you want to use a different logic to search for localized messages, or you want to use a database or just want to search default bundles, you must implement both those interfaces (or subclass the existing implementations). You can check a small example app how to use both. Please remember that the `TextProvider`. \r\n\r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/localization.html","title":"Application properties for a struts2 java web application","body":"<p>Struts2 keeps it's configuration in the <code>struts.xml</code> or <code>struts.properties</code> files that have loaded and parced on application startup. These properties can be accessible everywhere in you application, even via dependency injection.</p>\n<p>But there's another way to configure your actions with properties files. It's known as Message Resource properties. You can configure them either in <code>struts.xml</code> or <code>struts.properties</code> file. The key/values are loaded via the</p>\n<blockquote>\n<p>Within action classes that extend <code>ActionSupport</code> through the <code>getText()</code> method</p>\n</blockquote>\n<p>There's a lot of places and properties where you can configure. Everything about it is described in the <a href=\"https://struts.apache.org/core-developers/localization.html\" rel=\"nofollow noreferrer\">Localization Guide</a>.</p>\n<p>For your purpose you can use global properties, or custom text provider.</p>\n<blockquote>\n<p>Global Resources (<code>struts.custom.i18n.resource</code>s) in <code>struts.properties</code>\nA global resource bundle could be specified programmatically, as well as the locale.</p>\n<p>Comparison with Struts 1\nStruts 1 users should be familiar with the <code>application.properties</code> resource bundle, where you can put all the messages in the application that are going to be translated. Struts 2, though, splits the resource bundles</p>\n<p>Using only global bundles\nIf you don’t need to use the package-scan-functionality and only base on the global bundles (those provided by the framework and via <code>struts.custom.i18n.resources</code>) you can use existing <code>GlobalLocalizedTextProvider</code> implementation. To use this please define the following option in your <code>struts.xml</code>:</p>\n<pre><code>&lt;constant name=&quot;struts.localizedTextProvider&quot; value=&quot;global-only&quot; /&gt;\n</code></pre>\n<p>Custom <code>TextProvider</code> and <code>TextProviderFactory</code>\nIf you want to use a different logic to search for localized messages, or you want to use a database or just want to search default bundles, you must implement both those interfaces (or subclass the existing implementations). You can check a small example app how to use both. Please remember that the <code>TextProvider</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":15607679,"reputation":827,"user_id":11259999,"display_name":"soumitra goswami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75619459,"answer_count":1,"score":1,"last_activity_date":1678298739,"creation_date":1677582020,"question_id":75591111,"body_markdown":"I am new to Struts2 framework and I am trying to add some configuration properties like `applicationId`, `timeout` etc which will be used for calling some 3rd party APIs. In a Springboot project, we usually keep the `application.properties/application.yml` file and we are able to access the values using the `@Value` or `@ConfigurationProperties` annotations, what is the equivalent functionality in Struts2? Also, is it secure to store these keys in a property file(no passwords only unique identifiers) ","title":"Application properties for a struts2 java web application","body":"<p>I am new to Struts2 framework and I am trying to add some configuration properties like <code>applicationId</code>, <code>timeout</code> etc which will be used for calling some 3rd party APIs. In a Springboot project, we usually keep the <code>application.properties/application.yml</code> file and we are able to access the values using the <code>@Value</code> or <code>@ConfigurationProperties</code> annotations, what is the equivalent functionality in Struts2? Also, is it secure to store these keys in a property file(no passwords only unique identifiers)</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":2,"creation_date":1678299008,"post_id":75676649,"comment_id":133507269,"body_markdown":"`&quot;John Smith&quot;` is a `String`.  A JSON object would be enclosed by curly braces -- `{  }`.  For example `billTo` and `shipTo` would be JSON objects.","body":"<code>&quot;John Smith&quot;</code> is a <code>String</code>.  A JSON object would be enclosed by curly braces -- <code>{  }</code>.  For example <code>billTo</code> and <code>shipTo</code> would be JSON objects."}],"owner":{"account_id":27785102,"reputation":11,"user_id":21212734,"display_name":"ScottG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678298588,"creation_date":1678298551,"question_id":75676649,"body_markdown":"I am trying to write a function that is able to convert a JSON String to a different JSON string (based on what the user wants to change). I am encountering the error:\r\n\r\n    org.json.JSONException: JSONObject[&quot;name&quot;] is not a JSONObject (class java.lang.String : John Smith).\r\n\r\nI am not quite sure why as I thought that name would be a JSONObject. Below is my class where the transformation is made and my handler where it is called. The payload that is passed in is a String variable that is received as a JSON Body from an Http Request. That body is also below. Thanks for the help!\r\n\r\nimport org.json.*; \r\n\r\n    public class Transform {\r\n        public JSONObject JsonToJson(String payload) {\r\n            JSONObject myPayload = new JSONObject(payload);\r\n            JSONObject name = myPayload.getJSONObject(&quot;name&quot;);\r\n            JSONObject sku = myPayload.getJSONObject(&quot;sku&quot;);\r\n            JSONObject price = myPayload.getJSONObject(&quot;price&quot;);\r\n            JSONObject shipTo = myPayload.getJSONObject(&quot;shipTo&quot;);\r\n            JSONObject shipToName = shipTo.getJSONObject(&quot;name&quot;);\r\n            JSONObject address = shipTo.getJSONObject(&quot;address&quot;);\r\n            JSONObject city = shipTo.getJSONObject(&quot;city&quot;);\r\n            JSONObject state = shipTo.getJSONObject(&quot;state&quot;);\r\n            JSONObject zip = shipTo.getJSONObject(&quot;zip&quot;);\r\n            JSONObject billTo = myPayload.getJSONObject(&quot;billTo&quot;);\r\n            JSONObject billToName = billTo.getJSONObject(&quot;name&quot;);\r\n            JSONObject billToAddress = billTo.getJSONObject(&quot;address&quot;);\r\n            JSONObject billToCity = billTo.getJSONObject(&quot;city&quot;);\r\n            JSONObject billToState = billTo.getJSONObject(&quot;state&quot;);\r\n            JSONObject billToZip = billTo.getJSONObject(&quot;zip&quot;);\r\n    \r\n            shipTo.put(&quot;name&quot;, &quot;Scott G&quot;);\r\n            return myPayload;\r\n        } \r\n    }\r\n\r\n    context.getLogger().info(&quot;\\n===========================================\\n&quot;);\r\n    context.getLogger().info(payload);\r\n    Transform p = new Transform();\r\n    JSONObject tPayload = p.JsonToJson(payload);\r\n    context.getLogger().info(&quot;\\n===========================================\\n&quot;);\r\n    context.getLogger().info(tPayload.toString());\r\n    context.getLogger().info(&quot;\\n===========================================\\n&quot;);\r\n\r\n    { &quot;name&quot;   : &quot;John Smith&quot;,\r\n      &quot;sku&quot;    : &quot;20223&quot;,\r\n      &quot;price&quot;  : 23.95,\r\n      &quot;shipTo&quot; : { &quot;name&quot; : &quot;Jane Smith&quot;,\r\n                   &quot;address&quot; : &quot;123 Maple Street&quot;,\r\n                   &quot;city&quot; : &quot;Pretendville&quot;,\r\n                   &quot;state&quot; : &quot;NY&quot;,\r\n                   &quot;zip&quot;   : &quot;12345&quot; },\r\n      &quot;billTo&quot; : { &quot;name&quot; : &quot;John Smith&quot;,\r\n                   &quot;address&quot; : &quot;123 Maple Street&quot;,\r\n                   &quot;city&quot; : &quot;Pretendville&quot;,\r\n                   &quot;state&quot; : &quot;NY&quot;,\r\n                   &quot;zip&quot;   : &quot;12345&quot; }\r\n    }","title":"JSON Conversion In Java","body":"<p>I am trying to write a function that is able to convert a JSON String to a different JSON string (based on what the user wants to change). I am encountering the error:</p>\n<pre><code>org.json.JSONException: JSONObject[&quot;name&quot;] is not a JSONObject (class java.lang.String : John Smith).\n</code></pre>\n<p>I am not quite sure why as I thought that name would be a JSONObject. Below is my class where the transformation is made and my handler where it is called. The payload that is passed in is a String variable that is received as a JSON Body from an Http Request. That body is also below. Thanks for the help!</p>\n<p>import org.json.*;</p>\n<pre><code>public class Transform {\n    public JSONObject JsonToJson(String payload) {\n        JSONObject myPayload = new JSONObject(payload);\n        JSONObject name = myPayload.getJSONObject(&quot;name&quot;);\n        JSONObject sku = myPayload.getJSONObject(&quot;sku&quot;);\n        JSONObject price = myPayload.getJSONObject(&quot;price&quot;);\n        JSONObject shipTo = myPayload.getJSONObject(&quot;shipTo&quot;);\n        JSONObject shipToName = shipTo.getJSONObject(&quot;name&quot;);\n        JSONObject address = shipTo.getJSONObject(&quot;address&quot;);\n        JSONObject city = shipTo.getJSONObject(&quot;city&quot;);\n        JSONObject state = shipTo.getJSONObject(&quot;state&quot;);\n        JSONObject zip = shipTo.getJSONObject(&quot;zip&quot;);\n        JSONObject billTo = myPayload.getJSONObject(&quot;billTo&quot;);\n        JSONObject billToName = billTo.getJSONObject(&quot;name&quot;);\n        JSONObject billToAddress = billTo.getJSONObject(&quot;address&quot;);\n        JSONObject billToCity = billTo.getJSONObject(&quot;city&quot;);\n        JSONObject billToState = billTo.getJSONObject(&quot;state&quot;);\n        JSONObject billToZip = billTo.getJSONObject(&quot;zip&quot;);\n\n        shipTo.put(&quot;name&quot;, &quot;Scott G&quot;);\n        return myPayload;\n    } \n}\n\ncontext.getLogger().info(&quot;\\n===========================================\\n&quot;);\ncontext.getLogger().info(payload);\nTransform p = new Transform();\nJSONObject tPayload = p.JsonToJson(payload);\ncontext.getLogger().info(&quot;\\n===========================================\\n&quot;);\ncontext.getLogger().info(tPayload.toString());\ncontext.getLogger().info(&quot;\\n===========================================\\n&quot;);\n\n{ &quot;name&quot;   : &quot;John Smith&quot;,\n  &quot;sku&quot;    : &quot;20223&quot;,\n  &quot;price&quot;  : 23.95,\n  &quot;shipTo&quot; : { &quot;name&quot; : &quot;Jane Smith&quot;,\n               &quot;address&quot; : &quot;123 Maple Street&quot;,\n               &quot;city&quot; : &quot;Pretendville&quot;,\n               &quot;state&quot; : &quot;NY&quot;,\n               &quot;zip&quot;   : &quot;12345&quot; },\n  &quot;billTo&quot; : { &quot;name&quot; : &quot;John Smith&quot;,\n               &quot;address&quot; : &quot;123 Maple Street&quot;,\n               &quot;city&quot; : &quot;Pretendville&quot;,\n               &quot;state&quot; : &quot;NY&quot;,\n               &quot;zip&quot;   : &quot;12345&quot; }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"score":0,"creation_date":1678099484,"post_id":75649176,"comment_id":133461458,"body_markdown":"Thanks! I guess you are right, using repository or service class is more convenient","body":"Thanks! I guess you are right, using repository or service class is more convenient"}],"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678298570,"creation_date":1678095381,"answer_id":75649176,"question_id":75644504,"body_markdown":"It is generally a bad idea trying to put your whole class contents as a path or query parameter. I would advice to just put the id of the product into the URL and then in the controller, or in the service, fetch the product using the id.\r\n\r\nSomething like this:\r\n\r\n```\r\n@PostMapping(&quot;/add/{item}&quot;)\r\npublic String addProductToCart(@PathVariable(name = &quot;item&quot;) Long productId,\r\n                                   @ModelAttribute(&quot;cart&quot;) Cart cart,\r\n                                   RedirectAttributes attributes) {\r\n    Product product = productService.getProduct(productId);\r\n    cart.addProduct(product);\r\n    log.info(&quot;Processing cart {}&quot;, cart);\r\n    return &quot;redirect:/&quot;;\r\n}\r\n```","title":"Thymeleaf+ spring: MethodArgumentTypeMismatchException","body":"<p>It is generally a bad idea trying to put your whole class contents as a path or query parameter. I would advice to just put the id of the product into the URL and then in the controller, or in the service, fetch the product using the id.</p>\n<p>Something like this:</p>\n<pre><code>@PostMapping(&quot;/add/{item}&quot;)\npublic String addProductToCart(@PathVariable(name = &quot;item&quot;) Long productId,\n                                   @ModelAttribute(&quot;cart&quot;) Cart cart,\n                                   RedirectAttributes attributes) {\n    Product product = productService.getProduct(productId);\n    cart.addProduct(product);\n    log.info(&quot;Processing cart {}&quot;, cart);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75649176,"answer_count":1,"score":0,"last_activity_date":1678298570,"creation_date":1678041620,"question_id":75644504,"body_markdown":"I&#39;m creating a simple web application(clothes shop) and having a problem with passing objects from view to controller. This is a piece of html code that displays all the items of clothing on the screen in the form of cards. Each of them has a button, clicking on which should invoke ```POST``` request and put this item in user&#39;s cart.\r\n```\r\n&lt;div class=&quot;container&quot;&gt;\r\n  &lt;div class=&quot;row row-cols-1 row-cols-sm-2 row-cols-md-4&quot;&gt;\r\n    &lt;form class=&quot;card rounded-0 mt-1 px-2&quot; method=&quot;post&quot; th:action=&quot;@{/main/add/{item}(item = ${item})}&quot; \r\n          th:each=&quot;item:${products}&quot;&gt;\r\n      &lt;img class=&quot;card-img-top&quot; src=&quot;/img/duetddoskonaly.jpg&quot; alt=&quot;Card image cap&quot;&gt;\r\n      &lt;div class=&quot;card-body&quot;&gt;\r\n        &lt;h4 class=&quot;card-title&quot; th:text=&quot;${item.name}&quot;&gt;Card title&lt;/h4&gt;\r\n        &lt;p class=&quot;card-text&quot; th:text=&quot;${item.description}&quot;&gt;\r\n          No Description\r\n        &lt;/p&gt;\r\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-dark&quot;&gt;Добавить&lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/form&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n@PostMapping itself:\r\n```\r\n@PostMapping(&quot;/add/{item}&quot;)\r\npublic String addProductToCart(@PathVariable(name = &quot;item&quot;) Product product,\r\n                                   @ModelAttribute(&quot;cart&quot;) Cart cart,\r\n                                   RedirectAttributes attributes) {\r\n    cart.addProduct(product);\r\n    log.info(&quot;Processing cart {}&quot;, cart);\r\n    return &quot;redirect:/&quot;;\r\n}\r\n```\r\n\r\n However, once I click the button I get this output:\r\n\r\n&gt; 2023-03-05 21:21:26.148  WARN 584 --- [nio-8080-exec-1]\r\n&gt; .w.s.m.s.DefaultHandlerExceptionResolver : Resolved\r\n&gt; [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException:\r\n&gt; Failed to convert value of type &#39;java.lang.String&#39; to required type\r\n&gt; &#39;com.ivand.shopfullstack.model.Product&#39;; nested exception is\r\n&gt; org.springframework.core.convert.ConversionFailedException: Failed to\r\n&gt; convert from type [java.lang.String] to type [java.lang.Long] for\r\n&gt; value &#39;Product(id=25, name=Sneaker1, description=An amazing sneakers,\r\n&gt; sex=male, price=null, oldPrice=null, discount=null, hotProduct=null,\r\n&gt; image=null, category=Category(id=19, type=SHOES, name=Sneakers))&#39;;\r\n&gt; nested exception is java.lang.NumberFormatException: For input string:\r\n&gt; &quot;Product(id=25,name=Sneaker1,description=Anamazingsneakers,sex=male,price=null,oldPrice=null,discount=null,hotProduct=null,image=null,category=Category(id=19,type=SHOES,name=Sneakers))&quot;]\r\n\r\nI understand that the problem lies in the inability to convert query string parameters to object(with type Product). Is there any way to pass the object not the string query from view to controller? Please correct my question if it is incorrect.","title":"Thymeleaf+ spring: MethodArgumentTypeMismatchException","body":"<p>I'm creating a simple web application(clothes shop) and having a problem with passing objects from view to controller. This is a piece of html code that displays all the items of clothing on the screen in the form of cards. Each of them has a button, clicking on which should invoke <code>POST</code> request and put this item in user's cart.</p>\n<pre><code>&lt;div class=&quot;container&quot;&gt;\n  &lt;div class=&quot;row row-cols-1 row-cols-sm-2 row-cols-md-4&quot;&gt;\n    &lt;form class=&quot;card rounded-0 mt-1 px-2&quot; method=&quot;post&quot; th:action=&quot;@{/main/add/{item}(item = ${item})}&quot; \n          th:each=&quot;item:${products}&quot;&gt;\n      &lt;img class=&quot;card-img-top&quot; src=&quot;/img/duetddoskonaly.jpg&quot; alt=&quot;Card image cap&quot;&gt;\n      &lt;div class=&quot;card-body&quot;&gt;\n        &lt;h4 class=&quot;card-title&quot; th:text=&quot;${item.name}&quot;&gt;Card title&lt;/h4&gt;\n        &lt;p class=&quot;card-text&quot; th:text=&quot;${item.description}&quot;&gt;\n          No Description\n        &lt;/p&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-dark&quot;&gt;Добавить&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>@PostMapping itself:</p>\n<pre><code>@PostMapping(&quot;/add/{item}&quot;)\npublic String addProductToCart(@PathVariable(name = &quot;item&quot;) Product product,\n                                   @ModelAttribute(&quot;cart&quot;) Cart cart,\n                                   RedirectAttributes attributes) {\n    cart.addProduct(product);\n    log.info(&quot;Processing cart {}&quot;, cart);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n<p>However, once I click the button I get this output:</p>\n<blockquote>\n<p>2023-03-05 21:21:26.148  WARN 584 --- [nio-8080-exec-1]\n.w.s.m.s.DefaultHandlerExceptionResolver : Resolved\n[org.springframework.web.method.annotation.MethodArgumentTypeMismatchException:\nFailed to convert value of type 'java.lang.String' to required type\n'com.ivand.shopfullstack.model.Product'; nested exception is\norg.springframework.core.convert.ConversionFailedException: Failed to\nconvert from type [java.lang.String] to type [java.lang.Long] for\nvalue 'Product(id=25, name=Sneaker1, description=An amazing sneakers,\nsex=male, price=null, oldPrice=null, discount=null, hotProduct=null,\nimage=null, category=Category(id=19, type=SHOES, name=Sneakers))';\nnested exception is java.lang.NumberFormatException: For input string:\n&quot;Product(id=25,name=Sneaker1,description=Anamazingsneakers,sex=male,price=null,oldPrice=null,discount=null,hotProduct=null,image=null,category=Category(id=19,type=SHOES,name=Sneakers))&quot;]</p>\n</blockquote>\n<p>I understand that the problem lies in the inability to convert query string parameters to object(with type Product). Is there any way to pass the object not the string query from view to controller? Please correct my question if it is incorrect.</p>\n"},{"tags":["java","active-directory","ldap","keycloak","event-listener"],"owner":{"account_id":27833218,"reputation":1,"user_id":21251233,"display_name":"Vineeth C Sreepad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678298386,"creation_date":1678277562,"question_id":75672884,"body_markdown":"UseCase:\r\nWe have implemented custom keycloak LDAP Storage Mapper for LDAP/User Federation Sync. Followed the same aritcle as pasted here : https://medium.com/@ivancheahkf/keycloak-event-listener-spi-for-ldap-user-federation-sync-62fa17c573bc\r\n\r\nThis works absolutely fine for a new user added/updated to AD and a periodic sync will trriger the override method &quot;onImportUserFromLDAP&quot; in LDAPStorageMapper. We have implemented the same in our POC and have tested it as well.\r\n\r\nCurious to know if there is anything similar if/when a user is deleted from AD and syncd to keycloak, any override method exists user LDAPStorageMapper.\r\n\r\nCurrently we see this message &quot;Sync changed users finished: 0 imported users, 0 updated users&quot; after a sync from AD keycloak is initiated. User is also deleted from keycloak, never we which override method is called onDelete.","title":"Keycloak: Does/Can LDAPStorageMapper have a onDeleteUserFromLDAP override method?","body":"<p>UseCase:\nWe have implemented custom keycloak LDAP Storage Mapper for LDAP/User Federation Sync. Followed the same aritcle as pasted here : <a href=\"https://medium.com/@ivancheahkf/keycloak-event-listener-spi-for-ldap-user-federation-sync-62fa17c573bc\" rel=\"nofollow noreferrer\">https://medium.com/@ivancheahkf/keycloak-event-listener-spi-for-ldap-user-federation-sync-62fa17c573bc</a></p>\n<p>This works absolutely fine for a new user added/updated to AD and a periodic sync will trriger the override method &quot;onImportUserFromLDAP&quot; in LDAPStorageMapper. We have implemented the same in our POC and have tested it as well.</p>\n<p>Curious to know if there is anything similar if/when a user is deleted from AD and syncd to keycloak, any override method exists user LDAPStorageMapper.</p>\n<p>Currently we see this message &quot;Sync changed users finished: 0 imported users, 0 updated users&quot; after a sync from AD keycloak is initiated. User is also deleted from keycloak, never we which override method is called onDelete.</p>\n"},{"tags":["java","certificate","pdfbox","digital-signature","aatl"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1678298559,"post_id":75676607,"comment_id":133507156,"body_markdown":"PDFBox does not retrieve or parse Adobe trust lists. You can retrieve and parse the TLs yourself, use PDFBox to parse and cryptographically validate the signatures, and then check the certificates found by PDFBox against the TLs you have.","body":"PDFBox does not retrieve or parse Adobe trust lists. You can retrieve and parse the TLs yourself, use PDFBox to parse and cryptographically validate the signatures, and then check the certificates found by PDFBox against the TLs you have."}],"owner":{"account_id":24771967,"reputation":33,"user_id":18655652,"display_name":"Tanmay Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678298231,"creation_date":1678298231,"question_id":75676607,"body_markdown":"For enabling LTV while digitally signing the document, we should also verify whether the certificate (used for signing) is registered in AATL (Adobe Approved Trust List) or EUTL (European Union Trust List) or not. How we can verify this using java Apache PDFBox.\r\n\r\nWhen I opened the LTV enabled document (generated using PDFBox) in Adobe Acrobat it is already coming that the &quot;Source of trust is obtained from Adobe Approved Trust List&quot;. But how I can verify the same using java PDFBox. Is it already performed internally in PDFBox?","title":"How java PDFBox check whether certificate is registered in AATL or EUTL","body":"<p>For enabling LTV while digitally signing the document, we should also verify whether the certificate (used for signing) is registered in AATL (Adobe Approved Trust List) or EUTL (European Union Trust List) or not. How we can verify this using java Apache PDFBox.</p>\n<p>When I opened the LTV enabled document (generated using PDFBox) in Adobe Acrobat it is already coming that the &quot;Source of trust is obtained from Adobe Approved Trust List&quot;. But how I can verify the same using java PDFBox. Is it already performed internally in PDFBox?</p>\n"},{"tags":["java","generics","vert.x"],"answers":[{"comments":[{"owner":{"account_id":27966877,"reputation":1,"user_id":21357539,"display_name":"Lokraj Ahuja"},"score":0,"creation_date":1678305094,"post_id":75675876,"comment_id":133508790,"body_markdown":"Thank you.\nIs there a way to do this without using the interface MyHandler?","body":"Thank you. Is there a way to do this without using the interface MyHandler?"},{"owner":{"account_id":8025171,"reputation":1,"user_id":6052451,"display_name":"Bahram Zaeri"},"score":0,"creation_date":1678328451,"post_id":75675876,"comment_id":133512793,"body_markdown":"No problem! Actually no, the standard way of creating a function in Java 8+ is through a single-method interface.","body":"No problem! Actually no, the standard way of creating a function in Java 8+ is through a single-method interface."}],"tags":[],"owner":{"account_id":8025171,"reputation":1,"user_id":6052451,"display_name":"Bahram Zaeri"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678293895,"creation_date":1678293895,"answer_id":75675876,"question_id":75675558,"body_markdown":"The idea of a generic handler would work for sure. When you construct the `EventProducerService` instance, you know the generic type and in the handler you can specify what you want to do with it without modifying the EventProducerService logic. Another idea is to make T implement an interface that includes all the methods that you want to access from EventProducerService. \r\n\r\n`public class EventProducerService&lt;T extends MyInterface&gt;{...`\r\n\r\nThe downside of the idea is that all the T types must implement the interface methods that might not be relevant to all the concrete classes.\r\n\r\nAll in all, I would recommend the idea of a generic handler. It comes from functional programming principles and is much more flexible than narrowing the generic type by implementing an interface.\r\n\r\n    public interface MyHandler&lt;T&gt; {\r\n        void handle(Future&lt;Void&gt; f, List&lt;T&gt; events);\r\n    }\r\n\r\n    public class EventProducerService&lt;T&gt;{\r\n    MyHandler&lt;T&gt; handler;\r\n    private Future&lt;Void&gt; publish(List&lt;T&gt; events) {\r\n            final String topicPublishURL = Url + String.format(PUBLISH_EVENT_URI_TEMPLATE, this.topic);\r\n    \r\n            final String body;\r\n            try {\r\n                body = JacksonUtils.toJson(events);\r\n            } catch (JsonProcessingException e) {\r\n                return Future.failedFuture(e);\r\n            }\r\n    \r\n            Future&lt;Void&gt; f = httpRequester.postAsync(httpClientWrapper.getOrCreateClient(), topicPublishURL, body);\r\n            handler.handle(f, events);\r\n            return f;\r\n        }\r\n    }\r\n\r\nand you can pass the handler as a Java 8+ function to the constructor.\r\n\r\n    new EventProducerService(httpClientWrapper, tokensFacade, WRITE_URL,\r\n                topic, BUFFER_SIZE, vertx, metricRegistry, (f, events) -&gt; {\r\n                // your code\r\n                });","title":"How to access methods of a concrete class in a Generic class in Java without casting","body":"<p>The idea of a generic handler would work for sure. When you construct the <code>EventProducerService</code> instance, you know the generic type and in the handler you can specify what you want to do with it without modifying the EventProducerService logic. Another idea is to make T implement an interface that includes all the methods that you want to access from EventProducerService.</p>\n<p><code>public class EventProducerService&lt;T extends MyInterface&gt;{...</code></p>\n<p>The downside of the idea is that all the T types must implement the interface methods that might not be relevant to all the concrete classes.</p>\n<p>All in all, I would recommend the idea of a generic handler. It comes from functional programming principles and is much more flexible than narrowing the generic type by implementing an interface.</p>\n<pre><code>public interface MyHandler&lt;T&gt; {\n    void handle(Future&lt;Void&gt; f, List&lt;T&gt; events);\n}\n\npublic class EventProducerService&lt;T&gt;{\nMyHandler&lt;T&gt; handler;\nprivate Future&lt;Void&gt; publish(List&lt;T&gt; events) {\n        final String topicPublishURL = Url + String.format(PUBLISH_EVENT_URI_TEMPLATE, this.topic);\n\n        final String body;\n        try {\n            body = JacksonUtils.toJson(events);\n        } catch (JsonProcessingException e) {\n            return Future.failedFuture(e);\n        }\n\n        Future&lt;Void&gt; f = httpRequester.postAsync(httpClientWrapper.getOrCreateClient(), topicPublishURL, body);\n        handler.handle(f, events);\n        return f;\n    }\n}\n</code></pre>\n<p>and you can pass the handler as a Java 8+ function to the constructor.</p>\n<pre><code>new EventProducerService(httpClientWrapper, tokensFacade, WRITE_URL,\n            topic, BUFFER_SIZE, vertx, metricRegistry, (f, events) -&gt; {\n            // your code\n            });\n</code></pre>\n"}],"owner":{"account_id":27966877,"reputation":1,"user_id":21357539,"display_name":"Lokraj Ahuja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678298115,"creation_date":1678292294,"question_id":75675558,"body_markdown":"I have a method that publishes List of events in Kafka:-    \r\n```\r\npublic class EventProducerService&lt;T&gt;{\r\nprivate Future&lt;Void&gt; publish(List&lt;T&gt; events) {\r\n        final String topicPublishURL = Url + String.format(PUBLISH_EVENT_URI_TEMPLATE, this.topic);\r\n\r\n        final String body;\r\n        try {\r\n            body = JacksonUtils.toJson(events);\r\n        } catch (JsonProcessingException e) {\r\n            return Future.failedFuture(e);\r\n        }\r\n\r\n        return httpRequester.postAsync(httpClientWrapper.getOrCreateClient(), topicPublishURL, body);\r\n    }\r\n}\r\n```\r\n\r\nand this class is defined using :-\r\n\r\n```\r\nnew EventProducerService(httpClientWrapper, tokensFacade, WRITE_URL,\r\n            topic, BUFFER_SIZE, vertx, metricRegistry);\r\n```\r\n\r\nI want to send the event info to a tracking service after a successful publish. The T in List&lt;T&gt; events can have different classes with their own unique methods. I want to track one of them **OrderTrackingInfoEvent**.\r\n\r\nSo, How do I access methods of **TrackingInfoEvent** inside the above publish method?\r\n\r\nPlease note that casting cannot be used.\r\n\r\n\r\n\r\nPlease help. I am new to Java.\r\n\r\n\r\n\r\n\r\nI was told to specify some publisher handler on EventProducerService, something that is called after httpRequester.postAsync(...), with the future returned, and the list of events.\r\n\r\nand the handler would be specified when constructing the EventProducerService instance.","title":"How to access methods of a concrete class in a Generic class in Java without casting","body":"<p>I have a method that publishes List of events in Kafka:-</p>\n<pre><code>public class EventProducerService&lt;T&gt;{\nprivate Future&lt;Void&gt; publish(List&lt;T&gt; events) {\n        final String topicPublishURL = Url + String.format(PUBLISH_EVENT_URI_TEMPLATE, this.topic);\n\n        final String body;\n        try {\n            body = JacksonUtils.toJson(events);\n        } catch (JsonProcessingException e) {\n            return Future.failedFuture(e);\n        }\n\n        return httpRequester.postAsync(httpClientWrapper.getOrCreateClient(), topicPublishURL, body);\n    }\n}\n</code></pre>\n<p>and this class is defined using :-</p>\n<pre><code>new EventProducerService(httpClientWrapper, tokensFacade, WRITE_URL,\n            topic, BUFFER_SIZE, vertx, metricRegistry);\n</code></pre>\n<p>I want to send the event info to a tracking service after a successful publish. The T in List events can have different classes with their own unique methods. I want to track one of them <strong>OrderTrackingInfoEvent</strong>.</p>\n<p>So, How do I access methods of <strong>TrackingInfoEvent</strong> inside the above publish method?</p>\n<p>Please note that casting cannot be used.</p>\n<p>Please help. I am new to Java.</p>\n<p>I was told to specify some publisher handler on EventProducerService, something that is called after httpRequester.postAsync(...), with the future returned, and the list of events.</p>\n<p>and the handler would be specified when constructing the EventProducerService instance.</p>\n"},{"tags":["java","char","uppercase"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1284323087,"post_id":3696441,"comment_id":3896525,"body_markdown":"which part of the answers to your previous question you didn&#39;t understand? My answer there contains an answer to this question.","body":"which part of the answers to your previous question you didn&#39;t understand? My answer there contains an answer to this question."},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1507515555,"post_id":3696441,"comment_id":80225197,"body_markdown":"@shep - Can you accept BalusC&#39;s answer? It will help future searchers.","body":"@shep - Can you accept BalusC&#39;s answer? It will help future searchers."}],"answers":[{"tags":[],"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1284322838,"creation_date":1284322838,"answer_id":3696455,"question_id":3696441,"body_markdown":"    f = Character.toUpperCase(f);\r\n    l = Character.toUpperCase(l);","title":"Converting a char to uppercase in Java","body":"<pre><code>f = Character.toUpperCase(f);\nl = Character.toUpperCase(l);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":55654,"reputation":90573,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":2,"creation_date":1284323040,"post_id":3696457,"comment_id":3896518,"body_markdown":"+1 I like the answers that providers the user with a reference to go seek the answer","body":"+1 I like the answers that providers the user with a reference to go seek the answer"},{"owner":{"account_id":158262,"reputation":1358,"user_id":376763,"accept_rate":100,"display_name":"ebt"},"score":3,"creation_date":1390063702,"post_id":3696457,"comment_id":31935650,"body_markdown":"-1, if we dragnet for students we remove one of SO main benefits. Not spending inordinate amounts of time following peoples nested references across broken links.","body":"-1, if we dragnet for students we remove one of SO main benefits. Not spending inordinate amounts of time following peoples nested references across broken links."}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1284322855,"creation_date":1284322855,"answer_id":3696457,"question_id":3696441,"body_markdown":"Have a look at the `java.lang.Character` class, it provides a lot of useful methods to convert or test chars.","title":"Converting a char to uppercase in Java","body":"<p>Have a look at the <code>java.lang.Character</code> class, it provides a lot of useful methods to convert or test chars.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":0,"down_vote_count":0,"up_vote_count":159,"is_accepted":false,"score":159,"last_activity_date":1415000072,"creation_date":1284322858,"answer_id":3696458,"question_id":3696441,"body_markdown":"You can use [`Character#toUpperCase()`][1] for this.\r\n\r\n    char fUpper = Character.toUpperCase(f);\r\n    char lUpper = Character.toUpperCase(l);\r\n\r\nIt has however some limitations since the world is aware of many more characters than can ever fit in 16bit `char` range. See also the following excerpt of the [javadoc][2]:\r\n\r\n&gt; Note: This method cannot handle  [supplementary characters][3]. To support all Unicode characters, including supplementary characters, use the [`toUpperCase(int)`][4] method. \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28char%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28char%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#supplementary\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28int%29","title":"Converting a char to uppercase in Java","body":"<p>You can use <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28char%29\" rel=\"noreferrer\"><code>Character#toUpperCase()</code></a> for this.</p>\n\n<pre><code>char fUpper = Character.toUpperCase(f);\nchar lUpper = Character.toUpperCase(l);\n</code></pre>\n\n<p>It has however some limitations since the world is aware of many more characters than can ever fit in 16bit <code>char</code> range. See also the following excerpt of the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28char%29\" rel=\"noreferrer\">javadoc</a>:</p>\n\n<blockquote>\n  <p>Note: This method cannot handle  <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#supplementary\" rel=\"noreferrer\">supplementary characters</a>. To support all Unicode characters, including supplementary characters, use the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Character.html#toUpperCase%28int%29\" rel=\"noreferrer\"><code>toUpperCase(int)</code></a> method. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1284322920,"creation_date":1284322920,"answer_id":3696463,"question_id":3696441,"body_markdown":"The easiest solution for your case - change the first line, let it do just the opposite thing:\r\n\r\n    String lower = Name.toUpperCase ();\r\n\r\nOf course, it&#39;s worth to change its name too.\r\n","title":"Converting a char to uppercase in Java","body":"<p>The easiest solution for your case - change the first line, let it do just the opposite thing:</p>\n\n<pre><code>String lower = Name.toUpperCase ();\n</code></pre>\n\n<p>Of course, it's worth to change its name too.</p>\n"},{"comments":[{"owner":{"account_id":1645087,"reputation":3440,"user_id":1516759,"accept_rate":33,"display_name":"Visruth"},"score":0,"creation_date":1373021428,"post_id":3696495,"comment_id":25415222,"body_markdown":"The [link](http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/WordUtils.html#capitalize%28java.lang.String%29) you provided gives 404 error!!!! can you correct it??","body":"The <a href=\"http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/WordUtils.html#capitalize%28java.lang.String%29\" rel=\"nofollow noreferrer\">link</a> you provided gives 404 error!!!! can you correct it??"}],"tags":[],"owner":{"account_id":178996,"reputation":6452,"user_id":411326,"accept_rate":75,"display_name":"Asaf"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373147708,"creation_date":1284323553,"answer_id":3696495,"question_id":3696441,"body_markdown":"If you are including the apache commons lang jar in your project than the easiest solution would be to do:\r\n\r\n    WordUtils.capitalize(Name)\r\n\r\ntakes care of all the dirty work for you.\r\nSee the javadoc [here][1]\r\n\r\nAlternatively, you also have a capitalizeFully(String) method which also lower cases the rest of the characters.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/WordUtils.html#capitalize(java.lang.String)","title":"Converting a char to uppercase in Java","body":"<p>If you are including the apache commons lang jar in your project than the easiest solution would be to do:</p>\n\n<pre><code>WordUtils.capitalize(Name)\n</code></pre>\n\n<p>takes care of all the dirty work for you.\nSee the javadoc <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/text/WordUtils.html#capitalize(java.lang.String)\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Alternatively, you also have a capitalizeFully(String) method which also lower cases the rest of the characters.</p>\n"},{"comments":[{"owner":{"account_id":3044819,"reputation":8098,"user_id":2580791,"accept_rate":82,"display_name":"Mike Laren"},"score":4,"creation_date":1423364883,"post_id":28390007,"comment_id":45117657,"body_markdown":"This only works if the string is composed exclusively of ASCII characters. Languages like French, Greek, Spanish, Turkish, etc, have non-ASCII characters with upper/lower forms. This approach wouldn&#39;t work in those cases...","body":"This only works if the string is composed exclusively of ASCII characters. Languages like French, Greek, Spanish, Turkish, etc, have non-ASCII characters with upper/lower forms. This approach wouldn&#39;t work in those cases..."},{"owner":{"account_id":221711,"reputation":14051,"user_id":479851,"accept_rate":69,"display_name":"S&#233;bastien"},"score":0,"creation_date":1444742303,"post_id":28390007,"comment_id":54022282,"body_markdown":"Actually this basic approach *does* work for the most common non-ASCII characters in French, Spanish, German... e.g. `&#233;` `&#224;` `&#246;` `&#251;` `&#241;` ...  So if the OP knows that he will only have to deal with such characters, he can stick to this method for the sake of simplicity and performance.","body":"Actually this basic approach <i>does</i> work for the most common non-ASCII characters in French, Spanish, German... e.g. <code>&#233;</code> <code>&#224;</code> <code>&#246;</code> <code>&#251;</code> <code>&#241;</code> ...  So if the OP knows that he will only have to deal with such characters, he can stick to this method for the sake of simplicity and performance."},{"owner":{"account_id":1410110,"reputation":739,"user_id":1516636,"accept_rate":80,"display_name":"Floyd"},"score":1,"creation_date":1450342168,"post_id":28390007,"comment_id":56401775,"body_markdown":"Doing calculations with characters to change the case is one of the worst habits, and so not 21st century! There is more than ascii chars!","body":"Doing calculations with characters to change the case is one of the worst habits, and so not 21st century! There is more than ascii chars!"}],"tags":[],"owner":{"account_id":5753148,"reputation":1525,"user_id":4542084,"display_name":"Burrito"},"comment_count":3,"down_vote_count":5,"up_vote_count":11,"is_accepted":false,"score":6,"last_activity_date":1423363326,"creation_date":1423363326,"answer_id":28390007,"question_id":3696441,"body_markdown":"Since you know the chars are lower case, you can subtract the according ASCII value to make them uppercase:\r\n\r\n    char a = &#39;a&#39;;\r\n    a -= 32;\r\n    System.out.println(&quot;a is &quot; + a); //a is A\r\n\r\nHere is an [ASCII table][1] for reference\r\n\r\n\r\n  [1]: https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html","title":"Converting a char to uppercase in Java","body":"<p>Since you know the chars are lower case, you can subtract the according ASCII value to make them uppercase:</p>\n\n<pre><code>char a = 'a';\na -= 32;\nSystem.out.println(\"a is \" + a); //a is A\n</code></pre>\n\n<p>Here is an <a href=\"https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html\" rel=\"noreferrer\">ASCII table</a> for reference</p>\n"},{"tags":[],"owner":{"account_id":8320328,"reputation":29,"user_id":6252267,"display_name":"امون بسام"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1461603063,"creation_date":1461599214,"answer_id":36845299,"question_id":3696441,"body_markdown":"You can apply the .toUpperCase() directly on String variables or as an attribute to text fields. Ex: - \r\n\r\n    String str;\r\n    TextView txt;\r\n\r\n    str.toUpperCase();// will change it to all upper case OR\r\n    txt.append(str.toUpperCase());\r\n    txt.setText(str.toUpperCase());\r\n","title":"Converting a char to uppercase in Java","body":"<p>You can apply the .toUpperCase() directly on String variables or as an attribute to text fields. Ex: - </p>\n\n<pre><code>String str;\nTextView txt;\n\nstr.toUpperCase();// will change it to all upper case OR\ntxt.append(str.toUpperCase());\ntxt.setText(str.toUpperCase());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1465836,"reputation":433,"user_id":1378685,"display_name":"Adam Hewitt"},"score":15,"creation_date":1504713137,"post_id":38707004,"comment_id":79120492,"body_markdown":"I&#39;m honestly shocked that this has 7 votes. While I applaud the clever approach, being clever rarely leads to maintainable code, especially when used in place of a built-in method like `Character.toUpperCase()`. Any users of this should understand it will not handle anything non-ASCII.","body":"I&#39;m honestly shocked that this has 7 votes. While I applaud the clever approach, being clever rarely leads to maintainable code, especially when used in place of a built-in method like <code>Character.toUpperCase()</code>. Any users of this should understand it will not handle anything non-ASCII."},{"owner":{"account_id":2233894,"reputation":5674,"user_id":1970832,"accept_rate":83,"display_name":"Rahul Sharma"},"score":1,"creation_date":1504719461,"post_id":38707004,"comment_id":79124184,"body_markdown":"@AdamHewitt this approach work with non-ASCII chars as well e.g. &#39;250&#39;, however, few non-ASCII characters wouldn&#39;t give expected results.Your point is correct that users should understand right usage of this approach and it should be used mainly for English alphabets.","body":"@AdamHewitt this approach work with non-ASCII chars as well e.g. &#39;250&#39;, however, few non-ASCII characters wouldn&#39;t give expected results.Your point is correct that users should understand right usage of this approach and it should be used mainly for English alphabets."},{"owner":{"account_id":306864,"reputation":956,"user_id":617857,"accept_rate":43,"display_name":"Steven Yue"},"score":1,"creation_date":1518745927,"post_id":38707004,"comment_id":84641918,"body_markdown":"I think it should be `c | 0x20` instead of `c ^ 0x20` for lower case. Otherwise, if the character is already lower case, your code will convert it to uppercase","body":"I think it should be <code>c | 0x20</code> instead of <code>c ^ 0x20</code> for lower case. Otherwise, if the character is already lower case, your code will convert it to uppercase"}],"tags":[],"owner":{"account_id":2233894,"reputation":5674,"user_id":1970832,"accept_rate":83,"display_name":"Rahul Sharma"},"comment_count":3,"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1518934069,"creation_date":1470080998,"answer_id":38707004,"question_id":3696441,"body_markdown":"Instead of using existing utilities, you may try below conversion using boolean operation:\r\n\r\n**To upper case:**\r\n\r\n     char upperChar = &#39;l&#39; &amp; 0x5f\r\n\r\n**To lower case:**\r\n\r\n       char lowerChar = &#39;L&#39; ^ 0x20\r\n\r\n\r\n------------------\r\n**How it works:**\r\n\r\nBinary, hex and decimal table:\r\n\r\n    ------------------------------------------\r\n    | Binary   |   Hexadecimal     | Decimal |\r\n    -----------------------------------------\r\n    | 1011111  |    0x5f           |  95     |\r\n    ------------------------------------------\r\n    | 100000   |    0x20           |  32     |\r\n    ------------------------------------------\r\n\r\n**Let&#39;s take an example of small `l` to `L` conversion:**&lt;br&gt;\r\n\r\nThe binary AND operation: `(l &amp; 0x5f)`\r\n\r\n`l` character has **ASCII** 108 and `01101100` is binary represenation. \r\n\r\n\r\n       1101100\r\n    &amp;  1011111\r\n    -----------\r\n       1001100 = 76 in decimal which is **ASCII** code of L\r\n\r\n\r\n**Similarly the `L` to `l` conversion:** \r\n\r\nThe binary XOR operation: `(L ^ 0x20)`\r\n\r\n       1001100\r\n    ^  0100000\r\n    -----------\r\n       1101100 = 108 in decimal which is **ASCII** code of l\r\n","title":"Converting a char to uppercase in Java","body":"<p>Instead of using existing utilities, you may try below conversion using boolean operation:</p>\n\n<p><strong>To upper case:</strong></p>\n\n<pre><code> char upperChar = 'l' &amp; 0x5f\n</code></pre>\n\n<p><strong>To lower case:</strong></p>\n\n<pre><code>   char lowerChar = 'L' ^ 0x20\n</code></pre>\n\n<hr>\n\n<p><strong>How it works:</strong></p>\n\n<p>Binary, hex and decimal table:</p>\n\n<pre><code>------------------------------------------\n| Binary   |   Hexadecimal     | Decimal |\n-----------------------------------------\n| 1011111  |    0x5f           |  95     |\n------------------------------------------\n| 100000   |    0x20           |  32     |\n------------------------------------------\n</code></pre>\n\n<p><strong>Let's take an example of small <code>l</code> to <code>L</code> conversion:</strong><br></p>\n\n<p>The binary AND operation: <code>(l &amp; 0x5f)</code></p>\n\n<p><code>l</code> character has <strong>ASCII</strong> 108 and <code>01101100</code> is binary represenation. </p>\n\n<pre><code>   1101100\n&amp;  1011111\n-----------\n   1001100 = 76 in decimal which is **ASCII** code of L\n</code></pre>\n\n<p><strong>Similarly the <code>L</code> to <code>l</code> conversion:</strong> </p>\n\n<p>The binary XOR operation: <code>(L ^ 0x20)</code></p>\n\n<pre><code>   1001100\n^  0100000\n-----------\n   1101100 = 108 in decimal which is **ASCII** code of l\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8916832,"reputation":1078,"user_id":6655094,"display_name":"soundslikeodd"},"score":1,"creation_date":1483853341,"post_id":41529776,"comment_id":70265148,"body_markdown":"Can you explain your answer?","body":"Can you explain your answer?"},{"owner":{"account_id":9978043,"reputation":161,"user_id":7381898,"display_name":"Likhith Kumar"},"score":0,"creation_date":1483883944,"post_id":41529776,"comment_id":70271944,"body_markdown":"first.substring(0,1) will retrieve substring which is at 0 index of string  and then applying toUpperCase method to that string which will   give you the first character in that string as uppercase","body":"first.substring(0,1) will retrieve substring which is at 0 index of string  and then applying toUpperCase method to that string which will   give you the first character in that string as uppercase"}],"tags":[],"owner":{"account_id":9978043,"reputation":161,"user_id":7381898,"display_name":"Likhith Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1483860812,"creation_date":1483853130,"answer_id":41529776,"question_id":3696441,"body_markdown":"    System.out.println(first.substring(0,1).toUpperCase()); \r\n    System.out.println(last.substring(0,1).toUpperCase());","title":"Converting a char to uppercase in Java","body":"<pre><code>System.out.println(first.substring(0,1).toUpperCase()); \nSystem.out.println(last.substring(0,1).toUpperCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5834336,"reputation":1811,"user_id":4597890,"accept_rate":78,"display_name":"Praveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512633453,"creation_date":1512633453,"answer_id":47690204,"question_id":3696441,"body_markdown":"I think you are trying to capitalize first and last character of each word in a sentence with space as delimiter.&lt;br&gt;\r\n\r\n**Can be done through `StringBuffer`:**&lt;br&gt;\r\n\r\n    public static String toFirstLastCharUpperAll(String string){\r\n        StringBuffer sb=new StringBuffer(string);\r\n            for(int i=0;i&lt;sb.length();i++)\r\n            \tif(i==0 || sb.charAt(i-1)==&#39; &#39; //for first character of string/each word\r\n       \t    \t\t|| i==sb.length()-1 || sb.charAt(i+1)==&#39; &#39;) //for last character of string/each word\r\n       \t    \t\tsb.setCharAt(i, Character.toUpperCase(sb.charAt(i)));\r\n       \t return sb.toString();\r\n    }","title":"Converting a char to uppercase in Java","body":"<p>I think you are trying to capitalize first and last character of each word in a sentence with space as delimiter.<br></p>\n\n<p><strong>Can be done through <code>StringBuffer</code>:</strong><br></p>\n\n<pre><code>public static String toFirstLastCharUpperAll(String string){\n    StringBuffer sb=new StringBuffer(string);\n        for(int i=0;i&lt;sb.length();i++)\n            if(i==0 || sb.charAt(i-1)==' ' //for first character of string/each word\n                || i==sb.length()-1 || sb.charAt(i+1)==' ') //for last character of string/each word\n                sb.setCharAt(i, Character.toUpperCase(sb.charAt(i)));\n     return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16267255,"reputation":771,"user_id":11746909,"display_name":"MUGABA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649926837,"creation_date":1649926837,"answer_id":71869040,"question_id":3696441,"body_markdown":"Lets assume you have a variable you want split\r\n\r\n    String name = &quot;Your name variable&quot;;\r\n    char nameChar = Character.toUpperCase(name.charAt(0));","title":"Converting a char to uppercase in Java","body":"<p>Lets assume you have a variable you want split</p>\n<pre><code>String name = &quot;Your name variable&quot;;\nchar nameChar = Character.toUpperCase(name.charAt(0));\n</code></pre>\n"}],"owner":{"account_id":649117,"reputation":879,"user_id":445738,"display_name":"shep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383719,"favorite_count":0,"down_vote_count":1,"up_vote_count":87,"answer_count":11,"score":86,"last_activity_date":1678298030,"creation_date":1284322648,"question_id":3696441,"body_markdown":"How could I get the `f` and `l` variables converted to uppercase?\r\n\r\n    String lower = Name.toLowerCase();\r\n    int a = Name.indexOf(&quot; &quot;,0);\r\n    String first = lower.substring(0, a);\r\n    String last = lower.substring(a+1);\r\n\r\n    char f = first.charAt(0);\r\n    char l = last.charAt(0);\r\n\r\n    System.out.println(l);\r\n","title":"Converting a char to uppercase in Java","body":"<p>How could I get the <code>f</code> and <code>l</code> variables converted to uppercase?</p>\n<pre><code>String lower = Name.toLowerCase();\nint a = Name.indexOf(&quot; &quot;,0);\nString first = lower.substring(0, a);\nString last = lower.substring(a+1);\n\nchar f = first.charAt(0);\nchar l = last.charAt(0);\n\nSystem.out.println(l);\n</code></pre>\n"},{"tags":["java","spring-boot","maven","twitter","twitter4j"],"owner":{"account_id":18271327,"reputation":35,"user_id":13313938,"display_name":"Iv&#225;n Jes&#250;s Monferrer Marz&#225;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678297828,"creation_date":1678297828,"question_id":75676541,"body_markdown":"A year ago, I was working on a project using twitter4j library on a Java Springboot project. When I finished the project it was working OK. But now, I would like to make some incremental developments and an unusual error has been appeared. I show the different components below.\r\n\r\nI have been searching for the solution some days but I cannot found it. Any comment would be helpful. Thanks in advance\r\n\r\n\r\n**1. Main class:**\r\n\r\n```\r\n@SpringBootApplication\r\npublic class TweetManagerApplication {\r\n\t\r\n\tpublic static void main(String[] args) throws TwitterException {\r\n\t\tSpringApplication.run(TweetManagerApplication.class, args);\r\n\t}\r\n\t\r\n\t@EventListener(ApplicationReadyEvent.class)\r\n\tpublic TwitterStream streamFeed() throws TwitterException {\r\n\t\t\r\n\t\tStatusListener listener = new StatusListener(){\r\n            @Override\r\n            public void onStatus(Status status) {\r\n                System.out.println(&quot;%s : %s&quot;.formatted(status.getUser().getName(), status.getText()));\r\n            }\r\n\r\n            @Override\r\n            public void onTrackLimitationNotice(int numberOfLimitedStatuses) {}\r\n\r\n            @Override\r\n            public void onScrubGeo(long userId, long upToStatusId) {}\r\n\r\n            @Override\r\n            public void onException(Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n\t\t\t@Override\r\n\t\t\tpublic void onDeletionNotice(StatusDeletionNotice statusDeletionNotice) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic void onStallWarning(StallWarning warning) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n        };\r\n        TwitterStream twitterStream = Twitter.newBuilder()\r\n                .listener(listener).build().v1().stream();\r\n        return twitterStream.sample();\r\n\t\r\n\t}\r\n}\r\n```\r\n\r\n**2. Configuration class**\r\n\r\n```\r\n@SpringBootConfiguration\r\n@EnableAsync\r\npublic class AsyncConfiguration {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(AsyncConfiguration.class);\r\n\r\n    @Bean(name = &quot;taskExecutor&quot;)\r\n    public Executor taskExecutor() {\r\n        LOGGER.debug(&quot;Creating Async Task Executor&quot;);\r\n        final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(2);\r\n        executor.setMaxPoolSize(2);\r\n        executor.setQueueCapacity(100);\r\n        executor.setThreadNamePrefix(&quot;CarThread-&quot;);\r\n        executor.initialize();\r\n        return executor;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**3. Maven dependency**\r\n\r\n```\r\n\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.twitter4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;twitter4j-core&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.1&lt;/version&gt;\r\n```\r\n\r\n\r\n**4. The last logs and the information about this issue are the following:**\r\n\r\n```\r\n2023-03-08 17:22:18.980  INFO 55335 --- [][initializing]] twitter4j.TwitterStreamImpl              : Establishing connection.\r\n2023-03-08 17:22:20.036  INFO 55335 --- [ing connection]] twitter4j.TwitterStreamImpl              : https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\r\nhttps://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\r\nRelevant discussions can be found on the Internet at:\r\n\thttp://www.google.co.jp/search?q=ee74468e or\r\n\thttp://www.google.co.jp/search?q=9eaf216e\r\nTwitterException{exceptionCode=[ee74468e-9eaf216e 69215812-3735082c 69215812-3735081d], statusCode=-1, message=null, code=-1, retryAfter=-1, rateLimitStatus=null, version=4.1.1}\r\n\tat twitter4j.HttpClient.handleRequest(HttpClient.java:191)\r\n\tat twitter4j.HttpClient.request(HttpClient.java:72)\r\n\tat twitter4j.HttpClient.get(HttpClient.java:279)\r\n\tat twitter4j.TwitterStreamImpl.getSampleStream(TwitterStreamImpl.java:209)\r\n\tat twitter4j.TwitterStreamImpl$4.getStream(TwitterStreamImpl.java:180)\r\n\tat twitter4j.TwitterStreamImpl$TwitterStreamConsumer.run(TwitterStreamImpl.java:387)\r\n2023-03-08 17:22:20.046  INFO 55335 --- [ing connection]] twitter4j.TwitterStreamImpl              : Waiting for 250 milliseconds\r\nCaused by: java.io.FileNotFoundException: https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2048)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2043)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:2042)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1609)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\r\n\tat twitter4j.HttpResponse.&lt;init&gt;(HttpResponse.java:54)\r\n\tat twitter4j.HttpClient.handleRequest(HttpClient.java:155)\r\n\t... 5 more\r\nCaused by: java.io.FileNotFoundException: https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1993)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n\tat java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\r\n\tat twitter4j.HttpResponse.&lt;init&gt;(HttpResponse.java:39)\r\n\t... 6 more\r\n```\r\n\r\nI am trying to use the twitter4j stream as it works a year ago","title":"Issue getting the stream (TwitterStreamImpl) using Java SpringBoot + twitter4j","body":"<p>A year ago, I was working on a project using twitter4j library on a Java Springboot project. When I finished the project it was working OK. But now, I would like to make some incremental developments and an unusual error has been appeared. I show the different components below.</p>\n<p>I have been searching for the solution some days but I cannot found it. Any comment would be helpful. Thanks in advance</p>\n<p><strong>1. Main class:</strong></p>\n<pre><code>@SpringBootApplication\npublic class TweetManagerApplication {\n    \n    public static void main(String[] args) throws TwitterException {\n        SpringApplication.run(TweetManagerApplication.class, args);\n    }\n    \n    @EventListener(ApplicationReadyEvent.class)\n    public TwitterStream streamFeed() throws TwitterException {\n        \n        StatusListener listener = new StatusListener(){\n            @Override\n            public void onStatus(Status status) {\n                System.out.println(&quot;%s : %s&quot;.formatted(status.getUser().getName(), status.getText()));\n            }\n\n            @Override\n            public void onTrackLimitationNotice(int numberOfLimitedStatuses) {}\n\n            @Override\n            public void onScrubGeo(long userId, long upToStatusId) {}\n\n            @Override\n            public void onException(Exception ex) {\n                ex.printStackTrace();\n            }\n            @Override\n            public void onDeletionNotice(StatusDeletionNotice statusDeletionNotice) {\n                // TODO Auto-generated method stub\n                \n            }\n            @Override\n            public void onStallWarning(StallWarning warning) {\n                // TODO Auto-generated method stub\n                \n            }\n        };\n        TwitterStream twitterStream = Twitter.newBuilder()\n                .listener(listener).build().v1().stream();\n        return twitterStream.sample();\n    \n    }\n}\n</code></pre>\n<p><strong>2. Configuration class</strong></p>\n<pre><code>@SpringBootConfiguration\n@EnableAsync\npublic class AsyncConfiguration {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(AsyncConfiguration.class);\n\n    @Bean(name = &quot;taskExecutor&quot;)\n    public Executor taskExecutor() {\n        LOGGER.debug(&quot;Creating Async Task Executor&quot;);\n        final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(2);\n        executor.setMaxPoolSize(2);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;CarThread-&quot;);\n        executor.initialize();\n        return executor;\n    }\n}\n</code></pre>\n<p><strong>3. Maven dependency</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.twitter4j&lt;/groupId&gt;\n        &lt;artifactId&gt;twitter4j-core&lt;/artifactId&gt;\n        &lt;version&gt;4.1.1&lt;/version&gt;\n</code></pre>\n<p><strong>4. The last logs and the information about this issue are the following:</strong></p>\n<pre><code>2023-03-08 17:22:18.980  INFO 55335 --- [][initializing]] twitter4j.TwitterStreamImpl              : Establishing connection.\n2023-03-08 17:22:20.036  INFO 55335 --- [ing connection]] twitter4j.TwitterStreamImpl              : https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\nhttps://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\nRelevant discussions can be found on the Internet at:\n    http://www.google.co.jp/search?q=ee74468e or\n    http://www.google.co.jp/search?q=9eaf216e\nTwitterException{exceptionCode=[ee74468e-9eaf216e 69215812-3735082c 69215812-3735081d], statusCode=-1, message=null, code=-1, retryAfter=-1, rateLimitStatus=null, version=4.1.1}\n    at twitter4j.HttpClient.handleRequest(HttpClient.java:191)\n    at twitter4j.HttpClient.request(HttpClient.java:72)\n    at twitter4j.HttpClient.get(HttpClient.java:279)\n    at twitter4j.TwitterStreamImpl.getSampleStream(TwitterStreamImpl.java:209)\n    at twitter4j.TwitterStreamImpl$4.getStream(TwitterStreamImpl.java:180)\n    at twitter4j.TwitterStreamImpl$TwitterStreamConsumer.run(TwitterStreamImpl.java:387)\n2023-03-08 17:22:20.046  INFO 55335 --- [ing connection]] twitter4j.TwitterStreamImpl              : Waiting for 250 milliseconds\nCaused by: java.io.FileNotFoundException: https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2048)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:2043)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:2042)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1609)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\n    at twitter4j.HttpResponse.&lt;init&gt;(HttpResponse.java:54)\n    at twitter4j.HttpClient.handleRequest(HttpClient.java:155)\n    ... 5 more\nCaused by: java.io.FileNotFoundException: https://stream.twitter.com/1.1/statuses/sample.json?stall_warnings=true\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1993)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\n    at twitter4j.HttpResponse.&lt;init&gt;(HttpResponse.java:39)\n    ... 6 more\n</code></pre>\n<p>I am trying to use the twitter4j stream as it works a year ago</p>\n"},{"tags":["java","intellij-idea","plugins"],"answers":[{"tags":[],"owner":{"account_id":2706223,"reputation":3719,"user_id":2335775,"accept_rate":100,"display_name":"Vasyl Sarzhynskyi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1496421627,"creation_date":1496421627,"answer_id":44333738,"question_id":44329121,"body_markdown":"if I understand you correctly, please try the following:   \r\nopen Preferences &gt;&gt; Keymap &gt;&gt; Plug-ins &gt;&gt; select your plug-in &gt;&gt; double click on plug-in&#39;s item &gt;&gt; Add Mouse shortcut &gt;&gt; save your right click option.","title":"How to add plugin item to IntelliJ IDEA context menu?","body":"<p>if I understand you correctly, please try the following:<br>\nopen Preferences >> Keymap >> Plug-ins >> select your plug-in >> double click on plug-in's item >> Add Mouse shortcut >> save your right click option.</p>\n"},{"tags":[],"owner":{"account_id":9600222,"reputation":774,"user_id":7128028,"display_name":"Sean K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678297787,"creation_date":1678297787,"answer_id":75676532,"question_id":44329121,"body_markdown":"In the \\&lt;actions\\&gt; section of your plugin.xml, you need to register your action to that context menu (which happens to be called &quot;ProjectViewPopupMenu&quot;)\r\n\r\n        &lt;action id=&quot;com.example.someaction&quot; class=&quot;com.example.someaction&quot; text=&quot;Do Something&quot;\r\n                description=&quot;Does Something&quot;&gt;\r\n            &lt;add-to-group group-id=&quot;ProjectViewPopupMenu&quot; anchor=&quot;last&quot;/&gt;\r\n        &lt;/action&gt;\r\n\r\nAlso, when editing your action class, there is a helper action when your cursor is on an AnAction class name that isn&#39;t registered, which gives you a very nice UI to help you register your action and fill in the plugin.xml details for you, which includes a full listing of action groups to help you find the specific group you are looking for.","title":"How to add plugin item to IntelliJ IDEA context menu?","body":"<p>In the &lt;actions&gt; section of your plugin.xml, you need to register your action to that context menu (which happens to be called &quot;ProjectViewPopupMenu&quot;)</p>\n<pre><code>    &lt;action id=&quot;com.example.someaction&quot; class=&quot;com.example.someaction&quot; text=&quot;Do Something&quot;\n            description=&quot;Does Something&quot;&gt;\n        &lt;add-to-group group-id=&quot;ProjectViewPopupMenu&quot; anchor=&quot;last&quot;/&gt;\n    &lt;/action&gt;\n</code></pre>\n<p>Also, when editing your action class, there is a helper action when your cursor is on an AnAction class name that isn't registered, which gives you a very nice UI to help you register your action and fill in the plugin.xml details for you, which includes a full listing of action groups to help you find the specific group you are looking for.</p>\n"}],"owner":{"account_id":10626702,"reputation":1,"user_id":7826134,"display_name":"John Vahanyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678297787,"creation_date":1496406879,"question_id":44329121,"body_markdown":"I have written a plugin for **IntelliJ IDEA** . It works when I press **alt + insert** .\r\n\r\n[![works with alt + insert][1]][1]\r\n\r\n\r\nBut I want it to create icon in this menu ,so that I can run my plugin from here.\r\n\r\n[![I want to add somewhere here][2]][2]\r\n\r\nHow can I config it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wZhbL.jpg\r\n  [2]: https://i.stack.imgur.com/5zDMs.jpg","title":"How to add plugin item to IntelliJ IDEA context menu?","body":"<p>I have written a plugin for <strong>IntelliJ IDEA</strong> . It works when I press <strong>alt + insert</strong> .</p>\n\n<p><a href=\"https://i.stack.imgur.com/wZhbL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wZhbL.jpg\" alt=\"works with alt + insert\"></a></p>\n\n<p>But I want it to create icon in this menu ,so that I can run my plugin from here.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5zDMs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5zDMs.jpg\" alt=\"I want to add somewhere here\"></a></p>\n\n<p>How can I config it?</p>\n"},{"tags":["java","conditional-statements","conditional-operator"],"comments":[{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1386286746,"post_id":20413076,"comment_id":30486659,"body_markdown":"why do not you regular expression for that\n\nhttp://stackoverflow.com/questions/5034580/comparing-chars-in-java","body":"why do not you regular expression for that  <a href=\"http://stackoverflow.com/questions/5034580/comparing-chars-in-java\" title=\"comparing chars in java\">stackoverflow.com/questions/5034580/comparing-chars-in-java</a>"}],"answers":[{"tags":[],"owner":{"account_id":2159502,"reputation":2327,"user_id":1914005,"accept_rate":100,"display_name":"Vitruvie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1386286724,"creation_date":1386286724,"answer_id":20413106,"question_id":20413076,"body_markdown":"Just use the char primitive:\r\n\r\n    if (command.charAt(index) == &#39;[&#39;){ //Note the single quotes; double quotes won&#39;t work\r\nProduces much clearer code and always works.","title":"Java special character in conditional check","body":"<p>Just use the char primitive:</p>\n\n<pre><code>if (command.charAt(index) == '['){ //Note the single quotes; double quotes won't work\n</code></pre>\n\n<p>Produces much clearer code and always works.</p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386287258,"creation_date":1386287258,"answer_id":20413210,"question_id":20413076,"body_markdown":"Try running this experiment:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.out.println(Character.getNumericValue(&#39;[&#39;));\r\n        }\r\n    }\r\n\r\nand notice that it returns -1.\r\n\r\nFrom the API:\r\n\r\n&gt; Returns: the numeric value of the character, as a nonnegative int\r\n&gt; value; -2 if the character has a numeric value that is not a\r\n&gt; nonnegative integer; -1 if the character has no numeric value.\r\n\r\nSo the correct way to do this is \r\n\r\n`command.charAt(index) == &#39;[&#39;` as has been pointed out.","title":"Java special character in conditional check","body":"<p>Try running this experiment:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(Character.getNumericValue('['));\n    }\n}\n</code></pre>\n\n<p>and notice that it returns -1.</p>\n\n<p>From the API:</p>\n\n<blockquote>\n  <p>Returns: the numeric value of the character, as a nonnegative int\n  value; -2 if the character has a numeric value that is not a\n  nonnegative integer; -1 if the character has no numeric value.</p>\n</blockquote>\n\n<p>So the correct way to do this is </p>\n\n<p><code>command.charAt(index) == '['</code> as has been pointed out.</p>\n"}],"owner":{"account_id":2435370,"reputation":925,"user_id":2125416,"accept_rate":69,"display_name":"Son of a Sailor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20413106,"answer_count":2,"score":1,"last_activity_date":1678297524,"creation_date":1386286576,"question_id":20413076,"body_markdown":"I have some lines of code that check for brackets in a string.  \r\n\r\n    while (index &lt;= command.length()-1 &amp;&amp; done == false) {\r\n        if (command.charAt(index) == 123) { // ASCII value for open bracket\r\n            braces++;\r\n            token = token + command.charAt(index);\r\n            index++;\r\n        } else if (command.charAt(index) == 125) {\r\n            braces--;\r\n            token = token + command.charAt(index);\r\n            index++;\r\n        } else if (braces &gt; 0) {\r\n            if (command.charAt(index) &gt; 47 &amp;&amp; command.charAt(index) &lt; 58 || command.charAt(index) &gt; 64 &amp;&amp; command.charAt(index) &lt; 123) {\r\n                token = token + command.charAt(index);\r\n                index++;\r\n            } else \r\n                index++;\r\n        } else if (braces == 0) {\r\n            if (command.charAt(index) &gt; 47 &amp;&amp; command.charAt(index) &lt; 58) {\r\n                token = token + command.charAt(index);\r\n                index++;\r\n                if (command.charAt(index) == 123)\r\n                    done = true;\r\n                } else {\r\n                    index++;\r\n                    done = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe issue I have is with this line: `if (command.charAt(index) == 123)`   \r\n\r\nUsing the ASCII values for checking for a-Z and 0-9 worked perfectly, but when I step through the debugger, the conditional for the brackets fail every time.  \r\n\r\nIs it illegal to use conditional checking like this?","title":"Java special character in conditional check","body":"<p>I have some lines of code that check for brackets in a string.</p>\n<pre><code>while (index &lt;= command.length()-1 &amp;&amp; done == false) {\n    if (command.charAt(index) == 123) { // ASCII value for open bracket\n        braces++;\n        token = token + command.charAt(index);\n        index++;\n    } else if (command.charAt(index) == 125) {\n        braces--;\n        token = token + command.charAt(index);\n        index++;\n    } else if (braces &gt; 0) {\n        if (command.charAt(index) &gt; 47 &amp;&amp; command.charAt(index) &lt; 58 || command.charAt(index) &gt; 64 &amp;&amp; command.charAt(index) &lt; 123) {\n            token = token + command.charAt(index);\n            index++;\n        } else \n            index++;\n    } else if (braces == 0) {\n        if (command.charAt(index) &gt; 47 &amp;&amp; command.charAt(index) &lt; 58) {\n            token = token + command.charAt(index);\n            index++;\n            if (command.charAt(index) == 123)\n                done = true;\n            } else {\n                index++;\n                done = true;\n            }\n        }\n    }\n}\n</code></pre>\n<p>The issue I have is with this line: <code>if (command.charAt(index) == 123)</code></p>\n<p>Using the ASCII values for checking for a-Z and 0-9 worked perfectly, but when I step through the debugger, the conditional for the brackets fail every time.</p>\n<p>Is it illegal to use conditional checking like this?</p>\n"},{"tags":["java","tomcat","grails","character-encoding","gsp"],"answers":[{"tags":[],"owner":{"account_id":1062540,"reputation":123,"user_id":8215811,"display_name":"ionised"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678297366,"creation_date":1678297366,"answer_id":75676459,"question_id":75673595,"body_markdown":"Answered my own question.\r\n\r\nMy particular issue is related to RenderTagLib encoding, and the behaviour seems to differ between local/dev execution and other environments (like production) like I found in this other question (unfortunately after I had spent days searching for a solution, ultimately successfully):\r\n\r\nhttps://stackoverflow.com/questions/67244682/grails-gsp-expressions-encoded-only-in-production\r\n\r\nAnyway, in dev the application worked as expected and \r\n\r\n    g.render(template: template, model: model)\r\n\r\nworked as expected. However in TEST/PROD environments this same function would return a character stream that was full of escape sequences.\r\n\r\nThe solution was to call the method like so:\r\n\r\n    g.render(template: template, model: model, encodeAs: &#39;raw&#39;)\r\n\r\nwhich gave me the desired behaviour in any environment. Initially I tried this, unsuccessfully:\r\n\r\n    views:\r\n        default:\r\n            codec: none # none, html, base64\r\n        gsp:\r\n            encoding: UTF-8\r\n            codecs:\r\n                taglib: raw   \r\n\r\nWhich did fix part of my application, but was too broad a solution and broke other things.\r\n\r\nThe first example I gave above `g.render(encodeAs: &#39;raw&#39;)` needed to be used selectively.\r\n\r\nAgain, very annoying that this behaviour changes when non-dev profiles are used. I couldn&#39;t find any documentation explaining it either.\r\n","title":"Grails TagLib encoding different when running on Tomcat 9","body":"<p>Answered my own question.</p>\n<p>My particular issue is related to RenderTagLib encoding, and the behaviour seems to differ between local/dev execution and other environments (like production) like I found in this other question (unfortunately after I had spent days searching for a solution, ultimately successfully):</p>\n<p><a href=\"https://stackoverflow.com/questions/67244682/grails-gsp-expressions-encoded-only-in-production\">Grails GSP expressions encoded only in production</a></p>\n<p>Anyway, in dev the application worked as expected and</p>\n<pre><code>g.render(template: template, model: model)\n</code></pre>\n<p>worked as expected. However in TEST/PROD environments this same function would return a character stream that was full of escape sequences.</p>\n<p>The solution was to call the method like so:</p>\n<pre><code>g.render(template: template, model: model, encodeAs: 'raw')\n</code></pre>\n<p>which gave me the desired behaviour in any environment. Initially I tried this, unsuccessfully:</p>\n<pre><code>views:\n    default:\n        codec: none # none, html, base64\n    gsp:\n        encoding: UTF-8\n        codecs:\n            taglib: raw   \n</code></pre>\n<p>Which did fix part of my application, but was too broad a solution and broke other things.</p>\n<p>The first example I gave above <code>g.render(encodeAs: 'raw')</code> needed to be used selectively.</p>\n<p>Again, very annoying that this behaviour changes when non-dev profiles are used. I couldn't find any documentation explaining it either.</p>\n"}],"owner":{"account_id":1062540,"reputation":123,"user_id":8215811,"display_name":"ionised"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678297366,"creation_date":1678281672,"question_id":75673595,"body_markdown":"\r\n\r\nI&#39;ve recently upgraded a Grails 2 application to Grails 5 and have one outstanding problem before I&#39;m ready to put this into our test environment.\r\n\r\nWe call the\r\n\r\n    g.render(template: template, model: model)\r\n\r\nmethod where the template is just a string reference to a GSP, and the model is a `Map&lt;String, String&gt;` that is used to populate that GSP.\r\n\r\nBehaviour differs between local run-app (in IntelliJ IDEA) and Tomcat 9 on Ubuntu, in a way that breaks the view referenced in template.\r\n\r\nThe crux of the matter is; given the exact same inputs to the `g.render()` method, the outputs differ like:\r\n\r\nIntelliJ IDEA run-app:\r\n\r\n    &#39;EUR (MSRP: 85.34, Range from 79.90 - 106.90, Avg.: 88.94)&#39;\r\n\r\nTomcat 9:\r\n\r\n    &#39;EUR \\u0028MSRP: 85.34\\u002c Range from 79.90 - 106.90\\u002c Avg.: 88.94\\u0029&#39;\r\n\r\nThere is obviously some character encoding issue going on, but I&#39;m not sure how to override the behaviour of Tomcat or the deployed WAR to make `g.render()` consistent with local `grails run-app`.\r\n\r\nWe already have this config in our Grails 5 YML:\r\n\r\n        views:\r\n            default:\r\n                codec: none # none, html, base64\r\n            gsp:\r\n                encoding: UTF-8\r\n                codecs:\r\n                    expression: none\r\n                    scriptlet: none\r\n                    taglib: none\r\n                    staticparts: none\r\n\r\nWhat could be the reason for this change in behaviour when running under Tomcat?\r\n\r\nThanks in advance for any suggestions.\r\n","title":"Grails TagLib encoding different when running on Tomcat 9","body":"<p>I've recently upgraded a Grails 2 application to Grails 5 and have one outstanding problem before I'm ready to put this into our test environment.</p>\n<p>We call the</p>\n<pre><code>g.render(template: template, model: model)\n</code></pre>\n<p>method where the template is just a string reference to a GSP, and the model is a <code>Map&lt;String, String&gt;</code> that is used to populate that GSP.</p>\n<p>Behaviour differs between local run-app (in IntelliJ IDEA) and Tomcat 9 on Ubuntu, in a way that breaks the view referenced in template.</p>\n<p>The crux of the matter is; given the exact same inputs to the <code>g.render()</code> method, the outputs differ like:</p>\n<p>IntelliJ IDEA run-app:</p>\n<pre><code>'EUR (MSRP: 85.34, Range from 79.90 - 106.90, Avg.: 88.94)'\n</code></pre>\n<p>Tomcat 9:</p>\n<pre><code>'EUR \\u0028MSRP: 85.34\\u002c Range from 79.90 - 106.90\\u002c Avg.: 88.94\\u0029'\n</code></pre>\n<p>There is obviously some character encoding issue going on, but I'm not sure how to override the behaviour of Tomcat or the deployed WAR to make <code>g.render()</code> consistent with local <code>grails run-app</code>.</p>\n<p>We already have this config in our Grails 5 YML:</p>\n<pre><code>    views:\n        default:\n            codec: none # none, html, base64\n        gsp:\n            encoding: UTF-8\n            codecs:\n                expression: none\n                scriptlet: none\n                taglib: none\n                staticparts: none\n</code></pre>\n<p>What could be the reason for this change in behaviour when running under Tomcat?</p>\n<p>Thanks in advance for any suggestions.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9633,"page":592,"page_size":100}
