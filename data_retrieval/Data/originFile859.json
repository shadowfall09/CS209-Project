{"items":[{"tags":["java","spring-boot","post"],"answers":[{"tags":[],"owner":{"account_id":16319704,"reputation":1245,"user_id":11785852,"display_name":"Ruchira Nawarathna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669265309,"creation_date":1669265309,"answer_id":74555748,"question_id":74555464,"body_markdown":"There are few solutions you can follow. \r\n\r\n**1. Use string as request body and convert to json**\r\n\r\n        @PostMapping(value=&quot;/register&quot;)\r\n        public Map&lt;String, Object&gt; registerSingleConnection(@RequestBody String param){\r\n            System.out.println(param);\r\n            JSONObject json = new JSONObject(param);  // convert to json\r\n            return json.toMap();\r\n        }\r\n\r\n**2. Use Map as request body**\r\n\r\n        @PostMapping(value=&quot;/register&quot;)\r\n        public Map&lt;String, Object&gt; registerSingleConnection(@RequestBody Map&lt;String, Object&gt; param){\r\n            System.out.println(param);\r\n            return param;\r\n        }\r\n\r\n**3. Use a custom type as request body**\r\n        \r\n        public class Request {\r\n            private String id;\r\n            private String val;\r\n\r\n            public Request(String id, String val) {\r\n                this.id = id;\r\n                this.val = val;\r\n            }\r\n\r\n            public JSONObject toJSON() {\r\n\r\n                JSONObject json = new JSONObject();\r\n                json.put(&quot;id&quot;, id);\r\n                json.put(&quot;val&quot;, val);\r\n\r\n                return json;\r\n            }\r\n        }\r\n\r\n\r\n        @PostMapping(value=&quot;/register&quot;)\r\n        public Map&lt;String, Object&gt; registerSingleConnection(@RequestBody Request param){\r\n            JSONObject json = param.toJSON();\r\n            return json.toMap();\r\n        }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iQTTM.png","title":"Why Springboot @requestbody parameter always receives empty?","body":"<p>There are few solutions you can follow.</p>\n<p><strong>1. Use string as request body and convert to json</strong></p>\n<pre><code>    @PostMapping(value=&quot;/register&quot;)\n    public Map&lt;String, Object&gt; registerSingleConnection(@RequestBody String param){\n        System.out.println(param);\n        JSONObject json = new JSONObject(param);  // convert to json\n        return json.toMap();\n    }\n</code></pre>\n<p><strong>2. Use Map as request body</strong></p>\n<pre><code>    @PostMapping(value=&quot;/register&quot;)\n    public Map&lt;String, Object&gt; registerSingleConnection(@RequestBody Map&lt;String, Object&gt; param){\n        System.out.println(param);\n        return param;\n    }\n</code></pre>\n<p><strong>3. Use a custom type as request body</strong></p>\n<pre><code>    public class Request {\n        private String id;\n        private String val;\n\n        public Request(String id, String val) {\n            this.id = id;\n            this.val = val;\n        }\n\n        public JSONObject toJSON() {\n\n            JSONObject json = new JSONObject();\n            json.put(&quot;id&quot;, id);\n            json.put(&quot;val&quot;, val);\n\n            return json;\n        }\n    }\n\n\n    @PostMapping(value=&quot;/register&quot;)\n    public Map&lt;String, Object&gt; registerSingleConnection(@RequestBody Request param){\n        JSONObject json = param.toJSON();\n        return json.toMap();\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iQTTM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iQTTM.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15831121,"reputation":1091,"user_id":11422407,"display_name":"leo0807"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669265309,"creation_date":1669262168,"question_id":74555464,"body_markdown":"all. I currently met an unexpected situation. I completed my API, and I hope to have a test by Postman; however, I do not know why I always get an empty bracket `{}`. How can I fix it?\r\n\r\n```\r\n@PostMapping(value=&quot;/register&quot;)\r\npublic Status registerSingleConnection(@RequestBody JSONObject param){\r\n    System.out.printlin(param); // para always be {}\r\n    ....\r\n}\r\n```\r\nThis is what I tried in `generated-requests.http`:\r\n```\r\nPOST http://127.0.0.1:8082/register\r\nContent-Type: application/json\r\n{\r\n    &quot;id&quot;: &quot;1&quot;,\r\n    &quot;val&quot;: &quot;999&quot;\r\n}\r\n```\r\n\r\n","title":"Why Springboot @requestbody parameter always receives empty?","body":"<p>all. I currently met an unexpected situation. I completed my API, and I hope to have a test by Postman; however, I do not know why I always get an empty bracket <code>{}</code>. How can I fix it?</p>\n<pre><code>@PostMapping(value=&quot;/register&quot;)\npublic Status registerSingleConnection(@RequestBody JSONObject param){\n    System.out.printlin(param); // para always be {}\n    ....\n}\n</code></pre>\n<p>This is what I tried in <code>generated-requests.http</code>:</p>\n<pre><code>POST http://127.0.0.1:8082/register\nContent-Type: application/json\n{\n    &quot;id&quot;: &quot;1&quot;,\n    &quot;val&quot;: &quot;999&quot;\n}\n</code></pre>\n"},{"tags":["java","tomcat","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":26518992,"reputation":1059,"user_id":20153035,"display_name":"Fastnlight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667238921,"creation_date":1667238921,"answer_id":74267324,"question_id":74267287,"body_markdown":"You can set Java properties in Tomcat 9 by adding them to the &lt;code&gt;JAVA_OPTS&lt;/code&gt; environment variable.\r\nFor example, to set the &lt;code&gt;java.util.logging.config.file&lt;/code&gt; property, you can add the following line to &lt;code&gt;bin/setenv.sh&lt;/code&gt; (or &lt;code&gt;bin/setenv.bat&lt;/code&gt; on Windows):\r\n```bash\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Djava.util.logging.config.file=/path/to/logging.properties&quot;\r\n```\r\n","title":"How to set JAVA properties in Tomcat 9?","body":"<p>You can set Java properties in Tomcat 9 by adding them to the <code>JAVA_OPTS</code> environment variable.\nFor example, to set the <code>java.util.logging.config.file</code> property, you can add the following line to <code>bin/setenv.sh</code> (or <code>bin/setenv.bat</code> on Windows):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>JAVA_OPTS=&quot;$JAVA_OPTS -Djava.util.logging.config.file=/path/to/logging.properties&quot;\n</code></pre>\n"}],"owner":{"account_id":316994,"reputation":14050,"user_id":633440,"accept_rate":50,"display_name":"Karl Hill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74267324,"answer_count":1,"score":0,"last_activity_date":1669264708,"creation_date":1667238746,"question_id":74267287,"body_markdown":"How do I set Java properties in Tomcat 9? I believe that I used to be able to use tomcat.conf to set and load properties? Is this still the case?","title":"How to set JAVA properties in Tomcat 9?","body":"<p>How do I set Java properties in Tomcat 9? I believe that I used to be able to use tomcat.conf to set and load properties? Is this still the case?</p>\n"},{"tags":["java","android","android-studio","intellij-idea"],"comments":[{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":0,"creation_date":1669266946,"post_id":74555675,"comment_id":131606740,"body_markdown":"You should be able to use &quot;this&quot;. Note that &quot;this&quot; won&#39;t work in a lambda, though, in which case you will need to use an intermediate object to store a reference to the lambda such as AtomicReference or an array.","body":"You should be able to use &quot;this&quot;. Note that &quot;this&quot; won&#39;t work in a lambda, though, in which case you will need to use an intermediate object to store a reference to the lambda such as AtomicReference or an array."}],"owner":{"account_id":25769767,"reputation":11,"user_id":19518787,"display_name":"BugMaker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669264589,"creation_date":1669264589,"question_id":74555675,"body_markdown":"Just like this:\r\n\r\n```\r\nAdListener adListener = new AdListener() {\r\n    @Override\r\n    public void onAdLoaded() {\r\n        unRegisterCallback(adListener);\r\n    }\r\n};\r\n```\r\n\r\nAt this point IDEA will prompt: &quot;Variable &#39;adListener&#39; might not have been initialized&quot;\r\n\r\nHow to resolve?\r\n\r\n\r\n\r\nI haven&#39;t encountered this kind of problem before, so I can&#39;t find a suitable solution.","title":"How to use itself in Java interface callback?","body":"<p>Just like this:</p>\n<pre><code>AdListener adListener = new AdListener() {\n    @Override\n    public void onAdLoaded() {\n        unRegisterCallback(adListener);\n    }\n};\n</code></pre>\n<p>At this point IDEA will prompt: &quot;Variable 'adListener' might not have been initialized&quot;</p>\n<p>How to resolve?</p>\n<p>I haven't encountered this kind of problem before, so I can't find a suitable solution.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":7227100,"reputation":2697,"user_id":5515287,"display_name":"Mustafa Poya"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669263655,"creation_date":1669263655,"answer_id":74555584,"question_id":74555583,"body_markdown":"To copy the content of a String variable to the system Clipboard you can use \r\n\r\n```\r\nimport javafx.scene.input.Clipboard;\r\nimport javafx.scene.input.ClipboardContent;\r\n```\r\nclasses for `JavaFX` applications and for example:\r\n\r\n```\r\nClipboard clipboard = Clipboard.getSystemClipboard();\r\nClipboardContent content = new ClipboardContent();\r\ncontent.putString(&quot;Hello World&quot;);\r\nclipboard.setContent(content);\r\n```","title":"JavaFX copy to clipboard","body":"<p>To copy the content of a String variable to the system Clipboard you can use</p>\n<pre><code>import javafx.scene.input.Clipboard;\nimport javafx.scene.input.ClipboardContent;\n</code></pre>\n<p>classes for <code>JavaFX</code> applications and for example:</p>\n<pre><code>Clipboard clipboard = Clipboard.getSystemClipboard();\nClipboardContent content = new ClipboardContent();\ncontent.putString(&quot;Hello World&quot;);\nclipboard.setContent(content);\n</code></pre>\n"}],"owner":{"account_id":7227100,"reputation":2697,"user_id":5515287,"display_name":"Mustafa Poya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74555584,"answer_count":1,"score":0,"last_activity_date":1669263655,"creation_date":1669263655,"question_id":74555583,"body_markdown":"In `Swing` you can use `java.awt.Toolkit` and `java.awt.datatransfer.Clipboard` classes to copy the text value in the system clipboard and I&#39;m looking for a solution to copy the value of a `String` variable to the system clipboard using `JavaFX`?","title":"JavaFX copy to clipboard","body":"<p>In <code>Swing</code> you can use <code>java.awt.Toolkit</code> and <code>java.awt.datatransfer.Clipboard</code> classes to copy the text value in the system clipboard and I'm looking for a solution to copy the value of a <code>String</code> variable to the system clipboard using <code>JavaFX</code>?</p>\n"},{"tags":["java","linux","console-application"],"comments":[{"owner":{"account_id":2220534,"reputation":276,"user_id":2128554,"accept_rate":62,"display_name":"learner"},"score":0,"creation_date":1669261301,"post_id":74555335,"comment_id":131605918,"body_markdown":"I hope you have a script and &quot;a&quot; is just an argument to the script?","body":"I hope you have a script and &quot;a&quot; is just an argument to the script?"},{"owner":{"account_id":2428490,"reputation":13926,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1669261466,"post_id":74555335,"comment_id":131605951,"body_markdown":"@learner could be bult like that. That&#39;s not a problem.","body":"@learner could be bult like that. That&#39;s not a problem."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669261725,"creation_date":1669261725,"answer_id":74555418,"question_id":74555335,"body_markdown":"Try this:\r\n\r\n    package stackoverflow;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    \r\n    public class ProcessAccess {\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) throws IOException {\r\n    \t\tfinal Process process = Runtime.getRuntime().exec(args);\r\n    \r\n    \t\t// write text to os\r\n    \t\tfinal OutputStream os = process.getOutputStream();\r\n    \t\tos.write(&quot;a&quot;.getBytes());\r\n    \r\n    \t\t// maybe needs newline to simulate enter key, \\n may be enough for windows\r\n    \t\t// use any of the following 2\r\n    \t\tfinal String lineSeparator1 = System.lineSeparator();\r\n    \t\tfinal String lineSeparator2 = System.getProperty(&quot;line.separator&quot;);\r\n    \r\n    \t\tos.write(lineSeparator1.getBytes());\r\n    \r\n    \t\tos.flush(); // may not be needed, check out process.getOutputStream()&#39;s documentation\r\n    \r\n    \r\n    \t\t// quick and dirty reading of app output, you can do that a lot better\r\n    \t\tfinal InputStream is = process.getInputStream();\r\n    \t\twhile (true) {\r\n    \t\t\tfinal int b = is.read();\r\n    \t\t\tif (b == -1) break;\r\n    \r\n    \t\t\tSystem.out.print((char) b);\r\n    \t\t}\r\n    \r\n    \t\t// same quick+dirty. remember you might need to use multi-threading or pseudo-parallel read if you depend on output of either in or err channel\r\n    \t\tfinal InputStream es = process.getErrorStream();\r\n    \t\twhile (true) {\r\n    \t\t\tfinal int b = es.read();\r\n    \t\t\tif (b == -1) break;\r\n    \r\n    \t\t\tSystem.out.print((char) b);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n","title":"How to trigger console app on Linux from Java app","body":"<p>Try this:</p>\n<pre><code>package stackoverflow;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class ProcessAccess {\n\n\n\n    public static void main(final String[] args) throws IOException {\n        final Process process = Runtime.getRuntime().exec(args);\n\n        // write text to os\n        final OutputStream os = process.getOutputStream();\n        os.write(&quot;a&quot;.getBytes());\n\n        // maybe needs newline to simulate enter key, \\n may be enough for windows\n        // use any of the following 2\n        final String lineSeparator1 = System.lineSeparator();\n        final String lineSeparator2 = System.getProperty(&quot;line.separator&quot;);\n\n        os.write(lineSeparator1.getBytes());\n\n        os.flush(); // may not be needed, check out process.getOutputStream()'s documentation\n\n\n        // quick and dirty reading of app output, you can do that a lot better\n        final InputStream is = process.getInputStream();\n        while (true) {\n            final int b = is.read();\n            if (b == -1) break;\n\n            System.out.print((char) b);\n        }\n\n        // same quick+dirty. remember you might need to use multi-threading or pseudo-parallel read if you depend on output of either in or err channel\n        final InputStream es = process.getErrorStream();\n        while (true) {\n            final int b = es.read();\n            if (b == -1) break;\n\n            System.out.print((char) b);\n        }\n    }\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":2428490,"reputation":13926,"user_id":2119941,"display_name":"Hrvoje"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74555418,"answer_count":1,"score":1,"last_activity_date":1669261725,"creation_date":1669261024,"question_id":74555335,"body_markdown":"I have console app in Ubuntu that receives as input just letter `&quot;a&quot;`.\r\n\r\nSo when user types `&quot;a&quot;` in console - this triggers some other process. \r\n\r\nNow I have Java app that would need to trigger this console app by passing `&quot;a&quot;` to it. \r\n\r\nWhat would be best way to implement that? I just need few pointers. \r\n\r\nTried to find similar soulutons but no luck. \r\n","title":"How to trigger console app on Linux from Java app","body":"<p>I have console app in Ubuntu that receives as input just letter <code>&quot;a&quot;</code>.</p>\n<p>So when user types <code>&quot;a&quot;</code> in console - this triggers some other process.</p>\n<p>Now I have Java app that would need to trigger this console app by passing <code>&quot;a&quot;</code> to it.</p>\n<p>What would be best way to implement that? I just need few pointers.</p>\n<p>Tried to find similar soulutons but no luck.</p>\n"},{"tags":["java","spring-boot","serialization","timestamp","localdatetime"],"comments":[{"owner":{"account_id":19014896,"reputation":45,"user_id":13880088,"display_name":"vince"},"score":0,"creation_date":1643620315,"post_id":70923462,"comment_id":125379411,"body_markdown":"I forgot to say, I tried also to add jackson-datatype-jsr310 dependency","body":"I forgot to say, I tried also to add jackson-datatype-jsr310 dependency"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1643620686,"post_id":70923462,"comment_id":125379533,"body_markdown":"`LocalDateTime` is only a date plus a time of day, it does not represent a moment in time because it has no time zone or offset from UTC. It cannot be converted to epoch millis without attaching a zone or an offset. I would try an `Instant`, an `OffsetDateTime` or a `ZonedDateTime` in your case. By the way, please show code that is more relevant to your problem and add some example values (input, desired, actual).","body":"<code>LocalDateTime</code> is only a date plus a time of day, it does not represent a moment in time because it has no time zone or offset from UTC. It cannot be converted to epoch millis without attaching a zone or an offset. I would try an <code>Instant</code>, an <code>OffsetDateTime</code> or a <code>ZonedDateTime</code> in your case. By the way, please show code that is more relevant to your problem and add some example values (input, desired, actual)."},{"owner":{"account_id":19014896,"reputation":45,"user_id":13880088,"display_name":"vince"},"score":0,"creation_date":1643621373,"post_id":70923462,"comment_id":125379792,"body_markdown":"@deHaar Thanks for your fast answer, I edited my post and I think understand I should modify something when I get value for the variable ldt but I don&#39;t see how.","body":"@deHaar Thanks for your fast answer, I edited my post and I think understand I should modify something when I get value for the variable ldt but I don&#39;t see how."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1643622237,"post_id":70923462,"comment_id":125380099,"body_markdown":"I think you just need an `Instant`, would be sufficient if you just want the epoch millis. Ok, it depends on the code that produces your output `&quot;lastIndexDate&quot;: …`, can you show that, too?","body":"I think you just need an <code>Instant</code>, would be sufficient if you just want the epoch millis. Ok, it depends on the code that produces your output <code>&quot;lastIndexDate&quot;: …</code>, can you show that, too?"},{"owner":{"account_id":19014896,"reputation":45,"user_id":13880088,"display_name":"vince"},"score":0,"creation_date":1643622429,"post_id":70923462,"comment_id":125380164,"body_markdown":"@deHaar yes please see the getFirstLocalDateTime method, this is from which I get the output","body":"@deHaar yes please see the getFirstLocalDateTime method, this is from which I get the output"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1643622792,"post_id":70923462,"comment_id":125380281,"body_markdown":"The actual value you posted is an array of the single parts of a `LocalDateTime` (`[ 2022, 1, 4, 2, 2, 2, 655000000 ]` means `[year, month of year, day of month, hour of day, minute of hour, second of minute, fractions of second]`) which cannot be converted to epoch milliseconds without further adjustment. Your desired output is a moment in time (an `Instant`) as `long`, which leads to the conclusion that `LocalDateTime` is not the data type your method should return. Can you change it to return `Instant` and adjust dependencies accordingly?","body":"The actual value you posted is an array of the single parts of a <code>LocalDateTime</code> (<code>[ 2022, 1, 4, 2, 2, 2, 655000000 ]</code> means <code>[year, month of year, day of month, hour of day, minute of hour, second of minute, fractions of second]</code>) which cannot be converted to epoch milliseconds without further adjustment. Your desired output is a moment in time (an <code>Instant</code>) as <code>long</code>, which leads to the conclusion that <code>LocalDateTime</code> is not the data type your method should return. Can you change it to return <code>Instant</code> and adjust dependencies accordingly?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1643622961,"post_id":70923462,"comment_id":125380338,"body_markdown":"You could start with `private Instant getFirstSomething(…) …` and `return ((Date) doc.getFirstValue(key)).toInstant();`. Maybe find out if you can skip the intermediate casting to `Date` later.","body":"You could start with <code>private Instant getFirstSomething(…) …</code> and <code>return ((Date) doc.getFirstValue(key)).toInstant();</code>. Maybe find out if you can skip the intermediate casting to <code>Date</code> later."}],"answers":[{"tags":[],"owner":{"account_id":19014896,"reputation":45,"user_id":13880088,"display_name":"vince"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643631321,"creation_date":1643631321,"answer_id":70925811,"question_id":70923462,"body_markdown":"Thanks to @deHaar who gave me some hints I&#39;ve found how to proceed.\r\n\r\nI created a custom serializer :\r\n\r\n```\r\npublic class LocalDateTimeSerialize extends StdSerializer&lt;LocalDateTime&gt; {\r\n\r\n    public LocalDateTimeSerialize(Class&lt;LocalDateTime&gt; t) {\r\n        super(t);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(LocalDateTime localDateTime, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n        Long l = localDateTime.toInstant(OffsetDateTime.now().getOffset())\r\n                .toEpochMilli();\r\n        jsonGenerator.writeString(l.toString());\r\n    }\r\n}\r\n```\r\n\r\nI change my extendMessageConverters to use this custom serializer in my objectMapper :\r\n\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.registerModule(new JavaTimeModule()\r\n                .addSerializer(LocalDateTime.class, new LocalDateTimeSerialize(LocalDateTime.class)));\r\n```","title":"LocalDateTime not displaying as timestamps (ie as a long) java 8 spring boot 2.2.0","body":"<p>Thanks to @deHaar who gave me some hints I've found how to proceed.</p>\n<p>I created a custom serializer :</p>\n<pre><code>public class LocalDateTimeSerialize extends StdSerializer&lt;LocalDateTime&gt; {\n\n    public LocalDateTimeSerialize(Class&lt;LocalDateTime&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(LocalDateTime localDateTime, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n        Long l = localDateTime.toInstant(OffsetDateTime.now().getOffset())\n                .toEpochMilli();\n        jsonGenerator.writeString(l.toString());\n    }\n}\n</code></pre>\n<p>I change my extendMessageConverters to use this custom serializer in my objectMapper :</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new JavaTimeModule()\n                .addSerializer(LocalDateTime.class, new LocalDateTimeSerialize(LocalDateTime.class)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3355404,"reputation":41,"user_id":2818478,"display_name":"Maxxxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669261658,"creation_date":1669261658,"answer_id":74555413,"question_id":70923462,"body_markdown":"I&#39;d rather set this config so you don&#39;t have to create a custom serializer:\r\n\r\n    spring:\r\n        jackson:\r\n            serialization:\r\n              write-dates-as-timestamps: true\r\n\r\nThat or set it in your mapper:\r\n\r\n \r\n\r\n       @Bean\r\n        public MappingJackson2HttpMessageConverter jsonConverter() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.registerModule(new JavaTimeModule());\r\n            mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, true);\r\n            mapper.configure(SerializationFeature.INDENT_OUTPUT, true);\r\n            mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, true);\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n            return new MappingJackson2HttpMessageConverter(mapper);\r\n        }","title":"LocalDateTime not displaying as timestamps (ie as a long) java 8 spring boot 2.2.0","body":"<p>I'd rather set this config so you don't have to create a custom serializer:</p>\n<pre><code>spring:\n    jackson:\n        serialization:\n          write-dates-as-timestamps: true\n</code></pre>\n<p>That or set it in your mapper:</p>\n<pre><code>   @Bean\n    public MappingJackson2HttpMessageConverter jsonConverter() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JavaTimeModule());\n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, true);\n        mapper.configure(SerializationFeature.INDENT_OUTPUT, true);\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, true);\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n        return new MappingJackson2HttpMessageConverter(mapper);\n    }\n</code></pre>\n"}],"owner":{"account_id":19014896,"reputation":45,"user_id":13880088,"display_name":"vince"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70925811,"answer_count":2,"score":0,"last_activity_date":1669261658,"creation_date":1643620148,"question_id":70923462,"body_markdown":"After visiting all pages about it where I found and tried many many ideas, none worked for me so I write this post.\r\nMy API in java 8 spring boot 2.2.0 have beans that are generated from xsd files. I recently changes the Date type to LocalDateTime (because deprecation so it&#39;s time to change). \r\nThe problem is, before, Date were display in a timestamp format (as a long) and now LocalDateTime are display in an array and I don&#39;t want it.\r\n\r\nWhat I tried to solve:\r\n- I had a WebMvc annotation on a confiuration class, removed it, not solved the issue.\r\n- I added WRITE_DATES_AS_TIMESTAMPS: true in my application.yml (tried many formats on this properties)\r\n- I have a configuration class for message converters where I tried to manually force timestamps.\r\n- I wanted to add a Json annotation in my beans but as it generate from xsd, I don&#39;t know if it is possible. it is ?\r\n\r\nHere is a snippet of the configuration class for message converters :\r\n```\r\n@Configuration\r\n   public class MVCConfigure implements WebMvcConfigurer {\r\n    @Autowired\r\n    private ObjectMapper jacksonObjectMapper;\r\n\r\n    @Override\r\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n\r\n        converters.removeIf(c -&gt; c instanceof MappingJackson2HttpMessageConverter);\r\n\r\n        jacksonObjectMapper.enable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n        converters.add(httpMessageConverterV1V2);\r\n````\r\n\r\nNothing of theses solutions worked and I still get an array for my LocalDateTime (and I want a long).\r\n\r\nHere is how I get the LocalDateTime :\r\n```\r\nprivate LocalDateTime getFirstLocalDateTime(final SolrDocument doc, final String key) {\r\n\t\tLocalDateTime ldt = null;\r\n\t\tDate solrDate = (Date) doc.getFirstValue(key);\r\n\t\tif(solrDate != null){\r\n\t\t\tldt = solrDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\r\n\t\t}\r\n\t\treturn ldt;\r\n\t}\r\n```\r\n\r\nps : The reason I use Date to get the Date from SolrDoc is because I can&#39;t cast to LocalDateTime directly\r\n\r\nactual value :\r\n&quot;lastIndexedDate&quot;: [\r\n                2022,\r\n                1,\r\n                4,\r\n                2,\r\n                2,\r\n                2,\r\n                655000000\r\n            ]\r\n\r\ndesire value :\r\n&quot;lastIndexedDate&quot;: 1641261722655\r\n\r\n\r\nSo, it is possible to get what I want ?\r\n","title":"LocalDateTime not displaying as timestamps (ie as a long) java 8 spring boot 2.2.0","body":"<p>After visiting all pages about it where I found and tried many many ideas, none worked for me so I write this post.\nMy API in java 8 spring boot 2.2.0 have beans that are generated from xsd files. I recently changes the Date type to LocalDateTime (because deprecation so it's time to change).\nThe problem is, before, Date were display in a timestamp format (as a long) and now LocalDateTime are display in an array and I don't want it.</p>\n<p>What I tried to solve:</p>\n<ul>\n<li>I had a WebMvc annotation on a confiuration class, removed it, not solved the issue.</li>\n<li>I added WRITE_DATES_AS_TIMESTAMPS: true in my application.yml (tried many formats on this properties)</li>\n<li>I have a configuration class for message converters where I tried to manually force timestamps.</li>\n<li>I wanted to add a Json annotation in my beans but as it generate from xsd, I don't know if it is possible. it is ?</li>\n</ul>\n<p>Here is a snippet of the configuration class for message converters :</p>\n<pre><code>@Configuration\n   public class MVCConfigure implements WebMvcConfigurer {\n    @Autowired\n    private ObjectMapper jacksonObjectMapper;\n\n    @Override\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n\n        converters.removeIf(c -&gt; c instanceof MappingJackson2HttpMessageConverter);\n\n        jacksonObjectMapper.enable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n        converters.add(httpMessageConverterV1V2);\n</code></pre>\n<p>Nothing of theses solutions worked and I still get an array for my LocalDateTime (and I want a long).</p>\n<p>Here is how I get the LocalDateTime :</p>\n<pre><code>private LocalDateTime getFirstLocalDateTime(final SolrDocument doc, final String key) {\n        LocalDateTime ldt = null;\n        Date solrDate = (Date) doc.getFirstValue(key);\n        if(solrDate != null){\n            ldt = solrDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\n        }\n        return ldt;\n    }\n</code></pre>\n<p>ps : The reason I use Date to get the Date from SolrDoc is because I can't cast to LocalDateTime directly</p>\n<p>actual value :\n&quot;lastIndexedDate&quot;: [\n2022,\n1,\n4,\n2,\n2,\n2,\n655000000\n]</p>\n<p>desire value :\n&quot;lastIndexedDate&quot;: 1641261722655</p>\n<p>So, it is possible to get what I want ?</p>\n"},{"tags":["java","reactjs","api","frontend","backend"],"comments":[{"owner":{"account_id":3240296,"reputation":25453,"user_id":2733506,"accept_rate":94,"display_name":"John Ruddell"},"score":0,"creation_date":1669258878,"post_id":74555136,"comment_id":131605612,"body_markdown":"if you need to store credentials then that should be done from the backend or else anyone can view these credentials with a simple network inspection in the browser.","body":"if you need to store credentials then that should be done from the backend or else anyone can view these credentials with a simple network inspection in the browser."},{"owner":{"account_id":21443956,"reputation":1,"user_id":15797889,"display_name":"A Guly"},"score":0,"creation_date":1669258988,"post_id":74555136,"comment_id":131605625,"body_markdown":"yeah, I know. but I was wondering if there is any way around to do it still from front end, because it would make it work faster. And in general I&#39;m curious how the news websites actually do it. Thank you btw!","body":"yeah, I know. but I was wondering if there is any way around to do it still from front end, because it would make it work faster. And in general I&#39;m curious how the news websites actually do it. Thank you btw!"},{"owner":{"account_id":3240296,"reputation":25453,"user_id":2733506,"accept_rate":94,"display_name":"John Ruddell"},"score":0,"creation_date":1669259177,"post_id":74555136,"comment_id":131605649,"body_markdown":"use a proxy api, let the backend handle the auth and forwarding the request, the client can pass whatever params and stuff are needed. But dont do something that will expose your secrets for the sake of negligible speed improvements.","body":"use a proxy api, let the backend handle the auth and forwarding the request, the client can pass whatever params and stuff are needed. But dont do something that will expose your secrets for the sake of negligible speed improvements."},{"owner":{"account_id":21443956,"reputation":1,"user_id":15797889,"display_name":"A Guly"},"score":0,"creation_date":1669259357,"post_id":74555136,"comment_id":131605677,"body_markdown":"Will try to do that. And thank you for quick responses","body":"Will try to do that. And thank you for quick responses"},{"owner":{"account_id":3240296,"reputation":25453,"user_id":2733506,"accept_rate":94,"display_name":"John Ruddell"},"score":0,"creation_date":1669259390,"post_id":74555136,"comment_id":131605683,"body_markdown":"I suspect news sites use backends for all of their content, maybe even server side rendering, secrets can&#39;t live in the client (compiled code or runtime requests) as those can be easily inspected and stolen. Whats awesome is you can go to a site and inspect the page. look at what they are doing and get ideas if you&#39;re stuck, give it a shot :)","body":"I suspect news sites use backends for all of their content, maybe even server side rendering, secrets can&#39;t live in the client (compiled code or runtime requests) as those can be easily inspected and stolen. Whats awesome is you can go to a site and inspect the page. look at what they are doing and get ideas if you&#39;re stuck, give it a shot :)"},{"owner":{"account_id":3240296,"reputation":25453,"user_id":2733506,"accept_rate":94,"display_name":"John Ruddell"},"score":0,"creation_date":1669259471,"post_id":74555136,"comment_id":131605701,"body_markdown":"Sure thing :) hope that is helpful","body":"Sure thing :) hope that is helpful"}],"owner":{"account_id":21443956,"reputation":1,"user_id":15797889,"display_name":"A Guly"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669258786,"creation_date":1669258786,"question_id":74555136,"body_markdown":"I&#39;m building a news feed website where I will post the news from another api. The api requires my credentials to connect, so is it better to place the api requests in backend or there is a way to do it securely through front end. \r\n\r\nRight now I have backend components only for user data, not for news (Java and Spring MVC)\r\nFront end is with React JS. Thank you in advance\r\n\r\nI would want to place it in the front end since it will be faster","title":"Where to place API calls to third party","body":"<p>I'm building a news feed website where I will post the news from another api. The api requires my credentials to connect, so is it better to place the api requests in backend or there is a way to do it securely through front end.</p>\n<p>Right now I have backend components only for user data, not for news (Java and Spring MVC)\nFront end is with React JS. Thank you in advance</p>\n<p>I would want to place it in the front end since it will be faster</p>\n"},{"tags":["java","salesforce","runtime-error","dataloader","azul-zulu"],"owner":{"account_id":25756665,"reputation":1,"user_id":19508217,"display_name":"Navin Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669256576,"creation_date":1657262632,"question_id":72907609,"body_markdown":"the error is as Follows:\r\n\r\nWARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\r\n2022-07-08 12:10:35,625 INFO  [main] controller.Controller initLog (Controller.java:472) - The log has been initialized\r\nUnable to find SWT jar for Windows 10 : x86\r\n\r\n\r\n[salesforce dataloader running error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vHvmp.png","title":"Dataloader for Salesforce while running it, I get the following error, if anyone can please explain what&#39;s wrong?","body":"<p>the error is as Follows:</p>\n<p>WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\n2022-07-08 12:10:35,625 INFO  [main] controller.Controller initLog (Controller.java:472) - The log has been initialized\nUnable to find SWT jar for Windows 10 : x86</p>\n<p><a href=\"https://i.stack.imgur.com/vHvmp.png\" rel=\"nofollow noreferrer\">salesforce dataloader running error</a></p>\n"},{"tags":["java","windows","usb","libusb","usb4java"],"answers":[{"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1570140015,"creation_date":1570140015,"answer_id":58227427,"question_id":57241363,"body_markdown":"I know that this is 2 years old, but i&#39;ve had similar issue and this was one of the first questions that i ran into looking for solution, which took me hours.\r\n\r\nSo, basically, windows doesn&#39;t let to read/write keyboard devices directly, to do so, you have to override it&#39;s driver (That&#39;s why you&#39;re getting `Input/Output error`, and it&#39;s written in the [hid4java&#39;s FAQ][1]).\r\n\r\n**First** way to override device driver is described in [libusb wiki][2].\r\nAs far as i know you would have to install a new driver every time you connect the device to a new USB port, which is why i recommend you to read further.\r\n\r\n**Second** way is what you&#39;ve already mentioned, which is using [UsbDk][3] (*Usb Drivers Development Kit for Windows*). It makes the device accessible for you by detaching the kernel driver and reattaching it back after you&#39;re done playing with it.\r\n\r\nIn order to use it, you need to do two things:\r\n\r\n 1. Set the `org.usb4java.javax.useUSBDK = true` in you *javax.usb.properties* file as stated in the [manual][4] (this can also be done manually in *low-level usb4java*, see [OPTION_USE_USBDK][5] and [setOption(Context, int)][6]).\r\n 2. Download and install [UsbDk][3] on your system (simplest way is to download x64 or x86 version msi installer which has GUI and is fully automated), which is sadly not in the manual (maybe it&#39;s obvious for some people, but took me amount of time that i am not proud of to realize).\r\n\r\nIm guessing that the lack of second step is why OP has been getting an exception.\r\n\r\nHope that this will help someone, knowing all this two days ago would save me a lot of headache.\r\n\r\n  [1]: http://usb4java.org/faq.html\r\n  [2]: https://github.com/libusb/libusb/wiki/Windows#How_to_use_libusb_on_Windows\r\n  [3]: https://github.com/daynix/UsbDk/releases\r\n  [4]: http://usb4java.org/configuration.html\r\n  [5]: http://usb4java.org/apidocs/org/usb4java/LibUsb.html#OPTION_USE_USBDK\r\n  [6]: http://usb4java.org/apidocs/org/usb4java/LibUsb.html#setOption-org.usb4java.Context-int-","title":"Java usb4java reading from usb device on windows 10 platform","body":"<p>I know that this is 2 years old, but i've had similar issue and this was one of the first questions that i ran into looking for solution, which took me hours.</p>\n\n<p>So, basically, windows doesn't let to read/write keyboard devices directly, to do so, you have to override it's driver (That's why you're getting <code>Input/Output error</code>, and it's written in the <a href=\"http://usb4java.org/faq.html\" rel=\"nofollow noreferrer\">hid4java's FAQ</a>).</p>\n\n<p><strong>First</strong> way to override device driver is described in <a href=\"https://github.com/libusb/libusb/wiki/Windows#How_to_use_libusb_on_Windows\" rel=\"nofollow noreferrer\">libusb wiki</a>.\nAs far as i know you would have to install a new driver every time you connect the device to a new USB port, which is why i recommend you to read further.</p>\n\n<p><strong>Second</strong> way is what you've already mentioned, which is using <a href=\"https://github.com/daynix/UsbDk/releases\" rel=\"nofollow noreferrer\">UsbDk</a> (<em>Usb Drivers Development Kit for Windows</em>). It makes the device accessible for you by detaching the kernel driver and reattaching it back after you're done playing with it.</p>\n\n<p>In order to use it, you need to do two things:</p>\n\n<ol>\n<li>Set the <code>org.usb4java.javax.useUSBDK = true</code> in you <em>javax.usb.properties</em> file as stated in the <a href=\"http://usb4java.org/configuration.html\" rel=\"nofollow noreferrer\">manual</a> (this can also be done manually in <em>low-level usb4java</em>, see <a href=\"http://usb4java.org/apidocs/org/usb4java/LibUsb.html#OPTION_USE_USBDK\" rel=\"nofollow noreferrer\">OPTION_USE_USBDK</a> and <a href=\"http://usb4java.org/apidocs/org/usb4java/LibUsb.html#setOption-org.usb4java.Context-int-\" rel=\"nofollow noreferrer\">setOption(Context, int)</a>).</li>\n<li>Download and install <a href=\"https://github.com/daynix/UsbDk/releases\" rel=\"nofollow noreferrer\">UsbDk</a> on your system (simplest way is to download x64 or x86 version msi installer which has GUI and is fully automated), which is sadly not in the manual (maybe it's obvious for some people, but took me amount of time that i am not proud of to realize).</li>\n</ol>\n\n<p>Im guessing that the lack of second step is why OP has been getting an exception.</p>\n\n<p>Hope that this will help someone, knowing all this two days ago would save me a lot of headache.</p>\n"},{"tags":[],"owner":{"account_id":12156007,"reputation":1,"user_id":8874942,"display_name":"Peter Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669256472,"creation_date":1669256472,"answer_id":74554930,"question_id":57241363,"body_markdown":"RFID readers operate in keyboard emulation mode by default.\r\nYou can normally get a tool from the manufacturer&#39;s website to configure the RFID reader.\r\nThis will allow you to change the reader to HID mode.\r\nThis should resolve your issues.\r\nSorry for the late response but I hope it helps others.","title":"Java usb4java reading from usb device on windows 10 platform","body":"<p>RFID readers operate in keyboard emulation mode by default.\nYou can normally get a tool from the manufacturer's website to configure the RFID reader.\nThis will allow you to change the reader to HID mode.\nThis should resolve your issues.\nSorry for the late response but I hope it helps others.</p>\n"}],"owner":{"account_id":4092618,"reputation":5227,"user_id":3360241,"accept_rate":91,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4454,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58227427,"answer_count":2,"score":3,"last_activity_date":1669256472,"creation_date":1564320555,"question_id":57241363,"body_markdown":"I am trying to read a message from RFID reader connected via USB to windows 10pro machine with [usb4java] library.\r\n\r\nI have managed to claim the interface, opened pipe and registered listener for the data, however the listener is never triggered. The reader acts as keyboard and whatever it reads ends up in active application, such as IDE i have open, instead of in **listener**.\r\n\r\n    UsbInterface usbInterface = activeInteface(device);\r\n    // there is only one endpoint in the list\r\n    UsbEndpoint endpoint = (UsbEndpoint)usbInterface.getUsbEndpoints().get(0);\r\n    UsbPipe pipe = endpoint.getUsbPipe();\r\n    try {\r\n         usbInterface.claim();\r\n         // true\r\n         System.out.println(&quot;claimed usb interface: &quot; + usbInterface.isClaimed());\r\n         pipe.open();\r\n         // true\r\n         System.out.println(&quot;pipe open: &quot; + pipe.isOpen());\r\n         pipe.addUsbPipeListener(new MessageListener());\r\n         // true\r\n         System.out.println(&quot;pipe active: &quot; + pipe.isActive());\r\n         // keep main thread alive, async call should be done from another thread i guess\r\n         Thread.sleep(15000);\r\n        }\r\n       catch (Exception any) {System.out.println(any);}\r\n     }\r\n\r\nAnd the listener:\r\n\r\n    private static class MessageListener implements UsbPipeListener {\r\n\r\n        @Override\r\n        public void errorEventOccurred(UsbPipeErrorEvent event) {\r\n            System.out.println(event.toString() + &quot; , &quot; +event.getUsbException());\r\n        }\r\n\r\n        @Override\r\n        public void dataEventOccurred(UsbPipeDataEvent event) {\r\n            // this code block never triggers\r\n            System.out.println(&quot;listener ...);\r\n            int actualLength = event.getActualLength();\r\n            System.out.println(&quot;length: &quot; + actualLength);\r\n            byte[] data = event.getData();\r\n            System.out.println(&quot;data length &quot; + data.length);\r\n        }\r\n    }\r\n\r\ni have also tried synchronous read instead of asynchronous in the block above, like this:\r\n\r\n    byte[] buffer = new data[8];\r\n    // this fails on its own, don&#39;t even need to read something with RFID reader\r\n    int received = pipe.syncSubmit(buffer);\r\n\r\nfails with:\r\n\r\n    USB error1: Transfer error on interrupt endpoint: Input/Output error\r\n\r\nThere is some windows specific property that library supports: `org.usb4java.javax.useUSBDK = true` \r\nbut this fails when i try to set it with an exception.\r\n\r\nI have 0 experience with USB devices so not sure how to proceed from here.  Is there something wrong with the code, do i need USBDK or device does not support libUSB driver ? Sadly this is not my device and i don&#39;t have access to documentation of the device so cannot be sure if it is device driver issue.\r\n\r\n[usb4java]:http://usb4java.org/quickstart/javax-usb.html","title":"Java usb4java reading from usb device on windows 10 platform","body":"<p>I am trying to read a message from RFID reader connected via USB to windows 10pro machine with <a href=\"http://usb4java.org/quickstart/javax-usb.html\" rel=\"nofollow noreferrer\">usb4java</a> library.</p>\n\n<p>I have managed to claim the interface, opened pipe and registered listener for the data, however the listener is never triggered. The reader acts as keyboard and whatever it reads ends up in active application, such as IDE i have open, instead of in <strong>listener</strong>.</p>\n\n<pre><code>UsbInterface usbInterface = activeInteface(device);\n// there is only one endpoint in the list\nUsbEndpoint endpoint = (UsbEndpoint)usbInterface.getUsbEndpoints().get(0);\nUsbPipe pipe = endpoint.getUsbPipe();\ntry {\n     usbInterface.claim();\n     // true\n     System.out.println(\"claimed usb interface: \" + usbInterface.isClaimed());\n     pipe.open();\n     // true\n     System.out.println(\"pipe open: \" + pipe.isOpen());\n     pipe.addUsbPipeListener(new MessageListener());\n     // true\n     System.out.println(\"pipe active: \" + pipe.isActive());\n     // keep main thread alive, async call should be done from another thread i guess\n     Thread.sleep(15000);\n    }\n   catch (Exception any) {System.out.println(any);}\n }\n</code></pre>\n\n<p>And the listener:</p>\n\n<pre><code>private static class MessageListener implements UsbPipeListener {\n\n    @Override\n    public void errorEventOccurred(UsbPipeErrorEvent event) {\n        System.out.println(event.toString() + \" , \" +event.getUsbException());\n    }\n\n    @Override\n    public void dataEventOccurred(UsbPipeDataEvent event) {\n        // this code block never triggers\n        System.out.println(\"listener ...);\n        int actualLength = event.getActualLength();\n        System.out.println(\"length: \" + actualLength);\n        byte[] data = event.getData();\n        System.out.println(\"data length \" + data.length);\n    }\n}\n</code></pre>\n\n<p>i have also tried synchronous read instead of asynchronous in the block above, like this:</p>\n\n<pre><code>byte[] buffer = new data[8];\n// this fails on its own, don't even need to read something with RFID reader\nint received = pipe.syncSubmit(buffer);\n</code></pre>\n\n<p>fails with:</p>\n\n<pre><code>USB error1: Transfer error on interrupt endpoint: Input/Output error\n</code></pre>\n\n<p>There is some windows specific property that library supports: <code>org.usb4java.javax.useUSBDK = true</code> \nbut this fails when i try to set it with an exception.</p>\n\n<p>I have 0 experience with USB devices so not sure how to proceed from here.  Is there something wrong with the code, do i need USBDK or device does not support libUSB driver ? Sadly this is not my device and i don't have access to documentation of the device so cannot be sure if it is device driver issue.</p>\n"},{"tags":["java","jersey","embedded-jetty","weld"],"answers":[{"tags":[],"owner":{"account_id":13342410,"reputation":33,"user_id":9630238,"display_name":"Francesco Rosso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669215514,"creation_date":1669215514,"answer_id":74548839,"question_id":74547814,"body_markdown":"I&#39;ve just tryed with Grizzly and it works like a charm.\r\n\r\nHere gradle conf file:\r\n\r\n    plugins {\r\n        id &#39;application&#39;\r\n        id &#39;java&#39;\r\n        id &#39;eclipse&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        // Use JUnit Jupiter for testing.\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter:5.7.2&#39;\r\n    \r\n        // This dependency is used by the application.\r\n    \timplementation &#39;org.slf4j:slf4j-api:2.0.4&#39;\r\n    \timplementation &#39;ch.qos.logback:logback-classic:1.4.5&#39;\r\n    \r\n        implementation &#39;jakarta.enterprise:jakarta.enterprise.cdi-api:3.0.1&#39;\r\n        implementation &#39;jakarta.ws.rs:jakarta.ws.rs-api:3.0.1&#39;\r\n    \r\n        implementation &#39;org.jboss.weld.se:weld-se-core:5.1.0.Final&#39;\r\n        implementation &#39;org.jboss.weld.servlet:weld-servlet-core:5.1.0.Final&#39;\r\n    \r\n        implementation &#39;org.glassfish.grizzly:grizzly-http-server:4.0.0&#39;\r\n    \r\n        implementation &#39;org.glassfish.jersey.core:jersey-server:3.1.0&#39;\r\n        implementation &#39;org.glassfish.jersey.containers:jersey-container-grizzly2-http:3.1.0&#39;\r\n        implementation &#39;org.glassfish.jersey.ext.cdi:jersey-weld2-se:3.1.0&#39;\r\n        implementation &#39;org.glassfish.jersey.inject:jersey-hk2:3.1.0&#39;\r\n        implementation &#39;org.glassfish.jersey.media:jersey-media-json-jackson:3.1.0&#39;\r\n    \r\n        implementation &#39;com.fasterxml.jackson.core:jackson-core:2.12.7&#39;\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.12.7&#39;\r\n    }\r\n    \r\n    application {\r\n        // Define the main class for the application.\r\n        mainClass = &#39;it.gym.StartApp&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        // Use JUnit Platform for unit tests.\r\n        useJUnitPlatform()\r\n    }\r\n\r\nAnd the main class:\r\n\r\n    package it.gym;\r\n    \r\n    import java.net.URI;\r\n    \r\n    import org.glassfish.grizzly.http.server.HttpServer;\r\n    import org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpServerFactory;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    import org.jboss.weld.environment.se.Weld;\r\n    \r\n    public class StartApp {\r\n    \r\n        public static void main(String[] args) {\r\n            Weld weld = new Weld();\r\n            weld.initialize();\r\n    \r\n            ResourceConfig resourceConfig = new ResourceConfig();\r\n    \t\tresourceConfig.packages(&quot;it.gym&quot;);\r\n    \r\n            final HttpServer server = GrizzlyHttpServerFactory.createHttpServer(URI.create(&quot;http://localhost:9000/&quot;),\r\n                    resourceConfig);\r\n    \r\n            try {\r\n                Thread.sleep(1000 * 1000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            server.shutdownNow();\r\n            weld.shutdown();\r\n        }\r\n    }\r\n","title":"Jetty embedded + Jersey + Weld","body":"<p>I've just tryed with Grizzly and it works like a charm.</p>\n<p>Here gradle conf file:</p>\n<pre><code>plugins {\n    id 'application'\n    id 'java'\n    id 'eclipse'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit Jupiter for testing.\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'\n\n    // This dependency is used by the application.\n    implementation 'org.slf4j:slf4j-api:2.0.4'\n    implementation 'ch.qos.logback:logback-classic:1.4.5'\n\n    implementation 'jakarta.enterprise:jakarta.enterprise.cdi-api:3.0.1'\n    implementation 'jakarta.ws.rs:jakarta.ws.rs-api:3.0.1'\n\n    implementation 'org.jboss.weld.se:weld-se-core:5.1.0.Final'\n    implementation 'org.jboss.weld.servlet:weld-servlet-core:5.1.0.Final'\n\n    implementation 'org.glassfish.grizzly:grizzly-http-server:4.0.0'\n\n    implementation 'org.glassfish.jersey.core:jersey-server:3.1.0'\n    implementation 'org.glassfish.jersey.containers:jersey-container-grizzly2-http:3.1.0'\n    implementation 'org.glassfish.jersey.ext.cdi:jersey-weld2-se:3.1.0'\n    implementation 'org.glassfish.jersey.inject:jersey-hk2:3.1.0'\n    implementation 'org.glassfish.jersey.media:jersey-media-json-jackson:3.1.0'\n\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.12.7'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.12.7'\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'it.gym.StartApp'\n}\n\ntasks.named('test') {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n}\n</code></pre>\n<p>And the main class:</p>\n<pre><code>package it.gym;\n\nimport java.net.URI;\n\nimport org.glassfish.grizzly.http.server.HttpServer;\nimport org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpServerFactory;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.jboss.weld.environment.se.Weld;\n\npublic class StartApp {\n\n    public static void main(String[] args) {\n        Weld weld = new Weld();\n        weld.initialize();\n\n        ResourceConfig resourceConfig = new ResourceConfig();\n        resourceConfig.packages(&quot;it.gym&quot;);\n\n        final HttpServer server = GrizzlyHttpServerFactory.createHttpServer(URI.create(&quot;http://localhost:9000/&quot;),\n                resourceConfig);\n\n        try {\n            Thread.sleep(1000 * 1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        server.shutdownNow();\n        weld.shutdown();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669256291,"creation_date":1669256291,"answer_id":74554923,"question_id":74547814,"body_markdown":"Jetty team here.\r\n\r\nI went ahead and added an example project for it at\r\n\r\nhttps://github.com/jetty-project/embedded-jetty-jersey-weld\r\n\r\nSee the `jetty-11.0.x` branch for your version.\r\n\r\n_Yeah, we use maven. There&#39;s 3 committers to maven also as committers to Jetty._\r\n\r\nHere&#39;s the highlights.\r\n\r\nFirst, you&#39;ll need the correct dependencies, this is all you need.\r\n\r\n```\r\n    implementation &#39;org.slf4j:slf4j-api:2.0.4&#39;\r\n    implementation &#39;ch.qos.logback:logback-classic:1.4.5&#39;\r\n\r\n    implementation &#39;org.eclipse.jetty:jetty-servlet:11.0.12&#39;\r\n    implementation &#39;org.eclipse.jetty:jetty-cdi:11.0.12&#39;\r\n    \r\n    implementation &#39;org.jboss.weld.servlet:weld-servlet-core:4.0.3.Final&#39;\r\n\r\n    implementation &#39;org.glassfish.jersey.containers:jersey-container-servlet-core:3.0.4&#39;\r\n    implementation &#39;org.glassfish.jersey.media:jersey-cdi2-se:3.0.4&#39;\r\n    implementation &#39;org.glassfish.jersey.media:jersey-media-json-jackson:3.0.4&#39;\r\n```\r\n\r\nWe rely on transitive dependencies to pull in what other dependencies we need.\r\n\r\nThen you&#39;ll want to wire up `jetty-cdi` to the weld implementation.\r\n\r\nReplace ...\r\n\r\n``` java\r\ncontext.addEventListener(Listener.using(weld));\r\ncontext.setAttribute(\r\n   WeldServletLifecycle.BEAN_MANAGER_ATTRIBUTE_NAME,\r\n   container.getBeanManager());\r\n```\r\n\r\n... with ...\r\n\r\n``` java\r\nimport org.eclipse.jetty.cdi.CdiServletContainerInitializer;\r\nimport org.eclipse.jetty.cdi.CdiDecoratingListener;\r\nimport org.jboss.weld.environment.servlet.EnhancedListener;\r\n\r\ncontext.setInitParameter(\r\n    CdiServletContainerInitializer.CDI_INTEGRATION_ATTRIBUTE, \r\n    CdiDecoratingListener.MODE);\r\ncontext.addServletContainerInitializer(new CdiServletContainerInitializer());\r\ncontext.addServletContainerInitializer(new EnhancedListener());\r\n```\r\n\r\nThis is the weld recommended technique to wire things up with Jetty.","title":"Jetty embedded + Jersey + Weld","body":"<p>Jetty team here.</p>\n<p>I went ahead and added an example project for it at</p>\n<p><a href=\"https://github.com/jetty-project/embedded-jetty-jersey-weld\" rel=\"nofollow noreferrer\">https://github.com/jetty-project/embedded-jetty-jersey-weld</a></p>\n<p>See the <code>jetty-11.0.x</code> branch for your version.</p>\n<p><em>Yeah, we use maven. There's 3 committers to maven also as committers to Jetty.</em></p>\n<p>Here's the highlights.</p>\n<p>First, you'll need the correct dependencies, this is all you need.</p>\n<pre><code>    implementation 'org.slf4j:slf4j-api:2.0.4'\n    implementation 'ch.qos.logback:logback-classic:1.4.5'\n\n    implementation 'org.eclipse.jetty:jetty-servlet:11.0.12'\n    implementation 'org.eclipse.jetty:jetty-cdi:11.0.12'\n    \n    implementation 'org.jboss.weld.servlet:weld-servlet-core:4.0.3.Final'\n\n    implementation 'org.glassfish.jersey.containers:jersey-container-servlet-core:3.0.4'\n    implementation 'org.glassfish.jersey.media:jersey-cdi2-se:3.0.4'\n    implementation 'org.glassfish.jersey.media:jersey-media-json-jackson:3.0.4'\n</code></pre>\n<p>We rely on transitive dependencies to pull in what other dependencies we need.</p>\n<p>Then you'll want to wire up <code>jetty-cdi</code> to the weld implementation.</p>\n<p>Replace ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.addEventListener(Listener.using(weld));\ncontext.setAttribute(\n   WeldServletLifecycle.BEAN_MANAGER_ATTRIBUTE_NAME,\n   container.getBeanManager());\n</code></pre>\n<p>... with ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.jetty.cdi.CdiServletContainerInitializer;\nimport org.eclipse.jetty.cdi.CdiDecoratingListener;\nimport org.jboss.weld.environment.servlet.EnhancedListener;\n\ncontext.setInitParameter(\n    CdiServletContainerInitializer.CDI_INTEGRATION_ATTRIBUTE, \n    CdiDecoratingListener.MODE);\ncontext.addServletContainerInitializer(new CdiServletContainerInitializer());\ncontext.addServletContainerInitializer(new EnhancedListener());\n</code></pre>\n<p>This is the weld recommended technique to wire things up with Jetty.</p>\n"}],"owner":{"account_id":13342410,"reputation":33,"user_id":9630238,"display_name":"Francesco Rosso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669256291,"creation_date":1669211111,"question_id":74547814,"body_markdown":"I&#39;m trying to implement (into Java SE) a standalone embedded web server, exposing REST application with CDI support.\r\n\r\nI followed up a simple tutorial at this link https://techunity.de/blog/integrate-a-rest-service-into-a-standalone-java-application/, but I don&#39;t want to use OpenAPI, just simple JAX-RS resource classes.\r\n\r\nI set up Gradle as follow, with all required dependencies:\r\n```\r\nplugins {\r\n    id &#39;application&#39;\r\n    id &#39;java&#39;\r\n    id &#39;eclipse&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // Use JUnit Jupiter for testing.\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.7.2&#39;\r\n\r\n    // This dependency is used by the application.\r\n\timplementation &#39;org.slf4j:slf4j-api:2.0.4&#39;\r\n\timplementation &#39;ch.qos.logback:logback-classic:1.4.5&#39;\r\n\r\n    implementation &#39;jakarta.enterprise:jakarta.enterprise.cdi-api:3.0.1&#39;\r\n    implementation &#39;jakarta.ws.rs:jakarta.ws.rs-api:3.0.1&#39;\r\n\r\n    implementation &#39;org.jboss.weld.se:weld-se-core:5.1.0.Final&#39;\r\n    implementation &#39;org.jboss.weld.servlet:weld-servlet-core:5.1.0.Final&#39;\r\n\r\n    implementation &#39;org.eclipse.jetty:jetty-server:11.0.12&#39;\r\n    implementation &#39;org.eclipse.jetty:jetty-servlet:11.0.12&#39;\r\n\r\n    implementation &#39;org.glassfish.jersey.core:jersey-server:3.1.0&#39;\r\n    implementation &#39;org.glassfish.jersey.containers:jersey-container-servlet-core:3.1.0&#39;\r\n    implementation &#39;org.glassfish.jersey.ext.cdi:jersey-cdi1x:3.1.0&#39;\r\n    implementation &#39;org.glassfish.jersey.ext.cdi:jersey-cdi1x-servlet:3.1.0&#39;\r\n    implementation &#39;org.glassfish.jersey.ext.cdi:jersey-weld2-se:3.1.0&#39;\r\n    implementation &#39;org.glassfish.jersey.inject:jersey-hk2:3.1.0&#39;\r\n    implementation &#39;org.glassfish.jersey.media:jersey-media-json-jackson:3.1.0&#39;\r\n\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-core:2.12.7&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.12.7&#39;\r\n}\r\n\r\napplication {\r\n    // Define the main class for the application.\r\n    mainClass = &#39;it.gym.StartApp&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    // Use JUnit Platform for unit tests.\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nThen I created the main class:\r\n```\r\npackage it.gym;\r\n\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.eclipse.jetty.servlet.ServletContextHandler;\r\nimport org.eclipse.jetty.servlet.ServletHolder;\r\nimport org.glassfish.jersey.servlet.ServletContainer;\r\nimport org.jboss.weld.environment.se.Weld;\r\nimport org.jboss.weld.environment.se.WeldContainer;\r\nimport org.jboss.weld.environment.servlet.Listener;\r\nimport org.jboss.weld.environment.servlet.WeldServletLifecycle;\r\n\r\npublic class StartApp {\r\n\r\n    public static void main(String[] args) {\r\n        Weld weld = new Weld();\r\n        WeldContainer container = weld.initialize();\r\n\r\n        final Server server = new Server(9000);\r\n        final ServletContextHandler context = new ServletContextHandler(\r\n                ServletContextHandler.SESSIONS);\r\n        context.setContextPath(&quot;/&quot;);\r\n\r\n        context.addEventListener(Listener.using(weld));\r\n        context.setAttribute(\r\n                WeldServletLifecycle.BEAN_MANAGER_ATTRIBUTE_NAME,\r\n                container.getBeanManager());\r\n\r\n        final ServletHolder servletHolder = new ServletHolder(\r\n                ServletContainer.class);\r\n        servletHolder.setInitOrder(1);\r\n        servletHolder.setInitParameter(\r\n                &quot;jersey.config.server.provider.packages&quot;,\r\n                &quot;it.gym&quot;);\r\n\r\n        context.addServlet(servletHolder, &quot;/rest/*&quot;);\r\n\r\n        server.setHandler(context);\r\n\r\n        try {\r\n            server.start();\r\n            server.join();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd then I created a resource class and a bean class:\r\n```\r\npackage it.gym.rest;\r\n\r\nimport java.util.List;\r\n\r\nimport it.gym.dao.GymDAO;\r\nimport jakarta.enterprise.context.RequestScoped;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.ws.rs.GET;\r\nimport jakarta.ws.rs.Path;\r\nimport jakarta.ws.rs.core.Response;\r\nimport jakarta.ws.rs.core.Response.Status;\r\n\r\n@Path(&quot;/&quot;)\r\n@RequestScoped\r\npublic class GymEndpoint {\r\n\r\n    @Inject\r\n    private GymDAO gymDAO;\r\n    \r\n    @GET\r\n    @Path(&quot;/test&quot;)\r\n    public Response test() {\r\n        List&lt;String&gt; entity = gymDAO.getDevices();\r\n        return Response.status(Status.OK).entity(entity).build();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage it.gym.dao;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport jakarta.enterprise.context.RequestScoped;\r\n\r\n@RequestScoped\r\npublic class GymDAO {\r\n\r\n    public GymDAO() {\r\n\r\n    }\r\n    \r\n    public List&lt;String&gt; getDevices() {\r\n        return new ArrayList&lt;&gt;();\r\n    }\r\n}\r\n```\r\n\r\nWhen I start the server I get the following error. It seems not to find the GymDAO class as a CDI class, ignoring the @RequestScoped annotation. Can anyone figure out what I&#39;m missing?\r\n```\r\njakarta.servlet.ServletException: org.glassfish.jersey.servlet.ServletContainer-15eebbff==org.glassfish.jersey.servlet.ServletContainer@60d52d52{jsp=null,order=1,inst=true,async=true,src=EMBEDDED:null,STARTED}\r\n        at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:651)\r\n        at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\r\n        at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$2(ServletHandler.java:725)\r\n        at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n        at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n        at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:749)\r\n        at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:901)\r\n        at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n        at org.eclipse.jetty.server.Server.start(Server.java:470)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n        at org.eclipse.jetty.server.Server.doStart(Server.java:415)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n        at it.gym.StartApp.main(StartApp.java:40)\r\nCaused by: org.jboss.weld.exceptions.IllegalArgumentException: WELD-001408: Unsatisfied dependencies for type GymDAO with qualifiers @Default\r\n  at injection point [BackedAnnotatedField] @Inject private it.gym.rest.GymEndpoint.gymDAO\r\n  at it.gym.rest.GymEndpoint.gymDAO(GymEndpoint.java:0)\r\n\r\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:83)\r\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:70)\r\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:51)\r\n        at org.glassfish.jersey.ext.cdi1x.internal.AbstractCdiBeanSupplier$2.&lt;init&gt;(AbstractCdiBeanSupplier.java:83)\r\n        at org.glassfish.jersey.ext.cdi1x.internal.AbstractCdiBeanSupplier.&lt;init&gt;(AbstractCdiBeanSupplier.java:79)\r\n        at org.glassfish.jersey.ext.cdi1x.internal.GenericCdiBeanSupplier.&lt;init&gt;(GenericCdiBeanSupplier.java:37)\r\n        at org.glassfish.jersey.ext.cdi1x.internal.CdiComponentProvider.bind(CdiComponentProvider.java:225)\r\n        at org.glassfish.jersey.ext.cdi1x.internal.CdiComponentProvider.bind(CdiComponentProvider.java:182)\r\n        at org.glassfish.jersey.ext.cdi1x.internal.CdiServerComponentProvider.bind(CdiServerComponentProvider.java:50)\r\n        at org.glassfish.jersey.server.ResourceModelConfigurator.bindWithComponentProvider(ResourceModelConfigurator.java:193)\r\n        at org.glassfish.jersey.server.ResourceModelConfigurator.bindProvidersAndResources(ResourceModelConfigurator.java:150)\r\n        at org.glassfish.jersey.server.ResourceModelConfigurator.init(ResourceModelConfigurator.java:63)\r\n        at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:359)\r\n        at org.glassfish.jersey.server.ApplicationHandler.lambda$initialize$1(ApplicationHandler.java:310)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n        at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:232)\r\n        at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:309)\r\n        at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:274)\r\n        at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\r\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\r\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:338)\r\n        at jakarta.servlet.GenericServlet.init(GenericServlet.java:178)\r\n        at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:633)\r\n        ... 20 more\r\nCaused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type GymDAO with qualifiers @Default\r\n  at injection point [BackedAnnotatedField] @Inject private it.gym.rest.GymEndpoint.gymDAO\r\n  at it.gym.rest.GymEndpoint.gymDAO(GymEndpoint.java:0)\r\n\r\n        at org.jboss.weld.bootstrap.Validator.validateInjectionPointForDeploymentProblems(Validator.java:367)\r\n        at org.jboss.weld.bootstrap.Validator.validateInjectionPoint(Validator.java:285)\r\n        at org.jboss.weld.bootstrap.Validator.validateProducer(Validator.java:414)\r\n        at org.jboss.weld.injection.producer.InjectionTargetService.validateProducer(InjectionTargetService.java:36)\r\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.validate(InjectionTargetFactoryImpl.java:153)\r\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:81)\r\n        ... 43 more\r\n14:27:02.984 [Thread-0] INFO org.jboss.weld.Bootstrap - WELD-ENV-002001: Weld SE container 944b54c2-e094-44a2-ba2b-0ae8d247d9aa shut down\r\nWeld SE container 944b54c2-e094-44a2-ba2b-0ae8d247d9aa shut down by shutdown hook\r\n```","title":"Jetty embedded + Jersey + Weld","body":"<p>I'm trying to implement (into Java SE) a standalone embedded web server, exposing REST application with CDI support.</p>\n<p>I followed up a simple tutorial at this link <a href=\"https://techunity.de/blog/integrate-a-rest-service-into-a-standalone-java-application/\" rel=\"nofollow noreferrer\">https://techunity.de/blog/integrate-a-rest-service-into-a-standalone-java-application/</a>, but I don't want to use OpenAPI, just simple JAX-RS resource classes.</p>\n<p>I set up Gradle as follow, with all required dependencies:</p>\n<pre><code>plugins {\n    id 'application'\n    id 'java'\n    id 'eclipse'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit Jupiter for testing.\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'\n\n    // This dependency is used by the application.\n    implementation 'org.slf4j:slf4j-api:2.0.4'\n    implementation 'ch.qos.logback:logback-classic:1.4.5'\n\n    implementation 'jakarta.enterprise:jakarta.enterprise.cdi-api:3.0.1'\n    implementation 'jakarta.ws.rs:jakarta.ws.rs-api:3.0.1'\n\n    implementation 'org.jboss.weld.se:weld-se-core:5.1.0.Final'\n    implementation 'org.jboss.weld.servlet:weld-servlet-core:5.1.0.Final'\n\n    implementation 'org.eclipse.jetty:jetty-server:11.0.12'\n    implementation 'org.eclipse.jetty:jetty-servlet:11.0.12'\n\n    implementation 'org.glassfish.jersey.core:jersey-server:3.1.0'\n    implementation 'org.glassfish.jersey.containers:jersey-container-servlet-core:3.1.0'\n    implementation 'org.glassfish.jersey.ext.cdi:jersey-cdi1x:3.1.0'\n    implementation 'org.glassfish.jersey.ext.cdi:jersey-cdi1x-servlet:3.1.0'\n    implementation 'org.glassfish.jersey.ext.cdi:jersey-weld2-se:3.1.0'\n    implementation 'org.glassfish.jersey.inject:jersey-hk2:3.1.0'\n    implementation 'org.glassfish.jersey.media:jersey-media-json-jackson:3.1.0'\n\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.12.7'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.12.7'\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'it.gym.StartApp'\n}\n\ntasks.named('test') {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>Then I created the main class:</p>\n<pre><code>package it.gym;\n\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.servlet.ServletContextHandler;\nimport org.eclipse.jetty.servlet.ServletHolder;\nimport org.glassfish.jersey.servlet.ServletContainer;\nimport org.jboss.weld.environment.se.Weld;\nimport org.jboss.weld.environment.se.WeldContainer;\nimport org.jboss.weld.environment.servlet.Listener;\nimport org.jboss.weld.environment.servlet.WeldServletLifecycle;\n\npublic class StartApp {\n\n    public static void main(String[] args) {\n        Weld weld = new Weld();\n        WeldContainer container = weld.initialize();\n\n        final Server server = new Server(9000);\n        final ServletContextHandler context = new ServletContextHandler(\n                ServletContextHandler.SESSIONS);\n        context.setContextPath(&quot;/&quot;);\n\n        context.addEventListener(Listener.using(weld));\n        context.setAttribute(\n                WeldServletLifecycle.BEAN_MANAGER_ATTRIBUTE_NAME,\n                container.getBeanManager());\n\n        final ServletHolder servletHolder = new ServletHolder(\n                ServletContainer.class);\n        servletHolder.setInitOrder(1);\n        servletHolder.setInitParameter(\n                &quot;jersey.config.server.provider.packages&quot;,\n                &quot;it.gym&quot;);\n\n        context.addServlet(servletHolder, &quot;/rest/*&quot;);\n\n        server.setHandler(context);\n\n        try {\n            server.start();\n            server.join();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>And then I created a resource class and a bean class:</p>\n<pre><code>package it.gym.rest;\n\nimport java.util.List;\n\nimport it.gym.dao.GymDAO;\nimport jakarta.enterprise.context.RequestScoped;\nimport jakarta.inject.Inject;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.core.Response;\nimport jakarta.ws.rs.core.Response.Status;\n\n@Path(&quot;/&quot;)\n@RequestScoped\npublic class GymEndpoint {\n\n    @Inject\n    private GymDAO gymDAO;\n    \n    @GET\n    @Path(&quot;/test&quot;)\n    public Response test() {\n        List&lt;String&gt; entity = gymDAO.getDevices();\n        return Response.status(Status.OK).entity(entity).build();\n    }\n}\n</code></pre>\n<pre><code>package it.gym.dao;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport jakarta.enterprise.context.RequestScoped;\n\n@RequestScoped\npublic class GymDAO {\n\n    public GymDAO() {\n\n    }\n    \n    public List&lt;String&gt; getDevices() {\n        return new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n<p>When I start the server I get the following error. It seems not to find the GymDAO class as a CDI class, ignoring the @RequestScoped annotation. Can anyone figure out what I'm missing?</p>\n<pre><code>jakarta.servlet.ServletException: org.glassfish.jersey.servlet.ServletContainer-15eebbff==org.glassfish.jersey.servlet.ServletContainer@60d52d52{jsp=null,order=1,inst=true,async=true,src=EMBEDDED:null,STARTED}\n        at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:651)\n        at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\n        at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$2(ServletHandler.java:725)\n        at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n        at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n        at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:749)\n        at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\n        at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:901)\n        at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n        at org.eclipse.jetty.server.Server.start(Server.java:470)\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n        at org.eclipse.jetty.server.Server.doStart(Server.java:415)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n        at it.gym.StartApp.main(StartApp.java:40)\nCaused by: org.jboss.weld.exceptions.IllegalArgumentException: WELD-001408: Unsatisfied dependencies for type GymDAO with qualifiers @Default\n  at injection point [BackedAnnotatedField] @Inject private it.gym.rest.GymEndpoint.gymDAO\n  at it.gym.rest.GymEndpoint.gymDAO(GymEndpoint.java:0)\n\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:83)\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:70)\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:51)\n        at org.glassfish.jersey.ext.cdi1x.internal.AbstractCdiBeanSupplier$2.&lt;init&gt;(AbstractCdiBeanSupplier.java:83)\n        at org.glassfish.jersey.ext.cdi1x.internal.AbstractCdiBeanSupplier.&lt;init&gt;(AbstractCdiBeanSupplier.java:79)\n        at org.glassfish.jersey.ext.cdi1x.internal.GenericCdiBeanSupplier.&lt;init&gt;(GenericCdiBeanSupplier.java:37)\n        at org.glassfish.jersey.ext.cdi1x.internal.CdiComponentProvider.bind(CdiComponentProvider.java:225)\n        at org.glassfish.jersey.ext.cdi1x.internal.CdiComponentProvider.bind(CdiComponentProvider.java:182)\n        at org.glassfish.jersey.ext.cdi1x.internal.CdiServerComponentProvider.bind(CdiServerComponentProvider.java:50)\n        at org.glassfish.jersey.server.ResourceModelConfigurator.bindWithComponentProvider(ResourceModelConfigurator.java:193)\n        at org.glassfish.jersey.server.ResourceModelConfigurator.bindProvidersAndResources(ResourceModelConfigurator.java:150)\n        at org.glassfish.jersey.server.ResourceModelConfigurator.init(ResourceModelConfigurator.java:63)\n        at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:359)\n        at org.glassfish.jersey.server.ApplicationHandler.lambda$initialize$1(ApplicationHandler.java:310)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n        at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:232)\n        at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:309)\n        at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:274)\n        at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:338)\n        at jakarta.servlet.GenericServlet.init(GenericServlet.java:178)\n        at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:633)\n        ... 20 more\nCaused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type GymDAO with qualifiers @Default\n  at injection point [BackedAnnotatedField] @Inject private it.gym.rest.GymEndpoint.gymDAO\n  at it.gym.rest.GymEndpoint.gymDAO(GymEndpoint.java:0)\n\n        at org.jboss.weld.bootstrap.Validator.validateInjectionPointForDeploymentProblems(Validator.java:367)\n        at org.jboss.weld.bootstrap.Validator.validateInjectionPoint(Validator.java:285)\n        at org.jboss.weld.bootstrap.Validator.validateProducer(Validator.java:414)\n        at org.jboss.weld.injection.producer.InjectionTargetService.validateProducer(InjectionTargetService.java:36)\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.validate(InjectionTargetFactoryImpl.java:153)\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:81)\n        ... 43 more\n14:27:02.984 [Thread-0] INFO org.jboss.weld.Bootstrap - WELD-ENV-002001: Weld SE container 944b54c2-e094-44a2-ba2b-0ae8d247d9aa shut down\nWeld SE container 944b54c2-e094-44a2-ba2b-0ae8d247d9aa shut down by shutdown hook\n</code></pre>\n"},{"tags":["java","visual-studio-code","vscode-extensions","java-11"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669256185,"creation_date":1669256185,"answer_id":74554914,"question_id":74553272,"body_markdown":"Add the following configuration to the **settings.json** to specify the jdk path\r\n\r\n```json\r\n    // Here is the Windows system as an example\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;C:\\\\Users\\\\Admin\\\\AppData\\\\Local\\\\Programs\\\\Eclipse Adoptium\\\\jdk-17.0.3.7-hotspot&quot;,\r\n            &quot;default&quot;: true\r\n        },\r\n    ],\r\n```\r\n\r\nMore information can be found [here][1].\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects","title":"Cannot run java file in VS code in Zorin OS","body":"<p>Add the following configuration to the <strong>settings.json</strong> to specify the jdk path</p>\n<pre class=\"lang-json prettyprint-override\"><code>    // Here is the Windows system as an example\n    &quot;java.configuration.runtimes&quot;: [\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;C:\\\\Users\\\\Admin\\\\AppData\\\\Local\\\\Programs\\\\Eclipse Adoptium\\\\jdk-17.0.3.7-hotspot&quot;,\n            &quot;default&quot;: true\n        },\n    ],\n</code></pre>\n<p>More information can be found <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":27028890,"reputation":23,"user_id":20585637,"display_name":"Anupam Bakshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74554914,"answer_count":1,"score":1,"last_activity_date":1669256185,"creation_date":1669239622,"question_id":74553272,"body_markdown":"When I run Java -version command it shows: \r\n\r\n\r\n```\r\nopenjdk version &quot;17.0.5&quot; 2022-10-18\r\nOpenJDK Runtime Environment Temurin-17.0.5+8 (build 17.0.5+8)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)\r\n```\r\n\r\nStill, when I open VS code, It shows me this [VS code Window error message](https://i.stack.imgur.com/p84St.png)\r\n\r\nHow to resolve this ??\r\n\r\n\r\n\r\n\r\nI tried installing Multiple JDKs and still the error continues, I tried to look into extensions settings but can&#39;t get what to do \r\n\r\nAlso when i try to configure java runtime with command pallet it shows me this: \r\n\r\n[Vs code window with error](https://i.stack.imgur.com/gdXnt.png)","title":"Cannot run java file in VS code in Zorin OS","body":"<p>When I run Java -version command it shows:</p>\n<pre><code>openjdk version &quot;17.0.5&quot; 2022-10-18\nOpenJDK Runtime Environment Temurin-17.0.5+8 (build 17.0.5+8)\nOpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)\n</code></pre>\n<p>Still, when I open VS code, It shows me this <a href=\"https://i.stack.imgur.com/p84St.png\" rel=\"nofollow noreferrer\">VS code Window error message</a></p>\n<p>How to resolve this ??</p>\n<p>I tried installing Multiple JDKs and still the error continues, I tried to look into extensions settings but can't get what to do</p>\n<p>Also when i try to configure java runtime with command pallet it shows me this:</p>\n<p><a href=\"https://i.stack.imgur.com/gdXnt.png\" rel=\"nofollow noreferrer\">Vs code window with error</a></p>\n"},{"tags":["java","datetime","exception"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":3,"creation_date":1669252660,"post_id":74554609,"comment_id":131604752,"body_markdown":"I notice you&#39;re catching all exceptions - are you sure it&#39;s an `InvalidDateException` that&#39;s getting thrown? In general `catch(Exception E)` is a dangerous line of code to write, because it can obfuscate unexpected errors","body":"I notice you&#39;re catching all exceptions - are you sure it&#39;s an <code>InvalidDateException</code> that&#39;s getting thrown? In general <code>catch(Exception E)</code> is a dangerous line of code to write, because it can obfuscate unexpected errors"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1669252732,"post_id":74554609,"comment_id":131604764,"body_markdown":"Yeap, just comment out the try/catch block and let it explode, see what is the error :) and if you don&#39;t figure out post the stack trace here in your question","body":"Yeap, just comment out the try/catch block and let it explode, see what is the error :) and if you don&#39;t figure out post the stack trace here in your question"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1669252837,"post_id":74554609,"comment_id":131604775,"body_markdown":"Could you, please, include the sample runs as text in the question body? You may edit the question to do that.","body":"Could you, please, include the sample runs as text in the question body? You may edit the question to do that."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1669253217,"post_id":74554609,"comment_id":131604843,"body_markdown":"Make your life easier: `List&lt;Integer&gt; m31 = List.of(1,3,5,7,8,10,12);` then you can `if (m31.contains(m))`","body":"Make your life easier: <code>List&lt;Integer&gt; m31 = List.of(1,3,5,7,8,10,12);</code> then you can <code>if (m31.contains(m))</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1669254200,"post_id":74554609,"comment_id":131604971,"body_markdown":"Since `m31` and `m30` have elements in ascending order, can `Arrays.binarySearch(m31, m) &gt;= 0` be substituted for `Arrays.asList(m31).contains(m)` ?","body":"Since <code>m31</code> and <code>m30</code> have elements in ascending order, can <code>Arrays.binarySearch(m31, m) &gt;= 0</code> be substituted for <code>Arrays.asList(m31).contains(m)</code> ?"},{"owner":{"account_id":25178936,"reputation":3,"user_id":19020677,"display_name":"02 Ankesh Agarwal"},"score":0,"creation_date":1669259375,"post_id":74554609,"comment_id":131605680,"body_markdown":"there was another instance that came across when I was making changes: &quot; 12 13 2000&quot; this would&#39;ve returned true as no condition was placed in else if(y%4==0 &amp;&amp; d&lt;=29) thus the appropriate change for it was else if(m==2 &amp;&amp; y%4==0 &amp;&amp; d&lt;=29) same for else if(y%4!=0 &amp;&amp; d&lt;=28) =&gt; else if(m==2 &amp;&amp; y%4!=0 &amp;&amp; d&lt;=28)","body":"there was another instance that came across when I was making changes: &quot; 12 13 2000&quot; this would&#39;ve returned true as no condition was placed in else if(y%4==0 &amp;&amp; d&lt;=29) thus the appropriate change for it was else if(m==2 &amp;&amp; y%4==0 &amp;&amp; d&lt;=29) same for else if(y%4!=0 &amp;&amp; d&lt;=28) =&gt; else if(m==2 &amp;&amp; y%4!=0 &amp;&amp; d&lt;=28)"}],"answers":[{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669253417,"creation_date":1669253011,"answer_id":74554672,"question_id":74554609,"body_markdown":"`Arrays.asList(m31)` is a list of one array, not an array converted to a list. (I hate it too.)\r\n\r\nI&#39;m not entirely clear why, but `List&lt;T&gt;::contains` takes an `Object`, not a `T`, so this type checked. Really seems like it shouldn&#39;t have.\r\n\r\nIt&#39;s a type inferenence thing, I think - if you just declare your arrays as `Integer[]` rather than `int[]` it works.\r\n\r\nSee https://stackoverflow.com/questions/2607289/converting-array-to-list-in-java for more info.","title":"The code is not working for some instances while its working fine for others","body":"<p><code>Arrays.asList(m31)</code> is a list of one array, not an array converted to a list. (I hate it too.)</p>\n<p>I'm not entirely clear why, but <code>List&lt;T&gt;::contains</code> takes an <code>Object</code>, not a <code>T</code>, so this type checked. Really seems like it shouldn't have.</p>\n<p>It's a type inferenence thing, I think - if you just declare your arrays as <code>Integer[]</code> rather than <code>int[]</code> it works.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/2607289/converting-array-to-list-in-java\">Converting array to list in Java</a> for more info.</p>\n"}],"owner":{"account_id":25178936,"reputation":3,"user_id":19020677,"display_name":"02 Ankesh Agarwal"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1669256054,"answer_count":1,"score":-3,"last_activity_date":1669256113,"creation_date":1669252252,"question_id":74554609,"body_markdown":"The question is as follows: Define a class MyDate (day, month, year) with methods to accept and display a MyDate object. Accept date as dd, mm, yyyy. Throw user defined exception &quot;InvalidDateException&quot; if the date is invalid. Examples of invalid dates: \r\n\r\n    12 15 2015\r\n    31 6 1990\r\n    29 2 2001\r\n\r\nI wrote the following code but its not working in some instances. Please assist!\r\n\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.Arrays;\r\nimport java.io.*;\r\n\r\nclass InvalidDateException extends Exception\r\n{}\r\n\r\nclass MyDate \r\n{\r\n\tint day,month,year;\r\n    \r\n    void accept()\r\n    {   \r\n        try\r\n        {  \r\n            Scanner S= new Scanner(System.in);\r\n    \t\tint d,m,y;\r\n            System.out.println(&quot;\\nEnter day \\nExample: 12 25 30  =&gt;&quot;);\r\n            d=S.nextInt();\r\n            System.out.println(&quot;\\nEnter month \\nExample: 2 6 12  =&gt;&quot;);\r\n            m=S.nextInt();\r\n            System.out.println(&quot;\\nEnter year \\nExample: 2012 2025 1930  =&gt;&quot;);\r\n            y=S.nextInt();\r\n            //display();                                 for testing porposes\r\n            //System.out.println(valid(d,m,y));          for testing porposes\r\n    \t\tif(valid(d,m,y))\r\n    \t\t{\r\n    \t\t\tday=d;\r\n    \t\t\tmonth=m;\r\n    \t\t\tyear=y;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t    throw new InvalidDateException();\r\n    \t\t}\r\n\t     }\r\n\t    catch(Exception e)\r\n        {\r\n            System.out.println(&quot;InvalidDateException&quot;);\r\n        }\r\n    }\r\n    \r\n    boolean valid(int d,int m,int y)\r\n    {\r\n\t\tint []m31=new int[]{1,3,5,7,8,10,12};\r\n\t\tint []m30=new int[]{4,6,9,11};\r\n                //System.out.println(&quot;\\n\\t\\t&quot;+d+m+y);            for testing porposes\r\n\t\tif(Arrays.asList(m31).contains(m) &amp;&amp; d&lt;=31)\r\n\t\t{\r\n\t\t\t\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse if(Arrays.asList(m30).contains(m) &amp;&amp; d&lt;=30)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse if(y%4==0 &amp;&amp; d&lt;=29)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse if(y%4!=0 &amp;&amp; d&lt;=28)\r\n\t\t{\r\n\t\t    return true;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tvoid display()\r\n\t{\r\n\t    System.out.println(&quot;DAY-MONTH-YEAR :: &quot;+day+&quot;-&quot;+month+&quot;-&quot;+year);\r\n\t}\r\n    \r\n}\r\n\r\n\r\nclass Main\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        MyDate date= new MyDate();\r\n        date.accept();\r\n        date.display();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nWhile I have resolved the other issues, the program seems to not work for days above 29.\r\n\r\n[Its showing valid if day is below 30](https://i.stack.imgur.com/JUxv3.jpg)\r\n\r\n[And invalid for day above 29 changing month or year has no affect](https://i.stack.imgur.com/3WWX4.jpg)","title":"The code is not working for some instances while its working fine for others","body":"<p>The question is as follows: Define a class MyDate (day, month, year) with methods to accept and display a MyDate object. Accept date as dd, mm, yyyy. Throw user defined exception &quot;InvalidDateException&quot; if the date is invalid. Examples of invalid dates:</p>\n<pre><code>12 15 2015\n31 6 1990\n29 2 2001\n</code></pre>\n<p>I wrote the following code but its not working in some instances. Please assist!</p>\n<pre><code>import java.util.*;\nimport java.util.Arrays;\nimport java.io.*;\n\nclass InvalidDateException extends Exception\n{}\n\nclass MyDate \n{\n    int day,month,year;\n    \n    void accept()\n    {   \n        try\n        {  \n            Scanner S= new Scanner(System.in);\n            int d,m,y;\n            System.out.println(&quot;\\nEnter day \\nExample: 12 25 30  =&gt;&quot;);\n            d=S.nextInt();\n            System.out.println(&quot;\\nEnter month \\nExample: 2 6 12  =&gt;&quot;);\n            m=S.nextInt();\n            System.out.println(&quot;\\nEnter year \\nExample: 2012 2025 1930  =&gt;&quot;);\n            y=S.nextInt();\n            //display();                                 for testing porposes\n            //System.out.println(valid(d,m,y));          for testing porposes\n            if(valid(d,m,y))\n            {\n                day=d;\n                month=m;\n                year=y;\n            }\n            else\n            {\n                throw new InvalidDateException();\n            }\n         }\n        catch(Exception e)\n        {\n            System.out.println(&quot;InvalidDateException&quot;);\n        }\n    }\n    \n    boolean valid(int d,int m,int y)\n    {\n        int []m31=new int[]{1,3,5,7,8,10,12};\n        int []m30=new int[]{4,6,9,11};\n                //System.out.println(&quot;\\n\\t\\t&quot;+d+m+y);            for testing porposes\n        if(Arrays.asList(m31).contains(m) &amp;&amp; d&lt;=31)\n        {\n            \n            return true;\n        }\n        else if(Arrays.asList(m30).contains(m) &amp;&amp; d&lt;=30)\n        {\n            return true;\n        }\n        else if(y%4==0 &amp;&amp; d&lt;=29)\n        {\n            return true;\n        }\n        else if(y%4!=0 &amp;&amp; d&lt;=28)\n        {\n            return true;\n        }\n        else\n        {\n            return false;\n        }\n        \n        \n        \n        \n    }\n    \n    void display()\n    {\n        System.out.println(&quot;DAY-MONTH-YEAR :: &quot;+day+&quot;-&quot;+month+&quot;-&quot;+year);\n    }\n    \n}\n\n\nclass Main\n{\n    public static void main(String args[])\n    {\n        MyDate date= new MyDate();\n        date.accept();\n        date.display();\n    }\n}\n\n</code></pre>\n<p>While I have resolved the other issues, the program seems to not work for days above 29.</p>\n<p><a href=\"https://i.stack.imgur.com/JUxv3.jpg\" rel=\"nofollow noreferrer\">Its showing valid if day is below 30</a></p>\n<p><a href=\"https://i.stack.imgur.com/3WWX4.jpg\" rel=\"nofollow noreferrer\">And invalid for day above 29 changing month or year has no affect</a></p>\n"},{"tags":["java","wicket"],"comments":[{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":2,"creation_date":1512676631,"post_id":47700614,"comment_id":82365685,"body_markdown":"This should be fixed in Wicket itself. Please file a bug report!","body":"This should be fixed in Wicket itself. Please file a bug report!"},{"owner":{"account_id":6655850,"reputation":463,"user_id":5136448,"accept_rate":50,"display_name":"User51610"},"score":1,"creation_date":1512749545,"post_id":47700614,"comment_id":82396518,"body_markdown":"I may have to dig deeper in to this, because I created a Wicket quickstart that does the same thing, but I get no exception. The function is the same, image setup is the same, imports are the same, file system location is the same. Not sure what&#39;s going on, but it&#39;ll be hard to duplicate if putting in a quickstart doesn&#39;t result in the behavior I&#39;m seeing in my own project.","body":"I may have to dig deeper in to this, because I created a Wicket quickstart that does the same thing, but I get no exception. The function is the same, image setup is the same, imports are the same, file system location is the same. Not sure what&#39;s going on, but it&#39;ll be hard to duplicate if putting in a quickstart doesn&#39;t result in the behavior I&#39;m seeing in my own project."},{"owner":{"account_id":12203943,"reputation":493,"user_id":8907549,"display_name":"melanzane"},"score":0,"creation_date":1513086979,"post_id":47700614,"comment_id":82509587,"body_markdown":"Have you tried declaring an instance variable `private transient Path path `?","body":"Have you tried declaring an instance variable <code>private transient Path path </code>?"},{"owner":{"account_id":6655850,"reputation":463,"user_id":5136448,"accept_rate":50,"display_name":"User51610"},"score":0,"creation_date":1513115272,"post_id":47700614,"comment_id":82525495,"body_markdown":"@melanzane I tried that, but no go. I&#39;m mainly wondering at this point why it happens in my application but not in a quickstart. I put the exact same stuff in the quickstart as in my full application, but just the parts relevant to that page. I don&#39;t know what extra thing would cause Wicket to give that exception on a library class.","body":"@melanzane I tried that, but no go. I&#39;m mainly wondering at this point why it happens in my application but not in a quickstart. I put the exact same stuff in the quickstart as in my full application, but just the parts relevant to that page. I don&#39;t know what extra thing would cause Wicket to give that exception on a library class."}],"owner":{"account_id":6655850,"reputation":463,"user_id":5136448,"accept_rate":50,"display_name":"User51610"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1669255927,"creation_date":1512667837,"question_id":47700614,"body_markdown":"I am using Wicket 7.9.0.\r\n\r\nI have an image on a page that is loaded from the filesystem, using the first example shown [here][1] \r\n\r\nMy specific code is:\r\n\r\n    private FileSystemResourceReference getImageReference(String name, String fullPath) {\r\n\t\ttry {\r\n\t\t\tPath path = FileSystemResourceReference.getPath(URI.create(&quot;file://&quot; + fullPath));\r\n\t\t\treturn new FileSystemResourceReference(name, path);\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOG.error(e, e);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\nWhen I go to the page once deployed, I get an exception in the log when the page loads, which centers on this:\r\n\r\n    Field hierarchy is:\r\n      2 [class=com.stuff.MyPage, path=2]\r\n        private java.lang.Object org.apache.wicket.MarkupContainer.children [class=java.util.ArrayList]\r\n          private java.lang.Object org.apache.wicket.MarkupContainer.children[write:21][write:24] [class=org.apache.wicket.markup.html.WebMarkupContainer, path=2:imageContainer]\r\n            private java.lang.Object org.apache.wicket.MarkupContainer.children [class=java.util.ArrayList]\r\n              private java.lang.Object org.apache.wicket.MarkupContainer.children[write:1] [class=org.apache.wicket.markup.html.image.Image, path=2:imageContainer:myImage]\r\n                private final org.apache.wicket.markup.html.image.resource.LocalizedImageResource org.apache.wicket.markup.html.image.Image.localizedImageResource [class=org.apache.wicket.markup.html.image.resource.LocalizedImageResource]\r\n                  private org.apache.wicket.request.resource.ResourceReference org.apache.wicket.markup.html.image.resource.LocalizedImageResource.resourceReference [class=org.apache.wicket.resource.FileSystemResourceReference]\r\n                    private java.nio.file.Path org.apache.wicket.resource.FileSystemResourceReference.path [class=sun.nio.fs.UnixPath] &lt;----- field that is causing the problem\r\n\r\nIf it was my own class, it&#39;d be easy enough to fix by adding `implements java.io.Serializable`, but I&#39;m not sure what to do in this case. The page seems to work just fine (*seems to*, so far), but the log gets real ugly.\r\n\r\n  [1]: https://ci.apache.org/projects/wicket/apidocs/7.x/org/apache/wicket/resource/FileSystemResourceReference.html\r\n","title":"Error serializing object in Wicket","body":"<p>I am using Wicket 7.9.0.</p>\n\n<p>I have an image on a page that is loaded from the filesystem, using the first example shown <a href=\"https://ci.apache.org/projects/wicket/apidocs/7.x/org/apache/wicket/resource/FileSystemResourceReference.html\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p>My specific code is:</p>\n\n<pre><code>private FileSystemResourceReference getImageReference(String name, String fullPath) {\n    try {\n        Path path = FileSystemResourceReference.getPath(URI.create(\"file://\" + fullPath));\n        return new FileSystemResourceReference(name, path);\n    } catch (Exception e) {\n        LOG.error(e, e);\n        return null;\n    }\n}\n</code></pre>\n\n<p>When I go to the page once deployed, I get an exception in the log when the page loads, which centers on this:</p>\n\n<pre><code>Field hierarchy is:\n  2 [class=com.stuff.MyPage, path=2]\n    private java.lang.Object org.apache.wicket.MarkupContainer.children [class=java.util.ArrayList]\n      private java.lang.Object org.apache.wicket.MarkupContainer.children[write:21][write:24] [class=org.apache.wicket.markup.html.WebMarkupContainer, path=2:imageContainer]\n        private java.lang.Object org.apache.wicket.MarkupContainer.children [class=java.util.ArrayList]\n          private java.lang.Object org.apache.wicket.MarkupContainer.children[write:1] [class=org.apache.wicket.markup.html.image.Image, path=2:imageContainer:myImage]\n            private final org.apache.wicket.markup.html.image.resource.LocalizedImageResource org.apache.wicket.markup.html.image.Image.localizedImageResource [class=org.apache.wicket.markup.html.image.resource.LocalizedImageResource]\n              private org.apache.wicket.request.resource.ResourceReference org.apache.wicket.markup.html.image.resource.LocalizedImageResource.resourceReference [class=org.apache.wicket.resource.FileSystemResourceReference]\n                private java.nio.file.Path org.apache.wicket.resource.FileSystemResourceReference.path [class=sun.nio.fs.UnixPath] &lt;----- field that is causing the problem\n</code></pre>\n\n<p>If it was my own class, it'd be easy enough to fix by adding <code>implements java.io.Serializable</code>, but I'm not sure what to do in this case. The page seems to work just fine (<em>seems to</em>, so far), but the log gets real ugly.</p>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1669246418,"post_id":74554033,"comment_id":131603723,"body_markdown":"There are several options (including &quot;DuplicatesStrategy.EXCLUDE&quot;, and &quot;try a different version of Gradle&quot;) here: https://stackoverflow.com/q/67265308/421195, and here: https://youtrack.jetbrains.com/issue/KT-46165.  Q: Do you happen to be using Android Studio (or IntelliJ)?","body":"There are several options (including &quot;DuplicatesStrategy.EXCLUDE&quot;, and &quot;try a different version of Gradle&quot;) here: <a href=\"https://stackoverflow.com/q/67265308/421195\">stackoverflow.com/q/67265308/421195</a>, and here: <a href=\"https://youtrack.jetbrains.com/issue/KT-46165\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-46165</a>.  Q: Do you happen to be using Android Studio (or IntelliJ)?"},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669246661,"post_id":74554033,"comment_id":131603767,"body_markdown":"@paulsm4 I am using IntelliJ 2022.2.3 version","body":"@paulsm4 I am using IntelliJ 2022.2.3 version"},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669246945,"post_id":74554033,"comment_id":131603805,"body_markdown":"@paulsm4 All the solutions with withType&lt;Jar&gt; are throwing error: Caused by: groovy.lang.MissingPropertyException: Could not get unknown property &#39;withType&#39; for task set of type org.gradle.api.internal.tasks.DefaultTaskContainer.","body":"@paulsm4 All the solutions with withType&lt;Jar&gt; are throwing error: Caused by: groovy.lang.MissingPropertyException: Could not get unknown property &#39;withType&#39; for task set of type org.gradle.api.internal.tasks.DefaultTaskContainer."},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669247153,"post_id":74554033,"comment_id":131603833,"body_markdown":"Thank you @paulsm4 for pointing to the thread. Managed to solve it using this, did a little bit of modification for Jar part though:\ntasks.withType(Jar) {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.example.backendapp.BackendAppApplication&quot;\n    }\n}","body":"Thank you @paulsm4 for pointing to the thread. Managed to solve it using this, did a little bit of modification for Jar part though: tasks.withType(Jar) {     duplicatesStrategy = DuplicatesStrategy.EXCLUDE      manifest {         attributes[&quot;Main-Class&quot;] = &quot;com.example.backendapp.BackendAppApplication&quot;     } }"}],"answers":[{"tags":[],"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669247516,"creation_date":1669247516,"answer_id":74554162,"question_id":74554033,"body_markdown":"This can be solved by adding this to build.gradle:\r\n\r\n    tasks.withType(Jar) {\r\n       duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n       manifest {\r\n          attributes[&quot;Main-Class&quot;] = &quot;com.example.backendapp.BackendAppApplication&quot;\r\n       }\r\n    }","title":"Entry META-INF/MANIFEST.MF is a duplicate but no duplicate handling strategy has been set","body":"<p>This can be solved by adding this to build.gradle:</p>\n<pre><code>tasks.withType(Jar) {\n   duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n   manifest {\n      attributes[&quot;Main-Class&quot;] = &quot;com.example.backendapp.BackendAppApplication&quot;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4692,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1669255641,"creation_date":1669246224,"question_id":74554033,"body_markdown":"I am trying to build a spring web application with some API endpoints. Everytime I try to run &quot;gradle build&quot;, getting error:\r\n\r\n    Entry META-INF/MANIFEST.MF is a duplicate but no duplicate handling strategy has been set.\r\n\r\nFollowing is the output for build --scan:\r\n\r\n    3:23:01 pm: Executing &#39;build --scan&#39;...\r\n    \r\n    &gt; Task :compileJava\r\n    &gt; Task :processResources UP-TO-DATE\r\n    &gt; Task :classes\r\n    &gt; Task :bootJarMainClassName\r\n    &gt; Task :bootJar FAILED\r\n    4 actionable tasks: 3 executed, 1 up-to-date\r\n    \r\n    Publishing a build scan to scans.gradle.com requires accepting the Gradle Terms of Service defined at https://gradle.com/terms-of-service. Do you accept these terms? [yes, no] \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:bootJar&#39;.\r\n    &gt; Entry META-INF/MANIFEST.MF is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\r\n\r\nbuild.gradle:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    jar {\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n        manifest {\r\n            attributes(\r\n                    &#39;Main-Class&#39;: &#39;com.example.backendapp.BackendAppApplication&#39;\r\n            )\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nSolutions I tried till now:\r\n 1. Add &quot;duplicatesStrategy = DuplicatesStrategy.EXCLUDE&quot; inside jar\r\n 2. Downgrade gradle version from 7.5.1 to 7.2","title":"Entry META-INF/MANIFEST.MF is a duplicate but no duplicate handling strategy has been set","body":"<p>I am trying to build a spring web application with some API endpoints. Everytime I try to run &quot;gradle build&quot;, getting error:</p>\n<pre><code>Entry META-INF/MANIFEST.MF is a duplicate but no duplicate handling strategy has been set.\n</code></pre>\n<p>Following is the output for build --scan:</p>\n<pre><code>3:23:01 pm: Executing 'build --scan'...\n\n&gt; Task :compileJava\n&gt; Task :processResources UP-TO-DATE\n&gt; Task :classes\n&gt; Task :bootJarMainClassName\n&gt; Task :bootJar FAILED\n4 actionable tasks: 3 executed, 1 up-to-date\n\nPublishing a build scan to scans.gradle.com requires accepting the Gradle Terms of Service defined at https://gradle.com/terms-of-service. Do you accept these terms? [yes, no] \nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':bootJar'.\n&gt; Entry META-INF/MANIFEST.MF is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\njar {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    manifest {\n        attributes(\n                'Main-Class': 'com.example.backendapp.BackendAppApplication'\n        )\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Solutions I tried till now:</p>\n<ol>\n<li>Add &quot;duplicatesStrategy = DuplicatesStrategy.EXCLUDE&quot; inside jar</li>\n<li>Downgrade gradle version from 7.5.1 to 7.2</li>\n</ol>\n"},{"tags":["java","spring-boot","jar","manifest","executable-jar"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669254571,"post_id":74554668,"comment_id":131605018,"body_markdown":"Have a look at the jar file. Does it have the manifest in it? Make sure you&#39;re building via gradle.","body":"Have a look at the jar file. Does it have the manifest in it? Make sure you&#39;re building via gradle."},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1669254968,"post_id":74554668,"comment_id":131605072,"body_markdown":"Please provide the content of your gradle.build file. You are missing spring-boot-gradle-plugin.","body":"Please provide the content of your gradle.build file. You are missing spring-boot-gradle-plugin."},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669255219,"post_id":74554668,"comment_id":131605106,"body_markdown":"@tgdavies I tried the command &quot;jar tf backend-app.jar &gt; log.txt&quot; and I do see manifest file in it:\nMETA-INF/MANIFEST.MF\ncom/\ncom/example/\ncom/example/backendapp/\ncom/example/backendapp/BackendAppApplication.class\ncom/example/backendapp/controller/\ncom/example/backendapp/controller/FileController.class\ncom/example/backendapp/model/\ncom/example/backendapp/model/FileUploadRequest.class\nMETA-INF/\norg/\n...","body":"@tgdavies I tried the command &quot;jar tf backend-app.jar &gt; log.txt&quot; and I do see manifest file in it: META-INF/MANIFEST.MF com/ com/example/ com/example/backendapp/ com/example/backendapp/BackendAppApplication.class com/example/backendapp/controller/ com/example/backendapp/controller/FileController.class com/example/backendapp/model/ com/example/backendapp/model/FileUploadRequest.class META-INF/ org/ ..."},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669255258,"post_id":74554668,"comment_id":131605113,"body_markdown":"@tgdavies yes, before creating this I ran the command: gradle clean build","body":"@tgdavies yes, before creating this I ran the command: gradle clean build"},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669255287,"post_id":74554668,"comment_id":131605121,"body_markdown":"@DhavalGajjar in the plugins section?\nplugins {\n    id &#39;java&#39;\n    id &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\n}","body":"@DhavalGajjar in the plugins section? plugins {     id &#39;java&#39;     id &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;     id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39; }"},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669255617,"post_id":74554668,"comment_id":131605156,"body_markdown":"@DhavalGajjar Added my build.gradle in question as well. Can you please have a look at it?","body":"@DhavalGajjar Added my build.gradle in question as well. Can you please have a look at it?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669270661,"post_id":74554668,"comment_id":131607450,"body_markdown":"How did you create the jar? I suspect the export from Intellij instead of using your Gradle build.","body":"How did you create the jar? I suspect the export from Intellij instead of using your Gradle build."},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669279545,"post_id":74554668,"comment_id":131609927,"body_markdown":"@M. Deinum I ran the command &quot;gradle build clean&quot; as well tried through Build &gt; Build Artifacts &gt; Build option","body":"@M. Deinum I ran the command &quot;gradle build clean&quot; as well tried through Build &gt; Build Artifacts &gt; Build option"},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669279603,"post_id":74554668,"comment_id":131609947,"body_markdown":"I did not find a solution on how to solve this, but I created another project and downgraded my Java version to Java 11. On gradle build, the jar is getting created properly as well as I am able to run the jar file successfully.","body":"I did not find a solution on how to solve this, but I created another project and downgraded my Java version to Java 11. On gradle build, the jar is getting created properly as well as I am able to run the jar file successfully."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669279671,"post_id":74554668,"comment_id":131609968,"body_markdown":"ehrm `gradle build clean`? You first build and then ditch everything? I would also expect the jar to be in `build/libs` not in the out directory. The out directory is from intellij, the `build/libs` is from gradle.","body":"ehrm <code>gradle build clean</code>? You first build and then ditch everything? I would also expect the jar to be in <code>build&#47;libs</code> not in the out directory. The out directory is from intellij, the <code>build&#47;libs</code> is from gradle."},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669280678,"post_id":74554668,"comment_id":131610329,"body_markdown":"jar was present in build/libs folder as well @M.Deinum. I tried running jars from both folder locations. Both gave me same errors.","body":"jar was present in build/libs folder as well @M.Deinum. I tried running jars from both folder locations. Both gave me same errors."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669280982,"post_id":74554668,"comment_id":131610432,"body_markdown":"You shouldn&#39;t need the modification of the jar type in your gradle file, Spring Boot plugin will generate the manifest automatically. So I would remove the part of modifying the manifest (I never needed the task etc. if you really want the spring boot plugin allows setting the main class through a property no need to modify that yourself through the manifest task).","body":"You shouldn&#39;t need the modification of the jar type in your gradle file, Spring Boot plugin will generate the manifest automatically. So I would remove the part of modifying the manifest (I never needed the task etc. if you really want the spring boot plugin allows setting the main class through a property no need to modify that yourself through the manifest task)."}],"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669255588,"creation_date":1669252964,"question_id":74554668,"body_markdown":"I am writing a simple spring web application. Following is my main SpringBootApplication class:\r\n\r\n    package com.example.backendapp;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class BackendAppApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(BackendAppApplication.class, args);\r\n        }\r\n    }\r\n\r\nI would like to create jar and then later use it in Dockerfile.\r\n\r\nTo create a jar I followed the steps on IntelliJ: Build &gt; Build Artifacts &gt; backend-app.jar &gt; Build \r\n\r\nThis creates the jar as well under the out folder:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qjgF7.png\r\n\r\nI am trying to run the jar from terminal using the command:\r\n\r\n    java -jar out/artifacts/backend_app_jar/backend-app.jar\r\n\r\nBut it keeps on giving me following error:\r\n\r\n    no main manifest attribute, in out/artifacts/backend_app_jar/backend-app.jar\r\n\r\nI checked following files:\r\n 1. build/resources/main/META-INF/MANIFEST.MF and it has following details:\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: com.example.backendapp.BackendAppApplication\r\n\r\n 2. out/production/resources/META-INF/MANIFEST.MF and it has following details:\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: com.example.backendapp.BackendAppApplication\r\n\r\nIn build.gradle I have:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    tasks.withType(Jar) {\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    \r\n        manifest {\r\n            attributes[&quot;Main-Class&quot;] = &quot;com.example.backendapp.BackendAppApplication&quot;\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nWhat is the correct way to create a jar in IntelliJ? Our my MANIFEST.MF files missing something that is required?\r\n","title":"no main manifest attribute, in path/backend-app.jar","body":"<p>I am writing a simple spring web application. Following is my main SpringBootApplication class:</p>\n<pre><code>package com.example.backendapp;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class BackendAppApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(BackendAppApplication.class, args);\n    }\n}\n</code></pre>\n<p>I would like to create jar and then later use it in Dockerfile.</p>\n<p>To create a jar I followed the steps on IntelliJ: Build &gt; Build Artifacts &gt; backend-app.jar &gt; Build</p>\n<p>This creates the jar as well under the out folder:\n<a href=\"https://i.stack.imgur.com/qjgF7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qjgF7.png\" alt=\"enter image description here\" /></a></p>\n<p>I am trying to run the jar from terminal using the command:</p>\n<pre><code>java -jar out/artifacts/backend_app_jar/backend-app.jar\n</code></pre>\n<p>But it keeps on giving me following error:</p>\n<pre><code>no main manifest attribute, in out/artifacts/backend_app_jar/backend-app.jar\n</code></pre>\n<p>I checked following files:</p>\n<ol>\n<li><p>build/resources/main/META-INF/MANIFEST.MF and it has following details:</p>\n<p>Manifest-Version: 1.0\nMain-Class: com.example.backendapp.BackendAppApplication</p>\n</li>\n<li><p>out/production/resources/META-INF/MANIFEST.MF and it has following details:</p>\n<p>Manifest-Version: 1.0\nMain-Class: com.example.backendapp.BackendAppApplication</p>\n</li>\n</ol>\n<p>In build.gradle I have:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\ntasks.withType(Jar) {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.example.backendapp.BackendAppApplication&quot;\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>What is the correct way to create a jar in IntelliJ? Our my MANIFEST.MF files missing something that is required?</p>\n"},{"tags":["java","testing","jython","robotframework","atdd"],"answers":[{"tags":[],"owner":{"account_id":4815,"reputation":374334,"user_id":7432,"accept_rate":94,"display_name":"Bryan Oakley"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1408245778,"creation_date":1408245778,"answer_id":25346057,"question_id":25345168,"body_markdown":"Your test calls the keyword `Get Value`, which calls the keyword `Get Value`. You&#39;ve created an infinite recursion. `Get Value` calls `Get Value` which calls `Get Value` which calls `Get Value` which calls ...\r\n\r\nThe best solution is the simplest one: don&#39;t create a keyword that calls itself. If there is already a keyword with a given name, don&#39;t create another one with the same name. While you can make it work having two with the same name, it will make your test cases harder to understand.\r\n\r\nIf you have another keyword called `Get Value` and you simply must have two keywords with the same name, you can give the fully qualified name so robot doesn&#39;t call the same keyword again. For example, if your `Get Value` is trying to call the `Get Value` from `robot.myTest`, call it like this:\r\n\r\n    *** Keywords ***\r\n    Get Value\r\n        robot.myTest.Get Value\r\n\r\n","title":"RobotFramework: Maximum limit of started keywords exceeded","body":"<p>Your test calls the keyword <code>Get Value</code>, which calls the keyword <code>Get Value</code>. You've created an infinite recursion. <code>Get Value</code> calls <code>Get Value</code> which calls <code>Get Value</code> which calls <code>Get Value</code> which calls ...</p>\n\n<p>The best solution is the simplest one: don't create a keyword that calls itself. If there is already a keyword with a given name, don't create another one with the same name. While you can make it work having two with the same name, it will make your test cases harder to understand.</p>\n\n<p>If you have another keyword called <code>Get Value</code> and you simply must have two keywords with the same name, you can give the fully qualified name so robot doesn't call the same keyword again. For example, if your <code>Get Value</code> is trying to call the <code>Get Value</code> from <code>robot.myTest</code>, call it like this:</p>\n\n<pre><code>*** Keywords ***\nGet Value\n    robot.myTest.Get Value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2062426,"reputation":1515,"user_id":1838678,"display_name":"Sun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669253311,"creation_date":1669253311,"answer_id":74554689,"question_id":25345168,"body_markdown":"The error message could have been better scripted as \r\n\r\n&gt; &quot;stack overflow due to recursive calling of keyword&quot;\r\n\r\nCheck and fix the keyword to avoid the recursion.","title":"RobotFramework: Maximum limit of started keywords exceeded","body":"<p>The error message could have been better scripted as</p>\n<blockquote>\n<p>&quot;stack overflow due to recursive calling of keyword&quot;</p>\n</blockquote>\n<p>Check and fix the keyword to avoid the recursion.</p>\n"}],"owner":{"account_id":4248295,"reputation":1209,"user_id":3476247,"accept_rate":71,"display_name":"bsferreira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15903,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25346057,"answer_count":2,"score":2,"last_activity_date":1669253311,"creation_date":1408234193,"question_id":25345168,"body_markdown":"I&#39;m new to RobotFramework and I&#39;m trying to do a simple test. Print an &quot;Hello world&quot; using Log keyword and get a value from a java class (I&#39;m using jybot on Ride):\r\n\r\n    *** Settings ***\r\n    Library           robot.MyTest\r\n    \r\n    *** Test Cases ***\r\n    Test1\r\n        Log    Hello World    INFO\r\n        Get Value\r\n    \r\n    *** Keywords ***\r\n    Get Value\r\n        Get Value\r\n\r\nBut when I run it, the test won&#39;t pass and it will give me this error:\r\n\r\n    Starting test: MyTest.Test1\r\n    20140817 01:00:15.683 :  INFO : Hello world\r\n    20140817 01:00:15.798 :  FAIL : Maximum limit of started keywords exceeded.\r\n    Ending test:   MyTest.Test1\r\n\r\nI&#39;ve searched about it but I still have no clue on this.","title":"RobotFramework: Maximum limit of started keywords exceeded","body":"<p>I'm new to RobotFramework and I'm trying to do a simple test. Print an \"Hello world\" using Log keyword and get a value from a java class (I'm using jybot on Ride):</p>\n\n<pre><code>*** Settings ***\nLibrary           robot.MyTest\n\n*** Test Cases ***\nTest1\n    Log    Hello World    INFO\n    Get Value\n\n*** Keywords ***\nGet Value\n    Get Value\n</code></pre>\n\n<p>But when I run it, the test won't pass and it will give me this error:</p>\n\n<pre><code>Starting test: MyTest.Test1\n20140817 01:00:15.683 :  INFO : Hello world\n20140817 01:00:15.798 :  FAIL : Maximum limit of started keywords exceeded.\nEnding test:   MyTest.Test1\n</code></pre>\n\n<p>I've searched about it but I still have no clue on this.</p>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy","accelerometer"],"answers":[{"tags":[],"owner":{"account_id":4997723,"reputation":62,"user_id":4017666,"display_name":"Ansersion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550714287,"creation_date":1550714287,"answer_id":54798063,"question_id":54796760,"body_markdown":"First, you need to get the SDKs from the manufacturers. And use the SDKs to make your APP compatible with the smartwatches with different brand. It&#39;s really a giant and trivial work because you are not sure whether the manufacturers are willing to cooperate with you. ","title":"Receive accelerometer and gyroscope signals from smartwatch using BLE","body":"<p>First, you need to get the SDKs from the manufacturers. And use the SDKs to make your APP compatible with the smartwatches with different brand. It's really a giant and trivial work because you are not sure whether the manufacturers are willing to cooperate with you. </p>\n"},{"tags":[],"owner":{"account_id":281477,"reputation":686,"user_id":9085253,"display_name":"Martijn van Welie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550729893,"creation_date":1550729893,"answer_id":54800472,"question_id":54796760,"body_markdown":"Manufacturers of smartwatches generally don’t publish their bluetooth protocol. So even if it is theoretically possible, it is very hard to do it.\r\n\r\nHowever, Some people reverse engineer the protocols and find ways to do it. Here is an article about how to get raw accelerometer and heartrate data from a MiBand device:\r\n\r\nhttps://medium.com/machine-learning-world/how-i-hacked-xiaomi-miband-2-to-control-it-from-linux-a5bd2f36d3ad","title":"Receive accelerometer and gyroscope signals from smartwatch using BLE","body":"<p>Manufacturers of smartwatches generally don’t publish their bluetooth protocol. So even if it is theoretically possible, it is very hard to do it.</p>\n\n<p>However, Some people reverse engineer the protocols and find ways to do it. Here is an article about how to get raw accelerometer and heartrate data from a MiBand device:</p>\n\n<p><a href=\"https://medium.com/machine-learning-world/how-i-hacked-xiaomi-miband-2-to-control-it-from-linux-a5bd2f36d3ad\" rel=\"nofollow noreferrer\">https://medium.com/machine-learning-world/how-i-hacked-xiaomi-miband-2-to-control-it-from-linux-a5bd2f36d3ad</a></p>\n"},{"tags":[],"owner":{"account_id":18798677,"reputation":51,"user_id":13709544,"display_name":"chickysnail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669250597,"creation_date":1669250597,"answer_id":74554457,"question_id":54796760,"body_markdown":"I found an [app][1], that can connect to mi fit and offers additional tools for xiaomi bands. In the &quot;Tools&quot; section you can extract the accelerometer data, however there is no option for gyroscope\r\n\r\nP.S. Sorry, the site is in Russian, hope you can figure it out ;)\r\n\r\n  [1]: https://4pda.to/forum/index.php?showtopic=672707","title":"Receive accelerometer and gyroscope signals from smartwatch using BLE","body":"<p>I found an <a href=\"https://4pda.to/forum/index.php?showtopic=672707\" rel=\"nofollow noreferrer\">app</a>, that can connect to mi fit and offers additional tools for xiaomi bands. In the &quot;Tools&quot; section you can extract the accelerometer data, however there is no option for gyroscope</p>\n<p>P.S. Sorry, the site is in Russian, hope you can figure it out ;)</p>\n"}],"owner":{"account_id":15376193,"reputation":21,"user_id":11092826,"display_name":"User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2250,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1669250597,"creation_date":1550704514,"question_id":54796760,"body_markdown":"I&#39;m trying to develop an android app that should connect itself with a general smartwatch (miband, polar, etc.). In particular, I want to receive\r\naccelerometer and gyroscope signals using Bluetooth.\r\nI already read many articles about BLE but I didn&#39;t find any additional information about these signals. Does anyone know if it&#39;s possible to receive general signals like these? Is the solution feasible with any type of device?\r\nThanks for your help","title":"Receive accelerometer and gyroscope signals from smartwatch using BLE","body":"<p>I'm trying to develop an android app that should connect itself with a general smartwatch (miband, polar, etc.). In particular, I want to receive\naccelerometer and gyroscope signals using Bluetooth.\nI already read many articles about BLE but I didn't find any additional information about these signals. Does anyone know if it's possible to receive general signals like these? Is the solution feasible with any type of device?\nThanks for your help</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669203974,"creation_date":1669203974,"answer_id":74546289,"question_id":74546243,"body_markdown":"You have made things complicated,just use `String.startsWith()` and ` `String.substring()`` can do it\r\n\r\n    public class StringTest {\r\n    \r\n        public static void main(String[] args) {\r\n            String str = &quot;8650&quot;;\r\n            str = &quot;0650&quot;;\r\n            if (str.startsWith(&quot;0&quot;)) {\r\n                str = str.substring(1);\r\n            }\r\n            System.out.println(str);\r\n        }\r\n    }","title":"Is there anyway to delete a specified character in a string?","body":"<p>You have made things complicated,just use <code>String.startsWith()</code> and <code> </code>String.substring()`` can do it</p>\n<pre><code>public class StringTest {\n\n    public static void main(String[] args) {\n        String str = &quot;8650&quot;;\n        str = &quot;0650&quot;;\n        if (str.startsWith(&quot;0&quot;)) {\n            str = str.substring(1);\n        }\n        System.out.println(str);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7586685,"reputation":41,"user_id":5755531,"display_name":"Abirami Balasubramaniyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669204479,"creation_date":1669204479,"answer_id":74546393,"question_id":74546243,"body_markdown":"&gt; Below code might help you.\r\n\r\n        public static void main(String[] args) {\r\n\r\n        String val = &quot;10456&quot;;\r\n        val = (val.charAt(0) == &#39;0&#39;) ? val.substring(1, val.length()) : val;\r\n        System.out.println(val);\r\n    }\r\n\r\n\r\n\r\n ","title":"Is there anyway to delete a specified character in a string?","body":"<blockquote>\n<p>Below code might help you.</p>\n</blockquote>\n<pre><code>    public static void main(String[] args) {\n\n    String val = &quot;10456&quot;;\n    val = (val.charAt(0) == '0') ? val.substring(1, val.length()) : val;\n    System.out.println(val);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17849762,"reputation":104,"user_id":12965752,"display_name":"Bhushan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669250288,"creation_date":1669208515,"answer_id":74547250,"question_id":74546243,"body_markdown":"It will remove all leading zero.\r\n    \r\n    public static void main(String[] args) {\r\n        String str = &quot;000650&quot;;\r\n        str = str.replaceFirst(&quot;^0*&quot;, &quot;&quot;);\r\n        System.out.println(str); // output 650 it will remove all leading zero\r\n    }\r\n    ","title":"Is there anyway to delete a specified character in a string?","body":"<p>It will remove all leading zero.</p>\n<pre><code>public static void main(String[] args) {\n    String str = &quot;000650&quot;;\n    str = str.replaceFirst(&quot;^0*&quot;, &quot;&quot;);\n    System.out.println(str); // output 650 it will remove all leading zero\n}\n</code></pre>\n"}],"owner":{"account_id":27023871,"reputation":1,"user_id":20581459,"display_name":"Charlotte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669250288,"creation_date":1669203727,"question_id":74546243,"body_markdown":"This is my code \r\n\r\n```\r\npublic class StringTest {\r\n\t\r\n\tpublic static void main(String []args) {\r\n\t\t    String str= &quot;8650&quot;;\r\n\t        StringBuilder build = new StringBuilder(str);\r\n\t        char index = str.charAt(0);\r\n\t        System.out.println(index+&quot;&quot;);\r\n\t        int indexStr= build.indexOf(index+&quot;&quot;);\r\n\t        System.out.println(indexStr);\r\n\r\n\t        for( int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tif(indexStr == 0) \t \r\n\t\t\tbuild.deleteCharAt(indexStr);\r\n\t        }\r\n\t\t   System.out.println(build);\r\n\t}\r\n}\r\n```\r\nI want to delete th&#233; first number if it’s 0\r\n\r\nSo if I have 8650 it will print 8650, instead if I have 0650 it will print 650.\r\n\r\n","title":"Is there anyway to delete a specified character in a string?","body":"<p>This is my code</p>\n<pre><code>public class StringTest {\n    \n    public static void main(String []args) {\n            String str= &quot;8650&quot;;\n            StringBuilder build = new StringBuilder(str);\n            char index = str.charAt(0);\n            System.out.println(index+&quot;&quot;);\n            int indexStr= build.indexOf(index+&quot;&quot;);\n            System.out.println(indexStr);\n\n            for( int i = 0; i &lt; str.length(); i++) {\n            if(indexStr == 0)    \n            build.deleteCharAt(indexStr);\n            }\n           System.out.println(build);\n    }\n}\n</code></pre>\n<p>I want to delete thé first number if it’s 0</p>\n<p>So if I have 8650 it will print 8650, instead if I have 0650 it will print 650.</p>\n"},{"tags":["java","spring-boot","docker","file-upload","docker-volume"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1669179096,"post_id":74541736,"comment_id":131583210,"body_markdown":"Your docker config maps the directory `masterclass-photos` on your host to `/var/lib/public/images` in the docker container.  For the container to write a file that you&#39;ll then see on your host, it has to write to `/var/lib/public/images`, or some subdir of that dir.  I don&#39;t see that you&#39;re doing that.  I see that you refer to `masterclass-photos` in your code, but if that code is running in the container, that name has nothing to do with the fact that a directory with that name on the host is mapped to `/var/lib/public/images`.  You need to be writing to `/var/lib/public/images`.","body":"Your docker config maps the directory <code>masterclass-photos</code> on your host to <code>&#47;var&#47;lib&#47;public&#47;images</code> in the docker container.  For the container to write a file that you&#39;ll then see on your host, it has to write to <code>&#47;var&#47;lib&#47;public&#47;images</code>, or some subdir of that dir.  I don&#39;t see that you&#39;re doing that.  I see that you refer to <code>masterclass-photos</code> in your code, but if that code is running in the container, that name has nothing to do with the fact that a directory with that name on the host is mapped to <code>&#47;var&#47;lib&#47;public&#47;images</code>.  You need to be writing to <code>&#47;var&#47;lib&#47;public&#47;images</code>."},{"owner":{"account_id":22957308,"reputation":39,"user_id":17655569,"display_name":"Zakhar Borisov"},"score":0,"creation_date":1669182393,"post_id":74541736,"comment_id":131583774,"body_markdown":"Should I make some changes like this? \n@Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        exposeDirectory(&quot;/var/lib/public/imagess&quot;, registry);\n    }","body":"Should I make some changes like this?  @Override     public void addResourceHandlers(ResourceHandlerRegistry registry) {         exposeDirectory(&quot;/var/lib/public/imagess&quot;, registry);     }"}],"owner":{"account_id":22957308,"reputation":39,"user_id":17655569,"display_name":"Zakhar Borisov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669250031,"creation_date":1669176933,"question_id":74541736,"body_markdown":"I have an apllication where user can upload photos to server (in localhost without Docker it works without problems, I can open images via link in borwser without autentication, authorization).\r\nWhen I&#39;m starting my application on Docker, when user try to upload photo to server, the photo uploaded only in container to folder `masterclass-photos`. And the folder `/var/lib/public/images` where I expecting to see a photo - is empty.\r\n\r\n**How to configure docker to have access to photos just like when running on localhost?**\r\n\r\nProject structure. Folders `masterclass-photos` and `motherforum-data` are created by docker.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAlso I have a logs:\r\n\r\n    2022-11-23 12:18:31 java.net.UnknownHostException: masterclass-photos\r\n    2022-11-23 12:18:31     at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567) ~[na:na]\r\n    2022-11-23 12:18:31     at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\n    2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.doConnect(FtpClient.java:1045) ~[na:na]\r\n    2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.tryConnect(FtpClient.java:1010) ~[na:na]\r\n    2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.connect(FtpClient.java:1102) ~[na:na]\r\n    2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.connect(FtpClient.java:1088) ~[na:na]\r\n    ...\r\n    ...\r\n    a lot of line of stacktrace\r\n    ru.rcitsakha.motherforum.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:73) ~[classes!/:1.0-SNAPSHOT]\r\n    ...\r\n    ...\r\n    a lot of line of stacktrace \r\n\r\n\r\nCustomAuthorizationFilter class, which are figured in logs\r\n\r\n    package ru.rcitsakha.motherforum.filter;\r\n    \r\n    import com.auth0.jwt.JWT;\r\n    import com.auth0.jwt.JWTVerifier;\r\n    import com.auth0.jwt.algorithms.Algorithm;\r\n    import com.auth0.jwt.interfaces.DecodedJWT;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import static java.util.Arrays.stream;\r\n    import static org.springframework.http.HttpHeaders.AUTHORIZATION;\r\n    import static org.springframework.http.HttpStatus.FORBIDDEN;\r\n    import static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\r\n    \r\n    @Slf4j\r\n    public class CustomAuthorizationFilter extends OncePerRequestFilter {\r\n        private String jwtSecret;\r\n    \r\n        public void setJwtSecret(String jwtSecret) {\r\n            this.jwtSecret = jwtSecret;\r\n        }\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request,\r\n                                        HttpServletResponse response,\r\n                                        FilterChain filterChain) throws ServletException, IOException {\r\n    \r\n            if (request.getServletPath().equals(&quot;/api/login&quot;) || request.getServletPath().equals(&quot;/api/token/refresh/**&quot;)) {\r\n                filterChain.doFilter(request, response);\r\n            } else {\r\n                String authorizationHeader = request.getHeader(AUTHORIZATION);\r\n                if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n                    try {\r\n                        String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\r\n                        Algorithm algorithm = Algorithm.HMAC256(jwtSecret.getBytes()); // should be same with authenticationFilter\r\n                        JWTVerifier verifier = JWT.require(algorithm).build();\r\n                        DecodedJWT decodedJWT = verifier.verify(token);\r\n                        String username = decodedJWT.getSubject();\r\n                        String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\r\n                        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n                        stream(roles).forEach(role -&gt; {\r\n                            authorities.add(new SimpleGrantedAuthority(role));\r\n                        });\r\n                        UsernamePasswordAuthenticationToken authenticationToken =\r\n                                new UsernamePasswordAuthenticationToken(username, null, authorities);\r\n                        SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n                        filterChain.doFilter(request, response);\r\n                    } catch (Exception exception) {\r\n                        log.error(&quot;Error logging in: {}&quot;, exception.getMessage());\r\n                        response.setHeader(&quot;error&quot;, exception.getMessage());\r\n                        response.setStatus(FORBIDDEN.value());\r\n    \r\n                        Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\r\n                        error.put(&quot;error_message&quot;, exception.getMessage());\r\n                        response.setContentType(APPLICATION_JSON_VALUE);\r\n                        new ObjectMapper().writeValue(response.getOutputStream(), error);\r\n                    }\r\n                } else {\r\n                    filterChain.doFilter(request, response); // line 73 from logs\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\ndocker-compose.yml\r\n\r\n    services:\r\n      postgres:\r\n        image: &#39;postgres:15&#39;\r\n        container_name: &#39;java-postgres&#39;\r\n        env_file:\r\n          - config/.envfile\r\n        volumes:\r\n          - ./motherforum-data:/var/lib/postgresql/data\r\n    \r\n    \r\n      app:\r\n        build: ./\r\n        container_name: &#39;java-app&#39;\r\n        environment:\r\n          - &#39;PORT=8080&#39;\r\n          - &#39;SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/motherforumdb&#39;\r\n        ports:\r\n          - 8080:8080\r\n        depends_on:\r\n          - postgres\r\n        volumes:\r\n          - ./masterclass-photos:/var/lib/public/images\r\n\r\nDockerfile\r\n\r\n    FROM openjdk:17\r\n    ADD /target/mother-forum-1.0-SNAPSHOT.jar backend.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/backend.jar&quot;]\r\n\r\nHere I setting resource handler\r\n\r\n    package ru.rcitsakha.motherforum.config;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    @Configuration\r\n    public class MvcConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            exposeDirectory(&quot;masterclass-photos&quot;, registry);\r\n        }\r\n    \r\n        private void exposeDirectory(String dirName, ResourceHandlerRegistry registry) {\r\n            Path uploadDir = Paths.get(dirName);\r\n            String uploadPath = uploadDir.toFile().getAbsolutePath();\r\n    \r\n            if (dirName.startsWith(&quot;../&quot;)) {\r\n                dirName = dirName.replace(&quot;../&quot;, &quot;&quot;);\r\n            }\r\n    \r\n            registry.addResourceHandler(&quot;/&quot; + dirName + &quot;/**&quot;)\r\n                    .addResourceLocations(&quot;file:/&quot; + uploadPath + &quot;/&quot;);\r\n        }\r\n    }\r\n\r\n\r\nPostman request (), where in JSON body we can see the link of image. This endpoint don&#39;t require JWT because of `http.authorizeHttpRequests().antMatchers(&quot;/api/login/**&quot;, &quot;/token/refresh&quot;, &quot;api/motherforum/**&quot;).permitAll();`\r\n\r\n[![][2]][2]\r\n\r\nFolder `masterclass-photos/3` don&#39;t creating on server file system. But it is created inside container.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAnd the folder `/var/lib/public/images`, where I expect see the foto is empty\r\n\r\n[![enter image description here][4]][4]\r\n\r\nMount of my java application container\r\n\r\n     &quot;Mounts&quot;: [\r\n                {\r\n                    &quot;Type&quot;: &quot;bind&quot;,\r\n                    &quot;Source&quot;: &quot;C:\\\\ProdApps\\\\mother-forum\\\\masterclass-photos&quot;,\r\n                    &quot;Destination&quot;: &quot;/var/lib/public/images&quot;,\r\n                    &quot;Mode&quot;: &quot;rw&quot;,\r\n                    &quot;RW&quot;: true,\r\n                    &quot;Propagation&quot;: &quot;rprivate&quot;\r\n                }\r\n            ] \r\n\r\nMasterClass class, which contains path to photos. Maybe I need change here the method `getPhotosImagePath()` ?\r\n\r\n    package ru.rcitsakha.motherforum.model;\r\n    \r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import lombok.*;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Pattern;\r\n    import java.util.ArrayList;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;masterclass&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class MasterClass {\r\n    \r\n        private static final String DATE_TIME_FORMATTER = &quot;dd.MM.yyyy HH:mm&quot;;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        private String title;\r\n    \r\n        @Column(length = 2000)\r\n        private String description;\r\n    \r\n        private String address;\r\n    \r\n        private String dateTime;\r\n    \r\n        private boolean isExpired;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY,\r\n                cascade = {\r\n                        CascadeType.PERSIST,\r\n                        CascadeType.MERGE\r\n                })\r\n        @JoinTable(\r\n                name = &quot;masterclass_mother&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;masterclass_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;mother_id&quot;)\r\n        )\r\n        @ToString.Exclude\r\n        @JsonIgnore\r\n        private Set&lt;Mother&gt; mothers = new HashSet&lt;&gt;();\r\n    \r\n        public void addMother(Mother mother) {\r\n            this.mothers.add(mother);\r\n            mother.getMasterClasses().add(this);\r\n        }\r\n    \r\n        @Column(length = 128)\r\n        @ElementCollection\r\n        private List&lt;String&gt; photos = new ArrayList&lt;&gt;();\r\n    \r\n        public void removeMother(long motherId) {\r\n            Mother mother = this.mothers.stream()\r\n                    .filter(m -&gt; m.getId() == motherId)\r\n                    .findFirst()\r\n                    .orElse(null);\r\n    \r\n            if (mother != null) {\r\n                this.mothers.remove(mother);\r\n                mother.getMasterClasses().remove(this);\r\n            }\r\n        }\r\n    \r\n        public void copy(MasterClass masterClass) {\r\n            this.title = masterClass.title;\r\n            this.description = masterClass.description;\r\n            this.address = masterClass.address;\r\n            this.dateTime = masterClass.dateTime;\r\n            this.isExpired = masterClass.isExpired;\r\n        }\r\n    \r\n        @Transient\r\n        public List&lt;String&gt; getPhotosImagePath() {\r\n            if (photos == null) {\r\n                return null;\r\n            }\r\n            return photos.stream()\r\n                    .map(photoFileName -&gt; &quot;/masterclass-photos/&quot; + id + &quot;/&quot; + photoFileName)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/CkTVF.png\r\n  [2]: https://i.stack.imgur.com/b8dUD.png\r\n  [3]: https://i.stack.imgur.com/FbAX2.png\r\n  [4]: https://i.stack.imgur.com/UOirY.png","title":"How to configure Docker volumes in SpringBoot application","body":"<p>I have an apllication where user can upload photos to server (in localhost without Docker it works without problems, I can open images via link in borwser without autentication, authorization).\nWhen I'm starting my application on Docker, when user try to upload photo to server, the photo uploaded only in container to folder <code>masterclass-photos</code>. And the folder <code>/var/lib/public/images</code> where I expecting to see a photo - is empty.</p>\n<p><strong>How to configure docker to have access to photos just like when running on localhost?</strong></p>\n<p>Project structure. Folders <code>masterclass-photos</code> and <code>motherforum-data</code> are created by docker.\n<a href=\"https://i.stack.imgur.com/CkTVF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CkTVF.png\" alt=\"enter image description here\" /></a></p>\n<p>Also I have a logs:</p>\n<pre><code>2022-11-23 12:18:31 java.net.UnknownHostException: masterclass-photos\n2022-11-23 12:18:31     at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567) ~[na:na]\n2022-11-23 12:18:31     at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\n2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.doConnect(FtpClient.java:1045) ~[na:na]\n2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.tryConnect(FtpClient.java:1010) ~[na:na]\n2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.connect(FtpClient.java:1102) ~[na:na]\n2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.connect(FtpClient.java:1088) ~[na:na]\n...\n...\na lot of line of stacktrace\nru.rcitsakha.motherforum.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:73) ~[classes!/:1.0-SNAPSHOT]\n...\n...\na lot of line of stacktrace \n</code></pre>\n<p>CustomAuthorizationFilter class, which are figured in logs</p>\n<pre><code>package ru.rcitsakha.motherforum.filter;\n\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.JWTVerifier;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport com.auth0.jwt.interfaces.DecodedJWT;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport static java.util.Arrays.stream;\nimport static org.springframework.http.HttpHeaders.AUTHORIZATION;\nimport static org.springframework.http.HttpStatus.FORBIDDEN;\nimport static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\n\n@Slf4j\npublic class CustomAuthorizationFilter extends OncePerRequestFilter {\n    private String jwtSecret;\n\n    public void setJwtSecret(String jwtSecret) {\n        this.jwtSecret = jwtSecret;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n                                    HttpServletResponse response,\n                                    FilterChain filterChain) throws ServletException, IOException {\n\n        if (request.getServletPath().equals(&quot;/api/login&quot;) || request.getServletPath().equals(&quot;/api/token/refresh/**&quot;)) {\n            filterChain.doFilter(request, response);\n        } else {\n            String authorizationHeader = request.getHeader(AUTHORIZATION);\n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n                try {\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\n                    Algorithm algorithm = Algorithm.HMAC256(jwtSecret.getBytes()); // should be same with authenticationFilter\n                    JWTVerifier verifier = JWT.require(algorithm).build();\n                    DecodedJWT decodedJWT = verifier.verify(token);\n                    String username = decodedJWT.getSubject();\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\n                    Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n                    stream(roles).forEach(role -&gt; {\n                        authorities.add(new SimpleGrantedAuthority(role));\n                    });\n                    UsernamePasswordAuthenticationToken authenticationToken =\n                            new UsernamePasswordAuthenticationToken(username, null, authorities);\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n                    filterChain.doFilter(request, response);\n                } catch (Exception exception) {\n                    log.error(&quot;Error logging in: {}&quot;, exception.getMessage());\n                    response.setHeader(&quot;error&quot;, exception.getMessage());\n                    response.setStatus(FORBIDDEN.value());\n\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\n                    error.put(&quot;error_message&quot;, exception.getMessage());\n                    response.setContentType(APPLICATION_JSON_VALUE);\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\n                }\n            } else {\n                filterChain.doFilter(request, response); // line 73 from logs\n            }\n        }\n    }\n}\n</code></pre>\n<p>docker-compose.yml</p>\n<pre><code>services:\n  postgres:\n    image: 'postgres:15'\n    container_name: 'java-postgres'\n    env_file:\n      - config/.envfile\n    volumes:\n      - ./motherforum-data:/var/lib/postgresql/data\n\n\n  app:\n    build: ./\n    container_name: 'java-app'\n    environment:\n      - 'PORT=8080'\n      - 'SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/motherforumdb'\n    ports:\n      - 8080:8080\n    depends_on:\n      - postgres\n    volumes:\n      - ./masterclass-photos:/var/lib/public/images\n</code></pre>\n<p>Dockerfile</p>\n<pre><code>FROM openjdk:17\nADD /target/mother-forum-1.0-SNAPSHOT.jar backend.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/backend.jar&quot;]\n</code></pre>\n<p>Here I setting resource handler</p>\n<pre><code>package ru.rcitsakha.motherforum.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\n@Configuration\npublic class MvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        exposeDirectory(&quot;masterclass-photos&quot;, registry);\n    }\n\n    private void exposeDirectory(String dirName, ResourceHandlerRegistry registry) {\n        Path uploadDir = Paths.get(dirName);\n        String uploadPath = uploadDir.toFile().getAbsolutePath();\n\n        if (dirName.startsWith(&quot;../&quot;)) {\n            dirName = dirName.replace(&quot;../&quot;, &quot;&quot;);\n        }\n\n        registry.addResourceHandler(&quot;/&quot; + dirName + &quot;/**&quot;)\n                .addResourceLocations(&quot;file:/&quot; + uploadPath + &quot;/&quot;);\n    }\n}\n</code></pre>\n<p>Postman request (), where in JSON body we can see the link of image. This endpoint don't require JWT because of <code>http.authorizeHttpRequests().antMatchers(&quot;/api/login/**&quot;, &quot;/token/refresh&quot;, &quot;api/motherforum/**&quot;).permitAll();</code></p>\n<p><a href=\"https://i.stack.imgur.com/b8dUD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b8dUD.png\" alt=\"\" /></a></p>\n<p>Folder <code>masterclass-photos/3</code> don't creating on server file system. But it is created inside container.</p>\n<p><a href=\"https://i.stack.imgur.com/FbAX2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FbAX2.png\" alt=\"enter image description here\" /></a></p>\n<p>And the folder <code>/var/lib/public/images</code>, where I expect see the foto is empty</p>\n<p><a href=\"https://i.stack.imgur.com/UOirY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UOirY.png\" alt=\"enter image description here\" /></a></p>\n<p>Mount of my java application container</p>\n<pre><code> &quot;Mounts&quot;: [\n            {\n                &quot;Type&quot;: &quot;bind&quot;,\n                &quot;Source&quot;: &quot;C:\\\\ProdApps\\\\mother-forum\\\\masterclass-photos&quot;,\n                &quot;Destination&quot;: &quot;/var/lib/public/images&quot;,\n                &quot;Mode&quot;: &quot;rw&quot;,\n                &quot;RW&quot;: true,\n                &quot;Propagation&quot;: &quot;rprivate&quot;\n            }\n        ] \n</code></pre>\n<p>MasterClass class, which contains path to photos. Maybe I need change here the method <code>getPhotosImagePath()</code> ?</p>\n<pre><code>package ru.rcitsakha.motherforum.model;\n\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.*;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Pattern;\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n@Entity\n@Table(name = &quot;masterclass&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\npublic class MasterClass {\n\n    private static final String DATE_TIME_FORMATTER = &quot;dd.MM.yyyy HH:mm&quot;;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String title;\n\n    @Column(length = 2000)\n    private String description;\n\n    private String address;\n\n    private String dateTime;\n\n    private boolean isExpired;\n\n    @ManyToMany(fetch = FetchType.LAZY,\n            cascade = {\n                    CascadeType.PERSIST,\n                    CascadeType.MERGE\n            })\n    @JoinTable(\n            name = &quot;masterclass_mother&quot;,\n            joinColumns = @JoinColumn(name = &quot;masterclass_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;mother_id&quot;)\n    )\n    @ToString.Exclude\n    @JsonIgnore\n    private Set&lt;Mother&gt; mothers = new HashSet&lt;&gt;();\n\n    public void addMother(Mother mother) {\n        this.mothers.add(mother);\n        mother.getMasterClasses().add(this);\n    }\n\n    @Column(length = 128)\n    @ElementCollection\n    private List&lt;String&gt; photos = new ArrayList&lt;&gt;();\n\n    public void removeMother(long motherId) {\n        Mother mother = this.mothers.stream()\n                .filter(m -&gt; m.getId() == motherId)\n                .findFirst()\n                .orElse(null);\n\n        if (mother != null) {\n            this.mothers.remove(mother);\n            mother.getMasterClasses().remove(this);\n        }\n    }\n\n    public void copy(MasterClass masterClass) {\n        this.title = masterClass.title;\n        this.description = masterClass.description;\n        this.address = masterClass.address;\n        this.dateTime = masterClass.dateTime;\n        this.isExpired = masterClass.isExpired;\n    }\n\n    @Transient\n    public List&lt;String&gt; getPhotosImagePath() {\n        if (photos == null) {\n            return null;\n        }\n        return photos.stream()\n                .map(photoFileName -&gt; &quot;/masterclass-photos/&quot; + id + &quot;/&quot; + photoFileName)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n"},{"tags":["java","netbeans","ide"],"comments":[{"owner":{"account_id":2666382,"reputation":745,"user_id":2304741,"accept_rate":75,"display_name":"Sandeep Singh"},"score":0,"creation_date":1519120828,"post_id":48882424,"comment_id":84769056,"body_markdown":"I think you are looking for [this](https://stackoverflow.com/questions/3251202/how-to-open-the-projects-panel-in-netbeans) perhaps.","body":"I think you are looking for <a href=\"https://stackoverflow.com/questions/3251202/how-to-open-the-projects-panel-in-netbeans\">this</a> perhaps."},{"owner":{"account_id":1413412,"reputation":215,"user_id":1339574,"accept_rate":60,"display_name":"Qasim"},"score":0,"creation_date":1519120899,"post_id":48882424,"comment_id":84769094,"body_markdown":"Already tried this. @SandeepRandhawa","body":"Already tried this. @SandeepRandhawa"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1519142993,"post_id":48882424,"comment_id":84784119,"body_markdown":"A few thoughts: [1] Instead of **cmd 1** use **Window -&gt; Projects** to open the **Projects** window. [2] Create a new project. That should open the **Projects** window if it is not already open. [3] If you still don&#39;t have a **Projects** window then open the NetBeans log file using **View -&gt; IDE Log** and look for any relevant error messages.","body":"A few thoughts: [1] Instead of <b>cmd 1</b> use <b>Window -&gt; Projects</b> to open the <b>Projects</b> window. [2] Create a new project. That should open the <b>Projects</b> window if it is not already open. [3] If you still don&#39;t have a <b>Projects</b> window then open the NetBeans log file using <b>View -&gt; IDE Log</b> and look for any relevant error messages."}],"answers":[{"tags":[],"owner":{"account_id":13591130,"reputation":81,"user_id":9804398,"display_name":"rocko"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1526539889,"creation_date":1526539889,"answer_id":50385094,"question_id":48882424,"body_markdown":"Have you tried running it with java 8? If you&#39;re using java 9 or 10, you don&#39;t get a Projects window because NB 8.2 isn&#39;t compatible with them.\r\n\r\nThere&#39;s more info at https://stackoverflow.com/questions/49502600/how-can-i-install-netbeans-with-jdk-10.","title":"Netbeans IDE Project Window not visible","body":"<p>Have you tried running it with java 8? If you're using java 9 or 10, you don't get a Projects window because NB 8.2 isn't compatible with them.</p>\n\n<p>There's more info at <a href=\"https://stackoverflow.com/questions/49502600/how-can-i-install-netbeans-with-jdk-10\">How can I install Netbeans with JDK 10</a>.</p>\n"},{"tags":[],"owner":{"account_id":4727658,"reputation":1200,"user_id":3824100,"accept_rate":100,"display_name":"fury.slay"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1529494691,"creation_date":1529494691,"answer_id":50947338,"question_id":48882424,"body_markdown":"This is a known issue in Netbeans 8.2. It happened to me when I upgraded my Ubuntu from 16.04 to 18.04. The root cause is that the java version was upgraded to 11 along with the OS.\r\n\r\nYou can fix this by doing one of the following:\r\n\r\n - Change the default jdk/jre version in the OS to `java 8`.\r\n - Change the jdk version to 8 in Netbeans by changing its configuration (etc/netbeans.conf). The configuration name is `netbeans_jdkhome`","title":"Netbeans IDE Project Window not visible","body":"<p>This is a known issue in Netbeans 8.2. It happened to me when I upgraded my Ubuntu from 16.04 to 18.04. The root cause is that the java version was upgraded to 11 along with the OS.</p>\n\n<p>You can fix this by doing one of the following:</p>\n\n<ul>\n<li>Change the default jdk/jre version in the OS to <code>java 8</code>.</li>\n<li>Change the jdk version to 8 in Netbeans by changing its configuration (etc/netbeans.conf). The configuration name is <code>netbeans_jdkhome</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10981554,"reputation":1,"user_id":8201058,"display_name":"naturallucky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600583249,"creation_date":1600582841,"answer_id":63976114,"question_id":48882424,"body_markdown":"like @rocko say, (I don&#39;t have &#39;add comment&#39; right yet, so answer this frame )\r\nI encounter same problem in NB 12.0 .\r\n\r\n\r\n**DEAL)   ...my action**\r\n\r\nI changed JDK1.8 → JDK 11 setting in netbeans/etc/netbeans.conf\r\nAfter launch NB,  then open new project. \r\nProject tree appeared and usable again.\r\n\r\n    #netbeans_jdkhome=&quot;C:\\xxx\\jdk1.8.0_242&quot;\r\n    netbeans_jdkhome=&quot;C:\\xxx\\jdk11.0.3_7&quot;\r\n\r\nEnvironment\r\n\r\n - win10  \r\n - corretto\r\n \r\n\r\n","title":"Netbeans IDE Project Window not visible","body":"<p>like @rocko say, (I don't have 'add comment' right yet, so answer this frame )\nI encounter same problem in NB 12.0 .</p>\n<p><strong>DEAL)   ...my action</strong></p>\n<p>I changed JDK1.8 → JDK 11 setting in netbeans/etc/netbeans.conf\nAfter launch NB,  then open new project.\nProject tree appeared and usable again.</p>\n<pre><code>#netbeans_jdkhome=&quot;C:\\xxx\\jdk1.8.0_242&quot;\nnetbeans_jdkhome=&quot;C:\\xxx\\jdk11.0.3_7&quot;\n</code></pre>\n<p>Environment</p>\n<ul>\n<li>win10</li>\n<li>corretto</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7115642,"reputation":168,"user_id":5442050,"display_name":"Kiryamwibo Yenusu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669249865,"creation_date":1669236221,"answer_id":74552781,"question_id":48882424,"body_markdown":"To see projects or files when they disappear on NetBeans, just follow the steps in the image below.\r\n\r\n\r\n![sample_image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uvZSh.png","title":"Netbeans IDE Project Window not visible","body":"<p>To see projects or files when they disappear on NetBeans, just follow the steps in the image below.</p>\n<p><img src=\"https://i.stack.imgur.com/uvZSh.png\" alt=\"sample_image\" /></p>\n"}],"owner":{"account_id":1413412,"reputation":215,"user_id":1339574,"accept_rate":60,"display_name":"Qasim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19326,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1669249865,"creation_date":1519120735,"question_id":48882424,"body_markdown":"The project window within Netbeans IDE is not being displayed. I tried bunch of different things, but the `Project` window does not open at all.\r\n\r\nThings I already tried:\r\n\r\n - Tried with multiple version of Netbeans and JDE, currently using Netbeans IDE 8.2 on MAC.\r\n - Tried to reset windows using `Reset Windows`, `cmd 1`, open existing project,\r\n   create new project. But still the project window does not open within\r\n   Netbeans IDE.\r\n\r\nI made a clean install on MAC with different version of Netbeans, but the issue remains in all. Any suggestion would be helpful.  ","title":"Netbeans IDE Project Window not visible","body":"<p>The project window within Netbeans IDE is not being displayed. I tried bunch of different things, but the <code>Project</code> window does not open at all.</p>\n\n<p>Things I already tried:</p>\n\n<ul>\n<li>Tried with multiple version of Netbeans and JDE, currently using Netbeans IDE 8.2 on MAC.</li>\n<li>Tried to reset windows using <code>Reset Windows</code>, <code>cmd 1</code>, open existing project,\ncreate new project. But still the project window does not open within\nNetbeans IDE.</li>\n</ul>\n\n<p>I made a clean install on MAC with different version of Netbeans, but the issue remains in all. Any suggestion would be helpful.  </p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1669247990,"post_id":74554191,"comment_id":131604001,"body_markdown":"I don&#39;t see a `List&lt;Item&gt; itemList`  in `Room`, have you added that yet?","body":"I don&#39;t see a <code>List&lt;Item&gt; itemList</code>  in <code>Room</code>, have you added that yet?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1669248070,"post_id":74554191,"comment_id":131604012,"body_markdown":"It seems to me you&#39;re confusing things that exist in source code, like &quot;names of variables&quot;, with things that exist at run time, like &quot;the particular text contained in a string right now&quot;.","body":"It seems to me you&#39;re confusing things that exist in source code, like &quot;names of variables&quot;, with things that exist at run time, like &quot;the particular text contained in a string right now&quot;."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1669248100,"post_id":74554191,"comment_id":131604023,"body_markdown":"`getListName` returns a simple String that you assigned at the `Room`&#39;s creation. Create another method like `getItemList` that returns the item list as a String.","body":"<code>getListName</code> returns a simple String that you assigned at the <code>Room</code>&#39;s creation. Create another method like <code>getItemList</code> that returns the item list as a String."},{"owner":{"account_id":16843783,"reputation":19,"user_id":12178509,"display_name":"bruh"},"score":0,"creation_date":1669248212,"post_id":74554191,"comment_id":131604057,"body_markdown":"yh thats the problem, i cant figure out how to use the returned name of the list to then print out the item list","body":"yh thats the problem, i cant figure out how to use the returned name of the list to then print out the item list"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669249079,"creation_date":1669249079,"answer_id":74554324,"question_id":74554191,"body_markdown":"You create a `ArrayList&lt;Item&gt; assemblyHallList`, then you create\r\n\r\n    Room assemblyHall = new Room(&quot;in the assembly hall&quot;, &quot;assemblyHallList&quot;);\r\n\r\nAnd now you expect that room to have some reference to the List.\r\n\r\nThat&#39;s not how this works. The Room now has the `String` value &quot;assemblyHallList&quot; in the `listName` field. But there is no reference to the List. And since `assemblyHallList` is a local variable in your `createRooms` method, there&#39;s no way of resolving it.\r\n\r\nThe Solution is this: Don&#39;t assign the name of the List variable to the Room (why would that work?), instead assign the List itself:\r\n\r\n    List&lt;Item&gt; assemblyHallList = ...;\r\n    Room assemblyHall = new Room(&quot;in the assembly hall&quot;, assemblyHallList);\r\n\r\nOf course you need to change the type of the constructor&#39;s parameter and Room&#39;s  `listName` field to `List&lt;Item&gt;`.\r\n\r\n\r\n\r\n","title":"How to print an arrayList using a variable containing the arrayList name","body":"<p>You create a <code>ArrayList&lt;Item&gt; assemblyHallList</code>, then you create</p>\n<pre><code>Room assemblyHall = new Room(&quot;in the assembly hall&quot;, &quot;assemblyHallList&quot;);\n</code></pre>\n<p>And now you expect that room to have some reference to the List.</p>\n<p>That's not how this works. The Room now has the <code>String</code> value &quot;assemblyHallList&quot; in the <code>listName</code> field. But there is no reference to the List. And since <code>assemblyHallList</code> is a local variable in your <code>createRooms</code> method, there's no way of resolving it.</p>\n<p>The Solution is this: Don't assign the name of the List variable to the Room (why would that work?), instead assign the List itself:</p>\n<pre><code>List&lt;Item&gt; assemblyHallList = ...;\nRoom assemblyHall = new Room(&quot;in the assembly hall&quot;, assemblyHallList);\n</code></pre>\n<p>Of course you need to change the type of the constructor's parameter and Room's  <code>listName</code> field to <code>List&lt;Item&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":20044142,"reputation":65,"user_id":14694240,"display_name":"Metahuman Flash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669249638,"creation_date":1669249638,"answer_id":74554361,"question_id":74554191,"body_markdown":"To answer your question, you can&#39;t just directly access a variable from a string containing its name. Technically, you could make a `static Hashmap&lt;String, ArrayList&lt;Item&gt;&gt;` to keep track of all the lists and access them by their name.\r\n\r\nHowever, I don&#39;t see why you couldn&#39;t just make the list itself part of the constructor and then store the list as an instance variable of the Room.\r\n\r\nSomething like this would work better:\r\n```java\r\nArrayList&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\nitems.add(new Item(&quot;Piece of paper&quot;, true, 1));\r\nRoom room = new Room(&quot;best room&quot;, items);\r\n```\r\n```java\r\npublic class Room  {\r\n    private String description;\r\n    private ArrayList&lt;Item&gt; items;\r\n    private HashMap&lt;String, Room&gt; exits;\r\n\r\n    public Room(String description, ArrayList&lt;Item&gt; items) \r\n    {\r\n        this.description = description;\r\n        this.items = items;\r\n        exits = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    // Other members not shown\r\n}\r\n```\r\n","title":"How to print an arrayList using a variable containing the arrayList name","body":"<p>To answer your question, you can't just directly access a variable from a string containing its name. Technically, you could make a <code>static Hashmap&lt;String, ArrayList&lt;Item&gt;&gt;</code> to keep track of all the lists and access them by their name.</p>\n<p>However, I don't see why you couldn't just make the list itself part of the constructor and then store the list as an instance variable of the Room.</p>\n<p>Something like this would work better:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Item&gt; items = new ArrayList&lt;&gt;();\nitems.add(new Item(&quot;Piece of paper&quot;, true, 1));\nRoom room = new Room(&quot;best room&quot;, items);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Room  {\n    private String description;\n    private ArrayList&lt;Item&gt; items;\n    private HashMap&lt;String, Room&gt; exits;\n\n    public Room(String description, ArrayList&lt;Item&gt; items) \n    {\n        this.description = description;\n        this.items = items;\n        exits = new HashMap&lt;&gt;();\n    }\n\n    // Other members not shown\n}\n</code></pre>\n"}],"owner":{"account_id":16843783,"reputation":19,"user_id":12178509,"display_name":"bruh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74554361,"answer_count":2,"score":-1,"last_activity_date":1669249638,"creation_date":1669247773,"question_id":74554191,"body_markdown":"I know this sounds a bit stupid but I am extending a text-based game and I&#39;m trying to figure out a way to print out the items that are in the room. I have made an arrayList for the room and added and &quot;Item&quot; into it by using a separate class called Item. \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    public class Item\r\n    {\r\n        private String itemName;\r\n        private Boolean pickUp;\r\n        private Integer itemWeight;\r\n    \r\n        /**\r\n         * Constructor for objects of class Items\r\n         */\r\n        public Item(String itemName, Boolean pickUp, Integer itemWeight)\r\n        {\r\n            this.itemName = itemName;\r\n            this.pickUp = pickUp;\r\n            this.itemWeight = itemWeight;\r\n        }\r\n    \r\n        /**\r\n         * Returns the name of the item\r\n         */\r\n        public String getItemName()\r\n        {\r\n            return itemName;\r\n        }\r\n        \r\n        /**\r\n         * Returns the pickUp ability of the item\r\n         */\r\n        public Boolean getPickUp()\r\n        {\r\n            return pickUp;\r\n        }\r\n        \r\n        /**\r\n         * Returns the weight of the item\r\n         */\r\n        public Integer getItemWeight()\r\n        {\r\n            return itemWeight;\r\n        }\r\n    }\r\n\r\nThe part I&#39;m stuck on now is printing those elements out when entering the room. Theres a function in the code that keeps track of the current room and I am trying to use that function to then print out the elements of that corresponding rooms arrayList. Each room in the game is an object from the &quot;Room&quot; class.\r\n\r\n    public class Room  {\r\n        private String description;\r\n        private String listName;\r\n        private HashMap&lt;String, Room&gt; exits;        // stores exits of this room.\r\n   \r\n        public Room(String description, String listName) \r\n        {\r\n            this.description = description;\r\n            this.listName = listName;\r\n            exits = new HashMap&lt;&gt;();\r\n        }\r\n\r\n        public String getListName()\r\n        {\r\n            return listName;\r\n        }\r\n        private void createRooms()\r\n        {\r\n            Room playground, assemblyHall, groundHallway, lunchHall, ITRoom, groundToilets, headteacherOffice, footballCage, stairs, groundClassroom, firstFloorClassroom, exitGate;\r\n          \r\n            // create the rooms\r\n            assemblyHall = new Room(&quot;in the assembly hall&quot;, &quot;assemblyHallList&quot;);\r\n            playground = new Room(&quot;in the main playground of the school&quot;, &quot;playgroundList&quot;);\r\n            .......\r\n            currentRoom = assemblyHall;\r\n            ArrayList&lt;Item&gt; assemblyHallList = new ArrayList&lt;Item&gt;();\r\n            assemblyHallList.add(new Item(&quot;Piece of paper&quot;, true, 1));\r\n\r\nThese last 2 lines are an example of what I will be doing for every room with more items. I feel like I am going about this the wrong way but this was the only idea I had. The problem I have is printing out the elements when I enter a room as I would need to call on the method to get the name of the arrayList then use that name to then access the list and print out the elements in it but I have no idea how to use the string to accesss the array as I would have to use\r\n\r\n    currentRoom.getListName()\r\n\r\nto get the name of the list but when I try to print it out it prints the name itself, not the elements. Any help is appreciated and I can send more parts of the class if needed. Didn&#39;t include it all as its very big and a lot of it is irrelevant to my problem\r\n\r\n\r\n\r\n","title":"How to print an arrayList using a variable containing the arrayList name","body":"<p>I know this sounds a bit stupid but I am extending a text-based game and I'm trying to figure out a way to print out the items that are in the room. I have made an arrayList for the room and added and &quot;Item&quot; into it by using a separate class called Item.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\npublic class Item\n{\n    private String itemName;\n    private Boolean pickUp;\n    private Integer itemWeight;\n\n    /**\n     * Constructor for objects of class Items\n     */\n    public Item(String itemName, Boolean pickUp, Integer itemWeight)\n    {\n        this.itemName = itemName;\n        this.pickUp = pickUp;\n        this.itemWeight = itemWeight;\n    }\n\n    /**\n     * Returns the name of the item\n     */\n    public String getItemName()\n    {\n        return itemName;\n    }\n    \n    /**\n     * Returns the pickUp ability of the item\n     */\n    public Boolean getPickUp()\n    {\n        return pickUp;\n    }\n    \n    /**\n     * Returns the weight of the item\n     */\n    public Integer getItemWeight()\n    {\n        return itemWeight;\n    }\n}\n</code></pre>\n<p>The part I'm stuck on now is printing those elements out when entering the room. Theres a function in the code that keeps track of the current room and I am trying to use that function to then print out the elements of that corresponding rooms arrayList. Each room in the game is an object from the &quot;Room&quot; class.</p>\n<pre><code>public class Room  {\n    private String description;\n    private String listName;\n    private HashMap&lt;String, Room&gt; exits;        // stores exits of this room.\n\n    public Room(String description, String listName) \n    {\n        this.description = description;\n        this.listName = listName;\n        exits = new HashMap&lt;&gt;();\n    }\n\n    public String getListName()\n    {\n        return listName;\n    }\n    private void createRooms()\n    {\n        Room playground, assemblyHall, groundHallway, lunchHall, ITRoom, groundToilets, headteacherOffice, footballCage, stairs, groundClassroom, firstFloorClassroom, exitGate;\n      \n        // create the rooms\n        assemblyHall = new Room(&quot;in the assembly hall&quot;, &quot;assemblyHallList&quot;);\n        playground = new Room(&quot;in the main playground of the school&quot;, &quot;playgroundList&quot;);\n        .......\n        currentRoom = assemblyHall;\n        ArrayList&lt;Item&gt; assemblyHallList = new ArrayList&lt;Item&gt;();\n        assemblyHallList.add(new Item(&quot;Piece of paper&quot;, true, 1));\n</code></pre>\n<p>These last 2 lines are an example of what I will be doing for every room with more items. I feel like I am going about this the wrong way but this was the only idea I had. The problem I have is printing out the elements when I enter a room as I would need to call on the method to get the name of the arrayList then use that name to then access the list and print out the elements in it but I have no idea how to use the string to accesss the array as I would have to use</p>\n<pre><code>currentRoom.getListName()\n</code></pre>\n<p>to get the name of the list but when I try to print it out it prints the name itself, not the elements. Any help is appreciated and I can send more parts of the class if needed. Didn't include it all as its very big and a lot of it is irrelevant to my problem</p>\n"},{"tags":["java","apache","maven","tomcat","dspace"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1643884855,"post_id":70962740,"comment_id":125460055,"body_markdown":"Does this answer your question? [Servlet 5.0 JAR throws compile error on javax.servlet.\\* but Servlet 4.0 JAR does not](https://stackoverflow.com/questions/64387472/servlet-5-0-jar-throws-compile-error-on-javax-servlet-but-servlet-4-0-jar-does) (it doesn&#39;t look like this, but the dspace installation instructions list tomcat 7 and 8. You should use Tomcat 8.5 or 9, but likely Tomcat 10 won&#39;t work due to the change from JavaEE to JakartaEE.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64387472/servlet-5-0-jar-throws-compile-error-on-javax-servlet-but-servlet-4-0-jar-does\">Servlet 5.0 JAR throws compile error on javax.servlet.* but Servlet 4.0 JAR does not</a> (it doesn&#39;t look like this, but the dspace installation instructions list tomcat 7 and 8. You should use Tomcat 8.5 or 9, but likely Tomcat 10 won&#39;t work due to the change from JavaEE to JakartaEE."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644080183,"creation_date":1644080183,"answer_id":71000153,"question_id":70962740,"body_markdown":"What you can see from the error message in the browser is that Tomcat itself is running and reachable, however the web application you were trying to reach was not accessible on that URL.\r\n\r\nA better view on what is going on is likely in the Tomcat logfiles which you did not publish.\r\n\r\nSo now I am assuming that nothing went wrong during deployment of the web application. Then I am still wondering whether the URL `http://localhost:8080/dspace` is the correct one to use. \r\n\r\nWould you like to try `http://localhost:8080/xmlui`?","title":"Tomcat send me the message HTTP Status 404 - Not Found","body":"<p>What you can see from the error message in the browser is that Tomcat itself is running and reachable, however the web application you were trying to reach was not accessible on that URL.</p>\n<p>A better view on what is going on is likely in the Tomcat logfiles which you did not publish.</p>\n<p>So now I am assuming that nothing went wrong during deployment of the web application. Then I am still wondering whether the URL <code>http://localhost:8080/dspace</code> is the correct one to use.</p>\n<p>Would you like to try <code>http://localhost:8080/xmlui</code>?</p>\n"}],"owner":{"account_id":20897347,"reputation":11,"user_id":15351215,"display_name":"Julio Lerma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":764,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669247723,"creation_date":1643835372,"question_id":70962740,"body_markdown":"I&#39;m on windows 10, using tomcat, I stalled dspace, and many libraries [enter image description here][1]\r\nthey are located on the folder,dspace\\webapps\r\n\r\nso acorded to the documentation, point 9 and 10: `https://wiki.lyrasis.org/display/DSDOC6x/Installing+DSpace`\r\n\r\nI create a dspace.xml on Tomcat 10.0\\conf\\Catalina\\localhost, that have the next code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&#39;1.0&#39;?&gt;\r\n    &lt;Context\r\n        docBase=&quot;C:/dspace/webapps/xmlui&quot;\r\n        reloadable=&quot;true&quot;\r\n        cachingAllowed=&quot;false&quot;/&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSo, when I start Apache Tomcat, and enter to the direction: http://localhost:8080\r\nI have the next view correctly:\r\n\r\n[enter image description here][2] \r\n\r\nBut if I try to enter to http://localhost:8080/dspace\r\n\r\nI have a 404 page, sorry for the language, it must be in spanish.\r\n[enter image description here][3]\r\n\r\nThat is the problem, I tried to do the option b, copy and paste directly the folders from space to Tomcat webapps, but still having the same error.\r\n\r\nI&#39;m thinking thatthere is no problem with Tomcat, because if I add a Root.xml y can not enter to http://localhost:8080, naturally because is empty.\r\n\r\n  [1]: https://i.stack.imgur.com/Kxowz.png\r\n  [2]: https://i.stack.imgur.com/wOTX8.png\r\n  [3]: https://i.stack.imgur.com/3D9Gd.png","title":"Tomcat send me the message HTTP Status 404 - Not Found","body":"<p>I'm on windows 10, using tomcat, I stalled dspace, and many libraries <a href=\"https://i.stack.imgur.com/Kxowz.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nthey are located on the folder,dspace\\webapps</p>\n<p>so acorded to the documentation, point 9 and 10: <code>https://wiki.lyrasis.org/display/DSDOC6x/Installing+DSpace</code></p>\n<p>I create a dspace.xml on Tomcat 10.0\\conf\\Catalina\\localhost, that have the next code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version='1.0'?&gt;\n&lt;Context\n    docBase=\"C:/dspace/webapps/xmlui\"\n    reloadable=\"true\"\n    cachingAllowed=\"false\"/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>So, when I start Apache Tomcat, and enter to the direction: http://localhost:8080\nI have the next view correctly:</p>\n<p><a href=\"https://i.stack.imgur.com/wOTX8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>But if I try to enter to http://localhost:8080/dspace</p>\n<p>I have a 404 page, sorry for the language, it must be in spanish.\n<a href=\"https://i.stack.imgur.com/3D9Gd.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>That is the problem, I tried to do the option b, copy and paste directly the folders from space to Tomcat webapps, but still having the same error.</p>\n<p>I'm thinking thatthere is no problem with Tomcat, because if I add a Root.xml y can not enter to http://localhost:8080, naturally because is empty.</p>\n"},{"tags":["java","android","bottomnavigationview","android-navigationview","android-bottomnav"],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669245031,"creation_date":1669245031,"answer_id":74553920,"question_id":74056701,"body_markdown":"Use a M3 theme in your app:\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.Material3.DayNight&quot;&gt;\r\n\r\nThen in your layout:\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottomNav_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:theme=&quot;@style/ThemeOverlay.App.BottomNavigationView&quot;\r\n\r\nwith:\r\n    \r\n    &lt;style name=&quot;ThemeOverlay.App.BottomNavigationView&quot; parent=&quot;&quot;&gt;\r\n        &lt;item name=&quot;colorSurface&quot;&gt;#d1e4ff&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryContainer&quot;&gt;#0061a3&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kuptb.png\r\n  [2]: https://i.stack.imgur.com/xDKPR.png","title":"Create an oval shape around Bottom Navigation Bar Icon - Android","body":"<p>Use a M3 theme in your app:</p>\n<pre><code>&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.Material3.DayNight&quot;&gt;\n</code></pre>\n<p>Then in your layout:</p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottomNav_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/ThemeOverlay.App.BottomNavigationView&quot;\n</code></pre>\n<p>with:</p>\n<pre><code>&lt;style name=&quot;ThemeOverlay.App.BottomNavigationView&quot; parent=&quot;&quot;&gt;\n    &lt;item name=&quot;colorSurface&quot;&gt;#d1e4ff&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryContainer&quot;&gt;#0061a3&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Kuptb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kuptb.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/xDKPR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xDKPR.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6202157,"reputation":4947,"user_id":4831534,"accept_rate":70,"display_name":"Michael Okoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74553920,"answer_count":1,"score":1,"last_activity_date":1669245031,"creation_date":1665668109,"question_id":74056701,"body_markdown":"I am trying to create an oval shape around my bottom navigation icon when selected as seen in the screenshot\r\n\r\n![](https://i.stack.imgur.com/k1blq.png)\r\n\r\nbottom_nav_layout.xml\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottomNav_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;56dp&quot;\r\n        android:elevation=&quot;0dp&quot;\r\n        android:paddingLeft=&quot;10dp&quot;\r\n        android:paddingRight=&quot;10dp&quot;\r\n        android:theme=&quot;@style/Widget.BottomNavigationView&quot;\r\n        app:itemIconSize=&quot;20dp&quot;\r\n        app:itemIconTint=&quot;@color/bottom_nav_color&quot;\r\n        app:itemTextColor=&quot;@color/bottom_nav_color&quot;\r\n        app:labelVisibilityMode=&quot;labeled&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\n\r\nbottom_nav_color.xml\r\n\r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n      &lt;item android:state_checked=&quot;true&quot; android:color=&quot;#3375BB&quot; /&gt;\r\n      &lt;item android:state_checked=&quot;false&quot; android:color=&quot;#68788D&quot;/&gt;\r\n     &lt;/selector&gt;\r\n\r\nbottom_nav_menu.xml\r\n\r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n      &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item\r\n         android:id=&quot;@+id/navigation_home&quot;\r\n         android:icon=&quot;@drawable/ic_trustwallet&quot;\r\n         android:title=&quot;Wallet&quot; /&gt;\r\n       &lt;item\r\n        android:id=&quot;@+id/navigation_discover&quot;\r\n        android:icon=&quot;@drawable/ic_discover&quot;\r\n        android:title=&quot;Discover&quot; /&gt;\r\n      &lt;item\r\n        android:id=&quot;@+id/navigation_browser&quot;\r\n        android:icon=&quot;@drawable/ic_browser&quot;\r\n        android:title=&quot;Browser&quot; /&gt;\r\n      &lt;item\r\n        android:id=&quot;@+id/navigation_settings&quot;\r\n        android:icon=&quot;@drawable/ic_paper_settings&quot;\r\n        android:title=&quot;Settings&quot; /&gt;\r\n\r\n\r\n      &lt;/menu&gt;","title":"Create an oval shape around Bottom Navigation Bar Icon - Android","body":"<p>I am trying to create an oval shape around my bottom navigation icon when selected as seen in the screenshot</p>\n<p><img src=\"https://i.stack.imgur.com/k1blq.png\" alt=\"\" /></p>\n<p>bottom_nav_layout.xml</p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/bottomNav_view&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;56dp&quot;\n    android:elevation=&quot;0dp&quot;\n    android:paddingLeft=&quot;10dp&quot;\n    android:paddingRight=&quot;10dp&quot;\n    android:theme=&quot;@style/Widget.BottomNavigationView&quot;\n    app:itemIconSize=&quot;20dp&quot;\n    app:itemIconTint=&quot;@color/bottom_nav_color&quot;\n    app:itemTextColor=&quot;@color/bottom_nav_color&quot;\n    app:labelVisibilityMode=&quot;labeled&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n</code></pre>\n<p>bottom_nav_color.xml</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n  &lt;item android:state_checked=&quot;true&quot; android:color=&quot;#3375BB&quot; /&gt;\n  &lt;item android:state_checked=&quot;false&quot; android:color=&quot;#68788D&quot;/&gt;\n &lt;/selector&gt;\n</code></pre>\n<p>bottom_nav_menu.xml</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n  &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n     android:id=&quot;@+id/navigation_home&quot;\n     android:icon=&quot;@drawable/ic_trustwallet&quot;\n     android:title=&quot;Wallet&quot; /&gt;\n   &lt;item\n    android:id=&quot;@+id/navigation_discover&quot;\n    android:icon=&quot;@drawable/ic_discover&quot;\n    android:title=&quot;Discover&quot; /&gt;\n  &lt;item\n    android:id=&quot;@+id/navigation_browser&quot;\n    android:icon=&quot;@drawable/ic_browser&quot;\n    android:title=&quot;Browser&quot; /&gt;\n  &lt;item\n    android:id=&quot;@+id/navigation_settings&quot;\n    android:icon=&quot;@drawable/ic_paper_settings&quot;\n    android:title=&quot;Settings&quot; /&gt;\n\n\n  &lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":2,"creation_date":1669176659,"post_id":74541660,"comment_id":131582862,"body_markdown":"I would actually try something like this: https://regex101.com/r/2VrGqZ/1 (and match it against the entire input)","body":"I would actually try something like this: <a href=\"https://regex101.com/r/2VrGqZ/1\" rel=\"nofollow noreferrer\">regex101.com/r/2VrGqZ/1</a> (and match it against the entire input)"},{"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"score":0,"creation_date":1669177011,"post_id":74541660,"comment_id":131582918,"body_markdown":"@LorenzHetterich Thanks for the sharing, yes, it&#39;s absolutely can be a workable solution. But I just curious if there is what I called NOT previous 1st capture. Let&#39;s leave the thread here to see if others can contribute on this part.","body":"@LorenzHetterich Thanks for the sharing, yes, it&#39;s absolutely can be a workable solution. But I just curious if there is what I called NOT previous 1st capture. Let&#39;s leave the thread here to see if others can contribute on this part."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":2,"creation_date":1669177410,"post_id":74541660,"comment_id":131582970,"body_markdown":"Is this for validation from start to end? It sounds like you wanted e.g. [`^([&#39;&quot;])(?:(?!\\1).)*\\1$`](https://regex101.com/r/YRqBvb/1) ([explanation at RexEgg](https://www.rexegg.com/regex-quantifiers.html#tempered_greed)). But *alternating* between the options and using a [negated character class](https://www.regular-expressions.info/charclass.html#negated) inside would be much more efficient: [`^(?:&quot;[^&quot;]*&quot;|&#39;[^&#39;]*&#39;)$`](https://regex101.com/r/mr4W7m/1) (watch steps counter)","body":"Is this for validation from start to end? It sounds like you wanted e.g. <a href=\"https://regex101.com/r/YRqBvb/1\" rel=\"nofollow noreferrer\"><code>^([&#39;&quot;])(?:(?!\\1).)*\\1$</code></a> (<a href=\"https://www.rexegg.com/regex-quantifiers.html#tempered_greed\" rel=\"nofollow noreferrer\">explanation at RexEgg</a>). But <i>alternating</i> between the options and using a <a href=\"https://www.regular-expressions.info/charclass.html#negated\" rel=\"nofollow noreferrer\">negated character class</a> inside would be much more efficient: <a href=\"https://regex101.com/r/mr4W7m/1\" rel=\"nofollow noreferrer\"><code>^(?:&quot;[^&quot;]*&quot;|&#39;[^&#39;]*&#39;)$</code></a> (watch steps counter)"},{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":1,"creation_date":1669177665,"post_id":74541660,"comment_id":131583009,"body_markdown":"@Eugene yes, what you are looking for actually (kind of) exists. The &quot;negative lookahead&quot; `?!`, example here: https://regex101.com/r/5nUDze/1 . However, it is quite weird since it does not match any characters (just stops the match, if the pattern does not match). So it basically is treated as zero-length (thus, the `.` right after)","body":"@Eugene yes, what you are looking for actually (kind of) exists. The &quot;negative lookahead&quot; <code>?!</code>, example here: <a href=\"https://regex101.com/r/5nUDze/1\" rel=\"nofollow noreferrer\">regex101.com/r/5nUDze/1</a> . However, it is quite weird since it does not match any characters (just stops the match, if the pattern does not match). So it basically is treated as zero-length (thus, the <code>.</code> right after)"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":1,"creation_date":1669178942,"post_id":74541660,"comment_id":131583187,"body_markdown":"Last but probably not least you could further capture and check if there are not two more of the same type ahead: [`^([&#39;&quot;])(?!(?:.*?\\1){2}).*`](https://regex101.com/r/NKIMNE/1) but I would go with [@LorenzHetterich&#39;s first comment](https://stackoverflow.com/questions/74541660/how-to-exclude-previous-captured-group#comment131582862_74541660) :)","body":"Last but probably not least you could further capture and check if there are not two more of the same type ahead: <a href=\"https://regex101.com/r/NKIMNE/1\" rel=\"nofollow noreferrer\"><code>^([&#39;&quot;])(?!(?:.*?\\1){2}).*</code></a> but I would go with <a href=\"https://stackoverflow.com/questions/74541660/how-to-exclude-previous-captured-group#comment131582862_74541660\">@LorenzHetterich&#39;s first comment</a> :)"},{"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"score":0,"creation_date":1669179693,"post_id":74541660,"comment_id":131583301,"body_markdown":"Thanks for both of you&#39;s further explanation. Please summarize them to an answer if you want and I will mark it as accepted.","body":"Thanks for both of you&#39;s further explanation. Please summarize them to an answer if you want and I will mark it as accepted."}],"answers":[{"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669244144,"creation_date":1669182685,"answer_id":74542318,"question_id":74541660,"body_markdown":"The **most efficient** method for this is probably a simple *alternation*, like already mentioned by [@LorenzHetterich in his first comment][1]. Easy to read, a short pattern and it gets the job done.\r\n\r\n    ^(?:&quot;[^&quot;]*&quot;|&#39;[^&#39;]*&#39;)$\r\n\r\n[See this demo at regex101][2]\r\n\r\nThis just [alternates][3] between either pairs of quotes [without][4] [any][5] of the same quote-type inside.\r\n\r\n---\r\n\r\nThe technique to *exclude a capture* between certain parts, that you were outlining is known as [tempered greedy token][6]. Best to use it if there are no other options available (*not* for this task).\r\n\r\n    ^([&#39;&quot;])(?:(?!\\1).)*\\1$\r\n\r\n[Another demo at regex101][7]\r\n\r\nThe *greedy* dot gets *tempered* by [what was captured][8] in the *first group* and won&#39;t skip over.\r\n\r\nSimilar to this solution but much *more efficient*:  \r\n• [Unrolled star alternation solution][9]: [`^([&#39;&quot;])[^&quot;&#39;]*+(?:(?!\\1)[&#39;&quot;][^&quot;&#39;]*)*\\1$`][10] (efficient)  \r\n• [Explicit greedy alternation solution][11]: [`^([&#39;&quot;])(?:[^&quot;&#39;]++|(?!\\1)[&quot;&#39;])*\\1$`][12] (a bit slower)  \r\nEspecially for the latter use of a [possessive quantifier][13] is crucial to [avoid runaway issues][14].\r\n\r\n---\r\n\r\nJust for having it mentioned, another option is using a negative *lookahead* to check after capturing the first match if there are *not* two more ahead. Also not highly efficient but sometimes useful.\r\n\r\n    ^([&#39;&quot;])(?!(?:.*?\\1){2}).*\r\n\r\n[One more demo at regex101][15]\r\n\r\n---\r\n\r\n*FYI:* If the pattern is used with Java [`matches()`][16], the `^` *start* and `$` *end* [anchors][17] are not needed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74541660/how-to-exclude-previous-captured-group#comment131582862_74541660\r\n  [2]: https://regex101.com/r/mr4W7m/1\r\n  [3]: https://www.regular-expressions.info/alternation.html\r\n  [4]: https://www.regular-expressions.info/charclass.html#negated\r\n  [5]: https://www.regular-expressions.info/repeat.html\r\n  [6]: https://www.rexegg.com/regex-quantifiers.html#tempered_greed\r\n  [7]: https://regex101.com/r/YRqBvb/1\r\n  [8]: https://www.regular-expressions.info/backref.html\r\n  [9]: https://www.rexegg.com/regex-quantifiers.html#unrolled_staralt\r\n  [10]: https://regex101.com/r/YRqBvb/2\r\n  [11]: https://www.rexegg.com/regex-quantifiers.html#explicit_greed\r\n  [12]: https://regex101.com/r/YRqBvb/3\r\n  [13]: https://www.regular-expressions.info/possessive.html\r\n  [14]: https://www.regular-expressions.info/catastrophic.html\r\n  [15]: https://regex101.com/r/NKIMNE/1\r\n  [16]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#matches()\r\n  [17]: https://www.regular-expressions.info/anchors.html","title":"How to exclude previous captured group","body":"<p>The <strong>most efficient</strong> method for this is probably a simple <em>alternation</em>, like already mentioned by <a href=\"https://stackoverflow.com/questions/74541660/how-to-exclude-previous-captured-group#comment131582862_74541660\">@LorenzHetterich in his first comment</a>. Easy to read, a short pattern and it gets the job done.</p>\n<pre><code>^(?:&quot;[^&quot;]*&quot;|'[^']*')$\n</code></pre>\n<p><a href=\"https://regex101.com/r/mr4W7m/1\" rel=\"nofollow noreferrer\">See this demo at regex101</a></p>\n<p>This just <a href=\"https://www.regular-expressions.info/alternation.html\" rel=\"nofollow noreferrer\">alternates</a> between either pairs of quotes <a href=\"https://www.regular-expressions.info/charclass.html#negated\" rel=\"nofollow noreferrer\">without</a> <a href=\"https://www.regular-expressions.info/repeat.html\" rel=\"nofollow noreferrer\">any</a> of the same quote-type inside.</p>\n<hr />\n<p>The technique to <em>exclude a capture</em> between certain parts, that you were outlining is known as <a href=\"https://www.rexegg.com/regex-quantifiers.html#tempered_greed\" rel=\"nofollow noreferrer\">tempered greedy token</a>. Best to use it if there are no other options available (<em>not</em> for this task).</p>\n<pre><code>^(['&quot;])(?:(?!\\1).)*\\1$\n</code></pre>\n<p><a href=\"https://regex101.com/r/YRqBvb/1\" rel=\"nofollow noreferrer\">Another demo at regex101</a></p>\n<p>The <em>greedy</em> dot gets <em>tempered</em> by <a href=\"https://www.regular-expressions.info/backref.html\" rel=\"nofollow noreferrer\">what was captured</a> in the <em>first group</em> and won't skip over.</p>\n<p>Similar to this solution but much <em>more efficient</em>:<br />\n• <a href=\"https://www.rexegg.com/regex-quantifiers.html#unrolled_staralt\" rel=\"nofollow noreferrer\">Unrolled star alternation solution</a>: <a href=\"https://regex101.com/r/YRqBvb/2\" rel=\"nofollow noreferrer\"><code>^(['&quot;])[^&quot;']*+(?:(?!\\1)['&quot;][^&quot;']*)*\\1$</code></a> (efficient)<br />\n• <a href=\"https://www.rexegg.com/regex-quantifiers.html#explicit_greed\" rel=\"nofollow noreferrer\">Explicit greedy alternation solution</a>: <a href=\"https://regex101.com/r/YRqBvb/3\" rel=\"nofollow noreferrer\"><code>^(['&quot;])(?:[^&quot;']++|(?!\\1)[&quot;'])*\\1$</code></a> (a bit slower)<br />\nEspecially for the latter use of a <a href=\"https://www.regular-expressions.info/possessive.html\" rel=\"nofollow noreferrer\">possessive quantifier</a> is crucial to <a href=\"https://www.regular-expressions.info/catastrophic.html\" rel=\"nofollow noreferrer\">avoid runaway issues</a>.</p>\n<hr />\n<p>Just for having it mentioned, another option is using a negative <em>lookahead</em> to check after capturing the first match if there are <em>not</em> two more ahead. Also not highly efficient but sometimes useful.</p>\n<pre><code>^(['&quot;])(?!(?:.*?\\1){2}).*\n</code></pre>\n<p><a href=\"https://regex101.com/r/NKIMNE/1\" rel=\"nofollow noreferrer\">One more demo at regex101</a></p>\n<hr />\n<p><em>FYI:</em> If the pattern is used with Java <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#matches()\" rel=\"nofollow noreferrer\"><code>matches()</code></a>, the <code>^</code> <em>start</em> and <code>$</code> <em>end</em> <a href=\"https://www.regular-expressions.info/anchors.html\" rel=\"nofollow noreferrer\">anchors</a> are not needed.</p>\n"}],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74542318,"answer_count":1,"score":1,"last_activity_date":1669244144,"creation_date":1669176203,"question_id":74541660,"body_markdown":"Here is my requirement, I want to recognize a valid String definition in compiler design, the string should either start and end with double quote (`&quot;hello world&quot;`), or start and end with single quote(`&#39;hello world&#39;`). \r\n\r\nI used `([&#39;&quot;]).*\\1` to achieve the goal, the `\\1` here is to reference previous first captured group, namely first single or double quote, as explanation from [regex 101][1],\r\n```\r\n\\1 matches the same text as most recently matched by the 1st capturing group\r\n```\r\n\r\nIt works so far so good. \r\nThen I got new requirement, which is to treat an inner single quote in external single quotes as invalid vase, and same to double quotes situation. Which means both `&#39;hello &#39; world&#39;` and `&quot;hello &quot; world&quot;` are invalid case.\r\n\r\nI think the solution should not be hard if we can represent **not** previous 1st captured group, something like `([&#39;&quot;])(?:NOT\\1)*\\1`. \r\n\r\nThe `(?:)` here is used as a non capturing group, to make sure `\\1` represents to first quote always. But the key is how to replace NOT with correct regex symbol. It&#39;s not like my previous experience about exclusion, like `[^abcd]` to exclude `abcd`, but to exclude the previous capture group and the symbol `^` doesn&#39;t work that way. \r\n\r\n  [1]: https://regex101.com/","title":"How to exclude previous captured group","body":"<p>Here is my requirement, I want to recognize a valid String definition in compiler design, the string should either start and end with double quote (<code>&quot;hello world&quot;</code>), or start and end with single quote(<code>'hello world'</code>).</p>\n<p>I used <code>(['&quot;]).*\\1</code> to achieve the goal, the <code>\\1</code> here is to reference previous first captured group, namely first single or double quote, as explanation from <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex 101</a>,</p>\n<pre><code>\\1 matches the same text as most recently matched by the 1st capturing group\n</code></pre>\n<p>It works so far so good.\nThen I got new requirement, which is to treat an inner single quote in external single quotes as invalid vase, and same to double quotes situation. Which means both <code>'hello ' world'</code> and <code>&quot;hello &quot; world&quot;</code> are invalid case.</p>\n<p>I think the solution should not be hard if we can represent <strong>not</strong> previous 1st captured group, something like <code>(['&quot;])(?:NOT\\1)*\\1</code>.</p>\n<p>The <code>(?:)</code> here is used as a non capturing group, to make sure <code>\\1</code> represents to first quote always. But the key is how to replace NOT with correct regex symbol. It's not like my previous experience about exclusion, like <code>[^abcd]</code> to exclude <code>abcd</code>, but to exclude the previous capture group and the symbol <code>^</code> doesn't work that way.</p>\n"},{"tags":["java","sql","mysql"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669264460,"post_id":2731443,"comment_id":131606376,"body_markdown":"Modern comment: Since JDBC 4.2 you should no longer use `java.sql.Time` but `java.time.LocalTime`. See [the answer by Basil Bourque](https://stackoverflow.com/a/74553729/5772882).","body":"Modern comment: Since JDBC 4.2 you should no longer use <code>java.sql.Time</code> but <code>java.time.LocalTime</code>. See <a href=\"https://stackoverflow.com/a/74553729/5772882\">the answer by Basil Bourque</a>."}],"answers":[{"tags":[],"owner":{"account_id":111724,"reputation":2030,"user_id":294980,"accept_rate":100,"display_name":"Javier Parra"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1596119199,"creation_date":1272473352,"answer_id":2731475,"question_id":2731443,"body_markdown":"You can use this code:\r\n\r\n    java.sql.Time.parse(&quot;String&quot;);\r\n\r\nBut that&#39;s deprecated, and replaced by [DateFormat](https://docs.oracle.com/javase/1.5.0/docs/api/java/text/DateFormat.html) Parse.","title":"cast a String to sql time","body":"<p>You can use this code:</p>\n<pre><code>java.sql.Time.parse(&quot;String&quot;);\n</code></pre>\n<p>But that's deprecated, and replaced by <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/text/DateFormat.html\" rel=\"nofollow noreferrer\">DateFormat</a> Parse.</p>\n"},{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1272473554,"creation_date":1272473554,"answer_id":2731506,"question_id":2731443,"body_markdown":"It depends entirely on the format of your `String`, so I would use a `SimpleDateFormat` to parse the string into a `java.util.Date`; then you can extract the millisecond time value from that Date and pass it into a `java.sql.Time()`. Like this:\r\n\r\n    String s = /* your date string here */;\r\n    SimpleDateFormat sdf = new SimpleDateFormat(/* your date format string here */);\r\n    long ms = sdf.parse(s).getTime();\r\n    Time t = new Time(ms);","title":"cast a String to sql time","body":"<p>It depends entirely on the format of your <code>String</code>, so I would use a <code>SimpleDateFormat</code> to parse the string into a <code>java.util.Date</code>; then you can extract the millisecond time value from that Date and pass it into a <code>java.sql.Time()</code>. Like this:</p>\n\n<pre><code>String s = /* your date string here */;\nSimpleDateFormat sdf = new SimpleDateFormat(/* your date format string here */);\nlong ms = sdf.parse(s).getTime();\nTime t = new Time(ms);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1098958,"reputation":101,"user_id":1091860,"display_name":"Berry"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1323574782,"creation_date":1323570797,"answer_id":8461549,"question_id":2731443,"body_markdown":"    java.sql.Time.valueOf(&quot;String&quot;);","title":"cast a String to sql time","body":"<pre><code>java.sql.Time.valueOf(\"String\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1669243290,"creation_date":1669243290,"answer_id":74553729,"question_id":2731443,"body_markdown":"# Update: `java.time.LocalTime`\r\n\r\nThe Question and other Answers use terribly flawed date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\nTo represent a time-only value, without a date, and without a time zone or offset-from-UTC, use [`java.time.LocalTime`][1] class. \r\n\r\nTo parse text in standard ISO 8601 format:\r\n\r\n    LocalTime t = LocalTime.parse( &quot;15:30&quot; ) ;\r\n\r\nWrite to database with [JDBC][2] 4.2 and later:\r\n\r\n    myPreparedStatement.setObject( … , t ) ;\r\n\r\nRead from database:\r\n\r\n    LocalTime t = myResultSet.getObject( … , LocalTime.class ) ;\r\n\r\nSearch Stack Overflow to learn more. Date-time matters have been addressed extensively. And see [tutorial by Oracle][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html\r\n  [2]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [3]: https://docs.oracle.com/javase/tutorial/datetime/TOC.html","title":"cast a String to sql time","body":"<h1>Update: <code>java.time.LocalTime</code></h1>\n<p>The Question and other Answers use terribly flawed date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>To represent a time-only value, without a date, and without a time zone or offset-from-UTC, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalTime</code></a> class.</p>\n<p>To parse text in standard ISO 8601 format:</p>\n<pre><code>LocalTime t = LocalTime.parse( &quot;15:30&quot; ) ;\n</code></pre>\n<p>Write to database with <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a> 4.2 and later:</p>\n<pre><code>myPreparedStatement.setObject( … , t ) ;\n</code></pre>\n<p>Read from database:</p>\n<pre><code>LocalTime t = myResultSet.getObject( … , LocalTime.class ) ;\n</code></pre>\n<p>Search Stack Overflow to learn more. Date-time matters have been addressed extensively. And see <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">tutorial by Oracle</a>.</p>\n"}],"owner":{"account_id":111610,"reputation":4001,"user_id":294750,"accept_rate":67,"display_name":"kawtousse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23527,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":2731506,"answer_count":4,"score":7,"last_activity_date":1669243290,"creation_date":1272473091,"question_id":2731443,"body_markdown":"How we cast a string into time type with mysql in java\r\nSo String-------&gt;java.sql.time\r\n\r\nthanks.","title":"cast a String to sql time","body":"<p>How we cast a string into time type with mysql in java\nSo String------->java.sql.time</p>\n\n<p>thanks.</p>\n"},{"tags":["java","printing"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1669242596,"post_id":74553618,"comment_id":131603014,"body_markdown":"`System.out.println()` appends a platform-specific line separator. If you are running this on windows, the separator is `\\r\\n`, which will make your test fail.","body":"<code>System.out.println()</code> appends a platform-specific line separator. If you are running this on windows, the separator is <code>\\r\\n</code>, which will make your test fail."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1669242707,"post_id":74553618,"comment_id":131603043,"body_markdown":"You could use a `ByteArrayOutputStream` instead of a file.","body":"You could use a <code>ByteArrayOutputStream</code> instead of a file."},{"owner":{"account_id":19682850,"reputation":349,"user_id":14409562,"display_name":"a_confused_student"},"score":0,"creation_date":1669243598,"post_id":74553618,"comment_id":131603233,"body_markdown":"@f1sh thankyou verymuch in certain scenarios it works but other not, as like in the example given. Where it is multiple println. For a single println it works but with ```&quot;Unknown command Dark_visual\\r\\n&quot; + &quot;Unknown command  Portrait_application\\r\\n&quot;``` it didn&#39;t","body":"@f1sh thankyou verymuch in certain scenarios it works but other not, as like in the example given. Where it is multiple println. For a single println it works but with <code>&quot;Unknown command Dark_visual\\r\\n&quot; + &quot;Unknown command  Portrait_application\\r\\n&quot;</code> it didn&#39;t"},{"owner":{"account_id":19682850,"reputation":349,"user_id":14409562,"display_name":"a_confused_student"},"score":0,"creation_date":1669243633,"post_id":74553618,"comment_id":131603241,"body_markdown":"@DawoodibnKareem as a means to store the file?","body":"@DawoodibnKareem as a means to store the file?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1669244965,"post_id":74553618,"comment_id":131603457,"body_markdown":"There doesn&#39;t need to be a file.  You can create a `ByteArrayOutputStream`, hook it up to `System.out`, then run all your `System.out.println` commands.  At the end, you can retrieve the contents of the `ByteArrayOutputStream` either as a `byte[]` or as a `String`, and check what&#39;s there.","body":"There doesn&#39;t need to be a file.  You can create a <code>ByteArrayOutputStream</code>, hook it up to <code>System.out</code>, then run all your <code>System.out.println</code> commands.  At the end, you can retrieve the contents of the <code>ByteArrayOutputStream</code> either as a <code>byte[]</code> or as a <code>String</code>, and check what&#39;s there."},{"owner":{"account_id":19682850,"reputation":349,"user_id":14409562,"display_name":"a_confused_student"},"score":0,"creation_date":1669245632,"post_id":74553618,"comment_id":131603584,"body_markdown":"@f1sh after inspection it does work with adding ```\\r\\n``` i simply added it one too many times","body":"@f1sh after inspection it does work with adding <code>\\r\\n</code> i simply added it one too many times"}],"owner":{"account_id":19682850,"reputation":349,"user_id":14409562,"display_name":"a_confused_student"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669242436,"creation_date":1669242436,"question_id":74553618,"body_markdown":"to read a program&#39;s println output of a program I redirected the output of all ```system.out.println()``` into a file. This is done as such. \r\n\r\n```\r\n        File file = new File(fileName);\r\n        PrintStream stream = new PrintStream(file);\r\n        System.setOut(stream);\r\n```\r\n\r\n\r\nFrom that file I transform it into a string using \r\n\r\n```\r\n  public static String getFileOutput(String fileName) throws IOException {\r\n        Path filePath = Path.of(fileName);\r\n\r\n        String content = Files.readString(filePath);\r\n        return content;\r\n  }\r\n```\r\n\r\nwhen trying to compare with a string that seems to be exactly the same, I use \r\n```\r\nreceived.equals(expected)\r\n```\r\nand example of the output would be \r\n```\r\nassert test failed\r\nreceived: Unknown command Dark_visual\r\nUnknown command  Portrait_application\r\n\r\nexpected: Unknown command Dark_visual\r\nUnknown command  Portrait_application\r\n```\r\nwhich comes from the the snippet\r\n\r\n```\r\n        if(received.equals(expected)){\r\n            System.out.println(&quot;assert test passed&quot;);\r\n            SetupContext.deleteFile(filename);\r\n        }else{\r\n            System.out.println(&quot;assert test failed&quot;);\r\n            System.out.println(&quot;received: &quot;+ received);\r\n            System.out.println(&quot;expected: &quot;+ expected);\r\n\r\n        }\r\n```\r\n\r\n\r\nThe string I was comparing to was \r\n\r\n```\r\n&quot;Unknown command Dark_visual\\n&quot; + &quot;Unknown command  Portrait_application\\n&quot;\r\n```\r\n\r\nMy question would be, is there a way to get a more in-depth representation of what is in the file, that might contain hidden characters such as ```\\n``` in order to be able to write the correct expected string? \r\n","title":"how to get output from println and correctly compare with another String in java","body":"<p>to read a program's println output of a program I redirected the output of all <code>system.out.println()</code> into a file. This is done as such.</p>\n<pre><code>        File file = new File(fileName);\n        PrintStream stream = new PrintStream(file);\n        System.setOut(stream);\n</code></pre>\n<p>From that file I transform it into a string using</p>\n<pre><code>  public static String getFileOutput(String fileName) throws IOException {\n        Path filePath = Path.of(fileName);\n\n        String content = Files.readString(filePath);\n        return content;\n  }\n</code></pre>\n<p>when trying to compare with a string that seems to be exactly the same, I use</p>\n<pre><code>received.equals(expected)\n</code></pre>\n<p>and example of the output would be</p>\n<pre><code>assert test failed\nreceived: Unknown command Dark_visual\nUnknown command  Portrait_application\n\nexpected: Unknown command Dark_visual\nUnknown command  Portrait_application\n</code></pre>\n<p>which comes from the the snippet</p>\n<pre><code>        if(received.equals(expected)){\n            System.out.println(&quot;assert test passed&quot;);\n            SetupContext.deleteFile(filename);\n        }else{\n            System.out.println(&quot;assert test failed&quot;);\n            System.out.println(&quot;received: &quot;+ received);\n            System.out.println(&quot;expected: &quot;+ expected);\n\n        }\n</code></pre>\n<p>The string I was comparing to was</p>\n<pre><code>&quot;Unknown command Dark_visual\\n&quot; + &quot;Unknown command  Portrait_application\\n&quot;\n</code></pre>\n<p>My question would be, is there a way to get a more in-depth representation of what is in the file, that might contain hidden characters such as <code>\\n</code> in order to be able to write the correct expected string?</p>\n"},{"tags":["java","jsp","servlets","usebean"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1669242318,"post_id":74553589,"comment_id":131602962,"body_markdown":"Does `myPack.Myclass` exist in your project/classpath? Do you need to import it as well? Have you taken a look at the documentation of `useBean`?","body":"Does <code>myPack.Myclass</code> exist in your project/classpath? Do you need to import it as well? Have you taken a look at the documentation of <code>useBean</code>?"},{"owner":{"account_id":23877989,"reputation":1,"user_id":17878980,"display_name":"Moses Henen"},"score":0,"creation_date":1669242664,"post_id":74553589,"comment_id":131603032,"body_markdown":"Yes i have, this is my project structure: myproject/myPack/Myclass","body":"Yes i have, this is my project structure: myproject/myPack/Myclass"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669269832,"post_id":74553589,"comment_id":131607277,"body_markdown":"Does MyClass have a no-arguments constructor? And - is there any more information available except „invalid bean class“?","body":"Does MyClass have a no-arguments constructor? And - is there any more information available except „invalid bean class“?"},{"owner":{"account_id":23877989,"reputation":1,"user_id":17878980,"display_name":"Moses Henen"},"score":0,"creation_date":1669301056,"post_id":74553589,"comment_id":131617409,"body_markdown":"It have a no argument constructor but when I run the code it returns a HTTP 500 status saying the value of the used bean class attribute is invalid, the type of the error is exception report, description is: The server encountered an internal error that prevented it from fulfilling this request, that&#39;s the only thing it report.","body":"It have a no argument constructor but when I run the code it returns a HTTP 500 status saying the value of the used bean class attribute is invalid, the type of the error is exception report, description is: The server encountered an internal error that prevented it from fulfilling this request, that&#39;s the only thing it report."}],"owner":{"account_id":23877989,"reputation":1,"user_id":17878980,"display_name":"Moses Henen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669242231,"creation_date":1669242231,"question_id":74553589,"body_markdown":"When trying to use a java bean in the jsp useBean attribute it&#39;s always generating errors like &quot;invalid bean class&quot;\r\n\r\nFor example:\r\n&lt;jsp:useBean id=&quot;myID&quot; class=&quot;myPack.Myclass&quot; /&gt;\r\nBut it still throws invalid class value Exception.","title":"Why java useBean saying invalid class value?","body":"<p>When trying to use a java bean in the jsp useBean attribute it's always generating errors like &quot;invalid bean class&quot;</p>\n<p>For example:\n&lt;jsp:useBean id=&quot;myID&quot; class=&quot;myPack.Myclass&quot; /&gt;\nBut it still throws invalid class value Exception.</p>\n"},{"tags":["java","sorting","jsf","primefaces","primefaces-datatable"],"answers":[{"tags":[],"owner":{"account_id":2494754,"reputation":106,"user_id":2171494,"display_name":"MrChris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669242015,"creation_date":1669242015,"answer_id":74553568,"question_id":74552212,"body_markdown":"Of course after I post this, I think I figured it out.\r\n\r\nIt looks like there is a method in DataTable called **getActiveSortMeta** which appears to hold the columns that are being sorted. The key in the map is the field being sorted. My DataTable only allows the sorting of one column at a time, so the map only contains one entry.\r\n\r\n\r\nHere is my example code:\r\n\r\n    public void sortedColumnSelected(AjaxBehaviorEvent event) {\r\n      if (null != event.getSource()) {\r\n         DataTable table = (DataTable) event.getSource();\r\n         \r\n         /* This map should contain the column that is being sorted. Since only\r\n          * one column can be sorted at a time, there should only be one. */\r\n         Map &lt;String, SortMeta&gt; sortMap = table.getActiveSortMeta();\r\n    \r\n         if (MapUtils.isNotEmpty(sortMap)) {\r\n         \r\n            String fieldName = sortMap.keySet().iterator().next();\r\n    \r\n            SortMeta meta = sortMap.get(fieldName);\r\n            String sortOrder = meta.getOrder().name();\r\n    \r\n            /* set the sort order so the report can display correctly. */\r\n            setSortAscending(sortOrder.equals(&quot;ASCENDING&quot;));\r\n    \r\n            if (fieldName.equals(&quot;name&quot;)) {\r\n              //do something\r\n            } else if (fieldName.equals(&quot;age&quot;)) {\r\n              //do something else\r\n            }\r\n\r\nHope this helps someone else. If you know of a different way of doing this, I&#39;d love to hear about it.\r\n\r\nThanks all!\r\n\r\n","title":"Primefaces 10+ Datatable how to get sorted column from SortEvent?","body":"<p>Of course after I post this, I think I figured it out.</p>\n<p>It looks like there is a method in DataTable called <strong>getActiveSortMeta</strong> which appears to hold the columns that are being sorted. The key in the map is the field being sorted. My DataTable only allows the sorting of one column at a time, so the map only contains one entry.</p>\n<p>Here is my example code:</p>\n<pre><code>public void sortedColumnSelected(AjaxBehaviorEvent event) {\n  if (null != event.getSource()) {\n     DataTable table = (DataTable) event.getSource();\n     \n     /* This map should contain the column that is being sorted. Since only\n      * one column can be sorted at a time, there should only be one. */\n     Map &lt;String, SortMeta&gt; sortMap = table.getActiveSortMeta();\n\n     if (MapUtils.isNotEmpty(sortMap)) {\n     \n        String fieldName = sortMap.keySet().iterator().next();\n\n        SortMeta meta = sortMap.get(fieldName);\n        String sortOrder = meta.getOrder().name();\n\n        /* set the sort order so the report can display correctly. */\n        setSortAscending(sortOrder.equals(&quot;ASCENDING&quot;));\n\n        if (fieldName.equals(&quot;name&quot;)) {\n          //do something\n        } else if (fieldName.equals(&quot;age&quot;)) {\n          //do something else\n        }\n</code></pre>\n<p>Hope this helps someone else. If you know of a different way of doing this, I'd love to hear about it.</p>\n<p>Thanks all!</p>\n"}],"owner":{"account_id":2494754,"reputation":106,"user_id":2171494,"display_name":"MrChris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74553568,"answer_count":1,"score":1,"last_activity_date":1669242044,"creation_date":1669232506,"question_id":74552212,"body_markdown":"We are currently using Primefaces version 8 and I am working on migrating us to version 12. \r\n\r\nIn the migration guide [8.0 -&gt; 10.0.0][1], under DataTable, Breaking changes says this:\r\n\r\n&gt; SortEvent: sorted datatable value is no longer passed to this event,\r\n&gt; instead get the sorted value through your managed bean (e.g\r\n&gt; YourBean#list used as value expression)\r\n\r\nFor the life of me I cannot figure out how to pass the column being sorted as a value expression.\r\n\r\nHere is what we currently have working using Primefaces 8 (simplified):\r\n\r\n    &lt;p:dataTable id=&quot;searchResultsTable&quot; \r\n        value=&quot;#{nameBackingBean.queryResults}&quot;\r\n        var=&quot;searchResultsRow&quot; widgetVar=&quot;tableWidget&quot;\r\n        sortBy=&quot;#{searchResultsRow.name}&quot; sortOrder=&quot;ascending&quot;&gt;\r\n        \r\n        &lt;p:ajax event=&quot;sort&quot; listener=&quot;#{nameBackingBean.sortedColumnSelected}&quot; /&gt;\r\n        \r\n        &lt;!-- Name --&gt;\r\n        &lt;p:column headerText=&quot;Name&quot;\r\n            sortBy=&quot;#{searchResultsRow.name}&quot;&gt;\r\n            &lt;h:outputText id=&quot;nameValue&quot;\r\n                value=&quot;#{searchResultsRow.name}&quot; /&gt;\r\n        &lt;/p:column&gt;\r\n        \r\n        &lt;!-- Age --&gt;\r\n        &lt;p:column headerText=&quot;Age&quot;\r\n            sortBy=&quot;#{searchResultsRow.age}&quot;&gt;\r\n            &lt;h:outputText id=&quot;ageValue&quot;\r\n                value=&quot;#{searchResultsRow.age}&quot; /&gt;\r\n        &lt;/p:column&gt;\r\n        \r\n        ...\r\n\r\nAnd here is the java backing bean method that is called when a sort is performed:\r\n\r\n      public void sortedColumnSelected(AjaxBehaviorEvent event){\r\n          if (null != event.getSource()){\r\n             DataTable table = (DataTable) event.getSource();\r\n             if(table != null &amp;&amp; table.getSortColumn() != null){\r\n                String headerText = table.getSortColumn().getHeaderText();\r\n                String sortOrder = table.getSortOrder();\r\n                \r\n                if(headerText.equals(&quot;Name&quot;)){\r\n                   //we do something\r\n                }else if (headerText.equals(&quot;Age&quot;)){\r\n                   //we do something else\r\n                ...\r\n\r\nThe getSortColumn method is no longer available after Primefaces 8, so I am assuming I have to use some EL expression to figure out which column was sorted (based off of the sentence e.g. YourBean#list used as a value expression) and pass the value in like this...\r\n\r\n    &lt;p:ajax event=&quot;sort&quot; listener=&quot;#{nameBackingBean.sortedColumnSelected(el expression telling me what column was sorted)}&quot; /&gt;\r\n\r\nIf anyone knows how to format the value expression to tell me which column was sorted, I would really appreciate it!\r\n\r\n\r\n  [1]: https://primefaces.github.io/primefaces/8_0/#/../migrationguide/10_0_0","title":"Primefaces 10+ Datatable how to get sorted column from SortEvent?","body":"<p>We are currently using Primefaces version 8 and I am working on migrating us to version 12.</p>\n<p>In the migration guide <a href=\"https://primefaces.github.io/primefaces/8_0/#/../migrationguide/10_0_0\" rel=\"nofollow noreferrer\">8.0 -&gt; 10.0.0</a>, under DataTable, Breaking changes says this:</p>\n<blockquote>\n<p>SortEvent: sorted datatable value is no longer passed to this event,\ninstead get the sorted value through your managed bean (e.g\nYourBean#list used as value expression)</p>\n</blockquote>\n<p>For the life of me I cannot figure out how to pass the column being sorted as a value expression.</p>\n<p>Here is what we currently have working using Primefaces 8 (simplified):</p>\n<pre><code>&lt;p:dataTable id=&quot;searchResultsTable&quot; \n    value=&quot;#{nameBackingBean.queryResults}&quot;\n    var=&quot;searchResultsRow&quot; widgetVar=&quot;tableWidget&quot;\n    sortBy=&quot;#{searchResultsRow.name}&quot; sortOrder=&quot;ascending&quot;&gt;\n    \n    &lt;p:ajax event=&quot;sort&quot; listener=&quot;#{nameBackingBean.sortedColumnSelected}&quot; /&gt;\n    \n    &lt;!-- Name --&gt;\n    &lt;p:column headerText=&quot;Name&quot;\n        sortBy=&quot;#{searchResultsRow.name}&quot;&gt;\n        &lt;h:outputText id=&quot;nameValue&quot;\n            value=&quot;#{searchResultsRow.name}&quot; /&gt;\n    &lt;/p:column&gt;\n    \n    &lt;!-- Age --&gt;\n    &lt;p:column headerText=&quot;Age&quot;\n        sortBy=&quot;#{searchResultsRow.age}&quot;&gt;\n        &lt;h:outputText id=&quot;ageValue&quot;\n            value=&quot;#{searchResultsRow.age}&quot; /&gt;\n    &lt;/p:column&gt;\n    \n    ...\n</code></pre>\n<p>And here is the java backing bean method that is called when a sort is performed:</p>\n<pre><code>  public void sortedColumnSelected(AjaxBehaviorEvent event){\n      if (null != event.getSource()){\n         DataTable table = (DataTable) event.getSource();\n         if(table != null &amp;&amp; table.getSortColumn() != null){\n            String headerText = table.getSortColumn().getHeaderText();\n            String sortOrder = table.getSortOrder();\n            \n            if(headerText.equals(&quot;Name&quot;)){\n               //we do something\n            }else if (headerText.equals(&quot;Age&quot;)){\n               //we do something else\n            ...\n</code></pre>\n<p>The getSortColumn method is no longer available after Primefaces 8, so I am assuming I have to use some EL expression to figure out which column was sorted (based off of the sentence e.g. YourBean#list used as a value expression) and pass the value in like this...</p>\n<pre><code>&lt;p:ajax event=&quot;sort&quot; listener=&quot;#{nameBackingBean.sortedColumnSelected(el expression telling me what column was sorted)}&quot; /&gt;\n</code></pre>\n<p>If anyone knows how to format the value expression to tell me which column was sorted, I would really appreciate it!</p>\n"},{"tags":["java","amazon-dynamodb","aws-java-sdk-2.x","aws-java-sdk-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669241932,"creation_date":1669241932,"answer_id":74553561,"question_id":74551798,"body_markdown":"GROUP BY or SUM or any other type of math metric is not supported by DynamoDB and is considered somewhat of an anti-pattern. \r\n\r\nWith that said, there is 2 ways to achieve your use-case needs. \r\n\r\n 1. You can execute a `Query` operation and set the `Select` parameter to `COUNT` [DOCS](https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Query.html#DDB-Query-request-Select). This will return the count of all the items which match a given simulationId, however, this will require the `Query` to read all of the items which relate to that simulationId, only returning the count. It will also require you to use a lower level client I believe.\r\n 2. The second option is the most favourable, use DynamoDB Streams and a Lambda function to keep an &quot;aggregate&quot; record for you simulationId. Meaning for every item you add or remove, you increment or decrement the aggregate record. This will allow you to get the sum of all records in an efficient and cost-effective way. \r\n\r\n|      PK      |      SK    | Agg\r\n|---------------------|------------------|------------------|\r\n|          simulation_id_1         |         aggregate       | 3\r\n|          simulation_id_1         |         type1       |\r\n|          simulation_id_1         |         type2       |\r\n|          simulation_id_1         |         type3       |\r\n|          simulation_id_2         |         aggregate      | 1\r\n|          simulation_id_2         |         type1      |","title":"GROUP BY-Like query in DynamoDB with DynamoDbEnhancedClient","body":"<p>GROUP BY or SUM or any other type of math metric is not supported by DynamoDB and is considered somewhat of an anti-pattern.</p>\n<p>With that said, there is 2 ways to achieve your use-case needs.</p>\n<ol>\n<li>You can execute a <code>Query</code> operation and set the <code>Select</code> parameter to <code>COUNT</code> <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Query.html#DDB-Query-request-Select\" rel=\"nofollow noreferrer\">DOCS</a>. This will return the count of all the items which match a given simulationId, however, this will require the <code>Query</code> to read all of the items which relate to that simulationId, only returning the count. It will also require you to use a lower level client I believe.</li>\n<li>The second option is the most favourable, use DynamoDB Streams and a Lambda function to keep an &quot;aggregate&quot; record for you simulationId. Meaning for every item you add or remove, you increment or decrement the aggregate record. This will allow you to get the sum of all records in an efficient and cost-effective way.</li>\n</ol>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>PK</th>\n<th>SK</th>\n<th>Agg</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>simulation_id_1</td>\n<td>aggregate</td>\n<td>3</td>\n</tr>\n<tr>\n<td>simulation_id_1</td>\n<td>type1</td>\n<td></td>\n</tr>\n<tr>\n<td>simulation_id_1</td>\n<td>type2</td>\n<td></td>\n</tr>\n<tr>\n<td>simulation_id_1</td>\n<td>type3</td>\n<td></td>\n</tr>\n<tr>\n<td>simulation_id_2</td>\n<td>aggregate</td>\n<td>1</td>\n</tr>\n<tr>\n<td>simulation_id_2</td>\n<td>type1</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":8261770,"reputation":834,"user_id":6212879,"accept_rate":88,"display_name":"Nano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74553561,"answer_count":1,"score":0,"last_activity_date":1669241932,"creation_date":1669229949,"question_id":74551798,"body_markdown":"I&#39;m trying to write a Query in DynamoDB with logic similar to a GROUP BY in SQL. Let&#39;s consider the following table with partition key `simulation_id`:\r\n\r\n```\r\nSimulation (Table):\r\n   simulation_id_1 - type_1 - ...\r\n   simulation_id_1 - type_1 - ...\r\n\r\n   simulation_id_1 - type_2 - ...\r\n   simulation_id_1 - type_2 - ...\r\n   simulation_id_1 - type_2 - ...\r\n\r\n   simulation_id_2 - type_2 - ...\r\n   simulation_id_2 - type_2 - ...\r\n   simulation_id_2 - type_2 - ...\r\n   simulation_id_2 - type_2 - ...\r\n\r\n   simulation_id_2 - type_3 - ...\r\n```\r\n\r\nThe result would be:\r\n\r\n```\r\n\r\nsimulation_id_1 - type_1 - 2 (count of entries)\r\nsimulation_id_1 - type_2 - 3\r\nsimulation_id_2 - type_2 - 4\r\nsimulation_id_2 - type_3 - 1\r\n\r\n```\r\n\r\nWhat is the best way for achieving that using DynamoDbEnhancedClient?","title":"GROUP BY-Like query in DynamoDB with DynamoDbEnhancedClient","body":"<p>I'm trying to write a Query in DynamoDB with logic similar to a GROUP BY in SQL. Let's consider the following table with partition key <code>simulation_id</code>:</p>\n<pre><code>Simulation (Table):\n   simulation_id_1 - type_1 - ...\n   simulation_id_1 - type_1 - ...\n\n   simulation_id_1 - type_2 - ...\n   simulation_id_1 - type_2 - ...\n   simulation_id_1 - type_2 - ...\n\n   simulation_id_2 - type_2 - ...\n   simulation_id_2 - type_2 - ...\n   simulation_id_2 - type_2 - ...\n   simulation_id_2 - type_2 - ...\n\n   simulation_id_2 - type_3 - ...\n</code></pre>\n<p>The result would be:</p>\n<pre><code>\nsimulation_id_1 - type_1 - 2 (count of entries)\nsimulation_id_1 - type_2 - 3\nsimulation_id_2 - type_2 - 4\nsimulation_id_2 - type_3 - 1\n\n</code></pre>\n<p>What is the best way for achieving that using DynamoDbEnhancedClient?</p>\n"},{"tags":["java","json","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669241815,"creation_date":1669240863,"answer_id":74553443,"question_id":74552979,"body_markdown":"&gt; I looked into using @JsonSerialize(as =  String.class, using = SomeSerializer.class)\r\n\r\nOne of the options is to create a custom serializer by extending [`JsonSerializer`][serializer] and override it&#39;s `serialize()` method.\r\n\r\nOne of the arguments of `serialize()` is a `JsonGenerator`, which as it&#39;s name suggests allow to generate JSON. You can with go with `JsonGenerator` on pretty low level by specifying manually start/end of a JSON-object (JSON-array), writing field-names, etc., or you can feed a nested object into the `JsonGenerator` as is, depending on whether its default shape satisfies your needs or not.\r\n\r\nThat&#39;s how it might look like (*I wasn&#39;t touching &quot;GCM&quot; and &quot;ADM&quot; properties from your JSON because it&#39;s unclear where they should come from*).\r\n\r\n    @JsonSerialize(using = SNSNotificationSerializer.class)\r\n    record SNSNotification(\r\n        @JsonProperty(&quot;default&quot;) String defaultMessage,\r\n        @JsonProperty(&quot;APNS&quot;) APNS apns\r\n    ) {}\r\n    \r\n    public class SNSNotificationSerializer extends JsonSerializer&lt;SNSNotification&gt; {\r\n        @Override\r\n        public void serialize(SNSNotification value,\r\n                              JsonGenerator gen,\r\n                              SerializerProvider serializers) throws IOException {\r\n            \r\n            gen.writeStartObject();     // {\r\n            gen.writeStringField(&quot;default&quot;, value.defaultMessage()); // &quot;default&quot;: &quot; &quot;,\r\n            gen.writeFieldName(&quot;APNS&quot;); // &quot;APNS&quot; :\r\n            gen.writeStartObject();     // {\r\n            gen.writeFieldName(&quot;aps&quot;);  // &quot;aps&quot; :\r\n            gen.writeStartObject();     // {\r\n            gen.writeStringField(&quot;alert&quot;, value.apns().aps().alert()); // &quot;alert&quot; : &quot; &quot;,\r\n            gen.writeStringField(&quot;url&quot;, &quot;www.amazon.com&quot;);             // &quot;url&quot;:&quot;www.amazon.com&quot;\r\n            gen.writeEndObject();       // }\r\n            gen.writeEndObject();       // }\r\n            gen.writeEndObject();       // }\r\n        }\r\n    }\r\n\r\n*Usage example:*\r\n\r\n```java\r\nSNSNotification snsNotification = new SNSNotification(\r\n    &quot;This is the default message which must be present when publishing a message to a topic. The default message will only be used if a message is not present for one of the notification platforms.&quot;,\r\n    new APNS(new APS(&quot;Check out these awesome deals!&quot;))\r\n);\r\n        \r\nObjectMapper mapper = new ObjectMapper();\r\n        \r\nString json = mapper\r\n    .writerWithDefaultPrettyPrinter()\r\n    .writeValueAsString(snsNotification);\r\n    \r\nSystem.out.println(json);\r\n```\r\n\r\n*Output:*\r\n\r\n```none\r\n{\r\n  &quot;default&quot; : &quot;This is the default message which must be present when publishing a message to a topic. The default message will only be used if a message is not present for one of the notification platforms.&quot;,\r\n  &quot;APNS&quot; : {\r\n    &quot;aps&quot; : {\r\n      &quot;alert&quot; : &quot;Check out these awesome deals!&quot;,\r\n      &quot;url&quot; : &quot;www.amazon.com&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n   [serializer]: https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonSerializer.html","title":"Annotation to serialize Jackson field as a JSON string (instead of object)","body":"<blockquote>\n<p>I looked into using @JsonSerialize(as =  String.class, using = SomeSerializer.class)</p>\n</blockquote>\n<p>One of the options is to create a custom serializer by extending <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonSerializer.html\" rel=\"nofollow noreferrer\"><code>JsonSerializer</code></a> and override it's <code>serialize()</code> method.</p>\n<p>One of the arguments of <code>serialize()</code> is a <code>JsonGenerator</code>, which as it's name suggests allow to generate JSON. You can with go with <code>JsonGenerator</code> on pretty low level by specifying manually start/end of a JSON-object (JSON-array), writing field-names, etc., or you can feed a nested object into the <code>JsonGenerator</code> as is, depending on whether its default shape satisfies your needs or not.</p>\n<p>That's how it might look like (<em>I wasn't touching &quot;GCM&quot; and &quot;ADM&quot; properties from your JSON because it's unclear where they should come from</em>).</p>\n<pre><code>@JsonSerialize(using = SNSNotificationSerializer.class)\nrecord SNSNotification(\n    @JsonProperty(&quot;default&quot;) String defaultMessage,\n    @JsonProperty(&quot;APNS&quot;) APNS apns\n) {}\n\npublic class SNSNotificationSerializer extends JsonSerializer&lt;SNSNotification&gt; {\n    @Override\n    public void serialize(SNSNotification value,\n                          JsonGenerator gen,\n                          SerializerProvider serializers) throws IOException {\n        \n        gen.writeStartObject();     // {\n        gen.writeStringField(&quot;default&quot;, value.defaultMessage()); // &quot;default&quot;: &quot; &quot;,\n        gen.writeFieldName(&quot;APNS&quot;); // &quot;APNS&quot; :\n        gen.writeStartObject();     // {\n        gen.writeFieldName(&quot;aps&quot;);  // &quot;aps&quot; :\n        gen.writeStartObject();     // {\n        gen.writeStringField(&quot;alert&quot;, value.apns().aps().alert()); // &quot;alert&quot; : &quot; &quot;,\n        gen.writeStringField(&quot;url&quot;, &quot;www.amazon.com&quot;);             // &quot;url&quot;:&quot;www.amazon.com&quot;\n        gen.writeEndObject();       // }\n        gen.writeEndObject();       // }\n        gen.writeEndObject();       // }\n    }\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>SNSNotification snsNotification = new SNSNotification(\n    &quot;This is the default message which must be present when publishing a message to a topic. The default message will only be used if a message is not present for one of the notification platforms.&quot;,\n    new APNS(new APS(&quot;Check out these awesome deals!&quot;))\n);\n        \nObjectMapper mapper = new ObjectMapper();\n        \nString json = mapper\n    .writerWithDefaultPrettyPrinter()\n    .writeValueAsString(snsNotification);\n    \nSystem.out.println(json);\n</code></pre>\n<p><em>Output:</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>{\n  &quot;default&quot; : &quot;This is the default message which must be present when publishing a message to a topic. The default message will only be used if a message is not present for one of the notification platforms.&quot;,\n  &quot;APNS&quot; : {\n    &quot;aps&quot; : {\n      &quot;alert&quot; : &quot;Check out these awesome deals!&quot;,\n      &quot;url&quot; : &quot;www.amazon.com&quot;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":73891,"reputation":53530,"user_id":212555,"accept_rate":88,"display_name":"Brendan Long"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669241828,"creation_date":1669237452,"question_id":74552979,"body_markdown":"I&#39;m working with [Amazon SNS push notifications](https://docs.aws.amazon.com/sns/latest/dg/sns-send-custom-platform-specific-payloads-mobile-devices.html#mobile-push-send-multiplatform) and they require me to send a payload like:\r\n\r\n```json\r\n{ \r\n  &quot;default&quot;: &quot;This is the default message which must be present when publishing a message to a topic. The default message will only be used if a message is not present for \r\none of the notification platforms.&quot;,     \r\n  &quot;APNS&quot;: &quot;{\\&quot;aps\\&quot;:{\\&quot;alert\\&quot;: \\&quot;Check out these awesome deals!\\&quot;,\\&quot;url\\&quot;:\\&quot;www.amazon.com\\&quot;} }&quot;,\r\n  &quot;GCM&quot;: &quot;{\\&quot;data\\&quot;:{\\&quot;message\\&quot;:\\&quot;Check out these awesome deals!\\&quot;,\\&quot;url\\&quot;:\\&quot;www.amazon.com\\&quot;}}&quot;,\r\n  &quot;ADM&quot;: &quot;{\\&quot;data\\&quot;:{\\&quot;message\\&quot;:\\&quot;Check out these awesome deals!\\&quot;,\\&quot;url\\&quot;:\\&quot;www.amazon.com\\&quot;}}&quot; \r\n} \r\n```\r\n\r\nI have some classes that look like:\r\n\r\n```java\r\nrecord APS(String alert) {}\r\nrecord APNS(APS aps) {}\r\nrecord SNSNotification(\r\n  @JsonProperty(&quot;default&quot;) String defaultMessage,\r\n  @JsonProperty(&quot;APNS&quot;) APNS apns\r\n) {}\r\n```\r\n\r\nBut when I serialize them I get non-insane JSON:\r\n\r\n```json\r\n{\r\n  &quot;default&quot;: &quot;...&quot;,\r\n  &quot;APNS&quot;: { &quot;alert&quot;: &quot;...&quot; }\r\n}\r\n```\r\n\r\nI looked into using `@JsonSerialize(as =  String.class, using = SomeSerializer.class)` but I&#39;m not sure what class to plug in there? `BeanSerializer` didn&#39;t like that I&#39;m using a record and nothing else really made sense.\r\n\r\nIs there a simple way to do this without pre-serializing the fields?","title":"Annotation to serialize Jackson field as a JSON string (instead of object)","body":"<p>I'm working with <a href=\"https://docs.aws.amazon.com/sns/latest/dg/sns-send-custom-platform-specific-payloads-mobile-devices.html#mobile-push-send-multiplatform\" rel=\"nofollow noreferrer\">Amazon SNS push notifications</a> and they require me to send a payload like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ \n  &quot;default&quot;: &quot;This is the default message which must be present when publishing a message to a topic. The default message will only be used if a message is not present for \none of the notification platforms.&quot;,     \n  &quot;APNS&quot;: &quot;{\\&quot;aps\\&quot;:{\\&quot;alert\\&quot;: \\&quot;Check out these awesome deals!\\&quot;,\\&quot;url\\&quot;:\\&quot;www.amazon.com\\&quot;} }&quot;,\n  &quot;GCM&quot;: &quot;{\\&quot;data\\&quot;:{\\&quot;message\\&quot;:\\&quot;Check out these awesome deals!\\&quot;,\\&quot;url\\&quot;:\\&quot;www.amazon.com\\&quot;}}&quot;,\n  &quot;ADM&quot;: &quot;{\\&quot;data\\&quot;:{\\&quot;message\\&quot;:\\&quot;Check out these awesome deals!\\&quot;,\\&quot;url\\&quot;:\\&quot;www.amazon.com\\&quot;}}&quot; \n} \n</code></pre>\n<p>I have some classes that look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record APS(String alert) {}\nrecord APNS(APS aps) {}\nrecord SNSNotification(\n  @JsonProperty(&quot;default&quot;) String defaultMessage,\n  @JsonProperty(&quot;APNS&quot;) APNS apns\n) {}\n</code></pre>\n<p>But when I serialize them I get non-insane JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;default&quot;: &quot;...&quot;,\n  &quot;APNS&quot;: { &quot;alert&quot;: &quot;...&quot; }\n}\n</code></pre>\n<p>I looked into using <code>@JsonSerialize(as =  String.class, using = SomeSerializer.class)</code> but I'm not sure what class to plug in there? <code>BeanSerializer</code> didn't like that I'm using a record and nothing else really made sense.</p>\n<p>Is there a simple way to do this without pre-serializing the fields?</p>\n"},{"tags":["java","spring","jdbctemplate"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1530640667,"post_id":51160468,"comment_id":89304362,"body_markdown":"*&quot;What can I do to handle this type of situation?&quot;* `if` statement!!","body":"<i>&quot;What can I do to handle this type of situation?&quot;</i> <code>if</code> statement!!"},{"owner":{"account_id":12899087,"reputation":585,"user_id":9328545,"accept_rate":75,"display_name":"Robin"},"score":3,"creation_date":1530640749,"post_id":51160468,"comment_id":89304413,"body_markdown":"@Andreas yes genius i know that. Read the last sentence.","body":"@Andreas yes genius i know that. Read the last sentence."},{"owner":{"account_id":11382286,"reputation":1591,"user_id":8344882,"display_name":"gagan singh"},"score":2,"creation_date":1530641130,"post_id":51160468,"comment_id":89304588,"body_markdown":"not passing null requestType to Object[] array is simple. How do you dynamically remove the where condition `AND requestType = ?` ?","body":"not passing null requestType to Object[] array is simple. How do you dynamically remove the where condition <code>AND requestType = ?</code> ?"},{"owner":{"account_id":8652429,"reputation":938,"user_id":6477644,"display_name":"Maxim Kasyanov"},"score":0,"creation_date":1530641277,"post_id":51160468,"comment_id":89304649,"body_markdown":"When i face with dynamic sql, i create list and add param to the list in if statement and pass list as parameters for jdbctemplate.","body":"When i face with dynamic sql, i create list and add param to the list in if statement and pass list as parameters for jdbctemplate."},{"owner":{"account_id":12899087,"reputation":585,"user_id":9328545,"accept_rate":75,"display_name":"Robin"},"score":0,"creation_date":1530641391,"post_id":51160468,"comment_id":89304705,"body_markdown":"@Maxim thats exactly what i was doing but it turned out to be too messy. Was wondering if there was a more cleaner way to do it.","body":"@Maxim thats exactly what i was doing but it turned out to be too messy. Was wondering if there was a more cleaner way to do it."},{"owner":{"account_id":9928255,"reputation":1591,"user_id":7349101,"display_name":"Shaunak Patel"},"score":0,"creation_date":1530641423,"post_id":51160468,"comment_id":89304718,"body_markdown":"is it springboot application?","body":"is it springboot application?"},{"owner":{"account_id":12899087,"reputation":585,"user_id":9328545,"accept_rate":75,"display_name":"Robin"},"score":0,"creation_date":1530641453,"post_id":51160468,"comment_id":89304736,"body_markdown":"@ShaunakPatel yes, it&#39;s a spring boot applicaiton","body":"@ShaunakPatel yes, it&#39;s a spring boot applicaiton"},{"owner":{"account_id":9928255,"reputation":1591,"user_id":7349101,"display_name":"Shaunak Patel"},"score":0,"creation_date":1530641605,"post_id":51160468,"comment_id":89304806,"body_markdown":"Can I assume all parameters you are using are belongs to same entity(or related entity)?","body":"Can I assume all parameters you are using are belongs to same entity(or related entity)?"},{"owner":{"account_id":8652429,"reputation":938,"user_id":6477644,"display_name":"Maxim Kasyanov"},"score":0,"creation_date":1530641663,"post_id":51160468,"comment_id":89304840,"body_markdown":"@Robin I agree with you. For this case i wrote addition function in SQL class from Mybatis. If are you interesting in this class, i could upload code to github","body":"@Robin I agree with you. For this case i wrote addition function in SQL class from Mybatis. If are you interesting in this class, i could upload code to github"},{"owner":{"account_id":12899087,"reputation":585,"user_id":9328545,"accept_rate":75,"display_name":"Robin"},"score":0,"creation_date":1530641680,"post_id":51160468,"comment_id":89304857,"body_markdown":"@ShaunakPatel yes, all the parameters i am using is related across to all the entities. All entities will have request type, custid, number, etc.","body":"@ShaunakPatel yes, all the parameters i am using is related across to all the entities. All entities will have request type, custid, number, etc."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1530705051,"creation_date":1530641216,"answer_id":51160628,"question_id":51160468,"body_markdown":"One option is to use [`NamedParameterJdbcTemplate`][1], so the parameter &quot;list&quot; (now a `Map`) doesn&#39;t need to be modified, only the SQL does:\r\n\r\n    List&lt;RealTimeDTO&gt; query(String name) {\r\n        NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\r\n\r\n        String sql = &quot;SELECT foo, bar&quot; +\r\n                      &quot; FROM FooBar&quot; +\r\n                     &quot; WHERE name&quot; + (name == null ? &quot; IS NULL&quot; : &quot;= :name&quot;);\r\n        Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n        params.put(&quot;name&quot;, name);\r\n        return jdbcTemplate.query(sql, params, new CCCRowMapper());\r\n    }\r\n\r\n**UPDATE**\r\n\r\nIf you have many conditions that may need to be skipped, and all conditions might be eliminated, then use a `StringJoiner` to build the `WHERE` clause:\r\n\r\n    List&lt;RealTimeDTO&gt; query(String name, String phone, int age) {\r\n        NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\r\n\r\n        StringJoiner where = new StringJoiner(&quot; AND &quot;, &quot; WHERE &quot;, &quot;&quot;).setEmptyValue(&quot;&quot;);\r\n        if (name != null)\r\n            where.add(&quot;name = :name&quot;);\r\n        if (phone != null)\r\n            where.add(&quot;phone = :phone&quot;);\r\n        if (age != 0)\r\n            where.add(&quot;age = :age&quot;);\r\n        String sql = &quot;SELECT foo, bar&quot; +\r\n                      &quot; FROM FooBar&quot; +\r\n                      where;\r\n        Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n        params.put(&quot;name&quot;, name);\r\n        params.put(&quot;phone&quot;, phone);\r\n        params.put(&quot;age&quot;, age);\r\n        return jdbcTemplate.query(sql, params, new CCCRowMapper());\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html","title":"JDBCTemplate optional parameters","body":"<p>One option is to use <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html\" rel=\"noreferrer\"><code>NamedParameterJdbcTemplate</code></a>, so the parameter \"list\" (now a <code>Map</code>) doesn't need to be modified, only the SQL does:</p>\n\n<pre><code>List&lt;RealTimeDTO&gt; query(String name) {\n    NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\n\n    String sql = \"SELECT foo, bar\" +\n                  \" FROM FooBar\" +\n                 \" WHERE name\" + (name == null ? \" IS NULL\" : \"= :name\");\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n    params.put(\"name\", name);\n    return jdbcTemplate.query(sql, params, new CCCRowMapper());\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If you have many conditions that may need to be skipped, and all conditions might be eliminated, then use a <code>StringJoiner</code> to build the <code>WHERE</code> clause:</p>\n\n<pre><code>List&lt;RealTimeDTO&gt; query(String name, String phone, int age) {\n    NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\n\n    StringJoiner where = new StringJoiner(\" AND \", \" WHERE \", \"\").setEmptyValue(\"\");\n    if (name != null)\n        where.add(\"name = :name\");\n    if (phone != null)\n        where.add(\"phone = :phone\");\n    if (age != 0)\n        where.add(\"age = :age\");\n    String sql = \"SELECT foo, bar\" +\n                  \" FROM FooBar\" +\n                  where;\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n    params.put(\"name\", name);\n    params.put(\"phone\", phone);\n    params.put(\"age\", age);\n    return jdbcTemplate.query(sql, params, new CCCRowMapper());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2652739,"reputation":523,"user_id":2294031,"display_name":"domids"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574331422,"creation_date":1574260563,"answer_id":58956843,"question_id":51160468,"body_markdown":"You can use a static SQL by checking the condition like `? IS NULL OR name = ?`. But you have to pass the argument twice AND pass the argument type (`at.sql.Types`) twice.\r\n\r\n    String sql = &quot;SELECT foo, bar&quot; +\r\n                  &quot; FROM FooBar&quot; +\r\n                 &quot; WHERE (? IS NULL OR name = ?) &quot;;\r\n    jdbcTemplate.query(sql, new Object[]{name, name}, new int[]{Types.VARCHAR, Types.VARCHAR}, new CCCRowMapper());\r\n\r\nIMO not really better than using conditions.\r\n","title":"JDBCTemplate optional parameters","body":"<p>You can use a static SQL by checking the condition like <code>? IS NULL OR name = ?</code>. But you have to pass the argument twice AND pass the argument type (<code>at.sql.Types</code>) twice.</p>\n\n<pre><code>String sql = \"SELECT foo, bar\" +\n              \" FROM FooBar\" +\n             \" WHERE (? IS NULL OR name = ?) \";\njdbcTemplate.query(sql, new Object[]{name, name}, new int[]{Types.VARCHAR, Types.VARCHAR}, new CCCRowMapper());\n</code></pre>\n\n<p>IMO not really better than using conditions.</p>\n"},{"tags":[],"owner":{"account_id":174556,"reputation":8751,"user_id":403999,"display_name":"Juan Rojas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669240306,"creation_date":1669239938,"answer_id":74553318,"question_id":51160468,"body_markdown":"I&#39;d like to add NamedParameter to @Snozzlebert&#39; answer with the next example.\r\n\r\nYou have to specify the parameters&#39; type if you want to pass null values otherwise you will get a NullPointerException.\r\n\r\n    @Autowired\r\n    NamedParameterJdbcTemplate namedJdbcTemplate;\r\n\r\n\r\n\r\n    MapSqlParameterSource parameters = new MapSqlParameterSource();\r\n    parameters.addValue(&quot;name&quot;, name, Types.VARCHAR);\r\n    parameters.addValue(&quot;phone&quot;, null, Types.VARCHAR);\r\n    parameters.addValue(&quot;age&quot;, null, Types.SMALLINT);\r\n\r\n    List&lt;RealTimeDTO&gt; list = namedJdbcTemplate.query(\r\n            &quot;SELECT foo, bar\\n&quot; +\r\n              &quot; FROM FooBar\\n&quot; +\r\n             &quot; WHERE (:name IS NULL OR name = :name) AND \\n&quot; +\r\n             &quot; (:phone IS NULL OR phone = :phone) AND \\n&quot; +\r\n             &quot; (:age IS NULL OR age = :age)&quot; +,\r\n            parameters,\r\n            new RealTimeDTOMapper());\r\n\r\n","title":"JDBCTemplate optional parameters","body":"<p>I'd like to add NamedParameter to @Snozzlebert' answer with the next example.</p>\n<p>You have to specify the parameters' type if you want to pass null values otherwise you will get a NullPointerException.</p>\n<pre><code>@Autowired\nNamedParameterJdbcTemplate namedJdbcTemplate;\n\n\n\nMapSqlParameterSource parameters = new MapSqlParameterSource();\nparameters.addValue(&quot;name&quot;, name, Types.VARCHAR);\nparameters.addValue(&quot;phone&quot;, null, Types.VARCHAR);\nparameters.addValue(&quot;age&quot;, null, Types.SMALLINT);\n\nList&lt;RealTimeDTO&gt; list = namedJdbcTemplate.query(\n        &quot;SELECT foo, bar\\n&quot; +\n          &quot; FROM FooBar\\n&quot; +\n         &quot; WHERE (:name IS NULL OR name = :name) AND \\n&quot; +\n         &quot; (:phone IS NULL OR phone = :phone) AND \\n&quot; +\n         &quot; (:age IS NULL OR age = :age)&quot; +,\n        parameters,\n        new RealTimeDTOMapper());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669241814,"creation_date":1669241435,"answer_id":74553517,"question_id":51160468,"body_markdown":"To improve an existing answer, Keep a static query with only bind parameters. Don&#39;t &#39;build&#39; a sql to avoid the pitfall of caching issues and sql injection.\r\n\r\n\r\n    List&lt;RealTimeDTO&gt; query(String name, String phone, int age) {\r\n        NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\r\n    \r\n        String sql = &quot;SELECT foo, bar FROM FooBar&quot; +\r\n                     &quot; WHERE (:name IS NULL OR name = :name)&quot; +\r\n                     &quot; AND (:phone IS NULL OR phone = :phone)&quot; +\r\n                     &quot; AND (:age = 0 OR age = :age)&quot;;\r\n        params.put(&quot;name&quot;, name);\r\n        params.put(&quot;phone&quot;, phone);\r\n        params.put(&quot;age&quot;, age);\r\n        return jdbcTemplate.query(sql, params, new CCCRowMapper());\r\n    }\r\n\r\n\r\n","title":"JDBCTemplate optional parameters","body":"<p>To improve an existing answer, Keep a static query with only bind parameters. Don't 'build' a sql to avoid the pitfall of caching issues and sql injection.</p>\n<pre><code>List&lt;RealTimeDTO&gt; query(String name, String phone, int age) {\n    NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\n\n    String sql = &quot;SELECT foo, bar FROM FooBar&quot; +\n                 &quot; WHERE (:name IS NULL OR name = :name)&quot; +\n                 &quot; AND (:phone IS NULL OR phone = :phone)&quot; +\n                 &quot; AND (:age = 0 OR age = :age)&quot;;\n    params.put(&quot;name&quot;, name);\n    params.put(&quot;phone&quot;, phone);\n    params.put(&quot;age&quot;, age);\n    return jdbcTemplate.query(sql, params, new CCCRowMapper());\n}\n</code></pre>\n"}],"owner":{"account_id":12899087,"reputation":585,"user_id":9328545,"accept_rate":75,"display_name":"Robin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19573,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":51160628,"answer_count":4,"score":8,"last_activity_date":1669241814,"creation_date":1530640527,"question_id":51160468,"body_markdown":"I am using spring JDBCTemplate.\r\n\r\n---\r\n\r\nI have a scenario, where the parameters that need to be passed into my query function, are conditional/optional. For example, I have the following code:\r\n\r\n    List&lt;RealTimeDTO&gt; result = jdbcTemplate.query(sql, new Object[] {custId, \r\n    number, requestType, startDate, endDate}, new CCCRowMapper());\r\n\r\nIn the code, I passed in `custId, number, requestType, etc.` However, `requestType` is an optional parameter that may come back as `null` or `empty` so I don&#39;t want it to be passed into the `Object[]` if it is either `null` or `empty`. \r\n\r\nWhat can I do to handle this type of situation? \r\n\r\nI could introduce logic where I only pass in the parameters I want into the `Object[]`, however, I was wondering if there is an already built in functionality that handles this instead of me reinventing the wheel.\r\n\r\n\r\n","title":"JDBCTemplate optional parameters","body":"<p>I am using spring JDBCTemplate.</p>\n\n<hr>\n\n<p>I have a scenario, where the parameters that need to be passed into my query function, are conditional/optional. For example, I have the following code:</p>\n\n<pre><code>List&lt;RealTimeDTO&gt; result = jdbcTemplate.query(sql, new Object[] {custId, \nnumber, requestType, startDate, endDate}, new CCCRowMapper());\n</code></pre>\n\n<p>In the code, I passed in <code>custId, number, requestType, etc.</code> However, <code>requestType</code> is an optional parameter that may come back as <code>null</code> or <code>empty</code> so I don't want it to be passed into the <code>Object[]</code> if it is either <code>null</code> or <code>empty</code>. </p>\n\n<p>What can I do to handle this type of situation? </p>\n\n<p>I could introduce logic where I only pass in the parameters I want into the <code>Object[]</code>, however, I was wondering if there is an already built in functionality that handles this instead of me reinventing the wheel.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":9849782,"reputation":345,"user_id":7296184,"display_name":"getjackx"},"score":0,"creation_date":1493126339,"post_id":43611525,"comment_id":74272432,"body_markdown":"Edit Fix: try [this page](https://docs.gradle.org/3.4.1/dsl/org.gradle.api.tasks.JavaExec.html). Old comment: Just guessing but isn&#39;t that what you want a plugin? The properties you use may not be available in a task. Would you bother to include more details of your build.gradle to give us information about the plugins you use?","body":"Edit Fix: try <a href=\"https://docs.gradle.org/3.4.1/dsl/org.gradle.api.tasks.JavaExec.html\" rel=\"nofollow noreferrer\">this page</a>. Old comment: Just guessing but isn&#39;t that what you want a plugin? The properties you use may not be available in a task. Would you bother to include more details of your build.gradle to give us information about the plugins you use?"}],"answers":[{"tags":[],"owner":{"account_id":27720,"reputation":13164,"user_id":73446,"accept_rate":80,"display_name":"gregwhitaker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493223052,"creation_date":1493223052,"answer_id":43639451,"question_id":43611525,"body_markdown":"You need to use the `main` property on the `JavaExec` task.  The `mainClassName` property does not exist.\r\n\r\n    task resources_cleaner_bl(type: JavaExec) {\r\n        classpath sourceSets.main.runtimeClasspath\r\n        systemProperties[&#39;cleanTarget&#39;] = &#39;bl&#39;\r\n        main = &quot;com.w.routing.automation.runners.cleaner.ResourcesCleanerRunner&quot;\r\n    }\r\n\r\nhttps://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html","title":"gradle &quot;No main class specified&quot; even though main class exists","body":"<p>You need to use the <code>main</code> property on the <code>JavaExec</code> task.  The <code>mainClassName</code> property does not exist.</p>\n\n<pre><code>task resources_cleaner_bl(type: JavaExec) {\n    classpath sourceSets.main.runtimeClasspath\n    systemProperties['cleanTarget'] = 'bl'\n    main = \"com.w.routing.automation.runners.cleaner.ResourcesCleanerRunner\"\n}\n</code></pre>\n\n<p><a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html</a></p>\n"},{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1575463668,"creation_date":1575463668,"answer_id":59176426,"question_id":43611525,"body_markdown":"There are several ways to do it , please see the below code.\r\n\r\n   \r\n\r\n     //To run the class name from command line using gradle run\r\n    mainClassName = &#39;com.sam.home.HelloWorld&#39;\r\n    \r\n    //To create a runnable jar  in GradleJavaProject\\build\\libs then java -jar GradleJavaProject.jar\r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;com.sam.home.HelloWorld&#39;\r\n        }\r\n    }\r\n    \r\n    //Alternatively you can run it as a task too gradle -q  runWithJavaExec\r\n    task runWithJavaExec(type: JavaExec) {\r\n        group = &quot;Execution&quot;\r\n        description = &quot;Run the main class with JavaExecTask&quot;\r\n        classpath = sourceSets.main.runtimeClasspath\r\n        main = &#39;com.sam.home.HelloWorld&#39;\r\n    }","title":"gradle &quot;No main class specified&quot; even though main class exists","body":"<p>There are several ways to do it , please see the below code.</p>\n\n<pre><code> //To run the class name from command line using gradle run\nmainClassName = 'com.sam.home.HelloWorld'\n\n//To create a runnable jar  in GradleJavaProject\\build\\libs then java -jar GradleJavaProject.jar\njar {\n    manifest {\n        attributes 'Main-Class': 'com.sam.home.HelloWorld'\n    }\n}\n\n//Alternatively you can run it as a task too gradle -q  runWithJavaExec\ntask runWithJavaExec(type: JavaExec) {\n    group = \"Execution\"\n    description = \"Run the main class with JavaExecTask\"\n    classpath = sourceSets.main.runtimeClasspath\n    main = 'com.sam.home.HelloWorld'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12114036,"reputation":471,"user_id":9950567,"display_name":"Sham Fiorin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611169524,"creation_date":1589996819,"answer_id":61919570,"question_id":43611525,"body_markdown":"On `build.gradle`, add the line\r\n\r\n    mainClassName = &#39;com.sam.home.HelloWorld&#39;\r\n\r\nDefine the main class and it&#39;s all that you need for this problem.","title":"gradle &quot;No main class specified&quot; even though main class exists","body":"<p>On <code>build.gradle</code>, add the line</p>\n<pre><code>mainClassName = 'com.sam.home.HelloWorld'\n</code></pre>\n<p>Define the main class and it's all that you need for this problem.</p>\n"},{"tags":[],"owner":{"account_id":16443277,"reputation":186,"user_id":11878891,"display_name":"belmel ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669241055,"creation_date":1669240691,"answer_id":74553417,"question_id":43611525,"body_markdown":"in app/build.gradle \r\n   \r\n\r\n     application {\r\n            mainClass = &#39;demo.App&#39; \r\n        }\r\nto Define the main class for the application.\r\n\r\n[Building Java Applications Sample gradle official website ][1]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/samples/sample_building_java_applications.html","title":"gradle &quot;No main class specified&quot; even though main class exists","body":"<p>in app/build.gradle</p>\n<pre><code> application {\n        mainClass = 'demo.App' \n    }\n</code></pre>\n<p>to Define the main class for the application.</p>\n<p><a href=\"https://docs.gradle.org/current/samples/sample_building_java_applications.html\" rel=\"nofollow noreferrer\">Building Java Applications Sample gradle official website </a></p>\n"}],"owner":{"account_id":1065081,"reputation":14102,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20223,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1669241055,"creation_date":1493125490,"question_id":43611525,"body_markdown":"I try to run this gradle task:\r\n\r\n    task resources_cleaner_bl(type: JavaExec) {\r\n        classpath sourceSets.main.runtimeClasspath\r\n        systemProperties[&#39;cleanTarget&#39;] = &#39;bl&#39;\r\n        mainClassName = &quot;com.w.routing.automation.runners.cleaner.ResourcesCleanerRunner&quot;\r\n    }\r\n\r\nwith this Java code:\r\n\r\n    package com.w.routing.automation.runners.cleaner;\r\n    \r\n    public class ResourcesCleanerRunner {\r\n    \r\n    \r\n        private static IResourcesCleaner resourcesCleaner;\r\n        private static Injector injector;\r\n    \r\n    \r\n        public static void main(String args[]) {\r\n            init();\r\n            String cleanTarget = System.getProperty(&quot;cleanTarget&quot;);\r\n            switch (cleanTarget) {\r\n\r\nbut i get this error:\r\n\r\n\r\n \r\n\r\n    15:48:06.532 [ERROR] [org.gradle.BuildExceptionReporter] FAILURE: Build failed with an exception.\r\n    15:48:06.533 [ERROR] [org.gradle.BuildExceptionReporter] \r\n    15:48:06.549 [ERROR] [org.gradle.BuildExceptionReporter] * What went wrong:\r\n    15:48:06.549 [ERROR] [org.gradle.BuildExceptionReporter] Execution failed for task &#39;:resources_cleaner_bl&#39;.\r\n    15:48:06.549 [ERROR] [org.gradle.BuildExceptionReporter] &gt; No main class specified\r\n    15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter] \r\n    15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter] * Exception is:\r\n    15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter] org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:resources_cleaner_bl&#39;.\r\n    15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\r\n    15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\r\n    15:48:06.551 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\r\n    15:48:06.551 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\r\n    15:48:06.551 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n    15:48:06.552 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\r\n    15:48:06.552 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n    15:48:06.553 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\r\n    15:48:06.553 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n    15:48:06.553 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\r\n    15:48:06.577 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\r\n    15:48:06.577 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.Factories$1.create(Factories.java:22)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:94)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:75)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:45)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:51)\r\n    15:48:06.582 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:28)\r\n    15:48:06.582 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)\r\n    15:48:06.582 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)\r\n    15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:127)\r\n    15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:56)\r\n    15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: java.lang.IllegalStateException: No main class specified\r\n    15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.process.internal.JavaExecHandleBuilder.build(JavaExecHandleBuilder.java:212)\r\n    15:48:06.585 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:28)\r\n    15:48:06.585 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.tasks.JavaExec.exec(JavaExec.java:74)\r\n    15:48:06.585 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\r\n\r\n\r\nwhat am i missing as i have the main class with the right namespace?","title":"gradle &quot;No main class specified&quot; even though main class exists","body":"<p>I try to run this gradle task:</p>\n\n<pre><code>task resources_cleaner_bl(type: JavaExec) {\n    classpath sourceSets.main.runtimeClasspath\n    systemProperties['cleanTarget'] = 'bl'\n    mainClassName = \"com.w.routing.automation.runners.cleaner.ResourcesCleanerRunner\"\n}\n</code></pre>\n\n<p>with this Java code:</p>\n\n<pre><code>package com.w.routing.automation.runners.cleaner;\n\npublic class ResourcesCleanerRunner {\n\n\n    private static IResourcesCleaner resourcesCleaner;\n    private static Injector injector;\n\n\n    public static void main(String args[]) {\n        init();\n        String cleanTarget = System.getProperty(\"cleanTarget\");\n        switch (cleanTarget) {\n</code></pre>\n\n<p>but i get this error:</p>\n\n<pre><code>15:48:06.532 [ERROR] [org.gradle.BuildExceptionReporter] FAILURE: Build failed with an exception.\n15:48:06.533 [ERROR] [org.gradle.BuildExceptionReporter] \n15:48:06.549 [ERROR] [org.gradle.BuildExceptionReporter] * What went wrong:\n15:48:06.549 [ERROR] [org.gradle.BuildExceptionReporter] Execution failed for task ':resources_cleaner_bl'.\n15:48:06.549 [ERROR] [org.gradle.BuildExceptionReporter] &gt; No main class specified\n15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter] \n15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter] * Exception is:\n15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter] org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':resources_cleaner_bl'.\n15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\n15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\n15:48:06.551 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\n15:48:06.551 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n15:48:06.551 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n15:48:06.552 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\n15:48:06.552 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n15:48:06.553 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\n15:48:06.553 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n15:48:06.553 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\n15:48:06.577 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\n15:48:06.577 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.Factories$1.create(Factories.java:22)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:94)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:75)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:45)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:51)\n15:48:06.582 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:28)\n15:48:06.582 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)\n15:48:06.582 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)\n15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:127)\n15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:56)\n15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: java.lang.IllegalStateException: No main class specified\n15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.process.internal.JavaExecHandleBuilder.build(JavaExecHandleBuilder.java:212)\n15:48:06.585 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:28)\n15:48:06.585 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.tasks.JavaExec.exec(JavaExec.java:74)\n15:48:06.585 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\n</code></pre>\n\n<p>what am i missing as i have the main class with the right namespace?</p>\n"},{"tags":["java","spring","spring-boot","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":4094217,"reputation":3104,"user_id":3361467,"display_name":"Ray"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607583601,"creation_date":1607583601,"answer_id":65229820,"question_id":65225133,"body_markdown":"First of all: Thank you for using this little side project. :-)\r\n\r\nRegarding your question: Yes, this is exactly what the Spring extensions project does at the moment: It generates the adapter class. So in your `MapperSpringConfig`&#39;s `uses` attribute, you can point at the generated class. (BTW, you don&#39;t have to create a separate Config class, you may just as well rely on the individual Mapper&#39;s `uses`. This was only for illustrational purpose.)\r\n\r\nWithout any special configuration for the extensions project itself, the adapter class will be generated with this name: `org.mapstruct.extensions.spring.converter.ConversionServiceAdapter`.\r\n\r\nIf you wish to change this, add a `@SpringMapperConfig` annotation - see [this example][1].\r\n\r\nAnd now, as the project&#39;s maintainer, please let me apologize for the unclear usage. I&#39;m still on the documentation, but this is actually the main reason why I&#39;ve assigned a version number of `0.0.1`. The extensions works as it&#39;s supposed to. If you encounter any issues, please feel free to contact us on one of the usual channels.\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct-spring-extensions/blob/master/examples/packagename-and-classname/src/main/java/org/mapstruct/extensions/spring/example/packageandclass/MapperSpringConfig.java","title":"How to create ConversionServiceAdapter - MapStruct Spring Extension","body":"<p>First of all: Thank you for using this little side project. :-)</p>\n<p>Regarding your question: Yes, this is exactly what the Spring extensions project does at the moment: It generates the adapter class. So in your <code>MapperSpringConfig</code>'s <code>uses</code> attribute, you can point at the generated class. (BTW, you don't have to create a separate Config class, you may just as well rely on the individual Mapper's <code>uses</code>. This was only for illustrational purpose.)</p>\n<p>Without any special configuration for the extensions project itself, the adapter class will be generated with this name: <code>org.mapstruct.extensions.spring.converter.ConversionServiceAdapter</code>.</p>\n<p>If you wish to change this, add a <code>@SpringMapperConfig</code> annotation - see <a href=\"https://github.com/mapstruct/mapstruct-spring-extensions/blob/master/examples/packagename-and-classname/src/main/java/org/mapstruct/extensions/spring/example/packageandclass/MapperSpringConfig.java\" rel=\"nofollow noreferrer\">this example</a>.</p>\n<p>And now, as the project's maintainer, please let me apologize for the unclear usage. I'm still on the documentation, but this is actually the main reason why I've assigned a version number of <code>0.0.1</code>. The extensions works as it's supposed to. If you encounter any issues, please feel free to contact us on one of the usual channels.</p>\n"},{"tags":[],"owner":{"account_id":1979652,"reputation":7771,"user_id":2161118,"display_name":"S34N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669240320,"creation_date":1669240320,"answer_id":74553372,"question_id":65225133,"body_markdown":"This can be achieved in the following link, as of March 2021:\r\n[Spring Extension Unit Test with Mapstruct][1]\r\n\r\nSummary:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration(\r\n        classes = {ConversionServiceAdapterIntegrationTest.AdditionalBeanConfiguration.class})\r\n    public class ConversionServiceAdapterIntegrationTest {\r\n    ....\r\n     @ComponentScan(basePackages = {&quot;org.mapstruct.extensions.spring&quot;, &quot;io.net.mapper&quot;})\r\n    @TestComponent\r\n      static class AdditionalBeanConfiguration {\r\n        @Bean\r\n        ConfigurableConversionService getConversionService() {\r\n          return new DefaultConversionService();\r\n        }\r\n\r\n      }\r\n        }\r\n\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct-spring-extensions/blob/main/examples/packagename-and-classname/src/test/java/org/mapstruct/extensions/spring/example/ConversionServiceAdapterIntegrationTest.java","title":"How to create ConversionServiceAdapter - MapStruct Spring Extension","body":"<p>This can be achieved in the following link, as of March 2021:\n<a href=\"https://github.com/mapstruct/mapstruct-spring-extensions/blob/main/examples/packagename-and-classname/src/test/java/org/mapstruct/extensions/spring/example/ConversionServiceAdapterIntegrationTest.java\" rel=\"nofollow noreferrer\">Spring Extension Unit Test with Mapstruct</a></p>\n<p>Summary:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(\n    classes = {ConversionServiceAdapterIntegrationTest.AdditionalBeanConfiguration.class})\npublic class ConversionServiceAdapterIntegrationTest {\n....\n @ComponentScan(basePackages = {&quot;org.mapstruct.extensions.spring&quot;, &quot;io.net.mapper&quot;})\n@TestComponent\n  static class AdditionalBeanConfiguration {\n    @Bean\n    ConfigurableConversionService getConversionService() {\n      return new DefaultConversionService();\n    }\n\n  }\n    }\n</code></pre>\n"}],"owner":{"account_id":11098274,"reputation":835,"user_id":8147680,"display_name":"Nitin Nanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2020,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669240320,"creation_date":1607549079,"question_id":65225133,"body_markdown":"I am trying to use the build 0.0.1 of the MapStruct Spring Extensions. I am not able to get how the ConversionServiceAdapter class will be created? On the [official website][1] it is mentioned\r\n\r\n`````\r\nannotations and extensions defined in this project will generate a class acting as bridge between MapStruct’s conventions and Spring’s ConversionService API\r\n`````\r\nWhat is the class they are talking about? Is it the ConversionServiceAdapter?\r\nFollowing are my classes\r\n`````\r\n@Getter\r\n@Setter\r\n@FieldNameConstants\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class Car {\r\n\r\n  private String name;\r\n  private String model;\r\n  private LocalDate year;\r\n\r\n  Company company;\r\n}\r\n`````\r\n`````\r\n@Getter\r\n@Setter\r\n@FieldNameConstants\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class Company {\r\n\r\n  private String companyName;\r\n\r\n  private Address address;\r\n}\r\n\r\n`````\r\nAssume that the CarDto and CompanyDto structure is the same. \r\n\r\n`````\r\n@Mapper(config = MapperSpringConfig.class)\r\npublic interface CarMapper extends Converter&lt;Car, CarDto&gt; {\r\n\r\n  CarDto convert(Car car); \r\n}\r\n`````\r\n`````\r\n@MapperConfig(componentModel = &quot;spring&quot;, uses = ConversionServiceAdapter.class)\r\npublic interface MapperSpringConfig {\r\n\r\n}\r\n`````\r\nNow should I be creating a ConversionServiceAdapter class myself like this or it has to be generated somehow by the Mapstruct spring extensions. If it is to be created by the extension, should I put `uses = ConversionServiceAdapter.class` in the `@MapperConfig` above? How does it work?\r\n`````\r\n@Component\r\npublic class ConversionServiceAdapter {\r\n\r\n  @Autowired\r\n  private ConversionService conversionService;\r\n\r\n  public CarDto mapCarToCarDto(final Car source) {\r\n    return conversionService.convert(source, CarDto.class);\r\n  }\r\n\r\n  public CompanyDto mapCompanyToCompanyDto(final Company source) {\r\n    return conversionService.convert(source, CompanyDto.class);\r\n  }\r\n}\r\n\r\n`````\r\nI could not find any documentation or release notes on the website. There is a link to the examples on the [github][2] but they are not enough and do not explain clearly how to use it.\r\n\r\nPlease ask for any details that you need from my side.\r\n\r\n\r\n  [1]: https://mapstruct.org/news/2020-12-03-mapstruct-spring-extensions-0-0-1-released/\r\n  [2]: https://github.com/mapstruct/mapstruct-spring-extensions/tree/master/examples","title":"How to create ConversionServiceAdapter - MapStruct Spring Extension","body":"<p>I am trying to use the build 0.0.1 of the MapStruct Spring Extensions. I am not able to get how the ConversionServiceAdapter class will be created? On the <a href=\"https://mapstruct.org/news/2020-12-03-mapstruct-spring-extensions-0-0-1-released/\" rel=\"nofollow noreferrer\">official website</a> it is mentioned</p>\n<pre><code>annotations and extensions defined in this project will generate a class acting as bridge between MapStruct’s conventions and Spring’s ConversionService API\n</code></pre>\n<p>What is the class they are talking about? Is it the ConversionServiceAdapter?\nFollowing are my classes</p>\n<pre><code>@Getter\n@Setter\n@FieldNameConstants\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class Car {\n\n  private String name;\n  private String model;\n  private LocalDate year;\n\n  Company company;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@FieldNameConstants\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class Company {\n\n  private String companyName;\n\n  private Address address;\n}\n\n</code></pre>\n<p>Assume that the CarDto and CompanyDto structure is the same.</p>\n<pre><code>@Mapper(config = MapperSpringConfig.class)\npublic interface CarMapper extends Converter&lt;Car, CarDto&gt; {\n\n  CarDto convert(Car car); \n}\n</code></pre>\n<pre><code>@MapperConfig(componentModel = &quot;spring&quot;, uses = ConversionServiceAdapter.class)\npublic interface MapperSpringConfig {\n\n}\n</code></pre>\n<p>Now should I be creating a ConversionServiceAdapter class myself like this or it has to be generated somehow by the Mapstruct spring extensions. If it is to be created by the extension, should I put <code>uses = ConversionServiceAdapter.class</code> in the <code>@MapperConfig</code> above? How does it work?</p>\n<pre><code>@Component\npublic class ConversionServiceAdapter {\n\n  @Autowired\n  private ConversionService conversionService;\n\n  public CarDto mapCarToCarDto(final Car source) {\n    return conversionService.convert(source, CarDto.class);\n  }\n\n  public CompanyDto mapCompanyToCompanyDto(final Company source) {\n    return conversionService.convert(source, CompanyDto.class);\n  }\n}\n\n</code></pre>\n<p>I could not find any documentation or release notes on the website. There is a link to the examples on the <a href=\"https://github.com/mapstruct/mapstruct-spring-extensions/tree/master/examples\" rel=\"nofollow noreferrer\">github</a> but they are not enough and do not explain clearly how to use it.</p>\n<p>Please ask for any details that you need from my side.</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":3701688,"reputation":3358,"user_id":3081206,"display_name":"takendarkk"},"score":1,"creation_date":1397062003,"post_id":22968914,"comment_id":35071890,"body_markdown":"If you want a random num between say 50-100 you just use `50 + random.nextInt(51)`.","body":"If you want a random num between say 50-100 you just use <code>50 + random.nextInt(51)</code>."},{"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1397063869,"post_id":22968914,"comment_id":35073142,"body_markdown":"I&#39;m supposed to generate a random `long` for a file size with a given limit of bytes (usually between a few `MB` and a few `GB`), so all the functions are expecting a `long`.","body":"I&#39;m supposed to generate a random <code>long</code> for a file size with a given limit of bytes (usually between a few <code>MB</code> and a few <code>GB</code>), so all the functions are expecting a <code>long</code>."},{"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1397063933,"post_id":22968914,"comment_id":35073186,"body_markdown":"@user902383 : You actually cannot do `min + Random.nextLong(max-min);`, because there is no method `nextLong` accepting parameters.","body":"@user902383 : You actually cannot do <code>min + Random.nextLong(max-min);</code>, because there is no method <code>nextLong</code> accepting parameters."},{"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1397065481,"post_id":22968914,"comment_id":35074207,"body_markdown":"This answer was also quite useful: http://stackoverflow.com/questions/22968914/how-to-generate-a-random-long-between-x-and-y-in-java/22969061?noredirect=1#comment35073731_22969061.","body":"This answer was also quite useful: <a href=\"http://stackoverflow.com/questions/22968914/how-to-generate-a-random-long-between-x-and-y-in-java/22969061?noredirect=1#comment35073731_22969061\" title=\"how to generate a random long between x and y in java\">stackoverflow.com/questions/22968914/&hellip;</a>."},{"owner":{"account_id":555716,"reputation":12977,"user_id":2192494,"display_name":"Lee Daniel Crocker"},"score":0,"creation_date":1397067434,"post_id":22968914,"comment_id":35075437,"body_markdown":"A Java double has only 52 bits of precision, so if the range of longs you need is larger than 2**52, you&#39;ll either have to settle for not getting all the possible values in the range, or else do the range-limiting yourself after calling nextLong() (or perhaps nextDouble() twice). How best to do that depends on your application&#39;s needs. A library function might not be ideal.","body":"A Java double has only 52 bits of precision, so if the range of longs you need is larger than 2**52, you&#39;ll either have to settle for not getting all the possible values in the range, or else do the range-limiting yourself after calling nextLong() (or perhaps nextDouble() twice). How best to do that depends on your application&#39;s needs. A library function might not be ideal."}],"answers":[{"tags":[],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1397062324,"creation_date":1397062324,"answer_id":22969061,"question_id":22968914,"body_markdown":"As others have said, you can just use the lower + random * (upper-lower+1) formula. It should be pretty obvious why that works, but if not, try working through a few examples. Also, if you have a formula to get an int between two numbers, that same formula will work with longs. What happened when you tried?\r\n\r\nHowever, if you really want an out-of-the-box way to do this, Java 8 adds a method to the Random class that gives you random long values in a range: http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#longs-long-long-long-","title":"How to generate a random long between X and Y in Java?","body":"<p>As others have said, you can just use the lower + random * (upper-lower+1) formula. It should be pretty obvious why that works, but if not, try working through a few examples. Also, if you have a formula to get an int between two numbers, that same formula will work with longs. What happened when you tried?</p>\n\n<p>However, if you really want an out-of-the-box way to do this, Java 8 adds a method to the Random class that gives you random long values in a range: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#longs-long-long-long-\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#longs-long-long-long-</a></p>\n"},{"tags":[],"owner":{"account_id":555716,"reputation":12977,"user_id":2192494,"display_name":"Lee Daniel Crocker"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1397068400,"creation_date":1397068400,"answer_id":22971121,"question_id":22968914,"body_markdown":"My Java&#39;s a little rusty, but here&#39;s an adaptation of some C code of mine that should produce a long value within the given limits, perfectly uniform, and with full 64-bit precision.\r\n\r\n    long longInRange(long min, long max) {\r\n        long v, range = max - min;\r\n        long mask = range;\r\n\r\n        mask != mask &gt;&gt; 1;\r\n        mask != mask &gt;&gt; 2;\r\n        mask != mask &gt;&gt; 4;\r\n        mask != mask &gt;&gt; 8;\r\n        mask != mask &gt;&gt; 16;\r\n        mask != mask &gt;&gt; 32;\r\n\r\n        do {\r\n            v = m &amp; random.nextLong();\r\n        } while (v &gt;= range);\r\n\r\n        return v + min;\r\n    }\r\n","title":"How to generate a random long between X and Y in Java?","body":"<p>My Java's a little rusty, but here's an adaptation of some C code of mine that should produce a long value within the given limits, perfectly uniform, and with full 64-bit precision.</p>\n\n<pre><code>long longInRange(long min, long max) {\n    long v, range = max - min;\n    long mask = range;\n\n    mask != mask &gt;&gt; 1;\n    mask != mask &gt;&gt; 2;\n    mask != mask &gt;&gt; 4;\n    mask != mask &gt;&gt; 8;\n    mask != mask &gt;&gt; 16;\n    mask != mask &gt;&gt; 32;\n\n    do {\n        v = m &amp; random.nextLong();\n    } while (v &gt;= range);\n\n    return v + min;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22938461,"reputation":538,"user_id":17071589,"display_name":"abdella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669240253,"creation_date":1669240253,"answer_id":74553361,"question_id":22968914,"body_markdown":"Here is to generate a random long between min and max.\r\n\r\n```\r\n    long leftLimit = 1L;\r\n    long rightLimit = 10L;\r\n    long generatedLong = leftLimit + (long) (Math.random() * (rightLimit - leftLimit));\r\n```\r\nclick [here][1] for detail.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-generate-random-long-float-integer-double","title":"How to generate a random long between X and Y in Java?","body":"<p>Here is to generate a random long between min and max.</p>\n<pre><code>    long leftLimit = 1L;\n    long rightLimit = 10L;\n    long generatedLong = leftLimit + (long) (Math.random() * (rightLimit - leftLimit));\n</code></pre>\n<p>click <a href=\"https://www.baeldung.com/java-generate-random-long-float-integer-double\" rel=\"nofollow noreferrer\">here</a> for detail.</p>\n"}],"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3511,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":22969061,"answer_count":3,"score":5,"last_activity_date":1669240253,"creation_date":1397061903,"question_id":22968914,"body_markdown":"Excuse me, if this is plain obvious, but I don&#39;t quite get it. Why doesn&#39;t the `Random` class simply have a `Random.nextInt(min, max)` or `Random.nextLong(min, max)` method? What&#39;s the deal with this cryptic and overly unintuitive way of doing things?\r\n\r\nI&#39;ve seen examples of how to get a random `int` between `1` and `100`, for example, but I can&#39;t figure out how one would do this for a `long` instead. Could somebody please illustrate this and maybe explain the need to have this done in such a confusing way...?","title":"How to generate a random long between X and Y in Java?","body":"<p>Excuse me, if this is plain obvious, but I don't quite get it. Why doesn't the <code>Random</code> class simply have a <code>Random.nextInt(min, max)</code> or <code>Random.nextLong(min, max)</code> method? What's the deal with this cryptic and overly unintuitive way of doing things?</p>\n\n<p>I've seen examples of how to get a random <code>int</code> between <code>1</code> and <code>100</code>, for example, but I can't figure out how one would do this for a <code>long</code> instead. Could somebody please illustrate this and maybe explain the need to have this done in such a confusing way...?</p>\n"},{"tags":["java","hash","equals","hashcode"],"comments":[{"owner":{"account_id":1765312,"reputation":463,"user_id":2335486,"accept_rate":29,"display_name":"Diablo"},"score":3,"creation_date":1458215150,"post_id":113511,"comment_id":59765784,"body_markdown":"with Java 7+, I guess `Objects.hashCode(collection)` should be a perfect solution!","body":"with Java 7+, I guess <code>Objects.hashCode(collection)</code> should be a perfect solution!"},{"owner":{"account_id":3622644,"reputation":1216,"user_id":3248882,"display_name":"cbreezier"},"score":3,"creation_date":1461044155,"post_id":113511,"comment_id":61005885,"body_markdown":"@Diablo I don&#39;t think that answers the question at all - that method simply returns `collection.hashCode()` (http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/Objects.java#l95)","body":"@Diablo I don&#39;t think that answers the question at all - that method simply returns <code>collection.hashCode()</code> (<a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/Objects.java#l95\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/sha&zwnj;&#8203;re/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":855,"reputation":3955,"user_id":1119,"accept_rate":100,"display_name":"Chris Carruthers"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1222068511,"creation_date":1222066854,"answer_id":113530,"question_id":113511,"body_markdown":"For a simple class it is often easiest to implement hashCode() based on the class fields which are checked by the equals() implementation.\r\n\r\n    public class Zam {\r\n        private String foo;\r\n        private String bar;\r\n        private String somethingElse;\r\n\r\n        public boolean equals(Object obj) {\r\n            if (this == obj) {\r\n                return true;\r\n            }\r\n        \r\n            if (obj == null) {\r\n                return false;\r\n            }\r\n            \r\n            if (getClass() != obj.getClass()) {\r\n                return false;\r\n            }\r\n        \r\n            Zam otherObj = (Zam)obj;\r\n        \r\n            if ((getFoo() == null &amp;&amp; otherObj.getFoo() == null) || (getFoo() != null &amp;&amp; getFoo().equals(otherObj.getFoo()))) {\r\n                if ((getBar() == null &amp;&amp; otherObj. getBar() == null) || (getBar() != null &amp;&amp; getBar().equals(otherObj. getBar()))) {\r\n                    return true;\r\n                }\r\n            }\r\n        \r\n            return false;\r\n        }\r\n\r\n        public int hashCode() {\r\n            return (getFoo() + getBar()).hashCode();\r\n        }\r\n\r\n        public String getFoo() {\r\n            return foo;\r\n        }\r\n\r\n        public String getBar() {\r\n            return bar;\r\n        }\r\n    }\r\n\r\nThe most important thing is to keep hashCode() and equals() consistent: if equals() returns true for two objects, then hashCode() should return the same value. If equals() returns false, then hashCode() should return different values.","title":"Best implementation for hashCode method for a collection","body":"<p>For a simple class it is often easiest to implement hashCode() based on the class fields which are checked by the equals() implementation.</p>\n\n<pre><code>public class Zam {\n    private String foo;\n    private String bar;\n    private String somethingElse;\n\n    public boolean equals(Object obj) {\n        if (this == obj) {\n            return true;\n        }\n\n        if (obj == null) {\n            return false;\n        }\n\n        if (getClass() != obj.getClass()) {\n            return false;\n        }\n\n        Zam otherObj = (Zam)obj;\n\n        if ((getFoo() == null &amp;&amp; otherObj.getFoo() == null) || (getFoo() != null &amp;&amp; getFoo().equals(otherObj.getFoo()))) {\n            if ((getBar() == null &amp;&amp; otherObj. getBar() == null) || (getBar() != null &amp;&amp; getBar().equals(otherObj. getBar()))) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public int hashCode() {\n        return (getFoo() + getBar()).hashCode();\n    }\n\n    public String getFoo() {\n        return foo;\n    }\n\n    public String getBar() {\n        return bar;\n    }\n}\n</code></pre>\n\n<p>The most important thing is to keep hashCode() and equals() consistent: if equals() returns true for two objects, then hashCode() should return the same value. If equals() returns false, then hashCode() should return different values.</p>\n"},{"tags":[],"owner":{"account_id":8780,"reputation":19486,"user_id":15962,"display_name":"SquareCog"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1222067176,"creation_date":1222067176,"answer_id":113548,"question_id":113511,"body_markdown":"@about8 : there is a pretty serious bug there.  \r\n\r\n    Zam obj1 = new Zam(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;);\r\n    Zam obj2 = new Zam(&quot;fo&quot;, &quot;obar&quot;, &quot;baz&quot;);\r\n\r\nsame hashcode\r\n\r\nyou probably want something like\r\n\r\n    public int hashCode() {\r\n        return (getFoo().hashCode() + getBar().hashCode()).toString().hashCode();\r\n\r\n(can you get hashCode directly from int in Java these days? I think it does some autocasting.. if that&#39;s the case, skip the toString, it&#39;s ugly.)","title":"Best implementation for hashCode method for a collection","body":"<p>@about8 : there is a pretty serious bug there.  </p>\n\n<pre><code>Zam obj1 = new Zam(\"foo\", \"bar\", \"baz\");\nZam obj2 = new Zam(\"fo\", \"obar\", \"baz\");\n</code></pre>\n\n<p>same hashcode</p>\n\n<p>you probably want something like</p>\n\n<pre><code>public int hashCode() {\n    return (getFoo().hashCode() + getBar().hashCode()).toString().hashCode();\n</code></pre>\n\n<p>(can you get hashCode directly from int in Java these days? I think it does some autocasting.. if that's the case, skip the toString, it's ugly.)</p>\n"},{"tags":[],"owner":{"account_id":956,"reputation":12920,"user_id":1265,"accept_rate":82,"display_name":"Grey Panther"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1222067290,"creation_date":1222067290,"answer_id":113556,"question_id":113511,"body_markdown":"First make sure that equals is implemented correctly. From [an IBM DeveloperWorks article][1]:\r\n\r\n&gt; - Symmetry: For two references, a and b, a.equals(b) if and only if b.equals(a)\r\n&gt; - Reflexivity: For all non-null references, a.equals(a)\r\n&gt; - Transitivity: If a.equals(b) and b.equals(c), then a.equals(c) \r\n\r\nThen make sure that their relation with hashCode respects the contact (from the same article):\r\n\r\n&gt; - Consistency with hashCode(): Two equal objects must have the same hashCode() value\r\n\r\nFinally a good hash function should strive to approach the [ideal hash function][2].\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-jtp05273.html#N10184\r\n  [2]: http://en.wikipedia.org/wiki/Hash_function#Properties","title":"Best implementation for hashCode method for a collection","body":"<p>First make sure that equals is implemented correctly. From <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp05273.html#N10184\" rel=\"noreferrer\">an IBM DeveloperWorks article</a>:</p>\n\n<blockquote>\n  <ul>\n  <li>Symmetry: For two references, a and b, a.equals(b) if and only if b.equals(a)</li>\n  <li>Reflexivity: For all non-null references, a.equals(a)</li>\n  <li>Transitivity: If a.equals(b) and b.equals(c), then a.equals(c) </li>\n  </ul>\n</blockquote>\n\n<p>Then make sure that their relation with hashCode respects the contact (from the same article):</p>\n\n<blockquote>\n  <ul>\n  <li>Consistency with hashCode(): Two equal objects must have the same hashCode() value</li>\n  </ul>\n</blockquote>\n\n<p>Finally a good hash function should strive to approach the <a href=\"http://en.wikipedia.org/wiki/Hash_function#Properties\" rel=\"noreferrer\">ideal hash function</a>.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1222067292,"creation_date":1222067292,"answer_id":113557,"question_id":113511,"body_markdown":"Just a quick note for completing other more detailed answer (in term of code):\r\n\r\nIf I consider the question [how-do-i-create-a-hash-table-in-java][1] and especially the [jGuru FAQ entry][2], I believe some other criteria upon which a hash code could be judged are:\r\n\r\n- synchronization (does the algo support concurrent access or not) ?\r\n- fail safe iteration (does the algo detect a collection which changes during iteration)\r\n- null value (does the hash code support null value in the collection)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29324/how-do-i-create-a-hash-table-in-java\r\n  [2]: http://www.jguru.com/faq/view.jsp?EID=430247","title":"Best implementation for hashCode method for a collection","body":"<p>Just a quick note for completing other more detailed answer (in term of code):</p>\n\n<p>If I consider the question <a href=\"https://stackoverflow.com/questions/29324/how-do-i-create-a-hash-table-in-java\">how-do-i-create-a-hash-table-in-java</a> and especially the <a href=\"http://www.jguru.com/faq/view.jsp?EID=430247\" rel=\"nofollow noreferrer\">jGuru FAQ entry</a>, I believe some other criteria upon which a hash code could be judged are:</p>\n\n<ul>\n<li>synchronization (does the algo support concurrent access or not) ?</li>\n<li>fail safe iteration (does the algo detect a collection which changes during iteration)</li>\n<li>null value (does the hash code support null value in the collection)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222067738,"creation_date":1222067738,"answer_id":113581,"question_id":113511,"body_markdown":"As you specifically asked for collections, I&#39;d like to add an aspect that the other answers haven&#39;t mentioned yet: A HashMap doesn&#39;t expect their keys to change their hashcode once they are added to the collection. Would defeat the whole purpose...","title":"Best implementation for hashCode method for a collection","body":"<p>As you specifically asked for collections, I'd like to add an aspect that the other answers haven't mentioned yet: A HashMap doesn't expect their keys to change their hashcode once they are added to the collection. Would defeat the whole purpose...</p>\n"},{"tags":[],"owner":{"account_id":1710,"reputation":18740,"user_id":2309,"accept_rate":79,"display_name":"Mario Orteg&#243;n"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1222067806,"creation_date":1222067806,"answer_id":113583,"question_id":113511,"body_markdown":"If I understand your question correctly, you have a custom collection class (i.e. a new class that extends from the Collection interface) and you want to implement the hashCode() method.\r\n\r\nIf your collection class extends AbstractList, then you don&#39;t have to worry about it, there is already an implementation of equals() and hashCode() that works by iterating through all the objects and adding their hashCodes() together.\r\n\r\n       public int hashCode() {\r\n          int hashCode = 1;\r\n          Iterator i = iterator();\r\n          while (i.hasNext()) {\r\n            Object obj = i.next();\r\n            hashCode = 31*hashCode + (obj==null ? 0 : obj.hashCode());\r\n          }\r\n\t  return hashCode;\r\n       }\r\n\r\nNow if what you want is the best way to calculate the hash code for a specific class, I normally use the ^ (bitwise exclusive or) operator to process all fields that I use in the equals method:\r\n\r\n    public int hashCode(){\r\n       return intMember ^ (stringField != null ? stringField.hashCode() : 0);\r\n    }\r\n\r\n","title":"Best implementation for hashCode method for a collection","body":"<p>If I understand your question correctly, you have a custom collection class (i.e. a new class that extends from the Collection interface) and you want to implement the hashCode() method.</p>\n\n<p>If your collection class extends AbstractList, then you don't have to worry about it, there is already an implementation of equals() and hashCode() that works by iterating through all the objects and adding their hashCodes() together.</p>\n\n<pre><code>   public int hashCode() {\n      int hashCode = 1;\n      Iterator i = iterator();\n      while (i.hasNext()) {\n        Object obj = i.next();\n        hashCode = 31*hashCode + (obj==null ? 0 : obj.hashCode());\n      }\n  return hashCode;\n   }\n</code></pre>\n\n<p>Now if what you want is the best way to calculate the hash code for a specific class, I normally use the ^ (bitwise exclusive or) operator to process all fields that I use in the equals method:</p>\n\n<pre><code>public int hashCode(){\n   return intMember ^ (stringField != null ? stringField.hashCode() : 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222068026,"creation_date":1222068026,"answer_id":113595,"question_id":113511,"body_markdown":"any hashing method that evenly distributes the hash value over the possible range is a good implementation. See effective java ( http://books.google.com.au/books?id=ZZOiqZQIbRMC&amp;dq=effective+java&amp;pg=PP1&amp;ots=UZMZ2siN25&amp;sig=kR0n73DHJOn-D77qGj0wOxAxiZw&amp;hl=en&amp;sa=X&amp;oi=book_result&amp;resnum=1&amp;ct=result ) , there is a good tip in there for hashcode implementation (item 9 i think...). ","title":"Best implementation for hashCode method for a collection","body":"<p>any hashing method that evenly distributes the hash value over the possible range is a good implementation. See effective java ( <a href=\"http://books.google.com.au/books?id=ZZOiqZQIbRMC&amp;dq=effective+java&amp;pg=PP1&amp;ots=UZMZ2siN25&amp;sig=kR0n73DHJOn-D77qGj0wOxAxiZw&amp;hl=en&amp;sa=X&amp;oi=book_result&amp;resnum=1&amp;ct=result\" rel=\"nofollow noreferrer\">http://books.google.com.au/books?id=ZZOiqZQIbRMC&amp;dq=effective+java&amp;pg=PP1&amp;ots=UZMZ2siN25&amp;sig=kR0n73DHJOn-D77qGj0wOxAxiZw&amp;hl=en&amp;sa=X&amp;oi=book_result&amp;resnum=1&amp;ct=result</a> ) , there is a good tip in there for hashcode implementation (item 9 i think...). </p>\n"},{"tags":[],"owner":{"account_id":2955,"reputation":34912,"user_id":4194,"accept_rate":75,"display_name":"dmeister"},"down_vote_count":0,"up_vote_count":469,"is_accepted":true,"score":469,"last_activity_date":1522685992,"creation_date":1222068133,"answer_id":113600,"question_id":113511,"body_markdown":"The best implementation? That is a hard question because it depends on the usage pattern.\r\n\r\nA for nearly all cases reasonable good implementation was proposed in _Josh Bloch_&#39;s  **_Effective Java_** in Item 8 (second edition). The best thing is to look it up there because the author explains there why the approach is good.\r\n\r\n###A short version\r\n\r\n1. Create a `int result` and assign a **non-zero** value.\r\n\r\n2. For _every field_ `f` tested in the `equals()` method, calculate a hash code `c` by:\r\n\r\n* If the field f is a `boolean`: \r\ncalculate `(f ? 0 : 1)`;\r\n* If the field f is a `byte`, `char`, `short` or `int`: calculate `(int)f`;\r\n* If the field f is a `long`: calculate `(int)(f ^ (f &gt;&gt;&gt; 32))`;\r\n* If the field f is a `float`: calculate `Float.floatToIntBits(f)`;\r\n* If the field f is a `double`: calculate `Double.doubleToLongBits(f)` and handle the return value like every long value;\r\n* If the field f is an _object_: Use the result of the `hashCode()` method or 0 if `f == null`;\r\n* If the field f is an _array_: see every field as separate element and calculate the hash value in a _recursive fashion_ and combine the values as described next.\r\n\r\n3. Combine the hash value `c` with `result`:\r\n\r\n        result = 37 * result + c\r\n\r\n4. Return `result`\r\n\r\nThis should result in a proper distribution of hash values for most use situations.","title":"Best implementation for hashCode method for a collection","body":"<p>The best implementation? That is a hard question because it depends on the usage pattern.</p>\n\n<p>A for nearly all cases reasonable good implementation was proposed in <em>Josh Bloch</em>'s  <strong><em>Effective Java</em></strong> in Item 8 (second edition). The best thing is to look it up there because the author explains there why the approach is good.</p>\n\n<h3>A short version</h3>\n\n<ol>\n<li><p>Create a <code>int result</code> and assign a <strong>non-zero</strong> value.</p></li>\n<li><p>For <em>every field</em> <code>f</code> tested in the <code>equals()</code> method, calculate a hash code <code>c</code> by:</p>\n\n<ul>\n<li>If the field f is a <code>boolean</code>: \ncalculate <code>(f ? 0 : 1)</code>;</li>\n<li>If the field f is a <code>byte</code>, <code>char</code>, <code>short</code> or <code>int</code>: calculate <code>(int)f</code>;</li>\n<li>If the field f is a <code>long</code>: calculate <code>(int)(f ^ (f &gt;&gt;&gt; 32))</code>;</li>\n<li>If the field f is a <code>float</code>: calculate <code>Float.floatToIntBits(f)</code>;</li>\n<li>If the field f is a <code>double</code>: calculate <code>Double.doubleToLongBits(f)</code> and handle the return value like every long value;</li>\n<li>If the field f is an <em>object</em>: Use the result of the <code>hashCode()</code> method or 0 if <code>f == null</code>;</li>\n<li>If the field f is an <em>array</em>: see every field as separate element and calculate the hash value in a <em>recursive fashion</em> and combine the values as described next.</li>\n</ul></li>\n<li><p>Combine the hash value <code>c</code> with <code>result</code>:</p>\n\n<pre><code>result = 37 * result + c\n</code></pre></li>\n<li><p>Return <code>result</code></p></li>\n</ol>\n\n<p>This should result in a proper distribution of hash values for most use situations.</p>\n"},{"tags":[],"owner":{"account_id":9900,"reputation":247,"user_id":18467,"display_name":"Rudi Adianto"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1431019840,"creation_date":1222072540,"answer_id":113815,"question_id":113511,"body_markdown":"There&#39;s a good implementation of the _Effective Java_&#39;s `hashcode()` and `equals()` logic in [Apache Commons Lang](https://commons.apache.org/proper/commons-lang/). Checkout [HashCodeBuilder][1] and [EqualsBuilder][2].\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\r\n  [2]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html","title":"Best implementation for hashCode method for a collection","body":"<p>There's a good implementation of the <em>Effective Java</em>'s <code>hashcode()</code> and <code>equals()</code> logic in <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache Commons Lang</a>. Checkout <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"nofollow noreferrer\">HashCodeBuilder</a> and <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html\" rel=\"nofollow noreferrer\">EqualsBuilder</a>.</p>\n"},{"tags":[],"owner":{"display_name":"panzupa"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1504187377,"creation_date":1222073264,"answer_id":113852,"question_id":113511,"body_markdown":"about8.blogspot.com, you said \r\n\r\n&gt; if equals() returns true for two objects, then hashCode() should return the same value. If equals() returns false, then hashCode() should return different values\r\n\r\nI cannot agree with you. If two objects have the same hashcode it doesn&#39;t have to mean that they are equal. \r\n\r\nIf A equals B then A.hashcode must be equal to B.hascode\r\n\r\nbut\r\n\r\nif A.hashcode equals B.hascode it does not mean that A must equals B","title":"Best implementation for hashCode method for a collection","body":"<p>about8.blogspot.com, you said </p>\n\n<blockquote>\n  <p>if equals() returns true for two objects, then hashCode() should return the same value. If equals() returns false, then hashCode() should return different values</p>\n</blockquote>\n\n<p>I cannot agree with you. If two objects have the same hashcode it doesn't have to mean that they are equal. </p>\n\n<p>If A equals B then A.hashcode must be equal to B.hascode</p>\n\n<p>but</p>\n\n<p>if A.hashcode equals B.hascode it does not mean that A must equals B</p>\n"},{"tags":[],"owner":{"display_name":"panzupa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431019699,"creation_date":1222073502,"answer_id":113867,"question_id":113511,"body_markdown":"I prefer using utility methods fromm _Google Collections lib from class Objects_ that helps me to keep my code clean. Very often `equals` and `hashcode` methods are made from IDE&#39;s template, so their are not clean to read. ","title":"Best implementation for hashCode method for a collection","body":"<p>I prefer using utility methods fromm <em>Google Collections lib from class Objects</em> that helps me to keep my code clean. Very often <code>equals</code> and <code>hashcode</code> methods are made from IDE's template, so their are not clean to read. </p>\n"},{"tags":[],"owner":{"account_id":8532,"reputation":13117,"user_id":15452,"accept_rate":57,"display_name":"Vihung"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1431019952,"creation_date":1222078572,"answer_id":114123,"question_id":113511,"body_markdown":"Use the reflection methods on Apache Commons [EqualsBuilder](https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/builder/EqualsBuilder.html) and [HashCodeBuilder](https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/builder/HashCodeBuilder.html).","title":"Best implementation for hashCode method for a collection","body":"<p>Use the reflection methods on Apache Commons <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/builder/EqualsBuilder.html\" rel=\"nofollow noreferrer\">EqualsBuilder</a> and <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"nofollow noreferrer\">HashCodeBuilder</a>.</p>\n"},{"tags":[],"owner":{"account_id":1744,"reputation":919,"user_id":2367,"display_name":"Johannes K. Lehnert"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1431019617,"creation_date":1222087822,"answer_id":114672,"question_id":113511,"body_markdown":"If you use eclipse, you can generate `equals()` and `hashCode()` using:\r\n\r\n&gt; Source -&gt; Generate hashCode() and equals(). \r\n\r\nUsing this function you can decide _which fields_ you want to use for equality and hash code calculation, and Eclipse generates the corresponding methods.","title":"Best implementation for hashCode method for a collection","body":"<p>If you use eclipse, you can generate <code>equals()</code> and <code>hashCode()</code> using:</p>\n\n<blockquote>\n  <p>Source -> Generate hashCode() and equals(). </p>\n</blockquote>\n\n<p>Using this function you can decide <em>which fields</em> you want to use for equality and hash code calculation, and Eclipse generates the corresponding methods.</p>\n"},{"tags":[],"owner":{"account_id":18028,"reputation":39206,"user_id":40933,"accept_rate":63,"display_name":"Warrior"},"down_vote_count":8,"up_vote_count":67,"is_accepted":false,"score":59,"last_activity_date":1227940241,"creation_date":1227940241,"answer_id":327264,"question_id":113511,"body_markdown":"It is better to use the functionality provided by Eclipse which does a pretty good job and you can put your efforts and energy in developing the business logic.","title":"Best implementation for hashCode method for a collection","body":"<p>It is better to use the functionality provided by Eclipse which does a pretty good job and you can put your efforts and energy in developing the business logic.</p>\n"},{"tags":[],"owner":{"account_id":78017,"reputation":15474,"user_id":222329,"accept_rate":87,"display_name":"Edward Loper"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1349277493,"creation_date":1349277493,"answer_id":12711577,"question_id":113511,"body_markdown":"When combining hash values, I usually use the combining method that&#39;s used in the boost c++ library, namely:\r\n\r\n    seed ^= hasher(v) + 0x9e3779b9 + (seed&lt;&lt;6) + (seed&gt;&gt;2);\r\n\r\nThis does a fairly good job of ensuring an even distribution.  For some discussion of how this formula works, see the StackOverflow post: https://stackoverflow.com/questions/4948780/magic-numbers-in-boosthash-combine\r\n\r\nThere&#39;s a good discussion of different hash functions at: http://burtleburtle.net/bob/hash/doobs.html","title":"Best implementation for hashCode method for a collection","body":"<p>When combining hash values, I usually use the combining method that's used in the boost c++ library, namely:</p>\n\n<pre><code>seed ^= hasher(v) + 0x9e3779b9 + (seed&lt;&lt;6) + (seed&gt;&gt;2);\n</code></pre>\n\n<p>This does a fairly good job of ensuring an even distribution.  For some discussion of how this formula works, see the StackOverflow post: <a href=\"https://stackoverflow.com/questions/4948780/magic-numbers-in-boosthash-combine\">Magic number in boost::hash_combine</a></p>\n\n<p>There's a good discussion of different hash functions at: <a href=\"http://burtleburtle.net/bob/hash/doobs.html\" rel=\"nofollow noreferrer\">http://burtleburtle.net/bob/hash/doobs.html</a></p>\n"},{"tags":[],"owner":{"account_id":17101,"reputation":9851,"user_id":37941,"accept_rate":70,"display_name":"bacar"},"down_vote_count":3,"up_vote_count":159,"is_accepted":false,"score":156,"last_activity_date":1669239855,"creation_date":1375732186,"answer_id":18066516,"question_id":113511,"body_markdown":"If you&#39;re happy with the Effective Java implementation recommended by dmeister, you can use a library call instead of rolling your own:\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(this.firstName, this.lastName);\r\n    }\r\n\r\nThis requires either Guava (`com.google.common.base.Objects.hashCode`) or the standard library in Java 7 (`java.util.Objects.hash`) but works the same way.","title":"Best implementation for hashCode method for a collection","body":"<p>If you're happy with the Effective Java implementation recommended by dmeister, you can use a library call instead of rolling your own:</p>\n<pre><code>@Override\npublic int hashCode() {\n    return Objects.hash(this.firstName, this.lastName);\n}\n</code></pre>\n<p>This requires either Guava (<code>com.google.common.base.Objects.hashCode</code>) or the standard library in Java 7 (<code>java.util.Objects.hash</code>) but works the same way.</p>\n"},{"tags":[],"owner":{"account_id":2702639,"reputation":4757,"user_id":2333021,"accept_rate":70,"display_name":"Christopher Rucinski"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1501945302,"creation_date":1436010324,"answer_id":31220250,"question_id":113511,"body_markdown":"Although this is linked to [`Android` documentation (Wayback Machine)][3] and [My own code on Github][4], it will work for Java in general. My answer is an extension of [dmeister&#39;s Answer][2] with just code that is much easier to read and understand.\r\n\r\n    @Override \r\n    public int hashCode() {\r\n\r\n        // Start with a non-zero constant. Prime is preferred\r\n        int result = 17;\r\n\r\n        // Include a hash for each field.\r\n\r\n        // Primatives\r\n\r\n        result = 31 * result + (booleanField ? 1 : 0);                   // 1 bit   &#187; 32-bit\r\n\r\n        result = 31 * result + byteField;                                // 8 bits  &#187; 32-bit \r\n        result = 31 * result + charField;                                // 16 bits &#187; 32-bit\r\n        result = 31 * result + shortField;                               // 16 bits &#187; 32-bit\r\n        result = 31 * result + intField;                                 // 32 bits &#187; 32-bit\r\n\r\n        result = 31 * result + (int)(longField ^ (longField &gt;&gt;&gt; 32));    // 64 bits &#187; 32-bit\r\n\r\n        result = 31 * result + Float.floatToIntBits(floatField);         // 32 bits &#187; 32-bit\r\n\r\n        long doubleFieldBits = Double.doubleToLongBits(doubleField);     // 64 bits (double) &#187; 64-bit (long) &#187; 32-bit (int)\r\n        result = 31 * result + (int)(doubleFieldBits ^ (doubleFieldBits &gt;&gt;&gt; 32));\r\n\r\n        // Objects\r\n\r\n        result = 31 * result + Arrays.hashCode(arrayField);              // var bits &#187; 32-bit\r\n        \r\n        result = 31 * result + referenceField.hashCode();                // var bits &#187; 32-bit (non-nullable)   \r\n        result = 31 * result +                                           // var bits &#187; 32-bit (nullable)   \r\n            (nullableReferenceField == null\r\n                ? 0\r\n                : nullableReferenceField.hashCode());\r\n\r\n        return result;\r\n    \r\n    }\r\n\r\n**EDIT**\r\n\r\nTypically, when you override `hashcode(...)`, you also want to override `equals(...)`. So for those that will or has already implemented `equals`, here is a good reference [from my Github][4]...\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n\r\n        // Optimization (not required).\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n\r\n        // Return false if the other object has the wrong type, interface, or is null.\r\n        if (!(o instanceof MyType)) {\r\n            return false;\r\n        }\r\n\r\n        MyType lhs = (MyType) o; // lhs means &quot;left hand side&quot;\r\n\r\n                // Primitive fields\r\n        return     booleanField == lhs.booleanField\r\n                &amp;&amp; byteField    == lhs.byteField\r\n                &amp;&amp; charField    == lhs.charField\r\n                &amp;&amp; shortField   == lhs.shortField\r\n                &amp;&amp; intField     == lhs.intField\r\n                &amp;&amp; longField    == lhs.longField\r\n                &amp;&amp; floatField   == lhs.floatField\r\n                &amp;&amp; doubleField  == lhs.doubleField\r\n\r\n                // Arrays\r\n\r\n                &amp;&amp; Arrays.equals(arrayField, lhs.arrayField)\r\n\r\n                // Objects\r\n\r\n                &amp;&amp; referenceField.equals(lhs.referenceField)\r\n                &amp;&amp; (nullableReferenceField == null\r\n                            ? lhs.nullableReferenceField == null\r\n                            : nullableReferenceField.equals(lhs.nullableReferenceField));\r\n    }\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/lang/Object.html\r\n  [2]: https://stackoverflow.com/a/113600/2333021\r\n  [3]: http://web.archive.org/web/20150207205800/https://developer.android.com/reference/java/lang/Object.html\r\n  [4]: https://github.com/ciscorucinski/HashcodeAndEqual/blob/master/src/io/github/ciscorucinski/hashcodeandequal/MyType.java","title":"Best implementation for hashCode method for a collection","body":"<p>Although this is linked to <a href=\"http://web.archive.org/web/20150207205800/https://developer.android.com/reference/java/lang/Object.html\" rel=\"noreferrer\"><code>Android</code> documentation (Wayback Machine)</a> and <a href=\"https://github.com/ciscorucinski/HashcodeAndEqual/blob/master/src/io/github/ciscorucinski/hashcodeandequal/MyType.java\" rel=\"noreferrer\">My own code on Github</a>, it will work for Java in general. My answer is an extension of <a href=\"https://stackoverflow.com/a/113600/2333021\">dmeister's Answer</a> with just code that is much easier to read and understand.</p>\n\n<pre><code>@Override \npublic int hashCode() {\n\n    // Start with a non-zero constant. Prime is preferred\n    int result = 17;\n\n    // Include a hash for each field.\n\n    // Primatives\n\n    result = 31 * result + (booleanField ? 1 : 0);                   // 1 bit   » 32-bit\n\n    result = 31 * result + byteField;                                // 8 bits  » 32-bit \n    result = 31 * result + charField;                                // 16 bits » 32-bit\n    result = 31 * result + shortField;                               // 16 bits » 32-bit\n    result = 31 * result + intField;                                 // 32 bits » 32-bit\n\n    result = 31 * result + (int)(longField ^ (longField &gt;&gt;&gt; 32));    // 64 bits » 32-bit\n\n    result = 31 * result + Float.floatToIntBits(floatField);         // 32 bits » 32-bit\n\n    long doubleFieldBits = Double.doubleToLongBits(doubleField);     // 64 bits (double) » 64-bit (long) » 32-bit (int)\n    result = 31 * result + (int)(doubleFieldBits ^ (doubleFieldBits &gt;&gt;&gt; 32));\n\n    // Objects\n\n    result = 31 * result + Arrays.hashCode(arrayField);              // var bits » 32-bit\n\n    result = 31 * result + referenceField.hashCode();                // var bits » 32-bit (non-nullable)   \n    result = 31 * result +                                           // var bits » 32-bit (nullable)   \n        (nullableReferenceField == null\n            ? 0\n            : nullableReferenceField.hashCode());\n\n    return result;\n\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Typically, when you override <code>hashcode(...)</code>, you also want to override <code>equals(...)</code>. So for those that will or has already implemented <code>equals</code>, here is a good reference <a href=\"https://github.com/ciscorucinski/HashcodeAndEqual/blob/master/src/io/github/ciscorucinski/hashcodeandequal/MyType.java\" rel=\"noreferrer\">from my Github</a>...</p>\n\n<pre><code>@Override\npublic boolean equals(Object o) {\n\n    // Optimization (not required).\n    if (this == o) {\n        return true;\n    }\n\n    // Return false if the other object has the wrong type, interface, or is null.\n    if (!(o instanceof MyType)) {\n        return false;\n    }\n\n    MyType lhs = (MyType) o; // lhs means \"left hand side\"\n\n            // Primitive fields\n    return     booleanField == lhs.booleanField\n            &amp;&amp; byteField    == lhs.byteField\n            &amp;&amp; charField    == lhs.charField\n            &amp;&amp; shortField   == lhs.shortField\n            &amp;&amp; intField     == lhs.intField\n            &amp;&amp; longField    == lhs.longField\n            &amp;&amp; floatField   == lhs.floatField\n            &amp;&amp; doubleField  == lhs.doubleField\n\n            // Arrays\n\n            &amp;&amp; Arrays.equals(arrayField, lhs.arrayField)\n\n            // Objects\n\n            &amp;&amp; referenceField.equals(lhs.referenceField)\n            &amp;&amp; (nullableReferenceField == null\n                        ? lhs.nullableReferenceField == null\n                        : nullableReferenceField.equals(lhs.nullableReferenceField));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450699702,"creation_date":1450699702,"answer_id":34395373,"question_id":113511,"body_markdown":"I use a tiny wrapper around [`Arrays.deepHashCode(...)`][1] because it handles arrays supplied as parameters correctly\r\n\r\n    public static int hash(final Object... objects) {\r\n        return Arrays.deepHashCode(objects);\r\n    }\r\n  [1]:http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#deepHashCode(java.lang.Object[])","title":"Best implementation for hashCode method for a collection","body":"<p>I use a tiny wrapper around <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#deepHashCode(java.lang.Object[])\" rel=\"nofollow\"><code>Arrays.deepHashCode(...)</code></a> because it handles arrays supplied as parameters correctly</p>\n\n<pre><code>public static int hash(final Object... objects) {\n    return Arrays.deepHashCode(objects);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70642,"reputation":12820,"user_id":204665,"accept_rate":92,"display_name":"Roman Nikitchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483103931,"creation_date":1483103931,"answer_id":41396936,"question_id":113511,"body_markdown":"Here is another JDK 1.7+ approach demonstration with superclass logics accounted. I see it as pretty convinient with Object class hashCode() accounted, pure JDK dependency and no extra manual work. Please note `Objects.hash()` is null tolerant.\r\n\r\nI have not include any `equals()` implementation but in reality you will of course need it.\r\n\r\n\r\n    import java.util.Objects;\r\n    \r\n    public class Demo {\r\n    \r\n        public static class A {\r\n    \r\n            private final String param1;\r\n    \r\n            public A(final String param1) {\r\n                this.param1 = param1;\r\n            }\r\n    \r\n            @Override\r\n            public int hashCode() {\r\n                return Objects.hash(\r\n                    super.hashCode(),\r\n                    this.param1);\r\n            }\r\n    \r\n        }\r\n    \r\n        public static class B extends A {\r\n    \r\n            private final String param2;\r\n            private final String param3;\r\n    \r\n            public B(\r\n                final String param1,\r\n                final String param2,\r\n                final String param3) {\r\n    \r\n                super(param1);\r\n                this.param2 = param2;\r\n                this.param3 = param3;\r\n            }\r\n    \r\n            @Override\r\n            public final int hashCode() {\r\n                return Objects.hash(\r\n                    super.hashCode(),\r\n                    this.param2,\r\n                    this.param3);\r\n            }\r\n        }\r\n    \r\n        public static void main(String [] args) {\r\n    \r\n            A a = new A(&quot;A&quot;);\r\n            B b = new B(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n    \r\n            System.out.println(&quot;A: &quot; + a.hashCode());\r\n            System.out.println(&quot;B: &quot; + b.hashCode());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Best implementation for hashCode method for a collection","body":"<p>Here is another JDK 1.7+ approach demonstration with superclass logics accounted. I see it as pretty convinient with Object class hashCode() accounted, pure JDK dependency and no extra manual work. Please note <code>Objects.hash()</code> is null tolerant.</p>\n\n<p>I have not include any <code>equals()</code> implementation but in reality you will of course need it.</p>\n\n<pre><code>import java.util.Objects;\n\npublic class Demo {\n\n    public static class A {\n\n        private final String param1;\n\n        public A(final String param1) {\n            this.param1 = param1;\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(\n                super.hashCode(),\n                this.param1);\n        }\n\n    }\n\n    public static class B extends A {\n\n        private final String param2;\n        private final String param3;\n\n        public B(\n            final String param1,\n            final String param2,\n            final String param3) {\n\n            super(param1);\n            this.param2 = param2;\n            this.param3 = param3;\n        }\n\n        @Override\n        public final int hashCode() {\n            return Objects.hash(\n                super.hashCode(),\n                this.param2,\n                this.param3);\n        }\n    }\n\n    public static void main(String [] args) {\n\n        A a = new A(\"A\");\n        B b = new B(\"A\", \"B\", \"C\");\n\n        System.out.println(\"A: \" + a.hashCode());\n        System.out.println(\"B: \" + b.hashCode());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512928925,"creation_date":1512928925,"answer_id":47741808,"question_id":113511,"body_markdown":"The standard implementation is weak and using it leads to unnecessary collisions. Imagine a\r\n\r\n    class ListPair {\r\n        List&lt;Integer&gt; first;\r\n        List&lt;Integer&gt; second;\r\n\r\n        ListPair(List&lt;Integer&gt; first, List&lt;Integer&gt; second) {\r\n            this.first = first;\r\n            this.second = second;\r\n        }\r\n\r\n        public int hashCode() {\r\n            return Objects.hashCode(first, second);\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nNow,\r\n\r\n    new ListPair(List.of(a), List.of(b, c))\r\n\r\nand\r\n\r\n    new ListPair(List.of(b), List.of(a, c))\r\n\r\nhave the same `hashCode`, namely `31*(a+b) + c` as the multiplier used for `List.hashCode` gets reused here. Obviously, collisions are unavoidable, but producing needless collisions is just... needless.\r\n\r\nThere&#39;s nothing substantially smart about using `31`. The multiplier must be odd in order to avoid losing information (any even multiplier loses at least the most significant bit, multiples of four lose two, etc.). Any odd multiplier is usable. Small multipliers may lead to faster computation (the JIT can use shifts and additions), but given that multiplication has latency of only three cycles on modern Intel/AMD, this hardly matters. Small multipliers also leads to more collision for small inputs, which may be a problem sometimes.\r\n\r\nUsing a prime is pointless as primes have no meaning in the ring Z/(2**32).\r\n\r\nSo, I&#39;d recommend using a randomly chosen big odd number (feel free to take a prime). As i86/amd64 CPUs can use a shorter instruction for operands fitting in a single signed byte, there is a tiny speed advantage for multipliers like 109. For minimizing collisions, take something like 0x58a54cf5.\r\n\r\nUsing different multipliers in different places is helpful, but probably not enough to justify the additional work.","title":"Best implementation for hashCode method for a collection","body":"<p>The standard implementation is weak and using it leads to unnecessary collisions. Imagine a</p>\n\n<pre><code>class ListPair {\n    List&lt;Integer&gt; first;\n    List&lt;Integer&gt; second;\n\n    ListPair(List&lt;Integer&gt; first, List&lt;Integer&gt; second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    public int hashCode() {\n        return Objects.hashCode(first, second);\n    }\n\n    ...\n}\n</code></pre>\n\n<p>Now,</p>\n\n<pre><code>new ListPair(List.of(a), List.of(b, c))\n</code></pre>\n\n<p>and</p>\n\n<pre><code>new ListPair(List.of(b), List.of(a, c))\n</code></pre>\n\n<p>have the same <code>hashCode</code>, namely <code>31*(a+b) + c</code> as the multiplier used for <code>List.hashCode</code> gets reused here. Obviously, collisions are unavoidable, but producing needless collisions is just... needless.</p>\n\n<p>There's nothing substantially smart about using <code>31</code>. The multiplier must be odd in order to avoid losing information (any even multiplier loses at least the most significant bit, multiples of four lose two, etc.). Any odd multiplier is usable. Small multipliers may lead to faster computation (the JIT can use shifts and additions), but given that multiplication has latency of only three cycles on modern Intel/AMD, this hardly matters. Small multipliers also leads to more collision for small inputs, which may be a problem sometimes.</p>\n\n<p>Using a prime is pointless as primes have no meaning in the ring Z/(2**32).</p>\n\n<p>So, I'd recommend using a randomly chosen big odd number (feel free to take a prime). As i86/amd64 CPUs can use a shorter instruction for operands fitting in a single signed byte, there is a tiny speed advantage for multipliers like 109. For minimizing collisions, take something like 0x58a54cf5.</p>\n\n<p>Using different multipliers in different places is helpful, but probably not enough to justify the additional work.</p>\n"}],"owner":{"account_id":6612,"reputation":27777,"user_id":11193,"accept_rate":100,"display_name":"Omnipotent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278330,"favorite_count":0,"down_vote_count":0,"up_vote_count":325,"accepted_answer_id":113600,"answer_count":20,"score":325,"last_activity_date":1669239855,"creation_date":1222066415,"question_id":113511,"body_markdown":"How do we decide on the best implementation of `hashCode()` method for a collection (assuming that equals method has been overridden correctly) ?","title":"Best implementation for hashCode method for a collection","body":"<p>How do we decide on the best implementation of <code>hashCode()</code> method for a collection (assuming that equals method has been overridden correctly) ?</p>\n"},{"tags":["java","android","reflection"],"comments":[{"owner":{"account_id":916536,"reputation":1199,"user_id":949224,"display_name":"dr_g"},"score":0,"creation_date":1544804665,"post_id":53782978,"comment_id":94418348,"body_markdown":"If you changed the class you are looking for to something that is definitely loaded in when you are executing the Java program in the console, e.g. java.lang.String, I think you will find the program returns successfully. The JRE is not giving you the android packages.","body":"If you changed the class you are looking for to something that is definitely loaded in when you are executing the Java program in the console, e.g. java.lang.String, I think you will find the program returns successfully. The JRE is not giving you the android packages."},{"owner":{"account_id":8473672,"reputation":69,"user_id":6355525,"display_name":"CmpScience Learner"},"score":0,"creation_date":1544827266,"post_id":53782978,"comment_id":94427166,"body_markdown":"Yes I know, this is why I wanted to know if there is a way to access Android classes","body":"Yes I know, this is why I wanted to know if there is a way to access Android classes"},{"owner":{"account_id":916536,"reputation":1199,"user_id":949224,"display_name":"dr_g"},"score":0,"creation_date":1545073619,"post_id":53782978,"comment_id":94491628,"body_markdown":"Ah the question didn&#39;t explain that. As you edited the question, hopefully my answer below helps","body":"Ah the question didn&#39;t explain that. As you edited the question, hopefully my answer below helps"}],"answers":[{"tags":[],"owner":{"account_id":5015882,"reputation":1519,"user_id":4030765,"accept_rate":25,"display_name":"Patric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544805016,"creation_date":1544805016,"answer_id":53783567,"question_id":53782978,"body_markdown":"When I execute your code, I get get this output:\r\n\r\n    class java.lang.Toast doesnt exists\r\n    class Exists\r\n\r\nSince you iterate over all packages, you get an output for every package, no matter if your class exists or not, and you only stop when you find a match.\r\n\r\nI think what you are trying to achieve is to always get only 1 output: either the class exists, or it doesn&#39;t. You could do that by creating a method `classExists()` and then using the java stream API to find if any of your packages contains your class `Toast`:\r\n\r\n\r\n    public void myMethod() {\r\n        List&lt;String&gt; packages = Arrays.asList(\r\n                &quot;java.lang.&quot;,\r\n                &quot;android.widget.&quot;,\r\n                &quot;android.util.&quot;,\r\n                &quot;android.app.&quot;,\r\n                &quot;android.view.&quot;,\r\n                &quot;android.content.&quot;\r\n        );\r\n        String className = &quot;Toast&quot;;\r\n        if (packages.stream().anyMatch(pkg -&gt; classExists(pkg + className))) {\r\n            System.out.println(&quot;class exists&quot;);\r\n        } else {\r\n            System.out.println(&quot;class doesnt exist&quot;);\r\n        }\r\n    }\r\n\r\n    boolean classExists(String fullClassName) {\r\n        try {\r\n            Class.forName(fullClassName);\r\n            return true;\r\n        } catch (ClassNotFoundException e) {\r\n            return false;\r\n        }\r\n    }","title":"Java reflection - Android classes not found","body":"<p>When I execute your code, I get get this output:</p>\n\n<pre><code>class java.lang.Toast doesnt exists\nclass Exists\n</code></pre>\n\n<p>Since you iterate over all packages, you get an output for every package, no matter if your class exists or not, and you only stop when you find a match.</p>\n\n<p>I think what you are trying to achieve is to always get only 1 output: either the class exists, or it doesn't. You could do that by creating a method <code>classExists()</code> and then using the java stream API to find if any of your packages contains your class <code>Toast</code>:</p>\n\n<pre><code>public void myMethod() {\n    List&lt;String&gt; packages = Arrays.asList(\n            \"java.lang.\",\n            \"android.widget.\",\n            \"android.util.\",\n            \"android.app.\",\n            \"android.view.\",\n            \"android.content.\"\n    );\n    String className = \"Toast\";\n    if (packages.stream().anyMatch(pkg -&gt; classExists(pkg + className))) {\n        System.out.println(\"class exists\");\n    } else {\n        System.out.println(\"class doesnt exist\");\n    }\n}\n\nboolean classExists(String fullClassName) {\n    try {\n        Class.forName(fullClassName);\n        return true;\n    } catch (ClassNotFoundException e) {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":916536,"reputation":1199,"user_id":949224,"display_name":"dr_g"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1545073449,"creation_date":1545073449,"answer_id":53821542,"question_id":53782978,"body_markdown":"Because you are executing this on the command line there is no reason the Android packages/classes should be available to the runtime unless it is explicitly included. The output of your program makes sense - unless you provide the correct Android libraries to the program then there is not going to be  a match when you try to resolve a particular Android class such as `Toast`. \r\n\r\nThe answer is essentially using Java&#39;s classpath effectively. By default, without stating an argument, it is the working directory &#39;.&#39;. \r\n\r\nAdd to it using -classpath as an argument. Compile naively:\r\n\r\n    javac YourReflectionTest.java\r\n\r\nas you know the program finds no matches.\r\n\r\nIf you do this javac will also succeed\r\n\r\n    javac -classpath &quot;.;/opt/android-sdk/platforms/android-21/android.jar&quot; YourReflectionTest.java\r\n\r\nIf you run the program, and try\r\n\r\n    java YourReflectionTest\r\n\r\nIt will still produce the same result. Why? At run-time, there are still no Android classes loaded. You are by default only going to get the java system libraries included in your installation of JDK.\r\n\r\nBut, if you provide an appropriate path at runtime, then suddenly all the magic happens: \r\n\r\n    java -classpath &quot;.;/opt/android-sdk/platforms/android-21/android.jar&quot; YourReflectionTest\r\n\r\nNote, Android API level 21 is just an example here and any could be used depending on which features you&#39;re trying to test.\r\n ","title":"Java reflection - Android classes not found","body":"<p>Because you are executing this on the command line there is no reason the Android packages/classes should be available to the runtime unless it is explicitly included. The output of your program makes sense - unless you provide the correct Android libraries to the program then there is not going to be  a match when you try to resolve a particular Android class such as <code>Toast</code>. </p>\n\n<p>The answer is essentially using Java's classpath effectively. By default, without stating an argument, it is the working directory '.'. </p>\n\n<p>Add to it using -classpath as an argument. Compile naively:</p>\n\n<pre><code>javac YourReflectionTest.java\n</code></pre>\n\n<p>as you know the program finds no matches.</p>\n\n<p>If you do this javac will also succeed</p>\n\n<pre><code>javac -classpath \".;/opt/android-sdk/platforms/android-21/android.jar\" YourReflectionTest.java\n</code></pre>\n\n<p>If you run the program, and try</p>\n\n<pre><code>java YourReflectionTest\n</code></pre>\n\n<p>It will still produce the same result. Why? At run-time, there are still no Android classes loaded. You are by default only going to get the java system libraries included in your installation of JDK.</p>\n\n<p>But, if you provide an appropriate path at runtime, then suddenly all the magic happens: </p>\n\n<pre><code>java -classpath \".;/opt/android-sdk/platforms/android-21/android.jar\" YourReflectionTest\n</code></pre>\n\n<p>Note, Android API level 21 is just an example here and any could be used depending on which features you're trying to test.</p>\n"},{"tags":[],"owner":{"account_id":4803608,"reputation":1574,"user_id":3879456,"accept_rate":40,"display_name":"zeeali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669239672,"creation_date":1669239672,"answer_id":74553281,"question_id":53782978,"body_markdown":"A simple method using reflection to check if a class exists or not:\r\n\r\n    private boolean doesClassExist(String name) {\r\n        try {\r\n            Class c = Class.forName(name);\r\n            if (c != null) {\r\n                return true;\r\n            }\r\n        } catch (ClassNotFoundException e) {\r\n            // Class not found\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n    \r\nUse Case:\r\n\r\n    boolean classExists = doesClassExist(&quot;android.widget.Toast&quot;);","title":"Java reflection - Android classes not found","body":"<p>A simple method using reflection to check if a class exists or not:</p>\n<pre><code>private boolean doesClassExist(String name) {\n    try {\n        Class c = Class.forName(name);\n        if (c != null) {\n            return true;\n        }\n    } catch (ClassNotFoundException e) {\n        // Class not found\n        e.printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n<p>Use Case:</p>\n<pre><code>boolean classExists = doesClassExist(&quot;android.widget.Toast&quot;);\n</code></pre>\n"}],"owner":{"account_id":8473672,"reputation":69,"user_id":6355525,"display_name":"CmpScience Learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53821542,"answer_count":3,"score":2,"last_activity_date":1669239672,"creation_date":1544802733,"question_id":53782978,"body_markdown":"I am trying to run reflection to check if some android class exists in Java ( such as Toast ). I am running it from my Command line using this code:\r\n\r\n    String [] packages = new String[] {&quot;java.lang.&quot;,\r\n        &quot;android.widget.&quot;,\r\n        &quot;android.util.&quot;,\r\n        &quot;android.app.&quot;,\r\n        &quot;android.view.&quot;,\r\n        &quot;android.content.&quot;};\r\n    for (int i = 0; i &lt; packages.length; i++){\r\n        String package_name = packages[i];\r\n        try {\r\n            Class&lt;?&gt; clazz = Class.forName(package_name + &quot;Toast&quot;);\r\n            System.out.println(&quot;class Exists&quot;);\r\n            return clazz;\r\n        }\r\n        catch (ClassNotFoundException e){\r\n            System.out.println(&quot;class &quot; + package_name + &quot;Toast doesnt exists&quot;);\r\n        }\r\n    }\r\nHowever, I get the output:\r\nclass android.widget.Toast doesn&#39;t exists ( but I know it does this is where the class is at)\r\nany ideas?\r\n\r\n---------------------------------\r\n\r\nEDIT : I am trying to write a Java class that is not running from Android Studios, but compiles and runs using javac from cmd line.","title":"Java reflection - Android classes not found","body":"<p>I am trying to run reflection to check if some android class exists in Java ( such as Toast ). I am running it from my Command line using this code:</p>\n\n<pre><code>String [] packages = new String[] {\"java.lang.\",\n    \"android.widget.\",\n    \"android.util.\",\n    \"android.app.\",\n    \"android.view.\",\n    \"android.content.\"};\nfor (int i = 0; i &lt; packages.length; i++){\n    String package_name = packages[i];\n    try {\n        Class&lt;?&gt; clazz = Class.forName(package_name + \"Toast\");\n        System.out.println(\"class Exists\");\n        return clazz;\n    }\n    catch (ClassNotFoundException e){\n        System.out.println(\"class \" + package_name + \"Toast doesnt exists\");\n    }\n}\n</code></pre>\n\n<p>However, I get the output:\nclass android.widget.Toast doesn't exists ( but I know it does this is where the class is at)\nany ideas?</p>\n\n<hr>\n\n<p>EDIT : I am trying to write a Java class that is not running from Android Studios, but compiles and runs using javac from cmd line.</p>\n"},{"tags":["java","android","flutter","kotlin"],"comments":[{"owner":{"account_id":20662432,"reputation":1076,"user_id":15170120,"display_name":"TarHalda"},"score":0,"creation_date":1669237593,"post_id":74552788,"comment_id":131601843,"body_markdown":"Why is the list set as `late`?","body":"Why is the list set as <code>late</code>?"},{"owner":{"account_id":27018736,"reputation":25,"user_id":20577090,"display_name":"Ali J"},"score":1,"creation_date":1669238092,"post_id":74552788,"comment_id":131601951,"body_markdown":"Because otherwise setState() won&#39;t work. The list gets created before everything else so setState gets confused. Late forces it to make the list at runtime.","body":"Because otherwise setState() won&#39;t work. The list gets created before everything else so setState gets confused. Late forces it to make the list at runtime."}],"answers":[{"tags":[],"owner":{"account_id":20084284,"reputation":8619,"user_id":14726230,"display_name":"Peter Koltai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669239012,"creation_date":1669238650,"answer_id":74553154,"question_id":74552788,"body_markdown":"`setState` will re-run the `build` method, so if you declare `_widgetOptions` outside the `build` method, it&#39;s content won&#39;t change. `setState` on `_selectedIndex` will work because it just selects one item in `_widgetOptions`.\r\n\r\nSo remove `late final` and move the declaration of `_widgetOptions` into the build method:\r\n\r\n```\r\nimport &#39;package:flutter/material.dart&#39;;\r\n\r\nvoid main() =&gt; runApp(const MyApp());\r\n\r\nclass MyApp extends StatelessWidget {\r\n  const MyApp({super.key});\r\n\r\n  static const String _title = &#39;Flutter Code Sample&#39;;\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return const MaterialApp(\r\n      title: _title,\r\n      home: MyStatefulWidget(),\r\n    );\r\n  }\r\n}\r\n\r\nclass MyStatefulWidget extends StatefulWidget {\r\n  const MyStatefulWidget({super.key});\r\n\r\n  @override\r\n  State&lt;MyStatefulWidget&gt; createState() =&gt; _MyStatefulWidgetState();\r\n}\r\n\r\nclass _MyStatefulWidgetState extends State&lt;MyStatefulWidget&gt; {\r\n  int _selectedIndex = 0;\r\n  static const TextStyle optionStyle =\r\n      TextStyle(fontSize: 30, fontWeight: FontWeight.bold);\r\n\r\n  int _volume = 0;\r\n\r\n  void changeVolume() {\r\n    _volume += 1;\r\n  }\r\n\r\n  void _onItemTapped(int index) {\r\n    setState(() {\r\n      _selectedIndex = index;\r\n    });\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    List&lt;Widget&gt; _widgetOptions = &lt;Widget&gt;[\r\n      Row(\r\n        children: &lt;Widget&gt;[\r\n          IconButton(\r\n            icon: const Icon(Icons.volume_up),\r\n            tooltip: &#39;Increase volume by 1&#39;,\r\n            onPressed: () {\r\n              setState(() {\r\n                changeVolume();\r\n              });\r\n            },\r\n          ),\r\n          Expanded(\r\n            child: Text(&#39;Volume : $_volume&#39;),\r\n          ),\r\n          Expanded(\r\n            child: FittedBox(\r\n              child: FlutterLogo(),\r\n            ),\r\n          ),\r\n        ],\r\n      ),\r\n      Text(&#39;Volume  : $_volume&#39;),\r\n      Text(\r\n        &#39;Index 2: School&#39;,\r\n        style: optionStyle,\r\n      ),\r\n    ];\r\n\r\n    return Scaffold(\r\n      appBar: AppBar(\r\n        title: const Text(&#39;BottomNavigationBar Sample&#39;),\r\n      ),\r\n      body: Center(\r\n        child: _widgetOptions.elementAt(_selectedIndex),\r\n      ),\r\n      bottomNavigationBar: BottomNavigationBar(\r\n        items: const &lt;BottomNavigationBarItem&gt;[\r\n          BottomNavigationBarItem(\r\n            icon: Icon(Icons.home),\r\n            label: &#39;Home&#39;,\r\n          ),\r\n          BottomNavigationBarItem(\r\n            icon: Icon(Icons.business),\r\n            label: &#39;Business&#39;,\r\n          ),\r\n          BottomNavigationBarItem(\r\n            icon: Icon(Icons.school),\r\n            label: &#39;School&#39;,\r\n          ),\r\n        ],\r\n        currentIndex: _selectedIndex,\r\n        selectedItemColor: Colors.amber[800],\r\n        onTap: _onItemTapped,\r\n      ),\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nOf course you can optimize it but the above code works in DartPad as expected.\r\n\r\n(By the way, `late` marks a member variable that has no value assigned to it when you declare, but you make sure it will have a value before any part of your code accesses it. So in fact it has no real meaning when you assign a non-null value to the variable.)\r\n","title":"setState is not updating the UI even though the variable isn&#39;t declared in the build method","body":"<p><code>setState</code> will re-run the <code>build</code> method, so if you declare <code>_widgetOptions</code> outside the <code>build</code> method, it's content won't change. <code>setState</code> on <code>_selectedIndex</code> will work because it just selects one item in <code>_widgetOptions</code>.</p>\n<p>So remove <code>late final</code> and move the declaration of <code>_widgetOptions</code> into the build method:</p>\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(const MyApp());\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  static const String _title = 'Flutter Code Sample';\n\n  @override\n  Widget build(BuildContext context) {\n    return const MaterialApp(\n      title: _title,\n      home: MyStatefulWidget(),\n    );\n  }\n}\n\nclass MyStatefulWidget extends StatefulWidget {\n  const MyStatefulWidget({super.key});\n\n  @override\n  State&lt;MyStatefulWidget&gt; createState() =&gt; _MyStatefulWidgetState();\n}\n\nclass _MyStatefulWidgetState extends State&lt;MyStatefulWidget&gt; {\n  int _selectedIndex = 0;\n  static const TextStyle optionStyle =\n      TextStyle(fontSize: 30, fontWeight: FontWeight.bold);\n\n  int _volume = 0;\n\n  void changeVolume() {\n    _volume += 1;\n  }\n\n  void _onItemTapped(int index) {\n    setState(() {\n      _selectedIndex = index;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    List&lt;Widget&gt; _widgetOptions = &lt;Widget&gt;[\n      Row(\n        children: &lt;Widget&gt;[\n          IconButton(\n            icon: const Icon(Icons.volume_up),\n            tooltip: 'Increase volume by 1',\n            onPressed: () {\n              setState(() {\n                changeVolume();\n              });\n            },\n          ),\n          Expanded(\n            child: Text('Volume : $_volume'),\n          ),\n          Expanded(\n            child: FittedBox(\n              child: FlutterLogo(),\n            ),\n          ),\n        ],\n      ),\n      Text('Volume  : $_volume'),\n      Text(\n        'Index 2: School',\n        style: optionStyle,\n      ),\n    ];\n\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('BottomNavigationBar Sample'),\n      ),\n      body: Center(\n        child: _widgetOptions.elementAt(_selectedIndex),\n      ),\n      bottomNavigationBar: BottomNavigationBar(\n        items: const &lt;BottomNavigationBarItem&gt;[\n          BottomNavigationBarItem(\n            icon: Icon(Icons.home),\n            label: 'Home',\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.business),\n            label: 'Business',\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.school),\n            label: 'School',\n          ),\n        ],\n        currentIndex: _selectedIndex,\n        selectedItemColor: Colors.amber[800],\n        onTap: _onItemTapped,\n      ),\n    );\n  }\n}\n</code></pre>\n<p>Of course you can optimize it but the above code works in DartPad as expected.</p>\n<p>(By the way, <code>late</code> marks a member variable that has no value assigned to it when you declare, but you make sure it will have a value before any part of your code accesses it. So in fact it has no real meaning when you assign a non-null value to the variable.)</p>\n"}],"owner":{"account_id":27018736,"reputation":25,"user_id":20577090,"display_name":"Ali J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74553154,"answer_count":1,"score":2,"last_activity_date":1669239012,"creation_date":1669236318,"question_id":74552788,"body_markdown":"The setState function isn&#39;t updating the text in the List&lt;Widget&gt; even though the variable isn&#39;t declared in the build method.\r\n\r\nI&#39;m trying to make the text change in the first and second tab of the bottomNavigationBar.\r\n\r\nHere is the code:\r\n\r\n\r\n\r\n```\r\nimport &#39;package:flutter/material.dart&#39;;\r\n\r\nvoid main() =&gt; runApp(const MyApp());\r\n\r\nclass MyApp extends StatelessWidget {\r\n  const MyApp({super.key});\r\n\r\n  static const String _title = &#39;Flutter Code Sample&#39;;\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return const MaterialApp(\r\n      title: _title,\r\n      home: MyStatefulWidget(),\r\n    );\r\n  }\r\n}\r\n\r\nclass MyStatefulWidget extends StatefulWidget {\r\n  const MyStatefulWidget({super.key});\r\n\r\n  @override\r\n  State&lt;MyStatefulWidget&gt; createState() =&gt; _MyStatefulWidgetState();\r\n}\r\n\r\n\r\nclass _MyStatefulWidgetState extends State&lt;MyStatefulWidget&gt; {\r\n  int _selectedIndex = 0;\r\n  static const TextStyle optionStyle =\r\n  TextStyle(fontSize: 30, fontWeight: FontWeight.bold);\r\n\r\n  int _volume = 0;\r\n\r\n  void changeVolume(){\r\n    _volume += 1;\r\n  }\r\n\r\n  late final List&lt;Widget&gt; _widgetOptions = &lt;Widget&gt;[\r\n    Row(\r\n      children: &lt;Widget&gt;[\r\n        IconButton(\r\n          icon: const Icon(Icons.volume_up),\r\n          tooltip: &#39;Increase volume by 1&#39;,\r\n          onPressed: (){\r\n            setState(() {\r\n              changeVolume();\r\n            });\r\n          },\r\n        ),\r\n        Expanded(\r\n          child: Text(&#39;Volume : $_volume&#39;),\r\n        ),\r\n        Expanded(\r\n          child: FittedBox(\r\n            child: FlutterLogo(),\r\n          ),\r\n        ),\r\n      ],\r\n    ),\r\n    Text(&#39;Volume  : $_volume&#39;),\r\n    Text(\r\n      &#39;Index 2: School&#39;,\r\n      style: optionStyle,\r\n    ),\r\n  ];\r\n\r\n  void _onItemTapped(int index) {\r\n    setState(() {\r\n      _selectedIndex = index;\r\n    });\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n\r\n\r\n    return Scaffold(\r\n      appBar: AppBar(\r\n        title: const Text(&#39;BottomNavigationBar Sample&#39;),\r\n      ),\r\n      body: Center(\r\n        child: _widgetOptions.elementAt(_selectedIndex),\r\n      ),\r\n      bottomNavigationBar: BottomNavigationBar(\r\n        items: const &lt;BottomNavigationBarItem&gt;[\r\n          BottomNavigationBarItem(\r\n            icon: Icon(Icons.home),\r\n            label: &#39;Home&#39;,\r\n          ),\r\n          BottomNavigationBarItem(\r\n            icon: Icon(Icons.business),\r\n            label: &#39;Business&#39;,\r\n          ),\r\n          BottomNavigationBarItem(\r\n            icon: Icon(Icons.school),\r\n            label: &#39;School&#39;,\r\n          ),\r\n        ],\r\n        currentIndex: _selectedIndex,\r\n        selectedItemColor: Colors.amber[800],\r\n        onTap: _onItemTapped,\r\n      ),\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nMost of the times this problem comes up on this site it is because someone declared the variable in the build method but I&#39;m not doing that here, so I&#39;m not sure why the text isn&#39;t updating.\r\n","title":"setState is not updating the UI even though the variable isn&#39;t declared in the build method","body":"<p>The setState function isn't updating the text in the List even though the variable isn't declared in the build method.</p>\n<p>I'm trying to make the text change in the first and second tab of the bottomNavigationBar.</p>\n<p>Here is the code:</p>\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(const MyApp());\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  static const String _title = 'Flutter Code Sample';\n\n  @override\n  Widget build(BuildContext context) {\n    return const MaterialApp(\n      title: _title,\n      home: MyStatefulWidget(),\n    );\n  }\n}\n\nclass MyStatefulWidget extends StatefulWidget {\n  const MyStatefulWidget({super.key});\n\n  @override\n  State&lt;MyStatefulWidget&gt; createState() =&gt; _MyStatefulWidgetState();\n}\n\n\nclass _MyStatefulWidgetState extends State&lt;MyStatefulWidget&gt; {\n  int _selectedIndex = 0;\n  static const TextStyle optionStyle =\n  TextStyle(fontSize: 30, fontWeight: FontWeight.bold);\n\n  int _volume = 0;\n\n  void changeVolume(){\n    _volume += 1;\n  }\n\n  late final List&lt;Widget&gt; _widgetOptions = &lt;Widget&gt;[\n    Row(\n      children: &lt;Widget&gt;[\n        IconButton(\n          icon: const Icon(Icons.volume_up),\n          tooltip: 'Increase volume by 1',\n          onPressed: (){\n            setState(() {\n              changeVolume();\n            });\n          },\n        ),\n        Expanded(\n          child: Text('Volume : $_volume'),\n        ),\n        Expanded(\n          child: FittedBox(\n            child: FlutterLogo(),\n          ),\n        ),\n      ],\n    ),\n    Text('Volume  : $_volume'),\n    Text(\n      'Index 2: School',\n      style: optionStyle,\n    ),\n  ];\n\n  void _onItemTapped(int index) {\n    setState(() {\n      _selectedIndex = index;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('BottomNavigationBar Sample'),\n      ),\n      body: Center(\n        child: _widgetOptions.elementAt(_selectedIndex),\n      ),\n      bottomNavigationBar: BottomNavigationBar(\n        items: const &lt;BottomNavigationBarItem&gt;[\n          BottomNavigationBarItem(\n            icon: Icon(Icons.home),\n            label: 'Home',\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.business),\n            label: 'Business',\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.school),\n            label: 'School',\n          ),\n        ],\n        currentIndex: _selectedIndex,\n        selectedItemColor: Colors.amber[800],\n        onTap: _onItemTapped,\n      ),\n    );\n  }\n}\n</code></pre>\n<p>Most of the times this problem comes up on this site it is because someone declared the variable in the build method but I'm not doing that here, so I'm not sure why the text isn't updating.</p>\n"},{"tags":["java","intellij-idea","artifact"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1491470579,"post_id":43244946,"comment_id":73570852,"body_markdown":"Please share the [Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve).","body":"Please share the <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}],"answers":[{"tags":[],"owner":{"account_id":8719608,"reputation":25664,"user_id":6523163,"accept_rate":72,"display_name":"aircraft"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1491471191,"creation_date":1491471191,"answer_id":43251205,"question_id":43244946,"body_markdown":"The issue maybe you did not create the correct Artifact.\r\nThe correct steps are:\r\n\r\n  When you create the Artifact, you should like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you in the step3 choose the Empty, you maybe will get the error of title.\r\n\r\nThen in Tomcat Configurations, you can deploy the Artifact like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd check it:\r\n[![enter image description here][3]][3]\r\n\r\nRestart your Tomcat.\r\n\r\n  [1]: https://i.stack.imgur.com/kqnnU.png\r\n  [2]: https://i.stack.imgur.com/fnFDj.png\r\n  [3]: https://i.stack.imgur.com/c560S.png","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p>The issue maybe you did not create the correct Artifact.\nThe correct steps are:</p>\n\n<p>When you create the Artifact, you should like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kqnnU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kqnnU.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you in the step3 choose the Empty, you maybe will get the error of title.</p>\n\n<p>Then in Tomcat Configurations, you can deploy the Artifact like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fnFDj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fnFDj.png\" alt=\"enter image description here\"></a></p>\n\n<p>And check it:\n<a href=\"https://i.stack.imgur.com/c560S.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/c560S.png\" alt=\"enter image description here\"></a></p>\n\n<p>Restart your Tomcat.</p>\n"},{"tags":[],"owner":{"account_id":10976325,"reputation":2127,"user_id":8293585,"display_name":"CodeWorld"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612205347,"creation_date":1503927401,"answer_id":45920405,"question_id":43244946,"body_markdown":"**I also suffered with this issue...** _This occurs because_\r\n\r\nTomcat doesn&#39;t find your project folder(application folder) to deploy. So \r\n\r\n - Click on &quot;Edit configuration&quot; button, top right in intellij\r\n - Configure Tomcat by clicking &#39;**+**&#39; symbol on left top and selecting &quot;**Tomcat server**&quot; then **local**.\r\n - Give &quot;**Name**&quot; to your project as per need.\r\n - Now in first tab &quot;**Server**&quot;...\r\n - Set path to local tomcat directory in your system.\r\n - Better change &quot;Http port&quot; 8080 to 808* (8086, 8087, 8088...)\r\n - Go to second tab &quot;**Deployment**&quot;\r\n - Under &quot;Deploy at the server startup&quot; Click on **+** symbol and select **artifact**. Now artifact having *same name as your project-name* should be listed in it.\r\nThen click OK\r\n\r\n**And unfortunately if above steps aren&#39;t helpful**\r\n\r\n - Go to the **Deployment** tab, click on edit button(pencil). It will open a new window called  \r\n&quot;Project Structure&quot;.  \r\n - Give &quot;Name&quot; and specify &quot;Type&quot; as **Web Application: Exploded**\r\n - Under **Output directory** give the location of your project folder like  \r\n(D:\\Workspace\\Project_Folder). \r\n\r\n\r\n\r\n ","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p><strong>I also suffered with this issue...</strong> <em>This occurs because</em></p>\n<p>Tomcat doesn't find your project folder(application folder) to deploy. So</p>\n<ul>\n<li>Click on &quot;Edit configuration&quot; button, top right in intellij</li>\n<li>Configure Tomcat by clicking '<strong>+</strong>' symbol on left top and selecting &quot;<strong>Tomcat server</strong>&quot; then <strong>local</strong>.</li>\n<li>Give &quot;<strong>Name</strong>&quot; to your project as per need.</li>\n<li>Now in first tab &quot;<strong>Server</strong>&quot;...</li>\n<li>Set path to local tomcat directory in your system.</li>\n<li>Better change &quot;Http port&quot; 8080 to 808* (8086, 8087, 8088...)</li>\n<li>Go to second tab &quot;<strong>Deployment</strong>&quot;</li>\n<li>Under &quot;Deploy at the server startup&quot; Click on <strong>+</strong> symbol and select <strong>artifact</strong>. Now artifact having <em>same name as your project-name</em> should be listed in it.\nThen click OK</li>\n</ul>\n<p><strong>And unfortunately if above steps aren't helpful</strong></p>\n<ul>\n<li>Go to the <strong>Deployment</strong> tab, click on edit button(pencil). It will open a new window called<br />\n&quot;Project Structure&quot;.</li>\n<li>Give &quot;Name&quot; and specify &quot;Type&quot; as <strong>Web Application: Exploded</strong></li>\n<li>Under <strong>Output directory</strong> give the location of your project folder like<br />\n(D:\\Workspace\\Project_Folder).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":390867,"reputation":3923,"user_id":751200,"accept_rate":56,"display_name":"kolobok"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1525352078,"creation_date":1525352078,"answer_id":50155631,"question_id":43244946,"body_markdown":"Select your artifact (*File -&gt; Project Structure -&gt; Artifacts*) and make sure **Output directory** points to correct directory (for example, *path_to_webapp\\target*).\r\n\r\nThat&#39;s how I solved this problem.","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p>Select your artifact (<em>File -> Project Structure -> Artifacts</em>) and make sure <strong>Output directory</strong> points to correct directory (for example, <em>path_to_webapp\\target</em>).</p>\n\n<p>That's how I solved this problem.</p>\n"},{"tags":[],"owner":{"account_id":11701188,"reputation":41,"user_id":8566180,"display_name":"sagra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531355973,"creation_date":1531355973,"answer_id":51295868,"question_id":43244946,"body_markdown":"Re-importing maven projects resolved the issue for me","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p>Re-importing maven projects resolved the issue for me</p>\n"},{"tags":[],"owner":{"account_id":10108118,"reputation":123,"user_id":7470032,"display_name":"I V"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542966126,"creation_date":1542964816,"answer_id":53443744,"question_id":43244946,"body_markdown":"I faced with the same problem. In my case, it was a flag  in Gradle&#39;s settings. I switched it on and forgot to set it back to off: \r\n\r\n![flag][1]\r\n\r\nTo check it go to **&quot;Build, Execution, Deployment&quot; -&gt; &quot;Build Tools&quot; -&gt; &quot;Gradle&quot; -&gt; &quot;Runner&quot;**. The flag &quot;**Delegate IDE build/run actions to gradle**&quot; must be unchecked.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x0bd6.png","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p>I faced with the same problem. In my case, it was a flag  in Gradle's settings. I switched it on and forgot to set it back to off: </p>\n\n<p><img src=\"https://i.stack.imgur.com/x0bd6.png\" alt=\"flag\"></p>\n\n<p>To check it go to <strong>\"Build, Execution, Deployment\" -> \"Build Tools\" -> \"Gradle\" -> \"Runner\"</strong>. The flag \"<strong>Delegate IDE build/run actions to gradle</strong>\" must be unchecked.</p>\n"},{"tags":[],"owner":{"account_id":15800151,"reputation":1,"user_id":11400897,"display_name":"Vladimir M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669238990,"creation_date":1669238990,"answer_id":74553206,"question_id":43244946,"body_markdown":"In my case, I&#39;ve resolved this problem by manually created folders in project root &quot;out/artifacts/artifactName&quot;","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p>In my case, I've resolved this problem by manually created folders in project root &quot;out/artifacts/artifactName&quot;</p>\n"}],"owner":{"account_id":10368178,"reputation":3402,"user_id":7646621,"accept_rate":63,"display_name":"qg_java_17137"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23056,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":6,"score":14,"last_activity_date":1669238990,"creation_date":1491447865,"question_id":43244946,"body_markdown":"When I run tomcat in IntelliJ IDEA, I get this below error, I have searched the StackOverflow, find nothing about my exception.\r\n\r\n&gt; [2017-04-06 10:57:30,875] Artifact elecMaven-explored: Artifact is being deployed, please wait...  \r\n[2017-04-06 10:57:30,888] Artifact elecMaven-explored: Error during artifact deployment. See server log for details.  \r\n[2017-04-06 10:57:30,889] Artifact elecMaven-explored: com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException: /Users/luowensheng/Desktop/TestIOS/itheima1128elecMaven/classes/artifacts/elecMaven_explored not found for the web module.\r\n\r\nBut my artifact is really exists:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, where is the issue?\r\n\r\n---\r\n\r\nI have tried:\r\n\r\nadd the below code to web.xml:\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;kmRootKey&lt;/param-name&gt;\r\n        &lt;param-value&gt;km.root&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\nBut seems useless.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/715wB.jpg","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p>When I run tomcat in IntelliJ IDEA, I get this below error, I have searched the StackOverflow, find nothing about my exception.</p>\n\n<blockquote>\n  <p>[2017-04-06 10:57:30,875] Artifact elecMaven-explored: Artifact is being deployed, please wait...<br>\n  [2017-04-06 10:57:30,888] Artifact elecMaven-explored: Error during artifact deployment. See server log for details.<br>\n  [2017-04-06 10:57:30,889] Artifact elecMaven-explored: com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException: /Users/luowensheng/Desktop/TestIOS/itheima1128elecMaven/classes/artifacts/elecMaven_explored not found for the web module.</p>\n</blockquote>\n\n<p>But my artifact is really exists:</p>\n\n<p><a href=\"https://i.stack.imgur.com/715wB.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/715wB.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>So, where is the issue?</p>\n\n<hr>\n\n<p>I have tried:</p>\n\n<p>add the below code to web.xml:</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;kmRootKey&lt;/param-name&gt;\n    &lt;param-value&gt;km.root&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p>But seems useless.</p>\n"},{"tags":["java","swing","paint","paintcomponent","repaint"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669232671,"post_id":74552191,"comment_id":131600574,"body_markdown":"Use `javax.swing.Timer`","body":"Use <code>javax.swing.Timer</code>"},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1669235406,"post_id":74552191,"comment_id":131601284,"body_markdown":"You never add the GamePanel component to the JFrame as correctly mentioned in the current answer. They incorrectly suggested calling paintComponent directly though","body":"You never add the GamePanel component to the JFrame as correctly mentioned in the current answer. They incorrectly suggested calling paintComponent directly though"}],"answers":[{"tags":[],"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669237205,"creation_date":1669234240,"answer_id":74552470,"question_id":74552191,"body_markdown":"Here is the specific rectangle problem with your code, I will not mention other things because is not in the question, you are not adding GameWindow itself as component of your JFrame, and you are not calling your paintComponent method anywhere, I put it on update and it worked fine, but I&#39;m afraid that your code will block and you will not able to move the window and interact with it since you are always calling update/repaint over and over again inside your while statement. \r\n\r\nedit.: As the guy in the comment said, we must not call paintcomponent directly, so I fixed.\r\n\r\n    void setWindow() {\r\n        JFrame window = new JFrame();\r\n\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        window.setResizable(false);\r\n\r\n        window.setTitle(&quot;Avontuur&quot;);\r\n        window.add(GameWindow.this);\r\n        window.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\r\n        window.getContentPane().setBackground(Color.black);\r\n\r\n        ImageIcon icon = new ImageIcon(&quot;C:\\\\Users\\\\Rick\\\\Desktop\\\\Star.png&quot;);\r\n        window.setIconImage(icon.getImage());\r\n        window.pack();\r\n\r\n        window.setLocationRelativeTo(null);\r\n        window.setVisible(true);\r\n\r\n        startAnimation();\r\n    }\r\n\r\n","title":"Why is the repaint() method not calling my paintComponent() method?","body":"<p>Here is the specific rectangle problem with your code, I will not mention other things because is not in the question, you are not adding GameWindow itself as component of your JFrame, and you are not calling your paintComponent method anywhere, I put it on update and it worked fine, but I'm afraid that your code will block and you will not able to move the window and interact with it since you are always calling update/repaint over and over again inside your while statement.</p>\n<p>edit.: As the guy in the comment said, we must not call paintcomponent directly, so I fixed.</p>\n<pre><code>void setWindow() {\n    JFrame window = new JFrame();\n\n    window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    window.setResizable(false);\n\n    window.setTitle(&quot;Avontuur&quot;);\n    window.add(GameWindow.this);\n    window.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\n    window.getContentPane().setBackground(Color.black);\n\n    ImageIcon icon = new ImageIcon(&quot;C:\\\\Users\\\\Rick\\\\Desktop\\\\Star.png&quot;);\n    window.setIconImage(icon.getImage());\n    window.pack();\n\n    window.setLocationRelativeTo(null);\n    window.setVisible(true);\n\n    startAnimation();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669238676,"creation_date":1669237212,"answer_id":74552944,"question_id":74552191,"body_markdown":"Swing is single threaded - never block the Event Dispatching Thread with long running or blocking operations\r\n\r\nSwing is NOT thread safe - never update the UI or any state the UI relies on from outside the context of the Event Dispatching Thread.\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details.\r\n\r\nSwing makes use of a passive rendering engine - you don&#39;t control the painting process and you need to work within in it&#39;s intended design/workflow, see [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more details.\r\n\r\nSo, what&#39;s the solution?  In it&#39;s simplest form, use a [Swing `Timer`](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html), for example...\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new GamePane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePane extends JPanel {\r\n            final int ORIGINAL_TILE_SIZE = 16;\r\n            final int SCALE = 3;\r\n            final int TILE_SIZE = ORIGINAL_TILE_SIZE * SCALE;\r\n\r\n            final int MAX_SCREEN_COLUMNS = 16;\r\n            final int MAX_SCREEN_ROWS = 12;\r\n            final int SCREEN_WIDTH = TILE_SIZE * MAX_SCREEN_COLUMNS;\r\n            final int SCREEN_HEIGHT = TILE_SIZE * MAX_SCREEN_ROWS;\r\n\r\n            private Timer timer;\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT);\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                }\r\n\r\n                timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        update();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                }\r\n\r\n            }\r\n\r\n            public void update() {\r\n                System.out.println(&quot;Updatey update&quot;);\r\n                repaint();\r\n            }\r\n\r\n            public void paintComponent(final Graphics g) {\r\n                super.paintComponent(g);\r\n\r\n                System.out.println(&quot;Painty paint paint&quot;);\r\n\r\n                Graphics2D g2 = (Graphics2D) g.create();\r\n\r\n                g2.setColor(Color.white);\r\n                g2.fillRect(100, 100, TILE_SIZE, TILE_SIZE);\r\n                g2.dispose();\r\n            }\r\n        }\r\n    }\r\n\r\nYou should now see a bunch of text been printed to the console.\r\n\r\nAlso - you might not, I&#39;ve made some structural changes to your code, there is not reason for a `JPanel` based class to create it&#39;s own window (or if you really wanted to do this, I&#39;d create a `static` method to do it, but then I&#39;d be questioning why).\r\n\r\nOh, and also what DontKnowMuchBut Getting Better said in the comments!\r\n","title":"Why is the repaint() method not calling my paintComponent() method?","body":"<p>Swing is single threaded - never block the Event Dispatching Thread with long running or blocking operations</p>\n<p>Swing is NOT thread safe - never update the UI or any state the UI relies on from outside the context of the Event Dispatching Thread.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.</p>\n<p>Swing makes use of a passive rendering engine - you don't control the painting process and you need to work within in it's intended design/workflow, see <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for more details.</p>\n<p>So, what's the solution?  In it's simplest form, use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing <code>Timer</code></a>, for example...</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new GamePane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class GamePane extends JPanel {\n        final int ORIGINAL_TILE_SIZE = 16;\n        final int SCALE = 3;\n        final int TILE_SIZE = ORIGINAL_TILE_SIZE * SCALE;\n\n        final int MAX_SCREEN_COLUMNS = 16;\n        final int MAX_SCREEN_ROWS = 12;\n        final int SCREEN_WIDTH = TILE_SIZE * MAX_SCREEN_COLUMNS;\n        final int SCREEN_HEIGHT = TILE_SIZE * MAX_SCREEN_ROWS;\n\n        private Timer timer;\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT);\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            if (timer != null) {\n                timer.stop();\n            }\n\n            timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    update();\n                }\n            });\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            if (timer != null) {\n                timer.stop();\n            }\n\n        }\n\n        public void update() {\n            System.out.println(&quot;Updatey update&quot;);\n            repaint();\n        }\n\n        public void paintComponent(final Graphics g) {\n            super.paintComponent(g);\n\n            System.out.println(&quot;Painty paint paint&quot;);\n\n            Graphics2D g2 = (Graphics2D) g.create();\n\n            g2.setColor(Color.white);\n            g2.fillRect(100, 100, TILE_SIZE, TILE_SIZE);\n            g2.dispose();\n        }\n    }\n}\n</code></pre>\n<p>You should now see a bunch of text been printed to the console.</p>\n<p>Also - you might not, I've made some structural changes to your code, there is not reason for a <code>JPanel</code> based class to create it's own window (or if you really wanted to do this, I'd create a <code>static</code> method to do it, but then I'd be questioning why).</p>\n<p>Oh, and also what DontKnowMuchBut Getting Better said in the comments!</p>\n"}],"owner":{"account_id":27026352,"reputation":1,"user_id":20583558,"display_name":"Rickvdp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1669238676,"creation_date":1669232335,"question_id":74552191,"body_markdown":"I was trying to copy a repaint() and a paintComponent() method from a tutorial. After I copied the two methods my paintComponent did not get called and so the rectangle is not being showed. Here is my code:\r\n\r\n```\r\npublic class Main {\r\n\tGameWindow gw;\r\n\t\r\n\tMain() {\r\n\t\tgw = new GameWindow();\r\n\t}\r\n\t\r\n\tvoid start() {\r\n\t\tgw.setWindow();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew Main().start();\r\n\t}\r\n}\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class GameWindow extends JPanel implements Runnable {\r\n\tfinal int ORIGINAL_TILE_SIZE = 16;\r\n\tfinal int SCALE = 3;\r\n\tfinal int TILE_SIZE = ORIGINAL_TILE_SIZE * SCALE;\r\n\r\n\tfinal int MAX_SCREEN_COLUMNS = 16;\r\n\tfinal int MAX_SCREEN_ROWS = 12;\r\n\tfinal int SCREEN_WIDTH = TILE_SIZE * MAX_SCREEN_COLUMNS;\r\n\tfinal int SCREEN_HEIGHT = TILE_SIZE * MAX_SCREEN_ROWS;\r\n\r\n\tThread animation;\r\n\r\n\tvoid setWindow() {\r\n\t\tJFrame window = new JFrame();\r\n\r\n\t\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\twindow.setResizable(false);\r\n\r\n\t\twindow.setTitle(&quot;Avontuur&quot;);\r\n\t\twindow.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\r\n\t\twindow.getContentPane().setBackground(Color.black);\r\n\r\n\t\tImageIcon icon = new ImageIcon(&quot;C:\\\\Users\\\\Rick\\\\Desktop\\\\Star.png&quot;);\r\n\t\twindow.setIconImage(icon.getImage());\r\n\t\twindow.pack();\r\n\r\n\t\twindow.setLocationRelativeTo(null);\r\n\t\twindow.setVisible(true);\r\n\r\n\t\tstartAnimation();\r\n\t}\r\n\r\n\tvoid startAnimation() {\r\n\t\tanimation = new Thread(this);\r\n\t\tanimation.start();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\twhile (animation != null) {\r\n\t\t\tupdate();\r\n\r\n\t\t\trepaint();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void update() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void paintComponent(final Graphics g) {\r\n\t\t\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\tGraphics2D g2 = (Graphics2D)g;\r\n\t\t\r\n\t\tg2.setColor(Color.white);\r\n\t\tg2.fillRect(100, 100, TILE_SIZE, TILE_SIZE);\r\n\t\tg2.dispose();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nI already tried some solutions from stackOverflow, but they did not work or they were not relevant to my problem. Now the code above is what I tried myself using the video, but after using a println in the method I saw it was not getting called. I expected it to work after watching the tutorial, but it didn&#39;t. Does anyone know how I can fix this? Thanks in advance!","title":"Why is the repaint() method not calling my paintComponent() method?","body":"<p>I was trying to copy a repaint() and a paintComponent() method from a tutorial. After I copied the two methods my paintComponent did not get called and so the rectangle is not being showed. Here is my code:</p>\n<pre><code>public class Main {\n    GameWindow gw;\n    \n    Main() {\n        gw = new GameWindow();\n    }\n    \n    void start() {\n        gw.setWindow();\n    }\n\n    public static void main(String[] args) {\n        new Main().start();\n    }\n}\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class GameWindow extends JPanel implements Runnable {\n    final int ORIGINAL_TILE_SIZE = 16;\n    final int SCALE = 3;\n    final int TILE_SIZE = ORIGINAL_TILE_SIZE * SCALE;\n\n    final int MAX_SCREEN_COLUMNS = 16;\n    final int MAX_SCREEN_ROWS = 12;\n    final int SCREEN_WIDTH = TILE_SIZE * MAX_SCREEN_COLUMNS;\n    final int SCREEN_HEIGHT = TILE_SIZE * MAX_SCREEN_ROWS;\n\n    Thread animation;\n\n    void setWindow() {\n        JFrame window = new JFrame();\n\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setResizable(false);\n\n        window.setTitle(&quot;Avontuur&quot;);\n        window.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\n        window.getContentPane().setBackground(Color.black);\n\n        ImageIcon icon = new ImageIcon(&quot;C:\\\\Users\\\\Rick\\\\Desktop\\\\Star.png&quot;);\n        window.setIconImage(icon.getImage());\n        window.pack();\n\n        window.setLocationRelativeTo(null);\n        window.setVisible(true);\n\n        startAnimation();\n    }\n\n    void startAnimation() {\n        animation = new Thread(this);\n        animation.start();\n    }\n\n    @Override\n    public void run() {\n        while (animation != null) {\n            update();\n\n            repaint();\n        }\n    }\n    \n    public void update() {\n        \n    }\n    \n    public void paintComponent(final Graphics g) {\n        \n        super.paintComponent(g);\n        \n        Graphics2D g2 = (Graphics2D)g;\n        \n        g2.setColor(Color.white);\n        g2.fillRect(100, 100, TILE_SIZE, TILE_SIZE);\n        g2.dispose();\n    }\n}\n</code></pre>\n<p>I already tried some solutions from stackOverflow, but they did not work or they were not relevant to my problem. Now the code above is what I tried myself using the video, but after using a println in the method I saw it was not getting called. I expected it to work after watching the tutorial, but it didn't. Does anyone know how I can fix this? Thanks in advance!</p>\n"},{"tags":["java","http","spring-cloud","spring-cloud-gateway"],"owner":{"account_id":21784076,"reputation":11,"user_id":16085406,"display_name":"Ippili Akarsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669238380,"creation_date":1669238073,"question_id":74553079,"body_markdown":"I have a microservice(user service) running at localhost:8080, a gateway on localhost:8765 and a routing configuration as\r\n\r\n```\r\n@Bean\r\npublic RouteLocator gatewayRouter(RouteLocatorBuilder routeLocatorBuilder){\r\n    return routeLocatorBuilder\r\n            .routes()\r\n            .route(predicateSpec -&gt; predicateSpec\r\n                            .path(&quot;/user-service/**&quot;)\r\n                            .filters(\r\n                                    gatewayFilterSpec -&gt; gatewayFilterSpec\r\n                                            .rewritePath(&quot;/user-service/(?&lt;segment&gt;.*)&quot;, &quot;/${segment}&quot;)\r\n                            )\r\n                            .uri(&quot;lb://USER-SERVICE&quot;)\r\n            )\r\n            .route(predicateSpec -&gt; predicateSpec\r\n                    .path(&quot;/location-service/**&quot;)\r\n                    .filters(\r\n                            gatewayFilterSpec -&gt; gatewayFilterSpec\r\n                                    .rewritePath(&quot;/location-service/(?&lt;segment&gt;.*)&quot;, &quot;/${segment}&quot;)\r\n                    )\r\n                    .uri(&quot;lb://LOCATION-SERVICE&quot;)\r\n            )\r\n            .build();\r\n}\r\n```\r\non localhost:8080/swagger-ui.html it redirects to http://localhost:8080/swagger-ui/index.html#/ and I am able to access the swagger all good till here but through API gateway when I make a request the redirect happens on the API gateway. Redirects to **http://localhost:8765/swagger-ui/index.html**\r\n\r\n[1st request and response headers](https://i.stack.imgur.com/AYeIc.png)\r\n[2nd request(redirect) headers](https://i.stack.imgur.com/SN3K4.png)\r\n\r\n\r\nhow to make the location response locate in user service or redirect in user service and return HTML as a response.","title":"Accessing Swagger through Spring API Gateway","body":"<p>I have a microservice(user service) running at localhost:8080, a gateway on localhost:8765 and a routing configuration as</p>\n<pre><code>@Bean\npublic RouteLocator gatewayRouter(RouteLocatorBuilder routeLocatorBuilder){\n    return routeLocatorBuilder\n            .routes()\n            .route(predicateSpec -&gt; predicateSpec\n                            .path(&quot;/user-service/**&quot;)\n                            .filters(\n                                    gatewayFilterSpec -&gt; gatewayFilterSpec\n                                            .rewritePath(&quot;/user-service/(?&lt;segment&gt;.*)&quot;, &quot;/${segment}&quot;)\n                            )\n                            .uri(&quot;lb://USER-SERVICE&quot;)\n            )\n            .route(predicateSpec -&gt; predicateSpec\n                    .path(&quot;/location-service/**&quot;)\n                    .filters(\n                            gatewayFilterSpec -&gt; gatewayFilterSpec\n                                    .rewritePath(&quot;/location-service/(?&lt;segment&gt;.*)&quot;, &quot;/${segment}&quot;)\n                    )\n                    .uri(&quot;lb://LOCATION-SERVICE&quot;)\n            )\n            .build();\n}\n</code></pre>\n<p>on localhost:8080/swagger-ui.html it redirects to http://localhost:8080/swagger-ui/index.html#/ and I am able to access the swagger all good till here but through API gateway when I make a request the redirect happens on the API gateway. Redirects to <strong>http://localhost:8765/swagger-ui/index.html</strong></p>\n<p><a href=\"https://i.stack.imgur.com/AYeIc.png\" rel=\"nofollow noreferrer\">1st request and response headers</a>\n<a href=\"https://i.stack.imgur.com/SN3K4.png\" rel=\"nofollow noreferrer\">2nd request(redirect) headers</a></p>\n<p>how to make the location response locate in user service or redirect in user service and return HTML as a response.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":3,"creation_date":1669111543,"post_id":74530613,"comment_id":131564076,"body_markdown":"Why do you have the mapping on the attribute and the getter? You must choose one","body":"Why do you have the mapping on the attribute and the getter? You must choose one"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1669111694,"post_id":74530613,"comment_id":131564133,"body_markdown":"`int` is a primitive and defaults to `0`.. Make it in `Integer` instead.","body":"<code>int</code> is a primitive and defaults to <code>0</code>.. Make it in <code>Integer</code> instead."},{"owner":{"account_id":13184602,"reputation":207,"user_id":9523051,"display_name":"Hamza Khadhri"},"score":0,"creation_date":1669112195,"post_id":74530613,"comment_id":131564306,"body_markdown":"Show the class wich contains  &#39;dealsRepository.save(dealModel);&#39;. \nHave you inject your dependency ?","body":"Show the class wich contains  &#39;dealsRepository.save(dealModel);&#39;.  Have you inject your dependency ?"},{"owner":{"account_id":26652306,"reputation":1,"user_id":20266417,"display_name":"john johny"},"score":0,"creation_date":1669116206,"post_id":74530613,"comment_id":131565767,"body_markdown":"@SimonMartinelli I tried keeping the mapping just on the attribute and just on the getter, but it still doesn&#39;t work. The ID will always be null\nM.Deinum I made the Id type Integer, but it still not helps\nHamzaKhadhri save method is a method from CrudRepository","body":"@SimonMartinelli I tried keeping the mapping just on the attribute and just on the getter, but it still doesn&#39;t work. The ID will always be null M.Deinum I made the Id type Integer, but it still not helps HamzaKhadhri save method is a method from CrudRepository"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669120065,"post_id":74530613,"comment_id":131567042,"body_markdown":"I&#39;ve created an example project with your code and everything works fine. Check it out https://github.com/simasch-scratches/so-74530613","body":"I&#39;ve created an example project with your code and everything works fine. Check it out <a href=\"https://github.com/simasch-scratches/so-74530613\" rel=\"nofollow noreferrer\">github.com/simasch-scratches/so-74530613</a>"},{"owner":{"account_id":26652306,"reputation":1,"user_id":20266417,"display_name":"john johny"},"score":0,"creation_date":1669238413,"post_id":74530613,"comment_id":131602036,"body_markdown":"@SimonMartinelli I tried running the code from your branch but I can&#39;t see anything persisted to the DB","body":"@SimonMartinelli I tried running the code from your branch but I can&#39;t see anything persisted to the DB"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669273149,"post_id":74530613,"comment_id":131607986,"body_markdown":"The app uses a in-memory database H2. After the application finished the data is lost","body":"The app uses a in-memory database H2. After the application finished the data is lost"},{"owner":{"account_id":26652306,"reputation":1,"user_id":20266417,"display_name":"john johny"},"score":0,"creation_date":1669312976,"post_id":74530613,"comment_id":131621059,"body_markdown":"@SimonMartinelli what would I have to add to be able to persist to a postgres DB? I was able to persist entries to the DB with a similar version of code I initially mentioned, but I copied the code to another laptop and made some changes and now it doesn&#39;t work and I don&#39;t understand what the problem is","body":"@SimonMartinelli what would I have to add to be able to persist to a postgres DB? I was able to persist entries to the DB with a similar version of code I initially mentioned, but I copied the code to another laptop and made some changes and now it doesn&#39;t work and I don&#39;t understand what the problem is"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669360423,"post_id":74530613,"comment_id":131628570,"body_markdown":"You will have to add the database driver, start a database and configure the URL, username and password. https://mkyong.com/spring-boot/spring-boot-spring-data-jpa-postgresql/","body":"You will have to add the database driver, start a database and configure the URL, username and password. <a href=\"https://mkyong.com/spring-boot/spring-boot-spring-data-jpa-postgresql/\" rel=\"nofollow noreferrer\">mkyong.com/spring-boot/spring-boot-spring-data-jpa-postgresq&zwnj;&#8203;l</a>"}],"owner":{"account_id":26652306,"reputation":1,"user_id":20266417,"display_name":"john johny"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669238373,"creation_date":1669110781,"question_id":74530613,"body_markdown":"I am trying to persist an object to the DB, where the id of the object is auto generated. The issue is that for some reason the ID remains null(I also tried hardcoding a id in the constructor, but it is still seen as null). I tested inserting an object to the DB running a sql query and I can see the entry in the table.The model class is:`\r\n```\r\npackage com.dealFinder.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.ToString;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotBlank;\r\n\r\n@ToString\r\n\r\n@Entity\r\n@Table(name = &quot;deals&quot;)\r\npublic class DealModel { \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @NotBlank(message = &quot;Title is mandatory&quot;)\r\n    private String title;\r\n    @NotBlank(message = &quot;Url is mandatory&quot;)\r\n    private String url;\r\n    private float price;\r\n\r\n    public DealModel(String title, String url, float price){\r\n//        this.id = 1;\r\n        this.title=title;\r\n        this.url = url;\r\n        this.price= price;\r\n    }\r\n\r\n    public DealModel(){}\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n\r\n\r\n    @Column(name = &quot;title&quot;, nullable = false)\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    @Column(name = &quot;url&quot;, nullable = false)\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    @Column(name = &quot;price&quot;, nullable = false)\r\n    public float getPrice() {\r\n        return price;\r\n    }\r\n    public void setPrice(float price) {\r\n        this.price = price;\r\n    }\r\n}\r\n\r\n```\r\nI create the object with `\r\n```\r\nmodel = new DealModel(title, productUrl, price);\r\n```\r\n` where title, productUrl and price are not null, and I persist it to the DB with `\r\n```\r\ndealsRepository.save(dealModel);\r\n```\r\n` where the dealRepository class is`\r\n```\r\n@Repository\r\npublic interface DealsRepository extends JpaRepository&lt;DealModel, Integer&gt; {\r\n}\r\n```\r\n` Not sure what wrong change I made recently, as it was working fine previously. \r\n\r\nI am trying to persist the delModel object to the DB. Running a manual query to insert a dealModel entry to the table works fine","title":"Can&#39;t persist object to DB","body":"<p>I am trying to persist an object to the DB, where the id of the object is auto generated. The issue is that for some reason the ID remains null(I also tried hardcoding a id in the constructor, but it is still seen as null). I tested inserting an object to the DB running a sql query and I can see the entry in the table.The model class is:`</p>\n<pre><code>package com.dealFinder.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.ToString;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\n\n@ToString\n\n@Entity\n@Table(name = &quot;deals&quot;)\npublic class DealModel { \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @NotBlank(message = &quot;Title is mandatory&quot;)\n    private String title;\n    @NotBlank(message = &quot;Url is mandatory&quot;)\n    private String url;\n    private float price;\n\n    public DealModel(String title, String url, float price){\n//        this.id = 1;\n        this.title=title;\n        this.url = url;\n        this.price= price;\n    }\n\n    public DealModel(){}\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n\n\n\n    @Column(name = &quot;title&quot;, nullable = false)\n    public String getTitle() {\n        return title;\n    }\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    @Column(name = &quot;url&quot;, nullable = false)\n    public String getUrl() {\n        return url;\n    }\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    @Column(name = &quot;price&quot;, nullable = false)\n    public float getPrice() {\n        return price;\n    }\n    public void setPrice(float price) {\n        this.price = price;\n    }\n}\n\n</code></pre>\n<p>I create the object with `</p>\n<pre><code>model = new DealModel(title, productUrl, price);\n</code></pre>\n<p><code>where title, productUrl and price are not null, and I persist it to the DB with</code></p>\n<pre><code>dealsRepository.save(dealModel);\n</code></pre>\n<p><code> where the dealRepository class is</code></p>\n<pre><code>@Repository\npublic interface DealsRepository extends JpaRepository&lt;DealModel, Integer&gt; {\n}\n</code></pre>\n<p>` Not sure what wrong change I made recently, as it was working fine previously.</p>\n<p>I am trying to persist the delModel object to the DB. Running a manual query to insert a dealModel entry to the table works fine</p>\n"},{"tags":["java","spring-boot","web"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1669238838,"post_id":74553080,"comment_id":131602141,"body_markdown":"Session storage seems to be a poor way to handle it.  Usually things like this are broken up into multiple tables in your database - i.e. a consultation has a one to many with an analysis.  And there may be specific types of analysis.  What does your DB look like?","body":"Session storage seems to be a poor way to handle it.  Usually things like this are broken up into multiple tables in your database - i.e. a consultation has a one to many with an analysis.  And there may be specific types of analysis.  What does your DB look like?"},{"owner":{"account_id":23624669,"reputation":13,"user_id":17657397,"display_name":"biginner_sama"},"score":0,"creation_date":1669240945,"post_id":74553080,"comment_id":131602653,"body_markdown":"My databse contains a tables with patient and a tables of consultation with relation of one to many but the analysis must be all set in the same table which is consultation all along with other attributes","body":"My databse contains a tables with patient and a tables of consultation with relation of one to many but the analysis must be all set in the same table which is consultation all along with other attributes"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1669244488,"post_id":74553080,"comment_id":131603374,"body_markdown":"While that sounds like a questionable DB design your only hope is that there are alot of nullable columns so that you can store a bit of the consultation at a time.","body":"While that sounds like a questionable DB design your only hope is that there are alot of nullable columns so that you can store a bit of the consultation at a time."},{"owner":{"account_id":23624669,"reputation":13,"user_id":17657397,"display_name":"biginner_sama"},"score":0,"creation_date":1669287642,"post_id":74553080,"comment_id":131612895,"body_markdown":"That&#39;s the approach, but if you have other advice I more than happy to accept it. I working on this application alone so I have to do pretty much everything. DB design is a major part specially in fetching data in next step so I open to every suggestion.","body":"That&#39;s the approach, but if you have other advice I more than happy to accept it. I working on this application alone so I have to do pretty much everything. DB design is a major part specially in fetching data in next step so I open to every suggestion."}],"owner":{"account_id":23624669,"reputation":13,"user_id":17657397,"display_name":"biginner_sama"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669238081,"creation_date":1669238081,"question_id":74553080,"body_markdown":"I&#39;m making a decision aid application for doctors treating cancer patient.\r\nSo my application contains a module that handles consultations presented in several forms that the doctor is needed to fill to get the decision generated by the application.\r\nThe thing is, The patient is needed to do multiple medical analysis and the forms must have the feature to be filled on multiple times.\r\n\r\nI have a class called Consultation that have the full list of attributes that needed to be filled \r\nbut each form have only some of these attributes. The problem lays in the submission action. \r\n\r\nTo be more specific, the class have many constructors that enable the instantiation of an object with reduced number of attributes (I even don&#39;t know if that is the right approach)\r\n\r\nMy question is :\r\n\r\n 1. How can I save only portion of the data without actually make in them persistent(DataBase) knowing that the time between consultations can take weeks(I don&#39;t trust session to store data that long)?\r\n \r\n 2. If there is no way to implement the first question, how can I redirect only portion of the data to the database knowing that the consultation entity must have all the attributes filled or not?\r\n\r\nI already tried sessions storage but I think it can produce security issues for the application moreover I don&#39;t trust a session to store data for a long time.\r\nPassing to the database, I tried to set each form to a model but I didn&#39;t find a way to combine these model in one single table.\r\nI still a beginner in spring boot but I have an overall understanding of the architecture. ","title":"Storage (Session or persistent) in Spring boot","body":"<p>I'm making a decision aid application for doctors treating cancer patient.\nSo my application contains a module that handles consultations presented in several forms that the doctor is needed to fill to get the decision generated by the application.\nThe thing is, The patient is needed to do multiple medical analysis and the forms must have the feature to be filled on multiple times.</p>\n<p>I have a class called Consultation that have the full list of attributes that needed to be filled\nbut each form have only some of these attributes. The problem lays in the submission action.</p>\n<p>To be more specific, the class have many constructors that enable the instantiation of an object with reduced number of attributes (I even don't know if that is the right approach)</p>\n<p>My question is :</p>\n<ol>\n<li><p>How can I save only portion of the data without actually make in them persistent(DataBase) knowing that the time between consultations can take weeks(I don't trust session to store data that long)?</p>\n</li>\n<li><p>If there is no way to implement the first question, how can I redirect only portion of the data to the database knowing that the consultation entity must have all the attributes filled or not?</p>\n</li>\n</ol>\n<p>I already tried sessions storage but I think it can produce security issues for the application moreover I don't trust a session to store data for a long time.\nPassing to the database, I tried to set each form to a model but I didn't find a way to combine these model in one single table.\nI still a beginner in spring boot but I have an overall understanding of the architecture.</p>\n"},{"tags":["java","testing","mocking","bukkit"],"answers":[{"tags":[],"owner":{"account_id":21966448,"reputation":1,"user_id":16243618,"display_name":"Cooperr06"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669238023,"creation_date":1669235750,"answer_id":74552707,"question_id":74533739,"body_markdown":"So I finally managed to fix this error: it occured because of this dependency:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWatch this for updates: [https://github.com/MockBukkit/MockBukkit/issues/614][1]\r\n\r\n  [1]: https://github.com/MockBukkit/MockBukkit/issues/614","title":"MockBukkit#mock() throwing NPE","body":"<p>So I finally managed to fix this error: it occured because of this dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Watch this for updates: <a href=\"https://github.com/MockBukkit/MockBukkit/issues/614\" rel=\"nofollow noreferrer\">https://github.com/MockBukkit/MockBukkit/issues/614</a></p>\n"}],"owner":{"account_id":21966448,"reputation":1,"user_id":16243618,"display_name":"Cooperr06"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74552707,"answer_count":1,"score":0,"last_activity_date":1669238023,"creation_date":1669125207,"question_id":74533739,"body_markdown":"I&#39;m trying to test my Minecraft plugin with MockBukkit, but when I&#39;m trying to mock a server (via `MockBukkit#mock()`) a NPE is thrown:\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.eclipse.aether.RepositorySystem.newLocalRepositoryManager(org.eclipse.aether.RepositorySystemSession, org.eclipse.aether.repository.LocalRepository)&quot; because &quot;this.repository&quot; is null\r\n\r\n\tat org.bukkit.plugin.java.LibraryLoader.&lt;init&gt;(LibraryLoader.java:59)\r\n\tat org.bukkit.plugin.java.JavaPluginLoader.&lt;init&gt;(JavaPluginLoader.java:73)\r\n\tat be.seeseemelk.mockbukkit.plugin.PluginManagerMock.&lt;init&gt;(PluginManagerMock.java:90)\r\n\tat be.seeseemelk.mockbukkit.ServerMock.&lt;init&gt;(ServerMock.java:166)\r\n\tat be.seeseemelk.mockbukkit.MockBukkit.mock(MockBukkit.java:56)\r\n```\r\n\r\nHere you can find my pom.xml: [https://pastebin.com/TPjDRr9f](https://pastebin.com/TPjDRr9f)\r\nMy test contains just a method with the annotation `@BeforeAll` in which I mock via `MockBukkit#mock()`. This issue is also mentioned here [https://github.com/MockBukkit/MockBukkit/issues/614](https://github.com/MockBukkit/MockBukkit/issues/614), but this issue is currently in backlog, so I&#39;m trying to find a solution / workaround for this.\r\n\r\nI tried mocking the server in a test method with the annotation `@BeforeAll`:\r\n```java\r\n@BeforeAll\r\npublic void setUp() {\r\n    MockBukkit.mock();\r\n}\r\n```\r\n\r\nI expected the test to work.\r\n\r\nI actually got a NPE, which origin&#39;s located in the MockBukkit code.","title":"MockBukkit#mock() throwing NPE","body":"<p>I'm trying to test my Minecraft plugin with MockBukkit, but when I'm trying to mock a server (via <code>MockBukkit#mock()</code>) a NPE is thrown:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.aether.RepositorySystem.newLocalRepositoryManager(org.eclipse.aether.RepositorySystemSession, org.eclipse.aether.repository.LocalRepository)&quot; because &quot;this.repository&quot; is null\n\n    at org.bukkit.plugin.java.LibraryLoader.&lt;init&gt;(LibraryLoader.java:59)\n    at org.bukkit.plugin.java.JavaPluginLoader.&lt;init&gt;(JavaPluginLoader.java:73)\n    at be.seeseemelk.mockbukkit.plugin.PluginManagerMock.&lt;init&gt;(PluginManagerMock.java:90)\n    at be.seeseemelk.mockbukkit.ServerMock.&lt;init&gt;(ServerMock.java:166)\n    at be.seeseemelk.mockbukkit.MockBukkit.mock(MockBukkit.java:56)\n</code></pre>\n<p>Here you can find my pom.xml: <a href=\"https://pastebin.com/TPjDRr9f\" rel=\"nofollow noreferrer\">https://pastebin.com/TPjDRr9f</a>\nMy test contains just a method with the annotation <code>@BeforeAll</code> in which I mock via <code>MockBukkit#mock()</code>. This issue is also mentioned here <a href=\"https://github.com/MockBukkit/MockBukkit/issues/614\" rel=\"nofollow noreferrer\">https://github.com/MockBukkit/MockBukkit/issues/614</a>, but this issue is currently in backlog, so I'm trying to find a solution / workaround for this.</p>\n<p>I tried mocking the server in a test method with the annotation <code>@BeforeAll</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeAll\npublic void setUp() {\n    MockBukkit.mock();\n}\n</code></pre>\n<p>I expected the test to work.</p>\n<p>I actually got a NPE, which origin's located in the MockBukkit code.</p>\n"},{"tags":["java","video","vlc","vlcj","adjustment"],"comments":[{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1668980111,"post_id":74507184,"comment_id":131532102,"body_markdown":"Please test with vlcj-player sample project. Are you using an &quot;embedded&quot; or &quot;callback&quot; media player? I just tested vlcj-player with the embedded media player and video adjustment works for me. For callback media players it seems you can&#39;t use video adjust.","body":"Please test with vlcj-player sample project. Are you using an &quot;embedded&quot; or &quot;callback&quot; media player? I just tested vlcj-player with the embedded media player and video adjustment works for me. For callback media players it seems you can&#39;t use video adjust."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1668981432,"post_id":74507184,"comment_id":131532359,"body_markdown":"I am using EmbeddedMediaPlayer. It is working for some older mpeg videos and for avi containers it seems, but not for mp4. I&#39;ll try out the sample project and see if I can find any differences to my code. But it will take some time...","body":"I am using EmbeddedMediaPlayer. It is working for some older mpeg videos and for avi containers it seems, but not for mp4. I&#39;ll try out the sample project and see if I can find any differences to my code. But it will take some time..."},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1669011672,"post_id":74507184,"comment_id":131536837,"body_markdown":"Strange, I tested mp4 and it was OK for me.","body":"Strange, I tested mp4 and it was OK for me."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1669238116,"post_id":74507184,"comment_id":131601960,"body_markdown":"I have downloaded the vlcj sample application and I am seeing the same behavior there: video adjustments don&#39;t work for MP4 files. So I assume it&#39;s not related to my code. I have had a look into the native VLC logs and I can see error messages there (I have added them to my initial post). These messages are being logged repeatedly for videos having the issue. Have you ever come across something similar? I did some research but unfortunately I am really not into all this native VLC and codec stuff...","body":"I have downloaded the vlcj sample application and I am seeing the same behavior there: video adjustments don&#39;t work for MP4 files. So I assume it&#39;s not related to my code. I have had a look into the native VLC logs and I can see error messages there (I have added them to my initial post). These messages are being logged repeatedly for videos having the issue. Have you ever come across something similar? I did some research but unfortunately I am really not into all this native VLC and codec stuff..."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1669652650,"post_id":74507184,"comment_id":131685550,"body_markdown":"No idea? The thing is: even if it is related to my local machine setup like some outdated graphics driver or if I am missing any codec or whatever, how is it possible that native VLC player can handle everything without any issues and vlcj cannot? Like I said, I am seeing the same issue with the vlcj sample application. Any hint would be highly appreciated","body":"No idea? The thing is: even if it is related to my local machine setup like some outdated graphics driver or if I am missing any codec or whatever, how is it possible that native VLC player can handle everything without any issues and vlcj cannot? Like I said, I am seeing the same issue with the vlcj sample application. Any hint would be highly appreciated"},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1669656443,"post_id":74507184,"comment_id":131686949,"body_markdown":"VLC does not use LibVLC. I just now tested vlcj-player on Linux, and Windows 10, VLC 3.0.17.4, and an MP4 file, video effects work just fine. You can try changing video output, see &quot;VLC -H&quot; and search for vout.","body":"VLC does not use LibVLC. I just now tested vlcj-player on Linux, and Windows 10, VLC 3.0.17.4, and an MP4 file, video effects work just fine. You can try changing video output, see &quot;VLC -H&quot; and search for vout."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1670004897,"post_id":74507184,"comment_id":131779814,"body_markdown":"I have tried out all possible video output options. No success unfortunately. Maybe it&#39;s related to my machine. I&#39;ll try to get my app running on another laptop and see if it works there","body":"I have tried out all possible video output options. No success unfortunately. Maybe it&#39;s related to my machine. I&#39;ll try to get my app running on another laptop and see if it works there"}],"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669237805,"creation_date":1668938887,"question_id":74507184,"body_markdown":"After migrating my Java application from `vlcj-3.12.1` to `vlcj-4.8.2`, video adjustments are no longer working. Means: changing the video&#39;s brightness, contrast, saturation, hue or gamma has no effect. I am enabling video adjustments **before** changing any of the mentioned values and I am calling these methods **after** playback has started and video output is available. I have searched through various discussions about similar issues but none of the proposed solutions has worked for me. I have also tried to call `setAdjustVideo(false)` right before setting it to `true` again - no difference. Example code for setting the brightness:\r\n\r\n    float myBrightness = 2.0f;\r\n    vlcPlayer.video().setAdjustVideo(true);\r\n    vlcPlayer.video().setBrightness(myBrightness);\r\n\r\nSurprisingly, it is working fine for all `.avi` files I have tested, so I initially thought the issue might somehow be related to the video codec. But when using the native VLC player, applying the settings works just fine for all videos and formats. So it must have to do something with either `vlcj` or my own code. Is there anything that needs to be taken care of that I am missing? Any additional setting or rule in `vlcj-4` compared to previous versions?&lt;br&gt;\r\n\r\nI am using `vlcj-4.8.2` in combination with `VLC 3.0.17.4` (latest version) on Windows 10 with `Java 17.0.5`. Thanks in advance!\r\n\r\n**Edit:** (added native VLC error logs):\r\n\r\n    main debug: looking for video converter module matching &quot;any&quot;: 48 candidates\r\n    d3d11_filters warning: no context available\r\n    d3d11_filters debug: D3D11 opaque without a texture\r\n    d3d11_filters warning: no context available\r\n    d3d11_filters debug: D3D11 opaque without a texture\r\n    chain error: Too high level of recursion (3)\r\n    chain error: Too high level of recursion (3)\r\n    main debug: no video converter modules matched\r\n    main error: Failed to create video converter\r\n    main debug: removing module &quot;swscale&quot;\r\n    main debug: Filter 000002080bf802a0 removed from chain\r\n    chain debug: Trying to use chroma I422 as middle man","title":"VLCJ-4: changing video settings has no effect","body":"<p>After migrating my Java application from <code>vlcj-3.12.1</code> to <code>vlcj-4.8.2</code>, video adjustments are no longer working. Means: changing the video's brightness, contrast, saturation, hue or gamma has no effect. I am enabling video adjustments <strong>before</strong> changing any of the mentioned values and I am calling these methods <strong>after</strong> playback has started and video output is available. I have searched through various discussions about similar issues but none of the proposed solutions has worked for me. I have also tried to call <code>setAdjustVideo(false)</code> right before setting it to <code>true</code> again - no difference. Example code for setting the brightness:</p>\n<pre><code>float myBrightness = 2.0f;\nvlcPlayer.video().setAdjustVideo(true);\nvlcPlayer.video().setBrightness(myBrightness);\n</code></pre>\n<p>Surprisingly, it is working fine for all <code>.avi</code> files I have tested, so I initially thought the issue might somehow be related to the video codec. But when using the native VLC player, applying the settings works just fine for all videos and formats. So it must have to do something with either <code>vlcj</code> or my own code. Is there anything that needs to be taken care of that I am missing? Any additional setting or rule in <code>vlcj-4</code> compared to previous versions?<br></p>\n<p>I am using <code>vlcj-4.8.2</code> in combination with <code>VLC 3.0.17.4</code> (latest version) on Windows 10 with <code>Java 17.0.5</code>. Thanks in advance!</p>\n<p><strong>Edit:</strong> (added native VLC error logs):</p>\n<pre><code>main debug: looking for video converter module matching &quot;any&quot;: 48 candidates\nd3d11_filters warning: no context available\nd3d11_filters debug: D3D11 opaque without a texture\nd3d11_filters warning: no context available\nd3d11_filters debug: D3D11 opaque without a texture\nchain error: Too high level of recursion (3)\nchain error: Too high level of recursion (3)\nmain debug: no video converter modules matched\nmain error: Failed to create video converter\nmain debug: removing module &quot;swscale&quot;\nmain debug: Filter 000002080bf802a0 removed from chain\nchain debug: Trying to use chroma I422 as middle man\n</code></pre>\n"},{"tags":["java","jar","classloader","maven-shade-plugin"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1669151706,"post_id":74538843,"comment_id":131578429,"body_markdown":"not really class loader related. Shaded means that the package name of some classes have been altered from like com.google.common to e.g. shaded.com.google.common so they can exist side by side to the &quot;same&quot; library. Are the dependency in your shaded jar included and shaded inside https://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html ?","body":"not really class loader related. Shaded means that the package name of some classes have been altered from like com.google.common to e.g. shaded.com.google.common so they can exist side by side to the &quot;same&quot; library. Are the dependency in your shaded jar included and shaded inside <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/examples/&hellip;</a> ?"},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1669153158,"post_id":74538843,"comment_id":131578833,"body_markdown":"I&#39;ve assumed so, but I&#39;ll need to give that a closer loo. This is useful direction BTW.","body":"I&#39;ve assumed so, but I&#39;ll need to give that a closer loo. This is useful direction BTW."},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1669223090,"post_id":74538843,"comment_id":131597588,"body_markdown":"Added examples of where `MemoizingSupplier` is defined in the war","body":"Added examples of where <code>MemoizingSupplier</code> is defined in the war"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669237617,"creation_date":1669237617,"answer_id":74552998,"question_id":74538843,"body_markdown":"You have two copies of `com.google.common.base.Suppliers.MemoizingSupplier` on the classpath. Only one can be loaded, and in your case, it&#39;s the older version.\r\n\r\nYou shouldn&#39;t have multiple classes with the same name available to one classloader. What is nautilus-es2-library-2.3.4.jar and why does it bundle Guava rather than expressing it as a transitive dependency?","title":"How the class loader works in Java with a shaded jar","body":"<p>You have two copies of <code>com.google.common.base.Suppliers.MemoizingSupplier</code> on the classpath. Only one can be loaded, and in your case, it's the older version.</p>\n<p>You shouldn't have multiple classes with the same name available to one classloader. What is nautilus-es2-library-2.3.4.jar and why does it bundle Guava rather than expressing it as a transitive dependency?</p>\n"}],"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74552998,"answer_count":1,"score":0,"last_activity_date":1669237617,"creation_date":1669150431,"question_id":74538843,"body_markdown":"My experience with Java class loading is limited. With tools like Maven I have a rusty understanding of how they resolve dependency versions. But I&#39;ve hit a problem that&#39;s making me question how Java loads classes.\r\n\r\nMy scenario, I have a dependency on version `30.1.1-jre` of `com.google.guava`. I also have a shaded jar which has a dependency on Guava 18.0.\r\n\r\nIn my application I end up seeing the following exception\r\n\r\n&gt; java.lang.IncompatibleClassChangeError: Class com.google.common.base.Suppliers$MemoizingSupplier does not implement the requested interface java.util.function.Supplier\r\n\r\nwhich I cannot reproduce locally. Based on https://github.com/crabhi/celery-java/issues/9 it sounds like this error is produced when an older version of Guava is on the classpath.\r\n\r\nChecking the classes in the war I see\r\n\r\n```\r\nWEB-INF/lib/java-driver-shaded-guava-25.1-jre-graal-sub-1.jar.d/com/datastax/oss/driver/shaded/guava/common/base/Suppliers$MemoizingSupplier.class\r\n\r\nWEB-INF/lib/nautilus-es2-library-2.3.4.jar.d/com/google/common/base/Suppliers$MemoizingSupplier.class\r\n\r\nWEB-INF/lib/guava-30.1.1-jre.jar.d/com/google/common/base/Suppliers$MemoizingSupplier.class\r\n```\r\n\r\nThis makes me think the shaded jars are causing a problem.\r\n\r\nIs that possible? Are there any articles explaining how classes are loaded when shaded jars enter the picture?","title":"How the class loader works in Java with a shaded jar","body":"<p>My experience with Java class loading is limited. With tools like Maven I have a rusty understanding of how they resolve dependency versions. But I've hit a problem that's making me question how Java loads classes.</p>\n<p>My scenario, I have a dependency on version <code>30.1.1-jre</code> of <code>com.google.guava</code>. I also have a shaded jar which has a dependency on Guava 18.0.</p>\n<p>In my application I end up seeing the following exception</p>\n<blockquote>\n<p>java.lang.IncompatibleClassChangeError: Class com.google.common.base.Suppliers$MemoizingSupplier does not implement the requested interface java.util.function.Supplier</p>\n</blockquote>\n<p>which I cannot reproduce locally. Based on <a href=\"https://github.com/crabhi/celery-java/issues/9\" rel=\"nofollow noreferrer\">https://github.com/crabhi/celery-java/issues/9</a> it sounds like this error is produced when an older version of Guava is on the classpath.</p>\n<p>Checking the classes in the war I see</p>\n<pre><code>WEB-INF/lib/java-driver-shaded-guava-25.1-jre-graal-sub-1.jar.d/com/datastax/oss/driver/shaded/guava/common/base/Suppliers$MemoizingSupplier.class\n\nWEB-INF/lib/nautilus-es2-library-2.3.4.jar.d/com/google/common/base/Suppliers$MemoizingSupplier.class\n\nWEB-INF/lib/guava-30.1.1-jre.jar.d/com/google/common/base/Suppliers$MemoizingSupplier.class\n</code></pre>\n<p>This makes me think the shaded jars are causing a problem.</p>\n<p>Is that possible? Are there any articles explaining how classes are loaded when shaded jars enter the picture?</p>\n"},{"tags":["java","android","opengl-es","gpuimage"],"comments":[{"owner":{"account_id":5047443,"reputation":2588,"user_id":4052962,"accept_rate":100,"display_name":"Mikhail Spitsin"},"score":1,"creation_date":1468862314,"post_id":33358248,"comment_id":64290558,"body_markdown":"Sorry for my misunderstanding, but could you, please, provide what data do you have as input and what do you want to receive as output?","body":"Sorry for my misunderstanding, but could you, please, provide what data do you have as input and what do you want to receive as output?"},{"owner":{"account_id":2985836,"reputation":2698,"user_id":2534694,"accept_rate":32,"display_name":"Zen"},"score":1,"creation_date":1469621541,"post_id":33358248,"comment_id":64611388,"body_markdown":"Hi. I have a bitmap as the input and the final output should also be a bitmap","body":"Hi. I have a bitmap as the input and the final output should also be a bitmap"},{"owner":{"account_id":177768,"reputation":2670,"user_id":409315,"accept_rate":88,"display_name":"codetiger"},"score":1,"creation_date":1471260886,"post_id":33358248,"comment_id":65262386,"body_markdown":"What exactly are you trying to achieve? I tried reading your question ew times, but not able to understand the requirement.","body":"What exactly are you trying to achieve? I tried reading your question ew times, but not able to understand the requirement."}],"answers":[{"tags":[],"owner":{"account_id":3434675,"reputation":8159,"user_id":2878070,"accept_rate":80,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473865030,"creation_date":1473865030,"answer_id":39493675,"question_id":33358248,"body_markdown":"Color matrix is the entity that defines new color component values for some pixel as linear functions of the current color components of the same pixel. I.e. the only input for color matrix conversion is the pixel, which colors should be transformed.  There is no way to involve another pixels to such conversion. Regardless if they are pixels from another image or even neighbors of transformed pixel - it is impossible.","title":"How do I &quot;subtract&quot; a color filter using GPUImageLibrary?","body":"<p>Color matrix is the entity that defines new color component values for some pixel as linear functions of the current color components of the same pixel. I.e. the only input for color matrix conversion is the pixel, which colors should be transformed.  There is no way to involve another pixels to such conversion. Regardless if they are pixels from another image or even neighbors of transformed pixel - it is impossible.</p>\n"},{"tags":[],"owner":{"account_id":7487496,"reputation":8511,"user_id":5690248,"accept_rate":100,"display_name":"The Dreams Wind"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669237455,"creation_date":1544748816,"answer_id":53772151,"question_id":33358248,"body_markdown":"### Disclaimer\r\n\r\nOriginally I answered [another question][1] from the same author and it seems was asked within the same problem. I decided not to mark this one as a duplicate, because the first question doesn&#39;t have context of using the `GPUImageLibrary`, which makes the things way simpler. However I don&#39;t want to overact, so if you need any additional details, please refer to [the original answer][2]. Here I&#39;ll merely outline the solution.\r\n\r\n---\r\n\r\nYou don&#39;t actually need to extend the `GPUImageSubtractBlendFilter` or any descendants of the `GPUImageTwoInputFilter`, because (as correctly was noted by [Sergio][3]) you should deal with only one instance of texture. Instead define your own fragment shader that will take a color filter, apply it and subtract the resulting\r\nvalue from original pixel:\r\n\r\n    precision mediump float;\r\n    struct ColorFilter {\r\n      mat4 factor;\r\n      vec4 shift;\r\n    };\r\n    uniform sampler2D inputImageTexture;\r\n    uniform ColorFilter uColorFilter;\r\n    varying vec2 textureCoordinate;\r\n    void main() {\r\n      vec4 originalColor = texture2D(inputImageTexture, textureCoordinate);\r\n      originalColor.rgb *= originalColor.a;\r\n      vec4 filteredColor = (originalColor * uColorFilter.factor) + uColorFilter.shift;\r\n      filteredColor.rgb *= filteredColor.a;\r\n      gl_FragColor = vec4(originalColor.rgb - filteredColor.rgb, originalColor.a);\r\n    }\r\n\r\nAnd now just attach your color filter matrix to the shader:\r\n\r\n    @Override\r\n    public void onInitialized() {\r\n        super.onInitialized();\r\n        attachColorFilter(getProgram());\r\n    }\r\n\r\n    // ========================================== //\r\n    // Private\r\n    // ========================================== //\r\n\r\n    private void attachColorFilter(int program) {\r\n        final float[] colorFilterFactor = new float[4 * 4];\r\n        final float[] colorFilterShift = new float[4];\r\n        for (int i = 0; i &lt; mColorFilter.length; i++) {\r\n            final float value = mColorFilter[i];\r\n            final int calculateIndex = i + 1;\r\n            if (calculateIndex % 5 == 0) {\r\n                colorFilterShift[calculateIndex / 5 - 1] = value / 255;\r\n            } else {\r\n                colorFilterFactor[i - calculateIndex / 5] = value;\r\n            }\r\n        }\r\n        final int colorFactorLocation = GLES20.glGetUniformLocation(program,\r\n                &quot;uColorFilter.factor&quot;);\r\n        setUniformMatrix4f(colorFactorLocation, colorFilterFactor);\r\n        final int colorShiftLocation = GLES20.glGetUniformLocation(program,\r\n                &quot;uColorFilter.shift&quot;);\r\n        setFloatVec4(colorShiftLocation, colorFilterShift);\r\n    }\r\n\r\nFeel free to use the [gist][4] with the working subclass. Just instantiate it and pass to the `GPUImageView`:\r\n\r\n    mBlendedImageView.setFilter(new ColorMatrixSubtractFilter(new float[] {\r\n        0.393f, 0.7689999f, 0.18899999f, 0, 0,\r\n        0.349f, 0.6859999f, 0.16799999f, 0, 0,\r\n        0.272f, 0.5339999f, 0.13099999f, 0, 0,\r\n        0,      0,         0,            1, 0\r\n    }));\r\n\r\nOn the right you can see the output of subtracted filter applied to the image on the left:\r\n\r\n[![Blended image][5]][5]\r\n\r\n  [1]: https://stackoverflow.com/questions/33358030\r\n  [2]: https://stackoverflow.com/a/53732051/5690248\r\n  [3]: https://stackoverflow.com/users/2878070\r\n  [4]: https://gist.github.com/TheDreamsWind/d724a0f7a56bf95894cfa4d46b9d4347\r\n  [5]: https://i.stack.imgur.com/EBILJ.png\r\n\r\n","title":"How do I &quot;subtract&quot; a color filter using GPUImageLibrary?","body":"<h3>Disclaimer</h3>\n<p>Originally I answered <a href=\"https://stackoverflow.com/questions/33358030\">another question</a> from the same author and it seems was asked within the same problem. I decided not to mark this one as a duplicate, because the first question doesn't have context of using the <code>GPUImageLibrary</code>, which makes the things way simpler. However I don't want to overact, so if you need any additional details, please refer to <a href=\"https://stackoverflow.com/a/53732051/5690248\">the original answer</a>. Here I'll merely outline the solution.</p>\n<hr />\n<p>You don't actually need to extend the <code>GPUImageSubtractBlendFilter</code> or any descendants of the <code>GPUImageTwoInputFilter</code>, because (as correctly was noted by <a href=\"https://stackoverflow.com/users/2878070\">Sergio</a>) you should deal with only one instance of texture. Instead define your own fragment shader that will take a color filter, apply it and subtract the resulting\nvalue from original pixel:</p>\n<pre><code>precision mediump float;\nstruct ColorFilter {\n  mat4 factor;\n  vec4 shift;\n};\nuniform sampler2D inputImageTexture;\nuniform ColorFilter uColorFilter;\nvarying vec2 textureCoordinate;\nvoid main() {\n  vec4 originalColor = texture2D(inputImageTexture, textureCoordinate);\n  originalColor.rgb *= originalColor.a;\n  vec4 filteredColor = (originalColor * uColorFilter.factor) + uColorFilter.shift;\n  filteredColor.rgb *= filteredColor.a;\n  gl_FragColor = vec4(originalColor.rgb - filteredColor.rgb, originalColor.a);\n}\n</code></pre>\n<p>And now just attach your color filter matrix to the shader:</p>\n<pre><code>@Override\npublic void onInitialized() {\n    super.onInitialized();\n    attachColorFilter(getProgram());\n}\n\n// ========================================== //\n// Private\n// ========================================== //\n\nprivate void attachColorFilter(int program) {\n    final float[] colorFilterFactor = new float[4 * 4];\n    final float[] colorFilterShift = new float[4];\n    for (int i = 0; i &lt; mColorFilter.length; i++) {\n        final float value = mColorFilter[i];\n        final int calculateIndex = i + 1;\n        if (calculateIndex % 5 == 0) {\n            colorFilterShift[calculateIndex / 5 - 1] = value / 255;\n        } else {\n            colorFilterFactor[i - calculateIndex / 5] = value;\n        }\n    }\n    final int colorFactorLocation = GLES20.glGetUniformLocation(program,\n            &quot;uColorFilter.factor&quot;);\n    setUniformMatrix4f(colorFactorLocation, colorFilterFactor);\n    final int colorShiftLocation = GLES20.glGetUniformLocation(program,\n            &quot;uColorFilter.shift&quot;);\n    setFloatVec4(colorShiftLocation, colorFilterShift);\n}\n</code></pre>\n<p>Feel free to use the <a href=\"https://gist.github.com/TheDreamsWind/d724a0f7a56bf95894cfa4d46b9d4347\" rel=\"nofollow noreferrer\">gist</a> with the working subclass. Just instantiate it and pass to the <code>GPUImageView</code>:</p>\n<pre><code>mBlendedImageView.setFilter(new ColorMatrixSubtractFilter(new float[] {\n    0.393f, 0.7689999f, 0.18899999f, 0, 0,\n    0.349f, 0.6859999f, 0.16799999f, 0, 0,\n    0.272f, 0.5339999f, 0.13099999f, 0, 0,\n    0,      0,         0,            1, 0\n}));\n</code></pre>\n<p>On the right you can see the output of subtracted filter applied to the image on the left:</p>\n<p><a href=\"https://i.stack.imgur.com/EBILJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBILJ.png\" alt=\"Blended image\" /></a></p>\n"}],"owner":{"account_id":2985836,"reputation":2698,"user_id":2534694,"accept_rate":32,"display_name":"Zen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"answer_count":2,"score":46,"last_activity_date":1669237455,"creation_date":1445907431,"question_id":33358248,"body_markdown":"Currently the BlendModes (Subtract, Exclusion, etc.) use the LauncherImage as the mask. Can I apply these BlendModes to a ColorMatrix?\r\n\r\nI&#39;m using the [GPUImageLibrary][1]:\r\n\r\n    colorMatrix[\r\n        0.393, 0.7689999, 0.18899999, 0, 0,\r\n        0.349, 0.6859999, 0.16799999, 0, 0,\r\n        0.272, 0.5339999, 0.13099999, 0, 0,\r\n        0,     0,         0,          1, 0];\r\n\r\n**SubtractBlendFilter.java**\r\n\r\n    public class GPUImageSubtractBlendFilter extends GPUImageTwoInputFilter {\r\n        public static final String SUBTRACT_BLEND_FRAGMENT_SHADER = &quot;varying highp vec2 textureCoordinate;\\n&quot; +\r\n                &quot; varying highp vec2 textureCoordinate2;\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot; uniform sampler2D inputImageTexture;\\n&quot; +\r\n                &quot; uniform sampler2D inputImageTexture2;\\n&quot; +\r\n                &quot; \\n&quot; +\r\n                &quot; void main()\\n&quot; +\r\n                &quot; {\\n&quot; +\r\n                &quot;   lowp vec4 textureColor = texture2D(inputImageTexture, textureCoordinate);\\n&quot; +\r\n                &quot;   lowp vec4 textureColor2 = texture2D(inputImageTexture2, textureCoordinate2);\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;   gl_FragColor = vec4(textureColor.rgb - textureColor2.rgb, textureColor.a);\\n&quot; +\r\n                &quot; }&quot;;\r\n\r\n        public GPUImageSubtractBlendFilter() {\r\n            super(SUBTRACT_BLEND_FRAGMENT_SHADER);\r\n        }\r\n    }\r\n\r\n**GPUIMageTwoInputFilter.java**\r\n\r\n    public class GPUImageTwoInputFilter extends GPUImageFilter {\r\n        private static final String VERTEX_SHADER = &quot;attribute vec4 position;\\n&quot; +\r\n                &quot;attribute vec4 inputTextureCoordinate;\\n&quot; +\r\n                &quot;attribute vec4 inputTextureCoordinate2;\\n&quot; +\r\n                &quot; \\n&quot; +\r\n                &quot;varying vec2 textureCoordinate;\\n&quot; +\r\n                &quot;varying vec2 textureCoordinate2;\\n&quot; +\r\n                &quot; \\n&quot; +\r\n                &quot;void main()\\n&quot; +\r\n                &quot;{\\n&quot; +\r\n                &quot;    gl_Position = position;\\n&quot; +\r\n                &quot;    textureCoordinate = inputTextureCoordinate.xy;\\n&quot; +\r\n                &quot;    textureCoordinate2 = inputTextureCoordinate2.xy;\\n&quot; +\r\n                &quot;}&quot;;\r\n\r\n        public int mFilterSecondTextureCoordinateAttribute;\r\n        public int mFilterInputTextureUniform2;\r\n        public int mFilterSourceTexture2 = OpenGlUtils.NO_TEXTURE;\r\n        private ByteBuffer mTexture2CoordinatesBuffer;\r\n        private Bitmap mBitmap;\r\n\r\n        public GPUImageTwoInputFilter(String fragmentShader) {\r\n            this(VERTEX_SHADER, fragmentShader);\r\n        }\r\n\r\n        public GPUImageTwoInputFilter(String vertexShader, String fragmentShader) {\r\n            super(vertexShader, fragmentShader);\r\n            setRotation(Rotation.NORMAL, false, false);\r\n        }\r\n\r\n        @Override\r\n        public void onInit() {\r\n            super.onInit();\r\n\r\n            mFilterSecondTextureCoordinateAttribute = GLES20.glGetAttribLocation(getProgram(), &quot;inputTextureCoordinate2&quot;);\r\n            mFilterInputTextureUniform2 = GLES20.glGetUniformLocation(getProgram(), &quot;inputImageTexture2&quot;); // This does assume a name of &quot;inputImageTexture2&quot; for second input texture in the fragment shader\r\n            GLES20.glEnableVertexAttribArray(mFilterSecondTextureCoordinateAttribute);\r\n\r\n            if (mBitmap != null&amp;&amp;!mBitmap.isRecycled()) {\r\n                setBitmap(mBitmap);\r\n            }\r\n        }\r\n\r\n        public void setBitmap(final Bitmap bitmap) {\r\n            if (bitmap != null &amp;&amp; bitmap.isRecycled()) {\r\n                return;\r\n            }\r\n            mBitmap = bitmap;\r\n            if (mBitmap == null) {\r\n                return;\r\n            }\r\n            runOnDraw(new Runnable() {\r\n                public void run() {\r\n                    if (mFilterSourceTexture2 == OpenGlUtils.NO_TEXTURE) {\r\n                        if (bitmap == null || bitmap.isRecycled()) {\r\n                            return;\r\n                        }\r\n                        GLES20.glActiveTexture(GLES20.GL_TEXTURE3);\r\n                        mFilterSourceTexture2 = OpenGlUtils.loadTexture(bitmap, OpenGlUtils.NO_TEXTURE, false);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public Bitmap getBitmap() {\r\n            return mBitmap;\r\n        }\r\n\r\n        public void recycleBitmap() {\r\n            if (mBitmap != null &amp;&amp; !mBitmap.isRecycled()) {\r\n                mBitmap.recycle();\r\n                mBitmap = null;\r\n            }\r\n        }\r\n\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            GLES20.glDeleteTextures(1, new int[]{\r\n                    mFilterSourceTexture2\r\n            }, 0);\r\n            mFilterSourceTexture2 = OpenGlUtils.NO_TEXTURE;\r\n        }\r\n\r\n        @Override\r\n        protected void onDrawArraysPre() {\r\n            GLES20.glEnableVertexAttribArray(mFilterSecondTextureCoordinateAttribute);\r\n            GLES20.glActiveTexture(GLES20.GL_TEXTURE3);\r\n            GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, mFilterSourceTexture2);\r\n            GLES20.glUniform1i(mFilterInputTextureUniform2, 3);\r\n\r\n            mTexture2CoordinatesBuffer.position(0);\r\n            GLES20.glVertexAttribPointer(mFilterSecondTextureCoordinateAttribute, 2, GLES20.GL_FLOAT, false, 0, mTexture2CoordinatesBuffer);\r\n        }\r\n\r\n        public void setRotation(final Rotation rotation, final boolean flipHorizontal, final boolean flipVertical) {\r\n            float[] buffer = TextureRotationUtil.getRotation(rotation, flipHorizontal, flipVertical);\r\n\r\n            ByteBuffer bBuffer = ByteBuffer.allocateDirect(32).order(ByteOrder.nativeOrder());\r\n            FloatBuffer fBuffer = bBuffer.asFloatBuffer();\r\n            fBuffer.put(buffer);\r\n            fBuffer.flip();\r\n\r\n            mTexture2CoordinatesBuffer = bBuffer;\r\n        }\r\n    }\r\n\r\nMy guess it involves changing something with `String SUBTRACT_BLEND_GRAGMENT_SHADER` &amp; `String VERTEX_SHADER`  .\r\n\r\n  [1]: https://github.com/CyberAgent/android-gpuimage/tree/master/library/src/jp/co/cyberagent/android/gpuimage\r\n\r\n","title":"How do I &quot;subtract&quot; a color filter using GPUImageLibrary?","body":"<p>Currently the BlendModes (Subtract, Exclusion, etc.) use the LauncherImage as the mask. Can I apply these BlendModes to a ColorMatrix?</p>\n\n<p>I'm using the <a href=\"https://github.com/CyberAgent/android-gpuimage/tree/master/library/src/jp/co/cyberagent/android/gpuimage\" rel=\"nofollow noreferrer\">GPUImageLibrary</a>:</p>\n\n<pre><code>colorMatrix[\n    0.393, 0.7689999, 0.18899999, 0, 0,\n    0.349, 0.6859999, 0.16799999, 0, 0,\n    0.272, 0.5339999, 0.13099999, 0, 0,\n    0,     0,         0,          1, 0];\n</code></pre>\n\n<p><strong>SubtractBlendFilter.java</strong></p>\n\n<pre><code>public class GPUImageSubtractBlendFilter extends GPUImageTwoInputFilter {\n    public static final String SUBTRACT_BLEND_FRAGMENT_SHADER = \"varying highp vec2 textureCoordinate;\\n\" +\n            \" varying highp vec2 textureCoordinate2;\\n\" +\n            \"\\n\" +\n            \" uniform sampler2D inputImageTexture;\\n\" +\n            \" uniform sampler2D inputImageTexture2;\\n\" +\n            \" \\n\" +\n            \" void main()\\n\" +\n            \" {\\n\" +\n            \"   lowp vec4 textureColor = texture2D(inputImageTexture, textureCoordinate);\\n\" +\n            \"   lowp vec4 textureColor2 = texture2D(inputImageTexture2, textureCoordinate2);\\n\" +\n            \"\\n\" +\n            \"   gl_FragColor = vec4(textureColor.rgb - textureColor2.rgb, textureColor.a);\\n\" +\n            \" }\";\n\n    public GPUImageSubtractBlendFilter() {\n        super(SUBTRACT_BLEND_FRAGMENT_SHADER);\n    }\n}\n</code></pre>\n\n<p><strong>GPUIMageTwoInputFilter.java</strong></p>\n\n<pre><code>public class GPUImageTwoInputFilter extends GPUImageFilter {\n    private static final String VERTEX_SHADER = \"attribute vec4 position;\\n\" +\n            \"attribute vec4 inputTextureCoordinate;\\n\" +\n            \"attribute vec4 inputTextureCoordinate2;\\n\" +\n            \" \\n\" +\n            \"varying vec2 textureCoordinate;\\n\" +\n            \"varying vec2 textureCoordinate2;\\n\" +\n            \" \\n\" +\n            \"void main()\\n\" +\n            \"{\\n\" +\n            \"    gl_Position = position;\\n\" +\n            \"    textureCoordinate = inputTextureCoordinate.xy;\\n\" +\n            \"    textureCoordinate2 = inputTextureCoordinate2.xy;\\n\" +\n            \"}\";\n\n    public int mFilterSecondTextureCoordinateAttribute;\n    public int mFilterInputTextureUniform2;\n    public int mFilterSourceTexture2 = OpenGlUtils.NO_TEXTURE;\n    private ByteBuffer mTexture2CoordinatesBuffer;\n    private Bitmap mBitmap;\n\n    public GPUImageTwoInputFilter(String fragmentShader) {\n        this(VERTEX_SHADER, fragmentShader);\n    }\n\n    public GPUImageTwoInputFilter(String vertexShader, String fragmentShader) {\n        super(vertexShader, fragmentShader);\n        setRotation(Rotation.NORMAL, false, false);\n    }\n\n    @Override\n    public void onInit() {\n        super.onInit();\n\n        mFilterSecondTextureCoordinateAttribute = GLES20.glGetAttribLocation(getProgram(), \"inputTextureCoordinate2\");\n        mFilterInputTextureUniform2 = GLES20.glGetUniformLocation(getProgram(), \"inputImageTexture2\"); // This does assume a name of \"inputImageTexture2\" for second input texture in the fragment shader\n        GLES20.glEnableVertexAttribArray(mFilterSecondTextureCoordinateAttribute);\n\n        if (mBitmap != null&amp;&amp;!mBitmap.isRecycled()) {\n            setBitmap(mBitmap);\n        }\n    }\n\n    public void setBitmap(final Bitmap bitmap) {\n        if (bitmap != null &amp;&amp; bitmap.isRecycled()) {\n            return;\n        }\n        mBitmap = bitmap;\n        if (mBitmap == null) {\n            return;\n        }\n        runOnDraw(new Runnable() {\n            public void run() {\n                if (mFilterSourceTexture2 == OpenGlUtils.NO_TEXTURE) {\n                    if (bitmap == null || bitmap.isRecycled()) {\n                        return;\n                    }\n                    GLES20.glActiveTexture(GLES20.GL_TEXTURE3);\n                    mFilterSourceTexture2 = OpenGlUtils.loadTexture(bitmap, OpenGlUtils.NO_TEXTURE, false);\n                }\n            }\n        });\n    }\n\n    public Bitmap getBitmap() {\n        return mBitmap;\n    }\n\n    public void recycleBitmap() {\n        if (mBitmap != null &amp;&amp; !mBitmap.isRecycled()) {\n            mBitmap.recycle();\n            mBitmap = null;\n        }\n    }\n\n    public void onDestroy() {\n        super.onDestroy();\n        GLES20.glDeleteTextures(1, new int[]{\n                mFilterSourceTexture2\n        }, 0);\n        mFilterSourceTexture2 = OpenGlUtils.NO_TEXTURE;\n    }\n\n    @Override\n    protected void onDrawArraysPre() {\n        GLES20.glEnableVertexAttribArray(mFilterSecondTextureCoordinateAttribute);\n        GLES20.glActiveTexture(GLES20.GL_TEXTURE3);\n        GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, mFilterSourceTexture2);\n        GLES20.glUniform1i(mFilterInputTextureUniform2, 3);\n\n        mTexture2CoordinatesBuffer.position(0);\n        GLES20.glVertexAttribPointer(mFilterSecondTextureCoordinateAttribute, 2, GLES20.GL_FLOAT, false, 0, mTexture2CoordinatesBuffer);\n    }\n\n    public void setRotation(final Rotation rotation, final boolean flipHorizontal, final boolean flipVertical) {\n        float[] buffer = TextureRotationUtil.getRotation(rotation, flipHorizontal, flipVertical);\n\n        ByteBuffer bBuffer = ByteBuffer.allocateDirect(32).order(ByteOrder.nativeOrder());\n        FloatBuffer fBuffer = bBuffer.asFloatBuffer();\n        fBuffer.put(buffer);\n        fBuffer.flip();\n\n        mTexture2CoordinatesBuffer = bBuffer;\n    }\n}\n</code></pre>\n\n<p>My guess it involves changing something with <code>String SUBTRACT_BLEND_GRAGMENT_SHADER</code> &amp; <code>String VERTEX_SHADER</code>  .</p>\n"},{"tags":["java","pattern-matching","assert","instanceof"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669237341,"creation_date":1669236268,"answer_id":74552786,"question_id":74552755,"body_markdown":"`assert` statements are _only_ executed when assertions are enabled with `-ea`. Without `-ea`, the code is _not_ executed, therefore the variable is never assigned/does not exist (this is the default).\r\n\r\n    private static void afterAssert(Object obj) {\r\n        assert obj instanceof String;\r\n        ((String) str).length();\r\n    }\r\n\r\nBecause the compiler cannot know if the `assert` statement will be executed, it cannot rely on variables declared within the statement to be available outside of the statement (because the statement might never have been executed).","title":"Combining assert statement and instanceof pattern matching","body":"<p><code>assert</code> statements are <em>only</em> executed when assertions are enabled with <code>-ea</code>. Without <code>-ea</code>, the code is <em>not</em> executed, therefore the variable is never assigned/does not exist (this is the default).</p>\n<pre><code>private static void afterAssert(Object obj) {\n    assert obj instanceof String;\n    ((String) str).length();\n}\n</code></pre>\n<p>Because the compiler cannot know if the <code>assert</code> statement will be executed, it cannot rely on variables declared within the statement to be available outside of the statement (because the statement might never have been executed).</p>\n"}],"owner":{"account_id":4970502,"reputation":3,"user_id":20584740,"display_name":"werkderk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74552786,"answer_count":1,"score":0,"last_activity_date":1669237341,"creation_date":1669236114,"question_id":74552755,"body_markdown":"In Java 19, I&#39;m trying to use `instanceof` pattern matching inside an `assert` statement.\r\nI would expect the matched type would be available after the statement, but the Java compiler does not recognize the new variable.\r\n\r\nWe create a variable `Object obj`, and we cannot know whether it contains an `Integer` or a `String`.\r\nWe pass the variable to two test methods.\r\n\r\n\r\n```java\r\npublic class AssertPatternMatching {\r\n    public static void main(String[] args) {\r\n        Object obj = args.length == 0 ? Integer.valueOf(42) : &quot;Hello&quot;;\r\n\r\n        afterAssert(obj);\r\n        insideMessage(obj);\r\n    }\r\n```\r\n\r\nIn method `afterAssert()`, we assert that `obj` is a `String`, and bind the string to the new variable `str` via `instanceof` pattern matching.\r\nI would expect `str` to be known and usable in the next line.\r\nHowever, the compiler does not know symbol `str`.\r\n\r\n\r\n```java\r\n    private static void afterAssert(Object obj) {\r\n        assert obj instanceof String str;\r\n        str.length(); // javac: cannot find symbol variable str\r\n    }\r\n```\r\n\r\nIn method `insideMessage()`, we use a convoluted `assert` statement to check that `obj` is _not_ a `String`. If it would be, the assertion fails, and we can provide a message.\r\nAs the `instanceof` check is negated, pattern matched `str` variable _should_ be available for the error message.\r\nHowever, the compiler again does not know symbol `str`.\r\n\r\n```java\r\n    private static void insideMessage(Object obj) {\r\n        assert !(obj instanceof String str) : &quot;Is a string: &quot; + str.length();\r\n        // line above: javac: cannot find symbol variable str\r\n        obj.hashCode();\r\n    }\r\n```\r\n\r\nIt works if we replace `assert` statements with `if`:\r\n\r\n\r\n```java\r\nprivate static void afterAssertIf(Object obj) {\r\n    if(obj instanceof String str) {\r\n        str.length();\r\n    } else {\r\n        throw new AssertionError();\r\n    }\r\n}\r\n\r\nprivate static void insideMessageIf(Object obj) {\r\n    if (!(obj instanceof String str)) {\r\n        obj.hashCode();\r\n    } else {\r\n        throw new AssertionError(&quot;Is a string: &quot;+ str.length());\r\n    }\r\n}\r\n```\r\n\r\nThe _insideMessage()_ example is really an edge case, so I understand it&#39;s not supported.\r\nI would have expected _afterAssert()_ to work, however.\r\nIs this a deliberate design choice or a bug?\r\nIf deliberate, what&#39;s the rationale?\r\n\r\nComplete code at https://gist.github.com/enikao/57bb1b10ce3126494ec4baa2bc7db2df\r\n","title":"Combining assert statement and instanceof pattern matching","body":"<p>In Java 19, I'm trying to use <code>instanceof</code> pattern matching inside an <code>assert</code> statement.\nI would expect the matched type would be available after the statement, but the Java compiler does not recognize the new variable.</p>\n<p>We create a variable <code>Object obj</code>, and we cannot know whether it contains an <code>Integer</code> or a <code>String</code>.\nWe pass the variable to two test methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AssertPatternMatching {\n    public static void main(String[] args) {\n        Object obj = args.length == 0 ? Integer.valueOf(42) : &quot;Hello&quot;;\n\n        afterAssert(obj);\n        insideMessage(obj);\n    }\n</code></pre>\n<p>In method <code>afterAssert()</code>, we assert that <code>obj</code> is a <code>String</code>, and bind the string to the new variable <code>str</code> via <code>instanceof</code> pattern matching.\nI would expect <code>str</code> to be known and usable in the next line.\nHowever, the compiler does not know symbol <code>str</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static void afterAssert(Object obj) {\n        assert obj instanceof String str;\n        str.length(); // javac: cannot find symbol variable str\n    }\n</code></pre>\n<p>In method <code>insideMessage()</code>, we use a convoluted <code>assert</code> statement to check that <code>obj</code> is <em>not</em> a <code>String</code>. If it would be, the assertion fails, and we can provide a message.\nAs the <code>instanceof</code> check is negated, pattern matched <code>str</code> variable <em>should</em> be available for the error message.\nHowever, the compiler again does not know symbol <code>str</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static void insideMessage(Object obj) {\n        assert !(obj instanceof String str) : &quot;Is a string: &quot; + str.length();\n        // line above: javac: cannot find symbol variable str\n        obj.hashCode();\n    }\n</code></pre>\n<p>It works if we replace <code>assert</code> statements with <code>if</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void afterAssertIf(Object obj) {\n    if(obj instanceof String str) {\n        str.length();\n    } else {\n        throw new AssertionError();\n    }\n}\n\nprivate static void insideMessageIf(Object obj) {\n    if (!(obj instanceof String str)) {\n        obj.hashCode();\n    } else {\n        throw new AssertionError(&quot;Is a string: &quot;+ str.length());\n    }\n}\n</code></pre>\n<p>The <em>insideMessage()</em> example is really an edge case, so I understand it's not supported.\nI would have expected <em>afterAssert()</em> to work, however.\nIs this a deliberate design choice or a bug?\nIf deliberate, what's the rationale?</p>\n<p>Complete code at <a href=\"https://gist.github.com/enikao/57bb1b10ce3126494ec4baa2bc7db2df\" rel=\"nofollow noreferrer\">https://gist.github.com/enikao/57bb1b10ce3126494ec4baa2bc7db2df</a></p>\n"},{"tags":["java","multithreading","jdbc","concurrency"],"comments":[{"owner":{"account_id":274366,"reputation":1144,"user_id":566556,"display_name":"Knut Forkalsrud"},"score":0,"creation_date":1669240135,"post_id":74552943,"comment_id":131602464,"body_markdown":"You may be looking for `java.util.concurrent.CompletableFuture`","body":"You may be looking for <code>java.util.concurrent.CompletableFuture</code>"},{"owner":{"account_id":10899420,"reputation":652,"user_id":8832488,"display_name":"belhadj haythem"},"score":0,"creation_date":1669913312,"post_id":74552943,"comment_id":131756087,"body_markdown":"in my case , CompletableFuture is not running in parallel.","body":"in my case , CompletableFuture is not running in parallel."},{"owner":{"account_id":10899420,"reputation":652,"user_id":8832488,"display_name":"belhadj haythem"},"score":0,"creation_date":1669913337,"post_id":74552943,"comment_id":131756093,"body_markdown":"I meant that time processing with or without it its the same.","body":"I meant that time processing with or without it its the same."}],"owner":{"account_id":10899420,"reputation":652,"user_id":8832488,"display_name":"belhadj haythem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669237195,"creation_date":1669237195,"question_id":74552943,"body_markdown":"I&#39;m trying to use a multithreaded program that acts as below :\r\n{X1, X2, ..., Xn} are objects that will be in a list.\r\n\r\neach of the **X** objects, will need to call an **Y** function, and **Y** function will need to call **Z** function.\r\n\r\nExample : \r\n\r\n    void getX() { \r\n          ....\r\n     X.setY(getY());\r\n    }\r\n\r\n    Y getY() {\r\n      ...\r\n     Y.setZ(getZ())\r\n    }\r\n\r\n**What i want is to split my getX functions into several threads to be run in parallel, cause i&#39;m calling it multiple times (from a for loop).**\r\n\r\n**NB**: getX, getY and getZ are using JDBC connection to retrieve data from database.\r\n\r\nI did something like : \r\n\r\n    getX() {\r\n     List&lt;X&gt; list = new ArrayList&lt;&gt;();\r\n     Runnable task = () -&gt; {\r\n      X x = new X();\r\n      x.setY(getY())\r\n      list.add(x)\r\n     }\r\n     Thread thread = new Thread(task);\r\n     thread.start();\r\n    }\r\n\r\nI know i&#39;m doing it wrong as the values of Y and Z may not be filled as its concurrent.\r\nI&#39;m little confused for how to do it . Any suggestions please ?","title":"Using multithreading with JDBC connection java in multiple levels","body":"<p>I'm trying to use a multithreaded program that acts as below :\n{X1, X2, ..., Xn} are objects that will be in a list.</p>\n<p>each of the <strong>X</strong> objects, will need to call an <strong>Y</strong> function, and <strong>Y</strong> function will need to call <strong>Z</strong> function.</p>\n<p>Example :</p>\n<pre><code>void getX() { \n      ....\n X.setY(getY());\n}\n\nY getY() {\n  ...\n Y.setZ(getZ())\n}\n</code></pre>\n<p><strong>What i want is to split my getX functions into several threads to be run in parallel, cause i'm calling it multiple times (from a for loop).</strong></p>\n<p><strong>NB</strong>: getX, getY and getZ are using JDBC connection to retrieve data from database.</p>\n<p>I did something like :</p>\n<pre><code>getX() {\n List&lt;X&gt; list = new ArrayList&lt;&gt;();\n Runnable task = () -&gt; {\n  X x = new X();\n  x.setY(getY())\n  list.add(x)\n }\n Thread thread = new Thread(task);\n thread.start();\n}\n</code></pre>\n<p>I know i'm doing it wrong as the values of Y and Z may not be filled as its concurrent.\nI'm little confused for how to do it . Any suggestions please ?</p>\n"},{"tags":["java","mapstruct","protobuf-java"],"comments":[{"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"score":0,"creation_date":1669237468,"post_id":74552929,"comment_id":131601800,"body_markdown":"I&#39;d suggest to re-arrange the order of the annotation processors in your pom.xml so that MapStruct runs last, after Lombok and protobuf.","body":"I&#39;d suggest to re-arrange the order of the annotation processors in your pom.xml so that MapStruct runs last, after Lombok and protobuf."},{"owner":{"account_id":1216174,"reputation":1214,"user_id":1183729,"accept_rate":49,"display_name":"greengold"},"score":0,"creation_date":1669280374,"post_id":74552929,"comment_id":131610224,"body_markdown":"trying to rearrange that left and right, but doesn&#39;t seem to do anything.","body":"trying to rearrange that left and right, but doesn&#39;t seem to do anything."}],"owner":{"account_id":1216174,"reputation":1214,"user_id":1183729,"accept_rate":49,"display_name":"greengold"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669237096,"creation_date":1669237096,"question_id":74552929,"body_markdown":"I am mapping protobtuff generated classes to Lombok annotated DTOs.\r\n\r\nmy maven config:\r\n```\r\n&lt;properties&gt;\r\n        &lt;mapstruct.version&gt;1.5.1.Final&lt;/mapstruct.version&gt;\r\n        &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\r\n        &lt;protobuf-spi-impl.version&gt;1.41&lt;/protobuf-spi-impl.version&gt;\r\n&lt;/properties&gt;\r\n...\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.2.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;no.entur.mapstruct.spi&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;protobuf-spi-impl&lt;/artifactId&gt;\r\n                            &lt;version&gt;${protobuf-spi-impl.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.2.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;no.entur.mapstruct.spi&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;protobuf-spi-impl&lt;/artifactId&gt;\r\n                        &lt;version&gt;${protobuf-spi-impl.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n...\r\n```\r\n\r\none of mapper interfaces:\r\n```\r\n@Mapper(\r\n        collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED,\r\n        componentModel = &quot;spring&quot;,\r\n        uses = {ProtobufStandardMappings.class}\r\n)\r\npublic interface BaseDataMapper {\r\n    BaseDataDto map(Common.BaseData baseData);\r\n\r\n    Common.BaseData map(BaseDataDto dto);\r\n}\r\n```\r\n\r\nand finally the error I&#39;m getting:\r\n```\r\nNo implementation was created for BaseDataMapper due to having a problem in the erroneous element com.google.type.Date. Hint: this often means that some other annotation processor was supposed to process the erroneous element. You can also enable MapStruct verbose mode by setting -Amapstruct.verbose=true as a compilation argument.\r\n```\r\n\r\nso why is that, what should I change?\r\nthanks","title":"mapstruct for protobuff classess with protobuf-spi-impl","body":"<p>I am mapping protobtuff generated classes to Lombok annotated DTOs.</p>\n<p>my maven config:</p>\n<pre><code>&lt;properties&gt;\n        &lt;mapstruct.version&gt;1.5.1.Final&lt;/mapstruct.version&gt;\n        &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\n        &lt;protobuf-spi-impl.version&gt;1.41&lt;/protobuf-spi-impl.version&gt;\n&lt;/properties&gt;\n...\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/path&gt;\n\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n\n                        &lt;path&gt;\n                            &lt;groupId&gt;no.entur.mapstruct.spi&lt;/groupId&gt;\n                            &lt;artifactId&gt;protobuf-spi-impl&lt;/artifactId&gt;\n                            &lt;version&gt;${protobuf-spi-impl.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;no.entur.mapstruct.spi&lt;/groupId&gt;\n                        &lt;artifactId&gt;protobuf-spi-impl&lt;/artifactId&gt;\n                        &lt;version&gt;${protobuf-spi-impl.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n\n...\n</code></pre>\n<p>one of mapper interfaces:</p>\n<pre><code>@Mapper(\n        collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED,\n        componentModel = &quot;spring&quot;,\n        uses = {ProtobufStandardMappings.class}\n)\npublic interface BaseDataMapper {\n    BaseDataDto map(Common.BaseData baseData);\n\n    Common.BaseData map(BaseDataDto dto);\n}\n</code></pre>\n<p>and finally the error I'm getting:</p>\n<pre><code>No implementation was created for BaseDataMapper due to having a problem in the erroneous element com.google.type.Date. Hint: this often means that some other annotation processor was supposed to process the erroneous element. You can also enable MapStruct verbose mode by setting -Amapstruct.verbose=true as a compilation argument.\n</code></pre>\n<p>so why is that, what should I change?\nthanks</p>\n"},{"tags":["java","spring","spring-boot","exceptionhandler"],"answers":[{"tags":[],"owner":{"account_id":9628035,"reputation":830,"user_id":7147006,"accept_rate":100,"display_name":"KevKosDev"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1535050328,"creation_date":1535050328,"answer_id":51992509,"question_id":51991992,"body_markdown":"Spring has a built in `ResponseEntityExceptionHandler` for `MethodArgumentNotValidException`. So you have two handlers for the same exception which is not allowed.\r\n\r\nYou can try to override `ResponseEntityExceptionHandler.handleMethodArgumentNotValid()`.","title":"Getting Ambiguous @ExceptionHandler method mapped for MethodArgumentNotValidException while startup of spring boot application","body":"<p>Spring has a built in <code>ResponseEntityExceptionHandler</code> for <code>MethodArgumentNotValidException</code>. So you have two handlers for the same exception which is not allowed.</p>\n\n<p>You can try to override <code>ResponseEntityExceptionHandler.handleMethodArgumentNotValid()</code>.</p>\n"},{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1535050397,"creation_date":1535050397,"answer_id":51992525,"question_id":51991992,"body_markdown":"The problem you experience here is to be expected. You&#39;re effectively extending Spring `ResponseEntityExceptionHandler` which by default already contains a declaration for `MethodArgumentNotValidException` in it&#39;s own `@ExceptionHandler` annotation.\r\n\r\nYou can easily check on this from the source of the class:\r\n\r\nhttps://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.java\r\n\r\nThis is why you see this bit of error in the logs:\r\n\r\n    java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]\r\n\r\nBased on all the above you should remove your own exception handler method and override the ones from it.","title":"Getting Ambiguous @ExceptionHandler method mapped for MethodArgumentNotValidException while startup of spring boot application","body":"<p>The problem you experience here is to be expected. You're effectively extending Spring <code>ResponseEntityExceptionHandler</code> which by default already contains a declaration for <code>MethodArgumentNotValidException</code> in it's own <code>@ExceptionHandler</code> annotation.</p>\n\n<p>You can easily check on this from the source of the class:</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.java\" rel=\"noreferrer\">https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.java</a></p>\n\n<p>This is why you see this bit of error in the logs:</p>\n\n<pre><code>java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]\n</code></pre>\n\n<p>Based on all the above you should remove your own exception handler method and override the ones from it.</p>\n"},{"tags":[],"owner":{"account_id":13546120,"reputation":992,"user_id":9772373,"display_name":"chaitanya Rudrabhatla"},"down_vote_count":1,"up_vote_count":75,"is_accepted":true,"score":74,"last_activity_date":1535055141,"creation_date":1535055141,"answer_id":51993609,"question_id":51991992,"body_markdown":"The ambiguity is because you have the same method -  @ExceptionHandler in both the classes - ResponseEntityExceptionHandler, MethodArgumentNotValidException. You need to write the overridden method as follows to get around this issue - \r\n\r\n       @Override\r\n       protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n                     HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n              String errorMessage = ex.getBindingResult().getFieldErrors().get(0).getDefaultMessage();\r\n              List&lt;String&gt; validationList = ex.getBindingResult().getFieldErrors().stream().map(fieldError-&gt;fieldError.getDefaultMessage()).collect(Collectors.toList());\r\n              LOGGER.info(&quot;Validation error list : &quot;+validationList);\r\n              ApiErrorVO apiErrorVO = new ApiErrorVO(errorMessage);\r\n              apiErrorVO.setErrorList(validationList);\r\n              return new ResponseEntity&lt;&gt;(apiErrorVO, status);\r\n       }\r\n\r\n\r\n       \r\n       ","title":"Getting Ambiguous @ExceptionHandler method mapped for MethodArgumentNotValidException while startup of spring boot application","body":"<p>The ambiguity is because you have the same method -  @ExceptionHandler in both the classes - ResponseEntityExceptionHandler, MethodArgumentNotValidException. You need to write the overridden method as follows to get around this issue - </p>\n\n<pre><code>   @Override\n   protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n                 HttpHeaders headers, HttpStatus status, WebRequest request) {\n          String errorMessage = ex.getBindingResult().getFieldErrors().get(0).getDefaultMessage();\n          List&lt;String&gt; validationList = ex.getBindingResult().getFieldErrors().stream().map(fieldError-&gt;fieldError.getDefaultMessage()).collect(Collectors.toList());\n          LOGGER.info(\"Validation error list : \"+validationList);\n          ApiErrorVO apiErrorVO = new ApiErrorVO(errorMessage);\n          apiErrorVO.setErrorList(validationList);\n          return new ResponseEntity&lt;&gt;(apiErrorVO, status);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19847496,"reputation":41,"user_id":14538782,"display_name":"smhylc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669235812,"creation_date":1669235812,"answer_id":74552716,"question_id":51991992,"body_markdown":"I found a solution to this problem! \r\n\r\nI changed the @ControllerAdvice annotation to @RestControllerAdvice for Rest controller. \r\n\r\nSpring boot and ControllerAdvice structures already contain MethodArgumentNotValidException. Then I override the MethodArgumentNotValidExcetion function that comes by default by calling override method via intellij idea / or a different ide. \r\n\r\nand it worked successfully! :)  Hope it helps you! :) \r\n\r\n\r\nExample \r\n\r\n\r\n    @Override\r\n\t@ResponseStatus\r\n\tprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\r\n\t\tfor (ObjectError methodArgumentNotValidException : ex.getBindingResult().getAllErrors()){\r\n\t\t\tlocalerrorEntitiesList.add(new ErrorEntity(methodArgumentNotValidException.getDefaultMessage(),methodArgumentNotValidException.getCode()));\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(new ErrorResponse(localerrorEntitiesList),HttpStatus.BAD_REQUEST);\r\n\t\t}catch (Exception e){\r\n\t\t\treturn new ResponseEntity&lt;&gt;(new ErrorResponse(localerrorEntitiesList),HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\r\n\t}\r\n\r\n","title":"Getting Ambiguous @ExceptionHandler method mapped for MethodArgumentNotValidException while startup of spring boot application","body":"<p>I found a solution to this problem!</p>\n<p>I changed the @ControllerAdvice annotation to @RestControllerAdvice for Rest controller.</p>\n<p>Spring boot and ControllerAdvice structures already contain MethodArgumentNotValidException. Then I override the MethodArgumentNotValidExcetion function that comes by default by calling override method via intellij idea / or a different ide.</p>\n<p>and it worked successfully! :)  Hope it helps you! :)</p>\n<p>Example</p>\n<pre><code>@Override\n@ResponseStatus\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n    for (ObjectError methodArgumentNotValidException : ex.getBindingResult().getAllErrors()){\n        localerrorEntitiesList.add(new ErrorEntity(methodArgumentNotValidException.getDefaultMessage(),methodArgumentNotValidException.getCode()));\n    }\n\n    try {\n        return new ResponseEntity&lt;&gt;(new ErrorResponse(localerrorEntitiesList),HttpStatus.BAD_REQUEST);\n    }catch (Exception e){\n        return new ResponseEntity&lt;&gt;(new ErrorResponse(localerrorEntitiesList),HttpStatus.BAD_REQUEST);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14206215,"reputation":443,"user_id":10262638,"display_name":"Shanmugam Thangavelu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45677,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":51993609,"answer_count":4,"score":44,"last_activity_date":1669235812,"creation_date":1535048258,"question_id":51991992,"body_markdown":"I have written custom exception handler class for one of my spring controllers to validate if email attribute from request param is in the proper format. So created a new class which extends `ResponseEntityExceptionHandler` class and wrote a method with `@ExceptionHandler`.\r\n\r\nBut during spring boot application startup, I am getting below exception which is stopping to run my project. Could someone help me to resolve this?\r\n\r\n**Exception during server startup:**\r\n\r\n&gt;org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;handlerExceptionResolver&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed;  \r\nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerExceptionResolver]: Factory method &#39;handlerExceptionResolver&#39; threw exception;  \r\nnested exception is java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]: {public com.TestVO com.handler.exception.TestExceptionHandler.methodArgumentNotValidException(org.springframework.web.bind.MethodArgumentNotValidException), public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest) throws java.lang.Exception}\r\n\r\n\r\n\r\nCustom Class to handle `MethodArgumentNotValidException`:\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \r\n    \t@ExceptionHandler(MethodArgumentNotValidException.class)\r\n    \t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    \t@ResponseBody\r\n    \tpublic ErrorVO processValidationError(MethodArgumentNotValidException ex) {\r\n    \t\tBindingResult result = ex.getBindingResult();\r\n    \t\tList&lt;FieldError&gt; fieldErrors = result.getFieldErrors();\r\n    \t\tFieldError fieldError = fieldErrors.get(0);\r\n    \t\tErrorVO dto = new ErrorVO(fieldError.getDefaultMessage());\r\n    \t\treturn dto;\r\n    \t}\r\n    }\r\n\r\n","title":"Getting Ambiguous @ExceptionHandler method mapped for MethodArgumentNotValidException while startup of spring boot application","body":"<p>I have written custom exception handler class for one of my spring controllers to validate if email attribute from request param is in the proper format. So created a new class which extends <code>ResponseEntityExceptionHandler</code> class and wrote a method with <code>@ExceptionHandler</code>.</p>\n\n<p>But during spring boot application startup, I am getting below exception which is stopping to run my project. Could someone help me to resolve this?</p>\n\n<p><strong>Exception during server startup:</strong></p>\n\n<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'handlerExceptionResolver' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed;<br>\n  nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerExceptionResolver]: Factory method 'handlerExceptionResolver' threw exception;<br>\n  nested exception is java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]: {public com.TestVO com.handler.exception.TestExceptionHandler.methodArgumentNotValidException(org.springframework.web.bind.MethodArgumentNotValidException), public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest) throws java.lang.Exception}</p>\n</blockquote>\n\n<p>Custom Class to handle <code>MethodArgumentNotValidException</code>:</p>\n\n<pre><code>@ControllerAdvice\npublic class ExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ResponseBody\n    public ErrorVO processValidationError(MethodArgumentNotValidException ex) {\n        BindingResult result = ex.getBindingResult();\n        List&lt;FieldError&gt; fieldErrors = result.getFieldErrors();\n        FieldError fieldError = fieldErrors.get(0);\n        ErrorVO dto = new ErrorVO(fieldError.getDefaultMessage());\n        return dto;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","classloader"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1669187286,"post_id":74542623,"comment_id":131584780,"body_markdown":"Where have you put your resources? Please show the project layout.","body":"Where have you put your resources? Please show the project layout."},{"owner":{"account_id":23876405,"reputation":61,"user_id":17877535,"display_name":"SwordOfSouls"},"score":0,"creation_date":1669190399,"post_id":74542623,"comment_id":131585558,"body_markdown":"@khmarbaise resources are in the default resource folder, &quot;Html&quot; is a folder placed in the resources folder which contains the files I want to access","body":"@khmarbaise resources are in the default resource folder, &quot;Html&quot; is a folder placed in the resources folder which contains the files I want to access"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1669191132,"post_id":74542623,"comment_id":131585780,"body_markdown":"Than you have to use `getClass().getResourceAsStream(&quot;/Html/...&quot;)` to access resources...","body":"Than you have to use <code>getClass().getResourceAsStream(&quot;&#47;Html&#47;...&quot;)</code> to access resources..."}],"answers":[{"tags":[],"owner":{"account_id":23876405,"reputation":61,"user_id":17877535,"display_name":"SwordOfSouls"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669235080,"creation_date":1669235080,"answer_id":74552602,"question_id":74542623,"body_markdown":"The solution was to use\r\n`/` instead of `File.separator`","title":"Maven class loader doesn&#39;t find any resources","body":"<p>The solution was to use\n<code>/</code> instead of <code>File.separator</code></p>\n"}],"owner":{"account_id":23876405,"reputation":61,"user_id":17877535,"display_name":"SwordOfSouls"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74552602,"answer_count":1,"score":0,"last_activity_date":1669235080,"creation_date":1669185059,"question_id":74542623,"body_markdown":"When using maven to package a jar (unsure if it&#39;s a maven issue) the java ClassLoader can&#39;t find any resources.\r\n\r\nJar structure -\r\n\r\n[![enter image description here](https://i.stack.imgur.com/SYQKt.png)](https://i.stack.imgur.com/SYQKt.png)\r\n\r\nValue of `test.class.getClassLoader().getResourceAsStream(&quot;&quot;)` (or any other existing directory) is empty. No folders or files or found.\r\n\r\nMaven Build Script:\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;9&lt;/source&gt;\r\n          &lt;target&gt;9&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n              &lt;transformers&gt;\r\n                &lt;transformer implementation=\r\n                                     &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                  &lt;mainClass&gt;org.swordofsouls.discord.chatexporter.test&lt;/mainClass&gt;\r\n                &lt;/transformer&gt;\r\n              &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\n\r\nAny help would be greatly appreciated.\r\n\r\nThanks\r\n\r\nTried using different ClassLoaders. \r\n\r\nValue of `Thread.currentThread().getContextClassLoader()` is null.\r\n\r\nValue of `ClassLoader.getSystemClassLoader()` is null.","title":"Maven class loader doesn&#39;t find any resources","body":"<p>When using maven to package a jar (unsure if it's a maven issue) the java ClassLoader can't find any resources.</p>\n<p>Jar structure -</p>\n<p><a href=\"https://i.stack.imgur.com/SYQKt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SYQKt.png\" alt=\"enter image description here\" /></a></p>\n<p>Value of <code>test.class.getClassLoader().getResourceAsStream(&quot;&quot;)</code> (or any other existing directory) is empty. No folders or files or found.</p>\n<p>Maven Build Script:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;9&lt;/source&gt;\n          &lt;target&gt;9&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=\n                                     &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                  &lt;mainClass&gt;org.swordofsouls.discord.chatexporter.test&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n<p>Thanks</p>\n<p>Tried using different ClassLoaders.</p>\n<p>Value of <code>Thread.currentThread().getContextClassLoader()</code> is null.</p>\n<p>Value of <code>ClassLoader.getSystemClassLoader()</code> is null.</p>\n"},{"tags":["java","java-8","bijection"],"comments":[{"owner":{"account_id":1536289,"reputation":1554,"user_id":1432247,"accept_rate":100,"display_name":"Adwait Kumar"},"score":1,"creation_date":1669126584,"post_id":74528027,"comment_id":131569535,"body_markdown":"Why is every bijection repeated twice in your expected output?","body":"Why is every bijection repeated twice in your expected output?"},{"owner":{"account_id":22238408,"reputation":23,"user_id":16473333,"display_name":"Saurav Sharma"},"score":0,"creation_date":1669126844,"post_id":74528027,"comment_id":131569653,"body_markdown":"I believe its becuase the other permutations change. The number of bijections from A -&gt; A is n!, I hope this helps","body":"I believe its becuase the other permutations change. The number of bijections from A -&gt; A is n!, I hope this helps"},{"owner":{"account_id":22238408,"reputation":23,"user_id":16473333,"display_name":"Saurav Sharma"},"score":0,"creation_date":1669126894,"post_id":74528027,"comment_id":131569672,"body_markdown":"I understand this question mathematically, however I am confused how to start this and implement this using functional programming","body":"I understand this question mathematically, however I am confused how to start this and implement this using functional programming"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1669129280,"post_id":74528027,"comment_id":131570725,"body_markdown":"It wouldn&#39;t be a `Set&lt;Function&lt;T, T&gt;&gt;`: no `T` is defined in `#main`. What you&#39;re asking is essentially the possible permutations of the set (in this case, `S_3`, so 6 permutations of `()`, `(12)`, `(23)`, `(13)`, `(123)`, and `(132)` in cyclic notation). There&#39;s a _lot_ of ways to achieve this, but it sounds like you&#39;d want to work with a `List` (more easily ordered) or `LinkedHashSet`, and then return the 6 new `LinkedHashSet`/`List` objects representing your permuted original `List`/`LinkedHashSet`. From there, iterate both simultaneously to print the bijections.","body":"It wouldn&#39;t be a <code>Set&lt;Function&lt;T, T&gt;&gt;</code>: no <code>T</code> is defined in <code>#main</code>. What you&#39;re asking is essentially the possible permutations of the set (in this case, <code>S_3</code>, so 6 permutations of <code>()</code>, <code>(12)</code>, <code>(23)</code>, <code>(13)</code>, <code>(123)</code>, and <code>(132)</code> in cyclic notation). There&#39;s a <i>lot</i> of ways to achieve this, but it sounds like you&#39;d want to work with a <code>List</code> (more easily ordered) or <code>LinkedHashSet</code>, and then return the 6 new <code>LinkedHashSet</code>/<code>List</code> objects representing your permuted original <code>List</code>/<code>LinkedHashSet</code>. From there, iterate both simultaneously to print the bijections."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669235143,"post_id":74528027,"comment_id":131601214,"body_markdown":"@Rogue `LinkedHashSet` is a good choice, used this suggestion in the [implementation](https://stackoverflow.com/a/74539531/17949945).","body":"@Rogue <code>LinkedHashSet</code> is a good choice, used this suggestion in the <a href=\"https://stackoverflow.com/a/74539531/17949945\">implementation</a>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669234871,"creation_date":1669154938,"answer_id":74539531,"question_id":74528027,"body_markdown":"Bijection of the dataset to itself results in a set of Permutations of the given data.\r\n\r\nAnd each Bijection should meet the [definition][bijection]:\r\n\r\n&gt; For a pairing between `X` and `Y` (where `Y` need not be different\r\n&gt; from `X`) to be a **bijection**, four properties must hold:\r\n&gt; \r\n&gt; * each element of `X` must be paired with at least one element of `Y`,\r\n&gt; \r\n&gt;  * no element of `X` may be paired with more than one element of `Y`,\r\n&gt; \r\n&gt;  * each element of `Y` must be paired with at least one element of `X`,\r\n&gt; and\r\n&gt; \r\n&gt;  * no element of `Y` may be paired with more than one element of `X`.\r\n\r\nI.e. in a valid Bijection every element should be paired, a not none of the elements can be paired with more than one element.\r\n\r\nTo approach this a problem in a way that is easier to digest, we can describe Bijections as objects.\r\n\r\nLet&#39;s define the following classes:\r\n\r\n* `Bijection` - representing a Bijection of the given dataset to itself. Since Bijection consists of pairs of elements, an instance of `Bijection` holds a reference to a list of `Pair`s.\r\n\r\n* `Pair` - represent a pair of elements in a Bijection.\r\n\r\nWhile initializing a new instance of `Bijection` based on the given data (*see the method* `init()`) a `List` of `Pair`s is being created. To meet the definition shown above, the number of `Pair` is equal to the number of elements in the given dataset, and initially each `Pair` is being assigned with an element from the given dataset as its first element (`a`).\r\n\r\nDuring the process of generating permutations, each pair is being provided with the second element (`b`). To track the pair that needs to be changed, `Bijection` has a property `cursor`\r\n\r\nBoth `Bijection` and `Pair` expose method `copy()` to facilitate the process of generating permutations.\r\n\r\n    public class Bijection&lt;T&gt; {\r\n        private List&lt;Pair&lt;T&gt;&gt; pairs;\r\n        private int cursor;\r\n    \r\n        public Bijection(List&lt;Pair&lt;T&gt;&gt; pairs) {\r\n            this.pairs = pairs;\r\n        }\r\n    \r\n        public Bijection(List&lt;Pair&lt;T&gt;&gt; pairs, int cursor) {\r\n            this.pairs = pairs;\r\n            this.cursor = cursor;\r\n        }\r\n        \r\n        public static &lt;T&gt; Bijection&lt;T&gt; init(Collection&lt;T&gt; source) {\r\n            return new Bijection&lt;&gt;(\r\n                source.stream().map(Pair::init).toList()\r\n            );\r\n        }\r\n        \r\n        public void add(T b) {\r\n            if (cursor == pairs.size()) throw new IllegalStateException();\r\n            \r\n            pairs.get(cursor++).add(b);\r\n        }\r\n        \r\n        public Bijection&lt;T&gt; copy() {\r\n            \r\n            return pairs.stream()\r\n                .map(Pair::copy)\r\n                .collect(Collectors.collectingAndThen(\r\n                    Collectors.toList(),\r\n                    list -&gt; new Bijection&lt;&gt;(list, cursor)\r\n                ));\r\n        }\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Bijection{ &quot; + pairs.stream().map(Pair::toString).collect(Collectors.joining(&quot;, &quot;)) + &quot; }&quot;;\r\n        }\r\n        \r\n        public static class Pair&lt;T&gt; {\r\n            private T a;\r\n            private T b;\r\n            \r\n            public Pair(T a, T b) {\r\n                this.a = a;\r\n                this.b = b;\r\n            }\r\n            \r\n            public static &lt;T&gt; Pair&lt;T&gt; init(T a) {\r\n                return new Pair&lt;&gt;(a, null);\r\n            }\r\n            \r\n            public void add(T b) {\r\n                this.b = b;\r\n            }\r\n            \r\n            public Pair&lt;T&gt; copy() {\r\n                return new Pair&lt;&gt;(a, b);\r\n            }\r\n            \r\n            @Override\r\n            public String toString() {\r\n                return &quot;Pair{&quot; + a + &quot; -&gt; &quot; + b + &#39;}&#39;;\r\n            }\r\n        }\r\n    }\r\n\r\nHere&#39;s the logic for generating all possible Bijections (*i.e. all Permutations of elements in the given dataset expressed as connected pairs*) encapsulated into a utility class.\r\n\r\nIt&#39;s a basic recursive implementation. The *Base case* of recursion is when provide source of data is empty, i.e. no elements left to use and Bijection (Permutation) gets added to the resulting list.\r\n\r\nAs the source of data for generating Permutations, I&#39;ll use a `LinkedHashSet` (as suggested by *@Rogue* in a [comment][comment]) because it facilitates removal of elements in constant time and guaranties consistent order of iteration.\r\n\r\n    public static class Bijections {\r\n        \r\n        private Bijections() {}\r\n        \r\n        public static &lt;T&gt; List&lt;Bijection&lt;T&gt;&gt; getBijections(Collection&lt;T&gt; source) {\r\n            Set&lt;T&gt; set = new LinkedHashSet&lt;&gt;(source);\r\n            List&lt;Bijection&lt;T&gt;&gt; bijections = new ArrayList&lt;&gt;();\r\n            \r\n            permute(set, Bijection.init(set), bijections);\r\n            \r\n            return bijections;\r\n        }\r\n        \r\n        public static &lt;T&gt; void permute(Set&lt;T&gt; source,\r\n                                       Bijection&lt;T&gt; bijection, // &lt;- current Bijection\r\n                                       List&lt;Bijection&lt;T&gt;&gt; bijections) {\r\n            \r\n            if (source.isEmpty()) {\r\n                bijections.add(bijection);\r\n                return;\r\n            }\r\n            \r\n            for (T next : source) {\r\n                // generate a new bijection based on the existing one and update it (the initial bijection doesn&#39;t change)\r\n                Bijection&lt;T&gt; bijectionToUpdate = bijection.copy();\r\n                bijectionToUpdate.add(next);\r\n                // create a copy of the source a remove the current element from the copy (since it has been already used)\r\n                Set&lt;T&gt; updatedSource = new LinkedHashSet&lt;&gt;(source);\r\n                updatedSource.remove(next);\r\n                // perform recursive call\r\n                permute(updatedSource, bijectionToUpdate, bijections);\r\n            }\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        Bijections.getBijections(List.of(1, 2, 3))\r\n            .forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nBijection{ Pair{1 -&gt; 1}, Pair{2 -&gt; 2}, Pair{3 -&gt; 3} }\r\nBijection{ Pair{1 -&gt; 1}, Pair{2 -&gt; 3}, Pair{3 -&gt; 2} }\r\nBijection{ Pair{1 -&gt; 2}, Pair{2 -&gt; 1}, Pair{3 -&gt; 3} }\r\nBijection{ Pair{1 -&gt; 2}, Pair{2 -&gt; 3}, Pair{3 -&gt; 1} }\r\nBijection{ Pair{1 -&gt; 3}, Pair{2 -&gt; 1}, Pair{3 -&gt; 2} }\r\nBijection{ Pair{1 -&gt; 3}, Pair{2 -&gt; 2}, Pair{3 -&gt; 1} }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n   [bijection]: https://en.wikipedia.org/wiki/Bijection#Definition\r\n\r\n   [comment]: https://stackoverflow.com/questions/74528027/return-set-of-all-bijections-on-the-input-set/74539531?noredirect=1#comment131570725_74528027\r\n\r\n","title":"Return set of all bijections on the input set","body":"<p>Bijection of the dataset to itself results in a set of Permutations of the given data.</p>\n<p>And each Bijection should meet the <a href=\"https://en.wikipedia.org/wiki/Bijection#Definition\" rel=\"nofollow noreferrer\">definition</a>:</p>\n<blockquote>\n<p>For a pairing between <code>X</code> and <code>Y</code> (where <code>Y</code> need not be different\nfrom <code>X</code>) to be a <strong>bijection</strong>, four properties must hold:</p>\n<ul>\n<li><p>each element of <code>X</code> must be paired with at least one element of <code>Y</code>,</p>\n</li>\n<li><p>no element of <code>X</code> may be paired with more than one element of <code>Y</code>,</p>\n</li>\n<li><p>each element of <code>Y</code> must be paired with at least one element of <code>X</code>,\nand</p>\n</li>\n<li><p>no element of <code>Y</code> may be paired with more than one element of <code>X</code>.</p>\n</li>\n</ul>\n</blockquote>\n<p>I.e. in a valid Bijection every element should be paired, a not none of the elements can be paired with more than one element.</p>\n<p>To approach this a problem in a way that is easier to digest, we can describe Bijections as objects.</p>\n<p>Let's define the following classes:</p>\n<ul>\n<li><p><code>Bijection</code> - representing a Bijection of the given dataset to itself. Since Bijection consists of pairs of elements, an instance of <code>Bijection</code> holds a reference to a list of <code>Pair</code>s.</p>\n</li>\n<li><p><code>Pair</code> - represent a pair of elements in a Bijection.</p>\n</li>\n</ul>\n<p>While initializing a new instance of <code>Bijection</code> based on the given data (<em>see the method</em> <code>init()</code>) a <code>List</code> of <code>Pair</code>s is being created. To meet the definition shown above, the number of <code>Pair</code> is equal to the number of elements in the given dataset, and initially each <code>Pair</code> is being assigned with an element from the given dataset as its first element (<code>a</code>).</p>\n<p>During the process of generating permutations, each pair is being provided with the second element (<code>b</code>). To track the pair that needs to be changed, <code>Bijection</code> has a property <code>cursor</code></p>\n<p>Both <code>Bijection</code> and <code>Pair</code> expose method <code>copy()</code> to facilitate the process of generating permutations.</p>\n<pre><code>public class Bijection&lt;T&gt; {\n    private List&lt;Pair&lt;T&gt;&gt; pairs;\n    private int cursor;\n\n    public Bijection(List&lt;Pair&lt;T&gt;&gt; pairs) {\n        this.pairs = pairs;\n    }\n\n    public Bijection(List&lt;Pair&lt;T&gt;&gt; pairs, int cursor) {\n        this.pairs = pairs;\n        this.cursor = cursor;\n    }\n    \n    public static &lt;T&gt; Bijection&lt;T&gt; init(Collection&lt;T&gt; source) {\n        return new Bijection&lt;&gt;(\n            source.stream().map(Pair::init).toList()\n        );\n    }\n    \n    public void add(T b) {\n        if (cursor == pairs.size()) throw new IllegalStateException();\n        \n        pairs.get(cursor++).add(b);\n    }\n    \n    public Bijection&lt;T&gt; copy() {\n        \n        return pairs.stream()\n            .map(Pair::copy)\n            .collect(Collectors.collectingAndThen(\n                Collectors.toList(),\n                list -&gt; new Bijection&lt;&gt;(list, cursor)\n            ));\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;Bijection{ &quot; + pairs.stream().map(Pair::toString).collect(Collectors.joining(&quot;, &quot;)) + &quot; }&quot;;\n    }\n    \n    public static class Pair&lt;T&gt; {\n        private T a;\n        private T b;\n        \n        public Pair(T a, T b) {\n            this.a = a;\n            this.b = b;\n        }\n        \n        public static &lt;T&gt; Pair&lt;T&gt; init(T a) {\n            return new Pair&lt;&gt;(a, null);\n        }\n        \n        public void add(T b) {\n            this.b = b;\n        }\n        \n        public Pair&lt;T&gt; copy() {\n            return new Pair&lt;&gt;(a, b);\n        }\n        \n        @Override\n        public String toString() {\n            return &quot;Pair{&quot; + a + &quot; -&gt; &quot; + b + '}';\n        }\n    }\n}\n</code></pre>\n<p>Here's the logic for generating all possible Bijections (<em>i.e. all Permutations of elements in the given dataset expressed as connected pairs</em>) encapsulated into a utility class.</p>\n<p>It's a basic recursive implementation. The <em>Base case</em> of recursion is when provide source of data is empty, i.e. no elements left to use and Bijection (Permutation) gets added to the resulting list.</p>\n<p>As the source of data for generating Permutations, I'll use a <code>LinkedHashSet</code> (as suggested by <em>@Rogue</em> in a <a href=\"https://stackoverflow.com/questions/74528027/return-set-of-all-bijections-on-the-input-set/74539531?noredirect=1#comment131570725_74528027\">comment</a>) because it facilitates removal of elements in constant time and guaranties consistent order of iteration.</p>\n<pre><code>public static class Bijections {\n    \n    private Bijections() {}\n    \n    public static &lt;T&gt; List&lt;Bijection&lt;T&gt;&gt; getBijections(Collection&lt;T&gt; source) {\n        Set&lt;T&gt; set = new LinkedHashSet&lt;&gt;(source);\n        List&lt;Bijection&lt;T&gt;&gt; bijections = new ArrayList&lt;&gt;();\n        \n        permute(set, Bijection.init(set), bijections);\n        \n        return bijections;\n    }\n    \n    public static &lt;T&gt; void permute(Set&lt;T&gt; source,\n                                   Bijection&lt;T&gt; bijection, // &lt;- current Bijection\n                                   List&lt;Bijection&lt;T&gt;&gt; bijections) {\n        \n        if (source.isEmpty()) {\n            bijections.add(bijection);\n            return;\n        }\n        \n        for (T next : source) {\n            // generate a new bijection based on the existing one and update it (the initial bijection doesn't change)\n            Bijection&lt;T&gt; bijectionToUpdate = bijection.copy();\n            bijectionToUpdate.add(next);\n            // create a copy of the source a remove the current element from the copy (since it has been already used)\n            Set&lt;T&gt; updatedSource = new LinkedHashSet&lt;&gt;(source);\n            updatedSource.remove(next);\n            // perform recursive call\n            permute(updatedSource, bijectionToUpdate, bijections);\n        }\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    Bijections.getBijections(List.of(1, 2, 3))\n        .forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Bijection{ Pair{1 -&gt; 1}, Pair{2 -&gt; 2}, Pair{3 -&gt; 3} }\nBijection{ Pair{1 -&gt; 1}, Pair{2 -&gt; 3}, Pair{3 -&gt; 2} }\nBijection{ Pair{1 -&gt; 2}, Pair{2 -&gt; 1}, Pair{3 -&gt; 3} }\nBijection{ Pair{1 -&gt; 2}, Pair{2 -&gt; 3}, Pair{3 -&gt; 1} }\nBijection{ Pair{1 -&gt; 3}, Pair{2 -&gt; 1}, Pair{3 -&gt; 2} }\nBijection{ Pair{1 -&gt; 3}, Pair{2 -&gt; 2}, Pair{3 -&gt; 1} }\n</code></pre>\n"}],"owner":{"account_id":22238408,"reputation":23,"user_id":16473333,"display_name":"Saurav Sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74539531,"answer_count":1,"score":1,"last_activity_date":1669234871,"creation_date":1669096297,"question_id":74528027,"body_markdown":"the method: `public static Set&lt;Function&lt;T,T&gt;&gt; bijectionsFinder(Set&lt;T&gt; d)`\r\n\r\nsay d= {1,2,3}. We are supposed to find all bijections from d -&gt; d and return a set of those bijections.\r\n\r\nIm not sure how to start.  \r\n\r\nMain method: \r\n\r\n    public static void main(String... args) {\r\n        Set&lt;Integer&gt; a_few = Stream.of(1, 2, 3).collect(Collectors.toSet());\r\n        Set&lt;Function&lt;T, T&gt;&gt; bijections = bijectionsOf(a_few);\r\n        bijections.forEach(aBijection -&gt; {\r\n           a_few.forEach(n -&gt; System.out.printf(&quot;%d --&gt; %d; &quot;, n, aBijection.apply(n)));\r\n           System.out.println();\r\n        });\r\n    }\r\n\r\nExpected output if d= {1,2,3} : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Z9g5.png","title":"Return set of all bijections on the input set","body":"<p>the method: <code>public static Set&lt;Function&lt;T,T&gt;&gt; bijectionsFinder(Set&lt;T&gt; d)</code></p>\n<p>say d= {1,2,3}. We are supposed to find all bijections from d -&gt; d and return a set of those bijections.</p>\n<p>Im not sure how to start.</p>\n<p>Main method:</p>\n<pre><code>public static void main(String... args) {\n    Set&lt;Integer&gt; a_few = Stream.of(1, 2, 3).collect(Collectors.toSet());\n    Set&lt;Function&lt;T, T&gt;&gt; bijections = bijectionsOf(a_few);\n    bijections.forEach(aBijection -&gt; {\n       a_few.forEach(n -&gt; System.out.printf(&quot;%d --&gt; %d; &quot;, n, aBijection.apply(n)));\n       System.out.println();\n    });\n}\n</code></pre>\n<p>Expected output if d= {1,2,3} :</p>\n<p><a href=\"https://i.stack.imgur.com/7Z9g5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Z9g5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","unit-testing","mockito","jgit"],"comments":[{"owner":{"account_id":1657095,"reputation":3768,"user_id":1526347,"accept_rate":75,"display_name":"jingx"},"score":2,"creation_date":1516724450,"post_id":48406279,"comment_id":83801456,"body_markdown":"Why not just have a local repo included as part of your test data? You won&#39;t have to mock anything.","body":"Why not just have a local repo included as part of your test data? You won&#39;t have to mock anything."}],"answers":[{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1594211502,"creation_date":1518421357,"answer_id":48741591,"question_id":48406279,"body_markdown":"To avoid the `NullPointerException`, you would need to fully simulate the behaviour of a real `RevCommit`. To get its behaviour right in all aspects, you would end up re-building large parts of the actual `RevCommit` implementation in JGit.\r\n\r\nThis is why I recommend to run tests against a real repository. For said reasons, it is usually not advisable to mock types that you don&#39;t own (see https://github.com/mockito/mockito/wiki/How-to-write-good-tests). \r\n\r\nAnd with JGit it is very simple to create test-repositories:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class JGitTest {\r\n\r\n      @Rule\r\n      public TemporaryFolder tempFolder = new TemporaryFolder();\r\n      private Git git;\r\n    \r\n      @Before\r\n      public void setUp() throws GitAPIException {\r\n        git = Git.init().setDirectory(tempFolder.getRoot()).call();\r\n      }\r\n    \r\n      @After\r\n      public void tearDown() {\r\n        git.getRepository().close();\r\n      }\r\n    \r\n      @Test\r\n      public void testFirst() {\r\n        // with &#39;git&#39; you have access to a fully functional repository\r\n      }\r\n    }\r\n\r\nSee here for another example that initializes a repository and uses a `TemporaryFolder` to clean up: https://gist.github.com/rherrmann/5341e735ce197f306949fc58e9aed141\r\n","title":"RevCommit JGit mock","body":"<p>To avoid the <code>NullPointerException</code>, you would need to fully simulate the behaviour of a real <code>RevCommit</code>. To get its behaviour right in all aspects, you would end up re-building large parts of the actual <code>RevCommit</code> implementation in JGit.</p>\n<p>This is why I recommend to run tests against a real repository. For said reasons, it is usually not advisable to mock types that you don't own (see <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/wiki/How-to-write-good-tests</a>).</p>\n<p>And with JGit it is very simple to create test-repositories:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JGitTest {\n\n  @Rule\n  public TemporaryFolder tempFolder = new TemporaryFolder();\n  private Git git;\n\n  @Before\n  public void setUp() throws GitAPIException {\n    git = Git.init().setDirectory(tempFolder.getRoot()).call();\n  }\n\n  @After\n  public void tearDown() {\n    git.getRepository().close();\n  }\n\n  @Test\n  public void testFirst() {\n    // with 'git' you have access to a fully functional repository\n  }\n}\n</code></pre>\n<p>See here for another example that initializes a repository and uses a <code>TemporaryFolder</code> to clean up: <a href=\"https://gist.github.com/rherrmann/5341e735ce197f306949fc58e9aed141\" rel=\"nofollow noreferrer\">https://gist.github.com/rherrmann/5341e735ce197f306949fc58e9aed141</a></p>\n"},{"tags":[],"owner":{"account_id":9648852,"reputation":1,"user_id":7544659,"display_name":"den-codeman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669233926,"creation_date":1669233926,"answer_id":74552429,"question_id":48406279,"body_markdown":"I will add the answer [R&#252;diger Herrmann][1]. After following steps it started working for me:\r\n 1. Annotate class `@TestInstance(Lifecycle.PER_CLASS)`\r\n 2. `@Before` change on `@BeforeAll`\r\n 3. add `tempFolder.create();` to `setUp()` method\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2986905/r%C3%BCdiger-herrmann","title":"RevCommit JGit mock","body":"<p>I will add the answer <a href=\"https://stackoverflow.com/users/2986905/r%C3%BCdiger-herrmann\">Rüdiger Herrmann</a>. After following steps it started working for me:</p>\n<ol>\n<li>Annotate class <code>@TestInstance(Lifecycle.PER_CLASS)</code></li>\n<li><code>@Before</code> change on <code>@BeforeAll</code></li>\n<li>add <code>tempFolder.create();</code> to <code>setUp()</code> method</li>\n</ol>\n"}],"owner":{"account_id":12794123,"reputation":23,"user_id":9257705,"display_name":"jmcg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1796,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48741591,"answer_count":2,"score":2,"last_activity_date":1669233926,"creation_date":1516724183,"question_id":48406279,"body_markdown":"My question is about mocking a `RevCommit` object from the JGit library. \r\nWhen simply mocking an object of this type and defining it&#39;s behaviour, I get an error. For example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    RevCommit revCommitMock = mock(RevCommit.class);        \r\n    Mockito.when(revCommitMock.getShortMessage()).thenReturn(&quot;ExampleMessage&quot;);\r\n\r\nThis will result in a `NullPointerException`.\r\n\r\nProbably, the way to do it correctly is calling method:\r\n\r\n    parse(RevWalk rw, byte[] raw) \r\n\r\n on an instance of `RevCommit` object, but how to do it properly? I get `NullPointerException` parsing mocked object of type `RevWalk`. \r\nThanks for any help in advance.","title":"RevCommit JGit mock","body":"<p>My question is about mocking a <code>RevCommit</code> object from the JGit library. \nWhen simply mocking an object of this type and defining it's behaviour, I get an error. For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>RevCommit revCommitMock = mock(RevCommit.class);        \nMockito.when(revCommitMock.getShortMessage()).thenReturn(\"ExampleMessage\");\n</code></pre>\n\n<p>This will result in a <code>NullPointerException</code>.</p>\n\n<p>Probably, the way to do it correctly is calling method:</p>\n\n<pre><code>parse(RevWalk rw, byte[] raw) \n</code></pre>\n\n<p>on an instance of <code>RevCommit</code> object, but how to do it properly? I get <code>NullPointerException</code> parsing mocked object of type <code>RevWalk</code>. \nThanks for any help in advance.</p>\n"},{"tags":["java","httpurlconnection","cloudflare"],"answers":[{"tags":[],"owner":{"account_id":2134682,"reputation":57,"user_id":1894762,"display_name":"fab23"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650184004,"creation_date":1650184004,"answer_id":71900394,"question_id":60759904,"body_markdown":"It works very well and how it works is not fully disclosed since it is more a paid service then free one.\r\n\r\nCloudflare default challenge is 30 minutes and they stopped to serve captchas to identify real users by replacing with a more UX oriented method (browser evaluate an hash some seconds). Solved the 1st captcha Your browser will get a token (cf-something) which will make you able to query the underlying resource for half hour (if the site owner didn&#39;t lower it) then your scrape process must be faster than 30m. \r\nThe real question is: why some APi are not available for the services You want to scrape?","title":"Scraping Cloudflare Sites","body":"<p>It works very well and how it works is not fully disclosed since it is more a paid service then free one.</p>\n<p>Cloudflare default challenge is 30 minutes and they stopped to serve captchas to identify real users by replacing with a more UX oriented method (browser evaluate an hash some seconds). Solved the 1st captcha Your browser will get a token (cf-something) which will make you able to query the underlying resource for half hour (if the site owner didn't lower it) then your scrape process must be faster than 30m.\nThe real question is: why some APi are not available for the services You want to scrape?</p>\n"}],"owner":{"account_id":17517684,"reputation":103,"user_id":12704395,"display_name":"Aasil"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"closed_date":1669239537,"answer_count":1,"score":3,"last_activity_date":1669233505,"creation_date":1584630459,"question_id":60759904,"body_markdown":"so I am trying to read data from a bunch of sites, now most of these sites use cloudflare // cloudflare antibot, what this does is block my scrape attempts...\r\n\r\nI don&#39;t know much about how the cloudflare anti bot works but I was wondering if you could explain how I could do this without using a external library.\r\n\r\nThanks.","title":"Scraping Cloudflare Sites","body":"<p>so I am trying to read data from a bunch of sites, now most of these sites use cloudflare // cloudflare antibot, what this does is block my scrape attempts...</p>\n\n<p>I don't know much about how the cloudflare anti bot works but I was wondering if you could explain how I could do this without using a external library.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","internationalization"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669233093,"creation_date":1669230993,"answer_id":74551963,"question_id":74551723,"body_markdown":"Nothing about the solution is really unique to Kafka. Use a `ResourceBundle`\r\n\r\n```\r\n// example values\r\nString language = kafkaRecord.getLanugage();\r\nString country = kafkaRecord.getCountry();\r\n\r\n// Get i18n file\r\nLocale l = new Locale(language, country);\r\nResourceBundle messages = ResourceBundle.getBundle(&quot;MessagesBundle&quot;, l);\r\n// Print the translated key\r\nSystem.out.println(messages.getString(kafkaRecord.getEntry()));\r\n```\r\n\r\nhttps://docs.oracle.com/javase/tutorial/i18n/intro/quick.html\r\n\r\nHowever, Kafka data typically isn&#39;t directly end-user facing, so the translation could probably be deferred to somewhere else, such as a GUI or a database query. ","title":"Implement i18n for standalone (Kafka consumer based) Spring boot application","body":"<p>Nothing about the solution is really unique to Kafka. Use a <code>ResourceBundle</code></p>\n<pre><code>// example values\nString language = kafkaRecord.getLanugage();\nString country = kafkaRecord.getCountry();\n\n// Get i18n file\nLocale l = new Locale(language, country);\nResourceBundle messages = ResourceBundle.getBundle(&quot;MessagesBundle&quot;, l);\n// Print the translated key\nSystem.out.println(messages.getString(kafkaRecord.getEntry()));\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/i18n/intro/quick.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/i18n/intro/quick.html</a></p>\n<p>However, Kafka data typically isn't directly end-user facing, so the translation could probably be deferred to somewhere else, such as a GUI or a database query.</p>\n"}],"owner":{"account_id":10890055,"reputation":1246,"user_id":8006169,"display_name":"Deepak Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669233093,"creation_date":1669229407,"question_id":74551723,"body_markdown":"I am working on an application which is having a Kafka topic as an input point and a 3rd-party API as an output point. I need to implement the i18n for this application.\r\nSo basically I receive the input from the Kafka topic where I also get the locale in the message body. Now based on that locale I need to get some messages stored in the resource bundle. I have created the below files in the resources folder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI also added the spring property `spring.messages.basename = i18n/messages`. But I am stuck on how to change the locale for each Kafka message.\r\nWhat I want to do is, have a Kafka filter that gets triggered before the consumer. I want to set the spring locale in this Kafka filter class.\r\n\r\nI show many articles and all talk about setting the locale using the `LocaleResolver` and `LocaleChangeInterceptor`. But as I receive input from Kafka topic instead of the web request. So those would not work for me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4GNrJ.png","title":"Implement i18n for standalone (Kafka consumer based) Spring boot application","body":"<p>I am working on an application which is having a Kafka topic as an input point and a 3rd-party API as an output point. I need to implement the i18n for this application.\nSo basically I receive the input from the Kafka topic where I also get the locale in the message body. Now based on that locale I need to get some messages stored in the resource bundle. I have created the below files in the resources folder.</p>\n<p><a href=\"https://i.stack.imgur.com/4GNrJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4GNrJ.png\" alt=\"enter image description here\" /></a></p>\n<p>I also added the spring property <code>spring.messages.basename = i18n/messages</code>. But I am stuck on how to change the locale for each Kafka message.\nWhat I want to do is, have a Kafka filter that gets triggered before the consumer. I want to set the spring locale in this Kafka filter class.</p>\n<p>I show many articles and all talk about setting the locale using the <code>LocaleResolver</code> and <code>LocaleChangeInterceptor</code>. But as I receive input from Kafka topic instead of the web request. So those would not work for me.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1554089070,"post_id":55447687,"comment_id":97610036,"body_markdown":"Don&#39;t compile with `--enable-preview`. If you do compile that way, you must also specify that option when running the code.","body":"Don&#39;t compile with <code>--enable-preview</code>. If you do compile that way, you must also specify that option when running the code."}],"answers":[{"tags":[],"owner":{"account_id":323866,"reputation":986,"user_id":5361649,"display_name":"jinbo wang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554089216,"creation_date":1554089216,"answer_id":55447741,"question_id":55447687,"body_markdown":"In launch.json file, add &quot;vmArgs&quot;: &quot;--enable-preview&quot; to your debug configuration.\r\n```\r\n{\r\n   ...\r\n   &quot;vmArgs&quot;: &quot;--enable-preview&quot;\r\n}\r\n```","title":"How to fix java.lang.UnsupportedClassVersionError: test (class file version 52.65535) was compiled with preview features that are unsupported?","body":"<p>In launch.json file, add \"vmArgs\": \"--enable-preview\" to your debug configuration.</p>\n\n<pre><code>{\n   ...\n   \"vmArgs\": \"--enable-preview\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16778040,"reputation":11,"user_id":12128855,"display_name":"Lychee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569648406,"creation_date":1569563947,"answer_id":58128596,"question_id":55447687,"body_markdown":"Update: after intensive googling I think I found the answer: \r\n\r\n**This is due to a mismatch with the code version that&#39;s compiling in vscode and the JDK version you&#39;re running in your system.**  \r\n\r\n1. In your VScode, your compiler is trying to compile using (class file version 52.65535), which is **Java 8**, meanwhile your system is running class file version 55.65535 which is **Java 11**. In this case, clean uninstall the Java 11 in your system first, follow the uninstall instructions here: https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html#A1096903\r\n\r\n2. After uninstallation, download and install the JDK 8 from oracle:\r\nhttps://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n\r\n3. reopen your vscode project, do the following: \r\n\r\n4. open your launch.json file, add this line in configuration: \r\n\r\n    &quot;vmArgs&quot;: &quot;--enable-preview&quot;\r\n\r\n5. inside your file your want to compile and run, press F1 in vscode and do the following: \r\n\r\n - Java: Clean the java language server workspace\r\n   \r\n - Java: Force Java Compilation\r\n\r\n6. Press F5 your code will compile and run!\r\n\r\nReference: https://www.baeldung.com/java-lang-unsupportedclassversion","title":"How to fix java.lang.UnsupportedClassVersionError: test (class file version 52.65535) was compiled with preview features that are unsupported?","body":"<p>Update: after intensive googling I think I found the answer: </p>\n\n<p><strong>This is due to a mismatch with the code version that's compiling in vscode and the JDK version you're running in your system.</strong>  </p>\n\n<ol>\n<li><p>In your VScode, your compiler is trying to compile using (class file version 52.65535), which is <strong>Java 8</strong>, meanwhile your system is running class file version 55.65535 which is <strong>Java 11</strong>. In this case, clean uninstall the Java 11 in your system first, follow the uninstall instructions here: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html#A1096903\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html#A1096903</a></p></li>\n<li><p>After uninstallation, download and install the JDK 8 from oracle:\n<a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p></li>\n<li><p>reopen your vscode project, do the following: </p></li>\n<li><p>open your launch.json file, add this line in configuration: </p>\n\n<p>\"vmArgs\": \"--enable-preview\"</p></li>\n<li><p>inside your file your want to compile and run, press F1 in vscode and do the following: </p>\n\n<ul>\n<li><p>Java: Clean the java language server workspace</p></li>\n<li><p>Java: Force Java Compilation</p></li>\n</ul></li>\n<li><p>Press F5 your code will compile and run!</p></li>\n</ol>\n\n<p>Reference: <a href=\"https://www.baeldung.com/java-lang-unsupportedclassversion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-lang-unsupportedclassversion</a></p>\n"},{"tags":[],"owner":{"account_id":9557519,"reputation":543,"user_id":7099541,"display_name":"afshar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643011760,"creation_date":1643011760,"answer_id":70830720,"question_id":55447687,"body_markdown":"The same error on the Intellij idea maven build. correct the JRE version of Maven to the correct version of java.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/abR7Z.png","title":"How to fix java.lang.UnsupportedClassVersionError: test (class file version 52.65535) was compiled with preview features that are unsupported?","body":"<p>The same error on the Intellij idea maven build. correct the JRE version of Maven to the correct version of java.\n<a href=\"https://i.stack.imgur.com/abR7Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/abR7Z.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":27024561,"reputation":1,"user_id":20582037,"display_name":"Nikimba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669232845,"creation_date":1669207835,"answer_id":74547084,"question_id":55447687,"body_markdown":"I solved this problem by compiling the class through the terminal itself with javac in the &quot;src&quot; folder and then replacing the &quot;.class file&quot; in the &quot;bin&quot; folder by the &quot;.class file&quot; created in the &quot;src&quot; folder. I believe the problem is in VSCODE, I did the same test in Eclipse and it worked without problems.\r\n\r\nAnother alternative:\r\n\r\nin the configure Java Runtime option of VSCODE, you have the option to choose the Runtime version we can choose which java version we want to use, mine was 19, however, apparently it does not work well, so I changed it to version 17 and everything works perfectly. There is an option to download the latest version of the JDK and it is not in 19 only 17 as shown in this print from the website https://code.visualstudio.com/assets/docs/java/java-project/download-jdk .png that is exactly the same as what appears in the program. Until then it was the best alternative I found","title":"How to fix java.lang.UnsupportedClassVersionError: test (class file version 52.65535) was compiled with preview features that are unsupported?","body":"<p>I solved this problem by compiling the class through the terminal itself with javac in the &quot;src&quot; folder and then replacing the &quot;.class file&quot; in the &quot;bin&quot; folder by the &quot;.class file&quot; created in the &quot;src&quot; folder. I believe the problem is in VSCODE, I did the same test in Eclipse and it worked without problems.</p>\n<p>Another alternative:</p>\n<p>in the configure Java Runtime option of VSCODE, you have the option to choose the Runtime version we can choose which java version we want to use, mine was 19, however, apparently it does not work well, so I changed it to version 17 and everything works perfectly. There is an option to download the latest version of the JDK and it is not in 19 only 17 as shown in this print from the website <a href=\"https://code.visualstudio.com/assets/docs/java/java-project/download-jdk\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/assets/docs/java/java-project/download-jdk</a> .png that is exactly the same as what appears in the program. Until then it was the best alternative I found</p>\n"}],"owner":{"account_id":15645719,"reputation":111,"user_id":11287916,"display_name":"Luty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20485,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1669232845,"creation_date":1554088698,"question_id":55447687,"body_markdown":"I recieved this error when I trying to debug a java program with vscode:\r\n```\r\njava.lang.UnsupportedClassVersionError: \r\ntest (class file version 52.65535) was compiled with preview features that are unsupported. \r\nThis version of the Java Runtime only recognizes preview features for class file version 55.65535\r\n```\r\nHere is launch.json:\r\n```\r\n{\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Debug (Launch) - Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Debug (Launch)-test&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;test&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\nHere is the version of java:\r\n```\r\njava --version:\r\nopenjdk 11.0.2 2019-01-15\r\nOpenJDK Runtime Environment (build 11.0.2+9-Ubuntu-3ubuntu118.04.2)\r\nOpenJDK 64-Bit Server VM (build 11.0.2+9-Ubuntu-3ubuntu118.04.2, mixed mode, sharing)\r\n\r\njavac --version:\r\njavac 11.0.2\r\n```\r\nThis program can run on ubuntu original terminal, but throws error in vscode.\r\n\r\nit would be greatful if you can help me out.","title":"How to fix java.lang.UnsupportedClassVersionError: test (class file version 52.65535) was compiled with preview features that are unsupported?","body":"<p>I recieved this error when I trying to debug a java program with vscode:</p>\n\n<pre><code>java.lang.UnsupportedClassVersionError: \ntest (class file version 52.65535) was compiled with preview features that are unsupported. \nThis version of the Java Runtime only recognizes preview features for class file version 55.65535\n</code></pre>\n\n<p>Here is launch.json:</p>\n\n<pre><code>{\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"type\": \"java\",\n            \"name\": \"Debug (Launch) - Current File\",\n            \"request\": \"launch\",\n            \"mainClass\": \"${file}\"\n        },\n        {\n            \"type\": \"java\",\n            \"name\": \"Debug (Launch)-test\",\n            \"request\": \"launch\",\n            \"mainClass\": \"test\"\n        }\n    ]\n}\n</code></pre>\n\n<p>Here is the version of java:</p>\n\n<pre><code>java --version:\nopenjdk 11.0.2 2019-01-15\nOpenJDK Runtime Environment (build 11.0.2+9-Ubuntu-3ubuntu118.04.2)\nOpenJDK 64-Bit Server VM (build 11.0.2+9-Ubuntu-3ubuntu118.04.2, mixed mode, sharing)\n\njavac --version:\njavac 11.0.2\n</code></pre>\n\n<p>This program can run on ubuntu original terminal, but throws error in vscode.</p>\n\n<p>it would be greatful if you can help me out.</p>\n"},{"tags":["java","apache-pulsar","pulsar"],"answers":[{"tags":[],"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669232286,"creation_date":1669232286,"answer_id":74552185,"question_id":74491416,"body_markdown":"To create a topic with partitions you can either configure the following settings for the Pulsar Broker (if you are relying on automatic topic creation)\r\n\r\n```\r\nallowAutoTopicCreationType = partitioned\r\ndefaultNumPartitions = &lt;N&gt;\r\n```\r\n\r\nAlternatively you can use the Pulsar Admin and use `createPartitionedTopic`\r\nhttps://github.com/apache/pulsar/blob/a165bda1d03e370f5efe1173134fb94e12b584b5/pulsar-client-admin-api/src/main/java/org/apache/pulsar/client/admin/Topics.java#L473-L475\r\n\r\nHowever once a topic has been created (I assume non-partitioned) then there is no way to make it partitioned. It has to be partitioned at topic creation time.","title":"java, apache pulsar Topic partition","body":"<p>To create a topic with partitions you can either configure the following settings for the Pulsar Broker (if you are relying on automatic topic creation)</p>\n<pre><code>allowAutoTopicCreationType = partitioned\ndefaultNumPartitions = &lt;N&gt;\n</code></pre>\n<p>Alternatively you can use the Pulsar Admin and use <code>createPartitionedTopic</code>\n<a href=\"https://github.com/apache/pulsar/blob/a165bda1d03e370f5efe1173134fb94e12b584b5/pulsar-client-admin-api/src/main/java/org/apache/pulsar/client/admin/Topics.java#L473-L475\" rel=\"nofollow noreferrer\">https://github.com/apache/pulsar/blob/a165bda1d03e370f5efe1173134fb94e12b584b5/pulsar-client-admin-api/src/main/java/org/apache/pulsar/client/admin/Topics.java#L473-L475</a></p>\n<p>However once a topic has been created (I assume non-partitioned) then there is no way to make it partitioned. It has to be partitioned at topic creation time.</p>\n"}],"owner":{"account_id":18610431,"reputation":41,"user_id":13563000,"display_name":"Dovile Barkauskaite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669232286,"creation_date":1668782828,"question_id":74491416,"body_markdown":"If I have a topic called `var test = &quot;test&quot;`\r\nand I create a bean:\r\n\r\n    @Bean(name = &quot;test&quot;)\r\n    public Producer&lt;Test&gt; testProducer(PulsarClient pulsarClient){\r\n        return pulsarClient.newProducer()\r\n                .topic(test)\r\n                .create();\r\n    }\r\n\r\nThe topic is created I want to partition, how?","title":"java, apache pulsar Topic partition","body":"<p>If I have a topic called <code>var test = &quot;test&quot;</code>\nand I create a bean:</p>\n<pre><code>@Bean(name = &quot;test&quot;)\npublic Producer&lt;Test&gt; testProducer(PulsarClient pulsarClient){\n    return pulsarClient.newProducer()\n            .topic(test)\n            .create();\n}\n</code></pre>\n<p>The topic is created I want to partition, how?</p>\n"},{"tags":["java","testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669225219,"creation_date":1669225219,"answer_id":74550984,"question_id":74550724,"body_markdown":"I couldn&#39;t find one. So I use below workaround.\r\n\r\n    List list = List.of(1, 2, 3);\r\n    when(mockObject.getValuesFor(list).thenReturn(List.of(...)));\r\n    \r\n    //do actual test method call\r\n    \r\n    ArgumentCaptor&lt;List&gt; listCaptor = ArgumentCaptor.class(List.class);\r\n    verify(mockObject).getValuesFor(listCaptor.capture());\r\n    \r\n    assertEquals(3, list.getValue().size());\r\n    assertEquals(1, list.getValue().get(0));\r\n    assertEquals(2, list.getValue().get(1));\r\n    assertEquals(3, list.getValue().get(2));\r\n\r\nIt essentially does the same thing. If same list was not passed as the method argument, test case will fail in assert statements.","title":"Mockito ArgumentMatcher to verify if arg value is contained in a certain collection","body":"<p>I couldn't find one. So I use below workaround.</p>\n<pre><code>List list = List.of(1, 2, 3);\nwhen(mockObject.getValuesFor(list).thenReturn(List.of(...)));\n\n//do actual test method call\n\nArgumentCaptor&lt;List&gt; listCaptor = ArgumentCaptor.class(List.class);\nverify(mockObject).getValuesFor(listCaptor.capture());\n\nassertEquals(3, list.getValue().size());\nassertEquals(1, list.getValue().get(0));\nassertEquals(2, list.getValue().get(1));\nassertEquals(3, list.getValue().get(2));\n</code></pre>\n<p>It essentially does the same thing. If same list was not passed as the method argument, test case will fail in assert statements.</p>\n"},{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669232099,"creation_date":1669231693,"answer_id":74552074,"question_id":74550724,"body_markdown":"I think `intThat` gets close to what you need:\r\n```lang-java\r\nwhen(mockObject.getValuesFor(intThat(x -&gt; Set.of(1, 2, 3).contains(x))))\r\n  .thenReturn(List.of(3, 4, 5));\r\n```\r\n\r\nIn addition, you can extract a method producing inner `ArgumentMatcher&lt;Integer&gt;`, which would make your code look like\r\n```lang-java\r\nwhen(mockObject.getValuesFor(intThat(isOneOf(1, 2, 3))))\r\n  .thenReturn(List.of(3, 4, 5));\r\n```","title":"Mockito ArgumentMatcher to verify if arg value is contained in a certain collection","body":"<p>I think <code>intThat</code> gets close to what you need:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(mockObject.getValuesFor(intThat(x -&gt; Set.of(1, 2, 3).contains(x))))\n  .thenReturn(List.of(3, 4, 5));\n</code></pre>\n<p>In addition, you can extract a method producing inner <code>ArgumentMatcher&lt;Integer&gt;</code>, which would make your code look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(mockObject.getValuesFor(intThat(isOneOf(1, 2, 3))))\n  .thenReturn(List.of(3, 4, 5));\n</code></pre>\n"}],"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74552074,"answer_count":2,"score":0,"last_activity_date":1669232099,"creation_date":1669223892,"question_id":74550724,"body_markdown":"Is there a way, using [Mockito][1] to define an expression like this?\r\n\r\n    when(mockObject.getValuesFor(in(1, 2, 3)).thenReturn(List.of(...)));\r\n\r\nI can&#39;t find a method like `in()` among the ones defined in [`ArgumentMatchers`][2] and [`AdditionalMatchers`][3], so I&#39;d like to know which is a common way to achieve what I need.\r\n\r\n**Note**\r\nThe method I&#39;m mocking is declared like this:\r\n\r\n    List&lt;Integer&gt; getValuesFor(int arg) {...}\r\n\r\n\r\n  [1]: https://site.mockito.org/\r\n  [2]: https://javadoc.io/static/org.mockito/mockito-core/4.9.0/org/mockito/ArgumentMatchers.html\r\n  [3]: https://javadoc.io/static/org.mockito/mockito-core/4.9.0/org/mockito/AdditionalMatchers.html","title":"Mockito ArgumentMatcher to verify if arg value is contained in a certain collection","body":"<p>Is there a way, using <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">Mockito</a> to define an expression like this?</p>\n<pre><code>when(mockObject.getValuesFor(in(1, 2, 3)).thenReturn(List.of(...)));\n</code></pre>\n<p>I can't find a method like <code>in()</code> among the ones defined in <a href=\"https://javadoc.io/static/org.mockito/mockito-core/4.9.0/org/mockito/ArgumentMatchers.html\" rel=\"nofollow noreferrer\"><code>ArgumentMatchers</code></a> and <a href=\"https://javadoc.io/static/org.mockito/mockito-core/4.9.0/org/mockito/AdditionalMatchers.html\" rel=\"nofollow noreferrer\"><code>AdditionalMatchers</code></a>, so I'd like to know which is a common way to achieve what I need.</p>\n<p><strong>Note</strong>\nThe method I'm mocking is declared like this:</p>\n<pre><code>List&lt;Integer&gt; getValuesFor(int arg) {...}\n</code></pre>\n"},{"tags":["java","eclipse","macos","maven","easy-rules"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1637018885,"post_id":69982093,"comment_id":123708433,"body_markdown":"Your question is missing the most important information -- the abstract methods in the RuleListener interface. Please post that information with your question.","body":"Your question is missing the most important information -- the abstract methods in the RuleListener interface. Please post that information with your question."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1637018939,"post_id":69982093,"comment_id":123708450,"body_markdown":"Also, it is suspicious to me that your `onFailure` method does not have an `@Override` annotation above it, suggesting that your method signature is likely wrong.","body":"Also, it is suspicious to me that your <code>onFailure</code> method does not have an <code>@Override</code> annotation above it, suggesting that your method signature is likely wrong."},{"owner":{"account_id":23336836,"reputation":13,"user_id":17412363,"display_name":"Plutoverse"},"score":0,"creation_date":1637019081,"post_id":69982093,"comment_id":123708480,"body_markdown":"Here is the class I am implementing https://github.com/j-easy/easy-rules/blob/master/easy-rules-core/src/main/java/org/jeasy/rules/api/RuleListener.java","body":"Here is the class I am implementing <a href=\"https://github.com/j-easy/easy-rules/blob/master/easy-rules-core/src/main/java/org/jeasy/rules/api/RuleListener.java\" rel=\"nofollow noreferrer\">github.com/j-easy/easy-rules/blob/master/easy-rules-core/src&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1637019339,"post_id":69982093,"comment_id":123708543,"body_markdown":"Please add the entire error message(s) that you see.","body":"Please add the entire error message(s) that you see."},{"owner":{"account_id":23336836,"reputation":13,"user_id":17412363,"display_name":"Plutoverse"},"score":0,"creation_date":1637019454,"post_id":69982093,"comment_id":123708564,"body_markdown":"Here you go...The method onSuccess(Rule, Facts) of type PositionalStrengthListener must override or implement a supertype method\tPositionalStrengthListener.java\t/Everest/src/main/java/rules\tline 17\tJava Problem","body":"Here you go...The method onSuccess(Rule, Facts) of type PositionalStrengthListener must override or implement a supertype method\tPositionalStrengthListener.java\t/Everest/src/main/jav&zwnj;&#8203;a/rules\tline 17\tJava Problem"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1637020233,"post_id":69982093,"comment_id":123708715,"body_markdown":"Did you add easy-rules as a [project dependency in your pom.xml](https://mvnrepository.com/artifact/org.jeasy/easy-rules/3.2.0)? That XML is needed so the project knows where to find depended-upon code.","body":"Did you add easy-rules as a <a href=\"https://mvnrepository.com/artifact/org.jeasy/easy-rules/3.2.0\" rel=\"nofollow noreferrer\">project dependency in your pom.xml</a>? That XML is needed so the project knows where to find depended-upon code."},{"owner":{"account_id":23336836,"reputation":13,"user_id":17412363,"display_name":"Plutoverse"},"score":0,"creation_date":1637020402,"post_id":69982093,"comment_id":123708744,"body_markdown":"Please see the pom.xml snippets I appended to my question.","body":"Please see the pom.xml snippets I appended to my question."},{"owner":{"account_id":23336836,"reputation":13,"user_id":17412363,"display_name":"Plutoverse"},"score":0,"creation_date":1637020462,"post_id":69982093,"comment_id":123708756,"body_markdown":"Please note that easy rules implementation is working in general. I am running into issue implementing my first RuleListener due to this @Override  error message.","body":"Please note that easy rules implementation is working in general. I am running into issue implementing my first RuleListener due to this @Override  error message."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1637050259,"post_id":69982093,"comment_id":123714841,"body_markdown":"Check your `import` statements for `Rule` and `Facts` - are they importing the correct class?","body":"Check your <code>import</code> statements for <code>Rule</code> and <code>Facts</code> - are they importing the correct class?"},{"owner":{"account_id":23336836,"reputation":13,"user_id":17412363,"display_name":"Plutoverse"},"score":0,"creation_date":1637082575,"post_id":69982093,"comment_id":123728821,"body_markdown":"Yes @greg-449. I have the import statements: import org.jeasy.rules.api.Facts;\nimport org.jeasy.rules.api.RuleListener;","body":"Yes @greg-449. I have the import statements: import org.jeasy.rules.api.Facts; import org.jeasy.rules.api.RuleListener;"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1669234746,"post_id":69982093,"comment_id":131601121,"body_markdown":"Do you import `Rule`? You only mentioned 2 import statements.","body":"Do you import <code>Rule</code>? You only mentioned 2 import statements."}],"answers":[{"tags":[],"owner":{"account_id":12580607,"reputation":1,"user_id":9151446,"display_name":"Smooth Carlito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669231879,"creation_date":1669231879,"answer_id":74552112,"question_id":69982093,"body_markdown":"You responded to greg-449&#39;s comment about the imports, but didn&#39;t mention what import you are using for Rule. Since jeasy has two Rule classes, I think it would be worth double checking this. \r\n\r\nIt should be `org.jeasy.rules.api.Rule`. I&#39;m able to reproduce the compile error by changing the import to `org.jeasy.rules.annotation.Rule` instead.\r\n\r\nAs a side-note, consider using version 4.1.0 of easy-rules-support instead of 3.3.0. It&#39;s not causing this problem, I just think it&#39;s a good idea to keep them in sync unless there&#39;s a specific reason you can&#39;t.","title":"Method does not override or implement a method from a supertype on Eclipse with interface and Easy Rules","body":"<p>You responded to greg-449's comment about the imports, but didn't mention what import you are using for Rule. Since jeasy has two Rule classes, I think it would be worth double checking this.</p>\n<p>It should be <code>org.jeasy.rules.api.Rule</code>. I'm able to reproduce the compile error by changing the import to <code>org.jeasy.rules.annotation.Rule</code> instead.</p>\n<p>As a side-note, consider using version 4.1.0 of easy-rules-support instead of 3.3.0. It's not causing this problem, I just think it's a good idea to keep them in sync unless there's a specific reason you can't.</p>\n"}],"owner":{"account_id":23336836,"reputation":13,"user_id":17412363,"display_name":"Plutoverse"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669231879,"creation_date":1637018698,"question_id":69982093,"body_markdown":"[Compiler compliance configuration in Eclipse][1]\r\n\r\nI am running into this popular error &quot;method does not override or implement a method from a supertype&quot; in my code. I have spent nearly 5 hours reading on various solutions offered in the past and none of them are helping me. What is it that I am missing?\r\n\r\nHere are the things that I have tried:\r\n\r\n1. Made sure that the compiler compilation is set to 1.8\r\n2. JRE is 1.8\r\n3. Exited and re-imported my eclipse project in java to see if that helps\r\n4.  mvn clean install -U\r\n5. Used to below properties in my pom.xml file\r\n```\r\n&lt;properties&gt;\r\n  \t  &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n  \t  &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n```\r\n\r\n6. Used another way of mentioning java versions for target and source as below\r\n```\r\n&lt;plugins&gt;\r\n  &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n          &lt;encoding&gt;UTF-8&lt;/encoding&gt;    \r\n        &lt;/configuration&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n     &lt;/plugins&gt;\r\n```\r\n\r\nWhat am I doing?\r\n\r\nI am using Easy Rules. I implemented RuleListener as below: I keep getting the &quot;method does not override or implement a method from a supertype&quot;.  \r\n\r\n```\r\npublic class PositionalStrengthListener implements RuleListener {\r\n    private static Logger logger = LoggerFactory.getLogger(PositionalStrengthListener.class);\r\n\r\n    @Override\r\n    public void onSuccess(Rule rule, Facts facts) {\r\n    \tlogger.debug(&quot;OnSuccess: PositionalStrengthListener&quot;);\r\n  \r\n    }\r\n\r\n    public void onFailure(Rule rule, Facts facts, Exception exception) {\r\n    \tlogger.debug(&quot;On failure:PositionalStrengthListener&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am implementing this interface: https://github.com/j-easy/easy-rules/blob/master/easy-rules-core/src/main/java/org/jeasy/rules/api/RuleListener.java\r\n\r\nI was focusing on OnSuccess @Override error message and hence didn&#39;t add @Override on OnFailure but I get the same error with OnFailure if I add @Override.\r\n\r\nBelow is the easy rules dependency in pom.xml file.\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.jeasy/easy-rules --&gt;\r\n\t&lt;dependency&gt;\r\n   \t\t &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;easy-rules-core&lt;/artifactId&gt;\r\n   \t\t &lt;version&gt;4.1.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n   \t\t &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;easy-rules-support&lt;/artifactId&gt;\r\n   \t\t &lt;version&gt;3.3.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6mtsv.png","title":"Method does not override or implement a method from a supertype on Eclipse with interface and Easy Rules","body":"<p><a href=\"https://i.stack.imgur.com/6mtsv.png\" rel=\"nofollow noreferrer\">Compiler compliance configuration in Eclipse</a></p>\n<p>I am running into this popular error &quot;method does not override or implement a method from a supertype&quot; in my code. I have spent nearly 5 hours reading on various solutions offered in the past and none of them are helping me. What is it that I am missing?</p>\n<p>Here are the things that I have tried:</p>\n<ol>\n<li>Made sure that the compiler compilation is set to 1.8</li>\n<li>JRE is 1.8</li>\n<li>Exited and re-imported my eclipse project in java to see if that helps</li>\n<li>mvn clean install -U</li>\n<li>Used to below properties in my pom.xml file</li>\n</ol>\n<pre><code>&lt;properties&gt;\n      &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n      &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n</code></pre>\n<ol start=\"6\">\n<li>Used another way of mentioning java versions for target and source as below</li>\n</ol>\n<pre><code>&lt;plugins&gt;\n  &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n          &lt;encoding&gt;UTF-8&lt;/encoding&gt;    \n        &lt;/configuration&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;/plugin&gt;\n     &lt;/plugins&gt;\n</code></pre>\n<p>What am I doing?</p>\n<p>I am using Easy Rules. I implemented RuleListener as below: I keep getting the &quot;method does not override or implement a method from a supertype&quot;.</p>\n<pre><code>public class PositionalStrengthListener implements RuleListener {\n    private static Logger logger = LoggerFactory.getLogger(PositionalStrengthListener.class);\n\n    @Override\n    public void onSuccess(Rule rule, Facts facts) {\n        logger.debug(&quot;OnSuccess: PositionalStrengthListener&quot;);\n  \n    }\n\n    public void onFailure(Rule rule, Facts facts, Exception exception) {\n        logger.debug(&quot;On failure:PositionalStrengthListener&quot;);\n    }\n\n}\n</code></pre>\n<p>I am implementing this interface: <a href=\"https://github.com/j-easy/easy-rules/blob/master/easy-rules-core/src/main/java/org/jeasy/rules/api/RuleListener.java\" rel=\"nofollow noreferrer\">https://github.com/j-easy/easy-rules/blob/master/easy-rules-core/src/main/java/org/jeasy/rules/api/RuleListener.java</a></p>\n<p>I was focusing on OnSuccess @Override error message and hence didn't add @Override on OnFailure but I get the same error with OnFailure if I add @Override.</p>\n<p>Below is the easy rules dependency in pom.xml file.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.jeasy/easy-rules --&gt;\n    &lt;dependency&gt;\n         &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\n        &lt;artifactId&gt;easy-rules-core&lt;/artifactId&gt;\n         &lt;version&gt;4.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n         &lt;groupId&gt;org.jeasy&lt;/groupId&gt;\n        &lt;artifactId&gt;easy-rules-support&lt;/artifactId&gt;\n         &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","unicode","docusignapi"],"comments":[{"owner":{"account_id":28380,"reputation":2314,"user_id":75787,"accept_rate":65,"display_name":"evilfred"},"score":0,"creation_date":1669231565,"post_id":74551114,"comment_id":131600291,"body_markdown":"weird, this totally wasn&#39;t working and then all of a sudden it did start working. am I hallucinating or did Docusign maybe fix something server-side? or I started hitting a differently configured server? lol","body":"weird, this totally wasn&#39;t working and then all of a sudden it did start working. am I hallucinating or did Docusign maybe fix something server-side? or I started hitting a differently configured server? lol"}],"answers":[{"tags":[],"owner":{"account_id":28380,"reputation":2314,"user_id":75787,"accept_rate":65,"display_name":"evilfred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669231756,"creation_date":1669231756,"answer_id":74552092,"question_id":74551114,"body_markdown":"started working, I guess it was a code problem on my end","title":"Using non-Latin UTF-8 characters in HTML passed to Docusign API","body":"<p>started working, I guess it was a code problem on my end</p>\n"}],"owner":{"account_id":28380,"reputation":2314,"user_id":75787,"accept_rate":65,"display_name":"evilfred"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669231756,"creation_date":1669225886,"question_id":74551114,"body_markdown":"I am passing an HTML document as part of an envelope creation request to the Docusign REST API. When I include multibyte UTF-8 data, it comes out in the resulting Docusign envelope document interpreted as individual characters. For example, when I include the Russian word &quot;банан&quot;, the first letter has UTF-8 encoding U+D0B1 but it comes out as &#208; (U+00D0) and &#177; (U+00B1).\r\n\r\nI was concerned it could be an issue on my side so I enabled Docusign server-side API request logging. I can see in the log of the request that the string is properly logged as &quot;банан&quot; on the way in. This HTML is included as part of a multipart request, and the header for this part includes:\r\n\r\n    --Boundary_4_1344004434_1669225218640\r\n    Content-Type: text/html;charset=utf-8\r\n    Content-Disposition: form-data; filename=&quot;foo.html&quot;; name=&quot;foo.html&quot;; documentid=&quot;1&quot;\r\n\r\nthe header for the entire multipart request includes:\r\n\r\n    Content-Type: multipart/form-data; boundary=Boundary_4_1344004434_1669225218640\r\n    Content-Length: 95556\r\n\r\nHow can I get the resulting document to properly make use of UTF-8 characters? Am I doing something wrong or is it a limitation of Docusign&#39;s HTML -&gt; PDF conversion support?\r\n\r\nNote: including UTF-8 encoded values for text tabs in the same request works perfectly fine. The only issue is characters within the HTML that gets converted by Docusign into PDF.\r\n\r\nETA: the information from https://stackoverflow.com/questions/33764977/docusign-rest-with-utf-8-characters was not helpful. the first response is to use HTML encoding, but I have no way to cleanly apply that to my whole HTML input as I want the &lt; and &gt; characters in tags to stay intact, and the other &quot;solution&quot; the author appears to have went with is just to encode using ISO-8859-1 rather than UTF-8.","title":"Using non-Latin UTF-8 characters in HTML passed to Docusign API","body":"<p>I am passing an HTML document as part of an envelope creation request to the Docusign REST API. When I include multibyte UTF-8 data, it comes out in the resulting Docusign envelope document interpreted as individual characters. For example, when I include the Russian word &quot;банан&quot;, the first letter has UTF-8 encoding U+D0B1 but it comes out as Ð (U+00D0) and ± (U+00B1).</p>\n<p>I was concerned it could be an issue on my side so I enabled Docusign server-side API request logging. I can see in the log of the request that the string is properly logged as &quot;банан&quot; on the way in. This HTML is included as part of a multipart request, and the header for this part includes:</p>\n<pre><code>--Boundary_4_1344004434_1669225218640\nContent-Type: text/html;charset=utf-8\nContent-Disposition: form-data; filename=&quot;foo.html&quot;; name=&quot;foo.html&quot;; documentid=&quot;1&quot;\n</code></pre>\n<p>the header for the entire multipart request includes:</p>\n<pre><code>Content-Type: multipart/form-data; boundary=Boundary_4_1344004434_1669225218640\nContent-Length: 95556\n</code></pre>\n<p>How can I get the resulting document to properly make use of UTF-8 characters? Am I doing something wrong or is it a limitation of Docusign's HTML -&gt; PDF conversion support?</p>\n<p>Note: including UTF-8 encoded values for text tabs in the same request works perfectly fine. The only issue is characters within the HTML that gets converted by Docusign into PDF.</p>\n<p>ETA: the information from <a href=\"https://stackoverflow.com/questions/33764977/docusign-rest-with-utf-8-characters\">Docusign Rest with UTF-8 Characters</a> was not helpful. the first response is to use HTML encoding, but I have no way to cleanly apply that to my whole HTML input as I want the &lt; and &gt; characters in tags to stay intact, and the other &quot;solution&quot; the author appears to have went with is just to encode using ISO-8859-1 rather than UTF-8.</p>\n"},{"tags":["java","android","android-studio","android-viewpager","android-music-player"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669231212,"creation_date":1669231212,"answer_id":74551994,"question_id":74551683,"body_markdown":"check out [`onPageChangeListener`](https://stackoverflow.com/questions/11293300/determine-when-a-viewpager-changes-pages) (first answer with example) or even `SimpleOnPageChangeListener` - play desired music in `onPageSelected(int position)` method","title":"How can I attach a sound to each ViewPager image","body":"<p>check out <a href=\"https://stackoverflow.com/questions/11293300/determine-when-a-viewpager-changes-pages\"><code>onPageChangeListener</code></a> (first answer with example) or even <code>SimpleOnPageChangeListener</code> - play desired music in <code>onPageSelected(int position)</code> method</p>\n"}],"owner":{"account_id":27027795,"reputation":1,"user_id":20584751,"display_name":"AlexP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669231212,"creation_date":1669229208,"question_id":74551683,"body_markdown":"I am newbie. I can&#39;t find an answer. I have a ViewPager with a stack of swipeable images. \r\n\r\nI need to make it so that when a certain picture is opened, the sound that is assigned to it is played. Tell me in which direction to look, so far I can only make the sound play when the first picture is opened, just by launching the MediaPlayer, but this is not at all what I need.","title":"How can I attach a sound to each ViewPager image","body":"<p>I am newbie. I can't find an answer. I have a ViewPager with a stack of swipeable images.</p>\n<p>I need to make it so that when a certain picture is opened, the sound that is assigned to it is played. Tell me in which direction to look, so far I can only make the sound play when the first picture is opened, just by launching the MediaPlayer, but this is not at all what I need.</p>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":11741096,"reputation":9150,"user_id":8593414,"display_name":"Srinivas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1594655396,"creation_date":1594653487,"answer_id":62878918,"question_id":62878601,"body_markdown":"**Simple Way** - Instead of ```df.columns``` use ```concat_ws(&quot;,&quot;,&quot;*&quot;)```, Check below code.\r\n\r\n```\r\ndf.withColumn(&quot;colName&quot;,expr(&quot;concat_ws(&#39;,&#39;,*)&quot;)).show(false)\r\n+---+--------+---+-------------+\r\n|id |name    |age|colName      |\r\n+---+--------+---+-------------+\r\n|1  |Srinivas|29 |1,Srinivas,29|\r\n|2  |Ravi    |30 |2,Ravi,30    |\r\n+---+--------+---+-------------+\r\n```\r\n","title":"how to concat all columns in a spark dataframe, using java?","body":"<p><strong>Simple Way</strong> - Instead of <code>df.columns</code> use <code>concat_ws(&quot;,&quot;,&quot;*&quot;)</code>, Check below code.</p>\n<pre><code>df.withColumn(&quot;colName&quot;,expr(&quot;concat_ws(',',*)&quot;)).show(false)\n+---+--------+---+-------------+\n|id |name    |age|colName      |\n+---+--------+---+-------------+\n|1  |Srinivas|29 |1,Srinivas,29|\n|2  |Ravi    |30 |2,Ravi,30    |\n+---+--------+---+-------------+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6099207,"reputation":6223,"user_id":4758823,"display_name":"Som"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594653817,"creation_date":1594653817,"answer_id":62879045,"question_id":62878601,"body_markdown":"Java has more verbose syntax. \r\nTry this -\r\n```java\r\n df.withColumn(&quot;colName&quot;,concat_ws(&quot;,&quot;, toScalaSeq(Arrays.stream(df.columns()).map(functions::col).collect(Collectors.toList()))));\r\n```\r\nUse below utility to convert java list to scala seq-\r\n```java\r\n  &lt;T&gt; Buffer&lt;T&gt; toScalaSeq(List&lt;T&gt; list) {\r\n        return JavaConversions.asScalaBuffer(list);\r\n    }\r\n```","title":"how to concat all columns in a spark dataframe, using java?","body":"<p>Java has more verbose syntax.\nTry this -</p>\n<pre class=\"lang-java prettyprint-override\"><code> df.withColumn(&quot;colName&quot;,concat_ws(&quot;,&quot;, toScalaSeq(Arrays.stream(df.columns()).map(functions::col).collect(Collectors.toList()))));\n</code></pre>\n<p>Use below utility to convert java list to scala seq-</p>\n<pre class=\"lang-java prettyprint-override\"><code>  &lt;T&gt; Buffer&lt;T&gt; toScalaSeq(List&lt;T&gt; list) {\n        return JavaConversions.asScalaBuffer(list);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1047389,"reputation":603,"user_id":1052118,"accept_rate":100,"display_name":"t3b4n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669230985,"creation_date":1669230985,"answer_id":74551959,"question_id":62878601,"body_markdown":"If someone is looking for a way to concat all the columns of a DataFrame in Scala, this is what worked for me:\r\n\r\n    val df_new = df.withColumn(new_column_name, concat_ws(&quot;-&quot;, df.columns.map(col): _*))","title":"how to concat all columns in a spark dataframe, using java?","body":"<p>If someone is looking for a way to concat all the columns of a DataFrame in Scala, this is what worked for me:</p>\n<pre><code>val df_new = df.withColumn(new_column_name, concat_ws(&quot;-&quot;, df.columns.map(col): _*))\n</code></pre>\n"}],"owner":{"account_id":19068786,"reputation":3,"user_id":13923409,"display_name":"joradani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62878918,"answer_count":3,"score":0,"last_activity_date":1669230985,"creation_date":1594652471,"question_id":62878601,"body_markdown":"This is how I do do for 2 specific columns:\r\n\r\n    dataSet.withColumn(&quot;colName&quot;, concat(dataSet.col(&quot;col1&quot;), lit(&quot;,&quot;),dataSet.col(&quot;col2&quot;) ));\r\n\r\nbut `dataSet.columns()` retruns Sting array, and not Column array.\r\nHow should I craete a  `List&lt;Column&gt;`?\r\n\r\nThanks!","title":"how to concat all columns in a spark dataframe, using java?","body":"<p>This is how I do do for 2 specific columns:</p>\n<pre><code>dataSet.withColumn(&quot;colName&quot;, concat(dataSet.col(&quot;col1&quot;), lit(&quot;,&quot;),dataSet.col(&quot;col2&quot;) ));\n</code></pre>\n<p>but <code>dataSet.columns()</code> retruns Sting array, and not Column array.\nHow should I craete a  <code>List&lt;Column&gt;</code>?</p>\n<p>Thanks!</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":16084161,"reputation":1771,"user_id":11609323,"display_name":"Ran Lupovich"},"score":1,"creation_date":1622743349,"post_id":67825720,"comment_id":119886279,"body_markdown":"sslEnabled is set to true? Your &quot;if&quot; gets executed?","body":"sslEnabled is set to true? Your &quot;if&quot; gets executed?"},{"owner":{"account_id":16084161,"reputation":1771,"user_id":11609323,"display_name":"Ran Lupovich"},"score":1,"creation_date":1622743378,"post_id":67825720,"comment_id":119886284,"body_markdown":"The logs provided not enough to understand the error, please provide more log files","body":"The logs provided not enough to understand the error, please provide more log files"}],"owner":{"account_id":6552810,"reputation":151,"user_id":5066614,"display_name":"Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669230600,"creation_date":1622739701,"question_id":67825720,"body_markdown":"I am trying to do Kafka consumer configuration using ssl enable but not able to connect.\r\nI have used Spring boot 2.3.3.RELEASE and respective Kafka-client &amp; Spring Kafka was pulled by parent dependency.\r\nHere is some code snippet - \r\n\r\n        Map&lt;String, Object&gt; config = new HashMap&lt;String, Object&gt;();\r\n\t\tconfig.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaBootStrapServers);\r\n\t\tconfig.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tconfig.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tconfig.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;true&quot;);\r\n\t\t\r\n\t\tif (sslEnabled) {\r\n\t\t\tconfig.put(SslConfigs.SSL_PROTOCOL_CONFIG, &quot;SSL&quot;);\r\n\t\t\tconfig.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, trustStoreLocation);\r\n\t\t\tconfig.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, trustStorePassword);\r\n\t\t\tconfig.put(SslConfigs.SSL_KEY_PASSWORD_CONFIG, keyStorePassword);\r\n\t\t\tconfig.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, keyStorePassword);\r\n\t\t\tconfig.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, keyStoreLocation);\r\n\t\t}\r\n\r\nI am  getting below warning with above config which keeps on writing the logs every seconds. \r\n\r\n    groupId=dp-cds-consumer-group] Bootstrap broker sd-5ea4-f0b6.apac.nsroot.net:9093 (id: -2 rack: null) disconnected\r\n    2021-06-02 16:30:09.791  WARN 447 --- [Container-0-C-1] o.a.k.c.NetworkClient                    : [Consumer clientId=consumer-dp-cos-consumer-group-2, groupId=dp-cos-consumer-group] Bootstrap broker sd-1c3f-5bcc.apac.nsroot.net:9093 (id: -1 rack: null) disconnected\r\n    2021-06-02 16:30:10.005  WARN 447 --- [Container-0-C-1] o.a.k.c.NetworkClient                    : [Consumer clientId=consumer-dp-etrs-consumer-group-3, groupId=dp-etrs-consumer-group] Bootstrap broker sd-5ea4-f0b6.apac.nsroot.net:9093 (id: -2 rack: null) disconnected\r\n    2021-06-02 16:30:10.283  WARN 447 --- [Container-0-C-1] o.a.k.c.NetworkClient \r\n\r\n Instead of `config.put(SslConfigs.SSL_PROTOCOL_CONFIG, &quot;SSL&quot;);` if i use `config.put(&quot;security.protocol&quot;, securityProtocol);` then i am getting below exception :- \r\n\r\n    java.lang.IllegalArgumentException: No enum constant org.apache.kafka.common.security.auth.SecurityProtocol.SSL.SECURITY.PROTOCOL\r\n\t\r\nKindly suggest if some more config is missing here to be added to resolve the issue.","title":"Spring Kafka consumer not able to connect to broker","body":"<p>I am trying to do Kafka consumer configuration using ssl enable but not able to connect.\nI have used Spring boot 2.3.3.RELEASE and respective Kafka-client &amp; Spring Kafka was pulled by parent dependency.\nHere is some code snippet -</p>\n<pre><code>    Map&lt;String, Object&gt; config = new HashMap&lt;String, Object&gt;();\n    config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaBootStrapServers);\n    config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    config.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;true&quot;);\n    \n    if (sslEnabled) {\n        config.put(SslConfigs.SSL_PROTOCOL_CONFIG, &quot;SSL&quot;);\n        config.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG, trustStoreLocation);\n        config.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG, trustStorePassword);\n        config.put(SslConfigs.SSL_KEY_PASSWORD_CONFIG, keyStorePassword);\n        config.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG, keyStorePassword);\n        config.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG, keyStoreLocation);\n    }\n</code></pre>\n<p>I am  getting below warning with above config which keeps on writing the logs every seconds.</p>\n<pre><code>groupId=dp-cds-consumer-group] Bootstrap broker sd-5ea4-f0b6.apac.nsroot.net:9093 (id: -2 rack: null) disconnected\n2021-06-02 16:30:09.791  WARN 447 --- [Container-0-C-1] o.a.k.c.NetworkClient                    : [Consumer clientId=consumer-dp-cos-consumer-group-2, groupId=dp-cos-consumer-group] Bootstrap broker sd-1c3f-5bcc.apac.nsroot.net:9093 (id: -1 rack: null) disconnected\n2021-06-02 16:30:10.005  WARN 447 --- [Container-0-C-1] o.a.k.c.NetworkClient                    : [Consumer clientId=consumer-dp-etrs-consumer-group-3, groupId=dp-etrs-consumer-group] Bootstrap broker sd-5ea4-f0b6.apac.nsroot.net:9093 (id: -2 rack: null) disconnected\n2021-06-02 16:30:10.283  WARN 447 --- [Container-0-C-1] o.a.k.c.NetworkClient \n</code></pre>\n<p>Instead of <code>config.put(SslConfigs.SSL_PROTOCOL_CONFIG, &quot;SSL&quot;);</code> if i use <code>config.put(&quot;security.protocol&quot;, securityProtocol);</code> then i am getting below exception :-</p>\n<pre><code>java.lang.IllegalArgumentException: No enum constant org.apache.kafka.common.security.auth.SecurityProtocol.SSL.SECURITY.PROTOCOL\n</code></pre>\n<p>Kindly suggest if some more config is missing here to be added to resolve the issue.</p>\n"},{"tags":["java","ssl","open-liberty","jmstoolbox"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1669039310,"post_id":74514603,"comment_id":131545656,"body_markdown":"My guess would be that you are trying to make SSL connection to the non-ssl port.\nYou really need to add `server.xml` to the question and params that you use to establish connection.","body":"My guess would be that you are trying to make SSL connection to the non-ssl port. You really need to add <code>server.xml</code> to the question and params that you use to establish connection."},{"owner":{"account_id":119118,"reputation":6072,"user_id":310606,"accept_rate":74,"display_name":"John Deverall"},"score":0,"creation_date":1669077858,"post_id":74514603,"comment_id":131556836,"body_markdown":"Thanks @Gas. I&#39;ve added server.xml and JMSToolBox config.","body":"Thanks @Gas. I&#39;ve added server.xml and JMSToolBox config."}],"answers":[{"tags":[],"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669112703,"creation_date":1669112703,"answer_id":74531054,"question_id":74514603,"body_markdown":"You have misconfiguration.\r\n\r\nYour JMS server is configured like this:\r\n\r\n    &lt;wasJmsEndpoint id=&quot;InboundJmsCommsEndpoint&quot;\r\n        wasJmsPort=&quot;9126&quot; wasJmsSSLPort=&quot;9127&quot; /&gt;\r\n\r\nSo your ports are 9126 for basic and 9127 for secure, so your connection should be:\r\n\r\n - `localhost:9126:BootstrapSecureMessaging` - for plain\r\n - `localhost:9127:BootstrapSecureMessaging` - for ssl port","title":"OpenLiberty not accepting JMS connection from JMSToolBox","body":"<p>You have misconfiguration.</p>\n<p>Your JMS server is configured like this:</p>\n<pre><code>&lt;wasJmsEndpoint id=&quot;InboundJmsCommsEndpoint&quot;\n    wasJmsPort=&quot;9126&quot; wasJmsSSLPort=&quot;9127&quot; /&gt;\n</code></pre>\n<p>So your ports are 9126 for basic and 9127 for secure, so your connection should be:</p>\n<ul>\n<li><code>localhost:9126:BootstrapSecureMessaging</code> - for plain</li>\n<li><code>localhost:9127:BootstrapSecureMessaging</code> - for ssl port</li>\n</ul>\n"}],"owner":{"account_id":119118,"reputation":6072,"user_id":310606,"accept_rate":74,"display_name":"John Deverall"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74531054,"answer_count":1,"score":0,"last_activity_date":1669230329,"creation_date":1669008546,"question_id":74514603,"body_markdown":"This is a continuation of what I&#39;m [attempting to achieve here][1], connecting JMSToolBox to OpenLiberty. \r\n\r\nI followed the instructions in the [previous question][1] successfully. \r\n\r\nI&#39;m getting the following in message.log in JMSToolBox when I attempt to connect to my JMS app on openliberty. \r\n\r\n[![Error in JMSToolBox][2]][2]\r\n\r\nWhen this happens, on the openliberty side the following gets included in message.log. \r\n\r\n    [21/11/22 16:32:11:341 NZDT] 00000031 com.ibm.ws.recoverylog.spi.RecoveryDirectorImpl              I CWRLS0010I: Performing recovery processing for local WebSphere server (myCoolServer).\r\n    [21/11/22 16:32:11:372 NZDT] 00000031 com.ibm.ws.recoverylog.spi.RecoveryDirectorImpl              I CWRLS0012I: All persistent services have been directed to perform recovery processing for this WebSphere server (MyCoolServer).\r\n    [21/11/22 16:32:11:372 NZDT] 0000006a com.ibm.tx.jta.impl.RecoveryManager                          I WTRN0135I: Transaction service recovering no transactions.\r\n    [21/11/22 16:32:11:414 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0777I: A connection to messaging engine defaultME for destination jms/cool/queue/MyCoolNotificationIn on bus defaultBus has been successfully created.\r\n    [21/11/22 16:32:11:414 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0556I: Connection to the Messaging Engine was successful. The message-driven bean with activation specification jms/cool/as/MyCoolNotificationInbound will now be able to receive the messages from destination jms/cool/queue/MyCoolNotificationIn.\r\n    [21/11/22 16:32:11:415 NZDT] 00000031 com.ibm.ws.jca.service.EndpointActivationService             I J2CA8801I: The message endpoint for activation specification jms/cool/as/MyCoolNotificationInbound and message driven bean application notification-manager#MyCoolNotificationService.jar# is activated.\r\n    [21/11/22 16:32:11:420 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0777I: A connection to messaging engine defaultME for destination jms/cool/queue/ on bus defaultBus has been successfully created.\r\n    [21/11/22 16:32:11:420 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0556I: Connection to the Messaging Engine was successful. The message-driven bean with activation specification jms/cool/as/ will now be able to receive the messages from destination jms/cool/queue/.\r\n    [21/11/22 16:32:11:420 NZDT] 00000031 com.ibm.ws.jca.service.EndpointActivationService             I J2CA8801I: The message endpoint for activation specification jms/cool/as/ and message driven bean application notification-manager#MyCoolNotificationService.jar#RecipientNotificationConsumer is activated.\r\n    [21/11/22 16:32:11:426 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0777I: A connection to messaging engine defaultME for destination jms/cool/queue/ on bus defaultBus has been successfully created.\r\n    [21/11/22 16:32:11:426 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0556I: Connection to the Messaging Engine was successful. The message-driven bean with activation specification jms/cool/as/ will now be able to receive the messages from destination jms/cool/queue/ .\r\n    [21/11/22 16:32:11:426 NZDT] 00000031 com.ibm.ws.jca.service.EndpointActivationService             I J2CA8801I: The message endpoint for activation specification jms/cool/as/ and message driven bean application notification-manager#MyCoolNotificationService.jar# is activated.\r\n    [21/11/22 16:32:11:432 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0777I: A connection to messaging engine defaultME for destination jms/cool/queue/ on bus defaultBus has been successfully created.\r\n    [21/11/22 16:32:11:432 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0556I: Connection to the Messaging Engine was successful. The message-driven bean with activation specification jms/cool/as/ will now be able to receive the messages from destination jms/cool/queue/ .\r\n    [21/11/22 16:32:11:432 NZDT] 00000031 com.ibm.ws.jca.service.EndpointActivationService             I J2CA8801I: The message endpoint for activation specification jms/cool/as/ and message driven bean application notification-manager#MyCoolNotificationService.jar# is activated.\r\n    [21/11/22 16:32:11:437 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0777I: A connection to messaging engine defaultME for destination jms/cool/queue/ on bus defaultBus has been successfully created.\r\n    [21/11/22 16:32:11:437 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0556I: Connection to the Messaging Engine was successful. The message-driven bean with activation specification jms/cool/as/ will now be able to receive the messages from destination jms/cool/queue/ .\r\n    [21/11/22 16:32:11:437 NZDT] 00000031 com.ibm.ws.jca.service.EndpointActivationService             I J2CA8801I: The message endpoint for activation specification jms/cool/as/ and message driven bean application notification-manager#MyCoolNotificationService.jar# is activated.\r\n    [21/11/22 16:32:11:444 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0777I: A connection to messaging engine defaultME for destination jms/cool/queue/ on bus defaultBus has been successfully created.\r\n    [21/11/22 16:32:11:444 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0556I: Connection to the Messaging Engine was successful. The message-driven bean with activation specification jms/cool/as/ will now be able to receive the messages from destination jms/cool/queue/ .\r\n    [21/11/22 16:32:11:444 NZDT] 00000031 com.ibm.ws.jca.service.EndpointActivationService             I J2CA8801I: The message endpoint for activation specification jms/cool/as/ and message driven bean application notification-manager#MyCoolNotificationService.jar#NotificationConsumer is activated.\r\n    [21/11/22 16:32:11:452 NZDT] 00000031 com.ibm.ws.kernel.feature.internal.FeatureManager            A CWWKF0012I: The server installed the following features: [adminCenter-1.0, appClientSupport-1.0, appSecurity-2.0, batch-1.0, beanValidation-1.1, cdi-1.2, concurrent-1.0, distributedMap-1.0, ejb-3.2, ejbHome-3.2, ejbLite-3.2, ejbPersistentTimer-3.2, ejbRemote-3.2, el-3.0, j2eeManagement-1.1, jacc-1.5, jaspic-1.1, javaMail-1.5, javaee-7.0, jaxb-2.2, jaxrs-2.0, jaxrsClient-2.0, jaxws-2.2, jca-1.7, jcaInboundSecurity-1.0, jdbc-4.1, jms-2.0, jmsMdb-3.2, jndi-1.0, jpa-2.1, jpaContainer-2.1, jsf-2.2, json-1.0, jsonp-1.0, jsp-2.3, managedBeans-1.0, mdb-3.2, monitor-1.0, mpConfig-1.4, mpMetrics-2.3, restConnector-2.0, servlet-3.1, ssl-1.0, transportSecurity-1.0, wasJmsClient-2.0, wasJmsSecurity-1.0, wasJmsServer-1.0, webProfile-7.0, websocket-1.1].\r\n    [21/11/22 16:32:11:452 NZDT] 00000031 com.ibm.ws.kernel.feature.internal.FeatureManager            I CWWKF0008I: Feature update completed in 10.158 seconds.\r\n    [21/11/22 16:32:11:452 NZDT] 00000031 com.ibm.ws.kernel.feature.internal.FeatureManager            A CWWKF0011I: The MyCoolServer server is ready to run a smarter planet. The MyCoolServer server started in 10.774 seconds.\r\n    [21/11/22 16:32:22:089 NZDT] 0000003e com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;com.ibm.wsspi.sib.core.exception.SIConnectionLostException: CWSIJ0053E: A network connection was terminated after the peer sent incorrectly formatted information. com.ibm.ws.sib.jfapchannel.impl.InboundTransmissionParser 00170002&quot; at ffdc_22.11.21_16.32.22.0.log\r\n    [21/11/22 16:32:22:143 NZDT] 00000074 com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;com.ibm.ws.sib.jfapchannel.JFapConnectionBrokenException: CWSIJ0051E: An unexpected condition caused a network connection from host 127.0.0.1 using chain InboundBasicMessaging to close. com.ibm.ws.sib.comms.server.GenericTransportReceiveListener.errorOccurred 3-001-0001&quot; at ffdc_22.11.21_16.32.22.1.log\r\n\r\nIn the log referred to by the above I get the following:\r\n\r\n    ------Start of DE processing------ = [21/11/22 16:22:34:728 NZDT]\r\n    Exception = com.ibm.ws.sib.jfapchannel.JFapConnectionBrokenException\r\n    Source = com.ibm.ws.sib.comms.server.GenericTransportReceiveListener.errorOccurred\r\n    probeid = 3-001-0001\r\n    Stack Dump = com.ibm.ws.sib.jfapchannel.JFapConnectionBrokenException: CWSIJ0051E: An unexpected condition caused a network connection from host 127.0.0.1 using chain InboundBasicMessaging to close.\r\n    \tat com.ibm.ws.sib.jfapchannel.server.impl.InboundConnection.invalidateImpl(InboundConnection.java:138)\r\n    \tat com.ibm.ws.sib.jfapchannel.impl.Connection.nonThreadSafeInvalidate(Connection.java:1186)\r\n    \tat com.ibm.ws.sib.jfapchannel.impl.Connection.invalidate(Connection.java:1164)\r\n    \tat com.ibm.ws.sib.jfapchannel.impl.InboundTransmissionParser.parse(InboundTransmissionParser.java:252)\r\n    \tat com.ibm.ws.sib.jfapchannel.impl.ConnectionReadCompletedCallback.complete(ConnectionReadCompletedCallback.java:190)\r\n    \tat com.ibm.ws.sib.jfapchannel.impl.Connection.startNewConversationGeneric(Connection.java:384)\r\n    \tat com.ibm.ws.sib.jfapchannel.server.impl.InboundConnection.startNewConversation(InboundConnection.java:105)\r\n    \tat com.ibm.ws.sib.jfapchannel.server.impl.JFapInboundConnLink.ready(JFapInboundConnLink.java:212)\r\n    \tat com.ibm.ws.tcpchannel.internal.NewConnectionInitialReadCallback.sendToDiscriminators(NewConnectionInitialReadCallback.java:167)\r\n    \tat com.ibm.ws.tcpchannel.internal.NewConnectionInitialReadCallback.complete(NewConnectionInitialReadCallback.java:75)\r\n    \tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:514)\r\n    \tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:584)\r\n    \tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:968)\r\n    \tat com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1057)\r\n    \tat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:245)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \tat java.lang.Thread.run(Thread.java:825)\r\n    Caused by: com.ibm.wsspi.sib.core.exception.SIConnectionLostException: CWSIJ0053E: A network connection was terminated after the peer sent incorrectly formatted information.\r\n    \tat com.ibm.ws.sib.jfapchannel.impl.InboundTransmissionParser.parsePrimaryHeader(InboundTransmissionParser.java:282)\r\n    \tat com.ibm.ws.sib.jfapchannel.impl.InboundTransmissionParser.parse(InboundTransmissionParser.java:213)\r\n    \t... 14 more\r\n    \r\n    Dump of callerThis\r\n    Object type = com.ibm.ws.sib.comms.server.GenericTransportReceiveListener\r\n      CLASS_NAME = &quot;com.ibm.ws.sib.comms.server.GenericTransportReceiveListener&quot;\r\n      tc = class com.ibm.websphere.ras.TraceComponent@1d7ca9dc\r\n        strings[0] = &quot;TraceComponent[com.ibm.ws.sib.comms.server.GenericTransportReceiveListener,class com.ibm.ws.sib.comms.server.GenericTransportReceiveListener,[SIBCommunications],com.ibm.ws.sib.comms.CWSICMessages,null]&quot;\r\n      nls = class com.ibm.ejs.ras.TraceNLS@a16318c4\r\n        resolver = class com.ibm.ws.logging.internal.TraceNLSResolver@b415991e\r\n          tc = class com.ibm.websphere.ras.TraceComponent@ac5c1b4b\r\n          DEBUG_TRACE_NLS_PROPERTY = &quot;com.ibm.ejs.ras.debugTraceNLSResolver&quot;\r\n          debugTraceNLSResolver = false\r\n\r\nBelow is my server.xml\r\n\r\n    &lt;server description=&quot;MyCool Server EAR Server.xml&quot;&gt;\r\n    \t&lt;featureManager&gt;\r\n    \t\t&lt;feature&gt;javaee-7.0&lt;/feature&gt;\r\n    \t\t&lt;feature&gt;jpa-2.1&lt;/feature&gt;\r\n    \t\t&lt;feature&gt;wasJmsClient-2.0&lt;/feature&gt;\r\n    \t\t&lt;feature&gt;wasJmsServer-1.0&lt;/feature&gt;\r\n    \t\t&lt;feature&gt;jms-2.0&lt;/feature&gt;\r\n    \t\t&lt;feature&gt;jmsMdb-3.2&lt;/feature&gt;\r\n    \t\t&lt;feature&gt;jndi-1.0&lt;/feature&gt;\r\n    \t\t&lt;feature&gt;jca-1.7&lt;/feature&gt;\r\n    \t\t&lt;feature&gt;restConnector-2.0&lt;/feature&gt;\r\n    \t\t&lt;feature&gt;ssl-1.0&lt;/feature&gt;\r\n    \t\t&lt;feature&gt;transportSecurity-1.0&lt;/feature&gt;\r\n    \t\t&lt;feature&gt;appSecurity-2.0&lt;/feature&gt;\r\n    \t\t&lt;feature&gt;adminCenter-1.0&lt;/feature&gt;\r\n    \t\t&lt;feature&gt;mpMetrics-2.3&lt;/feature&gt;\r\n    \t&lt;/featureManager&gt;\r\n    \r\n    \t&lt;remoteFileAccess&gt;\r\n        \t&lt;writeDir&gt;${server.config.dir}&lt;/writeDir&gt;\r\n        &lt;/remoteFileAccess&gt;\r\n    \r\n    \t&lt;orb id=&quot;defaultOrb&quot; orbSSLInitTimeout=&quot;40&quot;&gt;\r\n    \t\t&lt;serverPolicy.csiv2&gt;\r\n    \t\t\t&lt;layers&gt;\r\n    \t\t\t\t&lt;attributeLayer identityAssertionEnabled=&quot;false&quot; /&gt;\r\n    \t\t\t\t&lt;authenticationLayer mechanisms=&quot;LTPA&quot;\r\n    \t\t\t\t\testablishTrustInClient=&quot;Supported&quot; /&gt;\r\n    \t\t\t\t&lt;transportLayer\r\n    \t\t\t\t\tsslEnabled=&quot;true&quot; /&gt;\r\n    \t\t\t&lt;/layers&gt;\r\n    \t\t&lt;/serverPolicy.csiv2&gt;\r\n    \t&lt;/orb&gt;\r\n    \t\r\n      &lt;!-- default SSL configuration is defaultSSLSettings --&gt;\r\n      &lt;sslDefault sslRef=&quot;defaultSSLSettings&quot; /&gt;\r\n      \r\n      &lt;ssl id=&quot;defaultSSLSettings&quot;\r\n           keyStoreRef=&quot;defaultKeyStore&quot;\r\n           clientAuthenticationSupported=&quot;true&quot; /&gt;\r\n      &lt;keyStore id=&quot;defaultKeyStore&quot;\r\n                location=&quot;keystore.jks&quot;\r\n                type=&quot;JKS&quot; password=&quot;defaultPWD&quot; /&gt;\r\n    \r\n    \t&lt;basicRegistry id=&quot;basic&quot; realm=&quot;coolRealm&quot;&gt;\r\n    \t\t&lt;user name=&quot;MyCoolUsername&quot; password=&quot;MyCoolPassword&quot; /&gt;\r\n    \t\t\t...\r\n    \t\t\r\n    \t\t&lt;group name=&quot;coolGroup&quot;&gt;\r\n    \t\t\t&lt;member name=&quot;coolMember&quot; /&gt;\r\n    \t\t\t...\r\n    \t\t&lt;/group&gt;\r\n    \t\t\r\n    \t&lt;/basicRegistry&gt;\r\n    \t\r\n    \t&lt;administrator-role&gt;\r\n    \t\t&lt;user&gt;admin&lt;/user&gt;\r\n    \t&lt;/administrator-role&gt;\r\n    \t&lt;reader-role&gt;\r\n    \t\t&lt;user&gt;reader&lt;/user&gt;\r\n    \t&lt;/reader-role&gt;\r\n    \r\n    \t&lt;!-- jndi-1.0 - https://www.ibm.com/docs/en/was-liberty/base?topic=dmdbwl-deploying-message-driven-beans-connect-embedded-messaging-server --&gt;\r\n    \r\n    \t&lt;!-- START JMS CONFIGURATION --&gt;\r\n    \r\n    \t&lt;wasJmsEndpoint id=&quot;InboundJmsCommsEndpoint&quot;\r\n    \t\twasJmsPort=&quot;9126&quot; wasJmsSSLPort=&quot;9127&quot; /&gt;\r\n    \r\n    \t&lt;connectionManager id=&quot;ConMgr3&quot; maxPoolSize=&quot;5&quot; /&gt;\r\n    \r\n    \t&lt;jmsQueueConnectionFactory\r\n    \t\tjndiName=&quot;jndi_JMS_BASE-QCF&quot; connectionManagerRef=&quot;ConMgr6&quot;&gt;\r\n    \t\t&lt;properties.wasJms /&gt;\r\n    \t&lt;/jmsQueueConnectionFactory&gt;\r\n    \r\n    \t&lt;connectionManager id=&quot;ConMgr6&quot; maxPoolSize=&quot;5&quot; /&gt;\r\n    \r\n    \t&lt;messagingEngine&gt;\r\n    \t\t... queues ....\r\n    \t&lt;/messagingEngine&gt;\r\n    \r\n    \t&lt;!-- RecipientNotificationConsumerCRELarge --&gt;\r\n    \t&lt;jmsQueue id=&quot;coolQueue&quot;\r\n    \t\t...\r\n    \t&lt;/jmsQueue&gt;\r\n    \t&lt;jmsActivationSpec id=&quot;xxx&quot;&gt;\r\n    \t\t...\r\n    \t&lt;/jmsActivationSpec&gt;\r\n    \r\n    \t&lt;enterpriseApplication id=&quot;cool-manager&quot;\r\n    \t\ttype=&quot;ear&quot; location=&quot;MyCoolServiceEAR.ear&quot;\r\n    \t\tname=&quot;myCoolService&quot; contextRoot=&quot;/&quot; /&gt;\r\n    \r\n    \t&lt;httpEndpoint host=&quot;*&quot; httpPort=&quot;${default.http.port}&quot;\r\n    \t\thttpsPort=&quot;${default.https.port}&quot; id=&quot;defaultHttpEndpoint&quot; /&gt;\r\n    &lt;/server&gt;\r\n\r\nHere&#39;s my JMSToolBox configuration\r\n\r\n[![JMSToolBox Configuration][3]][3]\r\n\r\nAnd the properties tab\r\n\r\n[![enter image description here][4]][4]\r\n\r\nI have a few theories about why this may be happening. However, they may be wild goose chases, so I&#39;m hoping to get a steer from someone out there who knows this stuff well. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74340286/connecting-jmstoolbox-to-jms-app-on-openliberty/74346308?noredirect=1#comment131313721_74346308\r\n  [2]: https://i.stack.imgur.com/SenY4.png\r\n  [3]: https://i.stack.imgur.com/c3UPZ.png\r\n  [4]: https://i.stack.imgur.com/YF8mA.png","title":"OpenLiberty not accepting JMS connection from JMSToolBox","body":"<p>This is a continuation of what I'm <a href=\"https://stackoverflow.com/questions/74340286/connecting-jmstoolbox-to-jms-app-on-openliberty/74346308?noredirect=1#comment131313721_74346308\">attempting to achieve here</a>, connecting JMSToolBox to OpenLiberty.</p>\n<p>I followed the instructions in the <a href=\"https://stackoverflow.com/questions/74340286/connecting-jmstoolbox-to-jms-app-on-openliberty/74346308?noredirect=1#comment131313721_74346308\">previous question</a> successfully.</p>\n<p>I'm getting the following in message.log in JMSToolBox when I attempt to connect to my JMS app on openliberty.</p>\n<p><a href=\"https://i.stack.imgur.com/SenY4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SenY4.png\" alt=\"Error in JMSToolBox\" /></a></p>\n<p>When this happens, on the openliberty side the following gets included in message.log.</p>\n<pre><code>[21/11/22 16:32:11:341 NZDT] 00000031 com.ibm.ws.recoverylog.spi.RecoveryDirectorImpl              I CWRLS0010I: Performing recovery processing for local WebSphere server (myCoolServer).\n[21/11/22 16:32:11:372 NZDT] 00000031 com.ibm.ws.recoverylog.spi.RecoveryDirectorImpl              I CWRLS0012I: All persistent services have been directed to perform recovery processing for this WebSphere server (MyCoolServer).\n[21/11/22 16:32:11:372 NZDT] 0000006a com.ibm.tx.jta.impl.RecoveryManager                          I WTRN0135I: Transaction service recovering no transactions.\n[21/11/22 16:32:11:414 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0777I: A connection to messaging engine defaultME for destination jms/cool/queue/MyCoolNotificationIn on bus defaultBus has been successfully created.\n[21/11/22 16:32:11:414 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0556I: Connection to the Messaging Engine was successful. The message-driven bean with activation specification jms/cool/as/MyCoolNotificationInbound will now be able to receive the messages from destination jms/cool/queue/MyCoolNotificationIn.\n[21/11/22 16:32:11:415 NZDT] 00000031 com.ibm.ws.jca.service.EndpointActivationService             I J2CA8801I: The message endpoint for activation specification jms/cool/as/MyCoolNotificationInbound and message driven bean application notification-manager#MyCoolNotificationService.jar# is activated.\n[21/11/22 16:32:11:420 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0777I: A connection to messaging engine defaultME for destination jms/cool/queue/ on bus defaultBus has been successfully created.\n[21/11/22 16:32:11:420 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0556I: Connection to the Messaging Engine was successful. The message-driven bean with activation specification jms/cool/as/ will now be able to receive the messages from destination jms/cool/queue/.\n[21/11/22 16:32:11:420 NZDT] 00000031 com.ibm.ws.jca.service.EndpointActivationService             I J2CA8801I: The message endpoint for activation specification jms/cool/as/ and message driven bean application notification-manager#MyCoolNotificationService.jar#RecipientNotificationConsumer is activated.\n[21/11/22 16:32:11:426 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0777I: A connection to messaging engine defaultME for destination jms/cool/queue/ on bus defaultBus has been successfully created.\n[21/11/22 16:32:11:426 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0556I: Connection to the Messaging Engine was successful. The message-driven bean with activation specification jms/cool/as/ will now be able to receive the messages from destination jms/cool/queue/ .\n[21/11/22 16:32:11:426 NZDT] 00000031 com.ibm.ws.jca.service.EndpointActivationService             I J2CA8801I: The message endpoint for activation specification jms/cool/as/ and message driven bean application notification-manager#MyCoolNotificationService.jar# is activated.\n[21/11/22 16:32:11:432 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0777I: A connection to messaging engine defaultME for destination jms/cool/queue/ on bus defaultBus has been successfully created.\n[21/11/22 16:32:11:432 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0556I: Connection to the Messaging Engine was successful. The message-driven bean with activation specification jms/cool/as/ will now be able to receive the messages from destination jms/cool/queue/ .\n[21/11/22 16:32:11:432 NZDT] 00000031 com.ibm.ws.jca.service.EndpointActivationService             I J2CA8801I: The message endpoint for activation specification jms/cool/as/ and message driven bean application notification-manager#MyCoolNotificationService.jar# is activated.\n[21/11/22 16:32:11:437 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0777I: A connection to messaging engine defaultME for destination jms/cool/queue/ on bus defaultBus has been successfully created.\n[21/11/22 16:32:11:437 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0556I: Connection to the Messaging Engine was successful. The message-driven bean with activation specification jms/cool/as/ will now be able to receive the messages from destination jms/cool/queue/ .\n[21/11/22 16:32:11:437 NZDT] 00000031 com.ibm.ws.jca.service.EndpointActivationService             I J2CA8801I: The message endpoint for activation specification jms/cool/as/ and message driven bean application notification-manager#MyCoolNotificationService.jar# is activated.\n[21/11/22 16:32:11:444 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0777I: A connection to messaging engine defaultME for destination jms/cool/queue/ on bus defaultBus has been successfully created.\n[21/11/22 16:32:11:444 NZDT] 00000031 com.ibm.ws.sib.utils.ras.SibMessage                          I  CWSIV0556I: Connection to the Messaging Engine was successful. The message-driven bean with activation specification jms/cool/as/ will now be able to receive the messages from destination jms/cool/queue/ .\n[21/11/22 16:32:11:444 NZDT] 00000031 com.ibm.ws.jca.service.EndpointActivationService             I J2CA8801I: The message endpoint for activation specification jms/cool/as/ and message driven bean application notification-manager#MyCoolNotificationService.jar#NotificationConsumer is activated.\n[21/11/22 16:32:11:452 NZDT] 00000031 com.ibm.ws.kernel.feature.internal.FeatureManager            A CWWKF0012I: The server installed the following features: [adminCenter-1.0, appClientSupport-1.0, appSecurity-2.0, batch-1.0, beanValidation-1.1, cdi-1.2, concurrent-1.0, distributedMap-1.0, ejb-3.2, ejbHome-3.2, ejbLite-3.2, ejbPersistentTimer-3.2, ejbRemote-3.2, el-3.0, j2eeManagement-1.1, jacc-1.5, jaspic-1.1, javaMail-1.5, javaee-7.0, jaxb-2.2, jaxrs-2.0, jaxrsClient-2.0, jaxws-2.2, jca-1.7, jcaInboundSecurity-1.0, jdbc-4.1, jms-2.0, jmsMdb-3.2, jndi-1.0, jpa-2.1, jpaContainer-2.1, jsf-2.2, json-1.0, jsonp-1.0, jsp-2.3, managedBeans-1.0, mdb-3.2, monitor-1.0, mpConfig-1.4, mpMetrics-2.3, restConnector-2.0, servlet-3.1, ssl-1.0, transportSecurity-1.0, wasJmsClient-2.0, wasJmsSecurity-1.0, wasJmsServer-1.0, webProfile-7.0, websocket-1.1].\n[21/11/22 16:32:11:452 NZDT] 00000031 com.ibm.ws.kernel.feature.internal.FeatureManager            I CWWKF0008I: Feature update completed in 10.158 seconds.\n[21/11/22 16:32:11:452 NZDT] 00000031 com.ibm.ws.kernel.feature.internal.FeatureManager            A CWWKF0011I: The MyCoolServer server is ready to run a smarter planet. The MyCoolServer server started in 10.774 seconds.\n[21/11/22 16:32:22:089 NZDT] 0000003e com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;com.ibm.wsspi.sib.core.exception.SIConnectionLostException: CWSIJ0053E: A network connection was terminated after the peer sent incorrectly formatted information. com.ibm.ws.sib.jfapchannel.impl.InboundTransmissionParser 00170002&quot; at ffdc_22.11.21_16.32.22.0.log\n[21/11/22 16:32:22:143 NZDT] 00000074 com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;com.ibm.ws.sib.jfapchannel.JFapConnectionBrokenException: CWSIJ0051E: An unexpected condition caused a network connection from host 127.0.0.1 using chain InboundBasicMessaging to close. com.ibm.ws.sib.comms.server.GenericTransportReceiveListener.errorOccurred 3-001-0001&quot; at ffdc_22.11.21_16.32.22.1.log\n</code></pre>\n<p>In the log referred to by the above I get the following:</p>\n<pre><code>------Start of DE processing------ = [21/11/22 16:22:34:728 NZDT]\nException = com.ibm.ws.sib.jfapchannel.JFapConnectionBrokenException\nSource = com.ibm.ws.sib.comms.server.GenericTransportReceiveListener.errorOccurred\nprobeid = 3-001-0001\nStack Dump = com.ibm.ws.sib.jfapchannel.JFapConnectionBrokenException: CWSIJ0051E: An unexpected condition caused a network connection from host 127.0.0.1 using chain InboundBasicMessaging to close.\n    at com.ibm.ws.sib.jfapchannel.server.impl.InboundConnection.invalidateImpl(InboundConnection.java:138)\n    at com.ibm.ws.sib.jfapchannel.impl.Connection.nonThreadSafeInvalidate(Connection.java:1186)\n    at com.ibm.ws.sib.jfapchannel.impl.Connection.invalidate(Connection.java:1164)\n    at com.ibm.ws.sib.jfapchannel.impl.InboundTransmissionParser.parse(InboundTransmissionParser.java:252)\n    at com.ibm.ws.sib.jfapchannel.impl.ConnectionReadCompletedCallback.complete(ConnectionReadCompletedCallback.java:190)\n    at com.ibm.ws.sib.jfapchannel.impl.Connection.startNewConversationGeneric(Connection.java:384)\n    at com.ibm.ws.sib.jfapchannel.server.impl.InboundConnection.startNewConversation(InboundConnection.java:105)\n    at com.ibm.ws.sib.jfapchannel.server.impl.JFapInboundConnLink.ready(JFapInboundConnLink.java:212)\n    at com.ibm.ws.tcpchannel.internal.NewConnectionInitialReadCallback.sendToDiscriminators(NewConnectionInitialReadCallback.java:167)\n    at com.ibm.ws.tcpchannel.internal.NewConnectionInitialReadCallback.complete(NewConnectionInitialReadCallback.java:75)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:514)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:584)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:968)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1057)\n    at com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:245)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.lang.Thread.run(Thread.java:825)\nCaused by: com.ibm.wsspi.sib.core.exception.SIConnectionLostException: CWSIJ0053E: A network connection was terminated after the peer sent incorrectly formatted information.\n    at com.ibm.ws.sib.jfapchannel.impl.InboundTransmissionParser.parsePrimaryHeader(InboundTransmissionParser.java:282)\n    at com.ibm.ws.sib.jfapchannel.impl.InboundTransmissionParser.parse(InboundTransmissionParser.java:213)\n    ... 14 more\n\nDump of callerThis\nObject type = com.ibm.ws.sib.comms.server.GenericTransportReceiveListener\n  CLASS_NAME = &quot;com.ibm.ws.sib.comms.server.GenericTransportReceiveListener&quot;\n  tc = class com.ibm.websphere.ras.TraceComponent@1d7ca9dc\n    strings[0] = &quot;TraceComponent[com.ibm.ws.sib.comms.server.GenericTransportReceiveListener,class com.ibm.ws.sib.comms.server.GenericTransportReceiveListener,[SIBCommunications],com.ibm.ws.sib.comms.CWSICMessages,null]&quot;\n  nls = class com.ibm.ejs.ras.TraceNLS@a16318c4\n    resolver = class com.ibm.ws.logging.internal.TraceNLSResolver@b415991e\n      tc = class com.ibm.websphere.ras.TraceComponent@ac5c1b4b\n      DEBUG_TRACE_NLS_PROPERTY = &quot;com.ibm.ejs.ras.debugTraceNLSResolver&quot;\n      debugTraceNLSResolver = false\n</code></pre>\n<p>Below is my server.xml</p>\n<pre><code>&lt;server description=&quot;MyCool Server EAR Server.xml&quot;&gt;\n    &lt;featureManager&gt;\n        &lt;feature&gt;javaee-7.0&lt;/feature&gt;\n        &lt;feature&gt;jpa-2.1&lt;/feature&gt;\n        &lt;feature&gt;wasJmsClient-2.0&lt;/feature&gt;\n        &lt;feature&gt;wasJmsServer-1.0&lt;/feature&gt;\n        &lt;feature&gt;jms-2.0&lt;/feature&gt;\n        &lt;feature&gt;jmsMdb-3.2&lt;/feature&gt;\n        &lt;feature&gt;jndi-1.0&lt;/feature&gt;\n        &lt;feature&gt;jca-1.7&lt;/feature&gt;\n        &lt;feature&gt;restConnector-2.0&lt;/feature&gt;\n        &lt;feature&gt;ssl-1.0&lt;/feature&gt;\n        &lt;feature&gt;transportSecurity-1.0&lt;/feature&gt;\n        &lt;feature&gt;appSecurity-2.0&lt;/feature&gt;\n        &lt;feature&gt;adminCenter-1.0&lt;/feature&gt;\n        &lt;feature&gt;mpMetrics-2.3&lt;/feature&gt;\n    &lt;/featureManager&gt;\n\n    &lt;remoteFileAccess&gt;\n        &lt;writeDir&gt;${server.config.dir}&lt;/writeDir&gt;\n    &lt;/remoteFileAccess&gt;\n\n    &lt;orb id=&quot;defaultOrb&quot; orbSSLInitTimeout=&quot;40&quot;&gt;\n        &lt;serverPolicy.csiv2&gt;\n            &lt;layers&gt;\n                &lt;attributeLayer identityAssertionEnabled=&quot;false&quot; /&gt;\n                &lt;authenticationLayer mechanisms=&quot;LTPA&quot;\n                    establishTrustInClient=&quot;Supported&quot; /&gt;\n                &lt;transportLayer\n                    sslEnabled=&quot;true&quot; /&gt;\n            &lt;/layers&gt;\n        &lt;/serverPolicy.csiv2&gt;\n    &lt;/orb&gt;\n    \n  &lt;!-- default SSL configuration is defaultSSLSettings --&gt;\n  &lt;sslDefault sslRef=&quot;defaultSSLSettings&quot; /&gt;\n  \n  &lt;ssl id=&quot;defaultSSLSettings&quot;\n       keyStoreRef=&quot;defaultKeyStore&quot;\n       clientAuthenticationSupported=&quot;true&quot; /&gt;\n  &lt;keyStore id=&quot;defaultKeyStore&quot;\n            location=&quot;keystore.jks&quot;\n            type=&quot;JKS&quot; password=&quot;defaultPWD&quot; /&gt;\n\n    &lt;basicRegistry id=&quot;basic&quot; realm=&quot;coolRealm&quot;&gt;\n        &lt;user name=&quot;MyCoolUsername&quot; password=&quot;MyCoolPassword&quot; /&gt;\n            ...\n        \n        &lt;group name=&quot;coolGroup&quot;&gt;\n            &lt;member name=&quot;coolMember&quot; /&gt;\n            ...\n        &lt;/group&gt;\n        \n    &lt;/basicRegistry&gt;\n    \n    &lt;administrator-role&gt;\n        &lt;user&gt;admin&lt;/user&gt;\n    &lt;/administrator-role&gt;\n    &lt;reader-role&gt;\n        &lt;user&gt;reader&lt;/user&gt;\n    &lt;/reader-role&gt;\n\n    &lt;!-- jndi-1.0 - https://www.ibm.com/docs/en/was-liberty/base?topic=dmdbwl-deploying-message-driven-beans-connect-embedded-messaging-server --&gt;\n\n    &lt;!-- START JMS CONFIGURATION --&gt;\n\n    &lt;wasJmsEndpoint id=&quot;InboundJmsCommsEndpoint&quot;\n        wasJmsPort=&quot;9126&quot; wasJmsSSLPort=&quot;9127&quot; /&gt;\n\n    &lt;connectionManager id=&quot;ConMgr3&quot; maxPoolSize=&quot;5&quot; /&gt;\n\n    &lt;jmsQueueConnectionFactory\n        jndiName=&quot;jndi_JMS_BASE-QCF&quot; connectionManagerRef=&quot;ConMgr6&quot;&gt;\n        &lt;properties.wasJms /&gt;\n    &lt;/jmsQueueConnectionFactory&gt;\n\n    &lt;connectionManager id=&quot;ConMgr6&quot; maxPoolSize=&quot;5&quot; /&gt;\n\n    &lt;messagingEngine&gt;\n        ... queues ....\n    &lt;/messagingEngine&gt;\n\n    &lt;!-- RecipientNotificationConsumerCRELarge --&gt;\n    &lt;jmsQueue id=&quot;coolQueue&quot;\n        ...\n    &lt;/jmsQueue&gt;\n    &lt;jmsActivationSpec id=&quot;xxx&quot;&gt;\n        ...\n    &lt;/jmsActivationSpec&gt;\n\n    &lt;enterpriseApplication id=&quot;cool-manager&quot;\n        type=&quot;ear&quot; location=&quot;MyCoolServiceEAR.ear&quot;\n        name=&quot;myCoolService&quot; contextRoot=&quot;/&quot; /&gt;\n\n    &lt;httpEndpoint host=&quot;*&quot; httpPort=&quot;${default.http.port}&quot;\n        httpsPort=&quot;${default.https.port}&quot; id=&quot;defaultHttpEndpoint&quot; /&gt;\n&lt;/server&gt;\n</code></pre>\n<p>Here's my JMSToolBox configuration</p>\n<p><a href=\"https://i.stack.imgur.com/c3UPZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c3UPZ.png\" alt=\"JMSToolBox Configuration\" /></a></p>\n<p>And the properties tab</p>\n<p><a href=\"https://i.stack.imgur.com/YF8mA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YF8mA.png\" alt=\"enter image description here\" /></a></p>\n<p>I have a few theories about why this may be happening. However, they may be wild goose chases, so I'm hoping to get a steer from someone out there who knows this stuff well.</p>\n"},{"tags":["java","spring","api","web-services","soap"],"owner":{"account_id":25913824,"reputation":11,"user_id":19637497,"display_name":"ron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669230313,"creation_date":1669230313,"question_id":74551866,"body_markdown":"In my current soap API,the response is coming in single line as a string. I need to split the response in three part in xml format.\r\n\r\nFor eg:- current scenario\r\n\\&lt;return\\&gt;Unique\\~status\\~data\\&lt;/return\\&gt;\r\nRequired below format\r\n\r\n\r\nreturn\\&gt;\r\n\r\n1. \\&lt;unique\\&gt;1233\\&lt;/unique\\&gt;\r\n\r\n2. \\&lt;status\\&gt;success\\&lt;/status\\&gt;\r\n\r\n3. \\&lt;data\\&gt;this is the data\\&lt;/data\\&gt;\r\n   \\&lt;/return\\&gt;\r\n\r\nPlease suggest.Thanks","title":"How to include a XML Tag with in the SOAP Response","body":"<p>In my current soap API,the response is coming in single line as a string. I need to split the response in three part in xml format.</p>\n<p>For eg:- current scenario\n&lt;return&gt;Unique~status~data&lt;/return&gt;\nRequired below format</p>\n<p>return&gt;</p>\n<ol>\n<li><p>&lt;unique&gt;1233&lt;/unique&gt;</p>\n</li>\n<li><p>&lt;status&gt;success&lt;/status&gt;</p>\n</li>\n<li><p>&lt;data&gt;this is the data&lt;/data&gt;\n&lt;/return&gt;</p>\n</li>\n</ol>\n<p>Please suggest.Thanks</p>\n"},{"tags":["java","visual-studio-code","intellij-idea","coding-style"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":2,"creation_date":1666038443,"post_id":74102858,"comment_id":130836461,"body_markdown":"You could take a look at Editorconfig: https://editorconfig.org/","body":"You could take a look at Editorconfig: <a href=\"https://editorconfig.org/\" rel=\"nofollow noreferrer\">editorconfig.org</a>"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1666066004,"post_id":74102858,"comment_id":130841215,"body_markdown":"It might help to clarify what sorts of things are being formatted incorrectly.","body":"It might help to clarify what sorts of things are being formatted incorrectly."},{"owner":{"account_id":19257961,"reputation":1,"user_id":14074463,"display_name":"Simon Walenkamp"},"score":0,"creation_date":1666091347,"post_id":74102858,"comment_id":130848240,"body_markdown":"@RyanM Simple stuff like tab size and indentation.","body":"@RyanM Simple stuff like tab size and indentation."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666065690,"creation_date":1666039486,"answer_id":74103053,"question_id":74102858,"body_markdown":"# EditorConfig\r\n\r\nAs marstran noted in [a comment](https://stackoverflow.com/questions/74102858/is-it-possible-to-use-same-java-code-style-in-multiple-code-editors#comment130836461_74102858), [EditorConfig][1] is an attempt at standardizing those settings.\r\n\r\n - IntelliJ supports EditorConfig; see [this page][2].\r\n - VisualStudio supports EditorConfig.\r\n - VisualStudio Code supports EditorConfig through a plug-in. \r\n\r\n\r\n  [1]: https://editorconfig.org/\r\n  [2]: https://www.jetbrains.com/idea/guide/tutorials/reformatting-code/working-with-editor-configs/","title":"Is it possible to use same Java code style in multiple code editors?","body":"<h1>EditorConfig</h1>\n<p>As marstran noted in <a href=\"https://stackoverflow.com/questions/74102858/is-it-possible-to-use-same-java-code-style-in-multiple-code-editors#comment130836461_74102858\">a comment</a>, <a href=\"https://editorconfig.org/\" rel=\"nofollow noreferrer\">EditorConfig</a> is an attempt at standardizing those settings.</p>\n<ul>\n<li>IntelliJ supports EditorConfig; see <a href=\"https://www.jetbrains.com/idea/guide/tutorials/reformatting-code/working-with-editor-configs/\" rel=\"nofollow noreferrer\">this page</a>.</li>\n<li>VisualStudio supports EditorConfig.</li>\n<li>VisualStudio Code supports EditorConfig through a plug-in.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4244861,"reputation":171,"user_id":3473837,"display_name":"rchapin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669229523,"creation_date":1669229523,"answer_id":74551738,"question_id":74102858,"body_markdown":"It seems as though the answer is &quot;no&quot; depending on the IDEs that your team uses.\r\n\r\nThe TLDR; is that both **VSCode** and **Intellij** interpret Eclipse based style xml files differently.\r\n\r\nI dug into this today and it seems that the root of the problem is how various IDEs interpret the rules defined in the xml style guides.  I tried the following with VSCode, IntelliJ Ultimate Edition, and Eclipse (all of which were the latest versions as of the writing of this post):\r\n\r\n - Configured VSCode to use the Google style guide by adding the following to the user&#39;s ```settings.json```\r\n   ```\r\n   &quot;java.format.settings.url&quot;: &quot;https://raw.githubusercontent.com/google/styleguide/gh-pages/eclipse-java-google-style.xml&quot;,\r\n   ```\r\n - Imported the same style guide into Intellij\r\n - Imported the same style guide into Eclipse\r\n - For each IDE, took a sample Java class and reformatted the code\r\n\r\nBoth Eclipse and VSCode reformatted the code exactly the same way.  Intellij interpreted the xml style differently resulting in the following.  **VSCode formatting is on the left and Intellij is on the right.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt seems that without digging through the Intellij source code and applying changes such that it will then interpret the style xml the same as the other IDEs then there is not going to be an easy way to ensure that these two IDEs (and perhaps others) apply code formatting in exactly the same way.\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vWgsL.png","title":"Is it possible to use same Java code style in multiple code editors?","body":"<p>It seems as though the answer is &quot;no&quot; depending on the IDEs that your team uses.</p>\n<p>The TLDR; is that both <strong>VSCode</strong> and <strong>Intellij</strong> interpret Eclipse based style xml files differently.</p>\n<p>I dug into this today and it seems that the root of the problem is how various IDEs interpret the rules defined in the xml style guides.  I tried the following with VSCode, IntelliJ Ultimate Edition, and Eclipse (all of which were the latest versions as of the writing of this post):</p>\n<ul>\n<li>Configured VSCode to use the Google style guide by adding the following to the user's <code>settings.json</code>\n<pre><code>&quot;java.format.settings.url&quot;: &quot;https://raw.githubusercontent.com/google/styleguide/gh-pages/eclipse-java-google-style.xml&quot;,\n</code></pre>\n</li>\n<li>Imported the same style guide into Intellij</li>\n<li>Imported the same style guide into Eclipse</li>\n<li>For each IDE, took a sample Java class and reformatted the code</li>\n</ul>\n<p>Both Eclipse and VSCode reformatted the code exactly the same way.  Intellij interpreted the xml style differently resulting in the following.  <strong>VSCode formatting is on the left and Intellij is on the right.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/vWgsL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vWgsL.png\" alt=\"enter image description here\" /></a></p>\n<p>It seems that without digging through the Intellij source code and applying changes such that it will then interpret the style xml the same as the other IDEs then there is not going to be an easy way to ensure that these two IDEs (and perhaps others) apply code formatting in exactly the same way.</p>\n"}],"owner":{"account_id":19257961,"reputation":1,"user_id":14074463,"display_name":"Simon Walenkamp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":657,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":2,"score":-4,"last_activity_date":1669229523,"creation_date":1666038288,"question_id":74102858,"body_markdown":"I&#39;m currently working on a Java project where multiple developers are using different code editors. Some use VSCode while others use IntelliJ. I have been looking into a way for all devs to use the same code style config without any luck.\r\nI have tried to use .editorconfig (works in VSCode with extention. IntelliJ has native support)\r\n\r\nTried using the Google Java Code Style XML. (works in VSCode with extention. IntelliJ has native support)\r\n(https://github.com/google/styleguide/blob/gh-pages/eclipse-java-google-style.xml)\r\n\r\nEvery solution results in VSCode not formatting a particular file the same way IntelliJ does.\r\n\r\nA quick google search did not help.\r\n\r\nHow can I, as a Java developer, manage code style in large projects where multiple devs use a variety of code editors?","title":"Is it possible to use same Java code style in multiple code editors?","body":"<p>I'm currently working on a Java project where multiple developers are using different code editors. Some use VSCode while others use IntelliJ. I have been looking into a way for all devs to use the same code style config without any luck.\nI have tried to use .editorconfig (works in VSCode with extention. IntelliJ has native support)</p>\n<p>Tried using the Google Java Code Style XML. (works in VSCode with extention. IntelliJ has native support)\n(<a href=\"https://github.com/google/styleguide/blob/gh-pages/eclipse-java-google-style.xml\" rel=\"nofollow noreferrer\">https://github.com/google/styleguide/blob/gh-pages/eclipse-java-google-style.xml</a>)</p>\n<p>Every solution results in VSCode not formatting a particular file the same way IntelliJ does.</p>\n<p>A quick google search did not help.</p>\n<p>How can I, as a Java developer, manage code style in large projects where multiple devs use a variety of code editors?</p>\n"},{"tags":["java","multithreading","process","java-threads"],"comments":[{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":4,"creation_date":1669229801,"post_id":74551728,"comment_id":131599828,"body_markdown":"Any time you find yourself wanting to reach into a thread from the outside and force it to do something, you are thinking about the problem wrong. Code the threads to use the amount of memory you want them to use and if a thread detects that it is using more memory than you think it should use, have it free some, terminate itself, or do whatever you think is write. Code the threads to do only what you want them to do so you don&#39;t need to &#39;reach in from the oustide&#39; and coerce them.","body":"Any time you find yourself wanting to reach into a thread from the outside and force it to do something, you are thinking about the problem wrong. Code the threads to use the amount of memory you want them to use and if a thread detects that it is using more memory than you think it should use, have it free some, terminate itself, or do whatever you think is write. Code the threads to do only what you want them to do so you don&#39;t need to &#39;reach in from the oustide&#39; and coerce them."},{"owner":{"account_id":18936940,"reputation":95,"user_id":13817797,"display_name":"Pradip Sodha"},"score":0,"creation_date":1669267594,"post_id":74551728,"comment_id":131606851,"body_markdown":"sounds good, but my threads actually retrieve result sets (size depends on the user query, it can be 10 rows or 1M rows), and things are snowflake JDBC don&#39;t support cursor, so it will bring all data to thread and due to that thread other jobs will be aborted, I just want to make sure other jobs don&#39;t get killed, whether it&#39;s archive by outside code and some in-built feature","body":"sounds good, but my threads actually retrieve result sets (size depends on the user query, it can be 10 rows or 1M rows), and things are snowflake JDBC don&#39;t support cursor, so it will bring all data to thread and due to that thread other jobs will be aborted, I just want to make sure other jobs don&#39;t get killed, whether it&#39;s archive by outside code and some in-built feature"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1669280209,"post_id":74551728,"comment_id":131610166,"body_markdown":"There is no such mechanism. You can&#39;t apply allocation limits to individual threads.","body":"There is no such mechanism. You can&#39;t apply allocation limits to individual threads."},{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":1,"creation_date":1669320545,"post_id":74551728,"comment_id":131622856,"body_markdown":"@PradipSodha Then you need to isolate those operations. Threads are not the right tool for doing that. Maybe processes are.","body":"@PradipSodha Then you need to isolate those operations. Threads are not the right tool for doing that. Maybe processes are."}],"owner":{"account_id":18936940,"reputation":95,"user_id":13817797,"display_name":"Pradip Sodha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669229458,"creation_date":1669229458,"question_id":74551728,"body_markdown":"## Contex\r\nI have one java process(main thread), which will spin up more than one thread, and each thread may require heavy memory usage, and that one java process will work as a driver.\r\n\r\n## Situation\r\nIf one of that threads consumes all memory, then all other threads and java processes will be killed by OS\r\n\r\n## Expectation\r\nis that any way to set max memory for a particular thread, if it crosses that line then only that thread kills?\r\n\r\n## what I tried\r\n1. I know When a Java application is started, we use the JVM option -Xms and -Xmx to control the size of the heap and -Xss to control the stack size, but this is only for java applications not for thread level.\r\n\r\n\r\n2. custom code: write another thread that will track memory usage and if any cross that line then kill it, but threads use shared heap memory so it&#39;s hard to calculate which threads consume but I can use [TheadLocal][1] for calculation.\r\n\r\nbut I looking for a more reasonable and affordable way to do that\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/lang/ThreadLocal.html","title":"set max memory for particular java thread","body":"<h2>Contex</h2>\n<p>I have one java process(main thread), which will spin up more than one thread, and each thread may require heavy memory usage, and that one java process will work as a driver.</p>\n<h2>Situation</h2>\n<p>If one of that threads consumes all memory, then all other threads and java processes will be killed by OS</p>\n<h2>Expectation</h2>\n<p>is that any way to set max memory for a particular thread, if it crosses that line then only that thread kills?</p>\n<h2>what I tried</h2>\n<ol>\n<li><p>I know When a Java application is started, we use the JVM option -Xms and -Xmx to control the size of the heap and -Xss to control the stack size, but this is only for java applications not for thread level.</p>\n</li>\n<li><p>custom code: write another thread that will track memory usage and if any cross that line then kill it, but threads use shared heap memory so it's hard to calculate which threads consume but I can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ThreadLocal.html\" rel=\"nofollow noreferrer\">TheadLocal</a> for calculation.</p>\n</li>\n</ol>\n<p>but I looking for a more reasonable and affordable way to do that</p>\n"},{"tags":["java","android","android-studio","pdf-viewer"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1485901321,"creation_date":1485901321,"answer_id":41968550,"question_id":41968317,"body_markdown":"Download the PDF yourself, using your favorite HTTP client API. Then, use `fromFile()` rather than `fromUri()`. \r\n","title":"Download PDF file for offline viewing","body":"<p>Download the PDF yourself, using your favorite HTTP client API. Then, use <code>fromFile()</code> rather than <code>fromUri()</code>. </p>\n"}],"owner":{"account_id":3807602,"reputation":2351,"user_id":3159529,"accept_rate":80,"display_name":"Adedoyin Akande"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41968550,"answer_count":1,"score":0,"last_activity_date":1669229294,"creation_date":1485900161,"question_id":41968317,"body_markdown":"I&#39;m trying to cache PDF files on the user&#39;s device and open them within my app at a later time. \r\n\r\nWith this package: https://github.com/barteksc/AndroidPdfViewer\r\n\r\nI use `pdfView.fromUri(uri)` which loads the file from the URL every time the page is loaded.\r\nIs there a function I can use to cache these files for offline viewing?","title":"Download PDF file for offline viewing","body":"<p>I'm trying to cache PDF files on the user's device and open them within my app at a later time.</p>\n<p>With this package: <a href=\"https://github.com/barteksc/AndroidPdfViewer\" rel=\"nofollow noreferrer\">https://github.com/barteksc/AndroidPdfViewer</a></p>\n<p>I use <code>pdfView.fromUri(uri)</code> which loads the file from the URL every time the page is loaded.\nIs there a function I can use to cache these files for offline viewing?</p>\n"},{"tags":["java","arrays","algorithm","sorting","integer"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":3,"creation_date":1669226023,"post_id":74551109,"comment_id":131598632,"body_markdown":"Please, share your **attempt** and specify the problem you&#39;ve encountered. See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"Please, share your <b>attempt</b> and specify the problem you&#39;ve encountered. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"},{"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"score":1,"creation_date":1669226912,"post_id":74551109,"comment_id":131598922,"body_markdown":"I have no idea what you are talking about :), What do you want achive","body":"I have no idea what you are talking about :), What do you want achive"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1669229009,"post_id":74551109,"comment_id":131599577,"body_markdown":"@viking, Given an integer, the O/P wants to process the integer digit-by-digit, finding the digit with the greatest value and the digit with the minimum value.  Presumably, this is all in base ten.","body":"@viking, Given an integer, the O/P wants to process the integer digit-by-digit, finding the digit with the greatest value and the digit with the minimum value.  Presumably, this is all in base ten."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1669229243,"post_id":74551109,"comment_id":131599652,"body_markdown":"One way to process an integer digit-by-digit is to use the division (`/`) and mod (`%`) operators:  If your number is `n`, the expression `j = n % 10` results in `j` having the value of the least significant (i.e., rightmost) digit.  `n = n / 10` chops off the least significant digit.","body":"One way to process an integer digit-by-digit is to use the division (<code>&#47;</code>) and mod (<code>%</code>) operators:  If your number is <code>n</code>, the expression <code>j = n % 10</code> results in <code>j</code> having the value of the least significant (i.e., rightmost) digit.  <code>n = n &#47; 10</code> chops off the least significant digit."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1669234141,"post_id":74551109,"comment_id":131600973,"body_markdown":"Please show an effort on your part before expecting anyone else to show one. BTW I would probably use a stream operation.","body":"Please show an effort on your part before expecting anyone else to show one. BTW I would probably use a stream operation."},{"owner":{"account_id":9591874,"reputation":5,"user_id":7122460,"display_name":"lunesmonday"},"score":0,"creation_date":1669234451,"post_id":74551109,"comment_id":131601032,"body_markdown":"This was asked in midterm exam and I was not able to show effort. The only thing I did was to think input as string and use charAt(index) to compare numbers","body":"This was asked in midterm exam and I was not able to show effort. The only thing I did was to think input as string and use charAt(index) to compare numbers"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1669234973,"post_id":74551109,"comment_id":131601177,"body_markdown":"Presumably, you have more time to attempt a solution now than you did during the midterm. It is expected here that your question should show an attempt.","body":"Presumably, you have more time to attempt a solution now than you did during the midterm. It is expected here that your question should show an attempt."}],"answers":[{"tags":[],"owner":{"account_id":23842063,"reputation":646,"user_id":17846993,"display_name":"bighugedev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669228180,"creation_date":1669227871,"answer_id":74551462,"question_id":74551109,"body_markdown":"If you choose to work with the number representing it as a string, that means you&#39;ll have to be using the `charAt(int index)` method to retrieve an individual character from the string.\r\n\r\nThen, to convert any number character (that is, &#39;0&#39;, &#39;1&#39;, &#39;2&#39; ... &#39;9&#39;) to the number itself, subtract character `&#39;0&#39;` from it (`&#39;0&#39;` will be explicitly converted to int (ASCII code) at runtime), and you&#39;ll get the number itself in int representation.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    char charNine = &#39;9&#39;;\r\n    int intNine = charNine - &#39;0&#39;;\r\n    System.out.println(intNine);\r\n}\r\n```\r\nThe output is `9`.","title":"How can I find minimum element of an integer in Java?","body":"<p>If you choose to work with the number representing it as a string, that means you'll have to be using the <code>charAt(int index)</code> method to retrieve an individual character from the string.</p>\n<p>Then, to convert any number character (that is, '0', '1', '2' ... '9') to the number itself, subtract character <code>'0'</code> from it (<code>'0'</code> will be explicitly converted to int (ASCII code) at runtime), and you'll get the number itself in int representation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    char charNine = '9';\n    int intNine = charNine - '0';\n    System.out.println(intNine);\n}\n</code></pre>\n<p>The output is <code>9</code>.</p>\n"},{"tags":[],"owner":{"account_id":26963252,"reputation":41,"user_id":20530585,"display_name":"programmerlife"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669228238,"creation_date":1669228238,"answer_id":74551521,"question_id":74551109,"body_markdown":"This should work:\r\n\r\n    int number = Integer.valueOf(input);\r\n    int largest = 0;\r\n    int smallest = 9;\r\n \r\n    while(number != 0)\r\n    {\r\n        int rem = number % 10;\r\n        largest = Math.max(rem, largest);\r\n        smallest = Math.min(rem, smallest);\r\n        number = number / 10;\r\n    }\r\n    System.out.println(largest + &quot; &quot; + smallest);","title":"How can I find minimum element of an integer in Java?","body":"<p>This should work:</p>\n<pre><code>int number = Integer.valueOf(input);\nint largest = 0;\nint smallest = 9;\n\nwhile(number != 0)\n{\n    int rem = number % 10;\n    largest = Math.max(rem, largest);\n    smallest = Math.min(rem, smallest);\n    number = number / 10;\n}\nSystem.out.println(largest + &quot; &quot; + smallest);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669229168,"creation_date":1669229168,"answer_id":74551677,"question_id":74551109,"body_markdown":"You can parse the string input using wrapper classes util methods. The rest of the code you can refer below.\r\n\r\n    int[] getLargestAndSmallestDigits(String in){\r\n        int n = Integer.valueOf(in);\r\n        if (n==0) {\r\n            return new int[]{0,0};\r\n        }\r\n        int[] ans = {0,9};\r\n        \r\n        while(n != 0)\r\n        {\r\n            int r = n % 10;\r\n            ans[0] = Math.min(r, ans[0]);\r\n            ans[1] = Math.max(r, ans[0]);\r\n            n = n / 10;\r\n        }\r\n        return ans;\r\n    }","title":"How can I find minimum element of an integer in Java?","body":"<p>You can parse the string input using wrapper classes util methods. The rest of the code you can refer below.</p>\n<pre><code>int[] getLargestAndSmallestDigits(String in){\n    int n = Integer.valueOf(in);\n    if (n==0) {\n        return new int[]{0,0};\n    }\n    int[] ans = {0,9};\n    \n    while(n != 0)\n    {\n        int r = n % 10;\n        ans[0] = Math.min(r, ans[0]);\n        ans[1] = Math.max(r, ans[0]);\n        n = n / 10;\n    }\n    return ans;\n}\n</code></pre>\n"}],"owner":{"account_id":9591874,"reputation":5,"user_id":7122460,"display_name":"lunesmonday"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1669236226,"answer_count":3,"score":-3,"last_activity_date":1669229168,"creation_date":1669225857,"question_id":74551109,"body_markdown":"Imagine we are getting input from user as integer. I want my code to return minimum and maximum numbers in this integer value. For example, if user enters 56389, the code should display \r\n\r\nMinimum number: 3\r\nMaximum number: 9\r\n\r\nIf user enters single digit integer, let&#39;s say 7, the output should be:\r\n\r\nMinimum number: 7\r\nMaximum number: 7\r\n\r\n\r\n\r\nI am trying to declare input as String instead of integer and compare all elements of the String with charAt(i) method. However, I cannot get the result.\r\n\r\nI would be glad if you can help me!","title":"How can I find minimum element of an integer in Java?","body":"<p>Imagine we are getting input from user as integer. I want my code to return minimum and maximum numbers in this integer value. For example, if user enters 56389, the code should display</p>\n<p>Minimum number: 3\nMaximum number: 9</p>\n<p>If user enters single digit integer, let's say 7, the output should be:</p>\n<p>Minimum number: 7\nMaximum number: 7</p>\n<p>I am trying to declare input as String instead of integer and compare all elements of the String with charAt(i) method. However, I cannot get the result.</p>\n<p>I would be glad if you can help me!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":3,"creation_date":1374066419,"post_id":17700602,"comment_id":25792478,"body_markdown":"A static nested class does not have an implicit reference to any instance of the surrounding class. You would need to pass it a reference to the instance you want it to modify. Why is class B static?","body":"A static nested class does not have an implicit reference to any instance of the surrounding class. You would need to pass it a reference to the instance you want it to modify. Why is class B static?"},{"owner":{"account_id":1107485,"reputation":1005,"user_id":1098606,"accept_rate":64,"display_name":"Karn_way"},"score":0,"creation_date":1374066965,"post_id":17700602,"comment_id":25792862,"body_markdown":"Class B was generating just a template structure for UI display, now i am performing some operation to get the value and that needs to set to surrounding class . is this a design issue?","body":"Class B was generating just a template structure for UI display, now i am performing some operation to get the value and that needs to set to surrounding class . is this a design issue?"},{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":0,"creation_date":1374067051,"post_id":17700602,"comment_id":25792912,"body_markdown":"If you need each B instance to relate to a specific A instance, and be able to operate on it, the simplest solution would be to make B non-static, and establish that relationship at construction time.","body":"If you need each B instance to relate to a specific A instance, and be able to operate on it, the simplest solution would be to make B non-static, and establish that relationship at construction time."},{"owner":{"account_id":5519,"reputation":70063,"user_id":8922,"accept_rate":75,"display_name":"Sebastian Redl"},"score":1,"creation_date":1374068017,"post_id":17700602,"comment_id":25793550,"body_markdown":"I can reformulate the comment as &quot;I don&#39;t have an A, but I want to change its list.&quot; Does that make it more obvious that your question doesn&#39;t make sense?","body":"I can reformulate the comment as &quot;I don&#39;t have an A, but I want to change its list.&quot; Does that make it more obvious that your question doesn&#39;t make sense?"}],"answers":[{"tags":[],"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1374066588,"creation_date":1374066588,"answer_id":17700691,"question_id":17700602,"body_markdown":"You generally use static classes when you **don&#39;t** need access to the instance variables. If you need to access the instance variables make the class non-static.","title":"Can I access an outer class&#39;s field from a static inner class?","body":"<p>You generally use static classes when you <strong>don't</strong> need access to the instance variables. If you need to access the instance variables make the class non-static.</p>\n"},{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1374066771,"creation_date":1374066771,"answer_id":17700756,"question_id":17700602,"body_markdown":"No, you&#39;ll need a non-`static` inner class to do that.\n\nFrom the [JLS &#167;8.5.1][1]:\n\n&gt;The `static` keyword may modify the declaration of a member type `C` within the body of a non-inner class or interface `T`. Its effect is to declare that `C` is not an inner class. Just as a static method of `T` has no current instance of T in its body, `C` also has no current instance of `T`, nor does it have any lexically enclosing instances. \n&gt;\n&gt;**It is a compile-time error if a `static` class contains a usage of a non-static member of an enclosing class.** \n\n\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.5.1","title":"Can I access an outer class&#39;s field from a static inner class?","body":"<p>No, you'll need a non-<code>static</code> inner class to do that.</p>\n<p>From the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.5.1\" rel=\"noreferrer\">JLS §8.5.1</a>:</p>\n<blockquote>\n<p>The <code>static</code> keyword may modify the declaration of a member type <code>C</code> within the body of a non-inner class or interface <code>T</code>. Its effect is to declare that <code>C</code> is not an inner class. Just as a static method of <code>T</code> has no current instance of T in its body, <code>C</code> also has no current instance of <code>T</code>, nor does it have any lexically enclosing instances.</p>\n<p><strong>It is a compile-time error if a <code>static</code> class contains a usage of a non-static member of an enclosing class.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1914874,"reputation":13438,"user_id":1727645,"accept_rate":81,"display_name":"Prasad Kharkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374067155,"creation_date":1374066781,"answer_id":17700758,"question_id":17700602,"body_markdown":"In your code, `list` is an instance variable of class `A` and `B` is nested static class. The rules of accessing static and not static member don&#39;t change for nested static class. \r\n\r\n - The variable `list` is instance variable so a can&#39;t be accessed from static context.\r\n - To enable this, you need to change static nester class to inner class.\r\n\r\n \r\n\r\n        class A {\r\n        private List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n          public class B {\r\n             public void someMethod(){\r\n                 list.add(&quot;abc&quot;);\r\n             }\r\n          }\r\n        }\r\n\r\n","title":"Can I access an outer class&#39;s field from a static inner class?","body":"<p>In your code, <code>list</code> is an instance variable of class <code>A</code> and <code>B</code> is nested static class. The rules of accessing static and not static member don't change for nested static class. </p>\n\n<ul>\n<li>The variable <code>list</code> is instance variable so a can't be accessed from static context.</li>\n<li><p>To enable this, you need to change static nester class to inner class.</p>\n\n<pre><code>class A {\nprivate List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n  public class B {\n     public void someMethod(){\n         list.add(\"abc\");\n     }\n  }\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":2,"up_vote_count":15,"is_accepted":true,"score":13,"last_activity_date":1669229162,"creation_date":1374068406,"answer_id":17701360,"question_id":17700602,"body_markdown":"As you can see from other answers that you will need a non-static inner class to do that.\r\n\r\nIf you really cannot make your inner class non-static then you can add required getter and setter method in outer class and access them by creating an instance of outer class from inside inner static class:\r\n\r\n    public class A {\r\n    \tprivate List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    \tpublic List&lt;String&gt; getList() {\r\n    \t\treturn list;\r\n    \t}\r\n    \tpublic void setList(List&lt;String&gt; list) {\r\n    \t\tthis.list = list;\r\n    \t}\r\n    \tpublic static class B {\r\n    \t\t// i want to update list here without making list as static\r\n    \t\tvoid updList() {\r\n    \t\t\tA a = new A();\r\n    \t\t\ta.setList(someOtherList);\r\n    \t\t\tSystem.out.println(a.getList());\r\n    \t\t}\r\n    \t}\r\n    } ","title":"Can I access an outer class&#39;s field from a static inner class?","body":"<p>As you can see from other answers that you will need a non-static inner class to do that.</p>\n<p>If you really cannot make your inner class non-static then you can add required getter and setter method in outer class and access them by creating an instance of outer class from inside inner static class:</p>\n<pre><code>public class A {\n    private List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    public List&lt;String&gt; getList() {\n        return list;\n    }\n    public void setList(List&lt;String&gt; list) {\n        this.list = list;\n    }\n    public static class B {\n        // i want to update list here without making list as static\n        void updList() {\n            A a = new A();\n            a.setList(someOtherList);\n            System.out.println(a.getList());\n        }\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11168451,"reputation":11,"user_id":8196297,"display_name":"Confused Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504946252,"creation_date":1504946252,"answer_id":46128766,"question_id":17700602,"body_markdown":"`private List&lt;String&gt; list;`\r\n\r\nHere ***list*** is an instance variable while the inner class is static which means that ***class B*** is the same across different ***class A*** instances; one cannot access it. And, that too for a very good and obvious reason.\r\n\r\nOne solution that you can use is pass reference of member ***list*** to the constructor of ***class B*** with a ***weakReference*** to avoid memory leak. \r\n\r\nSomething like this:\r\n\r\n \r\n\r\n    class A {\r\n        private List&lt;String&gt; list;\r\n    \r\n        public static class B {\r\n            WeakReference&lt;List&lt;String&gt;&gt; innerList;\r\n            //constructor\r\n            B(WeakReference&lt;List&lt;String&gt;&gt; innerList){\r\n                this.innerList = innerList;\r\n            }\r\n        }\r\n     \r\n\r\n","title":"Can I access an outer class&#39;s field from a static inner class?","body":"<p><code>private List&lt;String&gt; list;</code></p>\n\n<p>Here <strong><em>list</em></strong> is an instance variable while the inner class is static which means that <strong><em>class B</em></strong> is the same across different <strong><em>class A</em></strong> instances; one cannot access it. And, that too for a very good and obvious reason.</p>\n\n<p>One solution that you can use is pass reference of member <strong><em>list</em></strong> to the constructor of <strong><em>class B</em></strong> with a <strong><em>weakReference</em></strong> to avoid memory leak. </p>\n\n<p>Something like this:</p>\n\n<pre><code>class A {\n    private List&lt;String&gt; list;\n\n    public static class B {\n        WeakReference&lt;List&lt;String&gt;&gt; innerList;\n        //constructor\n        B(WeakReference&lt;List&lt;String&gt;&gt; innerList){\n            this.innerList = innerList;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1107485,"reputation":1005,"user_id":1098606,"accept_rate":64,"display_name":"Karn_way"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27424,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":17701360,"answer_count":5,"score":24,"last_activity_date":1669229162,"creation_date":1374066354,"question_id":17700602,"body_markdown":"I have a class which has another `static` inner class: \r\n\r\n    class A {\r\n        private List&lt;String&gt; list;\r\n\r\n        public static class B {\r\n            // I want to update list here without making list as static \r\n            // I don&#39;t have an object for outer class\r\n        }\r\n    }","title":"Can I access an outer class&#39;s field from a static inner class?","body":"<p>I have a class which has another <code>static</code> inner class: </p>\n\n<pre><code>class A {\n    private List&lt;String&gt; list;\n\n    public static class B {\n        // I want to update list here without making list as static \n        // I don't have an object for outer class\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":5066911,"reputation":1131,"user_id":4066802,"display_name":"lprakashv"},"score":0,"creation_date":1669227371,"post_id":74548267,"comment_id":131599052,"body_markdown":"Can you please provide the example code snippet you would like to use in this case which is failing?","body":"Can you please provide the example code snippet you would like to use in this case which is failing?"},{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":0,"creation_date":1669229021,"post_id":74548267,"comment_id":131599584,"body_markdown":"@Iprakashv I have updated the code with the function call.","body":"@Iprakashv I have updated the code with the function call."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1669229483,"post_id":74548267,"comment_id":131599729,"body_markdown":"that seems correct: *your `User`* (nor `UserProfile`) has no `email` ... probably you want another (package) `User`!?;) (-&gt; conflicting import! ..seeing `@Component` and `passwordEncoder`, you probably need [`org.springframework.security.core.userdetails.User`](https://docs.spring.io/spring-security/site/docs/4.2.5.RELEASE/apidocs/org/springframework/security/core/userdetails/User.html)??)","body":"that seems correct: <i>your <code>User</code></i> (nor <code>UserProfile</code>) has no <code>email</code> ... probably you want another (package) <code>User</code>!?;) (-&gt; conflicting import! ..seeing <code>@Component</code> and <code>passwordEncoder</code>, you probably need <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.5.RELEASE/apidocs/org/springframework/security/core/userdetails/User.html\" rel=\"nofollow noreferrer\"><code>org.springframework.security.core.userdetails.User</code></a>??)"},{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":0,"creation_date":1669230357,"post_id":74548267,"comment_id":131600003,"body_markdown":"@xerx593 it has. it was just omitted from the question for brevity. There is no conflicting imports as well. Again, the question is just a minimum verifiable sample.","body":"@xerx593 it has. it was just omitted from the question for brevity. There is no conflicting imports as well. Again, the question is just a minimum verifiable sample."}],"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669228977,"creation_date":1669213143,"question_id":74548267,"body_markdown":"I have 2 `@Entity` classes - `User` and `UserProfile`. I have created a `one to one` mapping between them using `Hibernate`. Here is the sample code:\r\n```\r\n@Setter\r\n@Getter\r\n@ToString\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n\r\n@Entity\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;UUID&quot;,\r\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;,\r\n            parameters = {\r\n                    @Parameter(\r\n                            name = &quot;uuid_gen_strategy_class&quot;,\r\n                            value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;\r\n                    )\r\n            }\r\n    )\r\n    @Column(columnDefinition = &quot;CHAR(36)&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private UUID userId;\r\n\r\n    @OneToOne(\r\n            mappedBy = &quot;user&quot;,\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.LAZY,\r\n            optional = false\r\n    )\r\n    private UserProfile profile;\r\n\r\n    static class UserBuilder {\r\n\r\n        private User user;\r\n\r\n        public UserBuilder profile(UserProfile profile) {\r\n            if (Objects.isNull(profile)) {\r\n                if (!Objects.isNull(this.user.profile)) {\r\n                    this.user.profile.setUser(null);\r\n                }\r\n            } else {\r\n                profile.setUser(user);\r\n            }\r\n            this.user.profile = profile;\r\n            return this;\r\n        }\r\n    }\r\n\r\n```\r\n`UserProfile` POJO is defined as:\r\n```\r\n@Setter\r\n@Getter\r\n@ToString\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n\r\n@Entity\r\npublic class UserProfile {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;UUID&quot;,\r\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;,\r\n            parameters = {\r\n                    @Parameter(\r\n                            name = &quot;uuid_gen_strategy_class&quot;,\r\n                            value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;\r\n                    )\r\n            }\r\n    )\r\n    @Column(columnDefinition = &quot;CHAR(36)&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private UUID userId;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    private User user;\r\n}\r\n```\r\nNow when I am trying to use the builder for `User`, I get an error that the existing fields are not found. The reason why I needed this custom builder is because i would like to create relationship between `User` and `UserProfile` in one place and not have to worry about setting this information everywhere the object is being created.\r\nHow do i fix this issue or is there a better way to achieve what i am trying to do here? \r\n\r\n**Updated**\r\n&lt;hr /&gt;\r\nHere is the sample code that is giving the error:\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class RegisterUserRequestToUserMapper {\r\n\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    public User map(RegisterUserRequest request) {\r\n        return User.builder()\r\n                .email(request.getEmail())\r\n                .password(passwordEncoder.encode(request.getPassword()))\r\n                .roles(Set.of(Entitlement.USER))\r\n                .profile(\r\n                        UserProfile.builder()\r\n                                .firstName(request.getFirstName())\r\n                                .lastName(request.getLastName())\r\n                                .build()\r\n                )\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\nThe line that says `.email(...)`  is giving above error.","title":"Lombok: access object whose custom builder is generated from custom builder","body":"<p>I have 2 <code>@Entity</code> classes - <code>User</code> and <code>UserProfile</code>. I have created a <code>one to one</code> mapping between them using <code>Hibernate</code>. Here is the sample code:</p>\n<pre><code>@Setter\n@Getter\n@ToString\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(\n            name = &quot;UUID&quot;,\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;,\n            parameters = {\n                    @Parameter(\n                            name = &quot;uuid_gen_strategy_class&quot;,\n                            value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;\n                    )\n            }\n    )\n    @Column(columnDefinition = &quot;CHAR(36)&quot;)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID userId;\n\n    @OneToOne(\n            mappedBy = &quot;user&quot;,\n            cascade = CascadeType.ALL,\n            fetch = FetchType.LAZY,\n            optional = false\n    )\n    private UserProfile profile;\n\n    static class UserBuilder {\n\n        private User user;\n\n        public UserBuilder profile(UserProfile profile) {\n            if (Objects.isNull(profile)) {\n                if (!Objects.isNull(this.user.profile)) {\n                    this.user.profile.setUser(null);\n                }\n            } else {\n                profile.setUser(user);\n            }\n            this.user.profile = profile;\n            return this;\n        }\n    }\n\n</code></pre>\n<p><code>UserProfile</code> POJO is defined as:</p>\n<pre><code>@Setter\n@Getter\n@ToString\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n\n@Entity\npublic class UserProfile {\n\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(\n            name = &quot;UUID&quot;,\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;,\n            parameters = {\n                    @Parameter(\n                            name = &quot;uuid_gen_strategy_class&quot;,\n                            value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;\n                    )\n            }\n    )\n    @Column(columnDefinition = &quot;CHAR(36)&quot;)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID userId;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @ToString.Exclude\n    private User user;\n}\n</code></pre>\n<p>Now when I am trying to use the builder for <code>User</code>, I get an error that the existing fields are not found. The reason why I needed this custom builder is because i would like to create relationship between <code>User</code> and <code>UserProfile</code> in one place and not have to worry about setting this information everywhere the object is being created.\nHow do i fix this issue or is there a better way to achieve what i am trying to do here?</p>\n<p><strong>Updated</strong></p>\n<hr />\nHere is the sample code that is giving the error:\n```\n@Component\n@RequiredArgsConstructor\npublic class RegisterUserRequestToUserMapper {\n<pre><code>private final PasswordEncoder passwordEncoder;\n\npublic User map(RegisterUserRequest request) {\n    return User.builder()\n            .email(request.getEmail())\n            .password(passwordEncoder.encode(request.getPassword()))\n            .roles(Set.of(Entitlement.USER))\n            .profile(\n                    UserProfile.builder()\n                            .firstName(request.getFirstName())\n                            .lastName(request.getLastName())\n                            .build()\n            )\n            .build();\n}\n</code></pre>\n<p>}</p>\n<pre><code>The line that says `.email(...)`  is giving above error.\n</code></pre>\n"},{"tags":["java","scala","apache-sedona"],"answers":[{"tags":[],"owner":{"account_id":3679807,"reputation":176,"user_id":3065003,"display_name":"Jia Yu - Apache Sedona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669228834,"creation_date":1669100693,"answer_id":74528619,"question_id":74523500,"body_markdown":"boundary.take(1) gets an array of Rows from Spark DataFrame.\r\n\r\nThe following code works for me:\r\n\r\n```\r\nGeometryFactory geomFactory = new GeometryFactory();\r\nPoint expectedGeom = geomFactory.createPoint(new Coordinate(-88.331492, 32.324142));\r\nGeometry actualGeom = spatialDf.javaRDD().take(1).get(0).&lt;Geometry&gt;getAs(0);\r\nassert(actualGeom.equals(expectedGeom));\r\n```\r\n\r\nNote that you cannot compare a polygon with a geometry using `==` although you think they are the same polygon. This is because they technically have different types `Polygon` vs `Geometry`. Please use `equals` method to compare them.\r\n","title":"Converting Apache Sedona SQL example to java","body":"<p>boundary.take(1) gets an array of Rows from Spark DataFrame.</p>\n<p>The following code works for me:</p>\n<pre><code>GeometryFactory geomFactory = new GeometryFactory();\nPoint expectedGeom = geomFactory.createPoint(new Coordinate(-88.331492, 32.324142));\nGeometry actualGeom = spatialDf.javaRDD().take(1).get(0).&lt;Geometry&gt;getAs(0);\nassert(actualGeom.equals(expectedGeom));\n</code></pre>\n<p>Note that you cannot compare a polygon with a geometry using <code>==</code> although you think they are the same polygon. This is because they technically have different types <code>Polygon</code> vs <code>Geometry</code>. Please use <code>equals</code> method to compare them.</p>\n"}],"owner":{"account_id":9473547,"reputation":11,"user_id":7043654,"display_name":"Dennis Savio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1669228834,"creation_date":1669056051,"question_id":74523500,"body_markdown":"I am trying to convert the Apache Sedona examples code from scala to java, and I am stucked in the line 128 of the SQL example, which says:\r\n\r\n```\r\nassert(boundary.take(1)(0).get(0)==geometryFactory.createPolygon(coordinates))\r\n```\r\n\r\nI am trying to understand it but I am not familiar to the scala syntax. Can somebody help me obtaining a java equivalent command?","title":"Converting Apache Sedona SQL example to java","body":"<p>I am trying to convert the Apache Sedona examples code from scala to java, and I am stucked in the line 128 of the SQL example, which says:</p>\n<pre><code>assert(boundary.take(1)(0).get(0)==geometryFactory.createPolygon(coordinates))\n</code></pre>\n<p>I am trying to understand it but I am not familiar to the scala syntax. Can somebody help me obtaining a java equivalent command?</p>\n"},{"tags":["java","spring-boot","docker","maven","dockerfile"],"comments":[{"owner":{"account_id":13217925,"reputation":5500,"user_id":14401160,"display_name":"STerliakov"},"score":0,"creation_date":1669218900,"post_id":74549165,"comment_id":131595957,"body_markdown":"Replace last COPY with `RUN cp`: source `target/*.jar` is built by naven within the layer, so does not belong to host filesystem.","body":"Replace last COPY with <code>RUN cp</code>: source <code>target&#47;*.jar</code> is built by naven within the layer, so does not belong to host filesystem."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1669226969,"post_id":74549165,"comment_id":131598934,"body_markdown":"Did you tried with the same Dockerfile mentioned here https://stackoverflow.com/a/27768965/7871511?","body":"Did you tried with the same Dockerfile mentioned here <a href=\"https://stackoverflow.com/a/27768965/7871511\">stackoverflow.com/a/27768965/7871511</a>?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1669230222,"post_id":74549165,"comment_id":131599963,"body_markdown":"please (best) stick to [quickstart](https://spring.io/guides/gs/spring-boot-docker/) and [ref. doc](https://docs.spring.io/spring-boot/docs/current/reference/html/container-images.html)","body":"please (best) stick to <a href=\"https://spring.io/guides/gs/spring-boot-docker/\" rel=\"nofollow noreferrer\">quickstart</a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/container-images.html\" rel=\"nofollow noreferrer\">ref. doc</a>"}],"answers":[{"tags":[],"owner":{"account_id":17347273,"reputation":1,"user_id":20583190,"display_name":"victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669227746,"creation_date":1669227746,"answer_id":74551436,"question_id":74549165,"body_markdown":"turns out that you can just skip the Dockerfile Altogether in this case and use this maven command instead:\r\n\r\n    ./mvnw spring-boot:build-image\r\n\r\nand it will build a docker image for you","title":"How to generate a jar file in the Dockerfile?","body":"<p>turns out that you can just skip the Dockerfile Altogether in this case and use this maven command instead:</p>\n<pre><code>./mvnw spring-boot:build-image\n</code></pre>\n<p>and it will build a docker image for you</p>\n"},{"tags":[],"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669228717,"creation_date":1669228717,"answer_id":74551601,"question_id":74549165,"body_markdown":"You need to use --from to copy an artifact built in the previous stage to the current stage. \r\n\r\nJust replace\r\n\r\n    COPY ${JAR_FILE} app.jar\r\n\r\nwith\r\n\r\n    COPY --from=maven_build /path/to/target/*.jar /app.jar\r\n\r\n","title":"How to generate a jar file in the Dockerfile?","body":"<p>You need to use --from to copy an artifact built in the previous stage to the current stage.</p>\n<p>Just replace</p>\n<pre><code>COPY ${JAR_FILE} app.jar\n</code></pre>\n<p>with</p>\n<pre><code>COPY --from=maven_build /path/to/target/*.jar /app.jar\n</code></pre>\n"}],"owner":{"account_id":17347273,"reputation":1,"user_id":20583190,"display_name":"victor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":936,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74551436,"answer_count":2,"score":0,"last_activity_date":1669228717,"creation_date":1669216817,"question_id":74549165,"body_markdown":"I&#39;m trying to dockerize a spring boot app but i&#39;m having trouble building a jar file with maven.\r\nI Already tried to follow [this tutorial](https://stackoverflow.com/questions/27767264/how-to-dockerize-maven-project-and-how-many-ways-to-accomplish-it) but somehow my .jar isn&#39;t being updated by the &#39;mvn package&#39; command inside the Dockerfile. \r\n\r\nIf I manually run &#39;mvn package&#39; and then build the image, it works.\r\n\r\n\r\n\r\nthis is my dockerfile\r\n\r\n\r\n```\r\nFROM openjdk:11\r\nFROM maven:3.8-jdk-11 as maven_build\r\nCOPY pom.xml pom.xml\r\nCOPY src src\r\nRUN mvn clean package\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\n```\r\n\r\nmy project structure \r\n\r\n```\r\nDemo\r\n└── src\r\n|    ├── main\r\n|    │   ├── java\r\n|    │       └── com\r\n|    │           └── App.java\r\n|    │               \r\n|    │   \r\n|    └── test\r\n|\r\n├──── Dockerfile\r\n├──── pom.xml\r\n```\r\n\r\n\r\n","title":"How to generate a jar file in the Dockerfile?","body":"<p>I'm trying to dockerize a spring boot app but i'm having trouble building a jar file with maven.\nI Already tried to follow <a href=\"https://stackoverflow.com/questions/27767264/how-to-dockerize-maven-project-and-how-many-ways-to-accomplish-it\">this tutorial</a> but somehow my .jar isn't being updated by the 'mvn package' command inside the Dockerfile.</p>\n<p>If I manually run 'mvn package' and then build the image, it works.</p>\n<p>this is my dockerfile</p>\n<pre><code>FROM openjdk:11\nFROM maven:3.8-jdk-11 as maven_build\nCOPY pom.xml pom.xml\nCOPY src src\nRUN mvn clean package\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n\n</code></pre>\n<p>my project structure</p>\n<pre><code>Demo\n└── src\n|    ├── main\n|    │   ├── java\n|    │       └── com\n|    │           └── App.java\n|    │               \n|    │   \n|    └── test\n|\n├──── Dockerfile\n├──── pom.xml\n</code></pre>\n"},{"tags":["java","android","drag-and-drop"],"comments":[{"owner":{"account_id":9063839,"reputation":128,"user_id":6749453,"display_name":"Ayaz Muhammad"},"score":0,"creation_date":1669229034,"post_id":74551576,"comment_id":131599588,"body_markdown":"try out this lib hope i will be help full for you https://github.com/aitsuki/SwipeMenuRecyclerView","body":"try out this lib hope i will be help full for you <a href=\"https://github.com/aitsuki/SwipeMenuRecyclerView\" rel=\"nofollow noreferrer\">github.com/aitsuki/SwipeMenuRecyclerView</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669276028,"post_id":74551576,"comment_id":131608796,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27027641,"reputation":1,"user_id":20584624,"display_name":"user20584624"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669228590,"creation_date":1669228590,"question_id":74551576,"body_markdown":"i am implementing dragging of a view horizontally. so far everything is working good.\r\n\r\ni have one question how can i limit the drag movement or put certain limit from where the view should stop moving even when user is still dragging. same like navigation drawer movement.\r\n\r\nThanks.\r\n\r\ntried to implement with onTouchListener","title":"Limiting dragged view distance","body":"<p>i am implementing dragging of a view horizontally. so far everything is working good.</p>\n<p>i have one question how can i limit the drag movement or put certain limit from where the view should stop moving even when user is still dragging. same like navigation drawer movement.</p>\n<p>Thanks.</p>\n<p>tried to implement with onTouchListener</p>\n"},{"tags":["java","set","java-stream"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1669228658,"post_id":74545827,"comment_id":131599469,"body_markdown":"`&quot;123456789&quot;.chars().mapToObj(i -&gt; (char) i).collect(Collectors.toSet())` or even just `Set.of(&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;)`","body":"<code>&quot;123456789&quot;.chars().mapToObj(i -&gt; (char) i).collect(Collectors.toSet())</code> or even just <code>Set.of(&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669202571,"creation_date":1669201766,"answer_id":74545848,"question_id":74545827,"body_markdown":"You need to use operation [`mapToObj()`][mapToObj] (*not* `map()`) to transform `IntStream` into a `Stream&lt;Character&gt;`.\r\n\r\nWhen you apply `.map(i -&gt; (char) i)` in the `IntStream` (*a stream of primitive* `int` *values*) it only performs primitive conversion from `int` to `char` (***reminder:*** [`char`][char] *is a numeric type*), and then the result would be promoted back into `int`.\r\n\r\nAnd when you apply `boxed()` on the `IntStream` you&#39;re getting `Stream&lt;Integer&gt;` (*a stream of integer wrappers*).\r\n\r\n```\r\nSet&lt;Character&gt; totalSet = IntStream.range(&#39;1&#39;, &#39;9&#39;)\r\n    .mapToObj(i -&gt; (char) i)\r\n    .collect(Collectors.toSet());\r\n```\r\n\r\n\r\n\r\n   [mapToObj]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#mapToObj(java.util.function.IntFunction)\r\n\r\n   [char]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"How to create a `HashSet&lt;Character&gt;` contains &#39;0&#39;-&#39;9&#39; using Stream API?","body":"<p>You need to use operation <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#mapToObj(java.util.function.IntFunction)\" rel=\"nofollow noreferrer\"><code>mapToObj()</code></a> (<em>not</em> <code>map()</code>) to transform <code>IntStream</code> into a <code>Stream&lt;Character&gt;</code>.</p>\n<p>When you apply <code>.map(i -&gt; (char) i)</code> in the <code>IntStream</code> (<em>a stream of primitive</em> <code>int</code> <em>values</em>) it only performs primitive conversion from <code>int</code> to <code>char</code> (<em><strong>reminder:</strong></em> <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\"><code>char</code></a> <em>is a numeric type</em>), and then the result would be promoted back into <code>int</code>.</p>\n<p>And when you apply <code>boxed()</code> on the <code>IntStream</code> you're getting <code>Stream&lt;Integer&gt;</code> (<em>a stream of integer wrappers</em>).</p>\n<pre><code>Set&lt;Character&gt; totalSet = IntStream.range('1', '9')\n    .mapToObj(i -&gt; (char) i)\n    .collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74545848,"answer_count":1,"score":1,"last_activity_date":1669228530,"creation_date":1669201658,"question_id":74545827,"body_markdown":"I&#39;m trying to create a `Set&lt;Character&gt;` contains value from `&#39;0&#39;` to `&#39;9&#39;`.\r\n\r\nHere&#39;s what I&#39;ve tried:\r\n```\r\nvar totalSet = IntStream.range(&#39;1&#39;, &#39;9&#39;)\r\n    .map(i -&gt; (char) i)\r\n    .boxed()\r\n    .collect(Collectors.toSet()); // type of totalSet is `Set&lt;Integer&gt;`\r\n```\r\n\r\nBut I found that the type of `totalSet` is `Set&lt;Integer&gt;`. How can I achieve the desired result?\r\n\r\nI&#39;m using JDK 17.","title":"How to create a `HashSet&lt;Character&gt;` contains &#39;0&#39;-&#39;9&#39; using Stream API?","body":"<p>I'm trying to create a <code>Set&lt;Character&gt;</code> contains value from <code>'0'</code> to <code>'9'</code>.</p>\n<p>Here's what I've tried:</p>\n<pre><code>var totalSet = IntStream.range('1', '9')\n    .map(i -&gt; (char) i)\n    .boxed()\n    .collect(Collectors.toSet()); // type of totalSet is `Set&lt;Integer&gt;`\n</code></pre>\n<p>But I found that the type of <code>totalSet</code> is <code>Set&lt;Integer&gt;</code>. How can I achieve the desired result?</p>\n<p>I'm using JDK 17.</p>\n"},{"tags":["java","oop","design-patterns","factory-method","template-method-pattern"],"comments":[{"owner":{"display_name":"user10386912"},"score":0,"creation_date":1554194279,"post_id":55461586,"comment_id":97651511,"body_markdown":"I would say Factory is a way of using Strategy, usually Factory creates objects based on received parameter(s), which implies the behavior of creating objects depends on the input, so the factory chooses the right Strategy to create requested object, runs the Strategy and returns the result to the caller of the Factory","body":"I would say Factory is a way of using Strategy, usually Factory creates objects based on received parameter(s), which implies the behavior of creating objects depends on the input, so the factory chooses the right Strategy to create requested object, runs the Strategy and returns the result to the caller of the Factory"},{"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"score":0,"creation_date":1554195694,"post_id":55461586,"comment_id":97652304,"body_markdown":"Factory, you mean Abstract factory or factory-method, or the static factory methods ?. All 3 are different and as per GOF only factory-method and abstract-facfory are design patterns.","body":"Factory, you mean Abstract factory or factory-method, or the static factory methods ?. All 3 are different and as per GOF only factory-method and abstract-facfory are design patterns."},{"owner":{"display_name":"user10386912"},"score":1,"creation_date":1554196904,"post_id":55461586,"comment_id":97653061,"body_markdown":"abstract-factory indeed and trying to answer to the question I would say factory method is a creational behavior hence a Strategy","body":"abstract-factory indeed and trying to answer to the question I would say factory method is a creational behavior hence a Strategy"},{"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"score":0,"creation_date":1554198068,"post_id":55461586,"comment_id":97653776,"body_markdown":"hmm interesting perspective. `creational behaviour` and hence factory method is strategy. +1 for this","body":"hmm interesting perspective. <code>creational behaviour</code> and hence factory method is strategy. +1 for this"},{"owner":{"account_id":2530265,"reputation":3734,"user_id":2198705,"display_name":"Nghia Bui"},"score":1,"creation_date":1554262367,"post_id":55461586,"comment_id":97681987,"body_markdown":"Seems you are talking about Template Method not Strategy?","body":"Seems you are talking about Template Method not Strategy?"},{"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"score":0,"creation_date":1554271497,"post_id":55461586,"comment_id":97684322,"body_markdown":"oh my god, you are so very right, my mind had template and i wrote strategy. i will edit","body":"oh my god, you are so very right, my mind had template and i wrote strategy. i will edit"},{"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"score":0,"creation_date":1554301589,"post_id":55461586,"comment_id":97702061,"body_markdown":"I have edited the question and included the example code","body":"I have edited the question and included the example code"}],"answers":[{"tags":[],"owner":{"account_id":5165555,"reputation":7645,"user_id":4135670,"accept_rate":93,"display_name":"Rafael"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1554265540,"creation_date":1554265540,"answer_id":55487054,"question_id":55461586,"body_markdown":"I don&#39;t want to oversimplify these patterns, but, yes, both abstractions defer implementation details completely. Decoupling clients from implementation details is more flexible and allows each to evolve independently; this is the essence of the Dependency&amp;nbsp;Inversion&amp;nbsp;Principle.\r\n\r\n- Factory Method defers creation *completely*\r\n- Strategy defers behavior *completely*\r\n\r\nTo address the comment above:\r\n\r\n- Template Method defers behavior *partially* (not quite the same)\r\n\r\nThese patterns are not used exclusively, e.g., Strategy can use Template Method, Factory Method, or other patterns.\r\n\r\nI hope this helps!","title":"Is Factory method pattern a specialized case of Template method pattern?","body":"<p>I don't want to oversimplify these patterns, but, yes, both abstractions defer implementation details completely. Decoupling clients from implementation details is more flexible and allows each to evolve independently; this is the essence of the Dependency&nbsp;Inversion&nbsp;Principle.</p>\n\n<ul>\n<li>Factory Method defers creation <em>completely</em></li>\n<li>Strategy defers behavior <em>completely</em></li>\n</ul>\n\n<p>To address the comment above:</p>\n\n<ul>\n<li>Template Method defers behavior <em>partially</em> (not quite the same)</li>\n</ul>\n\n<p>These patterns are not used exclusively, e.g., Strategy can use Template Method, Factory Method, or other patterns.</p>\n\n<p>I hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1669228497,"creation_date":1593373862,"answer_id":62627533,"question_id":55461586,"body_markdown":"Both Factory method pattern and Template method pattern have similar design but they vary for their purpose. \r\n\r\nFactory method is a creational pattern where object creation is the responsibility of the child class.\r\n\r\nA pattern where a class defines an abstract method for an object creation and another method using the created object and thereby allowing the subclasses to provide the implementation of the creational method is factory method. \r\n\r\nTemplate method is a behavioral pattern where behaviour is the responsibility of the sub class.\r\n\r\nA pattern where a class defines an abstract method for a behaviour and another method invokes the abstract method to have the behaviour executed, the behaviour is implemented by the subclass. Hence its the parent class invoking the implementation of the child class without having any explicit compile time dependency on its subclass. This is true for the factory method pattern as well. But both differs in their intent. \r\n\r\nIn other words we can say Factory method pattern creates object in a similar way as Template method pattern executes the behaviour. \r\n","title":"Is Factory method pattern a specialized case of Template method pattern?","body":"<p>Both Factory method pattern and Template method pattern have similar design but they vary for their purpose.</p>\n<p>Factory method is a creational pattern where object creation is the responsibility of the child class.</p>\n<p>A pattern where a class defines an abstract method for an object creation and another method using the created object and thereby allowing the subclasses to provide the implementation of the creational method is factory method.</p>\n<p>Template method is a behavioral pattern where behaviour is the responsibility of the sub class.</p>\n<p>A pattern where a class defines an abstract method for a behaviour and another method invokes the abstract method to have the behaviour executed, the behaviour is implemented by the subclass. Hence its the parent class invoking the implementation of the child class without having any explicit compile time dependency on its subclass. This is true for the factory method pattern as well. But both differs in their intent.</p>\n<p>In other words we can say Factory method pattern creates object in a similar way as Template method pattern executes the behaviour.</p>\n"}],"owner":{"account_id":236561,"reputation":5234,"user_id":504133,"accept_rate":76,"display_name":"nits.kk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5232,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":62627533,"answer_count":2,"score":5,"last_activity_date":1669228497,"creation_date":1554143936,"question_id":55461586,"body_markdown":"GOF talks about frameworks for &quot;Factory method&quot; pattern. Frameworks need objects but implementation of objects depends upon application hence an abstract method to create the object is created. Also as return type is needed so interface for the object needed is defined, it defines the apis needed for the object. Actual objects are created by subclasses (concrete Application) . This is a creational pattern.\r\n\r\nFor Template pattern the only change is that the encapsulating class does not know the implementation of certain behavior hence it abstracts it in a method , uses it but leaves the implementation to the subclasses. This is behavioral pattern. \r\n\r\nIs the only differences between the two are\r\n\r\n    1. Factory method is creational and Template is behavioural.\r\n    2. Factory method abstracts a method to create an object where as template pattern abstracts a method for some policy or algorithm. \r\n\r\nexample code\r\n\r\n     /**factory-method example**/\r\n     public abstract class Application{          \r\n            public void create(){\r\n                  View contentView = createContentView();\r\n                  Menu menu = contentView.obtainMenu();\r\n                  generateMenuItems(menu);\r\n            }\r\n            public abstract View createContentView(); //factory-method\r\n            public void generateMenuItems(Menu menu){\r\n                  // some code\r\n            }\r\n     }\r\n\r\n      /** Product Specification**/            \r\n     public interface View{\r\n          public abstract Menu obtainMenu();\r\n          // other abstract method of product\r\n     }\r\n\r\nNow User code using above will subclass Application and provide implementation for `createContentView()`. \r\n\r\nTemplate method basic characterstic : Parent class concrete method invoking its abstract method.\r\n\r\nFactory method : lets the product creation be implemented by its sub classes.\r\n\r\nAbove example fits for both. In fact any example for Factory methods fits for Template method as well. \r\n     \r\n\r\nSo it is good to say \r\n\r\n1. *Factory method pattern is specialized template method pattern for obtaining the object whose implementation is dependent upon user code which can provide implementation of object creation in the subclass*\r\n2. *Template pattern if used for object creation is Factory method pattern.*\r\n\r\n*My second doubt* : Is it mandatory for Factory method (which is as per GOF based on inberitence) to invoke its abstract product producing method from its other concrete method ?\r\n\r\nIf answer to above is &#39;No&#39; then this means there will be some consumer code which will have an instance of type Factory (composition),will invoke the factory method to obtain the object of a product and will get concrete factory class injected. But now this becomes abstract factory. ","title":"Is Factory method pattern a specialized case of Template method pattern?","body":"<p>GOF talks about frameworks for \"Factory method\" pattern. Frameworks need objects but implementation of objects depends upon application hence an abstract method to create the object is created. Also as return type is needed so interface for the object needed is defined, it defines the apis needed for the object. Actual objects are created by subclasses (concrete Application) . This is a creational pattern.</p>\n\n<p>For Template pattern the only change is that the encapsulating class does not know the implementation of certain behavior hence it abstracts it in a method , uses it but leaves the implementation to the subclasses. This is behavioral pattern. </p>\n\n<p>Is the only differences between the two are</p>\n\n<pre><code>1. Factory method is creational and Template is behavioural.\n2. Factory method abstracts a method to create an object where as template pattern abstracts a method for some policy or algorithm. \n</code></pre>\n\n<p>example code</p>\n\n<pre><code> /**factory-method example**/\n public abstract class Application{          \n        public void create(){\n              View contentView = createContentView();\n              Menu menu = contentView.obtainMenu();\n              generateMenuItems(menu);\n        }\n        public abstract View createContentView(); //factory-method\n        public void generateMenuItems(Menu menu){\n              // some code\n        }\n }\n\n  /** Product Specification**/            \n public interface View{\n      public abstract Menu obtainMenu();\n      // other abstract method of product\n }\n</code></pre>\n\n<p>Now User code using above will subclass Application and provide implementation for <code>createContentView()</code>. </p>\n\n<p>Template method basic characterstic : Parent class concrete method invoking its abstract method.</p>\n\n<p>Factory method : lets the product creation be implemented by its sub classes.</p>\n\n<p>Above example fits for both. In fact any example for Factory methods fits for Template method as well. </p>\n\n<p>So it is good to say </p>\n\n<ol>\n<li><em>Factory method pattern is specialized template method pattern for obtaining the object whose implementation is dependent upon user code which can provide implementation of object creation in the subclass</em></li>\n<li><em>Template pattern if used for object creation is Factory method pattern.</em></li>\n</ol>\n\n<p><em>My second doubt</em> : Is it mandatory for Factory method (which is as per GOF based on inberitence) to invoke its abstract product producing method from its other concrete method ?</p>\n\n<p>If answer to above is 'No' then this means there will be some consumer code which will have an instance of type Factory (composition),will invoke the factory method to obtain the object of a product and will get concrete factory class injected. But now this becomes abstract factory. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1669228737,"post_id":74551476,"comment_id":131599485,"body_markdown":"Why do you want to avoid using `contains` method?","body":"Why do you want to avoid using <code>contains</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":15273588,"reputation":71,"user_id":13427345,"display_name":"O1G"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669228297,"creation_date":1669228297,"answer_id":74551528,"question_id":74551476,"body_markdown":"You could use `list.indexOf(o) &gt;= 0` but this is just the implementation of contains() in ArrayList. Or you could iterate the list and check with equals() but then that&#39;s basically how indexOf is implemented. ","title":"Alternative way to find out if the element is in the list","body":"<p>You could use <code>list.indexOf(o) &gt;= 0</code> but this is just the implementation of contains() in ArrayList. Or you could iterate the list and check with equals() but then that's basically how indexOf is implemented.</p>\n"}],"owner":{"account_id":20675707,"reputation":11,"user_id":15180377,"display_name":"Tian Yang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1669228297,"creation_date":1669227972,"question_id":74551476,"body_markdown":"Is there an alternative way to check if an element is in the list without using contains() method?","title":"Alternative way to find out if the element is in the list","body":"<p>Is there an alternative way to check if an element is in the list without using contains() method?</p>\n"},{"tags":["java","java-stream","reduce"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":5,"creation_date":1669192343,"post_id":74543772,"comment_id":131586104,"body_markdown":"Looks like your multiplication is overflowing at some point.","body":"Looks like your multiplication is overflowing at some point."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669192796,"post_id":74543772,"comment_id":131586229,"body_markdown":"From the orders of magnitude alone I&#39;d expect the result of the reduction to have 21 digits minimum. So it&#39;s definitely overflowing - integers have a maximum value of about 2 billion (so 10 digits at most) and longs have about 20 digits max so you&#39;d need to use `BigInteger` for your calculation.","body":"From the orders of magnitude alone I&#39;d expect the result of the reduction to have 21 digits minimum. So it&#39;s definitely overflowing - integers have a maximum value of about 2 billion (so 10 digits at most) and longs have about 20 digits max so you&#39;d need to use <code>BigInteger</code> for your calculation."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1669193194,"post_id":74543772,"comment_id":131586348,"body_markdown":"Hint: try logging each result as you produce it, in the lambda expression.","body":"Hint: try logging each result as you produce it, in the lambda expression."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669228177,"creation_date":1669201477,"answer_id":74545775,"question_id":74543772,"body_markdown":"Firstly, as it has been mentioned in the comments, you&#39;re getting integer overflow. With multiplication, it happens very quickly.\r\n\r\nWe can make use of `BigInteger` to visualize the values:\r\n\r\n```\r\nBigInteger productBi = Arrays.stream(nums)\r\n    .mapToObj(BigInteger::valueOf)\r\n    .reduce(BigInteger.ONE, (acc, a) -&gt; {\r\n        System.out.println(acc);\r\n        return acc.multiply(a);\r\n    });\r\n```\r\nWith your sample-data, the code would produce:\r\n\r\n```\r\n1\r\n41\r\n2665\r\n37310\r\n2984800\r\n59696000\r\n596960000\r\n32832800000 // &lt;- already larger than Integer.MAX_VALUE\r\n...\r\n```\r\nIt shows that overflow happens at the very beginning of the calculation. To find the point when the product becomes zero, let&#39;s switch to the initial code:\r\n\r\n```\r\nint product = Arrays.stream(nums).reduce(1, (acc, a) -&gt; {\r\n    System.out.println(acc + &quot; * &quot; + a);\r\n    return acc * a;\r\n});\r\n```\r\nWould produce:\r\n```\r\n1 * 41\r\n41 * 65\r\n2665 * 14\r\n...\r\n1342177280 * 32 // &lt;- here product turs to zero\r\n0 * 42\r\n...\r\nmore zero\r\n```\r\nIt&#39;s clear that multiplication of `1342177280` and `32` gives `0`. Let&#39;s take a look at these numbers in binary using `Integer.toBinaryString()`:\r\n\r\n```\r\nBits: 1010000000000000000000000000000 // 1342177280\r\nBits: 100000                          // 32\r\n```\r\n\r\nAccording to the [&#167;15.17.1. Java language specification][JLS] when overflow occurs, only low-order bits would be preserved. And in this case, all low-order bits are zero, therefore the product would not contain significant bits and the result would be `0`.\r\n\r\n&gt; If an integer **multiplication overflows**, then the **result is the low-order bits** of the mathematical product as represented in some sufficiently large two&#39;s-complement format.\r\n\r\n\r\n\r\n   [JLS]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.17.1","title":"IntStream.reduce() returns wrong result","body":"<p>Firstly, as it has been mentioned in the comments, you're getting integer overflow. With multiplication, it happens very quickly.</p>\n<p>We can make use of <code>BigInteger</code> to visualize the values:</p>\n<pre><code>BigInteger productBi = Arrays.stream(nums)\n    .mapToObj(BigInteger::valueOf)\n    .reduce(BigInteger.ONE, (acc, a) -&gt; {\n        System.out.println(acc);\n        return acc.multiply(a);\n    });\n</code></pre>\n<p>With your sample-data, the code would produce:</p>\n<pre><code>1\n41\n2665\n37310\n2984800\n59696000\n596960000\n32832800000 // &lt;- already larger than Integer.MAX_VALUE\n...\n</code></pre>\n<p>It shows that overflow happens at the very beginning of the calculation. To find the point when the product becomes zero, let's switch to the initial code:</p>\n<pre><code>int product = Arrays.stream(nums).reduce(1, (acc, a) -&gt; {\n    System.out.println(acc + &quot; * &quot; + a);\n    return acc * a;\n});\n</code></pre>\n<p>Would produce:</p>\n<pre><code>1 * 41\n41 * 65\n2665 * 14\n...\n1342177280 * 32 // &lt;- here product turs to zero\n0 * 42\n...\nmore zero\n</code></pre>\n<p>It's clear that multiplication of <code>1342177280</code> and <code>32</code> gives <code>0</code>. Let's take a look at these numbers in binary using <code>Integer.toBinaryString()</code>:</p>\n<pre><code>Bits: 1010000000000000000000000000000 // 1342177280\nBits: 100000                          // 32\n</code></pre>\n<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.17.1\" rel=\"nofollow noreferrer\">§15.17.1. Java language specification</a> when overflow occurs, only low-order bits would be preserved. And in this case, all low-order bits are zero, therefore the product would not contain significant bits and the result would be <code>0</code>.</p>\n<blockquote>\n<p>If an integer <strong>multiplication overflows</strong>, then the <strong>result is the low-order bits</strong> of the mathematical product as represented in some sufficiently large two's-complement format.</p>\n</blockquote>\n"}],"owner":{"account_id":27022021,"reputation":13,"user_id":20579864,"display_name":"heh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74545775,"answer_count":1,"score":0,"last_activity_date":1669228177,"creation_date":1669192273,"question_id":74543772,"body_markdown":"*My code:*\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(arraySign(new int[]{41,65,14,80,20,10,55,58,24,56,28,86,96,10,3,\r\n                84,4,41,13,32,42,43,83,78,82,70,15,-41}));\r\n    }\r\n\r\n    public static int arraySign(int[] nums) {\r\n\r\n        int product = Arrays.stream(nums).reduce(1, (acc, a) -&gt; acc * a);\r\n\r\n        if (product != 0)\r\n            return product / Math.abs(product);\r\n\r\n        return product;\r\n    }\r\n}\r\n\r\n```\r\n\r\n*Expected result:* `-1`.\r\n\r\nCan you explain why the method above returns `0`?","title":"IntStream.reduce() returns wrong result","body":"<p><em>My code:</em></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(arraySign(new int[]{41,65,14,80,20,10,55,58,24,56,28,86,96,10,3,\n                84,4,41,13,32,42,43,83,78,82,70,15,-41}));\n    }\n\n    public static int arraySign(int[] nums) {\n\n        int product = Arrays.stream(nums).reduce(1, (acc, a) -&gt; acc * a);\n\n        if (product != 0)\n            return product / Math.abs(product);\n\n        return product;\n    }\n}\n\n</code></pre>\n<p><em>Expected result:</em> <code>-1</code>.</p>\n<p>Can you explain why the method above returns <code>0</code>?</p>\n"},{"tags":["java","game-development","text-based"],"comments":[{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1669225975,"post_id":74550881,"comment_id":131598616,"body_markdown":"Can&#39;t see the issue from the posted code. Inside your `for` loop at the top, I&#39;d add: `print(i + &quot;: &quot; + turns.get(i).action);` to see if you can spot the error.","body":"Can&#39;t see the issue from the posted code. Inside your <code>for</code> loop at the top, I&#39;d add: <code>print(i + &quot;: &quot; + turns.get(i).action);</code> to see if you can spot the error."},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1669226267,"post_id":74550881,"comment_id":131598723,"body_markdown":"I agree with Idle_Mind, also you may have cut out _too much_ information — are `input`, `cmd`, and `dtct` class member variables in BattleManager? The next line `Arraylist&lt;BattleAction&gt; = new ArrayList&lt;BattleAction&gt;();` you&#39;ve dropped the variable name ... can I assume that one is `turns`? and please fix the indentation and line spacing in the question.","body":"I agree with Idle_Mind, also you may have cut out <i>too much</i> information — are <code>input</code>, <code>cmd</code>, and <code>dtct</code> class member variables in BattleManager? The next line <code>Arraylist&lt;BattleAction&gt; = new ArrayList&lt;BattleAction&gt;();</code> you&#39;ve dropped the variable name ... can I assume that one is <code>turns</code>? and please fix the indentation and line spacing in the question."},{"owner":{"account_id":23361584,"reputation":23,"user_id":17433720,"display_name":"Bread Bouquet"},"score":0,"creation_date":1669227522,"post_id":74550881,"comment_id":131599118,"body_markdown":"Idle_Mind, I have tried adding a print statement in the for loop outside of the switch, but when I do I get 2 different errors. \n\n`Cannot find symbol: i`\n`switch(turns.get(i).action)`\n\nand this:\n\n`illegal parenthesized expression:`\n``switch(turns.get(i).action)`, if you want I can try to put all the code up somewhere but it&#39;s on a VM and I would have difficulty transferring it.","body":"Idle_Mind, I have tried adding a print statement in the for loop outside of the switch, but when I do I get 2 different errors.   <code>Cannot find symbol: i</code> <code>switch(turns.get(i).action)</code>  and this:  <code>illegal parenthesized expression:</code> ``switch(turns.get(i).action)`, if you want I can try to put all the code up somewhere but it&#39;s on a VM and I would have difficulty transferring it."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1669227880,"post_id":74550881,"comment_id":131599233,"body_markdown":"And you put that inbetween the `for` line and the `switch` line?","body":"And you put that inbetween the <code>for</code> line and the <code>switch</code> line?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1669228047,"post_id":74550881,"comment_id":131599288,"body_markdown":"Do you by chance have a semi-colon `;` after the right parenthesis `)` of your `for` loop, before the left bracket `{`? Like this? `for (int i = 0; i != turns.size(); i ++); {`","body":"Do you by chance have a semi-colon <code>;</code> after the right parenthesis <code>)</code> of your <code>for</code> loop, before the left bracket <code>{</code>? Like this? <code>for (int i = 0; i != turns.size(); i ++); {</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1669254482,"post_id":74550881,"comment_id":131605005,"body_markdown":"I doubt posting *all* of the code is a good idea. Instead, are you able to create and post a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) ?","body":"I doubt posting <i>all</i> of the code is a good idea. Instead, are you able to create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a> ?"},{"owner":{"account_id":23361584,"reputation":23,"user_id":17433720,"display_name":"Bread Bouquet"},"score":0,"creation_date":1669314741,"post_id":74550881,"comment_id":131621503,"body_markdown":"Idle_Mind, I think this was the issue, the code compiled fine so I guess I didn&#39;t notice it. This was driving me crazy, sorry for not noticing","body":"Idle_Mind, I think this was the issue, the code compiled fine so I guess I didn&#39;t notice it. This was driving me crazy, sorry for not noticing"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1669316983,"post_id":74550881,"comment_id":131622039,"body_markdown":"No worries! My Computer Science students  do this all the time. Drives them nuts, too. Compiles fine, and is super hard to spot! You can also make this mistake with an `if` and a `while` statement...","body":"No worries! My Computer Science students  do this all the time. Drives them nuts, too. Compiles fine, and is super hard to spot! You can also make this mistake with an <code>if</code> and a <code>while</code> statement..."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1669322933,"post_id":74550881,"comment_id":131623275,"body_markdown":"It&#39;s called a &quot;null statement&quot; or &quot;empty statement&quot;.  https://stackoverflow.com/questions/32593218/why-does-java-have-an-empty-statement","body":"It&#39;s called a &quot;null statement&quot; or &quot;empty statement&quot;.  <a href=\"https://stackoverflow.com/questions/32593218/why-does-java-have-an-empty-statement\" title=\"why does java have an empty statement\">stackoverflow.com/questions/32593218/&hellip;</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1669338538,"post_id":74550881,"comment_id":131625687,"body_markdown":"Since the problem was resolved without an answer, consider deleting the question.","body":"Since the problem was resolved without an answer, consider deleting the question."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1669338646,"post_id":74550881,"comment_id":131625696,"body_markdown":"No, I should definitely get infinite points for correctly deducing the problem without it actually being posted in the question.  ;)","body":"No, I should definitely get infinite points for correctly deducing the problem without it actually being posted in the question.  ;)"}],"owner":{"account_id":23361584,"reputation":23,"user_id":17433720,"display_name":"Bread Bouquet"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669227387,"creation_date":1669224684,"question_id":74550881,"body_markdown":"Essentially, I&#39;ve put a switch statement in a for loop. It has not been working as intended. I think it has something to with the break statement.\r\n\r\nWhat I want the loop to do is go to the first element in the array list, execute code based on the &#39;action&#39; String, then go to the next until the list ends. However, it seems that whenever I run the program it only executes the code in the first index. Here is some code for the BattleManager class:\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    String cmd;\r\n    String[] dtct;\r\n    Arraylist&lt;BattleAction&gt; turns = new ArrayList&lt;BattleAction&gt;();\r\n    \r\n    \r\n    \r\n    public void handle() {\r\n    cmd = input.nextLine();\r\n    dtct = (cmd.split());\r\n    \r\n    switch(dtct[0]) {\r\n    case &quot;attack&quot;:\r\n    \r\n    turns.add(new BattleAction(&quot;playerattack&quot;));\r\n    getenemyaction();\r\n    turnsequence();  \r\n\r\n  \r\n    break;\r\n    \r\n    case &quot;defend&quot;:\r\n    getenemyaction();\r\n    turnsequence()\r\n        }\r\n    }\r\n\r\n\r\n    public void getenemyaction() {\r\n    \r\n    turns.add(new BattleAction(&quot;enemyattack&quot;));\r\n    }\r\n\r\n    public void turnsequence() {\r\n    \r\n    Collections.sort(turns);\r\n    print(&quot;Size: &quot; + turns.size())\r\n    for (int i = 0; i != turns.size(); i ++) {\r\n    \r\n    switch(turns.get(i).action) {\r\n    \r\n    case &quot;playerattack&quot;:\r\n    playerattack();\r\n    break;\r\n    \r\n    case &quot;enemyattack&quot;:\r\n    enemyattack();\r\n    break;\r\n      }\r\n    \r\n     }\r\n    }\r\n\r\n    public void playerattack() {\r\n    \r\n    print(&quot;Player attack&quot;);\r\n    }\r\n    \r\n    \r\n    public void enemyattack() {\r\n    print(&quot;Enemy attack&quot;);\r\n    }\r\n\r\n\r\nWhen I run the program here is the output I am getting with the attack command:\r\n\r\n    attack\r\n    Size: 2\r\n    Player Attack\r\n\r\n\r\nHowever when I use the defend command the output is:\r\n\r\n    defend\r\n    Size: 1\r\n    Enemy Attack\r\n\r\n\r\nThe desired output would be for turnsequence() to go through turns and do check action for the desired code to be executed, like this:\r\n\r\n    attack\r\n    Size: 2\r\n    Player Attack\r\n    Enemy Attack\r\n\r\n\r\nI have done my best to cut out as much unnecessary information at possible to prevent confusion. Thank you so much for reading my post! I really appreciate your help! ","title":"Problem with Switch statement in for loop for turn based RPG battle in java","body":"<p>Essentially, I've put a switch statement in a for loop. It has not been working as intended. I think it has something to with the break statement.</p>\n<p>What I want the loop to do is go to the first element in the array list, execute code based on the 'action' String, then go to the next until the list ends. However, it seems that whenever I run the program it only executes the code in the first index. Here is some code for the BattleManager class:</p>\n<pre><code>Scanner input = new Scanner(System.in);\nString cmd;\nString[] dtct;\nArraylist&lt;BattleAction&gt; turns = new ArrayList&lt;BattleAction&gt;();\n\n\n\npublic void handle() {\ncmd = input.nextLine();\ndtct = (cmd.split());\n\nswitch(dtct[0]) {\ncase &quot;attack&quot;:\n\nturns.add(new BattleAction(&quot;playerattack&quot;));\ngetenemyaction();\nturnsequence();  \n\n\nbreak;\n\ncase &quot;defend&quot;:\ngetenemyaction();\nturnsequence()\n    }\n}\n\n\npublic void getenemyaction() {\n\nturns.add(new BattleAction(&quot;enemyattack&quot;));\n}\n\npublic void turnsequence() {\n\nCollections.sort(turns);\nprint(&quot;Size: &quot; + turns.size())\nfor (int i = 0; i != turns.size(); i ++) {\n\nswitch(turns.get(i).action) {\n\ncase &quot;playerattack&quot;:\nplayerattack();\nbreak;\n\ncase &quot;enemyattack&quot;:\nenemyattack();\nbreak;\n  }\n\n }\n}\n\npublic void playerattack() {\n\nprint(&quot;Player attack&quot;);\n}\n\n\npublic void enemyattack() {\nprint(&quot;Enemy attack&quot;);\n}\n</code></pre>\n<p>When I run the program here is the output I am getting with the attack command:</p>\n<pre><code>attack\nSize: 2\nPlayer Attack\n</code></pre>\n<p>However when I use the defend command the output is:</p>\n<pre><code>defend\nSize: 1\nEnemy Attack\n</code></pre>\n<p>The desired output would be for turnsequence() to go through turns and do check action for the desired code to be executed, like this:</p>\n<pre><code>attack\nSize: 2\nPlayer Attack\nEnemy Attack\n</code></pre>\n<p>I have done my best to cut out as much unnecessary information at possible to prevent confusion. Thank you so much for reading my post! I really appreciate your help!</p>\n"},{"tags":["java","spring","junit","mocking","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1669268915,"post_id":74549250,"comment_id":131607099,"body_markdown":"Before going further on testing the feature flag, I suggest you fix your item writer implementation by extracting the delegate setup from the `write` method. Currently you are creating a new jdbcBatchItemWriter in each chunk of data, which is incorrect .","body":"Before going further on testing the feature flag, I suggest you fix your item writer implementation by extracting the delegate setup from the <code>write</code> method. Currently you are creating a new jdbcBatchItemWriter in each chunk of data, which is incorrect ."},{"owner":{"account_id":10940791,"reputation":141,"user_id":8040727,"display_name":"Pinki Sharma"},"score":0,"creation_date":1695654885,"post_id":74549250,"comment_id":136050128,"body_markdown":"@shoaib-jpeg did you able to fix it &amp; make it work ?","body":"@shoaib-jpeg did you able to fix it &amp; make it work ?"}],"owner":{"account_id":19648643,"reputation":9,"user_id":14383031,"display_name":"shoaib-jpeg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669226619,"creation_date":1669217142,"question_id":74549250,"body_markdown":"I have a spring batch application which writes to an SQL database. I have the block of code which writes to the DB wrapped in a feature flag condition as shown below:\r\n\r\n    public class TreatmentWriter implements ItemWriter&lt;TreatmentData&gt; {\r\n    \r\n        JdbcBatchItemWriter&lt;TreatmentData&gt; jdbcBatchItemWriter;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;dataSource&quot;)\r\n        private DataSource dataSource;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;shawQuery&quot;)\r\n        private String shawQuery;\r\n    \r\n        @Autowired\r\n        FeatureManager featureManager;\r\n    \r\n        @Override\r\n        public void write(List&lt;? extends TreatmentData&gt; processedData) {\r\n            for (TreatmentData data : processedData) {\r\n                log.debug(&quot;Writing processed data: &quot; + data.getTreatment());\r\n            }\r\n            try {\r\n                if (featureManager.isActive(FeaturesToToggle.FEATURE_FLAG)) {\r\n                    log.debug(&quot;Query to update staging table: &quot; + shawQuery);\r\n                    jdbcBatchItemWriter = new JdbcBatchItemWriter&lt;&gt;();\r\n                    jdbcBatchItemWriter.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;());\r\n                    jdbcBatchItemWriter.setDataSource(dataSource);\r\n                    jdbcBatchItemWriter.setSql(shawQuery);\r\n                    jdbcBatchItemWriter.write(processedData);\r\n                } else {\r\n                    log.info(&quot;feature flag is disabled&quot;);\r\n                }\r\n            } catch (Exception ex) {\r\n                log.error(&quot;Error writing to DB: {}&quot;, ex);\r\n            }\r\n        }\r\n    }\r\n\r\nFor the unit tests I&#39;m writing, I want to test the function of the feature flag and simply mock the writing to the DB. The way I have the tests setup however, the test fails saying that the `jdbcBatchItemWriter.write()` method call was never called\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @ContextConfiguration(classes = { TreatmentWriter.class})\r\n    public class TreatmentWriterTest {\r\n    \r\n        private MemoryAppender memoryAppender;\r\n    \r\n        @InjectMocks\r\n        TreatmentWriter treatmentWriter;\r\n    \r\n        @Mock\r\n        private FeatureManager featureManager;\r\n    \r\n        @Spy\r\n        private JdbcBatchItemWriter&lt;TreatmentData&gt; jdbcBatchItemWriter;\r\n    \r\n        @Mock\r\n        private SecretsBeans secretsBeans;\r\n    \r\n        @Mock\r\n        private DataSource shawDataSourceCollectEtl;\r\n    \r\n        @BeforeEach\r\n        public void init() throws NoSuchFieldException, IllegalAccessException {\r\n            Logger logger = (Logger) LoggerFactory.getLogger(&quot;com.ally.cr&quot;);\r\n            memoryAppender = new MemoryAppender();\r\n            memoryAppender.setContext((LoggerContext) LoggerFactory.getILoggerFactory());\r\n            logger.setLevel(Level.DEBUG);\r\n            logger.addAppender(memoryAppender);\r\n            memoryAppender.start();\r\n        }\r\n    \r\n        @Test\r\n        public void UT_whenFeatureFlagIsOn_writeToShaw() throws Exception {\r\n            mockFeatureFlag(true); //setting flag to true\r\n    \r\n            Field shawQuery;\r\n            shawQuery = treatmentWriter.getClass().getDeclaredField(&quot;shawQuery&quot;);\r\n            shawQuery.setAccessible(true);\r\n            shawQuery.set(treatmentWriter, &quot;&quot;);\r\n    \r\n            TreatmentData treatmentData = createTreatmentData(); //generating test data\r\n        \r\n            treatmentWriter.write(Arrays.asList(treatmentData));\r\n            assertThat(memoryAppender.search(&quot;Query to update Shaw staging table: &quot;, Level.INFO).size()).isEqualTo(1);\r\n            verify(jdbcBatchItemWriter).write(any(List.class));\r\n        }\r\n    }\r\n\r\nWhat can I do differently to allow this test to pass? I thought maybe by adding the line `doNothing().when(jdbcBatchItemWriter).write(any(List.class));` I can solve it, but I guess all that does is make sure nothing is returned during that method call (I know it already doesn&#39;t return anything).\r\n\r\nI&#39;d appreciate any help on this. Thanks in advance!","title":"JUnit: Mocking a JDBC write method in Spring Batch","body":"<p>I have a spring batch application which writes to an SQL database. I have the block of code which writes to the DB wrapped in a feature flag condition as shown below:</p>\n<pre><code>public class TreatmentWriter implements ItemWriter&lt;TreatmentData&gt; {\n\n    JdbcBatchItemWriter&lt;TreatmentData&gt; jdbcBatchItemWriter;\n\n    @Autowired\n    @Qualifier(&quot;dataSource&quot;)\n    private DataSource dataSource;\n\n    @Autowired\n    @Qualifier(&quot;shawQuery&quot;)\n    private String shawQuery;\n\n    @Autowired\n    FeatureManager featureManager;\n\n    @Override\n    public void write(List&lt;? extends TreatmentData&gt; processedData) {\n        for (TreatmentData data : processedData) {\n            log.debug(&quot;Writing processed data: &quot; + data.getTreatment());\n        }\n        try {\n            if (featureManager.isActive(FeaturesToToggle.FEATURE_FLAG)) {\n                log.debug(&quot;Query to update staging table: &quot; + shawQuery);\n                jdbcBatchItemWriter = new JdbcBatchItemWriter&lt;&gt;();\n                jdbcBatchItemWriter.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;());\n                jdbcBatchItemWriter.setDataSource(dataSource);\n                jdbcBatchItemWriter.setSql(shawQuery);\n                jdbcBatchItemWriter.write(processedData);\n            } else {\n                log.info(&quot;feature flag is disabled&quot;);\n            }\n        } catch (Exception ex) {\n            log.error(&quot;Error writing to DB: {}&quot;, ex);\n        }\n    }\n}\n</code></pre>\n<p>For the unit tests I'm writing, I want to test the function of the feature flag and simply mock the writing to the DB. The way I have the tests setup however, the test fails saying that the <code>jdbcBatchItemWriter.write()</code> method call was never called</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@ActiveProfiles(&quot;test&quot;)\n@ContextConfiguration(classes = { TreatmentWriter.class})\npublic class TreatmentWriterTest {\n\n    private MemoryAppender memoryAppender;\n\n    @InjectMocks\n    TreatmentWriter treatmentWriter;\n\n    @Mock\n    private FeatureManager featureManager;\n\n    @Spy\n    private JdbcBatchItemWriter&lt;TreatmentData&gt; jdbcBatchItemWriter;\n\n    @Mock\n    private SecretsBeans secretsBeans;\n\n    @Mock\n    private DataSource shawDataSourceCollectEtl;\n\n    @BeforeEach\n    public void init() throws NoSuchFieldException, IllegalAccessException {\n        Logger logger = (Logger) LoggerFactory.getLogger(&quot;com.ally.cr&quot;);\n        memoryAppender = new MemoryAppender();\n        memoryAppender.setContext((LoggerContext) LoggerFactory.getILoggerFactory());\n        logger.setLevel(Level.DEBUG);\n        logger.addAppender(memoryAppender);\n        memoryAppender.start();\n    }\n\n    @Test\n    public void UT_whenFeatureFlagIsOn_writeToShaw() throws Exception {\n        mockFeatureFlag(true); //setting flag to true\n\n        Field shawQuery;\n        shawQuery = treatmentWriter.getClass().getDeclaredField(&quot;shawQuery&quot;);\n        shawQuery.setAccessible(true);\n        shawQuery.set(treatmentWriter, &quot;&quot;);\n\n        TreatmentData treatmentData = createTreatmentData(); //generating test data\n    \n        treatmentWriter.write(Arrays.asList(treatmentData));\n        assertThat(memoryAppender.search(&quot;Query to update Shaw staging table: &quot;, Level.INFO).size()).isEqualTo(1);\n        verify(jdbcBatchItemWriter).write(any(List.class));\n    }\n}\n</code></pre>\n<p>What can I do differently to allow this test to pass? I thought maybe by adding the line <code>doNothing().when(jdbcBatchItemWriter).write(any(List.class));</code> I can solve it, but I guess all that does is make sure nothing is returned during that method call (I know it already doesn't return anything).</p>\n<p>I'd appreciate any help on this. Thanks in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1669218769,"post_id":74549567,"comment_id":131595918,"body_markdown":"Does this answer your question? [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1669218926,"post_id":74549567,"comment_id":131595968,"body_markdown":"You also might want to read up what the `substring(int beginindex)` actually does: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#substring(int) - You seem to think it will return you a single letter as a String. This is not the case. Never guess what methods do, always check what they actually do in the documentation.","body":"You also might want to read up what the <code>substring(int beginindex)</code> actually does: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#substring(int)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a> - You seem to think it will return you a single letter as a String. This is not the case. Never guess what methods do, always check what they actually do in the documentation."}],"answers":[{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669218929,"creation_date":1669218929,"answer_id":74549671,"question_id":74549567,"body_markdown":"Good time to learn some basic debugging!\r\n\r\nLet&#39;s look at what&#39;s actually in that `substring` you&#39;re looking at. Add \r\n`System.out.println(dna.substring(i));`\r\nto your loop. You&#39;ll see:\r\n\r\n```\r\nATGCGATACGCTTGA\r\nTGCGATACGCTTGA\r\nGCGATACGCTTGA\r\nCGATACGCTTGA\r\nGATACGCTTGA\r\nATACGCTTGA\r\nTACGCTTGA\r\nACGCTTGA\r\nCGCTTGA\r\nGCTTGA\r\nCTTGA\r\nTTGA\r\nTGA\r\nGA\r\nA\r\n```\r\n\r\nSo, `substring` doesn&#39;t mean what you thought it did - it&#39;s taking the substring *starting* at that index and going to the end of the string. Only the last character has a chance of matching your conditions.\r\n\r\nThough, that last one still won&#39;t match your condition, which is understandably surprising if you&#39;re new to the language. In Java, `==` is &quot;referential equality&quot; - when applied to non-primitives, it&#39;s asserting the two things occupy the same location in memory. For strings in particular, this can give surprising and inconsistent results. Java keeps a special section of memory for strings, and tries to avoid duplicates (but doesn&#39;t try *that* hard.) The important takeaway is that `string1.equals(string2)` is the correct way to check.\r\n\r\nIt&#39;s a good idea to do some visibility and sanity checks like that, when your program isn&#39;t doing what you think it is. With a little practice you&#39;ll get a feel for what values to inspect.\r\n\r\n","title":"the counter is not updating with my loop and I don&#39;t know why","body":"<p>Good time to learn some basic debugging!</p>\n<p>Let's look at what's actually in that <code>substring</code> you're looking at. Add\n<code>System.out.println(dna.substring(i));</code>\nto your loop. You'll see:</p>\n<pre><code>ATGCGATACGCTTGA\nTGCGATACGCTTGA\nGCGATACGCTTGA\nCGATACGCTTGA\nGATACGCTTGA\nATACGCTTGA\nTACGCTTGA\nACGCTTGA\nCGCTTGA\nGCTTGA\nCTTGA\nTTGA\nTGA\nGA\nA\n</code></pre>\n<p>So, <code>substring</code> doesn't mean what you thought it did - it's taking the substring <em>starting</em> at that index and going to the end of the string. Only the last character has a chance of matching your conditions.</p>\n<p>Though, that last one still won't match your condition, which is understandably surprising if you're new to the language. In Java, <code>==</code> is &quot;referential equality&quot; - when applied to non-primitives, it's asserting the two things occupy the same location in memory. For strings in particular, this can give surprising and inconsistent results. Java keeps a special section of memory for strings, and tries to avoid duplicates (but doesn't try <em>that</em> hard.) The important takeaway is that <code>string1.equals(string2)</code> is the correct way to check.</p>\n<p>It's a good idea to do some visibility and sanity checks like that, when your program isn't doing what you think it is. With a little practice you'll get a feel for what values to inspect.</p>\n"},{"tags":[],"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669219884,"creation_date":1669219884,"answer_id":74549884,"question_id":74549567,"body_markdown":"Edward Peters is right about misuse of `substring` that returns a String.\r\nIn Java, string must be places between **double quotes**. A String is an object and you must use method `equals` to compare 2 objects:\r\n\r\n    String a = &quot;first string&quot;;\r\n    String b = &quot;second string&quot;;\r\n    boolean result = a.equals(b));\r\n\r\nIn your case, you should consider using `charAt(int)` instead. Chars must be places between **simple quotes**. A char is a primitive type (not an object) and you must use a double equals sign to compare two of them:\r\n\r\n    char a = &#39;6&#39;;\r\n    char b = &#39;t&#39;;\r\n    boolean result = (a==b);\r\n\r\nSo, your code should look like this:  \r\n\r\n    public class DNA {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tString dna1 = &quot;ATGCGATACGCTTGA&quot;;\r\n        \t\tString dna2 = &quot;ATGCGATACGTGA&quot;;\r\n        \t\tString dna3 = &quot;ATTAATATGTACTGA&quot;;\r\n        \t\tString dna = dna1;\r\n        \t\tint aCount = 0;\r\n        \t\tint cCount = 0;\r\n        \t\tint tCount = 0;\r\n        \r\n        \t\tfor (int i = 0; i &lt; dna.length(); i++) {\r\n        \t\t\tif (dna.charAt(i) == &#39;A&#39;) {\r\n        \t\t\t\taCount += 1;\r\n        \t\t\t} else if (dna.charAt(i) == &#39;C&#39;) {\r\n        \t\t\t\tcCount++;\r\n        \t\t\t} else if (dna.charAt(i) == &#39;T&#39;) {\r\n        \t\t\t\ttCount++;\r\n        \t\t\t}\r\n        \t\t\tSystem.out.println(aCount);\r\n        \t\t}\r\n        \t}\r\n        }","title":"the counter is not updating with my loop and I don&#39;t know why","body":"<p>Edward Peters is right about misuse of <code>substring</code> that returns a String.\nIn Java, string must be places between <strong>double quotes</strong>. A String is an object and you must use method <code>equals</code> to compare 2 objects:</p>\n<pre><code>String a = &quot;first string&quot;;\nString b = &quot;second string&quot;;\nboolean result = a.equals(b));\n</code></pre>\n<p>In your case, you should consider using <code>charAt(int)</code> instead. Chars must be places between <strong>simple quotes</strong>. A char is a primitive type (not an object) and you must use a double equals sign to compare two of them:</p>\n<pre><code>char a = '6';\nchar b = 't';\nboolean result = (a==b);\n</code></pre>\n<p>So, your code should look like this:</p>\n<pre><code>public class DNA {\n    \n        public static void main(String[] args) {\n            String dna1 = &quot;ATGCGATACGCTTGA&quot;;\n            String dna2 = &quot;ATGCGATACGTGA&quot;;\n            String dna3 = &quot;ATTAATATGTACTGA&quot;;\n            String dna = dna1;\n            int aCount = 0;\n            int cCount = 0;\n            int tCount = 0;\n    \n            for (int i = 0; i &lt; dna.length(); i++) {\n                if (dna.charAt(i) == 'A') {\n                    aCount += 1;\n                } else if (dna.charAt(i) == 'C') {\n                    cCount++;\n                } else if (dna.charAt(i) == 'T') {\n                    tCount++;\n                }\n                System.out.println(aCount);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27015200,"reputation":71,"user_id":20574184,"display_name":"mttt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669220050,"creation_date":1669220050,"answer_id":74549921,"question_id":74549567,"body_markdown":"*substring(i)* doesn&#39;t select one character but all the characters from i to the string length, then you also made a wrong comparison: *==* checks &#39;object identity&#39;, while you want to check that they are equals.\r\n\r\nYou could substitute\r\n\r\n*if (dna.substring(i) == &quot;A&quot;)*\r\n\r\nwith:\r\n\r\n*if (dna.charAt(i) == &#39;A&#39;)*\r\n\r\nthis works because *charAt(i)* returns a primitive type, thus you can correctly compare it to *&#39;A&#39;* using *==*\r\n","title":"the counter is not updating with my loop and I don&#39;t know why","body":"<p><em>substring(i)</em> doesn't select one character but all the characters from i to the string length, then you also made a wrong comparison: <em>==</em> checks 'object identity', while you want to check that they are equals.</p>\n<p>You could substitute</p>\n<p><em>if (dna.substring(i) == &quot;A&quot;)</em></p>\n<p>with:</p>\n<p><em>if (dna.charAt(i) == 'A')</em></p>\n<p>this works because <em>charAt(i)</em> returns a primitive type, thus you can correctly compare it to <em>'A'</em> using <em>==</em></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669226551,"creation_date":1669224421,"answer_id":74550827,"question_id":74549567,"body_markdown":"One of the problems, as stated, was the way you are comparing Strings. Here is a way \r\nthat uses a switch statement and a iterated array of characters. I put all the strings in an array. If you only have one string, the outer loop can be eliminated.\r\n```\r\npublic class DNA {\r\n\r\n    public static void main(String[] args) {\r\n        String dna1 = &quot;ATGCGATACGCTTGA&quot;;\r\n        String dna2 = &quot;ATGCGATACGTGA&quot;;\r\n        String dna3 = &quot;ATTAATATGTACTGA&quot;;\r\n\r\n        String[] dnaStrings =\r\n            {dna1,dna2,dna3};\r\n        int aCount = 0;\r\n        int cCount = 0;\r\n        int tCount = 0;\r\n        int gCount = 0;\r\n        for (String dnaString : dnaStrings) {\r\n            for (char c : dnaString.toCharArray()) {\r\n                switch (c)  {\r\n                    case &#39;A&#39; -&gt; aCount++;\r\n                    case &#39;T&#39; -&gt; tCount++;\r\n                    case &#39;C&#39; -&gt; cCount++;\r\n                    case &#39;G&#39; -&gt; gCount++;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;A&#39;s = &quot; + aCount);\r\n        System.out.println(&quot;T&#39;s = &quot; + tCount);\r\n        System.out.println(&quot;C&#39;s = &quot; + cCount);\r\n        System.out.println(&quot;G&#39;s = &quot; + gCount);\r\n}\r\n```\r\nprints\r\n```\r\nA&#39;s = 14\r\nT&#39;s = 13\r\nC&#39;s = 6\r\nG&#39;s = 10","title":"the counter is not updating with my loop and I don&#39;t know why","body":"<p>One of the problems, as stated, was the way you are comparing Strings. Here is a way\nthat uses a switch statement and a iterated array of characters. I put all the strings in an array. If you only have one string, the outer loop can be eliminated.</p>\n<pre><code>public class DNA {\n\n    public static void main(String[] args) {\n        String dna1 = &quot;ATGCGATACGCTTGA&quot;;\n        String dna2 = &quot;ATGCGATACGTGA&quot;;\n        String dna3 = &quot;ATTAATATGTACTGA&quot;;\n\n        String[] dnaStrings =\n            {dna1,dna2,dna3};\n        int aCount = 0;\n        int cCount = 0;\n        int tCount = 0;\n        int gCount = 0;\n        for (String dnaString : dnaStrings) {\n            for (char c : dnaString.toCharArray()) {\n                switch (c)  {\n                    case 'A' -&gt; aCount++;\n                    case 'T' -&gt; tCount++;\n                    case 'C' -&gt; cCount++;\n                    case 'G' -&gt; gCount++;\n                }\n            }\n        }\n        System.out.println(&quot;A's = &quot; + aCount);\n        System.out.println(&quot;T's = &quot; + tCount);\n        System.out.println(&quot;C's = &quot; + cCount);\n        System.out.println(&quot;G's = &quot; + gCount);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>A's = 14\nT's = 13\nC's = 6\nG's = 10\n</code></pre>\n"}],"owner":{"account_id":27026326,"reputation":1,"user_id":20583533,"display_name":"Katie-Kat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1669226551,"creation_date":1669218575,"question_id":74549567,"body_markdown":"I&#39;m trying to practice for a techniqual test where I have to count the number of characters in a DNA sequence, but no matter what I do the counter won&#39;t update, this is really frustrating as I learnt code with ruby and it would update, but Java seems to have an issue. I know there&#39;s something wrong with my syntaxt but for the life of me I can&#39;t figure it out.  \r\n\r\n```\r\npublic class DNA {\r\n\r\n  public static void main(String[] args) {\r\n    String dna1 = &quot;ATGCGATACGCTTGA&quot;;\r\n    String dna2 = &quot;ATGCGATACGTGA&quot;;\r\n    String dna3 = &quot;ATTAATATGTACTGA&quot;;\r\n    String dna = dna1;\r\n    int aCount = 0;\r\n    int cCount = 0;\r\n    int tCount = 0; \r\n\r\n    for (int i = 0; i &lt;= dna.length(); i++) {\r\n\r\n      if (dna.substring(i) == &quot;A&quot;) {\r\n        aCount+= 1;\r\n      }\r\n      else if (dna.substring(i) == &quot;C&quot;) {\r\n        cCount++;\r\n      } \r\n      else if (dna.substring(i) == &quot;T&quot;) {\r\n        tCount++;\r\n      }\r\n      System.out.println(aCount);\r\n    } \r\n  }\r\n}\r\n```\r\n\r\nIt just keeps returning zero instead of adding one to it if the conditions are meet and reassigning the value. ","title":"the counter is not updating with my loop and I don&#39;t know why","body":"<p>I'm trying to practice for a techniqual test where I have to count the number of characters in a DNA sequence, but no matter what I do the counter won't update, this is really frustrating as I learnt code with ruby and it would update, but Java seems to have an issue. I know there's something wrong with my syntaxt but for the life of me I can't figure it out.</p>\n<pre><code>public class DNA {\n\n  public static void main(String[] args) {\n    String dna1 = &quot;ATGCGATACGCTTGA&quot;;\n    String dna2 = &quot;ATGCGATACGTGA&quot;;\n    String dna3 = &quot;ATTAATATGTACTGA&quot;;\n    String dna = dna1;\n    int aCount = 0;\n    int cCount = 0;\n    int tCount = 0; \n\n    for (int i = 0; i &lt;= dna.length(); i++) {\n\n      if (dna.substring(i) == &quot;A&quot;) {\n        aCount+= 1;\n      }\n      else if (dna.substring(i) == &quot;C&quot;) {\n        cCount++;\n      } \n      else if (dna.substring(i) == &quot;T&quot;) {\n        tCount++;\n      }\n      System.out.println(aCount);\n    } \n  }\n}\n</code></pre>\n<p>It just keeps returning zero instead of adding one to it if the conditions are meet and reassigning the value.</p>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":1,"creation_date":1669226947,"post_id":74551119,"comment_id":131598927,"body_markdown":"The Java GC does not necessarily run immediately when some memory region is reclaimable (i.e. no longer strongly referenced by anything). It&#39;s up to the GC when to run and there&#39;s relatively little you can do from application code to force it to run - it is suggested to tune the JVM if one has a certain GC behaviour in mind. That said, are you actually running into OOM errors?","body":"The Java GC does not necessarily run immediately when some memory region is reclaimable (i.e. no longer strongly referenced by anything). It&#39;s up to the GC when to run and there&#39;s relatively little you can do from application code to force it to run - it is suggested to tune the JVM if one has a certain GC behaviour in mind. That said, are you actually running into OOM errors?"},{"owner":{"account_id":26963252,"reputation":41,"user_id":20530585,"display_name":"programmerlife"},"score":1,"creation_date":1669227126,"post_id":74551119,"comment_id":131598971,"body_markdown":"No errors as such, but since the application is running on container the load grows on host which will impact other applications. Also at one instance the application got stuck which I suspect was due to memory.","body":"No errors as such, but since the application is running on container the load grows on host which will impact other applications. Also at one instance the application got stuck which I suspect was due to memory."},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":1,"creation_date":1669227250,"post_id":74551119,"comment_id":131599022,"body_markdown":"Are you running Java &gt;9? If so, the JVM will honor limits set on the container such as available memory (it did not in Java 8). One option would be to set the maximum memory that the container can use.","body":"Are you running Java &gt;9? If so, the JVM will honor limits set on the container such as available memory (it did not in Java 8). One option would be to set the maximum memory that the container can use."},{"owner":{"account_id":26963252,"reputation":41,"user_id":20530585,"display_name":"programmerlife"},"score":1,"creation_date":1669227521,"post_id":74551119,"comment_id":131599117,"body_markdown":"I&#39;m using Java 8 only, I&#39;ve limits set on the container but I expect my application to reach near 70% those limits during certain times, but due to these objects taking up the memory I worry the memory usage is more that even during regular usage, I&#39;m worried what will happen at that time. It has failed once.","body":"I&#39;m using Java 8 only, I&#39;ve limits set on the container but I expect my application to reach near 70% those limits during certain times, but due to these objects taking up the memory I worry the memory usage is more that even during regular usage, I&#39;m worried what will happen at that time. It has failed once."},{"owner":{"account_id":26963252,"reputation":41,"user_id":20530585,"display_name":"programmerlife"},"score":0,"creation_date":1669227586,"post_id":74551119,"comment_id":131599143,"body_markdown":"Do you have any idea on the second part of the question?","body":"Do you have any idea on the second part of the question?"},{"owner":{"account_id":2706706,"reputation":852,"user_id":2336165,"display_name":"lfmunoz"},"score":1,"creation_date":1678234510,"post_id":74551119,"comment_id":133493157,"body_markdown":"having issues with this as well. When I add objects to cache and overwrite it, it is not being garbage collected. When I create object and then null the variable holding then call   System.gc() it will get garbage collected immediately.","body":"having issues with this as well. When I add objects to cache and overwrite it, it is not being garbage collected. When I create object and then null the variable holding then call   System.gc() it will get garbage collected immediately."}],"owner":{"account_id":26963252,"reputation":41,"user_id":20530585,"display_name":"programmerlife"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1669226304,"creation_date":1669225927,"question_id":74551119,"body_markdown":"I&#39;ve a use case where I want a time-bounded map with expiring entries for which I&#39;m using Guava Cache. The application is run inside a container, and I&#39;ve the following configuration for the cache - thus entries older than 5 secs expire or if the cache reach the defined size they are evicted (as I can see from the logs being printed from removal notifier). But the issue is the memory usage is ever-growing and is never freed up, my guess here is probably the entries have become eligible for GC but are not taken up yet. \r\n\r\n\r\n```\r\nCacheBuilder.newBuilder()\r\n       .maximumSize(1000)\r\n       .expireAfterWrite(5, TimeUnit.SECONDS)\r\n       .removalListener(this::logEviction)\r\n       .build()\r\n\r\n```\r\n\r\n\r\nSo I wanted to understand when exactly does GC will happen after eviction? i.e. If an entry is expired and removed from the Cache, when will it be freed from memory? \r\n\r\nAlso when I use weakValues, I don&#39;t face this problem but I am see some values are evicted with cause as &quot;COLLECTED&quot; (while others are either &quot;EXPIRED&quot; or &quot;SIZE&quot;, which means they were garbage collected as per documentation. What I want to understand here is, are they garbage collected even before other conditions were met (i.e. expiry time or maximum size)?","title":"Guava Cache - When are the evicted items garbage collected? How is the behaviour different when we use weakValues?","body":"<p>I've a use case where I want a time-bounded map with expiring entries for which I'm using Guava Cache. The application is run inside a container, and I've the following configuration for the cache - thus entries older than 5 secs expire or if the cache reach the defined size they are evicted (as I can see from the logs being printed from removal notifier). But the issue is the memory usage is ever-growing and is never freed up, my guess here is probably the entries have become eligible for GC but are not taken up yet.</p>\n<pre><code>CacheBuilder.newBuilder()\n       .maximumSize(1000)\n       .expireAfterWrite(5, TimeUnit.SECONDS)\n       .removalListener(this::logEviction)\n       .build()\n\n</code></pre>\n<p>So I wanted to understand when exactly does GC will happen after eviction? i.e. If an entry is expired and removed from the Cache, when will it be freed from memory?</p>\n<p>Also when I use weakValues, I don't face this problem but I am see some values are evicted with cause as &quot;COLLECTED&quot; (while others are either &quot;EXPIRED&quot; or &quot;SIZE&quot;, which means they were garbage collected as per documentation. What I want to understand here is, are they garbage collected even before other conditions were met (i.e. expiry time or maximum size)?</p>\n"},{"tags":["java","graphics","bluej"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1669235803,"post_id":74551156,"comment_id":131601374,"body_markdown":"Applets are dead - you&#39;ll get no support for them here.","body":"Applets are dead - you&#39;ll get no support for them here."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1669236089,"post_id":74551156,"comment_id":131601439,"body_markdown":"You need to offset the inner graph so that it starts at the corner of the inner rectangle, so that when you do things like `y4 -= w2div;` it takes into account the new starting position","body":"You need to offset the inner graph so that it starts at the corner of the inner rectangle, so that when you do things like <code>y4 -= w2div;</code> it takes into account the new starting position"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1669236376,"post_id":74551156,"comment_id":131601505,"body_markdown":"You have a lot of repeating code - it would be a lot easier to create a few methods which took this into account in some way - also, you should consider having a look at [`Graphics#translate(int, int)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Graphics.html#translate(int,int)), just remember, you need to  undo this afterwards","body":"You have a lot of repeating code - it would be a lot easier to create a few methods which took this into account in some way - also, you should consider having a look at <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Graphics.html#translate(int,int)\" rel=\"nofollow noreferrer\"><code>Graphics#translate(int, int)</code></a>, just remember, you need to  undo this afterwards"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1669237331,"post_id":74551156,"comment_id":131601767,"body_markdown":"If I was doing this, I&#39;d be tempted to create a single method to draw the graph and then use an `AffineTransform` to translate it&#39;s position and rotate/flip it - but that might just cause you to flip out","body":"If I was doing this, I&#39;d be tempted to create a single method to draw the graph and then use an <code>AffineTransform</code> to translate it&#39;s position and rotate/flip it - but that might just cause you to flip out"}],"owner":{"account_id":26754585,"reputation":1,"user_id":20353405,"display_name":"Noxhh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669226097,"creation_date":1669226097,"question_id":74551156,"body_markdown":"I am trying to finish a project that I have been working on for fun on Java, and I&#39;m genuinely trying to figure this out. Here is the code. I put a comment where the problem starts.\r\n\r\n```\r\n// Lab04vst.java\r\n// \r\n\r\nimport java.awt.*;\r\nimport java.applet.*;\r\n\r\npublic class Lab04vsthome extends Applet\r\n{\r\n    public void paint(Graphics g)\r\n    {\r\n        int width = 980;\r\n        int height = 630;\r\n        int x1 = 10;\r\n        int y1 = 640;\r\n        int x2 = 990;\r\n        int y2 = 640;\r\n        g.drawRect(10,10,width,height);\r\n\r\n        int hdiv = height/50;\r\n        int wdiv = width/50;\r\n\r\n        //bottom right\r\n        for(int k = 0; k &lt;= 50; k++)\r\n        {\r\n            g.drawLine(x1,y1,x2,y2);\r\n            y2 -= hdiv;\r\n            x1 += wdiv;\r\n        }   \r\n\r\n        x1 = 10;\r\n        y1 = 640;\r\n        x2 = 990;\r\n        y2 = 640;\r\n\r\n        //bottom left\r\n        for(int k = 0; k &lt;= 50; k++)\r\n        {\r\n            g.drawLine(x1,y1,x2,y2);\r\n            y1 -= hdiv;\r\n            x2 -= wdiv;\r\n        }   \r\n\r\n        x1 = 10;\r\n        y1 = 10;\r\n        x2 = 990;\r\n        y2 = 10;\r\n\r\n        //top right\r\n        for(int k = 0; k &lt;= 50; k++)\r\n        {\r\n            g.drawLine(x1,y1,x2,y2);\r\n            y2 += hdiv;\r\n            x1 += wdiv;\r\n        }   \r\n\r\n        x1 = 10;\r\n        y1 = 10;\r\n        x2 = 990;\r\n        y2 = 10;\r\n\r\n        //top left\r\n        for(int k = 0; k &lt;= 50; k++)\r\n        {\r\n            g.drawLine(x1,y1,x2,y2);\r\n            y1 += hdiv;\r\n            x2 -= wdiv;\r\n        }\r\n        \r\n        x1 = 10;\r\n        y1 = 640;\r\n        x2 = 990;\r\n        y2 = 640;\r\n        \r\n        //problem starts here\r\n        int width2 = 500;\r\n        int height2 = 312;\r\n        g.drawRect(250, 170, width2, height2);\r\n        \r\n        int x3 = 250;\r\n        int y3 = 322;\r\n        int x4 = 510;\r\n        int y4 = 322;\r\n        \r\n        int w2div = width2 / 50;\r\n        int h2div = height2 / 50;\r\n        \r\n        \r\n        for (int k = 0; k &lt;= 50; k++)\r\n        {\r\n            g.drawLine(x3,y3,x4,y4);\r\n            y4 -= w2div;\r\n            x3 += h2div;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nIt is supposed to generate the shapes on the outside of the box in the center, in the inside box. When I tried to make this happen with one of them, I can&#39;t figure out a way to move it and to stop it from going out, and I&#39;m genuinely stumped at this point. The solution is probably obvious, but I&#39;m newer to doing graphs and loops in Java so I&#39;m stumped at this point. If it matters at all, I&#39;m using BlueJ. Can anyone help?","title":"Java Graphic problem with getting correct generation on my graphic lines","body":"<p>I am trying to finish a project that I have been working on for fun on Java, and I'm genuinely trying to figure this out. Here is the code. I put a comment where the problem starts.</p>\n<pre><code>// Lab04vst.java\n// \n\nimport java.awt.*;\nimport java.applet.*;\n\npublic class Lab04vsthome extends Applet\n{\n    public void paint(Graphics g)\n    {\n        int width = 980;\n        int height = 630;\n        int x1 = 10;\n        int y1 = 640;\n        int x2 = 990;\n        int y2 = 640;\n        g.drawRect(10,10,width,height);\n\n        int hdiv = height/50;\n        int wdiv = width/50;\n\n        //bottom right\n        for(int k = 0; k &lt;= 50; k++)\n        {\n            g.drawLine(x1,y1,x2,y2);\n            y2 -= hdiv;\n            x1 += wdiv;\n        }   \n\n        x1 = 10;\n        y1 = 640;\n        x2 = 990;\n        y2 = 640;\n\n        //bottom left\n        for(int k = 0; k &lt;= 50; k++)\n        {\n            g.drawLine(x1,y1,x2,y2);\n            y1 -= hdiv;\n            x2 -= wdiv;\n        }   \n\n        x1 = 10;\n        y1 = 10;\n        x2 = 990;\n        y2 = 10;\n\n        //top right\n        for(int k = 0; k &lt;= 50; k++)\n        {\n            g.drawLine(x1,y1,x2,y2);\n            y2 += hdiv;\n            x1 += wdiv;\n        }   \n\n        x1 = 10;\n        y1 = 10;\n        x2 = 990;\n        y2 = 10;\n\n        //top left\n        for(int k = 0; k &lt;= 50; k++)\n        {\n            g.drawLine(x1,y1,x2,y2);\n            y1 += hdiv;\n            x2 -= wdiv;\n        }\n        \n        x1 = 10;\n        y1 = 640;\n        x2 = 990;\n        y2 = 640;\n        \n        //problem starts here\n        int width2 = 500;\n        int height2 = 312;\n        g.drawRect(250, 170, width2, height2);\n        \n        int x3 = 250;\n        int y3 = 322;\n        int x4 = 510;\n        int y4 = 322;\n        \n        int w2div = width2 / 50;\n        int h2div = height2 / 50;\n        \n        \n        for (int k = 0; k &lt;= 50; k++)\n        {\n            g.drawLine(x3,y3,x4,y4);\n            y4 -= w2div;\n            x3 += h2div;\n        }\n    }\n}\n\n</code></pre>\n<p>It is supposed to generate the shapes on the outside of the box in the center, in the inside box. When I tried to make this happen with one of them, I can't figure out a way to move it and to stop it from going out, and I'm genuinely stumped at this point. The solution is probably obvious, but I'm newer to doing graphs and loops in Java so I'm stumped at this point. If it matters at all, I'm using BlueJ. Can anyone help?</p>\n"},{"tags":["java","hibernate","jpa","hibernate-mapping","hibernate-annotations"],"owner":{"account_id":27027177,"reputation":11,"user_id":20584236,"display_name":"Javier Gil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669225614,"creation_date":1669225614,"question_id":74551066,"body_markdown":"I&#39;ve a custom implementation of `PropertyAccessor` that only works if I declare it in the XML mapping file, but not when using field annotations in POJOs).\r\n\r\n\r\nI try the following:\r\n- With hibernate-core (4.2), XML works but annotation `@AccessType` doesn&#39;t. \r\n- With hibernate-core (4.3), XML not tested, annotation `@AttributeAccessor` doesn&#39;t work, same problem\r\n- Use `@ColumnTransformer` and `@Formula` instead, but I&#39;ve not found a formula or a function that suits my needs.\r\n\r\nI expect `@AccessType=(&quot;my.custom.property.accessor&quot;)` or `@AttributeAccessor(&quot;my.custom.property.accessor&quot;)` to work, but it seems that these annotations or actually their content are ignored.\r\n\r\nAs a precision, I use field access.\r\n\r\nAny help will be really appreciated, I want to move to annotations instead of XML mapping files, and this issue is preventing me to do it.\r\n\r\nThanks in advance.","title":"Problem using custom PropertyAccessor implementation with annotations","body":"<p>I've a custom implementation of <code>PropertyAccessor</code> that only works if I declare it in the XML mapping file, but not when using field annotations in POJOs).</p>\n<p>I try the following:</p>\n<ul>\n<li>With hibernate-core (4.2), XML works but annotation <code>@AccessType</code> doesn't.</li>\n<li>With hibernate-core (4.3), XML not tested, annotation <code>@AttributeAccessor</code> doesn't work, same problem</li>\n<li>Use <code>@ColumnTransformer</code> and <code>@Formula</code> instead, but I've not found a formula or a function that suits my needs.</li>\n</ul>\n<p>I expect <code>@AccessType=(&quot;my.custom.property.accessor&quot;)</code> or <code>@AttributeAccessor(&quot;my.custom.property.accessor&quot;)</code> to work, but it seems that these annotations or actually their content are ignored.</p>\n<p>As a precision, I use field access.</p>\n<p>Any help will be really appreciated, I want to move to annotations instead of XML mapping files, and this issue is preventing me to do it.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","debugging","gradle","tomcat"],"comments":[{"owner":{"account_id":23288659,"reputation":56,"user_id":17371071,"display_name":"Fabricio Entringer Moreira"},"score":0,"creation_date":1666161132,"post_id":74120593,"comment_id":130866840,"body_markdown":"I think this thread can help you: https://stackoverflow.com/questions/40118878/8080-port-already-taken-issue-when-trying-to-redeploy-project-from-spring-tool-s","body":"I think this thread can help you: <a href=\"https://stackoverflow.com/questions/40118878/8080-port-already-taken-issue-when-trying-to-redeploy-project-from-spring-tool-s\" title=\"8080 port already taken issue when trying to redeploy project from spring tool s\">stackoverflow.com/questions/40118878/&hellip;</a>"},{"owner":{"account_id":26667438,"reputation":11,"user_id":20279320,"display_name":"Atul Gupta"},"score":0,"creation_date":1666163969,"post_id":74120593,"comment_id":130867666,"body_markdown":"@FabricioEntringerMoreira Most of the answers suggest killing the process that is occupying the port. I am already doing this, but force killing the process manually every time doesn&#39;t seem to be solution. Is there anything specific on this thread that I should try?","body":"@FabricioEntringerMoreira Most of the answers suggest killing the process that is occupying the port. I am already doing this, but force killing the process manually every time doesn&#39;t seem to be solution. Is there anything specific on this thread that I should try?"}],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669225429,"creation_date":1669225429,"answer_id":74551026,"question_id":74120593,"body_markdown":"You can do `netsh winsock reset` and restart the PC.","title":"Web server failed to start. Port 8080 was already in use while re-debugging spring boot application","body":"<p>You can do <code>netsh winsock reset</code> and restart the PC.</p>\n"}],"owner":{"account_id":26667438,"reputation":11,"user_id":20279320,"display_name":"Atul Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669225429,"creation_date":1666159780,"question_id":74120593,"body_markdown":"I am trying to run my Spring boot application in debug mode {Intellij Idea}.\r\nWhen I debug the application for the first time, it works. However, on stopping the process and running the application again gives me this error.\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    Description:\r\n    Web server failed to start. Port 8080 was already in use.\r\n    Action:\r\n    Identify and stop the process that&#39;s listening on port 8080 or configure this application to listen on another port.\r\n    \r\n    &gt; Task :bootRun FAILED\r\n    Execution failed for task &#39;:bootRun&#39;.\r\n    &gt; Process &#39;..\\jdk11.0.16_9\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1 \r\n\r\nThe problem is that port 8080 doesn&#39;t get released when I stop the execution.\r\nIf I try to manually kill the process using `taskkill /pid &lt;pid&gt; /f`, then I am able to re-run the application, but I have to repeat manually killing the previous process on port 8080 every time I want to re-run the application. Is there a way to overcome this issue?\r\n\r\nTIA!","title":"Web server failed to start. Port 8080 was already in use while re-debugging spring boot application","body":"<p>I am trying to run my Spring boot application in debug mode {Intellij Idea}.\nWhen I debug the application for the first time, it works. However, on stopping the process and running the application again gives me this error.</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n***************************\nAPPLICATION FAILED TO START\n***************************\nDescription:\nWeb server failed to start. Port 8080 was already in use.\nAction:\nIdentify and stop the process that's listening on port 8080 or configure this application to listen on another port.\n\n&gt; Task :bootRun FAILED\nExecution failed for task ':bootRun'.\n&gt; Process '..\\jdk11.0.16_9\\bin\\java.exe'' finished with non-zero exit value 1 \n</code></pre>\n<p>The problem is that port 8080 doesn't get released when I stop the execution.\nIf I try to manually kill the process using <code>taskkill /pid &lt;pid&gt; /f</code>, then I am able to re-run the application, but I have to repeat manually killing the previous process on port 8080 every time I want to re-run the application. Is there a way to overcome this issue?</p>\n<p>TIA!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":19942592,"reputation":9,"user_id":14614018,"display_name":"Rachid Le Laborantin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660995911,"creation_date":1660995911,"answer_id":73426438,"question_id":73425303,"body_markdown":"Are you in activity or fragment?\r\nIf activity, try \r\ngetSupportActionBar() to get the toolbar used ","title":"How to change toolbar style programmatically? When I try to do this popup menu changes instead of the toolbar","body":"<p>Are you in activity or fragment?\nIf activity, try\ngetSupportActionBar() to get the toolbar used</p>\n"},{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669225349,"creation_date":1669225349,"answer_id":74551007,"question_id":73425303,"body_markdown":"Using this code:\r\n\r\n    toolbar.getContext().setTheme(R.style.toolbarStyle);\r\n\r\nset&#39;s the theme on the entire `Activity`, because you&#39;ve called `setTheme()` on the `Activity`&#39;s `Context`.\r\n\r\nA theme is intended to be for an entire application, not just for an individual UI element. You want to use styling to style just this one UI element.\r\n\r\nIf you have a custom toolbar, then you should just create methods on your custom toolbar to adjust these styles and call those methods from your `Activity`.","title":"How to change toolbar style programmatically? When I try to do this popup menu changes instead of the toolbar","body":"<p>Using this code:</p>\n<pre><code>toolbar.getContext().setTheme(R.style.toolbarStyle);\n</code></pre>\n<p>set's the theme on the entire <code>Activity</code>, because you've called <code>setTheme()</code> on the <code>Activity</code>'s <code>Context</code>.</p>\n<p>A theme is intended to be for an entire application, not just for an individual UI element. You want to use styling to style just this one UI element.</p>\n<p>If you have a custom toolbar, then you should just create methods on your custom toolbar to adjust these styles and call those methods from your <code>Activity</code>.</p>\n"}],"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74551007,"answer_count":2,"score":3,"last_activity_date":1669225349,"creation_date":1660985294,"question_id":73425303,"body_markdown":"I have a custom toolbar for my app, but in one of the activities I want to change the style of the toolbar programatically. This is the style for the toolbar that I want to apply programmatically.\r\n\r\n    &lt;style name=&quot;toolbarStyle&quot; parent=&quot;ThemeOverlay.AppCompat.Dark&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@android:color/white&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n\r\nI use this code to change toolbar style programmatically\r\n\r\n    toolbar.getContext().setTheme(R.style.toolbarStyle);\r\n\r\n\r\nThe problem is, the popup theme changes instead of the toolbar.\r\n\r\nHow to fix it?","title":"How to change toolbar style programmatically? When I try to do this popup menu changes instead of the toolbar","body":"<p>I have a custom toolbar for my app, but in one of the activities I want to change the style of the toolbar programatically. This is the style for the toolbar that I want to apply programmatically.</p>\n<pre><code>&lt;style name=&quot;toolbarStyle&quot; parent=&quot;ThemeOverlay.AppCompat.Dark&quot;&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@android:color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>I use this code to change toolbar style programmatically</p>\n<pre><code>toolbar.getContext().setTheme(R.style.toolbarStyle);\n</code></pre>\n<p>The problem is, the popup theme changes instead of the toolbar.</p>\n<p>How to fix it?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"score":0,"creation_date":1661016882,"post_id":73428759,"comment_id":129672805,"body_markdown":"Does the code you&#39;ve shown work?","body":"Does the code you&#39;ve shown work?"},{"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"score":0,"creation_date":1661021019,"post_id":73428759,"comment_id":129673625,"body_markdown":"The code works, but I want to access this class and change the line colors.","body":"The code works, but I want to access this class and change the line colors."},{"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"score":0,"creation_date":1661069854,"post_id":73428759,"comment_id":129679821,"body_markdown":"I need to change the line colors in another activity.","body":"I need to change the line colors in another activity."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1669224822,"post_id":73428759,"comment_id":131598245,"body_markdown":"To change line colors in another `Activity1` you need to use your custom `LinedEditText` instead of `EditText` in the layout for the other `Activity`.","body":"To change line colors in another <code>Activity1</code> you need to use your custom <code>LinedEditText</code> instead of <code>EditText</code> in the layout for the other <code>Activity</code>."},{"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"score":0,"creation_date":1669225307,"post_id":73428759,"comment_id":131598413,"body_markdown":"@DavidWasser Thanks for your comment. I already fixed that but I forgot to post my answer. Now I&#39;ll post the answer.","body":"@DavidWasser Thanks for your comment. I already fixed that but I forgot to post my answer. Now I&#39;ll post the answer."}],"answers":[{"tags":[],"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669225335,"creation_date":1669225335,"answer_id":74551002,"question_id":73428759,"body_markdown":"    public  class LinedEditText extends EditText {\r\n\r\n    private Rect mRect;\r\n    protected Paint mPaint;\r\n\r\n    // we need this constructor for LayoutInflater\r\n    public LinedEditText(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n\r\n        mRect = new Rect();\r\n        mPaint = new Paint();\r\n        mPaint.setStyle(Paint.Style.FILL_AND_STROKE);\r\n        mPaint.setColor(Color.parseColor(&quot;#82B6C6&quot;));\r\n    }\r\n\r\n    @Override\r\n    public void onDraw(Canvas canvas) {\r\n        //int count = getLineCount();\r\n\r\n        int height = getHeight();\r\n        int line_height = getLineHeight();\r\n\r\n        int count = height / line_height;\r\n\r\n        if (getLineCount() &gt; count)\r\n            count = getLineCount();//for long text with scrolling\r\n\r\n\r\n        Rect r = mRect;\r\n        Paint paint = mPaint;\r\n        int baseline = getLineBounds(0, r);//first line\r\n\r\n        for (int i = 0; i &lt; count; i++) {\r\n\r\n            canvas.drawLine(r.left, baseline + 1, r.right, baseline + 1, paint);\r\n            baseline += getLineHeight();//next line\r\n        }\r\n\r\n        super.onDraw(canvas);\r\n    }\r\n}\r\n","title":"How to change the editText line colors programmatically?","body":"<pre><code>public  class LinedEditText extends EditText {\n\nprivate Rect mRect;\nprotected Paint mPaint;\n\n// we need this constructor for LayoutInflater\npublic LinedEditText(Context context, AttributeSet attrs) {\n    super(context, attrs);\n\n    mRect = new Rect();\n    mPaint = new Paint();\n    mPaint.setStyle(Paint.Style.FILL_AND_STROKE);\n    mPaint.setColor(Color.parseColor(&quot;#82B6C6&quot;));\n}\n\n@Override\npublic void onDraw(Canvas canvas) {\n    //int count = getLineCount();\n\n    int height = getHeight();\n    int line_height = getLineHeight();\n\n    int count = height / line_height;\n\n    if (getLineCount() &gt; count)\n        count = getLineCount();//for long text with scrolling\n\n\n    Rect r = mRect;\n    Paint paint = mPaint;\n    int baseline = getLineBounds(0, r);//first line\n\n    for (int i = 0; i &lt; count; i++) {\n\n        canvas.drawLine(r.left, baseline + 1, r.right, baseline + 1, paint);\n        baseline += getLineHeight();//next line\n    }\n\n    super.onDraw(canvas);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74551002,"answer_count":1,"score":0,"last_activity_date":1669225335,"creation_date":1661016447,"question_id":73428759,"body_markdown":"I use this class to make lines inside editText which works well. I want to change the line colors in another activities programmatically. How to do that?\r\n\r\n    \r\n    public  class LinedEditText extends androidx.appcompat.widget.AppCompatEditText{\r\n        public final Paint mPaint = new Paint();\r\n    \r\n        public LinedEditText(Context context) {\r\n            super(context);\r\n            initPaint();\r\n        }\r\n\r\n        public LinedEditText(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n            initPaint();\r\n        }\r\n\r\n        public LinedEditText(Context context, AttributeSet attrs, int defStyle) {\r\n            super(context, attrs, defStyle);\r\n            initPaint();\r\n        }\r\n\r\n        private void initPaint() {\r\n            mPaint.setStyle(Paint.Style.STROKE);\r\n            mPaint.setColor(Color.BLUE);\r\n        }\r\n\r\n        @Override protected void onDraw(Canvas canvas) {\r\n            int left = getLeft();\r\n            int right = getRight();\r\n            int paddingTop = getPaddingTop();\r\n            int paddingBottom = getPaddingBottom();\r\n            int paddingLeft = getPaddingLeft();\r\n            int paddingRight = getPaddingRight();\r\n            int height = getHeight();\r\n            int lineHeight = getLineHeight();\r\n            int count = (height-paddingTop-paddingBottom) / lineHeight;\r\n\r\n            for (int i = 0; i &lt; count; i++) {\r\n                int baseline = lineHeight * (i+1) + paddingTop;\r\n                canvas.drawLine(left+paddingLeft, baseline, right-paddingRight, baseline, mPaint);\r\n            }\r\n\r\n            super.onDraw(canvas);\r\n        }\r\n    }\r\n\r\n\r\nSecond question is, how to make new line when the user pressed enter or return key so as to the will have something like unlimited lines?","title":"How to change the editText line colors programmatically?","body":"<p>I use this class to make lines inside editText which works well. I want to change the line colors in another activities programmatically. How to do that?</p>\n<pre><code>public  class LinedEditText extends androidx.appcompat.widget.AppCompatEditText{\n    public final Paint mPaint = new Paint();\n\n    public LinedEditText(Context context) {\n        super(context);\n        initPaint();\n    }\n\n    public LinedEditText(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        initPaint();\n    }\n\n    public LinedEditText(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n        initPaint();\n    }\n\n    private void initPaint() {\n        mPaint.setStyle(Paint.Style.STROKE);\n        mPaint.setColor(Color.BLUE);\n    }\n\n    @Override protected void onDraw(Canvas canvas) {\n        int left = getLeft();\n        int right = getRight();\n        int paddingTop = getPaddingTop();\n        int paddingBottom = getPaddingBottom();\n        int paddingLeft = getPaddingLeft();\n        int paddingRight = getPaddingRight();\n        int height = getHeight();\n        int lineHeight = getLineHeight();\n        int count = (height-paddingTop-paddingBottom) / lineHeight;\n\n        for (int i = 0; i &lt; count; i++) {\n            int baseline = lineHeight * (i+1) + paddingTop;\n            canvas.drawLine(left+paddingLeft, baseline, right-paddingRight, baseline, mPaint);\n        }\n\n        super.onDraw(canvas);\n    }\n}\n</code></pre>\n<p>Second question is, how to make new line when the user pressed enter or return key so as to the will have something like unlimited lines?</p>\n"},{"tags":["java","spring","spring-boot","filter"],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669202718,"creation_date":1669202718,"answer_id":74546019,"question_id":74545265,"body_markdown":"You could define an [`AuthenticationEntryPoint`](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/AuthenticationEntryPoint.html) and use the given `HttpServletResponse` to write your response body as desired.  \r\n\r\nThis is an example where I return a translated string as response body:  \r\n```java\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.context.support.MessageSourceAccessor;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n\r\n    private final MessageSourceAccessor messages;\r\n\r\n    /**\r\n     * This is invoked when a user tries to access a secured REST resource without supplying valid credentials.\r\n     * A 401 Unauthorized HTTP Status code will be returned as there is no login page to redirect to.\r\n     */\r\n    @Override\r\n    public void commence(final HttpServletRequest request, \r\n                         final HttpServletResponse response,\r\n                         final AuthenticationException authException) throws IOException {\r\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, messages.getMessage(&quot;error.unauthorized&quot;));\r\n    }\r\n}\r\n```\r\n\r\nYou then need to register your the `AuthenticationEntryPoint` in your Spring Security config.\r\n\r\nOld way:\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    private final CustomAuthenticationEntryPoint authenticationEntryPoint;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n          // all your other security config\r\n          .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint);\r\n    }\r\n```\r\n\r\nNew way:\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class WebSecurityConfiguration {\r\n\r\n    private final CustomAuthenticationEntryPoint authenticationEntryPoint;\r\n\r\n    @Bean\r\n    SecurityFilterChain testSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n          // all your other security config\r\n          .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint);\r\n    }\r\n}\r\n```\r\n\r\nDepending on your authentication mechanism, Spring provides a matching `AuthenticationEntryPoint` implementation, e.g. for OAuth it might [`BearerTokenAuthenticationEntryPoint`](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/oauth2/server/resource/web/BearerTokenAuthenticationEntryPoint.html). It might be useful to check what your current `AuthenticationEntryPoint` implementation does and copy some of the logic to your implementation, if desired.","title":"How to set a response body before sending it to client","body":"<p>You could define an <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/AuthenticationEntryPoint.html\" rel=\"nofollow noreferrer\"><code>AuthenticationEntryPoint</code></a> and use the given <code>HttpServletResponse</code> to write your response body as desired.</p>\n<p>This is an example where I return a translated string as response body:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.RequiredArgsConstructor;\nimport org.springframework.context.support.MessageSourceAccessor;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\n@RequiredArgsConstructor\npublic class CustomAuthenticationEntryPoint implements AuthenticationEntryPoint {\n\n    private final MessageSourceAccessor messages;\n\n    /**\n     * This is invoked when a user tries to access a secured REST resource without supplying valid credentials.\n     * A 401 Unauthorized HTTP Status code will be returned as there is no login page to redirect to.\n     */\n    @Override\n    public void commence(final HttpServletRequest request, \n                         final HttpServletResponse response,\n                         final AuthenticationException authException) throws IOException {\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, messages.getMessage(&quot;error.unauthorized&quot;));\n    }\n}\n</code></pre>\n<p>You then need to register your the <code>AuthenticationEntryPoint</code> in your Spring Security config.</p>\n<p>Old way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    private final CustomAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n          // all your other security config\n          .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint);\n    }\n</code></pre>\n<p>New way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class WebSecurityConfiguration {\n\n    private final CustomAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Bean\n    SecurityFilterChain testSecurityFilterChain(HttpSecurity http) throws Exception {\n        return http\n          // all your other security config\n          .exceptionHandling().authenticationEntryPoint(authenticationEntryPoint);\n    }\n}\n</code></pre>\n<p>Depending on your authentication mechanism, Spring provides a matching <code>AuthenticationEntryPoint</code> implementation, e.g. for OAuth it might <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/oauth2/server/resource/web/BearerTokenAuthenticationEntryPoint.html\" rel=\"nofollow noreferrer\"><code>BearerTokenAuthenticationEntryPoint</code></a>. It might be useful to check what your current <code>AuthenticationEntryPoint</code> implementation does and copy some of the logic to your implementation, if desired.</p>\n"},{"tags":[],"owner":{"account_id":26899240,"reputation":21,"user_id":20476657,"display_name":"Manu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669207599,"creation_date":1669207403,"answer_id":74546994,"question_id":74545265,"body_markdown":"The filter chain of Spring Security is invoked before the request arrives to the controllers, so is normal that errors in the filter chain aren&#180;t handled by @ControllerAdvice/@ExceptionHandler out of the box.\r\n\r\nA little review of the [spring-security arquitecture][1] \r\n\r\nThere are two kinds of exceptions that could happen here:\r\n  1. AccessDeniedException (see [AccessDeniedHandler][2])\r\n  2. AuthenticationException (or a unauthenticated user)\r\n\r\nTo handle 1 should be quite straightforward [implementing and registering an AccessDeniedHandler impl][3]\r\n\r\nTo handle 2, you should implement a custom [AuthenticationEntryPoint][4]. This component is called when the user is not authenticated or when an AuthenticationException happens.\r\n\r\nI will let you a link to a [baeldung post][5] on the implementation. Look for the delegate approach (point 4), as that allows for a cleaner serialization of the response (using @ExceptionHandler).\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.5.8/reference/html5/#servlet-exceptiontranslationfilter\r\n  [2]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/access/AccessDeniedHandler.html\r\n  [3]: https://www.baeldung.com/spring-security-custom-access-denied-page#2-access-denied-handler\r\n  [4]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/AuthenticationEntryPoint.html\r\n  [5]: https://www.baeldung.com/spring-security-exceptionhandler\r\n  [6]: https://stackoverflow.com/questions/19767267/handle-spring-security-authentication-exceptions-with-exceptionhandler","title":"How to set a response body before sending it to client","body":"<p>The filter chain of Spring Security is invoked before the request arrives to the controllers, so is normal that errors in the filter chain aren´t handled by @ControllerAdvice/@ExceptionHandler out of the box.</p>\n<p>A little review of the <a href=\"https://docs.spring.io/spring-security/site/docs/5.5.8/reference/html5/#servlet-exceptiontranslationfilter\" rel=\"nofollow noreferrer\">spring-security arquitecture</a></p>\n<p>There are two kinds of exceptions that could happen here:</p>\n<ol>\n<li>AccessDeniedException (see <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/access/AccessDeniedHandler.html\" rel=\"nofollow noreferrer\">AccessDeniedHandler</a>)</li>\n<li>AuthenticationException (or a unauthenticated user)</li>\n</ol>\n<p>To handle 1 should be quite straightforward <a href=\"https://www.baeldung.com/spring-security-custom-access-denied-page#2-access-denied-handler\" rel=\"nofollow noreferrer\">implementing and registering an AccessDeniedHandler impl</a></p>\n<p>To handle 2, you should implement a custom <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/AuthenticationEntryPoint.html\" rel=\"nofollow noreferrer\">AuthenticationEntryPoint</a>. This component is called when the user is not authenticated or when an AuthenticationException happens.</p>\n<p>I will let you a link to a <a href=\"https://www.baeldung.com/spring-security-exceptionhandler\" rel=\"nofollow noreferrer\">baeldung post</a> on the implementation. Look for the delegate approach (point 4), as that allows for a cleaner serialization of the response (using @ExceptionHandler).</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669224897,"creation_date":1669207708,"answer_id":74547059,"question_id":74545265,"body_markdown":"Precising, applying and testing [Times answer(+1)][1] :\r\n&gt; You could define an AuthenticationEntryPoint and use the given HttpServletResponse to write your response body as desired.\r\n\r\nExtending (e.g) `BasicAuthenticationEntryPoint` (not many configurations send this &quot;WWW-Authenticate&quot; header) like so:\r\n&lt;!-- language-all:lang-java --&gt;\r\n```\r\nprivate static AuthenticationEntryPoint authenticationEntryPoint() {\r\n  BasicAuthenticationEntryPoint result = new BasicAuthenticationEntryPoint() {\r\n    // inline:\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\r\n      response.addHeader( // identic/similar to super method\r\n          &quot;WWW-Authenticate&quot;, String.format(&quot;Basic realm=\\&quot;%s\\&quot;&quot;, getRealmName())\r\n      );\r\n      // subtle difference:\r\n      response.setStatus(HttpStatus.UNAUTHORIZED.value() /*, no message! */);\r\n      // &quot;print&quot; custom to &quot;response&quot;:\r\n      response.getWriter().format(\r\n          &quot;{\\&quot;error\\&quot;:{\\&quot;message\\&quot;:\\&quot;%s\\&quot;}}&quot;, authException.getMessage()\r\n      );\r\n    }\r\n  };\r\n  // basic specific/default:\r\n  result.setRealmName(&quot;Realm&quot;);\r\n  return result;\r\n}\r\n```\r\n\r\nThese tests pass:\r\n```\r\npackage com.example.security.custom.entrypoint;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.*;\r\nimport static org.springframework.security.test.web.servlet.response.SecurityMockMvcResultMatchers.unauthenticated;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n\r\n@AutoConfigureMockMvc\r\n@SpringBootTest(properties = {&quot;spring.security.user.password=!test2me&quot;})\r\nclass SecurityCustomEntrypointApplicationTests {\r\n\r\n  @Autowired\r\n  private MockMvc mvc;\r\n\r\n  @Test\r\n  public void testWrongCredentials() throws Exception {\r\n    mvc\r\n        .perform(get(&quot;/secured&quot;).with(httpBasic(&quot;unknown&quot;, &quot;wrong&quot;)))\r\n        .andDo(print())\r\n        .andExpectAll(\r\n            unauthenticated(),\r\n            status().isUnauthorized(),\r\n            header().exists(&quot;WWW-Authenticate&quot;),\r\n            content().bytes(new byte[0]) // !! no content\r\n        );\r\n  }\r\n\r\n  @Test\r\n  void testCorrectCredentials() throws Exception {\r\n    mvc\r\n        .perform(get(&quot;/secured&quot;).with(httpBasic(&quot;user&quot;, &quot;!test2me&quot;)))\r\n        .andDo(print())\r\n        .andExpectAll(\r\n            status().isOk(),\r\n            content().string(&quot;Hello&quot;)\r\n        );\r\n  }\r\n\r\n  @Test\r\n  void testNoCredentials() throws Exception {\r\n    mvc\r\n        .perform(get(&quot;/secured&quot;))\r\n        .andDo(print())\r\n        .andExpectAll(\r\n            status().isUnauthorized(),\r\n            header().exists(&quot;WWW-Authenticate&quot;),\r\n            jsonPath(&quot;$.error.message&quot;).exists()\r\n        );\r\n  }\r\n}\r\n```\r\n\r\nOn this (full) app:\r\n```\r\npackage com.example.security.custom.entrypoint;\r\n\r\nimport java.io.IOException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpStatus;\r\nimport static org.springframework.security.config.Customizer.withDefaults;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.web.AuthenticationEntryPoint;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n@SpringBootApplication\r\npublic class SecurityCustomEntrypointApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(SecurityCustomEntrypointApplication.class, args);\r\n  }\r\n\r\n  @Controller\r\n  static class SecuredController {\r\n\r\n    @GetMapping(&quot;secured&quot;)\r\n    @ResponseBody\r\n    public String secured() {\r\n      return &quot;Hello&quot;;\r\n    }\r\n  }\r\n\r\n  @Configuration\r\n  static class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n      return http\r\n          .authorizeRequests()\r\n          .anyRequest().authenticated()\r\n          .and()\r\n          .httpBasic(withDefaults())\r\n          .exceptionHandling()\r\n          .authenticationEntryPoint(authenticationEntryPoint()) \r\n          // ...\r\n          .and().build();\r\n    }\r\n    // @Bean (and/) or static...: you decide!;)\r\n    private static AuthenticationEntryPoint authenticationEntryPoint() {\r\n      BasicAuthenticationEntryPoint result = new BasicAuthenticationEntryPoint() {\r\n        @Override\r\n        public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\r\n          response.addHeader(\r\n              &quot;WWW-Authenticate&quot;, String.format(&quot;Basic realm=\\&quot;%s\\&quot;&quot;, getRealmName())\r\n          );\r\n          response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n          response.getWriter().format(\r\n              &quot;{\\&quot;error\\&quot;:{\\&quot;message\\&quot;:\\&quot;%s\\&quot;}}&quot;, authException.getMessage()\r\n          );\r\n        }\r\n      };\r\n      result.setRealmName(&quot;Realm&quot;);\r\n      return result;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n- Tested with https://start.spring.io/#!language=java&amp;platformVersion=2.7.5&amp;jvmVersion=17&amp;dependencies=web,security\r\n- Potential problems: Someone else writing to/flushing `response`.\r\n\r\n\r\n----------\r\n\r\n\r\nTo make it work for **&quot;wrong credentials&quot;** *and* **&quot;basic authentication&quot;** (`testWrongCredentials()` expect json body, in form authentication it&#39;d be easier/different (`http.formLogin().failureHandler((req, resp, exc)-&gt;{/*your code here*/})...`)), or as answer to: &quot;How to override `BasicAuthenticationFilter.on[Uns|S]uccessfulAuthentication(req,resp,exc)` in spring security?&quot; (originally they are empty/no-op), we should do:\r\n\r\n```\r\n//@Bean possible resp. needed, when autowire.., for simplicity, just:\r\nprivate static BasicAuthenticationFilter customBasicAuthFilter(AuthenticationManager authenticationManager) {\r\n  return new BasicAuthenticationFilter(authenticationManager\r\n     /*, entryPoint */) {\r\n    @Override\r\n    protected void onUnsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed) throws IOException {\r\n      System.err.println(&quot;Aha!&quot;);\r\n      writeToResponse(response, failed); \r\n    }\r\n\r\n    // @Override ...\r\n  };\r\n}\r\n// with:\r\nprivate static void writeToResponse(HttpServletResponse response, Exception failed) throws IOException {\r\n  response.getWriter().format(\r\n      &quot;{\\&quot;error\\&quot;:{\\&quot;message\\&quot;:\\&quot;%s\\&quot;}}&quot;, failed.getMessage()\r\n  );\r\n}\r\n```\r\nThis we can use in our `filterChain` like:\r\n```\r\nhttp.addFilter(customBasicAuthFilter(authenticationManager));\r\n```\r\n***IMPORTANT***: \r\n- filter should be added *before* `.httpBasic(...)`!\r\n- `BasicAuthenticationFilter` also accepts a `AuthenticationEntryPoint ` ..., but it is/does *not the same* as `.exceptionHandling().authenticationEntryPoint(...)`.\r\n\r\nActually this implicitly answers how to override any `XXXFilter#anyVisibleMethod` in any [tag:spring-security] filter;).\r\n\r\nTo work around [&quot;spring-security-without-the-websecurityconfigureradapter&quot;][2], I stuffed it into a [&quot;custom dsl&quot;][3] like (otherwise i get `authenticationManager==null`/circular refs;(:\r\n\r\n```\r\nstatic class CustomDsl extends AbstractHttpConfigurer&lt;CustomDsl, HttpSecurity&gt; {\r\n\r\n  @Override\r\n  public void configure(HttpSecurity http) throws Exception {\r\n    AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\r\n    http.addFilter(customBasicAuthFilter(authenticationManager));\r\n  }\r\n\r\n  public static CustomDsl customDsl() {\r\n    return new CustomDsl();\r\n  }\r\n}\r\n```\r\nTo use it finally like:\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n  return http\r\n      .authorizeRequests()\r\n      .anyRequest().authenticated()\r\n      .and()\r\n      .apply(CustomDsl.customDsl()) // before httpBasic()!\r\n      .and()\r\n      .httpBasic(withDefaults())\r\n      .exceptionHandling() // this is still needed ...\r\n      .authenticationEntryPoint(authenticationEntryPoint()) // ... for the &quot;anonymous&quot; (test) case!\r\n      .and()\r\n      .build();\r\n}\r\n```\r\n\r\nThen we can also modify/expect:\r\n```\r\n@Test\r\npublic void testWrongCredentials() throws Exception {\r\n  mvc\r\n      .perform(get(&quot;/secured&quot;).with(httpBasic(&quot;unknown&quot;, &quot;wrong&quot;)))\r\n      .andDo(print())\r\n      .andExpectAll(\r\n          unauthenticated(),\r\n          status().isUnauthorized(),\r\n          header().exists(&quot;WWW-Authenticate&quot;),\r\n          jsonPath(&quot;$.error.message&quot;).exists() // !#\r\n      );\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74546019/592355\r\n  [2]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\r\n  [3]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter#accessing-the-local-authenticationmanager","title":"How to set a response body before sending it to client","body":"<p>Precising, applying and testing <a href=\"https://stackoverflow.com/a/74546019/592355\">Times answer(+1)</a> :</p>\n<blockquote>\n<p>You could define an AuthenticationEntryPoint and use the given HttpServletResponse to write your response body as desired.</p>\n</blockquote>\n<p>Extending (e.g) <code>BasicAuthenticationEntryPoint</code> (not many configurations send this &quot;WWW-Authenticate&quot; header) like so:</p>\n\n<pre><code>private static AuthenticationEntryPoint authenticationEntryPoint() {\n  BasicAuthenticationEntryPoint result = new BasicAuthenticationEntryPoint() {\n    // inline:\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\n      response.addHeader( // identic/similar to super method\n          &quot;WWW-Authenticate&quot;, String.format(&quot;Basic realm=\\&quot;%s\\&quot;&quot;, getRealmName())\n      );\n      // subtle difference:\n      response.setStatus(HttpStatus.UNAUTHORIZED.value() /*, no message! */);\n      // &quot;print&quot; custom to &quot;response&quot;:\n      response.getWriter().format(\n          &quot;{\\&quot;error\\&quot;:{\\&quot;message\\&quot;:\\&quot;%s\\&quot;}}&quot;, authException.getMessage()\n      );\n    }\n  };\n  // basic specific/default:\n  result.setRealmName(&quot;Realm&quot;);\n  return result;\n}\n</code></pre>\n<p>These tests pass:</p>\n<pre><code>package com.example.security.custom.entrypoint;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.web.servlet.MockMvc;\nimport static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.*;\nimport static org.springframework.security.test.web.servlet.response.SecurityMockMvcResultMatchers.unauthenticated;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\n@AutoConfigureMockMvc\n@SpringBootTest(properties = {&quot;spring.security.user.password=!test2me&quot;})\nclass SecurityCustomEntrypointApplicationTests {\n\n  @Autowired\n  private MockMvc mvc;\n\n  @Test\n  public void testWrongCredentials() throws Exception {\n    mvc\n        .perform(get(&quot;/secured&quot;).with(httpBasic(&quot;unknown&quot;, &quot;wrong&quot;)))\n        .andDo(print())\n        .andExpectAll(\n            unauthenticated(),\n            status().isUnauthorized(),\n            header().exists(&quot;WWW-Authenticate&quot;),\n            content().bytes(new byte[0]) // !! no content\n        );\n  }\n\n  @Test\n  void testCorrectCredentials() throws Exception {\n    mvc\n        .perform(get(&quot;/secured&quot;).with(httpBasic(&quot;user&quot;, &quot;!test2me&quot;)))\n        .andDo(print())\n        .andExpectAll(\n            status().isOk(),\n            content().string(&quot;Hello&quot;)\n        );\n  }\n\n  @Test\n  void testNoCredentials() throws Exception {\n    mvc\n        .perform(get(&quot;/secured&quot;))\n        .andDo(print())\n        .andExpectAll(\n            status().isUnauthorized(),\n            header().exists(&quot;WWW-Authenticate&quot;),\n            jsonPath(&quot;$.error.message&quot;).exists()\n        );\n  }\n}\n</code></pre>\n<p>On this (full) app:</p>\n<pre><code>package com.example.security.custom.entrypoint;\n\nimport java.io.IOException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpStatus;\nimport static org.springframework.security.config.Customizer.withDefaults;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@SpringBootApplication\npublic class SecurityCustomEntrypointApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(SecurityCustomEntrypointApplication.class, args);\n  }\n\n  @Controller\n  static class SecuredController {\n\n    @GetMapping(&quot;secured&quot;)\n    @ResponseBody\n    public String secured() {\n      return &quot;Hello&quot;;\n    }\n  }\n\n  @Configuration\n  static class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n      return http\n          .authorizeRequests()\n          .anyRequest().authenticated()\n          .and()\n          .httpBasic(withDefaults())\n          .exceptionHandling()\n          .authenticationEntryPoint(authenticationEntryPoint()) \n          // ...\n          .and().build();\n    }\n    // @Bean (and/) or static...: you decide!;)\n    private static AuthenticationEntryPoint authenticationEntryPoint() {\n      BasicAuthenticationEntryPoint result = new BasicAuthenticationEntryPoint() {\n        @Override\n        public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\n          response.addHeader(\n              &quot;WWW-Authenticate&quot;, String.format(&quot;Basic realm=\\&quot;%s\\&quot;&quot;, getRealmName())\n          );\n          response.setStatus(HttpStatus.UNAUTHORIZED.value());\n          response.getWriter().format(\n              &quot;{\\&quot;error\\&quot;:{\\&quot;message\\&quot;:\\&quot;%s\\&quot;}}&quot;, authException.getMessage()\n          );\n        }\n      };\n      result.setRealmName(&quot;Realm&quot;);\n      return result;\n    }\n  }\n}\n</code></pre>\n<ul>\n<li>Tested with <a href=\"https://start.spring.io/#!language=java&amp;platformVersion=2.7.5&amp;jvmVersion=17&amp;dependencies=web,security\" rel=\"nofollow noreferrer\">https://start.spring.io/#!language=java&amp;platformVersion=2.7.5&amp;jvmVersion=17&amp;dependencies=web,security</a></li>\n<li>Potential problems: Someone else writing to/flushing <code>response</code>.</li>\n</ul>\n<hr />\n<p>To make it work for <strong>&quot;wrong credentials&quot;</strong> <em>and</em> <strong>&quot;basic authentication&quot;</strong> (<code>testWrongCredentials()</code> expect json body, in form authentication it'd be easier/different (<code>http.formLogin().failureHandler((req, resp, exc)-&gt;{/*your code here*/})...</code>)), or as answer to: &quot;How to override <code>BasicAuthenticationFilter.on[Uns|S]uccessfulAuthentication(req,resp,exc)</code> in spring security?&quot; (originally they are empty/no-op), we should do:</p>\n<pre><code>//@Bean possible resp. needed, when autowire.., for simplicity, just:\nprivate static BasicAuthenticationFilter customBasicAuthFilter(AuthenticationManager authenticationManager) {\n  return new BasicAuthenticationFilter(authenticationManager\n     /*, entryPoint */) {\n    @Override\n    protected void onUnsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed) throws IOException {\n      System.err.println(&quot;Aha!&quot;);\n      writeToResponse(response, failed); \n    }\n\n    // @Override ...\n  };\n}\n// with:\nprivate static void writeToResponse(HttpServletResponse response, Exception failed) throws IOException {\n  response.getWriter().format(\n      &quot;{\\&quot;error\\&quot;:{\\&quot;message\\&quot;:\\&quot;%s\\&quot;}}&quot;, failed.getMessage()\n  );\n}\n</code></pre>\n<p>This we can use in our <code>filterChain</code> like:</p>\n<pre><code>http.addFilter(customBasicAuthFilter(authenticationManager));\n</code></pre>\n<p><em><strong>IMPORTANT</strong></em>:</p>\n<ul>\n<li>filter should be added <em>before</em> <code>.httpBasic(...)</code>!</li>\n<li><code>BasicAuthenticationFilter</code> also accepts a <code>AuthenticationEntryPoint </code> ..., but it is/does <em>not the same</em> as <code>.exceptionHandling().authenticationEntryPoint(...)</code>.</li>\n</ul>\n<p>Actually this implicitly answers how to override any <code>XXXFilter#anyVisibleMethod</code> in any <a href=\"/questions/tagged/spring-security\" class=\"post-tag\" title=\"show questions tagged &#39;spring-security&#39;\" aria-label=\"show questions tagged &#39;spring-security&#39;\" rel=\"tag\" aria-labelledby=\"spring-security-container\">spring-security</a> filter;).</p>\n<p>To work around <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">&quot;spring-security-without-the-websecurityconfigureradapter&quot;</a>, I stuffed it into a <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter#accessing-the-local-authenticationmanager\" rel=\"nofollow noreferrer\">&quot;custom dsl&quot;</a> like (otherwise i get <code>authenticationManager==null</code>/circular refs;(:</p>\n<pre><code>static class CustomDsl extends AbstractHttpConfigurer&lt;CustomDsl, HttpSecurity&gt; {\n\n  @Override\n  public void configure(HttpSecurity http) throws Exception {\n    AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\n    http.addFilter(customBasicAuthFilter(authenticationManager));\n  }\n\n  public static CustomDsl customDsl() {\n    return new CustomDsl();\n  }\n}\n</code></pre>\n<p>To use it finally like:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n  return http\n      .authorizeRequests()\n      .anyRequest().authenticated()\n      .and()\n      .apply(CustomDsl.customDsl()) // before httpBasic()!\n      .and()\n      .httpBasic(withDefaults())\n      .exceptionHandling() // this is still needed ...\n      .authenticationEntryPoint(authenticationEntryPoint()) // ... for the &quot;anonymous&quot; (test) case!\n      .and()\n      .build();\n}\n</code></pre>\n<p>Then we can also modify/expect:</p>\n<pre><code>@Test\npublic void testWrongCredentials() throws Exception {\n  mvc\n      .perform(get(&quot;/secured&quot;).with(httpBasic(&quot;unknown&quot;, &quot;wrong&quot;)))\n      .andDo(print())\n      .andExpectAll(\n          unauthenticated(),\n          status().isUnauthorized(),\n          header().exists(&quot;WWW-Authenticate&quot;),\n          jsonPath(&quot;$.error.message&quot;).exists() // !#\n      );\n}\n</code></pre>\n"}],"owner":{"account_id":4434750,"reputation":1949,"user_id":3610891,"accept_rate":62,"display_name":"Onki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":957,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1669224897,"creation_date":1669199109,"question_id":74545265,"body_markdown":"We are working on a Spring Boot application. Any unknown errors at controllers layers are handled by the global exception handler classes and response is constructed there.\r\n\r\nHowever, I see that in case of authentication at Spring authentication filter, I see that Spring sometimes return without logging or throwing any errors.\r\n\r\nAnd the error message is provided by Spring in WWW-Authenticate header.\r\n\r\nNow, in this case, if any application is not handling this scenario, I want to modify only the response body, I want to pass a JSON message explaining the error message to user in response body so that user does not have to look in header.\r\n\r\nIs there any way to modify only the response body in Spring&#39;s OncePerRequestHeader? I don&#39;t see any method which allows me to simply modify the body.\r\n\r\n","title":"How to set a response body before sending it to client","body":"<p>We are working on a Spring Boot application. Any unknown errors at controllers layers are handled by the global exception handler classes and response is constructed there.</p>\n<p>However, I see that in case of authentication at Spring authentication filter, I see that Spring sometimes return without logging or throwing any errors.</p>\n<p>And the error message is provided by Spring in WWW-Authenticate header.</p>\n<p>Now, in this case, if any application is not handling this scenario, I want to modify only the response body, I want to pass a JSON message explaining the error message to user in response body so that user does not have to look in header.</p>\n<p>Is there any way to modify only the response body in Spring's OncePerRequestHeader? I don't see any method which allows me to simply modify the body.</p>\n"},{"tags":["java","jar","command-prompt"],"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":10,"creation_date":1329915577,"post_id":9395207,"comment_id":11870389,"body_markdown":"type &quot;javac -help&quot;","body":"type &quot;javac -help&quot;"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":2,"creation_date":1329915638,"post_id":9395207,"comment_id":11870424,"body_markdown":"http://docs.oracle.com/javase/6/docs/technotes/tools/index.html#basic","body":"<a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/index.html#basic\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/technotes/tools/index.html#bas&zwnj;&#8203;ic</a>"},{"owner":{"account_id":1066374,"reputation":31120,"user_id":1066828,"accept_rate":95,"display_name":"Fahim Parkar"},"score":2,"creation_date":1329916030,"post_id":9395207,"comment_id":11870593,"body_markdown":"hope [this](http://stackoverflow.com/questions/1064481/newbie-question-how-to-include-jar-files-when-compiling) helps you..","body":"hope <a href=\"http://stackoverflow.com/questions/1064481/newbie-question-how-to-include-jar-files-when-compiling\">this</a> helps you.."},{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":2,"creation_date":1482083530,"post_id":9395207,"comment_id":69621169,"body_markdown":"Note to self: you must use -cp/-classpath flag before the name of the java file you want to run, otherwise it will ignore the flag. `java -cp &quot;.;magic.jar&quot; Foo` is ok `java Foo -cp &quot;.;magic.jar&quot;`is not.","body":"Note to self: you must use -cp/-classpath flag before the name of the java file you want to run, otherwise it will ignore the flag. <code>java -cp &quot;.;magic.jar&quot; Foo</code> is ok <code>java Foo -cp &quot;.;magic.jar&quot;</code>is not."}],"answers":[{"tags":[],"owner":{"account_id":1260595,"reputation":7659,"user_id":1218985,"display_name":"1218985"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1458643545,"creation_date":1329917986,"answer_id":9395928,"question_id":9395207,"body_markdown":"Try to add all dependency jar files to your class path through environment variable settings or use the below steps:\r\n\r\n 1. Open command prompt. \r\n 2. Change directory to the location of you java\r\n    file that you would like compile. \r\n 3. Set the classpath for your dependency jar files  as shown below:\r\n\r\n    `set classpath=C:\\Users\\sarath_sivan\\Desktop\\jars\\servlet-api.jar; C:\\Users\\sarath_sivan\\Desktop\\jars\\spring-jdbc-3.0.2.RELEASE; C:\\Users\\sarath_sivan\\Desktop\\jars\\spring-aop-3.0.2.RELEASE;`\r\n\r\n 4. Now, you may compile your java file. (command: `javac YourJavaFile.java`)\r\n\r\nHope this will resolve your dependency issue.\r\n","title":"How to include jar files with java file and compile in command prompt","body":"<p>Try to add all dependency jar files to your class path through environment variable settings or use the below steps:</p>\n\n<ol>\n<li>Open command prompt. </li>\n<li>Change directory to the location of you java\nfile that you would like compile. </li>\n<li><p>Set the classpath for your dependency jar files  as shown below:</p>\n\n<p><code>set classpath=C:\\Users\\sarath_sivan\\Desktop\\jars\\servlet-api.jar; C:\\Users\\sarath_sivan\\Desktop\\jars\\spring-jdbc-3.0.2.RELEASE; C:\\Users\\sarath_sivan\\Desktop\\jars\\spring-aop-3.0.2.RELEASE;</code></p></li>\n<li><p>Now, you may compile your java file. (command: <code>javac YourJavaFile.java</code>)</p></li>\n</ol>\n\n<p>Hope this will resolve your dependency issue.</p>\n"},{"tags":[],"owner":{"account_id":336649,"reputation":5489,"user_id":664421,"accept_rate":100,"display_name":"kensen john"},"down_vote_count":1,"up_vote_count":148,"is_accepted":false,"score":147,"last_activity_date":1516381210,"creation_date":1329919739,"answer_id":9396410,"question_id":9395207,"body_markdown":"You can include your jar files in the &quot;javac&quot; command using the &quot;-cp&quot; option.\r\n\r\n    javac -cp &quot;.:/home/path/mail.jar:/home/path/servlet.jar;&quot; MyJavaFile.java\r\n\r\nInstead of &quot;-cp&quot; you could also use &quot;-classpath&quot;\r\n\r\n    javac -classpath &quot;.:/home/path/mail.jar:/home/path/servlet.jar:&quot; MyJavaFile.java\r\n\r\nYou could including the jars every time you compile by setting the environment variable &quot;CLASSPATH&quot; correctly. The environment variable will store the path where the jars and classes that needs to be used for compiling/executing any java file. You will not have to include the jars individually every time you compile you file.\r\n\r\nDifferent machines have different methods to set the classpath as an environment variable.\r\nThe commands for Windows, Linux, etc are different. \r\n\r\nYou can find more details in [this blog][1].\r\n\r\n    http://javarevisited.blogspot.com/2011/01/how-classpath-work-in-java.html\r\n\r\n\r\n  [1]: http://javarevisited.blogspot.com/2011/01/how-classpath-work-in-java.html","title":"How to include jar files with java file and compile in command prompt","body":"<p>You can include your jar files in the \"javac\" command using the \"-cp\" option.</p>\n\n<pre><code>javac -cp \".:/home/path/mail.jar:/home/path/servlet.jar;\" MyJavaFile.java\n</code></pre>\n\n<p>Instead of \"-cp\" you could also use \"-classpath\"</p>\n\n<pre><code>javac -classpath \".:/home/path/mail.jar:/home/path/servlet.jar:\" MyJavaFile.java\n</code></pre>\n\n<p>You could including the jars every time you compile by setting the environment variable \"CLASSPATH\" correctly. The environment variable will store the path where the jars and classes that needs to be used for compiling/executing any java file. You will not have to include the jars individually every time you compile you file.</p>\n\n<p>Different machines have different methods to set the classpath as an environment variable.\nThe commands for Windows, Linux, etc are different. </p>\n\n<p>You can find more details in <a href=\"http://javarevisited.blogspot.com/2011/01/how-classpath-work-in-java.html\" rel=\"noreferrer\">this blog</a>.</p>\n\n<pre><code>http://javarevisited.blogspot.com/2011/01/how-classpath-work-in-java.html\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3034693,"reputation":269,"user_id":2573056,"display_name":"user2573056"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1373555980,"creation_date":1373555980,"answer_id":17597340,"question_id":9395207,"body_markdown":"\t\r\n\r\nSyntax will work on windows dos command:\r\n\r\n    javac -cp &quot;.;first.jar;second.jar;third.jar&quot; MyJavaFile.java\r\n\r\n","title":"How to include jar files with java file and compile in command prompt","body":"<p>Syntax will work on windows dos command:</p>\n\n<pre><code>javac -cp \".;first.jar;second.jar;third.jar\" MyJavaFile.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3206229,"reputation":3693,"user_id":2707254,"accept_rate":93,"display_name":"Jamsheer"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1377776063,"creation_date":1377774851,"answer_id":18509431,"question_id":9395207,"body_markdown":"Please try on Linux\r\n\r\n    javac -cp jarfile source file \r\n\r\nEXAMPLE :-\r\n\r\n    javac  -cp .:/jars/* com/template/*.java","title":"How to include jar files with java file and compile in command prompt","body":"<p>Please try on Linux</p>\n\n<pre><code>javac -cp jarfile source file \n</code></pre>\n\n<p>EXAMPLE :-</p>\n\n<pre><code>javac  -cp .:/jars/* com/template/*.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10376878,"reputation":91,"user_id":7652834,"display_name":"Isaq"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1488537534,"creation_date":1488536399,"answer_id":42576246,"question_id":9395207,"body_markdown":"This will create .class file:\r\n\r\n    javac -classpath &quot;[jarname with specified path]&quot; [java filename]\r\n\r\nThis will execute class file:\r\n\r\n    java -cp [jarname with specified path]: [java filename]\r\n\r\n","title":"How to include jar files with java file and compile in command prompt","body":"<p>This will create .class file:</p>\n\n<pre><code>javac -classpath \"[jarname with specified path]\" [java filename]\n</code></pre>\n\n<p>This will execute class file:</p>\n\n<pre><code>java -cp [jarname with specified path]: [java filename]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9206509,"reputation":218,"user_id":6841548,"accept_rate":86,"display_name":"Shravya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1493248049,"creation_date":1493248049,"answer_id":43645985,"question_id":9395207,"body_markdown":"Try This.\r\n\r\n    javac -cp .:jars/jar1:jars/jar2:jars/jar3 com/source/*.java","title":"How to include jar files with java file and compile in command prompt","body":"<p>Try This.</p>\n\n<pre><code>javac -cp .:jars/jar1:jars/jar2:jars/jar3 com/source/*.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4398720,"reputation":417,"user_id":3585029,"accept_rate":57,"display_name":"srihari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512053631,"creation_date":1506350336,"answer_id":46407912,"question_id":9395207,"body_markdown":"If you are using Ubuntu:\r\n\r\n\r\n    /opt/JavaServices/sqlite $ export CLASSPATH=/opt/JarFiles/XXXX.jar:/opt/JarFiles/XXXX.jar:/opt/JavaServices/;javac SQLiteSample.java\r\n    \r\n    \r\nGo to folder location (Out of package structure)\r\n\r\n    /opt/JavaServices $ export CLASSPATH=/opt/JarFiles/XXXXX.jar:/opt/JarFiles/XXXXX.jar:/opt/JavaServices/;java sqlite.SQLiteSample\r\n\r\nNote: Please see the file locations and package names","title":"How to include jar files with java file and compile in command prompt","body":"<p>If you are using Ubuntu:</p>\n\n<pre><code>/opt/JavaServices/sqlite $ export CLASSPATH=/opt/JarFiles/XXXX.jar:/opt/JarFiles/XXXX.jar:/opt/JavaServices/;javac SQLiteSample.java\n</code></pre>\n\n<p>Go to folder location (Out of package structure)</p>\n\n<pre><code>/opt/JavaServices $ export CLASSPATH=/opt/JarFiles/XXXXX.jar:/opt/JarFiles/XXXXX.jar:/opt/JavaServices/;java sqlite.SQLiteSample\n</code></pre>\n\n<p>Note: Please see the file locations and package names</p>\n"},{"tags":[],"owner":{"account_id":6181130,"reputation":2050,"user_id":4816597,"accept_rate":67,"display_name":"imbond"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1522306782,"creation_date":1522306782,"answer_id":49549842,"question_id":9395207,"body_markdown":"The followings are steps,\r\n\r\n1. Copy all jars and your .java file in a same folder (It will be easy to mention file names instead of mentioning long path. Though you can keep jar and .java in separate folders).\r\n\r\n2. To compile,\r\n\r\n    &gt;     javac -cp .:&lt;file_1_name&gt;.jar:&lt;file_2_name&gt;.jar &lt;prog_name&gt;.java\r\n\r\n3. To execute,\r\n\r\n    &gt;     java -cp .:&lt;file_1_name&gt;.jar:&lt;file_2_name&gt;.jar &lt;prog_name&gt;\r\n\r\nI hope this helps!","title":"How to include jar files with java file and compile in command prompt","body":"<p>The followings are steps,</p>\n\n<ol>\n<li><p>Copy all jars and your .java file in a same folder (It will be easy to mention file names instead of mentioning long path. Though you can keep jar and .java in separate folders).</p></li>\n<li><p>To compile,</p>\n\n<blockquote>\n<pre><code>javac -cp .:&lt;file_1_name&gt;.jar:&lt;file_2_name&gt;.jar &lt;prog_name&gt;.java\n</code></pre>\n</blockquote></li>\n<li><p>To execute,</p>\n\n<blockquote>\n<pre><code>java -cp .:&lt;file_1_name&gt;.jar:&lt;file_2_name&gt;.jar &lt;prog_name&gt;\n</code></pre>\n</blockquote></li>\n</ol>\n\n<p>I hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":9984655,"reputation":588,"user_id":7386335,"display_name":"ArockiaRaj"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1524664286,"creation_date":1524663039,"answer_id":50023665,"question_id":9395207,"body_markdown":"You need to specify the dependencies in compile time as well as runtime\r\n\r\nTo compile use this format\r\n\r\n    javac -cp &quot;*.jar;classfile_path&quot; filename.java\r\n\r\nExample:\r\n\r\n    javac -cp &quot;ojdbc6.jar;c:\\programs&quot; Main.java","title":"How to include jar files with java file and compile in command prompt","body":"<p>You need to specify the dependencies in compile time as well as runtime</p>\n\n<p>To compile use this format</p>\n\n<pre><code>javac -cp \"*.jar;classfile_path\" filename.java\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>javac -cp \"ojdbc6.jar;c:\\programs\" Main.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4634666,"reputation":2759,"user_id":3756232,"accept_rate":40,"display_name":"Guru"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531815272,"creation_date":1531815272,"answer_id":51376383,"question_id":9395207,"body_markdown":"some times making following change works: \r\n\r\n    java -cp &quot;.;%CLASSPATH%&quot; classfilename \r\n\r\nNote: ON Windows. For linux use `$CLASSPATH` instead. ","title":"How to include jar files with java file and compile in command prompt","body":"<p>some times making following change works: </p>\n\n<pre><code>java -cp \".;%CLASSPATH%\" classfilename \n</code></pre>\n\n<p>Note: ON Windows. For linux use <code>$CLASSPATH</code> instead. </p>\n"},{"tags":[],"owner":{"account_id":7339562,"reputation":558,"user_id":5589683,"display_name":"pratap"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609060690,"creation_date":1590223580,"answer_id":61969540,"question_id":9395207,"body_markdown":"javac -cp jars/jar1:jars/jar2:jars/jar3 abc.java\r\n\r\nWith -cp command we specify the path where to find the additional libraries which are required to compile the class. jar1, jar2 and jar3, available in jars folder are used to compile abc.java class.","title":"How to include jar files with java file and compile in command prompt","body":"<p>javac -cp jars/jar1:jars/jar2:jars/jar3 abc.java</p>\n<p>With -cp command we specify the path where to find the additional libraries which are required to compile the class. jar1, jar2 and jar3, available in jars folder are used to compile abc.java class.</p>\n"},{"tags":[],"owner":{"account_id":13904807,"reputation":159,"user_id":10039469,"display_name":"Rory"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669224656,"creation_date":1669224656,"answer_id":74550875,"question_id":9395207,"body_markdown":"Plenty of these answers helped me, but none that were exactly what I needed. \r\n\r\nAssumptions:\r\n\r\n1) Windows OS\r\n\r\n2) JAR file and java file are in same directory\r\n\r\n`javac -cp &lt;jar filename&gt;.jar &lt;filename&gt;.java`\r\n\r\n`java -cp &lt;jar filename&gt;.jar; &lt;filename&gt;`\r\n\r\nKeep in mind the syntax needs to exactly match. Cannot exclude file extensions or the semi colon.","title":"How to include jar files with java file and compile in command prompt","body":"<p>Plenty of these answers helped me, but none that were exactly what I needed.</p>\n<p>Assumptions:</p>\n<ol>\n<li><p>Windows OS</p>\n</li>\n<li><p>JAR file and java file are in same directory</p>\n</li>\n</ol>\n<p><code>javac -cp &lt;jar filename&gt;.jar &lt;filename&gt;.java</code></p>\n<p><code>java -cp &lt;jar filename&gt;.jar; &lt;filename&gt;</code></p>\n<p>Keep in mind the syntax needs to exactly match. Cannot exclude file extensions or the semi colon.</p>\n"}],"owner":{"account_id":1208574,"reputation":1703,"user_id":1177567,"display_name":"user1177567"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409901,"favorite_count":0,"down_vote_count":1,"up_vote_count":166,"answer_count":12,"score":165,"last_activity_date":1669224656,"creation_date":1329915455,"question_id":9395207,"body_markdown":"I have 3 jar files and a .java file that depends on these jar files. How do I compile the .java file with these jar files using a command prompt?\r\n","title":"How to include jar files with java file and compile in command prompt","body":"<p>I have 3 jar files and a .java file that depends on these jar files. How do I compile the .java file with these jar files using a command prompt?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1669224612,"creation_date":1669224612,"answer_id":74550866,"question_id":74363763,"body_markdown":"Some devices do not permit applications from running in the background, or from being started by `AlarmManager`. These applications need to be &quot;whitelisted&quot; or added to a list of apps permitted to do this. Different manufactureres handle this differently. If you are running your app on such a device, you will need to have the app (manually) added to the whitelist or list of protected apps, or list of background apps, or whatever.","title":"Sometimes AlarmManager not trigger if I close my app, sometimes it does trigger. What is the problem with that?","body":"<p>Some devices do not permit applications from running in the background, or from being started by <code>AlarmManager</code>. These applications need to be &quot;whitelisted&quot; or added to a list of apps permitted to do this. Different manufactureres handle this differently. If you are running your app on such a device, you will need to have the app (manually) added to the whitelist or list of protected apps, or list of background apps, or whatever.</p>\n"}],"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":8,"up_vote_count":1,"accepted_answer_id":74550866,"answer_count":1,"score":-7,"last_activity_date":1669224612,"creation_date":1667923411,"question_id":74363763,"body_markdown":"I don&#39;t want to use services run in foreground because they uses resources. If I open my app later the alarm triggers. One more point, if I whitelist my app from battery optimization it works well. Any suggestion?","title":"Sometimes AlarmManager not trigger if I close my app, sometimes it does trigger. What is the problem with that?","body":"<p>I don't want to use services run in foreground because they uses resources. If I open my app later the alarm triggers. One more point, if I whitelist my app from battery optimization it works well. Any suggestion?</p>\n"},{"tags":["java","postgresql","spring-boot","rest"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":2,"creation_date":1669198074,"post_id":74544961,"comment_id":131588108,"body_markdown":"better to use geospatial queries. PostGIS?","body":"better to use geospatial queries. PostGIS?"},{"owner":{"account_id":5071367,"reputation":626,"user_id":4070046,"accept_rate":60,"display_name":"Sebastian G."},"score":0,"creation_date":1669199533,"post_id":74544961,"comment_id":131588651,"body_markdown":"@sidgate postgis sounds exactly like what i needed!","body":"@sidgate postgis sounds exactly like what i needed!"},{"owner":{"account_id":21706289,"reputation":473,"user_id":16018684,"display_name":"Amos Machora"},"score":0,"creation_date":1669225085,"post_id":74544961,"comment_id":131598339,"body_markdown":"Sort them from postgres is better off to transfer data through your application layers in their best possible states","body":"Sort them from postgres is better off to transfer data through your application layers in their best possible states"}],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669224550,"creation_date":1669224550,"answer_id":74550855,"question_id":74544961,"body_markdown":"It would be good practise to sort in database layer.\r\n\r\nLet&#39;s say you have 1 million rows and first job will be returning of those 1 million, then in application layer, you will sort those, that&#39;s extra 2nd job. Instead of using application layer (and increase jvm memory usage because of that), just return the data which exactly you will need.","title":"Sort result by distance to a given point - Via Postgres or via Spring Data?","body":"<p>It would be good practise to sort in database layer.</p>\n<p>Let's say you have 1 million rows and first job will be returning of those 1 million, then in application layer, you will sort those, that's extra 2nd job. Instead of using application layer (and increase jvm memory usage because of that), just return the data which exactly you will need.</p>\n"}],"owner":{"account_id":5071367,"reputation":626,"user_id":4070046,"accept_rate":60,"display_name":"Sebastian G."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74550855,"answer_count":1,"score":0,"last_activity_date":1669224550,"creation_date":1669197799,"question_id":74544961,"body_markdown":"I am writing a REST-Controller in Spring Boot and I want to return Locations in order of which is closest to the given location off a Postgres Database.\r\n\r\nMy Question is: **Where should I handle the sort**: In a Service Function in Java or in Postgres in the Query (using Native Query e.g.) - which is the better approach or does it even matter.\r\n\r\nFor further clearance:\r\n\r\nI save latitude and longitude of locations in the database - and I want to calculate the distance to a given lat long.\r\n\r\n","title":"Sort result by distance to a given point - Via Postgres or via Spring Data?","body":"<p>I am writing a REST-Controller in Spring Boot and I want to return Locations in order of which is closest to the given location off a Postgres Database.</p>\n<p>My Question is: <strong>Where should I handle the sort</strong>: In a Service Function in Java or in Postgres in the Query (using Native Query e.g.) - which is the better approach or does it even matter.</p>\n<p>For further clearance:</p>\n<p>I save latitude and longitude of locations in the database - and I want to calculate the distance to a given lat long.</p>\n"},{"tags":["java","random","text-files","java.util.scanner"],"comments":[{"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"score":2,"creation_date":1669220933,"post_id":74549982,"comment_id":131596730,"body_markdown":"Is it required to store 10 poems in a single file? How are the poems delimited? I mean what marks the end of one poem? A blank line or something like that?","body":"Is it required to store 10 poems in a single file? How are the poems delimited? I mean what marks the end of one poem? A blank line or something like that?"},{"owner":{"account_id":26066303,"reputation":1,"user_id":19766690,"display_name":"Kev98"},"score":0,"creation_date":1669221416,"post_id":74549982,"comment_id":131596892,"body_markdown":"In fact it is required to use all 5-line poems (limericks) of a specific website and somehow have them all in one text file. I‘m not sure how to have all of them, so I decided to test it out with 10 poems at least. Currently the poems are not separated by any blank lines or anything because I thought it would bring more problems. All lines are listed underneath each other bluntly, but I could change that if it‘s inefficient.","body":"In fact it is required to use all 5-line poems (limericks) of a specific website and somehow have them all in one text file. I‘m not sure how to have all of them, so I decided to test it out with 10 poems at least. Currently the poems are not separated by any blank lines or anything because I thought it would bring more problems. All lines are listed underneath each other bluntly, but I could change that if it‘s inefficient."},{"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"score":1,"creation_date":1669221746,"post_id":74549982,"comment_id":131597039,"body_markdown":"If all the poems will definitely be of five lines, you can generate a random number, multiply it by 5, that will be the start of your random poem and you can continue reading next five lines.","body":"If all the poems will definitely be of five lines, you can generate a random number, multiply it by 5, that will be the start of your random poem and you can continue reading next five lines."},{"owner":{"account_id":26066303,"reputation":1,"user_id":19766690,"display_name":"Kev98"},"score":0,"creation_date":1669222092,"post_id":74549982,"comment_id":131597187,"body_markdown":"Wouldn’t the problem occur that the program prints two lines from one poem and three from the following for example? Wouldn’t the poems get mixed up? And yes, they always consist of five lines. Could you possibly show me your solution through code? I am very new and unsure how to implement this.","body":"Wouldn’t the problem occur that the program prints two lines from one poem and three from the following for example? Wouldn’t the poems get mixed up? And yes, they always consist of five lines. Could you possibly show me your solution through code? I am very new and unsure how to implement this."},{"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"score":0,"creation_date":1669222399,"post_id":74549982,"comment_id":131597324,"body_markdown":"If every poem is of 5 lines, 1st, 6th , 11th line (or 0th, 5th, 10th line, when following 0 based indexing)  and so on would be the first line of 1st, 2nd, 3rd poems. There would not be a mix up. You need to generate the number 1,6,11....(or 0,5,10) etc. I would encourage you to write the code and paste edited code in the post. @Reto H&#246;hener IMO The exercise is for reading a file. Also, reading the file into memory doesn&#39;t make much sense.","body":"If every poem is of 5 lines, 1st, 6th , 11th line (or 0th, 5th, 10th line, when following 0 based indexing)  and so on would be the first line of 1st, 2nd, 3rd poems. There would not be a mix up. You need to generate the number 1,6,11....(or 0,5,10) etc. I would encourage you to write the code and paste edited code in the post. @Reto H&#246;hener IMO The exercise is for reading a file. Also, reading the file into memory doesn&#39;t make much sense."}],"answers":[{"tags":[],"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669222650,"creation_date":1669222650,"answer_id":74550483,"question_id":74549982,"body_markdown":"You can try \r\n\r\n    private static final int POEM_LINES_LENGTH = 5;\r\n\t\r\n\tpublic static void main(String[] args) throws IOException\r\n\t{\r\n\t\t// The file\r\n\t\tFile file = new File(&quot;src/main/java/org/example/text.txt&quot;);\r\n\t\t\r\n\t\t// Get all the lines into a single list\r\n\t\tList&lt;String&gt; lines = Files.readAllLines(Paths.get(file.getAbsolutePath()));\r\n\t\t\r\n\t\t// Get a random poem and point at the end.\r\n\t\tint poemFinish = new Random().nextInt(lines.size() / POEM_LINES_LENGTH) * POEM_LINES_LENGTH;\r\n\t\t\r\n\t\t// Point to the be start\r\n\t\tint start = poemFinish - POEM_LINES_LENGTH;\r\n\t\t\r\n\t\t// Create a sublist with the start and finish indexes.\r\n\t\tfor (String line : lines.subList(start, poemFinish))\r\n\t\t\tSystem.out.println(line);\r\n\t}","title":"Java: print multiple random lines from text file","body":"<p>You can try</p>\n<pre><code>private static final int POEM_LINES_LENGTH = 5;\n\npublic static void main(String[] args) throws IOException\n{\n    // The file\n    File file = new File(&quot;src/main/java/org/example/text.txt&quot;);\n    \n    // Get all the lines into a single list\n    List&lt;String&gt; lines = Files.readAllLines(Paths.get(file.getAbsolutePath()));\n    \n    // Get a random poem and point at the end.\n    int poemFinish = new Random().nextInt(lines.size() / POEM_LINES_LENGTH) * POEM_LINES_LENGTH;\n    \n    // Point to the be start\n    int start = poemFinish - POEM_LINES_LENGTH;\n    \n    // Create a sublist with the start and finish indexes.\n    for (String line : lines.subList(start, poemFinish))\n        System.out.println(line);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":298566,"reputation":537,"user_id":604656,"accept_rate":47,"display_name":"ashish.g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669224503,"creation_date":1669224503,"answer_id":74550847,"question_id":74549982,"body_markdown":"This will not read the entire file into the memory, hence large files can also be read. \r\n      \r\n      final int totalPoems = 17;\r\n      int skip = new Random().nextInt(totalPoems) * 5;\r\n\r\n      Path path = Paths.get(&quot;file.txt&quot;);\r\n      BufferedReader reader = Files.newBufferedReader(path);\r\n        \r\n      while(skip--&gt;0){\r\n         reader.readLine();\r\n      }\r\n      \r\n      for(int i=0; i&lt;5; i++){\r\n          System.out.println(reader.readLine());\r\n      }\r\n\r\nThe downside is you have to know how many poems are in the file beforehand. If you don&#39;t want to do this you can quickly count the total number of lines/poems only one time.","title":"Java: print multiple random lines from text file","body":"<p>This will not read the entire file into the memory, hence large files can also be read.</p>\n<pre><code>  final int totalPoems = 17;\n  int skip = new Random().nextInt(totalPoems) * 5;\n\n  Path path = Paths.get(&quot;file.txt&quot;);\n  BufferedReader reader = Files.newBufferedReader(path);\n    \n  while(skip--&gt;0){\n     reader.readLine();\n  }\n  \n  for(int i=0; i&lt;5; i++){\n      System.out.println(reader.readLine());\n  }\n</code></pre>\n<p>The downside is you have to know how many poems are in the file beforehand. If you don't want to do this you can quickly count the total number of lines/poems only one time.</p>\n"}],"owner":{"account_id":26066303,"reputation":1,"user_id":19766690,"display_name":"Kev98"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669291881,"answer_count":2,"score":0,"last_activity_date":1669224503,"creation_date":1669220295,"question_id":74549982,"body_markdown":"I am currently learning Java and received the following task, that I cannot seem to solve:\r\n\r\n&quot;Create a Java program that prints one random poem of 5 lines in the console. The poems must be read from a text file.&quot;\r\n\r\nI have copied 10 different poems inside a text file, all written underneath each other. I managed to make the program print out the very first poem (first 5 lines) in the console, but first of all, I am not sure if it&#39;s the correct way to do such, and I don&#39;t know how to make the program print out one random poem (5 lines that belong together) each time I run it.\r\n\r\nHere is the farthest I could get:\r\n\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n    File file = new File(&quot;src/main/java/org/example/text.txt&quot;);\r\n\r\n    Scanner scanner = null;\r\n    try {\r\n        scanner = new Scanner(file);\r\n\r\n        int i = 0;\r\n        while (scanner.hasNext()) {\r\n            String line = scanner.nextLine();\r\n            if (i &lt; 5) {\r\n\r\n                i++;\r\n                System.out.println(line);\r\n            }\r\n        }\r\n    } catch (Exception e) {\r\n\r\n    }\r\n}\r\n```","title":"Java: print multiple random lines from text file","body":"<p>I am currently learning Java and received the following task, that I cannot seem to solve:</p>\n<p>&quot;Create a Java program that prints one random poem of 5 lines in the console. The poems must be read from a text file.&quot;</p>\n<p>I have copied 10 different poems inside a text file, all written underneath each other. I managed to make the program print out the very first poem (first 5 lines) in the console, but first of all, I am not sure if it's the correct way to do such, and I don't know how to make the program print out one random poem (5 lines that belong together) each time I run it.</p>\n<p>Here is the farthest I could get:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    File file = new File(&quot;src/main/java/org/example/text.txt&quot;);\n\n    Scanner scanner = null;\n    try {\n        scanner = new Scanner(file);\n\n        int i = 0;\n        while (scanner.hasNext()) {\n            String line = scanner.nextLine();\n            if (i &lt; 5) {\n\n                i++;\n                System.out.println(line);\n            }\n        }\n    } catch (Exception e) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rest","gradle","aerospike"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1669187767,"post_id":74542998,"comment_id":131584897,"body_markdown":"There were failing tests. &gt;&gt; that kind of explains it","body":"There were failing tests. &gt;&gt; that kind of explains it"}],"answers":[{"tags":[],"owner":{"account_id":22363579,"reputation":260,"user_id":16579758,"display_name":"JDogMcSteezy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1669224385,"creation_date":1669224385,"answer_id":74550821,"question_id":74542998,"body_markdown":"By default, `./gradlew build` runs the tests before it builds the jar file.  It looks like the integration tests are failing, and the unit tests are passing. This is likely because the server is not available on localhost.  Run `make build` instead to bypass the tests.","title":"Aerospike REST gateway, failed build with an exception","body":"<p>By default, <code>./gradlew build</code> runs the tests before it builds the jar file.  It looks like the integration tests are failing, and the unit tests are passing. This is likely because the server is not available on localhost.  Run <code>make build</code> instead to bypass the tests.</p>\n"}],"owner":{"account_id":1597463,"reputation":684,"user_id":1479199,"accept_rate":83,"display_name":"Lezir Opav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74550821,"answer_count":1,"score":2,"last_activity_date":1669224385,"creation_date":1669187690,"question_id":74542998,"body_markdown":"im trying to install Aerospike REST Gateway, after running first command ./gradlew build (and waiting for 2 hours) its shows something like this :\r\n\r\n```\r\n2142 tests completed, 1660 failed\r\n\r\n&gt; Task :test FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:test&#39;.\r\n&gt; There were failing tests. See the report at: file:///home/andalabs/aerospike-rest-gateway/build/reports/tests/test/index.html\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.3.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 2h 57m 33s\r\n8 actionable tasks: 8 executed\r\n```\r\nMostly those failed task is from package  &quot;com.aerospike.restclient&quot; which i dont have any clue what i have to do with this\r\n\r\nWhat im missing here? im using Ubuntu 20 ","title":"Aerospike REST gateway, failed build with an exception","body":"<p>im trying to install Aerospike REST Gateway, after running first command ./gradlew build (and waiting for 2 hours) its shows something like this :</p>\n<pre><code>2142 tests completed, 1660 failed\n\n&gt; Task :test FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':test'.\n&gt; There were failing tests. See the report at: file:///home/andalabs/aerospike-rest-gateway/build/reports/tests/test/index.html\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.3.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 2h 57m 33s\n8 actionable tasks: 8 executed\n</code></pre>\n<p>Mostly those failed task is from package  &quot;com.aerospike.restclient&quot; which i dont have any clue what i have to do with this</p>\n<p>What im missing here? im using Ubuntu 20</p>\n"},{"tags":["java","maven","mapper","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1501778971,"creation_date":1501778971,"answer_id":45490289,"question_id":45482677,"body_markdown":"The error `Unmapped target properties: &quot;&lt;list of properties&gt;&quot;` is usually represented on the appropriate methods and in your case it means that MapStruct could not find `from` and `to` for the mapping of `MessageDTO toMessageDTO(Message message)` and `clientFrom` and `clientTo` for the mapping of `Message toMessage(MessageDTO messageDTO)`.\r\n\r\nTo solve this you will have to explicitly define the mappings between the different properties.\r\n\r\nYour mapper will look like (I am assuming `mapstruct-jdk8` usage):\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = {ClientMapper.class})\r\n    public interface MessageMapper {\r\n    \r\n        @Mapping(target = &quot;clientFrom&quot;, source = &quot;from&quot;)\r\n        @Mapping(target = &quot;clientTo&quot;, source = &quot;to&quot;)\r\n        Message toMessage(MessageDTO messageDTO);\r\n    \r\n        @InheritInverseConfiguration //MapStruct will automatically reverse the defined mappings from toMessage\r\n        MessageDTO toMessageDTO(Message message);\r\n    \r\n        List&lt;Message&gt; toMessageList(List&lt;MessageDTO&gt; list);\r\n        List&lt;MessageDTO&gt; toMessageDTOList(List&lt;Message&gt; list);\r\n    }\r\n\r\nFor better understanding have a look at [here](http://mapstruct.org/documentation/stable/reference/html/#basic-mappings). In the documentation. For more info about the `@InheritInverseConfiguration` have a look [here](http://mapstruct.org/documentation/stable/reference/html/#inverse-mappings).\r\n\r\nIf the names of the properties (getters / setters) were the same in `Message` and `MessageDTO`, then you wouldn&#39;t need the `@Mapping` annotations","title":"Java: Unmapped target properties","body":"<p>The error <code>Unmapped target properties: \"&lt;list of properties&gt;\"</code> is usually represented on the appropriate methods and in your case it means that MapStruct could not find <code>from</code> and <code>to</code> for the mapping of <code>MessageDTO toMessageDTO(Message message)</code> and <code>clientFrom</code> and <code>clientTo</code> for the mapping of <code>Message toMessage(MessageDTO messageDTO)</code>.</p>\n\n<p>To solve this you will have to explicitly define the mappings between the different properties.</p>\n\n<p>Your mapper will look like (I am assuming <code>mapstruct-jdk8</code> usage):</p>\n\n<pre><code>@Mapper(componentModel = \"spring\", uses = {ClientMapper.class})\npublic interface MessageMapper {\n\n    @Mapping(target = \"clientFrom\", source = \"from\")\n    @Mapping(target = \"clientTo\", source = \"to\")\n    Message toMessage(MessageDTO messageDTO);\n\n    @InheritInverseConfiguration //MapStruct will automatically reverse the defined mappings from toMessage\n    MessageDTO toMessageDTO(Message message);\n\n    List&lt;Message&gt; toMessageList(List&lt;MessageDTO&gt; list);\n    List&lt;MessageDTO&gt; toMessageDTOList(List&lt;Message&gt; list);\n}\n</code></pre>\n\n<p>For better understanding have a look at <a href=\"http://mapstruct.org/documentation/stable/reference/html/#basic-mappings\" rel=\"noreferrer\">here</a>. In the documentation. For more info about the <code>@InheritInverseConfiguration</code> have a look <a href=\"http://mapstruct.org/documentation/stable/reference/html/#inverse-mappings\" rel=\"noreferrer\">here</a>.</p>\n\n<p>If the names of the properties (getters / setters) were the same in <code>Message</code> and <code>MessageDTO</code>, then you wouldn't need the <code>@Mapping</code> annotations</p>\n"},{"tags":[],"owner":{"account_id":203033,"reputation":544,"user_id":450450,"display_name":"Anatoly Tutov"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1669224218,"creation_date":1549994478,"answer_id":54656081,"question_id":45482677,"body_markdown":"In the latest versions of `MapStruct` you can: \r\n\r\n 1. Define `@Mapping` annotation with `ignore=true` attribute for any field that should not be mapped OR\r\n 2. Add special reporting policy to your mapper interface to suppress warnings on all unmapped fields at once, like this:\r\n```java\r\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n```","title":"Java: Unmapped target properties","body":"<p>In the latest versions of <code>MapStruct</code> you can:</p>\n<ol>\n<li>Define <code>@Mapping</code> annotation with <code>ignore=true</code> attribute for any field that should not be mapped OR</li>\n<li>Add special reporting policy to your mapper interface to suppress warnings on all unmapped fields at once, like this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n</code></pre>\n"}],"owner":{"account_id":9223844,"reputation":259,"user_id":6852253,"display_name":"Błażej Rejnowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32659,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":45490289,"answer_count":2,"score":18,"last_activity_date":1669224218,"creation_date":1501759125,"question_id":45482677,"body_markdown":"   I have a problem with Mapper.I am using a mapstruct-processor to build Maven project. All time I get a warning: \r\nWarning:(15, 16) java: Unmapped target properties: &quot;from, to&quot;.\r\nWarning:(13, 13) java: Unmapped target properties: &quot;clientFrom, clientTo&quot;.\r\nWhat did I suppose to do with that?  Class Client works well and creates a Client.\r\n\r\n     @Entity\r\n    public class Message {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String message;\r\n\r\n    @ManyToOne(cascade = {CascadeType.ALL})\r\n    @JoinColumn(name = &quot;client_from&quot;)\r\n    private Client clientFrom;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;client_to&quot;)\r\n    private Client clientTo;\r\n\r\n    public Message(){}\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    public Client getClientFrom() {\r\n        return clientFrom;\r\n    }\r\n\r\n    public void setClientFrom(Client clientFrom) {\r\n        this.clientFrom = clientFrom;\r\n    }\r\n\r\n    public Client getClientTo() {\r\n        return clientTo;\r\n    }\r\n\r\n    public void setClientTo(Client clientTo) {\r\n        this.clientTo = clientTo;\r\n    }\r\n\r\n  \r\n    }\r\n\r\n\r\n    public class MessageDTO {\r\n\r\n    private Long id;\r\n    private String message;\r\n    private ClientDTO from;\r\n    private ClientDTO to;\r\n\r\n    public MessageDTO(){}\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    public ClientDTO getFrom() {\r\n        return from;\r\n    }\r\n\r\n    public void setFrom(ClientDTO from) {\r\n        this.from = from;\r\n    }\r\n\r\n    public ClientDTO getTo() {\r\n        return to;\r\n    }\r\n\r\n    public void setTo(ClientDTO to) {\r\n        this.to = to;\r\n    }\r\n    }\r\n\r\n\r\n\r\n     @Mapper(componentModel = &quot;spring&quot;, uses = {ClientMapper.class})\r\n    public interface MessageMapper {\r\n\r\n    Message toMessage(MessageDTO messageDTO);\r\n\r\n    MessageDTO toMessageDTO(Message message);\r\n\r\n    List&lt;Message&gt; toMessageList(List&lt;MessageDTO&gt; list);\r\n    List&lt;MessageDTO&gt; toMessageDTOList(List&lt;Message&gt; list);\r\n    }","title":"Java: Unmapped target properties","body":"<p>I have a problem with Mapper.I am using a mapstruct-processor to build Maven project. All time I get a warning: \nWarning:(15, 16) java: Unmapped target properties: \"from, to\".\nWarning:(13, 13) java: Unmapped target properties: \"clientFrom, clientTo\".\nWhat did I suppose to do with that?  Class Client works well and creates a Client.</p>\n\n<pre><code> @Entity\npublic class Message {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\nprivate String message;\n\n@ManyToOne(cascade = {CascadeType.ALL})\n@JoinColumn(name = \"client_from\")\nprivate Client clientFrom;\n\n@ManyToOne\n@JoinColumn(name = \"client_to\")\nprivate Client clientTo;\n\npublic Message(){}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getMessage() {\n    return message;\n}\n\npublic void setMessage(String message) {\n    this.message = message;\n}\n\npublic Client getClientFrom() {\n    return clientFrom;\n}\n\npublic void setClientFrom(Client clientFrom) {\n    this.clientFrom = clientFrom;\n}\n\npublic Client getClientTo() {\n    return clientTo;\n}\n\npublic void setClientTo(Client clientTo) {\n    this.clientTo = clientTo;\n}\n\n\n}\n\n\npublic class MessageDTO {\n\nprivate Long id;\nprivate String message;\nprivate ClientDTO from;\nprivate ClientDTO to;\n\npublic MessageDTO(){}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getMessage() {\n    return message;\n}\n\npublic void setMessage(String message) {\n    this.message = message;\n}\n\npublic ClientDTO getFrom() {\n    return from;\n}\n\npublic void setFrom(ClientDTO from) {\n    this.from = from;\n}\n\npublic ClientDTO getTo() {\n    return to;\n}\n\npublic void setTo(ClientDTO to) {\n    this.to = to;\n}\n}\n\n\n\n @Mapper(componentModel = \"spring\", uses = {ClientMapper.class})\npublic interface MessageMapper {\n\nMessage toMessage(MessageDTO messageDTO);\n\nMessageDTO toMessageDTO(Message message);\n\nList&lt;Message&gt; toMessageList(List&lt;MessageDTO&gt; list);\nList&lt;MessageDTO&gt; toMessageDTOList(List&lt;Message&gt; list);\n}\n</code></pre>\n"},{"tags":["java","docker","netflix-eureka","spring-cloud-netflix","service-discovery"],"comments":[{"owner":{"account_id":7608172,"reputation":715,"user_id":5770084,"display_name":"whiplash"},"score":0,"creation_date":1669219695,"post_id":74549709,"comment_id":131596270,"body_markdown":"Are you sure your docker is running on 127.0.0.1?","body":"Are you sure your docker is running on 127.0.0.1?"},{"owner":{"account_id":18048122,"reputation":57,"user_id":13118527,"display_name":"David Ogbodu"},"score":0,"creation_date":1669219844,"post_id":74549709,"comment_id":131596322,"body_markdown":"i dont know ??? how do i check","body":"i dont know ??? how do i check"},{"owner":{"account_id":18048122,"reputation":57,"user_id":13118527,"display_name":"David Ogbodu"},"score":0,"creation_date":1669220126,"post_id":74549709,"comment_id":131596413,"body_markdown":"@whiplash  or how to solve this issue","body":"@whiplash  or how to solve this issue"},{"owner":{"account_id":9228609,"reputation":3045,"user_id":6855531,"display_name":"paltaa"},"score":0,"creation_date":1669220874,"post_id":74549709,"comment_id":131596700,"body_markdown":"do a docker run with port mapping:\n\ndocker run -p 8761","body":"do a docker run with port mapping:  docker run -p 8761"},{"owner":{"account_id":18048122,"reputation":57,"user_id":13118527,"display_name":"David Ogbodu"},"score":0,"creation_date":1669220957,"post_id":74549709,"comment_id":131596735,"body_markdown":"@paltaa ok i will do that now","body":"@paltaa ok i will do that now"},{"owner":{"account_id":18048122,"reputation":57,"user_id":13118527,"display_name":"David Ogbodu"},"score":0,"creation_date":1669221169,"post_id":74549709,"comment_id":131596805,"body_markdown":"@paltaa that is what am doing with this command, docker run -p 8761:8761 -t davidtega/eureka-layered , and the application is starting successfully but i just cant access the localhost:8761 on the browser","body":"@paltaa that is what am doing with this command, docker run -p 8761:8761 -t davidtega/eureka-layered , and the application is starting successfully but i just cant access the localhost:8761 on the browser"},{"owner":{"account_id":9228609,"reputation":3045,"user_id":6855531,"display_name":"paltaa"},"score":0,"creation_date":1669221985,"post_id":74549709,"comment_id":131597143,"body_markdown":"could you post your Dockerfile and check that the port is bound to that process with  lsof -i -P -n | grep LISTEN","body":"could you post your Dockerfile and check that the port is bound to that process with  lsof -i -P -n | grep LISTEN"},{"owner":{"account_id":18048122,"reputation":57,"user_id":13118527,"display_name":"David Ogbodu"},"score":0,"creation_date":1669222595,"post_id":74549709,"comment_id":131597397,"body_markdown":"@paltaa ok i have updated the post and added my dockerfile","body":"@paltaa ok i have updated the post and added my dockerfile"}],"answers":[{"tags":[],"owner":{"account_id":9228609,"reputation":3045,"user_id":6855531,"display_name":"paltaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669224103,"creation_date":1669223008,"answer_id":74550545,"question_id":74549709,"body_markdown":"Add to the config `eureka.hostname=localhost` and `eureka.client.serviceUrl.defaultZone=http://${eureka.instance.hostname}:${server.port}/eureka/`\r\n\r\n\r\nMake sure the port is mapped doing a `docker run -p 8761` and then check that the port is correctly listening with `lsof -i -P -n | grep LISTEN`","title":"How Do I Containerize Eureka Server In Docker","body":"<p>Add to the config <code>eureka.hostname=localhost</code> and <code>eureka.client.serviceUrl.defaultZone=http://${eureka.instance.hostname}:${server.port}/eureka/</code></p>\n<p>Make sure the port is mapped doing a <code>docker run -p 8761</code> and then check that the port is correctly listening with <code>lsof -i -P -n | grep LISTEN</code></p>\n"}],"owner":{"account_id":18048122,"reputation":57,"user_id":13118527,"display_name":"David Ogbodu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1721,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74550545,"answer_count":1,"score":1,"last_activity_date":1669224103,"creation_date":1669219085,"question_id":74549709,"body_markdown":"i have been struggling to use my created eureka-server container in docker...\r\nI have gone through previous solutions and am still not getting why i cant access the url: http://localhost:8761/\r\nI have changed my properties file severally but no one seems to be working...\r\nFirstly my application.properties file goes like this\r\n```\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\nserver.port=8761\r\nspring.application.name=discovery-service\r\neureka.instance.prefer-ip-address=true\r\nlogging.level.org.springframework.cloud.commons.util.InetUtils=trace\r\nspring.cloud.inetutils.timeout-seconds=10\r\n```\r\nAnd my dependecies tag of my pom.xml goes like this\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\nAnd i have also added the @EnableEurekaServer to my application class...\r\nSo when i created an image for it using the docker command docker build -t davidtega/eureka-layered -f Dockerfile.layered .\r\nIt worked perfectly, and i started a container using the docker command docker run -p 8761:8761 -t davidtega/eureka-layered \r\nAnd this the log\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when i try to access http://localhost:8761/, this site cannot be reached is the response i get everytime...\r\nSo i noticed my app was running on 0.0.0.0:8761 not 127.0.0.1:8761\r\n[![enter image description here][2]][2]\r\n\r\nI was wondering how do i change it ???\r\nI have two docker files, the first one is the DockerFile and the second one is the Dockerfile.layered\r\nFor my DockerFile, this is what is in it...\r\n```\r\nFROM openjdk:17\r\n\r\nCOPY target/*.jar app.jar\r\n\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\n```\r\nAnd my DockerFile.layered file contains \r\n```\r\nFROM eclipse-temurin:17.0.4.1_1-jre as builder\r\nWORKDIR extracted\r\nADD target/*.jar app.jar\r\nRUN java -Djarmode=layertools -jar app.jar extract\r\n\r\nFROM eclipse-temurin:17.0.4.1_1-jre\r\nWORKDIR application\r\nCOPY --from=builder extracted/dependencies/ ./\r\nCOPY --from=builder extracted/spring-boot-loader/ ./\r\nCOPY --from=builder extracted/snapshot-dependencies/ ./\r\nCOPY --from=builder extracted/application/ ./\r\nEXPOSE 8761\r\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\r\n\r\n```\r\nPlease and please help i request assistance, i am using spring cloud version 2.7 and java 17... Thanks \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AiMCE.png\r\n  [2]: https://i.stack.imgur.com/fU8B2.png","title":"How Do I Containerize Eureka Server In Docker","body":"<p>i have been struggling to use my created eureka-server container in docker...\nI have gone through previous solutions and am still not getting why i cant access the url: http://localhost:8761/\nI have changed my properties file severally but no one seems to be working...\nFirstly my application.properties file goes like this</p>\n<pre><code>eureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\nserver.port=8761\nspring.application.name=discovery-service\neureka.instance.prefer-ip-address=true\nlogging.level.org.springframework.cloud.commons.util.InetUtils=trace\nspring.cloud.inetutils.timeout-seconds=10\n</code></pre>\n<p>And my dependecies tag of my pom.xml goes like this</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>And i have also added the @EnableEurekaServer to my application class...\nSo when i created an image for it using the docker command docker build -t davidtega/eureka-layered -f Dockerfile.layered .\nIt worked perfectly, and i started a container using the docker command docker run -p 8761:8761 -t davidtega/eureka-layered\nAnd this the log\n<a href=\"https://i.stack.imgur.com/AiMCE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AiMCE.png\" alt=\"enter image description here\" /></a></p>\n<p>But when i try to access http://localhost:8761/, this site cannot be reached is the response i get everytime...\nSo i noticed my app was running on 0.0.0.0:8761 not 127.0.0.1:8761\n<a href=\"https://i.stack.imgur.com/fU8B2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fU8B2.png\" alt=\"enter image description here\" /></a></p>\n<p>I was wondering how do i change it ???\nI have two docker files, the first one is the DockerFile and the second one is the Dockerfile.layered\nFor my DockerFile, this is what is in it...</p>\n<pre><code>FROM openjdk:17\n\nCOPY target/*.jar app.jar\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n\n</code></pre>\n<p>And my DockerFile.layered file contains</p>\n<pre><code>FROM eclipse-temurin:17.0.4.1_1-jre as builder\nWORKDIR extracted\nADD target/*.jar app.jar\nRUN java -Djarmode=layertools -jar app.jar extract\n\nFROM eclipse-temurin:17.0.4.1_1-jre\nWORKDIR application\nCOPY --from=builder extracted/dependencies/ ./\nCOPY --from=builder extracted/spring-boot-loader/ ./\nCOPY --from=builder extracted/snapshot-dependencies/ ./\nCOPY --from=builder extracted/application/ ./\nEXPOSE 8761\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\n\n</code></pre>\n<p>Please and please help i request assistance, i am using spring cloud version 2.7 and java 17... Thanks</p>\n"},{"tags":["java","string","null","equals","referenceequals"],"comments":[{"owner":{"display_name":"user166390"},"score":7,"creation_date":1296025032,"post_id":4802015,"comment_id":5321867,"body_markdown":"Compare with `b.equals(a)` -- but don&#39;t use `==` for string comparing as &quot;it won&#39;t work&quot; in other ways. The `null` value (which is different than an empty string `&quot;&quot;`, a valid String instance) can *never* have a method invoked upon it. Placing the &quot;known non-null&quot; (usually a constant value or literal) to the left side of the equality is &quot;Yoda conditionals&quot; or some-such.","body":"Compare with <code>b.equals(a)</code> -- but don&#39;t use <code>==</code> for string comparing as &quot;it won&#39;t work&quot; in other ways. The <code>null</code> value (which is different than an empty string <code>&quot;&quot;</code>, a valid String instance) can <i>never</i> have a method invoked upon it. Placing the &quot;known non-null&quot; (usually a constant value or literal) to the left side of the equality is &quot;Yoda conditionals&quot; or some-such."}],"answers":[{"tags":[],"owner":{"display_name":"user467871"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1296025585,"creation_date":1296024946,"answer_id":4802042,"question_id":4802015,"body_markdown":"here `a is an Object` but `b(null)` is **not** an Object it is a null reference\r\n\r\n    System.out.println(a instanceof Object); // true\r\n    \r\n    System.out.println(b instanceof Object); // false\r\n\r\n[here is][1] my similar answer\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4459623/java-is-null-an-instance-of-object/4459652#4459652","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>here <code>a is an Object</code> but <code>b(null)</code> is <strong>not</strong> an Object it is a null reference</p>\n\n<pre><code>System.out.println(a instanceof Object); // true\n\nSystem.out.println(b instanceof Object); // false\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/4459623/java-is-null-an-instance-of-object/4459652#4459652\">here is</a> my similar answer</p>\n"},{"tags":[],"owner":{"account_id":288703,"reputation":962,"user_id":589268,"accept_rate":50,"display_name":"Aba Dov"},"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1296024946,"creation_date":1296024946,"answer_id":4802044,"question_id":4802015,"body_markdown":"String is an Object and can be null\r\n\r\nnull means that the String Object was not instantiated \r\n\r\n&quot;&quot; is an actual value of the instantiated Object String like &quot;aaa&quot; \r\n\r\nHere is a link that might clarify that point [http://download.oracle.com/javase/tutorial/java/concepts/object.html][1]\r\n \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/java/concepts/object.html","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>String is an Object and can be null</p>\n\n<p>null means that the String Object was not instantiated </p>\n\n<p>\"\" is an actual value of the instantiated Object String like \"aaa\" </p>\n\n<p>Here is a link that might clarify that point <a href=\"http://download.oracle.com/javase/tutorial/java/concepts/object.html\" rel=\"noreferrer\">http://download.oracle.com/javase/tutorial/java/concepts/object.html</a></p>\n"},{"tags":[],"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1296024965,"creation_date":1296024965,"answer_id":4802047,"question_id":4802015,"body_markdown":"There is a pretty significant difference between the two.  The empty string `&quot;&quot;` is &quot;the string that has no characters in it.&quot;  It&#39;s an actual string that has a well-defined length.  All of the standard string operations are well-defined on the empty string - you can convert it to lower case, look up the index of some character in it, etc.  The null string `null` is &quot;no string at all.&quot;  It doesn&#39;t have a length because it&#39;s not a string at all.  Trying to apply any standard string operation to the null string will cause a `NullPointerException` at runtime.","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>There is a pretty significant difference between the two.  The empty string <code>\"\"</code> is \"the string that has no characters in it.\"  It's an actual string that has a well-defined length.  All of the standard string operations are well-defined on the empty string - you can convert it to lower case, look up the index of some character in it, etc.  The null string <code>null</code> is \"no string at all.\"  It doesn't have a length because it's not a string at all.  Trying to apply any standard string operation to the null string will cause a <code>NullPointerException</code> at runtime.</p>\n"},{"tags":[],"owner":{"account_id":275502,"reputation":16152,"user_id":568406,"display_name":"Zach L"},"down_vote_count":0,"up_vote_count":248,"is_accepted":true,"score":248,"last_activity_date":1445513597,"creation_date":1296024970,"answer_id":4802049,"question_id":4802015,"body_markdown":"&quot;&quot; is an actual string, albeit an empty one.\r\n\r\nnull, however, means that the String variable points to nothing.\r\n\r\n`a==b` returns false because &quot;&quot; and null do not occupy the same space in memory--in other words, their variables don&#39;t point to the same objects.\r\n\r\n`a.equals(b)` returns false because &quot;&quot; does not equal null, obviously.\r\n\r\nThe difference is though that since &quot;&quot; is an actual string, you can still invoke methods or functions on it like\r\n\r\n`a.length()`\r\n\r\n`a.substring(0, 1)`\r\n\r\nand so on.\r\n\r\nIf the String equals null, like b, Java would throw a `NullPointerException` if you tried invoking, say:\r\n\r\n`b.length()`\r\n\r\n\r\n----\r\n\r\nIf the difference you are wondering about is == versus equals, it&#39;s this: \r\n\r\n== compares references, like if I went\r\n\r\n    String a = new String(&quot;&quot;);\r\n    String b = new String(&quot;&quot;);\r\n    System.out.println(a==b);\r\n\r\nThat would output false because I allocated two different objects, and a and b point to different objects.\r\n\r\nHowever, `a.equals(b)` in this case would return true, because `equals` for Strings will return true [if and only if the argument String is not null and represents the same sequence of characters.][1]\r\n\r\nBe warned, though, that Java does have a special case for Strings.\r\n\r\n    String a = &quot;abc&quot;;\r\n    String b = &quot;abc&quot;;\r\n    System.out.println(a==b);\r\n\r\nYou would think that the output would be `false`, since it should allocate two different Strings. Actually, Java will [intern][2] literal Strings (ones that are initialized like a and b in our example). So be careful, because that can give some false positives on how == works.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals(java.lang.Object)\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#intern()","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>\"\" is an actual string, albeit an empty one.</p>\n\n<p>null, however, means that the String variable points to nothing.</p>\n\n<p><code>a==b</code> returns false because \"\" and null do not occupy the same space in memory--in other words, their variables don't point to the same objects.</p>\n\n<p><code>a.equals(b)</code> returns false because \"\" does not equal null, obviously.</p>\n\n<p>The difference is though that since \"\" is an actual string, you can still invoke methods or functions on it like</p>\n\n<p><code>a.length()</code></p>\n\n<p><code>a.substring(0, 1)</code></p>\n\n<p>and so on.</p>\n\n<p>If the String equals null, like b, Java would throw a <code>NullPointerException</code> if you tried invoking, say:</p>\n\n<p><code>b.length()</code></p>\n\n<hr>\n\n<p>If the difference you are wondering about is == versus equals, it's this: </p>\n\n<p>== compares references, like if I went</p>\n\n<pre><code>String a = new String(\"\");\nString b = new String(\"\");\nSystem.out.println(a==b);\n</code></pre>\n\n<p>That would output false because I allocated two different objects, and a and b point to different objects.</p>\n\n<p>However, <code>a.equals(b)</code> in this case would return true, because <code>equals</code> for Strings will return true <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals(java.lang.Object)\">if and only if the argument String is not null and represents the same sequence of characters.</a></p>\n\n<p>Be warned, though, that Java does have a special case for Strings.</p>\n\n<pre><code>String a = \"abc\";\nString b = \"abc\";\nSystem.out.println(a==b);\n</code></pre>\n\n<p>You would think that the output would be <code>false</code>, since it should allocate two different Strings. Actually, Java will <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#intern()\">intern</a> literal Strings (ones that are initialized like a and b in our example). So be careful, because that can give some false positives on how == works.</p>\n"},{"tags":[],"owner":{"account_id":79400,"reputation":7347,"user_id":225176,"accept_rate":64,"display_name":"Arkaaito"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1296024983,"creation_date":1296024983,"answer_id":4802052,"question_id":4802015,"body_markdown":"What your statements are telling you is just that &quot;&quot; isn&#39;t the same as null - which is true.  &quot;&quot; is an empty string; null means that no value has been assigned.\r\n\r\nIt might be more enlightening to try:\r\n\r\n    System.out.println(a.length()); // 0\r\n    System.out.println(b.length()); // error; b is not an object\r\n\r\n&quot;&quot; is still a string, meaning you can call its methods and get meaningful information.  null is an empty variable - there&#39;s literally nothing there.","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>What your statements are telling you is just that \"\" isn't the same as null - which is true.  \"\" is an empty string; null means that no value has been assigned.</p>\n\n<p>It might be more enlightening to try:</p>\n\n<pre><code>System.out.println(a.length()); // 0\nSystem.out.println(b.length()); // error; b is not an object\n</code></pre>\n\n<p>\"\" is still a string, meaning you can call its methods and get meaningful information.  null is an empty variable - there's literally nothing there.</p>\n"},{"tags":[],"owner":{"account_id":106034,"reputation":35823,"user_id":282658,"accept_rate":100,"display_name":"JUST MY correct OPINION"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1296025036,"creation_date":1296025036,"answer_id":4802055,"question_id":4802015,"body_markdown":"In Java a reference type assigned `null` has **no value at all**.  A string assigned `&quot;&quot;` has a value: an empty string, which is to say a string with no characters in it.  When a variable is assigned `null` it means there is no underlying object of any kind, string or otherwise.","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>In Java a reference type assigned <code>null</code> has <strong>no value at all</strong>.  A string assigned <code>\"\"</code> has a value: an empty string, which is to say a string with no characters in it.  When a variable is assigned <code>null</code> it means there is no underlying object of any kind, string or otherwise.</p>\n"},{"tags":[],"owner":{"account_id":128749,"reputation":21660,"user_id":326820,"accept_rate":99,"display_name":"Shamim Hafiz - MSFT"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1296025045,"creation_date":1296025045,"answer_id":4802057,"question_id":4802015,"body_markdown":"**null** means the name isn&#39;t referencing any instantiated object.  **&quot;&quot;** means an empty string.\r\n\r\nHere **a** is referencing some object which happens to be an empty string. **b** isn&#39;t referencing any object as it&#39;s null.  ","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p><strong>null</strong> means the name isn't referencing any instantiated object.  <strong>\"\"</strong> means an empty string.</p>\n\n<p>Here <strong>a</strong> is referencing some object which happens to be an empty string. <strong>b</strong> isn't referencing any object as it's null.  </p>\n"},{"tags":[],"owner":{"account_id":262329,"reputation":22564,"user_id":547122,"accept_rate":40,"display_name":"weltraumpirat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1296025142,"creation_date":1296025142,"answer_id":4802068,"question_id":4802015,"body_markdown":"&gt; The empty string is distinct from a\r\n&gt; null reference in that in an\r\n&gt; object-oriented programming language a\r\n&gt; null reference to a string type\r\n&gt; doesn&#39;t point to a string object and\r\n&gt; will cause an error were one to try to\r\n&gt; perform any operation on it. The empty\r\n&gt; string is still a string upon which\r\n&gt; string operations may be attempted.\r\n\r\nFrom the wikipedia article on [empty string][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Empty_string","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<blockquote>\n  <p>The empty string is distinct from a\n  null reference in that in an\n  object-oriented programming language a\n  null reference to a string type\n  doesn't point to a string object and\n  will cause an error were one to try to\n  perform any operation on it. The empty\n  string is still a string upon which\n  string operations may be attempted.</p>\n</blockquote>\n\n<p>From the wikipedia article on <a href=\"http://en.wikipedia.org/wiki/Empty_string\" rel=\"nofollow\">empty string</a>.</p>\n"},{"tags":[],"owner":{"account_id":3662779,"reputation":492,"user_id":3052125,"accept_rate":12,"display_name":"Siddhartha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1435669531,"creation_date":1435669531,"answer_id":31139121,"question_id":4802015,"body_markdown":"**&quot;&quot;** and **null** both are different . the first one means as part of string variable declaration the string constant has been created in the string pool and some memory has been assigned for the same.\r\n\r\nBut when we are declaring it with **null** then it has just been instantiated jvm , but no memory has been allocated for it. therefore if you are trying to access this object by checking it with **&quot;&quot;** - blank variable  , it can&#39;t prevent nullpointerexception . Please find below one use-case.\r\n\r\n    public class StringCheck {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tString s1 = &quot;siddhartha&quot;;\r\n\t\tString s2 = &quot;&quot;;\r\n\t\tString s3 = null;\r\n\r\n\t\tSystem.out.println(&quot;length s1 =&quot;+s1.length());\r\n\t\tSystem.out.println(&quot;length s2 =&quot;+s2.length());\r\n\r\n\t\t//this piece of code will still throw nullpointerexception . \r\n\t\tif(s3 != &quot;&quot;){\r\n\t\t\tSystem.out.println(&quot;length s3 =&quot;+s3.length());\r\n\t\t}\r\n\t}\r\n}","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p><strong>\"\"</strong> and <strong>null</strong> both are different . the first one means as part of string variable declaration the string constant has been created in the string pool and some memory has been assigned for the same.</p>\n\n<p>But when we are declaring it with <strong>null</strong> then it has just been instantiated jvm , but no memory has been allocated for it. therefore if you are trying to access this object by checking it with <strong>\"\"</strong> - blank variable  , it can't prevent nullpointerexception . Please find below one use-case.</p>\n\n<pre><code>public class StringCheck {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    String s1 = \"siddhartha\";\n    String s2 = \"\";\n    String s3 = null;\n\n    System.out.println(\"length s1 =\"+s1.length());\n    System.out.println(\"length s2 =\"+s2.length());\n\n    //this piece of code will still throw nullpointerexception . \n    if(s3 != \"\"){\n        System.out.println(\"length s3 =\"+s3.length());\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":6764816,"reputation":317,"user_id":5210128,"accept_rate":12,"display_name":"Mukesh Kumar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1439565286,"creation_date":1439562766,"answer_id":32012560,"question_id":4802015,"body_markdown":"    String s = &quot;&quot;;\r\n    s.length();\r\n\r\n    String s = null;\r\n    s.length();\r\n\r\nA reference to an empty string `&quot;&quot;` points to an object in the heap - so you can call methods on it. \r\n\r\nBut a reference pointing to `null` has no object to point in the heap and thus you&#39;ll get a `NullPointerException`.","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<pre><code>String s = \"\";\ns.length();\n\nString s = null;\ns.length();\n</code></pre>\n\n<p>A reference to an empty string <code>\"\"</code> points to an object in the heap - so you can call methods on it. </p>\n\n<p>But a reference pointing to <code>null</code> has no object to point in the heap and thus you'll get a <code>NullPointerException</code>.</p>\n"},{"tags":[],"owner":{"account_id":9780503,"reputation":1,"user_id":7248768,"display_name":"Bibiana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480875139,"creation_date":1480871765,"answer_id":40961303,"question_id":4802015,"body_markdown":"A string can be empty or have a `null` value. If a string is `null`, it isn&#39;t referring to anything in memory. Try `s.length()&gt;0`. This is because if a string is empty, it still returns a length of 0. So if you enter nothing for the same, then it will still continue looping since it doesn&#39;t register the string as `null`. Whereas if you check for length, then it will exit out of it&#39;s loop. ","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>A string can be empty or have a <code>null</code> value. If a string is <code>null</code>, it isn't referring to anything in memory. Try <code>s.length()&gt;0</code>. This is because if a string is empty, it still returns a length of 0. So if you enter nothing for the same, then it will still continue looping since it doesn't register the string as <code>null</code>. Whereas if you check for length, then it will exit out of it's loop. </p>\n"},{"tags":[],"owner":{"account_id":1049262,"reputation":5113,"user_id":1053562,"display_name":"mikiqex"},"down_vote_count":0,"up_vote_count":392,"is_accepted":false,"score":392,"last_activity_date":1582029856,"creation_date":1503311618,"answer_id":45794912,"question_id":4802015,"body_markdown":"You may also understand the difference between null and an empty string this way:\r\n\r\n[![Difference between null and 0/empty string][1]][1]\r\n\r\n[Original image][2] by R. Sato ([@raysato][3])\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j9vg8.jpg\r\n  [2]: https://twitter.com/raysato/status/833650208642719744/photo/1\r\n  [3]: https://twitter.com/raysato","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>You may also understand the difference between null and an empty string this way:</p>\n\n<p><a href=\"https://i.stack.imgur.com/j9vg8.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/j9vg8.jpg\" alt=\"Difference between null and 0/empty string\"></a></p>\n\n<p><a href=\"https://twitter.com/raysato/status/833650208642719744/photo/1\" rel=\"noreferrer\">Original image</a> by R. Sato (<a href=\"https://twitter.com/raysato\" rel=\"noreferrer\">@raysato</a>)</p>\n"},{"tags":[],"owner":{"display_name":"user8715994"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509641221,"creation_date":1509641221,"answer_id":47080537,"question_id":4802015,"body_markdown":"This concept can be better understood from mathematics. Have you ever tried dividing a number (not zero) by 0 using a calculator e.g 7/0? You will get a result that looks like something this: `undefined`, `not a number`, `null` etc. This means that the operation is impossible, for some reasons (let&#39;s leave those reasons to be discussed another day).\r\n\r\nNow, perform this: 0/7. You will get the output, 0. This means that the operation is possible and can be executed, but you the answer is just 0 because nothing is left after the division. There is a valid output and that output is zero.\r\n\r\nIn the first example, not only was the output invalid, the operation was not possible to execute. This is akin to `null` string in java. The second example is akin to `empty` string.","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>This concept can be better understood from mathematics. Have you ever tried dividing a number (not zero) by 0 using a calculator e.g 7/0? You will get a result that looks like something this: <code>undefined</code>, <code>not a number</code>, <code>null</code> etc. This means that the operation is impossible, for some reasons (let's leave those reasons to be discussed another day).</p>\n\n<p>Now, perform this: 0/7. You will get the output, 0. This means that the operation is possible and can be executed, but you the answer is just 0 because nothing is left after the division. There is a valid output and that output is zero.</p>\n\n<p>In the first example, not only was the output invalid, the operation was not possible to execute. This is akin to <code>null</code> string in java. The second example is akin to <code>empty</code> string.</p>\n"},{"tags":[],"owner":{"account_id":2252370,"reputation":457,"user_id":1984342,"display_name":"Neeraj Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548873165,"creation_date":1548872037,"answer_id":54446999,"question_id":4802015,"body_markdown":"When you write\r\n\r\n`String a = &quot;&quot;;`\r\n\r\nIt means there is a variable &#39;a&#39; of type string which points to a object reference in string pool which has a value &quot;&quot;. As variable `a` is holding a valid string object reference, all the methods of string can be applied here.\r\n\r\nWhereas when you write\r\n\r\n`String b = null;`\r\n\r\nIt means that there is a variable `b` of type string which points to an _unknown reference_. And any operation on unknown reference will result in an `NullPointerException`.\r\n\r\nNow, let us evaluate the below expressions.\r\n\r\n    System.out.println(a == b); // false. because a and b both points to different object reference\r\n\r\n    System.out.println(a.equals(b)); // false, because the values at object reference pointed by a and b do not match.\r\n\r\n    System.out.println(b.equals(a)); // NullPointerException, because b is pointing to unknown reference and no operation is allowed","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>When you write</p>\n\n<p><code>String a = \"\";</code></p>\n\n<p>It means there is a variable 'a' of type string which points to a object reference in string pool which has a value \"\". As variable <code>a</code> is holding a valid string object reference, all the methods of string can be applied here.</p>\n\n<p>Whereas when you write</p>\n\n<p><code>String b = null;</code></p>\n\n<p>It means that there is a variable <code>b</code> of type string which points to an <em>unknown reference</em>. And any operation on unknown reference will result in an <code>NullPointerException</code>.</p>\n\n<p>Now, let us evaluate the below expressions.</p>\n\n<pre><code>System.out.println(a == b); // false. because a and b both points to different object reference\n\nSystem.out.println(a.equals(b)); // false, because the values at object reference pointed by a and b do not match.\n\nSystem.out.println(b.equals(a)); // NullPointerException, because b is pointing to unknown reference and no operation is allowed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1618685,"reputation":63,"user_id":1495717,"accept_rate":40,"display_name":"Bharat Kasodariya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555756662,"creation_date":1555750915,"answer_id":55771943,"question_id":4802015,"body_markdown":"```String s=null;```\r\n\r\nString is not initialized for null. if any string operation tried it can throw null pointer exception \r\n\r\n```String t=&quot;null&quot;;```\r\n\r\nIt is a string literal with value string &quot;null&quot; same like t = &quot;xyz&quot;. It will not throw null pointer.\r\n\r\n```String u=&quot;&quot;;```\r\n\r\nIt is as empty string , It will not throw null pointer.","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p><code>String s=null;</code></p>\n\n<p>String is not initialized for null. if any string operation tried it can throw null pointer exception </p>\n\n<p><code>String t=\"null\";</code></p>\n\n<p>It is a string literal with value string \"null\" same like t = \"xyz\". It will not throw null pointer.</p>\n\n<p><code>String u=\"\";</code></p>\n\n<p>It is as empty string , It will not throw null pointer.</p>\n"},{"tags":[],"owner":{"account_id":237323,"reputation":4915,"user_id":505406,"accept_rate":62,"display_name":"RoboAlex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561452884,"creation_date":1561452884,"answer_id":56750243,"question_id":4802015,"body_markdown":"In simple term,\r\n\r\n - &quot;&quot; is an empty **String**\r\n\r\n - null is an empty **String Variable**.\r\n\r\n","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>In simple term,</p>\n\n<ul>\n<li><p>\"\" is an empty <strong>String</strong></p></li>\n<li><p>null is an empty <strong>String Variable</strong>.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38492,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1582022389,"creation_date":1571102726,"answer_id":58386009,"question_id":4802015,"body_markdown":"![enter image description here](https://i.stack.imgur.com/KnXpN.jpg)\r\n\r\nThis image might help you to understand the differences. \r\n\r\nThe image was collected from [ProgrammerHumor][1]\r\n\r\n[1]: https://www.reddit.com/r/ProgrammerHumor/comments/8gcub3/meme_i_dont_have_a_good_title_for_this/","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p><img src=\"https://i.stack.imgur.com/KnXpN.jpg\" alt=\"enter image description here\"></p>\n\n<p>This image might help you to understand the differences. </p>\n\n<p>The image was collected from <a href=\"https://www.reddit.com/r/ProgrammerHumor/comments/8gcub3/meme_i_dont_have_a_good_title_for_this/\" rel=\"noreferrer\">ProgrammerHumor</a></p>\n"},{"tags":[],"owner":{"account_id":14435655,"reputation":2397,"user_id":10427807,"display_name":"Rashed Rahat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580361782,"creation_date":1580361782,"answer_id":59979569,"question_id":4802015,"body_markdown":"Difference between null &amp; empty string. For example: you have a variable named x. If you write in JS,\r\n\r\n````var x = &quot;&quot;;````\r\n\r\nthis means that you have assigned a value which is empty string (length is 0). Actually this is like something but which is feel of nothing :) On the other hand, \r\n\r\n````var y = null;````\r\n\r\nthis means you&#39;ve not assigned a value to y that clearly said by writing null to y at the time of declaration. If you write y.length; it will throw an error which indicates that no value assigned to y and as a result can&#39;t read length of y.","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>Difference between null &amp; empty string. For example: you have a variable named x. If you write in JS,</p>\n\n<p><code>var x = \"\";</code></p>\n\n<p>this means that you have assigned a value which is empty string (length is 0). Actually this is like something but which is feel of nothing :) On the other hand, </p>\n\n<p><code>var y = null;</code></p>\n\n<p>this means you've not assigned a value to y that clearly said by writing null to y at the time of declaration. If you write y.length; it will throw an error which indicates that no value assigned to y and as a result can't read length of y.</p>\n"},{"tags":[],"owner":{"account_id":11267023,"reputation":25,"user_id":8263527,"display_name":"Shivakumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592372981,"creation_date":1592372981,"answer_id":62422264,"question_id":4802015,"body_markdown":"&quot;I call it my billion-dollar mistake. It was the invention of the null reference in 1965&quot; - https://en.wikipedia.org/wiki/Tony_Hoare\r\n\r\nWith respect to real world both can be assumed same. Its just a syntax of a programming language that creates a difference between two as explained by others here. This simply creates overhead like when checking/comparing whether string variable has something, you have to first check if its not null and then actual string comparing ie two comparisons. This is a waste of processing power for every string comparisons.\r\n\r\nObjects.equals() checks for null before calling .equals(). ","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>\"I call it my billion-dollar mistake. It was the invention of the null reference in 1965\" - <a href=\"https://en.wikipedia.org/wiki/Tony_Hoare\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Tony_Hoare</a></p>\n\n<p>With respect to real world both can be assumed same. Its just a syntax of a programming language that creates a difference between two as explained by others here. This simply creates overhead like when checking/comparing whether string variable has something, you have to first check if its not null and then actual string comparing ie two comparisons. This is a waste of processing power for every string comparisons.</p>\n\n<p>Objects.equals() checks for null before calling .equals(). </p>\n"},{"tags":[],"owner":{"account_id":15305578,"reputation":2692,"user_id":11042460,"display_name":"Java wanna bee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592649799,"creation_date":1592649799,"answer_id":62484725,"question_id":4802015,"body_markdown":"as a curiosity\r\n\r\n\r\n        String s1 = null;\r\n        String s2 = &quot;hello&quot;;\r\n\r\n         s1 = s1 + s2;\r\n       \r\n\r\n        System.out.println((s); // nullhello","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>as a curiosity</p>\n<pre><code>    String s1 = null;\n    String s2 = &quot;hello&quot;;\n\n     s1 = s1 + s2;\n   \n\n    System.out.println((s); // nullhello\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17722379,"reputation":2112,"user_id":12867091,"display_name":"Tashkhisi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669224091,"creation_date":1596870988,"answer_id":63312773,"question_id":4802015,"body_markdown":"`null` means nothing; it means you have never set a value for your variable but empty means you have set  `&quot;&quot;` value to your `String`. For instance, see the following example:\r\n\r\n    String str1;\r\n    String str2 = &quot;&quot;;\r\n\r\nHere `str1` is `null` meaning that you have defined it but not set any value for it yet. But you have defined `str2` and set an empty value for it so it has a value even though that value is `&quot;&quot;`;\r\n\r\n`str1` can be compared with other strings but `str2` when compared will throw `NullPointerException` in `RuntimeException`.","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p><code>null</code> means nothing; it means you have never set a value for your variable but empty means you have set  <code>&quot;&quot;</code> value to your <code>String</code>. For instance, see the following example:</p>\n<pre><code>String str1;\nString str2 = &quot;&quot;;\n</code></pre>\n<p>Here <code>str1</code> is <code>null</code> meaning that you have defined it but not set any value for it yet. But you have defined <code>str2</code> and set an empty value for it so it has a value even though that value is <code>&quot;&quot;</code>;</p>\n<p><code>str1</code> can be compared with other strings but <code>str2</code> when compared will throw <code>NullPointerException</code> in <code>RuntimeException</code>.</p>\n"},{"tags":[],"owner":{"account_id":11303714,"reputation":1376,"user_id":8288930,"accept_rate":60,"display_name":"BlueJapan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600018112,"creation_date":1600018112,"answer_id":63873630,"question_id":4802015,"body_markdown":"Amazing answers, but I&#39;d like to give from a different perspective. \r\n```java\r\nString a = &quot;StackOverflow&quot;;\r\nString a1 = &quot;StackOverflow&quot; + &quot;&quot;;\r\nString a2 = &quot;StackOverflow&quot; + null;\r\n\r\nSystem.out.println(a == a1); // true\r\nSystem.out.println(a == a2); // false\r\n\r\n```\r\nSo this can tell us &quot;&quot; and null point to the different object references.","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>Amazing answers, but I'd like to give from a different perspective.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String a = &quot;StackOverflow&quot;;\nString a1 = &quot;StackOverflow&quot; + &quot;&quot;;\nString a2 = &quot;StackOverflow&quot; + null;\n\nSystem.out.println(a == a1); // true\nSystem.out.println(a == a2); // false\n\n</code></pre>\n<p>So this can tell us &quot;&quot; and null point to the different object references.</p>\n"}],"owner":{"account_id":207849,"reputation":42971,"user_id":457982,"accept_rate":95,"display_name":"Vikas Patidar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539035,"favorite_count":0,"down_vote_count":5,"up_vote_count":193,"accepted_answer_id":4802049,"answer_count":22,"score":188,"last_activity_date":1669224091,"creation_date":1296024698,"question_id":4802015,"body_markdown":"What is the difference between `null` and the `&quot;&quot;` (empty string)?\r\n\r\nI have written some simple code:\r\n\r\n    String a = &quot;&quot;;\r\n    String b = null;\r\n    \r\n    System.out.println(a == b); // false\r\n    System.out.println(a.equals(b)); // false\r\n\r\nBoth statements return `false`. It seems, I am not able to find what is the actual difference between them.","title":"Difference between null and empty (&quot;&quot;) Java String","body":"<p>What is the difference between <code>null</code> and the <code>\"\"</code> (empty string)?</p>\n\n<p>I have written some simple code:</p>\n\n<pre><code>String a = \"\";\nString b = null;\n\nSystem.out.println(a == b); // false\nSystem.out.println(a.equals(b)); // false\n</code></pre>\n\n<p>Both statements return <code>false</code>. It seems, I am not able to find what is the actual difference between them.</p>\n"},{"tags":["java","spring","rest","tomcat"],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669223896,"creation_date":1669223896,"answer_id":74550725,"question_id":74544546,"body_markdown":"For `PostMapping` you can&#39;t use `URIEncoding=&quot;UTF-8&quot;` so instead of that you can define a filter to tell Tomcat that your request encoding is `UTF-8`, either you can add this to web.xml:\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\r\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n     &lt;/filter&gt;\r\n    \r\n     &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n     &lt;/filter-mapping&gt;\r\n\r\nor add this filter :\r\n\r\n    public class EncodingFilter implements Filter {\r\n        private String encoding = &quot;UTF-8&quot;;\r\n    \r\n        public void destroy() {\r\n        }\r\n    \r\n        public void doFilter(ServletRequest request, ServletResponse response,\r\n                FilterChain chain) throws IOException, ServletException {\r\n            request.setCharacterEncoding(encoding);\r\n            response.setCharacterEncoding(encoding);\r\n            chain.doFilter(request, response);\r\n        }\r\n    \r\n        public void init(FilterConfig config) throws ServletException {\r\n            if (config.getInitParameter(&quot;encoding&quot;) != null) {\r\n                encoding = config.getInitParameter(&quot;encoding&quot;);\r\n            }\r\n        }\r\n    }","title":"Tomcat Spring Rest Wrong Encoding","body":"<p>For <code>PostMapping</code> you can't use <code>URIEncoding=&quot;UTF-8&quot;</code> so instead of that you can define a filter to tell Tomcat that your request encoding is <code>UTF-8</code>, either you can add this to web.xml:</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;encoding&lt;/param-name&gt;\n        &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n &lt;/filter&gt;\n\n &lt;filter-mapping&gt;\n    &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n &lt;/filter-mapping&gt;\n</code></pre>\n<p>or add this filter :</p>\n<pre><code>public class EncodingFilter implements Filter {\n    private String encoding = &quot;UTF-8&quot;;\n\n    public void destroy() {\n    }\n\n    public void doFilter(ServletRequest request, ServletResponse response,\n            FilterChain chain) throws IOException, ServletException {\n        request.setCharacterEncoding(encoding);\n        response.setCharacterEncoding(encoding);\n        chain.doFilter(request, response);\n    }\n\n    public void init(FilterConfig config) throws ServletException {\n        if (config.getInitParameter(&quot;encoding&quot;) != null) {\n            encoding = config.getInitParameter(&quot;encoding&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4183802,"reputation":309,"user_id":3428029,"display_name":"phe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74550725,"answer_count":1,"score":1,"last_activity_date":1669223896,"creation_date":1669196089,"question_id":74544546,"body_markdown":"currently, I am working on a Spring Rest Endpoint (not Spring Boot) which I deploy to a Tomcat Servlet Container. It takes a Multipart form\r\n\r\n\t@PostMapping(value = &quot;/audit/{auditNumber}/file&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n\tpublic ResponseEntity&lt;?&gt; uploadFileForAudit(//\r\n\t\t\t@PathVariable String peNumber, //\r\n\t\t\t@RequestParam(&quot;category&quot;) String category, //\r\n\t\t\t@RequestParam(&quot;documents&quot;) MultipartFile file, //\r\n\t\t\t@RequestParam(&quot;description&quot;) String description, //\r\n\t\t\t@RequestHeader Map&lt;String, String&gt; headers) {\r\n\r\n\r\n\t\t\r\n\t\tSystem.out.println(&quot;category &quot;+category);\r\n\t\tSystem.out.println(&quot;description &quot;+description);\r\n\r\nWhen German Umlauts are sent as category or description, the console output looks like this:\r\n\r\n    category Pr&#195;&#188;fungsanordnung\r\n    description &#195;&#182;&#195;&#164;&#195;&#188;\r\n\r\nI have other Rest Resources, but they are working. Somehow this Resource has the wrong encoding. I suspect the Multipart-form to be the problem.\r\n\r\nThe frontend is not the problem. I can use JavaScript fetch or Postman and both have the same result.\r\n\r\nAny hint is appreciated.\r\n","title":"Tomcat Spring Rest Wrong Encoding","body":"<p>currently, I am working on a Spring Rest Endpoint (not Spring Boot) which I deploy to a Tomcat Servlet Container. It takes a Multipart form</p>\n<pre><code>@PostMapping(value = &quot;/audit/{auditNumber}/file&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;?&gt; uploadFileForAudit(//\n        @PathVariable String peNumber, //\n        @RequestParam(&quot;category&quot;) String category, //\n        @RequestParam(&quot;documents&quot;) MultipartFile file, //\n        @RequestParam(&quot;description&quot;) String description, //\n        @RequestHeader Map&lt;String, String&gt; headers) {\n\n\n    \n    System.out.println(&quot;category &quot;+category);\n    System.out.println(&quot;description &quot;+description);\n</code></pre>\n<p>When German Umlauts are sent as category or description, the console output looks like this:</p>\n<pre><code>category PrÃ¼fungsanordnung\ndescription Ã¶Ã¤Ã¼\n</code></pre>\n<p>I have other Rest Resources, but they are working. Somehow this Resource has the wrong encoding. I suspect the Multipart-form to be the problem.</p>\n<p>The frontend is not the problem. I can use JavaScript fetch or Postman and both have the same result.</p>\n<p>Any hint is appreciated.</p>\n"},{"tags":["java","android","list","duplicates"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669248979,"post_id":74550212,"comment_id":131604213,"body_markdown":"Has your `Booking` class implemented overrides of `equals` &amp; `hashCode`? Or, is `Booking` class a [record](https://openjdk.org/jeps/395)?","body":"Has your <code>Booking</code> class implemented overrides of <code>equals</code> &amp; <code>hashCode</code>? Or, is <code>Booking</code> class a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>?"}],"answers":[{"tags":[],"owner":{"account_id":27026595,"reputation":24,"user_id":20583761,"display_name":"arctic_fox"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1669223834,"creation_date":1669221635,"answer_id":74550271,"question_id":74550212,"body_markdown":"While using HashSet have you overriden hashcode and equals method in Booking class ?\r\n\r\nCheck this out - https://www.baeldung.com/java-equals-hashcode-contracts\r\n\r\nYour Booking class will have some variables. Use those variables to write your custom overriden equals and hashcode methods.\r\n\r\nDefault implementation of equals method uses memory location or address to find equality. Two objects even though having same variable(fields inside object) values, will not be equal in default equal method as they differ in memory address.If all the variables are equal in two objects then equals method should return true and generate same hashcode also in overriden hashcode method. hashcode method should use those variables to generate hashcode. If you will not override hashcode method, default hashcode value will be used and in that case two equal objects might return different hashcode.\r\n\r\n\r\n ","title":"in Android java, how can I remove duplicate items in a list?","body":"<p>While using HashSet have you overriden hashcode and equals method in Booking class ?</p>\n<p>Check this out - <a href=\"https://www.baeldung.com/java-equals-hashcode-contracts\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-equals-hashcode-contracts</a></p>\n<p>Your Booking class will have some variables. Use those variables to write your custom overriden equals and hashcode methods.</p>\n<p>Default implementation of equals method uses memory location or address to find equality. Two objects even though having same variable(fields inside object) values, will not be equal in default equal method as they differ in memory address.If all the variables are equal in two objects then equals method should return true and generate same hashcode also in overriden hashcode method. hashcode method should use those variables to generate hashcode. If you will not override hashcode method, default hashcode value will be used and in that case two equal objects might return different hashcode.</p>\n"}],"owner":{"account_id":26986880,"reputation":3,"user_id":20550395,"display_name":"donaldD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74550271,"answer_count":1,"score":0,"last_activity_date":1669223834,"creation_date":1669221341,"question_id":74550212,"body_markdown":"```\r\n@Override\r\npublic void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n    if (task.isSuccessful()) {\r\n        for (QueryDocumentSnapshot collections : queryDocumentSnapshots) {\r\n\r\n            Booking booking = collections.toObject(Booking.class);\r\n            bookingList.add(booking);\r\n\r\n            //bookingList.add(booking);\r\n\r\n\r\n        }\r\n```\r\n\r\n\r\nI tried using bookingList.distinctive, and a HashSet but couldn&#39; get anything to work","title":"in Android java, how can I remove duplicate items in a list?","body":"<pre><code>@Override\npublic void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n    if (task.isSuccessful()) {\n        for (QueryDocumentSnapshot collections : queryDocumentSnapshots) {\n\n            Booking booking = collections.toObject(Booking.class);\n            bookingList.add(booking);\n\n            //bookingList.add(booking);\n\n\n        }\n</code></pre>\n<p>I tried using bookingList.distinctive, and a HashSet but couldn' get anything to work</p>\n"},{"tags":["java","apache-httpclient-4.x","junit-jupiter"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1669222459,"post_id":74550413,"comment_id":131597349,"body_markdown":"share your code and setup","body":"share your code and setup"},{"owner":{"account_id":1541447,"reputation":291,"user_id":1435998,"accept_rate":70,"display_name":"Belos"},"score":0,"creation_date":1669223724,"post_id":74550413,"comment_id":131597839,"body_markdown":"updated the post with the code. it’s difficult to post everything because it’s on a vpn machine where stackoverflow is blocked","body":"updated the post with the code. it’s difficult to post everything because it’s on a vpn machine where stackoverflow is blocked"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1669229955,"post_id":74550413,"comment_id":131599875,"body_markdown":"Did you debug what is happening in that line?","body":"Did you debug what is happening in that line?"},{"owner":{"account_id":1541447,"reputation":291,"user_id":1435998,"accept_rate":70,"display_name":"Belos"},"score":0,"creation_date":1669239334,"post_id":74550413,"comment_id":131602271,"body_markdown":"I added a debug line but then the debugger is not activating there even when it activates at the line before","body":"I added a debug line but then the debugger is not activating there even when it activates at the line before"}],"owner":{"account_id":1541447,"reputation":291,"user_id":1435998,"accept_rate":70,"display_name":"Belos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669223709,"creation_date":1669222339,"question_id":74550413,"body_markdown":"Running into an issue where test calls a get request to a local server using Apache HttpClient in a unit test. The test works if I use the native java Scanner to decode the response but if I use EntityUtils.toString(), junit ignores the test once it hits that line of code which is bizarre because I can see the print out of every line before it.\r\n\r\n    HttpGet request = new HttpGet(url);\r\n    \r\n    CloseableHttpResponse response = httpClient.execute(request);\r\n    \r\n    HttpEntity entity = reponse.getEntity();\r\n    System.out.println(EntityUtils.toString(entity); // skips test here\r\n\r\nVersion info: gradle 7.5.1, Java 17, junit-jupiter 5.9.1, Apache HttpClient 4.5.13","title":"Jupiter JUnit skipping a test once Apache EntityUtils.toString is called","body":"<p>Running into an issue where test calls a get request to a local server using Apache HttpClient in a unit test. The test works if I use the native java Scanner to decode the response but if I use EntityUtils.toString(), junit ignores the test once it hits that line of code which is bizarre because I can see the print out of every line before it.</p>\n<pre><code>HttpGet request = new HttpGet(url);\n\nCloseableHttpResponse response = httpClient.execute(request);\n\nHttpEntity entity = reponse.getEntity();\nSystem.out.println(EntityUtils.toString(entity); // skips test here\n</code></pre>\n<p>Version info: gradle 7.5.1, Java 17, junit-jupiter 5.9.1, Apache HttpClient 4.5.13</p>\n"},{"tags":["java","jsonserializer"],"answers":[{"tags":[],"owner":{"account_id":4445012,"reputation":6700,"user_id":3618581,"display_name":"Termininja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669223440,"creation_date":1669223440,"answer_id":74550640,"question_id":74550258,"body_markdown":"I found it:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    JsonConfig cfg = new JsonConfig();\r\n    cfg.setIgnoreDefaultExcludes(true);\r\n\r\n    JSON json = JSONSerializer.toJSON(str, cfg) // {&quot;test&quot;:&quot;ok&quot;, &quot;class&quot;:&quot;fail&quot;}","title":"JSONSerializer.toJSON ignores key &#39;class&#39;","body":"<p>I found it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonConfig cfg = new JsonConfig();\ncfg.setIgnoreDefaultExcludes(true);\n\nJSON json = JSONSerializer.toJSON(str, cfg) // {&quot;test&quot;:&quot;ok&quot;, &quot;class&quot;:&quot;fail&quot;}\n</code></pre>\n"}],"owner":{"account_id":4445012,"reputation":6700,"user_id":3618581,"display_name":"Termininja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669223440,"creation_date":1669221574,"question_id":74550258,"body_markdown":"How to convert JSON string to JSON by using JSONSerializer if the JSON string contains &#39;class&#39; key? By using toJSON method all &#39;class&#39; keys are ignored:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String str = &quot;{&#39;test&#39;: &#39;ok&#39;, &#39;class&#39; : &#39;fail&#39;}&quot;;\r\n    JSON json = JSONSerializer.toJSON(str) // result is: {&quot;test&quot;:&quot;ok&quot;}\r\n\r\n","title":"JSONSerializer.toJSON ignores key &#39;class&#39;","body":"<p>How to convert JSON string to JSON by using JSONSerializer if the JSON string contains 'class' key? By using toJSON method all 'class' keys are ignored:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;{'test': 'ok', 'class' : 'fail'}&quot;;\nJSON json = JSONSerializer.toJSON(str) // result is: {&quot;test&quot;:&quot;ok&quot;}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9133,"page":859,"page_size":100}
