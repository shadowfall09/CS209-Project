{"items":[{"tags":["java","object","immutability","member","getter-setter"],"answers":[{"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1306406579,"creation_date":1306406579,"answer_id":6137267,"question_id":6137224,"body_markdown":"You are returning a reference to the `list`. And `list` isn&#39;t immutable.\r\n\r\n------\r\n\r\nIf you do not want your list to be changed return a copy of it:\r\n\r\n    public List&lt;String&gt; get() {\r\n        return new ArrayList&lt;String&gt;(this.list);\r\n    }\r\n\r\nOr you can return a [unmodifiable list][1]:\r\n\r\n\r\n    public List&lt;String&gt; get() {\r\n        return Collections.unmodifiableList(this.list);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/449325/alpian","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>You are returning a reference to the <code>list</code>. And <code>list</code> isn't immutable.</p>\n\n<hr>\n\n<p>If you do not want your list to be changed return a copy of it:</p>\n\n<pre><code>public List&lt;String&gt; get() {\n    return new ArrayList&lt;String&gt;(this.list);\n}\n</code></pre>\n\n<p>Or you can return a <a href=\"https://stackoverflow.com/users/449325/alpian\">unmodifiable list</a>:</p>\n\n<pre><code>public List&lt;String&gt; get() {\n    return Collections.unmodifiableList(this.list);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1472321,"reputation":416,"user_id":1383551,"accept_rate":100,"display_name":"Maurice"},"score":2,"creation_date":1434672546,"post_id":6137270,"comment_id":49892157,"body_markdown":"AFAIK `Collections.unmodifiableList()` returns an immutable WRAPPER for given list. If I am correct, above will not guarantee immutability. A class  may instantiate a list, instantiate Example, and can still modify the list that Example is holding by modifying the original list passed to the constructor. Albeit the answer may suffice to address the differences, it may fail to meet strict &quot;immutability&quot; requirements.","body":"AFAIK <code>Collections.unmodifiableList()</code> returns an immutable WRAPPER for given list. If I am correct, above will not guarantee immutability. A class  may instantiate a list, instantiate Example, and can still modify the list that Example is holding by modifying the original list passed to the constructor. Albeit the answer may suffice to address the differences, it may fail to meet strict &quot;immutability&quot; requirements."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":4,"creation_date":1434698801,"post_id":6137270,"comment_id":49900063,"body_markdown":"That&#39;s correct. Answer updated. You could do `Collections.unmodifiableList(new ArrayList&lt;&gt;(listArg))` to make sure no one holds a reference to the underlying mutable list and thus avoid mutability.","body":"That&#39;s correct. Answer updated. You could do <code>Collections.unmodifiableList(new ArrayList&lt;&gt;(listArg))</code> to make sure no one holds a reference to the underlying mutable list and thus avoid mutability."}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":2,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1434698684,"creation_date":1306406586,"answer_id":6137270,"question_id":6137224,"body_markdown":"Just because *the reference* to the list is immutable doesn&#39;t mean that the list *it refers* to is immutable.\r\n\r\nEven if `list` was made `final` this would be allowed\r\n\r\n    // changing the object which list refers to\r\n    example.getList().add(&quot;stuff&quot;);\r\n\r\nbut this would *not* allowed:\r\n    \r\n    // changing list\r\n    example.list = new ArrayList&lt;String&gt;();   // assuming list is public\r\n\r\n\r\n----------\r\n\r\n\r\nIn order to make the list immutable (prevent also the first line), I suggest you use [`Collections.unmodifiableList`](http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList%28java.util.List%29):\r\n\r\n    public class Example {\r\n        final private ArrayList&lt;String&gt; list;\r\n\r\n        Example(ArrayList&lt;String&gt; listArg) {\r\n            list = Collections.unmodifiableList(listArg);\r\n        }\r\n    }\r\n\r\n(Note that this creates an unmodifiable view of the list. If someone is holding on to the original reference, then the list can still be modified through that.)\r\n\r\n----------\r\n\r\n&gt; ***With a String this behaviour isnt possible. So what is the difference here?***\r\n\r\nThat is because a `String` is already immutable (unmodifiable) just as the list would be if you turned it into an unmodifiableList.\r\n\r\nComparison:\r\n\r\n                  String data structure  | List data structure\r\n               .-------------------------+------------------------------------.\r\n    Immutable  | String                  | Collection.unmodifiableList(...)   |\r\n    -----------+-------------------------+------------------------------------|\r\n    Mutable    | StringBuffer            | ArrayList                          |\r\n               &#39;-------------------------+------------------------------------&#39;\r\n\r\n","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>Just because <em>the reference</em> to the list is immutable doesn't mean that the list <em>it refers</em> to is immutable.</p>\n\n<p>Even if <code>list</code> was made <code>final</code> this would be allowed</p>\n\n<pre><code>// changing the object which list refers to\nexample.getList().add(\"stuff\");\n</code></pre>\n\n<p>but this would <em>not</em> allowed:</p>\n\n<pre><code>// changing list\nexample.list = new ArrayList&lt;String&gt;();   // assuming list is public\n</code></pre>\n\n<hr>\n\n<p>In order to make the list immutable (prevent also the first line), I suggest you use <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList%28java.util.List%29\" rel=\"noreferrer\"><code>Collections.unmodifiableList</code></a>:</p>\n\n<pre><code>public class Example {\n    final private ArrayList&lt;String&gt; list;\n\n    Example(ArrayList&lt;String&gt; listArg) {\n        list = Collections.unmodifiableList(listArg);\n    }\n}\n</code></pre>\n\n<p>(Note that this creates an unmodifiable view of the list. If someone is holding on to the original reference, then the list can still be modified through that.)</p>\n\n<hr>\n\n<blockquote>\n  <p><strong><em>With a String this behaviour isnt possible. So what is the difference here?</em></strong></p>\n</blockquote>\n\n<p>That is because a <code>String</code> is already immutable (unmodifiable) just as the list would be if you turned it into an unmodifiableList.</p>\n\n<p>Comparison:</p>\n\n<pre><code>              String data structure  | List data structure\n           .-------------------------+------------------------------------.\nImmutable  | String                  | Collection.unmodifiableList(...)   |\n-----------+-------------------------+------------------------------------|\nMutable    | StringBuffer            | ArrayList                          |\n           '-------------------------+------------------------------------'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505731194,"creation_date":1306406698,"answer_id":6137293,"question_id":6137224,"body_markdown":"The key is to understand that you&#39;re not changing the *string* - you&#39;re changing *which string references the list contains*.\r\n\r\nTo put it another way: if I take a dollar out of your wallet, and replace it with a dime, I haven&#39;t changed either the dollar or the dime - I&#39;ve just changed the contents of your wallet.\r\n\r\nIf you want a read-only view on the list, look at `Collections.unmodifiableList`. That won&#39;t stop the list that it&#39;s *wrapping* from changing of course, but it will stop anyone who only has a reference to the unmodifiable list from modifying the contents.\r\n\r\nFor a *truly* immutable list, look at [Guava][1]&#39;s [ImmutableList][2] class.\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableList.html","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>The key is to understand that you're not changing the <em>string</em> - you're changing <em>which string references the list contains</em>.</p>\n\n<p>To put it another way: if I take a dollar out of your wallet, and replace it with a dime, I haven't changed either the dollar or the dime - I've just changed the contents of your wallet.</p>\n\n<p>If you want a read-only view on the list, look at <code>Collections.unmodifiableList</code>. That won't stop the list that it's <em>wrapping</em> from changing of course, but it will stop anyone who only has a reference to the unmodifiable list from modifying the contents.</p>\n\n<p>For a <em>truly</em> immutable list, look at <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a>'s <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableList.html\" rel=\"nofollow noreferrer\">ImmutableList</a> class.</p>\n"},{"tags":[],"owner":{"account_id":304151,"reputation":7913,"user_id":613495,"accept_rate":95,"display_name":"Boro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306406700,"creation_date":1306406700,"answer_id":6137294,"question_id":6137224,"body_markdown":"Therefore you should not provide a getter method for the list if you want to protect it from being changed. \r\n\r\nIts objects are still staying intact since you didn&#39;t have setters. But what you do is remove/add new/different objects to it and this is fine.","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>Therefore you should not provide a getter method for the list if you want to protect it from being changed. </p>\n\n<p>Its objects are still staying intact since you didn't have setters. But what you do is remove/add new/different objects to it and this is fine.</p>\n"},{"tags":[],"owner":{"account_id":29332,"reputation":12535,"user_id":79207,"accept_rate":72,"display_name":"planetjones"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306406740,"creation_date":1306406740,"answer_id":6137301,"question_id":6137224,"body_markdown":"As the other answers say the Object you return from the getters is still mutable.\r\n\r\nYou can turn the List immutable by decorating it using the Collections class:\r\n\r\n     list = Collections.unmodifiableList(list);\r\n\r\nIf you return this to clients they will not be able to add or remove elements to it.  However, they can still get elements out of the list - so you have to make sure they&#39;re immutable too, if that&#39;s what you&#39;re after!","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>As the other answers say the Object you return from the getters is still mutable.</p>\n\n<p>You can turn the List immutable by decorating it using the Collections class:</p>\n\n<pre><code> list = Collections.unmodifiableList(list);\n</code></pre>\n\n<p>If you return this to clients they will not be able to add or remove elements to it.  However, they can still get elements out of the list - so you have to make sure they're immutable too, if that's what you're after!</p>\n"},{"tags":[],"owner":{"account_id":28663,"reputation":12716,"user_id":76777,"accept_rate":86,"display_name":"simon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306406821,"creation_date":1306406821,"answer_id":6137316,"question_id":6137224,"body_markdown":"The list reference is immutable, but not the list. If you want the list itself to be immutable, consider using [ImmutableList][1]\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ImmutableList.html","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>The list reference is immutable, but not the list. If you want the list itself to be immutable, consider using <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ImmutableList.html\" rel=\"nofollow\">ImmutableList</a></p>\n"},{"tags":[],"owner":{"account_id":5066229,"reputation":29,"user_id":4066256,"display_name":"Pratik Adhau"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1421059345,"creation_date":1421059345,"answer_id":27900134,"question_id":6137224,"body_markdown":" Collections.unmodifiableList() makes list unmidifiable. Which again creates  a new final array list and override add, remove, addall and clear method to throw unsupportedoperationexception. Its a hack of Collections class. But at compile time it does not stop you from adding and removing stuff. I would rather go with cloning of that list. Which can help me to keep my existing object immutable and does not cost me creating of new list. Read difference between cloning and new operator(http://www.javatpoint.com/object-cloning). Also will help from crashing my code at runtime. ","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>Collections.unmodifiableList() makes list unmidifiable. Which again creates  a new final array list and override add, remove, addall and clear method to throw unsupportedoperationexception. Its a hack of Collections class. But at compile time it does not stop you from adding and removing stuff. I would rather go with cloning of that list. Which can help me to keep my existing object immutable and does not cost me creating of new list. Read difference between cloning and new operator(<a href=\"http://www.javatpoint.com/object-cloning\" rel=\"nofollow\">http://www.javatpoint.com/object-cloning</a>). Also will help from crashing my code at runtime. </p>\n"},{"tags":[],"owner":{"account_id":7664445,"reputation":3648,"user_id":5808553,"accept_rate":64,"display_name":"Rajeev Ranjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495868045,"creation_date":1495868045,"answer_id":44213919,"question_id":6137224,"body_markdown":"To get a really immutable list, you will have to make deep copies of the contents of the list. UnmodifiableList would only render the list of references somewhat immutable.\r\nNow making a deep copy of the List or array will be tough on memory with the growing size. \r\nYou can make use of serialization/deserialization and store the deep copy of array/list into a temp file. The setter would not be available as the member varaible needs to be immutable. The getter would serialize the member variable into a file and then desialize it to get a deep copy. Seraialization has an innate nature of going into the depths of an object tree. This would ensure complete immutability at some performance cost though.\r\n\r\n    package com.home.immutable.serial;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    \r\n    public final class ImmutableBySerial {\r\n    \t\r\n    \tprivate final int num;\r\n    \tprivate final String str;\r\n    \tprivate final TestObjSerial[] arr;\r\n    \t\r\n    \tImmutableBySerial(int num, String str, TestObjSerial[] arr){\r\n    \t\tthis.num = num;\r\n    \t\tthis.str = str;\r\n    \t\tthis.arr = getDeepCloned(arr);\r\n    \t}\r\n    \t\r\n    \tpublic int getNum(){\r\n    \t\treturn num;\r\n    \t}\r\n    \t\r\n    \tpublic String getStr(){\r\n    \t\treturn str;\r\n    \t}\r\n    \t\r\n    \tpublic TestObjSerial[] getArr(){\r\n    \t\treturn getDeepCloned(arr);\r\n    \t}\r\n    \t\r\n    \tprivate TestObjSerial[] getDeepCloned(TestObjSerial[] arr){\r\n    \t\tFileOutputStream fos = null;\r\n    \t\tObjectOutputStream oos = null;\r\n    \t\tFileInputStream fis = null;\r\n    \t\tObjectInputStream ois = null;\r\n    \t\tTestObjSerial[] clonedObj = null;\r\n    \t\ttry {\r\n    \t\t\t fos = new FileOutputStream(new File(&quot;temp&quot;));\r\n    \t\t\t oos = new ObjectOutputStream(fos);\r\n    \t\t\t oos.writeObject(arr);\r\n    \t\t\t fis = new FileInputStream(new File(&quot;temp&quot;));\r\n    \t\t\t ois = new ObjectInputStream(fis);\r\n    \t\t\t clonedObj = (TestObjSerial[])ois.readObject();\r\n    \t\t\t \r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (ClassNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\toos.close();\r\n    \t\t\t\tfos.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn clonedObj;\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>To get a really immutable list, you will have to make deep copies of the contents of the list. UnmodifiableList would only render the list of references somewhat immutable.\nNow making a deep copy of the List or array will be tough on memory with the growing size. \nYou can make use of serialization/deserialization and store the deep copy of array/list into a temp file. The setter would not be available as the member varaible needs to be immutable. The getter would serialize the member variable into a file and then desialize it to get a deep copy. Seraialization has an innate nature of going into the depths of an object tree. This would ensure complete immutability at some performance cost though.</p>\n\n<pre><code>package com.home.immutable.serial;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\n\npublic final class ImmutableBySerial {\n\n    private final int num;\n    private final String str;\n    private final TestObjSerial[] arr;\n\n    ImmutableBySerial(int num, String str, TestObjSerial[] arr){\n        this.num = num;\n        this.str = str;\n        this.arr = getDeepCloned(arr);\n    }\n\n    public int getNum(){\n        return num;\n    }\n\n    public String getStr(){\n        return str;\n    }\n\n    public TestObjSerial[] getArr(){\n        return getDeepCloned(arr);\n    }\n\n    private TestObjSerial[] getDeepCloned(TestObjSerial[] arr){\n        FileOutputStream fos = null;\n        ObjectOutputStream oos = null;\n        FileInputStream fis = null;\n        ObjectInputStream ois = null;\n        TestObjSerial[] clonedObj = null;\n        try {\n             fos = new FileOutputStream(new File(\"temp\"));\n             oos = new ObjectOutputStream(fos);\n             oos.writeObject(arr);\n             fis = new FileInputStream(new File(\"temp\"));\n             ois = new ObjectInputStream(fis);\n             clonedObj = (TestObjSerial[])ois.readObject();\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                oos.close();\n                fos.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        return clonedObj;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1510673020,"post_id":47287512,"comment_id":81529188,"body_markdown":"This doesn&#39;t add new information. Returning a copy has been explained in this answer: https://stackoverflow.com/a/6137267 and it even uses a _much_ cleaner version of copying the list.","body":"This doesn&#39;t add new information. Returning a copy has been explained in this answer: <a href=\"https://stackoverflow.com/a/6137267\">stackoverflow.com/a/6137267</a> and it even uses a <i>much</i> cleaner version of copying the list."}],"tags":[],"owner":{"account_id":8260058,"reputation":103,"user_id":6211841,"display_name":"Hamada Ibrahim"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1510672732,"creation_date":1510667379,"answer_id":47287512,"question_id":6137224,"body_markdown":"One another solution is to return copy of the arraylist not the actual array list like this code\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public final class ImmutableExample {\r\n\r\n\t    private final List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n\r\n\t    public ImmutableExample() {\r\n\t\t    strings.add(&quot;strin 1&quot;);\r\n\t\t    strings.add(&quot;string 2&quot;);\r\n\t    }\r\n\r\n\t    public List&lt;String&gt; getStrings() {\r\n\t\t    List&lt;String&gt; newStrings = new ArrayList&lt;String&gt;();\r\n\t\t    strings.forEach(s -&gt; newStrings.add(s));\r\n\t\t    return newStrings;\r\n\t    }\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    // TODO Auto-generated method stub\r\n\t\t    ImmutableExample im = new ImmutableExample();\r\n\t\t    System.out.println(im.getStrings());\r\n\t\t    im.getStrings().add(&quot;string 3&quot;);\r\n\t\t    System.out.println(im.getStrings());\r\n\r\n\t    }\r\n    }","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>One another solution is to return copy of the arraylist not the actual array list like this code</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic final class ImmutableExample {\n\n    private final List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\n\n    public ImmutableExample() {\n        strings.add(\"strin 1\");\n        strings.add(\"string 2\");\n    }\n\n    public List&lt;String&gt; getStrings() {\n        List&lt;String&gt; newStrings = new ArrayList&lt;String&gt;();\n        strings.forEach(s -&gt; newStrings.add(s));\n        return newStrings;\n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        ImmutableExample im = new ImmutableExample();\n        System.out.println(im.getStrings());\n        im.getStrings().add(\"string 3\");\n        System.out.println(im.getStrings());\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":145939,"reputation":3382,"user_id":356083,"accept_rate":60,"display_name":"f.khantsis"},"score":0,"creation_date":1670864841,"post_id":68736537,"comment_id":131966887,"body_markdown":"You may want to accept a generic list as an input, not only an ArrayList","body":"You may want to accept a generic list as an input, not only an ArrayList"}],"tags":[],"owner":{"account_id":22432441,"reputation":1,"user_id":16638111,"display_name":"Vishnu Priya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637091108,"creation_date":1628660498,"answer_id":68736537,"question_id":6137224,"body_markdown":"This works for me. We need to have the class as final so that it can not be inherited. keep the list as final (this is just a reference to the list). In the constructor, use unmodifiableList and create a new list and assign a reference to that and not the input.\r\n\r\n\r\n    public final class ImmutableClassWithList {\r\n    \t\r\n    \tprivate  final List&lt;String&gt; list;\r\n    \t\r\n    \tpublic ImmutableClassWithList(ArrayList&lt;String&gt; input) {\r\n    \t\tlist = Collections.unmodifiableList(new ArrayList&lt;String&gt;(input));\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;String&gt; getList(){\r\n    \t\t\r\n    \t\treturn list;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>This works for me. We need to have the class as final so that it can not be inherited. keep the list as final (this is just a reference to the list). In the constructor, use unmodifiableList and create a new list and assign a reference to that and not the input.</p>\n<pre><code>public final class ImmutableClassWithList {\n    \n    private  final List&lt;String&gt; list;\n    \n    public ImmutableClassWithList(ArrayList&lt;String&gt; input) {\n        list = Collections.unmodifiableList(new ArrayList&lt;String&gt;(input));\n    }\n    \n    public List&lt;String&gt; getList(){\n        \n        return list;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145939,"reputation":3382,"user_id":356083,"accept_rate":60,"display_name":"f.khantsis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670865062,"creation_date":1670865062,"answer_id":74774775,"question_id":6137224,"body_markdown":"Since Java 10 you can use `List.copyOf` static method.\r\n\r\n```java\r\npublic void setList(List&lt;T&gt; list){\r\n  this.list = List.copyOf(list);\r\n}\r\n```\r\n\r\nAs per [javadoc][1], the resulting list is immutable, and any changes to the underlying list will not affect the new one.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/List.html#copyOf(java.util.Collection)","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>Since Java 10 you can use <code>List.copyOf</code> static method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setList(List&lt;T&gt; list){\n  this.list = List.copyOf(list);\n}\n</code></pre>\n<p>As per <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/List.html#copyOf(java.util.Collection)\" rel=\"nofollow noreferrer\">javadoc</a>, the resulting list is immutable, and any changes to the underlying list will not affect the new one.</p>\n"}],"owner":{"account_id":339716,"reputation":2465,"user_id":669356,"accept_rate":65,"display_name":"nano7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47051,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":6137270,"answer_count":11,"score":23,"last_activity_date":1670865062,"creation_date":1306406370,"question_id":6137224,"body_markdown":"I have got one class with various member variables. There is a constructor and there are getter-methods, but no setter-methods. In fact, this object should be immutable.\r\n\r\n    public class Example {\r\n       private ArrayList&lt;String&gt; list; \r\n    }\r\n\r\nNow I noticed the following: when I get the variable list with a getter-method, I can add new values and so on - I can change the `ArrayList`. When I call the next time `get()` for this variable, the changed `ArrayList` is returned. How can this be? I didn&#39;t set it again, I just worked on it!\r\nWith a `String` this behaviour isn&#39;t possible. So what is the difference here?\r\n","title":"Immutable Object with ArrayList member variable - why can this variable be changed?","body":"<p>I have got one class with various member variables. There is a constructor and there are getter-methods, but no setter-methods. In fact, this object should be immutable.</p>\n\n<pre><code>public class Example {\n   private ArrayList&lt;String&gt; list; \n}\n</code></pre>\n\n<p>Now I noticed the following: when I get the variable list with a getter-method, I can add new values and so on - I can change the <code>ArrayList</code>. When I call the next time <code>get()</code> for this variable, the changed <code>ArrayList</code> is returned. How can this be? I didn't set it again, I just worked on it!\nWith a <code>String</code> this behaviour isn't possible. So what is the difference here?</p>\n"},{"tags":["java","maven","pom.xml","deprecated"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670865428,"post_id":74774767,"comment_id":131967009,"body_markdown":"Tried `**/deprecated/**` (it follows [&quot;ant style path pattern&quot;](https://ant.apache.org/manual/dirtasks.html#patterns) ..but i have doubts regarding &quot;overall scenario&quot;... have you tried just to (reversably) delete them?","body":"Tried <code>**&#47;deprecated&#47;**</code> (it follows <a href=\"https://ant.apache.org/manual/dirtasks.html#patterns\" rel=\"nofollow noreferrer\">&quot;ant style path pattern&quot;</a> ..but i have doubts regarding &quot;overall scenario&quot;... have you tried just to (reversably) delete them?"},{"owner":{"account_id":26041418,"reputation":15,"user_id":19746165,"display_name":"jsrc..programmer"},"score":1,"creation_date":1670865705,"post_id":74774767,"comment_id":131967115,"body_markdown":"@xerx593 Adding the double asterisks at the end worked; thanks! Don&#39;t want to delete the deprecated code yet for various reasons but being able to exclude it from the build works just as well. Thanks again!","body":"@xerx593 Adding the double asterisks at the end worked; thanks! Don&#39;t want to delete the deprecated code yet for various reasons but being able to exclude it from the build works just as well. Thanks again!"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670932280,"post_id":74774767,"comment_id":131982708,"body_markdown":"Remove them from your project... that&#39;s much simpler...","body":"Remove them from your project... that&#39;s much simpler..."}],"owner":{"account_id":26041418,"reputation":15,"user_id":19746165,"display_name":"jsrc..programmer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670865020,"creation_date":1670865020,"question_id":74774767,"body_markdown":"I have a few directories in my Java project that hold deprecated code: com.company.deprecated and com.partner.company.deprecated. I want to exclude everything in these two &quot;deprecated&quot; directories from Maven compilation, regardless of content or directory structure inside them, so I have created a build tag like this at the very end of my POM:\r\n\r\n```\r\n    &lt;!-- Exclude directories that hold deprecated code --&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/com/company/deprecated&lt;/exclude&gt;\r\n                        &lt;exclude&gt;**/com/partner/company/deprecated&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nThis POM handles a module inside a larger project, but the deprecated code isn&#39;t used anywhere else inside other modules, so I don&#39;t think there are any conflict issues going on with other POMs. I have tried putting the &quot;build&quot; element at the end of either the specific module POM or the project POM, and get the same compilation errors each time.\r\n\r\nAs far as I can tell, this should exclude the deprecated directories from my Maven build, but I keep getting compilation errors in files within the &quot;deprecated&quot; directories. I have tried the double asterisk syntax above, absolute paths, and wildcards after &quot;deprecated&quot; but nothing seems to work. I&#39;ve gone through StackOverflow and haven&#39;t found anything exactly like what I&#39;m trying to do, although I am still relatively new to Maven so it is very possible there is something I&#39;m just being dense about.\r\n\r\nCan anyone please help me with the proper syntax (or perhaps a different plugin?) for this issue? Thank you!","title":"Syntax for excluding deprecated directories with Maven","body":"<p>I have a few directories in my Java project that hold deprecated code: com.company.deprecated and com.partner.company.deprecated. I want to exclude everything in these two &quot;deprecated&quot; directories from Maven compilation, regardless of content or directory structure inside them, so I have created a build tag like this at the very end of my POM:</p>\n<pre><code>    &lt;!-- Exclude directories that hold deprecated code --&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/com/company/deprecated&lt;/exclude&gt;\n                        &lt;exclude&gt;**/com/partner/company/deprecated&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>This POM handles a module inside a larger project, but the deprecated code isn't used anywhere else inside other modules, so I don't think there are any conflict issues going on with other POMs. I have tried putting the &quot;build&quot; element at the end of either the specific module POM or the project POM, and get the same compilation errors each time.</p>\n<p>As far as I can tell, this should exclude the deprecated directories from my Maven build, but I keep getting compilation errors in files within the &quot;deprecated&quot; directories. I have tried the double asterisk syntax above, absolute paths, and wildcards after &quot;deprecated&quot; but nothing seems to work. I've gone through StackOverflow and haven't found anything exactly like what I'm trying to do, although I am still relatively new to Maven so it is very possible there is something I'm just being dense about.</p>\n<p>Can anyone please help me with the proper syntax (or perhaps a different plugin?) for this issue? Thank you!</p>\n"},{"tags":["java","hibernate","jpa","integration-testing","interceptor"],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670864831,"creation_date":1646996883,"question_id":71437586,"body_markdown":"I have created interceptor for `boolean onFlushDirty` method.\r\n\r\nRegistered it like that\r\n```\r\n@Component\r\npublic class HibernateInterceptorRegistration implements HibernatePropertiesCustomizer {\r\n\r\n  // My interceptor\r\n  private final EntityInterceptor entityInterceptor;\r\n\r\n  public HibernateInterceptorRegistration(EntityInterceptor entityInterceptor) {\r\n    this.entityInterceptor = entityInterceptor;\r\n  }\r\n\r\n  @Override\r\n  public void customize(Map&lt;String, Object&gt; hibernateProperties) {\r\n    hibernateProperties.put(&quot;hibernate.session_factory.interceptor&quot;, entityInterceptor);\r\n  }\r\n}\r\n```\r\n\r\nApplication works correct, but I cannot trigger this interceptor in integrational test.\r\nI have TestConfig class, that I `@Import` to the integrational test class.\r\n\r\nThere I&#39;ve added 2 beans:\r\n\r\n```\r\n  @Bean\r\n  public HibernatePropertiesCustomizer hibernatePropertiesCustomizer() {\r\n    return new HibernateInterceptorRegistration(entityInterceptor());\r\n  }\r\n\r\n  @Bean\r\n  public EntityInterceptor entityInterceptor() {\r\n    return new EntityInterceptor();\r\n  }\r\n```\r\n\r\nNothing helped. What should I do to use interceptor in tests?","title":"How to trigger Hibernate interceptor in the integration test?","body":"<p>I have created interceptor for <code>boolean onFlushDirty</code> method.</p>\n<p>Registered it like that</p>\n<pre><code>@Component\npublic class HibernateInterceptorRegistration implements HibernatePropertiesCustomizer {\n\n  // My interceptor\n  private final EntityInterceptor entityInterceptor;\n\n  public HibernateInterceptorRegistration(EntityInterceptor entityInterceptor) {\n    this.entityInterceptor = entityInterceptor;\n  }\n\n  @Override\n  public void customize(Map&lt;String, Object&gt; hibernateProperties) {\n    hibernateProperties.put(&quot;hibernate.session_factory.interceptor&quot;, entityInterceptor);\n  }\n}\n</code></pre>\n<p>Application works correct, but I cannot trigger this interceptor in integrational test.\nI have TestConfig class, that I <code>@Import</code> to the integrational test class.</p>\n<p>There I've added 2 beans:</p>\n<pre><code>  @Bean\n  public HibernatePropertiesCustomizer hibernatePropertiesCustomizer() {\n    return new HibernateInterceptorRegistration(entityInterceptor());\n  }\n\n  @Bean\n  public EntityInterceptor entityInterceptor() {\n    return new EntityInterceptor();\n  }\n</code></pre>\n<p>Nothing helped. What should I do to use interceptor in tests?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22157379,"reputation":328,"user_id":16404907,"display_name":"D&#250;ver Cruz"},"score":0,"creation_date":1670866611,"post_id":74774706,"comment_id":131967432,"body_markdown":"As the error says, probably you need to add your activity in the manifest. https://stackoverflow.com/a/20871106/16404907\nBy the way if you add your code, we&#39;ll help you better","body":"As the error says, probably you need to add your activity in the manifest. <a href=\"https://stackoverflow.com/a/20871106/16404907\">stackoverflow.com/a/20871106/16404907</a> By the way if you add your code, we&#39;ll help you better"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670870824,"post_id":74774706,"comment_id":131968810,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":20152820,"reputation":1,"user_id":14779745,"display_name":"sachin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670864598,"creation_date":1670864598,"question_id":74774706,"body_markdown":"In Android 13 not open the chrome browser I can&#39;t open chrome using htm text\r\n\r\n\r\nError-unable to find explicit activity class{com.android.chrome/com.google.android.apps.chrome.Main} have you declared this activity in your Android Manifest.xml\r\n\r\nI am trying to open chrome browser in Android 13\r\nI want to open chrome browser using html text ","title":"Chrome issues in Android 13","body":"<p>In Android 13 not open the chrome browser I can't open chrome using htm text</p>\n<p>Error-unable to find explicit activity class{com.android.chrome/com.google.android.apps.chrome.Main} have you declared this activity in your Android Manifest.xml</p>\n<p>I am trying to open chrome browser in Android 13\nI want to open chrome browser using html text</p>\n"},{"tags":["java","spring","jpa","javabeans"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670862007,"post_id":74774096,"comment_id":131965865,"body_markdown":"How does your package structure looks like? Make sure that the class annotated with @SpringBootApplication is in the hierarchy above all other classeses","body":"How does your package structure looks like? Make sure that the class annotated with @SpringBootApplication is in the hierarchy above all other classeses"},{"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"score":0,"creation_date":1670862130,"post_id":74774096,"comment_id":131965922,"body_markdown":"I have checked it, it is placed above all other classes","body":"I have checked it, it is placed above all other classes"},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1670863096,"post_id":74774096,"comment_id":131966264,"body_markdown":"Your model looks fine, but it&#39;s not registering.  Please provide more code so we can see what&#39;s happening.  It would be great to see your `SpringBootApplication` class and your configuration class so we can see how you&#39;ve set up your project.  Without knowing more, my best guess would be that your model class is outside of your application&#39;s main package, and so it isn&#39;t being picked up by Spring.  However, further review of your Spring structure (application, configuration, file structure, etc) would help narrow down the issue.","body":"Your model looks fine, but it&#39;s not registering.  Please provide more code so we can see what&#39;s happening.  It would be great to see your <code>SpringBootApplication</code> class and your configuration class so we can see how you&#39;ve set up your project.  Without knowing more, my best guess would be that your model class is outside of your application&#39;s main package, and so it isn&#39;t being picked up by Spring.  However, further review of your Spring structure (application, configuration, file structure, etc) would help narrow down the issue."},{"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"score":0,"creation_date":1670863914,"post_id":74774096,"comment_id":131966575,"body_markdown":"I am not sure that my project is completely fine because I don&#39;t have a configuration class, but I have already maken Spring projects and I haven&#39;t any there too, only WebSecurityConfig, but I do not have Spring Security in this project.","body":"I am not sure that my project is completely fine because I don&#39;t have a configuration class, but I have already maken Spring projects and I haven&#39;t any there too, only WebSecurityConfig, but I do not have Spring Security in this project."},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1670863944,"post_id":74774096,"comment_id":131966584,"body_markdown":"In `Article` id feild is of type `int` but in `ArticleRepository` id feild is defined as Long. This could be the issue.","body":"In <code>Article</code> id feild is of type <code>int</code> but in <code>ArticleRepository</code> id feild is defined as Long. This could be the issue."},{"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"score":0,"creation_date":1670864148,"post_id":74774096,"comment_id":131966658,"body_markdown":"I have rewrited it to Long and it hasn&#39;t helped :(","body":"I have rewrited it to Long and it hasn&#39;t helped :("},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670865610,"post_id":74774096,"comment_id":131967088,"body_markdown":"Hi &amp; Welcome! Try please: remove `@Repository` annotation... (i search evidence)","body":"Hi &amp; Welcome! Try please: remove <code>@Repository</code> annotation... (i search evidence)"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1670865697,"post_id":74774096,"comment_id":131967114,"body_markdown":"Which version of Spring Boot are you using?","body":"Which version of Spring Boot are you using?"},{"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"score":0,"creation_date":1670865920,"post_id":74774096,"comment_id":131967183,"body_markdown":"I removed @Repository annotation, but it didn&#39;t work((","body":"I removed @Repository annotation, but it didn&#39;t work(("},{"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"score":1,"creation_date":1670865944,"post_id":74774096,"comment_id":131967194,"body_markdown":"I am currently using v3.0.0","body":"I am currently using v3.0.0"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1670866007,"post_id":74774096,"comment_id":131967216,"body_markdown":"then, gotcha! since spring-boot:3 it should be `jakarta.persistence` and not `javax.persistence`...!","body":"then, gotcha! since spring-boot:3 it should be <code>jakarta.persistence</code> and not <code>javax.persistence</code>...!"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670866062,"post_id":74774096,"comment_id":131967239,"body_markdown":"Please check your classpath for this (offending, javax...) dependency ... and exclude it (stick to one version) ...https://github.com/spring-projects/spring-framework/wiki/What&#39;s-New-in-Spring-Framework-6.x","body":"Please check your classpath for this (offending, javax...) dependency ... and exclude it (stick to one version) ...<a href=\"https://github.com/spring-projects/spring-framework/wiki/What&#39;s-New-in-Spring-Framework-6.x\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/wiki/&hellip;</a>"},{"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"score":1,"creation_date":1670866486,"post_id":74774096,"comment_id":131967384,"body_markdown":"It helped! Thank you so much! You are my hero!!!","body":"It helped! Thank you so much! You are my hero!!!"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670878010,"post_id":74774096,"comment_id":131970854,"body_markdown":"link (same issue): https://stackoverflow.com/q/74776741/592355","body":"link (same issue): <a href=\"https://stackoverflow.com/q/74776741/592355\">stackoverflow.com/q/74776741/592355</a>"}],"owner":{"account_id":26290840,"reputation":21,"user_id":20758343,"display_name":"John Postnikov"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670864482,"creation_date":1670861766,"question_id":74774096,"body_markdown":"I am making a simple Spring application. And I keep getting this error\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;articleController&#39;: Unsatisfied dependency expressed through field &#39;articleRepository&#39;: Error creating bean with name &#39;articleRepository&#39; defined in com.example.work.repositories.ArticleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.work.models.Article\r\n```\r\nHere is my Article.java code\r\n\r\n    package com.example.work.models;\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n\r\n\r\n    @Entity\r\n    public class Article {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n\r\n        private String name;\r\n        private String description;\r\n        private String text;\r\n\r\n        public Article(String name, String description, String text) {\r\n            this.name = name;\r\n            this.description = description;\r\n            this.text = text;\r\n        }\r\n\r\n        public Article(){\r\n\r\n        }\r\n\r\n        public int getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n\r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n\r\n        public String getText() {\r\n            return text;\r\n        }\r\n\r\n        public void setText(String text) {\r\n            this.text = text;\r\n        }\r\n    }\r\nHere is my @SpringBootApplication class\r\n\r\n    package com.example.work;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class WorkApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(WorkApplication.class, args);\r\n\t    }\r\n\r\n    }\r\nHere is the ArticleRepository.java\r\n\r\n    package com.example.work.repositories;\r\n\r\n    import com.example.work.models.Article;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n\r\n    @Repository\r\n    public interface ArticleRepository extends CrudRepository&lt;Article, Long&gt; {\r\n    }\r\nAnd the ArticleController.java\r\n\r\n    package com.example.work.controllers;\r\n\r\n    import com.example.work.models.Article;\r\n    import com.example.work.repositories.ArticleRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n\r\n\r\n    @Controller\r\n    public class ArticleController {\r\n        @Autowired\r\n        private ArticleRepository articleRepository;\r\n\r\n        @GetMapping(&quot;/article&quot;)\r\n        public String article(Model model){\r\n            Iterable&lt;Article&gt; articles = articleRepository.findAll();\r\n            model.addAttribute(&quot;articles&quot;, articles);\r\n            return &quot;article&quot;;\r\n        }\r\n    }\r\n\r\nAnd the whole project structure:\r\n[project structure][1]\r\n\r\n\r\nI have tried to find answerd for my issue, but I have only found the advice to check `@Entity` and `@Id` annotations in my models. But I do have them there, so I have no idea what to do :(\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JYA0u.png","title":"BeanCreationException: Error creating bean with name &#39;articleRepository&#39; defined in","body":"<p>I am making a simple Spring application. And I keep getting this error</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'articleController': Unsatisfied dependency expressed through field 'articleRepository': Error creating bean with name 'articleRepository' defined in com.example.work.repositories.ArticleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.work.models.Article\n</code></pre>\n<p>Here is my Article.java code</p>\n<pre><code>package com.example.work.models;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n\n@Entity\npublic class Article {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    private String name;\n    private String description;\n    private String text;\n\n    public Article(String name, String description, String text) {\n        this.name = name;\n        this.description = description;\n        this.text = text;\n    }\n\n    public Article(){\n\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n}\n</code></pre>\n<p>Here is my @SpringBootApplication class</p>\n<pre><code>package com.example.work;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class WorkApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WorkApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Here is the ArticleRepository.java</p>\n<pre><code>package com.example.work.repositories;\n\nimport com.example.work.models.Article;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n\n@Repository\npublic interface ArticleRepository extends CrudRepository&lt;Article, Long&gt; {\n}\n</code></pre>\n<p>And the ArticleController.java</p>\n<pre><code>package com.example.work.controllers;\n\nimport com.example.work.models.Article;\nimport com.example.work.repositories.ArticleRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n\n@Controller\npublic class ArticleController {\n    @Autowired\n    private ArticleRepository articleRepository;\n\n    @GetMapping(&quot;/article&quot;)\n    public String article(Model model){\n        Iterable&lt;Article&gt; articles = articleRepository.findAll();\n        model.addAttribute(&quot;articles&quot;, articles);\n        return &quot;article&quot;;\n    }\n}\n</code></pre>\n<p>And the whole project structure:\n<a href=\"https://i.stack.imgur.com/JYA0u.png\" rel=\"nofollow noreferrer\">project structure</a></p>\n<p>I have tried to find answerd for my issue, but I have only found the advice to check <code>@Entity</code> and <code>@Id</code> annotations in my models. But I do have them there, so I have no idea what to do :(</p>\n"},{"tags":["java","function","recursion","binary-search"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1670695649,"post_id":74755285,"comment_id":131934802,"body_markdown":"Hint: when you call `rec_binarysearch`, you&#39;re ignoring the value returned. I suggest you don&#39;t do that. (I&#39;d also strongly recommend that you get your IDE to format your code - the inconsistent indentation makes it really hard to read.)","body":"Hint: when you call <code>rec_binarysearch</code>, you&#39;re ignoring the value returned. I suggest you don&#39;t do that. (I&#39;d also strongly recommend that you get your IDE to format your code - the inconsistent indentation makes it really hard to read.)"}],"answers":[{"comments":[{"owner":{"account_id":26979528,"reputation":37,"user_id":20544107,"display_name":"muad Pn"},"score":1,"creation_date":1670698082,"post_id":74755443,"comment_id":131935314,"body_markdown":"Thanks @Martin. While Calling recursively, need to add &quot;Return function(arguments)&quot; not Just calling the functions(arguments) itself. Thanks for the Answer :D","body":"Thanks @Martin. While Calling recursively, need to add &quot;Return function(arguments)&quot; not Just calling the functions(arguments) itself. Thanks for the Answer :D"},{"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"score":1,"creation_date":1670699007,"post_id":74755443,"comment_id":131935506,"body_markdown":"You&#39;re welcome! You need to use `return` because otherwise the result of your function-call will just be lost. Your function always returns the index of your search-number. When you call your function recursively without returning it (or rather it&#39;s result), you will just lose your result. You can think of the return-statement of a way to pass the value to the outside of the recursion.\n\n\nIf you are still a bit confused about recursion, I recommend you to watch some videos on YouTube about it. The visualisation helps a lot to understand.","body":"You&#39;re welcome! You need to use <code>return</code> because otherwise the result of your function-call will just be lost. Your function always returns the index of your search-number. When you call your function recursively without returning it (or rather it&#39;s result), you will just lose your result. You can think of the return-statement of a way to pass the value to the outside of the recursion.   If you are still a bit confused about recursion, I recommend you to watch some videos on YouTube about it. The visualisation helps a lot to understand."}],"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670702366,"creation_date":1670695883,"answer_id":74755443,"question_id":74755285,"body_markdown":"Your function `rec_binarysearch` is a recursive function, which is calling itself. But at the points where you call it recursively, you just ignore the return value. Thus you need to return the value from the function itself inside of the function. I only need to add two return statements and your code works:\r\n```\r\npublic class ReBinarySearch {\r\n    public static int rec_binarysearch(int[] array, int search, int first, int last) {\r\n        if (array.length == 0) {\r\n            return -1;\r\n        }\r\n        int mid = first + (last - first) / 2;\r\n        if (first &lt;= last) {\r\n            if (array[mid] == search) {\r\n                System.out.println(mid);\r\n                System.out.println(&quot;FOUND At Index &quot; + mid); //Printing this Value.\r\n                return mid; //Not returning this Value\r\n            } else if (array[mid] &gt; search) {\r\n                return rec_binarysearch(array, search, first, mid - 1);\r\n            } else if (array[mid] &lt; search) {\r\n                return rec_binarysearch(array, search, mid + 1, last);\r\n            }\r\n        }\r\n        return -1; //Always Returning this Value\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        int[] array = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n        int search = 10;\r\n        System.out.println(rec_binarysearch(array, search, 0, array.length - 1));\r\n    }\r\n}\r\n```\r\n\r\nYour code can further be optimized to the following:\r\n```\r\npublic static int rec_binarysearch(int[] array, int search, int first, int last) {\r\n    //// base cases/termination points should come first:\r\n    // terminate if the array is empty\r\n    if (array.length == 0) {\r\n        return -1;\r\n    }\r\n    // terminate if first is greater than last.\r\n    if (first &gt; last) {\r\n        return -1;\r\n    }\r\n    // terminate if search was found\r\n    int mid = first + (last - first) / 2;\r\n    if (array[mid] == search) {\r\n        return mid; //Not returning this Value\r\n    }\r\n\r\n    //// recursive cases:\r\n    // if none of the above was true we can continue \r\n    // searching with the recursive calls...\r\n    if (array[mid] &gt; search) {\r\n        return rec_binarysearch(array, search, first, mid - 1);\r\n    } else { // (array[mid] &lt; search) is always true at this point\r\n        return rec_binarysearch(array, search, mid + 1, last);\r\n    }\r\n}\r\n```\r\n\r\nI applied the best practice in there, that a recursively called function should always begin with the base cases (termination points). Meaning, we should always start the function with handling the cases, in which the recursion should stop and exit the function. In your case the following needs to be checked:\r\n* is the array empty?\r\n* is (first &gt; last)? this is especially important, because your recursive calls increase the value of `first` and decrease the value of `last`. So if you try to find a value in an array that doesn&#39;t contain the search value, you will run into this case.\r\n* did you find a match?\r\n\r\n### Edit\r\nTo make the function 100% correct, you would also need to check, that `first` and `last` are not out of range. But in that case it would be better to have another function that does these checks (as well as `array.length ==0`) and then calls the recursive function to retrieve the result.","title":"Recursive function in Java prints correct value but returns wrong one","body":"<p>Your function <code>rec_binarysearch</code> is a recursive function, which is calling itself. But at the points where you call it recursively, you just ignore the return value. Thus you need to return the value from the function itself inside of the function. I only need to add two return statements and your code works:</p>\n<pre><code>public class ReBinarySearch {\n    public static int rec_binarysearch(int[] array, int search, int first, int last) {\n        if (array.length == 0) {\n            return -1;\n        }\n        int mid = first + (last - first) / 2;\n        if (first &lt;= last) {\n            if (array[mid] == search) {\n                System.out.println(mid);\n                System.out.println(&quot;FOUND At Index &quot; + mid); //Printing this Value.\n                return mid; //Not returning this Value\n            } else if (array[mid] &gt; search) {\n                return rec_binarysearch(array, search, first, mid - 1);\n            } else if (array[mid] &lt; search) {\n                return rec_binarysearch(array, search, mid + 1, last);\n            }\n        }\n        return -1; //Always Returning this Value\n    }\n\n    public static void main(String args[]) {\n        int[] array = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n        int search = 10;\n        System.out.println(rec_binarysearch(array, search, 0, array.length - 1));\n    }\n}\n</code></pre>\n<p>Your code can further be optimized to the following:</p>\n<pre><code>public static int rec_binarysearch(int[] array, int search, int first, int last) {\n    //// base cases/termination points should come first:\n    // terminate if the array is empty\n    if (array.length == 0) {\n        return -1;\n    }\n    // terminate if first is greater than last.\n    if (first &gt; last) {\n        return -1;\n    }\n    // terminate if search was found\n    int mid = first + (last - first) / 2;\n    if (array[mid] == search) {\n        return mid; //Not returning this Value\n    }\n\n    //// recursive cases:\n    // if none of the above was true we can continue \n    // searching with the recursive calls...\n    if (array[mid] &gt; search) {\n        return rec_binarysearch(array, search, first, mid - 1);\n    } else { // (array[mid] &lt; search) is always true at this point\n        return rec_binarysearch(array, search, mid + 1, last);\n    }\n}\n</code></pre>\n<p>I applied the best practice in there, that a recursively called function should always begin with the base cases (termination points). Meaning, we should always start the function with handling the cases, in which the recursion should stop and exit the function. In your case the following needs to be checked:</p>\n<ul>\n<li>is the array empty?</li>\n<li>is (first &gt; last)? this is especially important, because your recursive calls increase the value of <code>first</code> and decrease the value of <code>last</code>. So if you try to find a value in an array that doesn't contain the search value, you will run into this case.</li>\n<li>did you find a match?</li>\n</ul>\n<h3>Edit</h3>\n<p>To make the function 100% correct, you would also need to check, that <code>first</code> and <code>last</code> are not out of range. But in that case it would be better to have another function that does these checks (as well as <code>array.length ==0</code>) and then calls the recursive function to retrieve the result.</p>\n"}],"owner":{"account_id":26979528,"reputation":37,"user_id":20544107,"display_name":"muad Pn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74755443,"answer_count":1,"score":0,"last_activity_date":1670864111,"creation_date":1670694633,"question_id":74755285,"body_markdown":"I tried to do Binary Search In Java, but it&#39;s not returning the correct value even though it finds the right one and prints it.\r\n\r\n\r\n```\r\npublic class ReBinarySearch {\r\n    public static int rec_binarysearch(int[] array, int search, int first, int last) {\r\n        if (array.length == 0) {\r\n            return -1;\r\n        }\r\n        int mid = first + (last - first) / 2;\r\n        if (first &lt;= last) {\r\n            if (array[mid] == search) {\r\n                System.out.println(mid);\r\n                System.out.println(&quot;FOUND At Index &quot; + mid); //Printing this Value.\r\n                return mid; //Not returning this Value\r\n            } else if (array[mid] &gt; search) {\r\n                rec_binarysearch(array, search, first, mid - 1);\r\n            } else if (array[mid] &lt; search) {\r\n                rec_binarysearch(array, search, mid + 1, last);\r\n            }\r\n        }\r\n        return -1; //Always Returning this Value\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        int[] array = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n        int search = 11;\r\n        System.out.println(rec_binarysearch(array, search, 0, array.length - 1));\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nBinary search is not returning the value as expected the code above. but its printing the Solution Right.\r\nwhat I need is to return that Value into main function.","title":"Recursive function in Java prints correct value but returns wrong one","body":"<p>I tried to do Binary Search In Java, but it's not returning the correct value even though it finds the right one and prints it.</p>\n<pre><code>public class ReBinarySearch {\n    public static int rec_binarysearch(int[] array, int search, int first, int last) {\n        if (array.length == 0) {\n            return -1;\n        }\n        int mid = first + (last - first) / 2;\n        if (first &lt;= last) {\n            if (array[mid] == search) {\n                System.out.println(mid);\n                System.out.println(&quot;FOUND At Index &quot; + mid); //Printing this Value.\n                return mid; //Not returning this Value\n            } else if (array[mid] &gt; search) {\n                rec_binarysearch(array, search, first, mid - 1);\n            } else if (array[mid] &lt; search) {\n                rec_binarysearch(array, search, mid + 1, last);\n            }\n        }\n        return -1; //Always Returning this Value\n    }\n\n    public static void main(String args[]) {\n        int[] array = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n        int search = 11;\n        System.out.println(rec_binarysearch(array, search, 0, array.length - 1));\n\n    }\n}\n</code></pre>\n<p>Binary search is not returning the value as expected the code above. but its printing the Solution Right.\nwhat I need is to return that Value into main function.</p>\n"},{"tags":["java","image","bufferedimage","raster"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1375875227,"post_id":18102054,"comment_id":26499381,"body_markdown":"You will need a `WritableRaster` to create a `BufferedImage`, using `new BufferedImage(colorModel, raster, colorModel.isAlphaPremultiplied(), null)`. What a suitable `ColorModel`might be, depends on the pixel data in the raster. What format/pixel layout does it use?","body":"You will need a <code>WritableRaster</code> to create a <code>BufferedImage</code>, using <code>new BufferedImage(colorModel, raster, colorModel.isAlphaPremultiplied(), null)</code>. What a suitable <code>ColorModel</code>might be, depends on the pixel data in the raster. What format/pixel layout does it use?"},{"owner":{"account_id":1398022,"reputation":5283,"user_id":1583946,"accept_rate":87,"display_name":"Dariush Jafari"},"score":0,"creation_date":1376279602,"post_id":18102054,"comment_id":26636294,"body_markdown":"I mean compatible color model corresponding to the raster in such a way that image does not change.","body":"I mean compatible color model corresponding to the raster in such a way that image does not change."},{"owner":{"account_id":1398022,"reputation":5283,"user_id":1583946,"accept_rate":87,"display_name":"Dariush Jafari"},"score":0,"creation_date":1376281785,"post_id":18102054,"comment_id":26636715,"body_markdown":"I mean a color model compatible with a tiff image!","body":"I mean a color model compatible with a tiff image!"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1376292415,"post_id":18102054,"comment_id":26639929,"body_markdown":"Pretty much any color model is compatible with TIFF.. What does your raster look like? What sample model does it use? What is the transfer type? How many color components? Does it have alpha?","body":"Pretty much any color model is compatible with TIFF.. What does your raster look like? What sample model does it use? What is the transfer type? How many color components? Does it have alpha?"}],"answers":[{"tags":[],"owner":{"account_id":1145238,"reputation":2988,"user_id":1128171,"accept_rate":88,"display_name":"Codey McCodeface"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375875115,"creation_date":1375875115,"answer_id":18102291,"question_id":18102054,"body_markdown":"Using the constructor\r\n\r\n    BufferedImage(ColorModel cm, WritableRaster raster, boolean isRasterPremultiplied, Hashtable&lt;?,?&gt; properties) \r\n\r\nIf you provide more info on how you get the raster I can be more helpful  ","title":"Create a BufferedImage from a Raster","body":"<p>Using the constructor</p>\n\n<pre><code>BufferedImage(ColorModel cm, WritableRaster raster, boolean isRasterPremultiplied, Hashtable&lt;?,?&gt; properties) \n</code></pre>\n\n<p>If you provide more info on how you get the raster I can be more helpful  </p>\n"},{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670863797,"creation_date":1375951666,"answer_id":18121674,"question_id":18102054,"body_markdown":"What a suitable `ColorModel` might be, depends on the pixel data in the raster. Here are some common variants:\r\n\r\n* If the raster contains interleaved or banded samples in `byte` (8 bits) or `ushort` (16 bits) format, a `ComponentColorModel` will work. You will need to specify the data type, color space and wether or not the data contains alpha and if the alpha is premultiplied or not. \r\n\r\n* If the raster is in &quot;packed&quot; format, you typically need a `DirectColorModel`. Again, you will need to know details about the raster for the colors to be correct. \r\n\r\n* If the raster contains a single component that represents indexes into a lookup table, you will need an `IndexColorModel` with the correct lookup table.\r\n\r\nThere is no &quot;one-size-fits-all&quot; solution here, but the code will look something like this:\r\n\r\n    Raster raster = ...; // Your raster\r\n    ColorModel colorModel = ...; // A suitable color model (see above)\r\n\r\n    WritableRaster writableRaster = raster.createCompatibleWritableRaster();\r\n    writableRaster.setDataElements(0, 0, raster);\r\n\r\n    BufferedImage image = new BufferedImage(colorModel, writableRaster, colorModel.isAlphaPremultiplied(), null);\r\n","title":"Create a BufferedImage from a Raster","body":"<p>What a suitable <code>ColorModel</code> might be, depends on the pixel data in the raster. Here are some common variants:</p>\n<ul>\n<li><p>If the raster contains interleaved or banded samples in <code>byte</code> (8 bits) or <code>ushort</code> (16 bits) format, a <code>ComponentColorModel</code> will work. You will need to specify the data type, color space and wether or not the data contains alpha and if the alpha is premultiplied or not.</p>\n</li>\n<li><p>If the raster is in &quot;packed&quot; format, you typically need a <code>DirectColorModel</code>. Again, you will need to know details about the raster for the colors to be correct.</p>\n</li>\n<li><p>If the raster contains a single component that represents indexes into a lookup table, you will need an <code>IndexColorModel</code> with the correct lookup table.</p>\n</li>\n</ul>\n<p>There is no &quot;one-size-fits-all&quot; solution here, but the code will look something like this:</p>\n<pre><code>Raster raster = ...; // Your raster\nColorModel colorModel = ...; // A suitable color model (see above)\n\nWritableRaster writableRaster = raster.createCompatibleWritableRaster();\nwritableRaster.setDataElements(0, 0, raster);\n\nBufferedImage image = new BufferedImage(colorModel, writableRaster, colorModel.isAlphaPremultiplied(), null);\n</code></pre>\n"}],"owner":{"account_id":1398022,"reputation":5283,"user_id":1583946,"accept_rate":87,"display_name":"Dariush Jafari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7340,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1670863902,"creation_date":1375874448,"question_id":18102054,"body_markdown":"Simply I have a raster of an image and I want to make a `BufferedImage` of it.  \r\n\r\n    Raster raster = someObject.getAsRaster();\r\n    BufferedImage bi = ?\r\n\r\nHow can I make a `BufferedImage` with suitable `ColorModel` so the image is shown properly?","title":"Create a BufferedImage from a Raster","body":"<p>Simply I have a raster of an image and I want to make a <code>BufferedImage</code> of it.</p>\n<pre><code>Raster raster = someObject.getAsRaster();\nBufferedImage bi = ?\n</code></pre>\n<p>How can I make a <code>BufferedImage</code> with suitable <code>ColorModel</code> so the image is shown properly?</p>\n"},{"tags":["java","android","flutter","android-studio","gradle"],"comments":[{"owner":{"account_id":1088718,"reputation":4568,"user_id":1083843,"accept_rate":79,"display_name":"Renato Lochetti"},"score":1,"creation_date":1661456575,"post_id":71083140,"comment_id":129783716,"body_markdown":"I just want to say that you saved my day! Same problem here and it was NordVPN messing things up! But why? :(","body":"I just want to say that you saved my day! Same problem here and it was NordVPN messing things up! But why? :("},{"owner":{"account_id":5397354,"reputation":1819,"user_id":4298143,"accept_rate":76,"display_name":"Cody"},"score":0,"creation_date":1669342925,"post_id":71083140,"comment_id":131626139,"body_markdown":"Were you using Windows 11? I&#39;ve had similar strange and frustrating issues where Android Studio can&#39;t connect to the internet since switching to this OS","body":"Were you using Windows 11? I&#39;ve had similar strange and frustrating issues where Android Studio can&#39;t connect to the internet since switching to this OS"},{"owner":{"account_id":19149477,"reputation":469,"user_id":13987708,"display_name":"Christian"},"score":0,"creation_date":1669621607,"post_id":71083140,"comment_id":131675023,"body_markdown":"Moin Cody,\n\nI think I was using Windows 11, but I am not sure. I am using Windows 11 now, though. And I haven&#39;t had any issues with Android Studio since, even the error I described above no longer exists.\n\nBut I suggest, you check other Apps on your computer, to make sure, they are not causing the issues. Even Apps you think shouldn&#39;t be an issue. Like in my case, I never thought NordVPN might cause problems with other Apps like this.","body":"Moin Cody,  I think I was using Windows 11, but I am not sure. I am using Windows 11 now, though. And I haven&#39;t had any issues with Android Studio since, even the error I described above no longer exists.  But I suggest, you check other Apps on your computer, to make sure, they are not causing the issues. Even Apps you think shouldn&#39;t be an issue. Like in my case, I never thought NordVPN might cause problems with other Apps like this."}],"answers":[{"tags":[],"owner":{"account_id":5397354,"reputation":1819,"user_id":4298143,"accept_rate":76,"display_name":"Cody"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670863758,"creation_date":1670863758,"answer_id":74774513,"question_id":71083140,"body_markdown":"I was able to ultimately able to solve the issue in Android Studio by going into File -&gt; Settings -&gt; Version Control -&gt; Git -&gt; Enabling &quot;User credential helper&quot;","title":"Android Studio invalid authentication data. Cannot assign requested address: connect","body":"<p>I was able to ultimately able to solve the issue in Android Studio by going into File -&gt; Settings -&gt; Version Control -&gt; Git -&gt; Enabling &quot;User credential helper&quot;</p>\n"}],"owner":{"account_id":19149477,"reputation":469,"user_id":13987708,"display_name":"Christian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":764,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1670863758,"creation_date":1644595654,"question_id":71083140,"body_markdown":"I have a Issue where I can&#39;t login to GitHub anymore.\r\n\r\nAll worked fine just a moment ago, then suddenly my Flutter Build stopped to work. When I wanted to check out a different branch to check if my changes are the problem I was asked for my GitHub Login Info, which was odd because the Token hasn&#39;t expired yet. Anyway I generated a new Token and got the following error: \r\n\r\n&gt; Invalid authentication data. Cannot assign requested address: connect\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow I suspect that somehow my JAVA installation is at fault, so installed a freshly downloaded JAVA version. To no success.\r\n\r\nThe reason why I suspected JAVA is the error when building is also JAVA related. I only found one thread that talked about that problem and it suggested to kill oll JAVA related apps in the Taskmanager, of which I have none. And a reboot of the Computer also didn&#39;t help. This error also persists after the fresh install of JAVA.\r\n\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    java.net.BindException: Cannot assign requested address: bind\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    *\r\n    Exception is:\r\n    org.gradle.api.UncheckedIOException: java.net.BindException: Cannot assign requested address: bind\r\n        at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:61)\r\n        at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:41)\r\n        at org.gradle.cache.internal.locklistener.FileLockCommunicator.&lt;init&gt;(FileLockCommunicator.java:51)\r\n        at org.gradle.cache.internal.locklistener.DefaultFileLockContentionHandler.getCommunicator(DefaultFileLockContentionHandler.java:263)\r\n        at org.gradle.cache.internal.locklistener.DefaultFileLockContentionHandler.reservePort(DefaultFileLockContentionHandler.java:255)\r\n        at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:108)\r\n        at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:95)\r\n        at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:90)\r\n        at org.gradle.cache.internal.OnDemandFileAccess.readFile(OnDemandFileAccess.java:41)\r\n        at org.gradle.cache.internal.SimpleStateCache.get(SimpleStateCache.java:49)\r\n        at org.gradle.cache.internal.FileIntegrityViolationSuppressingPersistentStateCacheDecorator.get(FileIntegrityViolationSuppressingPersistentStateCacheDecorator.java:34)\r\n        at org.gradle.launcher.daemon.registry.PersistentDaemonRegistry.getAll(PersistentDaemonRegistry.java:71)\r\n        at org.gradle.launcher.daemon.client.DefaultDaemonConnector.connect(DefaultDaemonConnector.java:115)\r\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:144)\r\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:98)\r\n        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:57)\r\n        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:212)\r\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:275)\r\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:247)\r\n        at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:82)\r\n        at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:30)\r\n        at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:92)\r\n        at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:38)\r\n        at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:44)\r\n        at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:26)\r\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:41)\r\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:26)\r\n        at org.gradle.launcher.cli.DefaultCommandLineActionFactory$WithLogging.execute(DefaultCommandLineActionFactory.java:240)\r\n        at org.gradle.launcher.Main.doAction(Main.java:35)\r\n        at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:50)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:60)\r\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:37)\r\n        at org.gradle.launcher.GradleMain.main(GradleMain.java:31)\r\n    Caused by: java.net.BindException: Cannot assign requested address: bind\r\n        at java.base/sun.nio.ch.Net.bind0(Native Method)\r\n        at java.base/sun.nio.ch.Net.bind(Net.java:555)\r\n        at java.base/sun.nio.ch.DatagramChannelImpl.bindInternal(DatagramChannelImpl.java:1194)\r\n        at java.base/sun.nio.ch.DatagramChannelImpl.bind(DatagramChannelImpl.java:1164)\r\n        at java.base/sun.nio.ch.DatagramSocketAdaptor.bind(DatagramSocketAdaptor.java:107)\r\n        at java.base/java.net.DatagramSocket.createDelegate(DatagramSocket.java:1426)\r\n        at java.base/java.net.DatagramSocket.&lt;init&gt;(DatagramSocket.java:330)\r\n        at java.base/java.net.DatagramSocket.&lt;init&gt;(DatagramSocket.java:389)\r\n        at org.gradle.cache.internal.locklistener.FileLockCommunicator.&lt;init&gt;(FileLockCommunicator.java:49)\r\n        ... 34 more\r\n    \r\n    \r\n    * Get more help at https://help.gradle.org\r\n\r\n  [1]: https://i.stack.imgur.com/JjOg0.png\r\n\r\n\r\n**--- Edit ---**\r\n\r\nI can&#39;t believe it. I just closed NordVPN and everything works again. Anyone has an idea what Nord does to make all JAVA stuff to stop working? And also why did it suddenly crash JAVA, I am using Nord for a long time, and this never happened before...","title":"Android Studio invalid authentication data. Cannot assign requested address: connect","body":"<p>I have a Issue where I can't login to GitHub anymore.</p>\n<p>All worked fine just a moment ago, then suddenly my Flutter Build stopped to work. When I wanted to check out a different branch to check if my changes are the problem I was asked for my GitHub Login Info, which was odd because the Token hasn't expired yet. Anyway I generated a new Token and got the following error:</p>\n<blockquote>\n<p>Invalid authentication data. Cannot assign requested address: connect</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/JjOg0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JjOg0.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I suspect that somehow my JAVA installation is at fault, so installed a freshly downloaded JAVA version. To no success.</p>\n<p>The reason why I suspected JAVA is the error when building is also JAVA related. I only found one thread that talked about that problem and it suggested to kill oll JAVA related apps in the Taskmanager, of which I have none. And a reboot of the Computer also didn't help. This error also persists after the fresh install of JAVA.</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\njava.net.BindException: Cannot assign requested address: bind\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n*\nException is:\norg.gradle.api.UncheckedIOException: java.net.BindException: Cannot assign requested address: bind\n    at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:61)\n    at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:41)\n    at org.gradle.cache.internal.locklistener.FileLockCommunicator.&lt;init&gt;(FileLockCommunicator.java:51)\n    at org.gradle.cache.internal.locklistener.DefaultFileLockContentionHandler.getCommunicator(DefaultFileLockContentionHandler.java:263)\n    at org.gradle.cache.internal.locklistener.DefaultFileLockContentionHandler.reservePort(DefaultFileLockContentionHandler.java:255)\n    at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:108)\n    at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:95)\n    at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:90)\n    at org.gradle.cache.internal.OnDemandFileAccess.readFile(OnDemandFileAccess.java:41)\n    at org.gradle.cache.internal.SimpleStateCache.get(SimpleStateCache.java:49)\n    at org.gradle.cache.internal.FileIntegrityViolationSuppressingPersistentStateCacheDecorator.get(FileIntegrityViolationSuppressingPersistentStateCacheDecorator.java:34)\n    at org.gradle.launcher.daemon.registry.PersistentDaemonRegistry.getAll(PersistentDaemonRegistry.java:71)\n    at org.gradle.launcher.daemon.client.DefaultDaemonConnector.connect(DefaultDaemonConnector.java:115)\n    at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:144)\n    at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:98)\n    at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:57)\n    at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:212)\n    at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:275)\n    at org.gradle.launcher.cli.DefaultCommandLineActionFactory$ParseAndBuildAction.execute(DefaultCommandLineActionFactory.java:247)\n    at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:82)\n    at org.gradle.launcher.cli.DebugLoggerWarningAction.execute(DebugLoggerWarningAction.java:30)\n    at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:92)\n    at org.gradle.launcher.cli.WelcomeMessageAction.execute(WelcomeMessageAction.java:38)\n    at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:44)\n    at org.gradle.launcher.cli.NativeServicesInitializingAction.execute(NativeServicesInitializingAction.java:26)\n    at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:41)\n    at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:26)\n    at org.gradle.launcher.cli.DefaultCommandLineActionFactory$WithLogging.execute(DefaultCommandLineActionFactory.java:240)\n    at org.gradle.launcher.Main.doAction(Main.java:35)\n    at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:50)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:60)\n    at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:37)\n    at org.gradle.launcher.GradleMain.main(GradleMain.java:31)\nCaused by: java.net.BindException: Cannot assign requested address: bind\n    at java.base/sun.nio.ch.Net.bind0(Native Method)\n    at java.base/sun.nio.ch.Net.bind(Net.java:555)\n    at java.base/sun.nio.ch.DatagramChannelImpl.bindInternal(DatagramChannelImpl.java:1194)\n    at java.base/sun.nio.ch.DatagramChannelImpl.bind(DatagramChannelImpl.java:1164)\n    at java.base/sun.nio.ch.DatagramSocketAdaptor.bind(DatagramSocketAdaptor.java:107)\n    at java.base/java.net.DatagramSocket.createDelegate(DatagramSocket.java:1426)\n    at java.base/java.net.DatagramSocket.&lt;init&gt;(DatagramSocket.java:330)\n    at java.base/java.net.DatagramSocket.&lt;init&gt;(DatagramSocket.java:389)\n    at org.gradle.cache.internal.locklistener.FileLockCommunicator.&lt;init&gt;(FileLockCommunicator.java:49)\n    ... 34 more\n\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<p><strong>--- Edit ---</strong></p>\n<p>I can't believe it. I just closed NordVPN and everything works again. Anyone has an idea what Nord does to make all JAVA stuff to stop working? And also why did it suddenly crash JAVA, I am using Nord for a long time, and this never happened before...</p>\n"},{"tags":["java","selenium-webdriver","recaptcha"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1670938373,"post_id":74774449,"comment_id":131984940,"body_markdown":"Do you get same result with selenium 3.x.x?","body":"Do you get same result with selenium 3.x.x?"},{"owner":{"account_id":27090137,"reputation":1,"user_id":20638058,"display_name":"Revathi Natarajan"},"score":0,"creation_date":1670963424,"post_id":74774449,"comment_id":131993578,"body_markdown":"I did not try with selenium 3 , i am trying this in Selenium 4","body":"I did not try with selenium 3 , i am trying this in Selenium 4"}],"owner":{"account_id":27090137,"reputation":1,"user_id":20638058,"display_name":"Revathi Natarajan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670863727,"creation_date":1670863446,"question_id":74774449,"body_markdown":"**Steps to Produce:**\r\n\r\n1. I am trying to handle &quot;Recaptcha&quot; through manual intervention using Selenium Web Driver (Java) in Firefox Browser\r\n\r\n2. In the demosite,&quot;https://demoqa.com/register&quot;, I am trying to automate &quot;Recaptcha&quot; through manual intervention \r\n\r\n3. I am switching into &quot;I&#39;m not a Robot&quot; frame and trying to click on the checkbox and then use &quot;Explicit Wait&quot; till I manually click on &quot;Verify&quot; button \r\n\r\n4. Then I am switching out of the iframe to the default content and trying to click &quot;Register&quot;\r\n\r\n \r\n\r\n\r\n**Issue:**\r\n\r\n1. My code works till switching into &quot;I&#39;m not a Robot&quot; frame and the random image tiles open, then it doesn&#39;t work\r\n\r\n**My Code:**\r\n\r\n\r\n```\r\n//Check &quot;I&#39;m not a Robot&quot;\r\n    driver.switchTo().frame(7);\r\n    driver.findElement(By.xpath(&quot;//span[@id=&#39;recaptcha-anchor&#39;]/div&quot;)).click();\r\n    \r\n   \r\n    \r\n   WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(15));\r\n    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\r\n            By.xpath(&quot;//iframe[starts-with(@name, &#39;a-4fg5nocuvnax&#39;) and starts-with(@src, &#39;https://www.google.com/recaptcha&#39;)]&quot;)));\r\n   \r\n    wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#recaptcha-verify-button&quot;))).click();\r\n    driver.switchTo().defaultContent();\r\n```\r\n\r\nHelp me and correct if I am wrong .\r\n\r\n```\r\n\r\n\r\n","title":"&quot;I&#39;m not a Robot&quot; Recaptcha is not working as expected -Selenium WebDriver(Java)","body":"<p><strong>Steps to Produce:</strong></p>\n<ol>\n<li><p>I am trying to handle &quot;Recaptcha&quot; through manual intervention using Selenium Web Driver (Java) in Firefox Browser</p>\n</li>\n<li><p>In the demosite,&quot;https://demoqa.com/register&quot;, I am trying to automate &quot;Recaptcha&quot; through manual intervention</p>\n</li>\n<li><p>I am switching into &quot;I'm not a Robot&quot; frame and trying to click on the checkbox and then use &quot;Explicit Wait&quot; till I manually click on &quot;Verify&quot; button</p>\n</li>\n<li><p>Then I am switching out of the iframe to the default content and trying to click &quot;Register&quot;</p>\n</li>\n</ol>\n<p><strong>Issue:</strong></p>\n<ol>\n<li>My code works till switching into &quot;I'm not a Robot&quot; frame and the random image tiles open, then it doesn't work</li>\n</ol>\n<p><strong>My Code:</strong></p>\n<pre><code>//Check &quot;I'm not a Robot&quot;\n    driver.switchTo().frame(7);\n    driver.findElement(By.xpath(&quot;//span[@id='recaptcha-anchor']/div&quot;)).click();\n    \n   \n    \n   WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(15));\n    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\n            By.xpath(&quot;//iframe[starts-with(@name, 'a-4fg5nocuvnax') and starts-with(@src, 'https://www.google.com/recaptcha')]&quot;)));\n   \n    wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#recaptcha-verify-button&quot;))).click();\n    driver.switchTo().defaultContent();\n</code></pre>\n<p>Help me and correct if I am wrong .</p>\n<pre><code>\n\n</code></pre>\n"},{"tags":["java","unit-testing","mocking","mockito","protected"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1670870845,"post_id":74774452,"comment_id":131968815,"body_markdown":"I don&#39;t get point 2. If you mock it, it&#39;s an &quot;empty&quot; mock: all methods return the default value for their type. If you want your mock to return different values, you have to set it up with `when(mockObj.methodCall()).thenReturn(yourDesiredValue)`. And what prevents you from putting the test in the same package as the class itself? `protected` members can be accessed from within the same package","body":"I don&#39;t get point 2. If you mock it, it&#39;s an &quot;empty&quot; mock: all methods return the default value for their type. If you want your mock to return different values, you have to set it up with <code>when(mockObj.methodCall()).thenReturn(yourDesiredValue)</code>. And what prevents you from putting the test in the same package as the class itself? <code>protected</code> members can be accessed from within the same package"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1670872999,"post_id":74774452,"comment_id":131969444,"body_markdown":"You must have a way to construct RequestInfo in your production code - be it a factory method, subclass with public constructor etc. Why dont you use one of those in your unit test?","body":"You must have a way to construct RequestInfo in your production code - be it a factory method, subclass with public constructor etc. Why dont you use one of those in your unit test?"},{"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"score":0,"creation_date":1670880052,"post_id":74774452,"comment_id":131971538,"body_markdown":"@knittl as I said, I can&#39;t use `thenReturn` because I have no desired value to return. I can&#39;t construct my desired `RequestInfo` instance because its constructor is protected. Regarding your 2nd question - It&#39;s not good practice to place tests in the same package as the src code base files. I&#39;m talking about a mS.","body":"@knittl as I said, I can&#39;t use <code>thenReturn</code> because I have no desired value to return. I can&#39;t construct my desired <code>RequestInfo</code> instance because its constructor is protected. Regarding your 2nd question - It&#39;s not good practice to place tests in the same package as the src code base files. I&#39;m talking about a mS."},{"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"score":0,"creation_date":1670880163,"post_id":74774452,"comment_id":131971572,"body_markdown":"@Lesiak I do have a way to construct this class in my production code - but I construct it in the same package. I construct it and then pass it to `getReport` which is also in the same package.","body":"@Lesiak I do have a way to construct this class in my production code - but I construct it in the same package. I construct it and then pass it to <code>getReport</code> which is also in the same package."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1670880369,"post_id":74774452,"comment_id":131971627,"body_markdown":"@NoobCoder why is it bad practice to have tests in the same package? Almost all tests that I know are placed in the same package as their tested classes (but in a different source set). In your question you write &quot;but everything inside of it (fields) will be nulled, so the tested method, which relies on the info that the instance stores, will fail.&quot; and in your comment you write &quot;because I have no desired value to return&quot;. I read the former as &quot;there are some values that must be returned by the instance, otherwise the test will not work&quot;  those are your desired values.","body":"@NoobCoder why is it bad practice to have tests in the same package? Almost all tests that I know are placed in the same package as their tested classes (but in a different source set). In your question you write &quot;but everything inside of it (fields) will be nulled, so the tested method, which relies on the info that the instance stores, will fail.&quot; and in your comment you write &quot;because I have no desired value to return&quot;. I read the former as &quot;there are some values that must be returned by the instance, otherwise the test will not work&quot;  those are your desired values."}],"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670863455,"creation_date":1670863455,"question_id":74774452,"body_markdown":"I have a public POJO class whos constructor is protected &amp; its setters are protected/private as well.\r\nThe only thing that is public is the getters.\r\n\r\n    public class RequestInfo {\r\n        \r\n        private String user;\r\n        private String date;\r\n        private String action;\r\n        \r\n    \r\n        protected RequestInfo(String user, String date, String action) {\r\n            this.user = user;\r\n            this.date = date;\r\n            this.action = action;\r\n        }\r\n        \r\n        public String getUser(){\r\n            return user;\r\n        }\r\n        ...\r\n        ...\r\n        private void setUser(String user){\r\n            this.user = user;\r\n        }\r\n        ..\r\n        ..\r\n    }\r\n\r\nI want to write a JUnit test which tests a method, that gets as a parameter an instance of the POJO class I have mentioned in the beginning.\r\n\r\n    public String getReport(RequestInfo requestInfo){\r\n        String requestUser = requestInfo.getUser();\r\n        String requestDate = requestInfo.getDate();\r\n        String requestAction = requestInfo.getAction();\r\n        ....\r\n        ....\r\n    }\r\n\r\n\r\nThis complicates things for me, because I want to mock this instance in order to test the method as needed, but I can&#39;t mock it because:\r\n1. I can&#39;t just create a new instance of the class and insert my mocked values because the **constructor is protected.**\r\n\r\n```\r\n@Test\r\npublic void getReportTest(){\r\n    RequestInfo requestInfo = new RequestInfo(&quot;john&quot;, &quot;12DEC22&quot;, &quot;addUser&quot;);\r\n    String report = ReportsManager.getReport(requestInfo);\r\n    assertEquals(.......)\r\n    .....\r\n}\r\n```\r\n\r\n2. I can&#39;t mock it using `Mockito.mock(RequestInfo.Class)` because although it will create a mock of the class, but everything inside of it (fields) will be nulled, so the tested method, which relies on the info that the instance stores, will fail.\r\n\r\nI can make the constructor public, but I wrote it as protected for a reason, and I don&#39;t want to break my design just because of one or two tests.\r\n\r\n**I have wrote the codes as an example to clarify my needs, please address to the general idea and not for these specific code samples**\r\n\r\nI&#39;ll be glad to get tips,\r\nthanks.","title":"How to mock a protected class whos instance is used by the tested method in Java?","body":"<p>I have a public POJO class whos constructor is protected &amp; its setters are protected/private as well.\nThe only thing that is public is the getters.</p>\n<pre><code>public class RequestInfo {\n    \n    private String user;\n    private String date;\n    private String action;\n    \n\n    protected RequestInfo(String user, String date, String action) {\n        this.user = user;\n        this.date = date;\n        this.action = action;\n    }\n    \n    public String getUser(){\n        return user;\n    }\n    ...\n    ...\n    private void setUser(String user){\n        this.user = user;\n    }\n    ..\n    ..\n}\n</code></pre>\n<p>I want to write a JUnit test which tests a method, that gets as a parameter an instance of the POJO class I have mentioned in the beginning.</p>\n<pre><code>public String getReport(RequestInfo requestInfo){\n    String requestUser = requestInfo.getUser();\n    String requestDate = requestInfo.getDate();\n    String requestAction = requestInfo.getAction();\n    ....\n    ....\n}\n</code></pre>\n<p>This complicates things for me, because I want to mock this instance in order to test the method as needed, but I can't mock it because:</p>\n<ol>\n<li>I can't just create a new instance of the class and insert my mocked values because the <strong>constructor is protected.</strong></li>\n</ol>\n<pre><code>@Test\npublic void getReportTest(){\n    RequestInfo requestInfo = new RequestInfo(&quot;john&quot;, &quot;12DEC22&quot;, &quot;addUser&quot;);\n    String report = ReportsManager.getReport(requestInfo);\n    assertEquals(.......)\n    .....\n}\n</code></pre>\n<ol start=\"2\">\n<li>I can't mock it using <code>Mockito.mock(RequestInfo.Class)</code> because although it will create a mock of the class, but everything inside of it (fields) will be nulled, so the tested method, which relies on the info that the instance stores, will fail.</li>\n</ol>\n<p>I can make the constructor public, but I wrote it as protected for a reason, and I don't want to break my design just because of one or two tests.</p>\n<p><strong>I have wrote the codes as an example to clarify my needs, please address to the general idea and not for these specific code samples</strong></p>\n<p>I'll be glad to get tips,\nthanks.</p>\n"},{"tags":["java","spring","unit-testing","mockito"],"comments":[{"owner":{"account_id":4737832,"reputation":1453,"user_id":3831651,"display_name":"Rohith K"},"score":2,"creation_date":1484118181,"post_id":41584454,"comment_id":70373319,"body_markdown":"I think you need MockitoJunitRunner.class if you are trying to mock them. Also use when() stub to mock the function as you used for mUserInfoService.","body":"I think you need MockitoJunitRunner.class if you are trying to mock them. Also use when() stub to mock the function as you used for mUserInfoService."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1484120226,"post_id":41584454,"comment_id":70374242,"body_markdown":"Register the mock as a spring bean. You will now only receive the bean from the context and it will not mock anything (as you see).","body":"Register the mock as a spring bean. You will now only receive the bean from the context and it will not mock anything (as you see)."}],"answers":[{"comments":[{"owner":{"account_id":4695136,"reputation":4605,"user_id":3800170,"accept_rate":60,"display_name":"alayor"},"score":8,"creation_date":1484184827,"post_id":41602545,"comment_id":70409776,"body_markdown":"I think you shouldn&#39;t mock the class you are testing.","body":"I think you shouldn&#39;t mock the class you are testing."}],"tags":[],"owner":{"account_id":5973062,"reputation":557,"user_id":4694855,"accept_rate":80,"display_name":"jAvA"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484176661,"creation_date":1484176661,"answer_id":41602545,"question_id":41584454,"body_markdown":"there is no need of @Autowired annotation when you inject in the test class. And use the mock for the method to get your mocked response as the way you did for UserInfoService.That will be something like below.\r\nMockito.when(mCreateMailboxService. getData()).thenReturn(&quot;my response&quot;);\r\n","title":"Injecting mocks with Mockito does not work","body":"<p>there is no need of @Autowired annotation when you inject in the test class. And use the mock for the method to get your mocked response as the way you did for UserInfoService.That will be something like below.\nMockito.when(mCreateMailboxService. getData()).thenReturn(\"my response\");</p>\n"},{"comments":[{"owner":{"account_id":930786,"reputation":177,"user_id":960707,"display_name":"Victor Tsai"},"score":1,"creation_date":1484279965,"post_id":41603773,"comment_id":70455059,"body_markdown":"thanks it work for me to manually inject the mock class.\nIt seems that my @InjectMocks annotation really not working because I&#39;v seen some article that work in same scenario\nhttp://stackoverflow.com/questions/34067956/how-to-use-injectmocks-along-with-autowired-annotation-in-junit","body":"thanks it work for me to manually inject the mock class. It seems that my @InjectMocks annotation really not working because I&#39;v seen some article that work in same scenario <a href=\"http://stackoverflow.com/questions/34067956/how-to-use-injectmocks-along-with-autowired-annotation-in-junit\" title=\"how to use injectmocks along with autowired annotation in junit\">stackoverflow.com/questions/34067956/&hellip;</a>"}],"tags":[],"owner":{"account_id":4695136,"reputation":4605,"user_id":3800170,"accept_rate":60,"display_name":"alayor"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1484185252,"creation_date":1484185252,"answer_id":41603773,"question_id":41584454,"body_markdown":"You can create `package` level setter for `mUserInfoService` in `CreateMailboxService` class.\r\n\r\n    @Service\r\n    public class CreateMailboxService {   \r\n        @Autowired UserInfoService mUserInfoService; // this should be mocked\r\n        @Autowired LogicService mLogicService;  // this should be autowired by Spring\r\n    \r\n        public void createMailbox() {\r\n            // do mething\r\n            System.out.println(&quot;test 2: &quot; + mUserInfoService.getData());\r\n        }\r\n        \r\n        void setUserInfoService(UserInfoService mUserInfoService) {\r\n            this.mUserInfoService = mUserInfoService;\r\n        }\r\n    }\r\n\r\nThen, you can inject that mock in the test using the setter.\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;file:src/main/webapp/WEB-INF/spring/root-context.xml&quot; })\r\n    public class CreateMailboxServiceMockTest {\r\n    \r\n        @Mock\r\n        UserInfoService mUserInfoService;\r\n    \r\n        CreateMailboxService mCreateMailboxService;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            MockitoAnnotations.initMocks(this);\r\n            mCreateMailboxService = new CreateMailboxService();\r\n            mCreateMailboxService.setUserInfoService(mUserInfoService);\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\nThis way you can avoid problems with `@InjectMocks` and Spring annotations.","title":"Injecting mocks with Mockito does not work","body":"<p>You can create <code>package</code> level setter for <code>mUserInfoService</code> in <code>CreateMailboxService</code> class.</p>\n\n<pre><code>@Service\npublic class CreateMailboxService {   \n    @Autowired UserInfoService mUserInfoService; // this should be mocked\n    @Autowired LogicService mLogicService;  // this should be autowired by Spring\n\n    public void createMailbox() {\n        // do mething\n        System.out.println(\"test 2: \" + mUserInfoService.getData());\n    }\n\n    void setUserInfoService(UserInfoService mUserInfoService) {\n        this.mUserInfoService = mUserInfoService;\n    }\n}\n</code></pre>\n\n<p>Then, you can inject that mock in the test using the setter.</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { \"file:src/main/webapp/WEB-INF/spring/root-context.xml\" })\npublic class CreateMailboxServiceMockTest {\n\n    @Mock\n    UserInfoService mUserInfoService;\n\n    CreateMailboxService mCreateMailboxService;\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n        mCreateMailboxService = new CreateMailboxService();\n        mCreateMailboxService.setUserInfoService(mUserInfoService);\n    }\n\n    ...\n}\n</code></pre>\n\n<p>This way you can avoid problems with <code>@InjectMocks</code> and Spring annotations.</p>\n"},{"tags":[],"owner":{"account_id":2291948,"reputation":326,"user_id":2014477,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1594288539,"creation_date":1550608789,"answer_id":54774560,"question_id":41584454,"body_markdown":"For those who stumbles on this thread and are running with JUnit 5 you need to replace\r\n`@RunWith(SpringJUnit4ClassRunner.class)` \r\n\r\nwith \r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @RunWith(JUnitPlatform.class)\r\n\r\nFurther reading [here][1]. Unfortunately there is no hint when executing the test cases with JUnit 5 using the old annotation.\r\n\r\n  [1]: https://www.baeldung.com/mockito-junit-5-extension","title":"Injecting mocks with Mockito does not work","body":"<p>For those who stumbles on this thread and are running with JUnit 5 you need to replace\n<code>@RunWith(SpringJUnit4ClassRunner.class)</code></p>\n<p>with</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@RunWith(JUnitPlatform.class)\n</code></pre>\n<p>Further reading <a href=\"https://www.baeldung.com/mockito-junit-5-extension\" rel=\"noreferrer\">here</a>. Unfortunately there is no hint when executing the test cases with JUnit 5 using the old annotation.</p>\n"},{"comments":[{"owner":{"account_id":9292714,"reputation":172,"user_id":6900675,"display_name":"Mark Brown"},"score":0,"creation_date":1641931464,"post_id":59724641,"comment_id":124935999,"body_markdown":"This fixed it for me.  Thank you!  It&#39;s funny that I have other tests that are using **@Mock and @InjectMocks** in a different unit test class that works, but it wouldn&#39;t work in this new test class of mine until I made this switch.","body":"This fixed it for me.  Thank you!  It&#39;s funny that I have other tests that are using <b>@Mock and @InjectMocks</b> in a different unit test class that works, but it wouldn&#39;t work in this new test class of mine until I made this switch."}],"tags":[],"owner":{"account_id":6006149,"reputation":61,"user_id":4718020,"display_name":"Derek Nash"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1578952066,"creation_date":1578952066,"answer_id":59724641,"question_id":41584454,"body_markdown":"If you are trying to use the @Mock annotation for a test that relies directly on Spring injection, you may need to replace **@Mock** with **@MockBean @Inject** (both annotations), and **@InjectMocks** with **@Inject**. Using your example:\r\n\r\n    @MockBean\r\n    @Inject\r\n    UserInfoService mUserInfoService;\r\n\r\n    @Inject\r\n    CreateMailboxService mCreateMailboxService;\r\n","title":"Injecting mocks with Mockito does not work","body":"<p>If you are trying to use the @Mock annotation for a test that relies directly on Spring injection, you may need to replace <strong>@Mock</strong> with <strong>@MockBean @Inject</strong> (both annotations), and <strong>@InjectMocks</strong> with <strong>@Inject</strong>. Using your example:</p>\n\n<pre><code>@MockBean\n@Inject\nUserInfoService mUserInfoService;\n\n@Inject\nCreateMailboxService mCreateMailboxService;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7916982,"reputation":313,"user_id":5979115,"display_name":"Stefano Scarpanti"},"score":0,"creation_date":1646319225,"post_id":61928576,"comment_id":126097835,"body_markdown":"Also with Junit 4.13.1","body":"Also with Junit 4.13.1"}],"tags":[],"owner":{"account_id":14456773,"reputation":440,"user_id":10442757,"display_name":"Raj Shukla"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1594288691,"creation_date":1590042523,"answer_id":61928576,"question_id":41584454,"body_markdown":"For those who are running with **JUnit 5** you need to replace the `@RunWith(SpringJUnit4ClassRunner.class)` with  `@ExtendWith(MockitoExtension.class)`.\r\n\r\nFor further reading take a look [here][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-junit-5-extension","title":"Injecting mocks with Mockito does not work","body":"<p>For those who are running with <strong>JUnit 5</strong> you need to replace the <code>@RunWith(SpringJUnit4ClassRunner.class)</code> with  <code>@ExtendWith(MockitoExtension.class)</code>.</p>\n<p>For further reading take a look <a href=\"https://www.baeldung.com/mockito-junit-5-extension\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":8805234,"reputation":703,"user_id":6580142,"accept_rate":75,"display_name":"David Liao"},"score":1,"creation_date":1656441999,"post_id":62035672,"comment_id":128571966,"body_markdown":"This was it for me! Also can&#39;t use `static` either","body":"This was it for me! Also can&#39;t use <code>static</code> either"},{"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"score":1,"creation_date":1671644484,"post_id":62035672,"comment_id":132145001,"body_markdown":"Yeah, you saved my time. The same case: i had repository as a final field in Service. Just trying to find out why mockito does not support injecting of final fields","body":"Yeah, you saved my time. The same case: i had repository as a final field in Service. Just trying to find out why mockito does not support injecting of final fields"},{"owner":{"account_id":14965942,"reputation":457,"user_id":10804175,"display_name":"VC2019"},"score":1,"creation_date":1694113424,"post_id":62035672,"comment_id":135852235,"body_markdown":"Exact same with me, removing the final in the Impl class resolved it. This was a lifesaver after spending lot of time trying to figure out! Thanks a lot !","body":"Exact same with me, removing the final in the Impl class resolved it. This was a lifesaver after spending lot of time trying to figure out! Thanks a lot !"}],"tags":[],"owner":{"account_id":2923529,"reputation":309,"user_id":2784821,"display_name":"Seba Cervantes"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1590554934,"creation_date":1590554934,"answer_id":62035672,"question_id":41584454,"body_markdown":"I had a pretty similar situation. I am writing it down just in case any reader is going through the same. In my case I found that the problem was that I was setting my injected variable as `final` in the local class.\r\n\r\nFollowing your example, I had things like this: \r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;file:src/main/webapp/WEB-INF/spring/root-context.xml&quot; })\r\n    public class CreateMailboxServiceMockTest {\r\n\r\n        @Mock\r\n        UserInfoService mUserInfoService;\r\n\r\n        @InjectMocks\r\n        CreateMailboxService mCreateMailboxService = new CreateMailboxService(mUserInfoService);\r\n\r\n        @Before\r\n        public void setup() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n\r\n        @Test\r\n        public void deleteWithPermission() {\r\n            ...\r\n        }\r\n    }\r\n\r\n\r\nBut in this class I had it like this:\r\n\r\n    @Service\r\n    public class CreateMailboxService {   \r\n        \r\n        private final UserInfoService mUserInfoService; // it is NOT injecting Mocks just because it is final! (all ok with private)\r\n\r\n         \r\n        private final LogicService mLogicService;  // it is NOT injecting Mocks just because it is final! (all ok with private)\r\n\r\n        @Autowired\r\n        public CreateMailboxService(UserInfoService mUserInfoService, LogicService mLogicService) {\r\n            this.mUserInfoService = mUserInfoService;\r\n            this.mLogicService = mLogicService;\r\n        }\r\n\r\n        public void createMailbox() {\r\n            ...\r\n        }\r\n\r\n    }\r\n\r\nJust deleting the `final` condition, `@InjectMocks` problem was solved.","title":"Injecting mocks with Mockito does not work","body":"<p>I had a pretty similar situation. I am writing it down just in case any reader is going through the same. In my case I found that the problem was that I was setting my injected variable as <code>final</code> in the local class.</p>\n\n<p>Following your example, I had things like this: </p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { \"file:src/main/webapp/WEB-INF/spring/root-context.xml\" })\npublic class CreateMailboxServiceMockTest {\n\n    @Mock\n    UserInfoService mUserInfoService;\n\n    @InjectMocks\n    CreateMailboxService mCreateMailboxService = new CreateMailboxService(mUserInfoService);\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void deleteWithPermission() {\n        ...\n    }\n}\n</code></pre>\n\n<p>But in this class I had it like this:</p>\n\n<pre><code>@Service\npublic class CreateMailboxService {   \n\n    private final UserInfoService mUserInfoService; // it is NOT injecting Mocks just because it is final! (all ok with private)\n\n\n    private final LogicService mLogicService;  // it is NOT injecting Mocks just because it is final! (all ok with private)\n\n    @Autowired\n    public CreateMailboxService(UserInfoService mUserInfoService, LogicService mLogicService) {\n        this.mUserInfoService = mUserInfoService;\n        this.mLogicService = mLogicService;\n    }\n\n    public void createMailbox() {\n        ...\n    }\n\n}\n</code></pre>\n\n<p>Just deleting the <code>final</code> condition, <code>@InjectMocks</code> problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1628076706,"creation_date":1610365298,"answer_id":65666230,"question_id":41584454,"body_markdown":"In my case, I had a similar issue when I worked with JUnit5\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyServiceTest {\r\n    ...\r\n    \r\n    @InjectMocks\r\n    MyService underTest;\r\n\r\n    @Test\r\n    void myMethodTest() {\r\n    ...\r\n    }\r\n\r\n`underTest` was null.\r\nThe cause of the problem was that I used `@Test` from JUnit4 package `import org.junit.Test;` instead JUnit5 `import org.junit.jupiter.api.Test;`","title":"Injecting mocks with Mockito does not work","body":"<p>In my case, I had a similar issue when I worked with JUnit5</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyServiceTest {\n...\n\n@InjectMocks\nMyService underTest;\n\n@Test\nvoid myMethodTest() {\n...\n}\n</code></pre>\n<p><code>underTest</code> was null.\nThe cause of the problem was that I used <code>@Test</code> from JUnit4 package <code>import org.junit.Test;</code> instead JUnit5 <code>import org.junit.jupiter.api.Test;</code></p>\n"},{"tags":[],"owner":{"account_id":13471718,"reputation":563,"user_id":9719998,"display_name":"Rajshree Rai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655908006,"creation_date":1620819272,"answer_id":67502843,"question_id":41584454,"body_markdown":"You can use MockitoJUnitRunner to mock in unit tests.\r\nUse @Mock annotations over classes whose behavior you want to mock.\r\nUse @InjectMocks over the class you are testing.\r\nIts a bad practice to use new and initialize classes (better to go for dependency injection) or to introduce setters for your injections. Using setter injection to set dependencies only for tests is wrong as production code should never be altered for tests.\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class CreateMailboxServiceMockTest {\r\n\r\n    @Mock\r\n    UserInfoService mUserInfoService;\r\n\r\n    @InjectMocks\r\n    CreateMailboxService mCreateMailboxService;\r\n\r\n    @Before\r\n    public void setup() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n    ...\r\n}\r\n```","title":"Injecting mocks with Mockito does not work","body":"<p>You can use MockitoJUnitRunner to mock in unit tests.\nUse @Mock annotations over classes whose behavior you want to mock.\nUse @InjectMocks over the class you are testing.\nIts a bad practice to use new and initialize classes (better to go for dependency injection) or to introduce setters for your injections. Using setter injection to set dependencies only for tests is wrong as production code should never be altered for tests.</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class CreateMailboxServiceMockTest {\n\n    @Mock\n    UserInfoService mUserInfoService;\n\n    @InjectMocks\n    CreateMailboxService mCreateMailboxService;\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":930786,"reputation":177,"user_id":960707,"display_name":"Victor Tsai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55021,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":41603773,"answer_count":8,"score":16,"last_activity_date":1670863247,"creation_date":1484117403,"question_id":41584454,"body_markdown":"I&#39;m using Mockito to test my Spring project, but the `@InjectMocks` seems not working in injecting a mocked service into another Spring service(bean).\r\n\r\nHere is my Spring service that I want to test:\r\n\r\n    @Service\r\n    public class CreateMailboxService {   \r\n        @Autowired UserInfoService mUserInfoService; // this should be mocked\r\n        @Autowired LogicService mLogicService;  // this should be autowired by Spring\r\n\r\n        public void createMailbox() {\r\n            // do mething\r\n            System.out.println(&quot;test 2: &quot; + mUserInfoService.getData());\r\n        }\r\n\r\n    }\r\n\r\nAnd below is the service that I want to mock:\r\n\r\n    @Service\r\n    public class UserInfoService {\r\n        public String getData() {\r\n            return &quot;original text&quot;;\r\n        }\r\n    }\r\n\r\n\r\nMy test code is here:\r\n\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;file:src/main/webapp/WEB-INF/spring/root-context.xml&quot; })\r\n    public class CreateMailboxServiceMockTest {\r\n\r\n        @Mock\r\n        UserInfoService mUserInfoService;\r\n\r\n        @InjectMocks\r\n        @Autowired\r\n        CreateMailboxService mCreateMailboxService;\r\n \r\n        @Before\r\n        public void setup() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n    \r\n        @Test\r\n        public void deleteWithPermission() {\r\n    \t    when(mUserInfoService.getData()).thenReturn(&quot;mocked text&quot;);\r\n    \t\r\n    \t    System.out.println(&quot;test 1: &quot; + mUserInfoService.getData());\r\n    \t\r\n    \t    mCreateMailboxService.createMailbox();\r\n        }\r\n    }\r\n\r\nbut the result would like \r\n\r\n    test 1: mocked text\r\n    test 2: original text  // I want this be &quot;mocked text&quot;, too\r\n\r\n\r\nit seems that the *CreateMailboxService* didn&#39;t get the mocked *UserInfoService* but using Spring&#39;s autowired bean.\r\nWhy is my `@InjectMocks` not working?\r\n","title":"Injecting mocks with Mockito does not work","body":"<p>I'm using Mockito to test my Spring project, but the <code>@InjectMocks</code> seems not working in injecting a mocked service into another Spring service(bean).</p>\n<p>Here is my Spring service that I want to test:</p>\n<pre><code>@Service\npublic class CreateMailboxService {   \n    @Autowired UserInfoService mUserInfoService; // this should be mocked\n    @Autowired LogicService mLogicService;  // this should be autowired by Spring\n\n    public void createMailbox() {\n        // do mething\n        System.out.println(&quot;test 2: &quot; + mUserInfoService.getData());\n    }\n\n}\n</code></pre>\n<p>And below is the service that I want to mock:</p>\n<pre><code>@Service\npublic class UserInfoService {\n    public String getData() {\n        return &quot;original text&quot;;\n    }\n}\n</code></pre>\n<p>My test code is here:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { &quot;file:src/main/webapp/WEB-INF/spring/root-context.xml&quot; })\npublic class CreateMailboxServiceMockTest {\n\n    @Mock\n    UserInfoService mUserInfoService;\n\n    @InjectMocks\n    @Autowired\n    CreateMailboxService mCreateMailboxService;\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void deleteWithPermission() {\n        when(mUserInfoService.getData()).thenReturn(&quot;mocked text&quot;);\n    \n        System.out.println(&quot;test 1: &quot; + mUserInfoService.getData());\n    \n        mCreateMailboxService.createMailbox();\n    }\n}\n</code></pre>\n<p>but the result would like</p>\n<pre><code>test 1: mocked text\ntest 2: original text  // I want this be &quot;mocked text&quot;, too\n</code></pre>\n<p>it seems that the <em>CreateMailboxService</em> didn't get the mocked <em>UserInfoService</em> but using Spring's autowired bean.\nWhy is my <code>@InjectMocks</code> not working?</p>\n"},{"tags":["java","intellij-idea","plugins","intellij-plugin"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1670864162,"post_id":74774351,"comment_id":131966661,"body_markdown":"https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development would be the best place to ask plug-in development questions.","body":"<a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/topics/&hellip;</a> would be the best place to ask plug-in development questions."}],"owner":{"account_id":20955267,"reputation":63,"user_id":15395946,"display_name":"emerick biron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670863044,"creation_date":1670863044,"question_id":74774351,"body_markdown":"I am developing an intellij plugin which is in fact an icon pack.\r\nI would like to make sure that when folders are opened, their icons change and the same when we close them.\r\nHow can I achieve this?\r\nIs there a Listener class that would do what I want?\r\n\r\nAs an example on the picture: \r\n\r\n1 and 3 are open folders =&gt; put icon folder open.\r\n\r\n2 folder close =&gt; leave icon folder closed\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThanks in advance.\r\nRicko\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eNC7q.png","title":"Intellij plugin, directory open listener","body":"<p>I am developing an intellij plugin which is in fact an icon pack.\nI would like to make sure that when folders are opened, their icons change and the same when we close them.\nHow can I achieve this?\nIs there a Listener class that would do what I want?</p>\n<p>As an example on the picture:</p>\n<p>1 and 3 are open folders =&gt; put icon folder open.</p>\n<p>2 folder close =&gt; leave icon folder closed</p>\n<p><a href=\"https://i.stack.imgur.com/eNC7q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eNC7q.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks in advance.\nRicko</p>\n"},{"tags":["java","spring","cucumber-java"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1486637790,"post_id":42134750,"comment_id":71435925,"body_markdown":"Create a configuration without `@EnableAsync`.","body":"Create a configuration without <code>@EnableAsync</code>."},{"owner":{"display_name":"user7539762"},"score":0,"creation_date":1486637970,"post_id":42134750,"comment_id":71436031,"body_markdown":"I cant. Is a project from job and should remain with @EnableAsync","body":"I cant. Is a project from job and should remain with @EnableAsync"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1486638323,"post_id":42134750,"comment_id":71436236,"body_markdown":"You can... Create a test configuration or simply override the task executor with a `SyncTaskExecutor`.","body":"You can... Create a test configuration or simply override the task executor with a <code>SyncTaskExecutor</code>."}],"answers":[{"tags":[],"owner":{"account_id":4395937,"reputation":2784,"user_id":3582996,"accept_rate":100,"display_name":"Mohamed Ibrahim Elsayed"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1542503819,"creation_date":1542503819,"answer_id":53357076,"question_id":42134750,"body_markdown":"Create your async configuration class:\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    @ConditionalOnProperty(name = &quot;async.enabled&quot;, havingValue = &quot;true&quot;)\r\n    public class SpringAsyncConfig {\r\n    \t// Your configuration here\r\n    }\r\n\r\nthe annotation `@ConditionalOnProperty` here will create this bean if only the configuration value `async.enabled` is `true`\r\n\r\nThen in the configuration file if you are going to run the integration test you can set the value to false\r\n\r\n`async.enabled = false`\r\n\r\nor if you are using Spring profiles you can always set the value to `true` in other profiles configuration files like `application.properties`, `application-dev` and set to `false` in `application-integration.properties`","title":"Is it possible to disable Spring&#39;s @Async during integration test?","body":"<p>Create your async configuration class:</p>\n\n<pre><code>@Configuration\n@EnableAsync\n@ConditionalOnProperty(name = \"async.enabled\", havingValue = \"true\")\npublic class SpringAsyncConfig {\n    // Your configuration here\n}\n</code></pre>\n\n<p>the annotation <code>@ConditionalOnProperty</code> here will create this bean if only the configuration value <code>async.enabled</code> is <code>true</code></p>\n\n<p>Then in the configuration file if you are going to run the integration test you can set the value to false</p>\n\n<p><code>async.enabled = false</code></p>\n\n<p>or if you are using Spring profiles you can always set the value to <code>true</code> in other profiles configuration files like <code>application.properties</code>, <code>application-dev</code> and set to <code>false</code> in <code>application-integration.properties</code></p>\n"}],"owner":{"display_name":"user7539762"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5138,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1670862529,"creation_date":1486637585,"question_id":42134750,"body_markdown":"I have a method annotated with @Async say\r\n\r\n*@Async \r\npublic void createArticles(long Id){}*\r\n\r\nbut I&#39;m just trying to a cucumber test of that method. Is it possible to test it synchronously?","title":"Is it possible to disable Spring&#39;s @Async during integration test?","body":"<p>I have a method annotated with @Async say</p>\n\n<p><em>@Async \npublic void createArticles(long Id){}</em></p>\n\n<p>but I'm just trying to a cucumber test of that method. Is it possible to test it synchronously?</p>\n"},{"tags":["java","intellij-idea","indentation"],"comments":[{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":0,"creation_date":1670323096,"post_id":74693293,"comment_id":131844578,"body_markdown":"You can refer to this spec https://www.jetbrains.com/help/idea/code-style-java.html#wrapping_and_braces_tab and check options in &#39;Preferences | Editor | Code Style | Java | Wrapping and Braces&#39;, especially &quot;Chained method calls&quot;","body":"You can refer to this spec <a href=\"https://www.jetbrains.com/help/idea/code-style-java.html#wrapping_and_braces_tab\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a> and check options in &#39;Preferences | Editor | Code Style | Java | Wrapping and Braces&#39;, especially &quot;Chained method calls&quot;"}],"answers":[{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670861804,"creation_date":1670861804,"answer_id":74774108,"question_id":74693293,"body_markdown":"From the comments: You can setup this behaviour in the IntelliJ-settings.  \r\nIt is under `Preferences | Editor | Code Style | Java` in the tab `Wrapping and braces` and it is called `Chained method calls`.\r\n\r\nBut be aware: Sometimes you might dislike this. In your example, you want that `List.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;).stream()` is in one line. But it is a chained method call and IntelliJ do this:\r\n```java\r\nList.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;)\r\n    .stream()\r\n    .filter(Objects::nonNull)\r\n    .filter(s -&gt; s.length() &gt; 1)\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nIf want you that setting, then it is properly a good idea to put it into a [EditorConfig](https://www.jetbrains.com/help/idea/editorconfig.html).  \r\n\r\n### .editorconfig\r\n```properties\r\n[*.java]\r\nij_java_method_call_chain_wrap = always\r\n```","title":"Intellij 2022.2.3 : Indent Java Lambok and Stream Code","body":"<p>From the comments: You can setup this behaviour in the IntelliJ-settings.<br />\nIt is under <code>Preferences | Editor | Code Style | Java</code> in the tab <code>Wrapping and braces</code> and it is called <code>Chained method calls</code>.</p>\n<p>But be aware: Sometimes you might dislike this. In your example, you want that <code>List.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;).stream()</code> is in one line. But it is a chained method call and IntelliJ do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;)\n    .stream()\n    .filter(Objects::nonNull)\n    .filter(s -&gt; s.length() &gt; 1)\n    .collect(Collectors.toList());\n</code></pre>\n<p>If want you that setting, then it is properly a good idea to put it into a <a href=\"https://www.jetbrains.com/help/idea/editorconfig.html\" rel=\"nofollow noreferrer\">EditorConfig</a>.</p>\n<h3>.editorconfig</h3>\n<pre><code>[*.java]\nij_java_method_call_chain_wrap = always\n</code></pre>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1670861804,"creation_date":1670267815,"question_id":74693293,"body_markdown":"\r\n\t\tTestDTO.builder().date(Date.from(Instant.now())).productName(&quot;product &quot; + i).total(new BigDecimal(i)).purchaseType(1).sourceAppId(&quot;sourceAppId&quot; + i).numberOfLicense(i).build();\r\n\tList.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;).stream().filter(Objects::nonNull).filter(s -&gt; s.length() &gt; 1).collect(Collectors.toList());\r\n\r\nAbove is my Java in which am trying to indent it to have each method in a new line as below, I&#39;m wondering if this is doable with IntelliJ Java code format config changes or not? I tried ctrl+shift+L and its not doing what I expected\r\n\r\n\tTestDTO.builder()\r\n\t\t\t  .date(Date.from(Instant.now()))\r\n\t\t\t  .productName(&quot;product &quot; + i)\r\n\t\t\t  .total(new BigDecimal(i)).purchaseType(1)\r\n\t\t\t  .sourceAppId(&quot;sourceAppId&quot; + i)\r\n\t\t\t  .numberOfLicense(i)\r\n\t\t\t  .build();\r\n\tList.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;).stream()\r\n                .filter(Objects::nonNull)\r\n                .filter(s -&gt; s.length() &gt; 1)\r\n                .collect(Collectors.toList());","title":"Intellij 2022.2.3 : Indent Java Lambok and Stream Code","body":"<pre><code>    TestDTO.builder().date(Date.from(Instant.now())).productName(&quot;product &quot; + i).total(new BigDecimal(i)).purchaseType(1).sourceAppId(&quot;sourceAppId&quot; + i).numberOfLicense(i).build();\nList.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;).stream().filter(Objects::nonNull).filter(s -&gt; s.length() &gt; 1).collect(Collectors.toList());\n</code></pre>\n<p>Above is my Java in which am trying to indent it to have each method in a new line as below, I'm wondering if this is doable with IntelliJ Java code format config changes or not? I tried ctrl+shift+L and its not doing what I expected</p>\n<pre><code>TestDTO.builder()\n          .date(Date.from(Instant.now()))\n          .productName(&quot;product &quot; + i)\n          .total(new BigDecimal(i)).purchaseType(1)\n          .sourceAppId(&quot;sourceAppId&quot; + i)\n          .numberOfLicense(i)\n          .build();\nList.of(&quot;a&quot;, &quot;bb&quot;, &quot;cccc&quot;).stream()\n            .filter(Objects::nonNull)\n            .filter(s -&gt; s.length() &gt; 1)\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","spring-boot","nullpointerexception"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1670849665,"post_id":74768449,"comment_id":131961186,"body_markdown":"It seems your request `&quot;http://localhost:1080/ratingdata/users&quot; + userId` is not an object but its list. Can you please provide the output of the above request? It&#39;s not able to convert your JSON to your class. So the value is null.","body":"It seems your request <code>&quot;http:&#47;&#47;localhost:1080&#47;ratingdata&#47;users&quot; + userId</code> is not an object but its list. Can you please provide the output of the above request? It&#39;s not able to convert your JSON to your class. So the value is null."},{"owner":{"account_id":18141701,"reputation":111,"user_id":13195502,"display_name":"sandeep seervi"},"score":0,"creation_date":1670856254,"post_id":74768449,"comment_id":131963583,"body_markdown":"@DhavalGajjar so here is the output i am getting for this URL-&gt;&quot;http://localhost:1080/ratingdata/users&quot; + userId\n{&quot;userRating&quot;:[{&quot;movieId&quot;:&quot;1234&quot;,&quot;rating&quot;:4},{&quot;movieId&quot;:&quot;5678&quot;,&quot;rating&quot;:3}]}","body":"@DhavalGajjar so here is the output i am getting for this URL-&gt;&quot;<a href=\"http://localhost:1080/ratingdata/users\" rel=\"nofollow noreferrer\">localhost:1080/ratingdata/users</a>&quot; + userId {&quot;userRating&quot;:[{&quot;movieId&quot;:&quot;1234&quot;,&quot;rating&quot;:4},{&quot;movieId&quot;:&quot;567&zwnj;&#8203;8&quot;,&quot;rating&quot;:3}]}"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1670861556,"post_id":74768449,"comment_id":131965704,"body_markdown":"I don&#39;t think that for user ID 1 the call to http://localhost:1080/ratingdata/users1 will return the correct answer - probably you are missing a `/` after the &quot;...users&quot; at the end of the string literal?","body":"I don&#39;t think that for user ID 1 the call to <a href=\"http://localhost:1080/ratingdata/users1\" rel=\"nofollow noreferrer\">localhost:1080/ratingdata/users1</a> will return the correct answer - probably you are missing a <code>&#47;</code> after the &quot;...users&quot; at the end of the string literal?"},{"owner":{"account_id":18141701,"reputation":111,"user_id":13195502,"display_name":"sandeep seervi"},"score":0,"creation_date":1672919287,"post_id":74768449,"comment_id":132383617,"body_markdown":"i am still getting an error","body":"i am still getting an error"}],"owner":{"account_id":18141701,"reputation":111,"user_id":13195502,"display_name":"sandeep seervi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670861302,"creation_date":1670833915,"question_id":74768449,"body_markdown":"When iI&#39;m trying to make a rest call on another service it says nullpointer exception even though I&#39;ve added an empty constructor in the Rating.class even though it says the same\r\n\r\n**java.lang.NullPointerException: Cannot invoke &quot;java.util.List.stream()&quot; because the return value of &quot;com.microservice.model.UserRating.getUserRating()&quot; is null**\r\n\r\n\r\nI followed below tutorial \r\n[https://www.youtube.com/watch?v=Dmvhe2cw-_k&amp;list=PLqq-6Pq4lTTZSKAFG6aCDVDP86Qx4lNas&amp;index=15&amp;ab_channel=JavaBrains]\r\n\r\nplease find the below code \r\n```\r\n\r\npackage com.microservice;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\n@SpringBootApplication\r\npublic class MovieCatalogsServicesApplication {\r\n\r\n\t@Bean\r\n\tpublic RestTemplate getRestTemplate() {\r\n\t\treturn new RestTemplate();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MovieCatalogsServicesApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nController class\r\n\r\n```\r\npackage com.microservice.resources;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport com.microservice.model.CatalogItem;\r\nimport com.microservice.model.Movie;\r\nimport com.microservice.model.Rating;\r\nimport com.microservice.model.UserRating;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/catalog&quot;)\r\npublic class MovieCatalogResource {\r\n\r\n\t@Autowired\r\n\tprivate RestTemplate restTemplate;\r\n\r\n\t@RequestMapping(&quot;/{UserId}&quot;)\r\n\tpublic List&lt;CatalogItem&gt; getCatalog(@PathVariable(&quot;UserId&quot;) String UserId) {\r\n\r\n\t\t//RestTemplate restTemplate = new RestTemplate();\r\n\r\n\t\tUserRating ratings = restTemplate.getForObject(&quot;http://localhost:1080/ratingdata/users&quot; + UserId,\r\n\t\t\t\tUserRating.class);\r\n\r\n\t\treturn ratings.getUserRating().stream().map(rating -&gt; {\r\n\t\t\tMovie movie = restTemplate.getForObject(&quot;http://localhost:9080/movies/&quot; + rating.getMovieId(), Movie.class);\r\n\t\t\treturn new CatalogItem(movie.getName(), &quot;Suspense&quot;, rating.getRating());\r\n\t\t}).collect(Collectors.toList());\r\n\t}\r\n}\r\n\r\n```\r\nModel class\r\n\r\n```\r\npackage com.microservice.model;\r\n\r\npublic class CatalogItem {\r\n\r\n\tprivate String name;\r\n\tprivate String desc;\r\n\tprivate int rating;\r\n\t\r\n\tpublic CatalogItem(String name, String desc, int rating) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t\tthis.desc = desc;\r\n\t\tthis.rating = rating;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getDesc() {\r\n\t\treturn desc;\r\n\t}\r\n\tpublic void setDesc(String desc) {\r\n\t\tthis.desc = desc;\r\n\t}\r\n\tpublic int getRating() {\r\n\t\treturn rating;\r\n\t}\r\n\tpublic void setRating(int rating) {\r\n\t\tthis.rating = rating;\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.microservice.model;\r\n\r\npublic class Movie {\r\n\r\n\tprivate String movieId;\r\n\tprivate String name;\r\n\r\n\t\r\n\tpublic Movie() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic Movie(String movieId, String name) {\r\n\t\tsuper();\r\n\t\tthis.movieId = movieId;\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getMovieId() {\r\n\t\treturn movieId;\r\n\t}\r\n\r\n\tpublic void setMovieId(String movieId) {\r\n\t\tthis.movieId = movieId;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.microservice.model;\r\n\r\npublic class Rating {\r\n\r\n\tprivate String movieId;\r\n\tprivate int rating;\r\n\r\n\tpublic Rating() {\r\n\t}\r\n\r\n\tpublic Rating(String movieId, int rating) {\r\n\t\tthis.movieId = movieId;\r\n\t\tthis.rating = rating;\r\n\t}\r\n\r\n\tpublic String getMovieId() {\r\n\t\treturn movieId;\r\n\t}\r\n\r\n\tpublic void setMovieId(String movieId) {\r\n\t\tthis.movieId = movieId;\r\n\t}\r\n\r\n\tpublic int getRating() {\r\n\t\treturn rating;\r\n\t}\r\n\r\n\tpublic void setRating(int rating) {\r\n\t\tthis.rating = rating;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.microservice.model;\r\n\r\nimport java.util.List;\r\n//mcs\r\npublic class UserRating {\r\n\r\n\tprivate List&lt;Rating&gt; userRating;\r\n\r\n\tpublic List&lt;Rating&gt; getUserRating() {\r\n\t\treturn userRating;\r\n\t}\r\n\r\n\tpublic void setUserRating(List&lt;Rating&gt; userRating) {\r\n\t\tthis.userRating = userRating;\r\n\t}\r\n\r\n}\r\n```\r\n \r\n\r\nI tried to hit URL - &gt; http://localhost:8080/catalog/foo and the expected result was [{&quot;name&quot;:&quot;Test&quot;,&quot;desc&quot;:&quot;TestDesc&quot;,&quot;rating&quot;:4},{&quot;name&quot;:&quot;Test&quot;,&quot;desc&quot;:&quot;TestDesc&quot;,&quot;rating&quot;:3}]\r\nBut actually resulted into \r\n&gt; Whitelabel Error Page\r\n&gt; This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n&gt; \r\n&gt; Mon Dec 12 13:33:17 IST 2022\r\n&gt; There was an unexpected error (type=Internal Server Error, status=500).\r\n\r\nError below\r\n`\r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n[32m :: Spring Boot :: [39m     [2m (v2.7.7-SNAPSHOT)[0;39m\r\n\r\n[2m2022-12-12 13:33:08.931[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.m.MovieCatalogsServicesApplication    [0;39m [2m:[0;39m Starting MovieCatalogsServicesApplication using Java 16.0.2 on MKW58ZLPC0034 with PID 21932 (C:\\Users\\st57540\\Documents\\workspace-spring-tool-suite-4-4.12.0.RELEASE\\microserviceworkspace\\movie-catalogs-services\\target\\classes started by ST57540 in C:\\Users\\st57540\\Documents\\workspace-spring-tool-suite-4-4.12.0.RELEASE\\microserviceworkspace\\movie-catalogs-services)\r\n[2m2022-12-12 13:33:08.934[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.m.MovieCatalogsServicesApplication    [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n[2m2022-12-12 13:33:09.827[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\r\n[2m2022-12-12 13:33:09.837[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\r\n[2m2022-12-12 13:33:09.837[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.apache.catalina.core.StandardEngine [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/9.0.69]\r\n[2m2022-12-12 13:33:09.991[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\r\n[2m2022-12-12 13:33:09.991[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 1001 ms\r\n[2m2022-12-12 13:33:10.373[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n[2m2022-12-12 13:33:10.384[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.m.MovieCatalogsServicesApplication    [0;39m [2m:[0;39m Started MovieCatalogsServicesApplication in 1.845 seconds (JVM running for 2.967)\r\n[2m2022-12-12 13:33:16.888[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n[2m2022-12-12 13:33:16.889[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n[2m2022-12-12 13:33:16.889[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 0 ms\r\n[2m2022-12-12 13:33:17.048[0;39m [31mERROR[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.util.List.stream()&quot; because the return value of &quot;com.microservice.model.UserRating.getUserRating()&quot; is null] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;java.util.List.stream()&quot; because the return value of &quot;com.microservice.model.UserRating.getUserRating()&quot; is null\r\n\tat com.microservice.resources.MovieCatalogResource.getCatalog(MovieCatalogResource.java:34) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.69.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.24.jar:5.3.24]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.69.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n\tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n\r\n```\r\n`","title":"When i make a rest call between the services i get a Exception says Cannot invoke &quot;java.util.List.stream()&quot; because the return value is null","body":"<p>When iI'm trying to make a rest call on another service it says nullpointer exception even though I've added an empty constructor in the Rating.class even though it says the same</p>\n<p><strong>java.lang.NullPointerException: Cannot invoke &quot;java.util.List.stream()&quot; because the return value of &quot;com.microservice.model.UserRating.getUserRating()&quot; is null</strong></p>\n<p>I followed below tutorial\n[https://www.youtube.com/watch?v=Dmvhe2cw-_k&amp;list=PLqq-6Pq4lTTZSKAFG6aCDVDP86Qx4lNas&amp;index=15&amp;ab_channel=JavaBrains]</p>\n<p>please find the below code</p>\n<pre><code>\npackage com.microservice;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.client.RestTemplate;\n\n@SpringBootApplication\npublic class MovieCatalogsServicesApplication {\n\n    @Bean\n    public RestTemplate getRestTemplate() {\n        return new RestTemplate();\n        \n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(MovieCatalogsServicesApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>Controller class</p>\n<pre><code>package com.microservice.resources;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\n\nimport com.microservice.model.CatalogItem;\nimport com.microservice.model.Movie;\nimport com.microservice.model.Rating;\nimport com.microservice.model.UserRating;\n\n@RestController\n@RequestMapping(&quot;/catalog&quot;)\npublic class MovieCatalogResource {\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    @RequestMapping(&quot;/{UserId}&quot;)\n    public List&lt;CatalogItem&gt; getCatalog(@PathVariable(&quot;UserId&quot;) String UserId) {\n\n        //RestTemplate restTemplate = new RestTemplate();\n\n        UserRating ratings = restTemplate.getForObject(&quot;http://localhost:1080/ratingdata/users&quot; + UserId,\n                UserRating.class);\n\n        return ratings.getUserRating().stream().map(rating -&gt; {\n            Movie movie = restTemplate.getForObject(&quot;http://localhost:9080/movies/&quot; + rating.getMovieId(), Movie.class);\n            return new CatalogItem(movie.getName(), &quot;Suspense&quot;, rating.getRating());\n        }).collect(Collectors.toList());\n    }\n}\n\n</code></pre>\n<p>Model class</p>\n<pre><code>package com.microservice.model;\n\npublic class CatalogItem {\n\n    private String name;\n    private String desc;\n    private int rating;\n    \n    public CatalogItem(String name, String desc, int rating) {\n        super();\n        this.name = name;\n        this.desc = desc;\n        this.rating = rating;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getDesc() {\n        return desc;\n    }\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n    public int getRating() {\n        return rating;\n    }\n    public void setRating(int rating) {\n        this.rating = rating;\n    }\n    \n    \n}\n\n</code></pre>\n<pre><code>package com.microservice.model;\n\npublic class Movie {\n\n    private String movieId;\n    private String name;\n\n    \n    public Movie() {\n        super();\n    }\n\n    public Movie(String movieId, String name) {\n        super();\n        this.movieId = movieId;\n        this.name = name;\n    }\n\n    public String getMovieId() {\n        return movieId;\n    }\n\n    public void setMovieId(String movieId) {\n        this.movieId = movieId;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.microservice.model;\n\npublic class Rating {\n\n    private String movieId;\n    private int rating;\n\n    public Rating() {\n    }\n\n    public Rating(String movieId, int rating) {\n        this.movieId = movieId;\n        this.rating = rating;\n    }\n\n    public String getMovieId() {\n        return movieId;\n    }\n\n    public void setMovieId(String movieId) {\n        this.movieId = movieId;\n    }\n\n    public int getRating() {\n        return rating;\n    }\n\n    public void setRating(int rating) {\n        this.rating = rating;\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.microservice.model;\n\nimport java.util.List;\n//mcs\npublic class UserRating {\n\n    private List&lt;Rating&gt; userRating;\n\n    public List&lt;Rating&gt; getUserRating() {\n        return userRating;\n    }\n\n    public void setUserRating(List&lt;Rating&gt; userRating) {\n        this.userRating = userRating;\n    }\n\n}\n</code></pre>\n<p>I tried to hit URL - &gt; http://localhost:8080/catalog/foo and the expected result was [{&quot;name&quot;:&quot;Test&quot;,&quot;desc&quot;:&quot;TestDesc&quot;,&quot;rating&quot;:4},{&quot;name&quot;:&quot;Test&quot;,&quot;desc&quot;:&quot;TestDesc&quot;,&quot;rating&quot;:3}]\nBut actually resulted into</p>\n<blockquote>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Mon Dec 12 13:33:17 IST 2022\nThere was an unexpected error (type=Internal Server Error, status=500).</p>\n</blockquote>\n<p>Error below\n`</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n[32m :: Spring Boot :: [39m     [2m (v2.7.7-SNAPSHOT)[0;39m\n\n[2m2022-12-12 13:33:08.931[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.m.MovieCatalogsServicesApplication    [0;39m [2m:[0;39m Starting MovieCatalogsServicesApplication using Java 16.0.2 on MKW58ZLPC0034 with PID 21932 (C:\\Users\\st57540\\Documents\\workspace-spring-tool-suite-4-4.12.0.RELEASE\\microserviceworkspace\\movie-catalogs-services\\target\\classes started by ST57540 in C:\\Users\\st57540\\Documents\\workspace-spring-tool-suite-4-4.12.0.RELEASE\\microserviceworkspace\\movie-catalogs-services)\n[2m2022-12-12 13:33:08.934[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.m.MovieCatalogsServicesApplication    [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\n[2m2022-12-12 13:33:09.827[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\n[2m2022-12-12 13:33:09.837[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\n[2m2022-12-12 13:33:09.837[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.apache.catalina.core.StandardEngine [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/9.0.69]\n[2m2022-12-12 13:33:09.991[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\n[2m2022-12-12 13:33:09.991[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 1001 ms\n[2m2022-12-12 13:33:10.373[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 8080 (http) with context path ''\n[2m2022-12-12 13:33:10.384[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[           main][0;39m [36mc.m.MovieCatalogsServicesApplication    [0;39m [2m:[0;39m Started MovieCatalogsServicesApplication in 1.845 seconds (JVM running for 2.967)\n[2m2022-12-12 13:33:16.888[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'\n[2m2022-12-12 13:33:16.889[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[2m2022-12-12 13:33:16.889[0;39m [32m INFO[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 0 ms\n[2m2022-12-12 13:33:17.048[0;39m [31mERROR[0;39m [35m21932[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.util.List.stream()&quot; because the return value of &quot;com.microservice.model.UserRating.getUserRating()&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;java.util.List.stream()&quot; because the return value of &quot;com.microservice.model.UserRating.getUserRating()&quot; is null\n    at com.microservice.resources.MovieCatalogResource.getCatalog(MovieCatalogResource.java:34) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.69.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.24.jar:5.3.24]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.69.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\n\n</code></pre>\n<p>`</p>\n"},{"tags":["java","android","android-studio","kotlin","android-imageview"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1670859544,"post_id":74773370,"comment_id":131964919,"body_markdown":"You want `android:src` (or `app:srcCompat`) if you&#39;re setting the source for an `ImageView`","body":"You want <code>android:src</code> (or <code>app:srcCompat</code>) if you&#39;re setting the source for an <code>ImageView</code>"}],"answers":[{"tags":[],"owner":{"account_id":21336706,"reputation":72,"user_id":15707830,"display_name":"Prem Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670861252,"creation_date":1670861252,"answer_id":74773982,"question_id":74773370,"body_markdown":"In your drawable/gradient.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;!--You have to specify the shape of the gradient--&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;\r\n    &gt;\r\n    &lt;gradient\r\n        android:angle=&quot;135&quot;\r\n        android:endColor=&quot;#aaFFB5B9&quot;\r\n        android:startColor=&quot;#aaFFDEB5&quot;\r\n        /&gt;\r\n\r\n    &lt;corners android:radius=&quot;0dp&quot; /&gt;\r\n    &lt;size\r\n        android:width=&quot;120dp&quot;\r\n        android:height=&quot;120dp&quot;/&gt;\r\n&lt;/shape&gt;\r\n\r\n```\r\n\r\nIn your Imageview:\r\n\r\n```\r\n        &lt;ImageView\r\n         ...\r\n            android:src=&quot;@drawable/gradient&quot;\r\n            /&gt;\r\n\r\n```\r\n\r\nDo the same with ImageView2","title":"how to make a gradient color and set it on ImageView (android)","body":"<p>In your drawable/gradient.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!--You have to specify the shape of the gradient--&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;\n    &gt;\n    &lt;gradient\n        android:angle=&quot;135&quot;\n        android:endColor=&quot;#aaFFB5B9&quot;\n        android:startColor=&quot;#aaFFDEB5&quot;\n        /&gt;\n\n    &lt;corners android:radius=&quot;0dp&quot; /&gt;\n    &lt;size\n        android:width=&quot;120dp&quot;\n        android:height=&quot;120dp&quot;/&gt;\n&lt;/shape&gt;\n\n</code></pre>\n<p>In your Imageview:</p>\n<pre><code>        &lt;ImageView\n         ...\n            android:src=&quot;@drawable/gradient&quot;\n            /&gt;\n\n</code></pre>\n<p>Do the same with ImageView2</p>\n"}],"owner":{"account_id":14299085,"reputation":1,"user_id":10328827,"display_name":"ben"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670861252,"creation_date":1670858504,"question_id":74773370,"body_markdown":"gradient.xml:\r\n\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;oval&quot; &gt;\r\n\r\n    &lt;gradient\r\n        android:angle=&quot;135&quot;\r\n        android:endColor=&quot;#aaFFB5B9&quot;\r\n        android:startColor=&quot;#aaFFDEB5&quot;\r\n         /&gt;\r\n\r\n    &lt;corners android:radius=&quot;0dp&quot; /&gt;\r\n    &lt;size\r\n        android:width=&quot;120dp&quot;\r\n        android:height=&quot;120dp&quot;/&gt;\r\n&lt;/shape&gt;\r\n\r\ngradient2.xml:\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;oval&quot;&gt;\r\n\r\n    &lt;gradient\r\n        android:angle=&quot;135&quot;\r\n        android:startColor=&quot;#aaECB4FF&quot;\r\n        android:endColor=&quot;#aaB4CCFF&quot;\r\n         /&gt;\r\n\r\n    &lt;corners android:radius=&quot;0dp&quot; /&gt;\r\n\r\n    &lt;size\r\n        android:width=&quot;120dp&quot;\r\n        android:height=&quot;120dp&quot;/&gt;\r\n&lt;/shape&gt;\r\n\r\nImageView:\r\nandroid:foreground=&quot;@drawable/gradient&quot;\r\n\r\nImageView2:\r\nandroid:foreground=&quot;@drawable/gradient2&quot;\r\n","title":"how to make a gradient color and set it on ImageView (android)","body":"<p>gradient.xml:</p>\n<p></p>\n<pre><code>&lt;gradient\n    android:angle=&quot;135&quot;\n    android:endColor=&quot;#aaFFB5B9&quot;\n    android:startColor=&quot;#aaFFDEB5&quot;\n     /&gt;\n\n&lt;corners android:radius=&quot;0dp&quot; /&gt;\n&lt;size\n    android:width=&quot;120dp&quot;\n    android:height=&quot;120dp&quot;/&gt;\n</code></pre>\n\n<p>gradient2.xml:\n</p>\n<pre><code>&lt;gradient\n    android:angle=&quot;135&quot;\n    android:startColor=&quot;#aaECB4FF&quot;\n    android:endColor=&quot;#aaB4CCFF&quot;\n     /&gt;\n\n&lt;corners android:radius=&quot;0dp&quot; /&gt;\n\n&lt;size\n    android:width=&quot;120dp&quot;\n    android:height=&quot;120dp&quot;/&gt;\n</code></pre>\n\n<p>ImageView:\nandroid:foreground=&quot;@drawable/gradient&quot;</p>\n<p>ImageView2:\nandroid:foreground=&quot;@drawable/gradient2&quot;</p>\n"},{"tags":["java","amazon-ec2","centos7","dropwizard","amazon-linux"],"comments":[{"owner":{"account_id":6157899,"reputation":19810,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1670409262,"post_id":74683729,"comment_id":131868303,"body_markdown":"Is this seg fault constant? If so, can you run it locally and see if it still happens?","body":"Is this seg fault constant? If so, can you run it locally and see if it still happens?"},{"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"score":0,"creation_date":1670503321,"post_id":74683729,"comment_id":131892973,"body_markdown":"This happens when it&#39;s deployed to AWS. Not happening on local.","body":"This happens when it&#39;s deployed to AWS. Not happening on local."},{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":1,"creation_date":1670571996,"post_id":74683729,"comment_id":131909455,"body_markdown":"which instance type do you use? It could be some architecture limitation on specific instance type","body":"which instance type do you use? It could be some architecture limitation on specific instance type"},{"owner":{"account_id":6157899,"reputation":19810,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1670852591,"post_id":74683729,"comment_id":131962197,"body_markdown":"The JVM is for linux-amd64 - just to double check, you&#39;re not running on a Graviton CPU? Have you tried a version of Java higher than 8?","body":"The JVM is for linux-amd64 - just to double check, you&#39;re not running on a Graviton CPU? Have you tried a version of Java higher than 8?"},{"owner":{"account_id":903826,"reputation":646,"user_id":939217,"display_name":"Mostafa Nazari"},"score":0,"creation_date":1670859835,"post_id":74683729,"comment_id":131965035,"body_markdown":"did u set either `Xmx` or `Xms` ? if so what&#39;s the value? also it might be because of setting docker memory limit","body":"did u set either <code>Xmx</code> or <code>Xms</code> ? if so what&#39;s the value? also it might be because of setting docker memory limit"},{"owner":{"account_id":3066464,"reputation":6190,"user_id":2598037,"display_name":"Carl Mastrangelo"},"score":0,"creation_date":1670973276,"post_id":74683729,"comment_id":131995878,"body_markdown":"Make sure the stack size is big enough for the thread, which you can control with `-Xss`","body":"Make sure the stack size is big enough for the thread, which you can control with <code>-Xss</code>"}],"answers":[{"tags":[],"owner":{"account_id":903826,"reputation":646,"user_id":939217,"display_name":"Mostafa Nazari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670860954,"creation_date":1670860954,"answer_id":74773906,"question_id":74683729,"body_markdown":"it seems that the application need to allocate a large block of memory.\r\n\r\nreading [this report][1] and [this question][2] can help. \r\n\r\nusually there is no need to resize `TLAB` size but if you didn&#39;t find any solution, try tuning it by either `-XX:TLABSize=N` or `-XX:ResizeTLAB`. \r\n\r\n**if you are about to change** `TLAB` size, it is strongly recommended to read [this article][3], and you can take a look at [this question][4]\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7081933\r\n  [2]: https://stackoverflow.com/questions/43747221/what-is-a-tlab-thread-local-allocation-buffer\r\n  [3]: https://alidg.me/blog/2019/6/21/tlab-jvm\r\n  [4]: https://stackoverflow.com/questions/61893915/how-do-i-decide-on-a-suitable-tlabsize-setting-for-a-java-application","title":"Segmentation fault in GC Thread","body":"<p>it seems that the application need to allocate a large block of memory.</p>\n<p>reading <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7081933\" rel=\"nofollow noreferrer\">this report</a> and <a href=\"https://stackoverflow.com/questions/43747221/what-is-a-tlab-thread-local-allocation-buffer\">this question</a> can help.</p>\n<p>usually there is no need to resize <code>TLAB</code> size but if you didn't find any solution, try tuning it by either <code>-XX:TLABSize=N</code> or <code>-XX:ResizeTLAB</code>.</p>\n<p><strong>if you are about to change</strong> <code>TLAB</code> size, it is strongly recommended to read <a href=\"https://alidg.me/blog/2019/6/21/tlab-jvm\" rel=\"nofollow noreferrer\">this article</a>, and you can take a look at <a href=\"https://stackoverflow.com/questions/61893915/how-do-i-decide-on-a-suitable-tlabsize-setting-for-a-java-application\">this question</a></p>\n"}],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670860954,"creation_date":1670218095,"question_id":74683729,"body_markdown":"We&#39;ve deployed our Dropwizard service on aws-ec2 with centos7.\r\n\r\nWe are intermittently facing with segmentation fault on our GC thread.\r\n\r\nCurrently we are taking thread-pumps every minute to analyze.\r\n\r\nCurrent GC Algo - CMS\r\n\r\n**What we tried so far:**\r\n\r\n 1. Changing OS from Amazon linux to centos7\r\n 2. Tried different GC algos - parallel GC, CMS, G1-GC\r\n\r\n\r\nPlease find the stack trace below.\r\n\r\n```txt\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f4be96146bb, pid=1016, tid=139963858630400\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (8.0_72-b15) (build 1.8.0_72-b15)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.72-b15 mixed mode linux-amd64 compressed oops)\r\n# Problematic frame:\r\n# V  [libjvm.so+0x6516bb]  CollectedHeap::common_mem_allocate_init(KlassHandle, unsigned long, Thread*)+0x9b\r\n#\r\n# Core dump written. Default location: //core or core.1016\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   http://bugreport.java.com/bugreport/crash.jsp\r\n#\r\n\r\n---------------  T H R E A D  ---------------\r\nCurrent thread (0x00007f4be40d7800):  GCTaskThread [stack: 0x00007f4be0034000,0x00007f4be0134000] [id=3424]\r\n\r\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x000000010000000b\r\n\r\nRegisters:\r\nRAX=0x00007f4be9f68c19, RBX=0x00007f4be40d7800, RCX=0x0000000000000000, RDX=0x00007f4be40d7800\r\nRSP=0x00007f4be0131920, RBP=0x00007f4be0131950, RSI=0x0000000000000003, RDI=0x00000007c00016d0\r\nR8 =0x0000000000000000, R9 =0x0000000000000000, R10=0x202e64657265746e, R11=0x0000000000000001\r\nR12=0x00000000ffffffff, R13=0x0000000000000003, R14=0x00000007c00016d0, R15=0x0000000010000031\r\nRIP=0x00007f4be96146bb, EFLAGS=0x0000000000010202, CSGSFS=0x0000000000000033, ERR=0x0000000000000006\r\n  TRAPNO=0x000000000000000e\r\n...\r\n\r\nJavaThread 0x00007f4adc006800 (nid = 13003) was being processed\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nv  ~RuntimeStub::_new_array_nozero_Java\r\nJ 3340 C2 java.util.zip.ZipFile.getEntry(Ljava/lang/String;)Ljava/util/zip/ZipEntry; (86 bytes) @ 0x00007f4bb99ea98c [0x00007f4bb99ea2c0+0x6cc]\r\nJ 4234 C2 sun.misc.URLClassPath$JarLoader.getResource(Ljava/lang/String;Z)Lsun/misc/Resource; (97 bytes) @ 0x00007f4bb9cfc970 [0x00007f4bb9cfc8e0+0x90]\r\nJ 5849 C2 java.net.URLClassLoader$2.run()Ljava/lang/Object; (5 bytes) @ 0x00007f4bb9360d7c [0x00007f4bb9360c20+0x15c]\r\nv  ~StubRoutines::call_stub\r\nJ 5043  java.security.AccessController.doPrivileged(Ljava/security/PrivilegedAction;Ljava/security/AccessControlContext;)Ljava/lang/Object; (0 bytes) @ 0x00007f4bb9e2a563 [0x00007f4bb9e2a500+0x63]\r\nJ 5846 C2 java.lang.ClassLoader.getResource(Ljava/lang/String;)Ljava/net/URL; (87 bytes) @ 0x00007f4bb98f51d4 [0x00007f4bb98f4ee0+0x2f4]\r\nJ 26710 C2 javax.xml.soap.FactoryFinder.find(Ljava/lang/String;Ljava/lang/String;Z)Ljava/lang/Object; (317 bytes) @ 0x00007f4bbacd220c [0x00007f4bbacd18c0+0x94c]\r\nJ 27488 C2 javax.xml.soap.SAAJMetaFactory.getInstance()Ljavax/xml/soap/SAAJMetaFactory; (44 bytes) @ 0x00007f4bbab9d3ac [0x00007f4bbab9d380+0x2c]\r\nJ 21785 C1 javax.xml.soap.MessageFactory.newInstance(Ljava/lang/String;)Ljavax/xml/soap/MessageFactory; (8 bytes) @ 0x00007f4bbbe04b1c [0x00007f4bbbe04ac0+0x5c]\r\nj  com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.&lt;init&gt;()V+18\r\nj  com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnectionFactory.createConnection()Ljavax/xml/soap/SOAPConnection;+4\r\nJ 24605 C1 com.tp.pg.util.shopping.SoapWSCall.getToken(Ljava/lang/String;Ljava/lang/String;Ljava/util/Map;I)Ljava/util/Map; (160 bytes) @ 0x00007f4bbc4be4d4 [0x00007f4bbc4be380+0x154]\r\nJ 24677 C1 com.tp.pg.util.shopping.SoapWSCall.getTransactionToken(Ljava/lang/String;Ljava/lang/String;I)Ljava/util/Map; (452 bytes) @ 0x00007f4bbdbd060c [0x00007f4bbdbced80+0x188c]\r\nJ 24279 C1 com.tp.pg.util.TransactionRequestBean.getTransactionToken()Ljava/lang/String; (259 bytes) @ 0x00007f4bbc40132c [0x00007f4bbc4005e0+0xd4c]\r\nJ 27355 C1 com.games24x7.paymentservice.util.TechprocessReconciliationTask.getTechProcessToken(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)Ljava/lang/String; (321 bytes) @ 0x00007f4bbdf815bc [0x00007f4bbdf7f740+0x1e7c]\r\nJ 27354 C1 com.games24x7.paymentservice.util.TechprocessReconciliationTask.getReconcilationRequest(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)Lorg/json/JSONObject; (176 bytes) @ 0x00007f4bbb8014f4 [0x00007f4bbb801420+0xd4]\r\nj  com.games24x7.paymentservice.util.TechprocessReconciliationTask.run()V+166\r\nJ 16559 C2 java.util.concurrent.Executors$RunnableAdapter.call()Ljava/lang/Object; (14 bytes) @ 0x00007f4bbaa327ec [0x00007f4bbaa327a0+0x4c]\r\nJ 19385 C2 java.util.concurrent.FutureTask.run()V (126 bytes) @ 0x00007f4bbcdef074 [0x00007f4bbcdeefc0+0xb4]\r\nJ 21343% C2 java.util.concurrent.ThreadPoolExecutor.runWorker(Ljava/util/concurrent/ThreadPoolExecutor$Worker;)V (225 bytes) @ 0x00007f4bbc1fbc0c [0x00007f4bbc1fb980+0x28c]\r\nj  java.util.concurrent.ThreadPoolExecutor$Worker.run()V+5\r\nj  java.lang.Thread.run()V+11\r\nv  ~StubRoutines::call_stub\r\n...\r\n\r\nGC Heap History (10 events):\r\nEvent: 241217.875 GC heap after\r\nHeap after GC invocations=5932 (full 1):\r\n par new generation   total 613440K, used 1702K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\r\n  from space 68096K,   2% used [0x00000006e1490000, 0x00000006e1639870, 0x00000006e5710000)\r\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\r\n concurrent mark-sweep generation total 3512768K, used 1178323K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\n}\r\nEvent: 241220.784 GC heap before\r\n{Heap before GC invocations=5932 (full 1):\r\n par new generation   total 613440K, used 547046K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\r\n  from space 68096K,   2% used [0x00000006e1490000, 0x00000006e1639870, 0x00000006e5710000)\r\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\r\n concurrent mark-sweep generation total 3512768K, used 1178323K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\nEvent: 241220.794 GC heap after\r\nHeap after GC invocations=5933 (full 1):\r\n par new generation   total 613440K, used 2633K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\r\n  from space 68096K,   3% used [0x00000006e5710000, 0x00000006e59a2400, 0x00000006e9990000)\r\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\r\n concurrent mark-sweep generation total 3512768K, used 1178400K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\n}\r\nEvent: 241224.818 GC heap before\r\n{Heap before GC invocations=5933 (full 1):\r\n par new generation   total 613440K, used 547977K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\r\n  from space 68096K,   3% used [0x00000006e5710000, 0x00000006e59a24a8, 0x00000006e9990000)\r\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\r\n concurrent mark-sweep generation total 3512768K, used 1178400K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\nEvent: 241224.828 GC heap after\r\nHeap after GC invocations=5934 (full 1):\r\n par new generation   total 613440K, used 2257K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\r\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16c4458, 0x00000006e5710000)\r\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\r\n concurrent mark-sweep generation total 3512768K, used 1178467K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\n}\r\nEvent: 241224.829 GC heap before\r\n{Heap before GC invocations=5934 (full 1):\r\n par new generation   total 613440K, used 8425K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K,   1% used [0x00000006c0000000, 0x00000006c0605fc8, 0x00000006e1490000)\r\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16c4458, 0x00000006e5710000)\r\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\r\n concurrent mark-sweep generation total 3512768K, used 1178467K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\nEvent: 241224.836 GC heap after\r\nHeap after GC invocations=5935 (full 1):\r\n par new generation   total 613440K, used 1601K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\r\n  from space 68096K,   2% used [0x00000006e5710000, 0x00000006e58a0760, 0x00000006e9990000)\r\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\r\n concurrent mark-sweep generation total 3512768K, used 1178572K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\n}\r\nEvent: 241228.987 GC heap before\r\n{Heap before GC invocations=5935 (full 1):\r\n par new generation   total 613440K, used 546945K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\r\n  from space 68096K,   2% used [0x00000006e5710000, 0x00000006e58a07a0, 0x00000006e9990000)\r\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\r\n concurrent mark-sweep generation total 3512768K, used 1178572K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\nEvent: 241228.995 GC heap after\r\nHeap after GC invocations=5936 (full 1):\r\n par new generation   total 613440K, used 2411K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\r\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16eada0, 0x00000006e5710000)\r\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\r\n concurrent mark-sweep generation total 3512768K, used 1178609K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\n}\r\nEvent: 241233.095 GC heap before\r\n{Heap before GC invocations=5936 (full 1):\r\n par new generation   total 613440K, used 547755K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\r\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\r\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16eada0, 0x00000006e5710000)\r\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\r\n concurrent mark-sweep generation total 3512768K, used 1178609K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\r\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\r\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\r\n\r\nInternal exceptions (10 events):\r\nEvent: 241213.639 Thread 0x00007f4b60005800 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006c548d5f8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241213.641 Thread 0x00007f4b580a5000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006c548de20) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241213.797 Thread 0x00007f4b54917800 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006c64df2a0) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241213.903 Thread 0x00007f4b5c028000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006c6bfddb8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241222.033 Thread 0x00007f4b849e9000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006cccff568) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241226.620 Thread 0x00007f4b849e9000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006cf3d4c60) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241228.641 Thread 0x00007f4b60005800 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006de46f1e8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241228.642 Thread 0x00007f4b580a5000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006de46fa10) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241228.907 Thread 0x00007f4b5c028000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006e0b591b8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\nEvent: 241230.221 Thread 0x00007f4b787e5000 Exception &lt;a &#39;java/net/SocketTimeoutException&#39;: Read timed out&gt; (0x00000006c9c63328) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\r\n\r\nEvents (10 events):\r\nEvent: 241232.882 loading class javax/xml/messaging/URLEndpoint done\r\nEvent: 241232.918 loading class javax/xml/messaging/URLEndpoint\r\nEvent: 241232.918 loading class javax/xml/messaging/URLEndpoint done\r\nEvent: 241232.959 loading class javax/xml/messaging/URLEndpoint\r\nEvent: 241232.959 loading class javax/xml/messaging/URLEndpoint done\r\nEvent: 241233.007 loading class javax/xml/messaging/URLEndpoint\r\nEvent: 241233.007 loading class javax/xml/messaging/URLEndpoint done\r\nEvent: 241233.050 loading class javax/xml/messaging/URLEndpoint\r\nEvent: 241233.050 loading class javax/xml/messaging/URLEndpoint done\r\nEvent: 241233.094 Executing VM operation: GenCollectForAllocation\r\n\r\n...\r\n```\r\n\r\nAny help will be greatly appreciated.","title":"Segmentation fault in GC Thread","body":"<p>We've deployed our Dropwizard service on aws-ec2 with centos7.</p>\n<p>We are intermittently facing with segmentation fault on our GC thread.</p>\n<p>Currently we are taking thread-pumps every minute to analyze.</p>\n<p>Current GC Algo - CMS</p>\n<p><strong>What we tried so far:</strong></p>\n<ol>\n<li>Changing OS from Amazon linux to centos7</li>\n<li>Tried different GC algos - parallel GC, CMS, G1-GC</li>\n</ol>\n<p>Please find the stack trace below.</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f4be96146bb, pid=1016, tid=139963858630400\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_72-b15) (build 1.8.0_72-b15)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.72-b15 mixed mode linux-amd64 compressed oops)\n# Problematic frame:\n# V  [libjvm.so+0x6516bb]  CollectedHeap::common_mem_allocate_init(KlassHandle, unsigned long, Thread*)+0x9b\n#\n# Core dump written. Default location: //core or core.1016\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n#\n\n---------------  T H R E A D  ---------------\nCurrent thread (0x00007f4be40d7800):  GCTaskThread [stack: 0x00007f4be0034000,0x00007f4be0134000] [id=3424]\n\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x000000010000000b\n\nRegisters:\nRAX=0x00007f4be9f68c19, RBX=0x00007f4be40d7800, RCX=0x0000000000000000, RDX=0x00007f4be40d7800\nRSP=0x00007f4be0131920, RBP=0x00007f4be0131950, RSI=0x0000000000000003, RDI=0x00000007c00016d0\nR8 =0x0000000000000000, R9 =0x0000000000000000, R10=0x202e64657265746e, R11=0x0000000000000001\nR12=0x00000000ffffffff, R13=0x0000000000000003, R14=0x00000007c00016d0, R15=0x0000000010000031\nRIP=0x00007f4be96146bb, EFLAGS=0x0000000000010202, CSGSFS=0x0000000000000033, ERR=0x0000000000000006\n  TRAPNO=0x000000000000000e\n...\n\nJavaThread 0x00007f4adc006800 (nid = 13003) was being processed\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nv  ~RuntimeStub::_new_array_nozero_Java\nJ 3340 C2 java.util.zip.ZipFile.getEntry(Ljava/lang/String;)Ljava/util/zip/ZipEntry; (86 bytes) @ 0x00007f4bb99ea98c [0x00007f4bb99ea2c0+0x6cc]\nJ 4234 C2 sun.misc.URLClassPath$JarLoader.getResource(Ljava/lang/String;Z)Lsun/misc/Resource; (97 bytes) @ 0x00007f4bb9cfc970 [0x00007f4bb9cfc8e0+0x90]\nJ 5849 C2 java.net.URLClassLoader$2.run()Ljava/lang/Object; (5 bytes) @ 0x00007f4bb9360d7c [0x00007f4bb9360c20+0x15c]\nv  ~StubRoutines::call_stub\nJ 5043  java.security.AccessController.doPrivileged(Ljava/security/PrivilegedAction;Ljava/security/AccessControlContext;)Ljava/lang/Object; (0 bytes) @ 0x00007f4bb9e2a563 [0x00007f4bb9e2a500+0x63]\nJ 5846 C2 java.lang.ClassLoader.getResource(Ljava/lang/String;)Ljava/net/URL; (87 bytes) @ 0x00007f4bb98f51d4 [0x00007f4bb98f4ee0+0x2f4]\nJ 26710 C2 javax.xml.soap.FactoryFinder.find(Ljava/lang/String;Ljava/lang/String;Z)Ljava/lang/Object; (317 bytes) @ 0x00007f4bbacd220c [0x00007f4bbacd18c0+0x94c]\nJ 27488 C2 javax.xml.soap.SAAJMetaFactory.getInstance()Ljavax/xml/soap/SAAJMetaFactory; (44 bytes) @ 0x00007f4bbab9d3ac [0x00007f4bbab9d380+0x2c]\nJ 21785 C1 javax.xml.soap.MessageFactory.newInstance(Ljava/lang/String;)Ljavax/xml/soap/MessageFactory; (8 bytes) @ 0x00007f4bbbe04b1c [0x00007f4bbbe04ac0+0x5c]\nj  com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection.&lt;init&gt;()V+18\nj  com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnectionFactory.createConnection()Ljavax/xml/soap/SOAPConnection;+4\nJ 24605 C1 com.tp.pg.util.shopping.SoapWSCall.getToken(Ljava/lang/String;Ljava/lang/String;Ljava/util/Map;I)Ljava/util/Map; (160 bytes) @ 0x00007f4bbc4be4d4 [0x00007f4bbc4be380+0x154]\nJ 24677 C1 com.tp.pg.util.shopping.SoapWSCall.getTransactionToken(Ljava/lang/String;Ljava/lang/String;I)Ljava/util/Map; (452 bytes) @ 0x00007f4bbdbd060c [0x00007f4bbdbced80+0x188c]\nJ 24279 C1 com.tp.pg.util.TransactionRequestBean.getTransactionToken()Ljava/lang/String; (259 bytes) @ 0x00007f4bbc40132c [0x00007f4bbc4005e0+0xd4c]\nJ 27355 C1 com.games24x7.paymentservice.util.TechprocessReconciliationTask.getTechProcessToken(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)Ljava/lang/String; (321 bytes) @ 0x00007f4bbdf815bc [0x00007f4bbdf7f740+0x1e7c]\nJ 27354 C1 com.games24x7.paymentservice.util.TechprocessReconciliationTask.getReconcilationRequest(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)Lorg/json/JSONObject; (176 bytes) @ 0x00007f4bbb8014f4 [0x00007f4bbb801420+0xd4]\nj  com.games24x7.paymentservice.util.TechprocessReconciliationTask.run()V+166\nJ 16559 C2 java.util.concurrent.Executors$RunnableAdapter.call()Ljava/lang/Object; (14 bytes) @ 0x00007f4bbaa327ec [0x00007f4bbaa327a0+0x4c]\nJ 19385 C2 java.util.concurrent.FutureTask.run()V (126 bytes) @ 0x00007f4bbcdef074 [0x00007f4bbcdeefc0+0xb4]\nJ 21343% C2 java.util.concurrent.ThreadPoolExecutor.runWorker(Ljava/util/concurrent/ThreadPoolExecutor$Worker;)V (225 bytes) @ 0x00007f4bbc1fbc0c [0x00007f4bbc1fb980+0x28c]\nj  java.util.concurrent.ThreadPoolExecutor$Worker.run()V+5\nj  java.lang.Thread.run()V+11\nv  ~StubRoutines::call_stub\n...\n\nGC Heap History (10 events):\nEvent: 241217.875 GC heap after\nHeap after GC invocations=5932 (full 1):\n par new generation   total 613440K, used 1702K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\n  from space 68096K,   2% used [0x00000006e1490000, 0x00000006e1639870, 0x00000006e5710000)\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\n concurrent mark-sweep generation total 3512768K, used 1178323K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\n}\nEvent: 241220.784 GC heap before\n{Heap before GC invocations=5932 (full 1):\n par new generation   total 613440K, used 547046K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\n  from space 68096K,   2% used [0x00000006e1490000, 0x00000006e1639870, 0x00000006e5710000)\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\n concurrent mark-sweep generation total 3512768K, used 1178323K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\nEvent: 241220.794 GC heap after\nHeap after GC invocations=5933 (full 1):\n par new generation   total 613440K, used 2633K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\n  from space 68096K,   3% used [0x00000006e5710000, 0x00000006e59a2400, 0x00000006e9990000)\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\n concurrent mark-sweep generation total 3512768K, used 1178400K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\n}\nEvent: 241224.818 GC heap before\n{Heap before GC invocations=5933 (full 1):\n par new generation   total 613440K, used 547977K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\n  from space 68096K,   3% used [0x00000006e5710000, 0x00000006e59a24a8, 0x00000006e9990000)\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\n concurrent mark-sweep generation total 3512768K, used 1178400K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\nEvent: 241224.828 GC heap after\nHeap after GC invocations=5934 (full 1):\n par new generation   total 613440K, used 2257K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16c4458, 0x00000006e5710000)\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\n concurrent mark-sweep generation total 3512768K, used 1178467K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\n}\nEvent: 241224.829 GC heap before\n{Heap before GC invocations=5934 (full 1):\n par new generation   total 613440K, used 8425K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K,   1% used [0x00000006c0000000, 0x00000006c0605fc8, 0x00000006e1490000)\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16c4458, 0x00000006e5710000)\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\n concurrent mark-sweep generation total 3512768K, used 1178467K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\nEvent: 241224.836 GC heap after\nHeap after GC invocations=5935 (full 1):\n par new generation   total 613440K, used 1601K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\n  from space 68096K,   2% used [0x00000006e5710000, 0x00000006e58a0760, 0x00000006e9990000)\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\n concurrent mark-sweep generation total 3512768K, used 1178572K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\n}\nEvent: 241228.987 GC heap before\n{Heap before GC invocations=5935 (full 1):\n par new generation   total 613440K, used 546945K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\n  from space 68096K,   2% used [0x00000006e5710000, 0x00000006e58a07a0, 0x00000006e9990000)\n  to   space 68096K,   0% used [0x00000006e1490000, 0x00000006e1490000, 0x00000006e5710000)\n concurrent mark-sweep generation total 3512768K, used 1178572K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\nEvent: 241228.995 GC heap after\nHeap after GC invocations=5936 (full 1):\n par new generation   total 613440K, used 2411K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K,   0% used [0x00000006c0000000, 0x00000006c0000000, 0x00000006e1490000)\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16eada0, 0x00000006e5710000)\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\n concurrent mark-sweep generation total 3512768K, used 1178609K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\n}\nEvent: 241233.095 GC heap before\n{Heap before GC invocations=5936 (full 1):\n par new generation   total 613440K, used 547755K [0x00000006c0000000, 0x00000006e9990000, 0x00000006e9990000)\n  eden space 545344K, 100% used [0x00000006c0000000, 0x00000006e1490000, 0x00000006e1490000)\n  from space 68096K,   3% used [0x00000006e1490000, 0x00000006e16eada0, 0x00000006e5710000)\n  to   space 68096K,   0% used [0x00000006e5710000, 0x00000006e5710000, 0x00000006e9990000)\n concurrent mark-sweep generation total 3512768K, used 1178609K [0x00000006e9990000, 0x00000007c0000000, 0x00000007c0000000)\n Metaspace       used 75352K, capacity 77390K, committed 77524K, reserved 1118208K\n  class space    used 7885K, capacity 8270K, committed 8296K, reserved 1048576K\n\nInternal exceptions (10 events):\nEvent: 241213.639 Thread 0x00007f4b60005800 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006c548d5f8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241213.641 Thread 0x00007f4b580a5000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006c548de20) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241213.797 Thread 0x00007f4b54917800 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006c64df2a0) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241213.903 Thread 0x00007f4b5c028000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006c6bfddb8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241222.033 Thread 0x00007f4b849e9000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006cccff568) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241226.620 Thread 0x00007f4b849e9000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006cf3d4c60) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241228.641 Thread 0x00007f4b60005800 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006de46f1e8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241228.642 Thread 0x00007f4b580a5000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006de46fa10) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241228.907 Thread 0x00007f4b5c028000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006e0b591b8) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\nEvent: 241230.221 Thread 0x00007f4b787e5000 Exception &lt;a 'java/net/SocketTimeoutException': Read timed out&gt; (0x00000006c9c63328) thrown at [/HUDSON/workspace/8-2-build-linux-amd64/jdk8u72/5732/hotspot/src/share/vm/prims/jni.cpp, line 735]\n\nEvents (10 events):\nEvent: 241232.882 loading class javax/xml/messaging/URLEndpoint done\nEvent: 241232.918 loading class javax/xml/messaging/URLEndpoint\nEvent: 241232.918 loading class javax/xml/messaging/URLEndpoint done\nEvent: 241232.959 loading class javax/xml/messaging/URLEndpoint\nEvent: 241232.959 loading class javax/xml/messaging/URLEndpoint done\nEvent: 241233.007 loading class javax/xml/messaging/URLEndpoint\nEvent: 241233.007 loading class javax/xml/messaging/URLEndpoint done\nEvent: 241233.050 loading class javax/xml/messaging/URLEndpoint\nEvent: 241233.050 loading class javax/xml/messaging/URLEndpoint done\nEvent: 241233.094 Executing VM operation: GenCollectForAllocation\n\n...\n</code></pre>\n<p>Any help will be greatly appreciated.</p>\n"},{"tags":["java","stomp","spring-websocket"],"owner":{"account_id":6441401,"reputation":506,"user_id":4991308,"accept_rate":62,"display_name":"Ares91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670860709,"creation_date":1670860709,"question_id":74773843,"body_markdown":"I have created a simple websocket server with this configuration and I&#39;m trying to subscribe or unsubscribe a user to a certain topic automaticaly, without the user permission (without sending SUBSCRIPTION event from the client). Example: a user connect to the server and the server automatically subscribe the user to topic &quot;news&quot; and &quot;football&quot;. I&#39;m trying to replicate what done when a client send this event &quot;***SUBSCRIBE\\ndestination:/news/e88e2682-c467-4f48-b445-0af9c7983a5d\\nid:/news/e88e2682-c467-4f48-b445-0af9c7983a5d\\n\\n\\u0000***&quot; but without the client sending it actualy, is it possible?\r\n\r\n    package com.websocket.socket;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.messaging.simp.config.ChannelRegistration;\r\n    import org.springframework.messaging.simp.config.MessageBrokerRegistry;\r\n    import org.springframework.web.socket.WebSocketHandler;\r\n    import org.springframework.web.socket.WebSocketSession;\r\n    import org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\r\n    import org.springframework.web.socket.config.annotation.StompEndpointRegistry;\r\n    import org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\r\n    import org.springframework.web.socket.config.annotation.WebSocketTransportRegistration;\r\n    import org.springframework.web.socket.handler.WebSocketHandlerDecorator;\r\n    import org.springframework.web.socket.handler.WebSocketHandlerDecoratorFactory;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(WebSocketConfiguration.class);\r\n        public static final String APP = &quot;/app&quot;;\r\n    \r\n    \r\n        private static final String[] topics = new String[]{\r\n                NEWS.BROKER_NAME,\r\n                FOOTBALL.BROKER_NAME\r\n        };\r\n    \r\n        @Autowired\r\n        private TopicChannelInterceptor topicChannelInterceptor;\r\n        @Autowired\r\n        private UserSessions userSessions;\r\n    \r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n    \r\n            config.enableSimpleBroker(topics);\r\n            config.setApplicationDestinationPrefixes(APP);\r\n    \r\n            LOGGER.info(&quot;Prefix: {}&quot;, APP);\r\n            LOGGER.info(&quot;Topics: {}&quot;, Arrays.toString(topics));\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    \r\n            registry.addEndpoint(&quot;/socket&quot;)\r\n                    .setAllowedOriginPatterns(&quot;*&quot;)\r\n                    .withSockJS();\r\n        }\r\n    \r\n        @Override\r\n        public void configureClientInboundChannel(ChannelRegistration registration) {\r\n    \r\n            registration.interceptors(topicChannelInterceptor);\r\n            WebSocketMessageBrokerConfigurer.super.configureClientInboundChannel(registration);\r\n        }\r\n    \r\n        @Override\r\n        public void configureWebSocketTransport(WebSocketTransportRegistration registration) {\r\n            registration.addDecoratorFactory(new WebSocketHandlerDecoratorFactory() {\r\n                @Override\r\n                public WebSocketHandler decorate(final WebSocketHandler handler) {\r\n                    return new WebSocketHandlerDecorator(handler) {\r\n    \r\n                        @Override\r\n                        public void afterConnectionEstablished(final WebSocketSession session) throws Exception {\r\n    \r\n                            // We will store current user&#39;s session into WebsocketSessionHolder after connection is established\r\n                            userSessions.addUserSession(session.getId(), session);\r\n    \r\n                            LOGGER.info(&quot;Session stored&quot;);\r\n                            super.afterConnectionEstablished(session);\r\n                        }\r\n                    };\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n","title":"Java WebSocket subscribe/unsubscribe manually from inside server","body":"<p>I have created a simple websocket server with this configuration and I'm trying to subscribe or unsubscribe a user to a certain topic automaticaly, without the user permission (without sending SUBSCRIPTION event from the client). Example: a user connect to the server and the server automatically subscribe the user to topic &quot;news&quot; and &quot;football&quot;. I'm trying to replicate what done when a client send this event &quot;<em><strong>SUBSCRIBE\\ndestination:/news/e88e2682-c467-4f48-b445-0af9c7983a5d\\nid:/news/e88e2682-c467-4f48-b445-0af9c7983a5d\\n\\n\\u0000</strong></em>&quot; but without the client sending it actualy, is it possible?</p>\n<pre><code>package com.websocket.socket;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.messaging.simp.config.ChannelRegistration;\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\nimport org.springframework.web.socket.WebSocketHandler;\nimport org.springframework.web.socket.WebSocketSession;\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\nimport org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\nimport org.springframework.web.socket.config.annotation.WebSocketTransportRegistration;\nimport org.springframework.web.socket.handler.WebSocketHandlerDecorator;\nimport org.springframework.web.socket.handler.WebSocketHandlerDecoratorFactory;\n\nimport java.util.Arrays;\n\n@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(WebSocketConfiguration.class);\n    public static final String APP = &quot;/app&quot;;\n\n\n    private static final String[] topics = new String[]{\n            NEWS.BROKER_NAME,\n            FOOTBALL.BROKER_NAME\n    };\n\n    @Autowired\n    private TopicChannelInterceptor topicChannelInterceptor;\n    @Autowired\n    private UserSessions userSessions;\n\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n\n        config.enableSimpleBroker(topics);\n        config.setApplicationDestinationPrefixes(APP);\n\n        LOGGER.info(&quot;Prefix: {}&quot;, APP);\n        LOGGER.info(&quot;Topics: {}&quot;, Arrays.toString(topics));\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n\n        registry.addEndpoint(&quot;/socket&quot;)\n                .setAllowedOriginPatterns(&quot;*&quot;)\n                .withSockJS();\n    }\n\n    @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n\n        registration.interceptors(topicChannelInterceptor);\n        WebSocketMessageBrokerConfigurer.super.configureClientInboundChannel(registration);\n    }\n\n    @Override\n    public void configureWebSocketTransport(WebSocketTransportRegistration registration) {\n        registration.addDecoratorFactory(new WebSocketHandlerDecoratorFactory() {\n            @Override\n            public WebSocketHandler decorate(final WebSocketHandler handler) {\n                return new WebSocketHandlerDecorator(handler) {\n\n                    @Override\n                    public void afterConnectionEstablished(final WebSocketSession session) throws Exception {\n\n                        // We will store current user's session into WebsocketSessionHolder after connection is established\n                        userSessions.addUserSession(session.getId(), session);\n\n                        LOGGER.info(&quot;Session stored&quot;);\n                        super.afterConnectionEstablished(session);\n                    }\n                };\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":358039,"reputation":5846,"user_id":3248158,"display_name":"derkoe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670860614,"creation_date":1670860614,"answer_id":74773817,"question_id":74773486,"body_markdown":"I found the issue. Visual Studio Code was open and the project was loaded using [Extension Pack for Java][1]. This was deleting the classes while Maven was building them which resulted in the error above.\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack","title":"Spring Boot native:compile with multi module Maven build","body":"<p>I found the issue. Visual Studio Code was open and the project was loaded using <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Extension Pack for Java</a>. This was deleting the classes while Maven was building them which resulted in the error above.</p>\n"}],"owner":{"account_id":358039,"reputation":5846,"user_id":3248158,"display_name":"derkoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670860614,"creation_date":1670859086,"question_id":74773486,"body_markdown":"I try to compile GraalVM Native Image for a Spring Boot 3.0 application with multiple Maven modules.\r\n\r\nThe module structure is like the following:\r\n\r\n```\r\nheroes-parent\r\n|- heroes-backend\r\n|- heroes-frontend\r\n|- heroes-webapp\r\n```\r\n\r\nwhere each sub-directory is a module of the parent\r\n\r\npom.xml extract:\r\n```xml\r\n  &lt;modules&gt;\r\n    &lt;module&gt;heroes-backend&lt;/module&gt;\r\n    &lt;module&gt;heroes-frontend&lt;/module&gt;\r\n    &lt;module&gt;heroes-webapp&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n```\r\n\r\nWhen I try to build the app with (see [Spring Boot docs][1]):\r\n```\r\nmvn -Pnative native:compile\r\n```\r\n\r\nit errors with (because the parent has no classes):\r\n\r\n```\r\n[ERROR] Failed to execute goal org.graalvm.buildtools:native-maven-plugin:0.9.18:compile (default-cli) on project heroes-parent: Image classpath is empty. Check if your classpath configuration is correct. -&gt; [Help 1]\r\n```\r\n\r\nSo, I have tried to build the whole application first with `mvn install` and then only build the application `heroes-webapp` with `native:compile`\r\n```\r\nmvn install \r\ncd heroes-webapp\r\nmvn -Pnative native:compile\r\n```\r\n\r\nBut this fails with the following error:\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  14.047 s\r\n[INFO] Finished at: 2022-12-12T16:26:20+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.0:process-aot (process-aot) on project heroes-webapp: Unable to compile generated source\r\n[ERROR] cannot access heroes.WeblateProperties\r\n[ERROR]   bad class file: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/WeblateProperties.class\r\n[ERROR]     unable to access file: java.nio.file.NoSuchFileException: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/WeblateProperties.class\r\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath. /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/spring-aot/main/sources/heroes/WeblateProperties__BeanDefinitions.java 15:25\r\n[ERROR] cannot access heroes.MainController\r\n[ERROR]   bad class file: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/MainController.class\r\n[ERROR]     unable to access file: java.nio.file.NoSuchFileException: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/MainController.class\r\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath. /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/spring-aot/main/sources/heroes/MainController__BeanDefinitions.java 15:25\r\n[ERROR] cannot access heroes.HeroesApplication\r\n[ERROR]   bad class file: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/HeroesApplication.class\r\n[ERROR]     unable to access file: java.nio.file.NoSuchFileException: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/HeroesApplication.class\r\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath. /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/spring-aot/main/sources/heroes/HeroesApplication__BeanDefinitions.java 18:25\r\n```\r\n\r\nYou can find the [source code for the whole application on GitHub][2].\r\n\r\nIs there any way to build a native-image with a Maven multi-module Spring Boot 3 application?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#native-image.developing-your-first-application.native-build-tools.maven\r\n  [2]: https://github.com/porscheinformatik/angular-spring-heroes","title":"Spring Boot native:compile with multi module Maven build","body":"<p>I try to compile GraalVM Native Image for a Spring Boot 3.0 application with multiple Maven modules.</p>\n<p>The module structure is like the following:</p>\n<pre><code>heroes-parent\n|- heroes-backend\n|- heroes-frontend\n|- heroes-webapp\n</code></pre>\n<p>where each sub-directory is a module of the parent</p>\n<p>pom.xml extract:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;modules&gt;\n    &lt;module&gt;heroes-backend&lt;/module&gt;\n    &lt;module&gt;heroes-frontend&lt;/module&gt;\n    &lt;module&gt;heroes-webapp&lt;/module&gt;\n  &lt;/modules&gt;\n</code></pre>\n<p>When I try to build the app with (see <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/native-image.html#native-image.developing-your-first-application.native-build-tools.maven\" rel=\"nofollow noreferrer\">Spring Boot docs</a>):</p>\n<pre><code>mvn -Pnative native:compile\n</code></pre>\n<p>it errors with (because the parent has no classes):</p>\n<pre><code>[ERROR] Failed to execute goal org.graalvm.buildtools:native-maven-plugin:0.9.18:compile (default-cli) on project heroes-parent: Image classpath is empty. Check if your classpath configuration is correct. -&gt; [Help 1]\n</code></pre>\n<p>So, I have tried to build the whole application first with <code>mvn install</code> and then only build the application <code>heroes-webapp</code> with <code>native:compile</code></p>\n<pre><code>mvn install \ncd heroes-webapp\nmvn -Pnative native:compile\n</code></pre>\n<p>But this fails with the following error:</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  14.047 s\n[INFO] Finished at: 2022-12-12T16:26:20+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.0:process-aot (process-aot) on project heroes-webapp: Unable to compile generated source\n[ERROR] cannot access heroes.WeblateProperties\n[ERROR]   bad class file: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/WeblateProperties.class\n[ERROR]     unable to access file: java.nio.file.NoSuchFileException: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/WeblateProperties.class\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath. /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/spring-aot/main/sources/heroes/WeblateProperties__BeanDefinitions.java 15:25\n[ERROR] cannot access heroes.MainController\n[ERROR]   bad class file: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/MainController.class\n[ERROR]     unable to access file: java.nio.file.NoSuchFileException: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/MainController.class\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath. /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/spring-aot/main/sources/heroes/MainController__BeanDefinitions.java 15:25\n[ERROR] cannot access heroes.HeroesApplication\n[ERROR]   bad class file: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/HeroesApplication.class\n[ERROR]     unable to access file: java.nio.file.NoSuchFileException: /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/classes/heroes/HeroesApplication.class\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath. /home/koc/git/work/koc/angular-spring-heroes/heroes-webapp/target/spring-aot/main/sources/heroes/HeroesApplication__BeanDefinitions.java 18:25\n</code></pre>\n<p>You can find the <a href=\"https://github.com/porscheinformatik/angular-spring-heroes\" rel=\"nofollow noreferrer\">source code for the whole application on GitHub</a>.</p>\n<p>Is there any way to build a native-image with a Maven multi-module Spring Boot 3 application?</p>\n"},{"tags":["java","lucee"],"comments":[{"owner":{"account_id":3126626,"reputation":1078,"user_id":2645359,"display_name":"AndreasRu"},"score":1,"creation_date":1670821760,"post_id":74765045,"comment_id":131954004,"body_markdown":"Have you tried a stable Lucee version, instead of the bleeding edge snapshot versions?","body":"Have you tried a stable Lucee version, instead of the bleeding edge snapshot versions?"},{"owner":{"account_id":20701207,"reputation":1,"user_id":15200238,"display_name":"Saifullah Khalid"},"score":0,"creation_date":1670909674,"post_id":74765045,"comment_id":131976331,"body_markdown":"yes sir even stable version does the same","body":"yes sir even stable version does the same"}],"owner":{"account_id":20701207,"reputation":1,"user_id":15200238,"display_name":"Saifullah Khalid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670860385,"creation_date":1670797611,"question_id":74765045,"body_markdown":"&gt;lucee.runtime.exp.NativeException: Pool exhausted\r\n\r\n\r\n\r\n\r\nGetting this error every two hours on lucee server.\r\nMessage: Pool exhausted\r\n","title":"Lucee 6.0.0.313-SNAPSHOT Error (java.util.NoSuchElementException)","body":"<blockquote>\n<p>lucee.runtime.exp.NativeException: Pool exhausted</p>\n</blockquote>\n<p>Getting this error every two hours on lucee server.\nMessage: Pool exhausted</p>\n"},{"tags":["java","sftp","inputstream","jsch","apache-commons-io"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1657829146,"post_id":72985697,"comment_id":128909842,"body_markdown":"Root cause is that it says - `sharePointUpload ` was called with a closed `inputStream`.  You need to check/provide details of the code where this stream was created.","body":"Root cause is that it says - <code>sharePointUpload </code> was called with a closed <code>inputStream</code>.  You need to check/provide details of the code where this stream was created."},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1657863384,"post_id":72985697,"comment_id":128915394,"body_markdown":"@Tintin Few files were transferred from List... I have added code to get file and method call","body":"@Tintin Few files were transferred from List... I have added code to get file and method call"},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1657889061,"post_id":72985697,"comment_id":128923057,"body_markdown":"We need [mcve]. Have your question anything to do with SharePoint at all? What if you just read the `InputStream` in a loop without using any SharePoint code.","body":"We need <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Have your question anything to do with SharePoint at all? What if you just read the <code>InputStream</code> in a loop without using any SharePoint code."},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1657891811,"post_id":72985697,"comment_id":128924132,"body_markdown":"@MartinPrikryl I have mentioned error occurred while calling, `IOUtils.toByteArray(inputStream)` which is in **sharePointUplod()**... nothing to do while uploading file to SharePoint.","body":"@MartinPrikryl I have mentioned error occurred while calling, <code>IOUtils.toByteArray(inputStream)</code> which is in <b>sharePointUplod()</b>... nothing to do while uploading file to SharePoint."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":1,"creation_date":1657892462,"post_id":72985697,"comment_id":128924398,"body_markdown":"So why do you complicate your question with SharePoint? Why don&#39;t you post a simple sequential code snippet that reproduces the problem? Instead of two disjoined methods with code that it not relevant to the problem?","body":"So why do you complicate your question with SharePoint? Why don&#39;t you post a simple sequential code snippet that reproduces the problem? Instead of two disjoined methods with code that it not relevant to the problem?"}],"answers":[{"comments":[{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1657863370,"post_id":72986265,"comment_id":128915390,"body_markdown":"Few files were transferred from List... I have added code to get file and method call","body":"Few files were transferred from List... I have added code to get file and method call"}],"tags":[],"owner":{"account_id":18264099,"reputation":17,"user_id":13296254,"display_name":"ItsVaske"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657830110,"creation_date":1657830110,"answer_id":72986265,"question_id":72985697,"body_markdown":"You are providing it with closed InputStream when the method is being called. Make sure the InputStream you are providing is open and initialized.","title":"java.io.IOException: inputstream is closed","body":"<p>You are providing it with closed InputStream when the method is being called. Make sure the InputStream you are providing is open and initialized.</p>\n"},{"comments":[{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1657891871,"post_id":72992827,"comment_id":128924162,"body_markdown":"I mentioned **PS: Few files are transferred from List**... so I don&#39;t thing it is `sourceLocation` issue.","body":"I mentioned <b>PS: Few files are transferred from List</b>... so I don&#39;t thing it is <code>sourceLocation</code> issue."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658076964,"post_id":72992827,"comment_id":128956202,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/72992827/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":2319820,"reputation":1,"user_id":2035915,"display_name":"ant1eicher"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657882078,"creation_date":1657882078,"answer_id":72992827,"question_id":72985697,"body_markdown":"This line is giving you a closed InputStream:\r\n\r\n```\r\nInputStream stream = sourceChannelSftp.get(sourceLocation + &#39;/&#39; + sourcefilenamelist);\r\n```\r\n\r\nPerhaps the `sourceLocation` argument that you are sending to it is not correct?\r\n\r\n","title":"java.io.IOException: inputstream is closed","body":"<p>This line is giving you a closed InputStream:</p>\n<pre><code>InputStream stream = sourceChannelSftp.get(sourceLocation + '/' + sourcefilenamelist);\n</code></pre>\n<p>Perhaps the <code>sourceLocation</code> argument that you are sending to it is not correct?</p>\n"},{"tags":[],"owner":{"account_id":12016455,"reputation":1936,"user_id":8791436,"display_name":"mindlid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658034487,"creation_date":1658034487,"answer_id":73009385,"question_id":72985697,"body_markdown":"supposing the stream works, but once the stream is read, it will close, try checking if it&#39;s being read somewhere else.","title":"java.io.IOException: inputstream is closed","body":"<p>supposing the stream works, but once the stream is read, it will close, try checking if it's being read somewhere else.</p>\n"}],"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4066,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1670860016,"creation_date":1657826747,"question_id":72985697,"body_markdown":"I am trying to transfer file from SFTP to SharePoint folder.  \r\nI have used JSCH Library to connect to SFTP.\r\n\r\nFollowing is my code snippet to **upload file**.\r\n\r\n    private void sharePointUpload(String driveId, String targetLocation, InputStream inputStream, String fileName) throws FileNotFoundException, IOException {\r\n\t\tUploadSession uploadSession = this.graphServiceClient.drives().byId(driveId).root().itemWithPath(targetLocation +&quot;/&quot;+ fileName)\r\n\t\t\t\t\t\t\t\t\t\t.createUploadSession(this.uploadParams).buildRequest().post();\r\n\t\tbyte[] inputStreamByteArray = IOUtils.toByteArray(inputStream);\r\n\t\tLargeFileUploadTask&lt;DriveItem&gt; largeFileUploadTask = new LargeFileUploadTask&lt;DriveItem&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t(uploadSession, this.graphServiceClient, new ByteArrayInputStream(inputStreamByteArray), inputStreamByteArray.length, DriveItem.class);\r\n\t\tlargeFileUploadTask.upload(MAXIMUM_CHUNK_SIZE);\r\n\t}\r\n\r\nI am getting error **java.io.IOException: inputstream is closed** at `IOUtils.toByteArray(inputStream)`  \r\nWhat will be the root cause ?\r\n\r\nError Logs\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Update :**  \r\nCode Snippet to **Get InputStream**\r\n\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        sourcefilenamelist = list.get(i);\r\n        logger.log(proccessingFileLogText + sourcefilenamelist);\r\n        if (targetFilenameflag.equalsIgnoreCase(&quot;false&quot;)) {\r\n            targetFilename = sourcefilenamelist;\r\n        }\r\n        \r\n        InputStream stream = sourceChannelSftp.get(sourceLocation + &#39;/&#39; + sourcefilenamelist);\r\n        InputStreamDetails decryptEncryptInputStreamDetails = decryptEncryptInputStream(stream, targetFilename, sourceEncryption, targetEncryption, jobjsource);\r\n        stream = decryptEncryptInputStreamDetails.getInputStream();\r\n        targetFilename = decryptEncryptInputStreamDetails.getFileName();\r\n        \r\n        try {\r\n            sharePointUpload(targetDriveId, targetLocation, stream, targetFilename);\r\n        } catch (ClientException e) {\r\n            logger.log(&quot; Graph API ClientException : &quot;);\r\n            logger.log( &quot;e.getMessage()\t\t:- &quot; + e.getMessage() );\r\n            logger.log( &quot;RootCauseMessage\t:- &quot; + ExceptionUtils.getRootCauseMessage(e) );\r\n    //\t\t\t\t\t\t\t\t\t\tisSQSMessageRetry = true;\r\n            throw e;\r\n        }\r\n    ...\r\n    ...\r\n    ...\r\n    }\r\n\r\n\r\n**PS: Few files are transferred from List**\r\n\r\n  [1]: https://i.stack.imgur.com/lvZlI.png","title":"java.io.IOException: inputstream is closed","body":"<p>I am trying to transfer file from SFTP to SharePoint folder.<br />\nI have used JSCH Library to connect to SFTP.</p>\n<p>Following is my code snippet to <strong>upload file</strong>.</p>\n<pre><code>private void sharePointUpload(String driveId, String targetLocation, InputStream inputStream, String fileName) throws FileNotFoundException, IOException {\n    UploadSession uploadSession = this.graphServiceClient.drives().byId(driveId).root().itemWithPath(targetLocation +&quot;/&quot;+ fileName)\n                                    .createUploadSession(this.uploadParams).buildRequest().post();\n    byte[] inputStreamByteArray = IOUtils.toByteArray(inputStream);\n    LargeFileUploadTask&lt;DriveItem&gt; largeFileUploadTask = new LargeFileUploadTask&lt;DriveItem&gt;\n                                        (uploadSession, this.graphServiceClient, new ByteArrayInputStream(inputStreamByteArray), inputStreamByteArray.length, DriveItem.class);\n    largeFileUploadTask.upload(MAXIMUM_CHUNK_SIZE);\n}\n</code></pre>\n<p>I am getting error <strong>java.io.IOException: inputstream is closed</strong> at <code>IOUtils.toByteArray(inputStream)</code><br />\nWhat will be the root cause ?</p>\n<p>Error Logs</p>\n<p><a href=\"https://i.stack.imgur.com/lvZlI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lvZlI.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Update :</strong><br />\nCode Snippet to <strong>Get InputStream</strong></p>\n<pre><code>for (int i = 0; i &lt; list.size(); i++) {\n    sourcefilenamelist = list.get(i);\n    logger.log(proccessingFileLogText + sourcefilenamelist);\n    if (targetFilenameflag.equalsIgnoreCase(&quot;false&quot;)) {\n        targetFilename = sourcefilenamelist;\n    }\n    \n    InputStream stream = sourceChannelSftp.get(sourceLocation + '/' + sourcefilenamelist);\n    InputStreamDetails decryptEncryptInputStreamDetails = decryptEncryptInputStream(stream, targetFilename, sourceEncryption, targetEncryption, jobjsource);\n    stream = decryptEncryptInputStreamDetails.getInputStream();\n    targetFilename = decryptEncryptInputStreamDetails.getFileName();\n    \n    try {\n        sharePointUpload(targetDriveId, targetLocation, stream, targetFilename);\n    } catch (ClientException e) {\n        logger.log(&quot; Graph API ClientException : &quot;);\n        logger.log( &quot;e.getMessage()     :- &quot; + e.getMessage() );\n        logger.log( &quot;RootCauseMessage   :- &quot; + ExceptionUtils.getRootCauseMessage(e) );\n//                                      isSQSMessageRetry = true;\n        throw e;\n    }\n...\n...\n...\n}\n</code></pre>\n<p><strong>PS: Few files are transferred from List</strong></p>\n"},{"tags":["java","mongodb","pojo"],"owner":{"account_id":19773704,"reputation":11,"user_id":14480177,"display_name":"1k3w"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670859910,"creation_date":1670859910,"question_id":74773662,"body_markdown":"I&#39;m using MongoDB&#39;s POJO encoder, but it&#39;s not working. it&#39;s returning an empty document only containing an _id. i have enabled the Convention for annotation based POJOs, i also enabled the private field convention so that it uses reflection for private fields. I also know that it was using the getters instead of fields, since it did work before i put @BsonIgnore on my getters, but i modify data in a getter so this is not desirable for me. Here&#39;s my code for the class i want to serialize:\r\n\r\n\r\n```\r\npublic class PermissionPlayer {\r\n    public static final String MONGO_COLLECTION = &quot;permission_players&quot;;\r\n\r\n    @BsonProperty( &quot;uuid&quot;)\r\n    private UUID uuid;\r\n\r\n    @BsonProperty( &quot;groupNames&quot;)\r\n    private List&lt;String&gt; groupNames = new ArrayList&lt;&gt;();\r\n\r\n    @BsonProperty( &quot;permissions&quot;)\r\n    private List&lt;String&gt; perms = new ArrayList&lt;&gt;();\r\n\r\n    @BsonIgnore\r\n    private List&lt;PermissionGroup&gt; groups = new ArrayList&lt;&gt;();\r\n\r\n    @BsonCreator\r\n    public PermissionPlayer(@BsonProperty( &quot;uuid&quot;) UUID uuid, @BsonProperty( &quot;groupNames&quot;) List&lt;String&gt; groupNames, @BsonProperty( &quot;permissions&quot;) List&lt;String&gt; perms) {\r\n        this.uuid = uuid;\r\n        this.groupNames = groupNames == null ? new ArrayList&lt;&gt;() : groupNames;\r\n        this.perms = perms;\r\n        loadGroups();\r\n    }\r\n\r\n\r\n    @BsonIgnore\r\n    public void loadGroups() {\r\n        groups = new ArrayList&lt;&gt;();\r\n        for (String s : groupNames)\r\n            groups.add(PermissionManager.get().getGroup(s));\r\n        groups.removeIf(Objects::isNull);\r\n        Collections.sort(groups);\r\n    }\r\n\r\n    public PermissionPlayer(UUID uuid) {\r\n        this.uuid = uuid;\r\n    }\r\n\r\n    @BsonIgnore\r\n    public void removePermission(String permission) {\r\n        perms.remove(permission);\r\n    }\r\n\r\n    @BsonIgnore\r\n    public void addPermission(String permission) {\r\n        perms.add(permission);\r\n    }\r\n\r\n    @BsonIgnore\r\n    public List&lt;String&gt; getPermissions() {\r\n        List&lt;String&gt; permissions = new ArrayList&lt;&gt;(); // individually set perms\r\n        permissions.addAll(perms);\r\n        for (PermissionGroup g : groups) {\r\n            permissions.addAll(g.getPermissions());\r\n```\r\n\r\nand here is the Mongo class for database access &amp; how i construct the client:\r\n\r\n\r\n```\r\npublic class Mongo {\r\n\r\n    private static MongoClient client = null;\r\n    private static MongoDatabase database = null;\r\n\r\n    public static final CodecRegistry codecRegistry = CodecRegistries.fromRegistries(\r\n            MongoClientSettings.builder().uuidRepresentation(UuidRepresentation.STANDARD).build().getCodecRegistry(),\r\n            CodecRegistries.fromProviders(PojoCodecProvider.builder()\r\n                    .conventions(Arrays.asList(Conventions.ANNOTATION_CONVENTION, Conventions.SET_PRIVATE_FIELDS_CONVENTION)).automatic(true).build())\r\n    );\r\n\r\n\r\n    public static void connectDatabase() {\r\n        String db = Main.env.get(&quot;DATABASE_NAME&quot;);\r\n        String uri = Main.env.get(&quot;DATABASE_URL&quot;);\r\n        client = MongoClients.create(MongoClientSettings.builder().applyConnectionString(new ConnectionString(uri)).\r\n                uuidRepresentation(UuidRepresentation.STANDARD).codecRegistry(codecRegistry).build());\r\n\r\n        database = client.getDatabase(db);\r\n    }\r\n\r\n    public static MongoCollection&lt;Document&gt; getCollection(String name) {\r\n        return database.getCollection(name.toLowerCase());\r\n    }\r\n\r\n    public static MongoDatabase getDatabase() {\r\n        return database;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have tried changing the Conventions to no avail. also i have followed an article on this by MongoDB itself which you can find [here](https://www.mongodb.com/developer/languages/java/java-mapping-pojos/).","title":"MongoDB POJO in Java producing empty document and not using fields","body":"<p>I'm using MongoDB's POJO encoder, but it's not working. it's returning an empty document only containing an _id. i have enabled the Convention for annotation based POJOs, i also enabled the private field convention so that it uses reflection for private fields. I also know that it was using the getters instead of fields, since it did work before i put @BsonIgnore on my getters, but i modify data in a getter so this is not desirable for me. Here's my code for the class i want to serialize:</p>\n<pre><code>public class PermissionPlayer {\n    public static final String MONGO_COLLECTION = &quot;permission_players&quot;;\n\n    @BsonProperty( &quot;uuid&quot;)\n    private UUID uuid;\n\n    @BsonProperty( &quot;groupNames&quot;)\n    private List&lt;String&gt; groupNames = new ArrayList&lt;&gt;();\n\n    @BsonProperty( &quot;permissions&quot;)\n    private List&lt;String&gt; perms = new ArrayList&lt;&gt;();\n\n    @BsonIgnore\n    private List&lt;PermissionGroup&gt; groups = new ArrayList&lt;&gt;();\n\n    @BsonCreator\n    public PermissionPlayer(@BsonProperty( &quot;uuid&quot;) UUID uuid, @BsonProperty( &quot;groupNames&quot;) List&lt;String&gt; groupNames, @BsonProperty( &quot;permissions&quot;) List&lt;String&gt; perms) {\n        this.uuid = uuid;\n        this.groupNames = groupNames == null ? new ArrayList&lt;&gt;() : groupNames;\n        this.perms = perms;\n        loadGroups();\n    }\n\n\n    @BsonIgnore\n    public void loadGroups() {\n        groups = new ArrayList&lt;&gt;();\n        for (String s : groupNames)\n            groups.add(PermissionManager.get().getGroup(s));\n        groups.removeIf(Objects::isNull);\n        Collections.sort(groups);\n    }\n\n    public PermissionPlayer(UUID uuid) {\n        this.uuid = uuid;\n    }\n\n    @BsonIgnore\n    public void removePermission(String permission) {\n        perms.remove(permission);\n    }\n\n    @BsonIgnore\n    public void addPermission(String permission) {\n        perms.add(permission);\n    }\n\n    @BsonIgnore\n    public List&lt;String&gt; getPermissions() {\n        List&lt;String&gt; permissions = new ArrayList&lt;&gt;(); // individually set perms\n        permissions.addAll(perms);\n        for (PermissionGroup g : groups) {\n            permissions.addAll(g.getPermissions());\n</code></pre>\n<p>and here is the Mongo class for database access &amp; how i construct the client:</p>\n<pre><code>public class Mongo {\n\n    private static MongoClient client = null;\n    private static MongoDatabase database = null;\n\n    public static final CodecRegistry codecRegistry = CodecRegistries.fromRegistries(\n            MongoClientSettings.builder().uuidRepresentation(UuidRepresentation.STANDARD).build().getCodecRegistry(),\n            CodecRegistries.fromProviders(PojoCodecProvider.builder()\n                    .conventions(Arrays.asList(Conventions.ANNOTATION_CONVENTION, Conventions.SET_PRIVATE_FIELDS_CONVENTION)).automatic(true).build())\n    );\n\n\n    public static void connectDatabase() {\n        String db = Main.env.get(&quot;DATABASE_NAME&quot;);\n        String uri = Main.env.get(&quot;DATABASE_URL&quot;);\n        client = MongoClients.create(MongoClientSettings.builder().applyConnectionString(new ConnectionString(uri)).\n                uuidRepresentation(UuidRepresentation.STANDARD).codecRegistry(codecRegistry).build());\n\n        database = client.getDatabase(db);\n    }\n\n    public static MongoCollection&lt;Document&gt; getCollection(String name) {\n        return database.getCollection(name.toLowerCase());\n    }\n\n    public static MongoDatabase getDatabase() {\n        return database;\n    }\n}\n</code></pre>\n<p>I have tried changing the Conventions to no avail. also i have followed an article on this by MongoDB itself which you can find <a href=\"https://www.mongodb.com/developer/languages/java/java-mapping-pojos/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","regex","swagger","openapi","openapi-generator"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1670870745,"post_id":74773648,"comment_id":131968787,"body_markdown":"Does these links answer your question? -- [Why is JSON invalid if an integer begins with a leading zero?](https://stackoverflow.com/q/27361565/113116), [Numbers cannot begin with a zero in JSON?](https://stackoverflow.com/q/46345894/113116)","body":"Does these links answer your question? -- <a href=\"https://stackoverflow.com/q/27361565/113116\">Why is JSON invalid if an integer begins with a leading zero?</a>, <a href=\"https://stackoverflow.com/q/46345894/113116\">Numbers cannot begin with a zero in JSON?</a>"}],"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670859854,"creation_date":1670859854,"question_id":74773648,"body_markdown":"how to Allow leading zero&#39;s,\r\nI am getting the below exception,\r\n\r\n    Caused by: org.springframework.core.codec.DecodingException: JSON decoding error: Invalid numeric value: Leading zeroes not allowed; nested exception is com.fasterxml.jackson.core.JsonParseException: Invalid numeric value: Leading zeroes not allowed\r\n     at [Source: (org.springframework.core.io.buffer.DefaultDataBuffer$DefaultDataBufferInputStream); line: 4, column: 21]\r\n\r\nthe swagger definition for the amount with Regex,\r\n\r\n     &quot;amount&quot;: {\r\n          &quot;type&quot;: &quot;number&quot;,\r\n          &quot;description&quot;: &quot;The amount of tnx&quot;,\r\n          &quot;pattern&quot; : &quot;^-?[0-9]*(\\\\.([0-9]{1,2}))?$&quot;,\r\n          &quot;example&quot; : &quot;9999.99&quot;\r\n        }, \r\n\r\nWorking test:\r\n&quot;amount&quot;: 6.81\r\n\r\nnot Working test with exception:\r\n&quot;amount&quot;: 06.81\r\n     ","title":"how to allow amount filed with leading zero with open API swagger definition","body":"<p>how to Allow leading zero's,\nI am getting the below exception,</p>\n<pre><code>Caused by: org.springframework.core.codec.DecodingException: JSON decoding error: Invalid numeric value: Leading zeroes not allowed; nested exception is com.fasterxml.jackson.core.JsonParseException: Invalid numeric value: Leading zeroes not allowed\n at [Source: (org.springframework.core.io.buffer.DefaultDataBuffer$DefaultDataBufferInputStream); line: 4, column: 21]\n</code></pre>\n<p>the swagger definition for the amount with Regex,</p>\n<pre><code> &quot;amount&quot;: {\n      &quot;type&quot;: &quot;number&quot;,\n      &quot;description&quot;: &quot;The amount of tnx&quot;,\n      &quot;pattern&quot; : &quot;^-?[0-9]*(\\\\.([0-9]{1,2}))?$&quot;,\n      &quot;example&quot; : &quot;9999.99&quot;\n    }, \n</code></pre>\n<p>Working test:\n&quot;amount&quot;: 6.81</p>\n<p>not Working test with exception:\n&quot;amount&quot;: 06.81</p>\n"},{"tags":["java","mongodb","nosql","nosql-injection"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1670860106,"post_id":74773639,"comment_id":131965152,"body_markdown":"See https://blog.websecurify.com/2014/08/hacking-nodejs-and-mongodb","body":"See <a href=\"https://blog.websecurify.com/2014/08/hacking-nodejs-and-mongodb\" rel=\"nofollow noreferrer\">blog.websecurify.com/2014/08/hacking-nodejs-and-mongodb</a>"},{"owner":{"account_id":19704761,"reputation":13,"user_id":14426703,"display_name":"P00"},"score":0,"creation_date":1670860239,"post_id":74773639,"comment_id":131965198,"body_markdown":"I was looking for a solution with a java server, not javascript","body":"I was looking for a solution with a java server, not javascript"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1670863103,"post_id":74773639,"comment_id":131966268,"body_markdown":"I think the injetion value for password and user should be in your case `&quot;$gt\\&quot;: \\&quot;&quot;`, since the opening and closing quotes are already there","body":"I think the injetion value for password and user should be in your case <code>&quot;$gt\\&quot;: \\&quot;&quot;</code>, since the opening and closing quotes are already there"},{"owner":{"account_id":19704761,"reputation":13,"user_id":14426703,"display_name":"P00"},"score":0,"creation_date":1670863887,"post_id":74773639,"comment_id":131966564,"body_markdown":"I get this error: org.bson.json.JsonParseException: Invalid JSON input. Position: 42. Character: &#39;\\&#39;. I think it could be beacouse this line: FindIterable&lt;org.bson.Document&gt; cursor2 = collection.find(obj.parse(andQuery)); Meaby when it convert the string in the org object its when it adds the quotes. Is it right?","body":"I get this error: org.bson.json.JsonParseException: Invalid JSON input. Position: 42. Character: &#39;\\&#39;. I think it could be beacouse this line: FindIterable&lt;org.bson.Document&gt; cursor2 = collection.find(obj.parse(andQuery)); Meaby when it convert the string in the org object its when it adds the quotes. Is it right?"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1670864083,"post_id":74773639,"comment_id":131966635,"body_markdown":"I meant the rar value `$gt&quot;: &quot;`, how did the query look like","body":"I meant the rar value <code>$gt&quot;: &quot;</code>, how did the query look like"},{"owner":{"account_id":19704761,"reputation":13,"user_id":14426703,"display_name":"P00"},"score":0,"creation_date":1670864249,"post_id":74773639,"comment_id":131966692,"body_markdown":"it doesn&#39;t work either. The error is: org.bson.json.JsonParseException: JSON reader was expecting a name but found &#39;:&#39;","body":"it doesn&#39;t work either. The error is: org.bson.json.JsonParseException: JSON reader was expecting a name but found &#39;:&#39;"}],"owner":{"account_id":19704761,"reputation":13,"user_id":14426703,"display_name":"P00"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670859821,"creation_date":1670859821,"question_id":74773639,"body_markdown":"I am trying to create a java servlet with a NoSQL injection vulnerability. I&#39;ve connected the servlet with MongoDB and check if the login info submitted by the user exists, I&#39;m doing the next query:\r\n```\r\nString andQuery = &quot;{$and: [{user: \\&quot;&quot;+u+&quot;\\&quot;}, {password: \\&quot;&quot;+p+&quot;\\&quot;}]}&quot;;\r\n```\r\nWhere u is the user and p is the password given by the user.\r\nFor what I&#39;ve seen this is correct, and the NoSQL injection should exist, bu I really dont kno how to prove it.\r\n\r\nI&#39;ve tried submitting with burp this:\r\n```\r\nusername[$ne]=1&amp;password[$ne]=1\r\n```\r\nBut its not working, and when I check the content of u and p after I submitted that the content of both variables is null.\r\nI dont have the servlet configured to receive json objects so I need a solition that doesn&#39;t imply send a json object with burp.\r\n\r\nPD: I tryed also to insert something like this:\r\n\r\n```\r\n{\\&quot;$gt\\&quot;:\\&quot;\\&quot; }\r\n```\r\nin the user and password fields but the result query is\r\n```\r\n{&quot;$and&quot;: [{&quot;user&quot;: &quot;{\\&quot;$gt\\&quot;:\\&quot;\\&quot; }&quot;}, {&quot;password&quot;: &quot;{\\&quot;$gt\\&quot;:\\&quot;\\&quot; }&quot;}]}\r\n```\r\nI guess this doesn&#39;t work because the {\\&quot;$gt\\&quot;:\\&quot;\\&quot; } is in quotes, &#191;how can I do the servlet to be vulnarable and with which input it would be vulnerabel?\r\n\r\n\r\n\r\n\r\n","title":"NoSQL injection - java server","body":"<p>I am trying to create a java servlet with a NoSQL injection vulnerability. I've connected the servlet with MongoDB and check if the login info submitted by the user exists, I'm doing the next query:</p>\n<pre><code>String andQuery = &quot;{$and: [{user: \\&quot;&quot;+u+&quot;\\&quot;}, {password: \\&quot;&quot;+p+&quot;\\&quot;}]}&quot;;\n</code></pre>\n<p>Where u is the user and p is the password given by the user.\nFor what I've seen this is correct, and the NoSQL injection should exist, bu I really dont kno how to prove it.</p>\n<p>I've tried submitting with burp this:</p>\n<pre><code>username[$ne]=1&amp;password[$ne]=1\n</code></pre>\n<p>But its not working, and when I check the content of u and p after I submitted that the content of both variables is null.\nI dont have the servlet configured to receive json objects so I need a solition that doesn't imply send a json object with burp.</p>\n<p>PD: I tryed also to insert something like this:</p>\n<pre><code>{\\&quot;$gt\\&quot;:\\&quot;\\&quot; }\n</code></pre>\n<p>in the user and password fields but the result query is</p>\n<pre><code>{&quot;$and&quot;: [{&quot;user&quot;: &quot;{\\&quot;$gt\\&quot;:\\&quot;\\&quot; }&quot;}, {&quot;password&quot;: &quot;{\\&quot;$gt\\&quot;:\\&quot;\\&quot; }&quot;}]}\n</code></pre>\n<p>I guess this doesn't work because the {&quot;$gt&quot;:&quot;&quot; } is in quotes, how can I do the servlet to be vulnarable and with which input it would be vulnerabel?</p>\n"},{"tags":["java","android","flutter","google-play-console"],"answers":[{"tags":[],"owner":{"account_id":459638,"reputation":6041,"user_id":860212,"display_name":"karllindmark"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670859680,"creation_date":1670841117,"answer_id":74769743,"question_id":74769442,"body_markdown":"If you want to install two flavors of a given application at the same time, you&#39;ll need to resort to changing the `applicationId` for the two apps so that they&#39;re not identical. One of the easier ways of doing so is by setting the `applicationIdSuffix` in your Gradle files for the different flavors.\r\n\r\n[Google mentions this in their documentation][1]: \r\n\r\n&gt; When you build an APK or AAB for your app, the build tools tag the app with the application ID defined in the defaultConfig block from the build.gradle file (as shown below). However, if you want to create different versions of your app to appear as separate listings on Google Play Store, such as a &quot;free&quot; and &quot;pro&quot; version, you need to create separate build variants that each have a different application ID.\r\n\r\n&gt; In this case, each build variant should be defined as a separate product flavor. For each flavor inside the productFlavors block, you can redefine the applicationId property, or you can instead append a segment to the default application ID using **applicationIdSuffix**\r\n\r\n  [1]: https://developer.android.com/studio/build/build-variants#change-app-id","title":"I want to install 2 application with same package name one from play store and second from android studio? How can i do it","body":"<p>If you want to install two flavors of a given application at the same time, you'll need to resort to changing the <code>applicationId</code> for the two apps so that they're not identical. One of the easier ways of doing so is by setting the <code>applicationIdSuffix</code> in your Gradle files for the different flavors.</p>\n<p><a href=\"https://developer.android.com/studio/build/build-variants#change-app-id\" rel=\"nofollow noreferrer\">Google mentions this in their documentation</a>:</p>\n<blockquote>\n<p>When you build an APK or AAB for your app, the build tools tag the app with the application ID defined in the defaultConfig block from the build.gradle file (as shown below). However, if you want to create different versions of your app to appear as separate listings on Google Play Store, such as a &quot;free&quot; and &quot;pro&quot; version, you need to create separate build variants that each have a different application ID.</p>\n</blockquote>\n<blockquote>\n<p>In this case, each build variant should be defined as a separate product flavor. For each flavor inside the productFlavors block, you can redefine the applicationId property, or you can instead append a segment to the default application ID using <strong>applicationIdSuffix</strong></p>\n</blockquote>\n"}],"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":734,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74769743,"answer_count":1,"score":0,"last_activity_date":1670859680,"creation_date":1670839578,"question_id":74769442,"body_markdown":"Hello **Android Devs**\r\n\r\n&gt; I have an application that is already on the play store as a **live **app that already installed on my phone. Now I want to install the beta app for myself.\r\n\r\nIn Gradle file I already made 2 flavors 1. dev &amp; 2. live \r\n\r\nDetailed: \r\n\r\nSo the problem is I uploaded the app on the play console with* package name: com.example.one* when i installed the app on live it install properly but when I install it from the android studio it uninstalls live app and beta app.\r\n\r\nMy developer friend give me a suggestion that change the package name and installed it on your phone\r\nbut what if when i upload latest version on live it can any problem like jks and package issue from google play.\r\n\r\n\r\nI already change package name but what if play store reject my app because i change app package name. ","title":"I want to install 2 application with same package name one from play store and second from android studio? How can i do it","body":"<p>Hello <strong>Android Devs</strong></p>\n<blockquote>\n<p>I have an application that is already on the play store as a **live **app that already installed on my phone. Now I want to install the beta app for myself.</p>\n</blockquote>\n<p>In Gradle file I already made 2 flavors 1. dev &amp; 2. live</p>\n<p>Detailed:</p>\n<p>So the problem is I uploaded the app on the play console with* package name: com.example.one* when i installed the app on live it install properly but when I install it from the android studio it uninstalls live app and beta app.</p>\n<p>My developer friend give me a suggestion that change the package name and installed it on your phone\nbut what if when i upload latest version on live it can any problem like jks and package issue from google play.</p>\n<p>I already change package name but what if play store reject my app because i change app package name.</p>\n"},{"tags":["java","docker","maven"],"comments":[{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":1,"creation_date":1670846660,"post_id":74770488,"comment_id":131960194,"body_markdown":"Do you want the json files included in docker image or consume them from docker image but keeping them outside of image?","body":"Do you want the json files included in docker image or consume them from docker image but keeping them outside of image?"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1670859545,"post_id":74770488,"comment_id":131964920,"body_markdown":"If the main goal of your process is to process files that live on the host system, you&#39;ll find Docker&#39;s core filesystem isolation features to work against you, and you might find it substantially easier to run your program directly on the host.","body":"If the main goal of your process is to process files that live on the host system, you&#39;ll find Docker&#39;s core filesystem isolation features to work against you, and you might find it substantially easier to run your program directly on the host."}],"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670859616,"creation_date":1670844780,"question_id":74770488,"body_markdown":"I am creating a Java Maven project with main class i.e. it is executable. I require multiple json files as input from user, these files could be in arbitrary amount (i.e. the number of files is not fixed).\r\n\r\nThen I have to create a docker image of this project, how could I take these arbitrary number of json files from user and use it in the Java class using Docker.\r\n\r\nAny help with suggestions/links would be very appreciated.","title":"Standard way to take multiple files as input in Java main class using docker","body":"<p>I am creating a Java Maven project with main class i.e. it is executable. I require multiple json files as input from user, these files could be in arbitrary amount (i.e. the number of files is not fixed).</p>\n<p>Then I have to create a docker image of this project, how could I take these arbitrary number of json files from user and use it in the Java class using Docker.</p>\n<p>Any help with suggestions/links would be very appreciated.</p>\n"},{"tags":["java","java-stream","zip"],"answers":[{"tags":[],"owner":{"account_id":49303,"reputation":4598,"user_id":146745,"accept_rate":71,"display_name":"andrej"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621078932,"creation_date":1621078932,"answer_id":67546354,"question_id":66411556,"body_markdown":"This is related to ZIP64 subformat https://www.ibm.com/support/pages/zip-file-unreadable-cause-javautilzipzipexception-invalid-entry-size\r\n\r\nNewer java7 and java8 releases have this fixed - jdk-1.8.0_91 is not ok, openjdk-1.8.0.212.b04 is ok.","title":"Stream Zip files: java.util.zip.ZipException: invalid entry size (expected 0 but got 419 bytes)","body":"<p>This is related to ZIP64 subformat <a href=\"https://www.ibm.com/support/pages/zip-file-unreadable-cause-javautilzipzipexception-invalid-entry-size\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/pages/zip-file-unreadable-cause-javautilzipzipexception-invalid-entry-size</a></p>\n<p>Newer java7 and java8 releases have this fixed - jdk-1.8.0_91 is not ok, openjdk-1.8.0.212.b04 is ok.</p>\n"},{"tags":[],"owner":{"account_id":2087466,"reputation":176,"user_id":1858072,"display_name":"cjgriscom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670859207,"creation_date":1670804123,"answer_id":74765564,"question_id":66411556,"body_markdown":"Even as recent as jdk-1.8.0_341, there still seems to be a [bug related to ZIP64][1] in `ZipInputStream`.\r\n\r\nIt triggers under these conditions:\r\n - File size and compressed size are under 4 GiB\r\n - The local file header is ZIP64-encoded\r\n - Actual file sizes are contained within a trailing data descriptor\r\n\r\n`ZipInputStream` interprets the data descriptor as 32-bit despite the local file header being ZIP64 and therefore reads the file size incorrectly.  The culprit is here in the `readEnd()` method:\r\n\r\n     if ((flag &amp; 8) == 8) {\r\n        /* &quot;Data Descriptor&quot; present */\r\n        if (inf.getBytesWritten() &gt; ZIP64_MAGICVAL ||\r\n            inf.getBytesRead() &gt; ZIP64_MAGICVAL) {\r\n            // ZIP64 format\r\n            ...\r\n\r\nA bug fix should look something like this:\r\n\r\n     if ((flag &amp; 8) == 8) {\r\n        /* &quot;Data Descriptor&quot; present */\r\n        if (/* file header was ZIP64*/) {\r\n            // ZIP64 format\r\n            ...\r\n\r\nThe exception is only thrown once all of the file data is read and `ZipInputStream` attempts to close and verify the `ZipEntry` sizes, and CRC.  So the stream may be manually advanced using reflection to recover from the error.\r\n    \r\n    ZipInputStream zipStream = ...;\r\n    zipStream.getNextEntry();\r\n    try {\r\n        // Read file data\r\n        zipStream.read(...);\r\n    } catch (ZipException e) {\r\n        \r\n        // Recover from error condition\r\n        if (e.getMessage().startsWith(&quot;invalid entry size (expected 0 &quot;)) {\r\n            // Grab pushback stream\r\n            Field inF = FilterInputStream.class.getDeclaredField(&quot;in&quot;); inF.setAccessible(true);\r\n            PushbackInputStream in = (PushbackInputStream) inF.get(zipStream);\r\n            \r\n            for (int i = 0; i &lt; 8; i++) in.read(); // Read 8 extra bytes to compensate footer\r\n            \r\n            // Close the entry manually\r\n            Field f = ZipInputStream.class.getDeclaredField(&quot;entryEOF&quot;);\r\n            f.setAccessible(true);\r\n            f.set(zipStream, true);\r\n            f = ZipInputStream.class.getDeclaredField(&quot;entry&quot;);\r\n            f.setAccessible(true);\r\n            f.set(zipStream, null);\r\n        } else {\r\n            throw e;\r\n        }\r\n    }\r\n    zipStream.getNextEntry(); // Continue as if exception hadn&#39;t occured\r\n    \r\nI created a complete packaged solution available at this repository.  There are also some sample ZIPs under test resources that will trigger the bug.\r\n\r\nhttps://github.com/cjgriscom/ZipInputStreamPatch64\r\n\r\n\r\n  [1]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8298530","title":"Stream Zip files: java.util.zip.ZipException: invalid entry size (expected 0 but got 419 bytes)","body":"<p>Even as recent as jdk-1.8.0_341, there still seems to be a <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8298530\" rel=\"nofollow noreferrer\">bug related to ZIP64</a> in <code>ZipInputStream</code>.</p>\n<p>It triggers under these conditions:</p>\n<ul>\n<li>File size and compressed size are under 4 GiB</li>\n<li>The local file header is ZIP64-encoded</li>\n<li>Actual file sizes are contained within a trailing data descriptor</li>\n</ul>\n<p><code>ZipInputStream</code> interprets the data descriptor as 32-bit despite the local file header being ZIP64 and therefore reads the file size incorrectly.  The culprit is here in the <code>readEnd()</code> method:</p>\n<pre><code> if ((flag &amp; 8) == 8) {\n    /* &quot;Data Descriptor&quot; present */\n    if (inf.getBytesWritten() &gt; ZIP64_MAGICVAL ||\n        inf.getBytesRead() &gt; ZIP64_MAGICVAL) {\n        // ZIP64 format\n        ...\n</code></pre>\n<p>A bug fix should look something like this:</p>\n<pre><code> if ((flag &amp; 8) == 8) {\n    /* &quot;Data Descriptor&quot; present */\n    if (/* file header was ZIP64*/) {\n        // ZIP64 format\n        ...\n</code></pre>\n<p>The exception is only thrown once all of the file data is read and <code>ZipInputStream</code> attempts to close and verify the <code>ZipEntry</code> sizes, and CRC.  So the stream may be manually advanced using reflection to recover from the error.</p>\n<pre><code>ZipInputStream zipStream = ...;\nzipStream.getNextEntry();\ntry {\n    // Read file data\n    zipStream.read(...);\n} catch (ZipException e) {\n    \n    // Recover from error condition\n    if (e.getMessage().startsWith(&quot;invalid entry size (expected 0 &quot;)) {\n        // Grab pushback stream\n        Field inF = FilterInputStream.class.getDeclaredField(&quot;in&quot;); inF.setAccessible(true);\n        PushbackInputStream in = (PushbackInputStream) inF.get(zipStream);\n        \n        for (int i = 0; i &lt; 8; i++) in.read(); // Read 8 extra bytes to compensate footer\n        \n        // Close the entry manually\n        Field f = ZipInputStream.class.getDeclaredField(&quot;entryEOF&quot;);\n        f.setAccessible(true);\n        f.set(zipStream, true);\n        f = ZipInputStream.class.getDeclaredField(&quot;entry&quot;);\n        f.setAccessible(true);\n        f.set(zipStream, null);\n    } else {\n        throw e;\n    }\n}\nzipStream.getNextEntry(); // Continue as if exception hadn't occured\n</code></pre>\n<p>I created a complete packaged solution available at this repository.  There are also some sample ZIPs under test resources that will trigger the bug.</p>\n<p><a href=\"https://github.com/cjgriscom/ZipInputStreamPatch64\" rel=\"nofollow noreferrer\">https://github.com/cjgriscom/ZipInputStreamPatch64</a></p>\n"}],"owner":{"account_id":4210124,"reputation":812,"user_id":3448078,"display_name":"Florian Metzger-Noel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2599,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74765564,"answer_count":2,"score":2,"last_activity_date":1670859207,"creation_date":1614531352,"question_id":66411556,"body_markdown":"I have a web service processing contents of ZIP files which I receive from a network source and stream back to a network target on the fly. This works great for many about 60% of my test files, but 40% of them can&#39;t be processed, because `zipEntry.getSize()` returns `-1` as the file size of all zip entries. \r\n\r\nBelow you can see two java tests streaming contents from a source zip to a target zip. The first one accepts any `InputStream` as a source (which is what I need, as I get my data directly from the network) and fails processing zip entries with unknown (`-1`) size. \r\n\r\nThe second test knows how to handle entries with unknown (`-1`) size, but can only handle streams originating from a local file (which is not what I need - it&#39;s only here to proof, that the zip files in question are not corrupt).\r\n\r\nThere&#39;s a lot of example online for handling local zip files - but very few about dealing with network streams, which is why I have a very hard time finding a solution to this.\r\n\r\nThe error thrown by the first example is `Stream Zip files: java.util.zip.ZipException: invalid entry size (expected 0 but got 419 bytes)`\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\npackage de.ftk.threemf.mesh;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.apache.commons.io.IOUtils;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.Date;\r\nimport java.util.Enumeration;\r\nimport java.util.zip.*;\r\n\r\n@Slf4j\r\npublic class ZipStreamTests {\r\n\r\n    @Test\r\n    public void generalizedStreamZipTest() throws IOException {\r\n        Path path = Path.of(&quot;testdata/brokenzip/trex.3mf&quot;);\r\n        InputStream in = Files.newInputStream(path);\r\n        OutputStream out = Files.newOutputStream(Path.of(&quot;testoutput/ziptest.3mf&quot;));\r\n\r\n        ZipInputStream zipInputStream = new ZipInputStream(in);\r\n        ZipEntry zipEntry;\r\n\r\n        CheckedOutputStream checkedOutputStream = new CheckedOutputStream(out, new Adler32());\r\n        ZipOutputStream zipOutputStream = new ZipOutputStream(checkedOutputStream);\r\n\r\n        while ((zipEntry = zipInputStream.getNextEntry()) != null) {\r\n            log.info(&quot;zip file contains: {} modified on {}&quot;, zipEntry.getName(), new Date(zipEntry.getTime()));\r\n            zipOutputStream.putNextEntry(zipEntry);\r\n            log.info(&quot;expecting &quot; + zipEntry.getSize() + &quot; bytes&quot;);\r\n            IOUtils.copy(zipInputStream, zipOutputStream);\r\n            zipOutputStream.closeEntry();\r\n            zipInputStream.closeEntry();\r\n        }\r\n        zipInputStream.close();\r\n        zipOutputStream.finish();\r\n        zipOutputStream.close();\r\n        in.close();\r\n        out.close();\r\n    }\r\n\r\n    @Test\r\n    public void fileStreamZipTest() throws IOException {\r\n        ZipFile zipFile = new ZipFile(&quot;testdata/brokenzip/trex.3mf&quot;);\r\n        final ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(&quot;testoutput/ziptest.3mf&quot;));\r\n        for (Enumeration&lt;? extends ZipEntry&gt; e = zipFile.entries(); e.hasMoreElements(); ) {\r\n            ZipEntry entryIn = e.nextElement();\r\n            log.info(&quot;zip file contains: {} modified on {}&quot;, entryIn.getName(), new Date(entryIn.getTime()));\r\n            ZipEntry zipEntry = new ZipEntry(entryIn.getName());\r\n            log.info(&quot;expecting &quot; + zipEntry.getSize() + &quot; bytes&quot;);\r\n            zos.putNextEntry(zipEntry);\r\n            InputStream is = zipFile.getInputStream(entryIn);\r\n            byte[] buf = new byte[1024];\r\n            int len;\r\n            while ((len = (is.read(buf))) &gt; 0) {\r\n                zos.write(buf);\r\n            }\r\n            zos.closeEntry();\r\n        }\r\n        zos.close();\r\n    }\r\n\r\n}\r\n```\r\n\r\nHint: A `3MF` file is a `ZIP` file containing 3D-Models.","title":"Stream Zip files: java.util.zip.ZipException: invalid entry size (expected 0 but got 419 bytes)","body":"<p>I have a web service processing contents of ZIP files which I receive from a network source and stream back to a network target on the fly. This works great for many about 60% of my test files, but 40% of them can't be processed, because <code>zipEntry.getSize()</code> returns <code>-1</code> as the file size of all zip entries.</p>\n<p>Below you can see two java tests streaming contents from a source zip to a target zip. The first one accepts any <code>InputStream</code> as a source (which is what I need, as I get my data directly from the network) and fails processing zip entries with unknown (<code>-1</code>) size.</p>\n<p>The second test knows how to handle entries with unknown (<code>-1</code>) size, but can only handle streams originating from a local file (which is not what I need - it's only here to proof, that the zip files in question are not corrupt).</p>\n<p>There's a lot of example online for handling local zip files - but very few about dealing with network streams, which is why I have a very hard time finding a solution to this.</p>\n<p>The error thrown by the first example is <code>Stream Zip files: java.util.zip.ZipException: invalid entry size (expected 0 but got 419 bytes)</code></p>\n<p>Here's my code:</p>\n<pre><code>package de.ftk.threemf.mesh;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.io.IOUtils;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.Date;\nimport java.util.Enumeration;\nimport java.util.zip.*;\n\n@Slf4j\npublic class ZipStreamTests {\n\n    @Test\n    public void generalizedStreamZipTest() throws IOException {\n        Path path = Path.of(&quot;testdata/brokenzip/trex.3mf&quot;);\n        InputStream in = Files.newInputStream(path);\n        OutputStream out = Files.newOutputStream(Path.of(&quot;testoutput/ziptest.3mf&quot;));\n\n        ZipInputStream zipInputStream = new ZipInputStream(in);\n        ZipEntry zipEntry;\n\n        CheckedOutputStream checkedOutputStream = new CheckedOutputStream(out, new Adler32());\n        ZipOutputStream zipOutputStream = new ZipOutputStream(checkedOutputStream);\n\n        while ((zipEntry = zipInputStream.getNextEntry()) != null) {\n            log.info(&quot;zip file contains: {} modified on {}&quot;, zipEntry.getName(), new Date(zipEntry.getTime()));\n            zipOutputStream.putNextEntry(zipEntry);\n            log.info(&quot;expecting &quot; + zipEntry.getSize() + &quot; bytes&quot;);\n            IOUtils.copy(zipInputStream, zipOutputStream);\n            zipOutputStream.closeEntry();\n            zipInputStream.closeEntry();\n        }\n        zipInputStream.close();\n        zipOutputStream.finish();\n        zipOutputStream.close();\n        in.close();\n        out.close();\n    }\n\n    @Test\n    public void fileStreamZipTest() throws IOException {\n        ZipFile zipFile = new ZipFile(&quot;testdata/brokenzip/trex.3mf&quot;);\n        final ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(&quot;testoutput/ziptest.3mf&quot;));\n        for (Enumeration&lt;? extends ZipEntry&gt; e = zipFile.entries(); e.hasMoreElements(); ) {\n            ZipEntry entryIn = e.nextElement();\n            log.info(&quot;zip file contains: {} modified on {}&quot;, entryIn.getName(), new Date(entryIn.getTime()));\n            ZipEntry zipEntry = new ZipEntry(entryIn.getName());\n            log.info(&quot;expecting &quot; + zipEntry.getSize() + &quot; bytes&quot;);\n            zos.putNextEntry(zipEntry);\n            InputStream is = zipFile.getInputStream(entryIn);\n            byte[] buf = new byte[1024];\n            int len;\n            while ((len = (is.read(buf))) &gt; 0) {\n                zos.write(buf);\n            }\n            zos.closeEntry();\n        }\n        zos.close();\n    }\n\n}\n</code></pre>\n<p>Hint: A <code>3MF</code> file is a <code>ZIP</code> file containing 3D-Models.</p>\n"},{"tags":["java","spring","sap-commerce-cloud","impex","hybris-data-hub"],"answers":[{"tags":[],"owner":{"account_id":3392662,"reputation":5562,"user_id":2847159,"display_name":"mkysoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666955794,"creation_date":1666955794,"answer_id":74234561,"question_id":74234054,"body_markdown":"You need to extend RegisterForm, RegisterData, RegistrationPageController and CustomerFacade to transfer new field value to model.","title":"Adding attribute on registration page using Hybris setup","body":"<p>You need to extend RegisterForm, RegisterData, RegistrationPageController and CustomerFacade to transfer new field value to model.</p>\n"},{"tags":[],"owner":{"account_id":9558879,"reputation":40,"user_id":7100452,"display_name":"Aldali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667917017,"creation_date":1667917017,"answer_id":74362264,"question_id":74234054,"body_markdown":"**Before I jump into the solution, I&#39;d like to clarify my approach:**\r\n\r\nA new change request (CR) is needed in the default (OOTB) registration functionality (or it can be any other functionality in SAP CC). The CR includes UI and data model changes. Basically, adding new field in the registration form, then passing it to `CustomerModel` to persist it in the database.\r\n\r\n**Now to the solution:**\r\n\r\nI&#39;m assuming that you managed to add the new form registration field in the UI, hence, I&#39;m proceeding with java code side.\r\n\r\nThe method for the registration is in `LoginPageController.java` class.\r\n\r\n```\r\n@RequestMapping(value = &quot;/register&quot;, method = RequestMethod.POST)\r\n\tpublic String doRegister(@RequestHeader(value = &quot;referer&quot;, required = false)\r\n\tfinal String referer, final RegisterForm form, final BindingResult bindingResult, final Model model,\r\n\t\t\tfinal HttpServletRequest request, final HttpServletResponse response, final RedirectAttributes redirectModel)\r\n\t\t\tthrows CMSItemNotFoundException\r\n\t{\r\n\t\tgetRegistrationValidator().validate(form, bindingResult);\r\n\t\treturn processRegisterUserRequest(referer, form, bindingResult, model, request, response, redirectModel);\r\n\t}\r\n```\r\n\r\nFirst of all, you need to add the new attribute &lt;i&gt;`pan`&lt;/i&gt; to RegisterForm.java by extending the original form.\r\n\r\n```\r\npublic class CustomRegisterForm extends RegisterForm \r\n{\r\n\tprivate String pan;\r\n\r\n\tpublic String getPan() {\r\n\t\treturn pan;\r\n\t}\r\n\r\n\tpublic void setPan(String pan) {\r\n\t\tthis.pan = pan;\r\n\t}\r\n}\r\n```\r\nAnd you need to replace the parameter `final RegisterForm form` with `final CustomRegisterForm form`in above `doRegister` method.\r\n\r\nNext, you need to add a new property &lt;i&gt;`pan`&lt;/i&gt; to `RegisterData` bean in custom-beans.xml file.\r\n\r\n```\r\n&lt;bean class=&quot;de.hybris.platform.commercefacades.user.data.RegisterData&quot;&gt;\r\n\t&lt;property name=&quot;pan&quot; type=&quot;String&quot;/&gt;\r\n&lt;/bean&gt;\r\n``` \r\n\r\nThen you need to write your a custom `processRegisterUserRequest` method that has the parameter `final CustomRegisterForm form` instead of `final RegisterForm form`. \r\n\r\nThe content of the method will be almost the same with adding one extra line to set the value of the new attribute &lt;i&gt;`pan`&lt;/i&gt; in `RegisterData`.\r\n\r\n```\r\nfinal RegisterData data = new RegisterData();\r\n...\r\n...\r\ndata.setPan(form.getPan());\r\n\r\n```\r\n\r\nLastly, you need to extend the default implementation of `DefaultCustomerFacade.java` (let&#39;s say `DefaultCustomCustomerFacade.java`) and override the bean definition in custom-spring.xml file.\r\n\r\n```\r\n&lt;alias name=&quot;defaultCustomCustomerFacade&quot; alias=&quot;b2bCustomerFacade&quot;/&gt;\r\n&lt;bean id=&quot;defaultCustomCustomerFacade&quot; class=&quot;xxx.yyy.uuu.DefaultCustomCustomerFacade&quot; parent=&quot;defaultB2BCustomerFacade&quot;&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nIn your `DefaultCustomCustomerFacade.java` you mainly will override two methods which are &lt;i&gt;`register`&lt;/i&gt; and &lt;i&gt;`setCommonPropertiesForRegister`&lt;/i&gt;\r\n\r\nIn &lt;i&gt;`setCommonPropertiesForRegister`&lt;/i&gt; you will set the value of the new attribute &lt;i&gt;`pan`&lt;/i&gt; in `CustomerModel`.\r\n\r\n```\r\nprotected void setCommonPropertiesForRegister(final RegisterData registerData, final CustomerModel customerModel)\r\n{\r\n     ...\r\n     ...\r\n     ...\r\n     customerModel.setPan(registerData.getPan());\r\n}\r\n```\r\n\r\nAs the CustomerModel.Pan value is set now, when the CustomerModel is saved, the value of &lt;i&gt;`pan`&lt;/i&gt; will be persisted in the database.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Adding attribute on registration page using Hybris setup","body":"<p><strong>Before I jump into the solution, I'd like to clarify my approach:</strong></p>\n<p>A new change request (CR) is needed in the default (OOTB) registration functionality (or it can be any other functionality in SAP CC). The CR includes UI and data model changes. Basically, adding new field in the registration form, then passing it to <code>CustomerModel</code> to persist it in the database.</p>\n<p><strong>Now to the solution:</strong></p>\n<p>I'm assuming that you managed to add the new form registration field in the UI, hence, I'm proceeding with java code side.</p>\n<p>The method for the registration is in <code>LoginPageController.java</code> class.</p>\n<pre><code>@RequestMapping(value = &quot;/register&quot;, method = RequestMethod.POST)\n    public String doRegister(@RequestHeader(value = &quot;referer&quot;, required = false)\n    final String referer, final RegisterForm form, final BindingResult bindingResult, final Model model,\n            final HttpServletRequest request, final HttpServletResponse response, final RedirectAttributes redirectModel)\n            throws CMSItemNotFoundException\n    {\n        getRegistrationValidator().validate(form, bindingResult);\n        return processRegisterUserRequest(referer, form, bindingResult, model, request, response, redirectModel);\n    }\n</code></pre>\n<p>First of all, you need to add the new attribute <i><code>pan</code></i> to RegisterForm.java by extending the original form.</p>\n<pre><code>public class CustomRegisterForm extends RegisterForm \n{\n    private String pan;\n\n    public String getPan() {\n        return pan;\n    }\n\n    public void setPan(String pan) {\n        this.pan = pan;\n    }\n}\n</code></pre>\n<p>And you need to replace the parameter <code>final RegisterForm form</code> with <code>final CustomRegisterForm form</code>in above <code>doRegister</code> method.</p>\n<p>Next, you need to add a new property <i><code>pan</code></i> to <code>RegisterData</code> bean in custom-beans.xml file.</p>\n<pre><code>&lt;bean class=&quot;de.hybris.platform.commercefacades.user.data.RegisterData&quot;&gt;\n    &lt;property name=&quot;pan&quot; type=&quot;String&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Then you need to write your a custom <code>processRegisterUserRequest</code> method that has the parameter <code>final CustomRegisterForm form</code> instead of <code>final RegisterForm form</code>.</p>\n<p>The content of the method will be almost the same with adding one extra line to set the value of the new attribute <i><code>pan</code></i> in <code>RegisterData</code>.</p>\n<pre><code>final RegisterData data = new RegisterData();\n...\n...\ndata.setPan(form.getPan());\n\n</code></pre>\n<p>Lastly, you need to extend the default implementation of <code>DefaultCustomerFacade.java</code> (let's say <code>DefaultCustomCustomerFacade.java</code>) and override the bean definition in custom-spring.xml file.</p>\n<pre><code>&lt;alias name=&quot;defaultCustomCustomerFacade&quot; alias=&quot;b2bCustomerFacade&quot;/&gt;\n&lt;bean id=&quot;defaultCustomCustomerFacade&quot; class=&quot;xxx.yyy.uuu.DefaultCustomCustomerFacade&quot; parent=&quot;defaultB2BCustomerFacade&quot;&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>In your <code>DefaultCustomCustomerFacade.java</code> you mainly will override two methods which are <i><code>register</code></i> and <i><code>setCommonPropertiesForRegister</code></i></p>\n<p>In <i><code>setCommonPropertiesForRegister</code></i> you will set the value of the new attribute <i><code>pan</code></i> in <code>CustomerModel</code>.</p>\n<pre><code>protected void setCommonPropertiesForRegister(final RegisterData registerData, final CustomerModel customerModel)\n{\n     ...\n     ...\n     ...\n     customerModel.setPan(registerData.getPan());\n}\n</code></pre>\n<p>As the CustomerModel.Pan value is set now, when the CustomerModel is saved, the value of <i><code>pan</code></i> will be persisted in the database.</p>\n"}],"owner":{"account_id":26745867,"reputation":11,"user_id":20345940,"display_name":"user0809"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670858996,"creation_date":1666952956,"question_id":74234054,"body_markdown":"I have added a new attribute `Pan` (pancard number) on the registration form. Validations are also working fine. But if I hit the register tab, I get an error like\r\n\r\n&gt;de.hybris.platform.servicelayer.exceptions.ModelSavingException: [de.hybris.platform.servicelayer.interceptor.impl.MandatoryAttributesValidator@246420ba]:missing values for [pan] in model CustomerModel () to create a new Customer] with root cause de.hybris.platform.servicelayer.interceptor.impl.MandatoryAttributesValidator$MissingMandatoryAttributesException: [de.hybris.platform.servicelayer.interceptor.impl.MandatoryAttributesValidator@246420ba]:missing values for [pan] in model CustomerModel () to create a new Customer\r\n\r\nTo resolve this error I tried modifier `optional = &quot;true&quot;` in items.xml doing that above error got resolved but I am not able to store the value for the pan.  \r\nSo please help me to solve both issues customermodel error and storing value in the database.\r\n","title":"Adding attribute on registration page using Hybris setup","body":"<p>I have added a new attribute <code>Pan</code> (pancard number) on the registration form. Validations are also working fine. But if I hit the register tab, I get an error like</p>\n<blockquote>\n<p>de.hybris.platform.servicelayer.exceptions.ModelSavingException: [de.hybris.platform.servicelayer.interceptor.impl.MandatoryAttributesValidator@246420ba]:missing values for [pan] in model CustomerModel () to create a new Customer] with root cause de.hybris.platform.servicelayer.interceptor.impl.MandatoryAttributesValidator$MissingMandatoryAttributesException: [de.hybris.platform.servicelayer.interceptor.impl.MandatoryAttributesValidator@246420ba]:missing values for [pan] in model CustomerModel () to create a new Customer</p>\n</blockquote>\n<p>To resolve this error I tried modifier <code>optional = &quot;true&quot;</code> in items.xml doing that above error got resolved but I am not able to store the value for the pan.<br />\nSo please help me to solve both issues customermodel error and storing value in the database.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":23741747,"reputation":3,"user_id":17759706,"display_name":"Narendran Thirunavukkarasu"},"score":0,"creation_date":1672703703,"post_id":74773392,"comment_id":132331596,"body_markdown":"Yeah it actually worked but what if user want get notification whenever the changes happen in their data?","body":"Yeah it actually worked but what if user want get notification whenever the changes happen in their data?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1672732071,"post_id":74773392,"comment_id":132335541,"body_markdown":"That definitely possible using [Firebase Cloud Messaging](https://firebase.google.com/products/cloud-messaging).","body":"That definitely possible using <a href=\"https://firebase.google.com/products/cloud-messaging\" rel=\"nofollow noreferrer\">Firebase Cloud Messaging</a>."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670858660,"creation_date":1670858660,"answer_id":74773392,"question_id":74772668,"body_markdown":"What does [Query#addListenerForSingleValueEvent(ValueEventListener listener)][1] method it:\r\n\r\n&gt; Add a listener for a single change in the data at this location.\r\n\r\nThis means that you&#39;ll get the data only once, without future updates. If you want a persistent listener to listen for real-time changes, then you  use [Query#addValueEventListener(ValueEventListener listener)][2] that:\r\n\r\n&gt; Add a listener for changes in the data at this location.\r\n\r\nSo each time something is added, changed, or deleted you&#39;re notified almost instantly. If you want, you can also use a library for that, which is called [Firebase-UI][3].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addValueEventListener(com.google.firebase.database.ValueEventListener)\r\n  [3]: https://github.com/firebase/FirebaseUI-Android","title":"Is there is way to update the data to user once changed without opening the app?","body":"<p>What does <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)\" rel=\"nofollow noreferrer\">Query#addListenerForSingleValueEvent(ValueEventListener listener)</a> method it:</p>\n<blockquote>\n<p>Add a listener for a single change in the data at this location.</p>\n</blockquote>\n<p>This means that you'll get the data only once, without future updates. If you want a persistent listener to listen for real-time changes, then you  use <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addValueEventListener(com.google.firebase.database.ValueEventListener)\" rel=\"nofollow noreferrer\">Query#addValueEventListener(ValueEventListener listener)</a> that:</p>\n<blockquote>\n<p>Add a listener for changes in the data at this location.</p>\n</blockquote>\n<p>So each time something is added, changed, or deleted you're notified almost instantly. If you want, you can also use a library for that, which is called <a href=\"https://github.com/firebase/FirebaseUI-Android\" rel=\"nofollow noreferrer\">Firebase-UI</a>.</p>\n"}],"owner":{"account_id":23741747,"reputation":3,"user_id":17759706,"display_name":"Narendran Thirunavukkarasu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74773392,"answer_count":1,"score":0,"last_activity_date":1670858660,"creation_date":1670855550,"question_id":74772668,"body_markdown":"Recently, I&#39;m working on an app which is used to set alarm to other users who are logged in to the app, But problem is how can I set alarm to other user when the data is changed in the real-time database of firebase. Is there is any way that if I update the data of other user and It should to retrieved and updated in other users application and alarm should set when data is received.\r\n\r\n---\r\n\r\n```\r\n DatabaseReference duser = FirebaseDatabase.getInstance().getReference(&quot;Alarm&quot;);\r\n                duser.keepSynced(true);\r\n                FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n                duser.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        String ids = snapshot.child(id).getKey();\r\n                        Log.d(&quot;ID   : &quot;, ids+&quot;&quot;);\r\n                        String hour = snapshot.child(id).child(&quot;hour&quot;).toString();\r\n                        Log.d(&quot;HOUR :  &quot;, hour+&quot;&quot;);\r\n                        String minute = snapshot.child(id).child(&quot;minute&quot;).toString();\r\n                    }\r\n```\r\n\r\n---\r\n\r\n[Database][1]\r\nThis is my database.\r\n\r\nIf yes please explain me, how to do.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YvPGT.png","title":"Is there is way to update the data to user once changed without opening the app?","body":"<p>Recently, I'm working on an app which is used to set alarm to other users who are logged in to the app, But problem is how can I set alarm to other user when the data is changed in the real-time database of firebase. Is there is any way that if I update the data of other user and It should to retrieved and updated in other users application and alarm should set when data is received.</p>\n<hr />\n<pre><code> DatabaseReference duser = FirebaseDatabase.getInstance().getReference(&quot;Alarm&quot;);\n                duser.keepSynced(true);\n                FirebaseDatabase.getInstance().setPersistenceEnabled(true);\n                duser.addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        String ids = snapshot.child(id).getKey();\n                        Log.d(&quot;ID   : &quot;, ids+&quot;&quot;);\n                        String hour = snapshot.child(id).child(&quot;hour&quot;).toString();\n                        Log.d(&quot;HOUR :  &quot;, hour+&quot;&quot;);\n                        String minute = snapshot.child(id).child(&quot;minute&quot;).toString();\n                    }\n</code></pre>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/YvPGT.png\" rel=\"nofollow noreferrer\">Database</a>\nThis is my database.</p>\n<p>If yes please explain me, how to do.</p>\n"},{"tags":["java","spring-boot","validation","annotations","numberformatexception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1670855210,"post_id":74772565,"comment_id":131963172,"body_markdown":"you should correct your values: &quot;20c15\\ is not a valid numerical value","body":"you should correct your values: &quot;20c15\\ is not a valid numerical value"},{"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"score":0,"creation_date":1670922402,"post_id":74772565,"comment_id":131979283,"body_markdown":"That&#39;s just an example to show the issue I&#39;m facing. Basically, if a user sends an invalid value like the one above, I don&#39;t want them getting that message in the response. I&#39;d like to replace it with something of my own.","body":"That&#39;s just an example to show the issue I&#39;m facing. Basically, if a user sends an invalid value like the one above, I don&#39;t want them getting that message in the response. I&#39;d like to replace it with something of my own."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670858247,"creation_date":1670858247,"answer_id":74773305,"question_id":74772565,"body_markdown":"The answer is very short: no. That&#39;s because the validation is configured for the `Integer year` field. That means that the field must get populated before it can be validated. That population fails if you submit a value that cannot be parsed to an `Integer`.\r\n\r\nThe best way to handle this case is to add error handling for the mapping exception. For Jackson that&#39;s a `MismatchedInputException`.\r\n\r\nAn alternative is to change the field to a `String`. That allows you to use `@Pattern`, but you will need to convert yourself. That can be done in the class itself using a getter.","title":"Handle validation for non numeric characters getting passed to Integer variable","body":"<p>The answer is very short: no. That's because the validation is configured for the <code>Integer year</code> field. That means that the field must get populated before it can be validated. That population fails if you submit a value that cannot be parsed to an <code>Integer</code>.</p>\n<p>The best way to handle this case is to add error handling for the mapping exception. For Jackson that's a <code>MismatchedInputException</code>.</p>\n<p>An alternative is to change the field to a <code>String</code>. That allows you to use <code>@Pattern</code>, but you will need to convert yourself. That can be done in the class itself using a getter.</p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670858247,"creation_date":1670855120,"question_id":74772565,"body_markdown":"Is there an annotation that could be used to prevent the following error from getting thrown by my Java application if I send a non numerical value for year in my GET request?\r\n\r\nI currently have this:\r\n\r\n```Java\r\n@NotNull\r\n@Digits(integer = 4, fraction = 0, message = &quot;Provide valid Year in the format YYYY&quot;)\r\n@Min(value = 1900, message = &quot;Year must be greater than 1900&quot;)\r\nprivate Integer year;\r\n```\r\n\r\nWhen I pass a value with letters I get a `NumberFormatException` before `@Digits` and `@Min` is executed. I also tried @Pattern with a regex value but that caused a 500 error.\r\n\r\n```JSON\r\n&quot;Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Integer&#39; for property &#39;yearOfReg&#39;; nested exception is java.lang.NumberFormatException: For input string: \\&quot;20c15\\&quot;\r\n```\r\n","title":"Handle validation for non numeric characters getting passed to Integer variable","body":"<p>Is there an annotation that could be used to prevent the following error from getting thrown by my Java application if I send a non numerical value for year in my GET request?</p>\n<p>I currently have this:</p>\n<pre><code>@NotNull\n@Digits(integer = 4, fraction = 0, message = &quot;Provide valid Year in the format YYYY&quot;)\n@Min(value = 1900, message = &quot;Year must be greater than 1900&quot;)\nprivate Integer year;\n</code></pre>\n<p>When I pass a value with letters I get a <code>NumberFormatException</code> before <code>@Digits</code> and <code>@Min</code> is executed. I also tried @Pattern with a regex value but that caused a 500 error.</p>\n<pre><code>&quot;Failed to convert property value of type 'java.lang.String' to required type 'java.lang.Integer' for property 'yearOfReg'; nested exception is java.lang.NumberFormatException: For input string: \\&quot;20c15\\&quot;\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","composite-primary-key"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670858599,"post_id":74773297,"comment_id":131964534,"body_markdown":"This is not possible. But why is the timestamp part of the key? UUID is already unique","body":"This is not possible. But why is the timestamp part of the key? UUID is already unique"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670860429,"post_id":74773297,"comment_id":131965269,"body_markdown":"Perhaps the duplication of fields with `@IdClass` causes this. You don&#39;t need `@IdClass` to generate composite primary keys. Multiple `@Id` already handle this","body":"Perhaps the duplication of fields with <code>@IdClass</code> causes this. You don&#39;t need <code>@IdClass</code> to generate composite primary keys. Multiple <code>@Id</code> already handle this"},{"owner":{"account_id":27229630,"reputation":1,"user_id":20757565,"display_name":"uzovky"},"score":0,"creation_date":1670860569,"post_id":74773297,"comment_id":131965337,"body_markdown":"@SimonMartinelli the reason timestamp is part of the primary key is because they want to create different rows with the same ID (ULID) and different createdAt (timestamp) when a row changes, so there is no update of rows, only creating new rows that are essentially the same, but different version. This is inefficient, but not a problem in certain DB providers.","body":"@SimonMartinelli the reason timestamp is part of the primary key is because they want to create different rows with the same ID (ULID) and different createdAt (timestamp) when a row changes, so there is no update of rows, only creating new rows that are essentially the same, but different version. This is inefficient, but not a problem in certain DB providers."},{"owner":{"account_id":27229630,"reputation":1,"user_id":20757565,"display_name":"uzovky"},"score":1,"creation_date":1670860819,"post_id":74773297,"comment_id":131965437,"body_markdown":"@XtremeBaumer are you sure about that? How then are you going to use the composite key in a spring repository: `public interface MyEntityRepository extends JpaRepository&lt;MyEntity, BasePK` I believe the shadowing `@IdClass` is required.","body":"@XtremeBaumer are you sure about that? How then are you going to use the composite key in a spring repository: <code>public interface MyEntityRepository extends JpaRepository&lt;MyEntity, BasePK</code> I believe the shadowing <code>@IdClass</code> is required."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670860924,"post_id":74773297,"comment_id":131965467,"body_markdown":"@XtremeBaumer According to the JPA spec you must have a IdClass.","body":"@XtremeBaumer According to the JPA spec you must have a IdClass."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670861099,"post_id":74773297,"comment_id":131965540,"body_markdown":"Hibernate supports GeneratedValue in composite PKs from Hibernate 6. Are you using Spring Boot 3?","body":"Hibernate supports GeneratedValue in composite PKs from Hibernate 6. Are you using Spring Boot 3?"},{"owner":{"account_id":27229630,"reputation":1,"user_id":20757565,"display_name":"uzovky"},"score":0,"creation_date":1670924340,"post_id":74773297,"comment_id":131979996,"body_markdown":"@SimonMartinelli No, we are not using Hibernate 6, although `@GenerateValue` is available in 5.X too, as you can see in the example, we are using it in the `id` part of the composite key to apply our custom `ULID` generator.","body":"@SimonMartinelli No, we are not using Hibernate 6, although <code>@GenerateValue</code> is available in 5.X too, as you can see in the example, we are using it in the <code>id</code> part of the composite key to apply our custom <code>ULID</code> generator."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670924448,"post_id":74773297,"comment_id":131980022,"body_markdown":"Yes, it&#39;s available but doesn&#39;t work with composite keys","body":"Yes, it&#39;s available but doesn&#39;t work with composite keys"},{"owner":{"account_id":27229630,"reputation":1,"user_id":20757565,"display_name":"uzovky"},"score":0,"creation_date":1670928032,"post_id":74773297,"comment_id":131981238,"body_markdown":"@SimonMartinelli It is actually working, as you can see in my example, the `id` field (which is part of a composite key) is correctly working with `@GenerateValue`. There is no problem in that at all.","body":"@SimonMartinelli It is actually working, as you can see in my example, the <code>id</code> field (which is part of a composite key) is correctly working with <code>@GenerateValue</code>. There is no problem in that at all."}],"owner":{"account_id":27229630,"reputation":1,"user_id":20757565,"display_name":"uzovky"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670858187,"creation_date":1670858187,"question_id":74773297,"body_markdown":"We have an entity which is using a composite primary key (we are using `@IdClass` approach because we want to use our custom ID generator). This composite key is defined like this:\r\n\r\n```java\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class BasePK implements Serializable {\r\n\r\n    private String id;\r\n    private Instant createdAt;\r\n    \r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (!(o instanceof BasePK)) {\r\n            return false;\r\n        }\r\n        BasePK that = (BasePK) o;\r\n        return Objects.equals(id, that.id) &amp;&amp; Objects.equals(createdAt, that.createdAt);\r\n    }\r\n    \r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, createdAt);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd the entity class looks like this:\r\n\r\n```java\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@IdClass(BasePK.class)\r\n@Table(name = &quot;MY_TABLE&quot;)\r\n@Entity\r\npublic class MyEntity implements Identifiable &lt;String&gt; {\r\n\r\n    @Id\r\n    @NotNull\r\n    @GenericGenerator(name = &quot;ulid-generator&quot;, strategy = &quot;com.example.common.jpa.ULIDIdentifier&quot;)\r\n    @GeneratedValue(generator = &quot;ulid-generator&quot;)\r\n    @Column(name = &quot;ID&quot;, updatable = false, nullable = false, length = 26)\r\n    private String id;\r\n    \r\n    @Id\r\n    @Generated(GenerationTime.INSERT)\r\n    @Column(name = &quot;CREATED_AT&quot;, insertable = false, updatable = false, nullable = false)\r\n    private Instant createdAt;\r\n    \r\n    // ETC.\r\n\r\n}\r\n```\r\n\r\nThe SQL definition is like these (notice that we want to generate the `CREATED_AT` in the database side just by using a default current UCT time):\r\n\r\n```sql\r\nMY_TABLE {\r\n    key ID           String(26) not null;\r\n    key CREATED_AT   Timestamp not null default CURRENT_UTCTIMESTAMP;\r\n    // ETC.\r\n}\r\n```\r\n\r\nWe are aware that using timestamp is not good idea in primary keys and that it could also very easily be generated in application side by using Hibernate `@CreatedDate` annotation, but the requirements we have received is that **this timestamp has to be generated in database side**.\r\n\r\nSo we tried the approach of using the Hibernate annotation `@Generated` in order to tell Hibernate to exclude the `createdAt` from the generated SQL, but we noticed that that field is still there in the Hibernate generated SQL: `Hibernate: insert into MY_TABLE (ID, OTHER_FIELDS, CREATED_AT) values (?, ?, ?)` and that is, of course, making the inserting to fail, because the statement has an extra value that shifts everything resulting in inserting the wrong type and value in the wrong fields.\r\n\r\nIs there any way to achieve what we are trying (even though it might be a bad design from the beginning, but for now is not in our hands to change those requirements).","title":"Is it possible to use together @Id (from JPA) and @Generated (from Hibernate) annotations for a field which is part of a composite primary key?","body":"<p>We have an entity which is using a composite primary key (we are using <code>@IdClass</code> approach because we want to use our custom ID generator). This composite key is defined like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class BasePK implements Serializable {\n\n    private String id;\n    private Instant createdAt;\n    \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (!(o instanceof BasePK)) {\n            return false;\n        }\n        BasePK that = (BasePK) o;\n        return Objects.equals(id, that.id) &amp;&amp; Objects.equals(createdAt, that.createdAt);\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(id, createdAt);\n    }\n\n}\n</code></pre>\n<p>And the entity class looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@Getter\n@Setter\n@IdClass(BasePK.class)\n@Table(name = &quot;MY_TABLE&quot;)\n@Entity\npublic class MyEntity implements Identifiable &lt;String&gt; {\n\n    @Id\n    @NotNull\n    @GenericGenerator(name = &quot;ulid-generator&quot;, strategy = &quot;com.example.common.jpa.ULIDIdentifier&quot;)\n    @GeneratedValue(generator = &quot;ulid-generator&quot;)\n    @Column(name = &quot;ID&quot;, updatable = false, nullable = false, length = 26)\n    private String id;\n    \n    @Id\n    @Generated(GenerationTime.INSERT)\n    @Column(name = &quot;CREATED_AT&quot;, insertable = false, updatable = false, nullable = false)\n    private Instant createdAt;\n    \n    // ETC.\n\n}\n</code></pre>\n<p>The SQL definition is like these (notice that we want to generate the <code>CREATED_AT</code> in the database side just by using a default current UCT time):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>MY_TABLE {\n    key ID           String(26) not null;\n    key CREATED_AT   Timestamp not null default CURRENT_UTCTIMESTAMP;\n    // ETC.\n}\n</code></pre>\n<p>We are aware that using timestamp is not good idea in primary keys and that it could also very easily be generated in application side by using Hibernate <code>@CreatedDate</code> annotation, but the requirements we have received is that <strong>this timestamp has to be generated in database side</strong>.</p>\n<p>So we tried the approach of using the Hibernate annotation <code>@Generated</code> in order to tell Hibernate to exclude the <code>createdAt</code> from the generated SQL, but we noticed that that field is still there in the Hibernate generated SQL: <code>Hibernate: insert into MY_TABLE (ID, OTHER_FIELDS, CREATED_AT) values (?, ?, ?)</code> and that is, of course, making the inserting to fail, because the statement has an extra value that shifts everything resulting in inserting the wrong type and value in the wrong fields.</p>\n<p>Is there any way to achieve what we are trying (even though it might be a bad design from the beginning, but for now is not in our hands to change those requirements).</p>\n"},{"tags":["java","mysql","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1671046794,"post_id":74766301,"comment_id":132015559,"body_markdown":"One suggestion: [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) chose `Y`  instead of `y` and different languages use them differently. Since in most cases, we use `y` in Java, I prefer to use `y` in a Java answer.","body":"One suggestion: <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> chose <code>Y</code>  instead of <code>y</code> and different languages use them differently. Since in most cases, we use <code>y</code> in Java, I prefer to use <code>y</code> in a Java answer."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1670857248,"creation_date":1670814675,"answer_id":74766301,"question_id":74765635,"body_markdown":"# Keep year &amp; month together, as a single value\r\n\r\nYour problem seems to stem from thinking of the year and the month as separate values. Instead, combine them. Think in terms of year-month, a single unit.\r\n\r\n## `YearMonth` class\r\n\r\nJava includes a class for this concept. Its name is appropriate: `YearMonth`, in the *java.time* package.\r\n\r\n    YearMonth ym = YearMonth.of ( 2023 , 3 ) ;\r\n\r\nOr use the `Month` enum, to ensure valid values.\r\n\r\n    YearMonth ym = YearMonth.of ( 2023 , Month.MARCH ) ;\r\n\r\nYou can represent your slots for each month and year by using a [`Map`][1]. Keep the keys in sorted order by using a `NavigableMap`. \r\n\r\n    NavigableMap&lt; YearMonth , UUID &gt; map = new TreeMap&lt;&gt;() ;\r\n    map.put( \r\n        YearMonth.of ( 2023 , Month.MARCH ) , \r\n        UUID.randomUUID()\r\n    );\r\n    map.put( \r\n        YearMonth.of ( 2023 , Month.FEBRUARY ) , \r\n        UUID.randomUUID()\r\n    );\r\n\r\nTest if a value has already been put.\r\n\r\n    boolean alreadyPut2023March = map.containsKey( YearMonth.of ( 2023 , Month.MARCH ) ) ;\r\n\r\n## ISO 8601\r\n\r\nFor text purposes, use standard [ISO 8601][2] format: YYYY-MM\r\n\r\nThe *java.time* classes use ISO 8601 formats by default when parsing/generating text.\r\n\r\n    String iso8601Output = YearMonth.of ( 2023 , Month.MARCH ).toString() ;\r\n\r\n&gt;2023-03\r\n\r\nSuch a string could be used for storage in your database, assuming your database does not offer a year-month data type. I don&#39;t know of any database that does offer such a data type. So text will suffice. \r\n\r\nNotice that when sorted alphabetically, the values are also sorted chronologically. \r\n\r\nYour JSON would look like this:\r\n\r\n```json\r\n{\r\n    &quot;year-month&quot;: &quot;2023-03&quot;,\r\n    &quot;readingTime&quot;: &quot;1&quot;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601","title":"How to allow for only one month-year combination in java sb","body":"<h1>Keep year &amp; month together, as a single value</h1>\n<p>Your problem seems to stem from thinking of the year and the month as separate values. Instead, combine them. Think in terms of year-month, a single unit.</p>\n<h2><code>YearMonth</code> class</h2>\n<p>Java includes a class for this concept. Its name is appropriate: <code>YearMonth</code>, in the <em>java.time</em> package.</p>\n<pre><code>YearMonth ym = YearMonth.of ( 2023 , 3 ) ;\n</code></pre>\n<p>Or use the <code>Month</code> enum, to ensure valid values.</p>\n<pre><code>YearMonth ym = YearMonth.of ( 2023 , Month.MARCH ) ;\n</code></pre>\n<p>You can represent your slots for each month and year by using a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a>. Keep the keys in sorted order by using a <code>NavigableMap</code>.</p>\n<pre><code>NavigableMap&lt; YearMonth , UUID &gt; map = new TreeMap&lt;&gt;() ;\nmap.put( \n    YearMonth.of ( 2023 , Month.MARCH ) , \n    UUID.randomUUID()\n);\nmap.put( \n    YearMonth.of ( 2023 , Month.FEBRUARY ) , \n    UUID.randomUUID()\n);\n</code></pre>\n<p>Test if a value has already been put.</p>\n<pre><code>boolean alreadyPut2023March = map.containsKey( YearMonth.of ( 2023 , Month.MARCH ) ) ;\n</code></pre>\n<h2>ISO 8601</h2>\n<p>For text purposes, use standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format: YYYY-MM</p>\n<p>The <em>java.time</em> classes use ISO 8601 formats by default when parsing/generating text.</p>\n<pre><code>String iso8601Output = YearMonth.of ( 2023 , Month.MARCH ).toString() ;\n</code></pre>\n<blockquote>\n<p>2023-03</p>\n</blockquote>\n<p>Such a string could be used for storage in your database, assuming your database does not offer a year-month data type. I don't know of any database that does offer such a data type. So text will suffice.</p>\n<p>Notice that when sorted alphabetically, the values are also sorted chronologically.</p>\n<p>Your JSON would look like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;year-month&quot;: &quot;2023-03&quot;,\n    &quot;readingTime&quot;: &quot;1&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74766301,"answer_count":1,"score":-1,"last_activity_date":1670857248,"creation_date":1670805054,"question_id":74765635,"body_markdown":"How do I allow input for only one month-year combination in Java Spring Boot. I need to make sure that user (postman client) can input one recording (randomly generated value) per month of that year. So for example: month: February -&gt; Year: 2020 -&gt; generatedValue = *something random*. And when user goes to input February 2020 again it throws an exception. I&#39;ve tried with storing years and months in seperate lists, to check if there&#39;s month with that year already present in the database, but to no avail. In RecordService in first if I&#39;m trying to see if there isn&#39;t present year that user entered. For example if there is not a year 2021 then the &quot;if&quot; should add that year to a list so i can check the month-year combo. It works, but not what I need because the second if always throws a RuntimeException(), except when I enter a year that hasn&#39;t been entered (for example there are years 2020, 2021 and 2022 but there isn&#39;t a year 2023, so when user adds for example:\r\n\r\n    {\r\n        &quot;month&quot;: &quot;March&quot;,\r\n        &quot;year&quot;: &quot;2023&quot;,\r\n        &quot;readingTime&quot;: &quot;1&quot;\r\n    }\r\nthe code will work because there isn&#39;t a year 2023 in the list, but as soon as they try to enter \r\n\r\n    {\r\n        &quot;month&quot;: &quot;May&quot;,\r\n        &quot;year&quot;: &quot;2023&quot;,\r\n        &quot;readingTime&quot;: &quot;1&quot;\r\n    }\r\nit will not work because the year is already present, even tho it should because there isn&#39;t may-2023 combo in the db. I&#39;ve tried to have a boolean to check if the combo exists, but that doesn&#39;t make any sense to me. So please, please help :)\r\n Here is my code.\r\n\r\nRecordController.java\r\n\r\n    @PostMapping(&quot;/{client_id}&quot;)\r\n        public Record add(@PathVariable Long client_id, @RequestBody Record record){\r\n            return recordService.add(client_id, record);\r\n        }\r\n\r\n\r\nRecordService.java\r\n\r\n    public Record add(Long client_id, Record record){\r\n    \r\n           List&lt;String&gt; monthList = months();\r\n           List&lt;Integer&gt; yearList = years();\r\n    \r\n            Record recordSave = new Record();\r\n            recordSave.setId(client_id);\r\n            recordSave.setYear(record.getYear());\r\n            recordSave.setMonth(record.getMonth());\r\n            recordSave.setReadingTime(record.getReadingTime());\r\n            recordSave.setReadingValue(randomGenerate());\r\n            \r\n            \r\n    \r\n            //Does not work\r\n            if (!yearList.contains(recordSave.getYear())){\r\n                yearList.add(recordSave.getYear());\r\n            }\r\n    \r\n    \r\n            //Does not work\r\n            if (monthList.contains(recordSave.getMonth()) &amp;&amp; yearList.contains(recordSave.getYear())){\r\n                    throw new RuntimeException();\r\n            }\r\n            else {\r\n                    recordRepository.save(recordSave);\r\n            }\r\n            return null;\r\n        }\r\n\r\n\r\nRecord.java\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;record&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;,&quot;device&quot;})\r\n    public class Record implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        String month;\r\n        Integer year;\r\n        String readingTime;\r\n        Float readingValue;\r\n    \r\n        boolean isPresent;\r\n    }\r\n\r\n\r\n\r\nRandomGenerateValue &amp; month-year functions\r\n\r\n    public Float randomGenerate(){\r\n            int max = 105, min = 14;\r\n    \r\n            float random_float = (float)Math.floor(Math.random()*(max-min+1)+min);\r\n    \r\n            return random_float;\r\n        }\r\n    \r\n        public List&lt;String&gt; months(){\r\n            List&lt;String&gt; monthList = new ArrayList&lt;&gt;();\r\n    \r\n            monthList.add(&quot;January&quot;); monthList.add(&quot;February&quot;); monthList.add(&quot;March&quot;); monthList.add(&quot;April&quot;);\r\n            monthList.add(&quot;May&quot;); monthList.add(&quot;June&quot;); monthList.add(&quot;July&quot;); monthList.add(&quot;August&quot;);\r\n            monthList.add(&quot;September&quot;); monthList.add(&quot;October&quot;);  monthList.add(&quot;November&quot;); monthList.add(&quot;December&quot;);\r\n    \r\n            return monthList;\r\n        }\r\n    \r\n        public List&lt;Integer&gt; years(){\r\n            List&lt;Integer&gt; yearList = new ArrayList&lt;&gt;();\r\n    \r\n            yearList.add(2020);\r\n            yearList.add(2021);\r\n            return yearList;\r\n        }","title":"How to allow for only one month-year combination in java sb","body":"<p>How do I allow input for only one month-year combination in Java Spring Boot. I need to make sure that user (postman client) can input one recording (randomly generated value) per month of that year. So for example: month: February -&gt; Year: 2020 -&gt; generatedValue = <em>something random</em>. And when user goes to input February 2020 again it throws an exception. I've tried with storing years and months in seperate lists, to check if there's month with that year already present in the database, but to no avail. In RecordService in first if I'm trying to see if there isn't present year that user entered. For example if there is not a year 2021 then the &quot;if&quot; should add that year to a list so i can check the month-year combo. It works, but not what I need because the second if always throws a RuntimeException(), except when I enter a year that hasn't been entered (for example there are years 2020, 2021 and 2022 but there isn't a year 2023, so when user adds for example:</p>\n<pre><code>{\n    &quot;month&quot;: &quot;March&quot;,\n    &quot;year&quot;: &quot;2023&quot;,\n    &quot;readingTime&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>the code will work because there isn't a year 2023 in the list, but as soon as they try to enter</p>\n<pre><code>{\n    &quot;month&quot;: &quot;May&quot;,\n    &quot;year&quot;: &quot;2023&quot;,\n    &quot;readingTime&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>it will not work because the year is already present, even tho it should because there isn't may-2023 combo in the db. I've tried to have a boolean to check if the combo exists, but that doesn't make any sense to me. So please, please help :)\nHere is my code.</p>\n<p>RecordController.java</p>\n<pre><code>@PostMapping(&quot;/{client_id}&quot;)\n    public Record add(@PathVariable Long client_id, @RequestBody Record record){\n        return recordService.add(client_id, record);\n    }\n</code></pre>\n<p>RecordService.java</p>\n<pre><code>public Record add(Long client_id, Record record){\n\n       List&lt;String&gt; monthList = months();\n       List&lt;Integer&gt; yearList = years();\n\n        Record recordSave = new Record();\n        recordSave.setId(client_id);\n        recordSave.setYear(record.getYear());\n        recordSave.setMonth(record.getMonth());\n        recordSave.setReadingTime(record.getReadingTime());\n        recordSave.setReadingValue(randomGenerate());\n        \n        \n\n        //Does not work\n        if (!yearList.contains(recordSave.getYear())){\n            yearList.add(recordSave.getYear());\n        }\n\n\n        //Does not work\n        if (monthList.contains(recordSave.getMonth()) &amp;&amp; yearList.contains(recordSave.getYear())){\n                throw new RuntimeException();\n        }\n        else {\n                recordRepository.save(recordSave);\n        }\n        return null;\n    }\n</code></pre>\n<p>Record.java</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;record&quot;)\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;,&quot;device&quot;})\npublic class Record implements Serializable {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private Long id;\n\n    String month;\n    Integer year;\n    String readingTime;\n    Float readingValue;\n\n    boolean isPresent;\n}\n</code></pre>\n<p>RandomGenerateValue &amp; month-year functions</p>\n<pre><code>public Float randomGenerate(){\n        int max = 105, min = 14;\n\n        float random_float = (float)Math.floor(Math.random()*(max-min+1)+min);\n\n        return random_float;\n    }\n\n    public List&lt;String&gt; months(){\n        List&lt;String&gt; monthList = new ArrayList&lt;&gt;();\n\n        monthList.add(&quot;January&quot;); monthList.add(&quot;February&quot;); monthList.add(&quot;March&quot;); monthList.add(&quot;April&quot;);\n        monthList.add(&quot;May&quot;); monthList.add(&quot;June&quot;); monthList.add(&quot;July&quot;); monthList.add(&quot;August&quot;);\n        monthList.add(&quot;September&quot;); monthList.add(&quot;October&quot;);  monthList.add(&quot;November&quot;); monthList.add(&quot;December&quot;);\n\n        return monthList;\n    }\n\n    public List&lt;Integer&gt; years(){\n        List&lt;Integer&gt; yearList = new ArrayList&lt;&gt;();\n\n        yearList.add(2020);\n        yearList.add(2021);\n        return yearList;\n    }\n</code></pre>\n"},{"tags":["java","marketo"],"owner":{"account_id":20268932,"reputation":83,"user_id":14865538,"display_name":"white-sagittarius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670857168,"creation_date":1670857168,"question_id":74773048,"body_markdown":"We are trying to export leads via [Bulk Lead Extract][1] Marketo API endpoint using `smartListId` filter.\r\n\r\nCreate lead export job:\r\n[![Create lead export job][2]][2]\r\n\r\nEnqueue lead export job:\r\n[![Enqueue lead export job][3]][3]\r\n\r\nThe job fails with &quot;Invalid smartListId 2017&quot;:\r\n[![Job fails with &quot;Invalid smartListId 2017&quot;][4]][4]\r\n\r\nWe are having trouble understanding what might be preventing this job from succeeding. The smart list in question does not seem to be special in any way:\r\n\r\n```\r\nGET {{endpoint}}/rest/asset/v1/smartList/2017.json?includeRules=true\r\n\r\n{\r\n    &quot;success&quot;: true,\r\n    &quot;errors&quot;: [],\r\n    &quot;requestId&quot;: &quot;a435...9089f2&quot;,\r\n    &quot;warnings&quot;: [],\r\n    &quot;result&quot;: [\r\n        {\r\n            &quot;id&quot;: 2017,\r\n            &quot;name&quot;: &quot;Sync Error&quot;,\r\n            &quot;description&quot;: &quot;jh&quot;,\r\n            &quot;createdAt&quot;: &quot;2018-07-18T20:20:22Z+0000&quot;,\r\n            &quot;updatedAt&quot;: &quot;2022-08-16T16:55:27Z+0000&quot;,\r\n            &quot;url&quot;: &quot;https://app-sj24.marketo.com/#SL2017A1LA1&quot;,\r\n            &quot;folder&quot;: {\r\n                &quot;id&quot;: 1010,\r\n                &quot;type&quot;: &quot;Program&quot;\r\n            },\r\n            &quot;workspace&quot;: &quot;Default&quot;,\r\n            &quot;rules&quot;: {\r\n                &quot;filterMatchType&quot;: &quot;all&quot;,\r\n                &quot;triggers&quot;: [],\r\n                &quot;filters&quot;: []\r\n            }\r\n        }\r\n    ]\r\n}\r\n\r\n```\r\n\r\nWhat could be the reason for this smart list not working with the bulk lead extraction endpoint?\r\n\r\n  [1]: https://developers.marketo.com/rest-api/bulk-extract/bulk-lead-extract/\r\n  [2]: https://i.stack.imgur.com/7K884.png\r\n  [3]: https://i.stack.imgur.com/U3SFK.png\r\n  [4]: https://i.stack.imgur.com/5WNvi.png","title":"Marketo API export lead job fails with &quot;Invalid smartListId&quot; error","body":"<p>We are trying to export leads via <a href=\"https://developers.marketo.com/rest-api/bulk-extract/bulk-lead-extract/\" rel=\"nofollow noreferrer\">Bulk Lead Extract</a> Marketo API endpoint using <code>smartListId</code> filter.</p>\n<p>Create lead export job:\n<a href=\"https://i.stack.imgur.com/7K884.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7K884.png\" alt=\"Create lead export job\" /></a></p>\n<p>Enqueue lead export job:\n<a href=\"https://i.stack.imgur.com/U3SFK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U3SFK.png\" alt=\"Enqueue lead export job\" /></a></p>\n<p>The job fails with &quot;Invalid smartListId 2017&quot;:\n<a href=\"https://i.stack.imgur.com/5WNvi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5WNvi.png\" alt=\"Job fails with &quot;Invalid smartListId 2017&quot;\" /></a></p>\n<p>We are having trouble understanding what might be preventing this job from succeeding. The smart list in question does not seem to be special in any way:</p>\n<pre><code>GET {{endpoint}}/rest/asset/v1/smartList/2017.json?includeRules=true\n\n{\n    &quot;success&quot;: true,\n    &quot;errors&quot;: [],\n    &quot;requestId&quot;: &quot;a435...9089f2&quot;,\n    &quot;warnings&quot;: [],\n    &quot;result&quot;: [\n        {\n            &quot;id&quot;: 2017,\n            &quot;name&quot;: &quot;Sync Error&quot;,\n            &quot;description&quot;: &quot;jh&quot;,\n            &quot;createdAt&quot;: &quot;2018-07-18T20:20:22Z+0000&quot;,\n            &quot;updatedAt&quot;: &quot;2022-08-16T16:55:27Z+0000&quot;,\n            &quot;url&quot;: &quot;https://app-sj24.marketo.com/#SL2017A1LA1&quot;,\n            &quot;folder&quot;: {\n                &quot;id&quot;: 1010,\n                &quot;type&quot;: &quot;Program&quot;\n            },\n            &quot;workspace&quot;: &quot;Default&quot;,\n            &quot;rules&quot;: {\n                &quot;filterMatchType&quot;: &quot;all&quot;,\n                &quot;triggers&quot;: [],\n                &quot;filters&quot;: []\n            }\n        }\n    ]\n}\n\n</code></pre>\n<p>What could be the reason for this smart list not working with the bulk lead extraction endpoint?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1670857190,"post_id":74773010,"comment_id":131963951,"body_markdown":"You&#39;ve imported javafx.scene.text.Font delete that import statement and make sure you&#39;re using java.awt.Font.","body":"You&#39;ve imported javafx.scene.text.Font delete that import statement and make sure you&#39;re using java.awt.Font."}],"answers":[{"comments":[{"owner":{"account_id":25240117,"reputation":15,"user_id":19074097,"display_name":"Rebecca Wulf"},"score":0,"creation_date":1670861928,"post_id":74773046,"comment_id":131965836,"body_markdown":"OMG Thank You!That worked,I ended up deleting the import javafx.scene.text.Font and it worked!","body":"OMG Thank You!That worked,I ended up deleting the import javafx.scene.text.Font and it worked!"}],"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670857156,"creation_date":1670857156,"answer_id":74773046,"question_id":74773010,"body_markdown":"Check your `import` statements. You or your IDE has accidentally imported a different Font class.\r\n\r\nWith Swing you want:\r\n\r\n\tjava.awt.Font\r\n\r\nNot:\r\n\r\n\tjavafx.scene.text.Font","title":"How is the Font Bold method used in Java?","body":"<p>Check your <code>import</code> statements. You or your IDE has accidentally imported a different Font class.</p>\n<p>With Swing you want:</p>\n<pre><code>java.awt.Font\n</code></pre>\n<p>Not:</p>\n<pre><code>javafx.scene.text.Font\n</code></pre>\n"}],"owner":{"account_id":25240117,"reputation":15,"user_id":19074097,"display_name":"Rebecca Wulf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670857485,"accepted_answer_id":74773046,"answer_count":1,"score":-1,"last_activity_date":1670857156,"creation_date":1670857035,"question_id":74773010,"body_markdown":"So,I was trying Java  swing GUI for the first time,and I tried to set the Text from this Label:\r\n```\r\nJLabel label = new JLabel();\r\n```\r\nTo bold with this line:\r\n```\r\nlabel.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 20));\r\n```\r\nAnd I get 2 Errors:\r\n```\r\nBOLD cannot be resolved or is not a field\r\n```\r\nand\r\n```\r\nThe method setFont(java.awt.Font) in the type JComponent is not applicable for the arguments (javafx.scene.text.Font)\r\n```\r\nDid I write something wrong,or am I using stuff,that isn&#39;t supported in that class?","title":"How is the Font Bold method used in Java?","body":"<p>So,I was trying Java  swing GUI for the first time,and I tried to set the Text from this Label:</p>\n<pre><code>JLabel label = new JLabel();\n</code></pre>\n<p>To bold with this line:</p>\n<pre><code>label.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 20));\n</code></pre>\n<p>And I get 2 Errors:</p>\n<pre><code>BOLD cannot be resolved or is not a field\n</code></pre>\n<p>and</p>\n<pre><code>The method setFont(java.awt.Font) in the type JComponent is not applicable for the arguments (javafx.scene.text.Font)\n</code></pre>\n<p>Did I write something wrong,or am I using stuff,that isn't supported in that class?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1670845531,"post_id":74767602,"comment_id":131959854,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1670845543,"post_id":74767602,"comment_id":131959857,"body_markdown":"Besides that, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Besides that, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"score":0,"creation_date":1670850066,"post_id":74767602,"comment_id":131961326,"body_markdown":"I don&#39;t have any errors but the logic to get the data of 7 days is not valid logic.","body":"I don&#39;t have any errors but the logic to get the data of 7 days is not valid logic."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670853868,"post_id":74767602,"comment_id":131962644,"body_markdown":"What does `FirebaseReference.databaseReference(getActivity())`?","body":"What does <code>FirebaseReference.databaseReference(getActivity())</code>?"},{"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"score":0,"creation_date":1670855747,"post_id":74767602,"comment_id":131963373,"body_markdown":"This is my Custom class which is used to reference FirebaseDatabase instance.\n\nPlease check out, i just edited my post.","body":"This is my Custom class which is used to reference FirebaseDatabase instance.  Please check out, i just edited my post."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1670857042,"post_id":74767602,"comment_id":131963904,"body_markdown":"Your `date` field is in a format that can&#39;t be queried through the database API. To allow retrieving a date range through a query, store the date in a format that can be queries, such as ISO 8601 (`2022-12-20`). See https://stackoverflow.com/q/38216858 and https://stackoverflow.com/a/41553469","body":"Your <code>date</code> field is in a format that can&#39;t be queried through the database API. To allow retrieving a date range through a query, store the date in a format that can be queries, such as ISO 8601 (<code>2022-12-20</code>). See <a href=\"https://stackoverflow.com/q/38216858\">stackoverflow.com/q/38216858</a> and <a href=\"https://stackoverflow.com/a/41553469\">stackoverflow.com/a/41553469</a>"}],"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670857048,"answer_count":0,"score":0,"last_activity_date":1670857071,"creation_date":1670828284,"question_id":74767602,"body_markdown":"I&#39;am new to programming. I want to get all the data of an week from firebase database when radio button is checked . How can i achieve that ?\r\n\r\n\r\n**FirebaseReference Class**\r\n\r\n    package com.prabinchand.myexpensev2;\r\n    \r\n    import android.content.Context;\r\n    \r\n    import com.google.android.gms.auth.api.signin.GoogleSignIn;\r\n    import com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    \r\n    public class FirebaseReference {\r\n        public static GoogleSignInAccount account;\r\n        public static DatabaseReference databaseReference;\r\n        public static DatabaseReference incomeReference;\r\n    \r\n        public static DatabaseReference databaseReference(Context context) {\r\n            account = GoogleSignIn.getLastSignedInAccount(context.getApplicationContext());\r\n            databaseReference = FirebaseDatabase.getInstance().getReference()\r\n                    .child(&quot;UsersExpense&quot;).child(Objects.requireNonNull(account.getDisplayName()));\r\n    \r\n            return databaseReference;\r\n        }\r\n    \r\n        public static DatabaseReference incomeDBReference(Context context) {\r\n            account = GoogleSignIn.getLastSignedInAccount(context.getApplicationContext());\r\n            incomeReference = FirebaseDatabase.getInstance().getReference()\r\n                    .child(&quot;UsersIncome&quot;).child(Objects.requireNonNull(account.getDisplayName()));\r\n            return incomeReference;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n```\r\nweeklyCB.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n    @Override\r\n    public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n        if (compoundButton.isChecked()){\r\n            if (getActivity()!=null){\r\n                showTodayDate();\r\n                FirebaseReference.databaseReference(getActivity())\r\n                        .addValueEventListener(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                                for (DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                                    String getDate = dataSnapshot.child(&quot;time&quot;).getValue(String.class);\r\n                                }\r\n                                Query q = FirebaseReference.databaseReference(getActivity()).orderByChild(&quot;time&quot;)\r\n                                        .equalTo(Calendar.DAY_OF_YEAR, String.valueOf(-7));\r\n                                adapter.updateOptions(new FirebaseRecyclerOptions.Builder&lt;ExpenseModel&gt;()\r\n                                        .setQuery(q, ExpenseModel.class).build());\r\n                            }\r\n\r\n                            @Override\r\n                            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                            }\r\n                        });\r\n            }\r\n        }else {\r\n            Toast.makeText(getActivity(), &quot;Weekly unchecked !&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nBelow is the JSON structure of my database reference. From `Users Expense` i want to get all the data of a week, or can say data from 7 days including today. \r\n\r\nHow can i code that gets all the data for 7 days or a week?\r\n\r\nJSON structure \r\n\r\n    {\r\n      &quot;Users&quot;: {\r\n        &quot;Prabin Chand&quot;: {\r\n          &quot;email&quot;: &quot;prabinchand77@gmail.com&quot;,\r\n          &quot;name&quot;: &quot;Prabin Chand&quot;,\r\n          &quot;picture&quot;: &quot;https://lh3.googleusercontent.com/a/AEdFTp7oaRy1fb0vs9ZYwGamVup5a7zatX5M5EfOeDNmrg&quot;\r\n        },\r\n        &quot;gibl rpa&quot;: {\r\n          &quot;email&quot;: &quot;gibl.rpa@gmail.com&quot;,\r\n          &quot;name&quot;: &quot;gibl rpa&quot;,\r\n          &quot;picture&quot;: &quot;null&quot;\r\n        },\r\n        &quot;prabin chand&quot;: {\r\n          &quot;email&quot;: &quot;prabinchand333@gmail.com&quot;,\r\n          &quot;name&quot;: &quot;prabin chand&quot;,\r\n          &quot;picture&quot;: &quot;https://lh3.googleusercontent.com/a/ALm5wu30fbdm8MUC0moXMg1Xjr5N002LOR1wXnfdEOX4&quot;\r\n        }\r\n      },\r\n      &quot;UsersExpense&quot;: {\r\n        &quot;Prabin Chand&quot;: {\r\n          &quot;-NImTBCIMgzWSDc3Kv-9&quot;: {\r\n            &quot;amount&quot;: &quot;250&quot;,\r\n            &quot;description&quot;: &quot;Gros&quot;,\r\n            &quot;exType&quot;: &quot;Grocery&quot;,\r\n            &quot;milli&quot;: -1670515310217,\r\n            &quot;time&quot;: &quot;Thu, 08/12/2022&quot;\r\n          },\r\n          &quot;-NImTEqAMkKijjtGr46u&quot;: {\r\n            &quot;amount&quot;: &quot;450&quot;,\r\n            &quot;description&quot;: &quot;Vada deko&quot;,\r\n            &quot;exType&quot;: &quot;Rent&quot;,\r\n            &quot;milli&quot;: -1670515325121,\r\n            &quot;time&quot;: &quot;Thu, 08/12/2022&quot;\r\n          },\r\n          &quot;-NImTHA4Qk-MY-Bc56ij&quot;: {\r\n            &quot;amount&quot;: &quot;1500&quot;,\r\n            &quot;description&quot;: &quot;Fuel&quot;,\r\n            &quot;exType&quot;: &quot;Bike&quot;,\r\n            &quot;milli&quot;: -1670515334652,\r\n            &quot;time&quot;: &quot;Thu, 08/12/2022&quot;\r\n          },\r\n          &quot;-NImX8bXGd-dTZbctQEB&quot;: {\r\n            &quot;amount&quot;: &quot;500&quot;,\r\n            &quot;description&quot;: &quot;Beer&quot;,\r\n            &quot;exType&quot;: &quot;Beer&quot;,\r\n            &quot;milli&quot;: -1670516755479,\r\n            &quot;time&quot;: &quot;Tue, 6/12/2022&quot;\r\n          },\r\n          &quot;-NIpyTVQwIB4L7e143Xt&quot;: {\r\n            &quot;amount&quot;: &quot;45&quot;,\r\n            &quot;description&quot;: &quot;Ajaja&quot;,\r\n            &quot;exType&quot;: &quot;Grocery&quot;,\r\n            &quot;milli&quot;: -1670574106276,\r\n            &quot;time&quot;: &quot;Fri, 09/12/2022&quot;\r\n          },\r\n          &quot;-NIpyZ73MtQPh9nmoAnR&quot;: {\r\n            &quot;amount&quot;: &quot;45&quot;,\r\n            &quot;description&quot;: &quot;Ajai&quot;,\r\n            &quot;exType&quot;: &quot;Bike&quot;,\r\n            &quot;milli&quot;: -1670574129294,\r\n            &quot;time&quot;: &quot;Fri, 09/12/2022&quot;\r\n          },\r\n          &quot;-NIpycMQKnGrfqaEKKV7&quot;: {\r\n            &quot;amount&quot;: &quot;10&quot;,\r\n            &quot;description&quot;: &quot;Beer aja&quot;,\r\n            &quot;exType&quot;: &quot;Beer&quot;,\r\n            &quot;milli&quot;: -1670574146661,\r\n            &quot;time&quot;: &quot;Fri, 09/12/2022&quot;\r\n          },\r\n          &quot;-NIq50Tcd8VZJHvQihSy&quot;: {\r\n            &quot;amount&quot;: &quot;45&quot;,\r\n            &quot;description&quot;: &quot;Hsksk&quot;,\r\n            &quot;exType&quot;: &quot;Rent&quot;,\r\n            &quot;milli&quot;: -1670576084282,\r\n            &quot;time&quot;: &quot;Fri, 09/12/2022&quot;\r\n          },\r\n          &quot;-NJ4ARWmLeaIsdnxmkXi&quot;: {\r\n            &quot;amount&quot;: &quot;45&quot;,\r\n            &quot;description&quot;: &quot;Aja&quot;,\r\n            &quot;exType&quot;: &quot;Grocery&quot;,\r\n            &quot;milli&quot;: -1670829164672,\r\n            &quot;time&quot;: &quot;Mon, 12/12/2022&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"How to get data of a week from firebase database in android studio using java?","body":"<p>I'am new to programming. I want to get all the data of an week from firebase database when radio button is checked . How can i achieve that ?</p>\n<p><strong>FirebaseReference Class</strong></p>\n<pre><code>package com.prabinchand.myexpensev2;\n\nimport android.content.Context;\n\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\nimport java.util.Objects;\n\n\npublic class FirebaseReference {\n    public static GoogleSignInAccount account;\n    public static DatabaseReference databaseReference;\n    public static DatabaseReference incomeReference;\n\n    public static DatabaseReference databaseReference(Context context) {\n        account = GoogleSignIn.getLastSignedInAccount(context.getApplicationContext());\n        databaseReference = FirebaseDatabase.getInstance().getReference()\n                .child(&quot;UsersExpense&quot;).child(Objects.requireNonNull(account.getDisplayName()));\n\n        return databaseReference;\n    }\n\n    public static DatabaseReference incomeDBReference(Context context) {\n        account = GoogleSignIn.getLastSignedInAccount(context.getApplicationContext());\n        incomeReference = FirebaseDatabase.getInstance().getReference()\n                .child(&quot;UsersIncome&quot;).child(Objects.requireNonNull(account.getDisplayName()));\n        return incomeReference;\n    }\n}\n</code></pre>\n<pre><code>weeklyCB.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n    @Override\n    public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n        if (compoundButton.isChecked()){\n            if (getActivity()!=null){\n                showTodayDate();\n                FirebaseReference.databaseReference(getActivity())\n                        .addValueEventListener(new ValueEventListener() {\n                            @Override\n                            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                                for (DataSnapshot dataSnapshot : snapshot.getChildren()){\n                                    String getDate = dataSnapshot.child(&quot;time&quot;).getValue(String.class);\n                                }\n                                Query q = FirebaseReference.databaseReference(getActivity()).orderByChild(&quot;time&quot;)\n                                        .equalTo(Calendar.DAY_OF_YEAR, String.valueOf(-7));\n                                adapter.updateOptions(new FirebaseRecyclerOptions.Builder&lt;ExpenseModel&gt;()\n                                        .setQuery(q, ExpenseModel.class).build());\n                            }\n\n                            @Override\n                            public void onCancelled(@NonNull DatabaseError error) {\n\n                            }\n                        });\n            }\n        }else {\n            Toast.makeText(getActivity(), &quot;Weekly unchecked !&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n});\n</code></pre>\n<p>Below is the JSON structure of my database reference. From <code>Users Expense</code> i want to get all the data of a week, or can say data from 7 days including today.</p>\n<p>How can i code that gets all the data for 7 days or a week?</p>\n<p>JSON structure</p>\n<pre><code>{\n  &quot;Users&quot;: {\n    &quot;Prabin Chand&quot;: {\n      &quot;email&quot;: &quot;prabinchand77@gmail.com&quot;,\n      &quot;name&quot;: &quot;Prabin Chand&quot;,\n      &quot;picture&quot;: &quot;https://lh3.googleusercontent.com/a/AEdFTp7oaRy1fb0vs9ZYwGamVup5a7zatX5M5EfOeDNmrg&quot;\n    },\n    &quot;gibl rpa&quot;: {\n      &quot;email&quot;: &quot;gibl.rpa@gmail.com&quot;,\n      &quot;name&quot;: &quot;gibl rpa&quot;,\n      &quot;picture&quot;: &quot;null&quot;\n    },\n    &quot;prabin chand&quot;: {\n      &quot;email&quot;: &quot;prabinchand333@gmail.com&quot;,\n      &quot;name&quot;: &quot;prabin chand&quot;,\n      &quot;picture&quot;: &quot;https://lh3.googleusercontent.com/a/ALm5wu30fbdm8MUC0moXMg1Xjr5N002LOR1wXnfdEOX4&quot;\n    }\n  },\n  &quot;UsersExpense&quot;: {\n    &quot;Prabin Chand&quot;: {\n      &quot;-NImTBCIMgzWSDc3Kv-9&quot;: {\n        &quot;amount&quot;: &quot;250&quot;,\n        &quot;description&quot;: &quot;Gros&quot;,\n        &quot;exType&quot;: &quot;Grocery&quot;,\n        &quot;milli&quot;: -1670515310217,\n        &quot;time&quot;: &quot;Thu, 08/12/2022&quot;\n      },\n      &quot;-NImTEqAMkKijjtGr46u&quot;: {\n        &quot;amount&quot;: &quot;450&quot;,\n        &quot;description&quot;: &quot;Vada deko&quot;,\n        &quot;exType&quot;: &quot;Rent&quot;,\n        &quot;milli&quot;: -1670515325121,\n        &quot;time&quot;: &quot;Thu, 08/12/2022&quot;\n      },\n      &quot;-NImTHA4Qk-MY-Bc56ij&quot;: {\n        &quot;amount&quot;: &quot;1500&quot;,\n        &quot;description&quot;: &quot;Fuel&quot;,\n        &quot;exType&quot;: &quot;Bike&quot;,\n        &quot;milli&quot;: -1670515334652,\n        &quot;time&quot;: &quot;Thu, 08/12/2022&quot;\n      },\n      &quot;-NImX8bXGd-dTZbctQEB&quot;: {\n        &quot;amount&quot;: &quot;500&quot;,\n        &quot;description&quot;: &quot;Beer&quot;,\n        &quot;exType&quot;: &quot;Beer&quot;,\n        &quot;milli&quot;: -1670516755479,\n        &quot;time&quot;: &quot;Tue, 6/12/2022&quot;\n      },\n      &quot;-NIpyTVQwIB4L7e143Xt&quot;: {\n        &quot;amount&quot;: &quot;45&quot;,\n        &quot;description&quot;: &quot;Ajaja&quot;,\n        &quot;exType&quot;: &quot;Grocery&quot;,\n        &quot;milli&quot;: -1670574106276,\n        &quot;time&quot;: &quot;Fri, 09/12/2022&quot;\n      },\n      &quot;-NIpyZ73MtQPh9nmoAnR&quot;: {\n        &quot;amount&quot;: &quot;45&quot;,\n        &quot;description&quot;: &quot;Ajai&quot;,\n        &quot;exType&quot;: &quot;Bike&quot;,\n        &quot;milli&quot;: -1670574129294,\n        &quot;time&quot;: &quot;Fri, 09/12/2022&quot;\n      },\n      &quot;-NIpycMQKnGrfqaEKKV7&quot;: {\n        &quot;amount&quot;: &quot;10&quot;,\n        &quot;description&quot;: &quot;Beer aja&quot;,\n        &quot;exType&quot;: &quot;Beer&quot;,\n        &quot;milli&quot;: -1670574146661,\n        &quot;time&quot;: &quot;Fri, 09/12/2022&quot;\n      },\n      &quot;-NIq50Tcd8VZJHvQihSy&quot;: {\n        &quot;amount&quot;: &quot;45&quot;,\n        &quot;description&quot;: &quot;Hsksk&quot;,\n        &quot;exType&quot;: &quot;Rent&quot;,\n        &quot;milli&quot;: -1670576084282,\n        &quot;time&quot;: &quot;Fri, 09/12/2022&quot;\n      },\n      &quot;-NJ4ARWmLeaIsdnxmkXi&quot;: {\n        &quot;amount&quot;: &quot;45&quot;,\n        &quot;description&quot;: &quot;Aja&quot;,\n        &quot;exType&quot;: &quot;Grocery&quot;,\n        &quot;milli&quot;: -1670829164672,\n        &quot;time&quot;: &quot;Mon, 12/12/2022&quot;\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","gradle","intellij-idea","web-applications"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670857120,"post_id":74772970,"comment_id":131963934,"body_markdown":"Have you added the correct dependency? Also `@Repository` is not needed with spring-data","body":"Have you added the correct dependency? Also <code>@Repository</code> is not needed with spring-data"}],"owner":{"account_id":25437046,"reputation":11,"user_id":19240613,"display_name":"Meshack Mutunga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670856906,"creation_date":1670856906,"question_id":74772970,"body_markdown":"Am trying to import CrudRepository into my interface, but i keep getting the error &quot;No libraries found for &#39;org.springframework.data.repository.CrudRepository&#39;&quot;\r\n\r\n\r\nIts a gradle project and am doing it on Intellij 2022.1 Ultimate\r\n\r\nThe repository is:\r\n\r\n```\r\npackage co2103.hw2.repo;\r\nimport co2103.hw2.model.Reimbursement;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\n\r\n@Repository\r\npublic interface ReimbursementRepository extends CrudRepository &lt;Reimbursement, Long&gt; {\r\n    \r\n}\r\n\r\n```\r\n and the Java class is\r\n\r\n```\r\npackage co2103.hw2.model;\r\n\r\nimport javax.persistence.*;\r\n@Entity\r\npublic class Reimbursement{\r\n    @Id\r\n    @GeneratedValue\r\n    private int id;\r\n    private int amount;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public void setAmount(int amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Reimbursement{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, amount=&quot; + amount +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nWorth noting that in the the import statement \r\n```\r\nimport org.springframework.data.repository.CrudRepository;\r\n```\r\n\r\nthe data component is highlighted as an error with the hovertext &quot;Cannot resolve symbol &#39;data&#39;&quot;\r\n\r\nI tried solutions in [this link](https://stackoverflow.com/questions/42396706/crudrepository-cannot-be-resolved-to-a-type) but it seems not to work\r\n\r\nI have also noticed that most of the soutions onlie are for mavel projects","title":"No libraries found for &#39;org.springframework.data.repository.CrudRepository&#39; error when trying to import CrudRepository","body":"<p>Am trying to import CrudRepository into my interface, but i keep getting the error &quot;No libraries found for 'org.springframework.data.repository.CrudRepository'&quot;</p>\n<p>Its a gradle project and am doing it on Intellij 2022.1 Ultimate</p>\n<p>The repository is:</p>\n<pre><code>package co2103.hw2.repo;\nimport co2103.hw2.model.Reimbursement;\nimport org.springframework.data.repository.CrudRepository;\n\n\n@Repository\npublic interface ReimbursementRepository extends CrudRepository &lt;Reimbursement, Long&gt; {\n    \n}\n\n</code></pre>\n<p>and the Java class is</p>\n<pre><code>package co2103.hw2.model;\n\nimport javax.persistence.*;\n@Entity\npublic class Reimbursement{\n    @Id\n    @GeneratedValue\n    private int id;\n    private int amount;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getAmount() {\n        return amount;\n    }\n\n    public void setAmount(int amount) {\n        this.amount = amount;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Reimbursement{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, amount=&quot; + amount +\n                '}';\n    }\n}\n\n</code></pre>\n<p>Worth noting that in the the import statement</p>\n<pre><code>import org.springframework.data.repository.CrudRepository;\n</code></pre>\n<p>the data component is highlighted as an error with the hovertext &quot;Cannot resolve symbol 'data'&quot;</p>\n<p>I tried solutions in <a href=\"https://stackoverflow.com/questions/42396706/crudrepository-cannot-be-resolved-to-a-type\">this link</a> but it seems not to work</p>\n<p>I have also noticed that most of the soutions onlie are for mavel projects</p>\n"},{"tags":["java","log4j","log4j2","jnlp"],"answers":[{"comments":[{"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"score":0,"creation_date":1670856257,"post_id":74754777,"comment_id":131963584,"body_markdown":"thanks for your answer but in my case it was not the correct option.. i have found the solution. will give the details of the answer below. might be of use to someone in future.","body":"thanks for your answer but in my case it was not the correct option.. i have found the solution. will give the details of the answer below. might be of use to someone in future."}],"tags":[],"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670690396,"creation_date":1670690396,"answer_id":74754777,"question_id":74729665,"body_markdown":"I am not familiar with JNLP, but according to your stacktrace, program cannot find. In Log4j2 package `org.apache.log4j`\twas changed to `org.apache.logging.log4j`. As a result it is not available.  \r\n 1. One of easiest solutions in your case - to use Log4j 1.x bridge (Here is [Migration guide][1])\r\n 2. If you want to use current version add to `&lt;argument&gt;` param to use log4j2 impl  (by default it is uses `org.apache.commons.logging.impl.LogFactoryImpl` configured for log4j 1.x)\r\n`org.apache.commons.logging.LogFactory=org.apache.logging.log4j.jcl.LogFactoryImpl`\r\n\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/migration.html\r\n ","title":"log4j2 in JNLP results Classnotfoundexception","body":"<p>I am not familiar with JNLP, but according to your stacktrace, program cannot find. In Log4j2 package <code>org.apache.log4j</code>    was changed to <code>org.apache.logging.log4j</code>. As a result it is not available.</p>\n<ol>\n<li>One of easiest solutions in your case - to use Log4j 1.x bridge (Here is <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">Migration guide</a>)</li>\n<li>If you want to use current version add to <code>&lt;argument&gt;</code> param to use log4j2 impl  (by default it is uses <code>org.apache.commons.logging.impl.LogFactoryImpl</code> configured for log4j 1.x)\n<code>org.apache.commons.logging.LogFactory=org.apache.logging.log4j.jcl.LogFactoryImpl</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670856707,"creation_date":1670856707,"answer_id":74772942,"question_id":74729665,"body_markdown":"we have found the solution. in our case there were two issues\r\n\r\n 1. the jar signing was not proper. the jars have manifest files under the meta-inf folder. the value of this folder was corrupted. we manually edited the file and preserved the original values for everything except the SHA keys and then resigned these jar.\r\n 2. in the log4j2-api jar there is a log4j-character.properties file which was getting corrupted while signing the jar using ant script. after the signing we replaced this file in the jar with the copy of the file saved from before the signing.\r\n\r\nabove to steps resolved our issue. i know what i wrote above might not make much sense to someone. happy to provide screen grabs in case on demand someone comes across this issue.","title":"log4j2 in JNLP results Classnotfoundexception","body":"<p>we have found the solution. in our case there were two issues</p>\n<ol>\n<li>the jar signing was not proper. the jars have manifest files under the meta-inf folder. the value of this folder was corrupted. we manually edited the file and preserved the original values for everything except the SHA keys and then resigned these jar.</li>\n<li>in the log4j2-api jar there is a log4j-character.properties file which was getting corrupted while signing the jar using ant script. after the signing we replaced this file in the jar with the copy of the file saved from before the signing.</li>\n</ol>\n<p>above to steps resolved our issue. i know what i wrote above might not make much sense to someone. happy to provide screen grabs in case on demand someone comes across this issue.</p>\n"}],"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670856707,"creation_date":1670499226,"question_id":74729665,"body_markdown":"we have an old desktop application which was running on log4j. this application gets deployed using JNLP on the users system and then is connecting to server at our end. we are in the process of upgrading the application to log4j2. we have upgraded the server side code and it works fine. for the JNLP side of code, though we have done all the changes and deployed the application properly we are ending up with an exception which we dont seem to find the cause off. any help here is appreciated..\r\n\r\nthe exception is as listed below..\r\n\r\n    java.lang.ClassNotFoundException: org.apache.log4j.Logger\r\n    at java.net.URLClassLoader.findClass(Unknown Source)\r\n    at com.sun.jnlp.JNLPClassLoader.findClass(Unknown Source)\r\n    at java.lang.ClassLoader.loadClass(Unknown Source)\r\n    at java.lang.ClassLoader.loadClass(Unknown Source)\r\n    at java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    at java.lang.Class.privateGetDeclaredConstructors(Unknown Source)\r\n    at java.lang.Class.getConstructor0(Unknown Source)\r\n    at java.lang.Class.getConstructor(Unknown Source)\r\n    at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:429)\r\n    at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:525)\r\n    at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:272)\r\n    at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:246)\r\n    at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:395)\r\n    at com.abcxyz.core.log.Logger.&lt;clinit&gt;(Logger.java:150)\r\n    at com.abcxyz.core.log.DefaultLog4jHelper.&lt;init&gt;(DefaultLog4jHelper.java:91)\r\n    at com.abcxyz.core.log.DefaultLog4jHelper.initLogger(DefaultLog4jHelper.java:44)\r\n    at com.abcxyz.ui.main.CMS.&lt;clinit&gt;(CMS.java:115)\r\n    at com.abcxyz.ui.main.InitializeCMS.main(InitializeCMS.java:40)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    at java.lang.reflect.Method.invoke(Unknown Source)\r\n    at com.sun.javaws.Launcher.executeApplication(Unknown Source)\r\n    at com.sun.javaws.Launcher.executeMainClass(Unknown Source)\r\n    at com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\r\n    at com.sun.javaws.Launcher.run(Unknown Source)\r\n    at java.lang.Thread.run(Unknown Source)\r\n\r\n\r\nthe exception point to a class file in the log4j-1.2.17.jar (our old jar). i am sure i dont have the old jar anywhere in the code or any part of the code referring the the old jarfile.\r\n[![enter image description here][1]][1]\r\n\r\n\r\npasted below is the sysArgs section of the JNLP where i am referring to the new properties file\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JWlVP.png\r\n  [2]: https://i.stack.imgur.com/33V1s.png","title":"log4j2 in JNLP results Classnotfoundexception","body":"<p>we have an old desktop application which was running on log4j. this application gets deployed using JNLP on the users system and then is connecting to server at our end. we are in the process of upgrading the application to log4j2. we have upgraded the server side code and it works fine. for the JNLP side of code, though we have done all the changes and deployed the application properly we are ending up with an exception which we dont seem to find the cause off. any help here is appreciated..</p>\n<p>the exception is as listed below..</p>\n<pre><code>java.lang.ClassNotFoundException: org.apache.log4j.Logger\nat java.net.URLClassLoader.findClass(Unknown Source)\nat com.sun.jnlp.JNLPClassLoader.findClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.lang.Class.privateGetDeclaredConstructors(Unknown Source)\nat java.lang.Class.getConstructor0(Unknown Source)\nat java.lang.Class.getConstructor(Unknown Source)\nat org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:429)\nat org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:525)\nat org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:272)\nat org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:246)\nat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:395)\nat com.abcxyz.core.log.Logger.&lt;clinit&gt;(Logger.java:150)\nat com.abcxyz.core.log.DefaultLog4jHelper.&lt;init&gt;(DefaultLog4jHelper.java:91)\nat com.abcxyz.core.log.DefaultLog4jHelper.initLogger(DefaultLog4jHelper.java:44)\nat com.abcxyz.ui.main.CMS.&lt;clinit&gt;(CMS.java:115)\nat com.abcxyz.ui.main.InitializeCMS.main(InitializeCMS.java:40)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat com.sun.javaws.Launcher.executeApplication(Unknown Source)\nat com.sun.javaws.Launcher.executeMainClass(Unknown Source)\nat com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\nat com.sun.javaws.Launcher.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>the exception point to a class file in the log4j-1.2.17.jar (our old jar). i am sure i dont have the old jar anywhere in the code or any part of the code referring the the old jarfile.\n<a href=\"https://i.stack.imgur.com/JWlVP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JWlVP.png\" alt=\"enter image description here\" /></a></p>\n<p>pasted below is the sysArgs section of the JNLP where i am referring to the new properties file\n<a href=\"https://i.stack.imgur.com/33V1s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/33V1s.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","windows","window","screenshot","capture"],"comments":[{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":0,"creation_date":1670853663,"post_id":74767926,"comment_id":131962579,"body_markdown":"Plese provide screenshots","body":"Plese provide screenshots"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1670856712,"post_id":74767926,"comment_id":131963803,"body_markdown":"Check out [Screen Image](https://tips4java.wordpress.com/2008/10/13/screen-image/). It doesn&#39;t take pixels from the screen. Instead is paints a component to an image.","body":"Check out <a href=\"https://tips4java.wordpress.com/2008/10/13/screen-image/\" rel=\"nofollow noreferrer\">Screen Image</a>. It doesn&#39;t take pixels from the screen. Instead is paints a component to an image."}],"owner":{"account_id":24546324,"reputation":1,"user_id":18456123,"display_name":"Hussin Tsouli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670856628,"creation_date":1670830542,"question_id":74767926,"body_markdown":"i just try to take screenshot of a specific software every amount of time i found a way to take screenshot for active window but i need to take it for specific windows altough is not active .\r\n\r\n\r\n\r\nthanks in advance \r\n\r\ni tried this but as i told  is take full screenshot:\r\n\r\n\r\n\r\n```\r\nBufferedImage image = new Robot().createScreenCapture(new Rectangle(Toolkit.getDefaultToolkit().getScreenSize()));\r\nImageIO.write(image, &quot;png&quot;, new File(&quot;C:\\\\Users\\\\Public\\\\Documents\\\\tessdata\\\\Full_Image.png&quot;));\r\n```\r\n","title":"how i can take screenshot of specific Other software window in java?","body":"<p>i just try to take screenshot of a specific software every amount of time i found a way to take screenshot for active window but i need to take it for specific windows altough is not active .</p>\n<p>thanks in advance</p>\n<p>i tried this but as i told  is take full screenshot:</p>\n<pre><code>BufferedImage image = new Robot().createScreenCapture(new Rectangle(Toolkit.getDefaultToolkit().getScreenSize()));\nImageIO.write(image, &quot;png&quot;, new File(&quot;C:\\\\Users\\\\Public\\\\Documents\\\\tessdata\\\\Full_Image.png&quot;));\n</code></pre>\n"},{"tags":["java","asynchronous","server"],"owner":{"account_id":7518124,"reputation":21,"user_id":5710911,"display_name":"Carte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670856532,"creation_date":1670856532,"question_id":74772893,"body_markdown":"Having trouble &#39;delaying&#39; the response of server, which is passed to client side.\r\n\r\nWhat I&#39;m trying to do is, just make an echoing, asynchronous, Non-blocking server with NIO package.\r\nThen, I want to manually delay the response sent to Client, to confirm that this server handles multiple response, while not blocked by any of its clients, delays observable by naked eyes.\r\n\r\nThe main server code is : \r\n\r\n```java\r\npackage AsyncServer;\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.nio.channels.*;\r\nimport AsyncServer.AsyncHandler.*;\r\n\r\npublic class AsyncServer {\r\n    int port = 40000;\r\n    public AsyncServer () {}\r\n    public AsyncServer(int port) {this.port = port;}\r\n    protected void start()\r\n    {\r\n        System.out.println(&quot;Async Server running at port &quot;+this.port);\r\n        try {\r\n            AsynchronousServerSocketChannel server = AsynchronousServerSocketChannel.open();\r\n            server.bind(new InetSocketAddress(this.port));\r\n            AcceptCompletionHandler ach = new AcceptCompletionHandler(server);\r\n            server.accept(null, ach);\r\n            System.in.read();\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage AsyncServer.AsyncHandler;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.AsynchronousServerSocketChannel;\r\nimport java.nio.channels.AsynchronousSocketChannel;\r\nimport java.nio.channels.CompletionHandler;\r\n\r\npublic class AcceptCompletionHandler implements CompletionHandler&lt;AsynchronousSocketChannel, Void&gt; {\r\n    private final AsynchronousServerSocketChannel ssc;\r\n    public AcceptCompletionHandler(AsynchronousServerSocketChannel in_ssc) {\r\n        this.ssc = in_ssc;\r\n    }\r\n    @Override\r\n    public void completed (AsynchronousSocketChannel sc, Void attachment) {\r\n\r\n        /* \r\n        This context was used in attempt to delay response sent to async client.\r\n        Does not work properly, only delaying server console output\r\n        try {\r\n            int amount = (int) (Math.random() * 20);\r\n            Thread.sleep(amount*1000);\r\n            System.out.println(&quot;slept for &quot;+amount);\r\n        }\r\n        catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        */\r\n        ssc.accept(null, this);\r\n        System.out.println(&quot;Connection Established&quot;);\r\n        ByteBuffer buffer = ByteBuffer.allocate(512);\r\n        ReadCompletionHandler rch = new ReadCompletionHandler(sc, buffer);\r\n        sc.read(buffer, null, rch);\r\n        //System.out.println(&quot;Received &quot;+buffer.toString());\r\n    }\r\n\r\n    @Override\r\n    public void failed (Throwable T, Void attachment){\r\n        T.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage AsyncServer.AsyncHandler;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.AsynchronousSocketChannel;\r\nimport java.nio.channels.CompletionHandler;\r\nimport java.nio.charset.*;\r\n\r\npublic class ReadCompletionHandler implements CompletionHandler&lt;Integer, Void&gt; {\r\n        private final AsynchronousSocketChannel sc;\r\n        private final ByteBuffer buffer;\r\n\r\n    ReadCompletionHandler (AsynchronousSocketChannel in_sc, ByteBuffer in_buffer) {\r\n        this.sc = in_sc;\r\n        this.buffer = in_buffer;\r\n    }\r\n\r\n    @Override\r\n    public void completed (Integer bytes, Void attachment) {\r\n\r\n        WriteCompletionHandler wch = new WriteCompletionHandler(this.sc);\r\n\r\n        this.buffer.flip();\r\n        this.sc.write(this.buffer, null, wch);\r\n        Charset charset = Charset.forName(&quot;UTF-8&quot;);\r\n        String outputStr = new String(this.buffer.array()).trim();\r\n        System.out.println(&quot;Writing &quot;+outputStr+&quot; into return buffer&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void failed (Throwable T, Void attachment) {\r\n        T.printStackTrace();\r\n    }\r\n}\r\n\r\n```\r\n\r\n```java\r\npackage AsyncServer.AsyncHandler;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.AsynchronousSocketChannel;\r\nimport java.nio.channels.CompletionHandler;\r\n\r\npublic class WriteCompletionHandler implements CompletionHandler&lt;Integer, Void&gt; {\r\n    private final AsynchronousSocketChannel sc;\r\n\r\n    WriteCompletionHandler (AsynchronousSocketChannel in_sc) {\r\n        this.sc = in_sc;\r\n    }\r\n\r\n    @Override\r\n    public void completed (Integer bytes, Void attachment) {\r\n        try {\r\n            sc.close();\r\n            System.out.println(&quot;Socket closed&quot;);\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void failed (Throwable T, Void attachment) {\r\n        T.printStackTrace();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.SocketAddress;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.AsynchronousSocketChannel;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.Future;\r\n\r\npublic class AsyncClient {\r\n\r\n    private String ip = &quot;localhost&quot;;\r\n    private int port = 40000;\r\n    private String payload = &quot;00209999997778222223&quot;;\r\n    AsyncClient(String in_ip, int in_port, String in_payload)\r\n    {\r\n        this.ip = in_ip;\r\n        this.port = in_port;\r\n        this.payload = in_payload;\r\n    }\r\n    AsyncClient() {}\r\n    void start()\r\n    {\r\n        try {\r\n            AsynchronousSocketChannel sc = AsynchronousSocketChannel.open();\r\n            SocketAddress serverAddr = new InetSocketAddress(this.ip, this.port);\r\n            Future&lt;Void&gt; res = sc.connect(serverAddr);\r\n            System.out.println(&quot;Will connect to remote&quot;);\r\n\r\n            res.get();\r\n            System.out.println(&quot;Connection Established&quot;);\r\n\r\n            String outStr = this.payload;\r\n            ByteBuffer buffer = ByteBuffer.wrap(outStr.getBytes());\r\n            Future&lt;Integer&gt; sender = sc.write(buffer);\r\n            sender.get();\r\n\r\n            buffer.flip();\r\n            Future&lt;Integer&gt; receiver = sc.read(buffer);\r\n            System.out.println(&quot;Received : &quot;+new String(buffer.array()).trim());\r\n            receiver.get();\r\n            buffer.clear();\r\n\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nClient Code components are also available in [here](https://github.com/Lment/Java-test-hub/tree/master/src/AsyncServer).\r\n\r\n\r\nSo this code calls on Custom completionHandler three times.\r\n\r\nControl flow goes to AcceptCompletionHandler -&gt; ReadCompletionHandler -&gt; WriteCompletionHandler, when each accept, read, write is called.\r\n\r\nAs I mentioned earlier, what I wanted to achieve was delaying whole asynchronous receive-response stream of each client thread. By running Client code on multiple threads, Say, some delays 11s, other delay less than 10s, my bare eye could catch this asynchronous operation.\r\n\r\nHowever, If I run multiple threads of AsyncClient, It appears that no delay happens. Almost Instantly, the response arrives at client side. However, delays are really delaying console output of server side. [Like this one.](https://i.stack.imgur.com/7onZj.png) Sorry for missing timestamps!\r\n\r\nI added semaphore acquire&amp;release to server object itself, wrap delay syntax with semaphore acquire&amp;release. It seems that asyncSocketStream passes their work to any other Idle thread if it meets delay. So I wrapped whole server in ExecutorService package, limiting maximum thread to one. Still, the client gets its reponse right away, and meaningless waiting of server console output happens...\r\n\r\nPlease enlighten me if I&#39;m doing what is very bad, since I&#39;m new to Async socket programming.","title":"Is there any way to delay Async NIO server response in Java?","body":"<p>Having trouble 'delaying' the response of server, which is passed to client side.</p>\n<p>What I'm trying to do is, just make an echoing, asynchronous, Non-blocking server with NIO package.\nThen, I want to manually delay the response sent to Client, to confirm that this server handles multiple response, while not blocked by any of its clients, delays observable by naked eyes.</p>\n<p>The main server code is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package AsyncServer;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.nio.channels.*;\nimport AsyncServer.AsyncHandler.*;\n\npublic class AsyncServer {\n    int port = 40000;\n    public AsyncServer () {}\n    public AsyncServer(int port) {this.port = port;}\n    protected void start()\n    {\n        System.out.println(&quot;Async Server running at port &quot;+this.port);\n        try {\n            AsynchronousServerSocketChannel server = AsynchronousServerSocketChannel.open();\n            server.bind(new InetSocketAddress(this.port));\n            AcceptCompletionHandler ach = new AcceptCompletionHandler(server);\n            server.accept(null, ach);\n            System.in.read();\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package AsyncServer.AsyncHandler;\n\nimport java.nio.ByteBuffer;\nimport java.nio.channels.AsynchronousServerSocketChannel;\nimport java.nio.channels.AsynchronousSocketChannel;\nimport java.nio.channels.CompletionHandler;\n\npublic class AcceptCompletionHandler implements CompletionHandler&lt;AsynchronousSocketChannel, Void&gt; {\n    private final AsynchronousServerSocketChannel ssc;\n    public AcceptCompletionHandler(AsynchronousServerSocketChannel in_ssc) {\n        this.ssc = in_ssc;\n    }\n    @Override\n    public void completed (AsynchronousSocketChannel sc, Void attachment) {\n\n        /* \n        This context was used in attempt to delay response sent to async client.\n        Does not work properly, only delaying server console output\n        try {\n            int amount = (int) (Math.random() * 20);\n            Thread.sleep(amount*1000);\n            System.out.println(&quot;slept for &quot;+amount);\n        }\n        catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        */\n        ssc.accept(null, this);\n        System.out.println(&quot;Connection Established&quot;);\n        ByteBuffer buffer = ByteBuffer.allocate(512);\n        ReadCompletionHandler rch = new ReadCompletionHandler(sc, buffer);\n        sc.read(buffer, null, rch);\n        //System.out.println(&quot;Received &quot;+buffer.toString());\n    }\n\n    @Override\n    public void failed (Throwable T, Void attachment){\n        T.printStackTrace();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package AsyncServer.AsyncHandler;\n\nimport java.nio.ByteBuffer;\nimport java.nio.channels.AsynchronousSocketChannel;\nimport java.nio.channels.CompletionHandler;\nimport java.nio.charset.*;\n\npublic class ReadCompletionHandler implements CompletionHandler&lt;Integer, Void&gt; {\n        private final AsynchronousSocketChannel sc;\n        private final ByteBuffer buffer;\n\n    ReadCompletionHandler (AsynchronousSocketChannel in_sc, ByteBuffer in_buffer) {\n        this.sc = in_sc;\n        this.buffer = in_buffer;\n    }\n\n    @Override\n    public void completed (Integer bytes, Void attachment) {\n\n        WriteCompletionHandler wch = new WriteCompletionHandler(this.sc);\n\n        this.buffer.flip();\n        this.sc.write(this.buffer, null, wch);\n        Charset charset = Charset.forName(&quot;UTF-8&quot;);\n        String outputStr = new String(this.buffer.array()).trim();\n        System.out.println(&quot;Writing &quot;+outputStr+&quot; into return buffer&quot;);\n\n    }\n\n    @Override\n    public void failed (Throwable T, Void attachment) {\n        T.printStackTrace();\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package AsyncServer.AsyncHandler;\n\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.AsynchronousSocketChannel;\nimport java.nio.channels.CompletionHandler;\n\npublic class WriteCompletionHandler implements CompletionHandler&lt;Integer, Void&gt; {\n    private final AsynchronousSocketChannel sc;\n\n    WriteCompletionHandler (AsynchronousSocketChannel in_sc) {\n        this.sc = in_sc;\n    }\n\n    @Override\n    public void completed (Integer bytes, Void attachment) {\n        try {\n            sc.close();\n            System.out.println(&quot;Socket closed&quot;);\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void failed (Throwable T, Void attachment) {\n        T.printStackTrace();\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.SocketAddress;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.AsynchronousSocketChannel;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Future;\n\npublic class AsyncClient {\n\n    private String ip = &quot;localhost&quot;;\n    private int port = 40000;\n    private String payload = &quot;00209999997778222223&quot;;\n    AsyncClient(String in_ip, int in_port, String in_payload)\n    {\n        this.ip = in_ip;\n        this.port = in_port;\n        this.payload = in_payload;\n    }\n    AsyncClient() {}\n    void start()\n    {\n        try {\n            AsynchronousSocketChannel sc = AsynchronousSocketChannel.open();\n            SocketAddress serverAddr = new InetSocketAddress(this.ip, this.port);\n            Future&lt;Void&gt; res = sc.connect(serverAddr);\n            System.out.println(&quot;Will connect to remote&quot;);\n\n            res.get();\n            System.out.println(&quot;Connection Established&quot;);\n\n            String outStr = this.payload;\n            ByteBuffer buffer = ByteBuffer.wrap(outStr.getBytes());\n            Future&lt;Integer&gt; sender = sc.write(buffer);\n            sender.get();\n\n            buffer.flip();\n            Future&lt;Integer&gt; receiver = sc.read(buffer);\n            System.out.println(&quot;Received : &quot;+new String(buffer.array()).trim());\n            receiver.get();\n            buffer.clear();\n\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n        catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        catch (ExecutionException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Client Code components are also available in <a href=\"https://github.com/Lment/Java-test-hub/tree/master/src/AsyncServer\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>So this code calls on Custom completionHandler three times.</p>\n<p>Control flow goes to AcceptCompletionHandler -&gt; ReadCompletionHandler -&gt; WriteCompletionHandler, when each accept, read, write is called.</p>\n<p>As I mentioned earlier, what I wanted to achieve was delaying whole asynchronous receive-response stream of each client thread. By running Client code on multiple threads, Say, some delays 11s, other delay less than 10s, my bare eye could catch this asynchronous operation.</p>\n<p>However, If I run multiple threads of AsyncClient, It appears that no delay happens. Almost Instantly, the response arrives at client side. However, delays are really delaying console output of server side. <a href=\"https://i.stack.imgur.com/7onZj.png\" rel=\"nofollow noreferrer\">Like this one.</a> Sorry for missing timestamps!</p>\n<p>I added semaphore acquire&amp;release to server object itself, wrap delay syntax with semaphore acquire&amp;release. It seems that asyncSocketStream passes their work to any other Idle thread if it meets delay. So I wrapped whole server in ExecutorService package, limiting maximum thread to one. Still, the client gets its reponse right away, and meaningless waiting of server console output happens...</p>\n<p>Please enlighten me if I'm doing what is very bad, since I'm new to Async socket programming.</p>\n"},{"tags":["java","spring","marklogic","polish"],"answers":[{"tags":[],"owner":{"account_id":4013257,"reputation":2118,"user_id":3306099,"display_name":"rjrudin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670856479,"creation_date":1670855174,"answer_id":74772577,"question_id":74769475,"body_markdown":"You can get snippets with highlighting via the Java API via code like this:\r\n\r\n    QueryManager mgr = client.newQueryManager();\r\n    SearchHandle handle = mgr.search(mgr.newStructuredQueryBuilder().term(&quot;quick&quot;), new SearchHandle());\r\n    for (MatchDocumentSummary matchResult : handle.getMatchResults()) {\r\n        for (MatchLocation matchLocation : matchResult.getMatchLocations()) {\r\n            for (MatchSnippet snippet : matchLocation.getSnippets()) {\r\n                System.out.println(snippet.getText());\r\n                System.out.println(snippet.isHighlighted());\r\n            }\r\n        }\r\n    }\r\n\r\nCustom dictionaries are covered at https://docs.marklogic.com/guide/search-dev/custom-dictionaries. I believe that once you&#39;ve created a dictionary, you&#39;ll want to modify the Language setting on your database to use the new dictionary (I have not tried that before, but that appears to be the expected approach). \r\n\r\nAs for a Polish dictionary - there&#39;s a link to a repository of dictionaries at https://developer.marklogic.com/code/dictionaries-and-thesauri/, but there&#39;s not a Polish dictionary there. Building a complete dictionary would of course be a significant effort, though it sounds like if you&#39;re mostly interested in stemming on certain keywords, you could build a custom dictionary containing just those keywords and their stems. \r\n","title":"How to extend search query from java to Marklogic to get highlights?","body":"<p>You can get snippets with highlighting via the Java API via code like this:</p>\n<pre><code>QueryManager mgr = client.newQueryManager();\nSearchHandle handle = mgr.search(mgr.newStructuredQueryBuilder().term(&quot;quick&quot;), new SearchHandle());\nfor (MatchDocumentSummary matchResult : handle.getMatchResults()) {\n    for (MatchLocation matchLocation : matchResult.getMatchLocations()) {\n        for (MatchSnippet snippet : matchLocation.getSnippets()) {\n            System.out.println(snippet.getText());\n            System.out.println(snippet.isHighlighted());\n        }\n    }\n}\n</code></pre>\n<p>Custom dictionaries are covered at <a href=\"https://docs.marklogic.com/guide/search-dev/custom-dictionaries\" rel=\"nofollow noreferrer\">https://docs.marklogic.com/guide/search-dev/custom-dictionaries</a>. I believe that once you've created a dictionary, you'll want to modify the Language setting on your database to use the new dictionary (I have not tried that before, but that appears to be the expected approach).</p>\n<p>As for a Polish dictionary - there's a link to a repository of dictionaries at <a href=\"https://developer.marklogic.com/code/dictionaries-and-thesauri/\" rel=\"nofollow noreferrer\">https://developer.marklogic.com/code/dictionaries-and-thesauri/</a>, but there's not a Polish dictionary there. Building a complete dictionary would of course be a significant effort, though it sounds like if you're mostly interested in stemming on certain keywords, you could build a custom dictionary containing just those keywords and their stems.</p>\n"}],"owner":{"account_id":17564829,"reputation":11,"user_id":12741921,"display_name":"Marcin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670856479,"creation_date":1670839726,"question_id":74769475,"body_markdown":"I need to extend REST API in java with Spring reaching to Marklogic database. I already have functionality using StructuredQueryBuilder and the search method from DocumentManagerImpl (package com.marklogic.client.impl), but the client expects highlighting fragments of answers matching the searched phrases in Polish language, including derivatives from the stems (there may be several keywords by which we search, but with the condition of joint occurrence in the result).\r\n\r\n1. How to extend the search query to Marklogic in the simplest way and using the Java API from Marklogic to obtain additional information about the location of the searched phrases in the returned objects in one query to the database?\r\n2. Should I put a custom dictionary for stemming in Marklogic? Are there any sources recommended by Marklogic where I can get dictionaries?","title":"How to extend search query from java to Marklogic to get highlights?","body":"<p>I need to extend REST API in java with Spring reaching to Marklogic database. I already have functionality using StructuredQueryBuilder and the search method from DocumentManagerImpl (package com.marklogic.client.impl), but the client expects highlighting fragments of answers matching the searched phrases in Polish language, including derivatives from the stems (there may be several keywords by which we search, but with the condition of joint occurrence in the result).</p>\n<ol>\n<li>How to extend the search query to Marklogic in the simplest way and using the Java API from Marklogic to obtain additional information about the location of the searched phrases in the returned objects in one query to the database?</li>\n<li>Should I put a custom dictionary for stemming in Marklogic? Are there any sources recommended by Marklogic where I can get dictionaries?</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1670854956,"post_id":74771958,"comment_id":131963075,"body_markdown":"I think for this task it would be a good option to use Spring Boot for this. A connected database in the background offers many easy options for managing text.","body":"I think for this task it would be a good option to use Spring Boot for this. A connected database in the background offers many easy options for managing text."},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1670855164,"post_id":74771958,"comment_id":131963149,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":27228981,"reputation":49,"user_id":20757012,"display_name":"Cineczeq"},"score":0,"creation_date":1670855276,"post_id":74771958,"comment_id":131963203,"body_markdown":"I added Main method.","body":"I added Main method."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670868009,"post_id":74771958,"comment_id":131967903,"body_markdown":"*Mostly* strings. In your program parse the dates into `LocalDate` objects. You can always format them into `dd/MM/yyyy` format when presenting them to the user. And in your persistent storage  your text file  use ISO 8601 format, that is `yyyy-MM-dd`, so that its independent of what users want to see.","body":"<i>Mostly</i> strings. In your program parse the dates into <code>LocalDate</code> objects. You can always format them into <code>dd&#47;MM&#47;yyyy</code> format when presenting them to the user. And in your persistent storage  your text file  use ISO 8601 format, that is <code>yyyy-MM-dd</code>, so that its independent of what users want to see."}],"answers":[{"tags":[],"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670856461,"creation_date":1670856461,"answer_id":74772880,"question_id":74771958,"body_markdown":"When your program does start, your first step must always be reading whole text file into memory, line by line. Visit [this page][1] how you can achive it. Use your timestamp as key for the HashMap.\r\n\r\nOne advantage of HashMap is, you can easily check of occurences or add some data at the end. And if you want just update an existing entry, use the same key and the content will be overwritten.\r\n\r\nAfter this, [the next page][2] demonstrate how to write the content back to your text file.\r\n\r\nPlease note: As I wrote in comment section the use of Spring Boot is a better option for your task.\r\n\r\n \r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/reading-text-file-into-java-hashmap/?ref=rp\r\n  [2]: https://www.geeksforgeeks.org/write-hashmap-to-a-text-file-in-java/","title":"Saving multiple input data in one .txt file. Is it possible to overwrite and get data from specific line?","body":"<p>When your program does start, your first step must always be reading whole text file into memory, line by line. Visit <a href=\"https://www.geeksforgeeks.org/reading-text-file-into-java-hashmap/?ref=rp\" rel=\"nofollow noreferrer\">this page</a> how you can achive it. Use your timestamp as key for the HashMap.</p>\n<p>One advantage of HashMap is, you can easily check of occurences or add some data at the end. And if you want just update an existing entry, use the same key and the content will be overwritten.</p>\n<p>After this, <a href=\"https://www.geeksforgeeks.org/write-hashmap-to-a-text-file-in-java/\" rel=\"nofollow noreferrer\">the next page</a> demonstrate how to write the content back to your text file.</p>\n<p>Please note: As I wrote in comment section the use of Spring Boot is a better option for your task.</p>\n"}],"owner":{"account_id":27228981,"reputation":49,"user_id":20757012,"display_name":"Cineczeq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670856461,"creation_date":1670852331,"question_id":74771958,"body_markdown":"Code first: \r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\n\r\npublic class Test {\r\n    public String date;\r\n    public String fridge1;\r\n    public String fridge2;\r\n    public String info;\r\n    static final int lineNumber = 0;\r\n\r\n    public Test(String date, String fridge1, String fridge2, String info) {\r\n        this.date = date;\r\n        this.fridge1 = fridge1;\r\n        this.fridge2 = fridge2;\r\n        this.info = info;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public String getFridge1() {\r\n        return fridge1;\r\n    }\r\n\r\n    public void setFridge1(String fridge1) {\r\n        this.fridge1 = fridge1;\r\n    }\r\n\r\n    public String getFridge2() {\r\n        return fridge2;\r\n    }\r\n\r\n    public void setFridge2(String fridge2) {\r\n        this.fridge2 = fridge2;\r\n    }\r\n\r\n    public String getInfo() {\r\n        return info;\r\n    }\r\n\r\n    public void setInfo(String info) {\r\n        this.info = info;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return\r\n        date + &quot;\\n&quot; +\r\n            fridge1 + &quot;\\n&quot; +\r\n            fridge2 + &quot;\\n&quot; +\r\n            info + &quot;\\n&quot;;\r\n    }\r\n\r\n    public void saveData() {\r\n        File file = new File(&quot;text.txt&quot;);\r\n        boolean checker = true;\r\n\r\n        try (Scanner scanner = new Scanner(file)) {\r\n            while (scanner.hasNextLine()) {\r\n                String line = scanner.nextLine();\r\n                if (line.contains(date)) {\r\n                    checker = false;\r\n                    break;\r\n                }\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        if (checker) {\r\n            try (FileOutputStream fos = new FileOutputStream(&quot;text.txt&quot;, true)) {\r\n                fos.write(toString().getBytes());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            ...\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n```\r\n\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n// Test test = new Test(&quot;19/02/1992&quot;, &quot;10&quot;, &quot;9&quot;, &quot;ok&quot;);\r\n// test.saveData();\r\n Test test2 = new Test(&quot;19/02/1900&quot;, &quot;8&quot;, &quot;4&quot;, &quot;not ok&quot;);\r\n        test2.saveData();\r\n\r\n    }\r\n}\r\n```\r\n\r\nI want to do program in Java to get some inputs and date, mostly Strings. I just create a methods to write all data in one .txt file, one data - 1 line. If there is already existing date program is not writing new data. Finally, I would like to overwrite data. If I put the same date in, I would like to overwrite existing date to new one. So in my mind if I have in .txt file this data:\r\n\r\nline1 17/05/16 line2 blabla line3 blabla line4 blabla\r\n\r\nand I will put in Main this:\r\n\r\n```\r\nTest test2 = new Test(&quot;17/05/16&quot;, &quot;8&quot;, &quot;4&quot;, &quot;not ok&quot;);\r\n       test2.saveData();\r\n```\r\nit should find where is 17/05/16 and then replace lines 2-4 like this.\r\n\r\nline1 17/05/16\r\nline2 8\r\nline3 4\r\nline4 not ok\r\n\r\nIt is possible? Then how to find out all data in reverse way? In mean when I would like to check my data from specific date ex. 17/05/16?\r\n\r\nAs you can see I just stuck in moment when I have to search where is my data. I can&#39;t find good methods.","title":"Saving multiple input data in one .txt file. Is it possible to overwrite and get data from specific line?","body":"<p>Code first:</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class Test {\n    public String date;\n    public String fridge1;\n    public String fridge2;\n    public String info;\n    static final int lineNumber = 0;\n\n    public Test(String date, String fridge1, String fridge2, String info) {\n        this.date = date;\n        this.fridge1 = fridge1;\n        this.fridge2 = fridge2;\n        this.info = info;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public String getFridge1() {\n        return fridge1;\n    }\n\n    public void setFridge1(String fridge1) {\n        this.fridge1 = fridge1;\n    }\n\n    public String getFridge2() {\n        return fridge2;\n    }\n\n    public void setFridge2(String fridge2) {\n        this.fridge2 = fridge2;\n    }\n\n    public String getInfo() {\n        return info;\n    }\n\n    public void setInfo(String info) {\n        this.info = info;\n    }\n\n    @Override\n    public String toString() {\n        return\n        date + &quot;\\n&quot; +\n            fridge1 + &quot;\\n&quot; +\n            fridge2 + &quot;\\n&quot; +\n            info + &quot;\\n&quot;;\n    }\n\n    public void saveData() {\n        File file = new File(&quot;text.txt&quot;);\n        boolean checker = true;\n\n        try (Scanner scanner = new Scanner(file)) {\n            while (scanner.hasNextLine()) {\n                String line = scanner.nextLine();\n                if (line.contains(date)) {\n                    checker = false;\n                    break;\n                }\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        if (checker) {\n            try (FileOutputStream fos = new FileOutputStream(&quot;text.txt&quot;, true)) {\n                fos.write(toString().getBytes());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } else {\n            ...\n        }\n    }\n}\n\n</code></pre>\n<pre><code>\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n// Test test = new Test(&quot;19/02/1992&quot;, &quot;10&quot;, &quot;9&quot;, &quot;ok&quot;);\n// test.saveData();\n Test test2 = new Test(&quot;19/02/1900&quot;, &quot;8&quot;, &quot;4&quot;, &quot;not ok&quot;);\n        test2.saveData();\n\n    }\n}\n</code></pre>\n<p>I want to do program in Java to get some inputs and date, mostly Strings. I just create a methods to write all data in one .txt file, one data - 1 line. If there is already existing date program is not writing new data. Finally, I would like to overwrite data. If I put the same date in, I would like to overwrite existing date to new one. So in my mind if I have in .txt file this data:</p>\n<p>line1 17/05/16 line2 blabla line3 blabla line4 blabla</p>\n<p>and I will put in Main this:</p>\n<pre><code>Test test2 = new Test(&quot;17/05/16&quot;, &quot;8&quot;, &quot;4&quot;, &quot;not ok&quot;);\n       test2.saveData();\n</code></pre>\n<p>it should find where is 17/05/16 and then replace lines 2-4 like this.</p>\n<p>line1 17/05/16\nline2 8\nline3 4\nline4 not ok</p>\n<p>It is possible? Then how to find out all data in reverse way? In mean when I would like to check my data from specific date ex. 17/05/16?</p>\n<p>As you can see I just stuck in moment when I have to search where is my data. I can't find good methods.</p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670869655,"post_id":74772748,"comment_id":131968453,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27204556,"reputation":1,"user_id":20736321,"display_name":"Lakshmi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670855874,"creation_date":1670855874,"question_id":74772748,"body_markdown":"I need to verify the column values in a webtable whether it is greater than a specific value in all the pages \r\n\r\nI need a Java method to create step definition method in cucumber BDD ","title":"How to verify column in a webtable whether it contains value greater than specified value in all the pages using Java selenium","body":"<p>I need to verify the column values in a webtable whether it is greater than a specific value in all the pages</p>\n<p>I need a Java method to create step definition method in cucumber BDD</p>\n"},{"tags":["javascript","java","axios"],"owner":{"account_id":13455996,"reputation":11,"user_id":9709558,"display_name":"Azael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670855396,"creation_date":1670855396,"question_id":74772627,"body_markdown":"In the Front End we send an id via axios post to the backend to get a (png or pdf) as a  bytearray. Then I would  send the (png or pdf) back via the response. The problem is that I need the (png or pdf) as a file for filepond in js on my frontend.\r\nBut i didnt find a suitable way to cast my bytearray into a file.\r\n\r\nI tried: \r\n\r\n**1. MimeType + Blob**\r\n\r\nBackend (Java):\r\n\r\n     String contenType = URLConnection.guessContentTypeFromStream(new ByteArrayInputStream(byteArray));\r\n     MediaType mimeType=MediaType.parseMediaType(contenType);\r\n     responseContainer = new ResponseContainer(&quot;100&quot;, &quot;s3 fileDownload was ok&quot;, null, true, byteArray);\r\n                return ResponseEntity.ok().contentType(mimeType).body(responseContainer);\r\nFrontend (JS):\r\n\r\n    ///let bytes=new Uint8Array(response.byteArray.length)\r\n    for(let i=0;i&lt;bytes.length;i++){\r\n       bytes[i]=response.byteArray[i];\r\n    }\r\n    let blob=new Blob([bytes],{type: response.mimeType})\r\n    let f1=new File([blob],attarray[x].filename,{type: response.mimeType})\r\n    this.$refs.pond.addFile(f1);\r\nThe byteArray coudn&#39;t be reconstructed correctly(Uint or for loop or direct, therefor the image/pdf was unusable.\r\n\r\n**2. BufferedImage**\r\n\r\nBackend (Java):\r\n\r\n    ByteArrayInputStream bis = new ByteArrayInputStream(byteArray);\r\n    BufferedImage bufferedImage = ImageIO.read(bis);\r\n    ImageIO.write(bufferedImage, contenType, new File(&quot;test.png&quot;));\r\n    File outfile=new File(&quot;test.jpg&quot;);\r\n    ImageIO.write(bufferedImage,contenType,outfile);\r\n\r\nI don&#39;t think that it&#39;s usable because we need a path for test.png and it wouldn&#39;t be feasible to get a path to the backend from frontend.\r\n\r\n**3. HTTP/Header/Content-Disposition**\r\nAccording to https://github.com/eligrey/FileSaver.js/wiki/Saving-a-remote-file#using-http-header\r\n\r\nIt seems that there should be a simple solution for this problem but I am not able to find it, so I am asking for your help.Thanks in advance.\r\n\r\nI am using Vue3, Spring, JavaScript, Java, Axios, FilePond\r\n        ","title":"Cast a (png/pdf)bytearray to a file js/java","body":"<p>In the Front End we send an id via axios post to the backend to get a (png or pdf) as a  bytearray. Then I would  send the (png or pdf) back via the response. The problem is that I need the (png or pdf) as a file for filepond in js on my frontend.\nBut i didnt find a suitable way to cast my bytearray into a file.</p>\n<p>I tried:</p>\n<p><strong>1. MimeType + Blob</strong></p>\n<p>Backend (Java):</p>\n<pre><code> String contenType = URLConnection.guessContentTypeFromStream(new ByteArrayInputStream(byteArray));\n MediaType mimeType=MediaType.parseMediaType(contenType);\n responseContainer = new ResponseContainer(&quot;100&quot;, &quot;s3 fileDownload was ok&quot;, null, true, byteArray);\n            return ResponseEntity.ok().contentType(mimeType).body(responseContainer);\n</code></pre>\n<p>Frontend (JS):</p>\n<pre><code>///let bytes=new Uint8Array(response.byteArray.length)\nfor(let i=0;i&lt;bytes.length;i++){\n   bytes[i]=response.byteArray[i];\n}\nlet blob=new Blob([bytes],{type: response.mimeType})\nlet f1=new File([blob],attarray[x].filename,{type: response.mimeType})\nthis.$refs.pond.addFile(f1);\n</code></pre>\n<p>The byteArray coudn't be reconstructed correctly(Uint or for loop or direct, therefor the image/pdf was unusable.</p>\n<p><strong>2. BufferedImage</strong></p>\n<p>Backend (Java):</p>\n<pre><code>ByteArrayInputStream bis = new ByteArrayInputStream(byteArray);\nBufferedImage bufferedImage = ImageIO.read(bis);\nImageIO.write(bufferedImage, contenType, new File(&quot;test.png&quot;));\nFile outfile=new File(&quot;test.jpg&quot;);\nImageIO.write(bufferedImage,contenType,outfile);\n</code></pre>\n<p>I don't think that it's usable because we need a path for test.png and it wouldn't be feasible to get a path to the backend from frontend.</p>\n<p><strong>3. HTTP/Header/Content-Disposition</strong>\nAccording to <a href=\"https://github.com/eligrey/FileSaver.js/wiki/Saving-a-remote-file#using-http-header\" rel=\"nofollow noreferrer\">https://github.com/eligrey/FileSaver.js/wiki/Saving-a-remote-file#using-http-header</a></p>\n<p>It seems that there should be a simple solution for this problem but I am not able to find it, so I am asking for your help.Thanks in advance.</p>\n<p>I am using Vue3, Spring, JavaScript, Java, Axios, FilePond</p>\n"},{"tags":["java","c#","asp.net","concurrency","ado.net"],"comments":[{"owner":{"account_id":3506277,"reputation":1022,"user_id":2931762,"display_name":"PrfctByDsgn"},"score":0,"creation_date":1671102592,"post_id":74772616,"comment_id":132027670,"body_markdown":"You need to include the version column into your select ... so when you select id and name from my_table you also select version ... that is the &quot;current_version&quot; for your update","body":"You need to include the version column into your select ... so when you select id and name from my_table you also select version ... that is the &quot;current_version&quot; for your update"}],"owner":{"account_id":24494158,"reputation":3,"user_id":18410740,"display_name":"Jamiethered2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670855353,"creation_date":1670855353,"question_id":74772616,"body_markdown":"This is the table \r\n\r\n    CREATE TABLE my_table (\r\n    id INT PRIMARY KEY,\r\n    name VARCHAR(255),\r\n    version ROWVERSION\r\n)\r\n\r\nThis is when update\r\n  \r\n\r\n      UPDATE table_name\r\n    SET col1 = val1, col2 = val2, ...\r\n    WHERE id = some_id AND version = current_version\r\n\r\nhow do I get current_version to compare with version on line 3?\r\n\r\nAnd I try to implemnt optismitc locking with above example, am i doing it right?\r\n\r\n     string query = &quot;UPDATE PRODUCT SET stockQuantity =stockQuantity - @value Where ID =@id  AND RowVersion = RowVersion&quot;;","title":"Can someone explain how do I get current ROWVERSION when using Optimistic locking?","body":"<p>This is the table</p>\n<pre><code>CREATE TABLE my_table (\nid INT PRIMARY KEY,\nname VARCHAR(255),\nversion ROWVERSION\n</code></pre>\n<p>)</p>\n<p>This is when update</p>\n<pre><code>  UPDATE table_name\nSET col1 = val1, col2 = val2, ...\nWHERE id = some_id AND version = current_version\n</code></pre>\n<p>how do I get current_version to compare with version on line 3?</p>\n<p>And I try to implemnt optismitc locking with above example, am i doing it right?</p>\n<pre><code> string query = &quot;UPDATE PRODUCT SET stockQuantity =stockQuantity - @value Where ID =@id  AND RowVersion = RowVersion&quot;;\n</code></pre>\n"},{"tags":["java","gson","ndjson"],"comments":[{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1670844282,"post_id":74770235,"comment_id":131959479,"body_markdown":"Hi! Your JSON is not wellformed. Your &quot;profile&quot; objects are not comma separated. Add a comma between each of them. Furthermore, you must put all your JSON between [ and ] to represent an array of profile objects. Once done, your JSON is wellformed and you will be able to deserialize it in an array/list of profile objects","body":"Hi! Your JSON is not wellformed. Your &quot;profile&quot; objects are not comma separated. Add a comma between each of them. Furthermore, you must put all your JSON between [ and ] to represent an array of profile objects. Once done, your JSON is wellformed and you will be able to deserialize it in an array/list of profile objects"},{"owner":{"account_id":26952186,"reputation":25,"user_id":20521221,"display_name":"Dragon"},"score":0,"creation_date":1670844899,"post_id":74770235,"comment_id":131959666,"body_markdown":"@PhilippeFery I am sorry it must be disturbed while typing here otherwise the file is properly formatted. Kindly ignore this.","body":"@PhilippeFery I am sorry it must be disturbed while typing here otherwise the file is properly formatted. Kindly ignore this."}],"answers":[{"tags":[],"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670855063,"creation_date":1670855063,"answer_id":74772552,"question_id":74770235,"body_markdown":"You can use `reader.peek()` method and apply loop on your code such that you need to make list of `CustomerDTO` and keep on adding object in it like:\r\n\r\n```\r\nList&lt;CustomerFeedDTO&gt; customerFeedDTOs = new ArrayList&lt;CustomerFeedDTO&gt;();\r\nGson gson = new Gson();\r\nJsonReader reader = new JsonReader(new FileReader(&quot;customer.json&quot;));\r\n// Required\r\nreader.setLenient(true);\r\nwhile (reader.peek() != JsonToken.END_DOCUMENT) {\r\n    CustomerFeedDTO customerFeedDTO = gson.fromJson(reader, CustomerFeedDTO.class);\r\n    customerFeedDTOs.add(customerFeedDTO);\r\n}\r\n```\r\n`Note that` reader also has a `hasNext()` method but that gives Exception when you reach at the end of the document. For further details about this, refer to https://stackoverflow.com/a/52250761/16437679","title":"Mapping multiple ndJson records with Gson","body":"<p>You can use <code>reader.peek()</code> method and apply loop on your code such that you need to make list of <code>CustomerDTO</code> and keep on adding object in it like:</p>\n<pre><code>List&lt;CustomerFeedDTO&gt; customerFeedDTOs = new ArrayList&lt;CustomerFeedDTO&gt;();\nGson gson = new Gson();\nJsonReader reader = new JsonReader(new FileReader(&quot;customer.json&quot;));\n// Required\nreader.setLenient(true);\nwhile (reader.peek() != JsonToken.END_DOCUMENT) {\n    CustomerFeedDTO customerFeedDTO = gson.fromJson(reader, CustomerFeedDTO.class);\n    customerFeedDTOs.add(customerFeedDTO);\n}\n</code></pre>\n<p><code>Note that</code> reader also has a <code>hasNext()</code> method but that gives Exception when you reach at the end of the document. For further details about this, refer to <a href=\"https://stackoverflow.com/a/52250761/16437679\">https://stackoverflow.com/a/52250761/16437679</a></p>\n"}],"owner":{"account_id":26952186,"reputation":25,"user_id":20521221,"display_name":"Dragon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74772552,"answer_count":1,"score":0,"last_activity_date":1670855063,"creation_date":1670843434,"question_id":74770235,"body_markdown":"----------\r\n\r\n\r\nI want to map multiple records in `ndJson` with my DTO class. Following is my `ndJson` file:\r\n\r\n```\r\n// Record # 1 (This line is not included in the file and is only for clarification)\r\n{\r\n &quot;profile&quot;:{\r\n      &quot;salutation&quot;:&quot;Mr&quot;,\r\n      &quot;title&quot;:null,\r\n      &quot;company&quot;:null\r\n   }, \r\n   &quot;phone&quot;:{\r\n      &quot;home_phone&quot;:null\r\n   },\r\n   &quot;addresses&quot;:[\r\n      {\r\n         &quot;address_id&quot;:&quot;1&quot;,\r\n         &quot;title&quot;:&quot;&quot;,\r\n         &quot;company&quot;:null,\r\n         &quot;salutation&quot;:null,\r\n         &quot;first_name&quot;:&quot;Veronica&quot;,\r\n         &quot;last_name&quot;:&quot;Costello&quot;,\r\n         &quot;second_name&quot;:null\r\n      }\r\n   ],\r\n   &quot;orders&quot;:{\r\n      &quot;placed_orders_count&quot;:2,\r\n      &quot;0&quot;:{\r\n         &quot;order_id&quot;:&quot;000000001&quot;,\r\n         &quot;order_date&quot;:&quot;2019-03-27 14:25:03&quot;\r\n      },\r\n      &quot;1&quot;:{\r\n         &quot;order_id&quot;:&quot;000000002&quot;,\r\n         &quot;order_date&quot;:&quot;2019-03-27 14:25:03&quot;\r\n      }\r\n   },\r\n   &quot;customs&quot;:[\r\n      \r\n   ]\r\n}\r\n\r\n// Record # 2 (This line is not included in the file and is only for clarification)\r\n{\r\n    &quot;profile&quot;:{\r\n      &quot;salutation&quot;:null,\r\n      &quot;title&quot;:null,\r\n      &quot;company&quot;:null,\r\n      &quot;job_title&quot;:null\r\n   },\r\n   &quot;phone&quot;:{\r\n      &quot;home_phone&quot;:null,\r\n      &quot;business_phone&quot;:null,\r\n      &quot;mobile_phone&quot;:null,\r\n      &quot;fax_number&quot;:null\r\n   },\r\n   &quot;addresses&quot;:[\r\n      {\r\n         &quot;address_id&quot;:&quot;2&quot;,\r\n         &quot;title&quot;:&quot;&quot;\r\n      }\r\n   ],\r\n   &quot;orders&quot;:{\r\n      &quot;placed_orders_count&quot;:0\r\n   },\r\n   &quot;customs&quot;:[\r\n      \r\n   ]\r\n}\r\n\r\n//Similarly the file has a lot of records\r\n```\r\nI want to map all the records but only able to map first record.\r\n\r\n\r\nI have asked a similar question at https://stackoverflow.com/questions/74734605/how-to-read-ndjson-file-in-java but **I am not able to map all records** with the accepted solution. Below is my code:\r\n\r\n\r\n```\r\nGson gson = new Gson();\r\nJsonReader reader = new JsonReader(new FileReader(&quot;customer.json&quot;));\r\nCustomerFeedDTO customerFeedDTO = gson.fromJson(reader, CustomerFeedDTO.class);\r\n```\r\nAnd Customer DTO class is:\r\n\r\n\r\n```\r\nprivate Map&lt;String, ?&gt; profile;\r\nprivate Map&lt;String, ?&gt; phone;\r\nprivate ArrayList&lt;?&gt; addresses;\r\nprivate Map&lt;String, ?&gt; orders;\r\nprivate ArrayList&lt;?&gt; customs;\r\n\r\n// Getters and setter\r\n```\r\nBut I am only getting the first record with this code.\r\n**How can I map all the records** into `CustomerDTO` object?","title":"Mapping multiple ndJson records with Gson","body":"<hr />\n<p>I want to map multiple records in <code>ndJson</code> with my DTO class. Following is my <code>ndJson</code> file:</p>\n<pre><code>// Record # 1 (This line is not included in the file and is only for clarification)\n{\n &quot;profile&quot;:{\n      &quot;salutation&quot;:&quot;Mr&quot;,\n      &quot;title&quot;:null,\n      &quot;company&quot;:null\n   }, \n   &quot;phone&quot;:{\n      &quot;home_phone&quot;:null\n   },\n   &quot;addresses&quot;:[\n      {\n         &quot;address_id&quot;:&quot;1&quot;,\n         &quot;title&quot;:&quot;&quot;,\n         &quot;company&quot;:null,\n         &quot;salutation&quot;:null,\n         &quot;first_name&quot;:&quot;Veronica&quot;,\n         &quot;last_name&quot;:&quot;Costello&quot;,\n         &quot;second_name&quot;:null\n      }\n   ],\n   &quot;orders&quot;:{\n      &quot;placed_orders_count&quot;:2,\n      &quot;0&quot;:{\n         &quot;order_id&quot;:&quot;000000001&quot;,\n         &quot;order_date&quot;:&quot;2019-03-27 14:25:03&quot;\n      },\n      &quot;1&quot;:{\n         &quot;order_id&quot;:&quot;000000002&quot;,\n         &quot;order_date&quot;:&quot;2019-03-27 14:25:03&quot;\n      }\n   },\n   &quot;customs&quot;:[\n      \n   ]\n}\n\n// Record # 2 (This line is not included in the file and is only for clarification)\n{\n    &quot;profile&quot;:{\n      &quot;salutation&quot;:null,\n      &quot;title&quot;:null,\n      &quot;company&quot;:null,\n      &quot;job_title&quot;:null\n   },\n   &quot;phone&quot;:{\n      &quot;home_phone&quot;:null,\n      &quot;business_phone&quot;:null,\n      &quot;mobile_phone&quot;:null,\n      &quot;fax_number&quot;:null\n   },\n   &quot;addresses&quot;:[\n      {\n         &quot;address_id&quot;:&quot;2&quot;,\n         &quot;title&quot;:&quot;&quot;\n      }\n   ],\n   &quot;orders&quot;:{\n      &quot;placed_orders_count&quot;:0\n   },\n   &quot;customs&quot;:[\n      \n   ]\n}\n\n//Similarly the file has a lot of records\n</code></pre>\n<p>I want to map all the records but only able to map first record.</p>\n<p>I have asked a similar question at <a href=\"https://stackoverflow.com/questions/74734605/how-to-read-ndjson-file-in-java\">How to Read ndJSON file in Java</a> but <strong>I am not able to map all records</strong> with the accepted solution. Below is my code:</p>\n<pre><code>Gson gson = new Gson();\nJsonReader reader = new JsonReader(new FileReader(&quot;customer.json&quot;));\nCustomerFeedDTO customerFeedDTO = gson.fromJson(reader, CustomerFeedDTO.class);\n</code></pre>\n<p>And Customer DTO class is:</p>\n<pre><code>private Map&lt;String, ?&gt; profile;\nprivate Map&lt;String, ?&gt; phone;\nprivate ArrayList&lt;?&gt; addresses;\nprivate Map&lt;String, ?&gt; orders;\nprivate ArrayList&lt;?&gt; customs;\n\n// Getters and setter\n</code></pre>\n<p>But I am only getting the first record with this code.\n<strong>How can I map all the records</strong> into <code>CustomerDTO</code> object?</p>\n"},{"tags":["java","class","methods"],"comments":[{"owner":{"account_id":325434,"reputation":25037,"user_id":646619,"accept_rate":90,"display_name":"Colonel Thirty Two"},"score":2,"creation_date":1439323161,"post_id":31950764,"comment_id":51811076,"body_markdown":"It means it returns a `ProcessorClass` instance. There&#39;s nothing wrong with a method on a class returning an instance of the same class.","body":"It means it returns a <code>ProcessorClass</code> instance. There&#39;s nothing wrong with a method on a class returning an instance of the same class."}],"answers":[{"comments":[{"owner":{"account_id":6774220,"reputation":69,"user_id":5216581,"display_name":"Angela"},"score":1,"creation_date":1439324168,"post_id":31950914,"comment_id":51811631,"body_markdown":"Is there a reason why you would want to create the method over the constructor?","body":"Is there a reason why you would want to create the method over the constructor?"},{"owner":{"account_id":4427390,"reputation":5224,"user_id":3605497,"display_name":"Tripp Kinetics"},"score":0,"creation_date":1439324225,"post_id":31950914,"comment_id":51811659,"body_markdown":"One reason would be if you&#39;re implementing a singleton.  Then the constructor is only called once, and the function keeps returning the same instance.  Usually (always?) a singleton class has a private constructor so that it can enforce that there is only one instance.","body":"One reason would be if you&#39;re implementing a singleton.  Then the constructor is only called once, and the function keeps returning the same instance.  Usually (always?) a singleton class has a private constructor so that it can enforce that there is only one instance."},{"owner":{"account_id":4427390,"reputation":5224,"user_id":3605497,"display_name":"Tripp Kinetics"},"score":0,"creation_date":1439324281,"post_id":31950914,"comment_id":51811698,"body_markdown":"Another reason might be that the class builds itself (as in the builder pattern) and the `build()` method returns the built instance.","body":"Another reason might be that the class builds itself (as in the builder pattern) and the <code>build()</code> method returns the built instance."}],"tags":[],"owner":{"account_id":4427390,"reputation":5224,"user_id":3605497,"display_name":"Tripp Kinetics"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1670854625,"creation_date":1439323312,"answer_id":31950914,"question_id":31950764,"body_markdown":"Check this example, which is an implementation of the Singleton pattern:\r\n\r\n    public class Ploop\r\n    {\r\n        private final int x;\r\n        private static Ploop instance = null;\r\n\r\n        public int getX()\r\n        {\r\n            return x;\r\n        }\r\n\r\n        public static Ploop getInstance()\r\n        {\r\n            if(instance == null) instance = new Ploop();\r\n            return instance;\r\n        }\r\n\r\n        private Ploop()\r\n        {\r\n            x = 0;\r\n        }\r\n    }\r\n\r\nIn this case, the `getInstance()` function is the only way to get a new `Ploop` object.  If the constructor were `public`, then there would be two ways, `new Ploop()` and `Ploop.getInstance()`.\r\n\r\nBecause the `getInstance()` only instantiates `Ploop` once, there can only ever be one instance of `Ploop`.  (Barring unusual ways of instantiating an object, like through reflection...)\r\n\r\nAnother way to make use of this pattern is to allow a class to use the Builder pattern to instantiate itself in phases.\r\n\r\nDoes this make anything clearer?","title":"Java - class name in method declaration where the return type should be","body":"<p>Check this example, which is an implementation of the Singleton pattern:</p>\n<pre><code>public class Ploop\n{\n    private final int x;\n    private static Ploop instance = null;\n\n    public int getX()\n    {\n        return x;\n    }\n\n    public static Ploop getInstance()\n    {\n        if(instance == null) instance = new Ploop();\n        return instance;\n    }\n\n    private Ploop()\n    {\n        x = 0;\n    }\n}\n</code></pre>\n<p>In this case, the <code>getInstance()</code> function is the only way to get a new <code>Ploop</code> object.  If the constructor were <code>public</code>, then there would be two ways, <code>new Ploop()</code> and <code>Ploop.getInstance()</code>.</p>\n<p>Because the <code>getInstance()</code> only instantiates <code>Ploop</code> once, there can only ever be one instance of <code>Ploop</code>.  (Barring unusual ways of instantiating an object, like through reflection...)</p>\n<p>Another way to make use of this pattern is to allow a class to use the Builder pattern to instantiate itself in phases.</p>\n<p>Does this make anything clearer?</p>\n"},{"tags":[],"owner":{"account_id":18533793,"reputation":21,"user_id":13503934,"display_name":"Bhavya Tripathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591087785,"creation_date":1591086049,"answer_id":62147746,"question_id":31950764,"body_markdown":"When a method uses a class name as its return type, the class of the type of the returned object must be either a subclass of, or the exact class of, the return type.\r\n\r\nSuppose that you have a class hierarchy in which ImaginaryNumber is a subclass of java.lang.Number, which is in turn a subclass of Object, as illustrated below.\r\n\r\n                            Object\r\n                              |\r\n                            Number\r\n                              |\r\n                         ImaginaryNumber\r\n\r\n\r\nNow suppose that you have a method declared to return a Number:\r\n```\r\npublic Number returnANumber() {\r\n    ...\r\n}\r\n```\r\n\r\nThe returnANumber method can return an ImaginaryNumber but not an Object. ImaginaryNumber is a Number because it&#39;s a subclass of Number. However, an Object is not necessarily a Number  it could be a String or another type.\r\n\r\nYou can override a method and define it to return a subclass of the original method, like this:\r\n```\r\npublic ImaginaryNumber returnANumber() {\r\n    ...\r\n}\r\n```\r\n\r\nThis technique, called covariant return type, means that the return type is allowed to vary in the same direction as the subclass.\r\n\r\n\r\n","title":"Java - class name in method declaration where the return type should be","body":"<p>When a method uses a class name as its return type, the class of the type of the returned object must be either a subclass of, or the exact class of, the return type.</p>\n\n<p>Suppose that you have a class hierarchy in which ImaginaryNumber is a subclass of java.lang.Number, which is in turn a subclass of Object, as illustrated below.</p>\n\n<pre><code>                        Object\n                          |\n                        Number\n                          |\n                     ImaginaryNumber\n</code></pre>\n\n<p>Now suppose that you have a method declared to return a Number:</p>\n\n<pre><code>public Number returnANumber() {\n    ...\n}\n</code></pre>\n\n<p>The returnANumber method can return an ImaginaryNumber but not an Object. ImaginaryNumber is a Number because it's a subclass of Number. However, an Object is not necessarily a Number  it could be a String or another type.</p>\n\n<p>You can override a method and define it to return a subclass of the original method, like this:</p>\n\n<pre><code>public ImaginaryNumber returnANumber() {\n    ...\n}\n</code></pre>\n\n<p>This technique, called covariant return type, means that the return type is allowed to vary in the same direction as the subclass.</p>\n"},{"tags":[],"owner":{"account_id":15365191,"reputation":19,"user_id":11084943,"display_name":"Sandeep Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597213967,"creation_date":1597213967,"answer_id":63371053,"question_id":31950764,"body_markdown":"Essentially, a return type can be anything, if a method returns something. You can return the instance of the same class where the method is defined.\r\n\r\n`ProcessorClass` here is a return type. You are returning an instance of the class.\r\n\r\nEg.\r\n```\r\nclass ProcessorClass {\r\n public ProcessorClass someMethod() {\r\n  return new ProcessorClass();\r\n }\r\n}\r\n```\r\n\r\nHere the method is returning the same type as the class.\r\n\r\n```\r\nclass XYZ {\r\n pubic ProcessorClass anotherMethod() {\r\n  return new ProcessorClass();\r\n }\r\n}\r\n```\r\n\r\nHere the method is returning the above class type. ","title":"Java - class name in method declaration where the return type should be","body":"<p>Essentially, a return type can be anything, if a method returns something. You can return the instance of the same class where the method is defined.</p>\n<p><code>ProcessorClass</code> here is a return type. You are returning an instance of the class.</p>\n<p>Eg.</p>\n<pre><code>class ProcessorClass {\n public ProcessorClass someMethod() {\n  return new ProcessorClass();\n }\n}\n</code></pre>\n<p>Here the method is returning the same type as the class.</p>\n<pre><code>class XYZ {\n pubic ProcessorClass anotherMethod() {\n  return new ProcessorClass();\n }\n}\n</code></pre>\n<p>Here the method is returning the above class type.</p>\n"}],"owner":{"account_id":6774220,"reputation":69,"user_id":5216581,"display_name":"Angela"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8489,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1670854625,"creation_date":1439322817,"question_id":31950764,"body_markdown":"I am working on some code where there is a method that looks like this:\r\n\r\n        public static ProcessorClass getProcessor(String x, int y) {\r\n         return(var);\r\n        }\r\n\r\nFrom what I remember the way this is written the &quot;ProcessorClass&quot; is a return type but what does that mean. The &quot;ProcessorClass&quot; is the class that the method is currently in. I am confused in what this means.","title":"Java - class name in method declaration where the return type should be","body":"<p>I am working on some code where there is a method that looks like this:</p>\n\n<pre><code>    public static ProcessorClass getProcessor(String x, int y) {\n     return(var);\n    }\n</code></pre>\n\n<p>From what I remember the way this is written the \"ProcessorClass\" is a return type but what does that mean. The \"ProcessorClass\" is the class that the method is currently in. I am confused in what this means.</p>\n"},{"tags":["java","machine-learning","data-science","image-classification"],"comments":[{"owner":{"account_id":27171016,"reputation":350,"user_id":20707682,"display_name":"Chris Miller"},"score":1,"creation_date":1670788150,"post_id":74760126,"comment_id":131949136,"body_markdown":"You didn&#39;t provide any context as to the dataset and how your model was trained. The classes suggest the model is trained on specific fruit and features found in the fruit, but it&#39;s not trained to determine &quot;is_fruit, is_not_fruit&quot;. You probably need to inference the image against an object classifier model so it knows what fruit is, then pass the image frame to your existing model if the image is in fact fruit.","body":"You didn&#39;t provide any context as to the dataset and how your model was trained. The classes suggest the model is trained on specific fruit and features found in the fruit, but it&#39;s not trained to determine &quot;is_fruit, is_not_fruit&quot;. You probably need to inference the image against an object classifier model so it knows what fruit is, then pass the image frame to your existing model if the image is in fact fruit."},{"owner":{"account_id":2721434,"reputation":3172,"user_id":2347649,"accept_rate":50,"display_name":"Julia Meshcheryakova"},"score":0,"creation_date":1670854834,"post_id":74760126,"comment_id":131963027,"body_markdown":"Differentiate between the classification logic and the UI-related code. Your question was about classification itself, not smth related to display - I cut irrelevant code from the question. But the remaining method is also a subject for refactoring. Isolate the classification code from the controls and edit the post to include only the classification-related method. It&#39;s best coding practices and shall pay off. Good luck!","body":"Differentiate between the classification logic and the UI-related code. Your question was about classification itself, not smth related to display - I cut irrelevant code from the question. But the remaining method is also a subject for refactoring. Isolate the classification code from the controls and edit the post to include only the classification-related method. It&#39;s best coding practices and shall pay off. Good luck!"}],"answers":[{"comments":[{"owner":{"account_id":21417211,"reputation":1,"user_id":15776263,"display_name":"Lousy"},"score":0,"creation_date":1671184082,"post_id":74772313,"comment_id":132048791,"body_markdown":"i want to add a function that return the result &quot;unkown&quot; if the probability for all class is less than the threshold you defined. The problem is i dont know how to implement that in my codes","body":"i want to add a function that return the result &quot;unkown&quot; if the probability for all class is less than the threshold you defined. The problem is i dont know how to implement that in my codes"},{"owner":{"account_id":2721434,"reputation":3172,"user_id":2347649,"accept_rate":50,"display_name":"Julia Meshcheryakova"},"score":0,"creation_date":1671185490,"post_id":74772313,"comment_id":132049225,"body_markdown":"So first you implement a model that knows only 2 classes: fruit and not fruit.\nThen for items classified as fruits you run a second (independent model) that answers which particular fruit it is.\n\nMake sure you isolate code with business logic from the UI code. Decoupling layers will allow you to combine model outcomes in any fashion when a product starts growing.","body":"So first you implement a model that knows only 2 classes: fruit and not fruit. Then for items classified as fruits you run a second (independent model) that answers which particular fruit it is.  Make sure you isolate code with business logic from the UI code. Decoupling layers will allow you to combine model outcomes in any fashion when a product starts growing."},{"owner":{"account_id":21417211,"reputation":1,"user_id":15776263,"display_name":"Lousy"},"score":0,"creation_date":1672080844,"post_id":74772313,"comment_id":132218367,"body_markdown":"how to do that?","body":"how to do that?"},{"owner":{"account_id":2721434,"reputation":3172,"user_id":2347649,"accept_rate":50,"display_name":"Julia Meshcheryakova"},"score":0,"creation_date":1672086331,"post_id":74772313,"comment_id":132219392,"body_markdown":"Well, I guess, you have a lot to read first. SO is not a place to put the whole course of programming in the comments. Try to google keywords and formulate your question as narrowly as possible. Otherwise, it&#39;s unclear what exactly you don&#39;t understand and the community won&#39;t write the whole app for you.","body":"Well, I guess, you have a lot to read first. SO is not a place to put the whole course of programming in the comments. Try to google keywords and formulate your question as narrowly as possible. Otherwise, it&#39;s unclear what exactly you don&#39;t understand and the community won&#39;t write the whole app for you."}],"tags":[],"owner":{"account_id":2721434,"reputation":3172,"user_id":2347649,"accept_rate":50,"display_name":"Julia Meshcheryakova"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670854052,"creation_date":1670854052,"answer_id":74772313,"question_id":74760126,"body_markdown":"Your problem splits into 2 different problems:\r\n1) **Binary classification**: if the image depicts a fruit. Results: fruit/not fruit\r\n2) **Multi-class classification**: which fruit is it? \r\n\r\nCurrently, you solve only a 2nd part. But there is no class &#39;not fruit at all&#39;.  You can have N+1 class: N fruits and 1 not-a-fruit image class. But then it is going to be imbalanced which is a complication. Therefore, I suggest 2-step approach.","title":"Custom objects classifier always returns one of classes even if the picture belongs to none of them","body":"<p>Your problem splits into 2 different problems:</p>\n<ol>\n<li><strong>Binary classification</strong>: if the image depicts a fruit. Results: fruit/not fruit</li>\n<li><strong>Multi-class classification</strong>: which fruit is it?</li>\n</ol>\n<p>Currently, you solve only a 2nd part. But there is no class 'not fruit at all'.  You can have N+1 class: N fruits and 1 not-a-fruit image class. But then it is going to be imbalanced which is a complication. Therefore, I suggest 2-step approach.</p>\n"}],"owner":{"account_id":21417211,"reputation":1,"user_id":15776263,"display_name":"Lousy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670854564,"creation_date":1670755498,"question_id":74760126,"body_markdown":"My fruit detection app shows fruit results even though the user uploads a picture that is not a fruit. Is it possible to display a &quot;no plant detected&quot; message?\r\n\r\nMy code:\r\n\r\n```\r\nprivate void classifyImage(Bitmap image) {\r\n    try {\r\n        FruitDisease model = FruitDisease.newInstance(getApplicationContext());\r\n\r\n        TensorBuffer inputFeature = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\r\n        ByteBuffer byteBuffer = ByteBuffer.allocateDirect(4 * imageSize * imageSize * 3);\r\n        byteBuffer.order(ByteOrder.nativeOrder());\r\n\r\n        int[] intValue = new int[imageSize * imageSize];\r\n        image.getPixels(intValue, 0, image.getWidth(), 0, 0, image.getWidth(), image.getHeight());\r\n\r\n        int pixel = 0;\r\n        for (int i = 0; i &lt; imageSize; i++) {\r\n            for (int j = 0; j &lt; imageSize; j++) {\r\n                int val = intValue[pixel++];\r\n                byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f / 255.f));\r\n                byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f / 255.f));\r\n                byteBuffer.putFloat((val &amp; 0xFF) * (1.f / 255.f));\r\n            }\r\n        }\r\n        inputFeature.loadBuffer(byteBuffer);\r\n\r\n        FruitDisease.Outputs outputs = model.process(inputFeature);\r\n        TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\r\n\r\n        float[] confidences = outputFeature0.getFloatArray();\r\n        int maxPos = 0;\r\n        float maxConfidence = 0;\r\n        for (int i = 0; i &lt; confidences.length; i++) {\r\n            if (confidences[i] &gt; maxConfidence) {\r\n                maxConfidence = confidences[i];\r\n                maxPos = i;\r\n            }\r\n        }\r\n\r\n        String[] classes = {&quot;Watermelon Healthy&quot;, &quot;Watermelon Blossom End Rot&quot;, &quot;Watermelon Anthracnose&quot;,\r\n                &quot;Mango Healthy&quot;, &quot;Mango Bacterial Canker&quot;, &quot;Mango Anthracnose&quot;,\r\n                &quot;Orange Scab&quot;, &quot;Orange Healthy&quot;,\r\n                &quot;Orange Bacterial Citrus Canker&quot;, &quot;Banana Healthy&quot;, &quot;Banana Crown Rot&quot;,\r\n                &quot;Banana Anthracnose&quot;, &quot;Apple Scab&quot;, &quot;Apple Healthy&quot;, &quot;Apple Black Rot Canker&quot;};\r\n\r\n        result.setText(classes[maxPos]);\r\n        String s = &quot;&quot;;\r\n        int i;\r\n        for (i = 0; i &lt; classes.length; i++) {\r\n            s += String.format(&quot;%s: %.1f%%\\n&quot;, classes[i], confidences[i] * 100);\r\n            confidence.setText(s);\r\n            confidence.setVisibility(View.VISIBLE);\r\n        }\r\n```","title":"Custom objects classifier always returns one of classes even if the picture belongs to none of them","body":"<p>My fruit detection app shows fruit results even though the user uploads a picture that is not a fruit. Is it possible to display a &quot;no plant detected&quot; message?</p>\n<p>My code:</p>\n<pre><code>private void classifyImage(Bitmap image) {\n    try {\n        FruitDisease model = FruitDisease.newInstance(getApplicationContext());\n\n        TensorBuffer inputFeature = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\n        ByteBuffer byteBuffer = ByteBuffer.allocateDirect(4 * imageSize * imageSize * 3);\n        byteBuffer.order(ByteOrder.nativeOrder());\n\n        int[] intValue = new int[imageSize * imageSize];\n        image.getPixels(intValue, 0, image.getWidth(), 0, 0, image.getWidth(), image.getHeight());\n\n        int pixel = 0;\n        for (int i = 0; i &lt; imageSize; i++) {\n            for (int j = 0; j &lt; imageSize; j++) {\n                int val = intValue[pixel++];\n                byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f / 255.f));\n                byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f / 255.f));\n                byteBuffer.putFloat((val &amp; 0xFF) * (1.f / 255.f));\n            }\n        }\n        inputFeature.loadBuffer(byteBuffer);\n\n        FruitDisease.Outputs outputs = model.process(inputFeature);\n        TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\n\n        float[] confidences = outputFeature0.getFloatArray();\n        int maxPos = 0;\n        float maxConfidence = 0;\n        for (int i = 0; i &lt; confidences.length; i++) {\n            if (confidences[i] &gt; maxConfidence) {\n                maxConfidence = confidences[i];\n                maxPos = i;\n            }\n        }\n\n        String[] classes = {&quot;Watermelon Healthy&quot;, &quot;Watermelon Blossom End Rot&quot;, &quot;Watermelon Anthracnose&quot;,\n                &quot;Mango Healthy&quot;, &quot;Mango Bacterial Canker&quot;, &quot;Mango Anthracnose&quot;,\n                &quot;Orange Scab&quot;, &quot;Orange Healthy&quot;,\n                &quot;Orange Bacterial Citrus Canker&quot;, &quot;Banana Healthy&quot;, &quot;Banana Crown Rot&quot;,\n                &quot;Banana Anthracnose&quot;, &quot;Apple Scab&quot;, &quot;Apple Healthy&quot;, &quot;Apple Black Rot Canker&quot;};\n\n        result.setText(classes[maxPos]);\n        String s = &quot;&quot;;\n        int i;\n        for (i = 0; i &lt; classes.length; i++) {\n            s += String.format(&quot;%s: %.1f%%\\n&quot;, classes[i], confidences[i] * 100);\n            confidence.setText(s);\n            confidence.setVisibility(View.VISIBLE);\n        }\n</code></pre>\n"},{"tags":["java","android","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":4716677,"reputation":580,"user_id":3815660,"display_name":"Yurii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670854340,"creation_date":1670854340,"answer_id":74772383,"question_id":74768095,"body_markdown":"maybe this code will helps you:\r\n\r\n```\r\nprivate HttpDataSource.Factory buildHttpDataSourceFactory() {\r\n        Map&lt;String, String&gt; settings = new HashMap();\r\n        settings.put(&quot;Referer&quot;, &quot;my_referer_value&quot;);\r\n        return new DefaultHttpDataSource.Factory()\r\n                .setUserAgent(Util.getUserAgent(getContext(), &quot;your agent&quot;))\r\n                .setDefaultRequestProperties(settings)\r\n                .setAllowCrossProtocolRedirects(true);\r\n    }\r\n```","title":"Add referer header in Exoplayer2 Android","body":"<p>maybe this code will helps you:</p>\n<pre><code>private HttpDataSource.Factory buildHttpDataSourceFactory() {\n        Map&lt;String, String&gt; settings = new HashMap();\n        settings.put(&quot;Referer&quot;, &quot;my_referer_value&quot;);\n        return new DefaultHttpDataSource.Factory()\n                .setUserAgent(Util.getUserAgent(getContext(), &quot;your agent&quot;))\n                .setDefaultRequestProperties(settings)\n                .setAllowCrossProtocolRedirects(true);\n    }\n</code></pre>\n"}],"owner":{"account_id":27226208,"reputation":1,"user_id":20754680,"display_name":"Kikay Jaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670854340,"creation_date":1670831663,"question_id":74768095,"body_markdown":"I need s small change in my exoplayer app to play m3u8 url with referer. Since i  new in java programming, i still confused how to add the header. Here is part of my code . Thanks in advance\r\n\r\n```\r\n private DataSource.Factory buildDataSourceFactory(boolean useBandwidthMeter) {\r\n        return buildDataSourceFactory(useBandwidthMeter ? BANDWIDTH_METER : null);\r\n    }\r\n\r\n    public DataSource.Factory buildDataSourceFactory(DefaultBandwidthMeter bandwidthMeter) {\r\n        return new DefaultDataSourceFactory(requireActivity(), bandwidthMeter,\r\n                buildHttpDataSourceFactory(bandwidthMeter));\r\n    }\r\n\r\n    public HttpDataSource.Factory buildHttpDataSourceFactory(DefaultBandwidthMeter bandwidthMeter) {\r\n        return new DefaultHttpDataSourceFactory(isUserAgent ? userAgentName : Util.getUserAgent(requireActivity(), &quot;ExoPlayerDemo&quot;), bandwidthMeter);\r\n\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\nI have tried this but give some red line error\r\n\r\n\r\n```\r\n\r\n    public HttpDataSource.Factory buildHttpDataSourceFactory(DefaultBandwidthMeter bandwidthMeter) {\r\n        return new DefaultHttpDataSourceFactory(isUserAgent ? userAgentName : Util.getUserAgent(requireActivity(), &quot;ExoPlayerDemo&quot;), bandwidthMeter).getDefaultRequestProperties().set(&quot;referer&quot;,&quot;myrefererer&quot;);\r\n\r\n    }\r\n```\r\n","title":"Add referer header in Exoplayer2 Android","body":"<p>I need s small change in my exoplayer app to play m3u8 url with referer. Since i  new in java programming, i still confused how to add the header. Here is part of my code . Thanks in advance</p>\n<pre><code> private DataSource.Factory buildDataSourceFactory(boolean useBandwidthMeter) {\n        return buildDataSourceFactory(useBandwidthMeter ? BANDWIDTH_METER : null);\n    }\n\n    public DataSource.Factory buildDataSourceFactory(DefaultBandwidthMeter bandwidthMeter) {\n        return new DefaultDataSourceFactory(requireActivity(), bandwidthMeter,\n                buildHttpDataSourceFactory(bandwidthMeter));\n    }\n\n    public HttpDataSource.Factory buildHttpDataSourceFactory(DefaultBandwidthMeter bandwidthMeter) {\n        return new DefaultHttpDataSourceFactory(isUserAgent ? userAgentName : Util.getUserAgent(requireActivity(), &quot;ExoPlayerDemo&quot;), bandwidthMeter);\n\n    }\n\n\n</code></pre>\n<p>I have tried this but give some red line error</p>\n<pre><code>\n    public HttpDataSource.Factory buildHttpDataSourceFactory(DefaultBandwidthMeter bandwidthMeter) {\n        return new DefaultHttpDataSourceFactory(isUserAgent ? userAgentName : Util.getUserAgent(requireActivity(), &quot;ExoPlayerDemo&quot;), bandwidthMeter).getDefaultRequestProperties().set(&quot;referer&quot;,&quot;myrefererer&quot;);\n\n    }\n</code></pre>\n"},{"tags":["java","jpa","one-to-many","many-to-one"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1670794404,"post_id":74764576,"comment_id":131950371,"body_markdown":"So you are saying that it is possible for a category to NOT have a supplier?   OK then, just remove the @NotNull (and also remove the NOT NULL from the database column).","body":"So you are saying that it is possible for a category to NOT have a supplier?   OK then, just remove the @NotNull (and also remove the NOT NULL from the database column)."},{"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"score":0,"creation_date":1670794882,"post_id":74764576,"comment_id":131950459,"body_markdown":"Can I also remove the class variable suppplier?","body":"Can I also remove the class variable suppplier?"},{"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"score":0,"creation_date":1670794928,"post_id":74764576,"comment_id":131950464,"body_markdown":"I have a form to create a new Category and in that form I don&#39;t want to have a field for the Supplier","body":"I have a form to create a new Category and in that form I don&#39;t want to have a field for the Supplier"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1670795349,"post_id":74764576,"comment_id":131950554,"body_markdown":"Once you remove the @NotNull, then there is no reason for it to be populated (and therefore it is OK for it to not appear on a form).","body":"Once you remove the @NotNull, then there is no reason for it to be populated (and therefore it is OK for it to not appear on a form)."},{"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"score":0,"creation_date":1670796042,"post_id":74764576,"comment_id":131950671,"body_markdown":"But since I don&#39;t want that my Category table to have a supplier column isn&#39;t it better to remove the  class variable?","body":"But since I don&#39;t want that my Category table to have a supplier column isn&#39;t it better to remove the  class variable?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1670797611,"post_id":74764576,"comment_id":131950925,"body_markdown":"Is it valid for a category to ever have a supplier ?  If so, then category should have a supplier column.  If not, then why did you have a supplier column there in the first place?","body":"Is it valid for a category to ever have a supplier ?  If so, then category should have a supplier column.  If not, then why did you have a supplier column there in the first place?"},{"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"score":0,"creation_date":1670797928,"post_id":74764576,"comment_id":131950984,"body_markdown":"I added the supplier column because I fought it was mandatory because of @OneToMany tag in Supplier.java","body":"I added the supplier column because I fought it was mandatory because of @OneToMany tag in Supplier.java"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1670798278,"post_id":74764576,"comment_id":131951053,"body_markdown":"Ah, so sounds like you aree actually after a ManyToMany relationship - basically a separate table connecting suppliers to categories.  Of course, this implicitly allows each category to have multiple suppliers, so your application will have to restrict that if thats not what you want. Implement that either by the @ManyToMany annotation, or create the joining SupplierCatwgories table+class yourself (that has ManyToOne to both  Supplier and Category)","body":"Ah, so sounds like you aree actually after a ManyToMany relationship - basically a separate table connecting suppliers to categories.  Of course, this implicitly allows each category to have multiple suppliers, so your application will have to restrict that if thats not what you want. Implement that either by the @ManyToMany annotation, or create the joining SupplierCatwgories table+class yourself (that has ManyToOne to both  Supplier and Category)"},{"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"score":0,"creation_date":1670799254,"post_id":74764576,"comment_id":131951211,"body_markdown":"can you show an example?","body":"can you show an example?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1670800572,"post_id":74764576,"comment_id":131951435,"body_markdown":"Something like https://stackoverflow.com/a/72106024/681444","body":"Something like <a href=\"https://stackoverflow.com/a/72106024/681444\">stackoverflow.com/a/72106024/681444</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1670867417,"post_id":74764576,"comment_id":131967708,"body_markdown":"OneToMany can use a join table too, see https://en.wikibooks.org/wiki/Java_Persistence/OneToMany#Example_of_a_OneToMany_using_a_JoinTable_database . Your provider then can put in the constraints on the join table to enforce uniqueness so that one category only has one supplier if that is required. Otherwise, it is the same as a ManyToMany","body":"OneToMany can use a join table too, see <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/OneToMany#Example_of_a_OneToMany_using_a_JoinTable_database\" rel=\"nofollow noreferrer\">en.wikibooks.org/wiki/Java_Persistence/&hellip;</a> . Your provider then can put in the constraints on the join table to enforce uniqueness so that one category only has one supplier if that is required. Otherwise, it is the same as a ManyToMany"}],"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670853719,"creation_date":1670793280,"question_id":74764576,"body_markdown":"I am developing an application with JPA and I came across a small problem.\r\n\r\nI have this two entities Category and Supplier.\r\n\r\nA Supplier must have at least one category so I used the @OneToMany tag.\r\n\r\n```\r\n@Entity\r\npublic class Supplier extends AbstractEntity {\r\n    @NotEmpty\r\n    private String name;\r\n    @NotEmpty\r\n    private String address;\r\n\r\n   @OneToMany(mappedBy = &quot;supplier&quot;)\r\n   private List&lt;Category&gt; categories = new LinkedList&lt;&gt;();\r\n\r\n\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return this.address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n\r\n   public List&lt;Category&gt; getCategories() {\r\n        return categories;\r\n    }\r\n\r\n    public void setCategories(List&lt;Category&gt; categories) {\r\n        this.categories = categories;\r\n    }\r\n\r\n    //TO DO : Add verification to ensure that a Supplier has at least a supplied category\r\n    //TO DO : add a method do add a category to supplied categories\r\n}\r\n```\r\nOn the other end since I used the @OneToMany tag in the Supplier entity I ended up using the @ManyToOne tag in Category entity.\r\n\r\n```\r\n@Entity\r\npublic class Category extends AbstractEntity{\r\n    @NotBlank\r\n    private String description;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;supplier_id&quot;)\r\n    @NotNull\r\n    @JsonIgnoreProperties({&quot;categories&quot;})\r\n    private Supplier supplier;\r\n\r\n    public String getDescription() {\r\n        return this.description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n}\r\n```\r\nBut this creates a little problem.\r\n\r\nAnytime that I want to create a new Category I need to provide a Supplier to it, which is not the intended behavior.\r\n\r\n\r\n\r\nHow can I get around this? Can I remove the @ManyToOne tag in Category?","title":"JPA - Does @OneToMany demand @ManyToOne?","body":"<p>I am developing an application with JPA and I came across a small problem.</p>\n<p>I have this two entities Category and Supplier.</p>\n<p>A Supplier must have at least one category so I used the @OneToMany tag.</p>\n<pre><code>@Entity\npublic class Supplier extends AbstractEntity {\n    @NotEmpty\n    private String name;\n    @NotEmpty\n    private String address;\n\n   @OneToMany(mappedBy = &quot;supplier&quot;)\n   private List&lt;Category&gt; categories = new LinkedList&lt;&gt;();\n\n\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAddress() {\n        return this.address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n\n   public List&lt;Category&gt; getCategories() {\n        return categories;\n    }\n\n    public void setCategories(List&lt;Category&gt; categories) {\n        this.categories = categories;\n    }\n\n    //TO DO : Add verification to ensure that a Supplier has at least a supplied category\n    //TO DO : add a method do add a category to supplied categories\n}\n</code></pre>\n<p>On the other end since I used the @OneToMany tag in the Supplier entity I ended up using the @ManyToOne tag in Category entity.</p>\n<pre><code>@Entity\npublic class Category extends AbstractEntity{\n    @NotBlank\n    private String description;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;supplier_id&quot;)\n    @NotNull\n    @JsonIgnoreProperties({&quot;categories&quot;})\n    private Supplier supplier;\n\n    public String getDescription() {\n        return this.description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n}\n</code></pre>\n<p>But this creates a little problem.</p>\n<p>Anytime that I want to create a new Category I need to provide a Supplier to it, which is not the intended behavior.</p>\n<p>How can I get around this? Can I remove the @ManyToOne tag in Category?</p>\n"},{"tags":["java","react-native","variables"],"owner":{"account_id":22754117,"reputation":135,"user_id":16913824,"display_name":"VictoriaStudios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670853585,"creation_date":1670853585,"question_id":74772209,"body_markdown":"I&#39;m trying to run\r\n\r\n    npx react-native run-android\r\n\r\nI used to have a wrong version of Java installed, but this was now rectified to JDK11. I however, I still get the following error:\r\n\r\n    The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-19\\bin\\java.exe\r\n\r\nI don&#39;t understand why it keeps going to an old, uninstalled path. I already installed JDK11 and changed my variables:\r\n\r\n    echo %JAVA_HOME%\r\n    C:\\Program Files\\Eclipse Adoptium\\jdk-11.0.17.8-hotspot\r\n\r\nIs there anything else I have to do in order for the script to see the new JDK location?","title":"Why is Java_Home not updating for react-native?","body":"<p>I'm trying to run</p>\n<pre><code>npx react-native run-android\n</code></pre>\n<p>I used to have a wrong version of Java installed, but this was now rectified to JDK11. I however, I still get the following error:</p>\n<pre><code>The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-19\\bin\\java.exe\n</code></pre>\n<p>I don't understand why it keeps going to an old, uninstalled path. I already installed JDK11 and changed my variables:</p>\n<pre><code>echo %JAVA_HOME%\nC:\\Program Files\\Eclipse Adoptium\\jdk-11.0.17.8-hotspot\n</code></pre>\n<p>Is there anything else I have to do in order for the script to see the new JDK location?</p>\n"},{"tags":["java","spring-boot","spring-security","saml","getvalue"],"owner":{"account_id":27229236,"reputation":1,"user_id":20757234,"display_name":"Gustavo Rutiquewiski EY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670853440,"creation_date":1670853293,"question_id":74772156,"body_markdown":"I&#39;m trying to implement SAML SSO on my project but there&#39;s a weird problem, the method getValue() is not working, it just says &quot;Cannot resolve method &#39;getValue()&#39;&quot;. Right on credential.getNameID().getValue() the getValue gets red and it shows that message, I&#39;ve searched everywhere but found no answer\r\n\r\n`\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.saml.SAMLCredential;\r\nimport org.springframework.security.saml.userdetails.SAMLUserDetailsService;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class SAMLUserDetailsServiceImpl implements SAMLUserDetailsService {\r\n\r\n    // Logger\r\n    private static final Logger LOG = LoggerFactory.getLogger(SAMLUserDetailsServiceImpl.class);\r\n\r\n    public Object loadUserBySAML(SAMLCredential credential)\r\n            throws UsernameNotFoundException {\r\n\r\n        // The method is supposed to identify local account of user referenced by\r\n        // data in the SAML assertion and return UserDetails object describing the user.\r\n\r\n        //PROBLEM RIGHT HERE\r\n        String userID = credential.getNameID().getValue();\r\n\r\n        LOG.info(userID + &quot; is logged in&quot;);\r\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\r\n        GrantedAuthority authority = new SimpleGrantedAuthority(&quot;ROLE_USER&quot;);\r\n        authorities.add(authority);\r\n\r\n        // In a real scenario, this implementation has to locate user in a arbitrary\r\n        // dataStore based on information present in the SAMLCredential and\r\n        // returns such a date in a form of application specific UserDetails object.\r\n        return new User(userID, &quot;&lt;abc123&gt;&quot;, true, true, true, true, authorities);\r\n    }\r\n\r\n}\r\n```\r\n`\r\n\r\nThere&#39;s no much to try","title":"getValue not working on SAMLUserDetailsServiceImpl","body":"<p>I'm trying to implement SAML SSO on my project but there's a weird problem, the method getValue() is not working, it just says &quot;Cannot resolve method 'getValue()'&quot;. Right on credential.getNameID().getValue() the getValue gets red and it shows that message, I've searched everywhere but found no answer</p>\n<p>`</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.saml.SAMLCredential;\nimport org.springframework.security.saml.userdetails.SAMLUserDetailsService;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Service\npublic class SAMLUserDetailsServiceImpl implements SAMLUserDetailsService {\n\n    // Logger\n    private static final Logger LOG = LoggerFactory.getLogger(SAMLUserDetailsServiceImpl.class);\n\n    public Object loadUserBySAML(SAMLCredential credential)\n            throws UsernameNotFoundException {\n\n        // The method is supposed to identify local account of user referenced by\n        // data in the SAML assertion and return UserDetails object describing the user.\n\n        //PROBLEM RIGHT HERE\n        String userID = credential.getNameID().getValue();\n\n        LOG.info(userID + &quot; is logged in&quot;);\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\n        GrantedAuthority authority = new SimpleGrantedAuthority(&quot;ROLE_USER&quot;);\n        authorities.add(authority);\n\n        // In a real scenario, this implementation has to locate user in a arbitrary\n        // dataStore based on information present in the SAMLCredential and\n        // returns such a date in a form of application specific UserDetails object.\n        return new User(userID, &quot;&lt;abc123&gt;&quot;, true, true, true, true, authorities);\n    }\n\n}\n</code></pre>\n<p>`</p>\n<p>There's no much to try</p>\n"},{"tags":["java","selenium","selenium-webdriver","while-loop"],"owner":{"account_id":26379924,"reputation":13,"user_id":20033328,"display_name":"nDrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670853346,"creation_date":1670853264,"question_id":74772145,"body_markdown":"I would like to page through a table until the last page, then click on the last row. I tried with a try/catch block, but it waits too long time for clicking the last row. It does not find the next-button on the last page, so the &quot;catch&quot; works.\r\n\r\nI would like to find a better solution, which first paginates through until the last page is found, then immediately click on its last element.\r\n\r\n    while (true) {\r\n        try {\r\n            nextButton.click();\r\n        } catch (Exception e) {\r\n            clickLastRow();\r\n            break;\r\n        }\r\n    }\r\n\r\n","title":"get last row in multi-page table","body":"<p>I would like to page through a table until the last page, then click on the last row. I tried with a try/catch block, but it waits too long time for clicking the last row. It does not find the next-button on the last page, so the &quot;catch&quot; works.</p>\n<p>I would like to find a better solution, which first paginates through until the last page is found, then immediately click on its last element.</p>\n<pre><code>while (true) {\n    try {\n        nextButton.click();\n    } catch (Exception e) {\n        clickLastRow();\n        break;\n    }\n}\n</code></pre>\n"},{"tags":["java","jvm","inlining"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":3,"creation_date":1556625899,"post_id":55920520,"comment_id":98494789,"body_markdown":"It doesn&#39;t looks like you have any luck without some run-time code generation.","body":"It doesn&#39;t looks like you have any luck without some run-time code generation."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1556626276,"post_id":55920520,"comment_id":98495010,"body_markdown":"There is a fundamental misconception. Nothing in the specification guarantees that. The specification *allows* to produce the same implementation class, but in fact, it explicitly says that the same lambda expression *may* result in different implementation classes.","body":"There is a fundamental misconception. Nothing in the specification guarantees that. The specification <i>allows</i> to produce the same implementation class, but in fact, it explicitly says that the same lambda expression <i>may</i> result in different implementation classes."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1556626352,"post_id":55920520,"comment_id":98495043,"body_markdown":"I doubt it will help  `BiConsumer` still remain mega-morphic.","body":"I doubt it will help  <code>BiConsumer</code> still remain mega-morphic."},{"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"score":0,"creation_date":1556626498,"post_id":55920520,"comment_id":98495121,"body_markdown":"@Holger I was under the impression section 15.27.4 is guaranteeing this as it says:\n\n`Objects produced by different lambda expressions need not belong to different classes (if the bodies are identical, for example).`\n\nhttps://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.4","body":"@Holger I was under the impression section 15.27.4 is guaranteeing this as it says:  <code>Objects produced by different lambda expressions need not belong to different classes (if the bodies are identical, for example).</code>  <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.4\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1556626743,"post_id":55920520,"comment_id":98495259,"body_markdown":"*Objects produced by different lambda expressions need not belong to different classes* says that it is allowed for different lambda expression to result in the same class (which does not happen in the reference implementation today). Right the next point says *Every object produced by evaluation need not belong to the same class (captured local variables might be inlined, for example).* which is exactly about your scenario. The same lambda expression *may* get evaluated to instances of different classes (which also does not happen in the reference implementation today).","body":"<i>Objects produced by different lambda expressions need not belong to different classes</i> says that it is allowed for different lambda expression to result in the same class (which does not happen in the reference implementation today). Right the next point says <i>Every object produced by evaluation need not belong to the same class (captured local variables might be inlined, for example).</i> which is exactly about your scenario. The same lambda expression <i>may</i> get evaluated to instances of different classes (which also does not happen in the reference implementation today)."},{"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"score":0,"creation_date":1556626889,"post_id":55920520,"comment_id":98495338,"body_markdown":"I see, thanks for clarifying. Though I still need to find a workaround for the current implementation :)","body":"I see, thanks for clarifying. Though I still need to find a workaround for the current implementation :)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1556627086,"post_id":55920520,"comment_id":98495452,"body_markdown":"@talex each `BiFunction` instance captures exactly one `BiConsumer` instance, always ending up at the same implementation. If you generate a distinct class for every `BiFunction` instance, it would be a perfect monomorphic behavior. But I dont think that this should be necessary, as the JVM may inline the function code through more than one invocation level into different specialized versions. The key point is the captured `BiConsumer` instance here. Perhaps, specifying `-XX:+TrustFinalNonStaticFields` can make a difference here.","body":"@talex each <code>BiFunction</code> instance captures exactly one <code>BiConsumer</code> instance, always ending up at the same implementation. If you generate a distinct class for every <code>BiFunction</code> instance, it would be a perfect monomorphic behavior. But I dont think that this should be necessary, as the JVM may inline the function code through more than one invocation level into different specialized versions. The key point is the captured <code>BiConsumer</code> instance here. Perhaps, specifying <code>-XX:+TrustFinalNonStaticFields</code> can make a difference here."},{"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"score":0,"creation_date":1556628513,"post_id":55920520,"comment_id":98496244,"body_markdown":"I added `-XX:+TrustFinalNonStaticFields` to my JMH benchmark and it did not make any difference what so ever","body":"I added <code>-XX:+TrustFinalNonStaticFields</code> to my JMH benchmark and it did not make any difference what so ever"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1556628877,"post_id":55920520,"comment_id":98496479,"body_markdown":"It would be helpful to know the precise setup, test code and Java version. For JDK&#160;8, raising `-XX:MaxInlineLevel=` (the default is `9`) may have a positive impact, especially with APIs like the Stream API where a lot of adaptation steps are made.","body":"It would be helpful to know the precise setup, test code and Java version. For JDK 8, raising <code>-XX:MaxInlineLevel=</code> (the default is <code>9</code>) may have a positive impact, especially with APIs like the Stream API where a lot of adaptation steps are made."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1556628880,"post_id":55920520,"comment_id":98496483,"body_markdown":"Do you want to generate a new class each time `weave` is called? You can&#39;t do this with a lambda expression, but you may simulate a creation of a new lambda manually with `MethodHandles` and `LambdaMetafactory`.","body":"Do you want to generate a new class each time <code>weave</code> is called? You can&#39;t do this with a lambda expression, but you may simulate a creation of a new lambda manually with <code>MethodHandles</code> and <code>LambdaMetafactory</code>."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1556629526,"post_id":55920520,"comment_id":98496889,"body_markdown":"@Holger Even if you achieve desired effect you will have multiple implementation of `BiFunction` so JIT won&#39;t be able to inline them since you call them thru interface.","body":"@Holger Even if you achieve desired effect you will have multiple implementation of <code>BiFunction</code> so JIT won&#39;t be able to inline them since you call them thru interface."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1556629570,"post_id":55920520,"comment_id":98496920,"body_markdown":"@apangin Are you sure that JIT is able to inline implementation generated by `LambdaMetafactory`?","body":"@apangin Are you sure that JIT is able to inline implementation generated by <code>LambdaMetafactory</code>?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1556630269,"post_id":55920520,"comment_id":98497310,"body_markdown":"@talex the JIT is better than that. If a particular caller always ends up at the same implementation, it may get optimized, even when other callers of the same interface method may end up at other implementations. The notion of caller depends on `-XX:MaxInlineLevel` here; it doesnt have to be the direct caller. The implementation returned by `LambdaMetafactory` is not special in that regard, its just one level in a call chain.","body":"@talex the JIT is better than that. If a particular caller always ends up at the same implementation, it may get optimized, even when other callers of the same interface method may end up at other implementations. The notion of caller depends on <code>-XX:MaxInlineLevel</code> here; it doesnt have to be the direct caller. The implementation returned by <code>LambdaMetafactory</code> is not special in that regard, its just one level in a call chain."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1556638492,"post_id":55920520,"comment_id":98502279,"body_markdown":"@talex Yes, JIT is able to inline a method call, no matter how the class of this method is generated. Actually, static lambda expressions are instantiated using the very same `LambdaMetafactory`.","body":"@talex Yes, JIT is able to inline a method call, no matter how the class of this method is generated. Actually, static lambda expressions are instantiated using the very same <code>LambdaMetafactory</code>."}],"answers":[{"comments":[{"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"score":0,"creation_date":1556638328,"post_id":55922000,"comment_id":98502190,"body_markdown":"Thanks, this works fine (with some adjustments as `MethodHandles.lookup()` doesn&#39;t return the right class when implementing an interface in enum constants separately). My current test-suite indicates that the inlining works fine with this approach or the one in my question (when there is one callsite). I have some other strange performance issues that don&#39;t seem to be related to inlining now. Thanks for your help!","body":"Thanks, this works fine (with some adjustments as <code>MethodHandles.lookup()</code> doesn&#39;t return the right class when implementing an interface in enum constants separately). My current test-suite indicates that the inlining works fine with this approach or the one in my question (when there is one callsite). I have some other strange performance issues that don&#39;t seem to be related to inlining now. Thanks for your help!"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1556630904,"creation_date":1556630904,"answer_id":55922000,"question_id":55920520,"body_markdown":"In the current implementation, the caching of generated classes (or even instances for the non capturing lambda expressions), is a property of the [`invokedynamic`][indy] instruction which will reuse the result of the bootstrapping done on the first execution.\r\n\r\nThe bootstrap method itself, hosted in the [`LambdaMetafactory`][LMF] class will generate a new class each time it is invoked. So when you use this factory directly, youll get a new class on each invocation, under the current implementation.\r\n\r\n    public &lt;In, Out, A&gt; BiFunction&lt;In, Out, Out&gt; weave(\r\n         Function&lt;? super In, A&gt; getter,\r\n         BiConsumer&lt;? super Out, ? super A&gt; consumer) {\r\n\r\n        MethodHandles.Lookup l = MethodHandles.lookup();\r\n        try {\r\n            MethodHandle target = l.findStatic(l.lookupClass(), &quot;weaveLambdaBody&quot;,\r\n                MethodType.methodType(Object.class, Function.class, BiConsumer.class,\r\n                    Object.class, Object.class));\r\n            MethodType t = target.type().dropParameterTypes(0, 2);\r\n            return (BiFunction&lt;In, Out, Out&gt;)LambdaMetafactory.metafactory(l, &quot;apply&quot;,\r\n                target.type().dropParameterTypes(2, 4).changeReturnType(BiFunction.class),\r\n                t, target, t) .getTarget().invokeExact(getter, consumer);\r\n        }\r\n        catch(RuntimeException | Error e) {\r\n            throw e;\r\n        }\r\n        catch(Throwable t) {\r\n            throw new IllegalStateException(t);\r\n        }\r\n    }\r\n    private static &lt;In, Out, A&gt; Out weaveLambdaBody(\r\n        Function&lt;? super In, A&gt; getter,\r\n        BiConsumer&lt;? super Out, ? super A&gt; consumer,\r\n        In in, Out out) {\r\n\r\n        consumer.accept(out, getter.apply(in));\r\n        return out;\r\n    }\r\nFirst, you have to desugar the lambda body into a method. The captured values come first in its parameter list, followed by the parameters of the functional interface type. The [`LambdaMetafactory`][LMF] has an exhaustive documentation about its usage.\r\n\r\nWhile I kept the type parameters for documentation purposes, it should be clear that you lose the compile-time safety here, with such an operation.\r\n\r\n[indy]: https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5.invokedynamic\r\n[LMF]: https://docs.oracle.com/javase/8/docs/api/?java/lang/invoke/LambdaMetafactory.html\r\n","title":"How to force a new instantiation of a lambda-definition","body":"<p>In the current implementation, the caching of generated classes (or even instances for the non capturing lambda expressions), is a property of the <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5.invokedynamic\" rel=\"nofollow noreferrer\"><code>invokedynamic</code></a> instruction which will reuse the result of the bootstrapping done on the first execution.</p>\n\n<p>The bootstrap method itself, hosted in the <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/lang/invoke/LambdaMetafactory.html\" rel=\"nofollow noreferrer\"><code>LambdaMetafactory</code></a> class will generate a new class each time it is invoked. So when you use this factory directly, youll get a new class on each invocation, under the current implementation.</p>\n\n<pre><code>public &lt;In, Out, A&gt; BiFunction&lt;In, Out, Out&gt; weave(\n     Function&lt;? super In, A&gt; getter,\n     BiConsumer&lt;? super Out, ? super A&gt; consumer) {\n\n    MethodHandles.Lookup l = MethodHandles.lookup();\n    try {\n        MethodHandle target = l.findStatic(l.lookupClass(), \"weaveLambdaBody\",\n            MethodType.methodType(Object.class, Function.class, BiConsumer.class,\n                Object.class, Object.class));\n        MethodType t = target.type().dropParameterTypes(0, 2);\n        return (BiFunction&lt;In, Out, Out&gt;)LambdaMetafactory.metafactory(l, \"apply\",\n            target.type().dropParameterTypes(2, 4).changeReturnType(BiFunction.class),\n            t, target, t) .getTarget().invokeExact(getter, consumer);\n    }\n    catch(RuntimeException | Error e) {\n        throw e;\n    }\n    catch(Throwable t) {\n        throw new IllegalStateException(t);\n    }\n}\nprivate static &lt;In, Out, A&gt; Out weaveLambdaBody(\n    Function&lt;? super In, A&gt; getter,\n    BiConsumer&lt;? super Out, ? super A&gt; consumer,\n    In in, Out out) {\n\n    consumer.accept(out, getter.apply(in));\n    return out;\n}\n</code></pre>\n\n<p>First, you have to desugar the lambda body into a method. The captured values come first in its parameter list, followed by the parameters of the functional interface type. The <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/lang/invoke/LambdaMetafactory.html\" rel=\"nofollow noreferrer\"><code>LambdaMetafactory</code></a> has an exhaustive documentation about its usage.</p>\n\n<p>While I kept the type parameters for documentation purposes, it should be clear that you lose the compile-time safety here, with such an operation.</p>\n"}],"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55922000,"answer_count":1,"score":5,"last_activity_date":1670853256,"creation_date":1556625643,"question_id":55920520,"body_markdown":"The Java-Spec guarantees that a given lambda-definition, e.g. `() -&gt; &quot;Hello World&quot;`, is compiled/converted to exactly one implementation class (every definition, not every occurence that &quot;looks&quot; the same).\r\n\r\nIs there any way I can force the java-compiler/jvm to generate a new lambda-definition instead of sharing a common one? I am currently implementing a library that weaves multiple function parts into a BiFunction which suffers from mega-morphic call-sites because of the guarantees given by the java-spec (**EDIT: I stand corrected: the Java-Spec does not guarantee a single shared class - the current reference implementation does this though**):\r\n\r\n \r\n\r\n            public &lt;In, Out, A&gt; BiFunction&lt;In, Out, Out&gt; weave(\r\n                 Function&lt;? super In, A&gt; getter,\r\n                 BiConsumer&lt;? super Out, ? super A&gt; consumer\r\n            ) {\r\n                return (in, out) -&gt; {\r\n                    consumer.accept(out, getter.apply(in));\r\n                    return out;\r\n                };\r\n            }\r\n\r\nEvery lambda generated through this code shares the same lambda-definition and is thus mostly uninlineable / unoptimizeable.","title":"How to force a new instantiation of a lambda-definition","body":"<p>The Java-Spec guarantees that a given lambda-definition, e.g. <code>() -&gt; &quot;Hello World&quot;</code>, is compiled/converted to exactly one implementation class (every definition, not every occurence that &quot;looks&quot; the same).</p>\n<p>Is there any way I can force the java-compiler/jvm to generate a new lambda-definition instead of sharing a common one? I am currently implementing a library that weaves multiple function parts into a BiFunction which suffers from mega-morphic call-sites because of the guarantees given by the java-spec (<strong>EDIT: I stand corrected: the Java-Spec does not guarantee a single shared class - the current reference implementation does this though</strong>):</p>\n<pre><code>        public &lt;In, Out, A&gt; BiFunction&lt;In, Out, Out&gt; weave(\n             Function&lt;? super In, A&gt; getter,\n             BiConsumer&lt;? super Out, ? super A&gt; consumer\n        ) {\n            return (in, out) -&gt; {\n                consumer.accept(out, getter.apply(in));\n                return out;\n            };\n        }\n</code></pre>\n<p>Every lambda generated through this code shares the same lambda-definition and is thus mostly uninlineable / unoptimizeable.</p>\n"},{"tags":["java","maven"],"answers":[{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670791114,"post_id":74762363,"comment_id":131949780,"body_markdown":"Really suggesting a [version which is more than 12 years old](https://search.maven.org/artifact/org.apache.maven.plugins/maven-assembly-plugin). I strongly recommend to check this: https://maven.apache.org/plugins/ If you are using &quot;default&quot; version you should change your setup because that means you never defined the plugin versions... Please do so...","body":"Really suggesting a <a href=\"https://search.maven.org/artifact/org.apache.maven.plugins/maven-assembly-plugin\" rel=\"nofollow noreferrer\">version which is more than 12 years old</a>. I strongly recommend to check this: <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a> If you are using &quot;default&quot; version you should change your setup because that means you never defined the plugin versions... Please do so..."},{"owner":{"account_id":1908192,"reputation":853,"user_id":1722628,"display_name":"Pierre"},"score":0,"creation_date":1670853164,"post_id":74762363,"comment_id":131962395,"body_markdown":"I updated to 3.4.2, which also works. How does maven choose default versions ?","body":"I updated to 3.4.2, which also works. How does maven choose default versions ?"}],"tags":[],"owner":{"account_id":1908192,"reputation":853,"user_id":1722628,"display_name":"Pierre"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670853139,"creation_date":1670774833,"answer_id":74762363,"question_id":74762020,"body_markdown":"I found an answer reading the source code of Plexus Archiver at [AbstractArchiver.java][1]\r\n```\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n                &lt;mainClass&gt;MyLittleLaucher&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n        &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n        &lt;/descriptorRefs&gt;\r\n        &lt;archiverConfig&gt;\r\n            &lt;duplicateBehavior&gt;add&lt;/duplicateBehavior&gt;\r\n        &lt;/archiverConfig&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nIt is important to use version 3.4.2 because the default version is buggy (2.2-beta5), and then you can use `&lt;duplicateBehavior&gt;add&lt;/duplicateBehavior&gt;` to force the files to overwrite. It now works perfectly.\r\n\r\n  [1]: https://github.com/sonatype/plexus-archiver/blob/b174ef5d935c94fe58da2b48913fde1f2b972a97/src/main/java/org/codehaus/plexus/archiver/AbstractArchiver.java","title":"Overriding java library classes with maven assembly plugin","body":"<p>I found an answer reading the source code of Plexus Archiver at <a href=\"https://github.com/sonatype/plexus-archiver/blob/b174ef5d935c94fe58da2b48913fde1f2b972a97/src/main/java/org/codehaus/plexus/archiver/AbstractArchiver.java\" rel=\"nofollow noreferrer\">AbstractArchiver.java</a></p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;mainClass&gt;MyLittleLaucher&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n        &lt;archiverConfig&gt;\n            &lt;duplicateBehavior&gt;add&lt;/duplicateBehavior&gt;\n        &lt;/archiverConfig&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It is important to use version 3.4.2 because the default version is buggy (2.2-beta5), and then you can use <code>&lt;duplicateBehavior&gt;add&lt;/duplicateBehavior&gt;</code> to force the files to overwrite. It now works perfectly.</p>\n"}],"owner":{"account_id":1908192,"reputation":853,"user_id":1722628,"display_name":"Pierre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670853139,"creation_date":1670772072,"question_id":74762020,"body_markdown":"I&#39;m trying to extend an existing, closed-source product, by decompiling and rewriting some feature to fit my need (basically, a dark mode, to spare my eyes).\r\n\r\nIt works all fine when I launch from the IDE, because the IDE can make my own classes, with the same names and everything, override the ones in the jars I depend on with maven, probably by ordering the classpath correctly.\r\n\r\nNow I&#39;d like to make it self runnable to not have to use IntelliJ each time to launch my little hack, but the assembly:single maven task seems to refuse to add my classes over the exploded dependencies, with the following: `already added, skipping`.\r\n\r\nHow can I reverse this order, or allow overwriting, without having to decompile each and every class and ditch the original jar ?","title":"Overriding java library classes with maven assembly plugin","body":"<p>I'm trying to extend an existing, closed-source product, by decompiling and rewriting some feature to fit my need (basically, a dark mode, to spare my eyes).</p>\n<p>It works all fine when I launch from the IDE, because the IDE can make my own classes, with the same names and everything, override the ones in the jars I depend on with maven, probably by ordering the classpath correctly.</p>\n<p>Now I'd like to make it self runnable to not have to use IntelliJ each time to launch my little hack, but the assembly:single maven task seems to refuse to add my classes over the exploded dependencies, with the following: <code>already added, skipping</code>.</p>\n<p>How can I reverse this order, or allow overwriting, without having to decompile each and every class and ditch the original jar ?</p>\n"},{"tags":["java","xml","jackson","pojo","xmlmapper"],"owner":{"account_id":16906384,"reputation":1,"user_id":12226625,"display_name":"Keremenci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670852936,"creation_date":1670852936,"question_id":74772078,"body_markdown":"I have to write a message handler that will process incoming XML messages and pass them on to another module as JSON representations. There are a relatively high of possible messages and I would rather use a single POJO for my purpose. Here is an example XML message.\r\n\r\n```\r\n&lt;Message name=&quot;GenericMsg&quot;&gt;\r\n    &lt;StartTime&gt;533798131&lt;/StartTime&gt; &lt;!-- Unix Timestamp --&gt;\r\n\r\n                .\r\n                .\r\n    &lt;!-- Some other fields --&gt;\r\n                .\r\n    &lt;NumberOfItems&gt;2&lt;/NumberOfItems&gt;\r\n    &lt;List&gt;\r\n        &lt;ListItem&gt;\r\n            &lt;Speed&gt;100&lt;/Speed&gt;\r\n            &lt;Location&gt;\r\n                &lt;lat&gt;38.165748&lt;/lat&gt;\r\n                &lt;lon&gt;37.125363&lt;/lon&gt;\r\n                &lt;alt&gt;800&lt;/alt&gt;\r\n            &lt;/Location&gt;\r\n        &lt;/ListItem&gt;\r\n        &lt;ListItem&gt;\r\n            &lt;Speed&gt;120&lt;/Speed&gt;\r\n            &lt;Location&gt;\r\n                &lt;lat&gt;39.123748&lt;/lat&gt;\r\n                &lt;lon&gt;41.312645&lt;/lon&gt;\r\n                &lt;alt&gt;850&lt;/alt&gt;\r\n            &lt;/Location&gt;\r\n        &lt;/ListItem&gt;\r\n    &lt;/List&gt;\r\n&lt;/Message&gt;\r\n```\r\nAnd my POJO\r\n\r\n```\r\npublic class MsgRepr {\r\n    private Map&lt;String, Object&gt; details = new LinkedHashMap&lt;&gt;();\r\n\r\n    public Object get(String key) {\r\n        return this.details.get(key);\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    public Map&lt;String, Object&gt; getDetails() {\r\n        return this.details;\r\n    }\r\n    @JsonAnySetter\r\n    public void setDetails(String key, Object value) {\r\n        this.details.put(key,value);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis gets converted to the following JSON:\r\n\r\n```\r\n{\r\n  &quot;name&quot; : &quot;GenericMsg&quot;,\r\n  &quot;NumberOfItems&quot; : &quot;2&quot;,\r\n  &quot;StartTime&quot; : &quot;533798131&quot;\r\n  &quot;List&quot; : {\r\n    &quot;ListItem&quot; :\r\n    [\r\n      {\r\n        &quot;Speed&quot; : &quot;100&quot;,\r\n        &quot;Location&quot; : {\r\n          &quot;lat&quot; : &quot;38.165748&quot;,\r\n          &quot;lon&quot; : &quot;37.125363&quot;,\r\n          &quot;alt&quot; : &quot;800&quot;\r\n        }\r\n      },\r\n      {\r\n        &quot;Speed&quot; : &quot;150&quot;,\r\n        &quot;Location&quot; : {\r\n          &quot;lat&quot; : &quot;48.564866&quot;,\r\n          &quot;lon&quot; : &quot;35.18795&quot;,\r\n          &quot;alt&quot; : &quot;850&quot;\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nI tried the `defaultUseWrapper=false` option with no avail. Also, omitting the List/ListItem duality results in only the last element being present.\r\n\r\nI know that this can be done by writing a seperate POJO for each message, but I would rather avoid doing that. Is there an alternative XML representation or an alternative approach I can use to correctly convert the json to something similar to the following format?\r\n\r\n```\r\n{\r\n  &quot;name&quot; : &quot;GenericMsg&quot;,\r\n  &quot;NumberOfItems&quot; : &quot;2&quot;,\r\n  &quot;StartTime&quot; : &quot;533798131&quot;\r\n  &quot;List&quot; :\r\n  [\r\n    {\r\n      &quot;Speed&quot; : &quot;100&quot;,\r\n      &quot;Location&quot; : {\r\n        &quot;lat&quot; : &quot;38.165748&quot;,\r\n        &quot;lon&quot; : &quot;37.125363&quot;,\r\n        &quot;alt&quot; : &quot;800&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;Speed&quot; : &quot;150&quot;,\r\n      &quot;Location&quot; : {\r\n        &quot;lat&quot; : &quot;48.564866&quot;,\r\n        &quot;lon&quot; : &quot;35.18795&quot;,\r\n        &quot;alt&quot; : &quot;850&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nJackson version 2.13.0\r\n","title":"Jackson handling XML arrays with dynamic fields using the hashmap approach","body":"<p>I have to write a message handler that will process incoming XML messages and pass them on to another module as JSON representations. There are a relatively high of possible messages and I would rather use a single POJO for my purpose. Here is an example XML message.</p>\n<pre><code>&lt;Message name=&quot;GenericMsg&quot;&gt;\n    &lt;StartTime&gt;533798131&lt;/StartTime&gt; &lt;!-- Unix Timestamp --&gt;\n\n                .\n                .\n    &lt;!-- Some other fields --&gt;\n                .\n    &lt;NumberOfItems&gt;2&lt;/NumberOfItems&gt;\n    &lt;List&gt;\n        &lt;ListItem&gt;\n            &lt;Speed&gt;100&lt;/Speed&gt;\n            &lt;Location&gt;\n                &lt;lat&gt;38.165748&lt;/lat&gt;\n                &lt;lon&gt;37.125363&lt;/lon&gt;\n                &lt;alt&gt;800&lt;/alt&gt;\n            &lt;/Location&gt;\n        &lt;/ListItem&gt;\n        &lt;ListItem&gt;\n            &lt;Speed&gt;120&lt;/Speed&gt;\n            &lt;Location&gt;\n                &lt;lat&gt;39.123748&lt;/lat&gt;\n                &lt;lon&gt;41.312645&lt;/lon&gt;\n                &lt;alt&gt;850&lt;/alt&gt;\n            &lt;/Location&gt;\n        &lt;/ListItem&gt;\n    &lt;/List&gt;\n&lt;/Message&gt;\n</code></pre>\n<p>And my POJO</p>\n<pre><code>public class MsgRepr {\n    private Map&lt;String, Object&gt; details = new LinkedHashMap&lt;&gt;();\n\n    public Object get(String key) {\n        return this.details.get(key);\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getDetails() {\n        return this.details;\n    }\n    @JsonAnySetter\n    public void setDetails(String key, Object value) {\n        this.details.put(key,value);\n    }\n}\n</code></pre>\n<p>This gets converted to the following JSON:</p>\n<pre><code>{\n  &quot;name&quot; : &quot;GenericMsg&quot;,\n  &quot;NumberOfItems&quot; : &quot;2&quot;,\n  &quot;StartTime&quot; : &quot;533798131&quot;\n  &quot;List&quot; : {\n    &quot;ListItem&quot; :\n    [\n      {\n        &quot;Speed&quot; : &quot;100&quot;,\n        &quot;Location&quot; : {\n          &quot;lat&quot; : &quot;38.165748&quot;,\n          &quot;lon&quot; : &quot;37.125363&quot;,\n          &quot;alt&quot; : &quot;800&quot;\n        }\n      },\n      {\n        &quot;Speed&quot; : &quot;150&quot;,\n        &quot;Location&quot; : {\n          &quot;lat&quot; : &quot;48.564866&quot;,\n          &quot;lon&quot; : &quot;35.18795&quot;,\n          &quot;alt&quot; : &quot;850&quot;\n        }\n      }\n    ]\n  }\n}\n</code></pre>\n<p>I tried the <code>defaultUseWrapper=false</code> option with no avail. Also, omitting the List/ListItem duality results in only the last element being present.</p>\n<p>I know that this can be done by writing a seperate POJO for each message, but I would rather avoid doing that. Is there an alternative XML representation or an alternative approach I can use to correctly convert the json to something similar to the following format?</p>\n<pre><code>{\n  &quot;name&quot; : &quot;GenericMsg&quot;,\n  &quot;NumberOfItems&quot; : &quot;2&quot;,\n  &quot;StartTime&quot; : &quot;533798131&quot;\n  &quot;List&quot; :\n  [\n    {\n      &quot;Speed&quot; : &quot;100&quot;,\n      &quot;Location&quot; : {\n        &quot;lat&quot; : &quot;38.165748&quot;,\n        &quot;lon&quot; : &quot;37.125363&quot;,\n        &quot;alt&quot; : &quot;800&quot;\n      }\n    },\n    {\n      &quot;Speed&quot; : &quot;150&quot;,\n      &quot;Location&quot; : {\n        &quot;lat&quot; : &quot;48.564866&quot;,\n        &quot;lon&quot; : &quot;35.18795&quot;,\n        &quot;alt&quot; : &quot;850&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Jackson version 2.13.0</p>\n"},{"tags":["java","spring-boot","scheduled-tasks"],"answers":[{"tags":[],"owner":{"account_id":5459362,"reputation":565,"user_id":4341933,"accept_rate":100,"display_name":"Alexander Mladzhov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670852740,"creation_date":1670852740,"answer_id":74772035,"question_id":74770269,"body_markdown":"Spring v3.2.2 has added String parameters to the original 3 long parameters to handle this. `fixedDelayString`, `fixedRateString` and `initialDelayString` are now available too.\r\n\r\n    @Scheduled(fixedDelayString = &quot;${my.fixed.delay.prop}&quot;)\r\n    public void doSomethingWithA() {\r\n   \r\n    }","title":"Scheduling task with parameters in Java and Springboot","body":"<p>Spring v3.2.2 has added String parameters to the original 3 long parameters to handle this. <code>fixedDelayString</code>, <code>fixedRateString</code> and <code>initialDelayString</code> are now available too.</p>\n<pre><code>@Scheduled(fixedDelayString = &quot;${my.fixed.delay.prop}&quot;)\npublic void doSomethingWithA() {\n\n}\n</code></pre>\n"}],"owner":{"account_id":22627015,"reputation":11,"user_id":16804967,"display_name":"user16804967"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74772035,"answer_count":1,"score":0,"last_activity_date":1670852740,"creation_date":1670843607,"question_id":74770269,"body_markdown":"I have a method `doSomething(a, x)` which I want to schedule x hours in advance. I have tried multiple setups but all seem to fail. Could anybody tell me a service structure or springboot feature which could accomplish this while also being testable?\r\n\r\n\r\n\r\nThis is my current setup in java and springboot which is failing because the fixedDelay is not constant as I don&#39;t want my tests to be delayed for x hours.\r\n\r\nThe desired result of this code would be:\r\na is printed after x hours\r\n\r\nThe service:\r\n\r\n```\r\n@Service\r\npublic class SomeService{\r\n\r\n    public void doSomething(int a, long x) {\r\n        SchedulerService scheduler = new SchedulerService(a, x, this);\r\n        scheduler.doSomethingWithA();\r\n    }\r\n\r\n    public void doSomethingWithA(int a) {\r\n        System.out.println(a);\r\n    }\r\n\r\n}\r\n```\r\nThe scheduler:\r\n\r\n```\r\n@AllArgsConstructor\r\npublic class SchedulerService {\r\n\r\n    private int a;\r\n    private final long x;\r\n\r\n    private transient SomeService someService;\r\n\r\n    @Scheduled(fixedDelay = x)\r\n    public void doSomethingWithA() {\r\n        someService.doSomethingWithA(a);\r\n    }\r\n\r\n}\r\n\r\n```\r\nOf course the actual service is far more complex with database access etc. and the x hours is actually 10 years, but I think you get the idea.\r\n\r\nAny help would be greatly appreciated\r\n","title":"Scheduling task with parameters in Java and Springboot","body":"<p>I have a method <code>doSomething(a, x)</code> which I want to schedule x hours in advance. I have tried multiple setups but all seem to fail. Could anybody tell me a service structure or springboot feature which could accomplish this while also being testable?</p>\n<p>This is my current setup in java and springboot which is failing because the fixedDelay is not constant as I don't want my tests to be delayed for x hours.</p>\n<p>The desired result of this code would be:\na is printed after x hours</p>\n<p>The service:</p>\n<pre><code>@Service\npublic class SomeService{\n\n    public void doSomething(int a, long x) {\n        SchedulerService scheduler = new SchedulerService(a, x, this);\n        scheduler.doSomethingWithA();\n    }\n\n    public void doSomethingWithA(int a) {\n        System.out.println(a);\n    }\n\n}\n</code></pre>\n<p>The scheduler:</p>\n<pre><code>@AllArgsConstructor\npublic class SchedulerService {\n\n    private int a;\n    private final long x;\n\n    private transient SomeService someService;\n\n    @Scheduled(fixedDelay = x)\n    public void doSomethingWithA() {\n        someService.doSomethingWithA(a);\n    }\n\n}\n\n</code></pre>\n<p>Of course the actual service is far more complex with database access etc. and the x hours is actually 10 years, but I think you get the idea.</p>\n<p>Any help would be greatly appreciated</p>\n"},{"tags":["java","spring","spring-boot","maven","maven-bom"],"comments":[{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":0,"creation_date":1669384823,"post_id":74573861,"comment_id":131635951,"body_markdown":"It looks like I can change packaging from `jar` to `pom`: https://www.baeldung.com/spring-maven-bom\n\nHow do I work with `pom` afterward? As far as I see, change of packaging doesn&#39;t help much.","body":"It looks like I can change packaging from <code>jar</code> to <code>pom</code>: <a href=\"https://www.baeldung.com/spring-maven-bom\" rel=\"nofollow noreferrer\">baeldung.com/spring-maven-bom</a>  How do I work with <code>pom</code> afterward? As far as I see, change of packaging doesn&#39;t help much."}],"answers":[{"tags":[],"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669389387,"creation_date":1669389387,"answer_id":74574779,"question_id":74573861,"body_markdown":"Importing the BOM via _dependencyManagement_ and scope _import_ copies their _dependencyManagement_ configuration  into your current _dependencyManagement_, as you would have written these _dependencyManagement_ configuration.\r\n\r\nThe section _dependencyManagement_ should only be used within POM of packaging _pom_. The resulting _pom_ artefact could be used as parent of other POM.\r\n\r\nTherefore you should not use BOM without parent.\r\n\r\nHave a closer look at https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html","title":"How to use Spring Boot BOM, instead of parent?","body":"<p>Importing the BOM via <em>dependencyManagement</em> and scope <em>import</em> copies their <em>dependencyManagement</em> configuration  into your current <em>dependencyManagement</em>, as you would have written these <em>dependencyManagement</em> configuration.</p>\n<p>The section <em>dependencyManagement</em> should only be used within POM of packaging <em>pom</em>. The resulting <em>pom</em> artefact could be used as parent of other POM.</p>\n<p>Therefore you should not use BOM without parent.</p>\n<p>Have a closer look at <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html</a></p>\n"},{"tags":[],"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670852147,"creation_date":1670852147,"answer_id":74771927,"question_id":74573861,"body_markdown":"The issue I had, was related to a misconfiguration in `pom.xml`\r\n\r\nInstead of \r\n```\r\n&lt;sourceDirectory&gt;${project.basedir}&lt;/sourceDirectory&gt;\r\n```\r\n\r\nI have to use\r\n```\r\n&lt;sourceDirectory&gt;${project.basedir}/src/main&lt;/sourceDirectory&gt;\r\n```\r\n\r\nThis said, it is possible to package differently from `pom` packaging, so I can use `jar` or other alternatives.","title":"How to use Spring Boot BOM, instead of parent?","body":"<p>The issue I had, was related to a misconfiguration in <code>pom.xml</code></p>\n<p>Instead of</p>\n<pre><code>&lt;sourceDirectory&gt;${project.basedir}&lt;/sourceDirectory&gt;\n</code></pre>\n<p>I have to use</p>\n<pre><code>&lt;sourceDirectory&gt;${project.basedir}/src/main&lt;/sourceDirectory&gt;\n</code></pre>\n<p>This said, it is possible to package differently from <code>pom</code> packaging, so I can use <code>jar</code> or other alternatives.</p>\n"}],"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74771927,"answer_count":2,"score":0,"last_activity_date":1670852147,"creation_date":1669384439,"question_id":74573861,"body_markdown":"I need to use `BOM`s in my project, so simplify the task of managing dependencies. This is the requirement, I cannot pivot at this stage.\r\n\r\nI removed parent spring-boot and added AWS, Spring Boot and Junit5 as `BOM`s. The issue is, even though I have them, dependencies aren&#39;t downloaded correctly. Am I missing some plugins or I am doing something else wrong?\r\n\r\nI have tried:\r\n\r\n - Run code without BOMs\r\n - Research BOM usage\r\n - Run project with parent of Spring Boot\r\n - Research similar projects on GitHub\r\n\r\nAll of the above worked correctly. The issues I am getting after adding BOMs are:\r\n\r\n```\r\npackage org.junit.jupiter.api does not exist\r\npackage org.mockito does not exist\r\ncannot find symbol\r\n[ERROR]   symbol: class ExtendWith\r\n```\r\n\r\n\r\nMy pom.xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;bom-experiments&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit-jupiter.version&gt;5.7.2&lt;/junit-jupiter.version&gt;\r\n        &lt;aws-sdk.version&gt;2.18.16&lt;/aws-sdk.version&gt;\r\n        &lt;mockito-inline.version&gt;4.8.0&lt;/mockito-inline.version&gt;\r\n        &lt;org.springframework.boot.version&gt;2.7.5&lt;/org.springframework.boot.version&gt;\r\n        &lt;org.springframework.version&gt;5.3.24&lt;/org.springframework.version&gt;\r\n\r\n        &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\r\n        &lt;maven-compiler-plugin.version&gt;3.10.1&lt;/maven-compiler-plugin.version&gt;\r\n        &lt;maven-surefire-plugin.version&gt;3.0.0-M7&lt;/maven-surefire-plugin.version&gt;\r\n        &lt;junit-jupiter-params.version&gt;${junit-jupiter.version}&lt;/junit-jupiter-params.version&gt;\r\n        &lt;kubernetes-maven-plugin.version&gt;1.9.0&lt;/kubernetes-maven-plugin.version&gt;\r\n\r\n        &lt;!-- Plugins --&gt;\r\n        &lt;mockito.version&gt;4.9.0&lt;/mockito.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${aws-sdk.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${mockito.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Secret managers --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ssm&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sts&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- Lombok --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;bom-experiments&lt;/finalName&gt;\r\n        &lt;sourceDirectory&gt;${project.basedir}&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test&lt;/testSourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAm I understanding BOM concept wrong? Why are there no dependencies, even though they are declared in pom.xml? How can I run this code without parent but with BOM?","title":"How to use Spring Boot BOM, instead of parent?","body":"<p>I need to use <code>BOM</code>s in my project, so simplify the task of managing dependencies. This is the requirement, I cannot pivot at this stage.</p>\n<p>I removed parent spring-boot and added AWS, Spring Boot and Junit5 as <code>BOM</code>s. The issue is, even though I have them, dependencies aren't downloaded correctly. Am I missing some plugins or I am doing something else wrong?</p>\n<p>I have tried:</p>\n<ul>\n<li>Run code without BOMs</li>\n<li>Research BOM usage</li>\n<li>Run project with parent of Spring Boot</li>\n<li>Research similar projects on GitHub</li>\n</ul>\n<p>All of the above worked correctly. The issues I am getting after adding BOMs are:</p>\n<pre><code>package org.junit.jupiter.api does not exist\npackage org.mockito does not exist\ncannot find symbol\n[ERROR]   symbol: class ExtendWith\n</code></pre>\n<p>My pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;bom-experiments&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit-jupiter.version&gt;5.7.2&lt;/junit-jupiter.version&gt;\n        &lt;aws-sdk.version&gt;2.18.16&lt;/aws-sdk.version&gt;\n        &lt;mockito-inline.version&gt;4.8.0&lt;/mockito-inline.version&gt;\n        &lt;org.springframework.boot.version&gt;2.7.5&lt;/org.springframework.boot.version&gt;\n        &lt;org.springframework.version&gt;5.3.24&lt;/org.springframework.version&gt;\n\n        &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\n        &lt;maven-compiler-plugin.version&gt;3.10.1&lt;/maven-compiler-plugin.version&gt;\n        &lt;maven-surefire-plugin.version&gt;3.0.0-M7&lt;/maven-surefire-plugin.version&gt;\n        &lt;junit-jupiter-params.version&gt;${junit-jupiter.version}&lt;/junit-jupiter-params.version&gt;\n        &lt;kubernetes-maven-plugin.version&gt;1.9.0&lt;/kubernetes-maven-plugin.version&gt;\n\n        &lt;!-- Plugins --&gt;\n        &lt;mockito.version&gt;4.9.0&lt;/mockito.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\n                &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\n                &lt;version&gt;${aws-sdk.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n                &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                &lt;artifactId&gt;mockito-bom&lt;/artifactId&gt;\n                &lt;version&gt;${mockito.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Secret managers --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;ssm&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;sts&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;bom-experiments&lt;/finalName&gt;\n        &lt;sourceDirectory&gt;${project.basedir}&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Am I understanding BOM concept wrong? Why are there no dependencies, even though they are declared in pom.xml? How can I run this code without parent but with BOM?</p>\n"},{"tags":["java","android","android-studio","native"],"comments":[{"owner":{"account_id":12292022,"reputation":849,"user_id":8968956,"display_name":"trinadh thatakula"},"score":0,"creation_date":1656476193,"post_id":72795652,"comment_id":128578851,"body_markdown":"try using check self permission for `MANAGE_EXTERNAL_STORAGE` it should return `PackageManager.PERMISSION_GRANTED` I am not completely sure though","body":"try using check self permission for <code>MANAGE_EXTERNAL_STORAGE</code> it should return <code>PackageManager.PERMISSION_GRANTED</code> I am not completely sure though"},{"owner":{"account_id":17236264,"reputation":15,"user_id":12479666,"display_name":"Oky Prasetya"},"score":0,"creation_date":1656477682,"post_id":72795652,"comment_id":128579119,"body_markdown":"i did, but it was not trigger the &quot;All Files Acces&quot; permission","body":"i did, but it was not trigger the &quot;All Files Acces&quot; permission"}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656482593,"creation_date":1656482593,"answer_id":72796483,"question_id":72795652,"body_markdown":"create new dummy 0-bytes file in root of internal memory and then remove it. if both operations success then you have access. when you won&#39;t have access then your code will `throw Exception` (on create-file step), which you can `try{ }catch(Exception e)` (preventing app crash)\r\n\r\npath for internal/external/shared can be obtained from [`Environment`](https://developer.android.com/reference/android/os/Environment) class, I would try at first [`getExternalStorageDirectory`](https://developer.android.com/reference/android/os/Environment#getExternalStorageDirectory())","title":"how to know whether the app currently has the &#39;All Files Access&#39; permission or not. Android 11","body":"<p>create new dummy 0-bytes file in root of internal memory and then remove it. if both operations success then you have access. when you won't have access then your code will <code>throw Exception</code> (on create-file step), which you can <code>try{ }catch(Exception e)</code> (preventing app crash)</p>\n<p>path for internal/external/shared can be obtained from <a href=\"https://developer.android.com/reference/android/os/Environment\" rel=\"nofollow noreferrer\"><code>Environment</code></a> class, I would try at first <a href=\"https://developer.android.com/reference/android/os/Environment#getExternalStorageDirectory()\" rel=\"nofollow noreferrer\"><code>getExternalStorageDirectory</code></a></p>\n"},{"tags":[],"owner":{"account_id":8736099,"reputation":1905,"user_id":6534707,"display_name":"Bhoomika Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656491883,"creation_date":1656491510,"answer_id":72798217,"question_id":72795652,"body_markdown":"declare this permission in your `manifest.xml`:\r\n\r\n \r\n\r\n       &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nfor asking `MANAGE_EXTERNAL_STORAGE`:\r\n\r\n          try {\r\n               Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n               intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\r\n               startActivityForResult(intent, 2296);\r\n              \r\n           } catch (Exception e) {\r\n\r\n             Intent intent = new Intent();\r\n             intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n             startActivityForResult(intent, 2296);\r\n           }\r\n\r\nget your result in `onActivityResult`\r\n\r\n       @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (requestCode == 2296) {\r\n                if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                    if (Environment.isExternalStorageManager()) {\r\n                        // perform action when allow permission success\r\n                       \r\n                    } else {\r\n                        Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nso, basically you can check permission is granted or not in Android11 like this;\r\n\r\n    if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n       if (Environment.isExternalStorageManager()) {\r\n          // Permission Granted\r\n       }\r\n    }","title":"how to know whether the app currently has the &#39;All Files Access&#39; permission or not. Android 11","body":"<p>declare this permission in your <code>manifest.xml</code>:</p>\n<pre><code>   &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>for asking <code>MANAGE_EXTERNAL_STORAGE</code>:</p>\n<pre><code>      try {\n           Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n           intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\n           startActivityForResult(intent, 2296);\n          \n       } catch (Exception e) {\n\n         Intent intent = new Intent();\n         intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n         startActivityForResult(intent, 2296);\n       }\n</code></pre>\n<p>get your result in <code>onActivityResult</code></p>\n<pre><code>   @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == 2296) {\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n                if (Environment.isExternalStorageManager()) {\n                    // perform action when allow permission success\n                   \n                } else {\n                    Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>so, basically you can check permission is granted or not in Android11 like this;</p>\n<pre><code>if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n   if (Environment.isExternalStorageManager()) {\n      // Permission Granted\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200301,"reputation":1114,"user_id":1944848,"accept_rate":38,"display_name":"JayTee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670852144,"creation_date":1670852144,"answer_id":74771925,"question_id":72795652,"body_markdown":"I do it that way:\r\n\r\n     public static boolean hasAllFilesAccess(Context context) {\r\n\r\n        AppOpsManager appOpsManager = (AppOpsManager) context.getSystemService(Context.APP_OPS_SERVICE);\r\n\r\n        try {\r\n            ApplicationInfo app  = context.getPackageManager().getApplicationInfo(context.getPackageName(), 0);\r\n            return appOpsManager.unsafeCheckOpNoThrow(&quot;android:manage_external_storage&quot;,app.uid, context.getPackageName()) == AppOpsManager.MODE_ALLOWED;\r\n\r\n        } catch (PackageManager.NameNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        catch (NoSuchMethodError e)\r\n        {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\nSeems there is a better way now though:\r\n\r\n \r\n[Environment.isExternalStorageManager()][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Environment#isExternalStorageManager()","title":"how to know whether the app currently has the &#39;All Files Access&#39; permission or not. Android 11","body":"<p>I do it that way:</p>\n<pre><code> public static boolean hasAllFilesAccess(Context context) {\n\n    AppOpsManager appOpsManager = (AppOpsManager) context.getSystemService(Context.APP_OPS_SERVICE);\n\n    try {\n        ApplicationInfo app  = context.getPackageManager().getApplicationInfo(context.getPackageName(), 0);\n        return appOpsManager.unsafeCheckOpNoThrow(&quot;android:manage_external_storage&quot;,app.uid, context.getPackageName()) == AppOpsManager.MODE_ALLOWED;\n\n    } catch (PackageManager.NameNotFoundException e) {\n        e.printStackTrace();\n    }\n    catch (NoSuchMethodError e)\n    {\n        return true;\n    }\n\n    return false;\n}\n</code></pre>\n<p>Seems there is a better way now though:</p>\n<p><a href=\"https://developer.android.com/reference/android/os/Environment#isExternalStorageManager()\" rel=\"nofollow noreferrer\">Environment.isExternalStorageManager()</a></p>\n"}],"owner":{"account_id":17236264,"reputation":15,"user_id":12479666,"display_name":"Oky Prasetya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72798217,"answer_count":3,"score":1,"last_activity_date":1670852144,"creation_date":1656475152,"question_id":72795652,"body_markdown":"but how to validate if the app currently has the &#39;All Files Access&#39; permission or not. i use this method to ask permission.\r\n\r\n    Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n                intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\r\n                intent.setData(Uri.parse(String.format(&quot;package:%s&quot;,this.getPackageName())));\r\n                startActivityForResult(intent, 2296);\r\n\r\nPlease help me to fix this :(","title":"how to know whether the app currently has the &#39;All Files Access&#39; permission or not. Android 11","body":"<p>but how to validate if the app currently has the 'All Files Access' permission or not. i use this method to ask permission.</p>\n<pre><code>Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n            intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\n            intent.setData(Uri.parse(String.format(&quot;package:%s&quot;,this.getPackageName())));\n            startActivityForResult(intent, 2296);\n</code></pre>\n<p>Please help me to fix this :(</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"score":1,"creation_date":1634530379,"post_id":69610634,"comment_id":123040084,"body_markdown":"As i seen in error you still not accepted licences. Accept them from terminal first. Using -&gt; # In Windows \nC:\\Android\\SDK\\tools\\bin --- Run #then\nsdkmanager --licenses","body":"As i seen in error you still not accepted licences. Accept them from terminal first. Using -&gt; # In Windows  C:\\Android\\SDK\\tools\\bin --- Run #then sdkmanager --licenses"},{"owner":{"account_id":11661693,"reputation":31,"user_id":8539769,"display_name":"Sakib Reza"},"score":1,"creation_date":1634531427,"post_id":69610634,"comment_id":123040246,"body_markdown":"After running sdkmanager --licenses command, this error is showing -\n```\nD:\\android\\sdk\\tools\\bin&gt;sdkmanager --licenses\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n        at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156) ...................\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582) ................\n\n```","body":"After running sdkmanager --licenses command, this error is showing - ``` D:\\android\\sdk\\tools\\bin&gt;sdkmanager --licenses Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema         at com.android.repository.api.SchemaModule$SchemaModuleVersion.&zwnj;&#8203;&lt;init&gt;(SchemaModule.&zwnj;&#8203;java:156) ................... Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema         at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(B&zwnj;&#8203;uiltinClassLoader.ja&zwnj;&#8203;va:582) ................  ```"},{"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"score":0,"creation_date":1634531627,"post_id":69610634,"comment_id":123040277,"body_markdown":"First go to the directory by entering -&gt; &quot;C:\\Android\\SDK\\tools\\bin --- Run&quot;  then run -&gt; &quot;sdkmanager --licenses &quot;","body":"First go to the directory by entering -&gt; &quot;C:\\Android\\SDK\\tools\\bin --- Run&quot;  then run -&gt; &quot;sdkmanager --licenses &quot;"},{"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"score":0,"creation_date":1634537450,"post_id":69610634,"comment_id":123041365,"body_markdown":"@SakibReza Use JDK 1.8 (Or simply JDK 8) for Android. Replace the JDK in your PATH variable or your gradle.properties file with a JDK 8.","body":"@SakibReza Use JDK 1.8 (Or simply JDK 8) for Android. Replace the JDK in your PATH variable or your gradle.properties file with a JDK 8."}],"owner":{"account_id":11661693,"reputation":31,"user_id":8539769,"display_name":"Sakib Reza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3502,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670852013,"creation_date":1634529681,"question_id":69610634,"body_markdown":"I am trying to build an android project, but it is showing the following errors:\r\n\r\n\r\n&gt; Caused by: java.lang.RuntimeException: org.gradle.api.internal.provider.MissingValueException: Cannot query the value of this provider because it has no value available.\r\n&gt; \r\n&gt; Caused by: org.gradle.api.internal.provider.MissingValueException: Cannot query the value of this provider because it has no value available.\r\n&gt; \r\n&gt; Caused by: com.android.builder.errors.EvalIssueException: Failed to install the following Android SDK packages as some licences have not been accepted.\r\n\r\nI am using Android version 2020.3.1 (Arctic Fox) and Gradle version 6.8.3. Can someone please suggest to me what should I do to solve it?","title":"java.lang.RuntimeException: org.gradle.api.internal.provider.MissingValueException","body":"<p>I am trying to build an android project, but it is showing the following errors:</p>\n<blockquote>\n<p>Caused by: java.lang.RuntimeException: org.gradle.api.internal.provider.MissingValueException: Cannot query the value of this provider because it has no value available.</p>\n<p>Caused by: org.gradle.api.internal.provider.MissingValueException: Cannot query the value of this provider because it has no value available.</p>\n<p>Caused by: com.android.builder.errors.EvalIssueException: Failed to install the following Android SDK packages as some licences have not been accepted.</p>\n</blockquote>\n<p>I am using Android version 2020.3.1 (Arctic Fox) and Gradle version 6.8.3. Can someone please suggest to me what should I do to solve it?</p>\n"},{"tags":["java","tomcat","keycloak","openid-connect","polymer-1.0"],"owner":{"account_id":2705630,"reputation":1,"user_id":2335296,"display_name":"user2335296"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670851424,"creation_date":1670851223,"question_id":74771753,"body_markdown":"I have been trying to read through existing information about this topic. I even installed KeyCloak server locally, configured the realm, the client and used Postman to send some requests to KeyCloak, and received some json response.\r\nMy problem is that - unless I misunderstand something - none of the descriptions seem to fit my goals.\r\nOur application already has user management and we rely on user identity and roles / access rights configured in the system. The backend runs inside Tomcat and we run a Polymer 1.0 / Javascript frontend to call the REST services of our backend. I cannot get rid of user management as our DB is highly dependant on user to object assignment when deciding the scope of the objects for which the particular user is responsible.\r\nAll we need is an extension of our system by the possibility of foreign authentications (like social logins) in the future.\r\n\r\nWe have now explicit login that delivers a session cookie, Servlet filters to check the presence of this cookie, etc. In the server we use the login token / user identity in each REST call to filter the results from the DB to those available to the particular user.\r\nWhat I need is a flow like:\r\n- in the fronted we check if we have active session (existing code)\r\n- if not we redirected the user so far to our own login page, logged in, created the session cookie on server and then returned it. On client side we saved this and added to every REST request as authoriation token.\r\nNow with OIDC I&#39;d like to insert a new unprotected query that checks if OIDC is configured. If not, we keep the old solution. If yes, I&#39;d like to get redirected to KeyCloak login, and - and this is the most important for me - I&#39;d like to get back the user identity (or some role that we associate administratively to the user - using which I could identify one of our configured users.\r\n\r\nI tried experimenting with the Tomcat solution but that simply blindly hides the authentication procedure and merely allows or blocks REST access to the backend resources. This is not enough for me, I need some kind of user identity which I can use in the server side.\r\n\r\nAlso a javascript solution only provides communication between frontend and keycloak, but we need the backend to know who has logged in.\r\n\r\nI think this topic and all the used lingo is too complicated for me. Could anyone give me some easy advice how to solve this with best practices?\r\n\r\nThank you very much\r\n","title":"Adding OAuth / OIDC features using KeyCloak to existing application with java backend (run inside Tomcat) and Polymer (javascript) frontend","body":"<p>I have been trying to read through existing information about this topic. I even installed KeyCloak server locally, configured the realm, the client and used Postman to send some requests to KeyCloak, and received some json response.\nMy problem is that - unless I misunderstand something - none of the descriptions seem to fit my goals.\nOur application already has user management and we rely on user identity and roles / access rights configured in the system. The backend runs inside Tomcat and we run a Polymer 1.0 / Javascript frontend to call the REST services of our backend. I cannot get rid of user management as our DB is highly dependant on user to object assignment when deciding the scope of the objects for which the particular user is responsible.\nAll we need is an extension of our system by the possibility of foreign authentications (like social logins) in the future.</p>\n<p>We have now explicit login that delivers a session cookie, Servlet filters to check the presence of this cookie, etc. In the server we use the login token / user identity in each REST call to filter the results from the DB to those available to the particular user.\nWhat I need is a flow like:</p>\n<ul>\n<li>in the fronted we check if we have active session (existing code)</li>\n<li>if not we redirected the user so far to our own login page, logged in, created the session cookie on server and then returned it. On client side we saved this and added to every REST request as authoriation token.\nNow with OIDC I'd like to insert a new unprotected query that checks if OIDC is configured. If not, we keep the old solution. If yes, I'd like to get redirected to KeyCloak login, and - and this is the most important for me - I'd like to get back the user identity (or some role that we associate administratively to the user - using which I could identify one of our configured users.</li>\n</ul>\n<p>I tried experimenting with the Tomcat solution but that simply blindly hides the authentication procedure and merely allows or blocks REST access to the backend resources. This is not enough for me, I need some kind of user identity which I can use in the server side.</p>\n<p>Also a javascript solution only provides communication between frontend and keycloak, but we need the backend to know who has logged in.</p>\n<p>I think this topic and all the used lingo is too complicated for me. Could anyone give me some easy advice how to solve this with best practices?</p>\n<p>Thank you very much</p>\n"},{"tags":["java","sql","amazon-web-services","jdbc","amazon-redshift"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1670584258,"post_id":74742246,"comment_id":131913025,"body_markdown":"Your second version is prone to SQL injection and for that reason should be avoided.  The first version is the canonical way to do this AFAIK; I have no idea why it is so slow.","body":"Your second version is prone to SQL injection and for that reason should be avoided.  The first version is the canonical way to do this AFAIK; I have no idea why it is so slow."},{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670585358,"post_id":74742246,"comment_id":131913333,"body_markdown":"@TimBiegeleisen I&#39;m aware that second snapshot is unsafe, but somehow it works fast while the firs takes ages - a few seconds vs 30 minutes.","body":"@TimBiegeleisen I&#39;m aware that second snapshot is unsafe, but somehow it works fast while the firs takes ages - a few seconds vs 30 minutes."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1670588089,"post_id":74742246,"comment_id":131914095,"body_markdown":"Do you have auto-commit enabled? If yes, disable and try with an explicit transaction.","body":"Do you have auto-commit enabled? If yes, disable and try with an explicit transaction."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1670588166,"post_id":74742246,"comment_id":131914130,"body_markdown":"Other than that, single-row inserts in Redshift tend to have poor performance compared to Postgres, because the storage engines are different. When uploading to Redshift you typically store a file on S3 and use the COPY command -- although iirc there were some changes announced at the most recent re:invent that may have improved performance.","body":"Other than that, single-row inserts in Redshift tend to have poor performance compared to Postgres, because the storage engines are different. When uploading to Redshift you typically store a file on S3 and use the COPY command -- although iirc there were some changes announced at the most recent re:invent that may have improved performance."},{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670589310,"post_id":74742246,"comment_id":131914491,"body_markdown":"@kdgregory thanks for the comments, I do have auto-commit disabled. I have just found that adding `reWriteBatchedInserts=true;reWriteBatchedInsertsSize=1024` to JDBC url reduces write time from 30 minutes to 40 seconds but in Postgres it is like 1-2 seconds. Regarding S3 sink - I know about it, but now I am limited to use jdbc.","body":"@kdgregory thanks for the comments, I do have auto-commit disabled. I have just found that adding <code>reWriteBatchedInserts=true;reWriteBatchedInsertsSize=1024</code> to JDBC url reduces write time from 30 minutes to 40 seconds but in Postgres it is like 1-2 seconds. Regarding S3 sink - I know about it, but now I am limited to use jdbc."},{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670589337,"post_id":74742246,"comment_id":131914501,"body_markdown":"at least now I know that batching may be forced somehow in Redshift","body":"at least now I know that batching may be forced somehow in Redshift"},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1670590397,"post_id":74742246,"comment_id":131914864,"body_markdown":"I didn&#39;t know about those parameters. I recommend bumping the second one to 8192 or even larger.","body":"I didn&#39;t know about those parameters. I recommend bumping the second one to 8192 or even larger."},{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670590723,"post_id":74742246,"comment_id":131914959,"body_markdown":"@kdgregory already tried - it didn&#39;t improve insertion time a lot","body":"@kdgregory already tried - it didn&#39;t improve insertion time a lot"}],"answers":[{"comments":[{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670644427,"post_id":74745774,"comment_id":131926754,"body_markdown":"thanks for the great answer! I tried to use multi-row insert with PreparedStatement similarly to this answer - https://stackoverflow.com/a/46813180 - it worked much faster but I faced another limit - limit of bind variables per statement so I needed to range SQL like this `insert ... into values (? ... ?).... (? ...?)`. But I&#39;m not sure if formatting complex json, uploading it to s3 will bring lots of benefits for me.","body":"thanks for the great answer! I tried to use multi-row insert with PreparedStatement similarly to this answer - <a href=\"https://stackoverflow.com/a/46813180\">stackoverflow.com/a/46813180</a> - it worked much faster but I faced another limit - limit of bind variables per statement so I needed to range SQL like this <code>insert ... into values (? ... ?).... (? ...?)</code>. But I&#39;m not sure if formatting complex json, uploading it to s3 will bring lots of benefits for me."},{"owner":{"account_id":18332449,"reputation":9390,"user_id":13350652,"display_name":"Bill Weiner"},"score":0,"creation_date":1670650344,"post_id":74745774,"comment_id":131927374,"body_markdown":"How much data are you loading?  MBs? GBs?  The bigger the data load you are working with, the larger the benefit of heading down the S3 path.  Also your data *seems* to be simple structured data (rows and columns) - why not use CSV?  It is more data efficient than json.  You say &quot;complex json&quot; so it may be that your real data is more complex than the simple examples you have posted.","body":"How much data are you loading?  MBs? GBs?  The bigger the data load you are working with, the larger the benefit of heading down the S3 path.  Also your data <i>seems</i> to be simple structured data (rows and columns) - why not use CSV?  It is more data efficient than json.  You say &quot;complex json&quot; so it may be that your real data is more complex than the simple examples you have posted."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1670667481,"post_id":74745774,"comment_id":131929395,"body_markdown":"@BillWeiner - asking as an interested bystander: does it make sense to use [CopyManager](https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/copy/CopyManager.html) as a halfway measure between individual inserts and uploading to S3? You wouldn&#39;t get the performance benefits of parallel load, but for a small number of rows (1000s) I would hope that Redshift can internally buffer the entire operation (or at least a significant chunk of it).","body":"@BillWeiner - asking as an interested bystander: does it make sense to use <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/copy/CopyManager.html\" rel=\"nofollow noreferrer\">CopyManager</a> as a halfway measure between individual inserts and uploading to S3? You wouldn&#39;t get the performance benefits of parallel load, but for a small number of rows (1000s) I would hope that Redshift can internally buffer the entire operation (or at least a significant chunk of it)."},{"owner":{"account_id":18332449,"reputation":9390,"user_id":13350652,"display_name":"Bill Weiner"},"score":0,"creation_date":1670693261,"post_id":74745774,"comment_id":131934277,"body_markdown":"Haven&#39;t used that class so grain of salt time.  It looks to be postgres specific and uses the &quot;sql - COPY FROM STDIN statement&quot; which is not a thing in Redshift.  If you want to bring data into Redshift via the jdbc connection you need to &quot;insert ... values (...),(...),...&quot;.  This isn&#39;t ideal for Redshift (see above).  If you do need to do this for small amounts of data combine at least 100 rows of data into each statement (stay below the 64MB limit).  Single row inserts repeated millions of times is a Redshift anti-pattern, don&#39;t do it.","body":"Haven&#39;t used that class so grain of salt time.  It looks to be postgres specific and uses the &quot;sql - COPY FROM STDIN statement&quot; which is not a thing in Redshift.  If you want to bring data into Redshift via the jdbc connection you need to &quot;insert ... values (...),(...),...&quot;.  This isn&#39;t ideal for Redshift (see above).  If you do need to do this for small amounts of data combine at least 100 rows of data into each statement (stay below the 64MB limit).  Single row inserts repeated millions of times is a Redshift anti-pattern, don&#39;t do it."}],"tags":[],"owner":{"account_id":18332449,"reputation":9390,"user_id":13350652,"display_name":"Bill Weiner"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670603231,"creation_date":1670603231,"answer_id":74745774,"question_id":74742246,"body_markdown":"Inserting single rows multiple times is never a good plan on a columnar database.  Postgres is row-based and Redshift is column-based.  \r\n\r\nEach INSERT on Postgres just makes another row but on Redshift each insert requires that the column data is read, one element is added, and then the column written back.  While Redshift doesn&#39;t work on the entire column, just the last 1MB block, it has to read this block for each INSERT.  \r\n\r\nAlso since Redshift is clustered and the data for your table is distributed around the cluster, each subsequent INSERT is accessing a different block on a different slice of the table.  All these INSERTs that are accessing single slices of the cluster are serialized by the single-threaded nature of your code so each access to a single slice has to complete before the next INSERT can be issued.  \r\n\r\nYou second code adds lots of rows of data into a single INSERT statement which is compiled and the data is sent to all slices of the database where only data for each slice is stored and rest discarded.  This uses the parallelism of Redshift and only has to open the 1MB block on each slice once.  However, there are still performance and scalability issues with this approach (common to approach #1 but not as bad).  All the data is being sent through the query compiler and then on to every slice.  This can slow down compile time and waste network bandwidth.  All the data has to flow through the leader node which is responsible for many database functions and doing this for large amounts of data can lead to significant cluster wide performance issues.  The amount of data you can insert in this manner is limited by the size (in characters) of the max query length (16MB).  There is more but I&#39;ll stop there.  While this approach is better, from Redshift&#39;s point of view, it is far from ideal.\r\n\r\nBottom line - Postgres is a single instance (scale-up), row-based, OLTP database designed for single row inserts and Redshift is a clustered (scale-out), column-based, OLAP database designed for parallel bulk inserts.  The COPY command causes each compute node in Redshift to connect to S3 to read component files of the input data.  This allows for parallel actions by the Redshift cluster, independent network access to S3, and parallel processing of the read data.  (If you really want your code to run fast make it multi-threaded and write your S3 files in parallel then issue a COPY command to Redshift.)","title":"Redshift JDBC batch insert works slow for multiple rows","body":"<p>Inserting single rows multiple times is never a good plan on a columnar database.  Postgres is row-based and Redshift is column-based.</p>\n<p>Each INSERT on Postgres just makes another row but on Redshift each insert requires that the column data is read, one element is added, and then the column written back.  While Redshift doesn't work on the entire column, just the last 1MB block, it has to read this block for each INSERT.</p>\n<p>Also since Redshift is clustered and the data for your table is distributed around the cluster, each subsequent INSERT is accessing a different block on a different slice of the table.  All these INSERTs that are accessing single slices of the cluster are serialized by the single-threaded nature of your code so each access to a single slice has to complete before the next INSERT can be issued.</p>\n<p>You second code adds lots of rows of data into a single INSERT statement which is compiled and the data is sent to all slices of the database where only data for each slice is stored and rest discarded.  This uses the parallelism of Redshift and only has to open the 1MB block on each slice once.  However, there are still performance and scalability issues with this approach (common to approach #1 but not as bad).  All the data is being sent through the query compiler and then on to every slice.  This can slow down compile time and waste network bandwidth.  All the data has to flow through the leader node which is responsible for many database functions and doing this for large amounts of data can lead to significant cluster wide performance issues.  The amount of data you can insert in this manner is limited by the size (in characters) of the max query length (16MB).  There is more but I'll stop there.  While this approach is better, from Redshift's point of view, it is far from ideal.</p>\n<p>Bottom line - Postgres is a single instance (scale-up), row-based, OLTP database designed for single row inserts and Redshift is a clustered (scale-out), column-based, OLAP database designed for parallel bulk inserts.  The COPY command causes each compute node in Redshift to connect to S3 to read component files of the input data.  This allows for parallel actions by the Redshift cluster, independent network access to S3, and parallel processing of the read data.  (If you really want your code to run fast make it multi-threaded and write your S3 files in parallel then issue a COPY command to Redshift.)</p>\n"}],"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74745774,"answer_count":1,"score":1,"last_activity_date":1670851255,"creation_date":1670583961,"question_id":74742246,"body_markdown":"I have Java code for inserting into Redshift like this:\r\n```\r\nString query = &quot;INSERT INTO table (id, name, value) VALUES (?, ?, ?)&quot;;\r\nPreparedStatement ps = connection.prepareStatement(query);            \r\nfor (Record record : records) {\r\n    ps.setInt(1, record.id);\r\n    ps.setString(2, record.name);\r\n    ps.setInt(3, record.value);\r\n    ps.addBatch();\r\n}\r\nps.executeBatch();\r\n```\r\n`records` contains a few thousands items. I tried to run this code with Postgres - it inserted all of them almost instantly while with Redshift it takes 10+ minutes. After that I rewrote it to the next code:\r\n\r\n```\r\nString query = &quot;INSERT INTO table (id, name, value) VALUES &quot;;\r\nfor (Record record : records) {\r\n    query += &quot;(&quot; + record.id + &quot;,&#39;&quot; + record.name + &quot;&#39;,&quot; + record.value + &quot;),&quot;;\r\n}\r\nquery = query.substring(1, query.length() - 1);\r\nPreparedStatement ps = connection.prepareStatement(query);\r\nps.executeUpdate();\r\n```\r\n\r\nAnd this fixed performance. This code works fine for both Redshift and Postgres. My question is next - what&#39;s wrong with the first code snapshot and how I can fix it? (I assume that first code snapshot for Redshift simply ignores batching.)","title":"Redshift JDBC batch insert works slow for multiple rows","body":"<p>I have Java code for inserting into Redshift like this:</p>\n<pre><code>String query = &quot;INSERT INTO table (id, name, value) VALUES (?, ?, ?)&quot;;\nPreparedStatement ps = connection.prepareStatement(query);            \nfor (Record record : records) {\n    ps.setInt(1, record.id);\n    ps.setString(2, record.name);\n    ps.setInt(3, record.value);\n    ps.addBatch();\n}\nps.executeBatch();\n</code></pre>\n<p><code>records</code> contains a few thousands items. I tried to run this code with Postgres - it inserted all of them almost instantly while with Redshift it takes 10+ minutes. After that I rewrote it to the next code:</p>\n<pre><code>String query = &quot;INSERT INTO table (id, name, value) VALUES &quot;;\nfor (Record record : records) {\n    query += &quot;(&quot; + record.id + &quot;,'&quot; + record.name + &quot;',&quot; + record.value + &quot;),&quot;;\n}\nquery = query.substring(1, query.length() - 1);\nPreparedStatement ps = connection.prepareStatement(query);\nps.executeUpdate();\n</code></pre>\n<p>And this fixed performance. This code works fine for both Redshift and Postgres. My question is next - what's wrong with the first code snapshot and how I can fix it? (I assume that first code snapshot for Redshift simply ignores batching.)</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4172428,"reputation":2097,"user_id":3419894,"display_name":"JonK"},"score":3,"creation_date":1480608654,"post_id":40915324,"comment_id":69042845,"body_markdown":"`if ( array[number+1]%2==0)` -&gt; don&#39;t you want to be checking `index` instead?","body":"<code>if ( array[number+1]%2==0)</code> -&gt; don&#39;t you want to be checking <code>index</code> instead?"},{"owner":{"account_id":5546231,"reputation":4303,"user_id":4400820,"accept_rate":89,"display_name":"D. Ben Knoble"},"score":0,"creation_date":1480608797,"post_id":40915324,"comment_id":69042930,"body_markdown":"Can you be more explicit about how it&#39;s &quot;not working&quot;? Have you tried stepping through in a debugger and looking for the problem there? It becomes fairly apparent that you are testing the wrong value.","body":"Can you be more explicit about how it&#39;s &quot;not working&quot;? Have you tried stepping through in a debugger and looking for the problem there? It becomes fairly apparent that you are testing the wrong value."}],"answers":[{"tags":[],"owner":{"account_id":5667881,"reputation":4161,"user_id":4483548,"display_name":"BretC"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1480608686,"creation_date":1480608686,"answer_id":40915360,"question_id":40915324,"body_markdown":"You can just change your for loop and get rid of the inner IF...\r\n\r\n    for( int index = 0; index &lt; array.length; index += 2) {\r\n        System.out.println(array[index]);\r\n    }","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>You can just change your for loop and get rid of the inner IF...</p>\n\n<pre><code>for( int index = 0; index &lt; array.length; index += 2) {\n    System.out.println(array[index]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480609581,"creation_date":1480609581,"answer_id":40915616,"question_id":40915324,"body_markdown":"Just absolutely same thing using java 8 `Stream` API \r\n\r\n     Integer[] ints = {0,1,2,3,4,5,6,7,8,9};\r\n     IntStream.range(0, ints.length).filter(i -&gt;  i % 2 == 0).forEach(i -&gt; System.out.println(ints[i]));","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>Just absolutely same thing using java 8 <code>Stream</code> API </p>\n\n<pre><code> Integer[] ints = {0,1,2,3,4,5,6,7,8,9};\n IntStream.range(0, ints.length).filter(i -&gt;  i % 2 == 0).forEach(i -&gt; System.out.println(ints[i]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8088668,"reputation":41,"user_id":6095353,"display_name":"Noah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480609911,"creation_date":1480609911,"answer_id":40915748,"question_id":40915324,"body_markdown":"I assume this would be sufficient\r\n\r\n    \r\n    // For loop to search array\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n\r\n      // If to validate that the index is divisible by 2\r\n      if (i % 2 == 0) {\r\n      System.out.print(array[i]);\r\n      }\r\n    }","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>I assume this would be sufficient</p>\n\n<pre><code>// For loop to search array\nfor (int i = 0; i &lt; array.length; i++) {\n\n  // If to validate that the index is divisible by 2\n  if (i % 2 == 0) {\n  System.out.print(array[i]);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9762418,"reputation":87,"user_id":7237110,"accept_rate":100,"display_name":"theredfox24"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480612276,"creation_date":1480612276,"answer_id":40916493,"question_id":40915324,"body_markdown":"This is what I did and it works:also I am not printing out index[0] because technically its not even thats why I started the for loop at 2. Your post did help me a lot. I also thank everyone else as well that took the time to post an answer.\r\n\r\n    \r\n    import java.util.Scanner;\r\n\r\n\r\n\r\n    public class Arrayevenindex \r\n    {\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tint number;  // variable that will represent how many elements the user wants the array to have\r\n\t\t\r\n\t\t\r\n\t\tScanner key = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot; How many elements would you like your array to have&quot;);\r\n\t\tnumber = key.nextInt();\r\n\t\tint [] array = new int [number];\r\n\t\t\r\n\t\t\r\n\t// let the user enter the values of the array.\t\r\n\tfor ( int index = 0; index &lt; number; index ++) \r\n    {\r\n     System.out.print(&quot; Value&quot; + (index+1) + &quot; :&quot;);\r\n     array[index] = key.nextInt();\r\n\t \r\n\r\n     \r\n    }\r\n\t// Print out the even indexes \r\n\tSystem.out.println(&quot;/nI am now going to print out the even indexes&quot;);\r\n\tfor ( int index = 2; index &lt; array.length; index +=2) \r\n    {\r\n\t\t\r\n\t\tSystem.out.print(array[index] + &quot; &quot;);\r\n\t \r\n\r\n     \r\n    }\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n}\r\n\r\n\r\n","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>This is what I did and it works:also I am not printing out index[0] because technically its not even thats why I started the for loop at 2. Your post did help me a lot. I also thank everyone else as well that took the time to post an answer.</p>\n\n<pre><code>import java.util.Scanner;\n\n\n\npublic class Arrayevenindex \n{\npublic static void main(String[] args)\n{\n    int number;  // variable that will represent how many elements the user wants the array to have\n\n\n    Scanner key = new Scanner(System.in);\n\n    System.out.println(\" How many elements would you like your array to have\");\n    number = key.nextInt();\n    int [] array = new int [number];\n\n\n// let the user enter the values of the array.  \nfor ( int index = 0; index &lt; number; index ++) \n{\n System.out.print(\" Value\" + (index+1) + \" :\");\n array[index] = key.nextInt();\n\n\n\n}\n// Print out the even indexes \nSystem.out.println(\"/nI am now going to print out the even indexes\");\nfor ( int index = 2; index &lt; array.length; index +=2) \n{\n\n    System.out.print(array[index] + \" \");\n\n\n\n}\n\n    }\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":9762418,"reputation":87,"user_id":7237110,"accept_rate":100,"display_name":"theredfox24"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15239,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":40915360,"answer_count":4,"score":1,"last_activity_date":1670851241,"creation_date":1480608560,"question_id":40915324,"body_markdown":"I&#39;m supposed to write a program using for loops that print out the even indexes of my array. For example, if I create an array that has 10 numbers, it will have indexes from 0-9 so in that case I would print out the numbers at index 2, 4, 6 and 8. This is what I wrote so far but it doesn&#39;t work. Please note that I am not trying to print out the even numbers of the array. All I want are the even indexes.\r\n\r\nExample I enter the following array: `3,7,5,5,5,7,7,9,9,3`\r\n\r\nProgram output:\r\n\r\n    5 // (the number at index 2)\r\n    5 // (the number at index 4)\r\n    7 // (the number at index 6)\r\n    9 // (the number at index 8)\r\n\r\nMy Code:\r\n\r\n    public class Arrayevenindex \r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tint number; // variable that will represent how many elements the user wants the array to have\r\n    \r\n    \t\tScanner key = new Scanner(System.in);\r\n    \r\n    \t\tSystem.out.println(&quot; How many elements would you like your array to have&quot;);\r\n    \t\tnumber = key.nextInt();\r\n    \t\tint [] array = new int [number];\r\n    \r\n    \t\t// let the user enter the values of the array.  \r\n    \t\tfor (int index = 0; index &lt; number; index ++) \r\n    \t\t{\r\n    \t\t\tSystem.out.print(&quot; Value&quot; + (index+1) + &quot; :&quot;);\r\n    \t\t\tarray[index] = key.nextInt();\r\n    \t\t}\r\n    \t\t// Print out the even indexes \r\n    \t\tSystem.out.println(&quot;/nI am now going to print out the even indexes&quot;);\r\n    \t\tfor (int index = 0; index &lt; array.length; index ++) \r\n    \t\t{\r\n    \t\t\tif (array[number+1]%2==0)\r\n    \t\t\t\tSystem.out.print(array[number]);\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>I'm supposed to write a program using for loops that print out the even indexes of my array. For example, if I create an array that has 10 numbers, it will have indexes from 0-9 so in that case I would print out the numbers at index 2, 4, 6 and 8. This is what I wrote so far but it doesn't work. Please note that I am not trying to print out the even numbers of the array. All I want are the even indexes.</p>\n\n<p>Example I enter the following array: <code>3,7,5,5,5,7,7,9,9,3</code></p>\n\n<p>Program output:</p>\n\n<pre><code>5 // (the number at index 2)\n5 // (the number at index 4)\n7 // (the number at index 6)\n9 // (the number at index 8)\n</code></pre>\n\n<p>My Code:</p>\n\n<pre><code>public class Arrayevenindex \n{\n    public static void main(String[] args)\n    {\n        int number; // variable that will represent how many elements the user wants the array to have\n\n        Scanner key = new Scanner(System.in);\n\n        System.out.println(\" How many elements would you like your array to have\");\n        number = key.nextInt();\n        int [] array = new int [number];\n\n        // let the user enter the values of the array.  \n        for (int index = 0; index &lt; number; index ++) \n        {\n            System.out.print(\" Value\" + (index+1) + \" :\");\n            array[index] = key.nextInt();\n        }\n        // Print out the even indexes \n        System.out.println(\"/nI am now going to print out the even indexes\");\n        for (int index = 0; index &lt; array.length; index ++) \n        {\n            if (array[number+1]%2==0)\n                System.out.print(array[number]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","interpolation"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1670757708,"post_id":74760288,"comment_id":131942886,"body_markdown":"Please edit your question to explain in detail what your `split`method should do. Your description does not explain the criterion for calculating the index `split` should return. Are you maybe trying to implement binary search?","body":"Please edit your question to explain in detail what your <code>split</code>method should do. Your description does not explain the criterion for calculating the index <code>split</code> should return. Are you maybe trying to implement binary search?"},{"owner":{"account_id":27217972,"reputation":7,"user_id":20747717,"display_name":"Valerij"},"score":0,"creation_date":1670758529,"post_id":74760288,"comment_id":131943009,"body_markdown":"Hey, I edited my question.  The split method should find the Index where to split -&gt; that is the difference between binary search and interpolation search","body":"Hey, I edited my question.  The split method should find the Index where to split -&gt; that is the difference between binary search and interpolation search"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1670759688,"post_id":74760288,"comment_id":131943213,"body_markdown":"@Valerij You already wrote that &quot;the split method should find the index where to split&quot;. That description does not explain how to calculate that index.","body":"@Valerij You already wrote that &quot;the split method should find the index where to split&quot;. That description does not explain how to calculate that index."}],"answers":[{"comments":[{"owner":{"account_id":27217972,"reputation":7,"user_id":20747717,"display_name":"Valerij"},"score":0,"creation_date":1670775371,"post_id":74761459,"comment_id":131946329,"body_markdown":"Hey thank you very much. I found it difficult to understand when you wrote that line &quot;array[i - 1]&quot;. Especially why i - 1. but now I understand it. But I would not to come to this alone","body":"Hey thank you very much. I found it difficult to understand when you wrote that line &quot;array[i - 1]&quot;. Especially why i - 1. but now I understand it. But I would not to come to this alone"},{"owner":{"account_id":27217972,"reputation":7,"user_id":20747717,"display_name":"Valerij"},"score":0,"creation_date":1670775502,"post_id":74761459,"comment_id":131946372,"body_markdown":"Perhaps you laughing but it was mind-blowing to me. I never thought that way","body":"Perhaps you laughing but it was mind-blowing to me. I never thought that way"}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670768098,"creation_date":1670767395,"answer_id":74761459,"question_id":74760288,"body_markdown":"Apart from the [comment](https://stackoverflow.com/questions/74760288/the-output-of-my-interpolation-search-is-wrong-why#comment131943208_74760288), by @user16320675, to your question, your initialization is wrong.\r\n\r\nThe first [command-line] argument is the value of `wantedValue`. The remaining [command-line] arguments are the elements of `array`.\r\n\r\nAlso, `leftBoundary` should be 0 (zero) and not 1 (one) since you probably want to search the whole array.\r\n\r\nConsider the following code:\r\n```java\r\npublic class Search {\r\n\r\n    private static int split(int[] haystack, int needle, int left, int right) {\r\n        if (haystack[right] == haystack[left]) {\r\n            return left;\r\n        }\r\n        else {\r\n            return (int) (left + ((double) (needle - haystack[left]) / (haystack[right] - haystack[left])) * (right - left));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] array = new int[args.length - 1];\r\n        int leftBoundary = 0;\r\n        int rightBoundary = array.length - 1;\r\n        int wantedValue = Integer.parseInt(args[0]);\r\n        for (int i = 1; i &lt; args.length; i++) {\r\n            array[i - 1] = Integer.parseInt(args[i]);\r\n        }\r\n        int splitAtIndex = split(array, wantedValue, leftBoundary, rightBoundary);\r\n        System.out.println(splitAtIndex);\r\n    }\r\n}\r\n```\r\nI removed the `import` statement since `Scanner` is not used. I also removed method `search` since it is never called.\r\n\r\nIf I run the above code using your example [command-line] arguments, i.e.\r\n```none\r\n4 1 2 3 4 5 6\r\n```\r\nthen method `search` returns 3 &amp;mdash; which is the index of the searched-for element in the array since 4 is the searched-for value and the array contains the numbers 1 to 6 (inclusive).\r\n\r\nOf-course, the array being searched must be sorted.\r\n\r\nNote that if the searched-for value is smaller than the first array element, i.e. the element at index 0 (zero), method `search` will return -1 (minus one) and if the searched-for value is greater than the last element in the array, method `search` will return the array length. Hence you can determine whether the searched-for value is not found in the array.\r\n\r\nIf the [command-line] arguments are:\r\n```none\r\n4 1 2 3 5 6\r\n```\r\nthen method `search` returns 2. Note that the searched-for value, i.e. 4, is **not** in the array.\r\n\r\nIt is probably also a good idea to check the parameters of method `search`, i.e. that `right` should **not** be less than `left` and that `haystack` contains at least one element.\r\n","title":"the output of my Interpolation search is wrong, why?","body":"<p>Apart from the <a href=\"https://stackoverflow.com/questions/74760288/the-output-of-my-interpolation-search-is-wrong-why#comment131943208_74760288\">comment</a>, by @user16320675, to your question, your initialization is wrong.</p>\n<p>The first [command-line] argument is the value of <code>wantedValue</code>. The remaining [command-line] arguments are the elements of <code>array</code>.</p>\n<p>Also, <code>leftBoundary</code> should be 0 (zero) and not 1 (one) since you probably want to search the whole array.</p>\n<p>Consider the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Search {\n\n    private static int split(int[] haystack, int needle, int left, int right) {\n        if (haystack[right] == haystack[left]) {\n            return left;\n        }\n        else {\n            return (int) (left + ((double) (needle - haystack[left]) / (haystack[right] - haystack[left])) * (right - left));\n        }\n    }\n\n    public static void main(String[] args) {\n        int[] array = new int[args.length - 1];\n        int leftBoundary = 0;\n        int rightBoundary = array.length - 1;\n        int wantedValue = Integer.parseInt(args[0]);\n        for (int i = 1; i &lt; args.length; i++) {\n            array[i - 1] = Integer.parseInt(args[i]);\n        }\n        int splitAtIndex = split(array, wantedValue, leftBoundary, rightBoundary);\n        System.out.println(splitAtIndex);\n    }\n}\n</code></pre>\n<p>I removed the <code>import</code> statement since <code>Scanner</code> is not used. I also removed method <code>search</code> since it is never called.</p>\n<p>If I run the above code using your example [command-line] arguments, i.e.</p>\n<pre class=\"lang-none prettyprint-override\"><code>4 1 2 3 4 5 6\n</code></pre>\n<p>then method <code>search</code> returns 3  which is the index of the searched-for element in the array since 4 is the searched-for value and the array contains the numbers 1 to 6 (inclusive).</p>\n<p>Of-course, the array being searched must be sorted.</p>\n<p>Note that if the searched-for value is smaller than the first array element, i.e. the element at index 0 (zero), method <code>search</code> will return -1 (minus one) and if the searched-for value is greater than the last element in the array, method <code>search</code> will return the array length. Hence you can determine whether the searched-for value is not found in the array.</p>\n<p>If the [command-line] arguments are:</p>\n<pre class=\"lang-none prettyprint-override\"><code>4 1 2 3 5 6\n</code></pre>\n<p>then method <code>search</code> returns 2. Note that the searched-for value, i.e. 4, is <strong>not</strong> in the array.</p>\n<p>It is probably also a good idea to check the parameters of method <code>search</code>, i.e. that <code>right</code> should <strong>not</strong> be less than <code>left</code> and that <code>haystack</code> contains at least one element.</p>\n"}],"owner":{"account_id":27217972,"reputation":7,"user_id":20747717,"display_name":"Valerij"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74761459,"answer_count":1,"score":0,"last_activity_date":1670851208,"creation_date":1670757017,"question_id":74760288,"body_markdown":"I have to write a Program which is called &quot;Interpolation search&quot;. I came so far but now I am stuck and can&#180;t find the error in my code.\r\nThe method split() makes a problem. This method should give me the index to split. I just typed the formula in this method. Now the big problem is, I every time get 1 as an output which is always the &quot;leftBoundary&quot;. For example, I write in my terminal java Search 4 1 2 3 4 5 6 then I get every time 1. Why? what is wrong?\r\n\r\nedit: \r\nI was asked to explain what the split method does in Detail:\r\nThis method uses the formula (look at added picture) to determine where to split the (sorted) array and returns the corresponding index.\r\nIn the picture: v = wantedValue, l = leftBoundary, r = rightBoundary\r\n[enter image description here][1]\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Search {\r\n\r\n    // This method uses the formula (look at added picture) to determine where to split the (sorted) array and returns the corresponding index.\r\n    private static int split(int[] haystack, int needle, int left, int right) {\r\n        if(haystack[right] == haystack[left]) {\r\n            return left;\r\n        }else {\r\n        needle = left + ((needle - haystack[left]) / (haystack[right] - haystack[left])) * (right - left);\r\n        return needle;\r\n        }\r\n    }\r\n    private static int search(int[] haystack, int needle) {\r\n\r\n        return -1;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] array = new int[args.length];\r\n        int leftBoundary = 1;\r\n        int rightBoundary = array.length - 1;\r\n        int wantedValue = Integer.parseInt(args[0]);\r\n\r\n\r\n        for(int i = 1; i &lt; args.length; i++) {\r\n           array[i] = Integer.parseInt(args[i]);\r\n        }\r\n\r\n         int splitAtIndex = split(array, wantedValue, leftBoundary, rightBoundary);\r\n         System.out.println(splitAtIndex);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried to debug but with no success and also searched  here on stackoverflow. Many have question to interpolation search, but the answers are complex and unfortunately do not explain the exact problem I have\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Qmlb.jpg","title":"the output of my Interpolation search is wrong, why?","body":"<p>I have to write a Program which is called &quot;Interpolation search&quot;. I came so far but now I am stuck and cant find the error in my code.\nThe method split() makes a problem. This method should give me the index to split. I just typed the formula in this method. Now the big problem is, I every time get 1 as an output which is always the &quot;leftBoundary&quot;. For example, I write in my terminal java Search 4 1 2 3 4 5 6 then I get every time 1. Why? what is wrong?</p>\n<p>edit:\nI was asked to explain what the split method does in Detail:\nThis method uses the formula (look at added picture) to determine where to split the (sorted) array and returns the corresponding index.\nIn the picture: v = wantedValue, l = leftBoundary, r = rightBoundary\n<a href=\"https://i.stack.imgur.com/0Qmlb.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>import java.util.Scanner;\n\npublic class Search {\n\n    // This method uses the formula (look at added picture) to determine where to split the (sorted) array and returns the corresponding index.\n    private static int split(int[] haystack, int needle, int left, int right) {\n        if(haystack[right] == haystack[left]) {\n            return left;\n        }else {\n        needle = left + ((needle - haystack[left]) / (haystack[right] - haystack[left])) * (right - left);\n        return needle;\n        }\n    }\n    private static int search(int[] haystack, int needle) {\n\n        return -1;\n    }\n\n    public static void main(String[] args) {\n\n        int[] array = new int[args.length];\n        int leftBoundary = 1;\n        int rightBoundary = array.length - 1;\n        int wantedValue = Integer.parseInt(args[0]);\n\n\n        for(int i = 1; i &lt; args.length; i++) {\n           array[i] = Integer.parseInt(args[i]);\n        }\n\n         int splitAtIndex = split(array, wantedValue, leftBoundary, rightBoundary);\n         System.out.println(splitAtIndex);\n    }\n}\n</code></pre>\n<p>I tried to debug but with no success and also searched  here on stackoverflow. Many have question to interpolation search, but the answers are complex and unfortunately do not explain the exact problem I have</p>\n"},{"tags":["java","jar","gps"],"answers":[{"comments":[{"owner":{"account_id":5642029,"reputation":386,"user_id":4465541,"accept_rate":40,"display_name":"crAlexander"},"score":0,"creation_date":1425148685,"post_id":28785310,"comment_id":45846926,"body_markdown":"Hey man be more specific.Run this code from cmd? If it&#39;s easy for you give some more iformation in the example.It will be usefull a link.What it aux and grep?","body":"Hey man be more specific.Run this code from cmd? If it&#39;s easy for you give some more iformation in the example.It will be usefull a link.What it aux and grep?"},{"owner":{"account_id":3244224,"reputation":973,"user_id":2736316,"display_name":"DMP"},"score":0,"creation_date":1425149020,"post_id":28785310,"comment_id":45847028,"body_markdown":"@crAlex This is for a *nix system, not windows.","body":"@crAlex This is for a *nix system, not windows."}],"tags":[],"owner":{"account_id":5218681,"reputation":1200,"user_id":4172762,"accept_rate":44,"display_name":"Sireesh Vattikuti"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1425148340,"creation_date":1425148340,"answer_id":28785310,"question_id":28785141,"body_markdown":"use this command to check the jar is running or not.  \r\n    \r\n    ps aux | grep java\r\n\r\neg:\r\n\r\nsys_name 7526 60.1  2.6 4474364 104092 pts/4  Sl+  23:57   0:09 java -jar start.jar","title":"How to know if a jar file is already running?","body":"<p>use this command to check the jar is running or not.  </p>\n\n<pre><code>ps aux | grep java\n</code></pre>\n\n<p>eg:</p>\n\n<p>sys_name 7526 60.1  2.6 4474364 104092 pts/4  Sl+  23:57   0:09 java -jar start.jar</p>\n"},{"comments":[{"owner":{"account_id":3244224,"reputation":973,"user_id":2736316,"display_name":"DMP"},"score":0,"creation_date":1425150308,"post_id":28785476,"comment_id":45847433,"body_markdown":"@crAlex Yes this is done from cmd and uses built it tools. There is no 100% platform independent solution that uses all built in tools. You can combine the two answers putting my answer in a batch file for windows and the other answer in a shell script for every other operating system.","body":"@crAlex Yes this is done from cmd and uses built it tools. There is no 100% platform independent solution that uses all built in tools. You can combine the two answers putting my answer in a batch file for windows and the other answer in a shell script for every other operating system."},{"owner":{"account_id":5642029,"reputation":386,"user_id":4465541,"accept_rate":40,"display_name":"crAlexander"},"score":0,"creation_date":1425150488,"post_id":28785476,"comment_id":45847501,"body_markdown":"If it is easy for you give me a full example.ImageName = full path of jar? and what is eq?Thanks..","body":"If it is easy for you give me a full example.ImageName = full path of jar? and what is eq?Thanks.."},{"owner":{"account_id":3244224,"reputation":973,"user_id":2736316,"display_name":"DMP"},"score":0,"creation_date":1425150797,"post_id":28785476,"comment_id":45847601,"body_markdown":"@crAlex What I did was use tasklist(lists all running programs) with a few options: /v means verbose so you can see some extra info. /fi means filter, the quotes are the filter. &quot;IMAGENAME eq java.exe&quot; is the filter, it checks the image name or program name to see if it is equal(eq) to java, which is what you are looking for. Put that together: list all running programs with extra verbosity and only if the program is Java.","body":"@crAlex What I did was use tasklist(lists all running programs) with a few options: /v means verbose so you can see some extra info. /fi means filter, the quotes are the filter. &quot;IMAGENAME eq java.exe&quot; is the filter, it checks the image name or program name to see if it is equal(eq) to java, which is what you are looking for. Put that together: list all running programs with extra verbosity and only if the program is Java."},{"owner":{"account_id":5642029,"reputation":386,"user_id":4465541,"accept_rate":40,"display_name":"crAlexander"},"score":0,"creation_date":1425516925,"post_id":28785476,"comment_id":46000613,"body_markdown":"i try your code but i get (Not tasks are running which match the specified criteria) I run the same time one jar file to be soore that at least one jar file is running under java.exe.Why this happens?","body":"i try your code but i get (Not tasks are running which match the specified criteria) I run the same time one jar file to be soore that at least one jar file is running under java.exe.Why this happens?"}],"tags":[],"owner":{"account_id":3244224,"reputation":973,"user_id":2736316,"display_name":"DMP"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1425149393,"creation_date":1425149393,"answer_id":28785476,"question_id":28785141,"body_markdown":"You can us `ps` and `grep` on a *nix system as described above. For windows you can do:\n\n    tasklist /v /FI &quot;IMAGENAME eq java.exe&quot;\nThis will get you a list of all the Java programs running. I don&#39;t think you can get much closer on Windows.","title":"How to know if a jar file is already running?","body":"<p>You can us <code>ps</code> and <code>grep</code> on a *nix system as described above. For windows you can do:</p>\n\n<pre><code>tasklist /v /FI \"IMAGENAME eq java.exe\"\n</code></pre>\n\n<p>This will get you a list of all the Java programs running. I don't think you can get much closer on Windows.</p>\n"},{"comments":[{"owner":{"account_id":7921096,"reputation":4183,"user_id":6036546,"display_name":"Besworks"},"score":0,"creation_date":1654550982,"post_id":72499455,"comment_id":128113033,"body_markdown":"It&#39;s not clear what you mean by &quot;test out the cmd line&quot;. Please elaborate.","body":"It&#39;s not clear what you mean by &quot;test out the cmd line&quot;. Please elaborate."}],"tags":[],"owner":{"account_id":25472112,"reputation":1,"user_id":19270121,"display_name":"MaximoC"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654550894,"creation_date":1654342951,"answer_id":72499455,"question_id":28785141,"body_markdown":"To test this, pick a `.exe` file you see running in Task Manager and test out the `cmd` line.\r\n\r\nIf you see the following output :\r\n\r\n&gt; No tasks are running which match the specified criteria\r\n\r\nThat means there is no task running equal to `java.exe`.","title":"How to know if a jar file is already running?","body":"<p>To test this, pick a <code>.exe</code> file you see running in Task Manager and test out the <code>cmd</code> line.</p>\n<p>If you see the following output :</p>\n<blockquote>\n<p>No tasks are running which match the specified criteria</p>\n</blockquote>\n<p>That means there is no task running equal to <code>java.exe</code>.</p>\n"},{"tags":[],"owner":{"account_id":26495771,"reputation":11,"user_id":20133559,"display_name":"Orlando Macias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670850953,"creation_date":1670850400,"answer_id":74771554,"question_id":28785141,"body_markdown":"Use the following command:\r\n\r\n\r\n    ps aux | grep java","title":"How to know if a jar file is already running?","body":"<p>Use the following command:</p>\n<pre><code>ps aux | grep java\n</code></pre>\n"}],"owner":{"account_id":5642029,"reputation":386,"user_id":4465541,"accept_rate":40,"display_name":"crAlexander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23692,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1670850953,"creation_date":1425147256,"question_id":28785141,"body_markdown":"After a research in google i found good answers like:\r\n\r\n1)using **jps** or **jps -l** to get the jars running under JVM\r\n\r\nOK with this answer but if the user has not java installed at all and i run my jar using for example a .bat file and a folder with java JRE.\r\n\r\nAlso gps function is experimental and only JDK contais it and not JRE.\r\n\r\n2)https://stackoverflow.com/questions/20168332/check-if-jar-running-from-shell\r\n\r\nI need a solution for this on windows platform.Although a platform indepedent solution is always prefferable.\r\n\r\nSomething more about jps(**cause it is Platform Independent**) I will appreciate an answer where you provide me a good solution with **jps** function.\r\n","title":"How to know if a jar file is already running?","body":"<p>After a research in google i found good answers like:</p>\n\n<p>1)using <strong>jps</strong> or <strong>jps -l</strong> to get the jars running under JVM</p>\n\n<p>OK with this answer but if the user has not java installed at all and i run my jar using for example a .bat file and a folder with java JRE.</p>\n\n<p>Also gps function is experimental and only JDK contais it and not JRE.</p>\n\n<p>2)<a href=\"https://stackoverflow.com/questions/20168332/check-if-jar-running-from-shell\">Check if jar running from shell</a></p>\n\n<p>I need a solution for this on windows platform.Although a platform indepedent solution is always prefferable.</p>\n\n<p>Something more about jps(<strong>cause it is Platform Independent</strong>) I will appreciate an answer where you provide me a good solution with <strong>jps</strong> function.</p>\n"},{"tags":["java","tomcat","server","tomcat9","tomcat-manager"],"owner":{"account_id":2684968,"reputation":5561,"user_id":2319542,"accept_rate":82,"display_name":"Sash_KP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670850812,"creation_date":1670850812,"question_id":74771642,"body_markdown":"I have multiple services defined in server.xml and below is the one which i need to restart(stop and start again) using tomcat manager application/api. \r\n\r\n        &lt;Service name=&quot;myService&quot;&gt;\r\n        &lt;Executor name=&quot;myExecutorPool&quot; namePrefix=&quot;my-http-pool&quot;\r\n            maxThreads=&quot;10&quot; minSpareThreads=&quot;1&quot;/&gt;\r\n        &lt;Connector\r\n             port=&quot;8701&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot; SSLEnabled=&quot;true&quot;\r\n             executor=&quot;myExecutorPool&quot;\r\n             maxSavePostSize=&quot;-1&quot;\r\n             scheme=&quot;https&quot; secure=&quot;true&quot;\r\n             enableLookups=&quot;false&quot; disableUploadTimeout=&quot;true&quot;\r\n             acceptCount=&quot;100&quot;\r\n             sslEnabledProtocols=&quot;${sslEnabledProtocolsMediumSecurity}&quot; server=&quot; &quot;\r\n             allowUnsafeLegacyRenegotiation=&quot;false&quot;\r\n             clientAuth=&quot;want&quot;\r\n             bindOnInit=&quot;false&quot;\r\n             URIEncoding=&quot;UTF-8&quot;\r\n             useBodyEncodingForURI=&quot;true&quot;\r\n             keystoreType=&quot;PKCS11&quot;\r\n             keyAlias=&quot;server&quot;\r\n             trustManagerClassName=&quot;com.example.com.myproj.cert.RestTrustManager&quot;\r\n             sendReasonPhrase=&quot;true&quot;\r\n             sslImplementationName=&quot;com.example.com.myproj.cert.MyProjImplementation&quot;\r\n             ciphers=&quot;${tls.ciphers}&quot;\r\n         /&gt;\r\n        &lt;Engine name=&quot;myEngine&quot; defaultHost=&quot;localhost&quot;&gt;\r\n          &lt;Valve className=&quot;org.apache.catalina.valves.MethodsValve&quot; methodsSupported=&quot;GET,POST,PUT,DELETE,HEAD&quot; /&gt;\r\n          &lt;Host name=&quot;localhost&quot;  appBase=&quot;mywebapp&quot;\r\n                unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;\r\n                xmlValidation=&quot;false&quot; xmlNamespaceAware=&quot;false&quot;&gt;\r\n                &lt;Context path=&quot;&quot; docBase=&quot;../webapps/ROOT&quot; &gt;\r\n                  &lt;Valve className=&quot;org.apache.catalina.valves.RedirectValve&quot; sendToApp=&quot;/myapp/&quot; /&gt;\r\n                &lt;/Context&gt;\r\n          &lt;/Host&gt;\r\n        &lt;/Engine&gt;\r\n      &lt;/Service&gt;\r\n\r\nWhen i do `curl -username:password http://localhost:8080/manager/text/list` , i don&#39;t see this above service listed. It means i assume that, this service is not running as a separate service but contained inside appserver. \r\n\r\nSo i won&#39;t be able to do something like `http://localhost:8080/manager/text/reload?path=/myService`. \r\n\r\nCan you please help here, how do i stop/start (restart) this particular service using tomcat manager app? \r\n\r\nIf JMX can be used here, can you please provide any links/resources for the same mentioning how to do that?\r\n","title":"Stopping and starting a service present in server.xml using tomcat manager application/api (Single tomcat instance)","body":"<p>I have multiple services defined in server.xml and below is the one which i need to restart(stop and start again) using tomcat manager application/api.</p>\n<pre><code>    &lt;Service name=&quot;myService&quot;&gt;\n    &lt;Executor name=&quot;myExecutorPool&quot; namePrefix=&quot;my-http-pool&quot;\n        maxThreads=&quot;10&quot; minSpareThreads=&quot;1&quot;/&gt;\n    &lt;Connector\n         port=&quot;8701&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot; SSLEnabled=&quot;true&quot;\n         executor=&quot;myExecutorPool&quot;\n         maxSavePostSize=&quot;-1&quot;\n         scheme=&quot;https&quot; secure=&quot;true&quot;\n         enableLookups=&quot;false&quot; disableUploadTimeout=&quot;true&quot;\n         acceptCount=&quot;100&quot;\n         sslEnabledProtocols=&quot;${sslEnabledProtocolsMediumSecurity}&quot; server=&quot; &quot;\n         allowUnsafeLegacyRenegotiation=&quot;false&quot;\n         clientAuth=&quot;want&quot;\n         bindOnInit=&quot;false&quot;\n         URIEncoding=&quot;UTF-8&quot;\n         useBodyEncodingForURI=&quot;true&quot;\n         keystoreType=&quot;PKCS11&quot;\n         keyAlias=&quot;server&quot;\n         trustManagerClassName=&quot;com.example.com.myproj.cert.RestTrustManager&quot;\n         sendReasonPhrase=&quot;true&quot;\n         sslImplementationName=&quot;com.example.com.myproj.cert.MyProjImplementation&quot;\n         ciphers=&quot;${tls.ciphers}&quot;\n     /&gt;\n    &lt;Engine name=&quot;myEngine&quot; defaultHost=&quot;localhost&quot;&gt;\n      &lt;Valve className=&quot;org.apache.catalina.valves.MethodsValve&quot; methodsSupported=&quot;GET,POST,PUT,DELETE,HEAD&quot; /&gt;\n      &lt;Host name=&quot;localhost&quot;  appBase=&quot;mywebapp&quot;\n            unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;\n            xmlValidation=&quot;false&quot; xmlNamespaceAware=&quot;false&quot;&gt;\n            &lt;Context path=&quot;&quot; docBase=&quot;../webapps/ROOT&quot; &gt;\n              &lt;Valve className=&quot;org.apache.catalina.valves.RedirectValve&quot; sendToApp=&quot;/myapp/&quot; /&gt;\n            &lt;/Context&gt;\n      &lt;/Host&gt;\n    &lt;/Engine&gt;\n  &lt;/Service&gt;\n</code></pre>\n<p>When i do <code>curl -username:password http://localhost:8080/manager/text/list</code> , i don't see this above service listed. It means i assume that, this service is not running as a separate service but contained inside appserver.</p>\n<p>So i won't be able to do something like <code>http://localhost:8080/manager/text/reload?path=/myService</code>.</p>\n<p>Can you please help here, how do i stop/start (restart) this particular service using tomcat manager app?</p>\n<p>If JMX can be used here, can you please provide any links/resources for the same mentioning how to do that?</p>\n"},{"tags":["java","spring-boot","maven"],"owner":{"account_id":3847031,"reputation":584,"user_id":3188225,"display_name":"umunBeing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670850477,"creation_date":1670850477,"question_id":74771576,"body_markdown":"I have a Springboot multi-module maven project. \r\n\r\nNow I want to move one of the applications(module) to its own folder/project.\r\n\r\nSo far, \r\n\r\n1. I created a new folder with its POM.xml\r\n2. Copied my intended module to it, and made it a child module of the project&#39;s pom.\r\n3. In my original project I ran `mvn package` to create jars of all the modules.\r\n4. Copied these jars to a folder (./repo) inside the new project.\r\n\r\nBut now, I am unable to import dependencies from these JARs.\r\n\r\nI have added this to the new project&#39;s POM\r\n\r\n```\r\n&lt;repositories&gt;\r\n  &lt;repository&gt;\r\n    &lt;id&gt;data-local&lt;/id&gt;\r\n    &lt;name&gt;data&lt;/name&gt;\r\n    &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\r\n  &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```","title":"How to move one of the maven multi-module projects to its own directory?","body":"<p>I have a Springboot multi-module maven project.</p>\n<p>Now I want to move one of the applications(module) to its own folder/project.</p>\n<p>So far,</p>\n<ol>\n<li>I created a new folder with its POM.xml</li>\n<li>Copied my intended module to it, and made it a child module of the project's pom.</li>\n<li>In my original project I ran <code>mvn package</code> to create jars of all the modules.</li>\n<li>Copied these jars to a folder (./repo) inside the new project.</li>\n</ol>\n<p>But now, I am unable to import dependencies from these JARs.</p>\n<p>I have added this to the new project's POM</p>\n<pre><code>&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;data-local&lt;/id&gt;\n    &lt;name&gt;data&lt;/name&gt;\n    &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1670773177,"post_id":74762064,"comment_id":131945830,"body_markdown":"you need to edit your question and post a [mcve] including errors.","body":"you need to edit your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> including errors."}],"answers":[{"tags":[],"owner":{"account_id":27220217,"reputation":11,"user_id":20749626,"display_name":"h3y"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670850300,"creation_date":1670783039,"answer_id":74763395,"question_id":74762064,"body_markdown":"Make sure to review the documentation for [`HashMap`][0], the code snippets you included show that you aren&#39;t using the correct methods to retrieve key-mapped values. \r\n\r\nFrom your original code snippet, you are invoking Map.getClass().getName() to set your manufacturerPriceCode.\r\n\r\n```\r\nfor (ItemPriceCode ipcs : itemPriceCodes) {\r\n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\r\n}\r\n```\r\n\r\n[`getName`][1] is a method of the Java [`Class`][2] API. Invoking it returns the name of the Class entity.\r\n\r\nExamples: \r\n\r\n`String.class.getName()` returns &quot;java.lang.String&quot;\r\n\r\n`byte.class.getName()` returns &quot;byte&quot; \r\n\r\nThis causes your manufacturerPriceCode to be set to &quot;java.util.HashMap&quot;.\r\n\r\nIn your second snippet, you changed your code to:\r\n\r\n```\r\nfor (ItemPriceCode ipcs : itemPriceCodes) {\r\n    String manufacturePriceCode =ipcToMFPNameMap.get(priceCode).getName();\r\n    ipcs.setManufacturerPriceCode(manufacturePriceCode);\r\n}\r\n```\r\n\r\nThis will create a compile time error due to `ipcToMFPNameMap.get(priceCode).getName();` as `getName()` is invalid here.\r\n\r\nTo return key-mapped values in HashMap, simply use `get()`.\r\n\r\n```\r\nfor (ItemPriceCode ipcs : itemPriceCodes) \r\n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.get(icps)); \r\n```\r\n\r\n\r\n[0]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getName--\r\n\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html","title":"How to get particular field value from map object using java","body":"<p>Make sure to review the documentation for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\"><code>HashMap</code></a>, the code snippets you included show that you aren't using the correct methods to retrieve key-mapped values.</p>\n<p>From your original code snippet, you are invoking Map.getClass().getName() to set your manufacturerPriceCode.</p>\n<pre><code>for (ItemPriceCode ipcs : itemPriceCodes) {\n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getName--\" rel=\"nofollow noreferrer\"><code>getName</code></a> is a method of the Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\"><code>Class</code></a> API. Invoking it returns the name of the Class entity.</p>\n<p>Examples:</p>\n<p><code>String.class.getName()</code> returns &quot;java.lang.String&quot;</p>\n<p><code>byte.class.getName()</code> returns &quot;byte&quot;</p>\n<p>This causes your manufacturerPriceCode to be set to &quot;java.util.HashMap&quot;.</p>\n<p>In your second snippet, you changed your code to:</p>\n<pre><code>for (ItemPriceCode ipcs : itemPriceCodes) {\n    String manufacturePriceCode =ipcToMFPNameMap.get(priceCode).getName();\n    ipcs.setManufacturerPriceCode(manufacturePriceCode);\n}\n</code></pre>\n<p>This will create a compile time error due to <code>ipcToMFPNameMap.get(priceCode).getName();</code> as <code>getName()</code> is invalid here.</p>\n<p>To return key-mapped values in HashMap, simply use <code>get()</code>.</p>\n<pre><code>for (ItemPriceCode ipcs : itemPriceCodes) \n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.get(icps)); \n</code></pre>\n"}],"owner":{"display_name":"user20714961"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670850300,"creation_date":1670772511,"question_id":74762064,"body_markdown":"I have a map object and it contains manufacture Price code as a string value. When I try to get manufacture price code value from map object, it gives me &quot;java.util.HashMap&quot;, but I want it to give me manufacture price code value. For your reference, I posted the code I tried for this issue\r\n\r\n```java\r\nprivate Item getItemManufacturerPriceCodes(Item item) {\r\n    List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\r\n    List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();\r\n    for (ItemPriceCode ipc : itemPriceCodes) {\r\n        //get the string value from the list\r\n        priceCodeList.add(ipc.getPriceCode());\r\n    }\r\n    //pass this string value in query\r\n    List&lt;ManufacturerPriceCodes&gt;mpc = manufacturerPriceCodesRepository.\r\n             findByManufacturerIDAndPriceCodeInAndRecordDeleted(item.getManufacturerID(),priceCodeList,NOT_DELETED);\r\n      \r\n    //Convert list to map\r\n    Map&lt;String, ManufacturerPriceCodes&gt; ipcToMFPNameMap = mpc.stream().collect(\r\n            Collectors.toMap(ManufacturerPriceCodes :: getPriceCode,Function.identity()));// Object\r\n\r\n     for (ItemPriceCode ipcs : itemPriceCodes) {\r\n         ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\r\n     }\r\n     item.getItemPriceCodes()\r\n             .removeIf(ipcs -&gt; DELETED.equals(ipcs.getRecordDeleted()));\r\n     return item;      \r\n}\r\n```\r\n\r\nI get this type of result.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ePnOG.png)](https://i.stack.imgur.com/ePnOG.png)\r\n\r\nI want this type of result\r\n\r\n[![enter image description here](https://i.stack.imgur.com/2ltET.png)](https://i.stack.imgur.com/2ltET.png)\r\n\r\nI get an error at this point\r\n\r\n```\r\nfor (ItemPriceCode ipcs : itemPriceCodes) {\r\n    String manufacturePriceCode =ipcToMFPNameMap.get(priceCode).getName();\r\n    ipcs.setManufacturerPriceCode(manufacturePriceCode);\r\n}\r\n```\r\n\r\nHow to get manufacture Price code from my map object, `ipcToMFPNameMa`?","title":"How to get particular field value from map object using java","body":"<p>I have a map object and it contains manufacture Price code as a string value. When I try to get manufacture price code value from map object, it gives me &quot;java.util.HashMap&quot;, but I want it to give me manufacture price code value. For your reference, I posted the code I tried for this issue</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Item getItemManufacturerPriceCodes(Item item) {\n    List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\n    List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();\n    for (ItemPriceCode ipc : itemPriceCodes) {\n        //get the string value from the list\n        priceCodeList.add(ipc.getPriceCode());\n    }\n    //pass this string value in query\n    List&lt;ManufacturerPriceCodes&gt;mpc = manufacturerPriceCodesRepository.\n             findByManufacturerIDAndPriceCodeInAndRecordDeleted(item.getManufacturerID(),priceCodeList,NOT_DELETED);\n      \n    //Convert list to map\n    Map&lt;String, ManufacturerPriceCodes&gt; ipcToMFPNameMap = mpc.stream().collect(\n            Collectors.toMap(ManufacturerPriceCodes :: getPriceCode,Function.identity()));// Object\n\n     for (ItemPriceCode ipcs : itemPriceCodes) {\n         ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\n     }\n     item.getItemPriceCodes()\n             .removeIf(ipcs -&gt; DELETED.equals(ipcs.getRecordDeleted()));\n     return item;      \n}\n</code></pre>\n<p>I get this type of result.</p>\n<p><a href=\"https://i.stack.imgur.com/ePnOG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ePnOG.png\" alt=\"enter image description here\" /></a></p>\n<p>I want this type of result</p>\n<p><a href=\"https://i.stack.imgur.com/2ltET.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ltET.png\" alt=\"enter image description here\" /></a></p>\n<p>I get an error at this point</p>\n<pre><code>for (ItemPriceCode ipcs : itemPriceCodes) {\n    String manufacturePriceCode =ipcToMFPNameMap.get(priceCode).getName();\n    ipcs.setManufacturerPriceCode(manufacturePriceCode);\n}\n</code></pre>\n<p>How to get manufacture Price code from my map object, <code>ipcToMFPNameMa</code>?</p>\n"},{"tags":["java","android-studio","android-mediaplayer"],"owner":{"account_id":22988416,"reputation":30,"user_id":17114274,"display_name":"Nicolas Pellerin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670850069,"creation_date":1670850069,"question_id":74771504,"body_markdown":"I am not able to play a sound when it is the first time I pass it through the else if. If I remove the condition, there is not change at all. The code here works fine\r\n```         if (punchPlayerSound != null)\r\n                punchPlayerSound.start();\r\n\r\n        }\r\n        else if (dodgeCPUSound != null) {\r\n            dodgeCPUSound.start();\r\n        }\r\n```\r\nFor the set, only the fourth sound won&#39;t play the first time even if it value is not null\r\n```\r\n    public void setSounds(MediaPlayer dodgePlayerSound, MediaPlayer punchPlayerSound, MediaPlayer dodgeCPUSound, MediaPlayer punchCPUSound) {\r\n        this.dodgePlayerSound = dodgePlayerSound;\r\n        this.punchPlayerSound = punchPlayerSound;\r\n        this.dodgeCPUSound = dodgeCPUSound;\r\n        this.punchCPUSound = punchCPUSound;\r\n    }\r\n```","title":"Sound mediaPlayer not playing first time android studio","body":"<p>I am not able to play a sound when it is the first time I pass it through the else if. If I remove the condition, there is not change at all. The code here works fine</p>\n<pre><code>                punchPlayerSound.start();\n\n        }\n        else if (dodgeCPUSound != null) {\n            dodgeCPUSound.start();\n        }\n</code></pre>\n<p>For the set, only the fourth sound won't play the first time even if it value is not null</p>\n<pre><code>    public void setSounds(MediaPlayer dodgePlayerSound, MediaPlayer punchPlayerSound, MediaPlayer dodgeCPUSound, MediaPlayer punchCPUSound) {\n        this.dodgePlayerSound = dodgePlayerSound;\n        this.punchPlayerSound = punchPlayerSound;\n        this.dodgeCPUSound = dodgeCPUSound;\n        this.punchCPUSound = punchCPUSound;\n    }\n</code></pre>\n"},{"tags":["java","spring","cassandra","record","java-17"],"owner":{"account_id":12547942,"reputation":139,"user_id":9130606,"display_name":"Dmytro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1670849599,"creation_date":1670840024,"question_id":74769529,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/5yPwR.png)](https://i.stack.imgur.com/5yPwR.png)\r\n\r\nI know that final class cannot be used for Hibernate Entity, but can it be used for cassandra?\r\n\r\n```java\r\n@Table(&quot;custom_table&quot;)\r\npublic record MyTable(\r\n  @PrimaryKey @Column(&quot;id&quot;) String id, \r\n  @Column(&quot;options&quot;) Options options) {\r\n\r\n}\r\n```\r\n","title":"Can I use Java 17 record with Cassandra table?","body":"<p><a href=\"https://i.stack.imgur.com/5yPwR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5yPwR.png\" alt=\"enter image description here\" /></a></p>\n<p>I know that final class cannot be used for Hibernate Entity, but can it be used for cassandra?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(&quot;custom_table&quot;)\npublic record MyTable(\n  @PrimaryKey @Column(&quot;id&quot;) String id, \n  @Column(&quot;options&quot;) Options options) {\n\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670849546,"post_id":74771337,"comment_id":131961148,"body_markdown":"You rely on each thread to finish their job before increasing the count, but what if the thread takes a bit longer to finish before the next one starts? By then the count might not have increased. Create a constructor for `SingleTasking` and pass the count there. Or better yet, pass the range for the thread to calculate. That way you reduce the amount of code","body":"You rely on each thread to finish their job before increasing the count, but what if the thread takes a bit longer to finish before the next one starts? By then the count might not have increased. Create a constructor for <code>SingleTasking</code> and pass the count there. Or better yet, pass the range for the thread to calculate. That way you reduce the amount of code"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670850130,"post_id":74771337,"comment_id":131961343,"body_markdown":"And to ensure that each thread is finished, use `thread1.join();` for each one you create","body":"And to ensure that each thread is finished, use <code>thread1.join();</code> for each one you create"},{"owner":{"account_id":24385254,"reputation":1,"user_id":18316137,"display_name":"DEEPANSHU KUNAL"},"score":0,"creation_date":1670850491,"post_id":74771337,"comment_id":131961436,"body_markdown":"Hey @XtremeBaumer  thanks for your help but I have a doubt that isn&#39;t it the thread job to increase the count? or is it like that when one thread is started then JVM donot look for it to complete it just go to execute the next statements?","body":"Hey @XtremeBaumer  thanks for your help but I have a doubt that isn&#39;t it the thread job to increase the count? or is it like that when one thread is started then JVM donot look for it to complete it just go to execute the next statements?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670850612,"post_id":74771337,"comment_id":131961472,"body_markdown":"The main thread and every other thread you create are running separate from each other. You can add some `System.out.println()` statements in you main method and you will see that the main threads just starts the next threads. I mean how else would you run multiple threads at the same time, when the main thread has to wait for each sub thread to finish? Doesn&#39;t really make sense","body":"The main thread and every other thread you create are running separate from each other. You can add some <code>System.out.println()</code> statements in you main method and you will see that the main threads just starts the next threads. I mean how else would you run multiple threads at the same time, when the main thread has to wait for each sub thread to finish? Doesn&#39;t really make sense"},{"owner":{"account_id":24385254,"reputation":1,"user_id":18316137,"display_name":"DEEPANSHU KUNAL"},"score":0,"creation_date":1670850751,"post_id":74771337,"comment_id":131961510,"body_markdown":"@XtremeBaumer And if that is the case then why didnot the stop() method work before starting the next thread. When I am stopping the thread before starting the next thread then the result donot show even wrong sum.","body":"@XtremeBaumer And if that is the case then why didnot the stop() method work before starting the next thread. When I am stopping the thread before starting the next thread then the result donot show even wrong sum."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670850839,"post_id":74771337,"comment_id":131961549,"body_markdown":"`Deprecated.  This method is inherently unsafe. Stopping a thread withThread.stop causes it to unlock all of the monitors that ithas locked (as a natural consequence of the unchecked ThreadDeath exception propagating up the stack). Ifany of the objects previously protected by these monitors were inan inconsistent state, the damaged objects become visible toother threads, potentially resulting in arbitrary behavior. Manyuses of stop should be replaced by code that simplymodifies some variable to indicate that the target thread shouldstop running.`","body":"<code>Deprecated.  This method is inherently unsafe. Stopping a thread withThread.stop causes it to unlock all of the monitors that ithas locked (as a natural consequence of the unchecked ThreadDeath exception propagating up the stack). Ifany of the objects previously protected by these monitors were inan inconsistent state, the damaged objects become visible toother threads, potentially resulting in arbitrary behavior. Manyuses of stop should be replaced by code that simplymodifies some variable to indicate that the target thread shouldstop running.</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670850845,"post_id":74771337,"comment_id":131961551,"body_markdown":"`The target thread should check this variableregularly, and return from its run method in an orderly fashionif the variable indicates that it is to stop running. If thetarget thread waits for long periods (on a condition variable,for example), the interrupt method should be used tointerrupt the wait.For more information, see Whyare Thread.stop, Thread.suspend and Thread.resume Deprecated?`","body":"<code>The target thread should check this variableregularly, and return from its run method in an orderly fashionif the variable indicates that it is to stop running. If thetarget thread waits for long periods (on a condition variable,for example), the interrupt method should be used tointerrupt the wait.For more information, see Whyare Thread.stop, Thread.suspend and Thread.resume Deprecated?</code>"}],"owner":{"account_id":24385254,"reputation":1,"user_id":18316137,"display_name":"DEEPANSHU KUNAL"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670849385,"creation_date":1670849230,"question_id":74771337,"body_markdown":"I want to perform a single-task(finding sum of 1st 100 positive integers) using multiple threads in java. That&#39;s why I&#39;m using a single run() method. I&#39;ve seen multiple sites which shows single-tasking using multithreading by using only single run method(they put the task in same run() method), but I found that it will only only do same task multiple times everytime a new thread is started. That is why I&#39;m using a static variable count.\r\nThe task is divided into 3 sub-tasks-  \r\n1) sum 1 to 50(will be performed by thread1 object)\r\n2) sum 51 to 75(will be performed by thread2 object)\r\n3) sum 76 to 100(will be performed by thread1 object)\r\nSo this is the code which I wrote.\r\n\r\n```\r\n//In this single tasking will be done using multiple thread\r\npublic class SingleTasking extends Thread {\r\n    static int count=0;\r\n    static int sum=0;                                  //global variable to store total sum\r\n    //private static long startTime = System.currentTimeMillis();\r\n    public void run(){\r\n        if(count==0) {\r\n\t    //System.out.println(getName());\r\n\t    sum+=sum1to50();\r\n\t    count++;\r\n\t    //currentThread().stop();\r\n\t}\r\n\telse if(count==1) {\r\n\t    //System.out.println(getName());\r\n\t    sum+=sum51to75();\r\n\t    count++;\r\n\t    //currentThread().stop();\r\n\t}\r\n\telse {\r\n\t    //System.out.println(Thread.currentThread().getName()); \r\n\t    sum+=sum76to100();\r\n\t    System.out.println(&quot;Sum of 1st 100 integers:&quot;+sum);\r\n\t    count++;\r\n\t}\r\n    }\r\n    int sum1to50() {               //1st part of the task\r\n        int sum=0;                      //local variable to store sum 1 to 50\r\n\tfor(int i=1;i&lt;=50;i++)\r\n\t    sum+=i;\r\n\treturn sum;\r\n    }\r\n    int sum51to75() {\t\t\t   //2nd part of the task\r\n\tint sum=0;\t\t\t//local variable to store sum 51 to 75\r\n\tfor(int i=51;i&lt;=75;i++)\r\n\t    sum+=i;\r\n\treturn sum;\r\n    }\r\n    int sum76to100() {\t   \t\t   //3rd part of the task\r\n\tint sum=0;\t\t\t//local variable to store sum 76 to 100\r\n\tfor(int i=76;i&lt;=100;i++)\r\n\t    sum+=i;\r\n\treturn sum;\r\n    }\r\n    public static void main(String args[]){\r\n        System.out.println(&quot;Task is to find sum of first 100 integers.&quot;);\r\n    \tSystem.out.println(&quot;1st thread will find sum of 1-50.&quot;);\r\n    \tSystem.out.println(&quot;2nd thread will find sum of 51-75.&quot;);\r\n    \tSystem.out.println(&quot;3rd thread will find sum of 76-100.&quot;);\r\n    \tSingleTasking thread1=new SingleTasking();    \r\n    \tSingleTasking thread2=new SingleTasking();    \r\n    \tSingleTasking thread3=new SingleTasking();    \r\n    \t//thread1.setPriority(9);\r\n    \t//thread2.setPriority(5);\r\n    \t//thread3.setPriority(1);\r\n    \tthread1.start();\r\n       \t//thread1.stop();\r\n    \tthread2.start();\r\n    \t//thread2.stop();\r\n       \tthread3.start();\r\n       \t//System.out.println(&quot;Sum of 1st 100 integers:&quot;+sum);\r\n       \t//You can&#39;t print sum here as no priority is set to threads \r\n       \t//and therefore it can print any value of static variable sum\r\n       \t//like 0,sum1to50, sum1to75, sum 76to100 depending on \r\n       \t//default main thread execution order.\r\n    \t//Below are the statements to calculate sum\r\n       \t//long endTime = System.currentTimeMillis();\r\n        //System.out.println(&quot;It took &quot; + (endTime - startTime) + &quot; milliseconds&quot;);\r\n    }\r\n}\r\n```\r\n\r\nalthough the output is what I needed most of the times, but sometimes it differs too.\r\n\r\nI tried many things(commented in the code) like giving priority to threads, sleeping threads, stopping them but nothing works.\r\n\r\nCan you explain me why it not working properly?\r\nIt would be helpful if you  give me a better solution.\r\nI do not want to threads run in a particular order but what I want is a single thread will perform a single sub-task(i.e. call any of the sum1to50(), sum51to75(),sum76to100() methods).\r\n","title":"Multi-threading(Maybe Threads not running at my will.)","body":"<p>I want to perform a single-task(finding sum of 1st 100 positive integers) using multiple threads in java. That's why I'm using a single run() method. I've seen multiple sites which shows single-tasking using multithreading by using only single run method(they put the task in same run() method), but I found that it will only only do same task multiple times everytime a new thread is started. That is why I'm using a static variable count.\nThe task is divided into 3 sub-tasks-</p>\n<ol>\n<li>sum 1 to 50(will be performed by thread1 object)</li>\n<li>sum 51 to 75(will be performed by thread2 object)</li>\n<li>sum 76 to 100(will be performed by thread1 object)\nSo this is the code which I wrote.</li>\n</ol>\n<pre><code>//In this single tasking will be done using multiple thread\npublic class SingleTasking extends Thread {\n    static int count=0;\n    static int sum=0;                                  //global variable to store total sum\n    //private static long startTime = System.currentTimeMillis();\n    public void run(){\n        if(count==0) {\n        //System.out.println(getName());\n        sum+=sum1to50();\n        count++;\n        //currentThread().stop();\n    }\n    else if(count==1) {\n        //System.out.println(getName());\n        sum+=sum51to75();\n        count++;\n        //currentThread().stop();\n    }\n    else {\n        //System.out.println(Thread.currentThread().getName()); \n        sum+=sum76to100();\n        System.out.println(&quot;Sum of 1st 100 integers:&quot;+sum);\n        count++;\n    }\n    }\n    int sum1to50() {               //1st part of the task\n        int sum=0;                      //local variable to store sum 1 to 50\n    for(int i=1;i&lt;=50;i++)\n        sum+=i;\n    return sum;\n    }\n    int sum51to75() {              //2nd part of the task\n    int sum=0;          //local variable to store sum 51 to 75\n    for(int i=51;i&lt;=75;i++)\n        sum+=i;\n    return sum;\n    }\n    int sum76to100() {             //3rd part of the task\n    int sum=0;          //local variable to store sum 76 to 100\n    for(int i=76;i&lt;=100;i++)\n        sum+=i;\n    return sum;\n    }\n    public static void main(String args[]){\n        System.out.println(&quot;Task is to find sum of first 100 integers.&quot;);\n        System.out.println(&quot;1st thread will find sum of 1-50.&quot;);\n        System.out.println(&quot;2nd thread will find sum of 51-75.&quot;);\n        System.out.println(&quot;3rd thread will find sum of 76-100.&quot;);\n        SingleTasking thread1=new SingleTasking();    \n        SingleTasking thread2=new SingleTasking();    \n        SingleTasking thread3=new SingleTasking();    \n        //thread1.setPriority(9);\n        //thread2.setPriority(5);\n        //thread3.setPriority(1);\n        thread1.start();\n        //thread1.stop();\n        thread2.start();\n        //thread2.stop();\n        thread3.start();\n        //System.out.println(&quot;Sum of 1st 100 integers:&quot;+sum);\n        //You can't print sum here as no priority is set to threads \n        //and therefore it can print any value of static variable sum\n        //like 0,sum1to50, sum1to75, sum 76to100 depending on \n        //default main thread execution order.\n        //Below are the statements to calculate sum\n        //long endTime = System.currentTimeMillis();\n        //System.out.println(&quot;It took &quot; + (endTime - startTime) + &quot; milliseconds&quot;);\n    }\n}\n</code></pre>\n<p>although the output is what I needed most of the times, but sometimes it differs too.</p>\n<p>I tried many things(commented in the code) like giving priority to threads, sleeping threads, stopping them but nothing works.</p>\n<p>Can you explain me why it not working properly?\nIt would be helpful if you  give me a better solution.\nI do not want to threads run in a particular order but what I want is a single thread will perform a single sub-task(i.e. call any of the sum1to50(), sum51to75(),sum76to100() methods).</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":2228996,"reputation":15997,"user_id":1967100,"accept_rate":78,"display_name":"cahen"},"score":1,"creation_date":1488205286,"post_id":42488035,"comment_id":72115668,"body_markdown":"try right-clicking the pom.xml -&gt; Maven -&gt; Reimport. Did it help?","body":"try right-clicking the pom.xml -&gt; Maven -&gt; Reimport. Did it help?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1488205534,"post_id":42488035,"comment_id":72115855,"body_markdown":"What Maven version do you use for importing? See if [this answer](http://stackoverflow.com/a/42427510/104891) helps to resolve the problem.","body":"What Maven version do you use for importing? See if <a href=\"http://stackoverflow.com/a/42427510/104891\">this answer</a> helps to resolve the problem."},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1488205746,"post_id":42488035,"comment_id":72116041,"body_markdown":"Do you have any unchecked profiles?","body":"Do you have any unchecked profiles?"},{"owner":{"account_id":4181786,"reputation":617,"user_id":3426603,"accept_rate":38,"display_name":"user3426603"},"score":0,"creation_date":1488206294,"post_id":42488035,"comment_id":72116425,"body_markdown":"I use Maven (3.3.9) \nI tried pom.xml -&gt; Maven -&gt; Reimport, but it does not help!","body":"I use Maven (3.3.9)  I tried pom.xml -&gt; Maven -&gt; Reimport, but it does not help!"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1488207510,"post_id":42488035,"comment_id":72117248,"body_markdown":"Which &quot;User settings file:&quot; is being used in IntelliJ - same one as per command line (`M2_HOME`) ??","body":"Which &quot;User settings file:&quot; is being used in IntelliJ - same one as per command line (<code>M2_HOME</code>) ??"},{"owner":{"account_id":6498978,"reputation":720,"user_id":5030518,"display_name":"Kevin Caravaggio"},"score":0,"creation_date":1495247692,"post_id":42488035,"comment_id":75186215,"body_markdown":"Hello, I have the same problem with an enterprise application. I will fix it soon and share my solution here.","body":"Hello, I have the same problem with an enterprise application. I will fix it soon and share my solution here."},{"owner":{"account_id":2821471,"reputation":378,"user_id":2624779,"display_name":"Sumit Kushwaha"},"score":1,"creation_date":1497248603,"post_id":42488035,"comment_id":75978764,"body_markdown":"After reimporting I just restarted my client and found that this has been resolved. I made sure that it is not happening due to some conflicts by conflicting dependencies by generating dependency tree using &quot;mvn dependency:tree -Dverbos&quot; before though.","body":"After reimporting I just restarted my client and found that this has been resolved. I made sure that it is not happening due to some conflicts by conflicting dependencies by generating dependency tree using &quot;mvn dependency:tree -Dverbos&quot; before though."},{"owner":{"account_id":3149743,"reputation":665,"user_id":2663412,"accept_rate":56,"display_name":"elgolondrino"},"score":0,"creation_date":1506020719,"post_id":42488035,"comment_id":79663100,"body_markdown":"Can you show your `pom.xml`?","body":"Can you show your <code>pom.xml</code>?"},{"owner":{"account_id":3149743,"reputation":665,"user_id":2663412,"accept_rate":56,"display_name":"elgolondrino"},"score":0,"creation_date":1506020750,"post_id":42488035,"comment_id":79663114,"body_markdown":"Perhaps it&#39;s to do with `Dependency Management`?","body":"Perhaps it&#39;s to do with <code>Dependency Management</code>?"},{"owner":{"account_id":356977,"reputation":1003,"user_id":696839,"accept_rate":71,"display_name":"mwalter"},"score":2,"creation_date":1508320902,"post_id":42488035,"comment_id":80562071,"body_markdown":"After restarting IntelliJ the issue was gone. I&#39;m using IntelliJ 2017.2.5.","body":"After restarting IntelliJ the issue was gone. I&#39;m using IntelliJ 2017.2.5."}],"answers":[{"tags":[],"owner":{"account_id":3169753,"reputation":764,"user_id":2679033,"display_name":"Rajitha Bhanuka"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1615963310,"creation_date":1564141130,"answer_id":57219313,"question_id":42488035,"body_markdown":"Re imported and restart(Invalidate Caches / Restart) the IntelliJ. that was working\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jswru.png","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>Re imported and restart(Invalidate Caches / Restart) the IntelliJ. that was working</p>\n<p><a href=\"https://i.stack.imgur.com/jswru.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jswru.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":1459975,"reputation":522,"user_id":2436817,"accept_rate":60,"display_name":"Hans Deragon"},"score":1,"creation_date":1584628036,"post_id":59179420,"comment_id":107499445,"body_markdown":"Unfortunately, that trick did not work with me.  IntelliJ IDEA 2019.3.3 (Ultimate Edition).","body":"Unfortunately, that trick did not work with me.  IntelliJ IDEA 2019.3.3 (Ultimate Edition)."}],"tags":[],"owner":{"account_id":109465,"reputation":7286,"user_id":290036,"accept_rate":89,"display_name":"Horatiu Jeflea"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575473325,"creation_date":1575473325,"answer_id":59179420,"question_id":42488035,"body_markdown":"Had the same issue.\r\n\r\nInstead of \r\n   \r\n    File &gt; Open\r\n\r\n used \r\n\r\n    File &gt; New &gt; Import from Existing Sources\r\n\r\n and it worked","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>Had the same issue.</p>\n\n<p>Instead of </p>\n\n<pre><code>File &gt; Open\n</code></pre>\n\n<p>used </p>\n\n<pre><code>File &gt; New &gt; Import from Existing Sources\n</code></pre>\n\n<p>and it worked</p>\n"},{"tags":[],"owner":{"account_id":16235390,"reputation":11,"user_id":11722978,"display_name":"sarathezil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588063438,"creation_date":1588063438,"answer_id":61476093,"question_id":42488035,"body_markdown":"You can do File-&gt; Invalidate Caches/Restart... The errors will be gone after IntelliJ restarts.","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>You can do File-> Invalidate Caches/Restart... The errors will be gone after IntelliJ restarts.</p>\n"},{"comments":[{"owner":{"account_id":6766736,"reputation":2390,"user_id":5211514,"accept_rate":71,"display_name":"Oscar Gallardo"},"score":1,"creation_date":1593597966,"post_id":62673996,"comment_id":110834815,"body_markdown":"could you explain why doing that It was resolved? otherwise, I think that this is more a comment than a solution","body":"could you explain why doing that It was resolved? otherwise, I think that this is more a comment than a solution"}],"tags":[],"owner":{"account_id":17058145,"reputation":31,"user_id":12342189,"display_name":"Seadrill"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593596504,"creation_date":1593596504,"answer_id":62673996,"question_id":42488035,"body_markdown":"Just rebooting IntelliJ did the trick for me. Simple but effective.","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>Just rebooting IntelliJ did the trick for me. Simple but effective.</p>\n"},{"tags":[],"owner":{"account_id":6778544,"reputation":1,"user_id":5219658,"display_name":"cajo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607101818,"creation_date":1607101818,"answer_id":65147756,"question_id":42488035,"body_markdown":"I had the same issue with an old project of mine which was developed with Eclipse. I had to go to switch to an older version of maven and not the build-in version from intelliJ. *settings &gt; maven &gt; change maven home directory*","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>I had the same issue with an old project of mine which was developed with Eclipse. I had to go to switch to an older version of maven and not the build-in version from intelliJ. <em>settings &gt; maven &gt; change maven home directory</em></p>\n"},{"tags":[],"owner":{"account_id":11594140,"reputation":41,"user_id":8493371,"display_name":"Sunil N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670849329,"creation_date":1670849329,"answer_id":74771358,"question_id":42488035,"body_markdown":"Check if the jar is downloaded in m2 folder , if it is downloaded and its not showing in intellij then add the same maven dependency in module where you are trying to use the classes in the jar.","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>Check if the jar is downloaded in m2 folder , if it is downloaded and its not showing in intellij then add the same maven dependency in module where you are trying to use the classes in the jar.</p>\n"}],"owner":{"account_id":4181786,"reputation":617,"user_id":3426603,"accept_rate":38,"display_name":"user3426603"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18398,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"answer_count":6,"score":13,"last_activity_date":1670849329,"creation_date":1488205209,"question_id":42488035,"body_markdown":"I loaded a Maven project in IntelliJ IDEA, when I run &#39;mvn clean package&#39; in the terminal, it works fine, but IntelliJ IDEA can not debug or build it and in the UI, maven project tab, shows the following (red line on dependencies):\r\n\r\nomitted for conflict with STH\r\n\r\n[![enter image description here][1]][1]\r\n  [1]: https://i.stack.imgur.com/aHys6.png\r\n\r\nHow should I fix it?","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>I loaded a Maven project in IntelliJ IDEA, when I run 'mvn clean package' in the terminal, it works fine, but IntelliJ IDEA can not debug or build it and in the UI, maven project tab, shows the following (red line on dependencies):</p>\n\n<p>omitted for conflict with STH</p>\n\n<p><a href=\"https://i.stack.imgur.com/aHys6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aHys6.png\" alt=\"enter image description here\"></a>\nHow should I fix it?</p>\n"},{"tags":["java","algorithm","find","element","binary-search"],"comments":[{"owner":{"account_id":27039690,"reputation":61,"user_id":20594686,"display_name":"Novaordo"},"score":1,"creation_date":1670080800,"post_id":74667974,"comment_id":131792172,"body_markdown":"Are we to assume that the list is in some sort of order (biggest to smallest or smallest to biggest)? The reason why I am asking is because if the list is not in any order, then the quickest way to find an element would be to simply search for it from the start to the end of the array.","body":"Are we to assume that the list is in some sort of order (biggest to smallest or smallest to biggest)? The reason why I am asking is because if the list is not in any order, then the quickest way to find an element would be to simply search for it from the start to the end of the array."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1670081238,"post_id":74667974,"comment_id":131792277,"body_markdown":"`Arrays.asList(ints).contains(k)` should do the trick, but I suppose you&#39;re not allowed to use built-in functions like that?","body":"<code>Arrays.asList(ints).contains(k)</code> should do the trick, but I suppose you&#39;re not allowed to use built-in functions like that?"},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670090529,"post_id":74667974,"comment_id":131794305,"body_markdown":"- The items are integers arranged in ascending order \n- The array can contain up to 1 million items                                - The array is never null                                         \n- My method should do this : \nExemple : \nint[] ints = {-9, 14, 37, 102};\nexists(ints, 102) //returns true\nexists(ints, 36) //returns false","body":"- The items are integers arranged in ascending order  - The array can contain up to 1 million items                                - The array is never null                                          - My method should do this :  Exemple :  int[] ints = {-9, 14, 37, 102}; exists(ints, 102) //returns true exists(ints, 36) //returns false"},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670092830,"post_id":74667974,"comment_id":131794808,"body_markdown":"Thank you for your answers, do you mean something like this ?  : static boolean exists(int[] ints, int k){return Arrays.asList(ints).contains(k); }","body":"Thank you for your answers, do you mean something like this ?  : static boolean exists(int[] ints, int k){return Arrays.asList(ints).contains(k); }"}],"answers":[{"comments":[{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670091493,"post_id":74668042,"comment_id":131794515,"body_markdown":"- The items are integers arranged in ascending order - The array can contain up to 1 million items - The array is never null - My method should do this : Exemple : int[] ints = {-9, 14, 37, 102}; exists(ints, 102) //returns true; exists(ints, 36) //returns false","body":"- The items are integers arranged in ascending order - The array can contain up to 1 million items - The array is never null - My method should do this : Exemple : int[] ints = {-9, 14, 37, 102}; exists(ints, 102) //returns true; exists(ints, 36) //returns false"},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670093800,"post_id":74668042,"comment_id":131795018,"body_markdown":"Yes I&#39;m trying to implement Binary search in my second solution. I&#39;ve tried to used exists() method but k is an int and it returns an error : int cannot be dereferenced","body":"Yes I&#39;m trying to implement Binary search in my second solution. I&#39;ve tried to used exists() method but k is an int and it returns an error : int cannot be dereferenced"},{"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"score":0,"creation_date":1670151814,"post_id":74668042,"comment_id":131802919,"body_markdown":"@UnknownkindPanda added BS implementation, you can have a look.","body":"@UnknownkindPanda added BS implementation, you can have a look."},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670163056,"post_id":74668042,"comment_id":131806215,"body_markdown":"Hi, I&#39;ve tried the solution of @albina : \nIt was only working when I remove the &#39;-1&#39;\nfor example for : int[] ints = {-9, 14, 37, 102};\nSystem.out.println(exists(ints, 102)); //true\nSystem.out.println(exists(ints, 36)); //false","body":"Hi, I&#39;ve tried the solution of @albina :  It was only working when I remove the &#39;-1&#39; for example for : int[] ints = {-9, 14, 37, 102}; System.out.println(exists(ints, 102)); //true System.out.println(exists(ints, 36)); //false"},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670163072,"post_id":74668042,"comment_id":131806219,"body_markdown":"But when I say &quot;working&quot; I mean that when I test the code the solution has a good behavior with true and false, but when I submit it on the codingame the machine tells me that is wrong.","body":"But when I say &quot;working&quot; I mean that when I test the code the solution has a good behavior with true and false, but when I submit it on the codingame the machine tells me that is wrong."},{"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"score":0,"creation_date":1670163482,"post_id":74668042,"comment_id":131806299,"body_markdown":"@UnknownkindPanda please check now, I fixed a bug `while (first &lt;= last)`.","body":"@UnknownkindPanda please check now, I fixed a bug <code>while (first &lt;= last)</code>."},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670167746,"post_id":74668042,"comment_id":131807256,"body_markdown":"I&#39;ve tried your solution but it tells me now that I have to write return statement, I tried to put an image of the whole page of the exercise but I can&#39;t for the moment because I&#39;m a beginner on Stack Overflow. I&#39;ve also tried to create a boolean variable res, initialized to false and to put a return statement but it tells me that my solution is not optimized enough to handle some cases.","body":"I&#39;ve tried your solution but it tells me now that I have to write return statement, I tried to put an image of the whole page of the exercise but I can&#39;t for the moment because I&#39;m a beginner on Stack Overflow. I&#39;ve also tried to create a boolean variable res, initialized to false and to put a return statement but it tells me that my solution is not optimized enough to handle some cases."}],"tags":[],"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670167882,"creation_date":1670081184,"answer_id":74668042,"question_id":74667974,"body_markdown":"I suppose you are trying to implement **Binary search** in the second solution.\r\n\r\nIf so, please check [this answer][1]. Your input array must be sorted in non-decreasing order, because Binary Search works only with sorted input data. For example, you can simply type `Arrays.sort(arr);` and then pass your array into `exists()` method. But the overall time&amp;space complexities will be `O(n log n)`.\r\n\r\n**Fixed some bugs** in your implementation:\r\n\r\n    public static boolean exists(int[] ints, int k) {\r\n        int first = 0;\r\n        int last = ints.length - 1;\r\n        while (first &lt;= last) {\r\n            int mid = first + (last - first) / 2; // to avoid integer overflow in extremely large arrays\r\n            if (ints[mid] &lt; k) {\r\n                first = mid + 1;\r\n            } else if (ints[mid] == k) {\r\n                return true;\r\n            } else {\r\n                last = mid - 1;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/249404/20666497","title":"Find an element in a list/array (a big list)","body":"<p>I suppose you are trying to implement <strong>Binary search</strong> in the second solution.</p>\n<p>If so, please check <a href=\"https://stackoverflow.com/a/249404/20666497\">this answer</a>. Your input array must be sorted in non-decreasing order, because Binary Search works only with sorted input data. For example, you can simply type <code>Arrays.sort(arr);</code> and then pass your array into <code>exists()</code> method. But the overall time&amp;space complexities will be <code>O(n log n)</code>.</p>\n<p><strong>Fixed some bugs</strong> in your implementation:</p>\n<pre><code>public static boolean exists(int[] ints, int k) {\n    int first = 0;\n    int last = ints.length - 1;\n    while (first &lt;= last) {\n        int mid = first + (last - first) / 2; // to avoid integer overflow in extremely large arrays\n        if (ints[mid] &lt; k) {\n            first = mid + 1;\n        } else if (ints[mid] == k) {\n            return true;\n        } else {\n            last = mid - 1;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670849185,"creation_date":1670849185,"answer_id":74771327,"question_id":74667974,"body_markdown":"Finally I&#39;ve found the solution to my problem !!!!!\r\n\r\nHere it is :\r\n\r\n------------------ \r\n\r\n    import java.util.Arrays;\r\n    \r\n    class A{\r\n        static boolean exists(int[] ints, int k){\r\n             boolean res = false;\r\n             int index = Arrays.binarySearch(ints, k);\r\n             if (index&lt;0){\r\n                 res = false;\r\n             }else{\r\n                 res = true;\r\n             }\r\n             return res;\r\n          }\r\n    }","title":"Find an element in a list/array (a big list)","body":"<p>Finally I've found the solution to my problem !!!!!</p>\n<p>Here it is :</p>\n<hr />\n<pre><code>import java.util.Arrays;\n\nclass A{\n    static boolean exists(int[] ints, int k){\n         boolean res = false;\n         int index = Arrays.binarySearch(ints, k);\n         if (index&lt;0){\n             res = false;\n         }else{\n             res = true;\n         }\n         return res;\n      }\n}\n</code></pre>\n"}],"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74771327,"answer_count":2,"score":-1,"last_activity_date":1670849185,"creation_date":1670080527,"question_id":74667974,"body_markdown":"I&#39;m actually doing an easy CodinGame --&gt; I have to find if an element exists in a list.\r\n\r\nI&#39;ve tested a first solution, it was working but it wasn&#39;t really optimized (according to the machine).\r\n\r\nSo I&#39;ve tried another solution but :\r\nWhen I test my code for this 2nd solution, it returns the right answers but when I&#39;m submitting my code, it tells me that my solution is completely wrong (it doesn&#39;t work if the list is empty, and also if the list is huge, ...).\r\n\r\n\r\nPlease can you help me ? \r\n\r\n\r\n\r\n-------\r\nHere is my first naive solution : \r\n-------\r\n\r\n```\r\npublic static boolean check(int[] ints, int k) {\r\n        boolean res = false;\r\n    \r\n        for(int i : ints){\r\n            if(i == k){\r\n                res = true;\r\n                break;\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\n```\r\n\r\n------\r\nHere is the code of my 2nd solution that is supposed to be optimized: \r\n-----\r\n```\r\nstatic boolean exists(int [] ints, int k){\r\n        boolean res = false;\r\n        int first = 0;\r\n        int last = ints.length;\r\n        int mid = (first + last)/2;\r\n        while(first &lt;= last){\r\n            if( ints[mid] &lt; k){\r\n                first = mid +1;\r\n            }else if (ints[mid] == k){\r\n                res = true; \r\n                break;\r\n            }else{\r\n                last = mid -1;\r\n            }\r\n         mid = (first + last)/2;\r\n         }\r\n         if(first &gt; last){\r\n            res = false;\r\n         }\r\n         return res;\r\n     }\r\n```\r\n","title":"Find an element in a list/array (a big list)","body":"<p>I'm actually doing an easy CodinGame --&gt; I have to find if an element exists in a list.</p>\n<p>I've tested a first solution, it was working but it wasn't really optimized (according to the machine).</p>\n<p>So I've tried another solution but :\nWhen I test my code for this 2nd solution, it returns the right answers but when I'm submitting my code, it tells me that my solution is completely wrong (it doesn't work if the list is empty, and also if the list is huge, ...).</p>\n<p>Please can you help me ?</p>\n<hr />\n<h2>Here is my first naive solution :</h2>\n<pre><code>public static boolean check(int[] ints, int k) {\n        boolean res = false;\n    \n        for(int i : ints){\n            if(i == k){\n                res = true;\n                break;\n            }\n        }\n        return res;\n    }\n\n</code></pre>\n<hr />\n<h2>Here is the code of my 2nd solution that is supposed to be optimized:</h2>\n<pre><code>static boolean exists(int [] ints, int k){\n        boolean res = false;\n        int first = 0;\n        int last = ints.length;\n        int mid = (first + last)/2;\n        while(first &lt;= last){\n            if( ints[mid] &lt; k){\n                first = mid +1;\n            }else if (ints[mid] == k){\n                res = true; \n                break;\n            }else{\n                last = mid -1;\n            }\n         mid = (first + last)/2;\n         }\n         if(first &gt; last){\n            res = false;\n         }\n         return res;\n     }\n</code></pre>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1409380070,"post_id":25579459,"comment_id":39951678,"body_markdown":"It looks like you have launched tomcat from a non-privileged account and it cannot write to the log directory.  This is not a programming problem ... and therefore it is off topic.","body":"It looks like you have launched tomcat from a non-privileged account and it cannot write to the log directory.  This is not a programming problem ... and therefore it is off topic."},{"owner":{"account_id":2329344,"reputation":309,"user_id":2043129,"display_name":"Anand Maheshwari"},"score":0,"creation_date":1409382689,"post_id":25579459,"comment_id":39952140,"body_markdown":"But i installed in my Personal PC with Install as Administrative option. Still access is denied. Any way to solve???","body":"But i installed in my Personal PC with Install as Administrative option. Still access is denied. Any way to solve???"},{"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Mekauskas"},"score":1,"creation_date":1409384340,"post_id":25579459,"comment_id":39952490,"body_markdown":"You have probably once launched Tomcat from the privileged account and it created a log file that its default, non privileged account cannot longer modify. Server Fault community may tell more.","body":"You have probably once launched Tomcat from the privileged account and it created a log file that its default, non privileged account cannot longer modify. Server Fault community may tell more."}],"answers":[{"tags":[],"owner":{"account_id":6796693,"reputation":221,"user_id":5231669,"display_name":"sidcreative"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1439703297,"creation_date":1439703297,"answer_id":32032166,"question_id":25579459,"body_markdown":"It seems that your current user is not having rights on the tomcat folder.\r\n\r\nI also faced the same problem and solved it by giving rights to the logged in user on the tomcat folder.\r\n\r\nFor your case :\r\n\r\nGo to &gt;&gt;&quot;C:\\Program Files\\Apache Software Foundation\\Tomcat      7.0&quot; folder\r\nRight Click&gt;&gt;Properties&gt;&gt;security Tab\r\n\r\nprovide required rights to currently logged in user.","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p>It seems that your current user is not having rights on the tomcat folder.</p>\n\n<p>I also faced the same problem and solved it by giving rights to the logged in user on the tomcat folder.</p>\n\n<p>For your case :</p>\n\n<p>Go to >>\"C:\\Program Files\\Apache Software Foundation\\Tomcat      7.0\" folder\nRight Click>>Properties>>security Tab</p>\n\n<p>provide required rights to currently logged in user.</p>\n"},{"tags":[],"owner":{"account_id":8938406,"reputation":415,"user_id":6668435,"accept_rate":50,"display_name":"Vikas Kalapur"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1563116693,"creation_date":1499189981,"answer_id":44911600,"question_id":25579459,"body_markdown":"![1]][1] ```Open Tomcat C:\\Program Files\\Apache Software Foundation &lt;br&gt;(Right Click on Tomcat 8.5 ( as per Your Version)&lt;br&gt;\r\nProperties &lt;br&gt;\r\nSelect Security Tab &lt;br&gt;\r\nEdit &lt;br&gt; Select Your System &lt;br&gt; Check or Allow all the Boxes &lt;br&gt;\r\nClick on Apply &lt;br&gt;\r\nRestart Program ```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/khBua.jpg","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p><img src=\"https://i.stack.imgur.com/khBua.jpg\" alt=\"1]\"> <code>Open Tomcat C:\\Program Files\\Apache Software Foundation &lt;br&gt;(Right Click on Tomcat 8.5 ( as per Your Version)&lt;br&gt;\nProperties &lt;br&gt;\nSelect Security Tab &lt;br&gt;\nEdit &lt;br&gt; Select Your System &lt;br&gt; Check or Allow all the Boxes &lt;br&gt;\nClick on Apply &lt;br&gt;\nRestart Program</code></p>\n"},{"tags":[],"owner":{"account_id":4457805,"reputation":158,"user_id":3627515,"display_name":"leonidos79"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553078711,"creation_date":1553078711,"answer_id":55258890,"question_id":25579459,"body_markdown":"Alternatively, you may decide to instruct embedded Tomcat instance to keep its log files in a different location, and outside Windows&#39;s native &quot;Program Files&quot; directory. Especially when it comes to latest Windows versions, it is not a good practice to write or keep any file with variable content (i.e. the file that is created or written to at runtime) in program files directory.\r\n\r\nSearch for TOMCAT_HOME/conf/server.xml for &quot;AccessLogValve&quot;, and specify alternative directory for log files as demonstrated below:\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot;\r\n           directory=&quot;c:\\work\\tomcat\\logs&quot;\r\n           prefix=&quot;localhost_access_log.&quot; suffix=&quot;.log&quot; pattern=&quot;common&quot;/&gt;\r\n\r\nThe key attribute here is &quot;directory&quot;.","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p>Alternatively, you may decide to instruct embedded Tomcat instance to keep its log files in a different location, and outside Windows's native \"Program Files\" directory. Especially when it comes to latest Windows versions, it is not a good practice to write or keep any file with variable content (i.e. the file that is created or written to at runtime) in program files directory.</p>\n\n<p>Search for TOMCAT_HOME/conf/server.xml for \"AccessLogValve\", and specify alternative directory for log files as demonstrated below:</p>\n\n<pre><code>&lt;Valve className=\"org.apache.catalina.valves.AccessLogValve\"\n       directory=\"c:\\work\\tomcat\\logs\"\n       prefix=\"localhost_access_log.\" suffix=\".log\" pattern=\"common\"/&gt;\n</code></pre>\n\n<p>The key attribute here is \"directory\".</p>\n"},{"tags":[],"owner":{"account_id":27228542,"reputation":1,"user_id":20756641,"display_name":"Jayesh Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670848215,"creation_date":1670848215,"answer_id":74771127,"question_id":25579459,"body_markdown":"If you are facing this issue while starting tomcat from with-in IDE like Eclipse then you need to check if security is enabled under server detail - \r\n\r\nRefer below screenshot\r\n\r\n[Eclipse IDE Tomcat Server Enable Security][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7I5lH.png","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p>If you are facing this issue while starting tomcat from with-in IDE like Eclipse then you need to check if security is enabled under server detail -</p>\n<p>Refer below screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/7I5lH.png\" rel=\"nofollow noreferrer\">Eclipse IDE Tomcat Server Enable Security</a></p>\n"}],"owner":{"account_id":2329344,"reputation":309,"user_id":2043129,"display_name":"Anand Maheshwari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57228,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"closed_date":1670851685,"answer_count":4,"score":18,"last_activity_date":1670848488,"creation_date":1409377675,"question_id":25579459,"body_markdown":"I installed Tomcat on Windows 7 OS. I just installed Tomcat and made it available in eclipse. When i run any simple application on server it will say 404: page not found and in console it will print the error message like this.\r\n\r\n    SEVERE: Failed to open access log file [C:\\Program Files\\Apache Software           Foundation\\Tomcat 7.0\\logs\\localhost_access_log.2014-08-30.txt]\r\n    java.io.FileNotFoundException: C:\\Program Files\\Apache Software Foundation\\Tomcat      7.0\\logs\\localhost_access_log.2014-08-30.txt (Access is denied)\r\n    at java.io.FileOutputStream.open(Native Method)\r\n    at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\r\n\tat org.apache.catalina.valves.AccessLogValve.open(AccessLogValve.java:1117)\r\n\tat org.apache.catalina.valves.AccessLogValve.startInternal(AccessLogValve.java:1224)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:185)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1137)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\nI cannot understand what the things is happen is this??? Please help me.","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p>I installed Tomcat on Windows 7 OS. I just installed Tomcat and made it available in eclipse. When i run any simple application on server it will say 404: page not found and in console it will print the error message like this.</p>\n<pre><code>SEVERE: Failed to open access log file [C:\\Program Files\\Apache Software           Foundation\\Tomcat 7.0\\logs\\localhost_access_log.2014-08-30.txt]\njava.io.FileNotFoundException: C:\\Program Files\\Apache Software Foundation\\Tomcat      7.0\\logs\\localhost_access_log.2014-08-30.txt (Access is denied)\nat java.io.FileOutputStream.open(Native Method)\nat java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\nat org.apache.catalina.valves.AccessLogValve.open(AccessLogValve.java:1117)\nat org.apache.catalina.valves.AccessLogValve.startInternal(AccessLogValve.java:1224)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:185)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1137)\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\nat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\nat java.util.concurrent.FutureTask.run(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>I cannot understand what the things is happen is this??? Please help me.</p>\n"},{"tags":["java","spring-boot","kotlin","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670848475,"creation_date":1670848161,"answer_id":74771117,"question_id":74769567,"body_markdown":"To achieve the same as `@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)` in a (isolated configuration) test, we can:\r\n- declare an &quot;internal&quot; `@Configuration` class (which will skip/replace spring boot application loading... to &quot;add/modify&quot; (loaded) spring boot application, use `@TestConfiguration` (internal class)).\r\n- use `@ComponentScan` on that, which:\r\n   - takes a `nameGenerator:Class&lt;...&gt;` parameter (, which exactly is &quot;aliased&quot; by `@SpringBootApplication`).\r\n   - if omit, it falls back to &quot;current package&quot;, but if we use `basePackageClasses`, we can cherry pick our components. (But please *note* it is (as in `@SpringBootApplication`) package- not class-wise!)\r\n\r\n\r\nA sample test:\r\n```lang-kotlin\r\npackage com\r\n\r\nimport org.junit.jupiter.api.Assertions\r\nimport org.junit.jupiter.api.Test\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.boot.test.context.SpringBootTest\r\nimport org.springframework.context.annotation.ComponentScan\r\nimport org.springframework.context.annotation.Configuration\r\nimport org.springframework.context.annotation.FullyQualifiedAnnotationBeanNameGenerator\r\n\r\n@SpringBootTest\r\nclass DemoApplicationTests {\r\n    @Configuration // only this will be used for this test class!\r\n    @ComponentScan(\r\n      nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class,\r\n      basePackageClasses = [com.foo.ConflictName::class, com.bar.ConflictName::class]\r\n    )\r\n    // empty/customize:\r\n    internal class IsolatedTestConfig \r\n\r\n    @Autowired(required = false)\r\n    var springBootApp: org.springframework.boot.SpringApplication? = null\r\n\r\n    @Autowired(required = false)\r\n    var compFoo: com.foo.ConflictName? = null\r\n\r\n    @Autowired(required = false)\r\n    var compBar: com.bar.ConflictName? = null\r\n\r\n    @Test\r\n    fun testNamingAndIsolation() {\r\n        Assertions.assertNull(springBootApp) // !\r\n        Assertions.assertNotNull(compFoo)\r\n        Assertions.assertNotNull(compBar)\r\n    }\r\n}\r\n```","title":"how to specify nameGenerator in SpringBootTest?","body":"<p>To achieve the same as <code>@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)</code> in a (isolated configuration) test, we can:</p>\n<ul>\n<li>declare an &quot;internal&quot; <code>@Configuration</code> class (which will skip/replace spring boot application loading... to &quot;add/modify&quot; (loaded) spring boot application, use <code>@TestConfiguration</code> (internal class)).</li>\n<li>use <code>@ComponentScan</code> on that, which:\n<ul>\n<li>takes a <code>nameGenerator:Class&lt;...&gt;</code> parameter (, which exactly is &quot;aliased&quot; by <code>@SpringBootApplication</code>).</li>\n<li>if omit, it falls back to &quot;current package&quot;, but if we use <code>basePackageClasses</code>, we can cherry pick our components. (But please <em>note</em> it is (as in <code>@SpringBootApplication</code>) package- not class-wise!)</li>\n</ul>\n</li>\n</ul>\n<p>A sample test:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com\n\nimport org.junit.jupiter.api.Assertions\nimport org.junit.jupiter.api.Test\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.context.annotation.ComponentScan\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.context.annotation.FullyQualifiedAnnotationBeanNameGenerator\n\n@SpringBootTest\nclass DemoApplicationTests {\n    @Configuration // only this will be used for this test class!\n    @ComponentScan(\n      nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class,\n      basePackageClasses = [com.foo.ConflictName::class, com.bar.ConflictName::class]\n    )\n    // empty/customize:\n    internal class IsolatedTestConfig \n\n    @Autowired(required = false)\n    var springBootApp: org.springframework.boot.SpringApplication? = null\n\n    @Autowired(required = false)\n    var compFoo: com.foo.ConflictName? = null\n\n    @Autowired(required = false)\n    var compBar: com.bar.ConflictName? = null\n\n    @Test\n    fun testNamingAndIsolation() {\n        Assertions.assertNull(springBootApp) // !\n        Assertions.assertNotNull(compFoo)\n        Assertions.assertNotNull(compBar)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74771117,"answer_count":1,"score":2,"last_activity_date":1670848475,"creation_date":1670840196,"question_id":74769567,"body_markdown":"I am trying to run `@SpringBootTest` with a subset of classes. There are 2 beans with conflicting names among these classes. \r\n\r\n```\r\n@SpringBootTest(\r\n    classes = [BarService::class, ConflictName::class, com.foo.ConflictName::class, FooService::class]\r\n)\r\nclass DemoApplicationTests\r\n```\r\nThe test fails with `BeanDefinitionOverrideException`\r\n```\r\nCaused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: \r\nInvalid bean definition with name &#39;conflictName&#39; defined in null:\r\nCannot register bean definition [Generic bean: class [com.foo.ConflictName]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null] \r\nfor bean &#39;conflictName&#39; since there is already [Generic bean: class [com.bar.ConflictName]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null] bound.\r\n```\r\nHowever, if the test is running for the whole application, without specifying the concrete classes \r\n```\r\n@SpringBootTest\r\nclass DemoApplicationTests\r\n```\r\nthe execution is successful. \r\n\r\nThe question is how to specify `nameGenerator` in `SpringBootTest` similar to `@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)`?\r\n\r\nthe complete code example: \r\n```\r\npackage com.bar\r\n\r\nimport org.springframework.stereotype.Service\r\n\r\n@Service\r\nclass BarService(private val conflictName: ConflictName)\r\n========================================================\r\npackage com.bar\r\n\r\nimport org.springframework.stereotype.Component\r\n\r\n@Component\r\nclass ConflictName\r\n========================================================\r\npackage com.foo\r\n\r\nimport org.springframework.stereotype.Component\r\n\r\n@Component\r\nclass ConflictName\r\n========================================================\r\npackage com.foo\r\n\r\nimport org.springframework.stereotype.Service\r\n\r\n@Service\r\nclass FooService(private val conflictName: ConflictName)\r\n========================================================\r\npackage com\r\n\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication\r\nimport org.springframework.boot.runApplication\r\nimport org.springframework.context.annotation.FullyQualifiedAnnotationBeanNameGenerator\r\n\r\n@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)\r\nclass DemoApplication\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    runApplication&lt;DemoApplication&gt;(*args)\r\n}\r\n```","title":"how to specify nameGenerator in SpringBootTest?","body":"<p>I am trying to run <code>@SpringBootTest</code> with a subset of classes. There are 2 beans with conflicting names among these classes.</p>\n<pre><code>@SpringBootTest(\n    classes = [BarService::class, ConflictName::class, com.foo.ConflictName::class, FooService::class]\n)\nclass DemoApplicationTests\n</code></pre>\n<p>The test fails with <code>BeanDefinitionOverrideException</code></p>\n<pre><code>Caused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: \nInvalid bean definition with name 'conflictName' defined in null:\nCannot register bean definition [Generic bean: class [com.foo.ConflictName]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null] \nfor bean 'conflictName' since there is already [Generic bean: class [com.bar.ConflictName]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null] bound.\n</code></pre>\n<p>However, if the test is running for the whole application, without specifying the concrete classes</p>\n<pre><code>@SpringBootTest\nclass DemoApplicationTests\n</code></pre>\n<p>the execution is successful.</p>\n<p>The question is how to specify <code>nameGenerator</code> in <code>SpringBootTest</code> similar to <code>@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)</code>?</p>\n<p>the complete code example:</p>\n<pre><code>package com.bar\n\nimport org.springframework.stereotype.Service\n\n@Service\nclass BarService(private val conflictName: ConflictName)\n========================================================\npackage com.bar\n\nimport org.springframework.stereotype.Component\n\n@Component\nclass ConflictName\n========================================================\npackage com.foo\n\nimport org.springframework.stereotype.Component\n\n@Component\nclass ConflictName\n========================================================\npackage com.foo\n\nimport org.springframework.stereotype.Service\n\n@Service\nclass FooService(private val conflictName: ConflictName)\n========================================================\npackage com\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\nimport org.springframework.context.annotation.FullyQualifiedAnnotationBeanNameGenerator\n\n@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)\nclass DemoApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;DemoApplication&gt;(*args)\n}\n</code></pre>\n"},{"tags":["java","recursion","java-stream","flatten"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670780921,"post_id":74761736,"comment_id":131947634,"body_markdown":"Just calling flatMap does nothing.  You need to use the Stream that flatMap returns.","body":"Just calling flatMap does nothing.  You need to use the Stream that flatMap returns."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1670833204,"post_id":74761736,"comment_id":131956169,"body_markdown":"Just remove the `throws Exception`","body":"Just remove the <code>throws Exception</code>"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670833133,"post_id":74762512,"comment_id":131956145,"body_markdown":"You can [easily flatten an array non-imperatively](https://stackoverflow.com/a/44909768/2711488) and considering the non-lazy nature of `mapMulti`, I wouldnt use a `mapMulti` approach for arbitrary nested arrays.","body":"You can <a href=\"https://stackoverflow.com/a/44909768/2711488\">easily flatten an array non-imperatively</a> and considering the non-lazy nature of <code>mapMulti</code>, I wouldnt use a <code>mapMulti</code> approach for arbitrary nested arrays."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670848626,"post_id":74762512,"comment_id":131960846,"body_markdown":"@Holger That&#39;s a fair point, I forgot about non-laziness of `mapMulti`. Updated the answer.","body":"@Holger That&#39;s a fair point, I forgot about non-laziness of <code>mapMulti</code>. Updated the answer."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670848411,"creation_date":1670775939,"answer_id":74762512,"question_id":74761736,"body_markdown":"There are two main issues:\r\n\r\n* Type `Exception` is a *checked exception*. The problem is that none of the built-in JDK functions declares to throw a *checked exception*, which imposes restriction on their implementations. Therefore, the simplest solution would be to remove throws clause, that would allow to invoke `flatten()` recursively from the stream without any complaints.\r\n\r\n* The second problem stems from the need to coerce the elements to the `Integer` type. I would advise providing `Class&lt;T&gt;` as an argument it would make the solution both clean an versatile. Or alternatively, return type can be changed to `Object[]` (*chose the option which is more suitable depending on your needs*).\r\n\r\nLet&#39;s start with a simple implementation that returns array of type `Object[]`. In order to implement flattening logic I&#39;ve used Java 16 [`mapMulti()`][mapMulti] since it&#39;s more suitable when you need to incorporate imperative logic into the stream.\r\n\r\n    public static Object[] flatten(Object[] inputArray) {\r\n        \r\n        return Arrays.stream(inputArray)\r\n            .mapMulti((element, consumer) -&gt; {\r\n                if (element instanceof Object[] arr) for (var next: flatten(arr)) consumer.accept(next);\r\n                else consumer.accept(element);\r\n            })\r\n            .toArray();\r\n    }\r\n\r\nIf we switch to generic implementation, the return type needs to be changed to a `List&lt;T&gt;` (or `Collection&lt;T&gt;`), otherwise we run into a problem of creating a generic array. Generics and array do not play well together and it highly advisable to favor Collections over arrays, hence I&#39;ll go with `List&lt;T&gt;` as a return type.\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; flatten(Object[] inputArray, Class&lt;T&gt; tClass) {\r\n        \r\n        return Arrays.stream(inputArray)\r\n            .&lt;T&gt;mapMulti((element, consumer) -&gt; {\r\n                if (element instanceof Object[] arr) for (var next: flatten(arr, tClass)) consumer.accept(next);\r\n                else consumer.accept(tClass.cast(element));\r\n            })\r\n            .toList();\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\r\n    \r\n        System.out.println(Arrays.toString(flatten(array)));\r\n    \r\n        Object[] string = { &quot;A&quot;, &quot;B&quot;, new Object[]{ &quot;C&quot;, &quot;D&quot;, new Object[]{ &quot;E&quot; }, &quot;F&quot;, &quot;G&quot; }, &quot;H&quot;, &quot;I&quot;, &quot;J&quot; };\r\n        \r\n        List&lt;String&gt; flattenedString = flatten(string, String.class);\r\n    \r\n        System.out.println(flattenedString);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n[A, B, C, D, E, F, G, H, I, J]\r\n```\r\n\r\n## Update\r\n\r\nHere&#39;s another way to solve this problem using `Stream.flatMap()`, built upon [*this answer by @Holger*][holger&#39;s answer].\r\n\r\nFor that, we can split the logic into two parts: a helper-method that performs recursive flattening and a method that generates the result of the required type.\r\n\r\nAnd, well, since it&#39;s another solution I&#39;ve decided to change the resulting type to `T[]` (in case if you really need an array as a result). There&#39;s no clean and easy way to create a generic array which should be exposed to the outside context (in this case, creating `Object[]` and casting to `T[]` would result in `ClassCastException`). To address this issue, we can employ the Reflection API to allocate the array in memory via `Array.newInstance()` and then type cast it.\r\n\r\n    public static &lt;T&gt; T[] flatten(Object[] inputArray, Class&lt;T&gt; tClass) {\r\n        \r\n        return flattenAsStream(inputArray, tClass)\r\n            .toArray(n -&gt; (T[]) Array.newInstance(tClass, n));\r\n    }\r\n    \r\n    public static &lt;T&gt; Stream&lt;T&gt; flattenAsStream(Object[] inputArray, Class&lt;T&gt; tClass) {\r\n        \r\n        return Arrays.stream(inputArray)\r\n            .flatMap(e -&gt; e instanceof Object[] arr ?\r\n                flattenAsStream(arr, tClass) : Stream.of(tClass.cast(e))\r\n            );\r\n    }\r\n\r\n\r\n\r\n   [mapMulti]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\r\n\r\n   [holger&#39;s answer]: https://stackoverflow.com/a/44909768/2711488","title":"Unhandled checked Exception while flattening an Array of Objects recursively using Streams in Java 8","body":"<p>There are two main issues:</p>\n<ul>\n<li><p>Type <code>Exception</code> is a <em>checked exception</em>. The problem is that none of the built-in JDK functions declares to throw a <em>checked exception</em>, which imposes restriction on their implementations. Therefore, the simplest solution would be to remove throws clause, that would allow to invoke <code>flatten()</code> recursively from the stream without any complaints.</p>\n</li>\n<li><p>The second problem stems from the need to coerce the elements to the <code>Integer</code> type. I would advise providing <code>Class&lt;T&gt;</code> as an argument it would make the solution both clean an versatile. Or alternatively, return type can be changed to <code>Object[]</code> (<em>chose the option which is more suitable depending on your needs</em>).</p>\n</li>\n</ul>\n<p>Let's start with a simple implementation that returns array of type <code>Object[]</code>. In order to implement flattening logic I've used Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a> since it's more suitable when you need to incorporate imperative logic into the stream.</p>\n<pre><code>public static Object[] flatten(Object[] inputArray) {\n    \n    return Arrays.stream(inputArray)\n        .mapMulti((element, consumer) -&gt; {\n            if (element instanceof Object[] arr) for (var next: flatten(arr)) consumer.accept(next);\n            else consumer.accept(element);\n        })\n        .toArray();\n}\n</code></pre>\n<p>If we switch to generic implementation, the return type needs to be changed to a <code>List&lt;T&gt;</code> (or <code>Collection&lt;T&gt;</code>), otherwise we run into a problem of creating a generic array. Generics and array do not play well together and it highly advisable to favor Collections over arrays, hence I'll go with <code>List&lt;T&gt;</code> as a return type.</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; flatten(Object[] inputArray, Class&lt;T&gt; tClass) {\n    \n    return Arrays.stream(inputArray)\n        .&lt;T&gt;mapMulti((element, consumer) -&gt; {\n            if (element instanceof Object[] arr) for (var next: flatten(arr, tClass)) consumer.accept(next);\n            else consumer.accept(tClass.cast(element));\n        })\n        .toList();\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\n\n    System.out.println(Arrays.toString(flatten(array)));\n\n    Object[] string = { &quot;A&quot;, &quot;B&quot;, new Object[]{ &quot;C&quot;, &quot;D&quot;, new Object[]{ &quot;E&quot; }, &quot;F&quot;, &quot;G&quot; }, &quot;H&quot;, &quot;I&quot;, &quot;J&quot; };\n    \n    List&lt;String&gt; flattenedString = flatten(string, String.class);\n\n    System.out.println(flattenedString);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n[A, B, C, D, E, F, G, H, I, J]\n</code></pre>\n<h2>Update</h2>\n<p>Here's another way to solve this problem using <code>Stream.flatMap()</code>, built upon <a href=\"https://stackoverflow.com/a/44909768/2711488\"><em>this answer by @Holger</em></a>.</p>\n<p>For that, we can split the logic into two parts: a helper-method that performs recursive flattening and a method that generates the result of the required type.</p>\n<p>And, well, since it's another solution I've decided to change the resulting type to <code>T[]</code> (in case if you really need an array as a result). There's no clean and easy way to create a generic array which should be exposed to the outside context (in this case, creating <code>Object[]</code> and casting to <code>T[]</code> would result in <code>ClassCastException</code>). To address this issue, we can employ the Reflection API to allocate the array in memory via <code>Array.newInstance()</code> and then type cast it.</p>\n<pre><code>public static &lt;T&gt; T[] flatten(Object[] inputArray, Class&lt;T&gt; tClass) {\n    \n    return flattenAsStream(inputArray, tClass)\n        .toArray(n -&gt; (T[]) Array.newInstance(tClass, n));\n}\n\npublic static &lt;T&gt; Stream&lt;T&gt; flattenAsStream(Object[] inputArray, Class&lt;T&gt; tClass) {\n    \n    return Arrays.stream(inputArray)\n        .flatMap(e -&gt; e instanceof Object[] arr ?\n            flattenAsStream(arr, tClass) : Stream.of(tClass.cast(e))\n        );\n}\n</code></pre>\n"}],"owner":{"account_id":27208045,"reputation":1,"user_id":20739301,"display_name":"vibhanshu jha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670848411,"creation_date":1670769633,"question_id":74761736,"body_markdown":"I am trying to flatten an array of Objects recursively.\r\n\r\nFor Example\r\n\r\n*Input:*\r\n\r\n```\r\nObject[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n[1,2,3,4,5,6,7,8,9,10]\r\n```\r\n\r\n\r\nWhile making the recursive call, I am getting a compilation:\r\n```\r\nunreported exception java.lang.Exception; must be caught or declared to be thrown\r\n```\r\n\r\nHow can I fix it?\r\n\r\n*My code:*\r\n\r\n    public static Integer[] flatten(Object[] inputArray) throws Exception {\r\n        \r\n        //Convert inputArray to stream of object\r\n        Stream&lt;Object&gt; stream = Arrays.stream(inputArray);\r\n        //Recursively using flat map flatten the array by mapping each element to a stream\r\n        stream.flatMap(o -&gt; o instanceof Object[] ? flatten((Object[])o) : Stream.of(o));\r\n        Integer[] flattenedArray = stream.toArray(Integer[]::new);\r\n        return flattenedArray;\r\n    }","title":"Unhandled checked Exception while flattening an Array of Objects recursively using Streams in Java 8","body":"<p>I am trying to flatten an array of Objects recursively.</p>\n<p>For Example</p>\n<p><em>Input:</em></p>\n<pre><code>Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1,2,3,4,5,6,7,8,9,10]\n</code></pre>\n<p>While making the recursive call, I am getting a compilation:</p>\n<pre><code>unreported exception java.lang.Exception; must be caught or declared to be thrown\n</code></pre>\n<p>How can I fix it?</p>\n<p><em>My code:</em></p>\n<pre><code>public static Integer[] flatten(Object[] inputArray) throws Exception {\n    \n    //Convert inputArray to stream of object\n    Stream&lt;Object&gt; stream = Arrays.stream(inputArray);\n    //Recursively using flat map flatten the array by mapping each element to a stream\n    stream.flatMap(o -&gt; o instanceof Object[] ? flatten((Object[])o) : Stream.of(o));\n    Integer[] flattenedArray = stream.toArray(Integer[]::new);\n    return flattenedArray;\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","postman"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1670379234,"post_id":74700931,"comment_id":131861714,"body_markdown":"Please add screenshot of request in postman.","body":"Please add screenshot of request in postman."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670848310,"post_id":74700931,"comment_id":131960728,"body_markdown":"ECONNREFUSED means that the TCP/IP connection wasn&#39;t accepted, which means you can easily ignore any headers, because the problem happens way before they are found. What&#39;s the output of `netstat -tlpn` on your machine (that&#39;s on Linux, no idea how to get that on Windows). Where is the server running that you&#39;re trying to connect to? What happens when you contact `http://127.0.0.1:8080` in your browser?","body":"ECONNREFUSED means that the TCP/IP connection wasn&#39;t accepted, which means you can easily ignore any headers, because the problem happens way before they are found. What&#39;s the output of <code>netstat -tlpn</code> on your machine (that&#39;s on Linux, no idea how to get that on Windows). Where is the server running that you&#39;re trying to connect to? What happens when you contact <code>http:&#47;&#47;127.0.0.1:8080</code> in your browser?"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1670849304,"post_id":74700931,"comment_id":131961058,"body_markdown":"if you are on *nix based system, please check if your server is indeed running using `lsof -i :8080` command and check process id, kill if you want to restart it again","body":"if you are on *nix based system, please check if your server is indeed running using <code>lsof -i :8080</code> command and check process id, kill if you want to restart it again"}],"owner":{"account_id":27163423,"reputation":1,"user_id":20701260,"display_name":"lenae"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670848232,"creation_date":1670322581,"question_id":74700931,"body_markdown":"I&#39;m working on a small project and I have to send a post request in postman, but I continue to get to connect, ECONNREFUSED 127.0.0.1:8080 error occurred.\r\n\r\nI&#39;ve already checked that I&#39;m using the correct port and changed a few proxy setting to try and fix the problem, but nothing seems to work. When I run the project on IntelliJ, I have no errors, so I really don&#39;t know how to solve the problem.\r\n\r\n```\r\nError: connect ECONNREFUSED 127.0.0.1:8080\r\nRequest Headers\r\nContent-Type: application/json\r\nUser-Agent: PostmanRuntime/7.29.2\r\nAccept: */*\r\nCache-Control: no-cache\r\nPostman-Token: 6ea87f2c-511f-4124-a1ac-3c7d29fb6c81\r\nHost: localhost:8080\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\n```","title":"Error: connect ECONNREFUSED 127.0.0.1:8080 || POSTMAN","body":"<p>I'm working on a small project and I have to send a post request in postman, but I continue to get to connect, ECONNREFUSED 127.0.0.1:8080 error occurred.</p>\n<p>I've already checked that I'm using the correct port and changed a few proxy setting to try and fix the problem, but nothing seems to work. When I run the project on IntelliJ, I have no errors, so I really don't know how to solve the problem.</p>\n<pre><code>Error: connect ECONNREFUSED 127.0.0.1:8080\nRequest Headers\nContent-Type: application/json\nUser-Agent: PostmanRuntime/7.29.2\nAccept: */*\nCache-Control: no-cache\nPostman-Token: 6ea87f2c-511f-4124-a1ac-3c7d29fb6c81\nHost: localhost:8080\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":5309582,"reputation":802,"user_id":4236391,"display_name":"Jaydip Rakholiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1536181615,"creation_date":1536181615,"answer_id":52193389,"question_id":52193177,"body_markdown":"Possible duplicate of - https://stackoverflow.com/questions/37010891/how-to-map-a-nested-value-to-a-property-using-jackson-annotations\r\n\r\n    String id;\r\n    \r\n    @JsonProperty(&quot;ID&quot;)\r\n    private void unpackNameFromNestedObject(Map&lt;String, String&gt; id) {\r\n        this.id= id.get(&quot;uniqueID&quot;);\r\n    }","title":"How to get property not only from root level","body":"<p>Possible duplicate of - <a href=\"https://stackoverflow.com/questions/37010891/how-to-map-a-nested-value-to-a-property-using-jackson-annotations\">How to map a nested value to a property using Jackson annotations?</a></p>\n\n<pre><code>String id;\n\n@JsonProperty(\"ID\")\nprivate void unpackNameFromNestedObject(Map&lt;String, String&gt; id) {\n    this.id= id.get(\"uniqueID\");\n}\n</code></pre>\n"}],"owner":{"account_id":13346356,"reputation":57,"user_id":9632967,"display_name":"Oleg Zdanevich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670848233,"accepted_answer_id":52193389,"answer_count":1,"score":1,"last_activity_date":1670848217,"creation_date":1536180476,"question_id":52193177,"body_markdown":"I have some troubles with parsing JSON using Jackson library\r\n\r\n```json\r\n{\r\n\t&quot;userName&quot;: &quot;blablabla@gmail.com&quot;,\r\n\t\t&quot;ID&quot;: {\r\n\t\t\t&quot;uniqueID&quot;: &quot;1234567&quot;\r\n\t\t}\r\n}\r\n```\r\n\r\nThis is the part of the JSON, and my model is:\r\n\r\n```java\r\npublic class UserIdAndMail {\r\n\t@JsonProperty(&quot;uniqueID&quot;)\r\n\tprivate String id;\r\n\r\n\t\r\n\t@JsonProperty(&quot;userName&quot;)\r\n\tprivate String mail;\r\n\r\n\tpublic UserIdAndMail(String id, String mail) {\r\n\t\tthis.id = id;\r\n\t\tthis.mail = mail;\r\n\t}\r\n\r\n\tpublic UserIdAndMail() {}\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getMail() {\r\n\t\treturn mail;\r\n\t}\r\n\r\n\tpublic void setMail(String mail) {\r\n\t\tthis.mail = mail;\r\n\t}\r\n}\r\n```\r\n\r\n`&#39;uniqueID&#39;` becomes `null` value when I try to parse the JSON to object. I have no idea how to get this field without creating an additional class `&quot;ID&quot;`. Can there be a simpler solution to this task?\r\n\t","title":"How to get property not only from root level","body":"<p>I have some troubles with parsing JSON using Jackson library</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;userName&quot;: &quot;blablabla@gmail.com&quot;,\n        &quot;ID&quot;: {\n            &quot;uniqueID&quot;: &quot;1234567&quot;\n        }\n}\n</code></pre>\n<p>This is the part of the JSON, and my model is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserIdAndMail {\n    @JsonProperty(&quot;uniqueID&quot;)\n    private String id;\n\n    \n    @JsonProperty(&quot;userName&quot;)\n    private String mail;\n\n    public UserIdAndMail(String id, String mail) {\n        this.id = id;\n        this.mail = mail;\n    }\n\n    public UserIdAndMail() {}\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getMail() {\n        return mail;\n    }\n\n    public void setMail(String mail) {\n        this.mail = mail;\n    }\n}\n</code></pre>\n<p><code>'uniqueID'</code> becomes <code>null</code> value when I try to parse the JSON to object. I have no idea how to get this field without creating an additional class <code>&quot;ID&quot;</code>. Can there be a simpler solution to this task?</p>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":1,"creation_date":1670849344,"post_id":74771036,"comment_id":131961076,"body_markdown":"The error says &#39;Invalid Selector Exception: Compound class names nor permitted&#39;, it is related to the locator you&#39;ve used, post the code you&#39;ve tried.","body":"The error says &#39;Invalid Selector Exception: Compound class names nor permitted&#39;, it is related to the locator you&#39;ve used, post the code you&#39;ve tried."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1670850646,"post_id":74771036,"comment_id":131961486,"body_markdown":"While you write &quot;Chromedriver version : 108.0.5359.71&quot; the output shows that you are using &quot;Chromedriver version : 107.0.5304.62&quot;. But this is just a warning and most probably not the root cause of your problem.","body":"While you write &quot;Chromedriver version : 108.0.5359.71&quot; the output shows that you are using &quot;Chromedriver version : 107.0.5304.62&quot;. But this is just a warning and most probably not the root cause of your problem."}],"owner":{"account_id":20251640,"reputation":11,"user_id":14852573,"display_name":"ozge uysal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670850659,"answer_count":0,"score":1,"last_activity_date":1670847712,"creation_date":1670847712,"question_id":74771036,"body_markdown":"I&#39;m using selenium, chromedriver. I got this error when I started my Test\r\n\r\nChromeDriver was started successfully.\r\n[1670846258.729][WARNING]: This version of ChromeDriver has not been tested with Chrome version 108.\r\n\r\nAnd I also got &quot;Compound class names not permitted&quot; error.\r\n\r\nWhat could be the problem?\r\n\r\nchrome version : 108.0.5359.99 \r\nChromedriver version : 108.0.5359.71\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/xfgCR.png)\r\n\r\n\r\n\r\nI even updated my dependencies to latest version.\r\n\r\n[enter image description here](https://i.stack.imgur.com/ZqgQI.png)","title":"&quot;This version of ChromeDriver has not been tested with Chrome version 108&quot; error with Selenium ChromeDriver","body":"<p>I'm using selenium, chromedriver. I got this error when I started my Test</p>\n<p>ChromeDriver was started successfully.\n[1670846258.729][WARNING]: This version of ChromeDriver has not been tested with Chrome version 108.</p>\n<p>And I also got &quot;Compound class names not permitted&quot; error.</p>\n<p>What could be the problem?</p>\n<p>chrome version : 108.0.5359.99\nChromedriver version : 108.0.5359.71</p>\n<p><a href=\"https://i.stack.imgur.com/xfgCR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I even updated my dependencies to latest version.</p>\n<p><a href=\"https://i.stack.imgur.com/ZqgQI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","localdate"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1621544130,"post_id":67627649,"comment_id":119535754,"body_markdown":"what time is &quot;myBeanObject&quot;?","body":"what time is &quot;myBeanObject&quot;?"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1621544462,"post_id":67627649,"comment_id":119535871,"body_markdown":"Simply remove `m.setdateFormat(new SimpledateFormat(&quot;yyyy-MM-dd&quot;));`. Anyway, `LocalDate` belongs to the modern date-time API and it needs to be formatted using `DateTimeFomatter`, if required. The default format of `LocalDate#toString()` is `yyyy-MM-dd`.","body":"Simply remove <code>m.setdateFormat(new SimpledateFormat(&quot;yyyy-MM-dd&quot;));</code>. Anyway, <code>LocalDate</code> belongs to the modern date-time API and it needs to be formatted using <code>DateTimeFomatter</code>, if required. The default format of <code>LocalDate#toString()</code> is <code>yyyy-MM-dd</code>."}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621544250,"creation_date":1621544250,"answer_id":67627841,"question_id":67627649,"body_markdown":"Try to add this dependency: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen setup your `ObjectMapper` as follows: \r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(new JavaTimeModule());\r\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);","title":"Jackson ObjectMapper serializing local date into a long string","body":"<p>Try to add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.8.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then setup your <code>ObjectMapper</code> as follows:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new JavaTimeModule());\nmapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114741,"reputation":212,"user_id":301573,"display_name":"LoBo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670847611,"creation_date":1670783598,"answer_id":74763461,"question_id":67627649,"body_markdown":"If you don&#39;t want to add additional dependencies to your project, you can create a module for `ObjectMapper` yourself. Here is an example:\r\n\r\n    package com.yourexample.serialization\r\n        \r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.Version;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import com.fasterxml.jackson.databind.ser.std.StdSerializer;\r\n    import java.io.IOException;\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    public class NoDependenciesTest {\r\n    \t@Test\r\n    \tpublic void testSerialization() throws JsonProcessingException {\r\n    \t\tTestUser user = new TestUser(&quot;John Doe&quot;, LocalDate.of(2022, 12, 11));\r\n    \t\tString json = writeToJson(user);\r\n    \t\tAssert.assertEquals(&quot;{\\&quot;name\\&quot;:\\&quot;John Doe\\&quot;,\\&quot;birthDate\\&quot;:\\&quot;2022-12-11\\&quot;}&quot;, json);\r\n    \t}\r\n    \r\n    \tpublic static String writeToJson(Object object) throws JsonProcessingException {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tSimpleModule module = new SimpleModule(&quot;LocalDateSerializer&quot;, new Version(1, 0, 0, null, null, null));\r\n    \t\tmodule.addSerializer(LocalDate.class, new LocalDateSerializer());\r\n    \t\tmapper.registerModule(module);\r\n    \t\treturn mapper.writeValueAsString(object);\r\n    \t}\r\n    \r\n    \tprivate static class LocalDateSerializer extends StdSerializer&lt;LocalDate&gt; {\r\n    \t\tprivate static final long serialVersionUID = -1203520161919841191L;\r\n    \r\n    \t\tprotected LocalDateSerializer() {\r\n    \t\t\tsuper(LocalDate.class);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void serialize(LocalDate date, JsonGenerator generator, SerializerProvider serializerProvider)\r\n    \t\t\t\tthrows IOException {\r\n    \t\t\tif (date != null) {\r\n    \t\t\t\tgenerator.writeString(date.format(DateTimeFormatter.ISO_LOCAL_DATE));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static class TestUser {\r\n    \t\tprivate String name;\r\n    \t\tprivate java.time.LocalDate birthDate;\r\n    \r\n    \t\tpublic TestUser(String name, java.time.LocalDate birthDate) {\r\n    \t\t\tthis.name = name;\r\n    \t\t\tthis.birthDate = birthDate;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getName() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setName(String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \r\n    \t\tpublic java.time.LocalDate getBirthDate() {\r\n    \t\t\treturn birthDate;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setBirthDate(java.time.LocalDate birthDate) {\r\n    \t\t\tthis.birthDate = birthDate;\r\n    \t\t}\r\n    \t}\r\n    }\r\n","title":"Jackson ObjectMapper serializing local date into a long string","body":"<p>If you don't want to add additional dependencies to your project, you can create a module for <code>ObjectMapper</code> yourself. Here is an example:</p>\n<pre><code>package com.yourexample.serialization\n    \nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.Version;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\nimport java.io.IOException;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport org.junit.Assert;\nimport org.junit.Test;\n\npublic class NoDependenciesTest {\n    @Test\n    public void testSerialization() throws JsonProcessingException {\n        TestUser user = new TestUser(&quot;John Doe&quot;, LocalDate.of(2022, 12, 11));\n        String json = writeToJson(user);\n        Assert.assertEquals(&quot;{\\&quot;name\\&quot;:\\&quot;John Doe\\&quot;,\\&quot;birthDate\\&quot;:\\&quot;2022-12-11\\&quot;}&quot;, json);\n    }\n\n    public static String writeToJson(Object object) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule(&quot;LocalDateSerializer&quot;, new Version(1, 0, 0, null, null, null));\n        module.addSerializer(LocalDate.class, new LocalDateSerializer());\n        mapper.registerModule(module);\n        return mapper.writeValueAsString(object);\n    }\n\n    private static class LocalDateSerializer extends StdSerializer&lt;LocalDate&gt; {\n        private static final long serialVersionUID = -1203520161919841191L;\n\n        protected LocalDateSerializer() {\n            super(LocalDate.class);\n        }\n\n        @Override\n        public void serialize(LocalDate date, JsonGenerator generator, SerializerProvider serializerProvider)\n                throws IOException {\n            if (date != null) {\n                generator.writeString(date.format(DateTimeFormatter.ISO_LOCAL_DATE));\n            }\n        }\n    }\n\n    private static class TestUser {\n        private String name;\n        private java.time.LocalDate birthDate;\n\n        public TestUser(String name, java.time.LocalDate birthDate) {\n            this.name = name;\n            this.birthDate = birthDate;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public java.time.LocalDate getBirthDate() {\n            return birthDate;\n        }\n\n        public void setBirthDate(java.time.LocalDate birthDate) {\n            this.birthDate = birthDate;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2578695,"reputation":2676,"user_id":2235839,"accept_rate":67,"display_name":"A Nice Guy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670847611,"creation_date":1621543292,"question_id":67627649,"body_markdown":"I am trying to serialize my myBeanObject using jackson Objectmapper.\r\nThis is what I have:\r\n\r\n    Objectmapper m= new Objectmapper()\r\n    m.setdateFormat(new SimpledateFormat(&quot;yyyy-MM-dd&quot;)); \r\n    String json = m.writeValueAsString(myBeanObject);\r\n\r\nProblem is a LocalDate variable in my bean is getting serialised into a long String, something like {&quot;year&quot;:1970,&quot;month&quot;:&quot;JANUARY&quot;...}\r\n\r\nI want  the LocalDate to become simple like &quot;1970-01-01&quot;\r\n\r\nCan someone please help? ","title":"Jackson ObjectMapper serializing local date into a long string","body":"<p>I am trying to serialize my myBeanObject using jackson Objectmapper.\nThis is what I have:</p>\n<pre><code>Objectmapper m= new Objectmapper()\nm.setdateFormat(new SimpledateFormat(&quot;yyyy-MM-dd&quot;)); \nString json = m.writeValueAsString(myBeanObject);\n</code></pre>\n<p>Problem is a LocalDate variable in my bean is getting serialised into a long String, something like {&quot;year&quot;:1970,&quot;month&quot;:&quot;JANUARY&quot;...}</p>\n<p>I want  the LocalDate to become simple like &quot;1970-01-01&quot;</p>\n<p>Can someone please help?</p>\n"},{"tags":["java","java-ee-6"],"owner":{"account_id":11155940,"reputation":75,"user_id":8187659,"display_name":"slema imen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670847097,"creation_date":1670846722,"question_id":74770855,"body_markdown":"I&#39;m trying to read variables from json.properties and web.xml using the @Resource.In the same time i need to inject the class into another services:\r\nthis my class :\r\n\r\n    @Named\r\n    @ApplicationScoped\r\n    public class TestServiceImpl implements ITestService {\r\n\r\n \r\n\r\n    @Resource(name = &quot;smsEndpoint&quot;)\r\n    private String smsEndpoint;\r\n\r\n    @Resource(name = &quot;smsUsername&quot;)\r\n    private String smsUsername;\r\n\r\n    @Resource(name = &quot;smsPassword&quot;)\r\n    private String smsPassword;\r\n\r\n    @Override\r\n    public void sendSMS(SMS sms) throws IOException {}\r\n    }\r\n\r\n\r\nand this an example to inject this class into this service:\r\n \r\n\r\n     @Inject \r\n     private ITestService smsService; \r\n\r\n\r\nbut I can&#39; succeded to read this variable from the files, I got this exception :\r\nCaused by: javax.naming.NameNotFoundException: java:comp/env/smsEndpoint\r\n\r\nAny idea which annotation i need to put for my service that can read the ressource and also can be injected?Thanks in advance.\r\n","title":"How read a resource in a @ApplicationScoped Service?","body":"<p>I'm trying to read variables from json.properties and web.xml using the @Resource.In the same time i need to inject the class into another services:\nthis my class :</p>\n<pre><code>@Named\n@ApplicationScoped\npublic class TestServiceImpl implements ITestService {\n\n\n\n@Resource(name = &quot;smsEndpoint&quot;)\nprivate String smsEndpoint;\n\n@Resource(name = &quot;smsUsername&quot;)\nprivate String smsUsername;\n\n@Resource(name = &quot;smsPassword&quot;)\nprivate String smsPassword;\n\n@Override\npublic void sendSMS(SMS sms) throws IOException {}\n}\n</code></pre>\n<p>and this an example to inject this class into this service:</p>\n<pre><code> @Inject \n private ITestService smsService; \n</code></pre>\n<p>but I can' succeded to read this variable from the files, I got this exception :\nCaused by: javax.naming.NameNotFoundException: java:comp/env/smsEndpoint</p>\n<p>Any idea which annotation i need to put for my service that can read the ressource and also can be injected?Thanks in advance.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":2,"creation_date":1509605056,"post_id":47069125,"comment_id":81086054,"body_markdown":"Do you know what lambda expressions are?","body":"Do you know what lambda expressions are?"},{"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"score":0,"creation_date":1509605333,"post_id":47069125,"comment_id":81086174,"body_markdown":"yeah @flown i know the basic of lamda and while learning i got these doubt .","body":"yeah @flown i know the basic of lamda and while learning i got these doubt ."},{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":1,"creation_date":1509605467,"post_id":47069125,"comment_id":81086238,"body_markdown":"Basically lambda expressions are single abstract method interfaces. So, which interface would you implement to do your task? Or are you trying to use the `Stream` API?","body":"Basically lambda expressions are single abstract method interfaces. So, which interface would you implement to do your task? Or are you trying to use the <code>Stream</code> API?"},{"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"score":0,"creation_date":1509606150,"post_id":47069125,"comment_id":81086576,"body_markdown":"@Flown i&#39;m not dealing with interface right now  yes i&#39;m trying to use stream API. and i&#39;m trying to re factor above piece of code by lamda expression but i&#39;m not getting how to do so i asked","body":"@Flown i&#39;m not dealing with interface right now  yes i&#39;m trying to use stream API. and i&#39;m trying to re factor above piece of code by lamda expression but i&#39;m not getting how to do so i asked"}],"answers":[{"comments":[{"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"score":0,"creation_date":1509605694,"post_id":47069204,"comment_id":81086341,"body_markdown":"thank you @janos but if i want to just write this piece of code by using lamda expression then how would i do that?","body":"thank you @janos but if i want to just write this piece of code by using lamda expression then how would i do that?"},{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":0,"creation_date":1509606008,"post_id":47069204,"comment_id":81086517,"body_markdown":"@chandmohd I changed the first variation to use a lambda expression. But that&#39;s missing the point. This is not a typical or recommended use case for lambdas.","body":"@chandmohd I changed the first variation to use a lambda expression. But that&#39;s missing the point. This is not a typical or recommended use case for lambdas."},{"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"score":0,"creation_date":1509606497,"post_id":47069204,"comment_id":81086759,"body_markdown":"i got the point but as you said that this is not recommended use .why ? are you saying in term of performance? if yes then how would i see which method taking how much time  to execute ?","body":"i got the point but as you said that this is not recommended use .why ? are you saying in term of performance? if yes then how would i see which method taking how much time  to execute ?"},{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":0,"creation_date":1509608762,"post_id":47069204,"comment_id":81087933,"body_markdown":"@chandmohd If you want to add all elements of list X to list Y, it&#39;s best to use `Y.addAll(X)` because that&#39;s the API designed for this, and you can expect implementations to be more optimal than other hand-crafted solutions. If you have individual items and you want to add them to a list, then the natural way is to add them one by one, rather than creating temporary objects to wrap them just so that you can use lambdas. A better example using lambdas would be something that requires passing a function as parameter.","body":"@chandmohd If you want to add all elements of list X to list Y, it&#39;s best to use <code>Y.addAll(X)</code> because that&#39;s the API designed for this, and you can expect implementations to be more optimal than other hand-crafted solutions. If you have individual items and you want to add them to a list, then the natural way is to add them one by one, rather than creating temporary objects to wrap them just so that you can use lambdas. A better example using lambdas would be something that requires passing a function as parameter."}],"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509605850,"creation_date":1509605298,"answer_id":47069204,"question_id":47069125,"body_markdown":"You *could* write:\r\n\r\n    Arrays.asList(book1, book2, ...).forEach(b -&gt; listOfBooks.add(b));\r\n\r\nOr shorter using a method reference instead of a lambda:\r\n\r\n    Arrays.asList(book1, book2, ...).forEach(listOfBooks::add);\r\n\r\nBut that&#39;s not really better than writing:\r\n\r\n    listOfBooks.addAll(Arrays.asList(book1, book2, ...));","title":"Lambda expression to add object into list","body":"<p>You <em>could</em> write:</p>\n\n<pre><code>Arrays.asList(book1, book2, ...).forEach(b -&gt; listOfBooks.add(b));\n</code></pre>\n\n<p>Or shorter using a method reference instead of a lambda:</p>\n\n<pre><code>Arrays.asList(book1, book2, ...).forEach(listOfBooks::add);\n</code></pre>\n\n<p>But that's not really better than writing:</p>\n\n<pre><code>listOfBooks.addAll(Arrays.asList(book1, book2, ...));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"score":0,"creation_date":1509606659,"post_id":47069489,"comment_id":81086839,"body_markdown":"Thank you @Flown appreciated!!","body":"Thank you @Flown appreciated!!"}],"tags":[],"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1509606492,"creation_date":1509606492,"answer_id":47069489,"question_id":47069125,"body_markdown":"The `Stream` API is using lambda expression, but are not part of it.\r\n\r\n    public static List&lt;Books&gt; listOfBooks = new ArrayList&lt;&gt;();\r\n    public static void addProduct() {\r\n      String[] languages = {&quot;java&quot;, &quot;c&quot;, &quot;c++&quot;, &quot;javascript&quot;, &quot;Sql&quot;};\r\n      String[] authors = {&quot;games&quot;, &quot;dennis&quot;, &quot;Bjarne&quot;, &quot;Brendan&quot;, &quot;Donald&quot;};\r\n      double[] prices = {200.56d, 300.56d, 250.56d, 209.56d, 249.56d};\r\n      listOfBooks = IntStream.range(0, languages.length)\r\n                            .mapToObj(i -&gt; new Books(languages[i], authors[i], prices[i]))\r\n                            .collect(Collectors.toList());\r\n      // Alternatively:\r\n      /* IntStream.range(0, languages.length)\r\n              .mapToObj(i -&gt; new Books(languages[i], authors[i], prices[i]))\r\n              .forEach(listOfBooks::add);\r\n      */\r\n    }","title":"Lambda expression to add object into list","body":"<p>The <code>Stream</code> API is using lambda expression, but are not part of it.</p>\n\n<pre><code>public static List&lt;Books&gt; listOfBooks = new ArrayList&lt;&gt;();\npublic static void addProduct() {\n  String[] languages = {\"java\", \"c\", \"c++\", \"javascript\", \"Sql\"};\n  String[] authors = {\"games\", \"dennis\", \"Bjarne\", \"Brendan\", \"Donald\"};\n  double[] prices = {200.56d, 300.56d, 250.56d, 209.56d, 249.56d};\n  listOfBooks = IntStream.range(0, languages.length)\n                        .mapToObj(i -&gt; new Books(languages[i], authors[i], prices[i]))\n                        .collect(Collectors.toList());\n  // Alternatively:\n  /* IntStream.range(0, languages.length)\n          .mapToObj(i -&gt; new Books(languages[i], authors[i], prices[i]))\n          .forEach(listOfBooks::add);\n  */\n}\n</code></pre>\n"}],"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47069489,"answer_count":2,"score":0,"last_activity_date":1670846963,"creation_date":1509604978,"question_id":47069125,"body_markdown":"there is a List&lt;Books&gt; and i want to create books object and add all the book object into this List&lt;Books&gt;. here I did with normal approach like this\t.\r\n\r\n    public static List&lt;Books&gt; listOfBooks = new ArrayList&lt;&gt;();\r\n    public static void addProduct() {\r\n    \t\tBooks book1 = new Books(&quot;java&quot;, &quot;games&quot;, 200.56);\r\n    \t\tBooks book2 = new Books(&quot;c&quot;, &quot;dennis&quot;, 300.56);\r\n    \t\tBooks book3 = new Books(&quot;c++&quot;, &quot;Bjarne&quot;, 250.56);\r\n    \t\tBooks book4 = new Books(&quot;javaScript&quot;, &quot;Brendan&quot;, 209.56);\r\n    \t\tBooks book5 = new Books(&quot;Sql&quot;, &quot;Donald&quot;, 249.56);\r\n    \t\tlistOfBooks.add(book1);\r\n    \t\tlistOfBooks.add(book2);\r\n    \t\tlistOfBooks.add(book3);\r\n    \t\tlistOfBooks.add(book4);\r\n    \t\tlistOfBooks.add(book5);\r\n    \t}\r\n\r\nI want the same operation by using lambda expression but i do not know how to do it. please help me out?\r\n","title":"Lambda expression to add object into list","body":"<p>there is a List and i want to create books object and add all the book object into this List. here I did with normal approach like this   .</p>\n<pre><code>public static List&lt;Books&gt; listOfBooks = new ArrayList&lt;&gt;();\npublic static void addProduct() {\n        Books book1 = new Books(&quot;java&quot;, &quot;games&quot;, 200.56);\n        Books book2 = new Books(&quot;c&quot;, &quot;dennis&quot;, 300.56);\n        Books book3 = new Books(&quot;c++&quot;, &quot;Bjarne&quot;, 250.56);\n        Books book4 = new Books(&quot;javaScript&quot;, &quot;Brendan&quot;, 209.56);\n        Books book5 = new Books(&quot;Sql&quot;, &quot;Donald&quot;, 249.56);\n        listOfBooks.add(book1);\n        listOfBooks.add(book2);\n        listOfBooks.add(book3);\n        listOfBooks.add(book4);\n        listOfBooks.add(book5);\n    }\n</code></pre>\n<p>I want the same operation by using lambda expression but i do not know how to do it. please help me out?</p>\n"},{"tags":["java","oop","encapsulation"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670844074,"post_id":74770321,"comment_id":131959403,"body_markdown":"Your code is not syntactically valid. Usually that&#39;s not a big issue if the code is purely for demonstrating some general structure, but the fact that you define two arguments to the `add` method with the same name as the fields make this very suspicious. What did you *intend* the `add` method to do: take two arguments and add them together or return the sum of the two fields? In either way, I&#39;d not describe this as &quot;encapsulated&quot;.","body":"Your code is not syntactically valid. Usually that&#39;s not a big issue if the code is purely for demonstrating some general structure, but the fact that you define two arguments to the <code>add</code> method with the same name as the fields make this very suspicious. What did you <i>intend</i> the <code>add</code> method to do: take two arguments and add them together or return the sum of the two fields? In either way, I&#39;d not describe this as &quot;encapsulated&quot;."},{"owner":{"account_id":16377321,"reputation":1,"user_id":12238218,"display_name":"akshay lonkar"},"score":0,"creation_date":1670844640,"post_id":74770321,"comment_id":131959582,"body_markdown":"Thanks for the quick response @JoachimSauer. I have modified the class. Can you please answer the question now. I am seeking the reason behind why we cannot say it as encapsulated class.","body":"Thanks for the quick response @JoachimSauer. I have modified the class. Can you please answer the question now. I am seeking the reason behind why we cannot say it as encapsulated class."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1670844728,"post_id":74770321,"comment_id":131959615,"body_markdown":"I don&#39;t think your first sentence is correct. What you&#39;re describing is more generally object-oriented programming. Encapsulation is restricting access to something (usually internal state). No access is restricted in your sample code: everything (most importantly the fields, i.e. the state of the object) is fully (publicly) accessible to any other code.","body":"I don&#39;t think your first sentence is correct. What you&#39;re describing is more generally object-oriented programming. Encapsulation is restricting access to something (usually internal state). No access is restricted in your sample code: everything (most importantly the fields, i.e. the state of the object) is fully (publicly) accessible to any other code."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1670860056,"post_id":74770321,"comment_id":131965138,"body_markdown":"Does this answer your question? [What are the differences between information hiding and encapsulation?](https://stackoverflow.com/questions/13913174/what-are-the-differences-between-information-hiding-and-encapsulation)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13913174/what-are-the-differences-between-information-hiding-and-encapsulation\">What are the differences between information hiding and encapsulation?</a>"},{"owner":{"account_id":16377321,"reputation":1,"user_id":12238218,"display_name":"akshay lonkar"},"score":1,"creation_date":1670865043,"post_id":74770321,"comment_id":131966923,"body_markdown":"Hi @jaco0646, even the link you shared answered my question. Thanks","body":"Hi @jaco0646, even the link you shared answered my question. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670845541,"creation_date":1670845541,"answer_id":74770634,"question_id":74770321,"body_markdown":"Yes, or no. Depending on how one defines &quot;encapsulation&quot;.\r\n\r\nGiven the phrasing of your question, I assume you are working with [the definition of encapsulation from Wikipedia][1], which (as of now) reads\r\n\r\n&gt; In object-oriented programming (OOP), encapsulation refers to the bundling of data with the methods that operate on those data, or the restricting of direct access to some of an object&#39;s components.\r\n\r\nI disagree with this definition. Or more precisely, I think it unnecessarily distinguishes &quot;encapsulation&quot; and &quot;data hiding&quot; which is not in line with how I see the term &quot;encapsulation&quot; used in day-to-day conversations. In fact even the [Wikipedia talk page][2] mentions this problem of the definition (with no apparent counter-voices).\r\n\r\nSo if you follow that Wikipedia definition, then yes, your code uses encapsulation (&quot;an encapsulated class&quot; is not a phrase I&#39;ve ever heard anyone use this way, I&#39;d avoid it).\r\n\r\nIf you follow the school of thought that information hiding and encapsulation are synonymous (or at least very tightly bound together) then your code is not using encapsulation.\r\n\r\nSee this paragraph from [the Wikipedia article on Information Hiding][3]:\r\n\r\n&gt; The term *encapsulation* is often used interchangeably with information hiding. Not all agree on the distinctions between the two, though; one may think of information hiding as being the principle and encapsulation being the technique.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\r\n  [2]: https://en.wikipedia.org/wiki/Talk:Encapsulation_(computer_programming)#Encapsulation_is_information_hiding\r\n  [3]: https://en.wikipedia.org/wiki/Information_hiding","title":"Can we say a class with all public member variables and all public methods as encapsulated class?","body":"<p>Yes, or no. Depending on how one defines &quot;encapsulation&quot;.</p>\n<p>Given the phrasing of your question, I assume you are working with <a href=\"https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\" rel=\"nofollow noreferrer\">the definition of encapsulation from Wikipedia</a>, which (as of now) reads</p>\n<blockquote>\n<p>In object-oriented programming (OOP), encapsulation refers to the bundling of data with the methods that operate on those data, or the restricting of direct access to some of an object's components.</p>\n</blockquote>\n<p>I disagree with this definition. Or more precisely, I think it unnecessarily distinguishes &quot;encapsulation&quot; and &quot;data hiding&quot; which is not in line with how I see the term &quot;encapsulation&quot; used in day-to-day conversations. In fact even the <a href=\"https://en.wikipedia.org/wiki/Talk:Encapsulation_(computer_programming)#Encapsulation_is_information_hiding\" rel=\"nofollow noreferrer\">Wikipedia talk page</a> mentions this problem of the definition (with no apparent counter-voices).</p>\n<p>So if you follow that Wikipedia definition, then yes, your code uses encapsulation (&quot;an encapsulated class&quot; is not a phrase I've ever heard anyone use this way, I'd avoid it).</p>\n<p>If you follow the school of thought that information hiding and encapsulation are synonymous (or at least very tightly bound together) then your code is not using encapsulation.</p>\n<p>See this paragraph from <a href=\"https://en.wikipedia.org/wiki/Information_hiding\" rel=\"nofollow noreferrer\">the Wikipedia article on Information Hiding</a>:</p>\n<blockquote>\n<p>The term <em>encapsulation</em> is often used interchangeably with information hiding. Not all agree on the distinctions between the two, though; one may think of information hiding as being the principle and encapsulation being the technique.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1670846961,"post_id":74770863,"comment_id":131960278,"body_markdown":"&quot;*provide public get and set methods to access and update the value of a private variable*&quot; I strongly disagree that this constitutes encapsulation. The data is exposed to clients of that class, just via 1 level of indirection.","body":"&quot;<i>provide public get and set methods to access and update the value of a private variable</i>&quot; I strongly disagree that this constitutes encapsulation. The data is exposed to clients of that class, just via 1 level of indirection."}],"tags":[],"owner":{"account_id":11358207,"reputation":1,"user_id":16328314,"display_name":"Luiz Eduardo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670846817,"creation_date":1670846761,"answer_id":74770863,"question_id":74770321,"body_markdown":"The meaning of Encapsulation, is to make sure that &quot;sensitive&quot; data is hidden from users\r\n\r\nto make your class encapsulated you need\r\n\r\n - Declare class variables/attributes as private\r\n - provide public get and set methods to access and update the value of a private variable\r\n\r\nyour class has public data, that is, it is not protected (encapsulated) and therefore can be accessed and modified by everyone\r\nI recommend this reading for a better understanding of encapsulation \r\n\r\n[java_encapsulation][1]\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_encapsulation.asp","title":"Can we say a class with all public member variables and all public methods as encapsulated class?","body":"<p>The meaning of Encapsulation, is to make sure that &quot;sensitive&quot; data is hidden from users</p>\n<p>to make your class encapsulated you need</p>\n<ul>\n<li>Declare class variables/attributes as private</li>\n<li>provide public get and set methods to access and update the value of a private variable</li>\n</ul>\n<p>your class has public data, that is, it is not protected (encapsulated) and therefore can be accessed and modified by everyone\nI recommend this reading for a better understanding of encapsulation</p>\n<p><a href=\"https://www.w3schools.com/java/java_encapsulation.asp\" rel=\"nofollow noreferrer\">java_encapsulation</a></p>\n"}],"owner":{"account_id":16377321,"reputation":1,"user_id":12238218,"display_name":"akshay lonkar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670846817,"creation_date":1670843929,"question_id":74770321,"body_markdown":"By definition, encapsulation in Java is a process of wrapping code and data together into a single unit. But if a class has 2 member variables and a method and both the variables and method has public access modifier, can we say that class as encapsulated class? \r\n\r\nFor example, can we say below class is encapsulated or not\r\n\r\n```\r\npublic class AddNumbers {\r\n\r\n     public int a;\r\n     public int b;\r\n\r\n     public void add(){\r\n          System.out.println(a+b);\r\n     }\r\n}\r\n```","title":"Can we say a class with all public member variables and all public methods as encapsulated class?","body":"<p>By definition, encapsulation in Java is a process of wrapping code and data together into a single unit. But if a class has 2 member variables and a method and both the variables and method has public access modifier, can we say that class as encapsulated class?</p>\n<p>For example, can we say below class is encapsulated or not</p>\n<pre><code>public class AddNumbers {\n\n     public int a;\n     public int b;\n\n     public void add(){\n          System.out.println(a+b);\n     }\n}\n</code></pre>\n"},{"tags":["java","postgresql","jdbc","ddl"],"comments":[{"owner":{"account_id":2840364,"reputation":2021,"user_id":2440114,"display_name":"Rajeev Bera"},"score":0,"creation_date":1373874983,"post_id":17648861,"comment_id":25701750,"body_markdown":"@CraigRinger I have deleted that link ,thats for correcting me","body":"@CraigRinger I have deleted that link ,thats for correcting me"}],"answers":[{"comments":[{"owner":{"account_id":4475589,"reputation":323,"user_id":3640794,"display_name":"xmcax"},"score":0,"creation_date":1639391490,"post_id":17648989,"comment_id":124328078,"body_markdown":"An interesting use-case would be creating partitions in PostgreSQL using `CREATE TABLE :partitionName PARTITION OF :tableName FOR VALUES IN ( :value )` .To me this is kind of DDL that makes sense to do programatically.","body":"An interesting use-case would be creating partitions in PostgreSQL using <code>CREATE TABLE :partitionName PARTITION OF :tableName FOR VALUES IN ( :value )</code> .To me this is kind of DDL that makes sense to do programatically."}],"tags":[],"owner":{"account_id":171331,"reputation":310944,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670846726,"creation_date":1373873789,"answer_id":17648989,"question_id":17648861,"body_markdown":"It isn&#39;t supported by the server, so even if it seems to work in the client side JDBC driver I don&#39;t recommend it:\r\n\r\n    regress=&gt; PREPARE CREATE TABLE test ( id serial primary key );\r\n    ERROR:  syntax error at or near &quot;CREATE&quot;\r\n    LINE 1: PREPARE CREATE TABLE test ( id serial primary key );\r\n                    ^\r\n\r\nThere&#39;s no advantage to doing so anyway since you cannot *parameterize* them, so you can&#39;t write:\r\n\r\n    CREATE TABLE ? ( ? text, ...)\r\n\r\nand then specify the placeholder values as query parameters to the `Statement`.\r\n\r\nIn PostgreSQL only *planned* statements may be prepared and parameterised server-side. Currently that means `INSERT`, `UPDATE`, `DELETE` and `SELECT`.\r\n\r\nYou&#39;ll need to do your own string interpolation and safe quoting according to PostgreSQL&#39;s [lexical structure rules](http://www.postgresql.org/docs/current/static/sql-syntax-lexical.html) - which are pretty much those of the SQL spec. Wrap all identifiers in `&quot;double quotes&quot;` and double any literal double quotes, eg `&quot;these are literal &quot;&quot;double quotes&quot;&quot;&quot;` for the table name `these are literal &quot;double quotes&quot;`.\r\n\r\nThe very fact that you want to do this suggests that you probably have design issues in your schema and might need to re-think how you&#39;re going about things. Maybe post a more detailed question on dba.stackexchange.com that explains what you want to achieve with this and why?","title":"Can we use DDL Commands in a prepared statement (PostgreSQL)?","body":"<p>It isn't supported by the server, so even if it seems to work in the client side JDBC driver I don't recommend it:</p>\n<pre><code>regress=&gt; PREPARE CREATE TABLE test ( id serial primary key );\nERROR:  syntax error at or near &quot;CREATE&quot;\nLINE 1: PREPARE CREATE TABLE test ( id serial primary key );\n                ^\n</code></pre>\n<p>There's no advantage to doing so anyway since you cannot <em>parameterize</em> them, so you can't write:</p>\n<pre><code>CREATE TABLE ? ( ? text, ...)\n</code></pre>\n<p>and then specify the placeholder values as query parameters to the <code>Statement</code>.</p>\n<p>In PostgreSQL only <em>planned</em> statements may be prepared and parameterised server-side. Currently that means <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> and <code>SELECT</code>.</p>\n<p>You'll need to do your own string interpolation and safe quoting according to PostgreSQL's <a href=\"http://www.postgresql.org/docs/current/static/sql-syntax-lexical.html\" rel=\"nofollow noreferrer\">lexical structure rules</a> - which are pretty much those of the SQL spec. Wrap all identifiers in <code>&quot;double quotes&quot;</code> and double any literal double quotes, eg <code>&quot;these are literal &quot;&quot;double quotes&quot;&quot;&quot;</code> for the table name <code>these are literal &quot;double quotes&quot;</code>.</p>\n<p>The very fact that you want to do this suggests that you probably have design issues in your schema and might need to re-think how you're going about things. Maybe post a more detailed question on dba.stackexchange.com that explains what you want to achieve with this and why?</p>\n"},{"tags":[],"owner":{"account_id":64084,"reputation":32129,"user_id":189361,"accept_rate":100,"display_name":"Michael Dillon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1472242557,"creation_date":1472241991,"answer_id":39173959,"question_id":17648861,"body_markdown":"Yes you can, if you use EXECUTE and wrap it in a FUNCTION. The function call allows you to pass parameters, and inside the FUNCTION you use string manipulation to modify the DDL statement. Finally, the use of EXECUTE in the FUNCTION makes it so. Here is a simple example of a parameterized CREATE SEQUENCE statement...\r\n\r\n    DROP FUNCTION sf.start_mc(integer);\r\n    \r\n    CREATE FUNCTION sf.start_mc(thefirst integer) RETURNS void AS $$\r\n    BEGIN\r\n        EXECUTE format(&#39;CREATE SEQUENCE sf.mastercase START %s&#39;,thefirst);\r\n    END;\r\n    \r\n    $$ LANGUAGE plpgsql;\r\n\r\nWe use the string function &quot;format&quot; to manipulate the statement and include the parameter that was passed to the function. Of course, your SQL looks rather unusual, particularly if you include the CREATE FUNCTION  before you call it. This example comes from a data migration job that I recently did. After CREATEing the function we used it like this:\r\n\r\n    DROP SEQUENCE sf.mastercase;\r\n\r\n    -- the following uses the above function to set the starting value of a new sequence based on the last used\r\n    -- in the widget table\r\n    select sf.start_mc((select substring(&quot;widgetId&quot;,4)::integer + 1 from widgets\r\n    where &quot;widgetId&quot; like &#39;MC-%&#39;\r\n    order by &quot;widgetId&quot; desc\r\n    limit 1));\r\n\r\nNote that the outer SELECT doesn&#39;t select anything, it just makes a place to do the function call. The number that is passed as a parameter comes from the inner SELECT which is wrapped in parentheses. A simpler call would be\r\n\r\n    select sf.start_mc(42);\r\n\r\nYou can wrap anything in a CREATEd FUNCTION. But this does mean that you are stuck with PostgreSQL and that you need to integrate your DB schema, and schema changes, into your development process as a first class citizen.\r\n\r\n","title":"Can we use DDL Commands in a prepared statement (PostgreSQL)?","body":"<p>Yes you can, if you use EXECUTE and wrap it in a FUNCTION. The function call allows you to pass parameters, and inside the FUNCTION you use string manipulation to modify the DDL statement. Finally, the use of EXECUTE in the FUNCTION makes it so. Here is a simple example of a parameterized CREATE SEQUENCE statement...</p>\n\n<pre><code>DROP FUNCTION sf.start_mc(integer);\n\nCREATE FUNCTION sf.start_mc(thefirst integer) RETURNS void AS $$\nBEGIN\n    EXECUTE format('CREATE SEQUENCE sf.mastercase START %s',thefirst);\nEND;\n\n$$ LANGUAGE plpgsql;\n</code></pre>\n\n<p>We use the string function \"format\" to manipulate the statement and include the parameter that was passed to the function. Of course, your SQL looks rather unusual, particularly if you include the CREATE FUNCTION  before you call it. This example comes from a data migration job that I recently did. After CREATEing the function we used it like this:</p>\n\n<pre><code>DROP SEQUENCE sf.mastercase;\n\n-- the following uses the above function to set the starting value of a new sequence based on the last used\n-- in the widget table\nselect sf.start_mc((select substring(\"widgetId\",4)::integer + 1 from widgets\nwhere \"widgetId\" like 'MC-%'\norder by \"widgetId\" desc\nlimit 1));\n</code></pre>\n\n<p>Note that the outer SELECT doesn't select anything, it just makes a place to do the function call. The number that is passed as a parameter comes from the inner SELECT which is wrapped in parentheses. A simpler call would be</p>\n\n<pre><code>select sf.start_mc(42);\n</code></pre>\n\n<p>You can wrap anything in a CREATEd FUNCTION. But this does mean that you are stuck with PostgreSQL and that you need to integrate your DB schema, and schema changes, into your development process as a first class citizen.</p>\n"},{"tags":[],"owner":{"display_name":"user11995521"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1595458909,"creation_date":1595458909,"answer_id":63044380,"question_id":17648861,"body_markdown":"There should not be any need to use prepared statements unless you are using user input from the outside world.\r\n\r\nUsually with DDL statements, a User does not and SHOULD NOT know anything about the internal DB Schema or model.\r\n\r\nAs long as data is being transferred over a secure network, I do not really see any benefit to preparing statements","title":"Can we use DDL Commands in a prepared statement (PostgreSQL)?","body":"<p>There should not be any need to use prepared statements unless you are using user input from the outside world.</p>\n<p>Usually with DDL statements, a User does not and SHOULD NOT know anything about the internal DB Schema or model.</p>\n<p>As long as data is being transferred over a secure network, I do not really see any benefit to preparing statements</p>\n"}],"owner":{"account_id":3020447,"reputation":4340,"user_id":2561626,"accept_rate":74,"display_name":"09Q71AO534"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6746,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":39173959,"answer_count":3,"score":7,"last_activity_date":1670846726,"creation_date":1373873346,"question_id":17648861,"body_markdown":"`DDL` commands follow: \r\n\r\n\r\n`CREATE TABLE`   creates a table with the column names the user provides.\r\n\r\n`DROP TABLE`   deletes all rows and removes the table definition from the database. \r\n\r\n`ALTER TABLE`   adds or removes a column from a table.\r\n\r\nI need few examples if there is a possibility of using these Commands in PostgreSQL and Java?\r\n\r\n\tpublic boolean create(Employee employee) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tcallableStatement = openConnection().prepareCall(&quot;{call insert_employee(?,?,?)}&quot;);\r\n\t\t\tcallableStatement.setInt(1, employee.getEid());\r\n\t\t\tcallableStatement.setString(2, employee.getEname());\r\n\t\t\tcallableStatement.setInt(3, employee.getSid());\t\t\r\n\r\n\t\t\ti = callableStatement.execute();\r\n\r\n\t\t\tcallableStatement.close();\r\n\r\n\t\t\tcloseConnection();\r\n\r\n\r\n\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn i;\r\n\r\n\t}\r\n\r\nis there any chance of using DDL CREATE command in such type? using prepared statements?","title":"Can we use DDL Commands in a prepared statement (PostgreSQL)?","body":"<p><code>DDL</code> commands follow: </p>\n\n<p><code>CREATE TABLE</code>   creates a table with the column names the user provides.</p>\n\n<p><code>DROP TABLE</code>   deletes all rows and removes the table definition from the database. </p>\n\n<p><code>ALTER TABLE</code>   adds or removes a column from a table.</p>\n\n<p>I need few examples if there is a possibility of using these Commands in PostgreSQL and Java?</p>\n\n<pre><code>public boolean create(Employee employee) {\n\n    try {\n\n        callableStatement = openConnection().prepareCall(\"{call insert_employee(?,?,?)}\");\n        callableStatement.setInt(1, employee.getEid());\n        callableStatement.setString(2, employee.getEname());\n        callableStatement.setInt(3, employee.getSid());     \n\n        i = callableStatement.execute();\n\n        callableStatement.close();\n\n        closeConnection();\n\n\n\n    } catch (SQLException e) {\n        e.printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return i;\n\n}\n</code></pre>\n\n<p>is there any chance of using DDL CREATE command in such type? using prepared statements?</p>\n"},{"tags":["java","exception","methods","calculator"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1663418289,"post_id":73754902,"comment_id":130237690,"body_markdown":"Thrown exception are not returned... but thrown (they do not &quot;count&quot; to the return type of a method). Thus, since the method does not normally return anything, its return type should be `void`.","body":"Thrown exception are not returned... but thrown (they do not &quot;count&quot; to the return type of a method). Thus, since the method does not normally return anything, its return type should be <code>void</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1663418515,"post_id":73754902,"comment_id":130237736,"body_markdown":"A remark: method `throwExceptionForNullArray(...)` is declared with a paramter of type `int[]`, but called with no parameter. We need to pass an `int[]` on the calling side to this method.","body":"A remark: method <code>throwExceptionForNullArray(...)</code> is declared with a paramter of type <code>int[]</code>, but called with no parameter. We need to pass an <code>int[]</code> on the calling side to this method."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1663418657,"post_id":73754902,"comment_id":130237764,"body_markdown":"Aside from your question: message in `IllegalArgumentException(&quot;Empty array is not allowed&quot;)` is not valid. The `null` represents that there was *no* array provided (`null` was used *instead of any array*), not that provided array was empty (like `int[] emptyArray = {};`). Difference is like getting empty box and not getting a box at all.","body":"Aside from your question: message in <code>IllegalArgumentException(&quot;Empty array is not allowed&quot;)</code> is not valid. The <code>null</code> represents that there was <i>no</i> array provided (<code>null</code> was used <i>instead of any array</i>), not that provided array was empty (like <code>int[] emptyArray = {};</code>). Difference is like getting empty box and not getting a box at all."}],"answers":[{"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1663419705,"post_id":73754973,"comment_id":130237966,"body_markdown":"Surely ennui is grey in colour?","body":"Surely ennui is grey in colour?"}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663421359,"creation_date":1663418887,"answer_id":73754973,"question_id":73754902,"body_markdown":"&gt; What is the return type of a Java exception?\r\n\r\nThat&#39;s like asking: &quot;What is the colour of ennui?&quot; - the question doesn&#39;t make sense.\r\n\r\nLet me put it differently. Imagine this hypothetical method:\r\n\r\n```java\r\npublic int hello() {\r\n  while (true) {\r\n    // just loop forever and ever and ever.\r\n  }\r\n}\r\n```\r\n\r\nThe above will... actually compile. Try it!\r\n\r\nThat&#39;s a bit odd - this method is declared to return an int, and yet, the method _contains no `return` statement at all_. And yet this compiles fine. That&#39;s because it is a bit wonky in how it &#39;works&#39;. It never actually exits, so there&#39;s no violation of the rules here. A return type of `int` means: _If_ this method returns normally, it _must_ do so by returning an `int` value.\r\n\r\nNote, _if_ it returns normally. There is no rule stating that all methods must necessarily always return normally, or that it could ever even return normally. The above method cannot return normally, for example.\r\n\r\nA &quot;normal&quot; return occurs when your method hits a `return` statement, or just gets to the closing brace.\r\n\r\nA throw statement is an abnormal condition. A method that exits by way of throwing __does not return anything__. It got out by throwing. That doesn&#39;t mean it &quot;returned&quot; the exception. It means it &quot;threw&quot; the exception.\r\n\r\nA method that cannot possibly return normally (and if all ways through the method end in a `throw` statement, it cannot possibly return normally) can pick whatever it wants for a return type. It just won&#39;t matter. Anything will do. For a method whose stated purpose is:\r\n\r\n* If the inputs are valid, do absolutely nothing\r\n* Otherwise, throw an exception highlighting what&#39;s invalid about the input\r\n\r\nThe usual return type is `void`. So, do that:\r\n\r\n\r\n```java\r\npublic void checkInput(int[] integers) {\r\n    if (integers == null) {\r\n        throw new NullPointerException(&quot;integers&quot;);\r\n    }\r\n}\r\n```\r\n\r\nA few notes:\r\n\r\n* Your message was dead wrong. `null` does not mean &quot;empty&quot;, a very important distinction. `new int[0]` is an empty array. `null` is a null pointer. Don&#39;t conflate the two. It&#39;s possible to have a method that doesn&#39;t like an input of an empty array. In that case, the correct act to take is something like:\r\n\r\n```java\r\nif (integers.length == 0) throw new IllegalArgumentException(&quot;Empty &#39;integers&#39; array not allowed&quot;);\r\n```\r\n\r\nIt&#39;s more appropriate to use NullPointerException for params being null when as a precondition they aren&#39;t supposed to be.\r\n\r\n* If you&#39;re dereferencing the parameter, there&#39;s really no need to do this. The JVM itself will throw the NPE for you and even name it assuming you&#39;re using a modern JVM. You dereference `integers` (`for (int i : integers)` will do that), so you can remove it all and get the same result, namely: Calling that method with `null` will throw an NPE whose message includes the text &#39;integers&#39;.\r\n * Naming a method &#39;throwExceptionFor&#39; is a bit too on the nose, it describes too much how it works and not enough what it is supposed to do. `checkInput` describes the why/what instead of the how, that&#39;s usually the better way to name methods.","title":"What is the return type of a Java exception?","body":"<blockquote>\n<p>What is the return type of a Java exception?</p>\n</blockquote>\n<p>That's like asking: &quot;What is the colour of ennui?&quot; - the question doesn't make sense.</p>\n<p>Let me put it differently. Imagine this hypothetical method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int hello() {\n  while (true) {\n    // just loop forever and ever and ever.\n  }\n}\n</code></pre>\n<p>The above will... actually compile. Try it!</p>\n<p>That's a bit odd - this method is declared to return an int, and yet, the method <em>contains no <code>return</code> statement at all</em>. And yet this compiles fine. That's because it is a bit wonky in how it 'works'. It never actually exits, so there's no violation of the rules here. A return type of <code>int</code> means: <em>If</em> this method returns normally, it <em>must</em> do so by returning an <code>int</code> value.</p>\n<p>Note, <em>if</em> it returns normally. There is no rule stating that all methods must necessarily always return normally, or that it could ever even return normally. The above method cannot return normally, for example.</p>\n<p>A &quot;normal&quot; return occurs when your method hits a <code>return</code> statement, or just gets to the closing brace.</p>\n<p>A throw statement is an abnormal condition. A method that exits by way of throwing <strong>does not return anything</strong>. It got out by throwing. That doesn't mean it &quot;returned&quot; the exception. It means it &quot;threw&quot; the exception.</p>\n<p>A method that cannot possibly return normally (and if all ways through the method end in a <code>throw</code> statement, it cannot possibly return normally) can pick whatever it wants for a return type. It just won't matter. Anything will do. For a method whose stated purpose is:</p>\n<ul>\n<li>If the inputs are valid, do absolutely nothing</li>\n<li>Otherwise, throw an exception highlighting what's invalid about the input</li>\n</ul>\n<p>The usual return type is <code>void</code>. So, do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void checkInput(int[] integers) {\n    if (integers == null) {\n        throw new NullPointerException(&quot;integers&quot;);\n    }\n}\n</code></pre>\n<p>A few notes:</p>\n<ul>\n<li>Your message was dead wrong. <code>null</code> does not mean &quot;empty&quot;, a very important distinction. <code>new int[0]</code> is an empty array. <code>null</code> is a null pointer. Don't conflate the two. It's possible to have a method that doesn't like an input of an empty array. In that case, the correct act to take is something like:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>if (integers.length == 0) throw new IllegalArgumentException(&quot;Empty 'integers' array not allowed&quot;);\n</code></pre>\n<p>It's more appropriate to use NullPointerException for params being null when as a precondition they aren't supposed to be.</p>\n<ul>\n<li>If you're dereferencing the parameter, there's really no need to do this. The JVM itself will throw the NPE for you and even name it assuming you're using a modern JVM. You dereference <code>integers</code> (<code>for (int i : integers)</code> will do that), so you can remove it all and get the same result, namely: Calling that method with <code>null</code> will throw an NPE whose message includes the text 'integers'.</li>\n<li>Naming a method 'throwExceptionFor' is a bit too on the nose, it describes too much how it works and not enough what it is supposed to do. <code>checkInput</code> describes the why/what instead of the how, that's usually the better way to name methods.</li>\n</ul>\n"}],"owner":{"account_id":18056490,"reputation":35,"user_id":19832072,"display_name":"santa_cloudy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73754973,"answer_count":1,"score":-1,"last_activity_date":1670846585,"creation_date":1663418165,"question_id":73754902,"body_markdown":"I&#39;m writing a Calculator exercise that takes an array of int for addition, subtraction, division and multiplication. I need to check in every method that the array is not null. Instead of repeating myself, can I write the throwException method once and then just call it in my method?\r\ne.g. for addition\r\n\r\n```\r\npublic int addAll(int[] integers) {\r\n    throwExceptionForNullArray();\r\n    int sumOfAllIntegers = 0;\r\n    for (int integer : integers) {\r\n        sumOfAllIntegers += integer;\r\n    }\r\n    return  sumOfAllIntegers;\r\n}\r\n\r\npublic throwExceptionForNullArray (int[] integers){\r\n    if (integers == null){\r\n        throw new IllegalArgumentException(&quot;Empty array is not allowed&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut Java requires a return type in a method, do you have any ideas that can make the throwExceptionForNullArray method work? What should be the return type?\r\nThank you","title":"What is the return type of a Java exception?","body":"<p>I'm writing a Calculator exercise that takes an array of int for addition, subtraction, division and multiplication. I need to check in every method that the array is not null. Instead of repeating myself, can I write the throwException method once and then just call it in my method?\ne.g. for addition</p>\n<pre><code>public int addAll(int[] integers) {\n    throwExceptionForNullArray();\n    int sumOfAllIntegers = 0;\n    for (int integer : integers) {\n        sumOfAllIntegers += integer;\n    }\n    return  sumOfAllIntegers;\n}\n\npublic throwExceptionForNullArray (int[] integers){\n    if (integers == null){\n        throw new IllegalArgumentException(&quot;Empty array is not allowed&quot;);\n    }\n}\n\n</code></pre>\n<p>But Java requires a return type in a method, do you have any ideas that can make the throwExceptionForNullArray method work? What should be the return type?\nThank you</p>\n"},{"tags":["java","datetime","jackson"],"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1670839861,"post_id":74769401,"comment_id":131958082,"body_markdown":"Does this answer your question? [Spring Data JPA - ZonedDateTime format for json serialization](https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization\">Spring Data JPA - ZonedDateTime format for json serialization</a>"},{"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"score":0,"creation_date":1670846085,"post_id":74769401,"comment_id":131960018,"body_markdown":"It seems it is the same as my above example code, the above assert statement still fails.","body":"It seems it is the same as my above example code, the above assert statement still fails."}],"answers":[{"comments":[{"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"score":0,"creation_date":1670846033,"post_id":74769534,"comment_id":131959998,"body_markdown":"It doesn&#39;t work for me, because there&#39;re many places using ZonedDateTime, I don&#39;t want to add annotation everywhere, I just want to configure it globally.","body":"It doesn&#39;t work for me, because there&#39;re many places using ZonedDateTime, I don&#39;t want to add annotation everywhere, I just want to configure it globally."}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670840036,"creation_date":1670840036,"answer_id":74769534,"question_id":74769401,"body_markdown":"You don&#39;t need to customize ObjectMapper. Try to add this annotation above your property:\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;)\r\n    ZonedDateTime myDate\r\n\r\nFor more details look at this question and the accepted answer: [Spring Data JPA - ZonedDateTime format for json serialization][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization","title":"Unable to serialize/deserialize ZonedDateTime correctly using jackson","body":"<p>You don't need to customize ObjectMapper. Try to add this annotation above your property:</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;)\nZonedDateTime myDate\n</code></pre>\n<p>For more details look at this question and the accepted answer: <a href=\"https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization\">Spring Data JPA - ZonedDateTime format for json serialization</a></p>\n"},{"tags":[],"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670846572,"creation_date":1670846572,"answer_id":74770821,"question_id":74769401,"body_markdown":"Sorry folks, it seems my fault. I should specify the zoneId when creating ZonedDateTime.\r\n\r\nThe following code pass:\r\n\r\n    ZonedDateTime dateTime = ZonedDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\n    String json = mapper.writeValueAsString(dateTime);\r\n    LOGGER.info(&quot;ZonedDateTime json: &quot; + json);\r\n\r\n    ZonedDateTime dateTime2 = mapper.readValue(json, ZonedDateTime.class);\r\n    assertEquals(dateTime, dateTime2);","title":"Unable to serialize/deserialize ZonedDateTime correctly using jackson","body":"<p>Sorry folks, it seems my fault. I should specify the zoneId when creating ZonedDateTime.</p>\n<p>The following code pass:</p>\n<pre><code>ZonedDateTime dateTime = ZonedDateTime.now(ZoneId.of(&quot;UTC&quot;));\nString json = mapper.writeValueAsString(dateTime);\nLOGGER.info(&quot;ZonedDateTime json: &quot; + json);\n\nZonedDateTime dateTime2 = mapper.readValue(json, ZonedDateTime.class);\nassertEquals(dateTime, dateTime2);\n</code></pre>\n"}],"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670846572,"creation_date":1670839380,"question_id":74769401,"body_markdown":"I&#39;d like to serialize/deserialize ZonedDateTime in my spring boot app, so I need to customise the ObjectMapper. But when I deserialize it back, I can not get the ZonedDateTime correctly.  \r\n\r\nHere&#39;s my sample code:\r\n\r\n    ObjectMapper mapper = new ObjectMapper()\r\n        .enable(MapperFeature.DEFAULT_VIEW_INCLUSION)\r\n        .enable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\r\n        .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n        .findAndRegisterModules();\r\n\r\n    ZonedDateTime dateTime = ZonedDateTime.now();\r\n    String json = mapper.writeValueAsString(dateTime);\r\n    LOGGER.info(&quot;ZonedDateTime json: &quot; + json);\r\n\r\n    ZonedDateTime dateTime2 = mapper.readValue(json, ZonedDateTime.class);\r\n    assertEquals(dateTime, dateTime2);\r\n\r\nThis test fails with following:\r\n\r\n    org.opentest4j.AssertionFailedError: \r\n    Expected :2022-12-12T18:00:48.711+08:00[Asia/Shanghai]\r\n    Actual   :2022-12-12T10:00:48.711Z[UTC]","title":"Unable to serialize/deserialize ZonedDateTime correctly using jackson","body":"<p>I'd like to serialize/deserialize ZonedDateTime in my spring boot app, so I need to customise the ObjectMapper. But when I deserialize it back, I can not get the ZonedDateTime correctly.</p>\n<p>Here's my sample code:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper()\n    .enable(MapperFeature.DEFAULT_VIEW_INCLUSION)\n    .enable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\n    .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n    .findAndRegisterModules();\n\nZonedDateTime dateTime = ZonedDateTime.now();\nString json = mapper.writeValueAsString(dateTime);\nLOGGER.info(&quot;ZonedDateTime json: &quot; + json);\n\nZonedDateTime dateTime2 = mapper.readValue(json, ZonedDateTime.class);\nassertEquals(dateTime, dateTime2);\n</code></pre>\n<p>This test fails with following:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :2022-12-12T18:00:48.711+08:00[Asia/Shanghai]\nActual   :2022-12-12T10:00:48.711Z[UTC]\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670846922,"post_id":74770818,"comment_id":131960266,"body_markdown":"`@EnableJpaRepositories(basePackages = {&quot;com.cav.controllers.repository&quot;})` and probably remove your XML file","body":"<code>@EnableJpaRepositories(basePackages = {&quot;com.cav.controllers.repository&quot;})</code> and probably remove your XML file"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670848694,"post_id":74770818,"comment_id":131960876,"body_markdown":"The XML isn&#39;t loaded and thus useless. You don&#39;t need `@EnableJpaRepositories` with Spring Boot if you adhere to the recommended package structure. Please add the full stacktrace to your question instead of the snippet.","body":"The XML isn&#39;t loaded and thus useless. You don&#39;t need <code>@EnableJpaRepositories</code> with Spring Boot if you adhere to the recommended package structure. Please add the full stacktrace to your question instead of the snippet."},{"owner":{"account_id":26684852,"reputation":5,"user_id":20294326,"display_name":"Tony"},"score":0,"creation_date":1670849984,"post_id":74770818,"comment_id":131961300,"body_markdown":"Thank you for the replies. The controllers-servlet.xml is loaded. This is SpringMVC, and its so I have a form addUser, which is mapped to addUser, and it calls the controller AddController and the method addUser. The servlet.xml does the mapping.\nI have to do more research on Spring MVC with repos. There is something I am missing","body":"Thank you for the replies. The controllers-servlet.xml is loaded. This is SpringMVC, and its so I have a form addUser, which is mapped to addUser, and it calls the controller AddController and the method addUser. The servlet.xml does the mapping. I have to do more research on Spring MVC with repos. There is something I am missing"}],"owner":{"account_id":26684852,"reputation":5,"user_id":20294326,"display_name":"Tony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670846542,"creation_date":1670846542,"question_id":74770818,"body_markdown":"I am getting the following error running my application.\r\nNo qualifying bean of type &#39;com.cav.controllers.repository.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate\r\n\r\n\r\nI have a repository interface\r\n``` \r\npackage com.cav.controllers.repository;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.cav.models.User;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;User, String&gt;{\r\n\r\n}\r\n``` \r\nAnd a simple controller \r\n```\r\n@Controller\r\npublic class AddController {\r\n\t\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n\t\r\n\t@RequestMapping(&quot;/addUser&quot;)\r\n\tpublic ModelAndView addUser(HttpServletRequest req, HttpServletResponse resp) {\r\n\t\tSystem.out.println(&quot;Running method addUser&quot;);\r\n\t\tString param1 = req.getParameter(&quot;t1&quot;);\r\n\t\tString param2 = req.getParameter(&quot;t2&quot;);\r\n\t\tString param3 = req.getParameter(&quot;t3&quot;);\r\n\t\t\r\n\t\tModelAndView mv = new ModelAndView();\r\n\t\tUser user = new User(param1,param2,param3);\r\n\t\tuserRepository.save(user);\r\n\t\t//userService.saveUser(user);\r\n\t\tmv.setViewName(&quot;displayUser.jsp&quot;);\r\n\t\tmv.addObject(&quot;userID&quot;, param1);\r\n\t\tmv.addObject(&quot;fname&quot;, param2);\r\n\t\tmv.addObject(&quot;sname&quot;, param3);\r\n\t\treturn mv;\r\n\t}\r\n}\r\n```\r\nMy main app\r\n```\r\npackage com.cav;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\npublic class WebBankMvcApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(WebBankMvcApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nMy controllers-servlet.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:ctx=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n\thttp://www.springframework.org/schema/beans/spring-beans-2.5.xsd\r\n\thttp://www.springframework.org/schema/mvc\r\n\thttp://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n\thttp://www.springframework.org/schema/context\r\n\thttp://www.springframework.org/schema/context/spring-context-2.5.xsd &quot;&gt;\r\n\t\r\n\t\r\n\t&lt;ctx:annotation-config&gt;&lt;/ctx:annotation-config&gt;\r\n\t&lt;ctx:component-scan base-package=&quot;com.cav.controllers&quot;&gt;&lt;/ctx:component-scan&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nI cant see what is wrong my repository is in the path \r\n```\r\npackage com.cav.controllers.repository\r\n```\r\nSo it should be able to see the jparepository and autowire it.\r\n\r\n","title":"Getting error No qualifying bean of type &#39;com.cav.controllers.repository.UserRepository&#39; SpringMVC","body":"<p>I am getting the following error running my application.\nNo qualifying bean of type 'com.cav.controllers.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate</p>\n<p>I have a repository interface</p>\n<pre><code>package com.cav.controllers.repository;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.cav.models.User;\n\npublic interface UserRepository extends JpaRepository&lt;User, String&gt;{\n\n}\n</code></pre>\n<p>And a simple controller</p>\n<pre><code>@Controller\npublic class AddController {\n    \n    @Autowired\n    UserRepository userRepository;\n    \n    \n    @RequestMapping(&quot;/addUser&quot;)\n    public ModelAndView addUser(HttpServletRequest req, HttpServletResponse resp) {\n        System.out.println(&quot;Running method addUser&quot;);\n        String param1 = req.getParameter(&quot;t1&quot;);\n        String param2 = req.getParameter(&quot;t2&quot;);\n        String param3 = req.getParameter(&quot;t3&quot;);\n        \n        ModelAndView mv = new ModelAndView();\n        User user = new User(param1,param2,param3);\n        userRepository.save(user);\n        //userService.saveUser(user);\n        mv.setViewName(&quot;displayUser.jsp&quot;);\n        mv.addObject(&quot;userID&quot;, param1);\n        mv.addObject(&quot;fname&quot;, param2);\n        mv.addObject(&quot;sname&quot;, param3);\n        return mv;\n    }\n}\n</code></pre>\n<p>My main app</p>\n<pre><code>package com.cav;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\npublic class WebBankMvcApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WebBankMvcApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>My controllers-servlet.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:ctx=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n    http://www.springframework.org/schema/mvc\n    http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context-2.5.xsd &quot;&gt;\n    \n    \n    &lt;ctx:annotation-config&gt;&lt;/ctx:annotation-config&gt;\n    &lt;ctx:component-scan base-package=&quot;com.cav.controllers&quot;&gt;&lt;/ctx:component-scan&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I cant see what is wrong my repository is in the path</p>\n<pre><code>package com.cav.controllers.repository\n</code></pre>\n<p>So it should be able to see the jparepository and autowire it.</p>\n"},{"tags":["java","maven","jaxb2","xjc","maven-jaxb2-plugin"],"answers":[{"comments":[{"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"score":2,"creation_date":1503314295,"post_id":45795634,"comment_id":78549010,"body_markdown":"Hi Sunil, thank&#39;s for your answer! I am not sure if I was understood, though. I am trying to generate the code from a wsdl file. Accessing the needed files requires basic authentication. This should be set somehow during the execution of the maven plugin.","body":"Hi Sunil, thank&#39;s for your answer! I am not sure if I was understood, though. I am trying to generate the code from a wsdl file. Accessing the needed files requires basic authentication. This should be set somehow during the execution of the maven plugin."}],"tags":[],"owner":{"account_id":11541191,"reputation":593,"user_id":8456816,"display_name":"Sunil Singhal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503313919,"creation_date":1503313919,"answer_id":45795634,"question_id":45795362,"body_markdown":"`wsimport`, `wsdl2java`, `maven-jaxb2` are meant for generating Proxy classes out of the Descriptor file.\r\nSince you are getting Unauthorized (401), it could be either due to wrong creds or may be you are not sending credentials et all in a request.\r\n\r\n\r\nFor Basic Auth, refer [another stackoverflow question here](https://stackoverflow.com/questions/7071366/java-web-service-client-basic-authentication)\r\n\r\nAlso, if you can post your exact code here where you configure the Creds, it will be helpful in identifying the cause","title":"Generate java classes from a wsdl url with basic authentication","body":"<p><code>wsimport</code>, <code>wsdl2java</code>, <code>maven-jaxb2</code> are meant for generating Proxy classes out of the Descriptor file.\nSince you are getting Unauthorized (401), it could be either due to wrong creds or may be you are not sending credentials et all in a request.</p>\n\n<p>For Basic Auth, refer <a href=\"https://stackoverflow.com/questions/7071366/java-web-service-client-basic-authentication\">another stackoverflow question here</a></p>\n\n<p>Also, if you can post your exact code here where you configure the Creds, it will be helpful in identifying the cause</p>\n"},{"tags":[],"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503835230,"creation_date":1503835230,"answer_id":45904723,"question_id":45795362,"body_markdown":"I haven&#39;t found any way of solving this. I ended up downloading the `.wsdl` and the needed `.xsd` files and edited them (changed the import URL&#39;s) properly.\r\n\r\n**Note**: For people that have the same issue, i would recommend the [jaxws:wsimport][1] plugin, that supports an `xauthFile` option for the configuration of the basic authentication.\r\n\r\n\r\n  [1]: http://www.mojohaus.org/jaxws-maven-plugin/wsimport-mojo.html","title":"Generate java classes from a wsdl url with basic authentication","body":"<p>I haven't found any way of solving this. I ended up downloading the <code>.wsdl</code> and the needed <code>.xsd</code> files and edited them (changed the import URL's) properly.</p>\n\n<p><strong>Note</strong>: For people that have the same issue, i would recommend the <a href=\"http://www.mojohaus.org/jaxws-maven-plugin/wsimport-mojo.html\" rel=\"nofollow noreferrer\">jaxws:wsimport</a> plugin, that supports an <code>xauthFile</code> option for the configuration of the basic authentication.</p>\n"},{"tags":[],"owner":{"account_id":2419198,"reputation":827,"user_id":2112715,"display_name":"Prabah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670846518,"creation_date":1670846518,"answer_id":74770813,"question_id":45795362,"body_markdown":"It took a while for me to understand what is there inside `xauthfile`.\r\nAn `xauthfile` is nothing but, URL with basic authentication credentials.\r\n\r\n\r\n&gt; https://username:pass@url:port/&lt;wsdl&gt;","title":"Generate java classes from a wsdl url with basic authentication","body":"<p>It took a while for me to understand what is there inside <code>xauthfile</code>.\nAn <code>xauthfile</code> is nothing but, URL with basic authentication credentials.</p>\n<blockquote>\n<p>https://username:pass@url:port/</p>\n</blockquote>\n"}],"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4889,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1670846518,"creation_date":1503313008,"question_id":45795362,"body_markdown":"I am trying to generate the java classes from a WSLD file, that uses basic authentication.\r\n\r\nAlthough there are many plugins out there, I have to use the following one: `org.jvnet.jaxb2.maven2:maven-jaxb2-plugin` \r\n\r\nWith `wsimport` or `wsdl2java` i have found the way to configure the basic authentication parameters. Using the `maven-jaxb2-plugin` i had no luck.\r\n\r\nMy configuration follows:\r\n\r\n           &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.13.2&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;packageName&gt;com.mycompany&lt;/packageName&gt;\r\n\t\t\t\t\t\t\t&lt;sourceType&gt;wsdl&lt;/sourceType&gt;\r\n\t\t\t\t\t\t\t&lt;specVersion&gt;2.2&lt;/specVersion&gt;\r\n\t\t\t\t\t\t\t&lt;schemas&gt;\r\n\t\t\t\t\t\t\t\t&lt;schema&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;url&gt;https://some-url?wsdl&lt;/url&gt;\r\n\t\t\t\t\t\t\t\t&lt;/schema&gt;\r\n\t\t\t\t\t\t\t&lt;/schemas&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/generated-sources/xjb&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t\t\t\t\t\t\t&lt;useActiveProxyAsHttpproxy&gt;true&lt;/useActiveProxyAsHttpproxy&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\nAs expected, the build fails with the following message:\r\n\r\n    Caused by: java.io.IOException: Server returned HTTP response code: 401 for URL: https://some-url?wsdl\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1840)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:647)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:189)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:812)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\r\n\tat com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.getSchemaDocument(XSDHandler.java:2275)\r\n\t... 36 more\r\n\r\n\r\nAny ideas about the basic authentication configuration? Thank&#39;s in advance!\r\n\r\n*Note: &lt;url&gt;https://username:pass@some-url?wsdl&lt;/url&gt;, i still get an IOException because of the unauthorized request.*","title":"Generate java classes from a wsdl url with basic authentication","body":"<p>I am trying to generate the java classes from a WSLD file, that uses basic authentication.</p>\n\n<p>Although there are many plugins out there, I have to use the following one: <code>org.jvnet.jaxb2.maven2:maven-jaxb2-plugin</code> </p>\n\n<p>With <code>wsimport</code> or <code>wsdl2java</code> i have found the way to configure the basic authentication parameters. Using the <code>maven-jaxb2-plugin</code> i had no luck.</p>\n\n<p>My configuration follows:</p>\n\n<pre><code>       &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.13.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;packageName&gt;com.mycompany&lt;/packageName&gt;\n                        &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\n                        &lt;specVersion&gt;2.2&lt;/specVersion&gt;\n                        &lt;schemas&gt;\n                            &lt;schema&gt;\n                                &lt;url&gt;https://some-url?wsdl&lt;/url&gt;\n                            &lt;/schema&gt;\n                        &lt;/schemas&gt;\n\n                        &lt;outputDirectory&gt;target/generated-sources/xjb&lt;/outputDirectory&gt;\n                        &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                        &lt;useActiveProxyAsHttpproxy&gt;true&lt;/useActiveProxyAsHttpproxy&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>As expected, the build fails with the following message:</p>\n\n<pre><code>Caused by: java.io.IOException: Server returned HTTP response code: 401 for URL: https://some-url?wsdl\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1840)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:647)\nat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:189)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:812)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\nat com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.getSchemaDocument(XSDHandler.java:2275)\n... 36 more\n</code></pre>\n\n<p>Any ideas about the basic authentication configuration? Thank's in advance!</p>\n\n<p><em>Note: <a href=\"https://username:pass@some-url?wsdl\" rel=\"nofollow noreferrer\">https://username:pass@some-url?wsdl</a>, i still get an IOException because of the unauthorized request.</em></p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1670842288,"post_id":74769461,"comment_id":131958816,"body_markdown":"Can you run the two queries after each other, store both results in Java and calculate the percentage there? Or is it mandatory to get the result directly via SQL?","body":"Can you run the two queries after each other, store both results in Java and calculate the percentage there? Or is it mandatory to get the result directly via SQL?"},{"owner":{"account_id":21390269,"reputation":23,"user_id":15754469,"display_name":"Ahmed"},"score":0,"creation_date":1670843285,"post_id":74769461,"comment_id":131959129,"body_markdown":"@deHaar it would be fine if I could store them in java and make the calculation there, I tired doing that by making a second query statement in a couple of different ways but it says the result set is closed.","body":"@deHaar it would be fine if I could store them in java and make the calculation there, I tired doing that by making a second query statement in a couple of different ways but it says the result set is closed."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1670845014,"post_id":74769461,"comment_id":131959691,"body_markdown":"Ok, that seems to be a different problem If the `ResultSet` is closed already, you have closed it or it was automatically closed. Do you use a `try` statement? Please [edit] your question and include the relevant Java code.","body":"Ok, that seems to be a different problem If the <code>ResultSet</code> is closed already, you have closed it or it was automatically closed. Do you use a <code>try</code> statement? Please <a href=\"https://stackoverflow.com/posts/74769461/edit\">edit</a> your question and include the relevant Java code."}],"answers":[{"tags":[],"owner":{"account_id":26909890,"reputation":1,"user_id":20485646,"display_name":"zhongbao.yang"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670840820,"creation_date":1670840808,"answer_id":74769682,"question_id":74769461,"body_markdown":"you can try sql\r\n```sql\r\nselect sum(state)/count(state) \r\nfrom tasks where p_id = 2 \r\n```","title":"calculate percentange from data of two rows with different select conditions","body":"<p>you can try sql</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select sum(state)/count(state) \nfrom tasks where p_id = 2 \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1670847044,"post_id":74770666,"comment_id":131960308,"body_markdown":"Then change `WHEN 0` to `WHEN 1`, @Ahmed . Based on your description, I assumed you wanted the above, as you stated you wanted `(select count(state) from tasks where p_id = 2) / (select count(state) from tasks where p_id = 2 AND state = 0)`; For the above that would result in `4 / 1 = 4` not `0.25`","body":"Then change <code>WHEN 0</code> to <code>WHEN 1</code>, @Ahmed . Based on your description, I assumed you wanted the above, as you stated you wanted <code>(select count(state) from tasks where p_id = 2) &#47; (select count(state) from tasks where p_id = 2 AND state = 0)</code>; For the above that would result in <code>4 &#47; 1 = 4</code> not <code>0.25</code>"},{"owner":{"account_id":21390269,"reputation":23,"user_id":15754469,"display_name":"Ahmed"},"score":0,"creation_date":1670847334,"post_id":74770666,"comment_id":131960389,"body_markdown":"that works! sorry for the confusion and thank you for your help.","body":"that works! sorry for the confusion and thank you for your help."}],"tags":[],"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670846409,"creation_date":1670845684,"answer_id":74770666,"question_id":74769461,"body_markdown":"Conditional aggregation would be the simplest method here. You could do this with a `SUM` divided by a `COUNT`:\r\n```sql\r\nSELECT SUM(CASE state WHEN 0 THEN 1. ELSE 0. END) / NULLIF(COUNT(state),0)\r\nFROM dbo.YourTable\r\nWHERE p_id = 2;\r\n```\r\nThe `NULLIF` is there to avoid divide by zero errors.\r\n\r\nHowever, `AVG` might actually be an easier solution:\r\n```sql\r\nSELECT AVG(CASE state WHEN 0 THEN 1. ELSE 0. END)\r\nFROM dbo.YourTable\r\nWHERE p_id = 2;\r\n```\r\n","title":"calculate percentange from data of two rows with different select conditions","body":"<p>Conditional aggregation would be the simplest method here. You could do this with a <code>SUM</code> divided by a <code>COUNT</code>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT SUM(CASE state WHEN 0 THEN 1. ELSE 0. END) / NULLIF(COUNT(state),0)\nFROM dbo.YourTable\nWHERE p_id = 2;\n</code></pre>\n<p>The <code>NULLIF</code> is there to avoid divide by zero errors.</p>\n<p>However, <code>AVG</code> might actually be an easier solution:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT AVG(CASE state WHEN 0 THEN 1. ELSE 0. END)\nFROM dbo.YourTable\nWHERE p_id = 2;\n</code></pre>\n"}],"owner":{"account_id":21390269,"reputation":23,"user_id":15754469,"display_name":"Ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74770666,"answer_count":2,"score":0,"last_activity_date":1670846409,"creation_date":1670839658,"question_id":74769461,"body_markdown":"I have a table that shows the state of tasks of a project, when the task is finished the state = 1 when the task is not finished the state = 0 by default \r\n```sql\r\ncreate tasks(\r\n  id int primary key identitiy(1, 1),\r\n  p_id int references projects(id),\r\n  emp_id int references users(id),\r\n  state int default (0)\r\n)\r\n```\r\nI&#39;m trying to calculate the percentage of completed tasks by dividing the `select count(state) from tasks where p_id = 2` over `select count(state) from tasks where p_id = 2 AND state = 0` and multiplying the result by 100 but I can&#39;t get the query to work.\r\n\r\nI tried a number of solutions I found but I couldn&#39;t find a question that had the same conditions on the select statements.\r\n\r\nI&#39;m trying to get the result into a java program through JDBC and tried to include `allowMultiQueries=true` to the connectionURL or use two different query statements and nesting the ResultSets but nothing worked so far\r\n\r\n(Edit) this is the method I&#39;m working with in java, when I run it with `p_id = 2` it throws the exception `The result set is closed`\r\n\r\n    public void projectProgress()throws SQLException, ClassNotFoundException{\r\n        SqlConnection DB = new SqlConnection(); \r\n        int id = Integer.parseInt(PMprogressFrame.Pnum.getText());\r\n        String sql = &quot;select count(state) as finishedTasks from tasks where P_id = &quot;+id+&quot; AND state = 1&quot;;\r\n        String sql2 = &quot;select count(state) as totalTasks from tasks where p_id = 2&quot;;\r\n        \r\n        ResultSet result = DB.st.executeQuery(sql);\r\n        ResultSet result2 = DB.st.executeQuery(sql2);\r\n        while(result.next()){\r\n            while(result2.next()){\r\n\r\n            float var1 = result.getFloat(&quot;finishedTasks&quot;);\r\n            float var2 = result.getFloat(&quot;totalTasks&quot;);\r\n            float p = (var1/var2)*100;\r\n            PMprogressFrame.progress.setText(p+&quot;%&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nand this is my connection method:\r\n\r\n    public class SqlConnection {\r\n    \r\n        Connection conn;\r\n        Statement st;\r\n        ResultSet rs;\r\n    \r\n        public SqlConnection() throws SQLException, ClassNotFoundException{\r\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n            String connectionUrl = &quot;jdbc:sqlserver://MEMENTOMORI:1433;databaseName=PMS;user=sa;password=12345;encrypt=false;allowMultiQueries=true&quot;;  \r\n             conn = DriverManager.getConnection(connectionUrl);\r\n            st = conn.createStatement();\r\n        \r\n        }\r\n\r\n","title":"calculate percentange from data of two rows with different select conditions","body":"<p>I have a table that shows the state of tasks of a project, when the task is finished the state = 1 when the task is not finished the state = 0 by default</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create tasks(\n  id int primary key identitiy(1, 1),\n  p_id int references projects(id),\n  emp_id int references users(id),\n  state int default (0)\n)\n</code></pre>\n<p>I'm trying to calculate the percentage of completed tasks by dividing the <code>select count(state) from tasks where p_id = 2</code> over <code>select count(state) from tasks where p_id = 2 AND state = 0</code> and multiplying the result by 100 but I can't get the query to work.</p>\n<p>I tried a number of solutions I found but I couldn't find a question that had the same conditions on the select statements.</p>\n<p>I'm trying to get the result into a java program through JDBC and tried to include <code>allowMultiQueries=true</code> to the connectionURL or use two different query statements and nesting the ResultSets but nothing worked so far</p>\n<p>(Edit) this is the method I'm working with in java, when I run it with <code>p_id = 2</code> it throws the exception <code>The result set is closed</code></p>\n<pre><code>public void projectProgress()throws SQLException, ClassNotFoundException{\n    SqlConnection DB = new SqlConnection(); \n    int id = Integer.parseInt(PMprogressFrame.Pnum.getText());\n    String sql = &quot;select count(state) as finishedTasks from tasks where P_id = &quot;+id+&quot; AND state = 1&quot;;\n    String sql2 = &quot;select count(state) as totalTasks from tasks where p_id = 2&quot;;\n    \n    ResultSet result = DB.st.executeQuery(sql);\n    ResultSet result2 = DB.st.executeQuery(sql2);\n    while(result.next()){\n        while(result2.next()){\n\n        float var1 = result.getFloat(&quot;finishedTasks&quot;);\n        float var2 = result.getFloat(&quot;totalTasks&quot;);\n        float p = (var1/var2)*100;\n        PMprogressFrame.progress.setText(p+&quot;%&quot;);\n        }\n    }\n}\n</code></pre>\n<p>and this is my connection method:</p>\n<pre><code>public class SqlConnection {\n\n    Connection conn;\n    Statement st;\n    ResultSet rs;\n\n    public SqlConnection() throws SQLException, ClassNotFoundException{\n        Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n        String connectionUrl = &quot;jdbc:sqlserver://MEMENTOMORI:1433;databaseName=PMS;user=sa;password=12345;encrypt=false;allowMultiQueries=true&quot;;  \n         conn = DriverManager.getConnection(connectionUrl);\n        st = conn.createStatement();\n    \n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","caching","redisson"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1670846519,"post_id":74770742,"comment_id":131960159,"body_markdown":"you can&#39;t. HBN uses `org.hibernate.cache.spi.entry.StandardCacheEntryImpl#subclass` field to validate consistency.","body":"you can&#39;t. HBN uses <code>org.hibernate.cache.spi.entry.StandardCacheEntryImpl#subclas&zwnj;&#8203;s</code> field to validate consistency."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670846570,"post_id":74770742,"comment_id":131960169,"body_markdown":"You can use the full class name to get the class and on class you can call `.getSimpleName()`","body":"You can use the full class name to get the class and on class you can call <code>.getSimpleName()</code>"},{"owner":{"account_id":26434968,"reputation":45,"user_id":20080481,"display_name":"User01"},"score":0,"creation_date":1670851708,"post_id":74770742,"comment_id":131961877,"body_markdown":"@AndreyB.Panfilov do you recommend an alternative solution, how can I read cached items without the error java.lang.IllegalArgumentException: Unknown entity , one solution would be to have a distinct cache region for each sub-project, but that will imply having to write code to evict other regions on cache content update to ensure data consistency.","body":"@AndreyB.Panfilov do you recommend an alternative solution, how can I read cached items without the error java.lang.IllegalArgumentException: Unknown entity , one solution would be to have a distinct cache region for each sub-project, but that will imply having to write code to evict other regions on cache content update to ensure data consistency."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1670852865,"post_id":74770742,"comment_id":131962283,"body_markdown":"The solution is pretty simple: share models across all projects involved.","body":"The solution is pretty simple: share models across all projects involved."}],"owner":{"account_id":26434968,"reputation":45,"user_id":20080481,"display_name":"User01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670846087,"creation_date":1670846087,"question_id":74770742,"body_markdown":"I&#39;m working on Java Spring project where we use Hibernate second level cache, Redisson is our cache region provider, by accessing a cache values by the following:\r\n\r\n    Collection&lt;Object&gt; mylist=redissonClient.getMapCache(&quot;regionName&quot;).readAllValues();\r\nand the output is something like this:\r\n\r\n    [read-write Item(CacheEntry(com.example.test.entities.myEntity))]\r\n\r\nHow can I change the fully qualified class name &quot;com.example.test.entities.myEntity&quot; to be just captured as myEntity.\r\n\r\nI need to unify the name because I have different sub-projects accessing the same cache and same classes and the fully qualified name for the same class differs from sub-project to another.","title":"dealing with Hibernate second level cache","body":"<p>I'm working on Java Spring project where we use Hibernate second level cache, Redisson is our cache region provider, by accessing a cache values by the following:</p>\n<pre><code>Collection&lt;Object&gt; mylist=redissonClient.getMapCache(&quot;regionName&quot;).readAllValues();\n</code></pre>\n<p>and the output is something like this:</p>\n<pre><code>[read-write Item(CacheEntry(com.example.test.entities.myEntity))]\n</code></pre>\n<p>How can I change the fully qualified class name &quot;com.example.test.entities.myEntity&quot; to be just captured as myEntity.</p>\n<p>I need to unify the name because I have different sub-projects accessing the same cache and same classes and the fully qualified name for the same class differs from sub-project to another.</p>\n"},{"tags":["java","spring","exception","logging","exceptionhandler"],"answers":[{"comments":[{"owner":{"account_id":27227630,"reputation":13,"user_id":20755887,"display_name":"Marco Florio"},"score":0,"creation_date":1670846074,"post_id":74770694,"comment_id":131960016,"body_markdown":"Good idea, I think this solution should do it, thanks! :)","body":"Good idea, I think this solution should do it, thanks! :)"}],"tags":[],"owner":{"account_id":8075036,"reputation":77,"user_id":6086395,"display_name":"Ihor0k"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670845854,"creation_date":1670845854,"answer_id":74770694,"question_id":74770226,"body_markdown":"You can use Spring AOP to measure execution time and catch exceptions.\r\n[Here](https://medium.com/@mailshine/spring-boot-measure-execution-time-using-spring-aop-and-aspectj-4590d7bd6bb2) is an example. It only measures time. But you can add a try-catch there similar to what you had in your old code.\r\n\r\nIf you still want to use an `ExceptionHandler`, then you can create `class TimeMeasuredException extends RuntimeException` with `executionTime` field. And then do\r\n```\r\nInstant start = Instant.now();\r\ntry {\r\n  point.proceed();\r\n} catch (Exception ex) {\r\n  Instant end = Instant.now();\r\n  Duration executionTime = Duration.between(start, end);\r\n  throw new TimeMeasuredException(executionTime, ex);\r\n}\r\n```\r\nYour `ExceptionHandler` should either catch `TimeMeasuredException` or you can catch `Exception` and then check it with `instanceof`.","title":"How to log execution time with ExceptionHandler","body":"<p>You can use Spring AOP to measure execution time and catch exceptions.\n<a href=\"https://medium.com/@mailshine/spring-boot-measure-execution-time-using-spring-aop-and-aspectj-4590d7bd6bb2\" rel=\"nofollow noreferrer\">Here</a> is an example. It only measures time. But you can add a try-catch there similar to what you had in your old code.</p>\n<p>If you still want to use an <code>ExceptionHandler</code>, then you can create <code>class TimeMeasuredException extends RuntimeException</code> with <code>executionTime</code> field. And then do</p>\n<pre><code>Instant start = Instant.now();\ntry {\n  point.proceed();\n} catch (Exception ex) {\n  Instant end = Instant.now();\n  Duration executionTime = Duration.between(start, end);\n  throw new TimeMeasuredException(executionTime, ex);\n}\n</code></pre>\n<p>Your <code>ExceptionHandler</code> should either catch <code>TimeMeasuredException</code> or you can catch <code>Exception</code> and then check it with <code>instanceof</code>.</p>\n"}],"owner":{"account_id":27227630,"reputation":13,"user_id":20755887,"display_name":"Marco Florio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74770694,"answer_count":1,"score":1,"last_activity_date":1670845854,"creation_date":1670843378,"question_id":74770226,"body_markdown":"I am trying to refactor my application and now i also want to use an ExceptionHandler.\r\nTherefore I already implemented some Methods like\r\n\r\n\r\n```\r\n@org.springframework.web.bind.annotation.ExceptionHandler(Exception.class)\r\npublic final ResponseEntity&lt;SomeClass&gt; handleException(Exception e) {\r\n// do something\r\n}\r\n```\r\n\r\nNow I want to log the execution time of the calling method also when the ExeptionHandler method is called.\r\nIn my old code I did it like this:\r\n\r\n\r\n```\r\npublic void doSomething() {\r\n    Instant start = Instant.now();\r\n    \r\n    try {\r\n        // do some fancy code stuff\r\n    } catch (Exception e) {\r\n        logTime(Duration.between(start, Instant.now()).toMillis());\r\n    }\r\n} \r\n```\r\n\r\nHas anybody an idea of how to get the information of the startTime passed in the ExceptionHandler method? Or is there maybe a much better way to get the information?\r\n\r\nI already had a look in the Exception object structure if I could maybe find some of the needed information.","title":"How to log execution time with ExceptionHandler","body":"<p>I am trying to refactor my application and now i also want to use an ExceptionHandler.\nTherefore I already implemented some Methods like</p>\n<pre><code>@org.springframework.web.bind.annotation.ExceptionHandler(Exception.class)\npublic final ResponseEntity&lt;SomeClass&gt; handleException(Exception e) {\n// do something\n}\n</code></pre>\n<p>Now I want to log the execution time of the calling method also when the ExeptionHandler method is called.\nIn my old code I did it like this:</p>\n<pre><code>public void doSomething() {\n    Instant start = Instant.now();\n    \n    try {\n        // do some fancy code stuff\n    } catch (Exception e) {\n        logTime(Duration.between(start, Instant.now()).toMillis());\n    }\n} \n</code></pre>\n<p>Has anybody an idea of how to get the information of the startTime passed in the ExceptionHandler method? Or is there maybe a much better way to get the information?</p>\n<p>I already had a look in the Exception object structure if I could maybe find some of the needed information.</p>\n"},{"tags":["java","android","datetime","simpledateformat"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1471986340,"post_id":10725246,"comment_id":65568736,"body_markdown":"Your example text up top is 21st which is a Monday not a Tuesday. Different from the example code.","body":"Your example text up top is 21st which is a Monday not a Tuesday. Different from the example code."}],"answers":[{"comments":[{"owner":{"account_id":1066536,"reputation":1089,"user_id":1066956,"accept_rate":85,"display_name":"Manto"},"score":1,"creation_date":1337798592,"post_id":10725303,"comment_id":13931870,"body_markdown":"I tried it but the line Date date = inputFormat.parse(inputText); still throw the exception I mentioned above :(","body":"I tried it but the line Date date = inputFormat.parse(inputText); still throw the exception I mentioned above :("},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1337798700,"post_id":10725303,"comment_id":13931918,"body_markdown":"@user1066956: Please post the *exact* string involved then - because I used the string you gave me in the question, and it was fine.","body":"@user1066956: Please post the <i>exact</i> string involved then - because I used the string you gave me in the question, and it was fine."},{"owner":{"account_id":1066536,"reputation":1089,"user_id":1066956,"accept_rate":85,"display_name":"Manto"},"score":0,"creation_date":1337801089,"post_id":10725303,"comment_id":13932901,"body_markdown":"&quot;Tue May 21 14:32:00 GMT 2012&quot; is the exact string I used. I ran the following code in TextMate and got the error I mentioned above.","body":"&quot;Tue May 21 14:32:00 GMT 2012&quot; is the exact string I used. I ran the following code in TextMate and got the error I mentioned above."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1337804854,"post_id":10725303,"comment_id":13934353,"body_markdown":"@user1066956: I&#39;ve edited a short but complete program into the answer. Can you run that exact code on your desktop? When it was failing, was that running it in Android or in Java?","body":"@user1066956: I&#39;ve edited a short but complete program into the answer. Can you run that exact code on your desktop? When it was failing, was that running it in Android or in Java?"},{"owner":{"account_id":1066536,"reputation":1089,"user_id":1066956,"accept_rate":85,"display_name":"Manto"},"score":0,"creation_date":1337814172,"post_id":10725303,"comment_id":13937068,"body_markdown":"BTW, if we don&#39;t know the timezone (e.g. sometime the string come with America/Los_Angeles), what should we put to replace &#39;GMT&#39;? Should we put zzzz?","body":"BTW, if we don&#39;t know the timezone (e.g. sometime the string come with America/Los_Angeles), what should we put to replace &#39;GMT&#39;? Should we put zzzz?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1337815245,"post_id":10725303,"comment_id":13937268,"body_markdown":"@user1066956: &quot;America/Los_Angeles&quot; *is* the time zone ID. That&#39;s a much *better* time zone ID than &quot;GMT&quot;. You could certainly try &quot;zzzz&quot; - I can&#39;t remember under which versions that will work.","body":"@user1066956: &quot;America/Los_Angeles&quot; <i>is</i> the time zone ID. That&#39;s a much <i>better</i> time zone ID than &quot;GMT&quot;. You could certainly try &quot;zzzz&quot; - I can&#39;t remember under which versions that will work."},{"owner":{"account_id":14739732,"reputation":184,"user_id":10644658,"display_name":"Deepak J"},"score":0,"creation_date":1599373648,"post_id":10725303,"comment_id":112751314,"body_markdown":"Your answer worked miraculously. Thank you so much. Upvoted.","body":"Your answer worked miraculously. Thank you so much. Upvoted."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":7,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1337804764,"creation_date":1337795662,"answer_id":10725303,"question_id":10725246,"body_markdown":"The format string you provided for *parsing* doesn&#39;t correspond with the text format you&#39;ve actually got. You need to parse first, then format. It looks like you want:\r\n\r\n    SimpleDateFormat inputFormat = new SimpleDateFormat(\r\n        &quot;EEE MMM dd HH:mm:ss &#39;GMT&#39; yyyy&quot;, Locale.US);\r\n    inputFormat.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n\r\n    SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;MMM dd, yyyy h:mm a&quot;);\r\n    // Adjust locale and zone appropriately\r\n\r\n    Date date = inputFormat.parse(inputText);\r\n    String outputText = outputFormat.format(date);\r\n\r\nEDIT: Here&#39;s the same code in the form of a short but complete program, with your sample input:\r\n\r\n    import java.util.*;\r\n    import java.text.*;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws ParseException {\r\n            String inputText = &quot;Tue May 21 14:32:00 GMT 2012&quot;;\r\n            SimpleDateFormat inputFormat = new SimpleDateFormat\r\n                (&quot;EEE MMM dd HH:mm:ss &#39;GMT&#39; yyyy&quot;, Locale.US);\r\n            inputFormat.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n            \r\n            SimpleDateFormat outputFormat =\r\n                new SimpleDateFormat(&quot;MMM dd, yyyy h:mm a&quot;);\r\n            // Adjust locale and zone appropriately\r\n            Date date = inputFormat.parse(inputText);\r\n            String outputText = outputFormat.format(date);\r\n            System.out.println(outputText);\r\n        }\r\n    }\r\n\r\nCan you compile and run *that exact code*?","title":"Java/Android - Convert a GMT time string to local time","body":"<p>The format string you provided for <em>parsing</em> doesn't correspond with the text format you've actually got. You need to parse first, then format. It looks like you want:</p>\n\n<pre><code>SimpleDateFormat inputFormat = new SimpleDateFormat(\n    \"EEE MMM dd HH:mm:ss 'GMT' yyyy\", Locale.US);\ninputFormat.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\n\nSimpleDateFormat outputFormat = new SimpleDateFormat(\"MMM dd, yyyy h:mm a\");\n// Adjust locale and zone appropriately\n\nDate date = inputFormat.parse(inputText);\nString outputText = outputFormat.format(date);\n</code></pre>\n\n<p>EDIT: Here's the same code in the form of a short but complete program, with your sample input:</p>\n\n<pre><code>import java.util.*;\nimport java.text.*;\n\npublic class Test {\n    public static void main(String[] args) throws ParseException {\n        String inputText = \"Tue May 21 14:32:00 GMT 2012\";\n        SimpleDateFormat inputFormat = new SimpleDateFormat\n            (\"EEE MMM dd HH:mm:ss 'GMT' yyyy\", Locale.US);\n        inputFormat.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\n\n        SimpleDateFormat outputFormat =\n            new SimpleDateFormat(\"MMM dd, yyyy h:mm a\");\n        // Adjust locale and zone appropriately\n        Date date = inputFormat.parse(inputText);\n        String outputText = outputFormat.format(date);\n        System.out.println(outputText);\n    }\n}\n</code></pre>\n\n<p>Can you compile and run <em>that exact code</em>?</p>\n"},{"tags":[],"owner":{"account_id":136194,"reputation":2562,"user_id":339545,"display_name":"LINEMAN78"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337796301,"creation_date":1337796301,"answer_id":10725458,"question_id":10725246,"body_markdown":"The formatter you use to parse must be defined to the format you expect. Here is an example that works for the values you provided however you may need to change it depending on how some edge cases act for the input:\r\n\r\n    String date = &quot;Tue May 21 14:32:00 GMT 2012&quot;;\r\n    DateFormat inputFormat = new SimpleDateFormat(&quot;EE MMM dd HH:mm:ss zz yyy&quot;);\r\n    Date d = inputFormat.parse(date);\r\n    DateFormat outputFormat = new SimpleDateFormat(&quot;MMM dd, yyy h:mm a zz&quot;);\r\n    System.out.println(outputFormat.format(d));","title":"Java/Android - Convert a GMT time string to local time","body":"<p>The formatter you use to parse must be defined to the format you expect. Here is an example that works for the values you provided however you may need to change it depending on how some edge cases act for the input:</p>\n\n<pre><code>String date = \"Tue May 21 14:32:00 GMT 2012\";\nDateFormat inputFormat = new SimpleDateFormat(\"EE MMM dd HH:mm:ss zz yyy\");\nDate d = inputFormat.parse(date);\nDateFormat outputFormat = new SimpleDateFormat(\"MMM dd, yyy h:mm a zz\");\nSystem.out.println(outputFormat.format(d));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":366221,"reputation":471,"user_id":711626,"display_name":"GHz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337802874,"creation_date":1337802874,"answer_id":10726910,"question_id":10725246,"body_markdown":"The method SimpleDateFormat.parse throws a parse exception.\r\n\r\nThe exception you&#39;re getting is telling you this...\r\n\r\n&gt; The exception is &quot;unreported exception java.text.ParseException; **must be caught or declared to be thrown.**&quot;\r\n\r\nWrap the line that does the parsing with try-catch and you should be golden..\r\n\r\n    Date d=null;\r\n    try{\r\n        d = inputFormat.parse(date);\r\n    catch(ParseException e){\r\n       // handle the error here....\r\n    }\r\n\r\nR","title":"Java/Android - Convert a GMT time string to local time","body":"<p>The method SimpleDateFormat.parse throws a parse exception.</p>\n\n<p>The exception you're getting is telling you this...</p>\n\n<blockquote>\n  <p>The exception is \"unreported exception java.text.ParseException; <strong>must be caught or declared to be thrown.</strong>\"</p>\n</blockquote>\n\n<p>Wrap the line that does the parsing with try-catch and you should be golden..</p>\n\n<pre><code>Date d=null;\ntry{\n    d = inputFormat.parse(date);\ncatch(ParseException e){\n   // handle the error here....\n}\n</code></pre>\n\n<p>R</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471987264,"creation_date":1471987264,"answer_id":39110875,"question_id":10725246,"body_markdown":"You are using troublesome old date-time classes now supplanted by the java.time classes.\r\n\r\n# Wrong input data\r\n\r\nYour first example string is incorrect, as the 21st is a Monday not a Tuesday. The second example string with 22nd is correct, and used in my example code below.\r\n\r\n# Using java.time\r\n\r\nAvoid using this kind of format for textual representations of date-time values. In particular, never use the 3-4 letter abbreviation such as `EST` or `IST` seen in this kind of format, as they are not true time zones, not standardized, and not even unique(!). Specify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name). In this particular case, java.time is able to translate that as `GMT` as [UTC][1], but other values may fail.\r\n\r\n    String input = &quot;Tue May 22 14:52:00 GMT 2012&quot;;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;EEE MMM dd HH:mm:ss z uuuu&quot; ).withLocale ( Locale.US );\r\n    ZonedDateTime zdt = ZonedDateTime.parse ( input , f );\r\n\r\n    System.out.println ( &quot;zdt: &quot; + zdt );\r\n\r\nDump to console. The `toString` method generates a String in standard [ISO 8601][2] format, extended by appending the name of the zone in brackets. These standard formats are a much better choice for when you need to serialize date-time values to text.\r\n\r\n    System.out.println ( &quot;zdt: &quot; + zdt );\r\n\r\n&gt;zdt: 2012-05-22T14:52Z[GMT]\r\n\r\n# Generate String\r\n\r\nYou can generate a String to represent this value in any format you desire. Generally best to let java.time localize automatically using a [`Locale`][3] and [`DateTimeFormatter`][4].\r\n\r\nYour desired format uses a medium-length style for the date portion but a short-length style for the time-of-day portion. Fortunately the `DateTimeFormatter` allows you to localize each portion separately, as seen here where we pass a pair of [`FormatStyle`][5] objects.\r\n\r\n    Locale l = Locale.US;  // Or Locale.CANADA_FRENCH, or Locale.ITALY, etc.\r\n    DateTimeFormatter fOutput = DateTimeFormatter.ofLocalizedDateTime ( FormatStyle.MEDIUM , FormatStyle.SHORT ).withLocale ( l );\r\n    String output = zdt.format ( fOutput );\r\n\r\nDump to console.\r\n\r\n    System.out.println ( &quot;zdt: &quot; + zdt + &quot; | output: &quot; + output );\r\n\r\n&gt;zdt: 2012-05-22T14:52Z[GMT] | output: May 22, 2012 2:52 PM\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as `java.util.Date`, `.Calendar`, &amp; `java.text.SimpleDateFormat`. \r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations.\r\n\r\nMuch of the java.time functionality is back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to [Android](https://en.wikipedia.org/wiki/Android_(operating_system)) in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) (see [*How to use*](https://stackoverflow.com/q/38922754/642706)).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as `Interval`, `YearWeek`, `YearQuarter`, and more.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/format/FormatStyle.html","title":"Java/Android - Convert a GMT time string to local time","body":"<p>You are using troublesome old date-time classes now supplanted by the java.time classes.</p>\n\n<h1>Wrong input data</h1>\n\n<p>Your first example string is incorrect, as the 21st is a Monday not a Tuesday. The second example string with 22nd is correct, and used in my example code below.</p>\n\n<h1>Using java.time</h1>\n\n<p>Avoid using this kind of format for textual representations of date-time values. In particular, never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> seen in this kind of format, as they are not true time zones, not standardized, and not even unique(!). Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a>. In this particular case, java.time is able to translate that as <code>GMT</code> as <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a>, but other values may fail.</p>\n\n<pre><code>String input = \"Tue May 22 14:52:00 GMT 2012\";\nDateTimeFormatter f = DateTimeFormatter.ofPattern ( \"EEE MMM dd HH:mm:ss z uuuu\" ).withLocale ( Locale.US );\nZonedDateTime zdt = ZonedDateTime.parse ( input , f );\n\nSystem.out.println ( \"zdt: \" + zdt );\n</code></pre>\n\n<p>Dump to console. The <code>toString</code> method generates a String in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format, extended by appending the name of the zone in brackets. These standard formats are a much better choice for when you need to serialize date-time values to text.</p>\n\n<pre><code>System.out.println ( \"zdt: \" + zdt );\n</code></pre>\n\n<blockquote>\n  <p>zdt: 2012-05-22T14:52Z[GMT]</p>\n</blockquote>\n\n<h1>Generate String</h1>\n\n<p>You can generate a String to represent this value in any format you desire. Generally best to let java.time localize automatically using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a>.</p>\n\n<p>Your desired format uses a medium-length style for the date portion but a short-length style for the time-of-day portion. Fortunately the <code>DateTimeFormatter</code> allows you to localize each portion separately, as seen here where we pass a pair of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/FormatStyle.html\" rel=\"nofollow noreferrer\"><code>FormatStyle</code></a> objects.</p>\n\n<pre><code>Locale l = Locale.US;  // Or Locale.CANADA_FRENCH, or Locale.ITALY, etc.\nDateTimeFormatter fOutput = DateTimeFormatter.ofLocalizedDateTime ( FormatStyle.MEDIUM , FormatStyle.SHORT ).withLocale ( l );\nString output = zdt.format ( fOutput );\n</code></pre>\n\n<p>Dump to console.</p>\n\n<pre><code>System.out.println ( \"zdt: \" + zdt + \" | output: \" + output );\n</code></pre>\n\n<blockquote>\n  <p>zdt: 2012-05-22T14:52Z[GMT] | output: May 22, 2012 2:52 PM</p>\n</blockquote>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as <code>java.util.Date</code>, <code>.Calendar</code>, &amp; <code>java.text.SimpleDateFormat</code>. </p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations.</p>\n\n<p>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> and further adapted to <a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\">Android</a> in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> (see <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use</em></a>).</p>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <code>Interval</code>, <code>YearWeek</code>, <code>YearQuarter</code>, and more.</p>\n"},{"tags":[],"owner":{"account_id":7489615,"reputation":123,"user_id":5691796,"display_name":"Jalal Jan Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670845690,"creation_date":1670845690,"answer_id":74770669,"question_id":10725246,"body_markdown":"    const val DATE_HYPHEN_FORMAT = &quot;yyyy-MM-dd&quot;\r\n    const val DATE_MMM_DD_YYYY_FORMAT = &quot;MMM dd, yyyy&quot;\r\n    const val DATE_MMMM_DD_YYYY_FORMAT = &quot;MMMM dd, yyyy&quot;\r\n    \r\n    const val FULL_DAY_NAME_FORMAT = &quot;EEEE&quot;\r\n    const val DATE_EEE_DD_MMMM_YYYY_FORMAT = &quot;EEE dd, MMMM yyyy&quot;\r\n    const val DATE_EEEE_DD_MMMM_YYYY_FORMAT = &quot;EEEE dd, MMMM yyyy&quot;\r\n    \r\n    const val DATETIME_24_FORMAT = &quot;dd-MM-yyyy&#39;T&#39;HH:mm:ss&quot;\r\n    \r\n    const val DATETIME_24_YMD_FORMAT = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;\r\n    const val DATE_WITH_MONTH_NAME_MMM_DY_FORMAT = DateFormat.MEDIUM\r\n    const val DATE_WITH_MONTH_FULL_NAME_MMMM_DY_FORMAT = DateFormat.LONG\r\n    \r\n    const val TIME_24H_FORMAT = &quot;HH:mm:ss&quot;\r\n    const val TIME_FORMAT_AM_PM = &quot;hh:mm aa&quot;\r\n    const val TIME_24H_FORMATWithoutSS = &quot;HH:mm&quot;\r\n    \r\n    enum class TimeZoneTo {\r\n        NONE, UTC, LOCAL\r\n    }\r\n    \r\n    \r\n    fun changeFormat(\r\n        dateTime: String,\r\n        fromFormat: Int = DATE_WITH_MONTH_NAME_MMM_DY_FORMAT,\r\n        toFormat: String = DATETIME_24_FORMAT,\r\n        convertIn: TimeZoneTo = TimeZoneTo.NONE,\r\n        needOnlyTime: Boolean = false\r\n    ): String {\r\n        try {\r\n            val parser = DateFormat.getDateInstance(fromFormat)\r\n            val finalDateTime = trimDateTime(dateTime)\r\n    \r\n            val date = parser.parse(finalDateTime)\r\n            val sdf = SimpleDateFormat(toFormat)\r\n    \r\n            return format(\r\n                date = date!!, formatter = sdf, convertIn = convertIn, needOnlyTime = needOnlyTime\r\n            )\r\n        } catch (e: AssertionError) {\r\n            e.printStackTrace()\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n    \r\n        return dateTime // Return Same DateTime - only iff unable to change format\r\n    }\r\n    \r\n    \r\n    \r\n    fun changeFormat(\r\n        dateTime: String,\r\n        fromFormat: String = DATETIME_24_FORMAT,\r\n        toFormat: Int = DATE_WITH_MONTH_NAME_MMM_DY_FORMAT,\r\n        convertIn: TimeZoneTo = TimeZoneTo.NONE,\r\n        needOnlyTime: Boolean = false\r\n    ): String {\r\n        try {\r\n            val sfdInput = SimpleDateFormat(fromFormat, Locale.ROOT)\r\n            val finalDateTime = trimDateTime(dateTime)\r\n    \r\n            val date: Date = sfdInput.parse(finalDateTime)!!\r\n            val outputFormatter = DateFormat.getDateInstance(toFormat)\r\n    \r\n            return format(\r\n                date = date,\r\n                formatter = outputFormatter,\r\n                convertIn = convertIn,\r\n                needOnlyTime = needOnlyTime\r\n            )\r\n        } catch (e: AssertionError) {\r\n            e.printStackTrace()\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n    \r\n        return dateTime // Return Same DateTime - only iff unable to change format\r\n    }\r\n    \r\n    fun changeFormat(\r\n        dateTime: String,\r\n        fromFormat: String = DATETIME_24_FORMAT,\r\n        toFormat: String = DATE_HYPHEN_FORMAT,\r\n        convertInTimeZone: TimeZoneTo = TimeZoneTo.NONE,\r\n        needOnlyTime: Boolean = false\r\n    ): String {\r\n        try {\r\n            val sfdInput = SimpleDateFormat(fromFormat, Locale.ROOT)\r\n    \r\n            val finalDateTime = trimDateTime(dateTime)\r\n    \r\n            val date: Date = sfdInput.parse(finalDateTime)!!\r\n            val sdfOutput = SimpleDateFormat(toFormat)\r\n    \r\n            return format(\r\n                date = date,\r\n                formatter = sdfOutput,\r\n                convertIn = convertInTimeZone,\r\n                needOnlyTime = needOnlyTime\r\n            )\r\n        } catch (e: AssertionError) {\r\n            e.printStackTrace()\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n    \r\n        return dateTime // Return Same DateTime - only iff unable to change format\r\n    }\r\n    \r\n    \r\n    // Format Given Date as per specified timeZone\r\n    private fun format(\r\n        date: Date,\r\n        formatter: DateFormat,\r\n        convertIn: TimeZoneTo,\r\n        needOnlyTime: Boolean\r\n    ): String {\r\n        return when (convertIn) {\r\n            TimeZoneTo.LOCAL -&gt; {\r\n                val zone = TimeZone.getTimeZone(Calendar.getInstance().timeZone.id)\r\n                val newDate = Date(date.time + zone.getOffset(date.time))\r\n                formatter.timeZone = zone\r\n    \r\n                val result = formatter.format(newDate)\r\n                if (needOnlyTime) return result.substringAfter(&#39;T&#39;)\r\n                else result\r\n            }\r\n            TimeZoneTo.UTC -&gt; {\r\n                formatter.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\r\n                val result = formatter.format(date)\r\n    \r\n                if (needOnlyTime) return result.substringAfter(&#39;T&#39;)\r\n                else result\r\n            }\r\n            else -&gt; {\r\n                val result = formatter.format(date)\r\n                if (needOnlyTime) return result.substringAfter(&#39;T&#39;)\r\n                else result\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI&#39;ve created 3 overloaded methods namely **changeFormat(...)** with following params;\r\n\r\n 1. **dateTime** (String -&gt; date or time or dateTime)\r\n 2. **fromFormat** (String/Int -&gt; Current format of dateTime) - optional (i.e. if not provided default will be used)\r\n 3. **toFormat** (String/Int -&gt; New format for dateTime) - optional (i.e. if not provided default will be used)\r\n 4. **convertInTimeZone** (Enum -&gt; Convert in specified TimeZone)\r\n 5. **needOnlyTime** (Boolean -&gt; Will return only converted Time if **true** else converted **dateTime**\r\n\r\nHopefully, this may help someone in future.","title":"Java/Android - Convert a GMT time string to local time","body":"<pre><code>const val DATE_HYPHEN_FORMAT = &quot;yyyy-MM-dd&quot;\nconst val DATE_MMM_DD_YYYY_FORMAT = &quot;MMM dd, yyyy&quot;\nconst val DATE_MMMM_DD_YYYY_FORMAT = &quot;MMMM dd, yyyy&quot;\n\nconst val FULL_DAY_NAME_FORMAT = &quot;EEEE&quot;\nconst val DATE_EEE_DD_MMMM_YYYY_FORMAT = &quot;EEE dd, MMMM yyyy&quot;\nconst val DATE_EEEE_DD_MMMM_YYYY_FORMAT = &quot;EEEE dd, MMMM yyyy&quot;\n\nconst val DATETIME_24_FORMAT = &quot;dd-MM-yyyy'T'HH:mm:ss&quot;\n\nconst val DATETIME_24_YMD_FORMAT = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;\nconst val DATE_WITH_MONTH_NAME_MMM_DY_FORMAT = DateFormat.MEDIUM\nconst val DATE_WITH_MONTH_FULL_NAME_MMMM_DY_FORMAT = DateFormat.LONG\n\nconst val TIME_24H_FORMAT = &quot;HH:mm:ss&quot;\nconst val TIME_FORMAT_AM_PM = &quot;hh:mm aa&quot;\nconst val TIME_24H_FORMATWithoutSS = &quot;HH:mm&quot;\n\nenum class TimeZoneTo {\n    NONE, UTC, LOCAL\n}\n\n\nfun changeFormat(\n    dateTime: String,\n    fromFormat: Int = DATE_WITH_MONTH_NAME_MMM_DY_FORMAT,\n    toFormat: String = DATETIME_24_FORMAT,\n    convertIn: TimeZoneTo = TimeZoneTo.NONE,\n    needOnlyTime: Boolean = false\n): String {\n    try {\n        val parser = DateFormat.getDateInstance(fromFormat)\n        val finalDateTime = trimDateTime(dateTime)\n\n        val date = parser.parse(finalDateTime)\n        val sdf = SimpleDateFormat(toFormat)\n\n        return format(\n            date = date!!, formatter = sdf, convertIn = convertIn, needOnlyTime = needOnlyTime\n        )\n    } catch (e: AssertionError) {\n        e.printStackTrace()\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n    return dateTime // Return Same DateTime - only iff unable to change format\n}\n\n\n\nfun changeFormat(\n    dateTime: String,\n    fromFormat: String = DATETIME_24_FORMAT,\n    toFormat: Int = DATE_WITH_MONTH_NAME_MMM_DY_FORMAT,\n    convertIn: TimeZoneTo = TimeZoneTo.NONE,\n    needOnlyTime: Boolean = false\n): String {\n    try {\n        val sfdInput = SimpleDateFormat(fromFormat, Locale.ROOT)\n        val finalDateTime = trimDateTime(dateTime)\n\n        val date: Date = sfdInput.parse(finalDateTime)!!\n        val outputFormatter = DateFormat.getDateInstance(toFormat)\n\n        return format(\n            date = date,\n            formatter = outputFormatter,\n            convertIn = convertIn,\n            needOnlyTime = needOnlyTime\n        )\n    } catch (e: AssertionError) {\n        e.printStackTrace()\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n    return dateTime // Return Same DateTime - only iff unable to change format\n}\n\nfun changeFormat(\n    dateTime: String,\n    fromFormat: String = DATETIME_24_FORMAT,\n    toFormat: String = DATE_HYPHEN_FORMAT,\n    convertInTimeZone: TimeZoneTo = TimeZoneTo.NONE,\n    needOnlyTime: Boolean = false\n): String {\n    try {\n        val sfdInput = SimpleDateFormat(fromFormat, Locale.ROOT)\n\n        val finalDateTime = trimDateTime(dateTime)\n\n        val date: Date = sfdInput.parse(finalDateTime)!!\n        val sdfOutput = SimpleDateFormat(toFormat)\n\n        return format(\n            date = date,\n            formatter = sdfOutput,\n            convertIn = convertInTimeZone,\n            needOnlyTime = needOnlyTime\n        )\n    } catch (e: AssertionError) {\n        e.printStackTrace()\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n    return dateTime // Return Same DateTime - only iff unable to change format\n}\n\n\n// Format Given Date as per specified timeZone\nprivate fun format(\n    date: Date,\n    formatter: DateFormat,\n    convertIn: TimeZoneTo,\n    needOnlyTime: Boolean\n): String {\n    return when (convertIn) {\n        TimeZoneTo.LOCAL -&gt; {\n            val zone = TimeZone.getTimeZone(Calendar.getInstance().timeZone.id)\n            val newDate = Date(date.time + zone.getOffset(date.time))\n            formatter.timeZone = zone\n\n            val result = formatter.format(newDate)\n            if (needOnlyTime) return result.substringAfter('T')\n            else result\n        }\n        TimeZoneTo.UTC -&gt; {\n            formatter.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\n            val result = formatter.format(date)\n\n            if (needOnlyTime) return result.substringAfter('T')\n            else result\n        }\n        else -&gt; {\n            val result = formatter.format(date)\n            if (needOnlyTime) return result.substringAfter('T')\n            else result\n        }\n    }\n}\n</code></pre>\n<p>I've created 3 overloaded methods namely <strong>changeFormat(...)</strong> with following params;</p>\n<ol>\n<li><strong>dateTime</strong> (String -&gt; date or time or dateTime)</li>\n<li><strong>fromFormat</strong> (String/Int -&gt; Current format of dateTime) - optional (i.e. if not provided default will be used)</li>\n<li><strong>toFormat</strong> (String/Int -&gt; New format for dateTime) - optional (i.e. if not provided default will be used)</li>\n<li><strong>convertInTimeZone</strong> (Enum -&gt; Convert in specified TimeZone)</li>\n<li><strong>needOnlyTime</strong> (Boolean -&gt; Will return only converted Time if <strong>true</strong> else converted <strong>dateTime</strong></li>\n</ol>\n<p>Hopefully, this may help someone in future.</p>\n"}],"owner":{"account_id":1066536,"reputation":1089,"user_id":1066956,"accept_rate":85,"display_name":"Manto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25760,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":10725303,"answer_count":5,"score":14,"last_activity_date":1670845690,"creation_date":1337795380,"question_id":10725246,"body_markdown":"Ok, so I have a string, say &quot;Tue May 21 14:32:00 GMT 2012&quot; I want to convert this string to local time in the format May 21, 2012 2:32 pm. I tried SimpleDateFormat(&quot;MM dd, yyyy hh:mm a&quot;).parse(), but it threw an exception. So what should I do?\r\n\r\nThe exception is &quot;unreported exception java.text.ParseException; must be caught or declared to be thrown.&quot;\r\n\r\nin the line `Date date = inputFormat.parse(inputText);`\r\n\r\nThe code I ran on TextMate:\r\n\r\n    public class test{\r\n\t    public static void main(String arg[]) {\r\n\t\t    String inputText = &quot;Tue May 22 14:52:00 GMT 2012&quot;;\r\n\t\t    SimpleDateFormat inputFormat = new SimpleDateFormat(\r\n\t\t\t    &quot;EEE MMM dd HH:mm:ss &#39;GMT&#39; yyyy&quot;, Locale.US);\r\n\t\t    inputFormat.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n\t\t    SimpleDateFormat out = new SimpleDateFormat(&quot;MMM dd, yyyy h:mm a&quot;);\r\n\t\t    Date date = inputFormat.parse(inputText);\r\n\t\t    String output = out.format(date);\r\n\t\t   System.out.println(output);\r\n\t    }\r\n    }","title":"Java/Android - Convert a GMT time string to local time","body":"<p>Ok, so I have a string, say \"Tue May 21 14:32:00 GMT 2012\" I want to convert this string to local time in the format May 21, 2012 2:32 pm. I tried SimpleDateFormat(\"MM dd, yyyy hh:mm a\").parse(), but it threw an exception. So what should I do?</p>\n\n<p>The exception is \"unreported exception java.text.ParseException; must be caught or declared to be thrown.\"</p>\n\n<p>in the line <code>Date date = inputFormat.parse(inputText);</code></p>\n\n<p>The code I ran on TextMate:</p>\n\n<pre><code>public class test{\n    public static void main(String arg[]) {\n        String inputText = \"Tue May 22 14:52:00 GMT 2012\";\n        SimpleDateFormat inputFormat = new SimpleDateFormat(\n            \"EEE MMM dd HH:mm:ss 'GMT' yyyy\", Locale.US);\n        inputFormat.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\n        SimpleDateFormat out = new SimpleDateFormat(\"MMM dd, yyyy h:mm a\");\n        Date date = inputFormat.parse(inputText);\n        String output = out.format(date);\n       System.out.println(output);\n    }\n}\n</code></pre>\n"},{"tags":["java","jboss","scheduler","jmx"],"owner":{"account_id":20150426,"reputation":1,"user_id":14777862,"display_name":"Riyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670845472,"creation_date":1670845472,"question_id":74770620,"body_markdown":"How to find the value for SchedulePeriod?\r\n\r\n\r\n\r\n\r\n\r\nFile name: Scheduler-service.xml\r\n\r\n\r\n```\r\n&lt;mbean code=&quot;com.jps.svc.WebServiceClient&quot;\r\n           name=&quot;com.jps.svc:service=WebServiceClient&quot;&gt;\r\n    &lt;/mbean&gt;\r\n    &lt;mbean code=&quot;org.jboss.varia.scheduler.Scheduler&quot;\r\n           name=&quot;com.jps.svc:service=WebServiceClientScheduler&quot;&gt;\r\n\t\t   \r\n&lt;attribute name=&quot;StartAtStartup&quot;&gt;true&lt;/attribute&gt;\r\n\r\n&lt;attribute name=&quot;SchedulableClass&quot;&gt;com.jps.svc.WebServiceClient&lt;/attribute&gt;\r\n\r\n&lt;attribute name=&quot;InitialStartDate&quot;&gt;NOW&lt;/attribute&gt;\r\n\r\n&lt;attribute name=&quot;SchedulePeriod&quot;&gt;${ws.scheduler.time}&lt;/attribute&gt;\r\n\r\n &lt;attribute name=&quot;InitialRepetitions&quot;&gt;-1&lt;/attribute&gt;\r\n        &lt;depends&gt;com.jps.svc:service=WebApiCapService&lt;/depends&gt;\r\n    &lt;/mbean&gt;\r\n&lt;/server&gt;\r\n```\r\n\r\n","title":"Scheduler Service of JBoss","body":"<p>How to find the value for SchedulePeriod?</p>\n<p>File name: Scheduler-service.xml</p>\n<pre><code>&lt;mbean code=&quot;com.jps.svc.WebServiceClient&quot;\n           name=&quot;com.jps.svc:service=WebServiceClient&quot;&gt;\n    &lt;/mbean&gt;\n    &lt;mbean code=&quot;org.jboss.varia.scheduler.Scheduler&quot;\n           name=&quot;com.jps.svc:service=WebServiceClientScheduler&quot;&gt;\n           \n&lt;attribute name=&quot;StartAtStartup&quot;&gt;true&lt;/attribute&gt;\n\n&lt;attribute name=&quot;SchedulableClass&quot;&gt;com.jps.svc.WebServiceClient&lt;/attribute&gt;\n\n&lt;attribute name=&quot;InitialStartDate&quot;&gt;NOW&lt;/attribute&gt;\n\n&lt;attribute name=&quot;SchedulePeriod&quot;&gt;${ws.scheduler.time}&lt;/attribute&gt;\n\n &lt;attribute name=&quot;InitialRepetitions&quot;&gt;-1&lt;/attribute&gt;\n        &lt;depends&gt;com.jps.svc:service=WebApiCapService&lt;/depends&gt;\n    &lt;/mbean&gt;\n&lt;/server&gt;\n</code></pre>\n"},{"tags":["java","byte-order-mark","apache-commons-io"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670695991,"post_id":74755409,"comment_id":131934877,"body_markdown":"You&#39;re using the wrong BOM class then. The correct behaviour is just to ignore an absent BOM","body":"You&#39;re using the wrong BOM class then. The correct behaviour is just to ignore an absent BOM"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670696406,"post_id":74755409,"comment_id":131934965,"body_markdown":"See my answer [here](https://stackoverflow.com/questions/74560439/how-to-resolve-csvtobean-header-issue-with-zero-width-no-break-space-character/74601141#74601141) for the correct class to use","body":"See my answer <a href=\"https://stackoverflow.com/questions/74560439/how-to-resolve-csvtobean-header-issue-with-zero-width-no-break-space-character/74601141#74601141\">here</a> for the correct class to use"},{"owner":{"account_id":13654322,"reputation":3,"user_id":9851303,"display_name":"TheMessik"},"score":0,"creation_date":1670828876,"post_id":74755409,"comment_id":131955178,"body_markdown":"@g00se I&#39;m using the Apache Commons IO BOMInputStream (should&#39;ve specified this in the original post).","body":"@g00se I&#39;m using the Apache Commons IO BOMInputStream (should&#39;ve specified this in the original post)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670838288,"post_id":74755409,"comment_id":131957634,"body_markdown":"Well, maybe.... don&#39;t","body":"Well, maybe.... don&#39;t"}],"answers":[{"comments":[{"owner":{"account_id":13654322,"reputation":3,"user_id":9851303,"display_name":"TheMessik"},"score":0,"creation_date":1671108616,"post_id":74770619,"comment_id":132029828,"body_markdown":"Thank you, you gave me the idea of having the look at the bytes that are in the test file. It turns out that the file contains multiple BOMs, of which only the first one was skipped. The fix is a simple for loop.\n\nOnce again, thank you for your time","body":"Thank you, you gave me the idea of having the look at the bytes that are in the test file. It turns out that the file contains multiple BOMs, of which only the first one was skipped. The fix is a simple for loop.  Once again, thank you for your time"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670845466,"creation_date":1670845466,"answer_id":74770619,"question_id":74755409,"body_markdown":"Not wishing my last comment to imply there&#39;s something wrong with Commons `BOMInputStream` (since I couldn&#39;t believe they&#39;d be incompetent enough to fail to read the stream properly in the *absence* of a BOM) I decided to test it. As I expected, it&#39;s perfectly capable of reading the file with or without BOM:\r\n\r\nSource:\r\n\r\n    package com.technojeeves.opencsvbeans;\r\n    \r\n    import com.opencsv.bean.CsvToBeanBuilder;\r\n    import org.apache.commons.io.input.BOMInputStream;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.List;\r\n    import java.io.IOException;\r\n    import java.io.Reader;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class App {\r\n        public static void main(String[] args) {\r\n            try {\r\n                System.out.println(new App().read(Path.of(args[0])));\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public List&lt;Pojo&gt; read(Path path) throws IOException {\r\n            try (Reader reader = new InputStreamReader(new BOMInputStream(Files.newInputStream(path)),\r\n                    StandardCharsets.UTF_8)) {\r\n                return new CsvToBeanBuilder(reader).withType(Pojo.class).build().parse();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nData files contents:\r\n\r\n    goose@t410:/tmp/opencsvbeans$ xxd pojo.csv\r\n    00000000: 706f 696e 742c 6e61 6d65 0a31 2c67 6f6f  point,name.1,goo\r\n    00000010: 7365 0a32 2c64 7563 6b0a                 se.2,duck.\r\n    goose@t410:/tmp/opencsvbeans$ xxd pojo-bom.csv\r\n    00000000: efbb bf70 6f69 6e74 2c6e 616d 650a 312c  ...point,name.1,\r\n    00000010: 676f 6f73 650a 322c 6475 636b 0a         goose.2,duck.\r\n\r\n\r\nRun and output:\r\n\r\n    goose@t410:/tmp/opencsvbeans$ mvnt exec:java -Dexec.args=pojo-bom.csv\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] -------------&lt; com.technojeeves.opencsvbeans:opencsvbeans &gt;-------------\r\n    [INFO] Building opencsvbeans 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- exec-maven-plugin:1.4.0:java (default-cli) @ opencsvbeans ---\r\n    [name=goose,point=1, name=duck,point=2]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.189 s\r\n    [INFO] Finished at: 2022-12-12T11:31:02Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    goose@t410:/tmp/opencsvbeans$ mvnt exec:java -Dexec.args=pojo.csv\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] -------------&lt; com.technojeeves.opencsvbeans:opencsvbeans &gt;-------------\r\n    [INFO] Building opencsvbeans 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- exec-maven-plugin:1.4.0:java (default-cli) @ opencsvbeans ---\r\n    [name=goose,point=1, name=duck,point=2]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.245 s\r\n    [INFO] Finished at: 2022-12-12T11:31:11Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    goose@t410:/tmp/opencsvbeans$ \r\n\r\n\r\n\r\n","title":"BOMInputStream needs to be wrapped in another BOMInputStream to work","body":"<p>Not wishing my last comment to imply there's something wrong with Commons <code>BOMInputStream</code> (since I couldn't believe they'd be incompetent enough to fail to read the stream properly in the <em>absence</em> of a BOM) I decided to test it. As I expected, it's perfectly capable of reading the file with or without BOM:</p>\n<p>Source:</p>\n<pre><code>package com.technojeeves.opencsvbeans;\n\nimport com.opencsv.bean.CsvToBeanBuilder;\nimport org.apache.commons.io.input.BOMInputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.charset.StandardCharsets;\nimport java.util.List;\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.io.InputStreamReader;\n\npublic class App {\n    public static void main(String[] args) {\n        try {\n            System.out.println(new App().read(Path.of(args[0])));\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n\n    public List&lt;Pojo&gt; read(Path path) throws IOException {\n        try (Reader reader = new InputStreamReader(new BOMInputStream(Files.newInputStream(path)),\n                StandardCharsets.UTF_8)) {\n            return new CsvToBeanBuilder(reader).withType(Pojo.class).build().parse();\n        }\n    }\n\n}\n</code></pre>\n<p>Data files contents:</p>\n<pre><code>goose@t410:/tmp/opencsvbeans$ xxd pojo.csv\n00000000: 706f 696e 742c 6e61 6d65 0a31 2c67 6f6f  point,name.1,goo\n00000010: 7365 0a32 2c64 7563 6b0a                 se.2,duck.\ngoose@t410:/tmp/opencsvbeans$ xxd pojo-bom.csv\n00000000: efbb bf70 6f69 6e74 2c6e 616d 650a 312c  ...point,name.1,\n00000010: 676f 6f73 650a 322c 6475 636b 0a         goose.2,duck.\n</code></pre>\n<p>Run and output:</p>\n<pre><code>goose@t410:/tmp/opencsvbeans$ mvnt exec:java -Dexec.args=pojo-bom.csv\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -------------&lt; com.technojeeves.opencsvbeans:opencsvbeans &gt;-------------\n[INFO] Building opencsvbeans 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- exec-maven-plugin:1.4.0:java (default-cli) @ opencsvbeans ---\n[name=goose,point=1, name=duck,point=2]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.189 s\n[INFO] Finished at: 2022-12-12T11:31:02Z\n[INFO] ------------------------------------------------------------------------\ngoose@t410:/tmp/opencsvbeans$ mvnt exec:java -Dexec.args=pojo.csv\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -------------&lt; com.technojeeves.opencsvbeans:opencsvbeans &gt;-------------\n[INFO] Building opencsvbeans 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- exec-maven-plugin:1.4.0:java (default-cli) @ opencsvbeans ---\n[name=goose,point=1, name=duck,point=2]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.245 s\n[INFO] Finished at: 2022-12-12T11:31:11Z\n[INFO] ------------------------------------------------------------------------\ngoose@t410:/tmp/opencsvbeans$ \n</code></pre>\n"}],"owner":{"account_id":13654322,"reputation":3,"user_id":9851303,"display_name":"TheMessik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74770619,"answer_count":1,"score":0,"last_activity_date":1670845466,"creation_date":1670695605,"question_id":74755409,"body_markdown":"Pretty much what the title says. I&#39;m writing code that needs to be able to work both with BOM&#39;ed and non-BOM&#39;ed files. Different parsing options need to be implemented, for now I&#39;m implementing support for parsing CSV files.\r\n\r\nCode below is a rough idea of what I&#39;m working with. If need be, I can provide a minimum working example.\r\n\r\n```java\r\nclass LocalFileAccess {\r\n\r\n// ...\r\n\r\n    // Opens an input stream to the file based on the path passed in constructor. \r\n    // Part of a larger interface, can&#39;t change the signature.\r\n    @Override\r\n    public InputStream getInputStream() throws FileNotFoundException {\r\n        File file = new File(this.path);\r\n\r\n        if (!file.isAbsolute()) {\r\n            file = getFile(this.base, this.path);\r\n        }\r\n\r\n        return new FileInputStream(file);\r\n    }\r\n\r\n    public void foo() {\r\n        try (BOMInputStream inputStream = new BOMInputStream(this.getInputStream())) {\r\n            Iterator&lt;String[]&gt; iterator = new CSVReaderBuilder(new InputStreamReader(inputStream, StandardCharsets.UTF_8).build().iterator();\r\n\r\n            String[] header = iterator.next(); // &lt;- first value is prepended by BOM\r\n        } catch (...) { ... }\r\n    }\r\n```\r\n\r\nLater in the codebase, when parsing through the values gotten from the Iterator, the first value in the header is prepended with the BOM, which causes my tests to fail. The hacky way is to check for this manually, but I&#39;d rather keep my code clean. \r\n\r\nWrapping the return value of ``getInputStream()`` in ``new BOMInputStream()`` fixes it. However, replacing ``new BOMInputStream(this.getInputStream())`` in the try-with-resources with just ``this.getInputStream()`` breaks it again: the BOM gets through. \r\n\r\nI&#39;ve tried different variations of wrapping only the return value of ``getInputStream`` in a BOMInputStream, wrapping only the InputStream in try-with-resources in a BOMInputStream, to no avail. The only solution seems to be wrapping return value of ``getInputStream`` in the try-with-resources in a BOMInputStream and I don&#39;t understand why. \r\n\r\nWhy do I need to wrap the input stream in a BOMInputStream twice?\r\n\r\nEdit: to clarify: I&#39;m using the Apache Commons IO BOMInputStream.","title":"BOMInputStream needs to be wrapped in another BOMInputStream to work","body":"<p>Pretty much what the title says. I'm writing code that needs to be able to work both with BOM'ed and non-BOM'ed files. Different parsing options need to be implemented, for now I'm implementing support for parsing CSV files.</p>\n<p>Code below is a rough idea of what I'm working with. If need be, I can provide a minimum working example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class LocalFileAccess {\n\n// ...\n\n    // Opens an input stream to the file based on the path passed in constructor. \n    // Part of a larger interface, can't change the signature.\n    @Override\n    public InputStream getInputStream() throws FileNotFoundException {\n        File file = new File(this.path);\n\n        if (!file.isAbsolute()) {\n            file = getFile(this.base, this.path);\n        }\n\n        return new FileInputStream(file);\n    }\n\n    public void foo() {\n        try (BOMInputStream inputStream = new BOMInputStream(this.getInputStream())) {\n            Iterator&lt;String[]&gt; iterator = new CSVReaderBuilder(new InputStreamReader(inputStream, StandardCharsets.UTF_8).build().iterator();\n\n            String[] header = iterator.next(); // &lt;- first value is prepended by BOM\n        } catch (...) { ... }\n    }\n</code></pre>\n<p>Later in the codebase, when parsing through the values gotten from the Iterator, the first value in the header is prepended with the BOM, which causes my tests to fail. The hacky way is to check for this manually, but I'd rather keep my code clean.</p>\n<p>Wrapping the return value of <code>getInputStream()</code> in <code>new BOMInputStream()</code> fixes it. However, replacing <code>new BOMInputStream(this.getInputStream())</code> in the try-with-resources with just <code>this.getInputStream()</code> breaks it again: the BOM gets through.</p>\n<p>I've tried different variations of wrapping only the return value of <code>getInputStream</code> in a BOMInputStream, wrapping only the InputStream in try-with-resources in a BOMInputStream, to no avail. The only solution seems to be wrapping return value of <code>getInputStream</code> in the try-with-resources in a BOMInputStream and I don't understand why.</p>\n<p>Why do I need to wrap the input stream in a BOMInputStream twice?</p>\n<p>Edit: to clarify: I'm using the Apache Commons IO BOMInputStream.</p>\n"},{"tags":["java","java-stream","illegalstateexception"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1670760724,"post_id":74760226,"comment_id":131943393,"body_markdown":"Stream is intended to be used like `Stream.of(1,2,3).peek(System.out::println).forEach(System.out::println);`, the intermediate `Stream`s are NOT intended to be assigned to variables! Also be aware of the note stated in the [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)) of `peek()`: &quot;This method exists mainly to support debugging, ... In cases where the stream implementation is able to optimize away the production of some or all the elements ( ... ), the action will not be invoked for those elements.&quot;","body":"Stream is intended to be used like <code>Stream.of(1,2,3).peek(System.out::println).forEach(System.ou&zwnj;&#8203;t::println);</code>, the intermediate <code>Stream</code>s are NOT intended to be assigned to variables! Also be aware of the note stated in the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\" rel=\"nofollow noreferrer\">documentation</a> of <code>peek()</code>: &quot;This method exists mainly to support debugging, ... In cases where the stream implementation is able to optimize away the production of some or all the elements ( ... ), the action will not be invoked for those elements.&quot;"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670770774,"post_id":74760226,"comment_id":131945289,"body_markdown":"@user16320675 The behavior described in the Question is **not** related to `peek` specifically.","body":"@user16320675 The behavior described in the Question is <b>not</b> related to <code>peek</code> specifically."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1670777522,"post_id":74760226,"comment_id":131946873,"body_markdown":"Weak title. Rewrite to summarize your specific technical issue.","body":"Weak title. Rewrite to summarize your specific technical issue."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670834214,"post_id":74760268,"comment_id":131956436,"body_markdown":"Note that in general, intermediate operations are free to either, return a new Stream instance or modify the existing one and return it. Hence, the caller always must use the object returned by the method and assume the old reference to be invalid, to comply with all possible strategies. Compare with [the documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#:~:text=A%20stream%20should,in%20all%20cases.): * implementation may throw IllegalStateException some stream operations may return their receiver rather than a new stream object,*","body":"Note that in general, intermediate operations are free to either, return a new Stream instance or modify the existing one and return it. Hence, the caller always must use the object returned by the method and assume the old reference to be invalid, to comply with all possible strategies. Compare with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#:~:text=A%20stream%20should,in%20all%20cases.\" rel=\"nofollow noreferrer\">the documentation</a>: <i> implementation may throw IllegalStateException some stream operations may return their receiver rather than a new stream object,</i>"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670845368,"creation_date":1670756806,"answer_id":74760268,"question_id":74760226,"body_markdown":"`peek` is an ***intermediate operation***, which means it performs an action and produces a **new** Stream. But you&#39;re reusing the same Stream, therefore getting an `IllegalStateException`.\r\n\r\nHere&#39;s a quote, from the [`Stream`&#39;s Javadoc][javadocStream] :\r\n\r\n&gt; A stream should be operated on (**invoking an intermediate or terminal stream operation**) **only once**. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw `IllegalStateException` if it detects that the stream is being reused. However, since some stream operations may return their receiver rather than a new stream object, it may not be possible to detect reuse in all cases. \r\n\r\n&lt;sup&gt;Amphesys added&lt;/sup&gt;\r\n\r\n***Note:** as *@Holger* has pointed out documentation states (see the quote above) that in some cases intermediate stream operation might return the received stream (representing the previous stage) instead of generating a new one.*\r\n\r\nIf you write the code like this, it would work as intended:\r\n\r\n```\r\nStream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\r\n    \r\nStream&lt;Integer&gt; ints1 = ints.peek(System.out::println);\r\n    \r\nints1.forEach(System.out::println);\r\n```\r\n\r\nWhich is basically a verbose equivalent of the chain:\r\n\r\n```\r\nStream.of(1, 2, 3)                 // ints\r\n    .peek(System.out::println)     // ints1\r\n    .forEach(System.out::println);\r\n```\r\n\r\nYour understanding that a Stream would be galvanized into action only if it has a *terminal operation* is correct. And the stream you&#39;ve presented in the code has a terminal operation.\r\n\r\n\r\nBut it&#39;s worth to note that the exception occurs not while executing the stream, but while **preparing** the pipeline. I.e. when the Stream instance is being initialized.\r\n\r\nThere&#39;s an internal class `AbstractPipeline` which we as users of the API not interacting directly, it&#39;s purpose defined as follows:\r\n\r\n&gt; Abstract base class for &quot;pipeline&quot; classes, which are the core\r\n&gt;  * implementations of the Stream interface and its primitive\r\n&gt; specializations.\r\n&gt; \r\n&gt;  * Manages construction and evaluation of stream pipelines\r\n\r\nHere&#39;s a piece of code from this class (***[link to the source][source]***):\r\n\r\n    AbstractPipeline(AbstractPipeline&lt;?, E_IN, ?&gt; previousStage, int opFlags) {\r\n        if (previousStage.linkedOrConsumed)    // &lt;- Note\r\n            throw new IllegalStateException(MSG_STREAM_LINKED);\r\n        previousStage.linkedOrConsumed = true; // &lt;- Note\r\n        previousStage.nextStage = this;\r\n        \r\n        this.previousStage = previousStage;\r\n        this.sourceOrOpFlags = opFlags &amp; StreamOpFlag.OP_MASK;\r\n        this.combinedFlags = StreamOpFlag.combineOpFlags(opFlags, previousStage.combinedFlags);\r\n        this.sourceStage = previousStage.sourceStage;\r\n        if (opIsStateful())\r\n            sourceStage.sourceAnyStateful = true;\r\n        this.depth = previousStage.depth + 1;\r\n    }\r\n\r\nIn this implementation, each operation is represented as a stage. And stages are linked with each other. While constructing the next stage a link to next stage should be provided and `boolean` property `linkedOrConsumed` of the previous stage is being to `true`. If the previous stage has been already linked (*which has happened in your code*) the constructor throws an exception.\r\n\r\nFor that reason, even the following code, which lacks terminal operation, would trigger an `IllegalStateException` (JDK 17, HotSpot JVM). It would take place during the preparation of the `Stream` object (***not** while executing the pipeline*).\r\n\r\n```\r\nStream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\r\n\r\nints.map(i -&gt; i * i);\r\nints.takeWhile(i -&gt; i % 2 != 0); // exception would be thrown while initializing this stage\r\n```\r\n\r\n***Note:** this information is an implementation detail, and proved purely as explanation of the behavior OP has encountered. And the code snippet with a Stream with no terminal operation certainly is not guaranteed to behave this way (for instance, some implementation might simply discard it). The bottom line here is that a Stream should be consumed only once.*\r\n\r\n\r\n\r\n   [javadocStream]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\r\n\r\n   [source]: https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/util/stream/AbstractPipeline.java#L201","title":"Understanding problem regarding operated streams in Java","body":"<p><code>peek</code> is an <em><strong>intermediate operation</strong></em>, which means it performs an action and produces a <strong>new</strong> Stream. But you're reusing the same Stream, therefore getting an <code>IllegalStateException</code>.</p>\n<p>Here's a quote, from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream</code>'s Javadoc</a> :</p>\n<blockquote>\n<p>A stream should be operated on (<strong>invoking an intermediate or terminal stream operation</strong>) <strong>only once</strong>. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw <code>IllegalStateException</code> if it detects that the stream is being reused. However, since some stream operations may return their receiver rather than a new stream object, it may not be possible to detect reuse in all cases.</p>\n</blockquote>\n<p><sup>Amphesys added</sup></p>\n<p><em><strong>Note:</strong> as <em>@Holger</em> has pointed out documentation states (see the quote above) that in some cases intermediate stream operation might return the received stream (representing the previous stage) instead of generating a new one.</em></p>\n<p>If you write the code like this, it would work as intended:</p>\n<pre><code>Stream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\n    \nStream&lt;Integer&gt; ints1 = ints.peek(System.out::println);\n    \nints1.forEach(System.out::println);\n</code></pre>\n<p>Which is basically a verbose equivalent of the chain:</p>\n<pre><code>Stream.of(1, 2, 3)                 // ints\n    .peek(System.out::println)     // ints1\n    .forEach(System.out::println);\n</code></pre>\n<p>Your understanding that a Stream would be galvanized into action only if it has a <em>terminal operation</em> is correct. And the stream you've presented in the code has a terminal operation.</p>\n<p>But it's worth to note that the exception occurs not while executing the stream, but while <strong>preparing</strong> the pipeline. I.e. when the Stream instance is being initialized.</p>\n<p>There's an internal class <code>AbstractPipeline</code> which we as users of the API not interacting directly, it's purpose defined as follows:</p>\n<blockquote>\n<p>Abstract base class for &quot;pipeline&quot; classes, which are the core</p>\n<ul>\n<li><p>implementations of the Stream interface and its primitive\nspecializations.</p>\n</li>\n<li><p>Manages construction and evaluation of stream pipelines</p>\n</li>\n</ul>\n</blockquote>\n<p>Here's a piece of code from this class (<em><strong><a href=\"https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/util/stream/AbstractPipeline.java#L201\" rel=\"nofollow noreferrer\">link to the source</a></strong></em>):</p>\n<pre><code>AbstractPipeline(AbstractPipeline&lt;?, E_IN, ?&gt; previousStage, int opFlags) {\n    if (previousStage.linkedOrConsumed)    // &lt;- Note\n        throw new IllegalStateException(MSG_STREAM_LINKED);\n    previousStage.linkedOrConsumed = true; // &lt;- Note\n    previousStage.nextStage = this;\n    \n    this.previousStage = previousStage;\n    this.sourceOrOpFlags = opFlags &amp; StreamOpFlag.OP_MASK;\n    this.combinedFlags = StreamOpFlag.combineOpFlags(opFlags, previousStage.combinedFlags);\n    this.sourceStage = previousStage.sourceStage;\n    if (opIsStateful())\n        sourceStage.sourceAnyStateful = true;\n    this.depth = previousStage.depth + 1;\n}\n</code></pre>\n<p>In this implementation, each operation is represented as a stage. And stages are linked with each other. While constructing the next stage a link to next stage should be provided and <code>boolean</code> property <code>linkedOrConsumed</code> of the previous stage is being to <code>true</code>. If the previous stage has been already linked (<em>which has happened in your code</em>) the constructor throws an exception.</p>\n<p>For that reason, even the following code, which lacks terminal operation, would trigger an <code>IllegalStateException</code> (JDK 17, HotSpot JVM). It would take place during the preparation of the <code>Stream</code> object (<em><strong>not</strong> while executing the pipeline</em>).</p>\n<pre><code>Stream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\n\nints.map(i -&gt; i * i);\nints.takeWhile(i -&gt; i % 2 != 0); // exception would be thrown while initializing this stage\n</code></pre>\n<p><em><strong>Note:</strong> this information is an implementation detail, and proved purely as explanation of the behavior OP has encountered. And the code snippet with a Stream with no terminal operation certainly is not guaranteed to behave this way (for instance, some implementation might simply discard it). The bottom line here is that a Stream should be consumed only once.</em></p>\n"}],"owner":{"account_id":2838423,"reputation":4567,"user_id":2438518,"accept_rate":53,"display_name":"mrbela"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74760268,"answer_count":1,"score":1,"last_activity_date":1670845368,"creation_date":1670756401,"question_id":74760226,"body_markdown":"Let&#39;s say we have the following code\r\n\r\n\tStream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\r\n\t\t\r\n\tints.peek(System.out::println);\r\n\t\t\r\n\tints.forEach(System.out::println);\r\n\r\nand I run it, I&#39;ll get an exception:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException:\r\nstream has already been operated upon or closed\r\n```\r\n\r\nBut why?\r\n\r\n`peek` is an intermediate operation, so I thought, that it won&#39;t run/start the stream itself? Only `forEach` does this, so why has the stream already been operated when reaching `forEach`?\r\n\r\nI also thought, that the `peek` method would be discarded, because it returns a new `Stream` that I do not consider. Like in\r\n\r\n    String str = &quot;hello world&quot;;\r\n    str.toUppercase();\r\n    str.charAt(0); // &lt;-- h not H","title":"Understanding problem regarding operated streams in Java","body":"<p>Let's say we have the following code</p>\n<pre><code>Stream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\n    \nints.peek(System.out::println);\n    \nints.forEach(System.out::println);\n</code></pre>\n<p>and I run it, I'll get an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException:\nstream has already been operated upon or closed\n</code></pre>\n<p>But why?</p>\n<p><code>peek</code> is an intermediate operation, so I thought, that it won't run/start the stream itself? Only <code>forEach</code> does this, so why has the stream already been operated when reaching <code>forEach</code>?</p>\n<p>I also thought, that the <code>peek</code> method would be discarded, because it returns a new <code>Stream</code> that I do not consider. Like in</p>\n<pre><code>String str = &quot;hello world&quot;;\nstr.toUppercase();\nstr.charAt(0); // &lt;-- h not H\n</code></pre>\n"},{"tags":["java","minecraft","java-17","minecraft-fabric"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670849702,"post_id":74756330,"comment_id":131961204,"body_markdown":"You are calling `getMethod` on `classInfo.loadClass()`, so you have to use `classInfo.loadClass().getMethods()` for verification, not `classInfo.getMethods()`","body":"You are calling <code>getMethod</code> on <code>classInfo.loadClass()</code>, so you have to use <code>classInfo.loadClass().getMethods()</code> for verification, not <code>classInfo.getMethods()</code>"},{"owner":{"account_id":14722783,"reputation":474,"user_id":15342452,"display_name":"WhatTheClown"},"score":0,"creation_date":1670871366,"post_id":74756330,"comment_id":131968993,"body_markdown":"I did that and it&#39;s same thing: `[public static void com.stupidrepo.mydirectory.yayay.test.tick(net.minecraft.client.MinecraftClient), ...]`","body":"I did that and it&#39;s same thing: <code>[public static void com.stupidrepo.mydirectory.yayay.test.tick(net.minecraft.cli&zwnj;&#8203;ent.MinecraftClient)&zwnj;&#8203;, ...]</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670921288,"post_id":74756330,"comment_id":131978883,"body_markdown":"So does `MinecraftClient.class` refer to the same class? Does `MinecraftClient.class.getName()` evaluate to the same qualified name `&quot;net.minecraft.client.MinecraftClient&quot;`? And even if so, what does a comparison like `classInfo.loadClass().getMethods()[0].getParameterTypes()[0] == MinecraftClient.class` get you? (If the names match but the classes are considered different, it would indicate an issue of different class loaders)","body":"So does <code>MinecraftClient.class</code> refer to the same class? Does <code>MinecraftClient.class.getName()</code> evaluate to the same qualified name <code>&quot;net.minecraft.client.MinecraftClient&quot;</code>? And even if so, what does a comparison like <code>classInfo.loadClass().getMethods()[0].getParameterTypes()[0] == MinecraftClient.class</code> get you? (If the names match but the classes are considered different, it would indicate an issue of different class loaders)"}],"answers":[{"comments":[{"owner":{"account_id":14722783,"reputation":474,"user_id":15342452,"display_name":"WhatTheClown"},"score":0,"creation_date":1670760215,"post_id":74756643,"comment_id":131943307,"body_markdown":"Thing is, I don&#39;t want to keep creating new instances. I want to reuse them. Because what I am worried about is that there will be so many instances that aren&#39;t used (because new ones are made and used) that it&#39;ll slow my game down.","body":"Thing is, I don&#39;t want to keep creating new instances. I want to reuse them. Because what I am worried about is that there will be so many instances that aren&#39;t used (because new ones are made and used) that it&#39;ll slow my game down."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1670764029,"post_id":74756643,"comment_id":131943919,"body_markdown":"So, maybe you can use static method, and in the class you are using, you can use singleton","body":"So, maybe you can use static method, and in the class you are using, you can use singleton"},{"owner":{"account_id":14722783,"reputation":474,"user_id":15342452,"display_name":"WhatTheClown"},"score":0,"creation_date":1670861845,"post_id":74756643,"comment_id":131965796,"body_markdown":"Ok. I will try out your answer later, as I haven&#39;t tried it yet.","body":"Ok. I will try out your answer later, as I haven&#39;t tried it yet."},{"owner":{"account_id":14722783,"reputation":474,"user_id":15342452,"display_name":"WhatTheClown"},"score":0,"creation_date":1670871082,"post_id":74756643,"comment_id":131968901,"body_markdown":"I tried your answer, and it didn&#39;t work. I did set all methods to static voids, and used the code you providing for making a new instance.","body":"I tried your answer, and it didn&#39;t work. I did set all methods to static voids, and used the code you providing for making a new instance."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1670878650,"post_id":74756643,"comment_id":131971098,"body_markdown":"And what is your issue ?","body":"And what is your issue ?"}],"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670845317,"creation_date":1670707556,"answer_id":74756643,"question_id":74756330,"body_markdown":"The method `tick` is not static. But, when you are invoking method, you are not giving instance (but null), so it try to run the method as static. Such as It&#39;s not static, it failed.\r\n\r\nTo fix it, you can:\r\n1) Set your method as static, for example:\r\n```java\r\npackage com.stupidrepo.mydirectory.yayay;\r\n\r\npublic class test {\r\n    public static void tick(MinecraftClient client) {\r\n        System.out.println(client.player.getName());\r\n    }\r\n}\r\n```\r\n2) Create a new instance like that:\r\n```java\r\ntry {\r\n   Class&lt;?&gt; clzz = classInfo.loadClass(); // get class\r\n   Object obj = clzz.getConstructor().newInstance(); // create instance\r\n   clzz.getMethod(&quot;tick&quot;, MinecraftClient.class).invoke(obj, client); // get and call method\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\n```","title":"java.lang.NoSuchMethodException error but method does exist","body":"<p>The method <code>tick</code> is not static. But, when you are invoking method, you are not giving instance (but null), so it try to run the method as static. Such as It's not static, it failed.</p>\n<p>To fix it, you can:</p>\n<ol>\n<li>Set your method as static, for example:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stupidrepo.mydirectory.yayay;\n\npublic class test {\n    public static void tick(MinecraftClient client) {\n        System.out.println(client.player.getName());\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create a new instance like that:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n   Class&lt;?&gt; clzz = classInfo.loadClass(); // get class\n   Object obj = clzz.getConstructor().newInstance(); // create instance\n   clzz.getMethod(&quot;tick&quot;, MinecraftClient.class).invoke(obj, client); // get and call method\n} catch (Exception e) {\n   e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":14722783,"reputation":474,"user_id":15342452,"display_name":"WhatTheClown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1670845317,"creation_date":1670704288,"question_id":74756330,"body_markdown":"I know there is, like, over 5 questions that ask this but mine is different. I am trying to get all classes in a package and run the tick function. Here is what one of my classes look like:\r\n\r\n```\r\npackage com.stupidrepo.mydirectory.yayay;\r\n\r\npublic class test {\r\n    public void tick(MinecraftClient client) {\r\n        System.out.println(client.player.getName());\r\n    }\r\n}\r\n\r\n```\r\nHere is how I am attempting to call this function:\r\n\r\n```\r\n    ScanResult scanResult = new ClassGraph().acceptPackages(&quot;com.stupidrepo.mydirectory.yayay&quot;).enableClassInfo().scan();\r\n\r\n    private void doIt(MinecraftClient client) {\r\n        scanResult.getAllClasses().forEach((classInfo -&gt; {\r\n//            System.out.println(classInfo.getName());\r\n\r\n            try {\r\n                classInfo.loadClass().getMethod(&quot;tick&quot;, MinecraftClient.class).invoke(null, client);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }));\r\n    }\r\n```\r\nWhen I call the doIt function, it keeps giving me the `java.lang.NoSuchMethodException` error. When I print `classInfo.getMethods();`, it shows me `[public void com.stupidrepo.mydirectory.yayay.test.tick(net.minecraft.client.MinecraftClient)]`.\r\n\r\nSo the method is there but java says it isn&#39;t. Please help! (By the way the code is for a Fabric MC mod)","title":"java.lang.NoSuchMethodException error but method does exist","body":"<p>I know there is, like, over 5 questions that ask this but mine is different. I am trying to get all classes in a package and run the tick function. Here is what one of my classes look like:</p>\n<pre><code>package com.stupidrepo.mydirectory.yayay;\n\npublic class test {\n    public void tick(MinecraftClient client) {\n        System.out.println(client.player.getName());\n    }\n}\n\n</code></pre>\n<p>Here is how I am attempting to call this function:</p>\n<pre><code>    ScanResult scanResult = new ClassGraph().acceptPackages(&quot;com.stupidrepo.mydirectory.yayay&quot;).enableClassInfo().scan();\n\n    private void doIt(MinecraftClient client) {\n        scanResult.getAllClasses().forEach((classInfo -&gt; {\n//            System.out.println(classInfo.getName());\n\n            try {\n                classInfo.loadClass().getMethod(&quot;tick&quot;, MinecraftClient.class).invoke(null, client);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }));\n    }\n</code></pre>\n<p>When I call the doIt function, it keeps giving me the <code>java.lang.NoSuchMethodException</code> error. When I print <code>classInfo.getMethods();</code>, it shows me <code>[public void com.stupidrepo.mydirectory.yayay.test.tick(net.minecraft.client.MinecraftClient)]</code>.</p>\n<p>So the method is there but java says it isn't. Please help! (By the way the code is for a Fabric MC mod)</p>\n"},{"tags":["java","intellij-idea","lambda"],"answers":[{"comments":[{"owner":{"account_id":9612278,"reputation":41,"user_id":7136254,"display_name":"F. Zi"},"score":0,"creation_date":1550489663,"post_id":54746354,"comment_id":96274562,"body_markdown":"Thank you very much! :)","body":"Thank you very much! :)"}],"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1550489595,"creation_date":1550489595,"answer_id":54746354,"question_id":54746310,"body_markdown":"You just need a function that converts `Screen` to `double`:\r\n\r\n    screenList.sort(Comparator.comparingDouble(screen -&gt; screen.getBounds().getMinX()));","title":"Refactor lambda expression to use Comparator.comparingDouble","body":"<p>You just need a function that converts <code>Screen</code> to <code>double</code>:</p>\n\n<pre><code>screenList.sort(Comparator.comparingDouble(screen -&gt; screen.getBounds().getMinX()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14879298,"reputation":1234,"user_id":10744483,"display_name":"Olga Klisho"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550566686,"creation_date":1550566686,"answer_id":54762269,"question_id":54746310,"body_markdown":"In Intellij IDEA you just need to call quick fix at **compare** (pressing Alt+Enter) and click Enter at suggestion *replace with Comparator.comparing double*, IDEA will do the replacement automatically.\r\n\r\n    screenList.sort((screenA, screenB) -&gt; Double.com&lt;ALTENTER_HERE&gt;pare(\r\n                screenA.getBounds().getMinX(), screenB.getBounds().getMinX()));\r\n\r\ncode will be replaced with:\r\n\r\n     screenList.sort(Comparator.comparingDouble(screenA -&gt; screenA.getBounds().getMinX()));","title":"Refactor lambda expression to use Comparator.comparingDouble","body":"<p>In Intellij IDEA you just need to call quick fix at <strong>compare</strong> (pressing Alt+Enter) and click Enter at suggestion <em>replace with Comparator.comparing double</em>, IDEA will do the replacement automatically.</p>\n\n<pre><code>screenList.sort((screenA, screenB) -&gt; Double.com&lt;ALTENTER_HERE&gt;pare(\n            screenA.getBounds().getMinX(), screenB.getBounds().getMinX()));\n</code></pre>\n\n<p>code will be replaced with:</p>\n\n<pre><code> screenList.sort(Comparator.comparingDouble(screenA -&gt; screenA.getBounds().getMinX()));\n</code></pre>\n"}],"owner":{"account_id":9612278,"reputation":41,"user_id":7136254,"display_name":"F. Zi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":54746354,"answer_count":2,"score":0,"last_activity_date":1670844987,"creation_date":1550489465,"question_id":54746310,"body_markdown":"I have a the following lambda expression. My IDE (Intellij idea) tells me it should be replaced with `Comparator.comparingDouble` but I cannot find a way to do it.\r\n\r\n````\r\nList&lt;javafx.stage.Screen&gt; screenList = screens;\r\n\r\nscreenList.sort((screenA, screenB) -&gt; Double.compare(\r\n               screenA.getBounds().getMinX(), screenB.getBounds().getMinX()));\r\n\r\n````\r\n\r\nIs there a way to accomplish this with \r\n````\r\nscreenList.sort(Comparator.comparingDouble(...));\r\n````\r\nor is this a false annotation from Intellij? Thank you in advance for your help!\r\n\r\n","title":"Refactor lambda expression to use Comparator.comparingDouble","body":"<p>I have a the following lambda expression. My IDE (Intellij idea) tells me it should be replaced with <code>Comparator.comparingDouble</code> but I cannot find a way to do it.</p>\n<pre><code>List&lt;javafx.stage.Screen&gt; screenList = screens;\n\nscreenList.sort((screenA, screenB) -&gt; Double.compare(\n               screenA.getBounds().getMinX(), screenB.getBounds().getMinX()));\n\n</code></pre>\n<p>Is there a way to accomplish this with</p>\n<pre><code>screenList.sort(Comparator.comparingDouble(...));\n</code></pre>\n<p>or is this a false annotation from Intellij? Thank you in advance for your help!</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","ssh"],"comments":[{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1585680513,"post_id":60932567,"comment_id":107846187,"body_markdown":"Just to make things clear, you want your Spring Boot application to SSH into a remote host and read a file from there?","body":"Just to make things clear, you want your Spring Boot application to SSH into a remote host and read a file from there?"},{"owner":{"account_id":10923307,"reputation":321,"user_id":8028778,"display_name":"Kasun Palihakkara"},"score":0,"creation_date":1585721114,"post_id":60932567,"comment_id":107857750,"body_markdown":"yes. exactly.  is is possible?","body":"yes. exactly.  is is possible?"},{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1585837216,"post_id":60932567,"comment_id":107908426,"body_markdown":"Why won&#39;t you just use a fileserver on that location and use a GET request?","body":"Why won&#39;t you just use a fileserver on that location and use a GET request?"}],"answers":[{"tags":[],"owner":{"account_id":17234894,"reputation":63,"user_id":12478580,"display_name":"JesVan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670844556,"creation_date":1670844556,"answer_id":74770445,"question_id":60932567,"body_markdown":"Yes, it is possible.\r\n\r\nThere is a library called JSch - Java Secure Channel (http://www.jcraft.com/jsch/).\r\n\r\nThis is how you connect to remote host:\r\n\r\n    private static final String REMOTE_HOST = &quot;0.0.0.0&quot;;\r\n    private static final String USERNAME = &quot;&quot;;\r\n    private static final String PASSWORD = &quot;&quot;;\r\n    private static final int REMOTE_PORT = 22;\r\n    private static final int SESSION_TIMEOUT = 10000;\r\n    private static final int CHANNEL_TIMEOUT = 5000;\r\n\r\n    private void readFile() {\r\n        String remoteFile = &quot;/your/path/file.txt&quot;;\r\n        Session jschSession = null;\r\n\r\n        try {\r\n            JSch jsch = new JSch();\r\n\r\n            jschSession = jsch.getSession(USERNAME, REMOTE_HOST, REMOTE_PORT);\r\n\r\n            jschSession.setPassword(PASSWORD);\r\n            jschSession.connect(SESSION_TIMEOUT);\r\n\r\n            Channel sftp = jschSession.openChannel(&quot;sftp&quot;);\r\n            sftp.connect(CHANNEL_TIMEOUT);\r\n            ChannelSftp channelSftp = (ChannelSftp) sftp;\r\n\r\n            InputStream stream = channelSftp.get(remoteFile);\r\n            \r\n            //Parsing your file or etc. here\r\n\r\n            channelSftp.exit();\r\n\r\n        } catch (JSchException | SftpException e) {\r\n\r\n            e.printStackTrace();\r\n\r\n        } finally {\r\n            if (jschSession != null) {\r\n                jschSession.disconnect();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nAs for how to set credentials from application.properties, you can use annotation:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;mail&quot;)\r\n    public class ConfigProperties {\r\n        \r\n        private String hostName;\r\n        private int port;\r\n        private String from;\r\n    \r\n        // standard getters and setters\r\n    }\r\n\r\nExample in your application.properties:\r\n\r\n    mail.hostname=host@mail.com\r\n    mail.port=9000\r\n    mail.from=mailer@mail.com\r\n\r\nFurther explanation can be found here: https://www.baeldung.com/configuration-properties-in-spring-boot.\r\n\r\nI hope it helps.","title":"SSH to remote server and read Files in Springboot","body":"<p>Yes, it is possible.</p>\n<p>There is a library called JSch - Java Secure Channel (<a href=\"http://www.jcraft.com/jsch/\" rel=\"nofollow noreferrer\">http://www.jcraft.com/jsch/</a>).</p>\n<p>This is how you connect to remote host:</p>\n<pre><code>private static final String REMOTE_HOST = &quot;0.0.0.0&quot;;\nprivate static final String USERNAME = &quot;&quot;;\nprivate static final String PASSWORD = &quot;&quot;;\nprivate static final int REMOTE_PORT = 22;\nprivate static final int SESSION_TIMEOUT = 10000;\nprivate static final int CHANNEL_TIMEOUT = 5000;\n\nprivate void readFile() {\n    String remoteFile = &quot;/your/path/file.txt&quot;;\n    Session jschSession = null;\n\n    try {\n        JSch jsch = new JSch();\n\n        jschSession = jsch.getSession(USERNAME, REMOTE_HOST, REMOTE_PORT);\n\n        jschSession.setPassword(PASSWORD);\n        jschSession.connect(SESSION_TIMEOUT);\n\n        Channel sftp = jschSession.openChannel(&quot;sftp&quot;);\n        sftp.connect(CHANNEL_TIMEOUT);\n        ChannelSftp channelSftp = (ChannelSftp) sftp;\n\n        InputStream stream = channelSftp.get(remoteFile);\n        \n        //Parsing your file or etc. here\n\n        channelSftp.exit();\n\n    } catch (JSchException | SftpException e) {\n\n        e.printStackTrace();\n\n    } finally {\n        if (jschSession != null) {\n            jschSession.disconnect();\n        }\n    }\n}\n</code></pre>\n<p>As for how to set credentials from application.properties, you can use annotation:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;mail&quot;)\npublic class ConfigProperties {\n    \n    private String hostName;\n    private int port;\n    private String from;\n\n    // standard getters and setters\n}\n</code></pre>\n<p>Example in your application.properties:</p>\n<pre><code>mail.hostname=host@mail.com\nmail.port=9000\nmail.from=mailer@mail.com\n</code></pre>\n<p>Further explanation can be found here: <a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\">https://www.baeldung.com/configuration-properties-in-spring-boot</a>.</p>\n<p>I hope it helps.</p>\n"}],"owner":{"account_id":10923307,"reputation":321,"user_id":8028778,"display_name":"Kasun Palihakkara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1053,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670844556,"creation_date":1585577956,"question_id":60932567,"body_markdown":"I just need to know whether below scenario is possible or not in Spring boot?\r\n\r\nAssume I need to ssh to server and do operations in a specific directory in springboot. For example I just need to read file in Home directory in server 192.xxx.xxx.xxx in spring boot application. If this is possible how to set server credential(loging user,password) in application.properties.\r\n\r\nNeed you kind attention. Any help will be highly appreciated.\r\n\r\nThank You.","title":"SSH to remote server and read Files in Springboot","body":"<p>I just need to know whether below scenario is possible or not in Spring boot?</p>\n\n<p>Assume I need to ssh to server and do operations in a specific directory in springboot. For example I just need to read file in Home directory in server 192.xxx.xxx.xxx in spring boot application. If this is possible how to set server credential(loging user,password) in application.properties.</p>\n\n<p>Need you kind attention. Any help will be highly appreciated.</p>\n\n<p>Thank You.</p>\n"},{"tags":["java","selenium","google-chrome","selenium-chromedriver","page-factory"],"answers":[{"comments":[{"owner":{"account_id":26888691,"reputation":11,"user_id":20467824,"display_name":"Muhammad Abu Bakar"},"score":0,"creation_date":1689093228,"post_id":74770417,"comment_id":135163225,"body_markdown":"It got fixed thanks @Alex karamfilov","body":"It got fixed thanks @Alex karamfilov"}],"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670844415,"creation_date":1670844415,"answer_id":74770417,"question_id":74770010,"body_markdown":"Using selenium 4.7.1 and JDK 11:\r\n```\r\n       &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n```\r\npublic class Google {\r\n    private WebDriver driver;\r\n    @FindBy(name = &quot;q&quot;)\r\n    private WebElement searchField;\r\n    \r\n    public Google(WebDriver driver){\r\n        this.driver = driver;\r\n        PageFactory.initElements(driver, this);\r\n    }\r\n\r\n    public  void searchFor(String text){\r\n        searchField.sendKeys(text);\r\n        searchField.sendKeys(Keys.ENTER);\r\n    }\r\n\r\n    public void navigateTo(){\r\n        driver.get(&quot;https://google.com&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        WebDriverManager.chromedriver().setup();\r\n        WebDriver chrome = new ChromeDriver();\r\n        Google google = new Google(chrome);\r\n        google.navigateTo();\r\n        google.searchFor(&quot;Selenium&quot;);\r\n\r\n    }\r\n}\r\n```\r\nEverything works as expected.\r\n\r\nCorrect this line:\r\n```\r\nPageFactory.initElements(this.driver, this);\r\n```","title":"Version update to SELNEIUM 4.7.0 throwing NoSuchMethod Exception for Pagefactory","body":"<p>Using selenium 4.7.1 and JDK 11:</p>\n<pre><code>       &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>public class Google {\n    private WebDriver driver;\n    @FindBy(name = &quot;q&quot;)\n    private WebElement searchField;\n    \n    public Google(WebDriver driver){\n        this.driver = driver;\n        PageFactory.initElements(driver, this);\n    }\n\n    public  void searchFor(String text){\n        searchField.sendKeys(text);\n        searchField.sendKeys(Keys.ENTER);\n    }\n\n    public void navigateTo(){\n        driver.get(&quot;https://google.com&quot;);\n    }\n\n    public static void main(String[] args) {\n        WebDriverManager.chromedriver().setup();\n        WebDriver chrome = new ChromeDriver();\n        Google google = new Google(chrome);\n        google.navigateTo();\n        google.searchFor(&quot;Selenium&quot;);\n\n    }\n}\n</code></pre>\n<p>Everything works as expected.</p>\n<p>Correct this line:</p>\n<pre><code>PageFactory.initElements(this.driver, this);\n</code></pre>\n"}],"owner":{"account_id":26888691,"reputation":11,"user_id":20467824,"display_name":"Muhammad Abu Bakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74770417,"answer_count":1,"score":0,"last_activity_date":1670844415,"creation_date":1670842367,"question_id":74770010,"body_markdown":"I&#39;m changing my selenium porject from 3.141 to 4.7.0 but i&#39;m seeing NoSuchElementException on PageFactory Initialization.\r\n\r\n```Dependency\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n```Place of error\r\npublic WebElementsLogin(WebDriver driver) {\r\n\t\tthis.driver = driver;\r\n\t\tPageFactory.initElements(this.driver, this);\r\n\t}\r\n```\r\n\r\n```Exception\r\njava.lang.NoSuchMethodError: &#39;void org.openqa.selenium.support.PageFactory.initElements(org.openqa.selenium.SearchContext, java.lang.Object)&#39;\r\n","title":"Version update to SELNEIUM 4.7.0 throwing NoSuchMethod Exception for Pagefactory","body":"<p>I'm changing my selenium porject from 3.141 to 4.7.0 but i'm seeing NoSuchElementException on PageFactory Initialization.</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>public WebElementsLogin(WebDriver driver) {\n        this.driver = driver;\n        PageFactory.initElements(this.driver, this);\n    }\n</code></pre>\n<pre><code>java.lang.NoSuchMethodError: 'void org.openqa.selenium.support.PageFactory.initElements(org.openqa.selenium.SearchContext, java.lang.Object)'\n</code></pre>\n"},{"tags":["java","mockito","junit4","junit5"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1550780533,"post_id":54815602,"comment_id":96407568,"body_markdown":"Please explain your question instead of only including a link; and please do not post a picture of code, but include the code as text in your question.","body":"Please explain your question instead of only including a link; and please do not post a picture of code, but include the code as text in your question."},{"owner":{"account_id":15071962,"reputation":211,"user_id":10877141,"display_name":"ygbgames"},"score":0,"creation_date":1550780948,"post_id":54815602,"comment_id":96407766,"body_markdown":"Add code snippet and statement which you are trying to mock","body":"Add code snippet and statement which you are trying to mock"},{"owner":{"account_id":15382374,"reputation":11,"user_id":11097457,"display_name":"Bala Murugan"},"score":0,"creation_date":1550781307,"post_id":54815602,"comment_id":96407902,"body_markdown":"@Jesper  code added","body":"@Jesper  code added"},{"owner":{"account_id":15382374,"reputation":11,"user_id":11097457,"display_name":"Bala Murugan"},"score":0,"creation_date":1550781336,"post_id":54815602,"comment_id":96407916,"body_markdown":"@ygbgames code added","body":"@ygbgames code added"}],"answers":[{"comments":[{"owner":{"account_id":142352,"reputation":6169,"user_id":350021,"display_name":"Imre L"},"score":0,"creation_date":1550944563,"post_id":54815842,"comment_id":96462000,"body_markdown":"Instead of returning Consumer make a function that conforms to consumer interface `void lambdaForMocking(String s)` and use it `items.forEach(this::lambdaForMocking);`.","body":"Instead of returning Consumer make a function that conforms to consumer interface <code>void lambdaForMocking(String s)</code> and use it <code>items.forEach(this::lambdaForMocking);</code>."},{"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"score":0,"creation_date":1550946445,"post_id":54815842,"comment_id":96462574,"body_markdown":"@ImreL Ofc there are a lot of ways to make this code better. I just wanted to give to the OP the main idea of how to do what he needed.","body":"@ImreL Ofc there are a lot of ways to make this code better. I just wanted to give to the OP the main idea of how to do what he needed."}],"tags":[],"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550782736,"creation_date":1550781543,"answer_id":54815842,"question_id":54815602,"body_markdown":"Aside from discussing the purpose of doing this - practically you need to extract consumers from forEach() to separate methods (with the default modifier at least), and in your test class you should use Mockito.spy() functionality to mock them. \r\n\r\n(If you haven&#39;t yet familiar with the spying principle - it&#39;s like a partial mocking of the testing object. The good article about it: https://www.baeldung.com/mockito-spy).\r\n\r\nHow it actually can be:\r\n\r\n1. Your main class (let it be called &quot;TestApp&quot;):\r\n```\r\npublic class TestApp {\r\n\r\n    public void someRealMethod() {\r\n        List&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n        items.add(&quot;A&quot;);\r\n        items.add(&quot;B&quot;);\r\n        items.add(&quot;C&quot;);\r\n        items.add(&quot;D&quot;);\r\n        items.add(&quot;E&quot;);\r\n\r\n        items.forEach(lambdaForMocking());\r\n        items.forEach(anotherLambdaForMocking());\r\n    }\r\n\r\n    Consumer&lt;String&gt; lambdaForMocking() {\r\n        return item -&gt; System.out.println(item);\r\n    }\r\n\r\n    Consumer&lt;String&gt; anotherLambdaForMocking() {\r\n        return item -&gt; {\r\n            if (&quot;C&quot;.equals(item)) {\r\n                System.out.println(item);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n2. Your test class:\r\n```\r\npublic class TestAppTest {\r\n\r\n    @Test\r\n    public void lambdaMockingTest() {\r\n        TestApp testApp = new TestApp();\r\n        TestApp spy = Mockito.spy(testApp);\r\n\r\n        Mockito.when(spy.lambdaForMocking()).thenReturn(item -&gt; {});\r\n        Mockito.when(spy.anotherLambdaForMocking()).thenReturn(item -&gt; {});\r\n\r\n        spy.someRealMethod();\r\n\r\n        //Asserts...\r\n    }\r\n}\r\n```\r\nIn &quot;thenReturn&quot; parts you can define any consumers that you want (I left them empty, for example).","title":"How to Mock the Lambda expression using Mockito","body":"<p>Aside from discussing the purpose of doing this - practically you need to extract consumers from forEach() to separate methods (with the default modifier at least), and in your test class you should use Mockito.spy() functionality to mock them. </p>\n\n<p>(If you haven't yet familiar with the spying principle - it's like a partial mocking of the testing object. The good article about it: <a href=\"https://www.baeldung.com/mockito-spy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-spy</a>).</p>\n\n<p>How it actually can be:</p>\n\n<ol>\n<li>Your main class (let it be called \"TestApp\"):</li>\n</ol>\n\n<pre><code>public class TestApp {\n\n    public void someRealMethod() {\n        List&lt;String&gt; items = new ArrayList&lt;&gt;();\n        items.add(\"A\");\n        items.add(\"B\");\n        items.add(\"C\");\n        items.add(\"D\");\n        items.add(\"E\");\n\n        items.forEach(lambdaForMocking());\n        items.forEach(anotherLambdaForMocking());\n    }\n\n    Consumer&lt;String&gt; lambdaForMocking() {\n        return item -&gt; System.out.println(item);\n    }\n\n    Consumer&lt;String&gt; anotherLambdaForMocking() {\n        return item -&gt; {\n            if (\"C\".equals(item)) {\n                System.out.println(item);\n            }\n        };\n    }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Your test class:</li>\n</ol>\n\n<pre><code>public class TestAppTest {\n\n    @Test\n    public void lambdaMockingTest() {\n        TestApp testApp = new TestApp();\n        TestApp spy = Mockito.spy(testApp);\n\n        Mockito.when(spy.lambdaForMocking()).thenReturn(item -&gt; {});\n        Mockito.when(spy.anotherLambdaForMocking()).thenReturn(item -&gt; {});\n\n        spy.someRealMethod();\n\n        //Asserts...\n    }\n}\n</code></pre>\n\n<p>In \"thenReturn\" parts you can define any consumers that you want (I left them empty, for example).</p>\n"}],"owner":{"account_id":15382374,"reputation":11,"user_id":11097457,"display_name":"Bala Murugan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1950,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670844346,"creation_date":1550780440,"question_id":54815602,"body_markdown":"How to Mock the Lambda expression using Mockito\r\n\r\n    List&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n\titems.add(&quot;A&quot;);\r\n\titems.add(&quot;B&quot;);\r\n\titems.add(&quot;C&quot;);\r\n\titems.add(&quot;D&quot;);\r\n\titems.add(&quot;E&quot;);\r\n\r\nlambda\r\n\r\n\titems.forEach(item-&gt;System.out.println(item));\r\n\t\r\n\titems.forEach(item-&gt;{if(&quot;C&quot;.equals(item)){System.out.println(item);}});","title":"How to Mock the Lambda expression using Mockito","body":"<p>How to Mock the Lambda expression using Mockito</p>\n<pre><code>List&lt;String&gt; items = new ArrayList&lt;&gt;();\nitems.add(&quot;A&quot;);\nitems.add(&quot;B&quot;);\nitems.add(&quot;C&quot;);\nitems.add(&quot;D&quot;);\nitems.add(&quot;E&quot;);\n</code></pre>\n<p>lambda</p>\n<pre><code>items.forEach(item-&gt;System.out.println(item));\n\nitems.forEach(item-&gt;{if(&quot;C&quot;.equals(item)){System.out.println(item);}});\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testing","automated-tests","data-driven-tests"],"owner":{"account_id":15167351,"reputation":1,"user_id":10944489,"display_name":"Subhadeep Debnath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670843625,"creation_date":1670843625,"question_id":74770272,"body_markdown":"I was trying to build a framework where credentials of various users will come from an excel file.\r\nThe user will login to the application and perform some actions and then logout. After that another user will do the same, that is login, perform some actions and logout.\r\nI was able to do only onle time and not multipe time. Please can anyone solve this.\r\n\r\nRegards\r\nBelow is my code\r\n\r\n\r\n```\r\npackage testCases;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport utilities.Constants;\r\nimport utilities.ExcelUtils;\r\nimport java.io.IOException;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WebInteractions {\r\n\t\r\n\t//creating object of ExcelUtils class\r\n\tstatic ExcelUtils excelUtils = new ExcelUtils();\r\n\t\r\n\t//using the Constants class values for excel file path\r\n\tstatic String excelFilePath = Constants.Path_TestData + Constants.File_TestData;\r\n\r\n\tpublic static void main(String args[]) throws IOException {\r\n\t\t//set the Chrome Driver path\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Apps\\\\Eclipse\\\\Selenium\\\\chromedriver.exe&quot;);\r\n\t\t\r\n\t\t//Creating an object of ChromeDriver\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\t\r\n\t\t//launching the specified URL\r\n\t\tdriver.get(&quot;https://dev2-merchant-admin.canpaydebit.com/&quot;);\r\n\t\t\r\n\t\t//Identify the WebElements for the student registration form\r\n\t\tWebElement Username = driver.findElement(By.xpath(&quot;//input[@placeholder=&#39;Email&#39;]&quot;));\r\n\t\tWebElement Password = driver.findElement(By.xpath(&quot;//input[@placeholder=&#39;Password&#39;]&quot;));\r\n\t\tWebElement Login = driver.findElement(By.xpath(&quot;//button[@type=&#39;button&#39;]&quot;));\r\n\t\t\r\n\t\t//calling the ExcelUtils class method to initialise the workbook and sheet\r\n\t\texcelUtils.setExcelFile(excelFilePath, &quot;Sheet1&quot;);\r\n\r\n\t\t//iterate over all the row to print the data present in each cell.\r\n\t\t\tfor (int i = 1; i &lt;= excelUtils.getRowCountInSheet(); i++)\r\n\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Enter the values read from Excel in Username, Password\r\n\t\t\t\t\tUsername.sendKeys(excelUtils.getCellData(i, 0));\r\n\t\t\t\t\tPassword.sendKeys(excelUtils.getCellData(i, 1));\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Click on submit button\r\n\t\t\t\t\tLogin.click();\r\n\t\t\t\t\tdriver.manage().timeouts().implicitlyWait(2000, TimeUnit.SECONDS);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Clicking on Logout button\r\n\t\t\t\t\tdriver.findElement(By.xpath(&quot;//a[@class=&#39;d-block accordion-toggle collapsed&#39;]&quot;)).click();\r\n\t\t\t\t\tdriver.findElement(By.xpath(&quot;//p[normalize-space()=&#39;Logout&#39;]&quot;)).click();\r\n\r\n\t\t\t\t}\r\n\t\t\r\n\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nI tried the above code. I&#39;m expecting that one user logs in, perform some action, then logs out, then another user logs in, perform some actions and then logout, and like these all others users. The email and password will be coming from the Excel file.","title":"Login Logout with different users whose credentials will come from an Excel file one after another using Selenium","body":"<p>I was trying to build a framework where credentials of various users will come from an excel file.\nThe user will login to the application and perform some actions and then logout. After that another user will do the same, that is login, perform some actions and logout.\nI was able to do only onle time and not multipe time. Please can anyone solve this.</p>\n<p>Regards\nBelow is my code</p>\n<pre><code>package testCases;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport utilities.Constants;\nimport utilities.ExcelUtils;\nimport java.io.IOException;\nimport java.util.concurrent.TimeUnit;\n\npublic class WebInteractions {\n    \n    //creating object of ExcelUtils class\n    static ExcelUtils excelUtils = new ExcelUtils();\n    \n    //using the Constants class values for excel file path\n    static String excelFilePath = Constants.Path_TestData + Constants.File_TestData;\n\n    public static void main(String args[]) throws IOException {\n        //set the Chrome Driver path\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Apps\\\\Eclipse\\\\Selenium\\\\chromedriver.exe&quot;);\n        \n        //Creating an object of ChromeDriver\n        WebDriver driver = new ChromeDriver();\n        \n        //launching the specified URL\n        driver.get(&quot;https://dev2-merchant-admin.canpaydebit.com/&quot;);\n        \n        //Identify the WebElements for the student registration form\n        WebElement Username = driver.findElement(By.xpath(&quot;//input[@placeholder='Email']&quot;));\n        WebElement Password = driver.findElement(By.xpath(&quot;//input[@placeholder='Password']&quot;));\n        WebElement Login = driver.findElement(By.xpath(&quot;//button[@type='button']&quot;));\n        \n        //calling the ExcelUtils class method to initialise the workbook and sheet\n        excelUtils.setExcelFile(excelFilePath, &quot;Sheet1&quot;);\n\n        //iterate over all the row to print the data present in each cell.\n            for (int i = 1; i &lt;= excelUtils.getRowCountInSheet(); i++)\n                {\n                    \n                    //Enter the values read from Excel in Username, Password\n                    Username.sendKeys(excelUtils.getCellData(i, 0));\n                    Password.sendKeys(excelUtils.getCellData(i, 1));\n                    \n                    //Click on submit button\n                    Login.click();\n                    driver.manage().timeouts().implicitlyWait(2000, TimeUnit.SECONDS);\n                    \n                    //Clicking on Logout button\n                    driver.findElement(By.xpath(&quot;//a[@class='d-block accordion-toggle collapsed']&quot;)).click();\n                    driver.findElement(By.xpath(&quot;//p[normalize-space()='Logout']&quot;)).click();\n\n                }\n        \n\n        \n    }\n}\n\n</code></pre>\n<p>I tried the above code. I'm expecting that one user logs in, perform some action, then logs out, then another user logs in, perform some actions and then logout, and like these all others users. The email and password will be coming from the Excel file.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9407,"page":816,"page_size":100}
