{"items":[{"tags":["java","amazon-dynamodb","dynamodb-queries","amazon-dynamodb-index"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674984796,"creation_date":1674984796,"answer_id":75273890,"question_id":75273188,"body_markdown":"Here is an example using cli.\r\n\r\n`:v1` should be the material type I&#39;d that you are searching on.  `:v2` should be your epoch time in milliseconds for 30 mins ago which you will have to calculate.\r\n\r\n\r\n```\r\naws dynamodb query \\\r\n    --table-name mytable \\\r\n    --index-name myindex\r\n    --key-condition-expression &quot;materialType = :v1 AND create time &gt; :v2&quot; \\\r\n    --expression-attribute-values &#39;{\r\n    &quot;:v1&quot;: {&quot;S&quot;: &quot;some id&quot;},\r\n    &quot;:V2&quot;: {&quot;N&quot;: &quot;766677876567&quot;}\r\n}&#39;\r\n```","title":"Get all items of the last 15 minutes in DynamoDB","body":"<p>Here is an example using cli.</p>\n<p><code>:v1</code> should be the material type I'd that you are searching on.  <code>:v2</code> should be your epoch time in milliseconds for 30 mins ago which you will have to calculate.</p>\n<pre><code>aws dynamodb query \\\n    --table-name mytable \\\n    --index-name myindex\n    --key-condition-expression &quot;materialType = :v1 AND create time &gt; :v2&quot; \\\n    --expression-attribute-values '{\n    &quot;:v1&quot;: {&quot;S&quot;: &quot;some id&quot;},\n    &quot;:V2&quot;: {&quot;N&quot;: &quot;766677876567&quot;}\n}'\n</code></pre>\n"}],"owner":{"account_id":15338304,"reputation":173,"user_id":11066001,"display_name":"Yashika Chandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674984796,"creation_date":1674976483,"question_id":75273188,"body_markdown":"As I come from RDBM background I am bit confuse with DynamoDB, how to write this query.\r\n\r\n**Problem** : need to filter out those data which is more than 15 minutes.\r\n\r\nI have created GSI with hashkey`materialType` and `createTime` (create time format `Instant.now().toEpochMilli()`).\r\n\r\nNow I have to write a java query which gives those values which is more than 15 minutes.","title":"Get all items of the last 15 minutes in DynamoDB","body":"<p>As I come from RDBM background I am bit confuse with DynamoDB, how to write this query.</p>\n<p><strong>Problem</strong> : need to filter out those data which is more than 15 minutes.</p>\n<p>I have created GSI with hashkey<code>materialType</code> and <code>createTime</code> (create time format <code>Instant.now().toEpochMilli()</code>).</p>\n<p>Now I have to write a java query which gives those values which is more than 15 minutes.</p>\n"},{"tags":["java","json","discord","discord-jda"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1674983631,"post_id":75273716,"comment_id":132827089,"body_markdown":"Does the string contain the ID of the channel? What does the JSON file look like?","body":"Does the string contain the ID of the channel? What does the JSON file look like?"}],"owner":{"account_id":25562543,"reputation":39,"user_id":19344937,"display_name":"Rose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674984562,"creation_date":1674982791,"question_id":75273716,"body_markdown":"I am trying to store a MessageChannel in a json file, then reading it and sending a message into that channel later\r\n\r\n~~~\r\nInputStream is = new FileInputStream(&quot;OmgIt&#39;sJasonBourne.json&quot;);\r\n\t          \r\n\t          JSONTokener tokener = new JSONTokener(is);\r\n\t          JSONObject jsonObject = new JSONObject(tokener);\r\n\t          JSONObject jsonAlarm = (JSONObject) jsonObject.get(&quot;alarm&quot;);\r\n\r\n\t         MessageChannel theChannel= (MessageChannel) jsonAlarm.get(&quot;channel&quot;);\r\n\t         theChannel.sendMessage(jsonAlarm.get(&quot;message&quot;).toString());\r\n~~~\r\n\r\nWhen I try and use this code it gives me: \r\n~~~\r\nString cannot be cast to class net.dv8tion.jda.api.entities.channel.middleman.MessageChannel\r\n~~~\r\nIs there any way to convert a string into a MessageChannel?","title":"How to cast String to MessageChannel","body":"<p>I am trying to store a MessageChannel in a json file, then reading it and sending a message into that channel later</p>\n<pre><code>InputStream is = new FileInputStream(&quot;OmgIt'sJasonBourne.json&quot;);\n              \n              JSONTokener tokener = new JSONTokener(is);\n              JSONObject jsonObject = new JSONObject(tokener);\n              JSONObject jsonAlarm = (JSONObject) jsonObject.get(&quot;alarm&quot;);\n\n             MessageChannel theChannel= (MessageChannel) jsonAlarm.get(&quot;channel&quot;);\n             theChannel.sendMessage(jsonAlarm.get(&quot;message&quot;).toString());\n</code></pre>\n<p>When I try and use this code it gives me:</p>\n<pre><code>String cannot be cast to class net.dv8tion.jda.api.entities.channel.middleman.MessageChannel\n</code></pre>\n<p>Is there any way to convert a string into a MessageChannel?</p>\n"},{"tags":["java","zip","crc32"],"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1423130995,"post_id":1206970,"comment_id":45027190,"body_markdown":"Those int constants are &quot;a code accent&quot; from another age (probably C)... I wish David Connelly had read about Java enums before he wrote ZipOutputStream.","body":"Those int constants are &quot;a code accent&quot; from another age (probably C)... I wish David Connelly had read about Java enums before he wrote ZipOutputStream."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1458951888,"post_id":1206970,"comment_id":60091431,"body_markdown":"@ChristopheRoussy That would have been rather difficult, as `ZipOutputStream` appeared many years before enums.","body":"@ChristopheRoussy That would have been rather difficult, as <code>ZipOutputStream</code> appeared many years before enums."},{"owner":{"display_name":"user9599745"},"score":1,"creation_date":1579209358,"post_id":1206970,"comment_id":105699909,"body_markdown":"I wonder what is so cool about enums. and what is so uncool about const integers.","body":"I wonder what is so cool about enums. and what is so uncool about const integers."}],"answers":[{"comments":[{"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":0,"creation_date":1395682821,"post_id":5868403,"comment_id":34438978,"body_markdown":"Thanks, you seem to be correct, but is that anywhere documented?","body":"Thanks, you seem to be correct, but is that anywhere documented?"},{"owner":{"account_id":379825,"reputation":3125,"user_id":733456,"accept_rate":84,"display_name":"Christian Schlichtherle"},"score":2,"creation_date":1395731248,"post_id":5868403,"comment_id":34458483,"body_markdown":"It&#39;s specified in the ZIP File Format Specification at https://www.pkware.com/documents/casestudies/APPNOTE.TXT .","body":"It&#39;s specified in the ZIP File Format Specification at <a href=\"https://www.pkware.com/documents/casestudies/APPNOTE.TXT\" rel=\"nofollow noreferrer\">pkware.com/documents/casestudies/APPNOTE.TXT</a> ."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":1,"creation_date":1423145625,"post_id":5868403,"comment_id":45036494,"body_markdown":"@AlexWien An error will be raised by `ZipOutputStream` if you do not... luckily it got a good error message.","body":"@AlexWien An error will be raised by <code>ZipOutputStream</code> if you do not... luckily it got a good error message."}],"tags":[],"owner":{"account_id":379825,"reputation":3125,"user_id":733456,"accept_rate":84,"display_name":"Christian Schlichtherle"},"comment_count":3,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1372280062,"creation_date":1304420188,"answer_id":5868403,"question_id":1206970,"body_markdown":"You need to use the `STORED` method, but this requires that you set the `size`, `compressedSize` and `crc32` properties of the corresponding `ZipEntry` before you can call `putNextEntry` on the `ZipOutputStream`. You can precompute the CRC-32 by using a `Crc32OutputStream`.","title":"How to create Uncompressed Zip archive in Java","body":"<p>You need to use the <code>STORED</code> method, but this requires that you set the <code>size</code>, <code>compressedSize</code> and <code>crc32</code> properties of the corresponding <code>ZipEntry</code> before you can call <code>putNextEntry</code> on the <code>ZipOutputStream</code>. You can precompute the CRC-32 by using a <code>Crc32OutputStream</code>.</p>\n"},{"comments":[{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":3,"creation_date":1369213189,"post_id":13654065,"comment_id":24015003,"body_markdown":"DEFLATED + Level(0) resulted in my case to... EACH COMPRESSED FILE (A BIT) BIGGER THAN THE SOURCE FILE :O I&#39;m pretty sure DEFLATED-0 is different from STORE :/","body":"DEFLATED + Level(0) resulted in my case to... EACH COMPRESSED FILE (A BIT) BIGGER THAN THE SOURCE FILE :O I&#39;m pretty sure DEFLATED-0 is different from STORE :/"},{"owner":{"account_id":108996,"reputation":740,"user_id":289037,"accept_rate":50,"display_name":"PMorganCA"},"score":3,"creation_date":1415202392,"post_id":13654065,"comment_id":42103835,"body_markdown":"DEFLATED-0 and STORE _might_ be different, but they have the same objective - a zip file containing uncompressed data. I don&#39;t expect that either method will output a file that is equal in size to the source file. However in the question, Keya was having trouble using the STORE method, because of the pre-processing required to get the required arguments. If you want a compressed file that&#39;s smaller than the source file, use a different value in setLevel() - but that&#39;s not what the question was asking for.","body":"DEFLATED-0 and STORE <i>might</i> be different, but they have the same objective - a zip file containing uncompressed data. I don&#39;t expect that either method will output a file that is equal in size to the source file. However in the question, Keya was having trouble using the STORE method, because of the pre-processing required to get the required arguments. If you want a compressed file that&#39;s smaller than the source file, use a different value in setLevel() - but that&#39;s not what the question was asking for."},{"owner":{"display_name":"user9599745"},"score":0,"creation_date":1579210103,"post_id":13654065,"comment_id":105700207,"body_markdown":"Your code failed for me. The zip file would never get completed. So much for not being compressed.","body":"Your code failed for me. The zip file would never get completed. So much for not being compressed."}],"tags":[],"owner":{"account_id":108996,"reputation":740,"user_id":289037,"accept_rate":50,"display_name":"PMorganCA"},"comment_count":3,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1458948434,"creation_date":1354314213,"answer_id":13654065,"question_id":1206970,"body_markdown":"I&#39;m leery of **aperkins** solution (since deleted), but I know why it worked. The line (which has since been corrected in his answer)\r\n\r\n    zipOut.setLevel(ZipOutputStream.STORED); // accidentally right\r\n\r\nwas using the static value `ZipOutputStream.STORED`, which coincidentally equals `0`. So what that line is doing is setting the *level* used by the default DEFLATED method to zero compression (this is obviously what you want to do, but happened to only work by luck). So to get what you want explicitly and safely, use this instead:\r\n\r\n    zipOut.setMethod(ZipOutputStream.DEFLATED); // this line optional\r\n    zipOut.setLevel(0);\r\n\r\nor\r\n\r\n    zipOut.setLevel(Deflater.NO_COMPRESSION);\r\n\r\nIf you use\r\n\r\n    zipOut.setMethod(ZipOutputStream.STORED);\r\n    zipOut.setLevel(Deflater.NO_COMPRESSION);\r\n\r\n\r\nyou&#39;ll probably get the Exception that Keya noted in the original question. I believe **Christian Schlichtherle** is right; you are getting the Exceptions because you are not setting the CRC in the entry. The repercussions of that is that to use the STORED method, you have to read the entire entry file first, or find some other way to set the size, compressed size (must be equal) and the CRC before you call `zipOut.putNextEntry()`. Otherwise, you&#39;ll run into more exceptions if you overrun the size attribute by writing too many bytes to the output stream.  It appears that the ZIP specs say that if you are writing STORED data then it has to write the header [which includes the CRC-32 and length] &quot;up front&quot; before the data itself, hence the java API requiring these be set before it can start, since it basically only supports streaming out to the final zip file.","title":"How to create Uncompressed Zip archive in Java","body":"<p>I'm leery of <strong>aperkins</strong> solution (since deleted), but I know why it worked. The line (which has since been corrected in his answer)</p>\n\n<pre><code>zipOut.setLevel(ZipOutputStream.STORED); // accidentally right\n</code></pre>\n\n<p>was using the static value <code>ZipOutputStream.STORED</code>, which coincidentally equals <code>0</code>. So what that line is doing is setting the <em>level</em> used by the default DEFLATED method to zero compression (this is obviously what you want to do, but happened to only work by luck). So to get what you want explicitly and safely, use this instead:</p>\n\n<pre><code>zipOut.setMethod(ZipOutputStream.DEFLATED); // this line optional\nzipOut.setLevel(0);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>zipOut.setLevel(Deflater.NO_COMPRESSION);\n</code></pre>\n\n<p>If you use</p>\n\n<pre><code>zipOut.setMethod(ZipOutputStream.STORED);\nzipOut.setLevel(Deflater.NO_COMPRESSION);\n</code></pre>\n\n<p>you'll probably get the Exception that Keya noted in the original question. I believe <strong>Christian Schlichtherle</strong> is right; you are getting the Exceptions because you are not setting the CRC in the entry. The repercussions of that is that to use the STORED method, you have to read the entire entry file first, or find some other way to set the size, compressed size (must be equal) and the CRC before you call <code>zipOut.putNextEntry()</code>. Otherwise, you'll run into more exceptions if you overrun the size attribute by writing too many bytes to the output stream.  It appears that the ZIP specs say that if you are writing STORED data then it has to write the header [which includes the CRC-32 and length] \"up front\" before the data itself, hence the java API requiring these be set before it can start, since it basically only supports streaming out to the final zip file.</p>\n"},{"tags":[],"owner":{"account_id":927725,"reputation":2281,"user_id":958160,"display_name":"Li Ying"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1414032521,"creation_date":1414032521,"answer_id":26520506,"question_id":1206970,"body_markdown":"FYI:\r\n\r\nIn JDK Source of the method [java.util.zip.ZipOutputStream.setLevel(int)]:\r\n\r\n    public void setLevel(int level) {\r\n        def.setLevel(level);\r\n    }\r\n\r\n\r\nIt simply redirect the compression level setting to the field variable [def], which is an instance of [java.util.zip.Deflater].\r\n\r\nAnd in the source code of the class [java.util.zip.Deflater]:\r\n\r\n\r\n\r\n    /**\r\n     * Compression level for no compression.\r\n     */\r\n    public static final int NO_COMPRESSION = 0;\r\n    \r\n    /**\r\n     * Compression level for fastest compression.\r\n     */\r\n    public static final int BEST_SPEED = 1;\r\n    \r\n    /**\r\n     * Compression level for best compression.\r\n     */\r\n    public static final int BEST_COMPRESSION = 9;\r\n    \r\n    /**\r\n     * Default compression level.\r\n     */\r\n    public static final int DEFAULT_COMPRESSION = -1;\r\n\r\n\r\n\r\n\r\n\r\nSo, I think it will be more readable if you use the constant value [Deflater.NO_COMPRESSION]:\r\n\r\n\r\n\r\n    zipOut.setMethod(ZipOutputStream.DEFLATED);\r\n    zipOut.setLevel(Deflater.NO_COMPRESSION);\r\n\r\n","title":"How to create Uncompressed Zip archive in Java","body":"<p>FYI:</p>\n\n<p>In JDK Source of the method [java.util.zip.ZipOutputStream.setLevel(int)]:</p>\n\n<pre><code>public void setLevel(int level) {\n    def.setLevel(level);\n}\n</code></pre>\n\n<p>It simply redirect the compression level setting to the field variable [def], which is an instance of [java.util.zip.Deflater].</p>\n\n<p>And in the source code of the class [java.util.zip.Deflater]:</p>\n\n<pre><code>/**\n * Compression level for no compression.\n */\npublic static final int NO_COMPRESSION = 0;\n\n/**\n * Compression level for fastest compression.\n */\npublic static final int BEST_SPEED = 1;\n\n/**\n * Compression level for best compression.\n */\npublic static final int BEST_COMPRESSION = 9;\n\n/**\n * Default compression level.\n */\npublic static final int DEFAULT_COMPRESSION = -1;\n</code></pre>\n\n<p>So, I think it will be more readable if you use the constant value [Deflater.NO_COMPRESSION]:</p>\n\n<pre><code>zipOut.setMethod(ZipOutputStream.DEFLATED);\nzipOut.setLevel(Deflater.NO_COMPRESSION);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11437882,"reputation":56,"user_id":8384616,"display_name":"clzd0792"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674982860,"creation_date":1674982860,"answer_id":75273720,"question_id":1206970,"body_markdown":"```\r\n    public static void zipForStored(String srcFile, String zipFile) throws Exception {\r\n        File file = new File(zipFile);\r\n        if (!file.exists()) file.createNewFile();\r\n        ZipOutputStream outZip = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(file)));\r\n        outZip.setMethod(ZipOutputStream.STORED);\r\n        ZipFiles(srcFile, null, &quot;&quot;, outZip);\r\n        outZip.finish();\r\n        outZip.close();\r\n    }\r\n\r\n    private static void ZipFiles(String folder, FilenameFilter filter, String file, ZipOutputStream zipOutputSteam) throws Exception {\r\n        if (zipOutputSteam == null)\r\n            return;\r\n        File f = new File(folder, file);\r\n        if (f.isFile()) {\r\n            ZipEntry zipEntry = new ZipEntry(file);\r\n            FileInputStream inputStream = new FileInputStream(f);\r\n            zipEntry.setSize(f.length());\r\n            zipEntry.setCompressedSize(f.length());\r\n            zipEntry.setCrc(computeCrc(f));\r\n            zipOutputSteam.putNextEntry(zipEntry);\r\n            int len;\r\n            byte[] buffer = new byte[4096];\r\n            while ((len = inputStream.read(buffer)) != -1) {\r\n                zipOutputSteam.write(buffer, 0, len);\r\n            }\r\n            zipOutputSteam.closeEntry();\r\n            inputStream.close();\r\n        } else {\r\n            String fileList[] = f.list(filter);\r\n            if (fileList.length &lt;= 0) {\r\n                ZipEntry zipEntry = new ZipEntry(file + File.separator);\r\n                zipEntry.setSize(0);\r\n                zipEntry.setCompressedSize(0);\r\n                zipEntry.setCrc(0);\r\n                zipOutputSteam.putNextEntry(zipEntry);\r\n                zipOutputSteam.closeEntry();\r\n            }\r\n            for (int i = 0; i &lt; fileList.length; i++) {\r\n                if (TextUtils.isEmpty(file)) {\r\n                    ZipFiles(folder, filter, fileList[i], zipOutputSteam);\r\n                } else {\r\n                    ZipFiles(folder, filter, file + File.separator + fileList[i], zipOutputSteam);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Computes the CRC checksum for the given file.\r\n     *\r\n     * @param file The file to compute checksum for.\r\n     * @return A CRC32 checksum.\r\n     * @throws IOException If an I/O error occurs.\r\n     */\r\n    private static long computeCrc(File file) throws IOException {\r\n        CRC32 crc = new CRC32();\r\n        InputStream in = new FileInputStream(file);\r\n\r\n        try {\r\n            byte[] buf = new byte[8192];\r\n            int n = in.read(buf);\r\n            while (n != -1) {\r\n                crc.update(buf, 0, n);\r\n                n = in.read(buf);\r\n            }\r\n        } finally {\r\n            in.close();\r\n        }\r\n        return crc.getValue();\r\n    }\r\n```","title":"How to create Uncompressed Zip archive in Java","body":"<pre><code>    public static void zipForStored(String srcFile, String zipFile) throws Exception {\n        File file = new File(zipFile);\n        if (!file.exists()) file.createNewFile();\n        ZipOutputStream outZip = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(file)));\n        outZip.setMethod(ZipOutputStream.STORED);\n        ZipFiles(srcFile, null, &quot;&quot;, outZip);\n        outZip.finish();\n        outZip.close();\n    }\n\n    private static void ZipFiles(String folder, FilenameFilter filter, String file, ZipOutputStream zipOutputSteam) throws Exception {\n        if (zipOutputSteam == null)\n            return;\n        File f = new File(folder, file);\n        if (f.isFile()) {\n            ZipEntry zipEntry = new ZipEntry(file);\n            FileInputStream inputStream = new FileInputStream(f);\n            zipEntry.setSize(f.length());\n            zipEntry.setCompressedSize(f.length());\n            zipEntry.setCrc(computeCrc(f));\n            zipOutputSteam.putNextEntry(zipEntry);\n            int len;\n            byte[] buffer = new byte[4096];\n            while ((len = inputStream.read(buffer)) != -1) {\n                zipOutputSteam.write(buffer, 0, len);\n            }\n            zipOutputSteam.closeEntry();\n            inputStream.close();\n        } else {\n            String fileList[] = f.list(filter);\n            if (fileList.length &lt;= 0) {\n                ZipEntry zipEntry = new ZipEntry(file + File.separator);\n                zipEntry.setSize(0);\n                zipEntry.setCompressedSize(0);\n                zipEntry.setCrc(0);\n                zipOutputSteam.putNextEntry(zipEntry);\n                zipOutputSteam.closeEntry();\n            }\n            for (int i = 0; i &lt; fileList.length; i++) {\n                if (TextUtils.isEmpty(file)) {\n                    ZipFiles(folder, filter, fileList[i], zipOutputSteam);\n                } else {\n                    ZipFiles(folder, filter, file + File.separator + fileList[i], zipOutputSteam);\n                }\n            }\n        }\n    }\n\n    /**\n     * Computes the CRC checksum for the given file.\n     *\n     * @param file The file to compute checksum for.\n     * @return A CRC32 checksum.\n     * @throws IOException If an I/O error occurs.\n     */\n    private static long computeCrc(File file) throws IOException {\n        CRC32 crc = new CRC32();\n        InputStream in = new FileInputStream(file);\n\n        try {\n            byte[] buf = new byte[8192];\n            int n = in.read(buf);\n            while (n != -1) {\n                crc.update(buf, 0, n);\n                n = in.read(buf);\n            }\n        } finally {\n            in.close();\n        }\n        return crc.getValue();\n    }\n</code></pre>\n"}],"owner":{"display_name":"Keya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19976,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":4,"score":30,"last_activity_date":1674982860,"creation_date":1248964143,"question_id":1206970,"body_markdown":"I am using the Zip utility package of Java and wanted to know how to create a zip file with no compression at all.  Setting the level to 0 doesn&#39;t help.  Is this right?\r\n\r\nAlso, when I used the `STORED` method, it throws following exception:\r\n\r\n    java.util.zip.ZipException: STORED entry missing size, compressed size, or crc-32\r\n\r\nI can set the size but now following exception is thrown:\r\n\r\n    java.util.zip.ZipException: invalid entry crc-32 \r\n\r\nI am just following all the examples available by searching on the web and I am not able to really understand it properly I guess.  It would be great if someone can help me on this and provide me suggestion to correct the problem I might be doing.","title":"How to create Uncompressed Zip archive in Java","body":"<p>I am using the Zip utility package of Java and wanted to know how to create a zip file with no compression at all.  Setting the level to 0 doesn't help.  Is this right?</p>\n\n<p>Also, when I used the <code>STORED</code> method, it throws following exception:</p>\n\n<pre><code>java.util.zip.ZipException: STORED entry missing size, compressed size, or crc-32\n</code></pre>\n\n<p>I can set the size but now following exception is thrown:</p>\n\n<pre><code>java.util.zip.ZipException: invalid entry crc-32 \n</code></pre>\n\n<p>I am just following all the examples available by searching on the web and I am not able to really understand it properly I guess.  It would be great if someone can help me on this and provide me suggestion to correct the problem I might be doing.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":43392,"reputation":3949,"user_id":126833,"accept_rate":76,"display_name":"anjanesh"},"score":0,"creation_date":1674985331,"post_id":75273715,"comment_id":132827307,"body_markdown":"Thanks for the solution - I just wanted to test something quickly and not change the model variable.","body":"Thanks for the solution - I just wanted to test something quickly and not change the model variable."}],"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674982787,"creation_date":1674982787,"answer_id":75273715,"question_id":75273228,"body_markdown":"The `Model` class actually has `asMap()` method. You can check in [java docs](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/Model.html#asMap()) . `Context` class in turn has `context.setVariables()` method. You can check it [here](https://www.thymeleaf.org/apidocs/thymeleaf/2.0.2/org/thymeleaf/context/AbstractContext.html#setVariables(java.util.Map)). It means you can write something like this:\r\n```java\r\nctx.setVariables(model.asMap());\r\n```\r\nIt is also worth noting that you should use the `Model` class and the `Context` class as they have different responsibilities. Since `Model` class is used to add attributes to a model that will be used to render a view, and the `Context` class is used to add attributes to a context that will be used to process a Thymeleaf template.","title":"Convert Model variable to a Context variable in SpringBoot","body":"<p>The <code>Model</code> class actually has <code>asMap()</code> method. You can check in <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/Model.html#asMap()\" rel=\"nofollow noreferrer\">java docs</a> . <code>Context</code> class in turn has <code>context.setVariables()</code> method. You can check it <a href=\"https://www.thymeleaf.org/apidocs/thymeleaf/2.0.2/org/thymeleaf/context/AbstractContext.html#setVariables(java.util.Map)\" rel=\"nofollow noreferrer\">here</a>. It means you can write something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.setVariables(model.asMap());\n</code></pre>\n<p>It is also worth noting that you should use the <code>Model</code> class and the <code>Context</code> class as they have different responsibilities. Since <code>Model</code> class is used to add attributes to a model that will be used to render a view, and the <code>Context</code> class is used to add attributes to a context that will be used to process a Thymeleaf template.</p>\n"}],"owner":{"account_id":43392,"reputation":3949,"user_id":126833,"accept_rate":76,"display_name":"anjanesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75273715,"answer_count":1,"score":0,"last_activity_date":1674982787,"creation_date":1674977036,"question_id":75273228,"body_markdown":"This is what I already have :\r\n\r\n```java\r\nmodel.addAttribute(&quot;var1&quot;, var1);\r\nmodel.addAttribute(&quot;var99&quot;, var99);\r\n```\r\n\r\nThis is what I have to do - so its a complete re-do :\r\n\r\n```java\r\nContext ctx = new Context();\r\n\r\nctx.setVariable(&quot;var1&quot;, var1);\r\nctx.setVariable(&quot;var99&quot;, var99);\r\n```\r\n\r\nIs there a way to set `model` to `ctx` ?\r\n\r\nWhat I really want to do :\r\n\r\n```java\r\nString htmlTemplate = myTemplateEngine.process(&quot;html/foo.html&quot;, ctx);\r\n```","title":"Convert Model variable to a Context variable in SpringBoot","body":"<p>This is what I already have :</p>\n<pre class=\"lang-java prettyprint-override\"><code>model.addAttribute(&quot;var1&quot;, var1);\nmodel.addAttribute(&quot;var99&quot;, var99);\n</code></pre>\n<p>This is what I have to do - so its a complete re-do :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Context ctx = new Context();\n\nctx.setVariable(&quot;var1&quot;, var1);\nctx.setVariable(&quot;var99&quot;, var99);\n</code></pre>\n<p>Is there a way to set <code>model</code> to <code>ctx</code> ?</p>\n<p>What I really want to do :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String htmlTemplate = myTemplateEngine.process(&quot;html/foo.html&quot;, ctx);\n</code></pre>\n"},{"tags":["java","spring-boot","netty","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":4890986,"reputation":1123,"user_id":3942132,"display_name":"Roie Beck"},"score":0,"creation_date":1593169422,"post_id":62592495,"comment_id":110692229,"body_markdown":"I understand your remakrs, but the problem still remains, I don&#39;t want to return the flux, I want to finish the flux execution and then return a mono as the response to the client, How can this be done in spring webflux?","body":"I understand your remakrs, but the problem still remains, I don&#39;t want to return the flux, I want to finish the flux execution and then return a mono as the response to the client, How can this be done in spring webflux?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":3,"creation_date":1593169823,"post_id":62592495,"comment_id":110692409,"body_markdown":"read the documentation for `then(Mono&lt;V&gt; other)` it states `Let this Flux complete then play signals from a provided Mono` which means if you return a `Flux` when that flux completes (whatever you want it to do) it will then return what you have put in your `then`.","body":"read the documentation for <code>then(Mono&lt;V&gt; other)</code> it states <code>Let this Flux complete then play signals from a provided Mono</code> which means if you return a <code>Flux</code> when that flux completes (whatever you want it to do) it will then return what you have put in your <code>then</code>."},{"owner":{"account_id":4203120,"reputation":10908,"user_id":4923629,"accept_rate":92,"display_name":"123"},"score":0,"creation_date":1593239346,"post_id":62592495,"comment_id":110715083,"body_markdown":"`you should not subscribe in your application`, why not? Also void methods are fine for `doOnNext` which should be used only for side effects. The issue is they are expecting the side effects to affect the original Mono chain. Also AFAIK no method signature for `doOnNext` allows you to return anything, since it only takes a consumer.","body":"<code>you should not subscribe in your application</code>, why not? Also void methods are fine for <code>doOnNext</code> which should be used only for side effects. The issue is they are expecting the side effects to affect the original Mono chain. Also AFAIK no method signature for <code>doOnNext</code> allows you to return anything, since it only takes a consumer."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1593240477,"post_id":62592495,"comment_id":110715312,"body_markdown":"Because the calling client looses the ability to control backpressure. And i did never claim that doOnNext did not take a void method, so please read before you comment.","body":"Because the calling client looses the ability to control backpressure. And i did never claim that doOnNext did not take a void method, so please read before you comment."},{"owner":{"account_id":4203120,"reputation":10908,"user_id":4923629,"accept_rate":92,"display_name":"123"},"score":1,"creation_date":1593244001,"post_id":62592495,"comment_id":110716054,"body_markdown":"You don&#39;t control back pressure in `doOnNext`, so not sure your point there. Also you say `You are doing several things wrong ...  you are having void methods`, but OP is using them in doOnNext, so again how is that wrong? What did I read incorrectly?","body":"You don&#39;t control back pressure in <code>doOnNext</code>, so not sure your point there. Also you say <code>You are doing several things wrong ...  you are having void methods</code>, but OP is using them in doOnNext, so again how is that wrong? What did I read incorrectly?"}],"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1593170199,"creation_date":1593166113,"answer_id":62592495,"question_id":62591575,"body_markdown":"You are doing several things wrong you should not `subscribe` in your application, and you are having void methods, which should not be used in reactive programming unless in specific places.\r\n\r\nhere is some example code:\r\n```\r\n\r\n// Nothing will happen, we are not returning anything, we can&#39;t subscribe\r\nprivate void doSomething() {\r\n    Mono.just(&quot;Foo&quot;);\r\n}\r\n\r\n// complier error\r\ndoSomething().subscribe( ... );\r\n\r\n```\r\n\r\nYour application is a `publisher` the calling client, is the subscriber, thats why we return a Mono or a Flux out to the calling client, they `subscribe`.\r\n\r\nYou have solved it this way:\r\n```\r\nprivate void doSomething() {\r\n    Mono.just(&quot;Foo&quot;).subscribe( ... );\r\n}\r\n\r\ndoSomething();\r\n```\r\n\r\nNow you are subscribing to yourself to get things running, this is not the correct way, as mentioned before, the calling client is the subscriber, not you.\r\n\r\nCorrect way:\r\n```\r\nprivate Mono&lt;String&gt; doSomething() {\r\n    return Mono.just(&quot;Foo&quot;);\r\n}\r\n\r\n// This is returned out to the calling client, they subscribe\r\nreturn doSomething();\r\n```\r\n\r\nAs a Mono/Flux completes, it will emit a signal, this signal will trigger the next and the next and the next in the chain.\r\n\r\nSo my opinion of what you need to do is the following:\r\n\r\n - Remove **all** `subscribes`, if you want to do things there are functions like, `flatmap`, `map`, `doOnSuccess` etc. keep the chain instact all the way out to the client.\r\n - Remove all **void** functions, make sure they return a `Flux` or a `Mono` and if you want to **not** return something return a `Mono&lt;Void&gt;` by using the `Mono.empty()` function so that the chain will be complete.\r\n\r\nAs soon as you use a Mono/Flux you need to handle the return so that others can chain on.\r\n\r\nUpdate:\r\n\r\nIn order for `then` to trigger, you must return something, it will return when the previous mono/flux completes.\r\n\r\nexample:\r\n```\r\nprivate Flux&lt;String&gt; doSomething() {\r\n    return Flux.just(&quot;Foo&quot;, &quot;Bar&quot;, &quot;FooBar&quot;)\r\n               .doOnNext(string -&gt; {\r\n                   return // return something\r\n               });\r\n}\r\n\r\n// Ignore what was return from doSomething and return something else when the flux has completed (so only trigger on the completed signal from the flux)\r\nreturn doSomething().then( ... );\r\n```\r\n\r\n\r\n","title":"Flux does not wait for completion of elements before &#39;then&#39;","body":"<p>You are doing several things wrong you should not <code>subscribe</code> in your application, and you are having void methods, which should not be used in reactive programming unless in specific places.</p>\n<p>here is some example code:</p>\n<pre><code>\n// Nothing will happen, we are not returning anything, we can't subscribe\nprivate void doSomething() {\n    Mono.just(&quot;Foo&quot;);\n}\n\n// complier error\ndoSomething().subscribe( ... );\n\n</code></pre>\n<p>Your application is a <code>publisher</code> the calling client, is the subscriber, thats why we return a Mono or a Flux out to the calling client, they <code>subscribe</code>.</p>\n<p>You have solved it this way:</p>\n<pre><code>private void doSomething() {\n    Mono.just(&quot;Foo&quot;).subscribe( ... );\n}\n\ndoSomething();\n</code></pre>\n<p>Now you are subscribing to yourself to get things running, this is not the correct way, as mentioned before, the calling client is the subscriber, not you.</p>\n<p>Correct way:</p>\n<pre><code>private Mono&lt;String&gt; doSomething() {\n    return Mono.just(&quot;Foo&quot;);\n}\n\n// This is returned out to the calling client, they subscribe\nreturn doSomething();\n</code></pre>\n<p>As a Mono/Flux completes, it will emit a signal, this signal will trigger the next and the next and the next in the chain.</p>\n<p>So my opinion of what you need to do is the following:</p>\n<ul>\n<li>Remove <strong>all</strong> <code>subscribes</code>, if you want to do things there are functions like, <code>flatmap</code>, <code>map</code>, <code>doOnSuccess</code> etc. keep the chain instact all the way out to the client.</li>\n<li>Remove all <strong>void</strong> functions, make sure they return a <code>Flux</code> or a <code>Mono</code> and if you want to <strong>not</strong> return something return a <code>Mono&lt;Void&gt;</code> by using the <code>Mono.empty()</code> function so that the chain will be complete.</li>\n</ul>\n<p>As soon as you use a Mono/Flux you need to handle the return so that others can chain on.</p>\n<p>Update:</p>\n<p>In order for <code>then</code> to trigger, you must return something, it will return when the previous mono/flux completes.</p>\n<p>example:</p>\n<pre><code>private Flux&lt;String&gt; doSomething() {\n    return Flux.just(&quot;Foo&quot;, &quot;Bar&quot;, &quot;FooBar&quot;)\n               .doOnNext(string -&gt; {\n                   return // return something\n               });\n}\n\n// Ignore what was return from doSomething and return something else when the flux has completed (so only trigger on the completed signal from the flux)\nreturn doSomething().then( ... );\n</code></pre>\n"}],"owner":{"account_id":4890986,"reputation":1123,"user_id":3942132,"display_name":"Roie Beck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16356,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62592495,"answer_count":1,"score":4,"last_activity_date":1674982086,"creation_date":1593162684,"question_id":62591575,"body_markdown":"I am failing to understand the issue and I am not sure what am I doing wrong.\r\n\r\nI want to wait for Flux to end and then return `Mono` of `serverResponse`\r\n\r\nI have attached the code snippet, the `doOnNext` will populate the `categoryIdToPrintRepository`.\r\n\r\nI have looked around on how to return mono after flux ends and found the &#39;then&#39; but still the &#39;then&#39; method is being executed way before the onNextSite is being processed, this results with the error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: &#39;producer&#39; type is unknown to ReactiveAdapterRegistry\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\n```\r\n public Mono&lt;ServerResponse&gt; retrieveCatalog(ServerRequest ignored) {\r\n        return Mono.just(&quot;start&quot;).flatMap(id -&gt;\r\n                Flux.fromIterable(appSettings.getSites())\r\n                        .subscribeOn(ForkJoinPoolScheduler.create(&quot;SiteCatalogScheduler&quot;))\r\n                        .doOnNext(this::onNextSite)\r\n                        .then(Mono.from(ServerResponse.ok().body(categoryIdToPrintRepository.getSortedTreeValues(), String.class))));\r\n\r\n    }\r\n\r\n    private void onNextSite(Integer siteId) {\r\n        IntStream.range(1, appSettings.getCatalogMaxValue()).parallel().forEach(catalogId -&gt; {\r\n            Optional&lt;SiteCatalogCategoryDTO&gt; cacheData =\r\n                    siteCatalogCacheUseCaseService.getSiteCatalogResponseFromCache(siteId, catalogId);\r\n            cacheData.ifPresentOrElse(siteCatalogCategoryDTO -&gt; {/*do nothing already exist in cache*/},\r\n                    () -&gt; {\r\n                    Mono&lt;SiteCatalogCategoryDTO&gt; catalogCategoryDTOMono = WebClient.create(getUri(siteId, catalogId))\r\n                            .get().retrieve().bodyToMono(SiteCatalogCategoryDTO.class);\r\n                    catalogCategoryDTOMono.subscribe(siteCatalogCategoryDTO -&gt;\r\n                            handleSiteServerResponse(siteCatalogCategoryDTO, siteId, catalogId));\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    private void handleSiteServerResponse(SiteCatalogCategoryDTO siteCatalogCategoryDTO,\r\n                                          int siteId, int catalogId) {\r\n        if (siteCatalogCategoryDTO.getResponseStatus().equals(ResponseStatus.SUCCESS))\r\n            Flux.fromIterable(siteCatalogCategoryDTO.getMappingList())\r\n                    .subscribe(mapSCC -&gt; {\r\n                        categoryIdToPrintRepository.insertIntoTree(mapSCC.getCategoryId(),\r\n                                &quot;Site &quot; + siteId + &quot; - Catalog &quot; + catalogId + &quot; is mapped to category &quot; + &quot;\\&quot;&quot; +\r\n                                        mapSCC.getCategoryName() + &quot;\\&quot; (&quot; + mapSCC.getCategoryId() + &quot;)&quot;);\r\n                        siteCatalogCacheUseCaseService.insertIntoSiteCatalogCache(siteId, catalogId, siteCatalogCategoryDTO);\r\n                    });\r\n    }\r\n```\r\n\r\n","title":"Flux does not wait for completion of elements before &#39;then&#39;","body":"<p>I am failing to understand the issue and I am not sure what am I doing wrong.</p>\n<p>I want to wait for Flux to end and then return <code>Mono</code> of <code>serverResponse</code></p>\n<p>I have attached the code snippet, the <code>doOnNext</code> will populate the <code>categoryIdToPrintRepository</code>.</p>\n<p>I have looked around on how to return mono after flux ends and found the 'then' but still the 'then' method is being executed way before the onNextSite is being processed, this results with the error:</p>\n<pre><code>java.lang.IllegalArgumentException: 'producer' type is unknown to ReactiveAdapterRegistry\n</code></pre>\n<p>What am I doing wrong?</p>\n<pre><code> public Mono&lt;ServerResponse&gt; retrieveCatalog(ServerRequest ignored) {\n        return Mono.just(&quot;start&quot;).flatMap(id -&gt;\n                Flux.fromIterable(appSettings.getSites())\n                        .subscribeOn(ForkJoinPoolScheduler.create(&quot;SiteCatalogScheduler&quot;))\n                        .doOnNext(this::onNextSite)\n                        .then(Mono.from(ServerResponse.ok().body(categoryIdToPrintRepository.getSortedTreeValues(), String.class))));\n\n    }\n\n    private void onNextSite(Integer siteId) {\n        IntStream.range(1, appSettings.getCatalogMaxValue()).parallel().forEach(catalogId -&gt; {\n            Optional&lt;SiteCatalogCategoryDTO&gt; cacheData =\n                    siteCatalogCacheUseCaseService.getSiteCatalogResponseFromCache(siteId, catalogId);\n            cacheData.ifPresentOrElse(siteCatalogCategoryDTO -&gt; {/*do nothing already exist in cache*/},\n                    () -&gt; {\n                    Mono&lt;SiteCatalogCategoryDTO&gt; catalogCategoryDTOMono = WebClient.create(getUri(siteId, catalogId))\n                            .get().retrieve().bodyToMono(SiteCatalogCategoryDTO.class);\n                    catalogCategoryDTOMono.subscribe(siteCatalogCategoryDTO -&gt;\n                            handleSiteServerResponse(siteCatalogCategoryDTO, siteId, catalogId));\n            });\n        });\n    }\n\n\n    private void handleSiteServerResponse(SiteCatalogCategoryDTO siteCatalogCategoryDTO,\n                                          int siteId, int catalogId) {\n        if (siteCatalogCategoryDTO.getResponseStatus().equals(ResponseStatus.SUCCESS))\n            Flux.fromIterable(siteCatalogCategoryDTO.getMappingList())\n                    .subscribe(mapSCC -&gt; {\n                        categoryIdToPrintRepository.insertIntoTree(mapSCC.getCategoryId(),\n                                &quot;Site &quot; + siteId + &quot; - Catalog &quot; + catalogId + &quot; is mapped to category &quot; + &quot;\\&quot;&quot; +\n                                        mapSCC.getCategoryName() + &quot;\\&quot; (&quot; + mapSCC.getCategoryId() + &quot;)&quot;);\n                        siteCatalogCacheUseCaseService.insertIntoSiteCatalogCache(siteId, catalogId, siteCatalogCategoryDTO);\n                    });\n    }\n</code></pre>\n"},{"tags":["java","multithreading","concurrency"],"answers":[{"comments":[{"owner":{"account_id":27572028,"reputation":1,"user_id":21043025,"display_name":"user21043025"},"score":0,"creation_date":1674987685,"post_id":75273641,"comment_id":132827696,"body_markdown":"Thank you very much for your reply, which helped me a lot. Since the company&#39;s project uses JDK1.6, do you know how to solve this problem in the jdk1.6 environment?","body":"Thank you very much for your reply, which helped me a lot. Since the company&#39;s project uses JDK1.6, do you know how to solve this problem in the jdk1.6 environment?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1674997405,"post_id":75273641,"comment_id":132829307,"body_markdown":"Java 1.6? Realistically? Force your company to upgrade from a Java version that&#39;s been EOL-ed 10 years ago (5 years ago for paid upgrades by Oracle). It&#39;s **high time** to upgrade to a sane, supported Java version. If/Since you probably can&#39;t do that, then you have to re-implement the equivalent using the three-argument `replace` method and a loop. That&#39;s non-trivial and probably worth its own question.","body":"Java 1.6? Realistically? Force your company to upgrade from a Java version that&#39;s been EOL-ed 10 years ago (5 years ago for paid upgrades by Oracle). It&#39;s <b>high time</b> to upgrade to a sane, supported Java version. If/Since you probably can&#39;t do that, then you have to re-implement the equivalent using the three-argument <code>replace</code> method and a loop. That&#39;s non-trivial and probably worth its own question."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675175552,"post_id":75273641,"comment_id":132869086,"body_markdown":"That’s a textbook example of cargo cult concurrent programming, overusing thread safe constructs (having both, `volatile` and `synchronized`, in the same class), to end up with code that is not thread safe at all. Using an `Integer`, as suggested by this answer, under Java&#160;6 would look like `Integer existing = map.putIfAbsent(key, 1); if(existing != null) while(!map.replace(key, existing, existing + 1)) existing = map.get(key);` But the entire code (that use of `Calendar` and `SimpleDateFormat`) would become a one-liner with `LocalDateTime` and `truncatedTo` and thousand times faster. *Update*","body":"That’s a textbook example of cargo cult concurrent programming, overusing thread safe constructs (having both, <code>volatile</code> and <code>synchronized</code>, in the same class), to end up with code that is not thread safe at all. Using an <code>Integer</code>, as suggested by this answer, under Java 6 would look like <code>Integer existing = map.putIfAbsent(key, 1); if(existing != null) while(!map.replace(key, existing, existing + 1)) existing = map.get(key);</code> But the entire code (that use of <code>Calendar</code> and <code>SimpleDateFormat</code>) would become a one-liner with <code>LocalDateTime</code> and <code>truncatedTo</code> and thousand times faster. <i>Update</i>"}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674981946,"creation_date":1674981946,"answer_id":75273641,"question_id":75273558,"body_markdown":"You&#39;ve got the same issue repeatedly, which is that you are interacting with a shared data structure in a non-synchronized way. The fact that `map` is a `ConcurrentHashMap` means that *individual* `.get` and `.put` calls will not break thread safety, you use *multiple* of those calls with the assumption that the map doesn&#39;t change between them.\r\n\r\n        MutableInteger newMinuteAcceptKey = new MutableInteger();\r\n        newMinuteAcceptKey.setValue(1);\r\n        MutableInteger oldMinuteAcceptKey = map.put(minuteAcceptKey, newMinuteAcceptKey);\r\n        // let&#39;s assume here something happens\r\n        if(null != oldMinuteAcceptKey) {\r\n            newMinuteAcceptKey.setValue(oldMinuteAcceptKey.getValue() + 1);\r\n        }\r\n\r\nIf at the point marked with a comment above **some other thread** *also* puts a new `MutableInteger` into the map, then your later change to `newMinuteAcceptKey` (which should really be `newMinuteAcceptValue`, since it&#39;s not the key!) will be irrelevant, as that value is no longer in the map.\r\n\r\nIn order to fix this, replace this whole thing with a single [compute][1] or [`merge`][2] call. Then you also don&#39;t really need `MutableInteger`, but can switch to a boring old `Integer`, if you want:\r\n\r\n    map.merge(minuteAcceptKey, 1, Integer::sum);\r\n\r\nThose methods will do **the whole operation** in an atomic way, i.e. make sure that no other calls manipulate the data until they are complete.\r\n\r\nA short summary: If you need a `ConcurrentHashMap`, then you almost never want to have plain `.put()` calls (except maybe when populating the initial values in a single-threaded way), as those method have rather weak concurrency guarantees (i.e. they only guarantee to not break the map, but any other operation can easily overwrite their values at any time).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#merge(K,V,java.util.function.BiFunction)","title":"Thread safety count problem，Why is there a problem with counting in the code?","body":"<p>You've got the same issue repeatedly, which is that you are interacting with a shared data structure in a non-synchronized way. The fact that <code>map</code> is a <code>ConcurrentHashMap</code> means that <em>individual</em> <code>.get</code> and <code>.put</code> calls will not break thread safety, you use <em>multiple</em> of those calls with the assumption that the map doesn't change between them.</p>\n<pre><code>    MutableInteger newMinuteAcceptKey = new MutableInteger();\n    newMinuteAcceptKey.setValue(1);\n    MutableInteger oldMinuteAcceptKey = map.put(minuteAcceptKey, newMinuteAcceptKey);\n    // let's assume here something happens\n    if(null != oldMinuteAcceptKey) {\n        newMinuteAcceptKey.setValue(oldMinuteAcceptKey.getValue() + 1);\n    }\n</code></pre>\n<p>If at the point marked with a comment above <strong>some other thread</strong> <em>also</em> puts a new <code>MutableInteger</code> into the map, then your later change to <code>newMinuteAcceptKey</code> (which should really be <code>newMinuteAcceptValue</code>, since it's not the key!) will be irrelevant, as that value is no longer in the map.</p>\n<p>In order to fix this, replace this whole thing with a single <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">compute</a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>merge</code></a> call. Then you also don't really need <code>MutableInteger</code>, but can switch to a boring old <code>Integer</code>, if you want:</p>\n<pre><code>map.merge(minuteAcceptKey, 1, Integer::sum);\n</code></pre>\n<p>Those methods will do <strong>the whole operation</strong> in an atomic way, i.e. make sure that no other calls manipulate the data until they are complete.</p>\n<p>A short summary: If you need a <code>ConcurrentHashMap</code>, then you almost never want to have plain <code>.put()</code> calls (except maybe when populating the initial values in a single-threaded way), as those method have rather weak concurrency guarantees (i.e. they only guarantee to not break the map, but any other operation can easily overwrite their values at any time).</p>\n"}],"owner":{"account_id":27572028,"reputation":1,"user_id":21043025,"display_name":"user21043025"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674981946,"creation_date":1674980984,"question_id":75273558,"body_markdown":"### Why is the following code thread unsafe?\r\n\r\nIn ConcurrentHashMap, the key is the current time, the value is MutableInteger, and the mutableInteger is used for counting, and the set method and get method have been locked. Why is the final value incorrect？\r\n\r\n```java\r\npublic class MutableInteger {\r\n    private volatile int value;\r\n\r\n    public MutableInteger() {\r\n    }\r\n\r\n    public synchronized int getValue() {\r\n        return value;\r\n    }\r\n\r\n    public synchronized void setValue(int value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.concurrent.*;\r\n\r\npublic class LinkedQueue {\r\n\r\n    static ConcurrentHashMap&lt;String,MutableInteger&gt; map = new ConcurrentHashMap();\r\n\r\n    public static class CountQueue{\r\n        static BlockingQueue&lt;Calendar&gt; queue = new LinkedBlockingQueue&lt;Calendar&gt;();\r\n\r\n        public void produce() throws InterruptedException{\r\n            queue.put(Calendar.getInstance());\r\n        }\r\n        public Calendar consume() throws InterruptedException{\r\n            return queue.take();\r\n        }\r\n    }\r\n\r\n    /**\r\n     */\r\n    public static void recordFlow(){\r\n        final CountQueue queue = new CountQueue();\r\n        class Producer implements Runnable {\r\n            public void run() {\r\n                try {\r\n                    queue.produce();\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        class Consumer implements Runnable {\r\n            public void run() {\r\n                try {\r\n                    getdata(queue.consume());\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n        ExecutorService service = Executors.newCachedThreadPool();\r\n        Producer producer = new Producer();\r\n        Consumer consumer = new Consumer();\r\n        service.submit(producer);\r\n        service.submit(consumer);\r\n        service.shutdown();\r\n    }\r\n\r\n    /**\r\n     *\r\n     *\r\n     * @param c 队列中取出的时间\r\n     */\r\n    public static void getdata(Calendar c){\r\n        try{\r\n            saveFlow(c);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // 接口流量记录\r\n    public static void saveFlow(Calendar c){\r\n        System.out.println(&quot;Thread Name:&quot;+Thread.currentThread().getName());\r\n        SimpleDateFormat sdfDate = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        SimpleDateFormat sdfHour = new SimpleDateFormat(&quot;yyyy-MM-dd HH&quot;);\r\n        SimpleDateFormat sdfMinute = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\r\n\r\n        String dayAcceptKey = sdfDate.format(c.getTime());\r\n        String hourAcceptKey = sdfHour.format(c.getTime());\r\n        String minuteAcceptKey = sdfMinute.format(c.getTime());\r\n        \r\n        MutableInteger newMinuteAcceptKey = new MutableInteger();\r\n        newMinuteAcceptKey.setValue(1);\r\n        MutableInteger oldMinuteAcceptKey = map.put(minuteAcceptKey, newMinuteAcceptKey);\r\n        if(null != oldMinuteAcceptKey) {\r\n            newMinuteAcceptKey.setValue(oldMinuteAcceptKey.getValue() + 1);\r\n        }\r\n        System.out.println(&quot;minute in map：&quot;+ minuteAcceptKey + &quot;,&quot;+ newMinuteAcceptKey.getValue());\r\n        MutableInteger newHourAcceptKey = new MutableInteger();\r\n        newHourAcceptKey.setValue(1);\r\n        MutableInteger oldHourAcceptKey = map.put(hourAcceptKey, newHourAcceptKey);\r\n        if(null != oldHourAcceptKey) {\r\n            newHourAcceptKey.setValue(oldHourAcceptKey.getValue() + 1);\r\n        }\r\n        System.out.println(&quot;hour in map：&quot; + hourAcceptKey + &quot;,&quot; + newHourAcceptKey.getValue());\r\n        MutableInteger newDayAcceptKey = new MutableInteger();\r\n        newDayAcceptKey.setValue(1);\r\n        MutableInteger oldDayAcceptKey = map.put(dayAcceptKey, newDayAcceptKey);\r\n        if(null != oldDayAcceptKey) {\r\n            newDayAcceptKey.setValue(oldDayAcceptKey.getValue() + 1);\r\n        }\r\n        System.out.println(&quot;day in map：&quot; + dayAcceptKey + &quot;,&quot; + newDayAcceptKey.getValue());\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        for(int i=0;i&lt;1000;i++) {\r\n            recordFlow();\r\n        }\r\n        try {\r\n            Thread.sleep(2000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;==========================&quot;);\r\n        for(String key:map.keySet()){\r\n            System.out.println(&quot;key and value:&quot; +key + &quot; &quot; + map.get(key).getValue());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe get method and set method in MutableInteger have been locked and are used ConcurrentHashMap, but the result data in the main method is incorrect. Please help me see what the problem is，thank you","title":"Thread safety count problem，Why is there a problem with counting in the code?","body":"<h3>Why is the following code thread unsafe?</h3>\n<p>In ConcurrentHashMap, the key is the current time, the value is MutableInteger, and the mutableInteger is used for counting, and the set method and get method have been locked. Why is the final value incorrect？</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MutableInteger {\n    private volatile int value;\n\n    public MutableInteger() {\n    }\n\n    public synchronized int getValue() {\n        return value;\n    }\n\n    public synchronized void setValue(int value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.concurrent.*;\n\npublic class LinkedQueue {\n\n    static ConcurrentHashMap&lt;String,MutableInteger&gt; map = new ConcurrentHashMap();\n\n    public static class CountQueue{\n        static BlockingQueue&lt;Calendar&gt; queue = new LinkedBlockingQueue&lt;Calendar&gt;();\n\n        public void produce() throws InterruptedException{\n            queue.put(Calendar.getInstance());\n        }\n        public Calendar consume() throws InterruptedException{\n            return queue.take();\n        }\n    }\n\n    /**\n     */\n    public static void recordFlow(){\n        final CountQueue queue = new CountQueue();\n        class Producer implements Runnable {\n            public void run() {\n                try {\n                    queue.produce();\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            }\n        }\n        class Consumer implements Runnable {\n            public void run() {\n                try {\n                    getdata(queue.consume());\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            }\n        }\n\n        ExecutorService service = Executors.newCachedThreadPool();\n        Producer producer = new Producer();\n        Consumer consumer = new Consumer();\n        service.submit(producer);\n        service.submit(consumer);\n        service.shutdown();\n    }\n\n    /**\n     *\n     *\n     * @param c 队列中取出的时间\n     */\n    public static void getdata(Calendar c){\n        try{\n            saveFlow(c);\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n    // 接口流量记录\n    public static void saveFlow(Calendar c){\n        System.out.println(&quot;Thread Name:&quot;+Thread.currentThread().getName());\n        SimpleDateFormat sdfDate = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        SimpleDateFormat sdfHour = new SimpleDateFormat(&quot;yyyy-MM-dd HH&quot;);\n        SimpleDateFormat sdfMinute = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\n\n        String dayAcceptKey = sdfDate.format(c.getTime());\n        String hourAcceptKey = sdfHour.format(c.getTime());\n        String minuteAcceptKey = sdfMinute.format(c.getTime());\n        \n        MutableInteger newMinuteAcceptKey = new MutableInteger();\n        newMinuteAcceptKey.setValue(1);\n        MutableInteger oldMinuteAcceptKey = map.put(minuteAcceptKey, newMinuteAcceptKey);\n        if(null != oldMinuteAcceptKey) {\n            newMinuteAcceptKey.setValue(oldMinuteAcceptKey.getValue() + 1);\n        }\n        System.out.println(&quot;minute in map：&quot;+ minuteAcceptKey + &quot;,&quot;+ newMinuteAcceptKey.getValue());\n        MutableInteger newHourAcceptKey = new MutableInteger();\n        newHourAcceptKey.setValue(1);\n        MutableInteger oldHourAcceptKey = map.put(hourAcceptKey, newHourAcceptKey);\n        if(null != oldHourAcceptKey) {\n            newHourAcceptKey.setValue(oldHourAcceptKey.getValue() + 1);\n        }\n        System.out.println(&quot;hour in map：&quot; + hourAcceptKey + &quot;,&quot; + newHourAcceptKey.getValue());\n        MutableInteger newDayAcceptKey = new MutableInteger();\n        newDayAcceptKey.setValue(1);\n        MutableInteger oldDayAcceptKey = map.put(dayAcceptKey, newDayAcceptKey);\n        if(null != oldDayAcceptKey) {\n            newDayAcceptKey.setValue(oldDayAcceptKey.getValue() + 1);\n        }\n        System.out.println(&quot;day in map：&quot; + dayAcceptKey + &quot;,&quot; + newDayAcceptKey.getValue());\n    }\n\n    public static void main(String[] args){\n        for(int i=0;i&lt;1000;i++) {\n            recordFlow();\n        }\n        try {\n            Thread.sleep(2000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;==========================&quot;);\n        for(String key:map.keySet()){\n            System.out.println(&quot;key and value:&quot; +key + &quot; &quot; + map.get(key).getValue());\n        }\n    }\n}\n</code></pre>\n<p>The get method and set method in MutableInteger have been locked and are used ConcurrentHashMap, but the result data in the main method is incorrect. Please help me see what the problem is，thank you</p>\n"},{"tags":["java","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":27647969,"reputation":1,"user_id":21103464,"display_name":"Dainel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674981593,"creation_date":1674981593,"answer_id":75273609,"question_id":75273559,"body_markdown":"try use &quot;anyMatch&quot;:\r\n```\r\nString mainString = new String (&quot;qrfghjtysd&quot;);\r\nString container = new String (&quot;qre fgh ty np&quot;);\r\n\r\nboolean result = Arrays.stream(container.split(&quot;\\\\s++&quot;))\r\n                .anyMatch(s -&gt; s.equals(mainString));\r\n```","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<p>try use &quot;anyMatch&quot;:</p>\n<pre><code>String mainString = new String (&quot;qrfghjtysd&quot;);\nString container = new String (&quot;qre fgh ty np&quot;);\n\nboolean result = Arrays.stream(container.split(&quot;\\\\s++&quot;))\n                .anyMatch(s -&gt; s.equals(mainString));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674981676,"creation_date":1674981676,"answer_id":75273619,"question_id":75273559,"body_markdown":"It seems like you want to transform each string `s` in the array to either &quot;true&quot; or &quot;false&quot; depending on `mainString.contains(s)`, and then join them together with new lines as the separator. The transformation can be done with a [`map`][1], and the joining can be done with the [`joining`][2] collector.\r\n\r\n    String res = Arrays.stream(smallStrings)\r\n        .map(s -&gt; Boolean.toString(mainString.contains(s)))\r\n        .collect(Collectors.joining(System.lineSeparator(), &quot;&quot;, System.lineSeparator()));\r\n\r\nLike your original code, this adds a trailing new line to the resulting string. If you don&#39;t care about the trailing new line, you can just pass a single `System.lineSeparator()` argument to the `joining` collector, calling [the other overload][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)\r\n  [3]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<p>It seems like you want to transform each string <code>s</code> in the array to either &quot;true&quot; or &quot;false&quot; depending on <code>mainString.contains(s)</code>, and then join them together with new lines as the separator. The transformation can be done with a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>map</code></a>, and the joining can be done with the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>joining</code></a> collector.</p>\n<pre><code>String res = Arrays.stream(smallStrings)\n    .map(s -&gt; Boolean.toString(mainString.contains(s)))\n    .collect(Collectors.joining(System.lineSeparator(), &quot;&quot;, System.lineSeparator()));\n</code></pre>\n<p>Like your original code, this adds a trailing new line to the resulting string. If you don't care about the trailing new line, you can just pass a single <code>System.lineSeparator()</code> argument to the <code>joining</code> collector, calling <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">the other overload</a>.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674981729,"creation_date":1674981729,"answer_id":75273623,"question_id":75273559,"body_markdown":"    String mainString = new String (&quot;qrfghjtysd&quot;);\r\n    String container = new String (&quot;qre fgh ty np&quot;);\r\n    String[] smallStrings = container.split(&quot;\\\\s++&quot;);\r\n    StringBuilder res = new StringBuilder();\r\n    Arrays.stream(smallStrings).map(str -&gt; mainString.contains(str)).forEach(flag -&gt; res.append(flag + System.lineSeparator()));\r\n    System.out.println(res);","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<pre><code>String mainString = new String (&quot;qrfghjtysd&quot;);\nString container = new String (&quot;qre fgh ty np&quot;);\nString[] smallStrings = container.split(&quot;\\\\s++&quot;);\nStringBuilder res = new StringBuilder();\nArrays.stream(smallStrings).map(str -&gt; mainString.contains(str)).forEach(flag -&gt; res.append(flag + System.lineSeparator()));\nSystem.out.println(res);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674981749,"creation_date":1674981749,"answer_id":75273625,"question_id":75273559,"body_markdown":"I would suggest something like this:\r\n```java\r\nfinal String mainString = &quot;qrfghjtysd&quot;;\r\nfinal String container = &quot;qre fgh ty np&quot;;\r\nfinal String res = Arrays.stream(container.split(&quot;\\\\s++&quot;))\r\n    .map(mainString::contains)\r\n    .map(String::valueOf)\r\n    .collect(Collectors.joining(System.lineSeparator()));\r\nSystem.out.println(res);\r\n```","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<p>I would suggest something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String mainString = &quot;qrfghjtysd&quot;;\nfinal String container = &quot;qre fgh ty np&quot;;\nfinal String res = Arrays.stream(container.split(&quot;\\\\s++&quot;))\n    .map(mainString::contains)\n    .map(String::valueOf)\n    .collect(Collectors.joining(System.lineSeparator()));\nSystem.out.println(res);\n</code></pre>\n"}],"owner":{"account_id":182529,"reputation":6991,"user_id":417291,"accept_rate":71,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":4,"score":-2,"last_activity_date":1674981749,"creation_date":1674981000,"question_id":75273559,"body_markdown":"I have a small program that iterates over an array of strings and then prints either true or false depending whether the string from array is included into another string.\r\nHow to rewrite this program using Stream API methods, such as filter and map?\r\n\r\n        String mainString = new String (&quot;qrfghjtysd&quot;);\r\n        String container = new String (&quot;qre fgh ty np&quot;);\r\n        String[] smallStrings = container.split(&quot;\\\\s++&quot;);\r\n        StringBuilder res = new StringBuilder();\r\n        Arrays.stream(smallStrings).  forEach(str -&gt; {\r\n            if (mainString.contains(str)) {\r\n                res.append(&quot;true&quot; + System.lineSeparator());\r\n            }\r\n            else {\r\n                res.append(&quot;false&quot; + System.lineSeparator());\r\n            }\r\n        });\r\n        System.out.println(res);","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<p>I have a small program that iterates over an array of strings and then prints either true or false depending whether the string from array is included into another string.\nHow to rewrite this program using Stream API methods, such as filter and map?</p>\n<pre><code>    String mainString = new String (&quot;qrfghjtysd&quot;);\n    String container = new String (&quot;qre fgh ty np&quot;);\n    String[] smallStrings = container.split(&quot;\\\\s++&quot;);\n    StringBuilder res = new StringBuilder();\n    Arrays.stream(smallStrings).  forEach(str -&gt; {\n        if (mainString.contains(str)) {\n            res.append(&quot;true&quot; + System.lineSeparator());\n        }\n        else {\n            res.append(&quot;false&quot; + System.lineSeparator());\n        }\n    });\n    System.out.println(res);\n</code></pre>\n"},{"tags":["java","multithreading","callable"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1674982100,"post_id":75273539,"comment_id":132826880,"body_markdown":"As an aside, it looks like `PasswordHacker` should implement `Callable&lt;String&gt;`, not the raw type `Callable`. [Don&#39;t use raw types](https://stackoverflow.com/q/2770321/6395627).","body":"As an aside, it looks like <code>PasswordHacker</code> should implement <code>Callable&lt;String&gt;</code>, not the raw type <code>Callable</code>. <a href=\"https://stackoverflow.com/q/2770321/6395627\">Don&#39;t use raw types</a>."}],"owner":{"account_id":17934535,"reputation":55,"user_id":13031127,"display_name":"Suhas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674981538,"creation_date":1674980823,"question_id":75273539,"body_markdown":"**Question :**\r\nWhen invokeAny() is called with some tasks, On successful returning of one of the tasks, will the other task execution be &quot;STOPPED&quot; or Is the thread interruption is just called and the task execution continues to happen unless we manually check for the thread ?? According to the documentation : \r\n&gt;  Upon normal or exceptional return, tasks that have not completed are cancelled. \r\n \r\n**Background :**\r\nI have an implementation where I need to run few tasks parallely and wait for the acknowledgement of one success task completion but let the other tasks run and complete their job. For the POC, I found InvokeAny() could help me and just wrote the following code to test it out : \r\n\r\n```\r\n\r\npublic class PasswordHacker implements Callable {\r\n    private static final Logger logger = LoggerFactory.getLogger(PasswordHacker.class);\r\n    int password ;\r\n    int digits;\r\n\r\n    PasswordHacker(int password, int digits){\r\n        this.password = password;\r\n        this.digits = digits;\r\n    }\r\n    @Override\r\n    public Object call() throws Exception {\r\n        String hackerName = Thread.currentThread().getName();\r\n        logger.info( hackerName +  &quot; is starting to hack &quot;);\r\n        try{\r\n            while(true){\r\n                Integer guess = new Random().nextInt((int) Math.pow(10, digits));\r\n                if(guess.equals(password)) {\r\n                    logger.info(hackerName + &quot; completed the hack &quot;);\r\n                    return hackerName + &quot; Successfully &quot;;\r\n                }\r\n            }\r\n        }catch (Exception e){\r\n            throw new InterruptedException();\r\n        }\r\n//        return hackerName + &quot; Failed &quot;;\r\n    }\r\n}\r\n```\r\nand then added them as callableTasks\r\n```\r\n        List&lt;Callable&lt;String&gt;&gt; callableHackerTasks = new ArrayList&lt;&gt;();\r\n        for( int i = 1 ; i&lt;= hackers; i++){\r\n            callableHackerTasks.add(new PasswordHacker(password, digits));\r\n        }\r\n\r\n        try {\r\n            String result = executorService.invokeAny(callableHackerTasks, 2, TimeUnit.MINUTES);\r\n            logger.info( &quot;Hacker &quot;  +  result + &quot; completed the hack&quot;);\r\n        } catch (Exception ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n```\r\nAnd the result is as follows, when I run 3 threads : \r\n```\r\npool-1-thread-2 is starting to hack \r\npool-1-thread-3 is starting to hack \r\npool-1-thread-1 is starting to hack \r\npool-1-thread-1 completed the hack \r\nHacker pool-1-thread-1 Successfully  completed the hack\r\npool-1-thread-2 completed the hack \r\npool-1-thread-3 completed the hack \r\n```\r\nThought this approach seems to satisfy my need, I want to know what exactly is the documentation referring to. Clearly, even though the documentation says that other threads are cancelled, they continue to run. According to the answer [here][1] ; We need to manually check in the while condition if the threat is interrupted and then stop the logic. But in real case scenarios what actually happens ?? Should we manually check for that or some Exception be thrown (Bcz in above code, the catch block isn&#39;t catching Interuption Exc ). \r\nWould appreciate a bit more clarity on this part or suggest any other useful methods to achieve the same.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25197160/what-happens-to-remaining-thread-of-invokeany-executor-service","title":"Executor InvokeAny method doesnt cancel other threads after returning a result","body":"<p><strong>Question :</strong>\nWhen invokeAny() is called with some tasks, On successful returning of one of the tasks, will the other task execution be &quot;STOPPED&quot; or Is the thread interruption is just called and the task execution continues to happen unless we manually check for the thread ?? According to the documentation :</p>\n<blockquote>\n<p>Upon normal or exceptional return, tasks that have not completed are cancelled.</p>\n</blockquote>\n<p><strong>Background :</strong>\nI have an implementation where I need to run few tasks parallely and wait for the acknowledgement of one success task completion but let the other tasks run and complete their job. For the POC, I found InvokeAny() could help me and just wrote the following code to test it out :</p>\n<pre><code>\npublic class PasswordHacker implements Callable {\n    private static final Logger logger = LoggerFactory.getLogger(PasswordHacker.class);\n    int password ;\n    int digits;\n\n    PasswordHacker(int password, int digits){\n        this.password = password;\n        this.digits = digits;\n    }\n    @Override\n    public Object call() throws Exception {\n        String hackerName = Thread.currentThread().getName();\n        logger.info( hackerName +  &quot; is starting to hack &quot;);\n        try{\n            while(true){\n                Integer guess = new Random().nextInt((int) Math.pow(10, digits));\n                if(guess.equals(password)) {\n                    logger.info(hackerName + &quot; completed the hack &quot;);\n                    return hackerName + &quot; Successfully &quot;;\n                }\n            }\n        }catch (Exception e){\n            throw new InterruptedException();\n        }\n//        return hackerName + &quot; Failed &quot;;\n    }\n}\n</code></pre>\n<p>and then added them as callableTasks</p>\n<pre><code>        List&lt;Callable&lt;String&gt;&gt; callableHackerTasks = new ArrayList&lt;&gt;();\n        for( int i = 1 ; i&lt;= hackers; i++){\n            callableHackerTasks.add(new PasswordHacker(password, digits));\n        }\n\n        try {\n            String result = executorService.invokeAny(callableHackerTasks, 2, TimeUnit.MINUTES);\n            logger.info( &quot;Hacker &quot;  +  result + &quot; completed the hack&quot;);\n        } catch (Exception ex) {\n            throw new RuntimeException(ex);\n        }\n</code></pre>\n<p>And the result is as follows, when I run 3 threads :</p>\n<pre><code>pool-1-thread-2 is starting to hack \npool-1-thread-3 is starting to hack \npool-1-thread-1 is starting to hack \npool-1-thread-1 completed the hack \nHacker pool-1-thread-1 Successfully  completed the hack\npool-1-thread-2 completed the hack \npool-1-thread-3 completed the hack \n</code></pre>\n<p>Thought this approach seems to satisfy my need, I want to know what exactly is the documentation referring to. Clearly, even though the documentation says that other threads are cancelled, they continue to run. According to the answer <a href=\"https://stackoverflow.com/questions/25197160/what-happens-to-remaining-thread-of-invokeany-executor-service\">here</a> ; We need to manually check in the while condition if the threat is interrupted and then stop the logic. But in real case scenarios what actually happens ?? Should we manually check for that or some Exception be thrown (Bcz in above code, the catch block isn't catching Interuption Exc ).\nWould appreciate a bit more clarity on this part or suggest any other useful methods to achieve the same.</p>\n"},{"tags":["java","spring","spring-boot","xstream","jettison"],"owner":{"account_id":20856183,"reputation":41,"user_id":15319442,"display_name":"nik2811"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674980775,"creation_date":1674980775,"question_id":75273530,"body_markdown":"I was using Spring batch 4.2.7 and I&#39;d custom ExecutionContextSerializer class using jettison 1.2 and thoughtworks xstream 1.4.20. Serializable class is as follow.\r\n\r\n```\r\npublic class XStreamExecutionContextStringSerializer2 implements ExecutionContextSerializer, InitializingBean {\r\n\tprivate ReflectionProvider reflectionProvider = null;\r\n\r\n\tprivate HierarchicalStreamDriver hierarchicalStreamDriver;\r\n\r\n\tprivate XStream xstream;\r\n\r\n\tpublic void setReflectionProvider(ReflectionProvider reflectionProvider) {\r\n\t\tthis.reflectionProvider = reflectionProvider;\r\n\t}\r\n\r\n\tpublic void setHierarchicalStreamDriver(HierarchicalStreamDriver hierarchicalStreamDriver) {\r\n\t\tthis.hierarchicalStreamDriver = hierarchicalStreamDriver;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterPropertiesSet() throws Exception {\r\n\t\tinit();\r\n\t}\r\n\r\n\tpublic synchronized void init() throws Exception {\r\n\t\tif (hierarchicalStreamDriver == null) {\r\n\t\t\tConfiguration configuration = new Configuration();\r\n\t\t\tthis.hierarchicalStreamDriver = new JettisonMappedXmlDriver(configuration);\r\n\t\t}\r\n\t\tif (reflectionProvider == null) {\r\n\t\t\txstream = new XStream(hierarchicalStreamDriver);\r\n\r\n\t\t} else {\r\n\t\t\txstream = new XStream(reflectionProvider, hierarchicalStreamDriver);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Serializes the passed execution context to the supplied OutputStream.\r\n\t *\r\n\t * @param context {@link Map} containing the context information.\r\n\t * @param out     {@link OutputStream} where the serialized context information\r\n\t *                will be written.\r\n\t *\r\n\t * @see Serializer#serialize(Object, OutputStream)\r\n\t */\r\n\t@Override\r\n\tpublic void serialize(Map&lt;String, Object&gt; context, OutputStream out) throws IOException {\r\n\t\tAssert.notNull(context, &quot;context is required&quot;);\r\n\t\tAssert.notNull(out, &quot;An OutputStream is required&quot;);\r\n\r\n\t\tout.write(xstream.toXML(context).getBytes());\r\n\t}\r\n\r\n\t/**\r\n\t * Deserializes the supplied input stream into a new execution context.\r\n\t *\r\n\t * @param in {@link InputStream} containing the information to be deserialized.\r\n\t * \r\n\t * @return a reconstructed execution context\r\n\t * @see Deserializer#deserialize(InputStream)\r\n\t */\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@Override\r\n\tpublic Map&lt;String, Object&gt; deserialize(InputStream in) throws IOException {\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(in));\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\r\n\t\tString line;\r\n\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\tsb.append(line);\r\n\t\t}\r\n\r\n\t\treturn (Map&lt;String, Object&gt;) xstream.fromXML(sb.toString());\r\n\t}\r\n}\r\n```\r\n\r\nAs I&#39;ve upgraded jettison to 1.5.3, it started failing at deserialization, with following error\r\n\r\n```\r\nJobServiceImpl Error while deserializing execution context: Cannot construct type\r\n---- Debugging information ----\r\nmessage             : Cannot construct type\r\ncause-exception     : java.lang.InstantiationException\r\ncause-message       : java.util.Map$Entry\r\nconstruction-type   : java.util.Map$Entry\r\nclass               : java.util.Map$Entry\r\nrequired-type       : java.util.Map$Entry\r\nconverter-type      : com.thoughtworks.xstream.converters.reflection.ReflectionConverter\r\npath                : /map/map/entry\r\nline number         : -1\r\nclass[1]            : java.util.HashMap\r\nrequired-type[1]    : java.util.HashMap\r\nconverter-type[1]   : com.thoughtworks.xstream.converters.collections.MapConverter\r\nversion             : 1.4.20\r\n-------------------------------Stack Trace:[Ljava.lang.StackTraceElement;@441bcb7a\r\n```\r\n\r\nI&#39;ve tried to add use the solution of updating batch\\*\\_\\*job_execution_context and batch_step_execution_context as per below stackoverflow solution, but still it is not working. Can someone please help?\r\n\r\nhttps://stackoverflow.com/questions/62718203/spring-batch-4-2-4-unable-to-deserialize-the-execution-context","title":"JobServiceImpl Error while deserializing execution context: Cannot construct type using xstream thoughtworks 1.4.20 and jettison 1.5.3","body":"<p>I was using Spring batch 4.2.7 and I'd custom ExecutionContextSerializer class using jettison 1.2 and thoughtworks xstream 1.4.20. Serializable class is as follow.</p>\n<pre><code>public class XStreamExecutionContextStringSerializer2 implements ExecutionContextSerializer, InitializingBean {\n    private ReflectionProvider reflectionProvider = null;\n\n    private HierarchicalStreamDriver hierarchicalStreamDriver;\n\n    private XStream xstream;\n\n    public void setReflectionProvider(ReflectionProvider reflectionProvider) {\n        this.reflectionProvider = reflectionProvider;\n    }\n\n    public void setHierarchicalStreamDriver(HierarchicalStreamDriver hierarchicalStreamDriver) {\n        this.hierarchicalStreamDriver = hierarchicalStreamDriver;\n    }\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        init();\n    }\n\n    public synchronized void init() throws Exception {\n        if (hierarchicalStreamDriver == null) {\n            Configuration configuration = new Configuration();\n            this.hierarchicalStreamDriver = new JettisonMappedXmlDriver(configuration);\n        }\n        if (reflectionProvider == null) {\n            xstream = new XStream(hierarchicalStreamDriver);\n\n        } else {\n            xstream = new XStream(reflectionProvider, hierarchicalStreamDriver);\n        }\n    }\n\n    /**\n     * Serializes the passed execution context to the supplied OutputStream.\n     *\n     * @param context {@link Map} containing the context information.\n     * @param out     {@link OutputStream} where the serialized context information\n     *                will be written.\n     *\n     * @see Serializer#serialize(Object, OutputStream)\n     */\n    @Override\n    public void serialize(Map&lt;String, Object&gt; context, OutputStream out) throws IOException {\n        Assert.notNull(context, &quot;context is required&quot;);\n        Assert.notNull(out, &quot;An OutputStream is required&quot;);\n\n        out.write(xstream.toXML(context).getBytes());\n    }\n\n    /**\n     * Deserializes the supplied input stream into a new execution context.\n     *\n     * @param in {@link InputStream} containing the information to be deserialized.\n     * \n     * @return a reconstructed execution context\n     * @see Deserializer#deserialize(InputStream)\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public Map&lt;String, Object&gt; deserialize(InputStream in) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(in));\n\n        StringBuilder sb = new StringBuilder();\n\n        String line;\n        while ((line = br.readLine()) != null) {\n            sb.append(line);\n        }\n\n        return (Map&lt;String, Object&gt;) xstream.fromXML(sb.toString());\n    }\n}\n</code></pre>\n<p>As I've upgraded jettison to 1.5.3, it started failing at deserialization, with following error</p>\n<pre><code>JobServiceImpl Error while deserializing execution context: Cannot construct type\n---- Debugging information ----\nmessage             : Cannot construct type\ncause-exception     : java.lang.InstantiationException\ncause-message       : java.util.Map$Entry\nconstruction-type   : java.util.Map$Entry\nclass               : java.util.Map$Entry\nrequired-type       : java.util.Map$Entry\nconverter-type      : com.thoughtworks.xstream.converters.reflection.ReflectionConverter\npath                : /map/map/entry\nline number         : -1\nclass[1]            : java.util.HashMap\nrequired-type[1]    : java.util.HashMap\nconverter-type[1]   : com.thoughtworks.xstream.converters.collections.MapConverter\nversion             : 1.4.20\n-------------------------------Stack Trace:[Ljava.lang.StackTraceElement;@441bcb7a\n</code></pre>\n<p>I've tried to add use the solution of updating batch*_*job_execution_context and batch_step_execution_context as per below stackoverflow solution, but still it is not working. Can someone please help?</p>\n<p><a href=\"https://stackoverflow.com/questions/62718203/spring-batch-4-2-4-unable-to-deserialize-the-execution-context\">Spring Batch 4.2.4: Unable to deserialize the execution context</a></p>\n"},{"tags":["java","android","android-studio","abstract-class","onclicklistener"],"answers":[{"tags":[],"owner":{"account_id":1225655,"reputation":38395,"user_id":1207921,"accept_rate":79,"display_name":"Karakuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461540891,"creation_date":1461540891,"answer_id":36830127,"question_id":36829998,"body_markdown":"Remove `implements OnClickListener` from your class definition.","title":"Class must either be declared abstract or implement abstract method?","body":"<p>Remove <code>implements OnClickListener</code> from your class definition.</p>\n"},{"comments":[{"owner":{"account_id":4456517,"reputation":325,"user_id":3626609,"accept_rate":58,"display_name":"fatalError"},"score":1,"creation_date":1461541916,"post_id":36830195,"comment_id":61231612,"body_markdown":"Ohhhhh ok that makes sense! Thank you.","body":"Ohhhhh ok that makes sense! Thank you."},{"owner":{"account_id":5014229,"reputation":644,"user_id":4029487,"accept_rate":69,"display_name":"publicknowledge"},"score":1,"creation_date":1518064445,"post_id":36830195,"comment_id":84353104,"body_markdown":"alt-enter ftw!!","body":"alt-enter ftw!!"},{"owner":{"account_id":1559965,"reputation":33296,"user_id":1450077,"display_name":"Fluffeh"},"score":0,"creation_date":1674979892,"post_id":36830195,"comment_id":132826561,"body_markdown":"*As I can see in your code, you&#39;ve already given your buttons the proper onClickListeners so the solution might be simply to delete `implements OnClickListener` since you&#39;re not using it.* Most important part of the answer.","body":"<i>As I can see in your code, you&#39;ve already given your buttons the proper onClickListeners so the solution might be simply to delete <code>implements OnClickListener</code> since you&#39;re not using it.</i> Most important part of the answer."},{"owner":{"account_id":7423733,"reputation":7391,"user_id":5647037,"display_name":"Vucko"},"score":0,"creation_date":1674990499,"post_id":36830195,"comment_id":132828148,"body_markdown":"Yeah, but I also wanted to thoroughly explain what had happened rather than just providing  a 3 word solution.","body":"Yeah, but I also wanted to thoroughly explain what had happened rather than just providing  a 3 word solution."}],"tags":[],"owner":{"account_id":7423733,"reputation":7391,"user_id":5647037,"display_name":"Vucko"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1461541565,"creation_date":1461541565,"answer_id":36830195,"question_id":36829998,"body_markdown":"You need to implement all the unimplemented methods from the interface you&#39;re implementing. In your case the interface is `OnClickListener` and it needs to have a method:\r\n\r\n `public abstract void onClick (View v)`\r\n\r\nEither remove the interface or implement that method. You can do so easily by placing your cursor on the `OnClickListener` and pressing `ALT+ENTER` if you&#39;re using *Android Studio* and it&#39;ll give you the options on how to fix the error.\r\n\r\nAs I can see in your code, you&#39;ve already given your buttons the proper `onClickListeners` so the solution might be simply to delete `implements OnClickListener` since you&#39;re not using it.","title":"Class must either be declared abstract or implement abstract method?","body":"<p>You need to implement all the unimplemented methods from the interface you're implementing. In your case the interface is <code>OnClickListener</code> and it needs to have a method:</p>\n\n<p><code>public abstract void onClick (View v)</code></p>\n\n<p>Either remove the interface or implement that method. You can do so easily by placing your cursor on the <code>OnClickListener</code> and pressing <code>ALT+ENTER</code> if you're using <em>Android Studio</em> and it'll give you the options on how to fix the error.</p>\n\n<p>As I can see in your code, you've already given your buttons the proper <code>onClickListeners</code> so the solution might be simply to delete <code>implements OnClickListener</code> since you're not using it.</p>\n"}],"owner":{"account_id":4456517,"reputation":325,"user_id":3626609,"accept_rate":58,"display_name":"fatalError"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55325,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"closed_date":1461542257,"accepted_answer_id":36830195,"answer_count":2,"score":7,"last_activity_date":1674979836,"creation_date":1461539803,"question_id":36829998,"body_markdown":"It loos like i&#39;m doing everything right here but I must be missing  something. Hoping to get explanation about why I&#39;m getting that error in the first line of my code and what I should do to fix this type of problem? I&#39;m new to android dev. \r\n\r\n    public class page2 extends AppCompatActivity implements OnClickListener {\r\n\r\n\r\n    /**\r\n     * ATTENTION: This was auto-generated to implement the App Indexing API.\r\n     * See https://g.co/AppIndexing/AndroidStudio for more information.\r\n     */\r\n    private GoogleApiClient client;\r\n\r\n    ImageButton rock, scissors, paper;\r\n    Random randomNum = new Random();\r\n    int cpuMov;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activitypage2); //set what xml page style to display\r\n\r\n        rock = (ImageButton) findViewById(R.id.imageButtonRock);\r\n        scissors = (ImageButton) findViewById(R.id.imageButtonScissors);\r\n        paper = (ImageButton) findViewById(R.id.imageButtonPaper);\r\n\r\n        rock.setOnClickListener(new OnClickListener() { // calling onClick() method\r\n            @Override\r\n            //method for handling what happens when you click Rock buttonImage.\r\n            public void onClick(View v) {\r\n\r\n                // number between 1-3 inclusive (max-min+1)+1\r\n                cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\r\n                buildAlert(cpuMov, &quot;imageButtonRock&quot;);\r\n                moveViewToScreenCenter(v);//float to center\r\n            }\r\n        });\r\n\r\n        scissors.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                // number between 1-3 inclusive (max-min+1)+1\r\n                cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\r\n                buildAlert(cpuMov, &quot;imageButtonScissors&quot;);\r\n                moveViewToScreenCenter(v);//float to center\r\n            }\r\n        });\r\n\r\n        paper.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                // number between 1-3 inclusive (max-min+1)+1\r\n                cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\r\n                buildAlert(cpuMov, &quot;imageButtonPaper&quot;);\r\n                moveViewToScreenCenter(v);//float to center\r\n            }\r\n        });\r\n\r\n    } //EoOnCreate\r\n\r\n    private void moveViewToScreenCenter( View view )\r\n    {\r\n        RelativeLayout root = (RelativeLayout) findViewById( R.id.rootLayout );\r\n        DisplayMetrics dm = new DisplayMetrics();\r\n        this.getWindowManager().getDefaultDisplay().getMetrics( dm );\r\n        int statusBarOffset = dm.heightPixels - root.getMeasuredHeight();\r\n\r\n        int originalPos[] = new int[2];\r\n        view.getLocationOnScreen( originalPos );\r\n\r\n        int xDest = dm.widthPixels/2;\r\n        xDest -= (view.getMeasuredWidth()/2);\r\n        int yDest = dm.heightPixels/2 - (view.getMeasuredHeight()/2) - statusBarOffset;\r\n\r\n        TranslateAnimation anim = new TranslateAnimation( 0, xDest - originalPos[0] , 0, yDest - originalPos[1] );\r\n        anim.setDuration(5000); // speed of the movement\r\n        anim.setFillAfter( true );\r\n        view.startAnimation(anim);\r\n    }\r\n\r\n    //builds the message that will be displayed\r\n    void appendMessage(AlertDialog.Builder myAlert, String cpuMove, String result) {\r\n        myAlert.setMessage(&quot;Computer selects &quot; +cpuMove+ &quot;, you &quot; +result+ &quot;!&quot;);\r\n        myAlert.show();\r\n        myAlert.setCancelable(true);\r\n        //how to give id to alertDialog to save in strings.xml\r\n\r\n    }\r\n\r\n    public void buildAlert(int move, String btnPressed) {\r\n        AlertDialog.Builder myAlert = new AlertDialog.Builder(this);\r\n        String cpuMove;\r\n        String result;\r\n        if (btnPressed.equals(&quot;imageButtonRock&quot;)) {\r\n            //Toast.makeText(this, &quot;hooray &quot;+move, Toast.LENGTH_SHORT).show();\r\n            if (move == 1) {\r\n                cpuMove = &quot;Rock&quot;;\r\n                result = &quot;tied&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert, cpuMove, result);\r\n            }\r\n            if (move == 2) {\r\n                cpuMove = &quot;Scissors&quot;;\r\n                result = &quot;won&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n            if (move == 3) {\r\n                cpuMove = &quot;Paper&quot;;\r\n                result = &quot;lost&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n        } else if (btnPressed.equals(&quot;imageButtonScissors&quot;)) {\r\n            if (move == 1) {\r\n                cpuMove = &quot;Rock&quot;;\r\n                result = &quot;lost&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n            if (move == 2) {\r\n                cpuMove = &quot;Scissors&quot;;\r\n                result = &quot;tied&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert, cpuMove, result);\r\n            }\r\n            if (move == 3) {\r\n                cpuMove = &quot;Paper&quot;;\r\n                result = &quot;won&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n        } else { //imageButton is Scissors\r\n            if (move == 1) {\r\n                cpuMove = &quot;Rock&quot;;\r\n                result = &quot;won&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n            if (move == 2) {\r\n                cpuMove = &quot;Scissors&quot;;\r\n                result = &quot;lost&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n            if (move == 3) {\r\n                cpuMove = &quot;Paper&quot;;\r\n                result = &quot;tied&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n\r\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n        client.connect();\r\n        Action viewAction = Action.newAction(\r\n                Action.TYPE_VIEW, // TODO: choose an action type.\r\n                &quot;page2 Page&quot;, // TODO: Define a title for the content shown.\r\n                // TODO: If you have web page content that matches this app activity&#39;s content,\r\n                // make sure this auto-generated web page URL is correct.\r\n                // Otherwise, set the URL to null.\r\n                Uri.parse(&quot;http://host/path&quot;),\r\n                // TODO: Make sure this auto-generated app deep link URI is correct.\r\n                Uri.parse(&quot;android-app://rps.rsp/http/host/path&quot;)\r\n        );\r\n        AppIndex.AppIndexApi.start(client, viewAction);\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n\r\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n        Action viewAction = Action.newAction(\r\n                Action.TYPE_VIEW, // TODO: choose an action type.\r\n                &quot;page2 Page&quot;, // TODO: Define a title for the content shown.\r\n                // TODO: If you have web page content that matches this app activity&#39;s content,\r\n                // make sure this auto-generated web page URL is correct.\r\n                // Otherwise, set the URL to null.\r\n                Uri.parse(&quot;http://host/path&quot;),\r\n                // TODO: Make sure this auto-generated app deep link URI is correct.\r\n                Uri.parse(&quot;android-app://rps.rsp/http/host/path&quot;)\r\n        );\r\n        AppIndex.AppIndexApi.end(client, viewAction);\r\n        client.disconnect();\r\n    }\r\n\r\n    }\r\n\r\nI know that View.OnClickListener must implement the function onClick(). Am I not doing that?","title":"Class must either be declared abstract or implement abstract method?","body":"<p>It loos like i'm doing everything right here but I must be missing  something. Hoping to get explanation about why I'm getting that error in the first line of my code and what I should do to fix this type of problem? I'm new to android dev.</p>\n<pre><code>public class page2 extends AppCompatActivity implements OnClickListener {\n\n\n/**\n * ATTENTION: This was auto-generated to implement the App Indexing API.\n * See https://g.co/AppIndexing/AndroidStudio for more information.\n */\nprivate GoogleApiClient client;\n\nImageButton rock, scissors, paper;\nRandom randomNum = new Random();\nint cpuMov;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activitypage2); //set what xml page style to display\n\n    rock = (ImageButton) findViewById(R.id.imageButtonRock);\n    scissors = (ImageButton) findViewById(R.id.imageButtonScissors);\n    paper = (ImageButton) findViewById(R.id.imageButtonPaper);\n\n    rock.setOnClickListener(new OnClickListener() { // calling onClick() method\n        @Override\n        //method for handling what happens when you click Rock buttonImage.\n        public void onClick(View v) {\n\n            // number between 1-3 inclusive (max-min+1)+1\n            cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\n            buildAlert(cpuMov, &quot;imageButtonRock&quot;);\n            moveViewToScreenCenter(v);//float to center\n        }\n    });\n\n    scissors.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            // number between 1-3 inclusive (max-min+1)+1\n            cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\n            buildAlert(cpuMov, &quot;imageButtonScissors&quot;);\n            moveViewToScreenCenter(v);//float to center\n        }\n    });\n\n    paper.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            // number between 1-3 inclusive (max-min+1)+1\n            cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\n            buildAlert(cpuMov, &quot;imageButtonPaper&quot;);\n            moveViewToScreenCenter(v);//float to center\n        }\n    });\n\n} //EoOnCreate\n\nprivate void moveViewToScreenCenter( View view )\n{\n    RelativeLayout root = (RelativeLayout) findViewById( R.id.rootLayout );\n    DisplayMetrics dm = new DisplayMetrics();\n    this.getWindowManager().getDefaultDisplay().getMetrics( dm );\n    int statusBarOffset = dm.heightPixels - root.getMeasuredHeight();\n\n    int originalPos[] = new int[2];\n    view.getLocationOnScreen( originalPos );\n\n    int xDest = dm.widthPixels/2;\n    xDest -= (view.getMeasuredWidth()/2);\n    int yDest = dm.heightPixels/2 - (view.getMeasuredHeight()/2) - statusBarOffset;\n\n    TranslateAnimation anim = new TranslateAnimation( 0, xDest - originalPos[0] , 0, yDest - originalPos[1] );\n    anim.setDuration(5000); // speed of the movement\n    anim.setFillAfter( true );\n    view.startAnimation(anim);\n}\n\n//builds the message that will be displayed\nvoid appendMessage(AlertDialog.Builder myAlert, String cpuMove, String result) {\n    myAlert.setMessage(&quot;Computer selects &quot; +cpuMove+ &quot;, you &quot; +result+ &quot;!&quot;);\n    myAlert.show();\n    myAlert.setCancelable(true);\n    //how to give id to alertDialog to save in strings.xml\n\n}\n\npublic void buildAlert(int move, String btnPressed) {\n    AlertDialog.Builder myAlert = new AlertDialog.Builder(this);\n    String cpuMove;\n    String result;\n    if (btnPressed.equals(&quot;imageButtonRock&quot;)) {\n        //Toast.makeText(this, &quot;hooray &quot;+move, Toast.LENGTH_SHORT).show();\n        if (move == 1) {\n            cpuMove = &quot;Rock&quot;;\n            result = &quot;tied&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert, cpuMove, result);\n        }\n        if (move == 2) {\n            cpuMove = &quot;Scissors&quot;;\n            result = &quot;won&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n        if (move == 3) {\n            cpuMove = &quot;Paper&quot;;\n            result = &quot;lost&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n    } else if (btnPressed.equals(&quot;imageButtonScissors&quot;)) {\n        if (move == 1) {\n            cpuMove = &quot;Rock&quot;;\n            result = &quot;lost&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n        if (move == 2) {\n            cpuMove = &quot;Scissors&quot;;\n            result = &quot;tied&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert, cpuMove, result);\n        }\n        if (move == 3) {\n            cpuMove = &quot;Paper&quot;;\n            result = &quot;won&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n    } else { //imageButton is Scissors\n        if (move == 1) {\n            cpuMove = &quot;Rock&quot;;\n            result = &quot;won&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n        if (move == 2) {\n            cpuMove = &quot;Scissors&quot;;\n            result = &quot;lost&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n        if (move == 3) {\n            cpuMove = &quot;Paper&quot;;\n            result = &quot;tied&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n    }\n}\n\n@Override\npublic void onStart() {\n    super.onStart();\n\n    // ATTENTION: This was auto-generated to implement the App Indexing API.\n    // See https://g.co/AppIndexing/AndroidStudio for more information.\n    client.connect();\n    Action viewAction = Action.newAction(\n            Action.TYPE_VIEW, // TODO: choose an action type.\n            &quot;page2 Page&quot;, // TODO: Define a title for the content shown.\n            // TODO: If you have web page content that matches this app activity's content,\n            // make sure this auto-generated web page URL is correct.\n            // Otherwise, set the URL to null.\n            Uri.parse(&quot;http://host/path&quot;),\n            // TODO: Make sure this auto-generated app deep link URI is correct.\n            Uri.parse(&quot;android-app://rps.rsp/http/host/path&quot;)\n    );\n    AppIndex.AppIndexApi.start(client, viewAction);\n}\n\n@Override\npublic void onStop() {\n    super.onStop();\n\n    // ATTENTION: This was auto-generated to implement the App Indexing API.\n    // See https://g.co/AppIndexing/AndroidStudio for more information.\n    Action viewAction = Action.newAction(\n            Action.TYPE_VIEW, // TODO: choose an action type.\n            &quot;page2 Page&quot;, // TODO: Define a title for the content shown.\n            // TODO: If you have web page content that matches this app activity's content,\n            // make sure this auto-generated web page URL is correct.\n            // Otherwise, set the URL to null.\n            Uri.parse(&quot;http://host/path&quot;),\n            // TODO: Make sure this auto-generated app deep link URI is correct.\n            Uri.parse(&quot;android-app://rps.rsp/http/host/path&quot;)\n    );\n    AppIndex.AppIndexApi.end(client, viewAction);\n    client.disconnect();\n}\n\n}\n</code></pre>\n<p>I know that View.OnClickListener must implement the function onClick(). Am I not doing that?</p>\n"},{"tags":["java","multithreading","threadpool","work-stealing"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650287578,"post_id":71906940,"comment_id":127073180,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":21416719,"reputation":1,"user_id":19143352,"display_name":"programming-tips.jp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674979593,"creation_date":1674979593,"answer_id":75273431,"question_id":71906940,"body_markdown":"The work-stealing thread pool does not support Future.cancel(true). If you need to interrupt the thread (e.g. using Thread.sleep), you need to use the fixed thread pool. If not, it would be better to use the work-stealing thread pool.\r\n\r\nPlease see also [here](https://stackoverflow.com/questions/29903804/executorservice-workstealingpool-and-cancel-method).","title":"How to decide whether to use newWorkStealingPool or newFixedThreadPool?","body":"<p>The work-stealing thread pool does not support Future.cancel(true). If you need to interrupt the thread (e.g. using Thread.sleep), you need to use the fixed thread pool. If not, it would be better to use the work-stealing thread pool.</p>\n<p>Please see also <a href=\"https://stackoverflow.com/questions/29903804/executorservice-workstealingpool-and-cancel-method\">here</a>.</p>\n"}],"owner":{"account_id":8742868,"reputation":1,"user_id":6539353,"display_name":"zainuel abideen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674979593,"creation_date":1650247425,"question_id":71906940,"body_markdown":"I understand that in Work Stealing Pool each thread has its own queue where as Fixed Thread Pool has a single shared unbounded queue.\r\n\r\nBut I&#39;m still not clear in deciding which one is better among them in terms of performance. I see that work stealing pool has an advantage because it steals the work from other thread&#39;s queue when it is done processing all of its tasks and both of them use a fixed number of threads.\r\n\r\nSo is work stealing pool always a better choice ?","title":"How to decide whether to use newWorkStealingPool or newFixedThreadPool?","body":"<p>I understand that in Work Stealing Pool each thread has its own queue where as Fixed Thread Pool has a single shared unbounded queue.</p>\n<p>But I'm still not clear in deciding which one is better among them in terms of performance. I see that work stealing pool has an advantage because it steals the work from other thread's queue when it is done processing all of its tasks and both of them use a fixed number of threads.</p>\n<p>So is work stealing pool always a better choice ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1674979301,"post_id":75273353,"comment_id":132826499,"body_markdown":"you initial de and then check if id is null?wierd.it is ok if all fields are emty because you create a new object and just assign phonenumber","body":"you initial de and then check if id is null?wierd.it is ok if all fields are emty because you create a new object and just assign phonenumber"}],"owner":{"account_id":27647613,"reputation":11,"user_id":21103169,"display_name":"Tan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674978512,"creation_date":1674978512,"question_id":75273353,"body_markdown":"When i tried this method only phone number display other fields showing null\r\n\r\n\r\n@Component\r\npublic class delegatemock {\r\n\t\r\n\tprivate List&lt;Delegate&gt; list=new ArrayList&lt;Delegate&gt;();\r\n\t\r\n\tpublic void create() {\r\n\t\tlist=List.of(\r\n\t\t\t\tnew Delegate(&quot;1&quot;,&quot;neha&quot;,&quot;123457894&quot;,&quot;family&quot;),\r\n\t\t\t\tnew Delegate(&quot;2&quot;,&quot;joy&quot;,&quot;993456432&quot;,&quot;family&quot;));\r\n\t\t\t\t\r\n\t}\r\n\t\r\n\tpublic delegateresponse updated(dto d,String id) {\r\n\t\t\r\n\t\tDelegate de =new Delegate();\r\n\t\tif(de.getId()!=null &amp;&amp;de.getName()==d.getName())  \r\n\t\t\tde.setPhone(d.getPhone());\r\n\t\t   list.add(de);\r\n\t\t   return new delegateresponse(de.getId(),de.getName(),de.getPhone(),de.getRelation());\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t`your text`\r\n\r\n\r\n\r\nPlease anyone help me to update specific phone number without database ","title":"How to update specific field without database in spring boot application","body":"<p>When i tried this method only phone number display other fields showing null</p>\n<p>@Component\npublic class delegatemock {</p>\n<pre><code>private List&lt;Delegate&gt; list=new ArrayList&lt;Delegate&gt;();\n\npublic void create() {\n    list=List.of(\n            new Delegate(&quot;1&quot;,&quot;neha&quot;,&quot;123457894&quot;,&quot;family&quot;),\n            new Delegate(&quot;2&quot;,&quot;joy&quot;,&quot;993456432&quot;,&quot;family&quot;));\n            \n}\n\npublic delegateresponse updated(dto d,String id) {\n    \n    Delegate de =new Delegate();\n    if(de.getId()!=null &amp;&amp;de.getName()==d.getName())  \n        de.setPhone(d.getPhone());\n       list.add(de);\n       return new delegateresponse(de.getId(),de.getName(),de.getPhone(),de.getRelation());\n    \n}\n\n\n`your text`\n</code></pre>\n<p>Please anyone help me to update specific phone number without database</p>\n"},{"tags":["java","sonarqube","sonarlint"],"comments":[{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":1,"creation_date":1673977965,"post_id":75150324,"comment_id":132615151,"body_markdown":"`func2(obj1, !bool1)`.","body":"<code>func2(obj1, !bool1)</code>."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1673978050,"post_id":75150324,"comment_id":132615182,"body_markdown":"@user229044 Well maybe... There&#39;s no `else` in the code as given, but it&#39;s also syntactically broken, so hard to know if the lack of `else` is a transcription error.","body":"@user229044 Well maybe... There&#39;s no <code>else</code> in the code as given, but it&#39;s also syntactically broken, so hard to know if the lack of <code>else</code> is a transcription error."},{"owner":{"account_id":7796397,"reputation":83,"user_id":5897316,"accept_rate":0,"display_name":"gaurav b"},"score":0,"creation_date":1673978637,"post_id":75150324,"comment_id":132615379,"body_markdown":"@user16320675, that is what i have mentioned if bool1 is false then expression becomes true and func1 will get executed.","body":"@user16320675, that is what i have mentioned if bool1 is false then expression becomes true and func1 will get executed."},{"owner":{"account_id":7796397,"reputation":83,"user_id":5897316,"accept_rate":0,"display_name":"gaurav b"},"score":0,"creation_date":1673978884,"post_id":75150324,"comment_id":132615453,"body_markdown":"I am sorry, got it now. Corrected it.","body":"I am sorry, got it now. Corrected it."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1673979258,"post_id":75150324,"comment_id":132615578,"body_markdown":"now it makes sense, maybe Sonar also got confused...and I do not think it is a duplicate of the actual linked to question","body":"now it makes sense, maybe Sonar also got confused...and I do not think it is a duplicate of the actual linked to question"},{"owner":{"account_id":7796397,"reputation":83,"user_id":5897316,"accept_rate":0,"display_name":"gaurav b"},"score":0,"creation_date":1673979546,"post_id":75150324,"comment_id":132615676,"body_markdown":"Any idea how it can be resolved, Only way i can think of is to separate logic of func2 into two different function which includes duplicating lots of code.","body":"Any idea how it can be resolved, Only way i can think of is to separate logic of func2 into two different function which includes duplicating lots of code."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1673988934,"post_id":75150324,"comment_id":132618380,"body_markdown":"I would report it to Sonar as a bug.","body":"I would report it to Sonar as a bug."},{"owner":{"account_id":319988,"reputation":10980,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":2,"creation_date":1673991244,"post_id":75150324,"comment_id":132619029,"body_markdown":"I&#39;ve reproduced it using SonarLint plugin in IntelliJ IDEA, and reported it at https://community.sonarsource.com/t/false-positive-for-an-if-without-else/81463","body":"I&#39;ve reproduced it using SonarLint plugin in IntelliJ IDEA, and reported it at <a href=\"https://community.sonarsource.com/t/false-positive-for-an-if-without-else/81463\" rel=\"nofollow noreferrer\">community.sonarsource.com/t/&hellip;</a>"},{"owner":{"account_id":7796397,"reputation":83,"user_id":5897316,"accept_rate":0,"display_name":"gaurav b"},"score":0,"creation_date":1674590863,"post_id":75150324,"comment_id":132745738,"body_markdown":"As a workaround i enclosed the method with false argument into another method with a different name and Sonar issue goes away.","body":"As a workaround i enclosed the method with false argument into another method with a different name and Sonar issue goes away."}],"owner":{"account_id":7796397,"reputation":83,"user_id":5897316,"accept_rate":0,"display_name":"gaurav b"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674978134,"creation_date":1673977852,"question_id":75150324,"body_markdown":"I wanted to execute func2 with 2nd parameter as true only when value of bool1 is false and func2 with 2nd parameter as false will be called every time but for some reason Sonar is taking it as non complaint code even though i am not even using any else statement neither returning anything from the function. \r\n\r\n    func1(Obj1, bool1){\r\n        if(!bool1){\r\n            func2(obj1,true);\r\n        }\r\n        func2(obj1,false);  // Note this is called UNCONDITIONALLY\r\n    }\r\n\r\nCan anyone suggest how to resolve this issue without duplicating code of func2.Most of the other answers in stack overflow are talking about returning something based on some condition but in this i am supposed to execute func2 even though if condition is true.","title":"Replace this if-then-else statement by a single method invocation","body":"<p>I wanted to execute func2 with 2nd parameter as true only when value of bool1 is false and func2 with 2nd parameter as false will be called every time but for some reason Sonar is taking it as non complaint code even though i am not even using any else statement neither returning anything from the function.</p>\n<pre><code>func1(Obj1, bool1){\n    if(!bool1){\n        func2(obj1,true);\n    }\n    func2(obj1,false);  // Note this is called UNCONDITIONALLY\n}\n</code></pre>\n<p>Can anyone suggest how to resolve this issue without duplicating code of func2.Most of the other answers in stack overflow are talking about returning something based on some condition but in this i am supposed to execute func2 even though if condition is true.</p>\n"},{"tags":["java","fingerprint"],"answers":[{"tags":[],"owner":{"account_id":1902194,"reputation":21,"user_id":1717824,"display_name":"Alan Rodrigues"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589312238,"creation_date":1589312238,"answer_id":61760472,"question_id":61645757,"body_markdown":"I got in touch with tech support via the email inquiry@futronic-tech.com.\r\nTeam futronic were very kind and supportive and helped me to accomplish the taks.\r\nThere&#39;s everything available in their dll api, and they sent me access to their ftp with Java code example to handle multiple FS80 readers plugged in the same PC.\r\nI would like to thank team Futronic.","title":"Futronic fingerprint reader FS80H, 2 readers in the same PC, how can i differentiate them","body":"<p>I got in touch with tech support via the email inquiry@futronic-tech.com.\nTeam futronic were very kind and supportive and helped me to accomplish the taks.\nThere's everything available in their dll api, and they sent me access to their ftp with Java code example to handle multiple FS80 readers plugged in the same PC.\nI would like to thank team Futronic.</p>\n"}],"owner":{"account_id":1902194,"reputation":21,"user_id":1717824,"display_name":"Alan Rodrigues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674978063,"creation_date":1588800647,"question_id":61645757,"body_markdown":"I have Java application using Futronic FS80H.\r\nWorking successfully with one device.\r\nBut now i have 2 of them plugged in the same PC.\r\nI want one to enroll, and the other must only read.\r\nBut i can&#39;t find a way to diferentiate them.\r\nI&#39;m using the SDK Worked Example for Windows, available at https://www.futronic-tech.com/download.php, and building my software upon that.\r\nCan someone help me?","title":"Futronic fingerprint reader FS80H, 2 readers in the same PC, how can i differentiate them","body":"<p>I have Java application using Futronic FS80H.\nWorking successfully with one device.\nBut now i have 2 of them plugged in the same PC.\nI want one to enroll, and the other must only read.\nBut i can't find a way to diferentiate them.\nI'm using the SDK Worked Example for Windows, available at <a href=\"https://www.futronic-tech.com/download.php\" rel=\"nofollow noreferrer\">https://www.futronic-tech.com/download.php</a>, and building my software upon that.\nCan someone help me?</p>\n"},{"tags":["java","gradle","slf4j"],"answers":[{"comments":[{"owner":{"account_id":7929172,"reputation":1797,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"score":0,"creation_date":1641801250,"post_id":68105131,"comment_id":124891998,"body_markdown":"How to do that? Can you add that for future reference please?","body":"How to do that? Can you add that for future reference please?"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1641816420,"post_id":68105131,"comment_id":124897338,"body_markdown":"@theprogrammer added","body":"@theprogrammer added"},{"owner":{"account_id":7929172,"reputation":1797,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"score":0,"creation_date":1641832408,"post_id":68105131,"comment_id":124904168,"body_markdown":"Thanks a lot for quick reply. :)","body":"Thanks a lot for quick reply. :)"},{"owner":{"account_id":90552,"reputation":6562,"user_id":249230,"accept_rate":91,"display_name":"szx"},"score":0,"creation_date":1674974995,"post_id":68105131,"comment_id":132826086,"body_markdown":"Hmm, why is mvnrepository.com suggesting testImplementation rather than implementation? https://mvnrepository.com/artifact/org.slf4j/slf4j-simple/2.0.6","body":"Hmm, why is mvnrepository.com suggesting testImplementation rather than implementation? <a href=\"https://mvnrepository.com/artifact/org.slf4j/slf4j-simple/2.0.6\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.slf4j/slf4j-simple/2.0.6</a>"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1674976512,"post_id":68105131,"comment_id":132826215,"body_markdown":"@szx because usually you use it for tests only and use a more configurable implementation for production like logback.","body":"@szx because usually you use it for tests only and use a more configurable implementation for production like logback."}],"tags":[],"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1674976667,"creation_date":1624471849,"answer_id":68105131,"question_id":68105088,"body_markdown":"You added `slf4j-simple` only in test scope, you want it also in runtime scope.\r\n\r\nI.e. change `testImplementation` to `implementation` in your build definition.\r\n\r\n-----\r\n\r\nNote that `slf4j-simple` as the name suggests is a minimal implementation of SLF4J API, you might want to use a more customizable one for production code like logback, log4j2...","title":"How to solve &quot;No SLF4J providers were found&quot; when the &quot;slf4j-api&quot; and &quot;slf4j-simple&quot; are already imported?","body":"<p>You added <code>slf4j-simple</code> only in test scope, you want it also in runtime scope.</p>\n<p>I.e. change <code>testImplementation</code> to <code>implementation</code> in your build definition.</p>\n<hr />\n<p>Note that <code>slf4j-simple</code> as the name suggests is a minimal implementation of SLF4J API, you might want to use a more customizable one for production code like logback, log4j2...</p>\n"}],"owner":{"account_id":16275079,"reputation":1110,"user_id":11752443,"display_name":"powerseed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27283,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":68105131,"answer_count":1,"score":3,"last_activity_date":1674976667,"creation_date":1624471613,"question_id":68105088,"body_markdown":"I am using Guice in a gradle project. When running the main method, I got the following error:\r\n```\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.\r\n```\r\n\r\nI did some research and added two dependencies in the `dependencies` section of the `build.gradle` file as shown below:\r\n```\r\ndependencies {\r\n    ...\r\n    implementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-api&#39;, version: &#39;2.0.0-alpha1&#39;\r\n    testImplementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-simple&#39;, version: &#39;2.0.0-alpha1&#39;\r\n}\r\n```\r\nBut the error is still there...\r\n\r\nDo I need to bind the SLF4J provider with something via Guice?\r\n\r\nMy `main` method is very simple, so as the `AbstractModule` class for Guice, as shown below (not sure if they are relevant):\r\n```\r\npublic class Restful {\r\n    public static void main(String[] args) {\r\n        Injector injector = Guice.createInjector(new ApplicationModule());\r\n    }\r\n}\r\n```\r\nand\r\n```\r\npublic class ApplicationModule extends AbstractModule {\r\n    @Override\r\n    protected void configure() {\r\n        bind(UserDao.class).toInstance(new UserDao());\r\n    }\r\n}\r\n```\r\nThank in advance!","title":"How to solve &quot;No SLF4J providers were found&quot; when the &quot;slf4j-api&quot; and &quot;slf4j-simple&quot; are already imported?","body":"<p>I am using Guice in a gradle project. When running the main method, I got the following error:</p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.\n</code></pre>\n<p>I did some research and added two dependencies in the <code>dependencies</code> section of the <code>build.gradle</code> file as shown below:</p>\n<pre><code>dependencies {\n    ...\n    implementation group: 'org.slf4j', name: 'slf4j-api', version: '2.0.0-alpha1'\n    testImplementation group: 'org.slf4j', name: 'slf4j-simple', version: '2.0.0-alpha1'\n}\n</code></pre>\n<p>But the error is still there...</p>\n<p>Do I need to bind the SLF4J provider with something via Guice?</p>\n<p>My <code>main</code> method is very simple, so as the <code>AbstractModule</code> class for Guice, as shown below (not sure if they are relevant):</p>\n<pre><code>public class Restful {\n    public static void main(String[] args) {\n        Injector injector = Guice.createInjector(new ApplicationModule());\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class ApplicationModule extends AbstractModule {\n    @Override\n    protected void configure() {\n        bind(UserDao.class).toInstance(new UserDao());\n    }\n}\n</code></pre>\n<p>Thank in advance!</p>\n"},{"tags":["java","apache-kafka","apache-camel","junit5","spring-restcontroller"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674778511,"post_id":75242266,"comment_id":132791619,"body_markdown":"Have you tried to write any test yet on your own that starts your webserver?","body":"Have you tried to write any test yet on your own that starts your webserver?"},{"owner":{"account_id":27623928,"reputation":1,"user_id":21084314,"display_name":"Saumya R Dash"},"score":0,"creation_date":1674812881,"post_id":75242266,"comment_id":132797318,"body_markdown":"I am new to springboot,I am able to do write the rest of test cases for the flow like camel routing,repository layer etc.Need help in this topic.As unable to find any leads also from internet.","body":"I am new to springboot,I am able to do write the rest of test cases for the flow like camel routing,repository layer etc.Need help in this topic.As unable to find any leads also from internet."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674838295,"post_id":75242266,"comment_id":132805481,"body_markdown":"So [&quot;test restcontroller with junit5&quot;](https://howtodoinjava.com/spring-boot2/testing/rest-controller-unit-test-example/) resulting in nothing useful?","body":"So <a href=\"https://howtodoinjava.com/spring-boot2/testing/rest-controller-unit-test-example/\" rel=\"nofollow noreferrer\">&quot;test restcontroller with junit5&quot;</a> resulting in nothing useful?"},{"owner":{"account_id":27623928,"reputation":1,"user_id":21084314,"display_name":"Saumya R Dash"},"score":0,"creation_date":1674931792,"post_id":75242266,"comment_id":132820960,"body_markdown":"It&#39;s not a regular  MV Ccontroller where you have service and repo,as mentioned in my question its an independent api which is uses camel producer template to publish messages into kafka events.I am not finding exact test case for this, yes event publishing even could be possible through kafka template but as i m using camel is next layer to do transformation and process so would like to reuse the producer template instead of kafka template.","body":"It&#39;s not a regular  MV Ccontroller where you have service and repo,as mentioned in my question its an independent api which is uses camel producer template to publish messages into kafka events.I am not finding exact test case for this, yes event publishing even could be possible through kafka template but as i m using camel is next layer to do transformation and process so would like to reuse the producer template instead of kafka template."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674976015,"post_id":75242266,"comment_id":132826171,"body_markdown":"You still have a rest controller. Camel shouldn&#39;t matter. Otherwise, you should refactor your code with dependency injection to make it easier to test in isolation","body":"You still have a rest controller. Camel shouldn&#39;t matter. Otherwise, you should refactor your code with dependency injection to make it easier to test in isolation"},{"owner":{"account_id":27623928,"reputation":1,"user_id":21084314,"display_name":"Saumya R Dash"},"score":0,"creation_date":1675014760,"post_id":75242266,"comment_id":132832675,"body_markdown":"do you have any reference code for rest controller with kafka producer template, if yes please share.","body":"do you have any reference code for rest controller with kafka producer template, if yes please share."},{"owner":{"account_id":27623928,"reputation":1,"user_id":21084314,"display_name":"Saumya R Dash"},"score":0,"creation_date":1675082342,"post_id":75242266,"comment_id":132845133,"body_markdown":"*camel producer template not kafka producer template","body":"*camel producer template not kafka producer template"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675101516,"post_id":75242266,"comment_id":132851877,"body_markdown":"I do not because I don&#39;t use Kafka producers in RESTControllers, Camel or otherwise... Besides, no part of your question seems to be [using Camel Kafka producer](https://camel.apache.org/components/3.20.x/kafka-component.html#_producing_messages_to_kafka), and as I said, you can [test camel in isolation](https://camel.apache.org/components/3.20.x/others/test-spring-junit5.html)","body":"I do not because I don&#39;t use Kafka producers in RESTControllers, Camel or otherwise... Besides, no part of your question seems to be <a href=\"https://camel.apache.org/components/3.20.x/kafka-component.html#_producing_messages_to_kafka\" rel=\"nofollow noreferrer\">using Camel Kafka producer</a>, and as I said, you can <a href=\"https://camel.apache.org/components/3.20.x/others/test-spring-junit5.html\" rel=\"nofollow noreferrer\">test camel in isolation</a>"},{"owner":{"account_id":27623928,"reputation":1,"user_id":21084314,"display_name":"Saumya R Dash"},"score":0,"creation_date":1675155991,"post_id":75242266,"comment_id":132862638,"body_markdown":"test camel alone already i have taken care i was looking only for this part lv it,,thank you","body":"test camel alone already i have taken care i was looking only for this part lv it,,thank you"}],"owner":{"account_id":27623928,"reputation":1,"user_id":21084314,"display_name":"Saumya R Dash"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674976080,"creation_date":1674707329,"question_id":75242266,"body_markdown":"Need a help to write junit5 test case in springboot for a post api where it uses apache camel producer template to send message to kafka. Please find the controller class details for which junit test cases are required. Note-I don&#39;t have any service/repository layer for this.This is standalone controller which is responsible to publish message to kafka by using camel producer template.Thanks is advance.\r\n\r\n**Controller Class--&gt;**\r\n\r\n```\r\n`\r\n`import com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.rms.inventory.savr.audit.model.AuditInfo;\r\nimport java.util.Map;\r\nimport javax.annotation.PostConstruct;\r\nimport org.apache.camel.ProducerTemplate;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestHeader;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n@RestController\r\npublic class MockKafkaProducerController {\r\n  @Autowired ProducerTemplate producerTemplate;\r\n  @Value(&quot;${audit.inbound.endpoint.kafka.uri:audit-json-topic}&quot;)\r\n  private String auditTopicKafka;\r\n  @Value(&quot;${camel.component.kafka.consumer.supply}&quot;)\r\n  private String supplyLineUpdateKafkaTopic;\r\n  @Value(&quot;${camel.component.kafka.consumer.demand}&quot;)\r\n  private String demandLineUpdateKafkaTopic;\r\n  @Value(&quot;${camel.component.kafka.consumer.supply-bucket}&quot;)\r\n  private String supplybucketTopicKafka;\r\n  @Value(&quot;${camel.component.kafka.consumer.demand-bucket}&quot;)\r\n  private String demandbucketTopicKafka;\r\n  @Value(&quot;${camel.component.kafka.consumer.availability}&quot;)\r\n  private String availabilityTopicKafka;\r\n  private Map&lt;String, String&gt; dataTypeTopicMap;\r\n  @PostConstruct\r\n  void init() {\r\n    dataTypeTopicMap =\r\n        Map.of(\r\n            &quot;SUPPLY_LINE&quot;,\r\n            supplyLineUpdateKafkaTopic,\r\n            &quot;SUPPLY_BUCKET&quot;,\r\n            supplybucketTopicKafka,\r\n            &quot;DEMAND_LINE&quot;,\r\n            demandLineUpdateKafkaTopic,\r\n            &quot;DEMAND_BUCKET&quot;,\r\n            demandbucketTopicKafka,\r\n            &quot;AVAILABILITY&quot;,\r\n            availabilityTopicKafka);\r\n  }\r\n  @PostMapping(&quot;/api/mock/producer&quot;)\r\n  public ResponseEntity&lt;Boolean&gt; saveAuditInfo(@RequestBody AuditInfo auditInfo)\r\n  public ResponseEntity&lt;Boolean&gt; saveAuditInfo(\r\n      @RequestBody AuditInfo auditInfo, @RequestHeader(&quot;AUDIT_TYPE&quot;) String auditType)\r\n      throws JsonProcessingException {\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.findAndRegisterModules();\r\n    if (auditType == null || auditType.isEmpty()) {\r\n      auditType = &quot;SUPPLY_LINE&quot;;\r\n    }\r\n    String topicName = dataTypeTopicMap.get(auditType);\r\n    //  producerTemplate.\r\n    producerTemplate.sendBodyAndHeader(\r\n        auditTopicKafka, objectMapper.writeValueAsString(auditInfo), &quot;messageFormat&quot;, &quot;CANONICAL&quot;);\r\n        topicName, objectMapper.writeValueAsString(auditInfo), &quot;messageFormat&quot;, &quot;CANONICAL&quot;);\r\n    return ResponseEntity.ok(Boolean.TRUE);\r\n  }\r\n  @PostMapping(&quot;/api/inventory/audit/mock/producer&quot;)\r\n  public ResponseEntity&lt;Boolean&gt; publishInventoryAudit(@RequestBody String auditInfo)\r\n  public ResponseEntity&lt;Boolean&gt; publishInventoryAudit(\r\n      @RequestBody String auditInfo, @RequestHeader(&quot;AUDIT_TYPE&quot;) String auditType)\r\n      throws JsonProcessingException {\r\n    producerTemplate.sendBody(auditTopicKafka, auditInfo);\r\n    if (auditType == null || auditType.isEmpty()) {\r\n      auditType = &quot;SUPPLY_LINE&quot;;\r\n    }\r\n    String topicName = dataTypeTopicMap.get(auditType);\r\n    producerTemplate.sendBody(topicName, auditInfo);\r\n    return ResponseEntity.ok(Boolean.TRUE);\r\n  }\r\n}`\r\n```\r\n`\r\n\r\n\r\nI tried to mock producer template but not able to fix.","title":"How to write Junit5 test cases in Springboot for apache camel Producer Template sendBodyAndHeader() to publish a json event to kafka","body":"<p>Need a help to write junit5 test case in springboot for a post api where it uses apache camel producer template to send message to kafka. Please find the controller class details for which junit test cases are required. Note-I don't have any service/repository layer for this.This is standalone controller which is responsible to publish message to kafka by using camel producer template.Thanks is advance.</p>\n<p><strong>Controller Class--&gt;</strong></p>\n<pre><code>`\n`import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.rms.inventory.savr.audit.model.AuditInfo;\nimport java.util.Map;\nimport javax.annotation.PostConstruct;\nimport org.apache.camel.ProducerTemplate;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestHeader;\nimport org.springframework.web.bind.annotation.RestController;\n@RestController\npublic class MockKafkaProducerController {\n  @Autowired ProducerTemplate producerTemplate;\n  @Value(&quot;${audit.inbound.endpoint.kafka.uri:audit-json-topic}&quot;)\n  private String auditTopicKafka;\n  @Value(&quot;${camel.component.kafka.consumer.supply}&quot;)\n  private String supplyLineUpdateKafkaTopic;\n  @Value(&quot;${camel.component.kafka.consumer.demand}&quot;)\n  private String demandLineUpdateKafkaTopic;\n  @Value(&quot;${camel.component.kafka.consumer.supply-bucket}&quot;)\n  private String supplybucketTopicKafka;\n  @Value(&quot;${camel.component.kafka.consumer.demand-bucket}&quot;)\n  private String demandbucketTopicKafka;\n  @Value(&quot;${camel.component.kafka.consumer.availability}&quot;)\n  private String availabilityTopicKafka;\n  private Map&lt;String, String&gt; dataTypeTopicMap;\n  @PostConstruct\n  void init() {\n    dataTypeTopicMap =\n        Map.of(\n            &quot;SUPPLY_LINE&quot;,\n            supplyLineUpdateKafkaTopic,\n            &quot;SUPPLY_BUCKET&quot;,\n            supplybucketTopicKafka,\n            &quot;DEMAND_LINE&quot;,\n            demandLineUpdateKafkaTopic,\n            &quot;DEMAND_BUCKET&quot;,\n            demandbucketTopicKafka,\n            &quot;AVAILABILITY&quot;,\n            availabilityTopicKafka);\n  }\n  @PostMapping(&quot;/api/mock/producer&quot;)\n  public ResponseEntity&lt;Boolean&gt; saveAuditInfo(@RequestBody AuditInfo auditInfo)\n  public ResponseEntity&lt;Boolean&gt; saveAuditInfo(\n      @RequestBody AuditInfo auditInfo, @RequestHeader(&quot;AUDIT_TYPE&quot;) String auditType)\n      throws JsonProcessingException {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.findAndRegisterModules();\n    if (auditType == null || auditType.isEmpty()) {\n      auditType = &quot;SUPPLY_LINE&quot;;\n    }\n    String topicName = dataTypeTopicMap.get(auditType);\n    //  producerTemplate.\n    producerTemplate.sendBodyAndHeader(\n        auditTopicKafka, objectMapper.writeValueAsString(auditInfo), &quot;messageFormat&quot;, &quot;CANONICAL&quot;);\n        topicName, objectMapper.writeValueAsString(auditInfo), &quot;messageFormat&quot;, &quot;CANONICAL&quot;);\n    return ResponseEntity.ok(Boolean.TRUE);\n  }\n  @PostMapping(&quot;/api/inventory/audit/mock/producer&quot;)\n  public ResponseEntity&lt;Boolean&gt; publishInventoryAudit(@RequestBody String auditInfo)\n  public ResponseEntity&lt;Boolean&gt; publishInventoryAudit(\n      @RequestBody String auditInfo, @RequestHeader(&quot;AUDIT_TYPE&quot;) String auditType)\n      throws JsonProcessingException {\n    producerTemplate.sendBody(auditTopicKafka, auditInfo);\n    if (auditType == null || auditType.isEmpty()) {\n      auditType = &quot;SUPPLY_LINE&quot;;\n    }\n    String topicName = dataTypeTopicMap.get(auditType);\n    producerTemplate.sendBody(topicName, auditInfo);\n    return ResponseEntity.ok(Boolean.TRUE);\n  }\n}`\n</code></pre>\n<p>`</p>\n<p>I tried to mock producer template but not able to fix.</p>\n"},{"tags":["java","python","django","docker","codenarc"],"answers":[{"tags":[],"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569073355,"creation_date":1569073355,"answer_id":58040875,"question_id":58040314,"body_markdown":"There is nothing wrong with the way you have the tool set up now, without Docker, and I would keep doing what you&#39;re doing unless you&#39;re trying to address some specific problem with it.\r\n\r\nWhen you write out the problem description as &quot;browse the file system&quot;, &quot;exports into files&quot;, &quot;run a jar file&quot;, this isn&#39;t an architecture that works well in Docker.  Sharing files between containers is tricky (requires startup-time options, there are lurking permission issues), one container can&#39;t directly run a command in another, and one container can&#39;t start another container without being trusted with unrestricted root-level access over the whole system.\r\n\r\nRebuilding this into a form that would work well with Docker would involve some reengineering, that&#39;s kind of secondary to the actual problem you&#39;re trying to solve.  Two typical approaches:\r\n\r\n1. Instead of the Java tool being a tool that&#39;s run once and exits, make it be a long-running process with an HTTP interface.  The Django front-end would HTTP POST a file it wants processed, and get the results back in the HTTP response.\r\n\r\n2. Deploy a job queue like RabbitMQ.  When the Django application has a file it wants processed, it posts it into the job queue.  Wrap the Java tool in a worker that reads from the request queue, does its processing, and writes to a response queue.  The Django application is then able to pick up the response.\r\n\r\nThe last option is &quot;most industrial&quot; -- if you needed to process thousands of files  at a time, scale up and down the number of Java workers you had based on the workload, and generally run this as a production network service, it&#39;s a good way to go.  That doesn&#39;t sound like the scale you&#39;re aiming for.\r\n\r\nFinally: you should _never_ `eval()` anything, and you should _especially_ never `eval()` something you&#39;re getting from an HTTP request.  That&#39;s a massive security disaster waiting to happen.  (Anyone who can reach your service would be able to read or write any file your service could, and potentially even change the code the service is running; this could very easily become a scenario where someone takes over your entire system.)","title":"How to manage Java and Python apps on docker?","body":"<p>There is nothing wrong with the way you have the tool set up now, without Docker, and I would keep doing what you're doing unless you're trying to address some specific problem with it.</p>\n\n<p>When you write out the problem description as \"browse the file system\", \"exports into files\", \"run a jar file\", this isn't an architecture that works well in Docker.  Sharing files between containers is tricky (requires startup-time options, there are lurking permission issues), one container can't directly run a command in another, and one container can't start another container without being trusted with unrestricted root-level access over the whole system.</p>\n\n<p>Rebuilding this into a form that would work well with Docker would involve some reengineering, that's kind of secondary to the actual problem you're trying to solve.  Two typical approaches:</p>\n\n<ol>\n<li><p>Instead of the Java tool being a tool that's run once and exits, make it be a long-running process with an HTTP interface.  The Django front-end would HTTP POST a file it wants processed, and get the results back in the HTTP response.</p></li>\n<li><p>Deploy a job queue like RabbitMQ.  When the Django application has a file it wants processed, it posts it into the job queue.  Wrap the Java tool in a worker that reads from the request queue, does its processing, and writes to a response queue.  The Django application is then able to pick up the response.</p></li>\n</ol>\n\n<p>The last option is \"most industrial\" -- if you needed to process thousands of files  at a time, scale up and down the number of Java workers you had based on the workload, and generally run this as a production network service, it's a good way to go.  That doesn't sound like the scale you're aiming for.</p>\n\n<p>Finally: you should <em>never</em> <code>eval()</code> anything, and you should <em>especially</em> never <code>eval()</code> something you're getting from an HTTP request.  That's a massive security disaster waiting to happen.  (Anyone who can reach your service would be able to read or write any file your service could, and potentially even change the code the service is running; this could very easily become a scenario where someone takes over your entire system.)</p>\n"}],"owner":{"account_id":16739235,"reputation":1,"user_id":12099422,"display_name":"magsul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674974960,"creation_date":1569069186,"question_id":58040314,"body_markdown":"I have a Python app based on Django that I run over a docker container. The app browses the file system and does analysis on some XML files and extracts embedded source code and exports that into separate files. \r\n\r\nThe app should run a Java jar file that does static code analysis on files generated by the Django web app.\r\n\r\nI thought of isolating both parts of the whole platform. The Python Django part is on a container, the jar file (it&#39;s an open source tool) runs on another alpine container. \r\n\r\nNow I want to continue development of the tool and make the Django app run the tool through a command on each file that&#39;s generated that contains source code. \r\n\r\n- Should I create another Django wrapper on the jar file to expose some endpoints so that the first container could run it? And possibly make the wrapper handle a GET request that would use `eval()` to run the tool?\r\n- Is there another way I could enhance this architecture?\r\n\r\nEdit: The tool I&#39;m using: https://github.com/AbletonDevTools/groovylint","title":"How to manage Java and Python apps on docker?","body":"<p>I have a Python app based on Django that I run over a docker container. The app browses the file system and does analysis on some XML files and extracts embedded source code and exports that into separate files. </p>\n\n<p>The app should run a Java jar file that does static code analysis on files generated by the Django web app.</p>\n\n<p>I thought of isolating both parts of the whole platform. The Python Django part is on a container, the jar file (it's an open source tool) runs on another alpine container. </p>\n\n<p>Now I want to continue development of the tool and make the Django app run the tool through a command on each file that's generated that contains source code. </p>\n\n<ul>\n<li>Should I create another Django wrapper on the jar file to expose some endpoints so that the first container could run it? And possibly make the wrapper handle a GET request that would use <code>eval()</code> to run the tool?</li>\n<li>Is there another way I could enhance this architecture?</li>\n</ul>\n\n<p>Edit: The tool I'm using: <a href=\"https://github.com/AbletonDevTools/groovylint\" rel=\"nofollow noreferrer\">https://github.com/AbletonDevTools/groovylint</a></p>\n"},{"tags":["java","android","loops","android-studio","android-mediaplayer"],"comments":[{"owner":{"account_id":11500679,"reputation":276,"user_id":8428570,"display_name":"Syed Muhammad Zeejah Hashmi ze"},"score":1,"creation_date":1674974079,"post_id":75272971,"comment_id":132826030,"body_markdown":"setLooping to true means that the music file will run continuously without stopping and OnCompleteListener will trigger only when the specific music file will complete its time like suppose file in 1 min and when 1 mint reach onCompleteListener triggers","body":"setLooping to true means that the music file will run continuously without stopping and OnCompleteListener will trigger only when the specific music file will complete its time like suppose file in 1 min and when 1 mint reach onCompleteListener triggers"}],"owner":{"account_id":19402080,"reputation":39,"user_id":14188414,"display_name":"Deepak Bhatt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674974034,"creation_date":1674973253,"question_id":75272971,"body_markdown":"I am a beginner to android studio and currently i&#39;m learning creating a musicplayer , so i had a doubt what to use for looping the music, \r\nmediaPlayer.setLooping(true) or setOnCompletionListener.","title":"difference between mediaplayer.setLooping and setOnCompleteListener in android studio","body":"<p>I am a beginner to android studio and currently i'm learning creating a musicplayer , so i had a doubt what to use for looping the music,\nmediaPlayer.setLooping(true) or setOnCompletionListener.</p>\n"},{"tags":["java","jsp","import"],"answers":[{"comments":[{"owner":{"account_id":11380972,"reputation":53,"user_id":8343887,"display_name":"Venki"},"score":0,"creation_date":1501751043,"post_id":45477873,"comment_id":77919613,"body_markdown":"Images are not displaying from above code. I am getting this error HTTP Status 500 - An exception occurred processing JSP page  showing with for loop line. pls help","body":"Images are not displaying from above code. I am getting this error HTTP Status 500 - An exception occurred processing JSP page  showing with for loop line. pls help"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1501751378,"post_id":45477873,"comment_id":77919876,"body_markdown":"Please open a different question","body":"Please open a different question"}],"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1501746132,"creation_date":1501746132,"answer_id":45477873,"question_id":45477426,"body_markdown":"Your import are wrong, List/ArrayList are classes and not packages so you need to remove .*\r\n\r\n    &lt;%@ page import =&quot;java.util.ArrayList&quot;%&gt;\r\n    &lt;%@ page import =&quot;java.util.List&quot;%&gt;","title":"List cannot be resolved in jsp","body":"<p>Your import are wrong, List/ArrayList are classes and not packages so you need to remove .*</p>\n\n<pre><code>&lt;%@ page import =\"java.util.ArrayList\"%&gt;\n&lt;%@ page import =\"java.util.List\"%&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675156343,"post_id":75272982,"comment_id":132862737,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75272982/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27647353,"reputation":1,"user_id":21102960,"display_name":"ABHAY MISHRA"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674973377,"creation_date":1674973377,"answer_id":75272982,"question_id":45477426,"body_markdown":"remove asterik(*)\r\n&lt;%@ page import =&quot;java.util.ArrayList&quot;%&gt;\r\n&lt;%@ page import =&quot;java.util.List&quot;%&gt;","title":"List cannot be resolved in jsp","body":"<p>remove asterik(*)\n&lt;%@ page import =&quot;java.util.ArrayList&quot;%&gt;\n&lt;%@ page import =&quot;java.util.List&quot;%&gt;</p>\n"}],"owner":{"account_id":11380972,"reputation":53,"user_id":8343887,"display_name":"Venki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11278,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"accepted_answer_id":45477873,"answer_count":2,"score":1,"last_activity_date":1674973377,"creation_date":1501744826,"question_id":45477426,"body_markdown":"Below code is for display an images from server folder but List is showing cannot be resolved type. Uploaded the images into the folder using the servlet code &quot;private static final String UPLOAD_DIRECTORY = &quot;upload&quot;;&quot; now i want display all the images to jsp page. please help\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;%@ page import =&quot;java.io.*&quot;%&gt;;\r\n    &lt;%@ page import =&quot;java.io.File.*&quot;%&gt;;\r\n    &lt;%@ page import=&quot;java.sql.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;javax.sql.*&quot;%&gt;\r\n    &lt;%@ page import =&quot;java.util.ArrayList.*&quot;%&gt;\r\n    &lt;%@ page import =&quot;java.util.List.*&quot;%&gt;\r\n\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n            &lt;title&gt;File Upload Example&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt; \r\n            &lt;div id=&quot;result&quot;&gt;\r\n                &lt;h3&gt;${requestScope[&quot;message&quot;]}&lt;/h3&gt;\r\n            &lt;/div&gt;\r\n\r\n            &lt;%\r\n                List imageUrlList = new ArrayList(); //List cannot be resolved type\r\n                File imageDir = new File(&quot;Upload&quot;);\r\n                for (File imageFile : imageDir.listFiles()) {\r\n                    String imageFileName = imageFile.getName();\r\n\r\n                    // add this images name to the list we are building up  \r\n                    imageUrlList.add(imageFileName);\r\n\r\n                }\r\n                request.setAttribute(&quot;imageUrlList&quot;, imageUrlList);\r\n            %&gt;\r\n        &lt;c:forEach var=&quot;img&quot; items=&quot;${imageUrlList}&quot;&gt;  \r\n            &lt;img src=&quot;${imageUrlList}&quot;/&gt;  \r\n        &lt;/c:forEach&gt;\r\n\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n ","title":"List cannot be resolved in jsp","body":"<p>Below code is for display an images from server folder but List is showing cannot be resolved type. Uploaded the images into the folder using the servlet code \"private static final String UPLOAD_DIRECTORY = \"upload\";\" now i want display all the images to jsp page. please help</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;%@ page import =\"java.io.*\"%&gt;;\n&lt;%@ page import =\"java.io.File.*\"%&gt;;\n&lt;%@ page import=\"java.sql.*\"%&gt;\n&lt;%@ page import=\"javax.sql.*\"%&gt;\n&lt;%@ page import =\"java.util.ArrayList.*\"%&gt;\n&lt;%@ page import =\"java.util.List.*\"%&gt;\n\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n        &lt;title&gt;File Upload Example&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt; \n        &lt;div id=\"result\"&gt;\n            &lt;h3&gt;${requestScope[\"message\"]}&lt;/h3&gt;\n        &lt;/div&gt;\n\n        &lt;%\n            List imageUrlList = new ArrayList(); //List cannot be resolved type\n            File imageDir = new File(\"Upload\");\n            for (File imageFile : imageDir.listFiles()) {\n                String imageFileName = imageFile.getName();\n\n                // add this images name to the list we are building up  \n                imageUrlList.add(imageFileName);\n\n            }\n            request.setAttribute(\"imageUrlList\", imageUrlList);\n        %&gt;\n    &lt;c:forEach var=\"img\" items=\"${imageUrlList}\"&gt;  \n        &lt;img src=\"${imageUrlList}\"/&gt;  \n    &lt;/c:forEach&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n\n"},{"tags":["java","int","bluej"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1380607740,"post_id":19109131,"comment_id":28254637,"body_markdown":"You&#39;re trying to using a `int` where an `Integer`, `Number` or `Object` is expected...`int` does not have any methods","body":"You&#39;re trying to using a <code>int</code> where an <code>Integer</code>, <code>Number</code> or <code>Object</code> is expected...<code>int</code> does not have any methods"}],"answers":[{"comments":[{"owner":{"account_id":19366265,"reputation":1560,"user_id":14160477,"display_name":"Roy Cohen"},"score":1,"creation_date":1607018008,"post_id":19109169,"comment_id":115147239,"body_markdown":"What can I do if I need to use `Integer.compareTo`?","body":"What can I do if I need to use <code>Integer.compareTo</code>?"},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1645276724,"post_id":19109169,"comment_id":125830751,"body_markdown":"@RoyCohen [java - compareTo with primitives -&gt; Integer / int - Stack Overflow](https://stackoverflow.com/questions/9150446/compareto-with-primitives-integer-int)","body":"@RoyCohen <a href=\"https://stackoverflow.com/questions/9150446/compareto-with-primitives-integer-int\">java - compareTo with primitives -&gt; Integer / int - Stack Overflow</a>"}],"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1458703427,"creation_date":1380607845,"answer_id":19109169,"question_id":19109131,"body_markdown":"`id` is of primitive type `int` and not an `Object`. You cannot call methods on a primitive as you are doing here :\r\n\r\n    id.equals\r\n\r\nTry replacing this:\r\n\r\n            if (id.equals(list[pos].getItemNumber())){ //Getting error on &quot;equals&quot;\r\n\r\nwith\r\n\r\n            if (id == list[pos].getItemNumber()){ //Getting error on &quot;equals&quot;\r\n","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p><code>id</code> is of primitive type <code>int</code> and not an <code>Object</code>. You cannot call methods on a primitive as you are doing here :</p>\n\n<pre><code>id.equals\n</code></pre>\n\n<p>Try replacing this:</p>\n\n<pre><code>        if (id.equals(list[pos].getItemNumber())){ //Getting error on \"equals\"\n</code></pre>\n\n<p>with</p>\n\n<pre><code>        if (id == list[pos].getItemNumber()){ //Getting error on \"equals\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380607847,"creation_date":1380607847,"answer_id":19109173,"question_id":19109131,"body_markdown":"Assuming `getItemNumber()` returns an `int`, replace \r\n\r\n`if (id.equals(list[pos].getItemNumber()))` \r\n\r\nwith \r\n\r\n`if (id == list[pos].getItemNumber())`","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>Assuming <code>getItemNumber()</code> returns an <code>int</code>, replace </p>\n\n<p><code>if (id.equals(list[pos].getItemNumber()))</code> </p>\n\n<p>with </p>\n\n<p><code>if (id == list[pos].getItemNumber())</code></p>\n"},{"comments":[{"owner":{"account_id":433268,"reputation":5782,"user_id":818506,"accept_rate":82,"display_name":"rohan-patel"},"score":0,"creation_date":1389328833,"post_id":19109177,"comment_id":31625021,"body_markdown":"One doubt: == compares reference for objects and compares values for primitives, right? Please correct if I am wrong.","body":"One doubt: == compares reference for objects and compares values for primitives, right? Please correct if I am wrong."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1389328877,"post_id":19109177,"comment_id":31625033,"body_markdown":"Yes. Primitives are special.","body":"Yes. Primitives are special."},{"owner":{"account_id":433268,"reputation":5782,"user_id":818506,"accept_rate":82,"display_name":"rohan-patel"},"score":0,"creation_date":1389329206,"post_id":19109177,"comment_id":31625128,"body_markdown":"Actually studying interface I received this error and googling brought me to this answer. Kindly look if you can:\n\n`error:int cannot be dereferenced`\n   `System.out.println(&quot;A  = &quot; + A.AB);`\n                                 \nThe class in which SOP is called implements one `interface C` and A is super interface of C. int AB is defined in both interface. Error occurs at `A.AB`.","body":"Actually studying interface I received this error and googling brought me to this answer. Kindly look if you can:  <code>error:int cannot be dereferenced</code>    <code>System.out.println(&quot;A  = &quot; + A.AB);</code>                                   The class in which SOP is called implements one <code>interface C</code> and A is super interface of C. int AB is defined in both interface. Error occurs at <code>A.AB</code>."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1389329563,"post_id":19109177,"comment_id":31625247,"body_markdown":"`int AB` can&#39;t be declared in any `interface`, it could only possibly be declared within a `class`...","body":"<code>int AB</code> can&#39;t be declared in any <code>interface</code>, it could only possibly be declared within a <code>class</code>..."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1380607859,"creation_date":1380607859,"answer_id":19109177,"question_id":19109131,"body_markdown":"Basically, you&#39;re trying to use `int` as if it was an `Object`, which it isn&#39;t (well...it&#39;s complicated)\r\n\r\n    id.equals(list[pos].getItemNumber())\r\n\r\nShould be...\r\n\r\n    id == list[pos].getItemNumber()","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>Basically, you're trying to use <code>int</code> as if it was an <code>Object</code>, which it isn't (well...it's complicated)</p>\n\n<pre><code>id.equals(list[pos].getItemNumber())\n</code></pre>\n\n<p>Should be...</p>\n\n<pre><code>id == list[pos].getItemNumber()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380607862,"creation_date":1380607862,"answer_id":19109178,"question_id":19109131,"body_markdown":"Change\r\n\r\n    id.equals(list[pos].getItemNumber())\r\n\r\nto\r\n\r\n    id == list[pos].getItemNumber()\r\n\r\nFor more details, you should learn the difference between the primitive types like `int`, `char`, and `double` and reference types.","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>Change</p>\n\n<pre><code>id.equals(list[pos].getItemNumber())\n</code></pre>\n\n<p>to</p>\n\n<pre><code>id == list[pos].getItemNumber()\n</code></pre>\n\n<p>For more details, you should learn the difference between the primitive types like <code>int</code>, <code>char</code>, and <code>double</code> and reference types.</p>\n"},{"tags":[],"owner":{"account_id":1082506,"reputation":3218,"user_id":1079103,"accept_rate":79,"display_name":"Ali Hashemi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1380607966,"creation_date":1380607966,"answer_id":19109203,"question_id":19109131,"body_markdown":"try \r\n\r\n    id == list[pos].getItemNumber()\r\n\r\ninstead of \r\n\r\n    id.equals(list[pos].getItemNumber()","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>try </p>\n\n<pre><code>id == list[pos].getItemNumber()\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>id.equals(list[pos].getItemNumber()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8944815,"reputation":59,"user_id":6672659,"display_name":"Ashit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529765967,"creation_date":1529765967,"answer_id":51002364,"question_id":19109131,"body_markdown":"As your methods an int datatype, you should use &quot;==&quot; instead of equals()\r\n\r\ntry replacing this \r\n    if (id.equals(list[pos].getItemNumber()))\r\n\r\nwith\r\n\r\n    if (id.equals==list[pos].getItemNumber())\r\n\r\nit will fix the error .","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>As your methods an int datatype, you should use \"==\" instead of equals()</p>\n\n<p>try replacing this \n    if (id.equals(list[pos].getItemNumber()))</p>\n\n<p>with</p>\n\n<pre><code>if (id.equals==list[pos].getItemNumber())\n</code></pre>\n\n<p>it will fix the error .</p>\n"},{"tags":[],"owner":{"account_id":19405565,"reputation":161,"user_id":14191108,"display_name":"Ashwani Kumar Kushwaha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645420834,"creation_date":1645420834,"answer_id":71201539,"question_id":19109131,"body_markdown":"Dereferencing is the process of accessing the value referred to by a reference . Since, int is already a value (not a reference), it can not be dereferenced.\r\nso u need to replace your code (.) to(==).","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>Dereferencing is the process of accessing the value referred to by a reference . Since, int is already a value (not a reference), it can not be dereferenced.\nso u need to replace your code (.) to(==).</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675115267,"post_id":75272963,"comment_id":132855751,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75272963/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25234700,"reputation":1,"user_id":19069400,"display_name":"Ujjwal Pal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674973100,"creation_date":1674973100,"answer_id":75272963,"question_id":19109131,"body_markdown":"I think you are getting this error in the initialization of the Integer somewhere","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>I think you are getting this error in the initialization of the Integer somewhere</p>\n"}],"owner":{"account_id":2042096,"reputation":613,"user_id":1822998,"accept_rate":89,"display_name":"BBladem83"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307145,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":19109169,"answer_count":8,"score":38,"last_activity_date":1674973100,"creation_date":1380607704,"question_id":19109131,"body_markdown":"I&#39;m fairly new to Java and I&#39;m using BlueJ. I keep getting this &quot;Int cannot be dereferenced&quot; error when trying to compile and I&#39;m not sure what the problem is.  The error is specifically happening in my if statement at the bottom, where it says &quot;equals&quot; is an error and &quot;int cannot be dereferenced.&quot; Hope to get some assistance as I have no idea what to do. Thank you in advance!\r\n\r\n\r\n\r\n    public class Catalog {\r\n        private Item[] list;\r\n        private int size;\r\n    \r\n        // Construct an empty catalog with the specified capacity.\r\n        public Catalog(int max) {\r\n            list = new Item[max];\r\n            size = 0;\r\n        }\r\n    \r\n        // Insert a new item into the catalog.\r\n        // Throw a CatalogFull exception if the catalog is full.\r\n        public void insert(Item obj) throws CatalogFull {\r\n            if (list.length == size) {\r\n                throw new CatalogFull();\r\n            }\r\n            list[size] = obj;\r\n            ++size;\r\n        }\r\n    \r\n        // Search the catalog for the item whose item number\r\n        // is the parameter id.  Return the matching object \r\n        // if the search succeeds.  Throw an ItemNotFound\r\n        // exception if the search fails.\r\n        public Item find(int id) throws ItemNotFound {\r\n            for (int pos = 0; pos &lt; size; ++pos){\r\n                if (id.equals(list[pos].getItemNumber())){ //Getting error on &quot;equals&quot;\r\n                    return list[pos];\r\n                }\r\n                else {\r\n                    throw new ItemNotFound();\r\n                }\r\n            }\r\n        }\r\n    }","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>I'm fairly new to Java and I'm using BlueJ. I keep getting this \"Int cannot be dereferenced\" error when trying to compile and I'm not sure what the problem is.  The error is specifically happening in my if statement at the bottom, where it says \"equals\" is an error and \"int cannot be dereferenced.\" Hope to get some assistance as I have no idea what to do. Thank you in advance!</p>\n\n<pre><code>public class Catalog {\n    private Item[] list;\n    private int size;\n\n    // Construct an empty catalog with the specified capacity.\n    public Catalog(int max) {\n        list = new Item[max];\n        size = 0;\n    }\n\n    // Insert a new item into the catalog.\n    // Throw a CatalogFull exception if the catalog is full.\n    public void insert(Item obj) throws CatalogFull {\n        if (list.length == size) {\n            throw new CatalogFull();\n        }\n        list[size] = obj;\n        ++size;\n    }\n\n    // Search the catalog for the item whose item number\n    // is the parameter id.  Return the matching object \n    // if the search succeeds.  Throw an ItemNotFound\n    // exception if the search fails.\n    public Item find(int id) throws ItemNotFound {\n        for (int pos = 0; pos &lt; size; ++pos){\n            if (id.equals(list[pos].getItemNumber())){ //Getting error on \"equals\"\n                return list[pos];\n            }\n            else {\n                throw new ItemNotFound();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1674966446,"post_id":75272580,"comment_id":132825433,"body_markdown":"&quot;how would a sealed class know beforehand which classes it should permit for extension?&quot; The whole point of this is that sealed classes *do not* permit external extension, so that client code knows that variables of a sealed class can only contain instances of a fixed set of classes.","body":"&quot;how would a sealed class know beforehand which classes it should permit for extension?&quot; The whole point of this is that sealed classes <i>do not</i> permit external extension, so that client code knows that variables of a sealed class can only contain instances of a fixed set of classes."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675076276,"post_id":75272580,"comment_id":132843347,"body_markdown":"The permitted classes must be in the same package or module, so there are no permitted classes outside the hypothetical library.","body":"The permitted classes must be in the same package or module, so there are no permitted classes outside the hypothetical library."}],"answers":[{"comments":[{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":6,"creation_date":1675040499,"post_id":75272899,"comment_id":132836739,"body_markdown":"This is a nice answer, but I have to correct your claim that `sealed` &quot;originated&quot; with Scala.  It was seen in the Dylan language in the early 90s (a decade before Scala was a thing) and almost surely goes back much farther.  (As with most concepts in programming languages, the first place we saw them is unlikely to be the first place they showed up.)","body":"This is a nice answer, but I have to correct your claim that <code>sealed</code> &quot;originated&quot; with Scala.  It was seen in the Dylan language in the early 90s (a decade before Scala was a thing) and almost surely goes back much farther.  (As with most concepts in programming languages, the first place we saw them is unlikely to be the first place they showed up.)"}],"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1674972088,"creation_date":1674972088,"answer_id":75272899,"question_id":75272580,"body_markdown":"`sealed` classes provide the opposite guarantee to open classes (the default in Java). An open class says to implementors &quot;Hey, you can subclass me and override my non-`final` methods&quot;, but it says to *users* &quot;I have no idea what subclasses look like, so you can only use my own methods directly&quot;. On the flipside, `sealed` classes are very restrictive to implementors &quot;You cannot subclass me, and you can only use me in these prescribed ways&quot;, but very powerful to users: &quot;I know in advance all of my subclasses, so you know that if you have an instance of me, then it must be one of X, Y, or Z&quot;. Consequently, adding a subclass to a `sealed` class is a breaking change.\r\n\r\nIt may be helpful to think of `sealed` classes less as &quot;restricted classes&quot; and more as &quot;enums with superpowers&quot;. An `enum` in Java is a finite set of data values, all constructed in advance. A `sealed class` is a finite set of *classes* that you set forth, but those classes may have an infinite number of possible instances.\r\n\r\nHere&#39;s a real-world example that I wrote myself recently. This was in Kotlin, which also has `sealed` classes, but it&#39;s the same idea. I was writing a wrapper for some Minecraft code and I needed a class that could uniformly represent all of the ways you can die in Minecraft. Long story short, I ended up partitioning the death reasons into &quot;killed by another living thing&quot; and &quot;all other death reasons&quot;. So I wrote a sealed interface `CauseOfDeath`. Its two implementors were `VanillaDeath` (which took a &quot;cause of damage&quot; as its constructor argument, basically an enum listing all of the possible causes) and `VanillaMobDeath` (which took the specific entity that killed you as its constructor argument).\r\n\r\nSince this was clearly exhaustive, I made it `sealed`. If Minecraft later adds more death reasons, they will fit into one of the two categories (&quot;death by entity&quot; or &quot;death by other causes&quot;), so it makes no sense for me or anyone else to ever subclass this interface again.\r\n\r\nFurther, since I&#39;m providing very strong guarantees about the type of death reason, it&#39;s reasonable for users to discriminate based on type. Downcasting in Java has always been a bit of a code smell, on the basis that it can&#39;t possibly know every possible subclass of a class. The logic is &quot;okay, you&#39;ve handled cases X and Y, but what if someone comes along and writes class Z that you&#39;ve never heard of&quot;. But that can&#39;t happen here. The class is sealed, so it&#39;s perfectly reasonable for someone to write a sort of pseudo-visitor that does one thing for &quot;death by entity&quot; and another for &quot;death by other&quot;, since Java (or Kotlin, in my case) can be fully confident that there are not, and never will be, any other possibilities.\r\n\r\nThis makes more sense as well if you&#39;ve used algebraic data types in Haskell or OCaml. The `sealed` keyword originated in Scala as a way to encode ADTs, and they&#39;re exactly what I just described: a type defined as the (tagged) union of a finite number of possible collections of data. And in Haskell and OCaml, it&#39;s entirely normal to discriminate on ADTs as well using `match` (or `case`) expressions.","title":"Java 17 Sealed Classes Business Use Case","body":"<p><code>sealed</code> classes provide the opposite guarantee to open classes (the default in Java). An open class says to implementors &quot;Hey, you can subclass me and override my non-<code>final</code> methods&quot;, but it says to <em>users</em> &quot;I have no idea what subclasses look like, so you can only use my own methods directly&quot;. On the flipside, <code>sealed</code> classes are very restrictive to implementors &quot;You cannot subclass me, and you can only use me in these prescribed ways&quot;, but very powerful to users: &quot;I know in advance all of my subclasses, so you know that if you have an instance of me, then it must be one of X, Y, or Z&quot;. Consequently, adding a subclass to a <code>sealed</code> class is a breaking change.</p>\n<p>It may be helpful to think of <code>sealed</code> classes less as &quot;restricted classes&quot; and more as &quot;enums with superpowers&quot;. An <code>enum</code> in Java is a finite set of data values, all constructed in advance. A <code>sealed class</code> is a finite set of <em>classes</em> that you set forth, but those classes may have an infinite number of possible instances.</p>\n<p>Here's a real-world example that I wrote myself recently. This was in Kotlin, which also has <code>sealed</code> classes, but it's the same idea. I was writing a wrapper for some Minecraft code and I needed a class that could uniformly represent all of the ways you can die in Minecraft. Long story short, I ended up partitioning the death reasons into &quot;killed by another living thing&quot; and &quot;all other death reasons&quot;. So I wrote a sealed interface <code>CauseOfDeath</code>. Its two implementors were <code>VanillaDeath</code> (which took a &quot;cause of damage&quot; as its constructor argument, basically an enum listing all of the possible causes) and <code>VanillaMobDeath</code> (which took the specific entity that killed you as its constructor argument).</p>\n<p>Since this was clearly exhaustive, I made it <code>sealed</code>. If Minecraft later adds more death reasons, they will fit into one of the two categories (&quot;death by entity&quot; or &quot;death by other causes&quot;), so it makes no sense for me or anyone else to ever subclass this interface again.</p>\n<p>Further, since I'm providing very strong guarantees about the type of death reason, it's reasonable for users to discriminate based on type. Downcasting in Java has always been a bit of a code smell, on the basis that it can't possibly know every possible subclass of a class. The logic is &quot;okay, you've handled cases X and Y, but what if someone comes along and writes class Z that you've never heard of&quot;. But that can't happen here. The class is sealed, so it's perfectly reasonable for someone to write a sort of pseudo-visitor that does one thing for &quot;death by entity&quot; and another for &quot;death by other&quot;, since Java (or Kotlin, in my case) can be fully confident that there are not, and never will be, any other possibilities.</p>\n<p>This makes more sense as well if you've used algebraic data types in Haskell or OCaml. The <code>sealed</code> keyword originated in Scala as a way to encode ADTs, and they're exactly what I just described: a type defined as the (tagged) union of a finite number of possible collections of data. And in Haskell and OCaml, it's entirely normal to discriminate on ADTs as well using <code>match</code> (or <code>case</code>) expressions.</p>\n"}],"owner":{"account_id":16243302,"reputation":98,"user_id":11729079,"display_name":"bakarJc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75272899,"answer_count":1,"score":6,"last_activity_date":1674972088,"creation_date":1674966093,"question_id":75272580,"body_markdown":"Java 17 has introduced sealed classes which can permit only specific classes to extend them and would otherwise be final\r\n\r\nI understand the technical use-case, but can&#39;t think of any real life use cases where this would be useful?\r\n\r\nWhen would we want only specific classes to be able to extend a particular class?\r\n\r\nIn our own projects, if we want a new class to extend the sealed class can&#39;t we just add it to the permitted classes? Wouldn&#39;t it be better to just not make the class final or sealed in that case to avoid the slight overhead?\r\n\r\nOn the other hand, while exposing a library for external use how would a sealed class know beforehand which classes it should permit for extension?","title":"Java 17 Sealed Classes Business Use Case","body":"<p>Java 17 has introduced sealed classes which can permit only specific classes to extend them and would otherwise be final</p>\n<p>I understand the technical use-case, but can't think of any real life use cases where this would be useful?</p>\n<p>When would we want only specific classes to be able to extend a particular class?</p>\n<p>In our own projects, if we want a new class to extend the sealed class can't we just add it to the permitted classes? Wouldn't it be better to just not make the class final or sealed in that case to avoid the slight overhead?</p>\n<p>On the other hand, while exposing a library for external use how would a sealed class know beforehand which classes it should permit for extension?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":18064369,"reputation":48575,"user_id":13130697,"display_name":"Dharmaraj"},"score":0,"creation_date":1674970629,"post_id":75270186,"comment_id":132825717,"body_markdown":"`android-studio` tag is used for questions related to the IDE itself. Please use `android` only for app related issues.","body":"<code>android-studio</code> tag is used for questions related to the IDE itself. Please use <code>android</code> only for app related issues."}],"answers":[{"tags":[],"owner":{"account_id":18064369,"reputation":48575,"user_id":13130697,"display_name":"Dharmaraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674970599,"creation_date":1674970599,"answer_id":75272821,"question_id":75270186,"body_markdown":"The `booksList.add(bt);` just adds book title in adapter view&#39;s list so `getItemAtPosition()` will return the book title itself and not the document data. One way would be to store the document data in a separate list as shown below:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    FirebaseFirestore db;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        db = FirebaseFirestore.getInstance();\r\n\r\n        Spinner spinner = findViewById(R.id.spinner);\r\n        TextView priceTextView = findViewById(R.id.price);\r\n\r\n        // List to store all document&#39;s data\r\n        List&lt;QueryDocumentSnapshot&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_item, new ArrayList&lt;&gt;());\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapter);\r\n\r\n        CollectionReference colRef = db.collection(&quot;books&quot;);\r\n        colRef.get().addOnCompleteListener(task -&gt; {\r\n            if (task.isSuccessful()) {\r\n                for (QueryDocumentSnapshot document : task.getResult()) {\r\n                    adapter.add(document.getString(&quot;Title&quot;));\r\n                    list.add(document); // &lt;-- add document to list\r\n                }\r\n            } else {\r\n                Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n            }\r\n            adapter.notifyDataSetChanged();\r\n        });\r\n\r\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, android.view.View view, int position, long id) {\r\n                // Get book data from the list by position\r\n                QueryDocumentSnapshot book = list.get(position);\r\n                priceTextView.setText(String.valueOf(book.get(&quot;Price&quot;)));\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n                Log.d(TAG, &quot;Nothing selected&quot;);\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"How I show the other field of selected item in document","body":"<p>The <code>booksList.add(bt);</code> just adds book title in adapter view's list so <code>getItemAtPosition()</code> will return the book title itself and not the document data. One way would be to store the document data in a separate list as shown below:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    FirebaseFirestore db;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        db = FirebaseFirestore.getInstance();\n\n        Spinner spinner = findViewById(R.id.spinner);\n        TextView priceTextView = findViewById(R.id.price);\n\n        // List to store all document's data\n        List&lt;QueryDocumentSnapshot&gt; list = new ArrayList&lt;&gt;();\n\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_item, new ArrayList&lt;&gt;());\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adapter);\n\n        CollectionReference colRef = db.collection(&quot;books&quot;);\n        colRef.get().addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                for (QueryDocumentSnapshot document : task.getResult()) {\n                    adapter.add(document.getString(&quot;Title&quot;));\n                    list.add(document); // &lt;-- add document to list\n                }\n            } else {\n                Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\n            }\n            adapter.notifyDataSetChanged();\n        });\n\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; parent, android.view.View view, int position, long id) {\n                // Get book data from the list by position\n                QueryDocumentSnapshot book = list.get(position);\n                priceTextView.setText(String.valueOf(book.get(&quot;Price&quot;)));\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n                Log.d(TAG, &quot;Nothing selected&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24472300,"reputation":53,"user_id":18391859,"display_name":"fyafee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75272821,"answer_count":1,"score":0,"last_activity_date":1674970604,"creation_date":1674932992,"question_id":75270186,"body_markdown":"I am creating a `spinner` which will show the book title. and want to display the price of the selected book. my Firestore database is as follows:\r\n\r\n   \r\n\r\n     Books (collection)\r\n    |\r\n    |--- book1 (document)\r\n    |    |--- Price : &quot;100&quot;\r\n    |    |--- Title : &quot;Book-1&quot;\r\n    |\r\n    |--- book2\r\n    |    |--- Price : &quot;200&quot;\r\n    |    |--- Title : &quot;Book-2&quot;\r\n\r\nWhen I tried the below codes it displayed the same selected item, Could you please tell me what do I need to add to show the price of the selected book? \r\n\r\n\r\n   \r\n\r\n     public class MainActivity extends AppCompatActivity {\r\n        FirebaseFirestore db;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            TextView priceView = findViewById(R.id.price);\r\n    \r\n            db =  FirebaseFirestore.getInstance();\r\n    \r\n            CollectionReference booksRef = db.collection(&quot;Books&quot;);\r\n            Spinner spinner = (Spinner) findViewById(R.id.spinner);\r\n            List&lt;String&gt; booksList = new ArrayList&lt;&gt;();\r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, booksList);\r\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n            spinner.setAdapter(adapter);\r\n            booksRef.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;(){\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        for (QueryDocumentSnapshot document : task.getResult()) {\r\n                            String bt = document.getString(&quot;Title&quot;);\r\n                            booksList.add(bt);\r\n                        }\r\n                        adapter.notifyDataSetChanged();\r\n                    }\r\n                }\r\n            });\r\n            spinner.setOnItemSelectedListener(new OnItemSelectedListener() {\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\r\n                    priceView.setText(&quot;Price:  &quot; + adapterView.getItemIdAtPosition(position).);\r\n                }\r\n                @Override\r\n                public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n    \r\n                }\r\n                                              }\r\n            );\r\n    \r\n        }","title":"How I show the other field of selected item in document","body":"<p>I am creating a <code>spinner</code> which will show the book title. and want to display the price of the selected book. my Firestore database is as follows:</p>\n<pre><code> Books (collection)\n|\n|--- book1 (document)\n|    |--- Price : &quot;100&quot;\n|    |--- Title : &quot;Book-1&quot;\n|\n|--- book2\n|    |--- Price : &quot;200&quot;\n|    |--- Title : &quot;Book-2&quot;\n</code></pre>\n<p>When I tried the below codes it displayed the same selected item, Could you please tell me what do I need to add to show the price of the selected book?</p>\n<pre><code> public class MainActivity extends AppCompatActivity {\n    FirebaseFirestore db;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView priceView = findViewById(R.id.price);\n\n        db =  FirebaseFirestore.getInstance();\n\n        CollectionReference booksRef = db.collection(&quot;Books&quot;);\n        Spinner spinner = (Spinner) findViewById(R.id.spinner);\n        List&lt;String&gt; booksList = new ArrayList&lt;&gt;();\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, booksList);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adapter);\n        booksRef.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;(){\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    for (QueryDocumentSnapshot document : task.getResult()) {\n                        String bt = document.getString(&quot;Title&quot;);\n                        booksList.add(bt);\n                    }\n                    adapter.notifyDataSetChanged();\n                }\n            }\n        });\n        spinner.setOnItemSelectedListener(new OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\n                priceView.setText(&quot;Price:  &quot; + adapterView.getItemIdAtPosition(position).);\n            }\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n                                          }\n        );\n\n    }\n</code></pre>\n"},{"tags":["java","maven","groovy"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1674957363,"post_id":75272136,"comment_id":132824701,"body_markdown":"`/users/123` is not a valid java/groovy code","body":"<code>&#47;users&#47;123</code> is not a valid java/groovy code"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1674957417,"post_id":75272136,"comment_id":132824706,"body_markdown":"Also `users` is not defined variable.","body":"Also <code>users</code> is not defined variable."},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1674973071,"post_id":75272136,"comment_id":132825933,"body_markdown":"The third parameter of `Eval.me()` mus be a legal groovy expression. As for your problem, you may use `expression.replace(&#39;id&#39;, id)`, and the regular expression solutions may be required if the expression is more complex.","body":"The third parameter of <code>Eval.me()</code> mus be a legal groovy expression. As for your problem, you may use <code>expression.replace(&#39;id&#39;, id)</code>, and the regular expression solutions may be required if the expression is more complex."}],"owner":{"account_id":8278787,"reputation":21,"user_id":6224096,"display_name":"ross999"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674970106,"creation_date":1674956980,"question_id":75272136,"body_markdown":"In my Java code, I am trying to invoke the Eval.me Groovy method (using Apache Groovy maven dependency) to evaluate a string expression. But I am getting this exception:\r\n\r\n`groovy.lang.MissingPropertyException: No such property: users for class: Script1`\r\n\r\nI get the error on this line \r\n\r\n`Eval.me(&quot;id&quot;, id, &quot;/users/id&quot;)`\r\n\r\nTrying to evaluate &quot;/users/id&quot; by making the parameter (id) available inside the script\r\n\r\nWhat I am essentialy trying to do is given the value of an id, I want to evaluate the path (/users/id) to retrieve a specific user. \r\n\r\n```\r\npublic String getUser(String id, String expression){\r\nString getUserPath = Eval.me(&quot;id&quot;, id, expression).toString();\r\nreturn getUserPath; \r\n}\r\n```\r\n^ Here expression would be &quot;/users/id&quot;\r\n\r\nEval.me is defined under [groovy.util.Eval](https://docs.groovy-lang.org/latest/html/api/groovy/util/Eval.html#me(java.lang.String,java.lang.Object,java.lang.String))\r\n\r\nI am expecting that the expression gets evaluated to &quot;/users/123&quot; if 123 is the value of the id parameter.\r\n\r\nWhat could I be doing wrong and how can I go about carrying this out?\r\nThanks in advance.","title":"groovy.lang.MissingPropertyException: No such property: users for class: Script1","body":"<p>In my Java code, I am trying to invoke the Eval.me Groovy method (using Apache Groovy maven dependency) to evaluate a string expression. But I am getting this exception:</p>\n<p><code>groovy.lang.MissingPropertyException: No such property: users for class: Script1</code></p>\n<p>I get the error on this line</p>\n<p><code>Eval.me(&quot;id&quot;, id, &quot;/users/id&quot;)</code></p>\n<p>Trying to evaluate &quot;/users/id&quot; by making the parameter (id) available inside the script</p>\n<p>What I am essentialy trying to do is given the value of an id, I want to evaluate the path (/users/id) to retrieve a specific user.</p>\n<pre><code>public String getUser(String id, String expression){\nString getUserPath = Eval.me(&quot;id&quot;, id, expression).toString();\nreturn getUserPath; \n}\n</code></pre>\n<p>^ Here expression would be &quot;/users/id&quot;</p>\n<p>Eval.me is defined under <a href=\"https://docs.groovy-lang.org/latest/html/api/groovy/util/Eval.html#me(java.lang.String,java.lang.Object,java.lang.String)\" rel=\"nofollow noreferrer\">groovy.util.Eval</a></p>\n<p>I am expecting that the expression gets evaluated to &quot;/users/123&quot; if 123 is the value of the id parameter.</p>\n<p>What could I be doing wrong and how can I go about carrying this out?\nThanks in advance.</p>\n"},{"tags":["java","authorization","kerberos","jaas"],"owner":{"account_id":5490266,"reputation":59,"user_id":4363821,"accept_rate":0,"display_name":"Celina yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674969665,"creation_date":1674969665,"question_id":75272764,"body_markdown":"After enabling AES256 our java code doing authorization based on PAC from Kerberos is broken. We use jaaslounge-decode but jaaslonge-decode only supports RC4. I checked doc for Java Authentication and Authorization Service (JAAS) and didn’t find any implementation for authorization based on user groups.will check Waffle later.  Could anybody share what libraries can be used? Thanks ","title":"Authorization using SID from Kerberos in Java","body":"<p>After enabling AES256 our java code doing authorization based on PAC from Kerberos is broken. We use jaaslounge-decode but jaaslonge-decode only supports RC4. I checked doc for Java Authentication and Authorization Service (JAAS) and didn’t find any implementation for authorization based on user groups.will check Waffle later.  Could anybody share what libraries can be used? Thanks</p>\n"},{"tags":["java","session","tomcat","cookies","session-cookies"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1674972530,"post_id":75272758,"comment_id":132825882,"body_markdown":"Are you using Spring?","body":"Are you using Spring?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1674973037,"post_id":75272758,"comment_id":132825926,"body_markdown":"If this application doesn’t use the session, how can the session cookie be used to intercept and fetch data?","body":"If this application doesn’t use the session, how can the session cookie be used to intercept and fetch data?"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1675014255,"post_id":75272758,"comment_id":132832561,"body_markdown":"Does this answer your question? [Why session is not null after session.invalidate() in JAVA?](https://stackoverflow.com/questions/24677949/why-session-is-not-null-after-session-invalidate-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24677949/why-session-is-not-null-after-session-invalidate-in-java\">Why session is not null after session.invalidate() in JAVA?</a>"},{"owner":{"account_id":4272733,"reputation":1,"user_id":3494187,"display_name":"user3494187"},"score":0,"creation_date":1675296974,"post_id":75272758,"comment_id":132901020,"body_markdown":"@Unmitigated Yes using spring","body":"@Unmitigated Yes using spring"},{"owner":{"account_id":4272733,"reputation":1,"user_id":3494187,"display_name":"user3494187"},"score":0,"creation_date":1675297108,"post_id":75272758,"comment_id":132901040,"body_markdown":"@Tim Moore Its not using JSESSIONID. It uses an external API to authenticate and return data if session is still valid","body":"@Tim Moore Its not using JSESSIONID. It uses an external API to authenticate and return data if session is still valid"},{"owner":{"account_id":4272733,"reputation":1,"user_id":3494187,"display_name":"user3494187"},"score":0,"creation_date":1675297227,"post_id":75272758,"comment_id":132901063,"body_markdown":"Olaf Kock, not exactly, we are not trying to invalidate session here","body":"Olaf Kock, not exactly, we are not trying to invalidate session here"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1675304111,"post_id":75272758,"comment_id":132902062,"body_markdown":"@user3494187 the question says “ So, user can still intercept and fetch data using this cookie causing a risk.” If the session isn’t used, there should be no data to fetch.","body":"@user3494187 the question says “ So, user can still intercept and fetch data using this cookie causing a risk.” If the session isn’t used, there should be no data to fetch."},{"owner":{"account_id":4272733,"reputation":1,"user_id":3494187,"display_name":"user3494187"},"score":0,"creation_date":1675433715,"post_id":75272758,"comment_id":132933781,"body_markdown":"@TimMoore do you know anyway we can stop sending jsessionid neither in cookie nor in the url in response?","body":"@TimMoore do you know anyway we can stop sending jsessionid neither in cookie nor in the url in response?"}],"owner":{"account_id":4272733,"reputation":1,"user_id":3494187,"display_name":"user3494187"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674969584,"creation_date":1674969584,"question_id":75272758,"body_markdown":"My application uses a different platform to manage authentication. hence we are not using tomcat&#39;s default JSESSIONID cookie for any session management.\r\nI do not see in our code that we call request.getSession() explicitly. \r\nHowever, the response that goes back to browser has JSESSIONID cookie in Response Headers.\r\nBecause of which, when user clicks on logout, the JSESSIONID cookie value is not cleared off as authentication is managed by a different app. So, user can still intercept and fetch data using this cookie causing a risk.\r\n\r\n\r\nPlease help.\r\n\r\nI tried creating a new JSESSIONID cookie and setting maxAge = 0 for that JSESSIONID to overwrite the existing one but did not work. \r\n\r\nI want to either stop the application from generating this cookie or stop sending the value in response headers so its value is not accessible by other users. ","title":"how to clear value of JSESSIONID cookie?","body":"<p>My application uses a different platform to manage authentication. hence we are not using tomcat's default JSESSIONID cookie for any session management.\nI do not see in our code that we call request.getSession() explicitly.\nHowever, the response that goes back to browser has JSESSIONID cookie in Response Headers.\nBecause of which, when user clicks on logout, the JSESSIONID cookie value is not cleared off as authentication is managed by a different app. So, user can still intercept and fetch data using this cookie causing a risk.</p>\n<p>Please help.</p>\n<p>I tried creating a new JSESSIONID cookie and setting maxAge = 0 for that JSESSIONID to overwrite the existing one but did not work.</p>\n<p>I want to either stop the application from generating this cookie or stop sending the value in response headers so its value is not accessible by other users.</p>\n"},{"tags":["java","class","server","constructor","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1674971397,"post_id":75272751,"comment_id":132825777,"body_markdown":"`Servidor` extends from `RummyClient`, so when you create an instance of `Servidor`, it will also run it&#39;s parent constructor - hence two instances.  And, don&#39;t do `while(true) { gui.repaint(); }`.  I can&#39;t even begin to explain what a terribly bad idea this is.  Don&#39;t load images in your paint method, this is going to slow down you paint passes - pre-load your images and switch the them based on the current state. Swing is not thread save, so you should be updating the UI or any state the UI relies on from out side the context of the Event Dispatching Thread","body":"<code>Servidor</code> extends from <code>RummyClient</code>, so when you create an instance of <code>Servidor</code>, it will also run it&#39;s parent constructor - hence two instances.  And, don&#39;t do <code>while(true) { gui.repaint(); }</code>.  I can&#39;t even begin to explain what a terribly bad idea this is.  Don&#39;t load images in your paint method, this is going to slow down you paint passes - pre-load your images and switch the them based on the current state. Swing is not thread save, so you should be updating the UI or any state the UI relies on from out side the context of the Event Dispatching Thread"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1674971477,"post_id":75272751,"comment_id":132825784,"body_markdown":"You should start by having a look at [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency) and probably make use of [`SwingWorker`](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)","body":"You should start by having a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and probably make use of <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\"><code>SwingWorker</code></a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1674971664,"post_id":75272751,"comment_id":132825805,"body_markdown":"As to how you might go about fixing your core issues - start by separating your workflows.  The &quot;comms&quot; layer should have direct connection to the UI and should instead communicate via an observer pattern (ie listener), this way you isolate it&#39;s responsibility and focus it&#39;s work.  The UI should be a stand alone entity, which makes use of a model, which represents the current state, which the UI should renderer. Again, changes to the model would be communicated to the UI via an observer pattern.  This is a very common workflow - you should do some research into &quot;model-view-controller&quot;","body":"As to how you might go about fixing your core issues - start by separating your workflows.  The &quot;comms&quot; layer should have direct connection to the UI and should instead communicate via an observer pattern (ie listener), this way you isolate it&#39;s responsibility and focus it&#39;s work.  The UI should be a stand alone entity, which makes use of a model, which represents the current state, which the UI should renderer. Again, changes to the model would be communicated to the UI via an observer pattern.  This is a very common workflow - you should do some research into &quot;model-view-controller&quot;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674980969,"post_id":75272751,"comment_id":132826708,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27647048,"reputation":11,"user_id":21102712,"display_name":"user21102712"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674969515,"creation_date":1674969439,"question_id":75272751,"body_markdown":"I am currently working on a test project using windows and servers. I have it working so far (doing what&#39;s supposed to be doing), but the only problem is that the constructor is being called twice, making the code to display two similar windows. Help!\r\nHere is my code:\r\n\r\n(you can ignore the mouse listener parts, I don&#39;t really think that&#39;s the problem).\r\n\r\n\r\n```java\r\npublic class RummyClient implements Runnable{\r\npublic GUI gui = new GUI();\r\npublic static Servidor servidor;\r\n\r\n    public static void main(String[] args) throws UnknownHostException, IOException {\r\n        servidor = new Servidor(25565, &quot;localhost&quot;);\r\n        new Thread(new RummyClient()).start();\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n        while(true) {\r\n            gui.repaint();\r\n        }\r\n    }\r\n    \r\n    public class GUI extends JFrame {\r\n    \r\n        public int clickedX = 0;\r\n        public int clickedY = 0;\r\n    \r\n        public String stage = &quot;&quot;;\r\n    \r\n        public boolean start = false;\r\n    \r\n        public GUI() {\r\n            setTitle(&quot;Rummy&quot;);\r\n            setSize(1280, 720);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            setVisible(true);\r\n            setResizable(false);\r\n            \r\n            Board board = new Board();\r\n            setContentPane(board);\r\n            getContentPane().setPreferredSize(new Dimension(1280, 720));\r\n    \r\n            Move move = new Move();\r\n            addMouseMotionListener(move);\r\n    \r\n            Click click = new Click();\r\n            addMouseListener(click);\r\n            pack();\r\n    \r\n            stage = &quot;start&quot;;\r\n            System.out.println(&quot;created&quot;);\r\n        }\r\n    \r\n        public class Board extends JPanel {\r\n    \r\n            @Override\r\n            public void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                try {\r\n                    Image board = ImageIO.read(new File(&quot;client/src/imgs/board.jpg&quot;)).getScaledInstance(1280, 720, java.awt.Image.SCALE_SMOOTH);\r\n                    g.drawImage(board, 0, 0, this);\r\n                    switch (stage) {\r\n                        case &quot;start&quot;:\r\n                            Image playButtonNP = ImageIO.read(new File(&quot;client/src/imgs/play.png&quot;)).getScaledInstance(406, 220, java.awt.Image.SCALE_SMOOTH);\r\n    \r\n                            Image rummyTitle = ImageIO.read(new File(&quot;client/src/imgs/rummy.png&quot;)).getScaledInstance(526, 340, java.awt.Image.SCALE_SMOOTH);\r\n                            g.drawImage(rummyTitle, 376, 0, this);\r\n                            if (start){\r\n                                g.drawImage(playButtonNP, 448, 360, this);\r\n                            }\r\n                        break;\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;error!&quot;);\r\n                }\r\n            }\r\n            \r\n        }\r\n    \r\n        public class Move implements MouseMotionListener {\r\n    \r\n            @Override\r\n            public void mouseDragged(MouseEvent e) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void mouseMoved(MouseEvent e) {\r\n    \r\n            }\r\n        }\r\n    \r\n        public class Click implements MouseListener{\r\n    \r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                \r\n            }\r\n    \r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                clickedX = e.getX();\r\n                clickedY = e.getY();\r\n            }\r\n    \r\n            @Override\r\n            public void mouseReleased(MouseEvent e) {\r\n                clickedX = 0;\r\n                clickedY = 0;\r\n            }\r\n    \r\n            @Override\r\n            public void mouseEntered(MouseEvent e) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void mouseExited(MouseEvent e) {\r\n    \r\n            }\r\n        }\r\n    \r\n        public void start() {\r\n            this.start = true;\r\n        }\r\n    }\r\n    \r\n    static class Servidor extends RummyClient{\r\n        Socket s;\r\n        PrintWriter out;\r\n        Scanner in;\r\n    \r\n        public Servidor(int port, String ip) throws UnknownHostException, IOException {\r\n            this.s = new Socket(ip, port);\r\n            this.out = new PrintWriter(s.getOutputStream());\r\n            this.in = new Scanner(s.getInputStream());\r\n            Thread input = new Thread(new Input());\r\n            input.start();\r\n        }\r\n    \r\n        public void send(String text) {\r\n            out.println(text);\r\n            out.flush();\r\n        }\r\n    \r\n        class Input implements Runnable {\r\n            @Override\r\n            public void run() {\r\n                while(true) {\r\n                    String incoming = in.nextLine();\r\n                    switch (incoming) {\r\n                        case &quot;ready&quot;:\r\n                            gui.start();\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"The constructor &quot;public GUI()&quot; is called twice, causing two similar windows to open","body":"<p>I am currently working on a test project using windows and servers. I have it working so far (doing what's supposed to be doing), but the only problem is that the constructor is being called twice, making the code to display two similar windows. Help!\nHere is my code:</p>\n<p>(you can ignore the mouse listener parts, I don't really think that's the problem).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RummyClient implements Runnable{\npublic GUI gui = new GUI();\npublic static Servidor servidor;\n\n    public static void main(String[] args) throws UnknownHostException, IOException {\n        servidor = new Servidor(25565, &quot;localhost&quot;);\n        new Thread(new RummyClient()).start();\n    }\n    \n    @Override\n    public void run() {\n        while(true) {\n            gui.repaint();\n        }\n    }\n    \n    public class GUI extends JFrame {\n    \n        public int clickedX = 0;\n        public int clickedY = 0;\n    \n        public String stage = &quot;&quot;;\n    \n        public boolean start = false;\n    \n        public GUI() {\n            setTitle(&quot;Rummy&quot;);\n            setSize(1280, 720);\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\n            setVisible(true);\n            setResizable(false);\n            \n            Board board = new Board();\n            setContentPane(board);\n            getContentPane().setPreferredSize(new Dimension(1280, 720));\n    \n            Move move = new Move();\n            addMouseMotionListener(move);\n    \n            Click click = new Click();\n            addMouseListener(click);\n            pack();\n    \n            stage = &quot;start&quot;;\n            System.out.println(&quot;created&quot;);\n        }\n    \n        public class Board extends JPanel {\n    \n            @Override\n            public void paintComponent(Graphics g) {\n                super.paintComponent(g);\n                try {\n                    Image board = ImageIO.read(new File(&quot;client/src/imgs/board.jpg&quot;)).getScaledInstance(1280, 720, java.awt.Image.SCALE_SMOOTH);\n                    g.drawImage(board, 0, 0, this);\n                    switch (stage) {\n                        case &quot;start&quot;:\n                            Image playButtonNP = ImageIO.read(new File(&quot;client/src/imgs/play.png&quot;)).getScaledInstance(406, 220, java.awt.Image.SCALE_SMOOTH);\n    \n                            Image rummyTitle = ImageIO.read(new File(&quot;client/src/imgs/rummy.png&quot;)).getScaledInstance(526, 340, java.awt.Image.SCALE_SMOOTH);\n                            g.drawImage(rummyTitle, 376, 0, this);\n                            if (start){\n                                g.drawImage(playButtonNP, 448, 360, this);\n                            }\n                        break;\n                    }\n                } catch (Exception e) {\n                    System.out.println(&quot;error!&quot;);\n                }\n            }\n            \n        }\n    \n        public class Move implements MouseMotionListener {\n    \n            @Override\n            public void mouseDragged(MouseEvent e) {\n    \n            }\n    \n            @Override\n            public void mouseMoved(MouseEvent e) {\n    \n            }\n        }\n    \n        public class Click implements MouseListener{\n    \n            @Override\n            public void mouseClicked(MouseEvent e) {\n                \n            }\n    \n            @Override\n            public void mousePressed(MouseEvent e) {\n                clickedX = e.getX();\n                clickedY = e.getY();\n            }\n    \n            @Override\n            public void mouseReleased(MouseEvent e) {\n                clickedX = 0;\n                clickedY = 0;\n            }\n    \n            @Override\n            public void mouseEntered(MouseEvent e) {\n    \n            }\n    \n            @Override\n            public void mouseExited(MouseEvent e) {\n    \n            }\n        }\n    \n        public void start() {\n            this.start = true;\n        }\n    }\n    \n    static class Servidor extends RummyClient{\n        Socket s;\n        PrintWriter out;\n        Scanner in;\n    \n        public Servidor(int port, String ip) throws UnknownHostException, IOException {\n            this.s = new Socket(ip, port);\n            this.out = new PrintWriter(s.getOutputStream());\n            this.in = new Scanner(s.getInputStream());\n            Thread input = new Thread(new Input());\n            input.start();\n        }\n    \n        public void send(String text) {\n            out.println(text);\n            out.flush();\n        }\n    \n        class Input implements Runnable {\n            @Override\n            public void run() {\n                while(true) {\n                    String incoming = in.nextLine();\n                    switch (incoming) {\n                        case &quot;ready&quot;:\n                            gui.start();\n                            break;\n                    }\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","authentication","http","web","basic-authentication"],"owner":{"account_id":173018,"reputation":2857,"user_id":401441,"accept_rate":60,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674968157,"creation_date":1673146438,"question_id":75045215,"body_markdown":"What I want is: I have two B/S systems,let&#39;s say A: demo.a.com, B: sample.b.com,  I need to when log in A system, at the same time log in B system (**The two systems have same user account and password**). So I can click a link from web page in A and seamlessly redirect to B, without login again.  \r\n\r\nI know SSO can achieve this,but it&#39;s too heavy for me. The B system is using **http basic** authentication. I think there should be a lightweight method.\r\n\r\nI used the spring boot to test, but failed\r\n\r\n   \r\n\r\n     @GetMapping(&quot;/gob&quot;)\r\n    \tpublic void redirectWC(HttpServletRequest request, HttpServletResponse response) {\r\n    \t\t//return &quot;redirect:&quot;+siteBurl;\r\n    \t\ttry {\r\n    \t\t\tString authString = &quot;user1:pwd&quot;;\r\n                byte[] authEncBytes = Base64Utils.encode(authString.getBytes());\r\n                String authStringEnc = new String(authEncBytes);\r\n    \t\t\tresponse.setHeader(&quot;Authorization&quot;, &quot;Basic &quot;+authStringEnc);\r\n    //\t\t\tresponse.sendRedirect(&quot;&quot;);\r\n    //\t\t\tresponse.setStatus(response.SC_MOVED_PERMANENTLY);\r\n    \t\t\tresponse.setHeader(&quot;Location&quot;, siteBurl);\r\n    \t\t\tRequestDispatcher dispatcher  = request.getRequestDispatcher(siteBurl);\r\n    \t\t\tdispatcher.forward(request, response);\r\n    \t\t} catch (ServletException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\nPlease help, thanks in advance.\r\n","title":"How can I log in to two different systems at the same time in the browser without implementing regular SSO？","body":"<p>What I want is: I have two B/S systems,let's say A: demo.a.com, B: sample.b.com,  I need to when log in A system, at the same time log in B system (<strong>The two systems have same user account and password</strong>). So I can click a link from web page in A and seamlessly redirect to B, without login again.</p>\n<p>I know SSO can achieve this,but it's too heavy for me. The B system is using <strong>http basic</strong> authentication. I think there should be a lightweight method.</p>\n<p>I used the spring boot to test, but failed</p>\n<pre><code> @GetMapping(&quot;/gob&quot;)\n    public void redirectWC(HttpServletRequest request, HttpServletResponse response) {\n        //return &quot;redirect:&quot;+siteBurl;\n        try {\n            String authString = &quot;user1:pwd&quot;;\n            byte[] authEncBytes = Base64Utils.encode(authString.getBytes());\n            String authStringEnc = new String(authEncBytes);\n            response.setHeader(&quot;Authorization&quot;, &quot;Basic &quot;+authStringEnc);\n//          response.sendRedirect(&quot;&quot;);\n//          response.setStatus(response.SC_MOVED_PERMANENTLY);\n            response.setHeader(&quot;Location&quot;, siteBurl);\n            RequestDispatcher dispatcher  = request.getRequestDispatcher(siteBurl);\n            dispatcher.forward(request, response);\n        } catch (ServletException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Please help, thanks in advance.</p>\n"},{"tags":["java","spring-boot","rest","amazon-s3","spring-cloud"],"comments":[{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1609912543,"post_id":60808987,"comment_id":115966780,"body_markdown":"Did you find the solution for this issue?","body":"Did you find the solution for this issue?"},{"owner":{"account_id":10100092,"reputation":166,"user_id":7464200,"display_name":"danyPasillas"},"score":0,"creation_date":1614874855,"post_id":60808987,"comment_id":117524760,"body_markdown":"The first error message &quot;There is more than one bean of &#39;ResourceLoader&#39; type&quot; could be caused because you are using either xml amazonS3Client bean, and Spring web AmazonS3Client bean as well.  There is a conflict between the beans, use only one or define the proper one with @Qualifier.","body":"The first error message &quot;There is more than one bean of &#39;ResourceLoader&#39; type&quot; could be caused because you are using either xml amazonS3Client bean, and Spring web AmazonS3Client bean as well.  There is a conflict between the beans, use only one or define the proper one with @Qualifier."},{"owner":{"account_id":6882432,"reputation":94,"user_id":5288738,"accept_rate":0,"display_name":"Ashish Awasthi"},"score":0,"creation_date":1661111643,"post_id":60808987,"comment_id":129688597,"body_markdown":"Did you find the solution for the 2nd exception as I am getting that exception but s3 file exist as s://mybucket/directory/myfile.csv","body":"Did you find the solution for the 2nd exception as I am getting that exception but s3 file exist as s://mybucket/directory/myfile.csv"}],"owner":{"account_id":896972,"reputation":1153,"user_id":934005,"accept_rate":0,"display_name":"samme4life"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2031,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1674966250,"creation_date":1584946029,"question_id":60808987,"body_markdown":"I am writing a Spring Batch Application which needs to read a file from an AWS S3 bucket.\r\n\r\nThis is my AWS Config Java Class,\r\n\r\n    @Configuration\r\n    public class AWSConfig{\r\n    \r\n        @Value(&quot;${cloud.aws.credentials.accessKey}&quot;)\r\n        private String accessKey;\r\n    \r\n        @Value(&quot;${cloud.aws.credentials.secretKey}&quot;)\r\n        private String secretKey;\r\n    \r\n        @Value(&quot;${cloud.aws.region}&quot;)\r\n        private String region;\r\n    \r\n        @Bean\r\n        public BasicAWSCredentials basicAWSCredentials() {\r\n            return new BasicAWSCredentials(accessKey, secretKey);\r\n        }\r\n    \r\n        @Bean\r\n        public AmazonS3Client amazonS3Client(AWSCredentials awsCredentials) {\r\n            AmazonS3Client amazonS3Client = (AmazonS3Client) AmazonS3ClientBuilder.standard()\r\n                    .withCredentials(new AWSStaticCredentialsProvider(awsCredentials))\r\n                    .withRegion(region)\r\n                    .build();\r\n            return amazonS3Client;\r\n        }\r\n    \r\n    }\r\n\r\nThis is my aws-context.xml(located in the resources/) file which is to modifiy the default ResourceLoader,\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:aws-context=&quot;http://www.springframework.org/schema/cloud/aws/context&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n            http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/cloud/aws/context\r\n            http://www.springframework.org/schema/cloud/aws/context/spring-cloud-aws-context.xsd&quot;&gt;\r\n    \r\n        &lt;aws-context:context-resource-loader amazon-s3=&quot;amazonS3Client&quot; /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\nThis is my SpringBatchConfig.java class,\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class SpringBatchConfig {\r\n    \r\n        @Autowired\r\n        private ResourceLoader resourceLoader;\r\n    \r\n        @Bean\r\n        public Job job(JobBuilderFactory jobBuilderFactory,\r\n                       StepBuilderFactory stepBuilderFactory,\r\n                       ItemReader&lt;User&gt; itemReader,\r\n                       ItemProcessor&lt;User, User&gt; itemProcessor,\r\n                       ItemWriter&lt;User&gt; itemWriter\r\n        ) {\r\n    \r\n            Step step = stepBuilderFactory.get(&quot;ETL-file-load&quot;)\r\n                    .&lt;User, User&gt;chunk(100)\r\n                    .reader(itemReader)\r\n                    .processor(itemProcessor)\r\n                    .writer(itemWriter)\r\n                    .build();\r\n    \r\n    \r\n            return jobBuilderFactory.get(&quot;ETL-Load&quot;)\r\n                    .incrementer(new RunIdIncrementer())\r\n                    .start(step)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public FlatFileItemReader&lt;User&gt; itemReader() throws IOException {\r\n    \r\n            FlatFileItemReader&lt;User&gt; flatFileItemReader = new FlatFileItemReader&lt;&gt;();\r\n            flatFileItemReader.setResource(resourceLoader.getResource(&quot;s3://&quot; + &quot;&lt;bucket-name&gt;&quot; + &quot;/&quot; + &quot;&lt;key&gt;&quot;));\r\n            flatFileItemReader.setName(&quot;CSV-Reader&quot;);\r\n            flatFileItemReader.setLinesToSkip(1);\r\n            flatFileItemReader.setLineMapper(lineMapper());\r\n            return flatFileItemReader;\r\n        }\r\n    \r\n        @Bean\r\n        public LineMapper&lt;User&gt; lineMapper() {\r\n    \r\n            DefaultLineMapper&lt;User&gt; defaultLineMapper = new DefaultLineMapper&lt;&gt;();\r\n            DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n    \r\n            lineTokenizer.setDelimiter(&quot;,&quot;);\r\n            lineTokenizer.setStrict(false);\r\n            lineTokenizer.setNames(new String[]{&quot;id&quot;, &quot;name&quot;, &quot;dept&quot;, &quot;salary&quot;});\r\n    \r\n            BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n            fieldSetMapper.setTargetType(User.class);\r\n    \r\n            defaultLineMapper.setLineTokenizer(lineTokenizer);\r\n            defaultLineMapper.setFieldSetMapper(fieldSetMapper);\r\n    \r\n            return defaultLineMapper;\r\n        }\r\n    \r\n    }\r\n\r\nI have followed the answer given by @mtoutcalt in this StackOverflow thread to configure this,\r\nhttps://stackoverflow.com/questions/30832041/spring-batch-read-files-from-aws-s3\r\n\r\nAnd also this documentation: https://cloud.spring.io/spring-cloud-aws/spring-cloud-aws.html#_resource_handling\r\n\r\nIssues I face,\r\n\r\n 1) In the SpringBatchConfig.java it when try to autowire ResourceLoader it says (I&#39;m using IntelliJIdea),\r\n\r\n    Could not autowire. There is more than one bean of &#39;ResourceLoader&#39; type.\r\n    Beans:\r\n     &#160;&#160; (aws-config.xml) webApplicationContext&#160;&#160; (Spring Web) \r\n\r\n2) When I run the Batch Application it says,\r\n\r\n    Caused by: java.lang.IllegalStateException: Input resource must exist (reader is in &#39;strict&#39; mode): ServletContext resource [/s3://&lt;bucket-name&gt;/&lt;key&gt;]\r\n\r\nCan someone please help with fixing this?\r\n\r\nRegards\r\n","title":"Spring Batch - Read a file from AWS S3 to Process","body":"<p>I am writing a Spring Batch Application which needs to read a file from an AWS S3 bucket.</p>\n\n<p>This is my AWS Config Java Class,</p>\n\n<pre><code>@Configuration\npublic class AWSConfig{\n\n    @Value(\"${cloud.aws.credentials.accessKey}\")\n    private String accessKey;\n\n    @Value(\"${cloud.aws.credentials.secretKey}\")\n    private String secretKey;\n\n    @Value(\"${cloud.aws.region}\")\n    private String region;\n\n    @Bean\n    public BasicAWSCredentials basicAWSCredentials() {\n        return new BasicAWSCredentials(accessKey, secretKey);\n    }\n\n    @Bean\n    public AmazonS3Client amazonS3Client(AWSCredentials awsCredentials) {\n        AmazonS3Client amazonS3Client = (AmazonS3Client) AmazonS3ClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(awsCredentials))\n                .withRegion(region)\n                .build();\n        return amazonS3Client;\n    }\n\n}\n</code></pre>\n\n<p>This is my aws-context.xml(located in the resources/) file which is to modifiy the default ResourceLoader,</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:aws-context=\"http://www.springframework.org/schema/cloud/aws/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/cloud/aws/context\n        http://www.springframework.org/schema/cloud/aws/context/spring-cloud-aws-context.xsd\"&gt;\n\n    &lt;aws-context:context-resource-loader amazon-s3=\"amazonS3Client\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>This is my SpringBatchConfig.java class,</p>\n\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class SpringBatchConfig {\n\n    @Autowired\n    private ResourceLoader resourceLoader;\n\n    @Bean\n    public Job job(JobBuilderFactory jobBuilderFactory,\n                   StepBuilderFactory stepBuilderFactory,\n                   ItemReader&lt;User&gt; itemReader,\n                   ItemProcessor&lt;User, User&gt; itemProcessor,\n                   ItemWriter&lt;User&gt; itemWriter\n    ) {\n\n        Step step = stepBuilderFactory.get(\"ETL-file-load\")\n                .&lt;User, User&gt;chunk(100)\n                .reader(itemReader)\n                .processor(itemProcessor)\n                .writer(itemWriter)\n                .build();\n\n\n        return jobBuilderFactory.get(\"ETL-Load\")\n                .incrementer(new RunIdIncrementer())\n                .start(step)\n                .build();\n    }\n\n    @Bean\n    public FlatFileItemReader&lt;User&gt; itemReader() throws IOException {\n\n        FlatFileItemReader&lt;User&gt; flatFileItemReader = new FlatFileItemReader&lt;&gt;();\n        flatFileItemReader.setResource(resourceLoader.getResource(\"s3://\" + \"&lt;bucket-name&gt;\" + \"/\" + \"&lt;key&gt;\"));\n        flatFileItemReader.setName(\"CSV-Reader\");\n        flatFileItemReader.setLinesToSkip(1);\n        flatFileItemReader.setLineMapper(lineMapper());\n        return flatFileItemReader;\n    }\n\n    @Bean\n    public LineMapper&lt;User&gt; lineMapper() {\n\n        DefaultLineMapper&lt;User&gt; defaultLineMapper = new DefaultLineMapper&lt;&gt;();\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n\n        lineTokenizer.setDelimiter(\",\");\n        lineTokenizer.setStrict(false);\n        lineTokenizer.setNames(new String[]{\"id\", \"name\", \"dept\", \"salary\"});\n\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(User.class);\n\n        defaultLineMapper.setLineTokenizer(lineTokenizer);\n        defaultLineMapper.setFieldSetMapper(fieldSetMapper);\n\n        return defaultLineMapper;\n    }\n\n}\n</code></pre>\n\n<p>I have followed the answer given by @mtoutcalt in this StackOverflow thread to configure this,\n<a href=\"https://stackoverflow.com/questions/30832041/spring-batch-read-files-from-aws-s3\">Spring Batch - Read files from Aws S3</a></p>\n\n<p>And also this documentation: <a href=\"https://cloud.spring.io/spring-cloud-aws/spring-cloud-aws.html#_resource_handling\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-aws/spring-cloud-aws.html#_resource_handling</a></p>\n\n<p>Issues I face,</p>\n\n<p>1) In the SpringBatchConfig.java it when try to autowire ResourceLoader it says (I'm using IntelliJIdea),</p>\n\n<pre><code>Could not autowire. There is more than one bean of 'ResourceLoader' type.\nBeans:\n    (aws-config.xml) webApplicationContext   (Spring Web) \n</code></pre>\n\n<p>2) When I run the Batch Application it says,</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: Input resource must exist (reader is in 'strict' mode): ServletContext resource [/s3://&lt;bucket-name&gt;/&lt;key&gt;]\n</code></pre>\n\n<p>Can someone please help with fixing this?</p>\n\n<p>Regards</p>\n"},{"tags":["java","multithreading","project-loom"],"answers":[{"tags":[],"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674965653,"creation_date":1674965653,"answer_id":75272562,"question_id":75272197,"body_markdown":"Your understanding is wrong. Quoting [JEP 425][1],\r\n\r\n&gt; A virtual thread can be scheduled on different carriers over the course of its lifetime\r\n\r\nHowever, it doesn&#39;t matter if a virtual thread gets scheduled on a new carrier. The Java Memory Model&#39;s guarantees are based on Java threads, not OS threads. Code running in a single virtual thread is running in a single thread as far as any synchronization requirements are concerned, regardless of how many carrier threads the virtual thread is scheduled on over its lifetime.\r\n\r\nYou will not have to mark anything `volatile` with virtual threads that you would not have had to mark `volatile` with platform threads.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/425","title":"Does a virtual thread wake up in the same carrier thread on which it was blocked?","body":"<p>Your understanding is wrong. Quoting <a href=\"https://openjdk.org/jeps/425\" rel=\"nofollow noreferrer\">JEP 425</a>,</p>\n<blockquote>\n<p>A virtual thread can be scheduled on different carriers over the course of its lifetime</p>\n</blockquote>\n<p>However, it doesn't matter if a virtual thread gets scheduled on a new carrier. The Java Memory Model's guarantees are based on Java threads, not OS threads. Code running in a single virtual thread is running in a single thread as far as any synchronization requirements are concerned, regardless of how many carrier threads the virtual thread is scheduled on over its lifetime.</p>\n<p>You will not have to mark anything <code>volatile</code> with virtual threads that you would not have had to mark <code>volatile</code> with platform threads.</p>\n"}],"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75272562,"answer_count":1,"score":2,"last_activity_date":1674965653,"creation_date":1674958068,"question_id":75272197,"body_markdown":"Is my understanding correct that a virtual thread runs on the same carrier thread throughout its lifetime? If not, then I&#39;m wondering if we&#39;d need to have our instance variables as `volatile` to have the correct value after a virtual threads blocks in one carrier thread and wakes up in another. For example, see the code snippet below:\r\n```java\r\npublic class VirtualThreadDemo {\r\n\r\n    private int disabledUserCount;\r\n\r\n    void countDisabledUsers() {\r\n\r\n        while (moreUsers()) {\r\n            User user = getNextUserFromDb(); // virtual thread blocks for IO\r\n            if (user.isDisabled())\r\n                disabledUserCount++; // always happens in same carrier thread?\r\n        }\r\n        System.out.println(disabledUserCount);\r\n    }\r\n}\r\n```\r\nWe don&#39;t have to declare `disabledUserCount` as volatile (because the carrier thread is gauranteed to remain same). Correct?\r\n\r\nIf not, what if it were a local variable?\r\n","title":"Does a virtual thread wake up in the same carrier thread on which it was blocked?","body":"<p>Is my understanding correct that a virtual thread runs on the same carrier thread throughout its lifetime? If not, then I'm wondering if we'd need to have our instance variables as <code>volatile</code> to have the correct value after a virtual threads blocks in one carrier thread and wakes up in another. For example, see the code snippet below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class VirtualThreadDemo {\n\n    private int disabledUserCount;\n\n    void countDisabledUsers() {\n\n        while (moreUsers()) {\n            User user = getNextUserFromDb(); // virtual thread blocks for IO\n            if (user.isDisabled())\n                disabledUserCount++; // always happens in same carrier thread?\n        }\n        System.out.println(disabledUserCount);\n    }\n}\n</code></pre>\n<p>We don't have to declare <code>disabledUserCount</code> as volatile (because the carrier thread is gauranteed to remain same). Correct?</p>\n<p>If not, what if it were a local variable?</p>\n"},{"tags":["java","database","oracle"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":0,"creation_date":1674992188,"post_id":75272485,"comment_id":132828440,"body_markdown":"What mechanism are you using to perform the sync between databases? The sync would need to know in which order the updates happened across all databases, and only replicate them once, in order. You can&#39;t just replicate all transactions in both directions. This can rapidly become *very* complicated, especially if you have multiple tables with foreign key relationships, triggers, and other object types in play. Oracle has specific tools to do this, like GoldenGate, and I would not advise trying to build your own solution.","body":"What mechanism are you using to perform the sync between databases? The sync would need to know in which order the updates happened across all databases, and only replicate them once, in order. You can&#39;t just replicate all transactions in both directions. This can rapidly become <i>very</i> complicated, especially if you have multiple tables with foreign key relationships, triggers, and other object types in play. Oracle has specific tools to do this, like GoldenGate, and I would not advise trying to build your own solution."}],"owner":{"account_id":22581578,"reputation":1,"user_id":16766150,"display_name":"loveaeen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674964040,"creation_date":1674964040,"question_id":75272485,"body_markdown":"**question 1: concurrent update**\r\n\r\nI have database A and B, initially they have same column value `age = 0`,later two user modify age in two database at the same time, such as database A change `age = 1`, database B change `age = 2`,\r\nwhen database start sync, maybe dabatase B becomes `age = 1` and A becomes `age2`.\r\n\r\n**question 2: bidirectional sync**\r\n\r\nafter database A changes happened, B receive its changes and execute. Then the changes send to A again. infinite loop.\r\n\r\nhow to solve these problem?\r\n\r\nplease give me some advices","title":"How to handle the concurrent update and bidirectional sync of multi-master database?","body":"<p><strong>question 1: concurrent update</strong></p>\n<p>I have database A and B, initially they have same column value <code>age = 0</code>,later two user modify age in two database at the same time, such as database A change <code>age = 1</code>, database B change <code>age = 2</code>,\nwhen database start sync, maybe dabatase B becomes <code>age = 1</code> and A becomes <code>age2</code>.</p>\n<p><strong>question 2: bidirectional sync</strong></p>\n<p>after database A changes happened, B receive its changes and execute. Then the changes send to A again. infinite loop.</p>\n<p>how to solve these problem?</p>\n<p>please give me some advices</p>\n"},{"tags":["java","amazon-web-services","amazon-sqs","guice","aws-credentials"],"comments":[{"owner":{"account_id":14170256,"reputation":173,"user_id":10237028,"display_name":"bravinator932421"},"score":0,"creation_date":1675798434,"post_id":75272477,"comment_id":133005202,"body_markdown":"Not sure but commenting because I have the same problem due to an SSM automation that takes ~14 hours to complete.","body":"Not sure but commenting because I have the same problem due to an SSM automation that takes ~14 hours to complete."}],"owner":{"account_id":3101854,"reputation":4107,"user_id":2625772,"accept_rate":54,"display_name":"AnOldSoul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674963909,"creation_date":1674963909,"question_id":75272477,"body_markdown":"I am connecting to SQS through my Java code, and the connection is required to be alive for more than 60 minutes, as I keep polling a queue for a long time. However the credentials I use seem to expire. How can I keep the credentials alive?\r\n\r\nBelow is how I create the credentials provider:\r\n\r\n    @Provides\r\n        public AwsCredentialsProvider getSTSCredentialProvider() {\r\n            final String credentialsPath = System.getenv(&quot;CREDENTIAL_PATH&quot;);\r\n    \r\n            final AwsCredentialsProvider credentialsProvider = ProfileCredentialsProvider.builder().profileFile(\r\n                    ProfileFile.builder().content(Paths.get(credentialsPath)).type(ProfileFile.Type.CREDENTIALS).build()\r\n            ).profileName(&quot;default&quot;).build();\r\n    \r\n            return credentialsProvider;\r\n        }\r\n\r\nBelow is how I create the SQS client:\r\n\r\n    @Provides\r\n        @Singleton\r\n        public SqsClient provideSqsClient(AwsCredentialsProvider awsCredentialsProvider) {\r\n            return SqsClient.builder().credentialsProvider(awsCredentialsProvider)\r\n                    .region(REGION).build();\r\n        }\r\n\r\nHow can I allow the SQS client to refresh the credentials? Appreciate any help/guidance.","title":"The security token included in the request is expired when using ProfileCredentialsProvider","body":"<p>I am connecting to SQS through my Java code, and the connection is required to be alive for more than 60 minutes, as I keep polling a queue for a long time. However the credentials I use seem to expire. How can I keep the credentials alive?</p>\n<p>Below is how I create the credentials provider:</p>\n<pre><code>@Provides\n    public AwsCredentialsProvider getSTSCredentialProvider() {\n        final String credentialsPath = System.getenv(&quot;CREDENTIAL_PATH&quot;);\n\n        final AwsCredentialsProvider credentialsProvider = ProfileCredentialsProvider.builder().profileFile(\n                ProfileFile.builder().content(Paths.get(credentialsPath)).type(ProfileFile.Type.CREDENTIALS).build()\n        ).profileName(&quot;default&quot;).build();\n\n        return credentialsProvider;\n    }\n</code></pre>\n<p>Below is how I create the SQS client:</p>\n<pre><code>@Provides\n    @Singleton\n    public SqsClient provideSqsClient(AwsCredentialsProvider awsCredentialsProvider) {\n        return SqsClient.builder().credentialsProvider(awsCredentialsProvider)\n                .region(REGION).build();\n    }\n</code></pre>\n<p>How can I allow the SQS client to refresh the credentials? Appreciate any help/guidance.</p>\n"},{"tags":["java","json","types","json-simple"],"comments":[{"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"score":0,"creation_date":1367894792,"post_id":16410421,"comment_id":23527925,"body_markdown":"It should be pretty simple to check if the string begins and ends with `[]`. What have you tried?","body":"It should be pretty simple to check if the string begins and ends with <code>[]</code>. What have you tried?"},{"owner":{"account_id":997746,"reputation":7123,"user_id":1013298,"accept_rate":54,"display_name":"Z2VvZ3Vp"},"score":0,"creation_date":1367896888,"post_id":16410421,"comment_id":23528389,"body_markdown":"I can tell if it beings and ends with [] but then the problem is that i get a string &quot;[{\\&quot;param1\\&quot;...},{...}]&quot; that I can&#39;t seem to convert into an array again.","body":"I can tell if it beings and ends with [] but then the problem is that i get a string &quot;[{\\&quot;param1\\&quot;...},{...}]&quot; that I can&#39;t seem to convert into an array again."}],"answers":[{"comments":[{"owner":{"account_id":997746,"reputation":7123,"user_id":1013298,"accept_rate":54,"display_name":"Z2VvZ3Vp"},"score":0,"creation_date":1367899838,"post_id":16410684,"comment_id":23529005,"body_markdown":"Thanks. That answered my question. Now to figure out the rest of it :)","body":"Thanks. That answered my question. Now to figure out the rest of it :)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1674962622,"creation_date":1367896931,"answer_id":16410684,"question_id":16410421,"body_markdown":"Simple Java:\r\n\r\n    Object obj = new JSONParser().parse(result); \r\n    if (obj instanceof JSONObject) {\r\n        JSONObject jo = (JSONObject) obj;\r\n    } else {\r\n        JSONArray ja = (JSONArray) obj;\r\n    }\r\n\r\nYou could also test if the (purported) JSON starts with a `[` or a `{` if you wanted to avoid the overhead of parsing the wrong kind of JSON.  But be careful with leading whitespace.\r\n\r\n-----------------\r\n\r\nFor what it is worth, an API that returns either a JSON object or an array of JSON objects depending on the result set size is ... badly designed.  It would be better to *always* return a JSON array; e.g. an array containing zero, one or many objects.  That avoids the client-side messiness we are having to deal with in this question.","title":"How to tell if return is JSONObject or JSONArray with JSON-simple (Java)?","body":"<p>Simple Java:</p>\n<pre><code>Object obj = new JSONParser().parse(result); \nif (obj instanceof JSONObject) {\n    JSONObject jo = (JSONObject) obj;\n} else {\n    JSONArray ja = (JSONArray) obj;\n}\n</code></pre>\n<p>You could also test if the (purported) JSON starts with a <code>[</code> or a <code>{</code> if you wanted to avoid the overhead of parsing the wrong kind of JSON.  But be careful with leading whitespace.</p>\n<hr />\n<p>For what it is worth, an API that returns either a JSON object or an array of JSON objects depending on the result set size is ... badly designed.  It would be better to <em>always</em> return a JSON array; e.g. an array containing zero, one or many objects.  That avoids the client-side messiness we are having to deal with in this question.</p>\n"},{"comments":[{"owner":{"account_id":373519,"reputation":7626,"user_id":2127950,"accept_rate":84,"display_name":"portfoliobuilder"},"score":0,"creation_date":1613758634,"post_id":54106108,"comment_id":117184604,"body_markdown":"Thank you for providing Json version","body":"Thank you for providing Json version"}],"tags":[],"owner":{"account_id":4005907,"reputation":73,"user_id":3300555,"display_name":"Saurabh Mittal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547023361,"creation_date":1547023361,"answer_id":54106108,"question_id":16410421,"body_markdown":"Though it&#39;s similar to above one, but their is not default constructor of JSONParser. Error coming was: The constructor JSONParser() is undefined\r\n\r\nUse this instead\r\n\r\n    JsonElement jsonElement = new JsonParser().parse(jsonString);\r\n    if (jsonElement.isJsonArray()) {\r\n        //Your Code\r\n    } else {\r\n        //Your Code\r\n    }","title":"How to tell if return is JSONObject or JSONArray with JSON-simple (Java)?","body":"<p>Though it's similar to above one, but their is not default constructor of JSONParser. Error coming was: The constructor JSONParser() is undefined</p>\n\n<p>Use this instead</p>\n\n<pre><code>JsonElement jsonElement = new JsonParser().parse(jsonString);\nif (jsonElement.isJsonArray()) {\n    //Your Code\n} else {\n    //Your Code\n}\n</code></pre>\n"}],"owner":{"account_id":997746,"reputation":7123,"user_id":1013298,"accept_rate":54,"display_name":"Z2VvZ3Vp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14739,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":16410684,"answer_count":2,"score":12,"last_activity_date":1674962622,"creation_date":1367894588,"question_id":16410421,"body_markdown":"I am hitting a service and sometimes getting back something like this:\r\n\r\n    { &quot;param1&quot;: &quot;value1&quot;, &quot;param2&quot;: &quot;value2&quot; }\r\n\r\nand sometimes getting return like this:\r\n\r\n    [{ &quot;param1&quot;: &quot;value1&quot;, &quot;param2&quot;: &quot;value2&quot; },{ &quot;param1&quot;: &quot;value1&quot;, &quot;param2&quot;: &quot;value2&quot; }]\r\n\r\nHow do I tell which I&#39;m getting? Both of them evaluate to a String when I do getClass() but if I try to do this:\r\n\r\n    json = (JSONObject) new JSONParser().parse(result); \r\n\r\non the second case I get an exception\r\n\r\n    org.json.simple.JSONArray cannot be cast to org.json.simple.JSONObject\r\n\r\nHow to avoid this? I would just like to know how to check which I&#39;m getting back. (The first case will sometimes have `[]` in it so I can&#39;t do index of and I&#39;d like a cleaner way than just checking the first character.\r\n\r\nThere has got to be some sort of method that checks this?\r\n\r\n","title":"How to tell if return is JSONObject or JSONArray with JSON-simple (Java)?","body":"<p>I am hitting a service and sometimes getting back something like this:</p>\n\n<pre><code>{ \"param1\": \"value1\", \"param2\": \"value2\" }\n</code></pre>\n\n<p>and sometimes getting return like this:</p>\n\n<pre><code>[{ \"param1\": \"value1\", \"param2\": \"value2\" },{ \"param1\": \"value1\", \"param2\": \"value2\" }]\n</code></pre>\n\n<p>How do I tell which I'm getting? Both of them evaluate to a String when I do getClass() but if I try to do this:</p>\n\n<pre><code>json = (JSONObject) new JSONParser().parse(result); \n</code></pre>\n\n<p>on the second case I get an exception</p>\n\n<pre><code>org.json.simple.JSONArray cannot be cast to org.json.simple.JSONObject\n</code></pre>\n\n<p>How to avoid this? I would just like to know how to check which I'm getting back. (The first case will sometimes have <code>[]</code> in it so I can't do index of and I'd like a cleaner way than just checking the first character.</p>\n\n<p>There has got to be some sort of method that checks this?</p>\n"},{"tags":["java","arraylist","objectinputstream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674963125,"post_id":75272405,"comment_id":132825181,"body_markdown":"Looks like `Administrators.dat` doesn&#39;t contain what you expect it to.","body":"Looks like <code>Administrators.dat</code> doesn&#39;t contain what you expect it to."},{"owner":{"account_id":14420242,"reputation":123,"user_id":10416462,"display_name":"Sxc-Dev"},"score":0,"creation_date":1674966337,"post_id":75272405,"comment_id":132825420,"body_markdown":"Answer in link below might solve your issue. Input.readObject is most likely only returning Administrator instead of list of Administrator. https://stackoverflow.com/questions/62843415/reading-objects-from-a-dat-file-using-java","body":"Answer in link below might solve your issue. Input.readObject is most likely only returning Administrator instead of list of Administrator. <a href=\"https://stackoverflow.com/questions/62843415/reading-objects-from-a-dat-file-using-java\" title=\"reading objects from a dat file using java\">stackoverflow.com/questions/62843415/&hellip;</a>"}],"owner":{"account_id":27646604,"reputation":1,"user_id":21102353,"display_name":"Abbs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674962118,"creation_date":1674962118,"question_id":75272405,"body_markdown":"I&#39;m trying to read an ArrayList of objects from a BinaryI/O but I keep getting the error &quot;class java.lang.Boolean cannot be cast to class java.util.ArrayList (java.lang.Boolean and java.util.ArrayList are in module java.base of loader &#39;bootstrap&#39;)&quot;\r\n\r\nThis is the code\r\n\r\n    public void readAdmin(){\r\n         try{\r\n             File file = new File(&quot;Administrators.dat&quot;);\r\n             file.createNewFile();\r\n             ObjectInputStream input = new ObjectInputStream(new FileInputStream(&quot;Administrators.dat&quot;));\r\n             ArrayList&lt;Administrator&gt; adms = (ArrayList&lt;Administrator&gt;) input.readObject(); \r\n             usercontroller.setAdmins(adms);\r\n\r\n         }\r\n         catch(IOException e){\r\n             System.out.println(&quot;Input of administrator data error.&quot;);\r\n         }\r\n         catch (ClassNotFoundException cn){\r\n             System.out.println(&quot;Administrator class not existent.&quot;);\r\n         }\r\n\r\nThe line &quot;ArrayList&lt;Administrator&gt; adms = (ArrayList&lt;Administrator&gt;) input.readObject();&quot; seems to be the one causing the error when I call the &quot;readAdmin&quot; method in main.\r\n\r\n\r\n\r\nAny ideas on how I can fix this?\r\n","title":"class java.lang.Boolean cannot be cast to class java.util.ArrayList","body":"<p>I'm trying to read an ArrayList of objects from a BinaryI/O but I keep getting the error &quot;class java.lang.Boolean cannot be cast to class java.util.ArrayList (java.lang.Boolean and java.util.ArrayList are in module java.base of loader 'bootstrap')&quot;</p>\n<p>This is the code</p>\n<pre><code>public void readAdmin(){\n     try{\n         File file = new File(&quot;Administrators.dat&quot;);\n         file.createNewFile();\n         ObjectInputStream input = new ObjectInputStream(new FileInputStream(&quot;Administrators.dat&quot;));\n         ArrayList&lt;Administrator&gt; adms = (ArrayList&lt;Administrator&gt;) input.readObject(); \n         usercontroller.setAdmins(adms);\n\n     }\n     catch(IOException e){\n         System.out.println(&quot;Input of administrator data error.&quot;);\n     }\n     catch (ClassNotFoundException cn){\n         System.out.println(&quot;Administrator class not existent.&quot;);\n     }\n</code></pre>\n<p>The line &quot;ArrayList adms = (ArrayList) input.readObject();&quot; seems to be the one causing the error when I call the &quot;readAdmin&quot; method in main.</p>\n<p>Any ideas on how I can fix this?</p>\n"},{"tags":["java","android","nfc"],"owner":{"account_id":27224533,"reputation":5,"user_id":20753230,"display_name":"Student Progg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674962108,"creation_date":1674962108,"question_id":75272402,"body_markdown":"I already achieved to write NFC tag. The problem was the tag needs to stay on device before you click  the &quot;write&quot; button. Heres my code\r\n````public void writeNFC () {\r\n        try {\r\n            if(myTag==null){\r\n                Toast.makeText(this, &quot;TAP YOUR TAG!&quot;, Toast.LENGTH_SHORT ).show();\r\n            }else{\r\n                write(tagData,myTag);\r\n                Toast.makeText(this, &quot;Tag Written!&quot;, Toast.LENGTH_SHORT ).show();\r\n            }\r\n        } catch (IOException e) {\r\n            Toast.makeText(this, &quot;Error Writing!&quot;, Toast.LENGTH_SHORT ).show();\r\n            e.printStackTrace();\r\n        } catch (FormatException e) {\r\n            Toast.makeText(this, &quot;NFC Format Error!&quot;, Toast.LENGTH_SHORT ).show();\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n    private void write(String text, Tag tag) throws IOException, FormatException {\r\n\r\n        NdefRecord[] records = { createRecord(text) };\r\n        NdefMessage message = new NdefMessage(records);\r\n        Ndef ndef = Ndef.get(tag);\r\n        if (ndef != null) {\r\n            ndef.connect();\r\n            ndef.writeNdefMessage(message);\r\n            ndef.close();\r\n        } else {\r\n            NdefFormatable ndefFormatable = NdefFormatable.get(tag);\r\n            if (ndefFormatable != null) {\r\n                ndefFormatable.connect();\r\n                ndefFormatable.format(message);\r\n                ndefFormatable.close();\r\n            } else {\r\n                Toast.makeText(this, &quot;Tag cannot be written!&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n````\r\nAnd the button is this (I used Onclick view)\r\n\r\n````\r\npublic void confirmInput (View v){\r\n        writeNFC();\r\n    }\r\n````\r\nWhat I want is the user will fill up the input, click the button (after the button was clicked, show dialog that states &quot;tap your tag&quot;) and then input will write the tag (close the dialog) \r\n\r\nI think this way it would be more friendly user. Thanks","title":"&quot;Tap your NFC TAG&quot; dialog after button clicked","body":"<p>I already achieved to write NFC tag. The problem was the tag needs to stay on device before you click  the &quot;write&quot; button. Heres my code</p>\n<pre><code>        try {\n            if(myTag==null){\n                Toast.makeText(this, &quot;TAP YOUR TAG!&quot;, Toast.LENGTH_SHORT ).show();\n            }else{\n                write(tagData,myTag);\n                Toast.makeText(this, &quot;Tag Written!&quot;, Toast.LENGTH_SHORT ).show();\n            }\n        } catch (IOException e) {\n            Toast.makeText(this, &quot;Error Writing!&quot;, Toast.LENGTH_SHORT ).show();\n            e.printStackTrace();\n        } catch (FormatException e) {\n            Toast.makeText(this, &quot;NFC Format Error!&quot;, Toast.LENGTH_SHORT ).show();\n            e.printStackTrace();\n        }\n\n    }\n    private void write(String text, Tag tag) throws IOException, FormatException {\n\n        NdefRecord[] records = { createRecord(text) };\n        NdefMessage message = new NdefMessage(records);\n        Ndef ndef = Ndef.get(tag);\n        if (ndef != null) {\n            ndef.connect();\n            ndef.writeNdefMessage(message);\n            ndef.close();\n        } else {\n            NdefFormatable ndefFormatable = NdefFormatable.get(tag);\n            if (ndefFormatable != null) {\n                ndefFormatable.connect();\n                ndefFormatable.format(message);\n                ndefFormatable.close();\n            } else {\n                Toast.makeText(this, &quot;Tag cannot be written!&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n</code></pre>\n<p>And the button is this (I used Onclick view)</p>\n<pre><code>public void confirmInput (View v){\n        writeNFC();\n    }\n</code></pre>\n<p>What I want is the user will fill up the input, click the button (after the button was clicked, show dialog that states &quot;tap your tag&quot;) and then input will write the tag (close the dialog)</p>\n<p>I think this way it would be more friendly user. Thanks</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1674904860,"post_id":75267179,"comment_id":132816078,"body_markdown":"It probably just gets overwritten by two theads writing to the same index within the same bucket. But as you already know, nothing is guaranteed, and the way in which it fails depends on the specific implementation you are using...","body":"It probably just gets overwritten by two theads writing to the same index within the same bucket. But as you already know, nothing is guaranteed, and the way in which it fails depends on the specific implementation you are using..."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":3,"creation_date":1674912371,"post_id":75267179,"comment_id":132817391,"body_markdown":"Re, &quot;I want to understand how exactly...&quot; Your program allows concurrent updates of the map. The behavior of IdentityHashMap is _undefined_ when you do that. Maybe you coud find out exactly what happens on _your_ computer, running some particular JVM and JRE versions on some particular OS, but that&#39;s no guarantee that the same bad thing would happen in the same way on somebody else&#39;s computer, or even, on your own computer on a different day.","body":"Re, &quot;I want to understand how exactly...&quot; Your program allows concurrent updates of the map. The behavior of IdentityHashMap is <i>undefined</i> when you do that. Maybe you coud find out exactly what happens on <i>your</i> computer, running some particular JVM and JRE versions on some particular OS, but that&#39;s no guarantee that the same bad thing would happen in the same way on somebody else&#39;s computer, or even, on your own computer on a different day."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":3,"creation_date":1674912722,"post_id":75267179,"comment_id":132817451,"body_markdown":"P.S., What is the purpose of your `Key` class? (1) It overrides Object.equals() with a method that does exactly the same thing that Object.equals() does. (2) IdentityHashMap does not ever _call_ the equals method, so why bother? (3) Your equals method and your hashCode method test different objects. (That&#39;s normally a huge red flag, though, In this special case, it doesn&#39;t actually break the contract.) Was your intent to force all of the &quot;random&quot; keys to hash to the same bucket as part of a stress test for the Map?","body":"P.S., What is the purpose of your <code>Key</code> class? (1) It overrides Object.equals() with a method that does exactly the same thing that Object.equals() does. (2) IdentityHashMap does not ever <i>call</i> the equals method, so why bother? (3) Your equals method and your hashCode method test different objects. (That&#39;s normally a huge red flag, though, In this special case, it doesn&#39;t actually break the contract.) Was your intent to force all of the &quot;random&quot; keys to hash to the same bucket as part of a stress test for the Map?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675180580,"post_id":75267179,"comment_id":132870986,"body_markdown":"Seems `IdentityHashMap` [works similar to `HashMap`](https://stackoverflow.com/q/40927934/2711488) in this regard.","body":"Seems <code>IdentityHashMap</code> <a href=\"https://stackoverflow.com/q/40927934/2711488\">works similar to <code>HashMap</code></a> in this regard."}],"answers":[{"comments":[{"owner":{"account_id":1536289,"reputation":1554,"user_id":1432247,"accept_rate":100,"display_name":"Adwait Kumar"},"score":0,"creation_date":1674906670,"post_id":75267287,"comment_id":132816409,"body_markdown":"Thanks @Michael for the answer. I was looking at the `resize` function, which copies from the oldTable to the newTable but its not clear what sequence of context switches will lead to a value getting deleted.","body":"Thanks @Michael for the answer. I was looking at the <code>resize</code> function, which copies from the oldTable to the newTable but its not clear what sequence of context switches will lead to a value getting deleted."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674906537,"creation_date":1674905262,"answer_id":75267287,"question_id":75267179,"body_markdown":"You have two threads working on the same structure with no coordination. Each thread thinks that it&#39;s safe to manipulate the map however it wants and acts accordingly. When two threads are doing that, all bets are off. There is no &quot;expected behaviour&quot;, except that you should expect it to break.\r\n\r\nA map is not just an infinitely big bag of data you can keep stuffing more data into. It needs reorganizing as it grows. An insert is not just setting an null element in some array to have a non-null value. It may result in a complete reorganization of everything in the map.\r\n\r\nIf you have 2 threads trying to do this reorganization at the same time, it seems reasonable that even keys that weren&#39;t presently being inserted on either of those threads could go missing.\r\n\r\nIf you set an explicit default size on the map then I think you&#39;ll see fewer failures. This is **not** a solution - the solution is to use a thread-safe implementation - but this will demonstrate that a sparser Map will do fewer reorganizations, which should reduce the frequency of errors (though not eliminate them).\r\n\r\n```java\r\nfinal Map&lt;Key, Integer&gt; map = new IdentityHashMap&lt;&gt;(1_000);\r\n```","title":"Why is key being deleted by IdentityHashMap","body":"<p>You have two threads working on the same structure with no coordination. Each thread thinks that it's safe to manipulate the map however it wants and acts accordingly. When two threads are doing that, all bets are off. There is no &quot;expected behaviour&quot;, except that you should expect it to break.</p>\n<p>A map is not just an infinitely big bag of data you can keep stuffing more data into. It needs reorganizing as it grows. An insert is not just setting an null element in some array to have a non-null value. It may result in a complete reorganization of everything in the map.</p>\n<p>If you have 2 threads trying to do this reorganization at the same time, it seems reasonable that even keys that weren't presently being inserted on either of those threads could go missing.</p>\n<p>If you set an explicit default size on the map then I think you'll see fewer failures. This is <strong>not</strong> a solution - the solution is to use a thread-safe implementation - but this will demonstrate that a sparser Map will do fewer reorganizations, which should reduce the frequency of errors (though not eliminate them).</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;Key, Integer&gt; map = new IdentityHashMap&lt;&gt;(1_000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674961223,"creation_date":1674961223,"answer_id":75272360,"question_id":75267179,"body_markdown":"This is a snippet of the code from `IdentityHashMap::resize`\r\n\r\n```java\r\n        Object[] oldTable = table;\r\n        ...\r\n        Object[] newTable = new Object[newLength];\r\n        ...\r\n        for (int j = 0; j &lt; oldLength; j += 2) {\r\n            Object key = oldTable[j];\r\n            if (key != null) {\r\n                Object value = oldTable[j+1];\r\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  oldTable[j] = null;\r\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  oldTable[j+1] = null;\r\n                int i = hash(key, newLength);\r\n                while (newTable[i] != null)\r\n                    i = nextKeyIndex(i, newLength);\r\n                newTable[i] = key;\r\n                newTable[i + 1] = value;\r\n            }\r\n        }\r\n        table = newTable;\r\n```\r\n\r\nIt&#39;s setting the values in the old array to be null as it copies to the new array, then assign the new array to be the field.\r\n\r\nAnd you have 5 threads doing this concurrently, so sometimes this happens:\r\n\r\n1. Thread A and B start resizing at the same time, so they see the same reference to `oldTable`. Thread A successfully copies &quot;main&quot; from `oldTable` and nulls out the old value. Thread B is a bit behind therefore can&#39;t see &quot;main&quot; anymore since Thread A has deleted it.\r\n2. Thread A assigns its `newTable` to the field which contains &quot;main&quot;, then thread B assigns its own `newTable` to the field, but because of #1 it doesn&#39;t contain &quot;main&quot;.\r\n3. Now the map contains no &quot;main&quot;.","title":"Why is key being deleted by IdentityHashMap","body":"<p>This is a snippet of the code from <code>IdentityHashMap::resize</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>        Object[] oldTable = table;\n        ...\n        Object[] newTable = new Object[newLength];\n        ...\n        for (int j = 0; j &lt; oldLength; j += 2) {\n            Object key = oldTable[j];\n            if (key != null) {\n                Object value = oldTable[j+1];\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  oldTable[j] = null;\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  oldTable[j+1] = null;\n                int i = hash(key, newLength);\n                while (newTable[i] != null)\n                    i = nextKeyIndex(i, newLength);\n                newTable[i] = key;\n                newTable[i + 1] = value;\n            }\n        }\n        table = newTable;\n</code></pre>\n<p>It's setting the values in the old array to be null as it copies to the new array, then assign the new array to be the field.</p>\n<p>And you have 5 threads doing this concurrently, so sometimes this happens:</p>\n<ol>\n<li>Thread A and B start resizing at the same time, so they see the same reference to <code>oldTable</code>. Thread A successfully copies &quot;main&quot; from <code>oldTable</code> and nulls out the old value. Thread B is a bit behind therefore can't see &quot;main&quot; anymore since Thread A has deleted it.</li>\n<li>Thread A assigns its <code>newTable</code> to the field which contains &quot;main&quot;, then thread B assigns its own <code>newTable</code> to the field, but because of #1 it doesn't contain &quot;main&quot;.</li>\n<li>Now the map contains no &quot;main&quot;.</li>\n</ol>\n"}],"owner":{"account_id":1536289,"reputation":1554,"user_id":1432247,"accept_rate":100,"display_name":"Adwait Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674961223,"creation_date":1674904237,"question_id":75267179,"body_markdown":"I know `IdentityHashMap` is not a thread safe data structure, so the below test failing is not a total surprise. Having said that, my understanding of non-Concurrent and non-synchronized maps being not thread-safe was that there is no *happens before* relation between the put of the value in the map, and the get of the value, so a thread that receives the value from the cache, doesn’t need to see all fields if the value has publication problems.\r\n\r\nHowever I am unable to understand how a Map can loose values even if it not thread safe. See the below reprex,\r\n\r\n\r\n```\r\nimport org.junit.jupiter.api.RepeatedTest;\r\n\r\nimport java.util.IdentityHashMap;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\nclass IdentityHashmapTest {\r\n\r\n    static class Key {\r\n        final String description;\r\n\r\n        Key(String description) {\r\n            this.description = description;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Key{&quot; +\r\n                    &quot;description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            return this == o;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(description);\r\n        }\r\n    }\r\n\r\n    @RepeatedTest(100)\r\n    void testConcurrency() throws InterruptedException {\r\n        final Map&lt;Key, Integer&gt; map = new IdentityHashMap&lt;&gt;();\r\n        Key mainKey = new Key(&quot;main&quot;);\r\n        map.put(mainKey, 1);\r\n        ExecutorService executor = Executors.newFixedThreadPool(4);\r\n        assertNotNull(map.get(mainKey));\r\n        for (int i = 0; i &lt;= 5; i++) {\r\n            executor.submit(() -&gt; {\r\n                for (int j = 1; j &lt;= 5; j++) {\r\n                    map.put(new Key(&quot;random&quot;), ThreadLocalRandom.current().nextInt());\r\n                }\r\n            });\r\n        }\r\n        executor.shutdown();\r\n        assertTrue(executor.awaitTermination(30, TimeUnit.SECONDS));\r\n        assertNotNull(map.get(mainKey));\r\n    }\r\n}\r\n```\r\n\r\nI insert `mainKey` even before I am making concurrent updates to the `IdentityHashMap`, but after all the threads have been shutdown I can see the value has disappeared from the map in some cases. Note not all 100 invocations of the `RepeatedTest` fail, but on an average 10-20 invocations fail.\r\n\r\nI suspect that this might be because of re-sizing, because if I initialize the IdentityHashMap with a large `expectedMaxSize` all tests pass. Also I see special handling of resize in the put of IdentityHashMap, so that adds to my suspicion.\r\n\r\nI want to understand how exactly is the value getting *erased* from the IdentityHashMap. I already know the fix of the problem (i.e use a thread safe data structure like `ConcurrentHashMap`, I am interested to understand the *exact root cause* of this inconsistency.","title":"Why is key being deleted by IdentityHashMap","body":"<p>I know <code>IdentityHashMap</code> is not a thread safe data structure, so the below test failing is not a total surprise. Having said that, my understanding of non-Concurrent and non-synchronized maps being not thread-safe was that there is no <em>happens before</em> relation between the put of the value in the map, and the get of the value, so a thread that receives the value from the cache, doesn’t need to see all fields if the value has publication problems.</p>\n<p>However I am unable to understand how a Map can loose values even if it not thread safe. See the below reprex,</p>\n<pre><code>import org.junit.jupiter.api.RepeatedTest;\n\nimport java.util.IdentityHashMap;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadLocalRandom;\nimport java.util.concurrent.TimeUnit;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\nclass IdentityHashmapTest {\n\n    static class Key {\n        final String description;\n\n        Key(String description) {\n            this.description = description;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Key{&quot; +\n                    &quot;description='&quot; + description + '\\'' +\n                    '}';\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            return this == o;\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(description);\n        }\n    }\n\n    @RepeatedTest(100)\n    void testConcurrency() throws InterruptedException {\n        final Map&lt;Key, Integer&gt; map = new IdentityHashMap&lt;&gt;();\n        Key mainKey = new Key(&quot;main&quot;);\n        map.put(mainKey, 1);\n        ExecutorService executor = Executors.newFixedThreadPool(4);\n        assertNotNull(map.get(mainKey));\n        for (int i = 0; i &lt;= 5; i++) {\n            executor.submit(() -&gt; {\n                for (int j = 1; j &lt;= 5; j++) {\n                    map.put(new Key(&quot;random&quot;), ThreadLocalRandom.current().nextInt());\n                }\n            });\n        }\n        executor.shutdown();\n        assertTrue(executor.awaitTermination(30, TimeUnit.SECONDS));\n        assertNotNull(map.get(mainKey));\n    }\n}\n</code></pre>\n<p>I insert <code>mainKey</code> even before I am making concurrent updates to the <code>IdentityHashMap</code>, but after all the threads have been shutdown I can see the value has disappeared from the map in some cases. Note not all 100 invocations of the <code>RepeatedTest</code> fail, but on an average 10-20 invocations fail.</p>\n<p>I suspect that this might be because of re-sizing, because if I initialize the IdentityHashMap with a large <code>expectedMaxSize</code> all tests pass. Also I see special handling of resize in the put of IdentityHashMap, so that adds to my suspicion.</p>\n<p>I want to understand how exactly is the value getting <em>erased</em> from the IdentityHashMap. I already know the fix of the problem (i.e use a thread safe data structure like <code>ConcurrentHashMap</code>, I am interested to understand the <em>exact root cause</em> of this inconsistency.</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"score":1,"creation_date":1674956283,"post_id":75271588,"comment_id":132824560,"body_markdown":"Are you able to compile the project via Gradle on the command line directly? If so, in IntelliJ&#39;s Gradle tool window, hit that little refresh button and see if that works.","body":"Are you able to compile the project via Gradle on the command line directly? If so, in IntelliJ&#39;s Gradle tool window, hit that little refresh button and see if that works."},{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1674961720,"post_id":75271588,"comment_id":132825045,"body_markdown":"the intellij gradle tool disappeared after I clicked unlink gradle.","body":"the intellij gradle tool disappeared after I clicked unlink gradle."},{"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"score":0,"creation_date":1674962514,"post_id":75271588,"comment_id":132825128,"body_markdown":"Try the &quot;Notifications&quot; tool window, sometimes it will have a notification asking you to reload the Gradle project.","body":"Try the &quot;Notifications&quot; tool window, sometimes it will have a notification asking you to reload the Gradle project."}],"answers":[{"comments":[{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1674961743,"post_id":75272352,"comment_id":132825049,"body_markdown":"tried this as well as invalidating caches too.","body":"tried this as well as invalidating caches too."},{"owner":{"account_id":18882550,"reputation":146,"user_id":13774637,"display_name":"Ethan Yin"},"score":0,"creation_date":1674962412,"post_id":75272352,"comment_id":132825113,"body_markdown":"Make sure the Gradle and the Gradle Extension plugins are enabled.","body":"Make sure the Gradle and the Gradle Extension plugins are enabled."}],"tags":[],"owner":{"account_id":18882550,"reputation":146,"user_id":13774637,"display_name":"Ethan Yin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674961015,"creation_date":1674961015,"answer_id":75272352,"question_id":75271588,"body_markdown":"Try deleting the .idea folder under the project root and reopen the project.","title":"Java project with Gradle is not compiling on Intellij","body":"<p>Try deleting the .idea folder under the project root and reopen the project.</p>\n"}],"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1674961015,"creation_date":1674948022,"question_id":75271588,"body_markdown":"I am not able to compile my Java project. The intellij is not able to detect the Java files as well. I did clink &quot;unlink Gradle&quot; and it started happening after that. I want to fix the gradle settings but I am not able to view the options as well. The gradle tab on the right of the intellij is not visible too. Thank you\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qjFB3.png","title":"Java project with Gradle is not compiling on Intellij","body":"<p>I am not able to compile my Java project. The intellij is not able to detect the Java files as well. I did clink &quot;unlink Gradle&quot; and it started happening after that. I want to fix the gradle settings but I am not able to view the options as well. The gradle tab on the right of the intellij is not visible too. Thank you</p>\n<p><a href=\"https://i.stack.imgur.com/qjFB3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qjFB3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674950425,"post_id":75271714,"comment_id":132823906,"body_markdown":"There&#39;s no package statement on `Converter`","body":"There&#39;s no package statement on <code>Converter</code>"},{"owner":{"account_id":27645972,"reputation":1,"user_id":21101861,"display_name":"Mark Ainsworth"},"score":0,"creation_date":1674952400,"post_id":75271714,"comment_id":132824172,"body_markdown":"@TimMoore - apologies, looks like the code block edited it out. I have it assigned to the same package as the first file for simplicity sake at the moment.","body":"@TimMoore - apologies, looks like the code block edited it out. I have it assigned to the same package as the first file for simplicity sake at the moment."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674952651,"post_id":75271714,"comment_id":132824199,"body_markdown":"Looks OK, then. How are you compiling and running?","body":"Looks OK, then. How are you compiling and running?"},{"owner":{"account_id":27645972,"reputation":1,"user_id":21101861,"display_name":"Mark Ainsworth"},"score":0,"creation_date":1674953350,"post_id":75271714,"comment_id":132824267,"body_markdown":"@TimMoore thanks for the response! I&#39;m using VisualStudio&#39;s terminal, my command line is javac temptable.java and javac converter.java","body":"@TimMoore thanks for the response! I&#39;m using VisualStudio&#39;s terminal, my command line is javac temptable.java and javac converter.java"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1674953856,"post_id":75271714,"comment_id":132824328,"body_markdown":"You need to give javac the correct classpath so that it can find Converter. Try `java -cp .. converter.java`. As you&#39;re building in the package directory, `temp`, `javac` is looking for `Concverter` in `temp/Converter.class`, relative to the current working directory, which in your case is the `temp` directory which contains the source files.","body":"You need to give javac the correct classpath so that it can find Converter. Try <code>java -cp .. converter.java</code>. As you&#39;re building in the package directory, <code>temp</code>, <code>javac</code> is looking for <code>Concverter</code> in <code>temp&#47;Converter.class</code>, relative to the current working directory, which in your case is the <code>temp</code> directory which contains the source files."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1674953959,"post_id":75271714,"comment_id":132824341,"body_markdown":"Alternatively, work in the parent directory of `temp`, and use `javac temp/&lt;class&gt;.java`. Better still, build with maven.","body":"Alternatively, work in the parent directory of <code>temp</code>, and use <code>javac temp&#47;&lt;class&gt;.java</code>. Better still, build with maven."}],"answers":[{"tags":[],"owner":{"account_id":27645972,"reputation":1,"user_id":21101861,"display_name":"Mark Ainsworth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674961005,"creation_date":1674961005,"answer_id":75272350,"question_id":75271714,"body_markdown":"I solved the problem.\r\nin the file Converter.java, compile it with a -d option:\r\n&gt; javac -d . Converter.java\r\n\r\nThis puts Converter.class inside a subfolder &#39;temp&#39;, because of the &quot;package temp;&quot; statement.\r\n\r\nThen, delete the &quot;package temp;&quot; statement from TempTable.java; it serves no useful purpose for this example.\r\n\r\nThe &quot;import temp.*;&quot; statement is OK, keep it.\r\n\r\nThen, compile the TempTable.java in the normal fashion:\r\n&gt; javac TempTable.java\r\n\r\nThe TempTable.class file should be in the same folder. You should be able to run it normally:\r\n&gt; java TempTable","title":"Java compiler cannot find symbol for a class in another file","body":"<p>I solved the problem.\nin the file Converter.java, compile it with a -d option:</p>\n<blockquote>\n<p>javac -d . Converter.java</p>\n</blockquote>\n<p>This puts Converter.class inside a subfolder 'temp', because of the &quot;package temp;&quot; statement.</p>\n<p>Then, delete the &quot;package temp;&quot; statement from TempTable.java; it serves no useful purpose for this example.</p>\n<p>The &quot;import temp.*;&quot; statement is OK, keep it.</p>\n<p>Then, compile the TempTable.java in the normal fashion:</p>\n<blockquote>\n<p>javac TempTable.java</p>\n</blockquote>\n<p>The TempTable.class file should be in the same folder. You should be able to run it normally:</p>\n<blockquote>\n<p>java TempTable</p>\n</blockquote>\n"}],"owner":{"account_id":27645972,"reputation":1,"user_id":21101861,"display_name":"Mark Ainsworth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675010850,"answer_count":1,"score":0,"last_activity_date":1674961005,"creation_date":1674949923,"question_id":75271714,"body_markdown":"I have two files in the same folder &#39;temp&#39;. One file compiles fine, but for the other the compiler throws &quot;java:13: error: cannot find symbol&quot; for the name of a class in the first file. I don&#39;t know how to resolve this, thanks in advance for any help!\r\n\r\nMain file, doesn&#39;t compile, can&#39;t find &#39;Converter&#39;:\r\n\r\n```\r\npackage temp;\r\nimport temp.*;\r\n\r\n/**\r\n * A simple class that uses classes in named packages.\r\n */\r\npublic class TempTable {\r\n\r\n   /**\r\n    * A program that prints out a temperature conversion table\r\n    * @param args The command-line arguments\r\n    */\r\n   public static void main(String[] args) {\r\n   \r\n      double f = Converter.c2f(0);\r\n      // print out headers\r\n      System.out.println(&quot;Celsius  Fahrenheit&quot;);\r\n      \r\n      // print out values\r\n      \r\n   }\r\n}\r\n```\r\n\r\nSecondary file, with the class that can&#39;t be found:\r\n\r\n```\r\npackage temp;\r\n\r\n/**\r\n * A simple supplier class that converts temperature values.\r\n */\r\npublic class Converter {\r\n\r\n   /**\r\n    * Converts Celsius to Fahrenheit.\r\n    * @param value The Celsius temperature to be converted\r\n    * @return      The calculated Fahrenheit temperature\r\n    */\r\n   public static double c2f(double value) {\r\n   \r\n      return 0;\r\n      \r\n   }\r\n}\r\n```","title":"Java compiler cannot find symbol for a class in another file","body":"<p>I have two files in the same folder 'temp'. One file compiles fine, but for the other the compiler throws &quot;java:13: error: cannot find symbol&quot; for the name of a class in the first file. I don't know how to resolve this, thanks in advance for any help!</p>\n<p>Main file, doesn't compile, can't find 'Converter':</p>\n<pre><code>package temp;\nimport temp.*;\n\n/**\n * A simple class that uses classes in named packages.\n */\npublic class TempTable {\n\n   /**\n    * A program that prints out a temperature conversion table\n    * @param args The command-line arguments\n    */\n   public static void main(String[] args) {\n   \n      double f = Converter.c2f(0);\n      // print out headers\n      System.out.println(&quot;Celsius  Fahrenheit&quot;);\n      \n      // print out values\n      \n   }\n}\n</code></pre>\n<p>Secondary file, with the class that can't be found:</p>\n<pre><code>package temp;\n\n/**\n * A simple supplier class that converts temperature values.\n */\npublic class Converter {\n\n   /**\n    * Converts Celsius to Fahrenheit.\n    * @param value The Celsius temperature to be converted\n    * @return      The calculated Fahrenheit temperature\n    */\n   public static double c2f(double value) {\n   \n      return 0;\n      \n   }\n}\n</code></pre>\n"},{"tags":["java","junit","integration-testing","junit4"],"answers":[{"tags":[],"owner":{"account_id":27625246,"reputation":29,"user_id":21085370,"display_name":"Daniel Delimata"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674960534,"creation_date":1674960534,"answer_id":75272318,"question_id":29252250,"body_markdown":"You can add `Main` class with `main` method that calls JUnit4 tests and adds an `AllureJunit4` listener.\r\n\r\n```java\r\npackage samples;\r\n\r\nimport io.qameta.allure.junit4.AllureJunit4;\r\nimport org.junit.runner.JUnitCore;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        JUnitCore engine = new JUnitCore();\r\n        engine.addListener(new AllureJunit4());\r\n        engine.run(SampleTest.class);\r\n    }\r\n}\r\n```\r\n\r\nLet us say that your pom.xml looks as follows.\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.test.classes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-maven&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n        &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-junit4&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptors&gt;\r\n                        &lt;descriptor&gt;src/main/assembly/assembly.xml&lt;/descriptor&gt;\r\n                    &lt;/descriptors&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;archive&gt;\r\n                                &lt;manifest&gt;\r\n                                    &lt;mainClass&gt;samples.Main&lt;/mainClass&gt;\r\n                                &lt;/manifest&gt;\r\n                            &lt;/archive&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nand `assembly.xml`\r\n```xml\r\n&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\r\n    &lt;id&gt;fat-tests&lt;/id&gt;\r\n    &lt;formats&gt;\r\n        &lt;format&gt;jar&lt;/format&gt;\r\n    &lt;/formats&gt;\r\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n    &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n            &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n            &lt;unpack&gt;true&lt;/unpack&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependencySet&gt;\r\n    &lt;/dependencySets&gt;\r\n    &lt;fileSets&gt;\r\n        &lt;fileSet&gt;\r\n            &lt;directory&gt;${project.build.directory}/test-classes&lt;/directory&gt;\r\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*.class&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n            &lt;useDefaultExcludes&gt;true&lt;/useDefaultExcludes&gt;\r\n        &lt;/fileSet&gt;\r\n    &lt;/fileSets&gt;\r\n&lt;/assembly&gt;\r\n```\r\n\r\nYour test can be enriched with Allure annotations.\r\n```\r\npackage samples;\r\n\r\n\r\nimport io.qameta.allure.Description;\r\nimport io.qameta.allure.Feature;\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\n\r\npublic class SampleTest {\r\n    @Test\r\n    @Description(\r\n            &quot;&quot;&quot;\r\n            Here we can provide longer description.\r\n            Even the whole user story in bullet points\r\n              * As a ...\r\n              * I want to ...\r\n              * in order to ...&quot;&quot;&quot;\r\n    )\r\n    @Feature(&quot;Feature 1&quot;)\r\n    public void first(){\r\n        System.out.println(&quot;first&quot;);\r\n        Assert.assertEquals(&quot;1&quot;, &quot;1&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void second(){\r\n        System.out.println(&quot;second&quot;);\r\n        Assert.assertEquals(&quot;2&quot;, &quot;3&quot;);\r\n    }\r\n}\r\n```\r\n\r\nTo pack the jar:\r\n\r\n```bash\r\nmvn clean package\r\n```\r\n\r\nTo run tests\r\n```bash\r\njava -jar junit-maven-1.0-SNAPSHOT-fat-tests.jar\r\n```\r\nIt will create `allure-results` directory.\r\n\r\nFinally, you can use the [Allure command line][1] to serve the results.\r\n```bash\r\nallure serve allure-results\r\n```\r\n\r\n[The results][2]\r\n\r\n\r\n  [1]: https://docs.qameta.io/allure/#_installing_a_commandline\r\n  [2]: https://i.stack.imgur.com/G9Ilc.png","title":"Run JUnit tests standalone with reporting","body":"<p>You can add <code>Main</code> class with <code>main</code> method that calls JUnit4 tests and adds an <code>AllureJunit4</code> listener.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package samples;\n\nimport io.qameta.allure.junit4.AllureJunit4;\nimport org.junit.runner.JUnitCore;\n\npublic class Main {\n    public static void main(String[] args) {\n        JUnitCore engine = new JUnitCore();\n        engine.addListener(new AllureJunit4());\n        engine.run(SampleTest.class);\n    }\n}\n</code></pre>\n<p>Let us say that your pom.xml looks as follows.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.test.classes&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-maven&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n        &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-junit4&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptors&gt;\n                        &lt;descriptor&gt;src/main/assembly/assembly.xml&lt;/descriptor&gt;\n                    &lt;/descriptors&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;mainClass&gt;samples.Main&lt;/mainClass&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and <code>assembly.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\n    &lt;id&gt;fat-tests&lt;/id&gt;\n    &lt;formats&gt;\n        &lt;format&gt;jar&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n    &lt;dependencySets&gt;\n        &lt;dependencySet&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n            &lt;unpack&gt;true&lt;/unpack&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependencySet&gt;\n    &lt;/dependencySets&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.build.directory}/test-classes&lt;/directory&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.class&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;useDefaultExcludes&gt;true&lt;/useDefaultExcludes&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>Your test can be enriched with Allure annotations.</p>\n<pre><code>package samples;\n\n\nimport io.qameta.allure.Description;\nimport io.qameta.allure.Feature;\nimport org.junit.Assert;\nimport org.junit.Test;\n\npublic class SampleTest {\n    @Test\n    @Description(\n            &quot;&quot;&quot;\n            Here we can provide longer description.\n            Even the whole user story in bullet points\n              * As a ...\n              * I want to ...\n              * in order to ...&quot;&quot;&quot;\n    )\n    @Feature(&quot;Feature 1&quot;)\n    public void first(){\n        System.out.println(&quot;first&quot;);\n        Assert.assertEquals(&quot;1&quot;, &quot;1&quot;);\n    }\n\n    @Test\n    public void second(){\n        System.out.println(&quot;second&quot;);\n        Assert.assertEquals(&quot;2&quot;, &quot;3&quot;);\n    }\n}\n</code></pre>\n<p>To pack the jar:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean package\n</code></pre>\n<p>To run tests</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar junit-maven-1.0-SNAPSHOT-fat-tests.jar\n</code></pre>\n<p>It will create <code>allure-results</code> directory.</p>\n<p>Finally, you can use the <a href=\"https://docs.qameta.io/allure/#_installing_a_commandline\" rel=\"nofollow noreferrer\">Allure command line</a> to serve the results.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>allure serve allure-results\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G9Ilc.png\" rel=\"nofollow noreferrer\">The results</a></p>\n"}],"owner":{"account_id":2459621,"reputation":1013,"user_id":2144057,"accept_rate":71,"display_name":"Kamil Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1674960534,"creation_date":1427276906,"question_id":29252250,"body_markdown":"How can one run junit tests and get some nice (e.g. gradle-like html) reporting from them without project source code (e.g. tests + dependencies packaged in an uber jar)?\r\n\r\nI can package the tests and maven into runnable jar with maven assembly plugin, run this jar with help of https://stackoverflow.com/questions/2235276/how-to-run-junit-test-cases-from-the-command-line but how can one create some nice test results report then?","title":"Run JUnit tests standalone with reporting","body":"<p>How can one run junit tests and get some nice (e.g. gradle-like html) reporting from them without project source code (e.g. tests + dependencies packaged in an uber jar)?</p>\n\n<p>I can package the tests and maven into runnable jar with maven assembly plugin, run this jar with help of <a href=\"https://stackoverflow.com/questions/2235276/how-to-run-junit-test-cases-from-the-command-line\">How to run JUnit test cases from the command line</a> but how can one create some nice test results report then?</p>\n"},{"tags":["java","arrays","parameter-passing","reflections"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674962826,"post_id":75272274,"comment_id":132825156,"body_markdown":"Invoke takes an array of Object as it&#39;s second parameter. Have you tried `m.invoke(current, p)`?","body":"Invoke takes an array of Object as it&#39;s second parameter. Have you tried <code>m.invoke(current, p)</code>?"},{"owner":{"account_id":22730911,"reputation":9,"user_id":16893837,"display_name":"Creepabob"},"score":0,"creation_date":1674963115,"post_id":75272274,"comment_id":132825180,"body_markdown":"@tgdavies oh my god thank you so much, i don&#39;t know why i didn&#39;t try that earlier","body":"@tgdavies oh my god thank you so much, i don&#39;t know why i didn&#39;t try that earlier"}],"owner":{"account_id":22730911,"reputation":9,"user_id":16893837,"display_name":"Creepabob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674959677,"creation_date":1674959677,"question_id":75272274,"body_markdown":"I&#39;m over-engineering a photo project right now and trying to make it really easy to add more images with filters to a collage of images. I have a 2D array of all the pictures, a 2D array of all the methods to call, and a 3D array of Objects. I went with a 3D array of objects to represent the parameters since each method has a differing number of parameters and different types (i.e. int, Color, etc). Right now, I am able to pass the parameters but it is hard-capped at three, and to increase that number I have to hard code in more if statements. My code is as follows:\r\n\r\n```\r\nfor (int row = 0; row &lt; pictures.length; row++)\r\n        {\r\n            for (int col = 0; col &lt; pictures[row].length; col++)\r\n            {\r\n                Picture current = pictures[row][col];\r\n                Method m = methods[row][col];\r\n                Object[] p = parameters[row][col];\r\n                \r\n                int numOfParameters = p.length;\r\n                \r\n                if (numOfParameters == 0)\r\n                    m.invoke(current);\r\n                else if (numOfParameters == 1)\r\n                    m.invoke(current, p[0]);\r\n                else if (numOfParameters == 2)\r\n                    m.invoke(current, p[0], p[1]);\r\n                else if (numOfParameters == 3)\r\n                    m.invoke(current, p[0], p[1], p[2]);\r\n                \r\n                canvas.cropAndCopy(current, 0, height, 0, width, height * row, width * col);\r\n            }\r\n        }\r\n```\r\n\r\nWould it be possible to do something like\r\n\r\n```\r\nm.invoke(currentPicture, unpack(p));\r\n```\r\nIn such a way that it is equal to this\r\n\r\n```\r\nm.invoke(currentPicture);\r\n```\r\nthis,\r\n```\r\nm.invoke(currentPicture, param1);\r\n```\r\nthis,\r\n\r\n```\r\nm.invoke(currentPicture, param1, param2);\r\n```\r\netc. depending on the size of the array\r\nor something so that it automatically adjusts to the number of parameters?\r\n\r\nI have searched essentially everywhere to find an answer, but the only thing I&#39;m seeing is varargs, which isn&#39;t what I&#39;m looking for, I need a way to send one parameter but &quot;unpack&quot; it into n number of parameters where n represents the size of the array","title":"Java take Object array of dynamic size and convert it to individual parameters","body":"<p>I'm over-engineering a photo project right now and trying to make it really easy to add more images with filters to a collage of images. I have a 2D array of all the pictures, a 2D array of all the methods to call, and a 3D array of Objects. I went with a 3D array of objects to represent the parameters since each method has a differing number of parameters and different types (i.e. int, Color, etc). Right now, I am able to pass the parameters but it is hard-capped at three, and to increase that number I have to hard code in more if statements. My code is as follows:</p>\n<pre><code>for (int row = 0; row &lt; pictures.length; row++)\n        {\n            for (int col = 0; col &lt; pictures[row].length; col++)\n            {\n                Picture current = pictures[row][col];\n                Method m = methods[row][col];\n                Object[] p = parameters[row][col];\n                \n                int numOfParameters = p.length;\n                \n                if (numOfParameters == 0)\n                    m.invoke(current);\n                else if (numOfParameters == 1)\n                    m.invoke(current, p[0]);\n                else if (numOfParameters == 2)\n                    m.invoke(current, p[0], p[1]);\n                else if (numOfParameters == 3)\n                    m.invoke(current, p[0], p[1], p[2]);\n                \n                canvas.cropAndCopy(current, 0, height, 0, width, height * row, width * col);\n            }\n        }\n</code></pre>\n<p>Would it be possible to do something like</p>\n<pre><code>m.invoke(currentPicture, unpack(p));\n</code></pre>\n<p>In such a way that it is equal to this</p>\n<pre><code>m.invoke(currentPicture);\n</code></pre>\n<p>this,</p>\n<pre><code>m.invoke(currentPicture, param1);\n</code></pre>\n<p>this,</p>\n<pre><code>m.invoke(currentPicture, param1, param2);\n</code></pre>\n<p>etc. depending on the size of the array\nor something so that it automatically adjusts to the number of parameters?</p>\n<p>I have searched essentially everywhere to find an answer, but the only thing I'm seeing is varargs, which isn't what I'm looking for, I need a way to send one parameter but &quot;unpack&quot; it into n number of parameters where n represents the size of the array</p>\n"},{"tags":["java","maven","java-ee-8"],"answers":[{"comments":[{"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"score":0,"creation_date":1675003889,"post_id":75272247,"comment_id":132830434,"body_markdown":"What I can use instead of `org.jvnet.jax-ws-commons:jaxws-maven-plugin` ?","body":"What I can use instead of <code>org.jvnet.jax-ws-commons:jaxws-maven-plugin</code> ?"},{"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"score":0,"creation_date":1675028142,"post_id":75272247,"comment_id":132835109,"body_markdown":"You can try https://eclipse-ee4j.github.io/metro-wsit/ (I have no experience with it).","body":"You can try <a href=\"https://eclipse-ee4j.github.io/metro-wsit/\" rel=\"nofollow noreferrer\">eclipse-ee4j.github.io/metro-wsit</a> (I have no experience with it)."}],"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674959113,"creation_date":1674959113,"answer_id":75272247,"question_id":75268825,"body_markdown":"From the stack trace, you are using [org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2][1] which pulls in `com.sun.xml.ws:jaxws-ri:2.2.6`, and that version does not have the `com.sun.xml.ws.util.xml.XmlUtil.newDocumentBuilderFactory(boolean)` method.\r\n\r\nI see that you are trying to override that to version 2.3.3 in the pom, but you need to put the override inside the plugin section instead:\r\n\r\n```xml\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jaxws-maven-plugin.version}&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxws-tools&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.3.3&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n```\r\n\r\nBut I would suggest you find a replacement for `org.jvnet.jax-ws-commons:jaxws-maven-plugin` instead as that project is obsolete.\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.jvnet.jax-ws-commons/jaxws-maven-plugin/2.2","title":"MojoExecutionException while run jaxws-maven-plugin","body":"<p>From the stack trace, you are using <a href=\"https://mvnrepository.com/artifact/org.jvnet.jax-ws-commons/jaxws-maven-plugin/2.2\" rel=\"nofollow noreferrer\">org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2</a> which pulls in <code>com.sun.xml.ws:jaxws-ri:2.2.6</code>, and that version does not have the <code>com.sun.xml.ws.util.xml.XmlUtil.newDocumentBuilderFactory(boolean)</code> method.</p>\n<p>I see that you are trying to override that to version 2.3.3 in the pom, but you need to put the override inside the plugin section instead:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jaxws-maven-plugin.version}&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxws-tools&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.3&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n</code></pre>\n<p>But I would suggest you find a replacement for <code>org.jvnet.jax-ws-commons:jaxws-maven-plugin</code> instead as that project is obsolete.</p>\n"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674959113,"creation_date":1674920484,"question_id":75268825,"body_markdown":"Got `MojoExecutionException` exception while generate WSDL with maven plugin. How to start solving this problem?\r\n\r\n    [ERROR] Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2:wsgen (generate-wsdl) on project helloservice-war: Failed to execute wsgen: &#39;javax.xml.parsers.DocumentBuilderFactory com.sun.xml.ws.util.xml.XmlUtil.newDocumentBuilderFactory(boolean)&#39; -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2:wsgen (generate-wsdl) on project helloservice-war: Failed to execute wsgen\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:306)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Failed to execute wsgen\r\n        at org.jvnet.jax_ws_commons.jaxws.AbstractWsGenMojo.execute (AbstractWsGenMojo.java:148)\r\n        at org.jvnet.jax_ws_commons.jaxws.MainWsGenMojo.execute (MainWsGenMojo.java:95)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.NoSuchMethodError: &#39;javax.xml.parsers.DocumentBuilderFactory com.sun.xml.ws.util.xml.XmlUtil.newDocumentBuilderFactory(boolean)&#39;\r\n        at com.sun.xml.ws.db.toplink.JAXBContextFactory.&lt;clinit&gt; (JAXBContextFactory.java:184)\r\n        at java.lang.Class.forName0 (Native Method)\r\n        at java.lang.Class.forName (Class.java:467)\r\n        at com.sun.xml.ws.util.ServiceFinder$LazyIterator.next (ServiceFinder.java:460)\r\n        at com.sun.xml.ws.util.ServiceFinder$CompositeIterator.next (ServiceFinder.java:402)\r\n        at com.sun.xml.ws.spi.db.BindingContextFactory$1.hasNext (BindingContextFactory.java:80)\r\n        at com.sun.xml.ws.spi.db.BindingContextFactory.factories (BindingContextFactory.java:110)\r\n        at com.sun.xml.ws.spi.db.BindingContextFactory.create (BindingContextFactory.java:176)\r\n        at com.sun.xml.ws.model.AbstractSEIModelImpl$1.run (AbstractSEIModelImpl.java:213)\r\n        at com.sun.xml.ws.model.AbstractSEIModelImpl$1.run (AbstractSEIModelImpl.java:186)\r\n        at java.security.AccessController.doPrivileged (AccessController.java:569)\r\n        at com.sun.xml.ws.model.AbstractSEIModelImpl.createJAXBContext (AbstractSEIModelImpl.java:186)\r\n        at com.sun.xml.ws.model.AbstractSEIModelImpl.postProcess (AbstractSEIModelImpl.java:111)\r\n        at com.sun.xml.ws.model.RuntimeModeler.buildRuntimeModel (RuntimeModeler.java:318)\r\n        at com.sun.xml.ws.db.DatabindingImpl.&lt;init&gt; (DatabindingImpl.java:99)\r\n        at com.sun.xml.ws.db.DatabindingProviderImpl.create (DatabindingProviderImpl.java:74)\r\n        at com.sun.xml.ws.db.DatabindingProviderImpl.create (DatabindingProviderImpl.java:58)\r\n        at com.sun.xml.ws.db.DatabindingFactoryImpl.createRuntime (DatabindingFactoryImpl.java:130)\r\n        at com.sun.tools.ws.wscompile.WsgenTool.buildModel (WsgenTool.java:236)\r\n        at com.sun.tools.ws.wscompile.WsgenTool.run (WsgenTool.java:124)\r\n        at com.sun.tools.ws.WsGen.doMain (WsGen.java:74)\r\n        at org.jvnet.jax_ws_commons.jaxws.AbstractWsGenMojo.execute (AbstractWsGenMojo.java:142)\r\n        at org.jvnet.jax_ws_commons.jaxws.MainWsGenMojo.execute (MainWsGenMojo.java:95)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [ERROR]\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n\r\n\r\n\r\n\r\nPOM.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.glassfish.javaeetutorial&lt;/groupId&gt;\r\n        &lt;artifactId&gt;helloservice-war&lt;/artifactId&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;name&gt;helloservice-war&lt;/name&gt;\r\n        &lt;description&gt;Simple example JAX-WS web service.&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.glassfish.javaeetutorial&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${jaxws-maven-plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;generate-wsdl&lt;/id&gt;\r\n                            &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;wsgen&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;sei&gt;javaeetutorial.helloservice.Hello&lt;/sei&gt;\r\n                                &lt;genWsdl&gt;true&lt;/genWsdl&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;deployables&gt;\r\n                            &lt;deployable&gt;\r\n                            &lt;properties&gt;\r\n                                &lt;context&gt;helloservice&lt;/context&gt;\r\n                            &lt;/properties&gt;\r\n                            &lt;/deployable&gt;\r\n                        &lt;/deployables&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n              &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n              &lt;version&gt;2.3.3&lt;/version&gt;\r\n              &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"MojoExecutionException while run jaxws-maven-plugin","body":"<p>Got <code>MojoExecutionException</code> exception while generate WSDL with maven plugin. How to start solving this problem?</p>\n<pre><code>[ERROR] Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2:wsgen (generate-wsdl) on project helloservice-war: Failed to execute wsgen: 'javax.xml.parsers.DocumentBuilderFactory com.sun.xml.ws.util.xml.XmlUtil.newDocumentBuilderFactory(boolean)' -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2:wsgen (generate-wsdl) on project helloservice-war: Failed to execute wsgen\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:306)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Failed to execute wsgen\n    at org.jvnet.jax_ws_commons.jaxws.AbstractWsGenMojo.execute (AbstractWsGenMojo.java:148)\n    at org.jvnet.jax_ws_commons.jaxws.MainWsGenMojo.execute (MainWsGenMojo.java:95)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.NoSuchMethodError: 'javax.xml.parsers.DocumentBuilderFactory com.sun.xml.ws.util.xml.XmlUtil.newDocumentBuilderFactory(boolean)'\n    at com.sun.xml.ws.db.toplink.JAXBContextFactory.&lt;clinit&gt; (JAXBContextFactory.java:184)\n    at java.lang.Class.forName0 (Native Method)\n    at java.lang.Class.forName (Class.java:467)\n    at com.sun.xml.ws.util.ServiceFinder$LazyIterator.next (ServiceFinder.java:460)\n    at com.sun.xml.ws.util.ServiceFinder$CompositeIterator.next (ServiceFinder.java:402)\n    at com.sun.xml.ws.spi.db.BindingContextFactory$1.hasNext (BindingContextFactory.java:80)\n    at com.sun.xml.ws.spi.db.BindingContextFactory.factories (BindingContextFactory.java:110)\n    at com.sun.xml.ws.spi.db.BindingContextFactory.create (BindingContextFactory.java:176)\n    at com.sun.xml.ws.model.AbstractSEIModelImpl$1.run (AbstractSEIModelImpl.java:213)\n    at com.sun.xml.ws.model.AbstractSEIModelImpl$1.run (AbstractSEIModelImpl.java:186)\n    at java.security.AccessController.doPrivileged (AccessController.java:569)\n    at com.sun.xml.ws.model.AbstractSEIModelImpl.createJAXBContext (AbstractSEIModelImpl.java:186)\n    at com.sun.xml.ws.model.AbstractSEIModelImpl.postProcess (AbstractSEIModelImpl.java:111)\n    at com.sun.xml.ws.model.RuntimeModeler.buildRuntimeModel (RuntimeModeler.java:318)\n    at com.sun.xml.ws.db.DatabindingImpl.&lt;init&gt; (DatabindingImpl.java:99)\n    at com.sun.xml.ws.db.DatabindingProviderImpl.create (DatabindingProviderImpl.java:74)\n    at com.sun.xml.ws.db.DatabindingProviderImpl.create (DatabindingProviderImpl.java:58)\n    at com.sun.xml.ws.db.DatabindingFactoryImpl.createRuntime (DatabindingFactoryImpl.java:130)\n    at com.sun.tools.ws.wscompile.WsgenTool.buildModel (WsgenTool.java:236)\n    at com.sun.tools.ws.wscompile.WsgenTool.run (WsgenTool.java:124)\n    at com.sun.tools.ws.WsGen.doMain (WsGen.java:74)\n    at org.jvnet.jax_ws_commons.jaxws.AbstractWsGenMojo.execute (AbstractWsGenMojo.java:142)\n    at org.jvnet.jax_ws_commons.jaxws.MainWsGenMojo.execute (MainWsGenMojo.java:95)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>POM.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.glassfish.javaeetutorial&lt;/groupId&gt;\n    &lt;artifactId&gt;helloservice-war&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;helloservice-war&lt;/name&gt;\n    &lt;description&gt;Simple example JAX-WS web service.&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.glassfish.javaeetutorial&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws&lt;/artifactId&gt;\n        &lt;version&gt;8.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jaxws-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-wsdl&lt;/id&gt;\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsgen&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sei&gt;javaeetutorial.helloservice.Hello&lt;/sei&gt;\n                            &lt;genWsdl&gt;true&lt;/genWsdl&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n                &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;deployables&gt;\n                        &lt;deployable&gt;\n                        &lt;properties&gt;\n                            &lt;context&gt;helloservice&lt;/context&gt;\n                        &lt;/properties&gt;\n                        &lt;/deployable&gt;\n                    &lt;/deployables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n          &lt;version&gt;2.3.3&lt;/version&gt;\n          &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","web-scraping","tiktok"],"owner":{"account_id":23659651,"reputation":104,"user_id":17687406,"display_name":"mi1000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674957655,"creation_date":1674957655,"question_id":75272177,"body_markdown":"I&#39;ve been trying to scrape data about a user&#39;s Tiktok posts through [an API](https://rapidapi.com/JoTucker/api/tiktok-scraper2).\r\n\r\nThe HTTP request works well, but the problem is that I&#39;d need infos about the 170 last videos or so from the aforementioned user , and the API only returns the last 20 videos, nothing more, even when I specify the timestamps, that is between the 20th December 2021 and the date of today.\r\n\r\nHere&#39;s the code I used for my request:\r\n\r\n\r\n```\r\nHttpRequest request = HttpRequest.newBuilder()\r\n\t\t\t\t.uri(URI.create(&quot;https://tiktok-scraper2.p.rapidapi.com/user/videos?sec_uid={SEC_UID}&amp;user_id={ID}&amp;user_name={USERNAME}&amp;min_cursor=1639958400000&amp;max_cursor=1674932652000&quot;))\r\n\t\t\t\t.header(&quot;X-RapidAPI-Key&quot;, &quot;{KEY}&quot;)\r\n\t\t\t\t.header(&quot;X-RapidAPI-Host&quot;, &quot;tiktok-scraper2.p.rapidapi.com&quot;)\r\n\t\t\t\t.method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\r\n\t\t\t\t.build();\r\n\t\tHttpResponse&lt;String&gt; response;\r\n\t\ttry {\r\n\t\t\tresponse = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\r\n\t\t\tSystem.out.println(response.body());\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(&quot;Erreur lors de l&#39;ex&#233;cution de la requ&#234;te : \\n&quot; + e.getMessage());\r\n\t\t}\r\n```\r\n\r\nAnd this is what I get from the console prints out (it doesn&#39;t print &quot;xxx&quot; by the way, I prefer to keep my info secure) after making it more readable in Notepad++:\r\n\r\n\r\n```\r\n{&quot;itemList&quot;:[{&quot;id&quot;:&quot;7193xxxxxxxxxxxxxxx&quot;,&quot;video&quot;:{&quot;cover&quot;:&quot;xxx&quot;}\r\n,&quot;stats&quot;:{&quot;commentCount&quot;:206,&quot;diggCount&quot;:57100,&quot;playCount&quot;:515500,&quot;shareCount&quot;:71}\r\n}\r\n,{&quot;id&quot;:&quot;7191xxxxxxxxxxxxxxx&quot;,&quot;video&quot;:{&quot;cover&quot;:&quot;xxx&quot;}\r\n,&quot;stats&quot;:{&quot;commentCount&quot;:25,&quot;diggCount&quot;:23600,&quot;playCount&quot;:153300,&quot;shareCount&quot;:22}\r\n}\r\n, (...) // Data\r\n,{&quot;id&quot;:&quot;7174xxxxxxxxxxxxxxx&quot;,&quot;video&quot;:{&quot;cover&quot;:&quot;xxx&quot;}\r\n,&quot;stats&quot;:{&quot;commentCount&quot;:2,&quot;diggCount&quot;:272,&quot;playCount&quot;:4737,&quot;shareCount&quot;:1}\r\n}\r\n],&quot;statusCode&quot;:0,&quot;status_code&quot;:0}\r\n```\r\n\r\nNow this is stopping at timestamp `1670284800000`, which means I&#39;m missing almost a year of data...\r\n\r\nI must also mention that I&#39;ve tried with other APIs, but they couldn&#39;t return more than 20 or 30 results, and only the latest ones, even when specified otherwise. I&#39;ve inspected the source code on the profile page and when doing Ctrl+F and searching `diggCount` it also returns about 30 results, in spite of me having scrolled all the way down to the first videos I want to analyse, I don&#39;t know if the problem might come from there ?\r\n\r\nAnyways anybody knows how to fix this problem is welcome, any advice is appreciated, even another functioning API, as this one seems to be the best free one I&#39;ve been able to find, but I might have missed out on some better ones.\r\n\r\nThank you in advance :)\r\n","title":"Unable to scrape full data on Tiktok","body":"<p>I've been trying to scrape data about a user's Tiktok posts through <a href=\"https://rapidapi.com/JoTucker/api/tiktok-scraper2\" rel=\"nofollow noreferrer\">an API</a>.</p>\n<p>The HTTP request works well, but the problem is that I'd need infos about the 170 last videos or so from the aforementioned user , and the API only returns the last 20 videos, nothing more, even when I specify the timestamps, that is between the 20th December 2021 and the date of today.</p>\n<p>Here's the code I used for my request:</p>\n<pre><code>HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;https://tiktok-scraper2.p.rapidapi.com/user/videos?sec_uid={SEC_UID}&amp;user_id={ID}&amp;user_name={USERNAME}&amp;min_cursor=1639958400000&amp;max_cursor=1674932652000&quot;))\n                .header(&quot;X-RapidAPI-Key&quot;, &quot;{KEY}&quot;)\n                .header(&quot;X-RapidAPI-Host&quot;, &quot;tiktok-scraper2.p.rapidapi.com&quot;)\n                .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\n                .build();\n        HttpResponse&lt;String&gt; response;\n        try {\n            response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\n            System.out.println(response.body());\n        } catch (Exception e) {\n            System.err.println(&quot;Erreur lors de l'exécution de la requête : \\n&quot; + e.getMessage());\n        }\n</code></pre>\n<p>And this is what I get from the console prints out (it doesn't print &quot;xxx&quot; by the way, I prefer to keep my info secure) after making it more readable in Notepad++:</p>\n<pre><code>{&quot;itemList&quot;:[{&quot;id&quot;:&quot;7193xxxxxxxxxxxxxxx&quot;,&quot;video&quot;:{&quot;cover&quot;:&quot;xxx&quot;}\n,&quot;stats&quot;:{&quot;commentCount&quot;:206,&quot;diggCount&quot;:57100,&quot;playCount&quot;:515500,&quot;shareCount&quot;:71}\n}\n,{&quot;id&quot;:&quot;7191xxxxxxxxxxxxxxx&quot;,&quot;video&quot;:{&quot;cover&quot;:&quot;xxx&quot;}\n,&quot;stats&quot;:{&quot;commentCount&quot;:25,&quot;diggCount&quot;:23600,&quot;playCount&quot;:153300,&quot;shareCount&quot;:22}\n}\n, (...) // Data\n,{&quot;id&quot;:&quot;7174xxxxxxxxxxxxxxx&quot;,&quot;video&quot;:{&quot;cover&quot;:&quot;xxx&quot;}\n,&quot;stats&quot;:{&quot;commentCount&quot;:2,&quot;diggCount&quot;:272,&quot;playCount&quot;:4737,&quot;shareCount&quot;:1}\n}\n],&quot;statusCode&quot;:0,&quot;status_code&quot;:0}\n</code></pre>\n<p>Now this is stopping at timestamp <code>1670284800000</code>, which means I'm missing almost a year of data...</p>\n<p>I must also mention that I've tried with other APIs, but they couldn't return more than 20 or 30 results, and only the latest ones, even when specified otherwise. I've inspected the source code on the profile page and when doing Ctrl+F and searching <code>diggCount</code> it also returns about 30 results, in spite of me having scrolled all the way down to the first videos I want to analyse, I don't know if the problem might come from there ?</p>\n<p>Anyways anybody knows how to fix this problem is welcome, any advice is appreciated, even another functioning API, as this one seems to be the best free one I've been able to find, but I might have missed out on some better ones.</p>\n<p>Thank you in advance :)</p>\n"},{"tags":["java","caching","transactions","ehcache"],"answers":[{"tags":[],"owner":{"account_id":13910808,"reputation":11,"user_id":10044058,"display_name":"Jebussz C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674957561,"creation_date":1674957561,"answer_id":75272171,"question_id":51216563,"body_markdown":"The timeout problem was related to not having hashCode/toString defined for the objects we were caching as is requested in the documentation.\r\n\r\nhttps://www.ehcache.org/documentation/2.8/apis/transactions.html#requirements\r\n\r\nAdding hashCode/toString solved the issue for myself.","title":"EHCache Local TransactionManager timeout on removal","body":"<p>The timeout problem was related to not having hashCode/toString defined for the objects we were caching as is requested in the documentation.</p>\n<p><a href=\"https://www.ehcache.org/documentation/2.8/apis/transactions.html#requirements\" rel=\"nofollow noreferrer\">https://www.ehcache.org/documentation/2.8/apis/transactions.html#requirements</a></p>\n<p>Adding hashCode/toString solved the issue for myself.</p>\n"}],"owner":{"account_id":13910808,"reputation":11,"user_id":10044058,"display_name":"Jebussz C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674957561,"creation_date":1530904978,"question_id":51216563,"body_markdown":"I am working on a project to incorporate ehCache. Currently I am writing JUnit tests to test the various behaviours. When adding a transaction manager I started seeing timeout issues on certain calls.\r\n\r\nCurrently using eHcache 2.10.5 but also tried 2.8.4\r\nBelow is my xml \r\n\r\n    \t&lt;cache name=&quot;ehCache_1&quot;\r\n\t\t   maxElementsInMemory=&quot;20&quot;\r\n\t\t   eternal=&quot;false&quot;\r\n\t\t   overflowToDisk=&quot;false&quot;\r\n\t\t   timeToLiveSeconds=&quot;50&quot;\r\n\t\t   timeToIdleSeconds=&quot;10&quot;\r\n\t\t   transactionalMode=&quot;local&quot;&gt;\r\n\r\nBelow here is my JUnit\r\n\r\n    @Test\r\n\tpublic void testEHCacheIssue(){\r\n\t\ttry{\r\n\t\t\tEhcache ehCache_1 = ehCacheManager.getCache(&quot;ehCache_1&quot;);\r\n\t\t\ttransactionManager = ehCacheManager.getTransactionController();\r\n\t\t\ttransactionManager.setDefaultTransactionTimeout(15);\r\n\t\t\t\r\n\t\t\ttransactionManager.begin();\r\n\t\t\tehCache_1.put(new Element(&quot;1&quot;, new TestElementPerson(1, &quot;firstName1&quot;, &quot;lastName1&quot;,&quot;email1@test.com&quot;,1234)));\r\n\t\t\ttransactionManager.commit();\r\n\r\n\t\t\ttransactionManager.begin();\r\n\t\t\tehCache_1.put(new Element(&quot;2&quot;, new TestElementPerson(2, &quot;firstName3&quot;, &quot;lastName3&quot;,&quot;email3@test.com&quot;,1234)));\r\n\t\t\ttransactionManager.commit();\r\n\t\t\t\r\n\t\t\ttransactionManager.begin();\r\n\t\t\tehCache_1.get(&quot;1&quot;);\r\n\t\t\ttransactionManager.commit();\r\n\t\t\t\r\n\t\t\ttransactionManager.begin(); \r\n\t\t\tehCache_1.remove(&quot;1&quot;);//Timeout happens here\r\n\t\t\ttransactionManager.commit();\r\n\r\n\t\t}catch(Exception ex){\r\n\t\t\tLOGGER.error(&quot;There was an exception&quot;, ex);\r\n\t\t\tAssert.fail();\r\n\t\t}\r\n\t}\r\nWhich throws the below error on the remove:\r\n\r\nThere was an exception\r\n\r\n&gt; net.sf.ehcache.transaction.TransactionTimeoutException: transaction\r\n&gt; [3] timed out \tat\r\n&gt; net.sf.ehcache.transaction.local.LocalTransactionStore.assertNotTimedOut(LocalTransactionStore.java:108)\r\n&gt; \tat\r\n&gt; net.sf.ehcache.transaction.local.LocalTransactionStore.remove(LocalTransactionStore.java:391)\r\n&gt; \tat\r\n&gt; net.sf.ehcache.store.AbstractCopyingCacheStore.remove(AbstractCopyingCacheStore.java:110)\r\n&gt; \tat\r\n&gt; net.sf.ehcache.store.TxCopyingCacheStore.remove(TxCopyingCacheStore.java:33)\r\n&gt; \tat net.sf.ehcache.Cache.removeInternal(Cache.java:2426) \tat\r\n&gt; net.sf.ehcache.Cache.remove(Cache.java:2331) \tat\r\n&gt; net.sf.ehcache.Cache.remove(Cache.java:2249) \tat\r\n&gt; net.sf.ehcache.Cache.remove(Cache.java:2227)\r\n\r\nI notice that if I do anything that involves put or remove on an already existing key I get this issue. I know the Transaction Manager puts locks on the key between the begin and commit and that the Transaction Manager&#39;s threads tend to timeout sometimes in concurrent environments, but Im unsure how I could use the Transaction Manager if it holds a lock on the object&#39;s key for any serious period of time. \r\n","title":"EHCache Local TransactionManager timeout on removal","body":"<p>I am working on a project to incorporate ehCache. Currently I am writing JUnit tests to test the various behaviours. When adding a transaction manager I started seeing timeout issues on certain calls.</p>\n\n<p>Currently using eHcache 2.10.5 but also tried 2.8.4\nBelow is my xml </p>\n\n<pre><code>    &lt;cache name=\"ehCache_1\"\n       maxElementsInMemory=\"20\"\n       eternal=\"false\"\n       overflowToDisk=\"false\"\n       timeToLiveSeconds=\"50\"\n       timeToIdleSeconds=\"10\"\n       transactionalMode=\"local\"&gt;\n</code></pre>\n\n<p>Below here is my JUnit</p>\n\n<pre><code>@Test\npublic void testEHCacheIssue(){\n    try{\n        Ehcache ehCache_1 = ehCacheManager.getCache(\"ehCache_1\");\n        transactionManager = ehCacheManager.getTransactionController();\n        transactionManager.setDefaultTransactionTimeout(15);\n\n        transactionManager.begin();\n        ehCache_1.put(new Element(\"1\", new TestElementPerson(1, \"firstName1\", \"lastName1\",\"email1@test.com\",1234)));\n        transactionManager.commit();\n\n        transactionManager.begin();\n        ehCache_1.put(new Element(\"2\", new TestElementPerson(2, \"firstName3\", \"lastName3\",\"email3@test.com\",1234)));\n        transactionManager.commit();\n\n        transactionManager.begin();\n        ehCache_1.get(\"1\");\n        transactionManager.commit();\n\n        transactionManager.begin(); \n        ehCache_1.remove(\"1\");//Timeout happens here\n        transactionManager.commit();\n\n    }catch(Exception ex){\n        LOGGER.error(\"There was an exception\", ex);\n        Assert.fail();\n    }\n}\n</code></pre>\n\n<p>Which throws the below error on the remove:</p>\n\n<p>There was an exception</p>\n\n<blockquote>\n  <p>net.sf.ehcache.transaction.TransactionTimeoutException: transaction\n  [3] timed out     at\n  net.sf.ehcache.transaction.local.LocalTransactionStore.assertNotTimedOut(LocalTransactionStore.java:108)\n    at\n  net.sf.ehcache.transaction.local.LocalTransactionStore.remove(LocalTransactionStore.java:391)\n    at\n  net.sf.ehcache.store.AbstractCopyingCacheStore.remove(AbstractCopyingCacheStore.java:110)\n    at\n  net.sf.ehcache.store.TxCopyingCacheStore.remove(TxCopyingCacheStore.java:33)\n    at net.sf.ehcache.Cache.removeInternal(Cache.java:2426)     at\n  net.sf.ehcache.Cache.remove(Cache.java:2331)  at\n  net.sf.ehcache.Cache.remove(Cache.java:2249)  at\n  net.sf.ehcache.Cache.remove(Cache.java:2227)</p>\n</blockquote>\n\n<p>I notice that if I do anything that involves put or remove on an already existing key I get this issue. I know the Transaction Manager puts locks on the key between the begin and commit and that the Transaction Manager's threads tend to timeout sometimes in concurrent environments, but Im unsure how I could use the Transaction Manager if it holds a lock on the object's key for any serious period of time. </p>\n"},{"tags":["java","spring-boot","graphql","graphql-java","typegraphql"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1670191115,"post_id":74681060,"comment_id":131812623,"body_markdown":"Does this answer your question? [Date and Json in type definition for graphql](https://stackoverflow.com/questions/49693928/date-and-json-in-type-definition-for-graphql)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49693928/date-and-json-in-type-definition-for-graphql\">Date and Json in type definition for graphql</a>"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1670191418,"post_id":74681060,"comment_id":131812679,"body_markdown":"Another approach, mentioned in a comment, is to &quot;_directly store dates as time in millis_&quot; (milliseconds since the epoch). Look at Java&#39;s [`Instant`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html). BUT I don&#39;t know if epoch-seconds would fit into a GraphQL primitive - so that may not help.","body":"Another approach, mentioned in a comment, is to &quot;<i>directly store dates as time in millis</i>&quot; (milliseconds since the epoch). Look at Java&#39;s <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>. BUT I don&#39;t know if epoch-seconds would fit into a GraphQL primitive - so that may not help."}],"answers":[{"tags":[],"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674957071,"creation_date":1674898655,"answer_id":75266694,"question_id":74681060,"body_markdown":"Create a custom scalar for your types that is not recognized by your framework.\r\n\r\nI am not sure which graphql-java based framework you are using. I assume you are using the official [Spring for GraphQL](https://spring.io/projects/spring-graphql) from Spring team.\r\n\r\n1. Create a custom scalar, eg [my LocalDateTime scalar](https://github.com/hantsy/spring-graphql-sample/blob/master/spring-graphql/src/main/java/com/example/demo/gql/scalars/LocalDateTimeScalar.java).\r\n\r\n\tpublic class LocalDateTimeScalar implements Coercing&lt;LocalDateTime, String&gt; {\r\n\t\t@Override\r\n\t\tpublic String serialize(Object dataFetcherResult) throws CoercingSerializeException {\r\n\t\t\tif (dataFetcherResult instanceof LocalDateTime) {\r\n\t\t\t\treturn ((LocalDateTime) dataFetcherResult).format(DateTimeFormatter.ISO_DATE_TIME);\r\n\t\t\t} else {\r\n\t\t\t\tthrow new CoercingSerializeException(&quot;Not a valid DateTime&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic LocalDateTime parseValue(Object input) throws CoercingParseValueException {\r\n\t\t\treturn LocalDateTime.parse(input.toString(), DateTimeFormatter.ISO_DATE_TIME);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic LocalDateTime parseLiteral(Object input) throws CoercingParseLiteralException {\r\n\t\t\tif (input instanceof StringValue) {\r\n\t\t\t\treturn LocalDateTime.parse(((StringValue) input).getValue(), DateTimeFormatter.ISO_DATE_TIME);\r\n\t\t\t}\r\n\r\n\t\t\tthrow new CoercingParseLiteralException(&quot;Value is not a valid ISO date time&quot;);\r\n\t\t}\r\n\t}\r\n\r\n2. Register it in your custom `RuntimeWiring` bean, check [here](https://github.com/hantsy/spring-graphql-sample/blob/master/spring-graphql/src/main/java/com/example/demo/gql/PostsRuntimeWiring.java#L41).\r\n    \r\n\r\n\t```java\r\n    public class Scalars {\r\n\r\n\t\tpublic static GraphQLScalarType localDateTimeType() {\r\n\t\t\treturn GraphQLScalarType.newScalar()\r\n\t\t\t\t\t.name(&quot;LocalDateTime&quot;)\r\n\t\t\t\t\t.description(&quot;LocalDateTime type&quot;)\r\n\t\t\t\t\t.coercing(new LocalDateTimeScalar())\r\n\t\t\t\t\t.build();\r\n\t\t}\r\n\t}\r\n    ```\r\n\t\t\r\n\t```java\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class PostsRuntimeWiring implements RuntimeWiringConfigurer {\r\n\t\tprivate final DataFetchers dataFetchers;\r\n\r\n\t\t@Override\r\n\t\tpublic void configure(RuntimeWiring.Builder builder) {\r\n\t\t\tbuilder\r\n\t\t\t\t\t//...\r\n\t\t\t\t\t.scalar(Scalars.localDateTimeType())\r\n\t\t\t\t\t//...\r\n\t\t\t\t\t.build();\r\n\t\t}\r\n\t}\r\n    ```\r\n\r\nIf you are using Scalars in other graphql-java based frameworks(GraphQL Java, GraphQL Java Kickstart, GraphQL Kotlin, GraphQL SPQR, Netflix DGS etc) and spring integrations, check my [Spring GraphQL Sample](https://github.com/hantsy/spring-graphql-sample). The back-end principle is similar, just some different config. \r\n\r\n\r\n\r\n","title":"How to specify DateTime in GraphQL schema?","body":"<p>Create a custom scalar for your types that is not recognized by your framework.</p>\n<p>I am not sure which graphql-java based framework you are using. I assume you are using the official <a href=\"https://spring.io/projects/spring-graphql\" rel=\"nofollow noreferrer\">Spring for GraphQL</a> from Spring team.</p>\n<ol>\n<li><p>Create a custom scalar, eg <a href=\"https://github.com/hantsy/spring-graphql-sample/blob/master/spring-graphql/src/main/java/com/example/demo/gql/scalars/LocalDateTimeScalar.java\" rel=\"nofollow noreferrer\">my LocalDateTime scalar</a>.</p>\n<p>public class LocalDateTimeScalar implements Coercing&lt;LocalDateTime, String&gt; {\n@Override\npublic String serialize(Object dataFetcherResult) throws CoercingSerializeException {\nif (dataFetcherResult instanceof LocalDateTime) {\nreturn ((LocalDateTime) dataFetcherResult).format(DateTimeFormatter.ISO_DATE_TIME);\n} else {\nthrow new CoercingSerializeException(&quot;Not a valid DateTime&quot;);\n}\n}</p>\n<pre><code> @Override\n public LocalDateTime parseValue(Object input) throws CoercingParseValueException {\n     return LocalDateTime.parse(input.toString(), DateTimeFormatter.ISO_DATE_TIME);\n }\n\n @Override\n public LocalDateTime parseLiteral(Object input) throws CoercingParseLiteralException {\n     if (input instanceof StringValue) {\n         return LocalDateTime.parse(((StringValue) input).getValue(), DateTimeFormatter.ISO_DATE_TIME);\n     }\n\n     throw new CoercingParseLiteralException(&quot;Value is not a valid ISO date time&quot;);\n }\n</code></pre>\n<p>}</p>\n</li>\n<li><p>Register it in your custom <code>RuntimeWiring</code> bean, check <a href=\"https://github.com/hantsy/spring-graphql-sample/blob/master/spring-graphql/src/main/java/com/example/demo/gql/PostsRuntimeWiring.java#L41\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Scalars {\n\n    public static GraphQLScalarType localDateTimeType() {\n        return GraphQLScalarType.newScalar()\n                .name(&quot;LocalDateTime&quot;)\n                .description(&quot;LocalDateTime type&quot;)\n                .coercing(new LocalDateTimeScalar())\n                .build();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class PostsRuntimeWiring implements RuntimeWiringConfigurer {\n    private final DataFetchers dataFetchers;\n\n    @Override\n    public void configure(RuntimeWiring.Builder builder) {\n        builder\n                //...\n                .scalar(Scalars.localDateTimeType())\n                //...\n                .build();\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>If you are using Scalars in other graphql-java based frameworks(GraphQL Java, GraphQL Java Kickstart, GraphQL Kotlin, GraphQL SPQR, Netflix DGS etc) and spring integrations, check my <a href=\"https://github.com/hantsy/spring-graphql-sample\" rel=\"nofollow noreferrer\">Spring GraphQL Sample</a>. The back-end principle is similar, just some different config.</p>\n"}],"owner":{"display_name":"user15793405"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674957071,"creation_date":1670189163,"question_id":74681060,"body_markdown":"I am building my GraphQL schema for my project and one of my models has a DateTime format.\r\n\r\nHow do I write out date formats on my GraphQL schema? \r\n\r\nI tried DateTime or Date but nothing shows up.\r\n\r\nThis is the model:\r\n\r\n```  \r\npublic Integer Id;\r\npublic String name;\r\npublic String description;\r\npublic LocalDate birthDate;\r\n```\r\n\r\nThis is what&#39;s in my GraphQL schema:\r\n\r\n``` \r\ntype Pet {\r\n    id: ID!\r\n    name: String!\r\n    description: String\r\n    birthDate: DateTime\r\n} \r\n``` \r\n\r\nBut it says: \r\n\r\n&gt; Unknown type DateTime\r\n","title":"How to specify DateTime in GraphQL schema?","body":"<p>I am building my GraphQL schema for my project and one of my models has a DateTime format.</p>\n<p>How do I write out date formats on my GraphQL schema?</p>\n<p>I tried DateTime or Date but nothing shows up.</p>\n<p>This is the model:</p>\n<pre><code>public Integer Id;\npublic String name;\npublic String description;\npublic LocalDate birthDate;\n</code></pre>\n<p>This is what's in my GraphQL schema:</p>\n<pre><code>type Pet {\n    id: ID!\n    name: String!\n    description: String\n    birthDate: DateTime\n} \n</code></pre>\n<p>But it says:</p>\n<blockquote>\n<p>Unknown type DateTime</p>\n</blockquote>\n"},{"tags":["java","arrays","object","serialization","iostream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674956452,"post_id":75272074,"comment_id":132824581,"body_markdown":"What part of doing this are you stuck on?","body":"What part of doing this are you stuck on?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674956691,"post_id":75272074,"comment_id":132824612,"body_markdown":"By the way, never use an empty catch block -- if an error happens you will not know.","body":"By the way, never use an empty catch block -- if an error happens you will not know."},{"owner":{"account_id":25548214,"reputation":25,"user_id":19333146,"display_name":"Avi"},"score":0,"creation_date":1674956835,"post_id":75272074,"comment_id":132824631,"body_markdown":"I&#39;m basically stuck on where all instances of issac newton needs to be one instance but all the numbers added up so the result should be one line (Professor Issac Newton 7)","body":"I&#39;m basically stuck on where all instances of issac newton needs to be one instance but all the numbers added up so the result should be one line (Professor Issac Newton 7)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674960992,"post_id":75272074,"comment_id":132824994,"body_markdown":"Look at the Map interface.","body":"Look at the Map interface."}],"owner":{"account_id":25548214,"reputation":25,"user_id":19333146,"display_name":"Avi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674955905,"creation_date":1674955905,"question_id":75272074,"body_markdown":"Currently I have an object array that I wrote into a .ser file. Now what I want to do is make individuals appear only once into another file with all their numbers added up. So far I wrote each line with their updated number from the function but not sure how to only make them only appear once with all the numbers added up. \r\n\r\nThis is my code: \r\n\r\npublic class IOStream {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) throws ClassNotFoundException {\r\n\r\n        Person[] people = new Person[14];\r\n        people[0] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Physcis&quot;, 6);\r\n        people[1] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Physics&quot;, 6);\r\n        people[2] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Calculus&quot;, 4);\r\n        people[3] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Calculus&quot;, 4);\r\n        people[4] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Calculus&quot;, 4);\r\n        people[5] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Physics&quot;, 6);\r\n        people[6] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Physics&quot;, 6);\r\n        people[7] = new Professor(&quot;Professor&quot;, &quot;Dimitri&quot;, &quot;Mendeleev&quot;, &quot;Chemistry&quot;, 6);\r\n        people[8] = new TA(&quot;TA&quot;, &quot;Carl&quot;, &quot;Gauss&quot;, &quot;Calculus&quot;, 4);\r\n        people[9] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Economics&quot;, 3);\r\n        people[10] = new Professor(&quot;Professor&quot;, &quot;Adam&quot;, &quot;Smith&quot;, &quot;Economics&quot;, 3);\r\n        people[11] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Chemistry&quot;, 6);\r\n        people[12] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Chemistry&quot;, 6);\r\n        people[13] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Chemistry&quot;, 6);\r\n\r\n        //WRITING\r\n        try ( ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(&quot;object.ser&quot;))) {\r\n            for (int i = 0; i &lt; people.length; i++) {\r\n                out.writeObject(people[i]);\r\n            }\r\n            out.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //READING INPUT\r\n        try ( ObjectInputStream in = new ObjectInputStream(new FileInputStream(&quot;object.ser&quot;))) {\r\n            ObjectOutputStream writer = new ObjectOutputStream(new FileOutputStream(&quot;output.ser&quot;));\r\n            Person lol;\r\n            Person [] list;\r\n            int i;\r\n            while ((lol = (Person) in.readObject()) != null) {\r\n                \r\n               writer.writeObject(lol.title + &quot; &quot; + lol.fName + &quot; &quot; + lol.lName + &quot; &quot; + lol.getParticipatingHours(lol.courseHours));\r\n                \r\n            }\r\n        } catch (EOFException i) {\r\n            //System.out.println(&quot;lol&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.out.println(&quot;Error&quot;);\r\n        }       \r\n        try {\r\n            ObjectInputStream reader = new ObjectInputStream(new FileInputStream(&quot;output.ser&quot;));\r\n            Object line;\r\n            while ((line = reader.readObject()) != null) {\r\n                System.out.println(line);\r\n            }\r\n        } catch (EOFException i) {\r\n            //System.out.println(&quot;lol&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n       \r\n \r\n    }\r\n}\r\n\r\nthis is my output read from the output file: \r\nrun:\r\nProfessor Issac Newton 4\r\nTA Marie Curie 2\r\nProfessor Issac Newton 3\r\nStudent Amy Adams 4\r\nStudent Will Smith 4\r\nStudent Brad Pitt 6\r\nStudent Will Smith 6\r\nProfessor Dimitri Mendeleev 4\r\nTA Carl Gauss 1\r\nStudent Amy Adams 3\r\nProfessor Adam Smith 2\r\nTA Marie Curie 2\r\nStudent Brad Pitt 6\r\nStudent Will Smith 6\r\n","title":"Read objects from a file and output them into a single line into another file","body":"<p>Currently I have an object array that I wrote into a .ser file. Now what I want to do is make individuals appear only once into another file with all their numbers added up. So far I wrote each line with their updated number from the function but not sure how to only make them only appear once with all the numbers added up.</p>\n<p>This is my code:</p>\n<p>public class IOStream {</p>\n<pre><code>/**\n * @param args the command line arguments\n */\npublic static void main(String[] args) throws ClassNotFoundException {\n\n    Person[] people = new Person[14];\n    people[0] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Physcis&quot;, 6);\n    people[1] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Physics&quot;, 6);\n    people[2] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Calculus&quot;, 4);\n    people[3] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Calculus&quot;, 4);\n    people[4] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Calculus&quot;, 4);\n    people[5] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Physics&quot;, 6);\n    people[6] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Physics&quot;, 6);\n    people[7] = new Professor(&quot;Professor&quot;, &quot;Dimitri&quot;, &quot;Mendeleev&quot;, &quot;Chemistry&quot;, 6);\n    people[8] = new TA(&quot;TA&quot;, &quot;Carl&quot;, &quot;Gauss&quot;, &quot;Calculus&quot;, 4);\n    people[9] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Economics&quot;, 3);\n    people[10] = new Professor(&quot;Professor&quot;, &quot;Adam&quot;, &quot;Smith&quot;, &quot;Economics&quot;, 3);\n    people[11] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Chemistry&quot;, 6);\n    people[12] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Chemistry&quot;, 6);\n    people[13] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Chemistry&quot;, 6);\n\n    //WRITING\n    try ( ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(&quot;object.ser&quot;))) {\n        for (int i = 0; i &lt; people.length; i++) {\n            out.writeObject(people[i]);\n        }\n        out.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    //READING INPUT\n    try ( ObjectInputStream in = new ObjectInputStream(new FileInputStream(&quot;object.ser&quot;))) {\n        ObjectOutputStream writer = new ObjectOutputStream(new FileOutputStream(&quot;output.ser&quot;));\n        Person lol;\n        Person [] list;\n        int i;\n        while ((lol = (Person) in.readObject()) != null) {\n            \n           writer.writeObject(lol.title + &quot; &quot; + lol.fName + &quot; &quot; + lol.lName + &quot; &quot; + lol.getParticipatingHours(lol.courseHours));\n            \n        }\n    } catch (EOFException i) {\n        //System.out.println(&quot;lol&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n        System.out.println(&quot;Error&quot;);\n    }       \n    try {\n        ObjectInputStream reader = new ObjectInputStream(new FileInputStream(&quot;output.ser&quot;));\n        Object line;\n        while ((line = reader.readObject()) != null) {\n            System.out.println(line);\n        }\n    } catch (EOFException i) {\n        //System.out.println(&quot;lol&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n   \n\n}\n</code></pre>\n<p>}</p>\n<p>this is my output read from the output file:\nrun:\nProfessor Issac Newton 4\nTA Marie Curie 2\nProfessor Issac Newton 3\nStudent Amy Adams 4\nStudent Will Smith 4\nStudent Brad Pitt 6\nStudent Will Smith 6\nProfessor Dimitri Mendeleev 4\nTA Carl Gauss 1\nStudent Amy Adams 3\nProfessor Adam Smith 2\nTA Marie Curie 2\nStudent Brad Pitt 6\nStudent Will Smith 6</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1674951977,"post_id":75271629,"comment_id":132824102,"body_markdown":"*display the newly added items alongside the old items.* - just update the DefaultTableModel at the same time you write the data to the file when you add a new item. Recreating the entire TableModel would be lots of extra work, especially if you use custom renderers and editors.","body":"<i>display the newly added items alongside the old items.</i> - just update the DefaultTableModel at the same time you write the data to the file when you add a new item. Recreating the entire TableModel would be lots of extra work, especially if you use custom renderers and editors."},{"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"score":0,"creation_date":1674952369,"post_id":75271629,"comment_id":132824165,"body_markdown":"I&#39;m a bit confused about the DefaultTableModel, do I have to initialize that somewhere, or if I reference it will it automatically update the JTable? How would I update it too, is there a function for that?","body":"I&#39;m a bit confused about the DefaultTableModel, do I have to initialize that somewhere, or if I reference it will it automatically update the JTable? How would I update it too, is there a function for that?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1674988902,"post_id":75271629,"comment_id":132827885,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/table.htm&zwnj;&#8203;l</a>"}],"answers":[{"comments":[{"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"score":0,"creation_date":1674951022,"post_id":75271752,"comment_id":132823978,"body_markdown":"How would I integrate this into my code? Where do I initialize that model and where should I put it? Do I set the JTable equal to that model and once I update that model, it will refresh it automatically?","body":"How would I integrate this into my code? Where do I initialize that model and where should I put it? Do I set the JTable equal to that model and once I update that model, it will refresh it automatically?"},{"owner":{"account_id":25348917,"reputation":125,"user_id":19166078,"display_name":"Brian Alex"},"score":0,"creation_date":1674951255,"post_id":75271752,"comment_id":132824010,"body_markdown":"Ok, I was reading your code and based by answer on your JList, not on your JTable. But don&#39;t worry, it&#39;s essentially the same. I&#39;m updating my answer to be more accurate.","body":"Ok, I was reading your code and based by answer on your JList, not on your JTable. But don&#39;t worry, it&#39;s essentially the same. I&#39;m updating my answer to be more accurate."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1674951921,"post_id":75271752,"comment_id":132824096,"body_markdown":"*it&#39;s essentially the same.* - the DefaultTableModel does NOT have an addAll(...) method.","body":"<i>it&#39;s essentially the same.</i> - the DefaultTableModel does NOT have an addAll(...) method."},{"owner":{"account_id":25348917,"reputation":125,"user_id":19166078,"display_name":"Brian Alex"},"score":0,"creation_date":1674952097,"post_id":75271752,"comment_id":132824122,"body_markdown":"It has an addRow() method.","body":"It has an addRow() method."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1674952927,"post_id":75271752,"comment_id":132824226,"body_markdown":"Which is not essentially the same as the current suggestion.","body":"Which is not essentially the same as the current suggestion."},{"owner":{"account_id":25348917,"reputation":125,"user_id":19166078,"display_name":"Brian Alex"},"score":0,"creation_date":1674952959,"post_id":75271752,"comment_id":132824228,"body_markdown":"Then how would you take in account for external changes? For a simple example, your answer might work, but if something else changes the file, you answer will fail to show the actual data.","body":"Then how would you take in account for external changes? For a simple example, your answer might work, but if something else changes the file, you answer will fail to show the actual data."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1674953145,"post_id":75271752,"comment_id":132824253,"body_markdown":"(1-) Well, if you never make a change to the file and some other external application changes the file you will not be aware of the change either. That is a different question about synchronizing changes from multiple sources. The point of my comment is that your answer uses a method of the ListModel which is NOT available in the DefaultTableModel and therefore should be deleted or changed to be applicable to a JTable. Saying it is essentially the same is NOT an answer and the actual answer should NOT be contained in a comment.","body":"(1-) Well, if you never make a change to the file and some other external application changes the file you will not be aware of the change either. That is a different question about synchronizing changes from multiple sources. The point of my comment is that your answer uses a method of the ListModel which is NOT available in the DefaultTableModel and therefore should be deleted or changed to be applicable to a JTable. Saying it is essentially the same is NOT an answer and the actual answer should NOT be contained in a comment."},{"owner":{"account_id":25348917,"reputation":125,"user_id":19166078,"display_name":"Brian Alex"},"score":0,"creation_date":1674953703,"post_id":75271752,"comment_id":132824307,"body_markdown":"Well sorry, didn&#39;t wanted to confuse anybody. Just was saying that you refer to the model when updating a JList or a JTable.","body":"Well sorry, didn&#39;t wanted to confuse anybody. Just was saying that you refer to the model when updating a JList or a JTable."},{"owner":{"account_id":25348917,"reputation":125,"user_id":19166078,"display_name":"Brian Alex"},"score":0,"creation_date":1674954116,"post_id":75271752,"comment_id":132824357,"body_markdown":"@Soccerball123 I updated my answer to fit better your situation.","body":"@Soccerball123 I updated my answer to fit better your situation."}],"tags":[],"owner":{"account_id":25348917,"reputation":125,"user_id":19166078,"display_name":"Brian Alex"},"comment_count":9,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674953540,"creation_date":1674950451,"answer_id":75271752,"question_id":75271629,"body_markdown":"Usually lists and tables are updated through their models. They represent the information shown to the user. You can try this.\r\n\r\nCreate in your class a new field. Use this field when initializing the table in your constructor.\r\n\r\n    private JTable userTable;\r\n\r\nIn your update function, try this:\r\n\r\n    DefaultTableModel model = new DefaultTableModel();\r\n    users = // fetch here for your users\r\n    for (int i = 0, i &lt; user.length, i++)\r\n        model.addRow(users[i]);\r\n    }\r\n    // finally set new model in your table\r\n    userTable.setModel(model);\r\n    userTable.doLayout();","title":"How to call the JTable function again","body":"<p>Usually lists and tables are updated through their models. They represent the information shown to the user. You can try this.</p>\n<p>Create in your class a new field. Use this field when initializing the table in your constructor.</p>\n<pre><code>private JTable userTable;\n</code></pre>\n<p>In your update function, try this:</p>\n<pre><code>DefaultTableModel model = new DefaultTableModel();\nusers = // fetch here for your users\nfor (int i = 0, i &lt; user.length, i++)\n    model.addRow(users[i]);\n}\n// finally set new model in your table\nuserTable.setModel(model);\nuserTable.doLayout();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"score":0,"creation_date":1674953426,"post_id":75271906,"comment_id":132824282,"body_markdown":"I&#39;m still a bit confused as to how I can go about making changes to the table (Sorry for the questions, I&#39;m trying to find examples online but am unable to understand them). So first of all, how can I access this table model from a function that&#39;s outside of the scope of where `model` was defined? Every time I try referencing `model` or `table`, I get the `unresolved` error. Secondly, for the `.addRow()`, do I pass in an array since JTables work with arrays or a string?","body":"I&#39;m still a bit confused as to how I can go about making changes to the table (Sorry for the questions, I&#39;m trying to find examples online but am unable to understand them). So first of all, how can I access this table model from a function that&#39;s outside of the scope of where <code>model</code> was defined? Every time I try referencing <code>model</code> or <code>table</code>, I get the <code>unresolved</code> error. Secondly, for the <code>.addRow()</code>, do I pass in an array since JTables work with arrays or a string?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1674954049,"post_id":75271906,"comment_id":132824349,"body_markdown":"You table and/or model need to be defined as &quot;instance&quot; variables in your class, like you do with the JList, not as &quot;local&quot; varaibles. Then any method in your class will be able to reference the table. This is Java 101 and has nothing to special to do with a table or its model. The addRow(...) take either an Array or a Vector which would represent the data in the row. So in your create you create either an Array or Vector and then add the firstName, lastName and salary values.","body":"You table and/or model need to be defined as &quot;instance&quot; variables in your class, like you do with the JList, not as &quot;local&quot; varaibles. Then any method in your class will be able to reference the table. This is Java 101 and has nothing to special to do with a table or its model. The addRow(...) take either an Array or a Vector which would represent the data in the row. So in your create you create either an Array or Vector and then add the firstName, lastName and salary values."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1674954335,"post_id":75271906,"comment_id":132824374,"body_markdown":"Here is a simple example that show how to use the addRow(...) method to add rows of data to the model when a button is clicked: https://stackoverflow.com/a/35960360/131872. And another example showing how to read data from a file into a model: https://stackoverflow.com/a/64248188/131872","body":"Here is a simple example that show how to use the addRow(...) method to add rows of data to the model when a button is clicked: <a href=\"https://stackoverflow.com/a/35960360/131872\">stackoverflow.com/a/35960360/131872</a>. And another example showing how to read data from a file into a model: <a href=\"https://stackoverflow.com/a/64248188/131872\">stackoverflow.com/a/64248188/131872</a>"}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674954568,"creation_date":1674952816,"answer_id":75271906,"question_id":75271629,"body_markdown":"&gt; Initializing the JTable (THIS IS WHAT I NEED TO REFRESH)\r\n\r\nYou don&#39;t refresh the table. The data for all Swing components is contained in a &quot;model&quot;. You change the data in the model. When changes to the model are made the table is repainted to reflect the change.\r\n\r\nSo you could either:\r\n\r\n1. create a new `DefaultTableModel` (which is unnecessary)\r\n2. update the existing `DefaultTableModel`, by using the `addRow(...)` method to update the model every time you write a new item to your file.\r\n\r\nInstead of using code like:\r\n\r\n    JTable j = new JTable(data, columnNames);\r\n\r\nYou can use:\r\n\r\n\tmodel = new DefaultTableModel(data, columnNames)\r\n\ttable = new JTable(model)\r\n\r\nNow you can access the DefaultTableModel any time you need to by creating an instance variable in your class or by using the `table.getModel()` method.\r\n","title":"How to call the JTable function again","body":"<blockquote>\n<p>Initializing the JTable (THIS IS WHAT I NEED TO REFRESH)</p>\n</blockquote>\n<p>You don't refresh the table. The data for all Swing components is contained in a &quot;model&quot;. You change the data in the model. When changes to the model are made the table is repainted to reflect the change.</p>\n<p>So you could either:</p>\n<ol>\n<li>create a new <code>DefaultTableModel</code> (which is unnecessary)</li>\n<li>update the existing <code>DefaultTableModel</code>, by using the <code>addRow(...)</code> method to update the model every time you write a new item to your file.</li>\n</ol>\n<p>Instead of using code like:</p>\n<pre><code>JTable j = new JTable(data, columnNames);\n</code></pre>\n<p>You can use:</p>\n<pre><code>model = new DefaultTableModel(data, columnNames)\ntable = new JTable(model)\n</code></pre>\n<p>Now you can access the DefaultTableModel any time you need to by creating an instance variable in your class or by using the <code>table.getModel()</code> method.</p>\n"}],"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75271906,"answer_count":2,"score":-1,"last_activity_date":1674954568,"creation_date":1674948621,"question_id":75271629,"body_markdown":"I&#39;m trying to make a GUI interface using java swing that is able to add users to a text file that I treat as a database. The GUI interface has a JTable which pulls the existing items in the text file and displays it initially. Once I go to add a new item, it gets updated on the text file but not on the JTable. This is mainly because I only call the JTable once the way I set up my code. I&#39;m wondering how I can call the JTable multiple times or make a button for it to call a refresh of the table and display the newly added items alongside the old items.\r\n\r\nI want it to be able to either call the refresh of the table in the `updateList` function or once the `viewButton` is pressed which triggers an else if statement which can do that in the `actionPerformed` function.\r\n\r\nHere is my code:\r\n\r\n    class UserManager extends JFrame implements ActionListener {\r\n    \r\n      private JTextField firstNameField, lastNameField, salaryField;\r\n      private JButton addButton, removeButton, viewButton, sortButton, getButton;\r\n      private JList&lt;Employee&gt; userList;\r\n      private ArrayList&lt;Employee&gt; users;\r\n    \r\n      public UserManager() {\r\n        setTitle(&quot;Employee Manager&quot;);\r\n        setSize(300, 300);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \r\n        firstNameField = new JTextField(20);\r\n        lastNameField = new JTextField(20);\r\n        salaryField = new JTextField(20);\r\n        addButton = new JButton(&quot;Add&quot;);\r\n        addButton.addActionListener(this);\r\n        removeButton = new JButton(&quot;Remove&quot;);\r\n        removeButton.addActionListener(this);\r\n        viewButton = new JButton(&quot;Refresh List&quot;); // POTENTIAL BUTTON TO REFRESH JTABLE?\r\n        viewButton.addActionListener(this);\r\n        sortButton = new JButton(&quot;Sort List&quot;);\r\n        sortButton.addActionListener(this);\r\n    \r\n        // Pulling data from text file database\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; databaseData = ReadFile();\r\n    \r\n        users = new ArrayList&lt;Employee&gt;();\r\n    \r\n        // Adding existing databaseData to users\r\n        for (int i = 0; i &lt; databaseData.size(); i++) {\r\n          Employee user = new Employee(databaseData.get(i).get(0), databaseData.get(i).get(1), Integer.valueOf(databaseData.get(i).get(2)));\r\n          users.add(user);\r\n        }\r\n        \r\n        userList = new JList&lt;Employee&gt;(users.toArray(new Employee[0]));\r\n        userList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n    \r\n    \r\n        JPanel firstNamePanel = new JPanel();\r\n        firstNamePanel.add(new JLabel(&quot;First Name:&quot;));\r\n        firstNamePanel.add(firstNameField);\r\n    \r\n        JPanel lastNamePanel = new JPanel();\r\n        lastNamePanel.add(new JLabel(&quot;Last Name:&quot;));\r\n        lastNamePanel.add(lastNameField);\r\n    \r\n        JPanel salaryPanel = new JPanel();\r\n        salaryPanel.add(new JLabel(&quot;Salary:&quot;));\r\n        salaryPanel.add(salaryField);\r\n    \r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.add(addButton);\r\n        buttonPanel.add(removeButton);\r\n        buttonPanel.add(viewButton);\r\n        buttonPanel.add(sortButton);\r\n    \r\n        \r\n        // Converting 2D arraylist to normal 2D array for JTable\r\n        String[][] data = databaseData.stream().map(u -&gt; u.toArray(new String[0])).toArray(String[][]::new);\r\n    \r\n        // Initializing column names of JTable\r\n        String[] columnNames = { &quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot; };\r\n        \r\n        // Initializing the JTable (THIS IS WHAT I NEED TO REFRESH)\r\n        JTable j = new JTable(data, columnNames);\r\n        j.setBounds(1000, 1000, 900, 900);\r\n    \r\n        // adding it to JScrollPane\r\n        JScrollPane table = new JScrollPane(j);\r\n        \r\n        JPanel mainPanel = new JPanel(new GridLayout(5, 3));\r\n        mainPanel.add(firstNamePanel);\r\n        mainPanel.add(lastNamePanel);\r\n        mainPanel.add(salaryPanel);\r\n        mainPanel.add(buttonPanel);\r\n        mainPanel.add(table);\r\n    \r\n        \r\n        add(mainPanel);\r\n      }\r\n    \r\n      public void actionPerformed(ActionEvent e) {\r\n        // &quot;Add&quot; button is clicked\r\n        if (e.getSource() == addButton) {\r\n          String firstName = firstNameField.getText();\r\n          String lastName = lastNameField.getText();\r\n          int salary = 0;\r\n          \r\n          try {\r\n              salary = Integer.parseInt(salaryField.getText());\r\n          } \r\n          catch (NumberFormatException nfe) {\r\n            JOptionPane.showMessageDialog(this, &quot;Please enter a valid salary&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            return;\r\n          }\r\n    \r\n          // Error check to see if full name and age is entered\r\n          if (!firstName.equals(&quot;&quot;) &amp;&amp; !lastName.equals(&quot;&quot;)) {\r\n            Employee user = new Employee(firstName, lastName, salary);\r\n            users.add(user);\r\n            updateList();\r\n            firstNameField.setText(&quot;&quot;);\r\n            lastNameField.setText(&quot;&quot;);\r\n            salaryField.setText(&quot;&quot;);\r\n\r\n          }\r\n          else {\r\n            JOptionPane.showMessageDialog(this, &quot;Please enter a valid full name&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n          }\r\n    \r\n        } \r\n    \r\n    \r\n        // POTENTIAL BUTTON THAT REFRESHES JTABLE? \r\n        else if (e.getSource() == viewButton) {\r\n          \r\n        }\r\n      }\r\n    \r\n      // Updates the list after a CRUD operation is called\r\n      private void updateList() {\r\n        userList.setListData(users.toArray(new Employee[0]));\r\n    \r\n        try {\r\n          FileWriter fw = new FileWriter(&quot;db.txt&quot;, false);\r\n          // BufferedWriter bw = new BufferedWriter(fw);\r\n          // PrintWriter pw = new PrintWriter(bw);\r\n    \r\n          // Loop through each student and write to the text file\r\n          for (int i = 0; i &lt; users.size(); i++) {\r\n            fw.write(toString(users.get(i).getFirstName(), users.get(i).getLastName(), users.get(i).getSalary()));\r\n          }\r\n          fw.close();\r\n\r\n          // CALL A REFRESH FOR THE TABLE HERE??\r\n        }\r\n        catch (IOException io) {\r\n    \r\n        }\r\n    \r\n      }\r\n    \r\n    \r\n      \r\n      \r\n      // Combing multiple string and ints into a string\r\n      public String toString(String firstName, String lastName, int salary) {\r\n          return firstName + &quot;, &quot; + lastName + &quot;, &quot; + salary + &quot;\\n&quot;;\r\n      }\r\n    \r\n    \r\n    \r\n      // Reading database\r\n      public static ArrayList&lt;ArrayList&lt;String&gt;&gt; ReadFile() {\r\n        try {\r\n          // Choose grades.txt file to look at\r\n          File myObj = new File(&quot;db.txt&quot;);\r\n    \r\n          // Create scanner object\r\n          Scanner myReader = new Scanner(myObj);\r\n    \r\n          // Create 2d list array to hold all the single list arrays of single information\r\n          ArrayList&lt;ArrayList&lt;String&gt;&gt; combinedArr = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n        \r\n          // While the file reader is still reading lines in the text\r\n          while (myReader.hasNextLine()) {\r\n            // Read strings of text in txt file\r\n            String data = myReader.nextLine();\r\n    \r\n            // Get first and last name from a string\r\n            ArrayList&lt;String&gt; temp = GetName(data); \r\n    \r\n            // Add the person and their salary to the combined array that holds everyones\r\n            combinedArr.add(temp);\r\n          }\r\n    \r\n          // Close file once there are no more lines to read\r\n          myReader.close();\r\n    \r\n          return combinedArr;\r\n        } \r\n        catch (FileNotFoundException e) {\r\n          System.out.println(&quot;An error occurred.&quot;);\r\n          e.printStackTrace();\r\n        }\r\n    \r\n        // Return invalid list string with nothing if error\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; Invalid = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n        return Invalid;\r\n      }\r\n    \r\n    \r\n    \r\n      // Parses name in db\r\n      public static ArrayList&lt;String&gt; GetName(String data) {\r\n        String first = &quot;&quot;;\r\n        String last = &quot;&quot;;\r\n        String sal = &quot;&quot;;\r\n        // System.out.println(data[0])\r\n        for (int i = 0; i &lt; data.length(); i++) {\r\n          if (data.charAt(i) == &#39;,&#39;) {\r\n            // Start from 2 indexes after the first occurance of the comma\r\n            for (int j = i+2; j &lt; data.length(); j++) {\r\n              if (data.charAt(j) == &#39;,&#39;) {\r\n                for (int n = j+2; n &lt; data.length(); n++) {\r\n                  sal += data.charAt(n);\r\n                }\r\n                break;\r\n              }\r\n              last += data.charAt(j);\r\n            }\r\n            break;\r\n          }\r\n          first += data.charAt(i);\r\n        }\r\n    \r\n        // Initializing package array to send all values\r\n        ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n        arr.add(first);\r\n        arr.add(last);\r\n        arr.add(sal);\r\n        \r\n        return arr;\r\n      }\r\n    \r\n    \r\n      public static void main(String[] args) {\r\n          UserManager frame = new UserManager();\r\n          frame.setVisible(true);\r\n      }\r\n    }\r\n    \r\n    class Employee {\r\n      // Initalizing variables\r\n      private String firstName;\r\n      private String lastName;\r\n      private int salary;\r\n    \r\n      // Assigning variables\r\n      public Employee(String firstName, String lastName, int salary) {\r\n          this.firstName = firstName;\r\n          this.lastName = lastName;\r\n          this.salary = salary;\r\n      }\r\n    \r\n      // return first name\r\n      public String getFirstName() {\r\n        return firstName;\r\n      }\r\n    \r\n      // return last name\r\n      public String getLastName() {\r\n        return lastName;\r\n      }\r\n    \r\n      // return salary\r\n      public int getSalary() {\r\n        return salary;\r\n      }\r\n    }","title":"How to call the JTable function again","body":"<p>I'm trying to make a GUI interface using java swing that is able to add users to a text file that I treat as a database. The GUI interface has a JTable which pulls the existing items in the text file and displays it initially. Once I go to add a new item, it gets updated on the text file but not on the JTable. This is mainly because I only call the JTable once the way I set up my code. I'm wondering how I can call the JTable multiple times or make a button for it to call a refresh of the table and display the newly added items alongside the old items.</p>\n<p>I want it to be able to either call the refresh of the table in the <code>updateList</code> function or once the <code>viewButton</code> is pressed which triggers an else if statement which can do that in the <code>actionPerformed</code> function.</p>\n<p>Here is my code:</p>\n<pre><code>class UserManager extends JFrame implements ActionListener {\n\n  private JTextField firstNameField, lastNameField, salaryField;\n  private JButton addButton, removeButton, viewButton, sortButton, getButton;\n  private JList&lt;Employee&gt; userList;\n  private ArrayList&lt;Employee&gt; users;\n\n  public UserManager() {\n    setTitle(&quot;Employee Manager&quot;);\n    setSize(300, 300);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n    firstNameField = new JTextField(20);\n    lastNameField = new JTextField(20);\n    salaryField = new JTextField(20);\n    addButton = new JButton(&quot;Add&quot;);\n    addButton.addActionListener(this);\n    removeButton = new JButton(&quot;Remove&quot;);\n    removeButton.addActionListener(this);\n    viewButton = new JButton(&quot;Refresh List&quot;); // POTENTIAL BUTTON TO REFRESH JTABLE?\n    viewButton.addActionListener(this);\n    sortButton = new JButton(&quot;Sort List&quot;);\n    sortButton.addActionListener(this);\n\n    // Pulling data from text file database\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; databaseData = ReadFile();\n\n    users = new ArrayList&lt;Employee&gt;();\n\n    // Adding existing databaseData to users\n    for (int i = 0; i &lt; databaseData.size(); i++) {\n      Employee user = new Employee(databaseData.get(i).get(0), databaseData.get(i).get(1), Integer.valueOf(databaseData.get(i).get(2)));\n      users.add(user);\n    }\n    \n    userList = new JList&lt;Employee&gt;(users.toArray(new Employee[0]));\n    userList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n\n\n    JPanel firstNamePanel = new JPanel();\n    firstNamePanel.add(new JLabel(&quot;First Name:&quot;));\n    firstNamePanel.add(firstNameField);\n\n    JPanel lastNamePanel = new JPanel();\n    lastNamePanel.add(new JLabel(&quot;Last Name:&quot;));\n    lastNamePanel.add(lastNameField);\n\n    JPanel salaryPanel = new JPanel();\n    salaryPanel.add(new JLabel(&quot;Salary:&quot;));\n    salaryPanel.add(salaryField);\n\n    JPanel buttonPanel = new JPanel();\n    buttonPanel.add(addButton);\n    buttonPanel.add(removeButton);\n    buttonPanel.add(viewButton);\n    buttonPanel.add(sortButton);\n\n    \n    // Converting 2D arraylist to normal 2D array for JTable\n    String[][] data = databaseData.stream().map(u -&gt; u.toArray(new String[0])).toArray(String[][]::new);\n\n    // Initializing column names of JTable\n    String[] columnNames = { &quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot; };\n    \n    // Initializing the JTable (THIS IS WHAT I NEED TO REFRESH)\n    JTable j = new JTable(data, columnNames);\n    j.setBounds(1000, 1000, 900, 900);\n\n    // adding it to JScrollPane\n    JScrollPane table = new JScrollPane(j);\n    \n    JPanel mainPanel = new JPanel(new GridLayout(5, 3));\n    mainPanel.add(firstNamePanel);\n    mainPanel.add(lastNamePanel);\n    mainPanel.add(salaryPanel);\n    mainPanel.add(buttonPanel);\n    mainPanel.add(table);\n\n    \n    add(mainPanel);\n  }\n\n  public void actionPerformed(ActionEvent e) {\n    // &quot;Add&quot; button is clicked\n    if (e.getSource() == addButton) {\n      String firstName = firstNameField.getText();\n      String lastName = lastNameField.getText();\n      int salary = 0;\n      \n      try {\n          salary = Integer.parseInt(salaryField.getText());\n      } \n      catch (NumberFormatException nfe) {\n        JOptionPane.showMessageDialog(this, &quot;Please enter a valid salary&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n        return;\n      }\n\n      // Error check to see if full name and age is entered\n      if (!firstName.equals(&quot;&quot;) &amp;&amp; !lastName.equals(&quot;&quot;)) {\n        Employee user = new Employee(firstName, lastName, salary);\n        users.add(user);\n        updateList();\n        firstNameField.setText(&quot;&quot;);\n        lastNameField.setText(&quot;&quot;);\n        salaryField.setText(&quot;&quot;);\n\n      }\n      else {\n        JOptionPane.showMessageDialog(this, &quot;Please enter a valid full name&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n      }\n\n    } \n\n\n    // POTENTIAL BUTTON THAT REFRESHES JTABLE? \n    else if (e.getSource() == viewButton) {\n      \n    }\n  }\n\n  // Updates the list after a CRUD operation is called\n  private void updateList() {\n    userList.setListData(users.toArray(new Employee[0]));\n\n    try {\n      FileWriter fw = new FileWriter(&quot;db.txt&quot;, false);\n      // BufferedWriter bw = new BufferedWriter(fw);\n      // PrintWriter pw = new PrintWriter(bw);\n\n      // Loop through each student and write to the text file\n      for (int i = 0; i &lt; users.size(); i++) {\n        fw.write(toString(users.get(i).getFirstName(), users.get(i).getLastName(), users.get(i).getSalary()));\n      }\n      fw.close();\n\n      // CALL A REFRESH FOR THE TABLE HERE??\n    }\n    catch (IOException io) {\n\n    }\n\n  }\n\n\n  \n  \n  // Combing multiple string and ints into a string\n  public String toString(String firstName, String lastName, int salary) {\n      return firstName + &quot;, &quot; + lastName + &quot;, &quot; + salary + &quot;\\n&quot;;\n  }\n\n\n\n  // Reading database\n  public static ArrayList&lt;ArrayList&lt;String&gt;&gt; ReadFile() {\n    try {\n      // Choose grades.txt file to look at\n      File myObj = new File(&quot;db.txt&quot;);\n\n      // Create scanner object\n      Scanner myReader = new Scanner(myObj);\n\n      // Create 2d list array to hold all the single list arrays of single information\n      ArrayList&lt;ArrayList&lt;String&gt;&gt; combinedArr = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n    \n      // While the file reader is still reading lines in the text\n      while (myReader.hasNextLine()) {\n        // Read strings of text in txt file\n        String data = myReader.nextLine();\n\n        // Get first and last name from a string\n        ArrayList&lt;String&gt; temp = GetName(data); \n\n        // Add the person and their salary to the combined array that holds everyones\n        combinedArr.add(temp);\n      }\n\n      // Close file once there are no more lines to read\n      myReader.close();\n\n      return combinedArr;\n    } \n    catch (FileNotFoundException e) {\n      System.out.println(&quot;An error occurred.&quot;);\n      e.printStackTrace();\n    }\n\n    // Return invalid list string with nothing if error\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; Invalid = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n    return Invalid;\n  }\n\n\n\n  // Parses name in db\n  public static ArrayList&lt;String&gt; GetName(String data) {\n    String first = &quot;&quot;;\n    String last = &quot;&quot;;\n    String sal = &quot;&quot;;\n    // System.out.println(data[0])\n    for (int i = 0; i &lt; data.length(); i++) {\n      if (data.charAt(i) == ',') {\n        // Start from 2 indexes after the first occurance of the comma\n        for (int j = i+2; j &lt; data.length(); j++) {\n          if (data.charAt(j) == ',') {\n            for (int n = j+2; n &lt; data.length(); n++) {\n              sal += data.charAt(n);\n            }\n            break;\n          }\n          last += data.charAt(j);\n        }\n        break;\n      }\n      first += data.charAt(i);\n    }\n\n    // Initializing package array to send all values\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n    arr.add(first);\n    arr.add(last);\n    arr.add(sal);\n    \n    return arr;\n  }\n\n\n  public static void main(String[] args) {\n      UserManager frame = new UserManager();\n      frame.setVisible(true);\n  }\n}\n\nclass Employee {\n  // Initalizing variables\n  private String firstName;\n  private String lastName;\n  private int salary;\n\n  // Assigning variables\n  public Employee(String firstName, String lastName, int salary) {\n      this.firstName = firstName;\n      this.lastName = lastName;\n      this.salary = salary;\n  }\n\n  // return first name\n  public String getFirstName() {\n    return firstName;\n  }\n\n  // return last name\n  public String getLastName() {\n    return lastName;\n  }\n\n  // return salary\n  public int getSalary() {\n    return salary;\n  }\n}\n</code></pre>\n"},{"tags":["java","android","flatmap","gpx"],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674953036,"creation_date":1674953036,"answer_id":75271918,"question_id":75271343,"body_markdown":"Figured it out. Here&#39;s my solution.\r\n\r\n    public ArrayList&lt;LatLng&gt; getWaypointLatLngs (Gpx gpx) {\r\n\r\n        ArrayList&lt;LatLng&gt; latLngPoints = new ArrayList&lt;&gt;();\r\n\r\n         gpx.getTracks().stream().flatMap(track -&gt; track.getTrackSegments().stream())\r\n                .flatMap(trackPoints -&gt; trackPoints.getTrackPoints().stream())\r\n                .forEach(w -&gt; latLngPoints.add(new LatLng(w.getLatitude(), w.getLongitude())));\r\n\r\n        return latLngPoints;\r\n    }","title":"Getting all wayPoints from a GPX object by stream and map","body":"<p>Figured it out. Here's my solution.</p>\n<pre><code>public ArrayList&lt;LatLng&gt; getWaypointLatLngs (Gpx gpx) {\n\n    ArrayList&lt;LatLng&gt; latLngPoints = new ArrayList&lt;&gt;();\n\n     gpx.getTracks().stream().flatMap(track -&gt; track.getTrackSegments().stream())\n            .flatMap(trackPoints -&gt; trackPoints.getTrackPoints().stream())\n            .forEach(w -&gt; latLngPoints.add(new LatLng(w.getLatitude(), w.getLongitude())));\n\n    return latLngPoints;\n}\n</code></pre>\n"}],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75271918,"answer_count":1,"score":0,"last_activity_date":1674953183,"creation_date":1674944964,"question_id":75271343,"body_markdown":"I&#39;m attempting to use com.github.ticofab:android-gpx-parser:2.2.0 in my project.\r\n\r\nMigrating from &#39;io.jenetics:jpx:2.2.0&#39;. I actually got it working in android. But later(after putting it in production) found that some GPX files will try requesting an unavailable dependency, crashing the app.\r\n\r\nThis snippet of code I was using with JPX. But I&#39;m having a hard time switching it over android-gpx-parser.\r\n\r\n    import com.google.android.gms.maps.model.LatLng;\r\n\r\n    public ArrayList&lt;LatLng&gt; getWaypointLatLngs (GPX gpx) {\r\n            ArrayList&lt;LatLng&gt; latLngPoints = new ArrayList&lt;&gt;();\r\n            gpx.tracks()\r\n                .flatMap(Track::segments)\r\n                .flatMap(TrackSegment::points)\r\n                .forEach(w -&gt; latLngPoints.add(\r\n                     new LatLng( w.getLatitude().doubleValue(), w.getLongitude().doubleValue())));\r\n            return latLngPoints;\r\n        }\r\n\r\nHere&#39;s what I&#39;m trying to do with android-gpx-parser.\r\n\r\n    public ArrayList&lt;LatLng&gt; getWaypointLatLngs (Gpx gpx) {\r\n        ArrayList&lt;LatLng&gt; latLngPoints = new ArrayList&lt;&gt;();\r\n        gpx.getTracks().stream().flatMap(Track::getTrackSegments)\r\n                .flatMap(TrackSegment::getTrackPoints)\r\n                .forEach(w -&gt; latLngPoints.add(\r\n                    new LatLng( w.getLatitude().doubleValue(), w.getLongitude().doubleValue())));\r\n        return latLngPoints;\r\n    }\r\n\r\nThe IDE is tell me I&#39;m declaring a method reference and it is expecting a Function (with map or flatMap).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIs there an elegant way of getting all waypoints (points) with from a Gpx object using android-gpx-parser?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JE63L.png","title":"Getting all wayPoints from a GPX object by stream and map","body":"<p>I'm attempting to use com.github.ticofab:android-gpx-parser:2.2.0 in my project.</p>\n<p>Migrating from 'io.jenetics:jpx:2.2.0'. I actually got it working in android. But later(after putting it in production) found that some GPX files will try requesting an unavailable dependency, crashing the app.</p>\n<p>This snippet of code I was using with JPX. But I'm having a hard time switching it over android-gpx-parser.</p>\n<pre><code>import com.google.android.gms.maps.model.LatLng;\n\npublic ArrayList&lt;LatLng&gt; getWaypointLatLngs (GPX gpx) {\n        ArrayList&lt;LatLng&gt; latLngPoints = new ArrayList&lt;&gt;();\n        gpx.tracks()\n            .flatMap(Track::segments)\n            .flatMap(TrackSegment::points)\n            .forEach(w -&gt; latLngPoints.add(\n                 new LatLng( w.getLatitude().doubleValue(), w.getLongitude().doubleValue())));\n        return latLngPoints;\n    }\n</code></pre>\n<p>Here's what I'm trying to do with android-gpx-parser.</p>\n<pre><code>public ArrayList&lt;LatLng&gt; getWaypointLatLngs (Gpx gpx) {\n    ArrayList&lt;LatLng&gt; latLngPoints = new ArrayList&lt;&gt;();\n    gpx.getTracks().stream().flatMap(Track::getTrackSegments)\n            .flatMap(TrackSegment::getTrackPoints)\n            .forEach(w -&gt; latLngPoints.add(\n                new LatLng( w.getLatitude().doubleValue(), w.getLongitude().doubleValue())));\n    return latLngPoints;\n}\n</code></pre>\n<p>The IDE is tell me I'm declaring a method reference and it is expecting a Function (with map or flatMap).</p>\n<p><a href=\"https://i.stack.imgur.com/JE63L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JE63L.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there an elegant way of getting all waypoints (points) with from a Gpx object using android-gpx-parser?</p>\n"},{"tags":["java","hibernate","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":20537776,"reputation":1,"user_id":15073402,"display_name":"SpicedPine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611560787,"creation_date":1611532635,"answer_id":65877309,"question_id":60759399,"body_markdown":"May be you are just missing packaging properties at your pom.xml files? Adding war packaging worked for me.\r\n\r\n```xml\r\n&lt;packaging&gt;war&lt;/packaging&gt;","title":"&quot;java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present &quot;","body":"<p>May be you are just missing packaging properties at your pom.xml files? Adding war packaging worked for me.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8436933,"reputation":67,"user_id":6330806,"display_name":"Andres Camilo Sierra Hormiga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674951799,"creation_date":1674951799,"answer_id":75271825,"question_id":60759399,"body_markdown":"You should check:\r\n* The order of your POM dependencies\r\n* The status of your Build Path.\r\n\r\nTypeNotPresentException is thrown when java can&#39;t find the definition of a Type, attempted to be accesed using a specified name [more][1].\r\n\r\n\r\nThe problem could be that java can&#39;t find a specific type in your .POM dependencies before Spring ORM. Check if you are declaring hibernate-core dependency BEFORE spring orm in your  POM.\r\n\r\nAlso check if there is a package named &quot;types&quot; inside of &quot;hibernate-core&quot;.\r\n\r\nIf it doesn&#39;t work, check if your build path is correct.\r\n\r\n  [1]: https://rollbar.com/blog/java-typenotpresentexception/","title":"&quot;java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present &quot;","body":"<p>You should check:</p>\n<ul>\n<li>The order of your POM dependencies</li>\n<li>The status of your Build Path.</li>\n</ul>\n<p>TypeNotPresentException is thrown when java can't find the definition of a Type, attempted to be accesed using a specified name <a href=\"https://rollbar.com/blog/java-typenotpresentexception/\" rel=\"nofollow noreferrer\">more</a>.</p>\n<p>The problem could be that java can't find a specific type in your .POM dependencies before Spring ORM. Check if you are declaring hibernate-core dependency BEFORE spring orm in your  POM.</p>\n<p>Also check if there is a package named &quot;types&quot; inside of &quot;hibernate-core&quot;.</p>\n<p>If it doesn't work, check if your build path is correct.</p>\n"}],"owner":{"account_id":16276379,"reputation":1,"user_id":11753450,"display_name":"IsoKing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2849,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674951799,"creation_date":1584628803,"question_id":60759399,"body_markdown":" I have  &quot;java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present &quot;  Error when trying to run spring MVC project with hibernate + tomcat on intelliJIdea.\r\n\r\nHere is my Dependencies in pom.xml\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.5.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.12.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.15&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n                &lt;version&gt;1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Test --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.7&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;oracle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n                &lt;version&gt;11.2.0.3&lt;/version&gt;\r\n                &lt;scope&gt;system&lt;/scope&gt;\r\n                &lt;systemPath&gt;C:/Users/egulocak/Downloads/ojdbc-full(1)/OJDBC-Full/ojdbc6.jar&lt;/systemPath&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;      \r\n\r\n**My Dispatcher.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans:beans\r\n            xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n            xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n            xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n            xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n    \t\thttp://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\r\n    \t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd&quot;&gt;\r\n    \r\n        &lt;!-- DispatcherServlet Context: defines this servlet&#39;s request-processing\r\n            infrastructure --&gt;\r\n        &lt;context:component-scan base-package=&quot;com.efe.*&quot; /&gt;\r\n        &lt;context:annotation-config /&gt;\r\n        &lt;annotation-driven /&gt;\r\n    \r\n    \r\n        &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\r\n    \r\n    \r\n        &lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving\r\n            up static resources in the ${webappRoot}/resources directory --&gt;\r\n    \r\n    \r\n        &lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources\r\n            in the /WEB-INF/views directory --&gt;\r\n        &lt;beans:bean\r\n                class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n            &lt;beans:property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n            &lt;beans:property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n        &lt;/beans:bean&gt;\r\n    \r\n        &lt;beans:bean id=&quot;dataSource&quot;\r\n                    class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\r\n            &lt;beans:property name=&quot;driverClass&quot;\r\n                            value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\r\n            &lt;beans:property name=&quot;jdbcUrl&quot;\r\n                            value=&quot;jdbc:oracle:thin:hr@//localhost:1521.org:1521/xe&quot; /&gt;\r\n            &lt;beans:property name=&quot;user&quot; value=&quot;hr&quot; /&gt;\r\n            &lt;beans:property name=&quot;password&quot; value=&quot;hr&quot; /&gt;\r\n        &lt;/beans:bean&gt;\r\n    \r\n        &lt;beans:bean id=&quot;sessionFactory&quot;\r\n                    class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n            &lt;beans:property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n            &lt;beans:property name=&quot;hibernateProperties&quot;&gt;\r\n                &lt;beans:props&gt;\r\n                    &lt;beans:prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle10gDialect\r\n                    &lt;/beans:prop&gt;\r\n                    &lt;beans:prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/beans:prop&gt;\r\n                    &lt;beans:prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/beans:prop&gt;\r\n                    &lt;beans:prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/beans:prop&gt;\r\n                &lt;/beans:props&gt;\r\n            &lt;/beans:property&gt;\r\n    \r\n    \r\n            &lt;beans:property name=&quot;packagesToScan&quot;\r\n                            value=&quot;com.efe.entities&quot; /&gt;\r\n        &lt;/beans:bean&gt;\r\n    \r\n        &lt;beans:bean id=&quot;hibernateTransactionManager&quot;\r\n                        class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n            &lt;beans:property name=&quot;sessionFactory&quot;\r\n                            ref=&quot;sessionFactory&quot; /&gt;\r\n        &lt;/beans:bean&gt;\r\n        &lt;tx:annotation-driven\r\n                transaction-manager=&quot;hibernateTransactionManager&quot; /&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    &lt;/beans:beans&gt;\r\n\r\n**My Entity**\r\n\r\n    @Entity\r\n    @Table(name=&quot;person&quot;)\r\n    public class Person {\r\n    \r\n        @Id\r\n        @Column(name=&quot;id&quot;)\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        private int id;\r\n    \r\n        private String name;\r\n    \r\n        private String country;\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getCountry() {\r\n            return country;\r\n        }\r\n    \r\n        public void setCountry(String country) {\r\n            this.country = country;\r\n        }\r\n    }\r\n\r\n\r\nHomeController\r\n\r\n    @Controller\r\n    public class HomeController {\r\n    \r\n        @Autowired\r\n        SessionFactory sessionFactory;\r\n    \r\n    \r\n    \r\n        @GetMapping(&quot;/&quot;)\r\n        public String index(Model m) {\r\n            m.addAttribute(&quot;someAttribute&quot;, &quot;someValue&quot;);\r\n    \r\n    \r\n    \r\n            Person person = new Person();\r\n            person.setId(1);\r\n            person.setName(&quot;efe&quot;);\r\n            person.setCountry(&quot;Italy&quot;);\r\n    \r\n            sessionFactory.getCurrentSession().save(person);\r\n    \r\n               return &quot;index&quot;;\r\n        }\r\n    }\r\n\r\nApllciations runs on server but I am getting 500 Internal Server Error with \r\n\r\njava.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present\r\n\r\n\r\n","title":"&quot;java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present &quot;","body":"<p>I have  \"java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present \"  Error when trying to run spring MVC project with hibernate + tomcat on intelliJIdea.</p>\n\n<p>Here is my Dependencies in pom.xml</p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.0.12.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.15&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                    &lt;artifactId&gt;mail&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n                    &lt;artifactId&gt;jms&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n            &lt;version&gt;1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.7&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n            &lt;version&gt;11.2.0.3&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;C:/Users/egulocak/Downloads/ojdbc-full(1)/OJDBC-Full/ojdbc6.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.8.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;      \n</code></pre>\n\n<p><strong>My Dispatcher.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans:beans\n        xmlns=\"http://www.springframework.org/schema/mvc\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns:beans=\"http://www.springframework.org/schema/beans\"\n        xmlns:context=\"http://www.springframework.org/schema/context\"\n        xmlns:tx=\"http://www.springframework.org/schema/tx\"\n        xsi:schemaLocation=\"http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\"&gt;\n\n    &lt;!-- DispatcherServlet Context: defines this servlet's request-processing\n        infrastructure --&gt;\n    &lt;context:component-scan base-package=\"com.efe.*\" /&gt;\n    &lt;context:annotation-config /&gt;\n    &lt;annotation-driven /&gt;\n\n\n    &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\n\n\n    &lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving\n        up static resources in the ${webappRoot}/resources directory --&gt;\n\n\n    &lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources\n        in the /WEB-INF/views directory --&gt;\n    &lt;beans:bean\n            class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;beans:property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n        &lt;beans:property name=\"suffix\" value=\".jsp\" /&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"dataSource\"\n                class=\"com.mchange.v2.c3p0.ComboPooledDataSource\"&gt;\n        &lt;beans:property name=\"driverClass\"\n                        value=\"oracle.jdbc.OracleDriver\" /&gt;\n        &lt;beans:property name=\"jdbcUrl\"\n                        value=\"jdbc:oracle:thin:hr@//localhost:1521.org:1521/xe\" /&gt;\n        &lt;beans:property name=\"user\" value=\"hr\" /&gt;\n        &lt;beans:property name=\"password\" value=\"hr\" /&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"sessionFactory\"\n                class=\"org.springframework.orm.hibernate5.LocalSessionFactoryBean\"&gt;\n        &lt;beans:property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;beans:property name=\"hibernateProperties\"&gt;\n            &lt;beans:props&gt;\n                &lt;beans:prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.Oracle10gDialect\n                &lt;/beans:prop&gt;\n                &lt;beans:prop key=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/beans:prop&gt;\n                &lt;beans:prop key=\"hibernate.show_sql\"&gt;true&lt;/beans:prop&gt;\n                &lt;beans:prop key=\"hibernate.format_sql\"&gt;true&lt;/beans:prop&gt;\n            &lt;/beans:props&gt;\n        &lt;/beans:property&gt;\n\n\n        &lt;beans:property name=\"packagesToScan\"\n                        value=\"com.efe.entities\" /&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"hibernateTransactionManager\"\n                    class=\"org.springframework.orm.hibernate5.HibernateTransactionManager\"&gt;\n        &lt;beans:property name=\"sessionFactory\"\n                        ref=\"sessionFactory\" /&gt;\n    &lt;/beans:bean&gt;\n    &lt;tx:annotation-driven\n            transaction-manager=\"hibernateTransactionManager\" /&gt;\n\n\n\n\n\n&lt;/beans:beans&gt;\n</code></pre>\n\n<p><strong>My Entity</strong></p>\n\n<pre><code>@Entity\n@Table(name=\"person\")\npublic class Person {\n\n    @Id\n    @Column(name=\"id\")\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n\n    private String name;\n\n    private String country;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n}\n</code></pre>\n\n<p>HomeController</p>\n\n<pre><code>@Controller\npublic class HomeController {\n\n    @Autowired\n    SessionFactory sessionFactory;\n\n\n\n    @GetMapping(\"/\")\n    public String index(Model m) {\n        m.addAttribute(\"someAttribute\", \"someValue\");\n\n\n\n        Person person = new Person();\n        person.setId(1);\n        person.setName(\"efe\");\n        person.setCountry(\"Italy\");\n\n        sessionFactory.getCurrentSession().save(person);\n\n           return \"index\";\n    }\n}\n</code></pre>\n\n<p>Apllciations runs on server but I am getting 500 Internal Server Error with </p>\n\n<p>java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present</p>\n"},{"tags":["java","spring-boot","jhipster"],"owner":{"account_id":26708254,"reputation":1,"user_id":20314094,"display_name":"MartinBill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674950920,"creation_date":1674950920,"question_id":75271777,"body_markdown":"When generating an application with version 7.9.3, during the questions to configure which modules to install, the modules for integrations with social networks and the type of cache do not appear.\r\n\r\n[enter image description here](https://i.stack.imgur.com/Iqbq9.png)\r\n\r\nDoes anyone know why they aren&#39;t there? In the old versions (I&#39;ve seen some tutorials so I can&#39;t say which one/s exactly) they were present.\r\n\r\n[enter image description here](https://i.stack.imgur.com/DGfIi.png)\r\n\r\nI want to add them to my application and I was considering possibly adding them from the marketplace. I found the social module, but I can&#39;t find the proposed cache types (redis, caffeine..)\r\n\r\nThank you in advance","title":"JHipster 7.x missing modules?","body":"<p>When generating an application with version 7.9.3, during the questions to configure which modules to install, the modules for integrations with social networks and the type of cache do not appear.</p>\n<p><a href=\"https://i.stack.imgur.com/Iqbq9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Does anyone know why they aren't there? In the old versions (I've seen some tutorials so I can't say which one/s exactly) they were present.</p>\n<p><a href=\"https://i.stack.imgur.com/DGfIi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I want to add them to my application and I was considering possibly adding them from the marketplace. I found the social module, but I can't find the proposed cache types (redis, caffeine..)</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","spring-boot","sentry"],"comments":[{"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"score":0,"creation_date":1605914874,"post_id":64938132,"comment_id":114808874,"body_markdown":"Do you use Spring MVC there? `@GET` and `@Path` look like JAX-RS to me. Nevertheless, Logback integration should work for you. Try the latest sentry-logback from 3.x: https://docs.sentry.io/platforms/java/guides/logback/","body":"Do you use Spring MVC there? <code>@GET</code> and <code>@Path</code> look like JAX-RS to me. Nevertheless, Logback integration should work for you. Try the latest sentry-logback from 3.x: <a href=\"https://docs.sentry.io/platforms/java/guides/logback/\" rel=\"nofollow noreferrer\">docs.sentry.io/platforms/java/guides/logback</a>"},{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":0,"creation_date":1605915863,"post_id":64938132,"comment_id":114809059,"body_markdown":"Yes - your&#39;e righ tis is JAX-RS.  Would this explain why the exception handler isn&#39;t picked up?  I will try with a proper spring controller.  Regarding logback, I&#39;ll try the updated logback repo, but can you help me understand what adding this logback dependency is actually doing?  The linked thread was resolved this way too and I don&#39;t understand why some logging framework would affect an error handler getting called...?","body":"Yes - your&#39;e righ tis is JAX-RS.  Would this explain why the exception handler isn&#39;t picked up?  I will try with a proper spring controller.  Regarding logback, I&#39;ll try the updated logback repo, but can you help me understand what adding this logback dependency is actually doing?  The linked thread was resolved this way too and I don&#39;t understand why some logging framework would affect an error handler getting called...?"},{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":0,"creation_date":1605916589,"post_id":64938132,"comment_id":114809197,"body_markdown":"@MaciejWalkowiak - HA you were right, ti was becase I&#39;m using JAX-RS.  Thanks for catching.  This is an inherited project and I didn&#39;t really even notice the difference... if you want to poast as answer I&#39;ll accept and give you rep","body":"@MaciejWalkowiak - HA you were right, ti was becase I&#39;m using JAX-RS.  Thanks for catching.  This is an inherited project and I didn&#39;t really even notice the difference... if you want to poast as answer I&#39;ll accept and give you rep"}],"answers":[{"comments":[{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":0,"creation_date":1606168282,"post_id":64964731,"comment_id":114875555,"body_markdown":"Just curious - do you find it surprising that I cannot use both sentry-spring and sentry-logback (old versions 1.7.30) in the same project?  Seems like sentry-spring steps on the toes of sentry-logback... maybe this is a question for sentry team","body":"Just curious - do you find it surprising that I cannot use both sentry-spring and sentry-logback (old versions 1.7.30) in the same project?  Seems like sentry-spring steps on the toes of sentry-logback... maybe this is a question for sentry team"},{"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"score":1,"creation_date":1606207240,"post_id":64964731,"comment_id":114885660,"body_markdown":"I am from the Sentry team, though I joined to build 3.x version and have not much experience with 1.7.x. AFAIR it should work to use both integrations together, but maybe you want to investigate the source code: https://github.com/getsentry/sentry-java/tree/v1.7.30","body":"I am from the Sentry team, though I joined to build 3.x version and have not much experience with 1.7.x. AFAIR it should work to use both integrations together, but maybe you want to investigate the source code: <a href=\"https://github.com/getsentry/sentry-java/tree/v1.7.30\" rel=\"nofollow noreferrer\">github.com/getsentry/sentry-java/tree/v1.7.30</a>"},{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":1,"creation_date":1606227992,"post_id":64964731,"comment_id":114895451,"body_markdown":"Ok - if this happens in our other services, I will try to make a min example and post a support ticket or something.  Will look at source as well.  Probably going to shelf it but eventually come back.  Thanks again for your help.","body":"Ok - if this happens in our other services, I will try to make a min example and post a support ticket or something.  Will look at source as well.  Probably going to shelf it but eventually come back.  Thanks again for your help."}],"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1606119566,"creation_date":1606119566,"answer_id":64964731,"question_id":64938132,"body_markdown":"It seems you are using JAX-RS and not Spring MVC. There is no JAX-RS - Sentry integration working out of the box. \r\n\r\nTo forward exceptions to Sentry you can also use `sentry-logback` integration. You can configure Logback to forward any logger error to Sentry. The drawback of not having Spring integration there too is that errors are not decorated with contextual information from the HTTP request.","title":"Sentry in Spring 1.X simply does not work","body":"<p>It seems you are using JAX-RS and not Spring MVC. There is no JAX-RS - Sentry integration working out of the box.</p>\n<p>To forward exceptions to Sentry you can also use <code>sentry-logback</code> integration. You can configure Logback to forward any logger error to Sentry. The drawback of not having Spring integration there too is that errors are not decorated with contextual information from the HTTP request.</p>\n"}],"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64964731,"answer_count":1,"score":1,"last_activity_date":1674950706,"creation_date":1605913919,"question_id":64938132,"body_markdown":"We have a spring 1.5.17 app and are trying to simply integrate Sentry.  Because this is an older version of Spring (no upgrading isn&#39;t a possiblity), we&#39;re following Sentry&#39;s `Legacy SDK 1.7` directions [here][1].  It&#39;s quite straightforward.\r\n\r\n## Configuration\r\n\r\nHere is pom.  We use other spring libraries like logging/actuator/jpa as well but not showing for clarity.  All the same spring version.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.sentry&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sentry-spring&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.30&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5.17.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAdditionally, added `sentry.properties` file under `src/main/resources`.\r\n\r\n    enabled=true\r\n    dsn=***\r\n    environment=uat\r\n    sample.rate=1.0\r\n    stacktrace.app.packages=com.pls\r\n    stacktrace.hidecommon=false\r\n\r\n## Application\r\n\r\nCreated a boilerplate configuration file overwriting the two beans as per sentry docs.\r\n\r\n    @Configuration\r\n    public class SentryConfig {\r\n    \r\n        @Bean\r\n        public HandlerExceptionResolver sentryExceptionResolver() {\r\n            return new io.sentry.spring.SentryExceptionResolver();\r\n        }\r\n    \r\n        @Bean\r\n        public ServletContextInitializer sentryServletContextInitializer() {\r\n            return new io.sentry.spring.SentryServletContextInitializer();\r\n        }\r\n    }\r\n\r\nVia breakpoints, I&#39;ve confirmed that these beans are initializing and they are getting the properties from `sentry.properties` correctly.  A [related thread][2], I found that if I manually make `SentryClient.captureEvent(event)` calls, then events show up in sentry.  **This means that the sentry client is setup correctly and working, but spring isn&#39;t actually ever calling `.captureEvent()`.**\r\n\r\nTo confirm my suspicion, I stepped into the SentryExceptionResolver bean and confirmed the code never hits this breakpoint.\r\n\r\n[![enter image description here][3]][3] \r\n\r\nI&#39;ve tried to trigger the breakpoint by throwing dummy errors in a `@RestController` ie.\r\n\r\n    @GET\r\n    @Path(&quot;/test&quot;)\r\n    public Object throwError(){\r\n      LOGGER.error(&quot;ERROR BEING LOGGED&quot;);\r\n      throw new RuntimeException(&quot;ERROR THROWN&quot;);\r\n    }\r\n\r\nWhile this error is certainly thrown in the console logs, it does NOT trigger the `.capture()` codepath.\r\n\r\n## Logging?\r\n\r\nThe [related thread][2] mentions something with logging modules, but I don&#39;t understand how that&#39;s related.  `sentry-spring` dependency is loading all the app needs and the client is being initialized, just never actually called!!\r\n\r\nRegardless, I tried adding various logging dependencies (eg. logback as described in this [sentry doc][4]) to no avail.  What could possibly be missing from my configuration!?!?\r\n\r\nIn case it matters, we do use spring-boot-starter-logging...\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nNote that when I add `sentry-logback` dependency, the app doesnt load.\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://docs.sentry.io/platforms/java/legacy/spring/\r\n  [2]: https://stackoverflow.com/questions/62797517/sentry-not-capturing-exceptions-automatically-in-a-spring-boot-application\r\n  [3]: https://i.stack.imgur.com/DWTsW.png\r\n  [4]: https://docs.sentry.io/platforms/java/legacy/logback/\r\n  [5]: https://i.stack.imgur.com/IWxil.png","title":"Sentry in Spring 1.X simply does not work","body":"<p>We have a spring 1.5.17 app and are trying to simply integrate Sentry.  Because this is an older version of Spring (no upgrading isn't a possiblity), we're following Sentry's <code>Legacy SDK 1.7</code> directions <a href=\"https://docs.sentry.io/platforms/java/legacy/spring/\" rel=\"nofollow noreferrer\">here</a>.  It's quite straightforward.</p>\n<h2>Configuration</h2>\n<p>Here is pom.  We use other spring libraries like logging/actuator/jpa as well but not showing for clarity.  All the same spring version.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.sentry&lt;/groupId&gt;\n    &lt;artifactId&gt;sentry-spring&lt;/artifactId&gt;\n    &lt;version&gt;1.7.30&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;1.5.17.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Additionally, added <code>sentry.properties</code> file under <code>src/main/resources</code>.</p>\n<pre><code>enabled=true\ndsn=***\nenvironment=uat\nsample.rate=1.0\nstacktrace.app.packages=com.pls\nstacktrace.hidecommon=false\n</code></pre>\n<h2>Application</h2>\n<p>Created a boilerplate configuration file overwriting the two beans as per sentry docs.</p>\n<pre><code>@Configuration\npublic class SentryConfig {\n\n    @Bean\n    public HandlerExceptionResolver sentryExceptionResolver() {\n        return new io.sentry.spring.SentryExceptionResolver();\n    }\n\n    @Bean\n    public ServletContextInitializer sentryServletContextInitializer() {\n        return new io.sentry.spring.SentryServletContextInitializer();\n    }\n}\n</code></pre>\n<p>Via breakpoints, I've confirmed that these beans are initializing and they are getting the properties from <code>sentry.properties</code> correctly.  A <a href=\"https://stackoverflow.com/questions/62797517/sentry-not-capturing-exceptions-automatically-in-a-spring-boot-application\">related thread</a>, I found that if I manually make <code>SentryClient.captureEvent(event)</code> calls, then events show up in sentry.  <strong>This means that the sentry client is setup correctly and working, but spring isn't actually ever calling <code>.captureEvent()</code>.</strong></p>\n<p>To confirm my suspicion, I stepped into the SentryExceptionResolver bean and confirmed the code never hits this breakpoint.</p>\n<p><a href=\"https://i.stack.imgur.com/DWTsW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DWTsW.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried to trigger the breakpoint by throwing dummy errors in a <code>@RestController</code> ie.</p>\n<pre><code>@GET\n@Path(&quot;/test&quot;)\npublic Object throwError(){\n  LOGGER.error(&quot;ERROR BEING LOGGED&quot;);\n  throw new RuntimeException(&quot;ERROR THROWN&quot;);\n}\n</code></pre>\n<p>While this error is certainly thrown in the console logs, it does NOT trigger the <code>.capture()</code> codepath.</p>\n<h2>Logging?</h2>\n<p>The <a href=\"https://stackoverflow.com/questions/62797517/sentry-not-capturing-exceptions-automatically-in-a-spring-boot-application\">related thread</a> mentions something with logging modules, but I don't understand how that's related.  <code>sentry-spring</code> dependency is loading all the app needs and the client is being initialized, just never actually called!!</p>\n<p>Regardless, I tried adding various logging dependencies (eg. logback as described in this <a href=\"https://docs.sentry.io/platforms/java/legacy/logback/\" rel=\"nofollow noreferrer\">sentry doc</a>) to no avail.  What could possibly be missing from my configuration!?!?</p>\n<p>In case it matters, we do use spring-boot-starter-logging...</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note that when I add <code>sentry-logback</code> dependency, the app doesnt load.</p>\n<p><a href=\"https://i.stack.imgur.com/IWxil.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IWxil.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","firefox"],"comments":[{"owner":{"account_id":8760755,"reputation":951,"user_id":6550782,"display_name":"Raj Paliwal"},"score":0,"creation_date":1573558562,"post_id":58817626,"comment_id":103913108,"body_markdown":"Would like to suggest you to provide code snippet in here itself instead of the image. It is not good practice to ask questions using image and expect  answers","body":"Would like to suggest you to provide code snippet in here itself instead of the image. It is not good practice to ask questions using image and expect  answers"},{"owner":{"account_id":7020410,"reputation":508,"user_id":5380023,"accept_rate":75,"display_name":"Pankaj Devrani"},"score":0,"creation_date":1573573925,"post_id":58817626,"comment_id":103921259,"body_markdown":"make sure your user have read write access for gecodriver.exe also make sure your anti virus is not preventing you from copying the gecodriver.exe.","body":"make sure your user have read write access for gecodriver.exe also make sure your anti virus is not preventing you from copying the gecodriver.exe."}],"answers":[{"tags":[],"owner":{"account_id":8760755,"reputation":951,"user_id":6550782,"display_name":"Raj Paliwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573558504,"creation_date":1573558504,"answer_id":58817891,"question_id":58817626,"body_markdown":"Please make sure the mentioned path i.e. E:/ is accessible.\r\n\r\nOne of the solution is try to move gecko into some other directory.\r\n\r\n    driver = webdriver.Firefox(&#39;&lt;new directory&gt;/geckodriver.exe&#39;)","title":"Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: permission denied","body":"<p>Please make sure the mentioned path i.e. E:/ is accessible.</p>\n\n<p>One of the solution is try to move gecko into some other directory.</p>\n\n<pre><code>driver = webdriver.Firefox('&lt;new directory&gt;/geckodriver.exe')\n</code></pre>\n"}],"owner":{"account_id":10595437,"reputation":19,"user_id":7804330,"display_name":"Sumaiya Sirat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674950136,"creation_date":1573557642,"question_id":58817626,"body_markdown":"This code is not running even when i find nothing wrong.\r\n\r\n\r\n  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZI9tx.png","title":"Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: permission denied","body":"<p>This code is not running even when i find nothing wrong.</p>\n<p><a href=\"https://i.stack.imgur.com/ZI9tx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZI9tx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","2d","lwjgl","gif","tile"],"answers":[{"tags":[],"owner":{"account_id":5568232,"reputation":148,"user_id":4651403,"display_name":"mrbigheart"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674949688,"creation_date":1427483876,"answer_id":29308571,"question_id":29308314,"body_markdown":"Here is a general idea of how you could implement the steps you described using Java and LWJGL:\r\n\r\nUse an animated GIF file to represent the explode animation.\r\n\r\nUse a library such as GIFDecoder to read and decode the frames of the GIF into separate images.\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import javax.imageio.ImageIO;\r\n    \r\n    // Use GIFDecoder to read and decode the frames of the GIF\r\n    import gifdecoder.GIFDecoder;\r\n    \r\n    // Create a GIFDecoder object to read the animation file\r\n    GIFDecoder decoder = new GIFDecoder();\r\n    decoder.read(&quot;explode.gif&quot;);\r\n    \r\n    // Get the number of frames in the animation\r\n    int frameCount = decoder.getFrameCount();\r\n    \r\n    // Create an array to store the frames of the animation\r\n    BufferedImage[] frames = new BufferedImage[frameCount];\r\n    \r\n    // Decode the frames of the animation and store them in the array\r\n    for (int i = 0; i &lt; frameCount; i++) {\r\n        frames[i] = decoder.getFrame(i);\r\n    }\r\n\r\nUse LWJGL&#39;s TextureLoader to load each frame of the animation as a separate texture.\r\n\r\n    import org.lwjgl.opengl.GL11;\r\n    import org.newdawn.slick.opengl.Texture;\r\n    import org.newdawn.slick.opengl.TextureLoader;\r\n    \r\n    // Create an array to store the textures of the animation\r\n    Texture[] textures = new Texture[frameCount];\r\n    \r\n    // Load each frame of the animation as a separate texture\r\n    for (int i = 0; i &lt; frameCount; i++) {\r\n        textures[i] = TextureLoader.getTexture(&quot;PNG&quot;, new ByteArrayInputStream(ImageIO.read(frames[i])));\r\n    }\r\n\r\nUse LWJGL&#39;s rendering functions to draw the current frame of the animation at the appropriate location\r\n\r\n    textures[currentFrame].bind();\r\n    \r\n    GL11.glBegin(GL11.GL_QUADS);\r\n        GL11.glTexCoord2f(0, 0);\r\n        GL11.glVertex2f(x, y);\r\n        GL11.glTexCoord2f(1, 0);\r\n        GL11.glVertex2f(x + width, y);\r\n        GL11.glTexCoord2f(1, 1);\r\n        GL11.glVertex2f(x + width, y + height);\r\n        GL11.glTexCoord2f\r\n","title":"(LWJGL) How to load animated GIFS?","body":"<p>Here is a general idea of how you could implement the steps you described using Java and LWJGL:</p>\n<p>Use an animated GIF file to represent the explode animation.</p>\n<p>Use a library such as GIFDecoder to read and decode the frames of the GIF into separate images.</p>\n<pre><code>import java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\n\n// Use GIFDecoder to read and decode the frames of the GIF\nimport gifdecoder.GIFDecoder;\n\n// Create a GIFDecoder object to read the animation file\nGIFDecoder decoder = new GIFDecoder();\ndecoder.read(&quot;explode.gif&quot;);\n\n// Get the number of frames in the animation\nint frameCount = decoder.getFrameCount();\n\n// Create an array to store the frames of the animation\nBufferedImage[] frames = new BufferedImage[frameCount];\n\n// Decode the frames of the animation and store them in the array\nfor (int i = 0; i &lt; frameCount; i++) {\n    frames[i] = decoder.getFrame(i);\n}\n</code></pre>\n<p>Use LWJGL's TextureLoader to load each frame of the animation as a separate texture.</p>\n<pre><code>import org.lwjgl.opengl.GL11;\nimport org.newdawn.slick.opengl.Texture;\nimport org.newdawn.slick.opengl.TextureLoader;\n\n// Create an array to store the textures of the animation\nTexture[] textures = new Texture[frameCount];\n\n// Load each frame of the animation as a separate texture\nfor (int i = 0; i &lt; frameCount; i++) {\n    textures[i] = TextureLoader.getTexture(&quot;PNG&quot;, new ByteArrayInputStream(ImageIO.read(frames[i])));\n}\n</code></pre>\n<p>Use LWJGL's rendering functions to draw the current frame of the animation at the appropriate location</p>\n<pre><code>textures[currentFrame].bind();\n\nGL11.glBegin(GL11.GL_QUADS);\n    GL11.glTexCoord2f(0, 0);\n    GL11.glVertex2f(x, y);\n    GL11.glTexCoord2f(1, 0);\n    GL11.glVertex2f(x + width, y);\n    GL11.glTexCoord2f(1, 1);\n    GL11.glVertex2f(x + width, y + height);\n    GL11.glTexCoord2f\n</code></pre>\n"}],"owner":{"account_id":6001527,"reputation":269,"user_id":4714644,"accept_rate":0,"display_name":"chooky1441"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1635,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674949688,"creation_date":1427482918,"question_id":29308314,"body_markdown":"I am making a sort of 2D platformer and I want an explode animation when ever a certain thing happens.  I am using lwjgl to load the textures but when I try to load a gif it just shows the first frame.  So is there some way to tell it to show the next frame or is there a special way you have to load it?\r\n\r\n","title":"(LWJGL) How to load animated GIFS?","body":"<p>I am making a sort of 2D platformer and I want an explode animation when ever a certain thing happens.  I am using lwjgl to load the textures but when I try to load a gif it just shows the first frame.  So is there some way to tell it to show the next frame or is there a special way you have to load it?</p>\n"},{"tags":["java","linux","swing","ubuntu"],"comments":[{"owner":{"account_id":26020608,"reputation":129,"user_id":19728365,"display_name":"Oreoezi"},"score":1,"creation_date":1674943255,"post_id":75271175,"comment_id":132822965,"body_markdown":"Please load the image from resources instead of from a specific system path. \nHere is an example of how to load an icon properly https://kodejava.org/how-do-i-change-jframe-image-icon/","body":"Please load the image from resources instead of from a specific system path.  Here is an example of how to load an icon properly <a href=\"https://kodejava.org/how-do-i-change-jframe-image-icon/\" rel=\"nofollow noreferrer\">kodejava.org/how-do-i-change-jframe-image-icon</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674944760,"post_id":75271175,"comment_id":132823217,"body_markdown":"`webp` is not a support image format, from the [JavaDocs](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/ImageIcon.html) *&quot;containing a supported image format, such as GIF, JPEG, or (as of 1.3) PNG.&quot;*","body":"<code>webp</code> is not a support image format, from the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/ImageIcon.html\" rel=\"nofollow noreferrer\">JavaDocs</a> <i>&quot;containing a supported image format, such as GIF, JPEG, or (as of 1.3) PNG.&quot;</i>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674944917,"post_id":75271175,"comment_id":132823236,"body_markdown":"Normally I would recommend using `ImageIO.load` to load you images, as it will throw an exception if the image can&#39;t be read, but, by default, it only supports *&quot;GIF, PNG, JPEG, BMP, and WBMP&quot;* out of the box - however, `ImageIO` supports a pluggable framework and there are a number of [3rd party libraries which can add support for them](https://www.google.com/search?q=imageio+webp&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=imageio+webp&amp;aqs=chrome..69i57.2040j0j4&amp;sourceid=chrome&amp;ie=UTF-8)","body":"Normally I would recommend using <code>ImageIO.load</code> to load you images, as it will throw an exception if the image can&#39;t be read, but, by default, it only supports <i>&quot;GIF, PNG, JPEG, BMP, and WBMP&quot;</i> out of the box - however, <code>ImageIO</code> supports a pluggable framework and there are a number of <a href=\"https://www.google.com/search?q=imageio+webp&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=imageio+webp&amp;aqs=chrome..69i57.2040j0j4&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">3rd party libraries which can add support for them</a>"},{"owner":{"account_id":20347338,"reputation":1,"user_id":14924840,"display_name":"Salma Khaled"},"score":0,"creation_date":1674945305,"post_id":75271175,"comment_id":132823297,"body_markdown":"I converted the image to png and added it to vscode project file and still did not appear","body":"I converted the image to png and added it to vscode project file and still did not appear"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674948101,"post_id":75271175,"comment_id":132823644,"body_markdown":"`new ImageIcon(&quot;games.png&quot;)` is expecting to find a file called `games.png` within the current working directory, which unlikely to you be source/binary location. 1.  Make use of `Class#getResource` to load embedded resources. 2. Make use of `ImageIO.load` instead of `ImageIcon` to load you images, it will throw an `Exception` when the image can&#39;t be loaded. 3. Ensure that image is within the class path of your IDE.  This is tricky and is depended on your IDEs configuration","body":"<code>new ImageIcon(&quot;games.png&quot;)</code> is expecting to find a file called <code>games.png</code> within the current working directory, which unlikely to you be source/binary location. 1.  Make use of <code>Class#getResource</code> to load embedded resources. 2. Make use of <code>ImageIO.load</code> instead of <code>ImageIcon</code> to load you images, it will throw an <code>Exception</code> when the image can&#39;t be loaded. 3. Ensure that image is within the class path of your IDE.  This is tricky and is depended on your IDEs configuration"},{"owner":{"account_id":20347338,"reputation":1,"user_id":14924840,"display_name":"Salma Khaled"},"score":0,"creation_date":1674949068,"post_id":75271175,"comment_id":132823765,"body_markdown":"@MadProgrammer what do you think of the changes I made...but still same problem","body":"@MadProgrammer what do you think of the changes I made...but still same problem"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674949373,"post_id":75271175,"comment_id":132823793,"body_markdown":"Where is the image stored (relative to the source directory) - maybe [JAVA how to refer the file in Project](https://stackoverflow.com/questions/67901604/java-how-to-refer-the-file-in-project) can help","body":"Where is the image stored (relative to the source directory) - maybe <a href=\"https://stackoverflow.com/questions/67901604/java-how-to-refer-the-file-in-project\">JAVA how to refer the file in Project</a> can help"},{"owner":{"account_id":20347338,"reputation":1,"user_id":14924840,"display_name":"Salma Khaled"},"score":0,"creation_date":1674949833,"post_id":75271175,"comment_id":132823841,"body_markdown":"@MadProgrammer you can check the photo in the question it shows where the image stored","body":"@MadProgrammer you can check the photo in the question it shows where the image stored"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674957270,"post_id":75271175,"comment_id":132824690,"body_markdown":"Either use a relative path of `frame.getClass().getResource(&quot;games.png&quot;)` or an absolute path of `frame.getClass().getResource(&quot;/home/salma/Downloads/games.png&quot;)` - but I&#39;m guessing as I don&#39;t use vscode","body":"Either use a relative path of <code>frame.getClass().getResource(&quot;games.png&quot;)</code> or an absolute path of <code>frame.getClass().getResource(&quot;&#47;home&#47;salma&#47;Downloads&#47;games.pn&zwnj;&#8203;g&quot;)</code> - but I&#39;m guessing as I don&#39;t use vscode"},{"owner":{"account_id":20347338,"reputation":1,"user_id":14924840,"display_name":"Salma Khaled"},"score":0,"creation_date":1674960393,"post_id":75271175,"comment_id":132824952,"body_markdown":"@MadProgrammer it&#39;s not working but thank you for your time really appreciate it.","body":"@MadProgrammer it&#39;s not working but thank you for your time really appreciate it."}],"owner":{"account_id":20347338,"reputation":1,"user_id":14924840,"display_name":"Salma Khaled"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674949003,"creation_date":1674942900,"question_id":75271175,"body_markdown":"\r\nI copied the path of the image but no icon appears click on the image to see\r\n[no icon][1]\r\nI created simple frame and needed to include icon\r\n```java\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JFrame;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.awt.Color;\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame(); \r\n        frame.setTitle(&quot;JFrame title goes here&quot;); \r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //exit out of app\r\n        frame.setResizable(false); // prevent frame from being resized\r\n        frame.setSize(700,700); \r\n        frame.setVisible(true); \r\n        try {\r\n            URL resource = frame.getClass().getResource(&quot;/games.png&quot;);\r\n            BufferedImage image = ImageIO.read(resource);\r\n            frame.setIconImage(image);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        frame.getContentPane().setBackground(new Color(123,50,250));\r\n    }  \r\n}   \r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pCUQZ.png","title":"no icon shows on java swing in linux ubunutu","body":"<p>I copied the path of the image but no icon appears click on the image to see\n<a href=\"https://i.stack.imgur.com/pCUQZ.png\" rel=\"nofollow noreferrer\">no icon</a>\nI created simple frame and needed to include icon</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.awt.Color;\npublic class App {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(); \n        frame.setTitle(&quot;JFrame title goes here&quot;); \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //exit out of app\n        frame.setResizable(false); // prevent frame from being resized\n        frame.setSize(700,700); \n        frame.setVisible(true); \n        try {\n            URL resource = frame.getClass().getResource(&quot;/games.png&quot;);\n            BufferedImage image = ImageIO.read(resource);\n            frame.setIconImage(image);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        frame.getContentPane().setBackground(new Color(123,50,250));\n    }  \n}   \n</code></pre>\n"},{"tags":["java","multithreading","producer-consumer"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1674946587,"post_id":75271439,"comment_id":132823459,"body_markdown":"You don&#39;t even need to think about multithreading to break this one down. Think about things step by step. Here&#39;s a hint: (1) what is `message.empty` at the end of the first `write` call? And then (2) what happens at the second `write` call, with `message.empty` having that value?","body":"You don&#39;t even need to think about multithreading to break this one down. Think about things step by step. Here&#39;s a hint: (1) what is <code>message.empty</code> at the end of the first <code>write</code> call? And then (2) what happens at the second <code>write</code> call, with <code>message.empty</code> having that value?"},{"owner":{"account_id":25458846,"reputation":1,"user_id":19259033,"display_name":"up10388"},"score":0,"creation_date":1674948441,"post_id":75271439,"comment_id":132823683,"body_markdown":"@yshavit  In the first call `message.empty` is `true` so it  loops  infinitely inside the loop when the code reaches wait the current function releases the lock\n but after this i step  I confused \nWhen we call wait method which is inside an infinite loop this funtion break the loop and changes the value of empty  and all the code which is above wait is skipped ?","body":"@yshavit  In the first call <code>message.empty</code> is <code>true</code> so it  loops  infinitely inside the loop when the code reaches wait the current function releases the lock  but after this i step  I confused  When we call wait method which is inside an infinite loop this funtion break the loop and changes the value of empty  and all the code which is above wait is skipped ?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1674950943,"post_id":75271439,"comment_id":132823970,"body_markdown":"@up10388 in the first call to `write`, `empty` is `true`, so `while(!empty)` is skipped. Then, it sets `empty` to `false` and sets the message. The problem here is that nothing ever calls `read`, so writes after the first one will block indefinitely. This is just a producer with no consumer.","body":"@up10388 in the first call to <code>write</code>, <code>empty</code> is <code>true</code>, so <code>while(!empty)</code> is skipped. Then, it sets <code>empty</code> to <code>false</code> and sets the message. The problem here is that nothing ever calls <code>read</code>, so writes after the first one will block indefinitely. This is just a producer with no consumer."}],"owner":{"account_id":25458846,"reputation":1,"user_id":19259033,"display_name":"up10388"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674949001,"creation_date":1674946068,"question_id":75271439,"body_markdown":"I am trying to understand producer and consumer program but when I create the object thread1 in main function the thread suspends (mainHumpty Dumpty sat on a wall) why is this happened?\r\n\r\n    import java.util.Random;\r\n    \r\n    public class Main {\r\n    \r\n    public static void main(String[] args) {\r\n    \t\tMessage mes = new Message();\r\n    \t\tWriter t1 = new Writer(mes);\r\n    \t\tt1.start();\r\n    \t\twhile(true)\r\n    \t\t{\t\r\n    \t\tt1.run();\t\t\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    class Message { \r\n    \r\n    private String message; \r\n    private boolean empty = true;\r\n    \r\n    public synchronized String read() {\r\n        while(empty) {\r\n         try{\r\n          wait();\r\n           }\r\n         catch(InterruptedException e)\r\n         {\r\n         }\r\n        }\r\n        empty = true;\r\n        notifyAll();\r\n        return message;\r\n    }\r\n    \r\n    public synchronized void write(String message) {\r\n        while(!empty) {\r\n        try{\r\n          wait();\r\n           }\r\n       catch(InterruptedException e)\r\n         {\r\n         }\r\n        }\r\n        empty = false;\r\n        notifyAll();\r\n        this.message = message;\r\n    }\r\n    }\r\n\r\n    class Writer extends Thread { \r\n    \r\n    private Message message;\r\n    public Writer(Message message) {\r\n        this.message = message;\r\n    }\r\n    \r\n    public void run() {\r\n        String messages[] = {\r\n                &quot;Humpty Dumpty sat on a wall&quot;,\r\n                &quot;Humpty Dumpty had a great fall&quot;,\r\n                &quot;All the king&#39;s horses and all the king&#39;s men&quot;,\r\n                &quot;Couldn&#39;t put Humpty together again&quot;\r\n        };\r\n    \r\n        Random random = new Random();\r\n    \r\n        for(int i=0; i&lt;messages.length; i++) {\r\n            message.write(messages[i]);\r\n            System.out.println(Thread.currentThread().getName() + messages[i]);\r\n        try {\r\n                Thread.sleep(random.nextInt(2000));\r\n            } catch(InterruptedException e) {\r\n    \r\n            }\r\n        }\r\n        message.write(&quot;Finished&quot;);`\r\n\r\nI expected to print infinitely all the members of the array and the name of the thread which I created but the only that is printed is the first string and the main thread  ","title":"Why the thread suspends?","body":"<p>I am trying to understand producer and consumer program but when I create the object thread1 in main function the thread suspends (mainHumpty Dumpty sat on a wall) why is this happened?</p>\n<pre><code>import java.util.Random;\n\npublic class Main {\n\npublic static void main(String[] args) {\n        Message mes = new Message();\n        Writer t1 = new Writer(mes);\n        t1.start();\n        while(true)\n        {   \n        t1.run();       \n        }\n    }\n}\n\nclass Message { \n\nprivate String message; \nprivate boolean empty = true;\n\npublic synchronized String read() {\n    while(empty) {\n     try{\n      wait();\n       }\n     catch(InterruptedException e)\n     {\n     }\n    }\n    empty = true;\n    notifyAll();\n    return message;\n}\n\npublic synchronized void write(String message) {\n    while(!empty) {\n    try{\n      wait();\n       }\n   catch(InterruptedException e)\n     {\n     }\n    }\n    empty = false;\n    notifyAll();\n    this.message = message;\n}\n}\n\nclass Writer extends Thread { \n\nprivate Message message;\npublic Writer(Message message) {\n    this.message = message;\n}\n\npublic void run() {\n    String messages[] = {\n            &quot;Humpty Dumpty sat on a wall&quot;,\n            &quot;Humpty Dumpty had a great fall&quot;,\n            &quot;All the king's horses and all the king's men&quot;,\n            &quot;Couldn't put Humpty together again&quot;\n    };\n\n    Random random = new Random();\n\n    for(int i=0; i&lt;messages.length; i++) {\n        message.write(messages[i]);\n        System.out.println(Thread.currentThread().getName() + messages[i]);\n    try {\n            Thread.sleep(random.nextInt(2000));\n        } catch(InterruptedException e) {\n\n        }\n    }\n    message.write(&quot;Finished&quot;);`\n</code></pre>\n<p>I expected to print infinitely all the members of the array and the name of the thread which I created but the only that is printed is the first string and the main thread</p>\n"},{"tags":["java","fluent"],"answers":[{"comments":[{"owner":{"account_id":1366776,"reputation":105,"user_id":1303051,"display_name":"HaBa"},"score":0,"creation_date":1674945871,"post_id":75269990,"comment_id":132823367,"body_markdown":"Thanks for your answer Rob! It gives me some hope on an implementable solution, though i don&#39;t understand exactly what you want me to change. Can you be a little more specific where it is i need to modify my code?","body":"Thanks for your answer Rob! It gives me some hope on an implementable solution, though i don&#39;t understand exactly what you want me to change. Can you be a little more specific where it is i need to modify my code?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1674999998,"post_id":75269990,"comment_id":132829753,"body_markdown":"I see you found out yourself.","body":"I see you found out yourself."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674931153,"creation_date":1674931153,"answer_id":75269990,"question_id":75268396,"body_markdown":"You&#39;re not using generics as much as you want to. You&#39;re using return type `Type3`. You need to use `Type3&lt;Type1&gt;`, `Type3&lt;Type2&gt;` and `Type3&lt;T&gt;` instead.","title":"Is there a way in Java generics to return different kinds of datatype?","body":"<p>You're not using generics as much as you want to. You're using return type <code>Type3</code>. You need to use <code>Type3&lt;Type1&gt;</code>, <code>Type3&lt;Type2&gt;</code> and <code>Type3&lt;T&gt;</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":1366776,"reputation":105,"user_id":1303051,"display_name":"HaBa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674946670,"creation_date":1674946670,"answer_id":75271486,"question_id":75268396,"body_markdown":"Thanks to Rob Spoor i got my code finally working, though i didn&#39;t understand it at first. The solution lies in changing the code in the following ways:\r\n\r\n```\r\npackage com.example.fluent;\r\n\r\npublic class Test {\r\n\r\n    public class Type1 {\r\n        public Type1 test1() {\r\n            System.out.println(&quot;test1&quot;);\r\n            return this;\r\n        }\r\n        public Type3&lt;Type1&gt; gotype3() {\r\n            System.out.println(&quot;gotype3&quot;);\r\n            return new Type3&lt;Type1&gt;(this);\r\n        }\r\n        public void endtype1() {\r\n            System.out.println(&quot;endtype1&quot;);\r\n        }\r\n    }\r\n\r\n    public class Type2 {\r\n        public Type2 test2() {\r\n            System.out.println(&quot;test2&quot;);\r\n            return this;\r\n        }\r\n        public Type3&lt;Type2&gt; gotype3() {\r\n            System.out.println(&quot;gotype3&quot;);\r\n            return new Type3&lt;Type2&gt;(this);\r\n        }\r\n        public void endtype2() {\r\n            System.out.println(&quot;endtype2&quot;);\r\n        }\r\n    }\r\n\r\n    public class Type3&lt;T&gt; {\r\n        private T parent;\r\n        public Type3(T parent) {\r\n            this.parent = parent;\r\n        }\r\n        public Type3&lt;T&gt; test3() {\r\n            System.out.println(&quot;test3&quot;);\r\n            return this;\r\n        }\r\n        public T endtype3() {\r\n            System.out.println(&quot;endtype3&quot;);\r\n            return parent;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Test().run();\r\n    }\r\n\r\n    private void run() {\r\n//        new Type1().test1().test1().endtype1();\r\n        new Type1().test1().gotype3().test3().endtype3().test1().endtype1();\r\n//        new Type2().test2().gotype3().test3().endtype3().test2().endtype2();\r\n    }\r\n}\r\n```\r\n\r\nSee the changes in the return types of the .gotype3() methods in the Type1 and Type2 classes, as well as the return type of the .test3() method. Now everything is working fine.","title":"Is there a way in Java generics to return different kinds of datatype?","body":"<p>Thanks to Rob Spoor i got my code finally working, though i didn't understand it at first. The solution lies in changing the code in the following ways:</p>\n<pre><code>package com.example.fluent;\n\npublic class Test {\n\n    public class Type1 {\n        public Type1 test1() {\n            System.out.println(&quot;test1&quot;);\n            return this;\n        }\n        public Type3&lt;Type1&gt; gotype3() {\n            System.out.println(&quot;gotype3&quot;);\n            return new Type3&lt;Type1&gt;(this);\n        }\n        public void endtype1() {\n            System.out.println(&quot;endtype1&quot;);\n        }\n    }\n\n    public class Type2 {\n        public Type2 test2() {\n            System.out.println(&quot;test2&quot;);\n            return this;\n        }\n        public Type3&lt;Type2&gt; gotype3() {\n            System.out.println(&quot;gotype3&quot;);\n            return new Type3&lt;Type2&gt;(this);\n        }\n        public void endtype2() {\n            System.out.println(&quot;endtype2&quot;);\n        }\n    }\n\n    public class Type3&lt;T&gt; {\n        private T parent;\n        public Type3(T parent) {\n            this.parent = parent;\n        }\n        public Type3&lt;T&gt; test3() {\n            System.out.println(&quot;test3&quot;);\n            return this;\n        }\n        public T endtype3() {\n            System.out.println(&quot;endtype3&quot;);\n            return parent;\n        }\n    }\n\n    public static void main(String[] args) {\n        new Test().run();\n    }\n\n    private void run() {\n//        new Type1().test1().test1().endtype1();\n        new Type1().test1().gotype3().test3().endtype3().test1().endtype1();\n//        new Type2().test2().gotype3().test3().endtype3().test2().endtype2();\n    }\n}\n</code></pre>\n<p>See the changes in the return types of the .gotype3() methods in the Type1 and Type2 classes, as well as the return type of the .test3() method. Now everything is working fine.</p>\n"}],"owner":{"account_id":1366776,"reputation":105,"user_id":1303051,"display_name":"HaBa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75269990,"answer_count":2,"score":0,"last_activity_date":1674946670,"creation_date":1674916474,"question_id":75268396,"body_markdown":"So i&#39;m trying to develop a fluent interface for some DSL in Java and am running into a problem. The interface consists of builder pattern classes that each construct part of the DSL. The problem is that a specific builder sometimes needs to transfer control to a different builder which at some point returns to the &#39;parent&#39; builder. For example, there is a &#39;SequenceBuilder&#39; that creates a list of statements but it need sometimes transfer control to an &#39;IfBuilder&#39; that is used to create an &#39;if&#39; statement. When the IfBuilder is finished, it needs to return to the SequenceBuilder. Now there are some builders that are not always called by the same type of other builder and therefore need to be able to return builders of a different datatype. The example program below demonstrates this:\r\n\r\n```\r\npackage com.example.fluent;\r\n\r\npublic class Test {\r\n\r\n    public class Type1 {\r\n        public Type1 test1() {\r\n            System.out.println(&quot;test1&quot;);\r\n            return this;\r\n        }\r\n        public Type3 gotype3() {\r\n            System.out.println(&quot;gotype3&quot;);\r\n            return new Type3&lt;Type1&gt;(this);\r\n        }\r\n        public void endtype1() {\r\n            System.out.println(&quot;endtype1&quot;);\r\n        }\r\n    }\r\n\r\n    public class Type2 {\r\n        public Type2 test2() {\r\n            System.out.println(&quot;test2&quot;);\r\n            return this;\r\n        }\r\n        public Type3 gotype3() {\r\n            System.out.println(&quot;gotype3&quot;);\r\n            return new Type3&lt;Type2&gt;(this);\r\n        }\r\n        public void endtype2() {\r\n            System.out.println(&quot;endtype2&quot;);\r\n        }\r\n    }\r\n\r\n    public class Type3&lt;T&gt; {\r\n        private T parent;\r\n        public Type3(T parent) {\r\n            this.parent = parent;\r\n        }\r\n        public Type3 test3() {\r\n            System.out.println(&quot;test3&quot;);\r\n            return this;\r\n        }\r\n        public T endtype3() {\r\n            System.out.println(&quot;endtype3&quot;);\r\n            return parent;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Test().run();\r\n    }\r\n\r\n    private void run() {\r\n        new Type1()\r\n            .test1()\r\n            .gotype3()\r\n                .test3()\r\n                .endtype3()\r\n            .test1()\r\n            .endtype1();\r\n    }\r\n}\r\n```\r\n\r\nYou can see in the .run() method that i start by creating a new instance of the Type1 class, which follows the builder pattern. At some point i&#39;m calling the .goType3() method which transfers control to the Type3 builder. Because it has to return control at some point to Type1 again, a reference to that builder is passed via constructor to Type3. When it&#39;s time to return to Type1, the method .endtype3() is called. And here lies the problem. I&#39;m using generics to (try) to return the datatype of Type1 but instead it&#39;s converted to an Object type. That datatype obviously does not have the methods that Type1 has and therefore the pattern is broken.\r\n\r\nQuestion: is there some other way to return the proper datatype to the parent builder?","title":"Is there a way in Java generics to return different kinds of datatype?","body":"<p>So i'm trying to develop a fluent interface for some DSL in Java and am running into a problem. The interface consists of builder pattern classes that each construct part of the DSL. The problem is that a specific builder sometimes needs to transfer control to a different builder which at some point returns to the 'parent' builder. For example, there is a 'SequenceBuilder' that creates a list of statements but it need sometimes transfer control to an 'IfBuilder' that is used to create an 'if' statement. When the IfBuilder is finished, it needs to return to the SequenceBuilder. Now there are some builders that are not always called by the same type of other builder and therefore need to be able to return builders of a different datatype. The example program below demonstrates this:</p>\n<pre><code>package com.example.fluent;\n\npublic class Test {\n\n    public class Type1 {\n        public Type1 test1() {\n            System.out.println(&quot;test1&quot;);\n            return this;\n        }\n        public Type3 gotype3() {\n            System.out.println(&quot;gotype3&quot;);\n            return new Type3&lt;Type1&gt;(this);\n        }\n        public void endtype1() {\n            System.out.println(&quot;endtype1&quot;);\n        }\n    }\n\n    public class Type2 {\n        public Type2 test2() {\n            System.out.println(&quot;test2&quot;);\n            return this;\n        }\n        public Type3 gotype3() {\n            System.out.println(&quot;gotype3&quot;);\n            return new Type3&lt;Type2&gt;(this);\n        }\n        public void endtype2() {\n            System.out.println(&quot;endtype2&quot;);\n        }\n    }\n\n    public class Type3&lt;T&gt; {\n        private T parent;\n        public Type3(T parent) {\n            this.parent = parent;\n        }\n        public Type3 test3() {\n            System.out.println(&quot;test3&quot;);\n            return this;\n        }\n        public T endtype3() {\n            System.out.println(&quot;endtype3&quot;);\n            return parent;\n        }\n    }\n\n    public static void main(String[] args) {\n        new Test().run();\n    }\n\n    private void run() {\n        new Type1()\n            .test1()\n            .gotype3()\n                .test3()\n                .endtype3()\n            .test1()\n            .endtype1();\n    }\n}\n</code></pre>\n<p>You can see in the .run() method that i start by creating a new instance of the Type1 class, which follows the builder pattern. At some point i'm calling the .goType3() method which transfers control to the Type3 builder. Because it has to return control at some point to Type1 again, a reference to that builder is passed via constructor to Type3. When it's time to return to Type1, the method .endtype3() is called. And here lies the problem. I'm using generics to (try) to return the datatype of Type1 but instead it's converted to an Object type. That datatype obviously does not have the methods that Type1 has and therefore the pattern is broken.</p>\n<p>Question: is there some other way to return the proper datatype to the parent builder?</p>\n"},{"tags":["java","variables","initialization"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1674946412,"post_id":75271327,"comment_id":132823435,"body_markdown":"See https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo, but in short you must call `scanner.nextLine()` after reading the input to clear the newline from the input buffer. IMHO you&#39;re always better to read the whole line using nextLine() and parse it for the value you want.","body":"See <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\" title=\"scanner is skipping nextline after using next or nextfoo\">stackoverflow.com/questions/13102045/&hellip;</a>, but in short you must call <code>scanner.nextLine()</code> after reading the input to clear the newline from the input buffer. IMHO you&#39;re always better to read the whole line using nextLine() and parse it for the value you want."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1674952014,"post_id":75271327,"comment_id":132824109,"body_markdown":"Fixing your indents and extra blank lines will make programming easier.","body":"Fixing your indents and extra blank lines will make programming easier."}],"answers":[{"tags":[],"owner":{"account_id":15434390,"reputation":1,"user_id":11134890,"display_name":"tanczmy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674945733,"creation_date":1674945733,"answer_id":75271416,"question_id":75271327,"body_markdown":"Since you&#39;re using **double** variables, you have to ensure the correct string format in `printf()`. We generally use `%d` od `%i` to represent integer values, and we use `%f` (f as in floating point) to represent floating point values.","title":"Java - The Local variable may not have been initialized - New to programming question","body":"<p>Since you're using <strong>double</strong> variables, you have to ensure the correct string format in <code>printf()</code>. We generally use <code>%d</code> od <code>%i</code> to represent integer values, and we use <code>%f</code> (f as in floating point) to represent floating point values.</p>\n"},{"tags":[],"owner":{"account_id":23556784,"reputation":669,"user_id":17620209,"display_name":"Mohamed Darwesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674946421,"creation_date":1674945758,"answer_id":75271419,"question_id":75271327,"body_markdown":"To format the values in your output, using NumberFormat class.\r\nHere&#39;s how to do it with your current code:\r\n\r\n    NumberFormat fmt = NumberFormat.getCurrencyInstance();\r\n\r\nTo display the formatted currency values in your output, you can use the ``printf`` method and include the ``%s`` placeholder in your format string, then pass the formatted currency values using the ``fmt.format()`` method.\r\n\r\n    System.out.printf(&quot;\\t%s\\t\\t\\t%s\\t\\t%s\\t\\t%s\\n&quot;,\r\n                        fmt.format(costHouse1),\r\n                        fmt.format(finalFuel1),\r\n                        fmt.format(finalTax1),\r\n                        fmt.format(finalHouse1));\r\n___________\r\nRegarding the issue with your current code, you are using the ``%d ``placeholder for the ``printf`` method, which is used for ``integers``. Since your variables are of type ``double``, you should use the ``%f`` placeholder instead.\r\n\r\n    System.out.printf(&quot;\\t%5f\\t\\t\\t%5f\\t\\t%5f\\t\\t%5f\\n&quot;,\r\n                            costHouse1,\r\n                            finalFuel1,\r\n                            finalTax1,\r\n                            finalHouse1);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java - The Local variable may not have been initialized - New to programming question","body":"<p>To format the values in your output, using NumberFormat class.\nHere's how to do it with your current code:</p>\n<pre><code>NumberFormat fmt = NumberFormat.getCurrencyInstance();\n</code></pre>\n<p>To display the formatted currency values in your output, you can use the <code>printf</code> method and include the <code>%s</code> placeholder in your format string, then pass the formatted currency values using the <code>fmt.format()</code> method.</p>\n<pre><code>System.out.printf(&quot;\\t%s\\t\\t\\t%s\\t\\t%s\\t\\t%s\\n&quot;,\n                    fmt.format(costHouse1),\n                    fmt.format(finalFuel1),\n                    fmt.format(finalTax1),\n                    fmt.format(finalHouse1));\n</code></pre>\n<hr />\n<p>Regarding the issue with your current code, you are using the <code>%d </code>placeholder for the <code>printf</code> method, which is used for <code>integers</code>. Since your variables are of type <code>double</code>, you should use the <code>%f</code> placeholder instead.</p>\n<pre><code>System.out.printf(&quot;\\t%5f\\t\\t\\t%5f\\t\\t%5f\\t\\t%5f\\n&quot;,\n                        costHouse1,\n                        finalFuel1,\n                        finalTax1,\n                        finalHouse1);\n</code></pre>\n"}],"owner":{"account_id":9531890,"reputation":31,"user_id":7083268,"display_name":"King Bane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675028433,"answer_count":2,"score":0,"last_activity_date":1674946548,"creation_date":1674944723,"question_id":75271327,"body_markdown":"I&#39;m taking Elementary Programming and I&#39;m trying to get this code to work, and I can only use the first 3 chapters worth of the Java Foundations book, and the book is very complicated and unclear on this part. I can&#39;t even tell you if I&#39;m approaching this the right way, but I&#39;ve been working on it for over a week now and just can&#39;t get it. \r\n\r\nThis is supposed to let the user input the houses cost, tax rate over 5 years, and fuel rate over 5 years for 3 houses, then print them in a side by side table across 4 lines. \r\n\r\n\r\n\r\n\r\n```\r\n\timport java.util.Scanner;\r\n\timport java.text.NumberFormat;\r\n\timport java.text.DecimalFormat;\r\n\t\r\n\t\r\n\t\r\n\tpublic class houseCost {\r\n\t\r\n\r\n\tpublic static void main(String[] args) \r\n\t\t\r\n\t\r\n\t\t\r\n\r\n\t{\r\n\t\t\r\n\t\t\r\n\t\r\n\tdouble costHouse1, costHouse2, costHouse3, fuelHouse1, fuelHouse2, fuelHouse3, finalHouse1, finalHouse2, finalHouse3, finalFuel1, finalFuel2, finalFuel3, finalTax1, finalTax2, finalTax3, taxHouse1, taxHouse2, taxHouse3;\r\n\t\r\n\t{\r\n\tScanner scan = new Scanner(System.in);\r\n\t\r\n\tNumberFormat fmt1, fmt2, fmt3 = NumberFormat.getCurrencyInstance();\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tSystem.out.print(&quot;Enter the value of the first house:&quot;);\r\n\tcostHouse1 = scan.nextDouble();\r\n\t\r\n\tSystem.out.print(&quot;Enter the fuel cost for the first house:&quot;);\r\n\tfuelHouse1 = scan.nextDouble();\r\n\t\r\n\tSystem.out.print(&quot;Enter the tax rate of the first house:&quot;);\r\n\ttaxHouse1 = scan.nextDouble();\r\n\t\r\n\tSystem.out.print(&quot;Enter the value of the second house:&quot;);\r\n\tcostHouse2 = scan.nextDouble();\r\n\t\r\n\tSystem.out.print(&quot;Enter the fuel cost of the second house:&quot;);\r\n\tfuelHouse2 = scan.nextDouble();\r\n\t\r\n\tSystem.out.print(&quot;Enter the tax rate of the second house:&quot;);\r\n\ttaxHouse2 = scan.nextDouble();\r\n\t\r\n\tSystem.out.print(&quot;Enter the value of the third house:&quot;);\r\n\tcostHouse3 = scan.nextDouble();\r\n\t\r\n\tSystem.out.print(&quot;Enter the fuel cost of the third house:&quot;);\r\n\tfuelHouse3 = scan.nextDouble();\r\n\t\r\n\tSystem.out.print(&quot;Enter the tax rate of the third house:&quot;);\r\n\ttaxHouse3 = scan.nextDouble();\r\n\t\r\n\tfinalTax1 = ((costHouse1 * taxHouse1) * 5);\r\n\tfinalTax2 = ((costHouse2 * taxHouse2) * 5);\r\n\tfinalTax3 = ((costHouse3 * taxHouse3) * 5);\r\n\t\r\n\tfinalFuel1 = (fuelHouse1 * 5);\r\n\tfinalFuel2 = (fuelHouse2 * 5);\r\n\tfinalFuel3 = (fuelHouse3 * 5);\r\n\t\r\n\t\r\n\tfinalHouse1 = costHouse1 + finalTax1 + finalFuel1;\r\n\tfinalHouse2 = costHouse2 + finalTax2 + finalFuel2;\r\n\tfinalHouse3 = costHouse3 + finalTax3 + finalFuel3;\r\n\t\r\n\t\r\n\t\r\n\t\t\r\n\t\r\n\tSystem.out.printf(&quot;Initial House Cost\\tAnnual Fuel Cost\\tTaxes\\t\\tTotal Cost\\n&quot;);\r\n\tSystem.out.printf(&quot;\\t%5d\\t\\t\\t%5d\\t\\t%5d\\t\\t%5d\\n&quot;, costHouse1, finalFuel1, finalTax1, finalHouse1);\r\n\tSystem.out.printf(&quot;\\t%5d\\t\\t\\t%5d\\t\\t%5d\\t\\t%5d\\n&quot;, costHouse2, finalFuel2, finalTax2, finalHouse2);\r\n\tSystem.out.printf(&quot;\\t%5d\\t\\t\\t%5d\\t\\t%5d\\t\\t%5d\\n&quot;, costHouse3, finalFuel3, finalTax3, finalHouse3);\r\n\t\r\n\t\r\n\t\r\n\t\t\t\r\n}}}\r\n\r\n```\r\n\r\n\r\nIf I run the program as is (or using DecimalFormat as opposed to NumberFormat), I can enter all the numbers and as soon as the 9th is entered, I get \r\n\r\n&quot;Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: d != java.lang.Double\r\n\tat java.base/java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4442)\r\n\tat java.base/java.util.Formatter$FormatSpecifier.printInteger(Formatter.java:2963)\r\n\tat java.base/java.util.Formatter$FormatSpecifier.print(Formatter.java:2918)\r\n\tat java.base/java.util.Formatter.format(Formatter.java:2689)\r\n\tat java.base/java.io.PrintStream.format(PrintStream.java:1209)\r\n\tat java.base/java.io.PrintStream.printf(PrintStream.java:1105)\r\n\tat houseCost.main(houseCost.java:74)&quot;\r\n\r\n\r\n\r\n\r\nWhat I have read up on is that the NumberFormat and DecimalFormat are not variables to store data, but how to format it. I MUST use one or both of these in the project. I also have to format the output to look like a table which I *think* I did right with the printf.\r\n\r\nI keep getting differing errors seen below. Where the variable initialization comes in is if I switch the bottom lines of code to something like this:\r\n\r\n&quot;\r\n\r\n```\r\nSystem.out.printf(&quot;\\t%5d\\t\\t\\t%5d\\t\\t%5d\\t\\t%5d\\n&quot;, costHouse1, finalFuel1, finalTax1, fmt1.format(finalHouse1));\r\n```\r\n\r\n&quot;\r\n\r\nSo, the ultimate question is, how do I resolve the error and take all the inputted numbers, put them through their calculations, and output them in (&quot;0.##&quot;) format? Am I close? Have I really bothced this?\r\n\r\nThanks for your help!","title":"Java - The Local variable may not have been initialized - New to programming question","body":"<p>I'm taking Elementary Programming and I'm trying to get this code to work, and I can only use the first 3 chapters worth of the Java Foundations book, and the book is very complicated and unclear on this part. I can't even tell you if I'm approaching this the right way, but I've been working on it for over a week now and just can't get it.</p>\n<p>This is supposed to let the user input the houses cost, tax rate over 5 years, and fuel rate over 5 years for 3 houses, then print them in a side by side table across 4 lines.</p>\n<pre><code>    import java.util.Scanner;\n    import java.text.NumberFormat;\n    import java.text.DecimalFormat;\n    \n    \n    \n    public class houseCost {\n    \n\n    public static void main(String[] args) \n        \n    \n        \n\n    {\n        \n        \n    \n    double costHouse1, costHouse2, costHouse3, fuelHouse1, fuelHouse2, fuelHouse3, finalHouse1, finalHouse2, finalHouse3, finalFuel1, finalFuel2, finalFuel3, finalTax1, finalTax2, finalTax3, taxHouse1, taxHouse2, taxHouse3;\n    \n    {\n    Scanner scan = new Scanner(System.in);\n    \n    NumberFormat fmt1, fmt2, fmt3 = NumberFormat.getCurrencyInstance();\n    \n    \n    \n    \n    System.out.print(&quot;Enter the value of the first house:&quot;);\n    costHouse1 = scan.nextDouble();\n    \n    System.out.print(&quot;Enter the fuel cost for the first house:&quot;);\n    fuelHouse1 = scan.nextDouble();\n    \n    System.out.print(&quot;Enter the tax rate of the first house:&quot;);\n    taxHouse1 = scan.nextDouble();\n    \n    System.out.print(&quot;Enter the value of the second house:&quot;);\n    costHouse2 = scan.nextDouble();\n    \n    System.out.print(&quot;Enter the fuel cost of the second house:&quot;);\n    fuelHouse2 = scan.nextDouble();\n    \n    System.out.print(&quot;Enter the tax rate of the second house:&quot;);\n    taxHouse2 = scan.nextDouble();\n    \n    System.out.print(&quot;Enter the value of the third house:&quot;);\n    costHouse3 = scan.nextDouble();\n    \n    System.out.print(&quot;Enter the fuel cost of the third house:&quot;);\n    fuelHouse3 = scan.nextDouble();\n    \n    System.out.print(&quot;Enter the tax rate of the third house:&quot;);\n    taxHouse3 = scan.nextDouble();\n    \n    finalTax1 = ((costHouse1 * taxHouse1) * 5);\n    finalTax2 = ((costHouse2 * taxHouse2) * 5);\n    finalTax3 = ((costHouse3 * taxHouse3) * 5);\n    \n    finalFuel1 = (fuelHouse1 * 5);\n    finalFuel2 = (fuelHouse2 * 5);\n    finalFuel3 = (fuelHouse3 * 5);\n    \n    \n    finalHouse1 = costHouse1 + finalTax1 + finalFuel1;\n    finalHouse2 = costHouse2 + finalTax2 + finalFuel2;\n    finalHouse3 = costHouse3 + finalTax3 + finalFuel3;\n    \n    \n    \n        \n    \n    System.out.printf(&quot;Initial House Cost\\tAnnual Fuel Cost\\tTaxes\\t\\tTotal Cost\\n&quot;);\n    System.out.printf(&quot;\\t%5d\\t\\t\\t%5d\\t\\t%5d\\t\\t%5d\\n&quot;, costHouse1, finalFuel1, finalTax1, finalHouse1);\n    System.out.printf(&quot;\\t%5d\\t\\t\\t%5d\\t\\t%5d\\t\\t%5d\\n&quot;, costHouse2, finalFuel2, finalTax2, finalHouse2);\n    System.out.printf(&quot;\\t%5d\\t\\t\\t%5d\\t\\t%5d\\t\\t%5d\\n&quot;, costHouse3, finalFuel3, finalTax3, finalHouse3);\n    \n    \n    \n            \n}}}\n\n</code></pre>\n<p>If I run the program as is (or using DecimalFormat as opposed to NumberFormat), I can enter all the numbers and as soon as the 9th is entered, I get</p>\n<p>&quot;Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: d != java.lang.Double\nat java.base/java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4442)\nat java.base/java.util.Formatter$FormatSpecifier.printInteger(Formatter.java:2963)\nat java.base/java.util.Formatter$FormatSpecifier.print(Formatter.java:2918)\nat java.base/java.util.Formatter.format(Formatter.java:2689)\nat java.base/java.io.PrintStream.format(PrintStream.java:1209)\nat java.base/java.io.PrintStream.printf(PrintStream.java:1105)\nat houseCost.main(houseCost.java:74)&quot;</p>\n<p>What I have read up on is that the NumberFormat and DecimalFormat are not variables to store data, but how to format it. I MUST use one or both of these in the project. I also have to format the output to look like a table which I <em>think</em> I did right with the printf.</p>\n<p>I keep getting differing errors seen below. Where the variable initialization comes in is if I switch the bottom lines of code to something like this:</p>\n<p>&quot;</p>\n<pre><code>System.out.printf(&quot;\\t%5d\\t\\t\\t%5d\\t\\t%5d\\t\\t%5d\\n&quot;, costHouse1, finalFuel1, finalTax1, fmt1.format(finalHouse1));\n</code></pre>\n<p>&quot;</p>\n<p>So, the ultimate question is, how do I resolve the error and take all the inputted numbers, put them through their calculations, and output them in (&quot;0.##&quot;) format? Am I close? Have I really bothced this?</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","architecture","microservices","jobs","job-scheduling"],"comments":[{"owner":{"account_id":9451517,"reputation":1067,"user_id":7028196,"accept_rate":82,"display_name":"Rouzbeh Zarandi"},"score":0,"creation_date":1674309854,"post_id":75192337,"comment_id":132689534,"body_markdown":"take a look at quartz.","body":"take a look at quartz."},{"owner":{"account_id":1833470,"reputation":6598,"user_id":1664318,"display_name":"Maxim Fateev"},"score":0,"creation_date":1674337367,"post_id":75192337,"comment_id":132694513,"body_markdown":"Look at temporal.io.","body":"Look at temporal.io."}],"answers":[{"tags":[],"owner":{"account_id":10594340,"reputation":9256,"user_id":7803650,"display_name":"Oswin Noetzelmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674942860,"creation_date":1674942860,"answer_id":75271173,"question_id":75192337,"body_markdown":"From my perspective you have the option to use one of three possible solutions:\r\n\r\n1. Most straight forward - Ensure that service logic which is required in the jobs also implements a local API (programming API).\r\n\r\nAs such it can act as and be imported as a library and reused in jobs without code duplication.\r\n\r\nIf you have a larger development organization you also want to make sure that such libraries are correctly version managed and version releases are pre-planned, which allows the teams using the libraries to treat them like they would third party libraries.\r\n\r\nAlso there is no magic - You would have to work through any build/dependency problems if there would be conflicts. (Since your question sounds like this is a deal breaker, let&#39;s take a look at the other solutions.)\r\n\r\n2. The second solution would be to provide a wrapper for each service logic that allows to access functionality via CLI. That means you don&#39;t have to import the libraries, but rather execute them as jars/executables [through the CLI][1]. This would allow you to use the same code but avoid dependency problems.\r\n\r\n(You will still have to deal with version management and version upgrades, etc.)\r\n\r\n3. In case you use containerized deployments/hosting you can also consider to bundle up multiple containers together just for your jobs, where each job gets its own private service container instances for use during the job. Kubernetes and Docker Compose for example have options to run such multi-container deployments/jobs.\r\n\r\nThat solution would allow you to reuse the same services as they run for other purposes, but you have to make sure that they are configurable enough to work in this scenario.\r\n\r\nOne problem that all of the approaches have is that you have to make sure there are no runtime conflicts between your jobs and the deployed regular services. (For example state conflicts)\r\n\r\nIn terms of how to execute jobs it will depend on your deployment scenario. Kubernetes has an option to [run containers as jobs natively][2], which makes it easy to bundle multiple jars, etc. But it is always an option to deploy a dedicated scheduler or workflow tool like [Apache Airflow][3] to run your jobs.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8496494/running-command-line-in-java\r\n  [2]: https://kubernetes.io/docs/concepts/workloads/controllers/job/\r\n  [3]: https://airflow.apache.org/","title":"Approaches to split scheduled jobs from microservices without code duplication","body":"<p>From my perspective you have the option to use one of three possible solutions:</p>\n<ol>\n<li>Most straight forward - Ensure that service logic which is required in the jobs also implements a local API (programming API).</li>\n</ol>\n<p>As such it can act as and be imported as a library and reused in jobs without code duplication.</p>\n<p>If you have a larger development organization you also want to make sure that such libraries are correctly version managed and version releases are pre-planned, which allows the teams using the libraries to treat them like they would third party libraries.</p>\n<p>Also there is no magic - You would have to work through any build/dependency problems if there would be conflicts. (Since your question sounds like this is a deal breaker, let's take a look at the other solutions.)</p>\n<ol start=\"2\">\n<li>The second solution would be to provide a wrapper for each service logic that allows to access functionality via CLI. That means you don't have to import the libraries, but rather execute them as jars/executables <a href=\"https://stackoverflow.com/questions/8496494/running-command-line-in-java\">through the CLI</a>. This would allow you to use the same code but avoid dependency problems.</li>\n</ol>\n<p>(You will still have to deal with version management and version upgrades, etc.)</p>\n<ol start=\"3\">\n<li>In case you use containerized deployments/hosting you can also consider to bundle up multiple containers together just for your jobs, where each job gets its own private service container instances for use during the job. Kubernetes and Docker Compose for example have options to run such multi-container deployments/jobs.</li>\n</ol>\n<p>That solution would allow you to reuse the same services as they run for other purposes, but you have to make sure that they are configurable enough to work in this scenario.</p>\n<p>One problem that all of the approaches have is that you have to make sure there are no runtime conflicts between your jobs and the deployed regular services. (For example state conflicts)</p>\n<p>In terms of how to execute jobs it will depend on your deployment scenario. Kubernetes has an option to <a href=\"https://kubernetes.io/docs/concepts/workloads/controllers/job/\" rel=\"nofollow noreferrer\">run containers as jobs natively</a>, which makes it easy to bundle multiple jars, etc. But it is always an option to deploy a dedicated scheduler or workflow tool like <a href=\"https://airflow.apache.org/\" rel=\"nofollow noreferrer\">Apache Airflow</a> to run your jobs.</p>\n"},{"tags":[],"owner":{"account_id":3868488,"reputation":141,"user_id":3204417,"display_name":"doom4s"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674945640,"creation_date":1674945640,"answer_id":75271408,"question_id":75192337,"body_markdown":"From architectural perspective, expose service (business logic) via API.\r\nHave schedulers run on separate instance or if you are using some of the popular cloud solutions have their FaaS (function as a service in your case scheduler) trigger service API via HTTP (any or dedicated instance).\r\n\r\n - Azure -&gt; user azure functions\r\n - AWS -&gt; lambda functions\r\n - Google Cloud -&gt; Google Cloud Functions\r\n\r\nAll of the above have comprehensive guide how to create scheduled function aka trigger.\r\n\r\nHope this helps and I&#39;m not off topic. \r\n","title":"Approaches to split scheduled jobs from microservices without code duplication","body":"<p>From architectural perspective, expose service (business logic) via API.\nHave schedulers run on separate instance or if you are using some of the popular cloud solutions have their FaaS (function as a service in your case scheduler) trigger service API via HTTP (any or dedicated instance).</p>\n<ul>\n<li>Azure -&gt; user azure functions</li>\n<li>AWS -&gt; lambda functions</li>\n<li>Google Cloud -&gt; Google Cloud Functions</li>\n</ul>\n<p>All of the above have comprehensive guide how to create scheduled function aka trigger.</p>\n<p>Hope this helps and I'm not off topic.</p>\n"}],"owner":{"account_id":4983101,"reputation":107,"user_id":4007478,"display_name":"Seventh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674945640,"creation_date":1674293391,"question_id":75192337,"body_markdown":"Here&#39;re goals i&#39;m trying to achieve: \r\n - Take the scheduled jobs out of microservice because it can and would harm timings/performance\r\n - Execute jobs in a separate computation cluster aka `workers`\r\n - Avoid code duplication: i want to keep all my business logic in one `Service`, all DB-related operations in one `Dao`, do not write additional services/daos for jobs\r\n - Avoid dependency management problems: different jobs may require different libs/versions/etc. For instance, job from `ServiceA` may use `javax.annotation-api` while job originated from `ServiceB` may use `jakarta.annotation-api`. Making a `worker` depend both on ServiceA and ServiceB will cause build or runtime problems.\r\n\r\nAre there any approaches/libraries/solutions to achieve all the goals at the same time? \r\n\r\nUPD:\r\nBoth Temporal.io and quartz are not quite what I need - they both require worker to depend on workflow tasks.\r\nI can imagine that I’m approaching the issue I face in incorrect way, so architectural advises are also appreciated\r\n\r\n\r\n\r\n\r\n","title":"Approaches to split scheduled jobs from microservices without code duplication","body":"<p>Here're goals i'm trying to achieve:</p>\n<ul>\n<li>Take the scheduled jobs out of microservice because it can and would harm timings/performance</li>\n<li>Execute jobs in a separate computation cluster aka <code>workers</code></li>\n<li>Avoid code duplication: i want to keep all my business logic in one <code>Service</code>, all DB-related operations in one <code>Dao</code>, do not write additional services/daos for jobs</li>\n<li>Avoid dependency management problems: different jobs may require different libs/versions/etc. For instance, job from <code>ServiceA</code> may use <code>javax.annotation-api</code> while job originated from <code>ServiceB</code> may use <code>jakarta.annotation-api</code>. Making a <code>worker</code> depend both on ServiceA and ServiceB will cause build or runtime problems.</li>\n</ul>\n<p>Are there any approaches/libraries/solutions to achieve all the goals at the same time?</p>\n<p>UPD:\nBoth Temporal.io and quartz are not quite what I need - they both require worker to depend on workflow tasks.\nI can imagine that I’m approaching the issue I face in incorrect way, so architectural advises are also appreciated</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1674902076,"post_id":75266943,"comment_id":132815656,"body_markdown":"Have a look at [`Class.forName`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#forName(java.lang.String)), `Class#getConstructor`, and `Constructor#newInstance`.","body":"Have a look at <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#forName(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Class.forName</code></a>, <code>Class#getConstructor</code>, and <code>Constructor#newInstance</code>."},{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1674905147,"post_id":75266943,"comment_id":132816137,"body_markdown":"@AlexR : I already know about these but if you see .. `Class.forName` will give me the instance of `Class`&lt;?&gt;`, it will not give me the instance of `Application` , while class `User` needs the instance of class `Application`","body":"@AlexR : I already know about these but if you see .. <code>Class.forName</code> will give me the instance of <code>Class</code>&lt;?&gt;<code>, it will not give me the instance of </code>Application` , while class <code>User</code> needs the instance of class <code>Application</code>"},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1674931977,"post_id":75266943,"comment_id":132820995,"body_markdown":"Then you just cast the result of `newInstance` to `Application`.","body":"Then you just cast the result of <code>newInstance</code> to <code>Application</code>."}],"answers":[{"comments":[{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1674910619,"post_id":75267646,"comment_id":132817098,"body_markdown":"Here is the problem, I can not hard code `Application.class`. I just have a fully qualified name like `org.example.Application`","body":"Here is the problem, I can not hard code <code>Application.class</code>. I just have a fully qualified name like <code>org.example.Application</code>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1674911478,"post_id":75267646,"comment_id":132817235,"body_markdown":"So you have a class name but not a class definition for org.example.Application and org.example.User? If so you can&#39;t. Cannot create a class definition via reflection.","body":"So you have a class name but not a class definition for org.example.Application and org.example.User? If so you can&#39;t. Cannot create a class definition via reflection."},{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1674933249,"post_id":75267646,"comment_id":132821201,"body_markdown":"I have the definitation also but suppose that I can not hardcode `Application.class` during deserialization. I have the fullyQualified name of this class, can we pass that or create the instance from this name ..","body":"I have the definitation also but suppose that I can not hardcode <code>Application.class</code> during deserialization. I have the fullyQualified name of this class, can we pass that or create the instance from this name .."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674945509,"creation_date":1674908706,"answer_id":75267646,"question_id":75266943,"body_markdown":"You need to deserialise the JSON to a Java object as follows:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper; // com.fasterxml.jackson.core jackson-databind\r\n    \r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    Class class = Class.forName(&quot;org.example.Application&quot;);\r\n    Object application = objectMapper.readValue(&quot;{ \\&quot;id\\&quot; : 123, &quot;applicationName\\&quot;: \\&quot;Slack\\&quot;,   \\&quot;type\\&quot; : &quot;\\org.example.Application\\&quot;}&quot;, clazz);\r\n    User user = new User(application);\r\n\r\nYou may need to define an interface that org.example.Application implements. \r\n\r\n    public interface General{}\r\n\r\n\r\n    Class Application implements General {\r\n\r\n\r\n    public User(General app){\r\n       this.application = app;\r\n     }\r\n\r\n\r\n    User user = new User((General)application);\r\n\r\n\r\n\r\n","title":"Create an object via Reflection and pass it to another class","body":"<p>You need to deserialise the JSON to a Java object as follows:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper; // com.fasterxml.jackson.core jackson-databind\n\nObjectMapper objectMapper = new ObjectMapper();\nClass class = Class.forName(&quot;org.example.Application&quot;);\nObject application = objectMapper.readValue(&quot;{ \\&quot;id\\&quot; : 123, &quot;applicationName\\&quot;: \\&quot;Slack\\&quot;,   \\&quot;type\\&quot; : &quot;\\org.example.Application\\&quot;}&quot;, clazz);\nUser user = new User(application);\n</code></pre>\n<p>You may need to define an interface that org.example.Application implements.</p>\n<pre><code>public interface General{}\n\n\nClass Application implements General {\n\n\npublic User(General app){\n   this.application = app;\n }\n\n\nUser user = new User((General)application);\n</code></pre>\n"}],"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674945509,"creation_date":1674901641,"question_id":75266943,"body_markdown":"I have two classes \r\n\r\n```\r\nClass Application {\r\n\r\n int id\r\n String applicationName;\r\n\r\n  // getter and setter\r\n}\r\n \r\nClass User{\r\n\r\nint id;\r\nString userName\r\nApplication app;\r\n\r\npublic User(Application app ){\r\n   this.application = app;\r\n }\r\n}\r\n\r\n```\r\n\r\nNow I receive the JSON data for `Application` like this \r\n\r\n```\r\n{ &quot;id&quot; : 123,\r\n  &quot;applicationName&quot;: &quot;Slack&quot;,\r\n  &quot;type&quot; : &quot;org.example.Application&quot;\r\n}\r\n```\r\n\r\n\r\nMy question is how do I deserialize it ( Application ) into an application Object and pass it to the `User` object using reflection? \r\n\r\n\r\n**Note:**: In my processing function, I just have `Application` and `User` classes by its fully qualified name `org.example.Application` &amp; `org.example.User` respectively. \r\nHow do I deserialize it and create the user object. \r\n\r\n","title":"Create an object via Reflection and pass it to another class","body":"<p>I have two classes</p>\n<pre><code>Class Application {\n\n int id\n String applicationName;\n\n  // getter and setter\n}\n \nClass User{\n\nint id;\nString userName\nApplication app;\n\npublic User(Application app ){\n   this.application = app;\n }\n}\n\n</code></pre>\n<p>Now I receive the JSON data for <code>Application</code> like this</p>\n<pre><code>{ &quot;id&quot; : 123,\n  &quot;applicationName&quot;: &quot;Slack&quot;,\n  &quot;type&quot; : &quot;org.example.Application&quot;\n}\n</code></pre>\n<p>My question is how do I deserialize it ( Application ) into an application Object and pass it to the <code>User</code> object using reflection?</p>\n<p><strong>Note:</strong>: In my processing function, I just have <code>Application</code> and <code>User</code> classes by its fully qualified name <code>org.example.Application</code> &amp; <code>org.example.User</code> respectively.\nHow do I deserialize it and create the user object.</p>\n"},{"tags":["java","visual-studio-code","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641796667,"post_id":70648287,"comment_id":124890919,"body_markdown":"Not related to your question but. I advise moving the sdk out of the download directory to sonewhete more permanent.","body":"Not related to your question but. I advise moving the sdk out of the download directory to sonewhete more permanent."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641797630,"post_id":70648287,"comment_id":124891105,"body_markdown":"I don’t know vscode, but comparing your arguments to a [similar question](https://stackoverflow.com/questions/54349894/javafx-11-with-vscode), the arguments look ok, so I don’t know how to fix that.","body":"I don’t know vscode, but comparing your arguments to a <a href=\"https://stackoverflow.com/questions/54349894/javafx-11-with-vscode\">similar question</a>, the arguments look ok, so I don’t know how to fix that."},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1641797652,"post_id":70648287,"comment_id":124891110,"body_markdown":"@jewelsea i did try to move my javaFX jdk to another place and updated it to VMargs but still same","body":"@jewelsea i did try to move my javaFX jdk to another place and updated it to VMargs but still same"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641797835,"post_id":70648287,"comment_id":124891145,"body_markdown":"You could switch to a jdk that includes JavaFX, e.g. an appropriate version of [liberica](https://bell-sw.com/pages/downloads/#mn) or corretto, then you don’t need any arguments, or try idea with the [new project wizard](https://www.jetbrains.com/help/idea/javafx.html) which is an easy way to get started.","body":"You could switch to a jdk that includes JavaFX, e.g. an appropriate version of <a href=\"https://bell-sw.com/pages/downloads/#mn\" rel=\"nofollow noreferrer\">liberica</a> or corretto, then you don’t need any arguments, or try idea with the <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new project wizard</a> which is an easy way to get started."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641797943,"post_id":70648287,"comment_id":124891176,"body_markdown":"A past question like this was solved by [escape quoting the path](https://stackoverflow.com/questions/15637429/how-to-escape-double-quotes-in-json), but I don’t think that is your issue here.","body":"A past question like this was solved by <a href=\"https://stackoverflow.com/questions/15637429/how-to-escape-double-quotes-in-json\">escape quoting the path</a>, but I don’t think that is your issue here."},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1641798695,"post_id":70648287,"comment_id":124891336,"body_markdown":"@jewelsea just tried to escape quoting path still same tho","body":"@jewelsea just tried to escape quoting path still same tho"},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1641806772,"post_id":70648287,"comment_id":124893696,"body_markdown":"Set `args` in launch.json, does it help?","body":"Set <code>args</code> in launch.json, does it help?"},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1641810522,"post_id":70648287,"comment_id":124895095,"body_markdown":"@MollyWang-MSFT nope, i tried to add vmArgs and im sure the path is correct","body":"@MollyWang-MSFT nope, i tried to add vmArgs and im sure the path is correct"},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":1,"creation_date":1641867394,"post_id":70648287,"comment_id":124914192,"body_markdown":"@mcser. After adding vmArgs, please  restart VS Code to make the change effective.","body":"@mcser. After adding vmArgs, please  restart VS Code to make the change effective."}],"answers":[{"comments":[{"owner":{"account_id":2438417,"reputation":979,"user_id":2127662,"accept_rate":57,"display_name":"littlejedi"},"score":0,"creation_date":1641868439,"post_id":70660743,"comment_id":124914362,"body_markdown":"very useful, thanks","body":"very useful, thanks"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641875517,"post_id":70660743,"comment_id":124915457,"body_markdown":"It would be good if this answer included a code snippet or something in the answer for the bit which makes “ (probably this one) which is suitable for you. ” Pull requests and forks can get deleted which would render this largely link only answer useless.","body":"It would be good if this answer included a code snippet or something in the answer for the bit which makes “ (probably this one) which is suitable for you. ” Pull requests and forks can get deleted which would render this largely link only answer useless."},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1642639252,"post_id":70660743,"comment_id":125127687,"body_markdown":"I&#39;ll update the answer once the PR is merged.","body":"I&#39;ll update the answer once the PR is merged."}],"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1643071796,"creation_date":1641865376,"answer_id":70660743,"question_id":70648287,"body_markdown":"Check out the samples here: https://github.com/openjfx/samples/tree/master/IDE/VSCode\r\n\r\nYou can probably use this [one](https://github.com/openjfx/samples/tree/master/IDE/VSCode/Non-Modular/Java), which I guess is the one you are looking for.","title":"JavaFX runtime components are missing, and are required to run this application on VSCode","body":"<p>Check out the samples here: <a href=\"https://github.com/openjfx/samples/tree/master/IDE/VSCode\" rel=\"nofollow noreferrer\">https://github.com/openjfx/samples/tree/master/IDE/VSCode</a></p>\n<p>You can probably use this <a href=\"https://github.com/openjfx/samples/tree/master/IDE/VSCode/Non-Modular/Java\" rel=\"nofollow noreferrer\">one</a>, which I guess is the one you are looking for.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1642160960,"post_id":70710124,"comment_id":125002976,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70710124/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642160929,"creation_date":1642160929,"answer_id":70710124,"question_id":70648287,"body_markdown":"I didn&#39;t fix the javafx in my vs code, but i switched IDE to Eclipse and JavaFX run smoothly after adding VMargs to the run configuration on Eclipse","title":"JavaFX runtime components are missing, and are required to run this application on VSCode","body":"<p>I didn't fix the javafx in my vs code, but i switched IDE to Eclipse and JavaFX run smoothly after adding VMargs to the run configuration on Eclipse</p>\n"},{"tags":[],"owner":{"account_id":26852351,"reputation":1,"user_id":20437086,"display_name":"KJI245"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667799024,"creation_date":1667799024,"answer_id":74342313,"question_id":70648287,"body_markdown":"Try putting everything on one drive other than C.\r\nI had my codes in D drive and JavaFX in C, the codes never launched successfully. It didn&#39;t work even when I put the codes in the JavaFX folder.\r\nHowever, once I transferred JavaFX files to D drive, it worked.","title":"JavaFX runtime components are missing, and are required to run this application on VSCode","body":"<p>Try putting everything on one drive other than C.\nI had my codes in D drive and JavaFX in C, the codes never launched successfully. It didn't work even when I put the codes in the JavaFX folder.\nHowever, once I transferred JavaFX files to D drive, it worked.</p>\n"},{"tags":[],"owner":{"account_id":23721830,"reputation":96,"user_id":17742277,"display_name":"Maharun Afroz"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1672350220,"creation_date":1672350220,"answer_id":74956305,"question_id":70648287,"body_markdown":"**Solution:**\r\nYou simply need some edits in your &quot;vmAgrs&quot; in the &quot;launch.json&quot; file\r\n\r\n    &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Users/vince/Downloads/javafx-sdk-17.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\r\n\r\nGeneral form of the solution:\r\n\r\n    &quot;vmArgs&quot;: &quot;--module-path \\&quot;enter_the_path_here\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\r\n\r\nUse this and your code should work perfectly.\r\n\r\nI was having the same problem and wasted almost 4 hours solving this. \r\nI used this video here: [link](https://youtu.be/_IAEN275WlM)! as reference.\r\n(Caution: the video is in Portuguese)\r\n\r\n\r\n\r\n","title":"JavaFX runtime components are missing, and are required to run this application on VSCode","body":"<p><strong>Solution:</strong>\nYou simply need some edits in your &quot;vmAgrs&quot; in the &quot;launch.json&quot; file</p>\n<pre><code>&quot;vmArgs&quot;: &quot;--module-path \\&quot;C:/Users/vince/Downloads/javafx-sdk-17.0.1/lib\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\n</code></pre>\n<p>General form of the solution:</p>\n<pre><code>&quot;vmArgs&quot;: &quot;--module-path \\&quot;enter_the_path_here\\&quot; --add-modules javafx.controls,javafx.fxml&quot;\n</code></pre>\n<p>Use this and your code should work perfectly.</p>\n<p>I was having the same problem and wasted almost 4 hours solving this.\nI used this video here: <a href=\"https://youtu.be/_IAEN275WlM\" rel=\"nofollow noreferrer\">link</a>! as reference.\n(Caution: the video is in Portuguese)</p>\n"},{"tags":[],"owner":{"account_id":27644770,"reputation":1,"user_id":21100923,"display_name":"Taq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674945151,"creation_date":1674945151,"answer_id":75271357,"question_id":70648287,"body_markdown":"If you still get this error after setup &quot;vmAgrs&quot;, and your using debug/launch-(F5)-to start your App, its possible that VSCode wouldn&#39;t launch your &quot;App.java&quot; file, instead  will try to launch &quot;Current file&quot; which is something else..\r\n\r\nTo fix it just change &quot;Launch Current file&quot; to &quot;Launch App&quot; from &quot;[Start debugging][1]&quot; in &quot;Run and Debug&quot; icon.\r\n\r\n\r\n\r\n\r\n---\r\nAnyway if any of this didn&#39;t work, you could Run it manually by:\r\n\r\n**1st** compile using javac\r\n\r\n    javac --module-path &quot;PATH\\javafx-sdk-19.0.2.1\\lib&quot;  --add-modules javafx.controls App.java\r\n\r\n**2nd** Run it.. \r\n\r\n    java --module-path &quot;PATH\\javafx-sdk-19.0.2.1\\lib&quot;  --add-modules javafx.controls App\r\n\r\nthanks to Casey [LINK][3]\r\n \r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/editor/debugging\r\n  [3]: https://youtu.be/gwZgpH-NV0M","title":"JavaFX runtime components are missing, and are required to run this application on VSCode","body":"<p>If you still get this error after setup &quot;vmAgrs&quot;, and your using debug/launch-(F5)-to start your App, its possible that VSCode wouldn't launch your &quot;App.java&quot; file, instead  will try to launch &quot;Current file&quot; which is something else..</p>\n<p>To fix it just change &quot;Launch Current file&quot; to &quot;Launch App&quot; from &quot;<a href=\"https://code.visualstudio.com/docs/editor/debugging\" rel=\"nofollow noreferrer\">Start debugging</a>&quot; in &quot;Run and Debug&quot; icon.</p>\n<hr />\n<p>Anyway if any of this didn't work, you could Run it manually by:</p>\n<p><strong>1st</strong> compile using javac</p>\n<pre><code>javac --module-path &quot;PATH\\javafx-sdk-19.0.2.1\\lib&quot;  --add-modules javafx.controls App.java\n</code></pre>\n<p><strong>2nd</strong> Run it..</p>\n<pre><code>java --module-path &quot;PATH\\javafx-sdk-19.0.2.1\\lib&quot;  --add-modules javafx.controls App\n</code></pre>\n<p>thanks to Casey <a href=\"https://youtu.be/gwZgpH-NV0M\" rel=\"nofollow noreferrer\">LINK</a></p>\n"}],"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8476,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1674945151,"creation_date":1641793715,"question_id":70648287,"body_markdown":"A java newbie here. I wanted to learn about JavaFX on VSCode but when I launch my JavaFX it gave me this error. I tried to add referenced Library and the configurations `vmArgs` on `launch.json` on the project, but it giving me the same thing.\r\n\r\nHere is my config.\r\n\r\n    &quot;vmArgs&quot;: &quot;--module-path C:/Users/vince/Downloads/javafx-sdk-17.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;\r\n\r\nCan anyone help me please ?","title":"JavaFX runtime components are missing, and are required to run this application on VSCode","body":"<p>A java newbie here. I wanted to learn about JavaFX on VSCode but when I launch my JavaFX it gave me this error. I tried to add referenced Library and the configurations <code>vmArgs</code> on <code>launch.json</code> on the project, but it giving me the same thing.</p>\n<p>Here is my config.</p>\n<pre><code>&quot;vmArgs&quot;: &quot;--module-path C:/Users/vince/Downloads/javafx-sdk-17.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;\n</code></pre>\n<p>Can anyone help me please ?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673049153,"post_id":75037071,"comment_id":132417980,"body_markdown":"Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question) --- &quot;*`... Not a managed type: class com.example.springstranica.entity.Student`*&quot; - This class is missing an `@Entity` annotation.","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a> --- &quot;<i><code>... Not a managed type: class com.example.springstranica.entity.Student</code></i>&quot; - This class is missing an <code>@Entity</code> annotation."},{"owner":{"account_id":21698492,"reputation":33,"user_id":16011998,"display_name":"Faik Faik"},"score":0,"creation_date":1673049421,"post_id":75037071,"comment_id":132418018,"body_markdown":"@Turing85 no its not, but still thank you for trying","body":"@Turing85 no its not, but still thank you for trying"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673049782,"post_id":75037071,"comment_id":132418074,"body_markdown":"Does the code have an `@EntityScan(...)` annotation somehwere? if so: what is the value of this annotation?","body":"Does the code have an <code>@EntityScan(...)</code> annotation somehwere? if so: what is the value of this annotation?"},{"owner":{"account_id":21698492,"reputation":33,"user_id":16011998,"display_name":"Faik Faik"},"score":0,"creation_date":1673050303,"post_id":75037071,"comment_id":132418139,"body_markdown":"It does, under @SpringBootApplication in main class, but it doesnt change anything, @EntityScan(&quot;com.example.springstranica&quot;), it should have detected entity class already since its in package entity and has annotation.","body":"It does, under @SpringBootApplication in main class, but it doesnt change anything, @EntityScan(&quot;com.example.springstranica&quot;), it should have detected entity class already since its in package entity and has annotation."},{"owner":{"account_id":21698492,"reputation":33,"user_id":16011998,"display_name":"Faik Faik"},"score":0,"creation_date":1673051628,"post_id":75037071,"comment_id":132418273,"body_markdown":"You can take a look here https://github.com/kraljevinaB/springstranica","body":"You can take a look here <a href=\"https://github.com/kraljevinaB/springstranica\" rel=\"nofollow noreferrer\">github.com/kraljevinaB/springstranica</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673053707,"post_id":75037071,"comment_id":132418531,"body_markdown":"So I was correct after all. The `@Entity` annotation is missing ;)","body":"So I was correct after all. The <code>@Entity</code> annotation is missing ;)"}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674944097,"creation_date":1673053590,"answer_id":75037440,"question_id":75037071,"body_markdown":"[Spring-boot switched from JavaEE Persistence to JakartaEE Persistence from Release 3.0 onwards (`github.com`)][springBoot3ReleaseNotes].\r\n\r\nWhen we look at the `pom.xml`, we see:\r\n\r\n            ...\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            ...\r\n\r\nThis imports the &quot;old&quot; JavaEE API, which is - as stated above - no longer supported by spring-boot and thus useless for us (but this is not directly the source of the exception).\r\n\r\nLooking at `Student`&#39;s imports, we see:\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n\r\nSo we use the &quot;old&quot; API in class `Student`, which is why spring reports that this entity is not managed (since the correct `@Entity` annotation is missing).\r\n\r\nThe solution is straightforward. We:\r\n- remove `javax.persistence-api` from `pom.xml` (to prevent importing the wrong persistence api in the future), and\r\n- replace `javax.persistence` with `jakarta.persistence` in `Student`.\r\n\r\nThis also makes the `@EntityScan` in class `SpringstranicaApplication` superfluous.\r\n\r\n[springBoot3ReleaseNotes]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes\r\n","title":"Error creating bean with name: Unsatisfied dependency expressed through field","body":"<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes\" rel=\"nofollow noreferrer\">Spring-boot switched from JavaEE Persistence to JakartaEE Persistence from Release 3.0 onwards (<code>github.com</code>)</a>.</p>\n<p>When we look at the <code>pom.xml</code>, we see:</p>\n<pre><code>        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        ...\n</code></pre>\n<p>This imports the &quot;old&quot; JavaEE API, which is - as stated above - no longer supported by spring-boot and thus useless for us (but this is not directly the source of the exception).</p>\n<p>Looking at <code>Student</code>'s imports, we see:</p>\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n</code></pre>\n<p>So we use the &quot;old&quot; API in class <code>Student</code>, which is why spring reports that this entity is not managed (since the correct <code>@Entity</code> annotation is missing).</p>\n<p>The solution is straightforward. We:</p>\n<ul>\n<li>remove <code>javax.persistence-api</code> from <code>pom.xml</code> (to prevent importing the wrong persistence api in the future), and</li>\n<li>replace <code>javax.persistence</code> with <code>jakarta.persistence</code> in <code>Student</code>.</li>\n</ul>\n<p>This also makes the <code>@EntityScan</code> in class <code>SpringstranicaApplication</code> superfluous.</p>\n"}],"owner":{"account_id":21698492,"reputation":33,"user_id":16011998,"display_name":"Faik Faik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75037440,"answer_count":1,"score":3,"last_activity_date":1674944097,"creation_date":1673048413,"question_id":75037071,"body_markdown":"I cant figure it out whats the problem, to me it seems that i have already taken all the necessary steps, simple testing program and it wont work, to me without any reason.\r\n\r\n\r\n---------------------------------------------\r\n\r\n    @RestController\r\n    public class StudentController {\r\n    \r\n        @Autowired\r\n        StudentServiceInterface studentService;\r\n    \r\n        @PostMapping(&quot;/student&quot;)\r\n        public Student save(@RequestBody Student student){\r\n            return studentService.saveStudent(student);\r\n        }\r\n    }\r\n\r\n--------------------------------------------\r\n\r\n    public interface StudentServiceInterface {\r\n        Student saveStudent(Student student);\r\n    }\r\n\r\n--------------------------------------------\r\n\r\n    @Service\r\n    public class StudentServiceImpl implements StudentServiceInterface{\r\n    \r\n        @Autowired\r\n        StudentRepositoryInterface studentRepository;\r\n    \r\n        @Override\r\n        public Student saveStudent(Student student) {\r\n            return studentRepository.save(student);\r\n        }\r\n    }\r\n\r\n---\r\n\r\n    @Entity\r\n    public class Student {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long Id;\r\n        private String name;\r\n        private String surname;\r\n        private Integer age;\r\n        ...\r\n    }\r\n\r\n[folder structure](https://i.stack.imgur.com/9eHFY.png)\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;studentController&#39;: Unsatisfied dependency expressed through field &#39;studentService&#39;: Error creating bean with name &#39;studentServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;studentRepository&#39;: Error creating bean with name &#39;studentRepositoryInterface&#39; defined in com.example.springstranica.repository.StudentRepositoryInterface defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.springstranica.entity.Student\r\n\r\n I have looked some of the answers on stack and no solution for me. Pardon me if i skiped something. Can someone help and find where i did wrong and how can i prevent this from happening again.\r\n\r\nThe full code is available at [`github.com`][github].\r\n\r\n[github]: https://github.com/kraljevinaB/springstranica  \r\n\t\r\n","title":"Error creating bean with name: Unsatisfied dependency expressed through field","body":"<p>I cant figure it out whats the problem, to me it seems that i have already taken all the necessary steps, simple testing program and it wont work, to me without any reason.</p>\n<hr />\n<pre><code>@RestController\npublic class StudentController {\n\n    @Autowired\n    StudentServiceInterface studentService;\n\n    @PostMapping(&quot;/student&quot;)\n    public Student save(@RequestBody Student student){\n        return studentService.saveStudent(student);\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public interface StudentServiceInterface {\n    Student saveStudent(Student student);\n}\n</code></pre>\n<hr />\n<pre><code>@Service\npublic class StudentServiceImpl implements StudentServiceInterface{\n\n    @Autowired\n    StudentRepositoryInterface studentRepository;\n\n    @Override\n    public Student saveStudent(Student student) {\n        return studentRepository.save(student);\n    }\n}\n</code></pre>\n<hr />\n<pre><code>@Entity\npublic class Student {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long Id;\n    private String name;\n    private String surname;\n    private Integer age;\n    ...\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9eHFY.png\" rel=\"nofollow noreferrer\">folder structure</a></p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'studentController': Unsatisfied dependency expressed through field 'studentService': Error creating bean with name 'studentServiceImpl': Unsatisfied dependency expressed through field 'studentRepository': Error creating bean with name 'studentRepositoryInterface' defined in com.example.springstranica.repository.StudentRepositoryInterface defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.example.springstranica.entity.Student\n</code></pre>\n<p>I have looked some of the answers on stack and no solution for me. Pardon me if i skiped something. Can someone help and find where i did wrong and how can i prevent this from happening again.</p>\n<p>The full code is available at <a href=\"https://github.com/kraljevinaB/springstranica\" rel=\"nofollow noreferrer\"><code>github.com</code></a>.</p>\n"},{"tags":["java","spring","generics","lombok","builder"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1674943722,"creation_date":1674943722,"answer_id":75271248,"question_id":75271019,"body_markdown":"You&#39;ll need to specify a &quot;type witness&quot;, the 2nd `&lt;Article&gt;` part below:\r\n\r\n    Response&lt;Article&gt; response =\r\n            Response.&lt;Article&gt;builder() // here\r\n                .status(&quot;ok&quot;)\r\n                .total(total)\r\n                .page(page)\r\n                .build();\r\n\r\nThis is really nothing to do with Lombok, but a shortcoming of Java&#39;s type inference. It cannot infer through the chain of method calls that `builder()` needs to create a Response of type Article, even though it&#39;s ultimately assigned to a variable of that type.\r\n\r\nThe type witness is a way of overriding the inference and specifying the generic type parameter explicitly.","title":"Lombok @Builder on class with generics","body":"<p>You'll need to specify a &quot;type witness&quot;, the 2nd <code>&lt;Article&gt;</code> part below:</p>\n<pre><code>Response&lt;Article&gt; response =\n        Response.&lt;Article&gt;builder() // here\n            .status(&quot;ok&quot;)\n            .total(total)\n            .page(page)\n            .build();\n</code></pre>\n<p>This is really nothing to do with Lombok, but a shortcoming of Java's type inference. It cannot infer through the chain of method calls that <code>builder()</code> needs to create a Response of type Article, even though it's ultimately assigned to a variable of that type.</p>\n<p>The type witness is a way of overriding the inference and specifying the generic type parameter explicitly.</p>\n"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1098,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75271248,"answer_count":1,"score":1,"last_activity_date":1674943722,"creation_date":1674941293,"question_id":75271019,"body_markdown":"Is there a way to use Lombok&#39;s `@Builder` with Java generics?\r\n\r\n```\r\n@Builder\r\npublic class Response&lt;T&gt; {\r\n\tprivate String status;\r\n    private long total;\r\n    private List&lt;T&gt; page;\r\n}\r\n\r\n```\r\n\r\nLater in a service that handles requests from controller:\r\n\r\n\r\n```\r\nlong total = getTotalItemsCount();\r\nList&lt;Article&gt; page = getPage();\r\n\r\nResponse&lt;Article&gt; response =\r\n\tResponse.builder()\r\n\t\t.status(&quot;ok&quot;)\r\n\t\t.total(total)\r\n\t\t.page(page); // error on this line\r\n\r\n```\r\n\r\nIt&#39;s not possible to call `page` method:\r\n\r\n&gt; The method `page(List&lt;Object&gt;)` in the type\r\n&gt; `Response.ResponseBuilder&lt;Object&gt;` is not applicable for the arguments\r\n&gt; (`List&lt;Article&gt;`)\r\n\r\nAny ideas?","title":"Lombok @Builder on class with generics","body":"<p>Is there a way to use Lombok's <code>@Builder</code> with Java generics?</p>\n<pre><code>@Builder\npublic class Response&lt;T&gt; {\n    private String status;\n    private long total;\n    private List&lt;T&gt; page;\n}\n\n</code></pre>\n<p>Later in a service that handles requests from controller:</p>\n<pre><code>long total = getTotalItemsCount();\nList&lt;Article&gt; page = getPage();\n\nResponse&lt;Article&gt; response =\n    Response.builder()\n        .status(&quot;ok&quot;)\n        .total(total)\n        .page(page); // error on this line\n\n</code></pre>\n<p>It's not possible to call <code>page</code> method:</p>\n<blockquote>\n<p>The method <code>page(List&lt;Object&gt;)</code> in the type\n<code>Response.ResponseBuilder&lt;Object&gt;</code> is not applicable for the arguments\n(<code>List&lt;Article&gt;</code>)</p>\n</blockquote>\n<p>Any ideas?</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":154192,"reputation":3472,"user_id":369946,"accept_rate":75,"display_name":"Matt"},"score":0,"creation_date":1446028647,"post_id":33285941,"comment_id":54569435,"body_markdown":"Have you tried using the `ObjectIdGenerators.IntSequenceGenerator.class` generator instead of `PropertyGenerator`?","body":"Have you tried using the <code>ObjectIdGenerators.IntSequenceGenerator.class</code> generator instead of <code>PropertyGenerator</code>?"},{"owner":{"account_id":3217427,"reputation":895,"user_id":2715720,"accept_rate":82,"display_name":"rala"},"score":0,"creation_date":1446028688,"post_id":33285941,"comment_id":54569456,"body_markdown":"not yet, cause my ids are `long`","body":"not yet, cause my ids are <code>long</code>"},{"owner":{"account_id":154192,"reputation":3472,"user_id":369946,"accept_rate":75,"display_name":"Matt"},"score":1,"creation_date":1446028913,"post_id":33285941,"comment_id":54569599,"body_markdown":"It&#39;s actually not necessarly the same type as the id of your entity, it&#39;s the type used for `@id` which can be different from your id, and will be unique just for the current output, and will replace the object by this id.","body":"It&#39;s actually not necessarly the same type as the id of your entity, it&#39;s the type used for <code>@id</code> which can be different from your id, and will be unique just for the current output, and will replace the object by this id."},{"owner":{"account_id":3217427,"reputation":895,"user_id":2715720,"accept_rate":82,"display_name":"rala"},"score":0,"creation_date":1446033106,"post_id":33285941,"comment_id":54572167,"body_markdown":"it&#39;s working now: thx || is there a way to hide @id in the output?","body":"it&#39;s working now: thx || is there a way to hide @id in the output?"},{"owner":{"account_id":154192,"reputation":3472,"user_id":369946,"accept_rate":75,"display_name":"Matt"},"score":0,"creation_date":1446051324,"post_id":33285941,"comment_id":54585404,"body_markdown":"I don&#39;t know, but that would be weird to hide it cause it&#39;s the only thing that allows you (or the user of your API) to make the connexion further in your JSON.","body":"I don&#39;t know, but that would be weird to hide it cause it&#39;s the only thing that allows you (or the user of your API) to make the connexion further in your JSON."}],"owner":{"account_id":3217427,"reputation":895,"user_id":2715720,"accept_rate":82,"display_name":"rala"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674942837,"creation_date":1445531233,"question_id":33285941,"body_markdown":"I&#39;ve two classes which are causing a problem: `Teacher` and `SchoolClass` (`class` is a Java keyword already). Both have a `long id.`\n\nA teacher can have many classes and a class can have many teachers.\n\nIf I request a teacher I get _(only the importent vars)_:\n\n    {\n      &quot;classes&quot;: [\n        {\n         &quot;teachers&quot;: [\n           {\n            &quot;classes&quot;: [\n              1\n            ],\n           }\n         ],\n        }\n      ]\n    }\n\nBut if I request a class I get _(complete)_:\n\n    {\n      &quot;timestamp&quot;: 1445530016078,\n      &quot;status&quot;: 500,\n      &quot;error&quot;: &quot;Internal Server Error&quot;,\n      &quot;exception&quot;: &quot;org.springframework.http.converter.HttpMessageNotWritableException&quot;,\n      &quot;message&quot;: &quot;Could not write content: java.lang.Integer cannot be cast to java.lang.Long (through reference chain:\n         at.scool.model.db.SchoolClass[\\&quot;teachers\\&quot;]-&gt;java.util.HashSet[0]-&gt;at.scool.model.db.Teacher[\\&quot;classes\\&quot;]-&gt;java.util.HashSet[0]);\n         nested exception is com.fasterxml.jackson.databind.JsonMappingException:\n         java.lang.Integer cannot be cast to java.lang.Long (through reference chain:\n         at.scool.model.db.SchoolClass[\\&quot;teachers\\&quot;]-&gt;java.util.HashSet[0]-&gt;at.scool.model.db.Teacher[\\&quot;classes\\&quot;]-&gt;java.util.HashSet[0])&quot;,\n      &quot;path&quot;: &quot;/api/class/1&quot;\n    }\n\n**Teacher**\n\n    @ManyToMany\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n    private Set&lt;SchoolClass&gt; classes = new HashSet&lt;&gt;();\n\n**SchoolClass**\n\n    @ManyToMany\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n    private Set&lt;Teacher&gt; teachers = new HashSet&lt;&gt;();\n\n\nHow to fix this error?\n\n## Update\n\nI noticed now, that the `property` value &#39;id&#39; is not taken in SchoolClass. _(start of output with `JsonIgnore` on teachers set)_\n\n    {\n    &quot;@id&quot;: 1,\n    &quot;id&quot;: 1,","title":"Spring boot with JPA and ManyToMany: JsonIdentifyInfo not working properly","body":"<p>I've two classes which are causing a problem: <code>Teacher</code> and <code>SchoolClass</code> (<code>class</code> is a Java keyword already). Both have a <code>long id.</code></p>\n<p>A teacher can have many classes and a class can have many teachers.</p>\n<p>If I request a teacher I get <em>(only the importent vars)</em>:</p>\n<pre><code>{\n  &quot;classes&quot;: [\n    {\n     &quot;teachers&quot;: [\n       {\n        &quot;classes&quot;: [\n          1\n        ],\n       }\n     ],\n    }\n  ]\n}\n</code></pre>\n<p>But if I request a class I get <em>(complete)</em>:</p>\n<pre><code>{\n  &quot;timestamp&quot;: 1445530016078,\n  &quot;status&quot;: 500,\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\n  &quot;exception&quot;: &quot;org.springframework.http.converter.HttpMessageNotWritableException&quot;,\n  &quot;message&quot;: &quot;Could not write content: java.lang.Integer cannot be cast to java.lang.Long (through reference chain:\n     at.scool.model.db.SchoolClass[\\&quot;teachers\\&quot;]-&gt;java.util.HashSet[0]-&gt;at.scool.model.db.Teacher[\\&quot;classes\\&quot;]-&gt;java.util.HashSet[0]);\n     nested exception is com.fasterxml.jackson.databind.JsonMappingException:\n     java.lang.Integer cannot be cast to java.lang.Long (through reference chain:\n     at.scool.model.db.SchoolClass[\\&quot;teachers\\&quot;]-&gt;java.util.HashSet[0]-&gt;at.scool.model.db.Teacher[\\&quot;classes\\&quot;]-&gt;java.util.HashSet[0])&quot;,\n  &quot;path&quot;: &quot;/api/class/1&quot;\n}\n</code></pre>\n<p><strong>Teacher</strong></p>\n<pre><code>@ManyToMany\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\nprivate Set&lt;SchoolClass&gt; classes = new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>SchoolClass</strong></p>\n<pre><code>@ManyToMany\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\nprivate Set&lt;Teacher&gt; teachers = new HashSet&lt;&gt;();\n</code></pre>\n<p>How to fix this error?</p>\n<h2>Update</h2>\n<p>I noticed now, that the <code>property</code> value 'id' is not taken in SchoolClass. <em>(start of output with <code>JsonIgnore</code> on teachers set)</em></p>\n<pre><code>{\n&quot;@id&quot;: 1,\n&quot;id&quot;: 1,\n</code></pre>\n"},{"tags":["java","postgresql","regex-greedy","regex-alternation"],"owner":{"account_id":27644904,"reputation":1,"user_id":21101031,"display_name":"Arsenikum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674942488,"creation_date":1674942488,"question_id":75271129,"body_markdown":"everyone! In the book Regular Expressions Cookbook written by Jan Goyvaerts, Steven Levithan, in Chapter 3.22 there is a parser example. In short, you need to write a parser that accept two types of information:\r\n\r\n1) Keywords: &quot;table&quot;, &quot;row&quot; and &quot;cell&quot;.\r\n2) Content aka % quoted strings. Inside a string double `%%` counts as a `%` symbol.\r\n\r\nSymbols outside 1) and 2) are errors.\r\n\r\nThere are also some rules, most important are:\r\n\r\n1) keywords and content can be unseparated: expression `cell%c1%cell%d1%` is valid.\r\n2) a keyword and a keyword must be separated with space symbols: `row cell`\r\n3) content 1 and content 2 must be separated with space symbols: `%c1% %c2%`\r\n\r\nIn Java code regexp solution is:\r\n\r\n```\r\nPattern regex = Pattern.compile(\r\n&quot; \\\\b(table|row|cell)\\\\b\\n&quot; +\r\n&quot;| %([^%]*(?:%%[^%]*)*)%\\n&quot; +\r\n&quot;| (\\\\S+)&quot;,\r\nPattern.CASE_INSENSITIVE | Pattern.COMMENTS);\r\n```\r\n\r\nThis solution forms 3 save groups: keywords, % quoted strings and errors. In Java and many other languages `|` symbol works from left to right, so symbols not matched with left alternative matches with next and so on.\r\n\r\nBut this is not a case with PostgreSQL! In PostgreSQL documentation says: &quot;An RE consisting of two or more branches connected by the | operator is always greedy&quot;. So it doesn&#39;t matter in which order alternatives stand, the result will be the match with maximum symbols.\r\n\r\nSo the result of match with equivalent expression in PostgreSQL might be:\r\n\r\n```\r\nselect regexp_matches(&#39;cell%c1%cell%d1%&#39;, \r\n&#39; \\y(table|row|cell)\\y | %([^%]*(?:%%[^%]*)*)% | (\\S+)&#39;,&#39;gix&#39;);\r\n------------------------------\r\n {NULL,NULL,cell%c1%cell%d1%}\r\n(1 row)\r\n```\r\n\r\nbut I expect:\r\n\r\n```\r\n regexp_matches \r\n----------------\r\n {cell,NULL}\r\n {NULL,c1}\r\n {cell,NULL}\r\n {NULL,d1}\r\n(4 rows)\r\n```\r\n\r\nThe last expression naturally &quot;eats&quot; the whole string because it&#39;s largest match.\r\n\r\nFlag g = show all matches.&lt;br/&gt;\r\nFlag i = Pattern.CASE_INSENSITIVE.&lt;br/&gt;\r\nFlag x = Pattern.COMMENTS.&lt;br/&gt;\r\n\r\nSo my question: is there any equivalence in PostgreSQL of this Java regexp?","title":"Regular Expressions Cookbook, 2nd Edition; Chapter 3.22, converting a parser to PostgreSQL","body":"<p>everyone! In the book Regular Expressions Cookbook written by Jan Goyvaerts, Steven Levithan, in Chapter 3.22 there is a parser example. In short, you need to write a parser that accept two types of information:</p>\n<ol>\n<li>Keywords: &quot;table&quot;, &quot;row&quot; and &quot;cell&quot;.</li>\n<li>Content aka % quoted strings. Inside a string double <code>%%</code> counts as a <code>%</code> symbol.</li>\n</ol>\n<p>Symbols outside 1) and 2) are errors.</p>\n<p>There are also some rules, most important are:</p>\n<ol>\n<li>keywords and content can be unseparated: expression <code>cell%c1%cell%d1%</code> is valid.</li>\n<li>a keyword and a keyword must be separated with space symbols: <code>row cell</code></li>\n<li>content 1 and content 2 must be separated with space symbols: <code>%c1% %c2%</code></li>\n</ol>\n<p>In Java code regexp solution is:</p>\n<pre><code>Pattern regex = Pattern.compile(\n&quot; \\\\b(table|row|cell)\\\\b\\n&quot; +\n&quot;| %([^%]*(?:%%[^%]*)*)%\\n&quot; +\n&quot;| (\\\\S+)&quot;,\nPattern.CASE_INSENSITIVE | Pattern.COMMENTS);\n</code></pre>\n<p>This solution forms 3 save groups: keywords, % quoted strings and errors. In Java and many other languages <code>|</code> symbol works from left to right, so symbols not matched with left alternative matches with next and so on.</p>\n<p>But this is not a case with PostgreSQL! In PostgreSQL documentation says: &quot;An RE consisting of two or more branches connected by the | operator is always greedy&quot;. So it doesn't matter in which order alternatives stand, the result will be the match with maximum symbols.</p>\n<p>So the result of match with equivalent expression in PostgreSQL might be:</p>\n<pre><code>select regexp_matches('cell%c1%cell%d1%', \n' \\y(table|row|cell)\\y | %([^%]*(?:%%[^%]*)*)% | (\\S+)','gix');\n------------------------------\n {NULL,NULL,cell%c1%cell%d1%}\n(1 row)\n</code></pre>\n<p>but I expect:</p>\n<pre><code> regexp_matches \n----------------\n {cell,NULL}\n {NULL,c1}\n {cell,NULL}\n {NULL,d1}\n(4 rows)\n</code></pre>\n<p>The last expression naturally &quot;eats&quot; the whole string because it's largest match.</p>\n<p>Flag g = show all matches.<br/>\nFlag i = Pattern.CASE_INSENSITIVE.<br/>\nFlag x = Pattern.COMMENTS.<br/></p>\n<p>So my question: is there any equivalence in PostgreSQL of this Java regexp?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":6168327,"reputation":142,"user_id":4807430,"display_name":"Kifir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515770714,"creation_date":1515757921,"answer_id":48225762,"question_id":41619819,"body_markdown":"It is because you can&#39;t open local resources programmatically.\r\nChrome raises an error:\r\n\r\n    Not allowed to load local resource: chrome://downloads/\r\n\r\nWorking solution is to run Chrome with following flags:\r\n\r\n    --disable-web-security --user-data-dir=&quot;C:\\chrome_insecure&quot;\r\n\r\nBut this trick doesn&#39;t work with Selenium Chrome Driver(I don&#39;t know actually why, a tried to remove all args that appears in `chrome://version`, but this doesn&#39;t helps).\r\n\r\nSo for me above solution is the only one that works:\r\n\r\nC# example:\r\n\r\n    driver.Navigate().GoToUrl(&quot;chrome://downloads/&quot;)\r\n\r\nThere is another trick if you need to open downloaded file:\r\n\r\nJavaScript example:\r\n\r\n    document.getElementsByTagName(&quot;downloads-manager&quot;)[0].shadowRoot.children[&quot;downloads-list&quot;]._physicalItems[0].content.querySelectorAll(&quot;#file-link&quot;)[0].click()\r\n\r\nChrome uses Polymer and Shadow DOM so there is no easy way to query `#file-link` item.\r\n\r\nAlso you need to execute `.click()` method with JavaScript programatically because there is a custom event handler on it, which opens actual downloaded file instead of `href` attribute which point to url where you downloaded file from.","title":"Cannot go to &quot;chrome://downloads/&quot; in a newly opened tab with Selenium in Chrome","body":"<p>It is because you can't open local resources programmatically.\nChrome raises an error:</p>\n\n<pre><code>Not allowed to load local resource: chrome://downloads/\n</code></pre>\n\n<p>Working solution is to run Chrome with following flags:</p>\n\n<pre><code>--disable-web-security --user-data-dir=\"C:\\chrome_insecure\"\n</code></pre>\n\n<p>But this trick doesn't work with Selenium Chrome Driver(I don't know actually why, a tried to remove all args that appears in <code>chrome://version</code>, but this doesn't helps).</p>\n\n<p>So for me above solution is the only one that works:</p>\n\n<p>C# example:</p>\n\n<pre><code>driver.Navigate().GoToUrl(\"chrome://downloads/\")\n</code></pre>\n\n<p>There is another trick if you need to open downloaded file:</p>\n\n<p>JavaScript example:</p>\n\n<pre><code>document.getElementsByTagName(\"downloads-manager\")[0].shadowRoot.children[\"downloads-list\"]._physicalItems[0].content.querySelectorAll(\"#file-link\")[0].click()\n</code></pre>\n\n<p>Chrome uses Polymer and Shadow DOM so there is no easy way to query <code>#file-link</code> item.</p>\n\n<p>Also you need to execute <code>.click()</code> method with JavaScript programatically because there is a custom event handler on it, which opens actual downloaded file instead of <code>href</code> attribute which point to url where you downloaded file from.</p>\n"},{"tags":[],"owner":{"account_id":3067097,"reputation":1005,"user_id":2598543,"display_name":"Naeem A. Malik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573564819,"creation_date":1573564819,"answer_id":58819658,"question_id":41619819,"body_markdown":"I started with this post and ended up with the solution given below. This one works in Chrome 71. First I highlighted the control and then clicked it. \r\nThe window object is actually the IWebDriver, the second method is called after the first one. \r\n \r\n\r\n      internal void NavigateToDownloads()\r\n            {\r\n                window.Navigate().GoToUrl(&quot;chrome://downloads/&quot;);\r\n            }\r\n     internal void OpenFirstDownloadLinkJS()\r\n            {\r\n                IJavaScriptExecutor js = (IJavaScriptExecutor) window;\r\n                js.ExecuteScript(&quot;document.getElementsByTagName(&#39;downloads-manager&#39;)[0].shadowRoot.children[4].children[0].children[1].shadowRoot.querySelectorAll(&#39;#content&#39;)[0].querySelector(&#39;#details &gt; #title-area &gt; #file-link&#39;).setAttribute(&#39;style&#39;, &#39;background: yellow;border: 2px solid red;&#39;);&quot;);\r\n                js.ExecuteScript(&quot;document.getElementsByTagName(&#39;downloads-manager&#39;)[0].shadowRoot.children[4].children[0].children[1].shadowRoot.querySelectorAll(&#39;#content&#39;)[0].querySelector(&#39;#details &gt; #title-area &gt; #file-link&#39;).click();&quot;);\r\n            }","title":"Cannot go to &quot;chrome://downloads/&quot; in a newly opened tab with Selenium in Chrome","body":"<p>I started with this post and ended up with the solution given below. This one works in Chrome 71. First I highlighted the control and then clicked it. \nThe window object is actually the IWebDriver, the second method is called after the first one. </p>\n\n<pre><code>  internal void NavigateToDownloads()\n        {\n            window.Navigate().GoToUrl(\"chrome://downloads/\");\n        }\n internal void OpenFirstDownloadLinkJS()\n        {\n            IJavaScriptExecutor js = (IJavaScriptExecutor) window;\n            js.ExecuteScript(\"document.getElementsByTagName('downloads-manager')[0].shadowRoot.children[4].children[0].children[1].shadowRoot.querySelectorAll('#content')[0].querySelector('#details &gt; #title-area &gt; #file-link').setAttribute('style', 'background: yellow;border: 2px solid red;');\");\n            js.ExecuteScript(\"document.getElementsByTagName('downloads-manager')[0].shadowRoot.children[4].children[0].children[1].shadowRoot.querySelectorAll('#content')[0].querySelector('#details &gt; #title-area &gt; #file-link').click();\");\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19096611,"reputation":11,"user_id":20448451,"display_name":"Hyperion"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674941955,"creation_date":1674941955,"answer_id":75271087,"question_id":41619819,"body_markdown":"Use this code (I wrote it in Python, but it should work in Java too with very slight modifications):\r\n```\r\n#switching to new window\r\ndriver.execute_script(&quot;window.open(&#39;&#39;);&quot;)\r\ndriver.switch_to.window(driver.window_handles[1])\r\n\r\n#opening downloads\r\ndriver.get(&#39;chrome://downloads/&#39;)\r\n\r\n#closing downloads:\r\ndriver.close()","title":"Cannot go to &quot;chrome://downloads/&quot; in a newly opened tab with Selenium in Chrome","body":"<p>Use this code (I wrote it in Python, but it should work in Java too with very slight modifications):</p>\n<pre><code>#switching to new window\ndriver.execute_script(&quot;window.open('');&quot;)\ndriver.switch_to.window(driver.window_handles[1])\n\n#opening downloads\ndriver.get('chrome://downloads/')\n\n#closing downloads:\ndriver.close()\n</code></pre>\n"}],"owner":{"account_id":10021575,"reputation":1438,"user_id":7411107,"accept_rate":38,"display_name":"farmcommand2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5347,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1674941955,"creation_date":1484243492,"question_id":41619819,"body_markdown":"I am using Selenium and Java to write a test for Chrome browser. My problem is that somewhere in my test, I download something and it covers a web element. I need to close that download bar (I cannot scroll to the element). I searched a lot and narrowed down to this way to open the download page in a new tab:\r\n\r\n    ((JavascriptExecutor) driver).executeScript(&quot;window.open(&#39;chrome://downloads/&#39;);&quot;);\r\n\r\nIt opens that new tab, but does not go to download page.\r\n\r\nI also added this one:\r\n\r\n    driver.switchTo().window(tabs2.get(1));\r\n\tdriver.get(&quot;chrome://downloads/&quot;);\r\n\r\nbut it didn&#39;t work either.\r\n\r\nI tried:\r\n\r\n    driver.findElement(By.cssSelector(&quot;Body&quot;)).sendKeys(Keys.CONTROL + &quot;t&quot;);\r\n\r\nand\r\n\r\n    action.sendKeys(Keys.CONTROL+ &quot;j&quot;).build().perform();\r\n    action.keyUp(Keys.CONTROL).build().perform();\r\n    Thread.sleep(500);\r\n\r\nbut neither one even opened the tab.","title":"Cannot go to &quot;chrome://downloads/&quot; in a newly opened tab with Selenium in Chrome","body":"<p>I am using Selenium and Java to write a test for Chrome browser. My problem is that somewhere in my test, I download something and it covers a web element. I need to close that download bar (I cannot scroll to the element). I searched a lot and narrowed down to this way to open the download page in a new tab:</p>\n\n<pre><code>((JavascriptExecutor) driver).executeScript(\"window.open('chrome://downloads/');\");\n</code></pre>\n\n<p>It opens that new tab, but does not go to download page.</p>\n\n<p>I also added this one:</p>\n\n<pre><code>driver.switchTo().window(tabs2.get(1));\ndriver.get(\"chrome://downloads/\");\n</code></pre>\n\n<p>but it didn't work either.</p>\n\n<p>I tried:</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"Body\")).sendKeys(Keys.CONTROL + \"t\");\n</code></pre>\n\n<p>and</p>\n\n<pre><code>action.sendKeys(Keys.CONTROL+ \"j\").build().perform();\naction.keyUp(Keys.CONTROL).build().perform();\nThread.sleep(500);\n</code></pre>\n\n<p>but neither one even opened the tab.</p>\n"},{"tags":["java","arrays","for-loop","multidimensional-array","nested-loops"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1674908074,"post_id":75267028,"comment_id":132816641,"body_markdown":"System.out.println(&quot;Enter Row &amp; Column value &quot; + row + column);","body":"System.out.println(&quot;Enter Row &amp; Column value &quot; + row + column);"},{"owner":{"account_id":12531475,"reputation":397,"user_id":9119602,"display_name":"touqeer"},"score":0,"creation_date":1674909371,"post_id":75267028,"comment_id":132816852,"body_markdown":"Thank You very much for the guidance, Just reviewing Java as I left learning it back in 2018.\n\nWorks perfectly!","body":"Thank You very much for the guidance, Just reviewing Java as I left learning it back in 2018.  Works perfectly!"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1674911612,"post_id":75267028,"comment_id":132817257,"body_markdown":"no images of plain text, please","body":"no images of plain text, please"},{"owner":{"account_id":12531475,"reputation":397,"user_id":9119602,"display_name":"touqeer"},"score":0,"creation_date":1674914955,"post_id":75267028,"comment_id":132817835,"body_markdown":"@kleopatra what do you mean ? The image is of IntelliJ Output of my code using the print function to adobe PDF","body":"@kleopatra what do you mean ? The image is of IntelliJ Output of my code using the print function to adobe PDF"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1674921127,"post_id":75267028,"comment_id":132818901,"body_markdown":"it&#39;s plain text .. so you could c&amp;p it ..","body":"it&#39;s plain text .. so you could c&amp;p it .."}],"answers":[{"tags":[],"owner":{"account_id":12154457,"reputation":766,"user_id":8873770,"accept_rate":80,"display_name":"Jonxag"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674941850,"creation_date":1674908076,"answer_id":75267573,"question_id":75267028,"body_markdown":"You are trying to print the value at the current row and column index of the 2D array, but the array has not been initialized yet so it will print 0. On this line \r\n\r\n    System.out.println(&quot;Enter Row &amp; Column value &quot; + num[row][column]);\r\n\r\nTry using something like this:\r\n\r\n    System.out.println(&quot;Enter Row &quot; + row + &quot; &amp; Column &quot; + column + &quot; value &quot;);","title":"Issue printing the 2D array index in Java, print statement returns 0 everytime instead of index for both row &amp; column and also does not increase","body":"<p>You are trying to print the value at the current row and column index of the 2D array, but the array has not been initialized yet so it will print 0. On this line</p>\n<pre><code>System.out.println(&quot;Enter Row &amp; Column value &quot; + num[row][column]);\n</code></pre>\n<p>Try using something like this:</p>\n<pre><code>System.out.println(&quot;Enter Row &quot; + row + &quot; &amp; Column &quot; + column + &quot; value &quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674909675,"creation_date":1674909302,"answer_id":75267704,"question_id":75267028,"body_markdown":"From the code in your question, i.e. from the first `for` loop:\r\n```java\r\nSystem.out.println(&quot;Enter Row &amp; Column value &quot; + num[row][column]);\r\n```\r\nYou are printing the value of the array element rather than the indexes. Note that in Java the elements of an `int` array are implicitly initialized to 0 (zero). Hence the prompt that your code prints for the user to enter a value always displays zero, e.g.\r\n```none\r\nEnter Row &amp; Column value 0\r\n```\r\nI suggest using method [printf](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)) rather than method `println` as follows:\r\n```java\r\nSystem.out.printf(&quot;Enter Row &amp; Column value %d,%d%n&quot;, row, column);\r\n```\r\nIn the second `for` loop you want to print both the indexes and the value of the array element at those indexes. Again, I suggest using method `printf`.\r\n```java\r\nSystem.out.printf(&quot;The Values at Row %d &amp; column %d is: %d%n&quot;, i, j, num[i][j]);\r\n```\r\nThis means that you do not require local variable `numbering`.\r\n\r\nAlso, you should create the `Scanner` before the first `for` loop because you only need to create a `Scanner` object once and not in every loop iteration.\r\n\r\nHere is my rewrite of your code:\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int[][] num = new int[2][2];\r\n        int row = 0, column = 0;\r\n        Scanner sc = new Scanner(System.in);\r\n        for (row = 0; row &lt; num.length; row++) {\r\n            for (column = 0; column &lt; num[row].length; column++) {\r\n                System.out.printf(&quot;Enter Row &amp; Column value %d,%d%n&quot;, row, column);\r\n                num[row][column] = sc.nextInt();\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; num.length; i++) {\r\n            for (int j = 0; j &lt; num.length; j++) {\r\n                System.out.printf(&quot;The Values at Row %d &amp; column %d is: %d%n&quot;, i, j, num[i][j]);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nNote that in Java an array may be [jagged](https://www.geeksforgeeks.org/jagged-array-in-java/). Hence this code gives the number of elements in a given row of the 2D array:\r\n```java\r\nnum[row].length\r\n```\r\nSample run:\r\n```none\r\nEnter Row &amp; Column value 0,0\r\n11\r\nEnter Row &amp; Column value 0,1\r\n22\r\nEnter Row &amp; Column value 1,0\r\n33\r\nEnter Row &amp; Column value 1,1\r\n44\r\nThe Values at Row 0 &amp; column 0 is: 11\r\nThe Values at Row 0 &amp; column 1 is: 22\r\nThe Values at Row 1 &amp; column 0 is: 33\r\nThe Values at Row 1 &amp; column 1 is: 44\r\n```\r\n","title":"Issue printing the 2D array index in Java, print statement returns 0 everytime instead of index for both row &amp; column and also does not increase","body":"<p>From the code in your question, i.e. from the first <code>for</code> loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Enter Row &amp; Column value &quot; + num[row][column]);\n</code></pre>\n<p>You are printing the value of the array element rather than the indexes. Note that in Java the elements of an <code>int</code> array are implicitly initialized to 0 (zero). Hence the prompt that your code prints for the user to enter a value always displays zero, e.g.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter Row &amp; Column value 0\n</code></pre>\n<p>I suggest using method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">printf</a> rather than method <code>println</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;Enter Row &amp; Column value %d,%d%n&quot;, row, column);\n</code></pre>\n<p>In the second <code>for</code> loop you want to print both the indexes and the value of the array element at those indexes. Again, I suggest using method <code>printf</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;The Values at Row %d &amp; column %d is: %d%n&quot;, i, j, num[i][j]);\n</code></pre>\n<p>This means that you do not require local variable <code>numbering</code>.</p>\n<p>Also, you should create the <code>Scanner</code> before the first <code>for</code> loop because you only need to create a <code>Scanner</code> object once and not in every loop iteration.</p>\n<p>Here is my rewrite of your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        int[][] num = new int[2][2];\n        int row = 0, column = 0;\n        Scanner sc = new Scanner(System.in);\n        for (row = 0; row &lt; num.length; row++) {\n            for (column = 0; column &lt; num[row].length; column++) {\n                System.out.printf(&quot;Enter Row &amp; Column value %d,%d%n&quot;, row, column);\n                num[row][column] = sc.nextInt();\n            }\n        }\n        for (int i = 0; i &lt; num.length; i++) {\n            for (int j = 0; j &lt; num.length; j++) {\n                System.out.printf(&quot;The Values at Row %d &amp; column %d is: %d%n&quot;, i, j, num[i][j]);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Note that in Java an array may be <a href=\"https://www.geeksforgeeks.org/jagged-array-in-java/\" rel=\"nofollow noreferrer\">jagged</a>. Hence this code gives the number of elements in a given row of the 2D array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>num[row].length\n</code></pre>\n<p>Sample run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter Row &amp; Column value 0,0\n11\nEnter Row &amp; Column value 0,1\n22\nEnter Row &amp; Column value 1,0\n33\nEnter Row &amp; Column value 1,1\n44\nThe Values at Row 0 &amp; column 0 is: 11\nThe Values at Row 0 &amp; column 1 is: 22\nThe Values at Row 1 &amp; column 0 is: 33\nThe Values at Row 1 &amp; column 1 is: 44\n</code></pre>\n"}],"owner":{"account_id":12531475,"reputation":397,"user_id":9119602,"display_name":"touqeer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1675028473,"accepted_answer_id":75267704,"answer_count":2,"score":-2,"last_activity_date":1674941850,"creation_date":1674902673,"question_id":75267028,"body_markdown":"For example:\r\n\r\n**OUTPUT that I want:**\r\n```none\r\nEnter Row 0 &amp; Column 0 value\r\n```\r\nOR\r\n```none\r\nEnter Row &amp; Column value 00\r\n```\r\n**CODE**\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int[][] num = new int[2][2];\r\n        int row = 0, column = 0, numbering = 0;\r\n        for (row = 0; row &lt; num.length; row++) {\r\n            for (column = 0; column &lt; num.length; column++) {\r\n                System.out.println(&quot;Enter Row &amp; Column value &quot; + num[row][column]);\r\n                Scanner sc = new Scanner(System.in);\r\n                num[row][column] = sc.nextInt();\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; num.length; i++) {\r\n            for (int j = 0; j &lt; num.length; j++) {\r\n                System.out.println(&quot;The Values at &quot; + ++numbering + &quot; Row &amp; column is: &quot; + num[i][j]);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n**CODE OUTPUT**\r\n\r\n[![OUTPUT][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mla50.jpg","title":"Issue printing the 2D array index in Java, print statement returns 0 everytime instead of index for both row &amp; column and also does not increase","body":"<p>For example:</p>\n<p><strong>OUTPUT that I want:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter Row 0 &amp; Column 0 value\n</code></pre>\n<p>OR</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter Row &amp; Column value 00\n</code></pre>\n<p><strong>CODE</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        int[][] num = new int[2][2];\n        int row = 0, column = 0, numbering = 0;\n        for (row = 0; row &lt; num.length; row++) {\n            for (column = 0; column &lt; num.length; column++) {\n                System.out.println(&quot;Enter Row &amp; Column value &quot; + num[row][column]);\n                Scanner sc = new Scanner(System.in);\n                num[row][column] = sc.nextInt();\n            }\n        }\n        for (int i = 0; i &lt; num.length; i++) {\n            for (int j = 0; j &lt; num.length; j++) {\n                System.out.println(&quot;The Values at &quot; + ++numbering + &quot; Row &amp; column is: &quot; + num[i][j]);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>CODE OUTPUT</strong></p>\n<p><a href=\"https://i.stack.imgur.com/mla50.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mla50.jpg\" alt=\"OUTPUT\" /></a></p>\n"},{"tags":["java","stringbuilder"],"answers":[{"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1674942184,"post_id":75270999,"comment_id":132822764,"body_markdown":"You can directly collect with out the intermadiate map step by using the 3args joining collector: `String newValue = Arrays.stream(value).collect(Collectors.joining(&quot;\\&quot;,\\&quot;&quot;,&quot;\\&quot;&quot;, &quot;\\&quot;&quot;));`","body":"You can directly collect with out the intermadiate map step by using the 3args joining collector: <code>String newValue = Arrays.stream(value).collect(Collectors.joining(&quot;\\&quot;,\\&quot;&quot;,&quot;\\&quot;&quot;&zwnj;&#8203;, &quot;\\&quot;&quot;));</code>"}],"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674941070,"creation_date":1674941070,"answer_id":75270999,"question_id":75270914,"body_markdown":"You could also do this with a Stream:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\nString result = Arrays.stream(value)\r\n                .map(s -&gt; &#39;&quot;&#39; + s + &#39;&quot;&#39;)\r\n                .collect(Collectors.joining(&quot;,&quot;));\r\n```","title":"Stringbuildier in loop, anything to do better?","body":"<p>You could also do this with a Stream:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.stream.Collectors;\n\nString result = Arrays.stream(value)\n                .map(s -&gt; '&quot;' + s + '&quot;')\n                .collect(Collectors.joining(&quot;,&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674941514,"creation_date":1674941514,"answer_id":75271039,"question_id":75270914,"body_markdown":"Just use String.join:\r\n\r\n    System.out.println(&#39;&quot;&#39; + String.join(&quot;\\&quot;,\\&quot;&quot;, values) + &#39;&quot;&#39;);","title":"Stringbuildier in loop, anything to do better?","body":"<p>Just use String.join:</p>\n<pre><code>System.out.println('&quot;' + String.join(&quot;\\&quot;,\\&quot;&quot;, values) + '&quot;');\n</code></pre>\n"}],"owner":{"display_name":"user18542516"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1674941514,"creation_date":1674940245,"question_id":75270914,"body_markdown":"For each x Strings the output should be in quote and each String should be separated by a comma: \r\n\r\nFor example: \r\n\r\n    input: String String1 String2\r\n    output: &quot;String&quot;,&quot;String1&quot;,&quot;String2&quot;\r\n    \r\n    input: String\r\n    output: &quot;String&quot;\r\n\r\n    TestBuildier testBuildier = new TestBuildier();\r\n        testBuildier.concatString(&quot;Test&quot;,&quot;Test1&quot;,&quot;Test2&quot;);\r\n    }\r\n\r\n    public void concatString(String...value){\r\n            StringBuilder newValue = new StringBuilder();\r\n            for(String str: value){\r\n                newValue.append(&quot;\\&quot;&quot;).append(str).append(&quot;\\&quot;,&quot;);\r\n            }\r\n            newValue.deleteCharAt(newValue.length()-1);\r\n            System.out.println(newValue);\r\n    \r\n        }\r\n\r\nOutput is `&quot;String&quot;,&quot;String1&quot;,&quot;String2&quot;` so it works. But I&#39;m wondering maybe u guys would do here something different or this code looks ok?","title":"Stringbuildier in loop, anything to do better?","body":"<p>For each x Strings the output should be in quote and each String should be separated by a comma:</p>\n<p>For example:</p>\n<pre><code>input: String String1 String2\noutput: &quot;String&quot;,&quot;String1&quot;,&quot;String2&quot;\n\ninput: String\noutput: &quot;String&quot;\n\nTestBuildier testBuildier = new TestBuildier();\n    testBuildier.concatString(&quot;Test&quot;,&quot;Test1&quot;,&quot;Test2&quot;);\n}\n\npublic void concatString(String...value){\n        StringBuilder newValue = new StringBuilder();\n        for(String str: value){\n            newValue.append(&quot;\\&quot;&quot;).append(str).append(&quot;\\&quot;,&quot;);\n        }\n        newValue.deleteCharAt(newValue.length()-1);\n        System.out.println(newValue);\n\n    }\n</code></pre>\n<p>Output is <code>&quot;String&quot;,&quot;String1&quot;,&quot;String2&quot;</code> so it works. But I'm wondering maybe u guys would do here something different or this code looks ok?</p>\n"},{"tags":["java","intellij-idea","plugins","intellij-plugin"],"answers":[{"tags":[],"owner":{"account_id":12558392,"reputation":166,"user_id":9137155,"display_name":"Ilya Rodionov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674940644,"creation_date":1674940644,"answer_id":75270962,"question_id":72599398,"body_markdown":"Take a look at [File-Based Indexes](https://plugins.jetbrains.com/docs/intellij/file-based-indexes.html).\r\n\r\nIt works on map-reduce manner. Basically you specify a file-to-keys function and IDEA will build a key-to-file index for you. It will keep the index up to date in case of file changes so you don&#39;t need to worry about it. It&#39;s even possible to store additional data related to keys.\r\n\r\nThen it&#39;s possible to query files by key, enumerate all keys or files in the index and so on.","title":"IntelliJ plugin development - How to find and analyze calls?","body":"<p>Take a look at <a href=\"https://plugins.jetbrains.com/docs/intellij/file-based-indexes.html\" rel=\"nofollow noreferrer\">File-Based Indexes</a>.</p>\n<p>It works on map-reduce manner. Basically you specify a file-to-keys function and IDEA will build a key-to-file index for you. It will keep the index up to date in case of file changes so you don't need to worry about it. It's even possible to store additional data related to keys.</p>\n<p>Then it's possible to query files by key, enumerate all keys or files in the index and so on.</p>\n"}],"owner":{"account_id":5946435,"reputation":663,"user_id":4675794,"accept_rate":33,"display_name":"Andret2344"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674940644,"creation_date":1655106820,"question_id":72599398,"body_markdown":"I am writing a plugin for IntelliJ IDEA that&#39;s main purpose is to help me to use my own API, and now I&#39;m stuck. My API is used the following way:\r\n\r\n```java\r\npublic class SomeClass {\r\n    @Override\r\n    public void specialMethod() {\r\n        CustomCommand command = CommandManager.registerCommand(CommandClass.class, this);\r\n        command.addMapper(&quot;mapper1&quot;, ...); // it doesn&#39;t matter what is here, the string is the only important thing here\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class CommandClass extends AbstractCommandClass {\r\n    public CommandClass(SpecialClass specialClass) {\r\n        super(SpecialClass);\r\n    }\r\n\r\n    @Mapper(&quot;mapper1&quot;) // HERE\r\n    public void someMethod() {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nIn annotation `@Mapper` I am using a stringly-typed key and would like my plugin to verify if this string has been registered in `SpecialClass` using `addMapper` method. Additionally, there can be multiple unique mappers, so I also want the suggestion. I know how to create inspections, intentions and providers, the main problem here is: **How to correctly collect all the used strings?**","title":"IntelliJ plugin development - How to find and analyze calls?","body":"<p>I am writing a plugin for IntelliJ IDEA that's main purpose is to help me to use my own API, and now I'm stuck. My API is used the following way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeClass {\n    @Override\n    public void specialMethod() {\n        CustomCommand command = CommandManager.registerCommand(CommandClass.class, this);\n        command.addMapper(&quot;mapper1&quot;, ...); // it doesn't matter what is here, the string is the only important thing here\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CommandClass extends AbstractCommandClass {\n    public CommandClass(SpecialClass specialClass) {\n        super(SpecialClass);\n    }\n\n    @Mapper(&quot;mapper1&quot;) // HERE\n    public void someMethod() {\n        // ...\n    }\n}\n</code></pre>\n<p>In annotation <code>@Mapper</code> I am using a stringly-typed key and would like my plugin to verify if this string has been registered in <code>SpecialClass</code> using <code>addMapper</code> method. Additionally, there can be multiple unique mappers, so I also want the suggestion. I know how to create inspections, intentions and providers, the main problem here is: <strong>How to correctly collect all the used strings?</strong></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1523975033,"post_id":49880453,"comment_id":86777060,"body_markdown":"check my answer here. https://stackoverflow.com/questions/48111941/spring-boot-application-test-properties/48114025#48114025 This is one example where you might usage of `@EnableConfigurationProperties` is mandatory","body":"check my answer here. <a href=\"https://stackoverflow.com/questions/48111941/spring-boot-application-test-properties/48114025#48114025\" title=\"spring boot application test properties\">stackoverflow.com/questions/48111941/&hellip;</a> This is one example where you might usage of <code>@EnableConfigurationProperties</code> is mandatory"},{"owner":{"account_id":9028457,"reputation":1139,"user_id":6727003,"accept_rate":50,"display_name":"J Person"},"score":0,"creation_date":1523975625,"post_id":49880453,"comment_id":86777530,"body_markdown":"If I understand correctly, this explains why you need `@EnableConfigurationProperties` on a configuration class, but not why you need to give it a list of classes annotated with `@Configurationproperties`, e.g. `@EnableConfigurationProperties(AcmeProperties.class)` when AcmeProperties is already annotated with `@ConfigurationProperties`","body":"If I understand correctly, this explains why you need <code>@EnableConfigurationProperties</code> on a configuration class, but not why you need to give it a list of classes annotated with <code>@Configurationproperties</code>, e.g. <code>@EnableConfigurationProperties(AcmeProperties.class)</code> when AcmeProperties is already annotated with <code>@ConfigurationProperties</code>"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1524034074,"post_id":49888642,"comment_id":86801372,"body_markdown":"`@EnableConfigurationProperties` is for enabling support of `@ConfigurationProperties` it should only exists once in your application (i.e on your `@SpringBootApplication` it shouldn&#39;t (nor does belong) on other classes).","body":"<code>@EnableConfigurationProperties</code> is for enabling support of <code>@ConfigurationProperties</code> it should only exists once in your application (i.e on your <code>@SpringBootApplication</code> it shouldn&#39;t (nor does belong) on other classes)."},{"owner":{"account_id":9028457,"reputation":1139,"user_id":6727003,"accept_rate":50,"display_name":"J Person"},"score":1,"creation_date":1524043372,"post_id":49888642,"comment_id":86807077,"body_markdown":"So what do the classes given to @EnableCOnfigurationProperties as arguments do?","body":"So what do the classes given to @EnableCOnfigurationProperties as arguments do?"},{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1571396299,"post_id":49888642,"comment_id":103236659,"body_markdown":"@JPerson -- they indicate which `@ConfigurationProperties` Spring should enable, specifically. You&#39;d not supply any classes if you&#39;d like any that Spring can find to be loaded.","body":"@JPerson -- they indicate which <code>@ConfigurationProperties</code> Spring should enable, specifically. You&#39;d not supply any classes if you&#39;d like any that Spring can find to be loaded."}],"tags":[],"owner":{"account_id":2660107,"reputation":4547,"user_id":2300013,"accept_rate":100,"display_name":"AR1"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1524033736,"creation_date":1524005550,"answer_id":49888642,"question_id":49880453,"body_markdown":"If we look at the code below:\n\n`@Configuration @EnableConfigurationProperties @ConfigurationProperties(prefix=&quot;ar1&quot;) \npublic class ar1Settings { }` \n\n \n \n - **@Configuration**&#160;tells Spring to treat this as a configuration class and register it as a Bean\n \n \n - **@EnableConfigurationProperties**&#160;tells Spring to treat this class as a consumer of application.yml/properties values\n\n \n - **@ConfigurationProperties** tells Spring what section this class represents.\n\nMy understanding is that if you don&#39;t need to specify the section of the property file, then @ConfigurationProperties can be omitted. ","title":"What difference does @EnableConfigurationProperties make if a bean is already annotated with @ConfigurationProperties?","body":"<p>If we look at the code below:</p>\n\n<p><code>@Configuration @EnableConfigurationProperties @ConfigurationProperties(prefix=\"ar1\") \npublic class ar1Settings { }</code> </p>\n\n<ul>\n<li><p><strong>@Configuration</strong> tells Spring to treat this as a configuration class and register it as a Bean</p></li>\n<li><p><strong>@EnableConfigurationProperties</strong> tells Spring to treat this class as a consumer of application.yml/properties values</p></li>\n<li><p><strong>@ConfigurationProperties</strong> tells Spring what section this class represents.</p></li>\n</ul>\n\n<p>My understanding is that if you don't need to specify the section of the property file, then @ConfigurationProperties can be omitted. </p>\n"},{"comments":[{"owner":{"account_id":9028457,"reputation":1139,"user_id":6727003,"accept_rate":50,"display_name":"J Person"},"score":11,"creation_date":1525785733,"post_id":50231372,"comment_id":87486660,"body_markdown":"So what difference does including DataSourcesConfiguration.class on the @EnableConfigurationProperties annotation make, compared to leaving the annotation empty?","body":"So what difference does including DataSourcesConfiguration.class on the @EnableConfigurationProperties annotation make, compared to leaving the annotation empty?"},{"owner":{"account_id":2076306,"reputation":897,"user_id":1849560,"display_name":"Emanuel Miranda"},"score":26,"creation_date":1525870092,"post_id":50231372,"comment_id":87524881,"body_markdown":"The `DataSourcesConfiguration.class` is not registered as a Spring `@Bean`. Hence, if you remove the `@EnableConfigurationProperties` value, in this case `DataSourcesConfiguration.class`, Spring won&#39;t be able to find it. If you check the `@EnableConfigurationProperties::value()` docs, it says that it is just a convenient way for quickly register `@ConfigurationProperties` annotated beans. We could leave the `@EnableConfigurationProperties` empty if the `DataSourcesConfiguration` was annotated with, e.g., `@Component` annotation, which registers it as a Spring Bean. Hope this helps!","body":"The <code>DataSourcesConfiguration.class</code> is not registered as a Spring <code>@Bean</code>. Hence, if you remove the <code>@EnableConfigurationProperties</code> value, in this case <code>DataSourcesConfiguration.class</code>, Spring won&#39;t be able to find it. If you check the <code>@EnableConfigurationProperties::value()</code> docs, it says that it is just a convenient way for quickly register <code>@ConfigurationProperties</code> annotated beans. We could leave the <code>@EnableConfigurationProperties</code> empty if the <code>DataSourcesConfiguration</code> was annotated with, e.g., <code>@Component</code> annotation, which registers it as a Spring Bean. Hope this helps!"},{"owner":{"account_id":2649991,"reputation":1050,"user_id":2291928,"accept_rate":100,"display_name":"George Pantazes"},"score":3,"creation_date":1581981822,"post_id":50231372,"comment_id":106611736,"body_markdown":"Conveniently, `@ConfigurationPropertiesScan` is meta-annotated with `@EnableConfigurationProperties`, so if you do a scan of your `config` package where you keep all the properties classes, it will also *enable* configuration properties overall. I annotated my main `@SpringBootApplication` with `@ConfigurationPropertiesScan(&quot;com.my.config&quot;)`, and the properties were finally being found as beans and getting autowired due to the scan from this one location.","body":"Conveniently, <code>@ConfigurationPropertiesScan</code> is meta-annotated with <code>@EnableConfigurationProperties</code>, so if you do a scan of your <code>config</code> package where you keep all the properties classes, it will also <i>enable</i> configuration properties overall. I annotated my main <code>@SpringBootApplication</code> with <code>@ConfigurationPropertiesScan(&quot;com.my.config&quot;)</code>, and the properties were finally being found as beans and getting autowired due to the scan from this one location."},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":1,"creation_date":1601318692,"post_id":50231372,"comment_id":113364647,"body_markdown":"@EmanuelMiranda Small clarification. `DataSourcesConfiguration` doesn&#39;t register _itself_ as a bean. But eventually it is registered as a bean by the `@EnableConfigurationProperties`.\nSo one way or another `@ConfigurationProperties` annotated class should be registered as a bean.","body":"@EmanuelMiranda Small clarification. <code>DataSourcesConfiguration</code> doesn&#39;t register <i>itself</i> as a bean. But eventually it is registered as a bean by the <code>@EnableConfigurationProperties</code>. So one way or another <code>@ConfigurationProperties</code> annotated class should be registered as a bean."}],"tags":[],"owner":{"account_id":2076306,"reputation":897,"user_id":1849560,"display_name":"Emanuel Miranda"},"comment_count":4,"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1548855051,"creation_date":1525775133,"answer_id":50231372,"question_id":49880453,"body_markdown":"As M. Deinum referred `@EnableConfigurationProperties` Is for enabling support of `@ConfigurationProperties`. If you take a look to the annotation Java Doc you can see:\r\n\r\n&gt; Enable support for ConfigurationProperties annotated beans. ConfigurationProperties beans can be registered in the standard way (for example using Bean @Bean methods) or, for convenience, can be specified directly on this annotation. [...]\r\n\r\nFor example, let&#39;s say you have a class whose responsibility is to read and store information from your `application.yml` / `application.properties` that is required to make a connection to different databases. You annotate it with `@ConfigurationProperties`.\r\n\r\nThen, you typically have a `@Configuration` annotated class that provides a `DataSource` `@Bean` to your application. You can use the `@EnableConfigurationProperties` to link it to the `@ConfigurationProperties` class and init your data sources accordingly.\r\n\r\nHere is a small example:\r\n\r\n**application.yml**\r\n\r\n    data-sources:\r\n      db1:\r\n        url: &quot;jdbc:postgresql://localhost:5432}/db1&quot;\r\n        username: test\r\n        password: test\r\n      db2:\r\n        url: &quot;jdbc:postgresql://localhost:5432}/db2&quot;\r\n        username: test\r\n        password: test\r\n\r\n**DataSourcesConfiguration**\r\n\r\n    @ConfigurationProperties\r\n    public class DataSourcesConfiguration {\r\n    \r\n        private Map&lt;String, BasicDataSource&gt; dataSources;\r\n    \r\n        public void setDataSources(Map&lt;String, BasicDataSource&gt; dataSources) {\r\n            this.dataSources = dataSources;\r\n        }\r\n    \r\n        Map&lt;String, BasicDataSource &gt; getDataSources() {\r\n            return dataSources;\r\n        }\r\n    }\r\n\r\n**DataSourceConnectionConfiguration**\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties(DataSourcesConfiguration.class)\r\n    public class DatabaseConnectionConfiguration implements Provider&lt;Connection&gt; {\r\n    \r\n        private DataSourcesConfiguration dataSourcesConfiguration;\r\n    \r\n        public DatabaseConnectionConfiguration(DataSourcesConfiguration dataSourcesConfiguration) {\r\n            this.dataSourcesConfiguration = dataSourcesConfiguration;\r\n        }\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            // Use dataSourcesConfiguration to create application data source. E.g., a AbstractRoutingDataSource..\r\n        }\r\n    \r\n    }","title":"What difference does @EnableConfigurationProperties make if a bean is already annotated with @ConfigurationProperties?","body":"<p>As M. Deinum referred <code>@EnableConfigurationProperties</code> Is for enabling support of <code>@ConfigurationProperties</code>. If you take a look to the annotation Java Doc you can see:</p>\n\n<blockquote>\n  <p>Enable support for ConfigurationProperties annotated beans. ConfigurationProperties beans can be registered in the standard way (for example using Bean @Bean methods) or, for convenience, can be specified directly on this annotation. [...]</p>\n</blockquote>\n\n<p>For example, let's say you have a class whose responsibility is to read and store information from your <code>application.yml</code> / <code>application.properties</code> that is required to make a connection to different databases. You annotate it with <code>@ConfigurationProperties</code>.</p>\n\n<p>Then, you typically have a <code>@Configuration</code> annotated class that provides a <code>DataSource</code> <code>@Bean</code> to your application. You can use the <code>@EnableConfigurationProperties</code> to link it to the <code>@ConfigurationProperties</code> class and init your data sources accordingly.</p>\n\n<p>Here is a small example:</p>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code>data-sources:\n  db1:\n    url: \"jdbc:postgresql://localhost:5432}/db1\"\n    username: test\n    password: test\n  db2:\n    url: \"jdbc:postgresql://localhost:5432}/db2\"\n    username: test\n    password: test\n</code></pre>\n\n<p><strong>DataSourcesConfiguration</strong></p>\n\n<pre><code>@ConfigurationProperties\npublic class DataSourcesConfiguration {\n\n    private Map&lt;String, BasicDataSource&gt; dataSources;\n\n    public void setDataSources(Map&lt;String, BasicDataSource&gt; dataSources) {\n        this.dataSources = dataSources;\n    }\n\n    Map&lt;String, BasicDataSource &gt; getDataSources() {\n        return dataSources;\n    }\n}\n</code></pre>\n\n<p><strong>DataSourceConnectionConfiguration</strong></p>\n\n<pre><code>@Configuration\n@EnableConfigurationProperties(DataSourcesConfiguration.class)\npublic class DatabaseConnectionConfiguration implements Provider&lt;Connection&gt; {\n\n    private DataSourcesConfiguration dataSourcesConfiguration;\n\n    public DatabaseConnectionConfiguration(DataSourcesConfiguration dataSourcesConfiguration) {\n        this.dataSourcesConfiguration = dataSourcesConfiguration;\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        // Use dataSourcesConfiguration to create application data source. E.g., a AbstractRoutingDataSource..\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14763557,"reputation":370,"user_id":10662224,"display_name":"alpha"},"comment_count":0,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1548945008,"creation_date":1542364188,"answer_id":53335979,"question_id":49880453,"body_markdown":"It took me a while to reach to this post but would like to add here so that others may get benefited.\r\n\r\n`@ConfigurationProperties` - Used to bind a class with an externalized property file. Very powerful and must be used to separate out bean classes with configuration entity class.\r\n\r\n`@Configuration` - Creates a Spring bean of configuration stereotype.\r\n\r\n`@EnableConfigurationProperties` - Creates a binding between a configuration entity class and Spring configuration stereotype so that after injection within a service properties can be retrieved easily.","title":"What difference does @EnableConfigurationProperties make if a bean is already annotated with @ConfigurationProperties?","body":"<p>It took me a while to reach to this post but would like to add here so that others may get benefited.</p>\n\n<p><code>@ConfigurationProperties</code> - Used to bind a class with an externalized property file. Very powerful and must be used to separate out bean classes with configuration entity class.</p>\n\n<p><code>@Configuration</code> - Creates a Spring bean of configuration stereotype.</p>\n\n<p><code>@EnableConfigurationProperties</code> - Creates a binding between a configuration entity class and Spring configuration stereotype so that after injection within a service properties can be retrieved easily.</p>\n"},{"tags":[],"owner":{"account_id":7405841,"reputation":897,"user_id":5634808,"display_name":"Amos Kosgei"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674939170,"creation_date":1674939170,"answer_id":75270824,"question_id":49880453,"body_markdown":"`@EnableConfigurationProperties` imports `EnableConfigurationPropertiesRegistrar` which enables support for `@ConfigurationProperties` annotated beans.\r\n\r\n`@ConfigurationProperties` is an annotation for externalized configuration, it is to be applied to a bean configuration class or method annotated with `@Bean` eg\r\n ```  @Bean\r\n    @ConfigurationProperties(prefix = &quot;some-prefix&quot;)\r\n    public SomePrefix prefixBean() { \r\n       return new SomePrefix(); \r\n}\r\n```\r\nTo load the properties and bind them to properties within the method or the class that match the prefix.\r\nps: `some-prefix` binds to `SomePrefix` because of spring&#39;s support for Relaxed binding. \r\n\r\nBefore springboot 2.2, You could do either of the following:\r\n\r\n```\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;some-prefix&quot;)\r\npublic class ConfigProperties {\r\n//...some code\r\n}\r\n```\r\n\r\nor \r\n\r\n```\r\n@Configuration\r\n@EnableConfigurationProperties(SomeClassToBeBounded.class)\r\npublic class ConfigProperties {\r\n```\r\nalong with \r\n\r\n```\r\n@ConfigurationProperties(prefix = &quot;some-prefix&quot;)\r\npublic class SomeClassToBeBounded{\r\n//...some code\r\n}\r\n```\r\n\r\n\r\n\r\nFrom springboot 2.2\r\n\r\nYou can do it in a much easier way:\r\n```\r\n@ConfigurationProperties(prefix = &quot;some-prefix&quot;) \r\n@ConfigurationPropertiesScan \r\npublic class ConfigProperties { \r\n\r\n//...some code\r\n}\r\n```\r\nWith this, the classpath scanner enabled by @SpringBootApplication finds the ConfigProperties class, even though we didn&#39;t annotate this class with @Component.\r\n\r\n\r\n ","title":"What difference does @EnableConfigurationProperties make if a bean is already annotated with @ConfigurationProperties?","body":"<p><code>@EnableConfigurationProperties</code> imports <code>EnableConfigurationPropertiesRegistrar</code> which enables support for <code>@ConfigurationProperties</code> annotated beans.</p>\n<p><code>@ConfigurationProperties</code> is an annotation for externalized configuration, it is to be applied to a bean configuration class or method annotated with <code>@Bean</code> eg</p>\n<pre><code>   @ConfigurationProperties(prefix = &quot;some-prefix&quot;)\n   public SomePrefix prefixBean() { \n      return new SomePrefix(); \n}\n</code></pre>\n<p>To load the properties and bind them to properties within the method or the class that match the prefix.\nps: <code>some-prefix</code> binds to <code>SomePrefix</code> because of spring's support for Relaxed binding.</p>\n<p>Before springboot 2.2, You could do either of the following:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;some-prefix&quot;)\npublic class ConfigProperties {\n//...some code\n}\n</code></pre>\n<p>or</p>\n<pre><code>@Configuration\n@EnableConfigurationProperties(SomeClassToBeBounded.class)\npublic class ConfigProperties {\n</code></pre>\n<p>along with</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;some-prefix&quot;)\npublic class SomeClassToBeBounded{\n//...some code\n}\n</code></pre>\n<p>From springboot 2.2</p>\n<p>You can do it in a much easier way:</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;some-prefix&quot;) \n@ConfigurationPropertiesScan \npublic class ConfigProperties { \n\n//...some code\n}\n</code></pre>\n<p>With this, the classpath scanner enabled by @SpringBootApplication finds the ConfigProperties class, even though we didn't annotate this class with @Component.</p>\n"}],"owner":{"account_id":9028457,"reputation":1139,"user_id":6727003,"accept_rate":50,"display_name":"J Person"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70164,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"accepted_answer_id":50231372,"answer_count":4,"score":68,"last_activity_date":1674939170,"creation_date":1523974410,"question_id":49880453,"body_markdown":"[The Spring Boot documentation][1] says that to use the `@ConfigurationProperties` annotation \r\n\r\n&gt; You also need to list the properties classes to register in the\r\n&gt; `@EnableConfigurationProperties` annotation, as shown in the following\r\n&gt; example:\r\n\r\nand gives this code:\r\n\r\n```lang-java\r\n@Configuration\r\n@EnableConfigurationProperties(AcmeProperties.class)\r\npublic class MyConfiguration {\r\n}\r\n```\r\n\r\nBut in the very next paragraph says:\r\n\r\n&gt; Even if the preceding configuration creates a regular bean for\r\n&gt; AcmeProperties, we recommend that `@ConfigurationProperties` only deal\r\n&gt; with the environment and, in particular, does not inject other beans\r\n&gt; from the context. Having said that, the `@EnableConfigurationProperties`\r\n&gt; annotation is also automatically applied to your project so that any\r\n&gt; *existing* bean annotated with `@ConfigurationProperties` is configured\r\n&gt; from the `Environment`.\r\n\r\nSuggesting that listing a `@ConfigurationProperties` bean under an `@EnableConfigurationProperties` annotation is not necessary.\r\n\r\nSo which is it? Experimentally, I&#39;ve seen that if I annotate a bean with `@ConfigurationProperties` it gets properties injected to it as expected without needing to list it in `@EnableConfigurationProperties`, but if this is the case then why list anything that has a `@ConfigurationProperties` annotation under `@EnableConfigurationProperties`, as is shown in the documentation? Does it make any kind of difference?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties","title":"What difference does @EnableConfigurationProperties make if a bean is already annotated with @ConfigurationProperties?","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties\" rel=\"noreferrer\">The Spring Boot documentation</a> says that to use the <code>@ConfigurationProperties</code> annotation</p>\n<blockquote>\n<p>You also need to list the properties classes to register in the\n<code>@EnableConfigurationProperties</code> annotation, as shown in the following\nexample:</p>\n</blockquote>\n<p>and gives this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableConfigurationProperties(AcmeProperties.class)\npublic class MyConfiguration {\n}\n</code></pre>\n<p>But in the very next paragraph says:</p>\n<blockquote>\n<p>Even if the preceding configuration creates a regular bean for\nAcmeProperties, we recommend that <code>@ConfigurationProperties</code> only deal\nwith the environment and, in particular, does not inject other beans\nfrom the context. Having said that, the <code>@EnableConfigurationProperties</code>\nannotation is also automatically applied to your project so that any\n<em>existing</em> bean annotated with <code>@ConfigurationProperties</code> is configured\nfrom the <code>Environment</code>.</p>\n</blockquote>\n<p>Suggesting that listing a <code>@ConfigurationProperties</code> bean under an <code>@EnableConfigurationProperties</code> annotation is not necessary.</p>\n<p>So which is it? Experimentally, I've seen that if I annotate a bean with <code>@ConfigurationProperties</code> it gets properties injected to it as expected without needing to list it in <code>@EnableConfigurationProperties</code>, but if this is the case then why list anything that has a <code>@ConfigurationProperties</code> annotation under <code>@EnableConfigurationProperties</code>, as is shown in the documentation? Does it make any kind of difference?</p>\n"},{"tags":["java","android","regex"],"answers":[{"tags":[],"owner":{"account_id":2636263,"reputation":5473,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674938636,"creation_date":1674938636,"answer_id":75270750,"question_id":75270749,"body_markdown":"Android supports named capture groups [only from API 26][1] onwards, which corresponds to Android 8. Once again, Android 7 is the last version which lacks this feature.\r\n\r\nWorkaround is to reference capture groups by number. Downside is that numbers can change as capture groups change. That can somewhat be alleviated by using unnamed capture groups if parentheses are just needed for grouping, but that particular group is not meant to be retrieved. Simply append `?:` to the opening parenthesis, i.e. `(?:expression)` instead of `(expression)`.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/util/regex/Pattern?hl=en","title":"Java Matcher.group(String) throws UnsupportedOperationException on older Android versions","body":"<p>Android supports named capture groups <a href=\"https://developer.android.com/reference/java/util/regex/Pattern?hl=en\" rel=\"nofollow noreferrer\">only from API 26</a> onwards, which corresponds to Android 8. Once again, Android 7 is the last version which lacks this feature.</p>\n<p>Workaround is to reference capture groups by number. Downside is that numbers can change as capture groups change. That can somewhat be alleviated by using unnamed capture groups if parentheses are just needed for grouping, but that particular group is not meant to be retrieved. Simply append <code>?:</code> to the opening parenthesis, i.e. <code>(?:expression)</code> instead of <code>(expression)</code>.</p>\n"}],"owner":{"account_id":2636263,"reputation":5473,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75270750,"answer_count":1,"score":1,"last_activity_date":1674938636,"creation_date":1674938636,"question_id":75270749,"body_markdown":"I have a Java library which calls `Matcher#group(String)`, i.e. retrieves a group from a matcher by its name.\r\n\r\nThis works in the test harness for that library, which runs on JRE 17. When I run the same code on Anbox (based on Android 7 and with an API equivalent to Java 7), I get an UnsupportedOperationException.\r\n\r\nThis exception is not mentioned in the documentation, which only has `IllegalStateException` (if the previous match failed or no match was attempted yet) or `IllegalArgumentException` (if no group by that name exists in the pattern).","title":"Java Matcher.group(String) throws UnsupportedOperationException on older Android versions","body":"<p>I have a Java library which calls <code>Matcher#group(String)</code>, i.e. retrieves a group from a matcher by its name.</p>\n<p>This works in the test harness for that library, which runs on JRE 17. When I run the same code on Anbox (based on Android 7 and with an API equivalent to Java 7), I get an UnsupportedOperationException.</p>\n<p>This exception is not mentioned in the documentation, which only has <code>IllegalStateException</code> (if the previous match failed or no match was attempted yet) or <code>IllegalArgumentException</code> (if no group by that name exists in the pattern).</p>\n"},{"tags":["java","java-ee-8","wsgen"],"answers":[{"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674917781,"creation_date":1674916659,"answer_id":75268418,"question_id":75268298,"body_markdown":"&gt;Why does JDK 17 not contain wsgen.exe in the bin directory while JDK 1.8 contains it?\r\n\r\nBecause JEP 320 has [removed](https://openjdk.org/jeps/320) 9 modules from Java 11, removing alongside tools such as `wsgen` and `wsimport` (from `jdk.xml.ws`).\r\n\r\n&gt;How can I build web applications without wsgen?\r\n\r\nDo you mean *how to build*? or how to generate/scaffold some code? for building, there are different tools, but for whatever you used `wsgen`, you could probably refer to maven plugins, some of which you can find [here](https://www.mojohaus.org/jaxws-maven-plugin/).\r\n\r\nYou may also find useful [this](https://stackoverflow.com/questions/51892528/migration-jaxws-application-from-java-8-to-java-11) thread.","title":"No wsgen in JDK 17","body":"<blockquote>\n<p>Why does JDK 17 not contain wsgen.exe in the bin directory while JDK 1.8 contains it?</p>\n</blockquote>\n<p>Because JEP 320 has <a href=\"https://openjdk.org/jeps/320\" rel=\"nofollow noreferrer\">removed</a> 9 modules from Java 11, removing alongside tools such as <code>wsgen</code> and <code>wsimport</code> (from <code>jdk.xml.ws</code>).</p>\n<blockquote>\n<p>How can I build web applications without wsgen?</p>\n</blockquote>\n<p>Do you mean <em>how to build</em>? or how to generate/scaffold some code? for building, there are different tools, but for whatever you used <code>wsgen</code>, you could probably refer to maven plugins, some of which you can find <a href=\"https://www.mojohaus.org/jaxws-maven-plugin/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You may also find useful <a href=\"https://stackoverflow.com/questions/51892528/migration-jaxws-application-from-java-8-to-java-11\">this</a> thread.</p>\n"},{"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674938509,"creation_date":1674938509,"answer_id":75270735,"question_id":75268298,"body_markdown":"For the latest version of `wsgen.bat` and `wsgen.sh` (not `wsgen.exe`), look in the Jakarta XML Web Services implementation release, which is part of Project Metro from Eclipse.\r\n\r\nSteps:\r\n\r\n1) Go to the Jakarta XML Web Services [home page](https://eclipse-ee4j.github.io/metro-jax-ws/) and click on the download link (or click [here](https://repo1.maven.org/maven2/com/sun/xml/ws/jaxws-ri/4.0.0/jaxws-ri-4.0.0.zip) for a direct download). The link is in the sentence containing the text &quot;... available for download...&quot;, if you can&#39;t spot it.\r\n\r\n2) Unzip the resulting `jaxws-ri-4.0.0.zip` file.\r\n\r\n3) Look in the `bin` directory where you will find `.bat` scripts for Windows and `.sh` for Linux.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n---\r\n\r\nIf you need a different version, see the Maven listing here: [com/sun/xml/ws/jaxws-ri](https://repo1.maven.org/maven2/com/sun/xml/ws/jaxws-ri/).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NF2oi.png","title":"No wsgen in JDK 17","body":"<p>For the latest version of <code>wsgen.bat</code> and <code>wsgen.sh</code> (not <code>wsgen.exe</code>), look in the Jakarta XML Web Services implementation release, which is part of Project Metro from Eclipse.</p>\n<p>Steps:</p>\n<ol>\n<li><p>Go to the Jakarta XML Web Services <a href=\"https://eclipse-ee4j.github.io/metro-jax-ws/\" rel=\"nofollow noreferrer\">home page</a> and click on the download link (or click <a href=\"https://repo1.maven.org/maven2/com/sun/xml/ws/jaxws-ri/4.0.0/jaxws-ri-4.0.0.zip\" rel=\"nofollow noreferrer\">here</a> for a direct download). The link is in the sentence containing the text &quot;... available for download...&quot;, if you can't spot it.</p>\n</li>\n<li><p>Unzip the resulting <code>jaxws-ri-4.0.0.zip</code> file.</p>\n</li>\n<li><p>Look in the <code>bin</code> directory where you will find <code>.bat</code> scripts for Windows and <code>.sh</code> for Linux.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/NF2oi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NF2oi.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>If you need a different version, see the Maven listing here: <a href=\"https://repo1.maven.org/maven2/com/sun/xml/ws/jaxws-ri/\" rel=\"nofollow noreferrer\">com/sun/xml/ws/jaxws-ri</a>.</p>\n"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75268418,"answer_count":2,"score":0,"last_activity_date":1674938509,"creation_date":1674915557,"question_id":75268298,"body_markdown":"I have JDK 17 and JDK 1.8 on my Windows PC. Why does JDK 17 not contain wsgen.exe in the bin directory while JDK 1.8 contains it? How can I build web applications without wsgen?","title":"No wsgen in JDK 17","body":"<p>I have JDK 17 and JDK 1.8 on my Windows PC. Why does JDK 17 not contain wsgen.exe in the bin directory while JDK 1.8 contains it? How can I build web applications without wsgen?</p>\n"},{"tags":["java","gradle","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1670804277,"post_id":74765004,"comment_id":131951930,"body_markdown":"See also [module naming conventions](https://jenkov.com/tutorials/java/modules.html#module-naming).","body":"See also <a href=\"https://jenkov.com/tutorials/java/modules.html#module-naming\" rel=\"nofollow noreferrer\">module naming conventions</a>."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1670923460,"post_id":74765004,"comment_id":131979641,"body_markdown":"unrelated to your question, but PDFBox is at 2.0.27 now.","body":"unrelated to your question, but PDFBox is at 2.0.27 now."}],"answers":[{"tags":[],"owner":{"account_id":15627546,"reputation":346,"user_id":11274773,"display_name":"Robert Kleinschmager"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674937792,"creation_date":1674937792,"answer_id":75270667,"question_id":74765004,"body_markdown":"I had the same problem, and I found out, that the folder build/jlinkbase/jlinkjars contained mentioned modules for both platform - mac (which I use to develop) and win.\r\n\r\nafter reading https://github.com/openjfx/javafx-gradle-plugin/issues/65 I just needed to identify the &quot;polluting&quot; library and applied the fix, which was mentioned:\r\n\r\n    implementation (....) { exclude group:org.openjfx }","title":"Gradle JavaFX Jlink : duplicate module on application module path","body":"<p>I had the same problem, and I found out, that the folder build/jlinkbase/jlinkjars contained mentioned modules for both platform - mac (which I use to develop) and win.</p>\n<p>after reading <a href=\"https://github.com/openjfx/javafx-gradle-plugin/issues/65\" rel=\"nofollow noreferrer\">https://github.com/openjfx/javafx-gradle-plugin/issues/65</a> I just needed to identify the &quot;polluting&quot; library and applied the fix, which was mentioned:</p>\n<pre><code>implementation (....) { exclude group:org.openjfx }\n</code></pre>\n"}],"owner":{"account_id":21765577,"reputation":35,"user_id":16069513,"display_name":"Vincent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75270667,"answer_count":1,"score":1,"last_activity_date":1674937792,"creation_date":1670797185,"question_id":74765004,"body_markdown":"I have a project working with gradle and everything build and run perfectly but I have issues packaging my application. I work on WSL and would like to have both linux and windows executables but to begin having one is okay I don&#39;t really care as long as it works and I can understand how to replicate it on the other OS. \r\n\r\nSo far, I have read a lot of things on the internet and tried to use [this plugin][1] in order to package my application. But when I use ```gradle jlink```, I am warned about a duplicate module issue as you can see below. I have tried many things but cannot find anythign which works or a similar problem on the web. Would you have any clue on what I may be overlooking because of my inexperience?\r\n\r\nThank you in advance !\r\n\r\n```\r\nStarting a Gradle Daemon, 31 busy and 1 incompatible and 12 stopped Daemons could not be reused, use --status for details\r\n\r\n&gt; Configure project :\r\nProject : =&gt; &#39;CharacterCreator&#39; Java module\r\n\r\n&gt; Task :createMergedModule\r\nerror: duplicate module on application module path\r\n  module in javafx.base\r\nerror: duplicate module on application module path\r\n  module in javafx.controls\r\n2 errors\r\n\r\n&gt; Task :createMergedModule FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:createMergedModule&#39;.\r\n&gt; Process &#39;command &#39;/opt/graalvm-svm-java11-linux-gluon-22.1.0.1-Final/bin/javac&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 42m 15s\r\n5 actionable tasks: 3 executed, 2 up-to-date\r\n```\r\n\r\nHere is my gradle.build file :\r\n\r\n```\r\n\r\nplugins {\r\n  id &#39;java&#39;\r\n  id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n  id &#39;org.beryx.jlink&#39; version &#39;2.16.2&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    mavenLocal()\r\n}\r\n\r\njavafx {\r\n    version = &quot;19&quot;\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39; ]\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.aerofx:aerofx:0.2&quot;\r\n    implementation &quot;pdfbox:pdfbox:0.7.3&quot;\r\n    implementation &quot;org.javatuples:javatuples:1.2&quot;\r\n    implementation &quot;org.controlsfx:controlsfx:11.0.3&quot;\r\n    implementation &quot;org.mariadb.jdbc:mariadb-java-client:2.1.2&quot;\r\n    implementation &quot;io.gitlab.vincent-lambert:miscellaneousWidgets:1.7&quot;\r\n    implementation &quot;org.apache.httpcomponents:httpclient:4.5.13&quot;\r\n    implementation &quot;org.apache.httpcomponents:httpmime:4.3.1&quot;\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;CharacterCreator&#39;\r\n    mainClass = &#39;CharacterCreator.Menu.App&#39;\r\n}\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.compilerArgs &lt;&lt; &#39;-Xlint:unchecked&#39;\r\n    options.deprecation = true\r\n}\r\n\r\njlink {\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    launcher{\r\n        name = &#39;hello&#39;\r\n        jvmArgs = [&#39;-Dlog4j.configurationFile=./log4j2.xml&#39;]\r\n    }\r\n}\r\n```\r\n\r\nAnd my module-info file :\r\n\r\n```\r\nmodule CharacterCreator {\r\n    requires aerofx;\r\n    requires javafx.fxml;\r\n    requires pdfbox;\r\n    requires javatuples;\r\n    requires java.sql;\r\n    requires javafx.base;\r\n    requires javafx.graphics;\r\n    requires javafx.controls;\r\n    requires org.controlsfx.controls;\r\n    requires mariadb.java.client;\r\n    requires miscellaneousWidgets;\r\n    requires java.desktop;\r\n    requires java.net.http;\r\n    requires httpmime;\r\n    \r\n    opens CharacterCreator.Creator to javafx.fxml;\r\n    exports CharacterCreator.Creator;\r\n    opens CharacterCreator.Edits to javafx.fxml;\r\n    exports CharacterCreator.Edits;\r\n    opens CharacterCreator.Menu to javafx.fxml;\r\n    exports CharacterCreator.Menu;\r\n    opens CharacterCreator.Misc to javafx.fxml;\r\n    exports CharacterCreator.Misc;\r\n    opens CharacterCreator.Races to javafx.fxml;\r\n    exports CharacterCreator.Races;\r\n    opens CharacterCreator.Relations to javafx.fxml;\r\n    exports CharacterCreator.Relations;\r\n    opens CharacterCreator.Visus to javafx.fxml;\r\n    exports CharacterCreator.Visus;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/beryx/badass-jlink-plugin","title":"Gradle JavaFX Jlink : duplicate module on application module path","body":"<p>I have a project working with gradle and everything build and run perfectly but I have issues packaging my application. I work on WSL and would like to have both linux and windows executables but to begin having one is okay I don't really care as long as it works and I can understand how to replicate it on the other OS.</p>\n<p>So far, I have read a lot of things on the internet and tried to use <a href=\"https://github.com/beryx/badass-jlink-plugin\" rel=\"nofollow noreferrer\">this plugin</a> in order to package my application. But when I use <code>gradle jlink</code>, I am warned about a duplicate module issue as you can see below. I have tried many things but cannot find anythign which works or a similar problem on the web. Would you have any clue on what I may be overlooking because of my inexperience?</p>\n<p>Thank you in advance !</p>\n<pre><code>Starting a Gradle Daemon, 31 busy and 1 incompatible and 12 stopped Daemons could not be reused, use --status for details\n\n&gt; Configure project :\nProject : =&gt; 'CharacterCreator' Java module\n\n&gt; Task :createMergedModule\nerror: duplicate module on application module path\n  module in javafx.base\nerror: duplicate module on application module path\n  module in javafx.controls\n2 errors\n\n&gt; Task :createMergedModule FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':createMergedModule'.\n&gt; Process 'command '/opt/graalvm-svm-java11-linux-gluon-22.1.0.1-Final/bin/javac'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 42m 15s\n5 actionable tasks: 3 executed, 2 up-to-date\n</code></pre>\n<p>Here is my gradle.build file :</p>\n<pre><code>\nplugins {\n  id 'java'\n  id 'org.openjfx.javafxplugin' version '0.0.13'\n  id 'org.beryx.jlink' version '2.16.2'\n}\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n}\n\njavafx {\n    version = &quot;19&quot;\n    modules = [ 'javafx.controls', 'javafx.fxml' ]\n}\n\ndependencies {\n    implementation &quot;org.aerofx:aerofx:0.2&quot;\n    implementation &quot;pdfbox:pdfbox:0.7.3&quot;\n    implementation &quot;org.javatuples:javatuples:1.2&quot;\n    implementation &quot;org.controlsfx:controlsfx:11.0.3&quot;\n    implementation &quot;org.mariadb.jdbc:mariadb-java-client:2.1.2&quot;\n    implementation &quot;io.gitlab.vincent-lambert:miscellaneousWidgets:1.7&quot;\n    implementation &quot;org.apache.httpcomponents:httpclient:4.5.13&quot;\n    implementation &quot;org.apache.httpcomponents:httpmime:4.3.1&quot;\n}\n\napplication {\n    mainModule = 'CharacterCreator'\n    mainClass = 'CharacterCreator.Menu.App'\n}\n\ntasks.withType(JavaCompile) {\n    options.compilerArgs &lt;&lt; '-Xlint:unchecked'\n    options.deprecation = true\n}\n\njlink {\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher{\n        name = 'hello'\n        jvmArgs = ['-Dlog4j.configurationFile=./log4j2.xml']\n    }\n}\n</code></pre>\n<p>And my module-info file :</p>\n<pre><code>module CharacterCreator {\n    requires aerofx;\n    requires javafx.fxml;\n    requires pdfbox;\n    requires javatuples;\n    requires java.sql;\n    requires javafx.base;\n    requires javafx.graphics;\n    requires javafx.controls;\n    requires org.controlsfx.controls;\n    requires mariadb.java.client;\n    requires miscellaneousWidgets;\n    requires java.desktop;\n    requires java.net.http;\n    requires httpmime;\n    \n    opens CharacterCreator.Creator to javafx.fxml;\n    exports CharacterCreator.Creator;\n    opens CharacterCreator.Edits to javafx.fxml;\n    exports CharacterCreator.Edits;\n    opens CharacterCreator.Menu to javafx.fxml;\n    exports CharacterCreator.Menu;\n    opens CharacterCreator.Misc to javafx.fxml;\n    exports CharacterCreator.Misc;\n    opens CharacterCreator.Races to javafx.fxml;\n    exports CharacterCreator.Races;\n    opens CharacterCreator.Relations to javafx.fxml;\n    exports CharacterCreator.Relations;\n    opens CharacterCreator.Visus to javafx.fxml;\n    exports CharacterCreator.Visus;\n}\n</code></pre>\n"},{"tags":["java","authentication","encryption","ssl-certificate"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1674841736,"post_id":75261473,"comment_id":132806605,"body_markdown":"This question appears fairly similar to another question you asked a short time ago: [Java SSL client one way authentication configuration](https://stackoverflow.com/q/75258469/12567365). If they are 2 distinct and separate questions, can you add a note to this question (with a link to the other question) clarifying the difference?","body":"This question appears fairly similar to another question you asked a short time ago: <a href=\"https://stackoverflow.com/q/75258469/12567365\">Java SSL client one way authentication configuration</a>. If they are 2 distinct and separate questions, can you add a note to this question (with a link to the other question) clarifying the difference?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1674841899,"post_id":75261473,"comment_id":132806642,"body_markdown":"What&#39;s the server log like? It seems to be the part that is timing out, assuming that we get all the log output from the Java (I presume that ALL includes TRACE). It tells that the server is ending the session, so that&#39;s a big hint to to look at the other entity/service. Which ciphersuites did you enable on both machines? I see some mention of `SSL_NULL_WITH_NULL_NULL` in the exception log, which I don&#39;t trust.","body":"What&#39;s the server log like? It seems to be the part that is timing out, assuming that we get all the log output from the Java (I presume that ALL includes TRACE). It tells that the server is ending the session, so that&#39;s a big hint to to look at the other entity/service. Which ciphersuites did you enable on both machines? I see some mention of <code>SSL_NULL_WITH_NULL_NULL</code> in the exception log, which I don&#39;t trust."},{"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"score":0,"creation_date":1674848131,"post_id":75261473,"comment_id":132808352,"body_markdown":"server logs are not eeally helpful, even in verbose mode, it only tells me that tls handshake failed.","body":"server logs are not eeally helpful, even in verbose mode, it only tells me that tls handshake failed."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1674873372,"post_id":75261473,"comment_id":132812657,"body_markdown":"In the client **you&#39;ve called `setUseClientMode(false)`**. This tells the client to act as a server and wait for the other party to start the handshake -- but the party you&#39;re connected to is not a client and never does that. PS: Java 8u291 up and 11.0.11 up won&#39;t do TLSv1(.0) or TLSv1.1 even though you enable them. @MaartenBodewes: that&#39;s a dummy suite used as a placeholder until the handshake selects a real suite, which in this case didn&#39;t happen.","body":"In the client <b>you&#39;ve called <code>setUseClientMode(false)</code></b>. This tells the client to act as a server and wait for the other party to start the handshake -- but the party you&#39;re connected to is not a client and never does that. PS: Java 8u291 up and 11.0.11 up won&#39;t do TLSv1(.0) or TLSv1.1 even though you enable them. @MaartenBodewes: that&#39;s a dummy suite used as a placeholder until the handshake selects a real suite, which in this case didn&#39;t happen."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1674875966,"post_id":75261473,"comment_id":132812869,"body_markdown":"@dave_thompson_085 Ah, right. I guess you&#39;ve found the problem.","body":"@dave_thompson_085 Ah, right. I guess you&#39;ve found the problem."},{"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"score":0,"creation_date":1674898888,"post_id":75261473,"comment_id":132815219,"body_markdown":"@dave_thompson_085 Now the client fails with &quot;javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_required&quot;.","body":"@dave_thompson_085 Now the client fails with &quot;javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_required&quot;."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1674902164,"post_id":75261473,"comment_id":132815670,"body_markdown":"So (now) you did a handshake but didn&#39;t send the client cert. Since you have logging set up, look at it: did you send cert or not? If you did, check _server_ to see why it thinks you didn&#39;t, or doesn&#39;t accept it. If you didn&#39;t, why not? Did server request client cert? Correctly? Does log show loaded keystore contains correct cert and key?","body":"So (now) you did a handshake but didn&#39;t send the client cert. Since you have logging set up, look at it: did you send cert or not? If you did, check <i>server</i> to see why it thinks you didn&#39;t, or doesn&#39;t accept it. If you didn&#39;t, why not? Did server request client cert? Correctly? Does log show loaded keystore contains correct cert and key?"},{"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"score":0,"creation_date":1674902742,"post_id":75261473,"comment_id":132815741,"body_markdown":"Yes, I was not sending the client certificate from the server. I did. Now client consumes client certificate request but fails with broken pipe: https://pastebin.com/ibWjsMkm","body":"Yes, I was not sending the client certificate from the server. I did. Now client consumes client certificate request but fails with broken pipe: <a href=\"https://pastebin.com/ibWjsMkm\" rel=\"nofollow noreferrer\">pastebin.com/ibWjsMkm</a>"},{"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"score":0,"creation_date":1674903022,"post_id":75261473,"comment_id":132815784,"body_markdown":"However, it fails with broken pipe only if I have setEnabledProtocols(new String[]{&quot;TLSv1.2&quot;}).  If I keep setEnabledProtocols(new String[]{&quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;}) it still fails with &quot;javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_required&quot;.","body":"However, it fails with broken pipe only if I have setEnabledProtocols(new String[]{&quot;TLSv1.2&quot;}).  If I keep setEnabledProtocols(new String[]{&quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;}) it still fails with &quot;javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_required&quot;."},{"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"score":0,"creation_date":1674903993,"post_id":75261473,"comment_id":132815947,"body_markdown":"Ok I fixed it, I misconfigured some ucspi-ssl server environment variables. This worked for me: CAFILE=client-certificate.pem, CCAFILE=client-certificate.pem, CERT=server-certificate.pem, KEY=server-key.pem, DHPARAM=/etc/ssl/dh2048.pem. Thank you for your patience.","body":"Ok I fixed it, I misconfigured some ucspi-ssl server environment variables. This worked for me: CAFILE=client-certificate.pem, CCAFILE=client-certificate.pem, CERT=server-certificate.pem, KEY=server-key.pem, DHPARAM=/etc/ssl/dh2048.pem. Thank you for your patience."}],"answers":[{"tags":[],"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674937403,"creation_date":1674937403,"answer_id":75270616,"question_id":75261473,"body_markdown":"Here is the formatted and cleaned up Java client code, and ucspi-ssl server environment variables needed to make the ssl communication between the two parties work. \r\n\r\nJAVA CLIENT CODE:\r\n```\r\n        try {\r\n    \r\n            System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n    \r\n            String keystore_path = &quot;&lt;keystore_path&gt;&quot;;\r\n            String keystore_password = &quot;&lt;keystore_password&gt;&quot;;\r\n    \r\n            String truststore_path = &quot;&lt;truststore_path&gt;&quot;;\r\n            String truststore_password = &quot;&lt;truststore_password&gt;&quot;;\r\n    \r\n            //Keystore\r\n            KeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            keystore.load(new FileInputStream(keystore_path), keystore_password.toCharArray());\r\n            KeyManagerFactory key_manager_factory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n            key_manager_factory.init(keystore, keystore_password.toCharArray());\r\n    \r\n            //Truststore\r\n            KeyStore truststore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            truststore.load(new FileInputStream(truststore_path), truststore_password.toCharArray());\r\n            TrustManagerFactory trust_manager_factory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            trust_manager_factory.init(truststore);\r\n    \r\n            //SSL Context\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(key_manager_factory.getKeyManagers(), trust_manager_factory.getTrustManagers(), null);\r\n    \r\n            //SSL Socket\r\n            SSLSocketFactory socketFactory = sslContext.getSocketFactory();\r\n            SSLSocket ssl_socket = (SSLSocket) socketFactory.createSocket(&quot;server_ip&quot;, 12345);\r\n            ssl_socket.setUseClientMode(true);\r\n            ssl_socket.setEnabledProtocols(new String[]{&quot;TLSv1.3&quot;});\r\n            ssl_socket.setEnabledCipherSuites(new String[]{&quot;TLS_CHACHA20_POLY1305_SHA256&quot;, &quot;TLS_AES_128_GCM_SHA256&quot;, &quot;TLS_AES_256_GCM_SHA384&quot;}); //Cyphers supported by both client and ucspi-ssl server\r\n    \r\n    \r\n            //In and out streams\r\n            PrintWriter out = new PrintWriter(ssl_socket.getOutputStream(), true);\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(ssl_socket.getInputStream()));\r\n    \r\n    //You can now interact with the server using input and output streams\r\n    \r\n    \r\n        } catch (IOException | KeyManagementException | KeyStoreException | UnrecoverableKeyException |\r\n                 CertificateException | NoSuchAlgorithmException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n```\r\n\r\nSERVER ENVIRONMENT VARIABLES:\r\n\r\n - KEYFILE=server-key.pem \r\n - CERTFILE=server-certificate.pem\r\n - CAFILE=client-certificate.pem\r\n - CCAFILE=client-certificate.pem\r\n - DHFILE=/etc/ssl/dh2048.pem\r\n\r\nServer is started by launching:\r\n```\r\nsslserver -v -m localhost 12345 ./some_script.sh \r\n```\r\n\r\n\r\n","title":"SSL client-server encryption and authentication","body":"<p>Here is the formatted and cleaned up Java client code, and ucspi-ssl server environment variables needed to make the ssl communication between the two parties work.</p>\n<p>JAVA CLIENT CODE:</p>\n<pre><code>        try {\n    \n            System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\n    \n            String keystore_path = &quot;&lt;keystore_path&gt;&quot;;\n            String keystore_password = &quot;&lt;keystore_password&gt;&quot;;\n    \n            String truststore_path = &quot;&lt;truststore_path&gt;&quot;;\n            String truststore_password = &quot;&lt;truststore_password&gt;&quot;;\n    \n            //Keystore\n            KeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            keystore.load(new FileInputStream(keystore_path), keystore_password.toCharArray());\n            KeyManagerFactory key_manager_factory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n            key_manager_factory.init(keystore, keystore_password.toCharArray());\n    \n            //Truststore\n            KeyStore truststore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            truststore.load(new FileInputStream(truststore_path), truststore_password.toCharArray());\n            TrustManagerFactory trust_manager_factory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n            trust_manager_factory.init(truststore);\n    \n            //SSL Context\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n            sslContext.init(key_manager_factory.getKeyManagers(), trust_manager_factory.getTrustManagers(), null);\n    \n            //SSL Socket\n            SSLSocketFactory socketFactory = sslContext.getSocketFactory();\n            SSLSocket ssl_socket = (SSLSocket) socketFactory.createSocket(&quot;server_ip&quot;, 12345);\n            ssl_socket.setUseClientMode(true);\n            ssl_socket.setEnabledProtocols(new String[]{&quot;TLSv1.3&quot;});\n            ssl_socket.setEnabledCipherSuites(new String[]{&quot;TLS_CHACHA20_POLY1305_SHA256&quot;, &quot;TLS_AES_128_GCM_SHA256&quot;, &quot;TLS_AES_256_GCM_SHA384&quot;}); //Cyphers supported by both client and ucspi-ssl server\n    \n    \n            //In and out streams\n            PrintWriter out = new PrintWriter(ssl_socket.getOutputStream(), true);\n            BufferedReader in = new BufferedReader(new InputStreamReader(ssl_socket.getInputStream()));\n    \n    //You can now interact with the server using input and output streams\n    \n    \n        } catch (IOException | KeyManagementException | KeyStoreException | UnrecoverableKeyException |\n                 CertificateException | NoSuchAlgorithmException e) {\n            throw new RuntimeException(e);\n        }\n\n</code></pre>\n<p>SERVER ENVIRONMENT VARIABLES:</p>\n<ul>\n<li>KEYFILE=server-key.pem</li>\n<li>CERTFILE=server-certificate.pem</li>\n<li>CAFILE=client-certificate.pem</li>\n<li>CCAFILE=client-certificate.pem</li>\n<li>DHFILE=/etc/ssl/dh2048.pem</li>\n</ul>\n<p>Server is started by launching:</p>\n<pre><code>sslserver -v -m localhost 12345 ./some_script.sh \n</code></pre>\n"}],"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75270616,"answer_count":1,"score":1,"last_activity_date":1674937403,"creation_date":1674840687,"question_id":75261473,"body_markdown":"I need to have one client and one server to communicate with each other on a secure channel. The client is a Java app, the server is a ucspi-ssl server, here for more details: https://www.fehcom.de/ipnet/ucspi-ssl/man/sslserver.1.html.\r\nI want communication to be simple, without using http.\r\n\r\nWhat I am trying to achieve:\r\n\r\n 1. Communication has to be encrypted;\r\n 2. Server has to authenticate the client.\r\n\r\nHere is what I have done so far:\r\n\r\n 1. Created client private key and client self signed certificate:\r\n```\r\nopenssl req -newkey rsa:2048 -nodes -keyout client-key.pem -x509 -days 365 -out client-certificate.pem\r\n```\r\n\r\n2. Inserted both private key and certificate into client keystore:\r\n``` \r\nopenssl pkcs12 -inkey client-key.pem -in client-certificate.pem -export -out client-certificate.p12\r\n``` \r\n\r\n3. Created server private key and server self signed certificate:\r\n``` \r\nopenssl req -newkey rsa:2048 -nodes -keyout server-key.pem -x509 -days 365 -out server-certificate.pem\r\n``` \r\n\r\n4. Added server certificate to client truststore:\r\n``` \r\nkeytool -import -trustcacerts -file server-certificate.pem -keypass password -storepass password -keystore clienttruststore.jks\r\n``` \r\n5. Created DH param file:\r\n``` \r\nopenssl dhparam -out /etc/ssl/dh2048.pem 2048\r\n``` \r\n\r\nAt this point, If I were using a Java SSL server I would specify the server keystore containing the server certificate and private keyand the server truststore filled with the client certificate it needs to validate. But in ucspi-ssl server implementation there is no concept of keystore or truststore. For what my understanding is, given environment variables need to be set:\r\n\r\n       \r\n\r\n&gt; X509 certificate and encryption options:\r\n&gt; \r\n&gt;        -3     Read a null-terminated key password from file descriptor 3.\r\n&gt; \r\n&gt;        -m     (Mail.) Require valid client certificates, but don&#39;t check for\r\n&gt;               matching FQDN.\r\n&gt; \r\n&gt;        -z     (Host.) Require valid client certificates and match FQDN (if\r\n&gt;               given) against SAN/DN.\r\n&gt; \r\n&gt;        -Z     (Default.) Do not require client certificates.\r\n&gt; \r\n&gt; \r\n&gt;  SSL ENVIRONMENT VARIABLES READ\r\n&gt; \r\n&gt;        These variables define the run-time environment of sslserver and are\r\n&gt;        used to specify X509 certificates and keyfile per connection.\r\n&gt; \r\n&gt;        $SSL_USER=name\r\n&gt;               The user, reading the certificates and keyfile.\r\n&gt; \r\n&gt;        $SSL_GROUP=group\r\n&gt;               The respective user group.\r\n&gt; \r\n&gt;        $SSL_UID=uid\r\n&gt;               The numerical UID of the $SSL_USER.\r\n&gt; \r\n&gt;        $SSL_CHROOT=path\r\n&gt;               Perform reading of certificates and keyfile in a $SSL_CHROOT\r\n&gt;               jail.\r\n&gt; \r\n&gt;        $CAFILE=path\r\n&gt;               If set, overrides the compiled-in CA file name.  The CA file\r\n&gt;               contains the list of CAs used to verify the client certificate.\r\n&gt;               Certificates in $CAFILE are processed when the server starts.\r\n&gt; \r\n&gt;        $CADIR=path\r\n&gt;               If set, overrides the compiled-in CA directory name.  The CA\r\n&gt;               directory contains certificates files used to verify the client\r\n&gt;               certificate.  This list augments the list from $CAFILE.\r\n&gt;               Certificates in $CADIR are processed during certificate\r\n&gt;               verification.\r\n&gt; \r\n&gt;        $CERTFILE=path\r\n&gt;               If set, overrides the compiled-in certificate file name.  The\r\n&gt;               server presents this certificate to clients.\r\n&gt; \r\n&gt;        $CERTCHAINFILE=path\r\n&gt;               If set, overrides the compiled-in certificate chainfile name.\r\n&gt;               The server presents this list of certificats to clients.  Note:\r\n&gt;               Providing $CERTCHAINFILE has precedence over $CERTFILE.\r\n&gt;               Certificates in this file needs to be &#39;ordered&#39; starting from\r\n&gt;               the uppermost root certificates and placing your host&#39;s\r\n&gt;               it&#39;s certificate.\r\n&gt; \r\n&gt;        $VERIFYDEPTH=n\r\n&gt;               If set, overrides the compiled-in verification depth. Default:\r\n&gt;               1.\r\n&gt; \r\n&gt;        $CCAFILE=path\r\n&gt;               If set, overrides the compiled-in client CA file name for client\r\n&gt;               certificate request.  The client CA file contains the list of\r\n&gt;               CAs sent to the client when requesting a client certificate.\r\n&gt;               Note: Setting of $CCAFILE is required while using the option -z\r\n&gt;               or -m.  However, declaring $CCAFILE=&quot;-&quot; disables (on a per-\r\n&gt;               connection base) the client certificate request.\r\n&gt; \r\n&gt;        $CCAVERIFY\r\n&gt;               If set, sslserver requests a valid client certificate on a per-\r\n&gt;               connection base, unlike the general option -z.\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;  SSL ENVIRONMENT VARIABLES SET\r\n&gt; \r\n&gt;        In case sslserver is called with the option -e, the following mod_ssl\r\n&gt;        environment variables are provided:\r\n&gt; \r\n&gt;        SSL_PROTOCOL\r\n&gt;               The TLS protocol version (SSLv3, TLSv1, ...).\r\n&gt; \r\n&gt;        SSL_SESSION_ID\r\n&gt;               The hex-encoded SSL session id.\r\n&gt; \r\n&gt;        SSL_CIPHER\r\n&gt;               The cipher specification name.\r\n&gt; \r\n&gt;        SSL_CIPHER_USEKEYSIZE\r\n&gt;               Number of cipher bits (actually used).\r\n&gt; \r\n&gt;        SSL_CIPHER_ALGKEYSIZE\r\n&gt;               Number of cipher bits (possible).\r\n&gt; \r\n&gt;        SSL_VERSION_INTERFACE\r\n&gt;               The mod_ssl program version.\r\n&gt; \r\n&gt;        SSL_VERSION_LIBRARY\r\n&gt;               The OpenSSL program version.\r\n&gt; \r\n&gt;        SSL_CLIENT_M_VERSION\r\n&gt;               The version of the client certificate.\r\n&gt; \r\n&gt;        SSL_CLIENT_M_SERIAL\r\n&gt;               The serial of the client certificate.\r\n&gt; \r\n&gt;        SSL_CLIENT_S_DN\r\n&gt;               Subject DN in client&#39;s certificate.\r\n&gt; \r\n&gt; \r\n&gt;        SSL_CLIENT_A_SIG\r\n&gt;               Algorithm used for the signature of client&#39;s certificate.\r\n&gt; \r\n&gt;        SSL_CLIENT_A_KEY\r\n&gt;               Algorithm used for the public key of client&#39;s certificate.\r\n&gt; \r\n&gt;        SSL_CLIENT_CERT\r\n&gt;               PEM-encoded client certificate.\r\n&gt; \r\n&gt;        SSL_CLIENT_CERT_CHAIN n\r\n&gt;               PEM-encoded certificates in client certificate chain.\r\n&gt; \r\n&gt;        SSL_CLIENT_VERIFY\r\n&gt;               NONE, SUCCESS, GENEROUS or FAILED:reason.\r\n&gt; \r\n&gt;        SSL_SERVER_M_SERIAL\r\n&gt;               The serial of the server certificate.\r\n&gt; \r\n&gt;        SSL_SERVER_S_DN\r\n&gt;               Subject DN in server&#39;s certificate.\r\n&gt; \r\n&gt;        SSL_SERVER_S_DN_x509\r\n&gt;               Component of server&#39;s Subject DN.\r\n&gt; \r\n&gt;        SSL_SERVER_I_DN\r\n&gt;               Issuer DN of server&#39;s certificate.\r\n&gt; \r\n&gt;        SSL_SERVER_I_DN_x509\r\n&gt;               Component of server&#39;s Issuer DN.\r\n&gt; \r\n&gt;        SSL_SERVER_V_START\r\n&gt;               Validity of server&#39;s certificate (start time).\r\n&gt; \r\n&gt;        SSL_SERVER_V_END\r\n&gt;               Validity of server&#39;s certificate (end time).\r\n&gt; \r\n&gt;        SSL_SERVER_A_SIG\r\n&gt;               Algorithm used for the signature of server&#39;s certificate.\r\n&gt; \r\n&gt;        SSL_SERVER_A_KEY\r\n&gt;               Algorithm used for the public key of server&#39;s certificate.\r\n&gt; \r\n&gt;        SSL_SERVER_CERT\r\n&gt;               PEM-encoded server certificate.\r\n\r\n**How can I inform ucspi-ssl server that the client certificate can be trusted and perform client authentication?**\r\n\r\nI have tried to run the server with the following command: \r\n\r\n ``` \r\nsslserver -v -m  localhost 12345 ./some_script.sh\r\n\r\n ``` \r\nwith the following environment variables set:\r\n``` \r\nDHFILE=/etc/ssl/dh2048.pem\r\nCERTFILE=server-certificate.pem\r\nKEYFILE=server-key.pem\r\n``` \r\nHere is the java SSL client code:\r\n ``` \r\ntry {\r\n            // Client key store\r\n            System.setProperty(&quot;https.protocols&quot;, &quot;SSLv3&quot;);\r\n            System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            String password = &quot;password&quot;;\r\n            InputStream inputStream = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;/home/centuri0n/reservations/ssl/client-certificate.p12&quot;);\r\n            keyStore.load(inputStream, password.toCharArray());\r\n\r\n            // Client trust store\r\n            KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n            String password2 = &quot;password&quot;;\r\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;PKIX&quot;, &quot;SunJSSE&quot;);\r\n            InputStream inputStream1 = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;/home/centuri0n/reservations/ssl/clienttruststore.jks&quot;);\r\n            trustStore.load(inputStream1, password2.toCharArray());\r\n            trustManagerFactory.init(trustStore);\r\n            X509TrustManager x509TrustManager = null;\r\n            for (TrustManager trustManager : trustManagerFactory.getTrustManagers()) {\r\n                if (trustManager instanceof X509TrustManager) {\r\n                    x509TrustManager = (X509TrustManager) trustManager;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (x509TrustManager == null) throw new NullPointerException();\r\n\r\n            // KeyManagerFactory ()\r\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;, &quot;SunJSSE&quot;);\r\n            keyManagerFactory.init(keyStore, password.toCharArray());\r\n            X509KeyManager x509KeyManager = null;\r\n            for (KeyManager keyManager : keyManagerFactory.getKeyManagers()) {\r\n                if (keyManager instanceof X509KeyManager) {\r\n                    x509KeyManager = (X509KeyManager) keyManager;\r\n                    break;\r\n                }\r\n            }\r\n            if (x509KeyManager == null) throw new NullPointerException();\r\n\r\n            // set up the SSL Context\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslContext.init(new KeyManager[]{x509KeyManager}, new TrustManager[]{x509TrustManager}, null);\r\n\r\n            SSLSocketFactory socketFactory = sslContext.getSocketFactory();\r\n            SSLSocket kkSocket = (SSLSocket) socketFactory.createSocket(&quot;127.0.0.1&quot;, 12345);\r\n            kkSocket.setUseClientMode(false);\r\n            kkSocket.setEnabledProtocols(new String[]{&quot;TLSv1&quot;,&quot;TLSv1.1&quot;,&quot;TLSv1.2&quot;,&quot;TLSv1.3&quot;});\r\n            kkSocket.setEnabledCipherSuites(new String[]{&quot;TLS_AES_256_GCM_SHA384&quot;, &quot;TLS_AES_128_GCM_SHA256&quot;, &quot;TLS_CHACHA20_POLY1305_SHA256&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_DHE_RSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256&quot;, &quot;TLS_DHE_DSS_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_DHE_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_DHE_DSS_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_DHE_RSA_WITH_AES_256_CBC_SHA256&quot;, &quot;TLS_DHE_DSS_WITH_AES_256_CBC_SHA256&quot;, &quot;TLS_DHE_RSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_DHE_DSS_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384&quot;, &quot;TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384&quot;, &quot;TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_DHE_RSA_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_DHE_DSS_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_DHE_RSA_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_DHE_DSS_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_ECDH_RSA_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_ECDH_RSA_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_RSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;, &quot;TLS_RSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_RSA_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_RSA_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_EMPTY_RENEGOTIATION_INFO_SCSV&quot;\r\n            });\r\n\r\n            PrintWriter out = new PrintWriter(kkSocket.getOutputStream(), true);\r\n            BufferedReader in = new BufferedReader(\r\n                    new InputStreamReader(kkSocket.getInputStream()));\r\n\r\n            BufferedReader stdIn =\r\n                    new BufferedReader(new InputStreamReader(System.in));\r\n            String fromServer;\r\n            String fromUser;\r\n\r\n            while ((fromServer = in.readLine()) != null) {\r\n                System.out.println(&quot;Server: &quot; + fromServer);\r\n                if (fromServer.equals(&quot;Bye.&quot;))\r\n                    break;\r\n\r\n                fromUser = stdIn.readLine();\r\n                if (fromUser != null) {\r\n                    System.out.println(&quot;Client: &quot; + fromUser);\r\n                    out.println(fromUser);\r\n                }\r\n            }\r\n        }catch (IOException e){\r\n            e.printStackTrace();\r\n        } catch (UnrecoverableKeyException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (CertificateException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (KeyStoreException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (NoSuchProviderException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (KeyManagementException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n ```\r\nWhen I start the client, it blocks for about 10 seconds with the following debug messages:\r\n```\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DH_anon_WITH_DES_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DH_anon_WITH_DES_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_EXPORT_WITH_DES40_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_EXPORT_WITH_DES40_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DH_anon_EXPORT_WITH_DES40_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DH_anon_EXPORT_WITH_DES40_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_EXPORT_WITH_RC4_40_MD5\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_EXPORT_WITH_RC4_40_MD5\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DH_anon_EXPORT_WITH_RC4_40_MD5\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DH_anon_EXPORT_WITH_RC4_40_MD5\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_RSA_WITH_NULL_SHA256\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_RSA_WITH_NULL_SHA256\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_ECDSA_WITH_NULL_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_NULL_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_RSA_WITH_NULL_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_NULL_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_WITH_NULL_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_WITH_NULL_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_ECDSA_WITH_NULL_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_NULL_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_RSA_WITH_NULL_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_NULL_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_anon_WITH_NULL_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_anon_WITH_NULL_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.611 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_WITH_NULL_MD5\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.611 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_WITH_NULL_MD5\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.612 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.612 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.612 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.612 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.616 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.616 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.616 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.616 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.616 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.616 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.617 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.617 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.617 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.617 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.619 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.619 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.619 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_WITH_3DES_EDE_CBC_SHA\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.621 CET|SSLContextImpl.java:115|trigger seeding of SecureRandom\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.622 CET|SSLContextImpl.java:119|done seeding of SecureRandom\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.627 CET|SSLConfiguration.java:458|System property jdk.tls.client.SignatureSchemes is set to &#39;null&#39;\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.641 CET|SSLConfiguration.java:458|System property jdk.tls.server.SignatureSchemes is set to &#39;null&#39;\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.642 CET|HandshakeContext.java:298|Ignore unsupported cipher suite: TLS_AES_256_GCM_SHA384 for TLSv1.2\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.642 CET|HandshakeContext.java:298|Ignore unsupported cipher suite: TLS_AES_128_GCM_SHA256 for TLSv1.2\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.642 CET|HandshakeContext.java:298|Ignore unsupported cipher suite: TLS_CHACHA20_POLY1305_SHA256 for TLSv1.2\r\n``` \r\nthen, client timeouts and exits:\r\n``` \r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:21:07.685 CET|SSLSocketInputRecord.java:481|Raw read: EOF\r\njavax.net.ssl|ERROR|10|main|2023-01-27 18:21:07.687 CET|TransportContext.java:363|Fatal (HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1714)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1513)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:920)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1011)\r\n  \tat java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\r\n  \tat java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\r\n  \tat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\r\n  \tat java.base/java.io.InputStreamReader.read(InputStreamReader.java:176)\r\n  \tat java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\r\n  \tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\r\n  \tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\r\n  \tat org.example.App.main(App.java:75)\r\n  Caused by: java.io.EOFException: SSL peer shut down incorrectly\r\n  \tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:483)\r\n  \tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\r\n  \tat java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\r\n  \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\r\n  \t... 12 more}\r\n\r\n)\r\njavax.net.ssl|ALL|10|main|2023-01-27 18:21:07.687 CET|SSLSessionImpl.java:1221|Invalidated session:  Session(1674840041640|SSL_NULL_WITH_NULL_NULL)\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:21:07.688 CET|SSLSocketOutputRecord.java:71|WRITE: TLSv1.3 alert(handshake_failure), length = 2\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:21:07.688 CET|SSLSocketOutputRecord.java:85|Raw write (\r\n  0000: 15 03 03 00 02 02 28                               ......(\r\n)\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:21:07.688 CET|SSLSocketImpl.java:1754|close the underlying socket\r\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:21:07.688 CET|SSLSocketImpl.java:1780|close the SSL connection (passive)\r\njavax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1714)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1513)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:920)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1011)\r\n\tat java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\r\n\tat java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\r\n\tat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\r\n\tat java.base/java.io.InputStreamReader.read(InputStreamReader.java:176)\r\n\tat java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\r\n\tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\r\n\tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\r\n\tat org.example.App.main(App.java:75)\r\nCaused by: java.io.EOFException: SSL peer shut down incorrectly\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:483)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\r\n\tat java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\r\n\t... 12 more\r\n\r\nProcess finished with exit code 0\r\n``` \r\n\r\n","title":"SSL client-server encryption and authentication","body":"<p>I need to have one client and one server to communicate with each other on a secure channel. The client is a Java app, the server is a ucspi-ssl server, here for more details: <a href=\"https://www.fehcom.de/ipnet/ucspi-ssl/man/sslserver.1.html\" rel=\"nofollow noreferrer\">https://www.fehcom.de/ipnet/ucspi-ssl/man/sslserver.1.html</a>.\nI want communication to be simple, without using http.</p>\n<p>What I am trying to achieve:</p>\n<ol>\n<li>Communication has to be encrypted;</li>\n<li>Server has to authenticate the client.</li>\n</ol>\n<p>Here is what I have done so far:</p>\n<ol>\n<li>Created client private key and client self signed certificate:</li>\n</ol>\n<pre><code>openssl req -newkey rsa:2048 -nodes -keyout client-key.pem -x509 -days 365 -out client-certificate.pem\n</code></pre>\n<ol start=\"2\">\n<li>Inserted both private key and certificate into client keystore:</li>\n</ol>\n<pre><code>openssl pkcs12 -inkey client-key.pem -in client-certificate.pem -export -out client-certificate.p12\n</code></pre>\n<ol start=\"3\">\n<li>Created server private key and server self signed certificate:</li>\n</ol>\n<pre><code>openssl req -newkey rsa:2048 -nodes -keyout server-key.pem -x509 -days 365 -out server-certificate.pem\n</code></pre>\n<ol start=\"4\">\n<li>Added server certificate to client truststore:</li>\n</ol>\n<pre><code>keytool -import -trustcacerts -file server-certificate.pem -keypass password -storepass password -keystore clienttruststore.jks\n</code></pre>\n<ol start=\"5\">\n<li>Created DH param file:</li>\n</ol>\n<pre><code>openssl dhparam -out /etc/ssl/dh2048.pem 2048\n</code></pre>\n<p>At this point, If I were using a Java SSL server I would specify the server keystore containing the server certificate and private keyand the server truststore filled with the client certificate it needs to validate. But in ucspi-ssl server implementation there is no concept of keystore or truststore. For what my understanding is, given environment variables need to be set:</p>\n<blockquote>\n<p>X509 certificate and encryption options:</p>\n<pre><code>   -3     Read a null-terminated key password from file descriptor 3.\n\n   -m     (Mail.) Require valid client certificates, but don't check for\n          matching FQDN.\n\n   -z     (Host.) Require valid client certificates and match FQDN (if\n          given) against SAN/DN.\n\n   -Z     (Default.) Do not require client certificates.\n</code></pre>\n<p>SSL ENVIRONMENT VARIABLES READ</p>\n<pre><code>   These variables define the run-time environment of sslserver and are\n   used to specify X509 certificates and keyfile per connection.\n\n   $SSL_USER=name\n          The user, reading the certificates and keyfile.\n\n   $SSL_GROUP=group\n          The respective user group.\n\n   $SSL_UID=uid\n          The numerical UID of the $SSL_USER.\n\n   $SSL_CHROOT=path\n          Perform reading of certificates and keyfile in a $SSL_CHROOT\n          jail.\n\n   $CAFILE=path\n          If set, overrides the compiled-in CA file name.  The CA file\n          contains the list of CAs used to verify the client certificate.\n          Certificates in $CAFILE are processed when the server starts.\n\n   $CADIR=path\n          If set, overrides the compiled-in CA directory name.  The CA\n          directory contains certificates files used to verify the client\n          certificate.  This list augments the list from $CAFILE.\n          Certificates in $CADIR are processed during certificate\n          verification.\n\n   $CERTFILE=path\n          If set, overrides the compiled-in certificate file name.  The\n          server presents this certificate to clients.\n\n   $CERTCHAINFILE=path\n          If set, overrides the compiled-in certificate chainfile name.\n          The server presents this list of certificats to clients.  Note:\n          Providing $CERTCHAINFILE has precedence over $CERTFILE.\n          Certificates in this file needs to be 'ordered' starting from\n          the uppermost root certificates and placing your host's\n          it's certificate.\n\n   $VERIFYDEPTH=n\n          If set, overrides the compiled-in verification depth. Default:\n          1.\n\n   $CCAFILE=path\n          If set, overrides the compiled-in client CA file name for client\n          certificate request.  The client CA file contains the list of\n          CAs sent to the client when requesting a client certificate.\n          Note: Setting of $CCAFILE is required while using the option -z\n          or -m.  However, declaring $CCAFILE=&quot;-&quot; disables (on a per-\n          connection base) the client certificate request.\n\n   $CCAVERIFY\n          If set, sslserver requests a valid client certificate on a per-\n          connection base, unlike the general option -z.\n</code></pre>\n<p>SSL ENVIRONMENT VARIABLES SET</p>\n<pre><code>   In case sslserver is called with the option -e, the following mod_ssl\n   environment variables are provided:\n\n   SSL_PROTOCOL\n          The TLS protocol version (SSLv3, TLSv1, ...).\n\n   SSL_SESSION_ID\n          The hex-encoded SSL session id.\n\n   SSL_CIPHER\n          The cipher specification name.\n\n   SSL_CIPHER_USEKEYSIZE\n          Number of cipher bits (actually used).\n\n   SSL_CIPHER_ALGKEYSIZE\n          Number of cipher bits (possible).\n\n   SSL_VERSION_INTERFACE\n          The mod_ssl program version.\n\n   SSL_VERSION_LIBRARY\n          The OpenSSL program version.\n\n   SSL_CLIENT_M_VERSION\n          The version of the client certificate.\n\n   SSL_CLIENT_M_SERIAL\n          The serial of the client certificate.\n\n   SSL_CLIENT_S_DN\n          Subject DN in client's certificate.\n\n\n   SSL_CLIENT_A_SIG\n          Algorithm used for the signature of client's certificate.\n\n   SSL_CLIENT_A_KEY\n          Algorithm used for the public key of client's certificate.\n\n   SSL_CLIENT_CERT\n          PEM-encoded client certificate.\n\n   SSL_CLIENT_CERT_CHAIN n\n          PEM-encoded certificates in client certificate chain.\n\n   SSL_CLIENT_VERIFY\n          NONE, SUCCESS, GENEROUS or FAILED:reason.\n\n   SSL_SERVER_M_SERIAL\n          The serial of the server certificate.\n\n   SSL_SERVER_S_DN\n          Subject DN in server's certificate.\n\n   SSL_SERVER_S_DN_x509\n          Component of server's Subject DN.\n\n   SSL_SERVER_I_DN\n          Issuer DN of server's certificate.\n\n   SSL_SERVER_I_DN_x509\n          Component of server's Issuer DN.\n\n   SSL_SERVER_V_START\n          Validity of server's certificate (start time).\n\n   SSL_SERVER_V_END\n          Validity of server's certificate (end time).\n\n   SSL_SERVER_A_SIG\n          Algorithm used for the signature of server's certificate.\n\n   SSL_SERVER_A_KEY\n          Algorithm used for the public key of server's certificate.\n\n   SSL_SERVER_CERT\n          PEM-encoded server certificate.\n</code></pre>\n</blockquote>\n<p><strong>How can I inform ucspi-ssl server that the client certificate can be trusted and perform client authentication?</strong></p>\n<p>I have tried to run the server with the following command:</p>\n<pre><code>sslserver -v -m  localhost 12345 ./some_script.sh\n\n</code></pre>\n<p>with the following environment variables set:</p>\n<pre><code>DHFILE=/etc/ssl/dh2048.pem\nCERTFILE=server-certificate.pem\nKEYFILE=server-key.pem\n</code></pre>\n<p>Here is the java SSL client code:</p>\n<pre><code>try {\n           // Client key store\n           System.setProperty(&quot;https.protocols&quot;, &quot;SSLv3&quot;);\n           System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\n           KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n           String password = &quot;password&quot;;\n           InputStream inputStream = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;/home/centuri0n/reservations/ssl/client-certificate.p12&quot;);\n           keyStore.load(inputStream, password.toCharArray());\n\n           // Client trust store\n           KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\n           String password2 = &quot;password&quot;;\n           TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;PKIX&quot;, &quot;SunJSSE&quot;);\n           InputStream inputStream1 = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;/home/centuri0n/reservations/ssl/clienttruststore.jks&quot;);\n           trustStore.load(inputStream1, password2.toCharArray());\n           trustManagerFactory.init(trustStore);\n           X509TrustManager x509TrustManager = null;\n           for (TrustManager trustManager : trustManagerFactory.getTrustManagers()) {\n               if (trustManager instanceof X509TrustManager) {\n                   x509TrustManager = (X509TrustManager) trustManager;\n                   break;\n               }\n           }\n\n           if (x509TrustManager == null) throw new NullPointerException();\n\n           // KeyManagerFactory ()\n           KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;, &quot;SunJSSE&quot;);\n           keyManagerFactory.init(keyStore, password.toCharArray());\n           X509KeyManager x509KeyManager = null;\n           for (KeyManager keyManager : keyManagerFactory.getKeyManagers()) {\n               if (keyManager instanceof X509KeyManager) {\n                   x509KeyManager = (X509KeyManager) keyManager;\n                   break;\n               }\n           }\n           if (x509KeyManager == null) throw new NullPointerException();\n\n           // set up the SSL Context\n           SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n           sslContext.init(new KeyManager[]{x509KeyManager}, new TrustManager[]{x509TrustManager}, null);\n\n           SSLSocketFactory socketFactory = sslContext.getSocketFactory();\n           SSLSocket kkSocket = (SSLSocket) socketFactory.createSocket(&quot;127.0.0.1&quot;, 12345);\n           kkSocket.setUseClientMode(false);\n           kkSocket.setEnabledProtocols(new String[]{&quot;TLSv1&quot;,&quot;TLSv1.1&quot;,&quot;TLSv1.2&quot;,&quot;TLSv1.3&quot;});\n           kkSocket.setEnabledCipherSuites(new String[]{&quot;TLS_AES_256_GCM_SHA384&quot;, &quot;TLS_AES_128_GCM_SHA256&quot;, &quot;TLS_CHACHA20_POLY1305_SHA256&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_DHE_RSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256&quot;, &quot;TLS_DHE_DSS_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_DHE_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_DHE_DSS_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_DHE_RSA_WITH_AES_256_CBC_SHA256&quot;, &quot;TLS_DHE_DSS_WITH_AES_256_CBC_SHA256&quot;, &quot;TLS_DHE_RSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_DHE_DSS_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384&quot;, &quot;TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384&quot;, &quot;TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_DHE_RSA_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_DHE_DSS_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_DHE_RSA_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_DHE_DSS_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_ECDH_RSA_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_ECDH_RSA_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_RSA_WITH_AES_256_GCM_SHA384&quot;, &quot;TLS_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;, &quot;TLS_RSA_WITH_AES_128_CBC_SHA256&quot;, &quot;TLS_RSA_WITH_AES_256_CBC_SHA&quot;, &quot;TLS_RSA_WITH_AES_128_CBC_SHA&quot;, &quot;TLS_EMPTY_RENEGOTIATION_INFO_SCSV&quot;\n           });\n\n           PrintWriter out = new PrintWriter(kkSocket.getOutputStream(), true);\n           BufferedReader in = new BufferedReader(\n                   new InputStreamReader(kkSocket.getInputStream()));\n\n           BufferedReader stdIn =\n                   new BufferedReader(new InputStreamReader(System.in));\n           String fromServer;\n           String fromUser;\n\n           while ((fromServer = in.readLine()) != null) {\n               System.out.println(&quot;Server: &quot; + fromServer);\n               if (fromServer.equals(&quot;Bye.&quot;))\n                   break;\n\n               fromUser = stdIn.readLine();\n               if (fromUser != null) {\n                   System.out.println(&quot;Client: &quot; + fromUser);\n                   out.println(fromUser);\n               }\n           }\n       }catch (IOException e){\n           e.printStackTrace();\n       } catch (UnrecoverableKeyException e) {\n           throw new RuntimeException(e);\n       } catch (CertificateException e) {\n           throw new RuntimeException(e);\n       } catch (KeyStoreException e) {\n           throw new RuntimeException(e);\n       } catch (NoSuchProviderException e) {\n           throw new RuntimeException(e);\n       } catch (KeyManagementException e) {\n           throw new RuntimeException(e);\n       }\n</code></pre>\n<p>When I start the client, it blocks for about 10 seconds with the following debug messages:</p>\n<pre><code>javax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DH_anon_WITH_DES_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DH_anon_WITH_DES_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_EXPORT_WITH_DES40_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_EXPORT_WITH_DES40_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.608 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DH_anon_EXPORT_WITH_DES40_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DH_anon_EXPORT_WITH_DES40_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_EXPORT_WITH_RC4_40_MD5\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_EXPORT_WITH_RC4_40_MD5\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DH_anon_EXPORT_WITH_RC4_40_MD5\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DH_anon_EXPORT_WITH_RC4_40_MD5\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_RSA_WITH_NULL_SHA256\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_RSA_WITH_NULL_SHA256\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_ECDSA_WITH_NULL_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.609 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_NULL_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_RSA_WITH_NULL_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_NULL_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_WITH_NULL_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_WITH_NULL_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_ECDSA_WITH_NULL_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_NULL_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_RSA_WITH_NULL_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_NULL_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_anon_WITH_NULL_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.610 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_anon_WITH_NULL_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.611 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_WITH_NULL_MD5\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.611 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_WITH_NULL_MD5\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.612 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.612 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.612 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.612 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.613 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.615 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.616 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.616 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.616 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.616 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.616 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.616 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.617 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.617 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.617 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.617 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.618 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.619 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.619 CET|SSLContextImpl.java:397|Ignore disabled cipher suite: SSL_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.619 CET|SSLContextImpl.java:406|Ignore unsupported cipher suite: SSL_RSA_WITH_3DES_EDE_CBC_SHA\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.621 CET|SSLContextImpl.java:115|trigger seeding of SecureRandom\njavax.net.ssl|ALL|10|main|2023-01-27 18:20:41.622 CET|SSLContextImpl.java:119|done seeding of SecureRandom\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.627 CET|SSLConfiguration.java:458|System property jdk.tls.client.SignatureSchemes is set to 'null'\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.641 CET|SSLConfiguration.java:458|System property jdk.tls.server.SignatureSchemes is set to 'null'\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.642 CET|HandshakeContext.java:298|Ignore unsupported cipher suite: TLS_AES_256_GCM_SHA384 for TLSv1.2\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.642 CET|HandshakeContext.java:298|Ignore unsupported cipher suite: TLS_AES_128_GCM_SHA256 for TLSv1.2\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:20:41.642 CET|HandshakeContext.java:298|Ignore unsupported cipher suite: TLS_CHACHA20_POLY1305_SHA256 for TLSv1.2\n</code></pre>\n<p>then, client timeouts and exits:</p>\n<pre><code>javax.net.ssl|DEBUG|10|main|2023-01-27 18:21:07.685 CET|SSLSocketInputRecord.java:481|Raw read: EOF\njavax.net.ssl|ERROR|10|main|2023-01-27 18:21:07.687 CET|TransportContext.java:363|Fatal (HANDSHAKE_FAILURE): Couldn't kickstart handshaking (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\n    at java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1714)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1513)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\n    at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:920)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1011)\n    at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\n    at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\n    at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\n    at java.base/java.io.InputStreamReader.read(InputStreamReader.java:176)\n    at java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\n    at org.example.App.main(App.java:75)\n  Caused by: java.io.EOFException: SSL peer shut down incorrectly\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:483)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\n    ... 12 more}\n\n)\njavax.net.ssl|ALL|10|main|2023-01-27 18:21:07.687 CET|SSLSessionImpl.java:1221|Invalidated session:  Session(1674840041640|SSL_NULL_WITH_NULL_NULL)\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:21:07.688 CET|SSLSocketOutputRecord.java:71|WRITE: TLSv1.3 alert(handshake_failure), length = 2\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:21:07.688 CET|SSLSocketOutputRecord.java:85|Raw write (\n  0000: 15 03 03 00 02 02 28                               ......(\n)\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:21:07.688 CET|SSLSocketImpl.java:1754|close the underlying socket\njavax.net.ssl|DEBUG|10|main|2023-01-27 18:21:07.688 CET|SSLSocketImpl.java:1780|close the SSL connection (passive)\njavax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\n    at java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1714)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1513)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\n    at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:920)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1011)\n    at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\n    at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\n    at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\n    at java.base/java.io.InputStreamReader.read(InputStreamReader.java:176)\n    at java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\n    at org.example.App.main(App.java:75)\nCaused by: java.io.EOFException: SSL peer shut down incorrectly\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:483)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\n    ... 12 more\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","android","location","google-location-services"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1674937502,"post_id":75270590,"comment_id":132821938,"body_markdown":"There are [restrictions on working with locations from the background](https://developer.android.com/training/location/background). For your use case, you should probably be [using geofences](https://developer.android.com/training/location/geofencing). And note that `AsyncTask` has been deprecated for years.","body":"There are <a href=\"https://developer.android.com/training/location/background\" rel=\"nofollow noreferrer\">restrictions on working with locations from the background</a>. For your use case, you should probably be <a href=\"https://developer.android.com/training/location/geofencing\" rel=\"nofollow noreferrer\">using geofences</a>. And note that <code>AsyncTask</code> has been deprecated for years."},{"owner":{"account_id":27493273,"reputation":1,"user_id":20978205,"display_name":"preno1221"},"score":0,"creation_date":1674939252,"post_id":75270590,"comment_id":132822245,"body_markdown":"Will the geofence work in the background too (when the user swipes up the app)..? i kinda struggle to get the hang of it, can you please direct me to a good article that explains it?","body":"Will the geofence work in the background too (when the user swipes up the app)..? i kinda struggle to get the hang of it, can you please direct me to a good article that explains it?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1674940148,"post_id":75270590,"comment_id":132822392,"body_markdown":"&quot;Will the geofence work in the background too (when the user swipes up the app)..?&quot; -- yes, that is the point of geofences. You tell the OS to let you know when the user gets near a certain point, and the OS starts your process to tell you when the user gets there.","body":"&quot;Will the geofence work in the background too (when the user swipes up the app)..?&quot; -- yes, that is the point of geofences. You tell the OS to let you know when the user gets near a certain point, and the OS starts your process to tell you when the user gets there."}],"owner":{"account_id":27493273,"reputation":1,"user_id":20978205,"display_name":"preno1221"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674937228,"creation_date":1674937168,"question_id":75270590,"body_markdown":"I am currently working on a location-based reminder app.\r\nObviously, the should send a notification when the user is close to a location he set.\r\n\r\nFor that, I am using a foreground service - which starts when the app starts. It also works when the app is closed, like swiped up from the apps list (not force stopped).\r\n\r\nIn the service, I am getting the current location and iterating over the location to see which ones I should send a notification for.\r\n\r\nEvery thing works fine, but for some reason, when the app is closed, the service doesn&#39;t enter the `onLocationResult`:\r\n\r\n```\r\nLocationServices.getFusedLocationProviderClient\r\n                        (ServiceLocationNotification.this).requestLocationUpdates(locationRequest, new LocationCallback() {\r\n                            @Override\r\n                            public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                                GetCurrentLocationAsyncTaskServiceLocationNotification task =\r\n                                        new GetCurrentLocationAsyncTaskServiceLocationNotification\r\n                                        (ServiceLocationNotification.this,\r\n                                                locationResult,\r\n                                                this);\r\n\r\n                                try\r\n                                {\r\n                                    currentLatLng = task.execute().get();\r\n                                }\r\n                                catch (Exception e)\r\n                                {\r\n                                    System.out.println(&quot;Exception&quot;);\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        },\r\n                        Looper.getMainLooper()); // Use the main thread&#39;s looper to receive location updates\r\n```\r\n\r\n(I checked with prints).\r\n\r\n`GetCurrentLocationAsyncTaskServiceLocationNotification` (sorry for the long name) is a class i created to retrieve the current location and get the latLng out of it:\r\n\r\n```\r\n// for the ServiceLocationNotification class.\r\npublic class GetCurrentLocationAsyncTaskServiceLocationNotification extends AsyncTask&lt;Void, Void, LatLng&gt;\r\n{\r\n    private WeakReference&lt;ServiceLocationNotification&gt; ServiceLocationNotificationWeakReference;\r\n    private LocationCallback locationCallback;\r\n    private LocationResult locationResult;\r\n\r\n    GetCurrentLocationAsyncTaskServiceLocationNotification(ServiceLocationNotification activity,\r\n                                              @NonNull LocationResult locationResult,\r\n                                              LocationCallback locationCallback)\r\n    {\r\n        ServiceLocationNotificationWeakReference = new WeakReference&lt;&gt;(activity);\r\n        this.locationResult = locationResult;\r\n        this.locationCallback = locationCallback;\r\n    }\r\n\r\n    // .execute().get() gets the return value.\r\n    @Override\r\n    protected LatLng doInBackground(Void... voids)\r\n    {\r\n        double latitude;\r\n        double longitude;\r\n\r\n        // get location\r\n        LocationServices.getFusedLocationProviderClient(ServiceLocationNotificationWeakReference.get())\r\n                .removeLocationUpdates(locationCallback);\r\n\r\n        // Check if the location result is not null and has at least one location\r\n        if (locationResult != null &amp;&amp; locationResult.getLocations().size() &gt; 0)\r\n        {\r\n            // Get the most recent location from the location result\r\n            int index = locationResult.getLocations().size() - 1;\r\n            latitude = locationResult.getLocations().get(index).getLatitude();\r\n            longitude = locationResult.getLocations().get(index).getLongitude();\r\n\r\n            return new LatLng(latitude, longitude);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nI would appreciate any help understanding why this happens (not entering the onLocationResult function).\r\nThanks!","title":"Getting location when the app is closed using fusedLocationProviderClient","body":"<p>I am currently working on a location-based reminder app.\nObviously, the should send a notification when the user is close to a location he set.</p>\n<p>For that, I am using a foreground service - which starts when the app starts. It also works when the app is closed, like swiped up from the apps list (not force stopped).</p>\n<p>In the service, I am getting the current location and iterating over the location to see which ones I should send a notification for.</p>\n<p>Every thing works fine, but for some reason, when the app is closed, the service doesn't enter the <code>onLocationResult</code>:</p>\n<pre><code>LocationServices.getFusedLocationProviderClient\n                        (ServiceLocationNotification.this).requestLocationUpdates(locationRequest, new LocationCallback() {\n                            @Override\n                            public void onLocationResult(@NonNull LocationResult locationResult) {\n                                GetCurrentLocationAsyncTaskServiceLocationNotification task =\n                                        new GetCurrentLocationAsyncTaskServiceLocationNotification\n                                        (ServiceLocationNotification.this,\n                                                locationResult,\n                                                this);\n\n                                try\n                                {\n                                    currentLatLng = task.execute().get();\n                                }\n                                catch (Exception e)\n                                {\n                                    System.out.println(&quot;Exception&quot;);\n                                    e.printStackTrace();\n                                }\n                            }\n                        },\n                        Looper.getMainLooper()); // Use the main thread's looper to receive location updates\n</code></pre>\n<p>(I checked with prints).</p>\n<p><code>GetCurrentLocationAsyncTaskServiceLocationNotification</code> (sorry for the long name) is a class i created to retrieve the current location and get the latLng out of it:</p>\n<pre><code>// for the ServiceLocationNotification class.\npublic class GetCurrentLocationAsyncTaskServiceLocationNotification extends AsyncTask&lt;Void, Void, LatLng&gt;\n{\n    private WeakReference&lt;ServiceLocationNotification&gt; ServiceLocationNotificationWeakReference;\n    private LocationCallback locationCallback;\n    private LocationResult locationResult;\n\n    GetCurrentLocationAsyncTaskServiceLocationNotification(ServiceLocationNotification activity,\n                                              @NonNull LocationResult locationResult,\n                                              LocationCallback locationCallback)\n    {\n        ServiceLocationNotificationWeakReference = new WeakReference&lt;&gt;(activity);\n        this.locationResult = locationResult;\n        this.locationCallback = locationCallback;\n    }\n\n    // .execute().get() gets the return value.\n    @Override\n    protected LatLng doInBackground(Void... voids)\n    {\n        double latitude;\n        double longitude;\n\n        // get location\n        LocationServices.getFusedLocationProviderClient(ServiceLocationNotificationWeakReference.get())\n                .removeLocationUpdates(locationCallback);\n\n        // Check if the location result is not null and has at least one location\n        if (locationResult != null &amp;&amp; locationResult.getLocations().size() &gt; 0)\n        {\n            // Get the most recent location from the location result\n            int index = locationResult.getLocations().size() - 1;\n            latitude = locationResult.getLocations().get(index).getLatitude();\n            longitude = locationResult.getLocations().get(index).getLongitude();\n\n            return new LatLng(latitude, longitude);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>I would appreciate any help understanding why this happens (not entering the onLocationResult function).\nThanks!</p>\n"},{"tags":["java","spring","configuration","initialization"],"owner":{"account_id":14926473,"reputation":75,"user_id":10777182,"display_name":"EraZer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674936687,"creation_date":1674936687,"question_id":75270554,"body_markdown":"Here&#39;s what I came up with for my Spring application:\r\n\r\nI have different services that I want to offer to the users (Service X, Y and Z), since it should still be possible in the future that I want to add new services easily, there is the ServiceRegistration for this problem.\r\n\r\nThe task of the ServiceRegistration is to add those services that have registered with it to the application, e.g. in a list on the homepage etc. (there are different places where the service should be accessed).\r\n\r\nFurthermore, my services define their own roles, which define the access rights of certain functions. So that users who do not have rights to certain areas do not see this, this is also passed on to the ServiceRegistration, which then passes this information on to the SecurityConfiguration (for Spring Security).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nLikewise, each service defines its own controller, service, etc.\r\nIf a service is not registered with the service registration, the defined controllers should also not be usable. \r\n\r\nAs you can see in this picture, only service X and Y should be usable for users. \r\n\r\nSince I&#39;m new to Spring, I&#39;m not sure exactly how one would go about doing this. I want that after the server is started, that all necessary services are registered and configuration is set.\r\n\r\nThe call (e.g. of the service X to the RegistrationService) does not have to come from a service, so a class with @Service. However, it is a part of the package of the service and it should not be necessary to make a call in the RegistrationService for this configuration to be possible. \r\n\r\nWith my knowledge of Spring (which is very limited ...) and the plan I have for how the application should work, here&#39;s how it should go.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MFazq.png\r\n  [2]: https://i.stack.imgur.com/Jn6eO.png","title":"Spring Configuration Phase and Dependency Injection in Configurations Files","body":"<p>Here's what I came up with for my Spring application:</p>\n<p>I have different services that I want to offer to the users (Service X, Y and Z), since it should still be possible in the future that I want to add new services easily, there is the ServiceRegistration for this problem.</p>\n<p>The task of the ServiceRegistration is to add those services that have registered with it to the application, e.g. in a list on the homepage etc. (there are different places where the service should be accessed).</p>\n<p>Furthermore, my services define their own roles, which define the access rights of certain functions. So that users who do not have rights to certain areas do not see this, this is also passed on to the ServiceRegistration, which then passes this information on to the SecurityConfiguration (for Spring Security).</p>\n<p><a href=\"https://i.stack.imgur.com/MFazq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MFazq.png\" alt=\"enter image description here\" /></a></p>\n<p>Likewise, each service defines its own controller, service, etc.\nIf a service is not registered with the service registration, the defined controllers should also not be usable.</p>\n<p>As you can see in this picture, only service X and Y should be usable for users.</p>\n<p>Since I'm new to Spring, I'm not sure exactly how one would go about doing this. I want that after the server is started, that all necessary services are registered and configuration is set.</p>\n<p>The call (e.g. of the service X to the RegistrationService) does not have to come from a service, so a class with @Service. However, it is a part of the package of the service and it should not be necessary to make a call in the RegistrationService for this configuration to be possible.</p>\n<p>With my knowledge of Spring (which is very limited ...) and the plan I have for how the application should work, here's how it should go.</p>\n<p><a href=\"https://i.stack.imgur.com/Jn6eO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jn6eO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","websocket"],"comments":[{"owner":{"account_id":11519536,"reputation":443,"user_id":8441830,"display_name":"voismager"},"score":0,"creation_date":1674843938,"post_id":75261483,"comment_id":132807208,"body_markdown":"It looks like it has been compiled, it just cannot connect properly. Try specifying port  like suggested [here](https://stackoverflow.com/questions/37421118/websocket-response-code-was-not-101-200-handshake-error), maybe it will help","body":"It looks like it has been compiled, it just cannot connect properly. Try specifying port  like suggested <a href=\"https://stackoverflow.com/questions/37421118/websocket-response-code-was-not-101-200-handshake-error\">here</a>, maybe it will help"},{"owner":{"account_id":21693695,"reputation":11,"user_id":16007971,"display_name":"ZacharyAlister"},"score":0,"creation_date":1674860222,"post_id":75261483,"comment_id":132811035,"body_markdown":"I tried specifying the actual port number. It is my understandin g that ws uses port 80 and wss uses 443. Still same result. I tried &quot;ws://echo.websocket.org:80&quot;, &quot;ws://echo.websocket.org:80/&quot;, &quot;ws://echo.websocket.org:443&quot;","body":"I tried specifying the actual port number. It is my understandin g that ws uses port 80 and wss uses 443. Still same result. I tried &quot;ws://echo.websocket.org:80&quot;, &quot;ws://echo.websocket.org:80/&quot;, &quot;ws://echo.websocket.org:443&quot;"},{"owner":{"account_id":21693695,"reputation":11,"user_id":16007971,"display_name":"ZacharyAlister"},"score":0,"creation_date":1674936148,"post_id":75261483,"comment_id":132821717,"body_markdown":"I just found the solution. The original server in the code is no longer operation. I used this one instead &quot;wss://websocket-echo.com:443/&quot;","body":"I just found the solution. The original server in the code is no longer operation. I used this one instead &quot;wss://websocket-echo.com:443/&quot;"}],"answers":[{"tags":[],"owner":{"account_id":21693695,"reputation":11,"user_id":16007971,"display_name":"ZacharyAlister"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674936459,"creation_date":1674936459,"answer_id":75270538,"question_id":75261483,"body_markdown":"I just found the solution. The original server in the code is no longer operation. I used this one instead &quot;wss://websocket-echo.com:443/&quot;","title":"How to open a websocket directly to a wss: in Java","body":"<p>I just found the solution. The original server in the code is no longer operation. I used this one instead &quot;wss://websocket-echo.com:443/&quot;</p>\n"}],"owner":{"account_id":21693695,"reputation":11,"user_id":16007971,"display_name":"ZacharyAlister"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674936459,"creation_date":1674840732,"question_id":75261483,"body_markdown":"I am trying to establish a websocket connection in java to wss://data.tradingview.com/socket.io/websocket?from=chart%2F&amp;date=2023_01_26-12_41&amp;type=chart to acquire both historical and current chart data.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have search and read through multiple posts and online resources and I am confused as to the correct procedure to connect to a websocket and acquire incoming data. \r\n\r\nI found a post that is very close to what I&#39;m trying to do that open a websocket and uses a ws as the target location. [Here](https://stackoverflow.com/questions/48919865/cant-get-echo-response-from-ws-echo-websocket-org-in-my-websocket-client) I&#39;ve modified it slightly to implement the solution suggested.\r\n\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\n\r\nimport javax.websocket.*;\r\n\r\n@ClientEndpoint\r\npublic class ExampleTest2 {\r\n\r\n    Session session;\r\n\r\n   //Problem resolved, this original echo server is no longer operational\r\n    //private final static String url = &quot;ws://echo.websocket.org:80&quot;;\r\n    private final static String url = &quot;wss://websocket-echo.com:443/&quot;;\r\n\r\n    public static void main(String[] args) throws Exception, IOException {\r\n        WebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n        System.out.println(&quot;connecting...&quot;);\r\n        container.connectToServer(ExampleTest2.class,\r\n                URI.create(url));\r\n        \r\n        System.out.println(&quot;Press ENTER key to exit.&quot;);\r\n        System.in.read();\r\n    }\r\n\r\n\r\n    @OnMessage\r\n    public void newMessage(String message, Session session) {\r\n        System.out.println(message);\r\n    }\r\n    @OnOpen\r\n    public void newConnection(Session session) throws IOException {\r\n        this.session = session;\r\n        System.out.println(&quot;The connection has been started&quot;);\r\n        session.getBasicRemote().sendText(&quot;hello&quot;);\r\n\r\n    }\r\n    @OnClose\r\n    public void disconnection() {\r\n        System.out.println(&quot;The connection has been ended&quot;);\r\n    }\r\n}\r\n```\r\nThis is the error output I receive.\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Could not find an implementation class.\r\n\tat javax.websocket.ContainerProvider.getWebSocketContainer(ContainerProvider.java:73)\r\n\tat ExampleTest2.main(ExampleTest2.java:14)\r\n\r\n```\r\n\r\nI continued to search and found a post about that specific error. [Here](https://stackoverflow.com/questions/27751630/websocket-client-could-not-find-an-implementation-class) Their solution is to use a different external library. I was using javax.websocket-api-1.1.jar now I&#39;ve switched to their recommendation of tyrus, tyrus-standalone-client-2.1.2\r\n\r\nHowever it&#39;s still not connecting properly.\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; jakarta.websocket.DeploymentException: Handshake error.\r\n\tat org.glassfish.tyrus.client.ClientManager$3$1.run(ClientManager.java:658)\r\n\tat org.glassfish.tyrus.client.ClientManager$3.run(ClientManager.java:696)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.glassfish.tyrus.client.ClientManager$SameThreadExecutorService.execute(ClientManager.java:849)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\tat org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:493)\r\n\tat org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:299)\r\n\tat ExampleTest2.main(ExampleTest2.java:19)\r\nCaused by: org.glassfish.tyrus.core.HandshakeException: Response code was not 101: 200.\r\n\tat org.glassfish.tyrus.client.TyrusClientEngine.processResponse(TyrusClientEngine.java:301)\r\n\tat org.glassfish.tyrus.container.grizzly.client.GrizzlyClientFilter.handleHandshake(GrizzlyClientFilter.java:323)\r\n\tat org.glassfish.tyrus.container.grizzly.client.GrizzlyClientFilter.handleRead(GrizzlyClientFilter.java:292)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:88)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:246)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:178)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:118)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:96)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:51)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:510)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:82)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:83)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:101)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\n\r\n\r\n```\r\n\r\n\r\nAt this point I am very much in the weeds and I&#39;m not even sure if I&#39;m going in the right direction anymore I&#39;m just following rabbit hole after rabbit hole. At this point I&#39;m trying to resolve indirect problems that I&#39;m not even sure if it is required to accomplish my task of opening a socket and acquiring data. \r\n\r\nAny help like code examples or learning material directly related to the task would be greatly appreciated.\r\n","title":"How to open a websocket directly to a wss: in Java","body":"<p>I am trying to establish a websocket connection in java to wss://data.tradingview.com/socket.io/websocket?from=chart%2F&amp;date=2023_01_26-12_41&amp;type=chart to acquire both historical and current chart data.</p>\n<p>I have search and read through multiple posts and online resources and I am confused as to the correct procedure to connect to a websocket and acquire incoming data.</p>\n<p>I found a post that is very close to what I'm trying to do that open a websocket and uses a ws as the target location. <a href=\"https://stackoverflow.com/questions/48919865/cant-get-echo-response-from-ws-echo-websocket-org-in-my-websocket-client\">Here</a> I've modified it slightly to implement the solution suggested.</p>\n<pre><code>import java.io.IOException;\nimport java.net.URI;\n\nimport javax.websocket.*;\n\n@ClientEndpoint\npublic class ExampleTest2 {\n\n    Session session;\n\n   //Problem resolved, this original echo server is no longer operational\n    //private final static String url = &quot;ws://echo.websocket.org:80&quot;;\n    private final static String url = &quot;wss://websocket-echo.com:443/&quot;;\n\n    public static void main(String[] args) throws Exception, IOException {\n        WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n        System.out.println(&quot;connecting...&quot;);\n        container.connectToServer(ExampleTest2.class,\n                URI.create(url));\n        \n        System.out.println(&quot;Press ENTER key to exit.&quot;);\n        System.in.read();\n    }\n\n\n    @OnMessage\n    public void newMessage(String message, Session session) {\n        System.out.println(message);\n    }\n    @OnOpen\n    public void newConnection(Session session) throws IOException {\n        this.session = session;\n        System.out.println(&quot;The connection has been started&quot;);\n        session.getBasicRemote().sendText(&quot;hello&quot;);\n\n    }\n    @OnClose\n    public void disconnection() {\n        System.out.println(&quot;The connection has been ended&quot;);\n    }\n}\n</code></pre>\n<p>This is the error output I receive.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Could not find an implementation class.\n    at javax.websocket.ContainerProvider.getWebSocketContainer(ContainerProvider.java:73)\n    at ExampleTest2.main(ExampleTest2.java:14)\n\n</code></pre>\n<p>I continued to search and found a post about that specific error. <a href=\"https://stackoverflow.com/questions/27751630/websocket-client-could-not-find-an-implementation-class\">Here</a> Their solution is to use a different external library. I was using javax.websocket-api-1.1.jar now I've switched to their recommendation of tyrus, tyrus-standalone-client-2.1.2</p>\n<p>However it's still not connecting properly.</p>\n<pre><code>Exception in thread &quot;main&quot; jakarta.websocket.DeploymentException: Handshake error.\n    at org.glassfish.tyrus.client.ClientManager$3$1.run(ClientManager.java:658)\n    at org.glassfish.tyrus.client.ClientManager$3.run(ClientManager.java:696)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.glassfish.tyrus.client.ClientManager$SameThreadExecutorService.execute(ClientManager.java:849)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n    at org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:493)\n    at org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:299)\n    at ExampleTest2.main(ExampleTest2.java:19)\nCaused by: org.glassfish.tyrus.core.HandshakeException: Response code was not 101: 200.\n    at org.glassfish.tyrus.client.TyrusClientEngine.processResponse(TyrusClientEngine.java:301)\n    at org.glassfish.tyrus.container.grizzly.client.GrizzlyClientFilter.handleHandshake(GrizzlyClientFilter.java:323)\n    at org.glassfish.tyrus.container.grizzly.client.GrizzlyClientFilter.handleRead(GrizzlyClientFilter.java:292)\n    at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:88)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:246)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:178)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:118)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:96)\n    at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:51)\n    at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:510)\n    at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:82)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:83)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:101)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)\n    at java.base/java.lang.Thread.run(Thread.java:832)\n\n\n</code></pre>\n<p>At this point I am very much in the weeds and I'm not even sure if I'm going in the right direction anymore I'm just following rabbit hole after rabbit hole. At this point I'm trying to resolve indirect problems that I'm not even sure if it is required to accomplish my task of opening a socket and acquiring data.</p>\n<p>Any help like code examples or learning material directly related to the task would be greatly appreciated.</p>\n"},{"tags":["java","classloader","minecraft","ebean","spigot"],"answers":[{"tags":[],"owner":{"account_id":27416094,"reputation":11,"user_id":20915247,"display_name":"Apple Ptr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674936210,"creation_date":1674936210,"answer_id":75270517,"question_id":74998201,"body_markdown":"## Reasoning\r\nBukkit&#39;s @EventHandler utilizes a different contextClassLoader than the ClassLoader that loads the ebean classes/services (contained in the ShadowJar).\r\n\r\nThe error states `No service implementation found` because the thread that is initializing the querybean does not have access to that class.\r\n\r\n## Explained Solution\r\nThe solution here is to use `Thread#setContextClassLoader()` to use the same ClassLoader used when calling `DatabaseFactory.createWithContextClassLoader()`. Set the ClassLoader, initialize every Class that uses a QueryBean, revert the ClassLoader to what it originally was.\r\n\r\nEBean might be able to solve this problem. But for now, a fix is to just call an empty init method on every class that becomes an Enhanced-QueryBean from a thread that is using the proper ContextClassLoader\r\n\r\n## Full Example\r\nI pushed the full example containing the fix to the original [github repo](https://github.com/amp7368/BukkitEBeanExample/tree/problem-description/output)\r\n\r\n## Basic Example\r\n#### DatabaseSetup.java\r\n```\r\n\r\n    public static void load() {\r\n        DataSourceConfig dataSourceConfig = configureDataSource();\r\n        DatabaseConfig dbConfig = configureDatabase(dataSourceConfig);\r\n\r\n        // We should use the classloader that loaded this plugin\r\n        // because this plugin has our ebean dependencies\r\n        ClassLoader originalClassLoader = Thread.currentThread().getContextClassLoader();\r\n        ClassLoader pluginClassLoader = BukkitEBeanPlugin.class.getClassLoader();\r\n\r\n        // create the DatabaseFactory with the classloader containing ebean dependencies\r\n        DatabaseFactory.createWithContextClassLoader(dbConfig, pluginClassLoader);\r\n\r\n        // Set the current thread&#39;s contextClassLoader to the classLoader with the ebean dependencies\r\n        // This allows the class to initialize itself with access to the required class dependencies\r\n        Thread.currentThread().setContextClassLoader(pluginClassLoader);\r\n\r\n        // invoke the static initialization of every class that contains a querybean.\r\n        // Note that any method in the class will initialize the class.\r\n        FindByQueryBean.init();\r\n\r\n        // Restore the contextClassLoader to what it was originally\r\n        Thread.currentThread().setContextClassLoader(originalClassLoader);\r\n\r\n        BukkitEBeanPlugin.get().getLogger().info(&quot;Successfully created database&quot;);\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\n#### FindByQueryBean.java\r\n```\r\npublic static void init() {\r\n    // intentionally empty\r\n}\r\n```","title":"SpiRawSqlService not found setting up EBean in a Spigot plugin","body":"<h2>Reasoning</h2>\n<p>Bukkit's @EventHandler utilizes a different contextClassLoader than the ClassLoader that loads the ebean classes/services (contained in the ShadowJar).</p>\n<p>The error states <code>No service implementation found</code> because the thread that is initializing the querybean does not have access to that class.</p>\n<h2>Explained Solution</h2>\n<p>The solution here is to use <code>Thread#setContextClassLoader()</code> to use the same ClassLoader used when calling <code>DatabaseFactory.createWithContextClassLoader()</code>. Set the ClassLoader, initialize every Class that uses a QueryBean, revert the ClassLoader to what it originally was.</p>\n<p>EBean might be able to solve this problem. But for now, a fix is to just call an empty init method on every class that becomes an Enhanced-QueryBean from a thread that is using the proper ContextClassLoader</p>\n<h2>Full Example</h2>\n<p>I pushed the full example containing the fix to the original <a href=\"https://github.com/amp7368/BukkitEBeanExample/tree/problem-description/output\" rel=\"nofollow noreferrer\">github repo</a></p>\n<h2>Basic Example</h2>\n<h4>DatabaseSetup.java</h4>\n<pre><code>\n    public static void load() {\n        DataSourceConfig dataSourceConfig = configureDataSource();\n        DatabaseConfig dbConfig = configureDatabase(dataSourceConfig);\n\n        // We should use the classloader that loaded this plugin\n        // because this plugin has our ebean dependencies\n        ClassLoader originalClassLoader = Thread.currentThread().getContextClassLoader();\n        ClassLoader pluginClassLoader = BukkitEBeanPlugin.class.getClassLoader();\n\n        // create the DatabaseFactory with the classloader containing ebean dependencies\n        DatabaseFactory.createWithContextClassLoader(dbConfig, pluginClassLoader);\n\n        // Set the current thread's contextClassLoader to the classLoader with the ebean dependencies\n        // This allows the class to initialize itself with access to the required class dependencies\n        Thread.currentThread().setContextClassLoader(pluginClassLoader);\n\n        // invoke the static initialization of every class that contains a querybean.\n        // Note that any method in the class will initialize the class.\n        FindByQueryBean.init();\n\n        // Restore the contextClassLoader to what it was originally\n        Thread.currentThread().setContextClassLoader(originalClassLoader);\n\n        BukkitEBeanPlugin.get().getLogger().info(&quot;Successfully created database&quot;);\n    }\n    ...\n}\n</code></pre>\n<h4>FindByQueryBean.java</h4>\n<pre><code>public static void init() {\n    // intentionally empty\n}\n</code></pre>\n"}],"owner":{"account_id":27416094,"reputation":11,"user_id":20915247,"display_name":"Apple Ptr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75270517,"answer_count":1,"score":1,"last_activity_date":1674936210,"creation_date":1672776491,"question_id":74998201,"body_markdown":"## Overview\r\n\r\nI set up a [github repo](https://github.com/amp7368/BukkitEBeanExample/tree/problem-description/output) for this question to provide as much of the boiled down environment as possible.  \r\n\r\nMy goal is to set up [ebean](https://ebean.io/) ORM for database manangement from a [Paper Minecraft](https://papermc.io/) plugin. I&#39;m able to shade in the ebean dependencies, but creating a query using &quot;io.ebean:ebean-querybean:&quot; throws an error saying that it cannot find an implementation of SpiRawSqlService.\r\n\r\n## Environment\r\n\r\nPaper Minecraft: paper-1.19.3-367.jar  \r\nJava 18  \r\nEbean enhancement plugin for IntelliJ(I checked that I have it enabled for this project)  \r\nio.ebean gradle plugin version 13.10.0  \r\nshadowJar gradle plugin version 7.1.2\r\n\r\n## The Stacktrace\r\n\r\nEverything is fine setting up the database, and saving to the Database. Queries without using a querybean work fine as well. The error is thrown when initializing any [class containing a reference](https://github.com/amp7368/BukkitEBeanExample/blob/problem-description/output/src/stripped.FindByQueryBean.java) to a generated querybean.  \r\nThe error outputted is printed the [latest.log](https://github.com/amp7368/BukkitEBeanExample/blob/problem-description/output/latest.log)  \r\n`Caused by: java.lang.IllegalStateException: No service implementation found for interface org.example.ebean.io.ebean.service.SpiRawSqlService`  \r\n\r\n\r\nThe stacktrace tells us that it couldn&#39;t find `org.example.ebean.io.ebean.service.SpiRawSqlService`.  \r\nLooking at the decompiled shadowJar after package relocation, the implementation for this class is found at `org.example.ebean.io.ebeaninternal.server.rawsql.DRawSql`;\r\n\r\nPrinting out the ClassLoader#getDefinedPackages on the instance supplied when creating the ebean Database connection results in this:\r\n\r\n```\r\norg.example.ebean\r\norg.example.ebean.database\r\norg.example.ebean.io.ebean\r\norg.example.ebean.io.ebean.annotation\r\norg.example.ebean.io.ebean.config\r\norg.example.ebean.io.ebean.config.dbplatform\r\norg.example.ebean.io.ebean.datasource\r\norg.example.ebean.io.ebean.meta\r\n```\r\n\r\nAs you can see, the `org.example.ebean.io.ebeaninternal` package and subpackages are not outputted in this list. \r\n\r\n## Underlying issue\r\nHow/where is the package &quot;ebeaninternal&quot; being loaded if at all? How can I get the enhanced querybean to find this package so it can load the implementation (DRawSql) of SpiRawSqlService?\r\n\r\n","title":"SpiRawSqlService not found setting up EBean in a Spigot plugin","body":"<h2>Overview</h2>\n<p>I set up a <a href=\"https://github.com/amp7368/BukkitEBeanExample/tree/problem-description/output\" rel=\"nofollow noreferrer\">github repo</a> for this question to provide as much of the boiled down environment as possible.</p>\n<p>My goal is to set up <a href=\"https://ebean.io/\" rel=\"nofollow noreferrer\">ebean</a> ORM for database manangement from a <a href=\"https://papermc.io/\" rel=\"nofollow noreferrer\">Paper Minecraft</a> plugin. I'm able to shade in the ebean dependencies, but creating a query using &quot;io.ebean:ebean-querybean:&quot; throws an error saying that it cannot find an implementation of SpiRawSqlService.</p>\n<h2>Environment</h2>\n<p>Paper Minecraft: paper-1.19.3-367.jar<br />\nJava 18<br />\nEbean enhancement plugin for IntelliJ(I checked that I have it enabled for this project)<br />\nio.ebean gradle plugin version 13.10.0<br />\nshadowJar gradle plugin version 7.1.2</p>\n<h2>The Stacktrace</h2>\n<p>Everything is fine setting up the database, and saving to the Database. Queries without using a querybean work fine as well. The error is thrown when initializing any <a href=\"https://github.com/amp7368/BukkitEBeanExample/blob/problem-description/output/src/stripped.FindByQueryBean.java\" rel=\"nofollow noreferrer\">class containing a reference</a> to a generated querybean.<br />\nThe error outputted is printed the <a href=\"https://github.com/amp7368/BukkitEBeanExample/blob/problem-description/output/latest.log\" rel=\"nofollow noreferrer\">latest.log</a><br />\n<code>Caused by: java.lang.IllegalStateException: No service implementation found for interface org.example.ebean.io.ebean.service.SpiRawSqlService</code></p>\n<p>The stacktrace tells us that it couldn't find <code>org.example.ebean.io.ebean.service.SpiRawSqlService</code>.<br />\nLooking at the decompiled shadowJar after package relocation, the implementation for this class is found at <code>org.example.ebean.io.ebeaninternal.server.rawsql.DRawSql</code>;</p>\n<p>Printing out the ClassLoader#getDefinedPackages on the instance supplied when creating the ebean Database connection results in this:</p>\n<pre><code>org.example.ebean\norg.example.ebean.database\norg.example.ebean.io.ebean\norg.example.ebean.io.ebean.annotation\norg.example.ebean.io.ebean.config\norg.example.ebean.io.ebean.config.dbplatform\norg.example.ebean.io.ebean.datasource\norg.example.ebean.io.ebean.meta\n</code></pre>\n<p>As you can see, the <code>org.example.ebean.io.ebeaninternal</code> package and subpackages are not outputted in this list.</p>\n<h2>Underlying issue</h2>\n<p>How/where is the package &quot;ebeaninternal&quot; being loaded if at all? How can I get the enhanced querybean to find this package so it can load the implementation (DRawSql) of SpiRawSqlService?</p>\n"},{"tags":["python","java","android","nfc","pyscard"],"answers":[{"tags":[],"owner":{"account_id":8152518,"reputation":109,"user_id":6139079,"display_name":"Engensmax"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674936105,"creation_date":1674936105,"answer_id":75270496,"question_id":75176102,"body_markdown":"The answer here is dependent on the smart card reader and tag that is used.\r\n\r\n\r\nIn my case, using an ACR1252U ([Product page](https://www.acs.com.hk/en/products/342/acr1252u-usb-nfc-reader-iii-nfc-forum-certified-reader/) \r\n&amp; [API documentation](https://www.acs.com.hk/download-manual/6402/API-ACR1252U-1.17.pdf)) and a Mifare Ultralight C:\r\n\r\n1. Start a session:\r\n```\r\ncardservice.connection.transmit([0xFF, 0xC2, 0x00, 0x00, 0x02, 0x81, 0x00])\r\n```\r\n2. Send command via transparent exchange &quot;transceive&quot; (0x95):\r\n```\r\nmessage_in_java_bytes = [48, 4]\r\nmessage = [x%256 for x in message_in_java_bytes]\r\ncardservice.connection.transmit([0xFF, 0xC2, 0x00, 0x01, len(message)+2, 0x95, len(message), *message])\r\n```\r\n(Card response format: C0 03 00 90 00 92 01 00 96 02 00 00 97 0C **[Card Response]** 90 00)\r\n\r\n3. Close session\r\n```\r\ncardservice.connection.transmit([0xFF, 0xC2, 0x00, 0x00, 0x02, 0x82, 0x00])\r\n```\r\n\r\n### Some further documentation:\r\n\r\n[Android Tag Operation commands](http://apps4android.org/nfc-specifications/NFCForum-TS-Type-2-Tag_1.1.pdf)\r\n\r\n[Relation between APDU and ISO 14443-A](https://stackoverflow.com/questions/75203161/relation-between-apdu-and-higher-level-nfc-protocols-such-as-iso-14443-3a)\r\n\r\n[NFC Forum Digital Protocol (this goes deep down the rabbit hole)](https://its-wiki.no/images/3/3b/NFC_forum_digital_protocol.pdf#page=44&amp;zoom=100,117,308)","title":"Android&#39;s NfcA to python&#39;s pyscard (smartcard)","body":"<p>The answer here is dependent on the smart card reader and tag that is used.</p>\n<p>In my case, using an ACR1252U (<a href=\"https://www.acs.com.hk/en/products/342/acr1252u-usb-nfc-reader-iii-nfc-forum-certified-reader/\" rel=\"nofollow noreferrer\">Product page</a>\n&amp; <a href=\"https://www.acs.com.hk/download-manual/6402/API-ACR1252U-1.17.pdf\" rel=\"nofollow noreferrer\">API documentation</a>) and a Mifare Ultralight C:</p>\n<ol>\n<li>Start a session:</li>\n</ol>\n<pre><code>cardservice.connection.transmit([0xFF, 0xC2, 0x00, 0x00, 0x02, 0x81, 0x00])\n</code></pre>\n<ol start=\"2\">\n<li>Send command via transparent exchange &quot;transceive&quot; (0x95):</li>\n</ol>\n<pre><code>message_in_java_bytes = [48, 4]\nmessage = [x%256 for x in message_in_java_bytes]\ncardservice.connection.transmit([0xFF, 0xC2, 0x00, 0x01, len(message)+2, 0x95, len(message), *message])\n</code></pre>\n<p>(Card response format: C0 03 00 90 00 92 01 00 96 02 00 00 97 0C <strong>[Card Response]</strong> 90 00)</p>\n<ol start=\"3\">\n<li>Close session</li>\n</ol>\n<pre><code>cardservice.connection.transmit([0xFF, 0xC2, 0x00, 0x00, 0x02, 0x82, 0x00])\n</code></pre>\n<h3>Some further documentation:</h3>\n<p><a href=\"http://apps4android.org/nfc-specifications/NFCForum-TS-Type-2-Tag_1.1.pdf\" rel=\"nofollow noreferrer\">Android Tag Operation commands</a></p>\n<p><a href=\"https://stackoverflow.com/questions/75203161/relation-between-apdu-and-higher-level-nfc-protocols-such-as-iso-14443-3a\">Relation between APDU and ISO 14443-A</a></p>\n<p><a href=\"https://its-wiki.no/images/3/3b/NFC_forum_digital_protocol.pdf#page=44&amp;zoom=100,117,308\" rel=\"nofollow noreferrer\">NFC Forum Digital Protocol (this goes deep down the rabbit hole)</a></p>\n"}],"owner":{"account_id":8152518,"reputation":109,"user_id":6139079,"display_name":"Engensmax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75270496,"answer_count":1,"score":0,"last_activity_date":1674936105,"creation_date":1674149412,"question_id":75176102,"body_markdown":"I am backwards-engineering an android application (written in java) into a python application, where nfc (apdu) commands are sent. (ISO 14443-3A, if that helps)\r\n\r\nThe android applications makes use of the `android.nfc.tech.NfcA` library and sends commands such as:\r\n```\r\nimport android.nfc.tech.NfcA;\r\nNfcA nfca_tag;\r\nbyte[] message;\r\nmessage = nfca_tag.transceive(new byte[]{48, 4});\r\n// also with negative numbers:\r\nmessage = nfca_tag.transceive(new byte[]{-51, 13};\r\n```\r\n\r\nOn the python-side, using the pyscard module an example would look like this:\r\n\r\n```\r\nfrom smartcard.CardRequest import CardRequest\r\n\r\ncardrequest = CardRequest( timeout=1, \r\n cardType=cardtype )\r\ncardservice = cardrequest.waitforcard()\r\ncardservice.connection.connect()\r\n\r\ndata, sw1, sw2 = cardservice.connection.transmit([0xFF, 0xB0, 0x00, 0x00, 0x0F])\r\n# respectively\r\ndata, sw1, sw2 = cardservice.connection.transmit([255, 176, 0, 0, 15])\r\n```\r\nWhat is the translation of the android NfcA&#39;s message (such as `{48, 4}`) to python pyscard&#39;s message (such as `[0xFF, 0xB0, 0x00, 0x00, 0x0F]&#39;)?\r\n\r\nNow i know, that java bytes go from -128 to 127 and therefore whatever byte we have in java, we can translate it using this function\r\n```\r\ndef java_byte_to_python(java_byte: int):\r\n    return java_byte%256\r\n```\r\nHowever, it seems to me, that the NfcA module already has some bytes that are sent by default, as an apdu command requires at least 4 bytes?\r\n\r\n\r\n----------\r\n\r\n\r\nFurther information on the specific tag for this application:\r\n\r\n- ISO/IEC 14443:3 (Type A) compatible\r\n\r\n**Android technology information:**\r\n 1. TAG: Tech [android.nfc.tech.NfcA]\r\n 2. Maximum transceive length: 253 bytes\r\n 3. Default maximum transceive time-out: 618 ms\r\n\r\n**Detailed protocol information**\r\n - ID: 46:53:54:4E:31:31:6D\r\n - ATQA: 0x4400\r\n - SAK: 0x00\r\n - ATS: 0xFFFF","title":"Android&#39;s NfcA to python&#39;s pyscard (smartcard)","body":"<p>I am backwards-engineering an android application (written in java) into a python application, where nfc (apdu) commands are sent. (ISO 14443-3A, if that helps)</p>\n<p>The android applications makes use of the <code>android.nfc.tech.NfcA</code> library and sends commands such as:</p>\n<pre><code>import android.nfc.tech.NfcA;\nNfcA nfca_tag;\nbyte[] message;\nmessage = nfca_tag.transceive(new byte[]{48, 4});\n// also with negative numbers:\nmessage = nfca_tag.transceive(new byte[]{-51, 13};\n</code></pre>\n<p>On the python-side, using the pyscard module an example would look like this:</p>\n<pre><code>from smartcard.CardRequest import CardRequest\n\ncardrequest = CardRequest( timeout=1, \n cardType=cardtype )\ncardservice = cardrequest.waitforcard()\ncardservice.connection.connect()\n\ndata, sw1, sw2 = cardservice.connection.transmit([0xFF, 0xB0, 0x00, 0x00, 0x0F])\n# respectively\ndata, sw1, sw2 = cardservice.connection.transmit([255, 176, 0, 0, 15])\n</code></pre>\n<p>What is the translation of the android NfcA's message (such as <code>{48, 4}</code>) to python pyscard's message (such as `[0xFF, 0xB0, 0x00, 0x00, 0x0F]')?</p>\n<p>Now i know, that java bytes go from -128 to 127 and therefore whatever byte we have in java, we can translate it using this function</p>\n<pre><code>def java_byte_to_python(java_byte: int):\n    return java_byte%256\n</code></pre>\n<p>However, it seems to me, that the NfcA module already has some bytes that are sent by default, as an apdu command requires at least 4 bytes?</p>\n<hr />\n<p>Further information on the specific tag for this application:</p>\n<ul>\n<li>ISO/IEC 14443:3 (Type A) compatible</li>\n</ul>\n<p><strong>Android technology information:</strong></p>\n<ol>\n<li>TAG: Tech [android.nfc.tech.NfcA]</li>\n<li>Maximum transceive length: 253 bytes</li>\n<li>Default maximum transceive time-out: 618 ms</li>\n</ol>\n<p><strong>Detailed protocol information</strong></p>\n<ul>\n<li>ID: 46:53:54:4E:31:31:6D</li>\n<li>ATQA: 0x4400</li>\n<li>SAK: 0x00</li>\n<li>ATS: 0xFFFF</li>\n</ul>\n"},{"tags":["java","android","kotlin","request","character-encoding"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1674934027,"post_id":75270231,"comment_id":132821338,"body_markdown":"Using a debugger, examine `postData`. Is it escaped? If yes, then we need to know more about how you are creating `postData`. For example, your question title mentions `JSONObject`, but there is nothing in your question body that references that class.","body":"Using a debugger, examine <code>postData</code>. Is it escaped? If yes, then we need to know more about how you are creating <code>postData</code>. For example, your question title mentions <code>JSONObject</code>, but there is nothing in your question body that references that class."}],"owner":{"account_id":16438774,"reputation":41,"user_id":11875746,"display_name":"Guilherme Santana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674935377,"creation_date":1674933541,"question_id":75270231,"body_markdown":"I&#39;m trying to do a network request with HttpURLConnection and JSONObject, like this.\r\n\r\n\r\nStep 1: class to serialize the request object\r\n\r\n    fun &lt;T&gt; GsonBuilder.getEncryptedJSON(request: T): JSONObject {\r\n        var encryptedJSON = JSONObject()\r\n        try {\r\n            var data = this\r\n                .excludeFieldsWithoutExposeAnnotation()\r\n                .registerTypeAdapter(String::class.java, StringEncryptSerializer())\r\n                .registerTypeAdapter(java.lang.Long::class.java, LongEncryptSerializer())\r\n                .disableHtmlEscaping()\r\n                .create()\r\n                .toJson(request)\r\n    \r\n            encryptedJSON = JSONObject(data)\r\n            \r\n        } catch (exception: JSONException) {\r\n            Log.e(&quot;exception-json&quot;, exception.toString())\r\n        }\r\n        return encryptedJSON\r\n    }\r\n\r\nStep 2: Class UploadRequest that extends HttpRequest and has a property called body witch is type of JSONObject\r\n\r\n    uploadRequest.body = GsonBuilder().getEncryptedJSON&lt;UploadRequest&gt;(this)\r\n\r\nStep 3: request after a few steps, is the request HTTP class\r\n\r\n    postData = request.getBody().toString().getBytes(StandardCharsets.UTF_8);\r\n    wr = new DataOutputStream(connection.getOutputStream());\r\n    wr.write(postData);\r\n    wr.flush();\r\n\r\nI&#39;ve seen: After transform my body into JSONObject, the problem happens.\r\n\r\nThe result I expected is bellow:\r\n    {&quot;fileName&quot;:&quot;&quot;0NKTqOdZ154T/ksxOwdx0VzHNQmGfM0UlpPrreb0vFnGh/Rw3UZEx94aUAuZtr8lW/da07/h/RNoyXpMqpGXKA====&quot;}\r\n\r\nBut, everytime I&#39;ve seen the log inside the gateway, the request content is ESCAPING FOWARD SLASHES, like this\r\n\r\n    {&quot;fileName&quot;:&quot;&quot;0NKTqOdZ154T\\/ksxOwdx0VzHNQmGfM0UlpPrreb0vFnGh\\/Rw3UZEx94aUAuZtr8lW\\/da07\\/h\\/RNoyXpMqpGXKA====&quot;}\r\n\r\nDo you have any idea why this happen?!\r\n\r\nThank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dm8iA.png","title":"Avoid escape foward slash in Android request with JSONObject","body":"<p>I'm trying to do a network request with HttpURLConnection and JSONObject, like this.</p>\n<p>Step 1: class to serialize the request object</p>\n<pre><code>fun &lt;T&gt; GsonBuilder.getEncryptedJSON(request: T): JSONObject {\n    var encryptedJSON = JSONObject()\n    try {\n        var data = this\n            .excludeFieldsWithoutExposeAnnotation()\n            .registerTypeAdapter(String::class.java, StringEncryptSerializer())\n            .registerTypeAdapter(java.lang.Long::class.java, LongEncryptSerializer())\n            .disableHtmlEscaping()\n            .create()\n            .toJson(request)\n\n        encryptedJSON = JSONObject(data)\n        \n    } catch (exception: JSONException) {\n        Log.e(&quot;exception-json&quot;, exception.toString())\n    }\n    return encryptedJSON\n}\n</code></pre>\n<p>Step 2: Class UploadRequest that extends HttpRequest and has a property called body witch is type of JSONObject</p>\n<pre><code>uploadRequest.body = GsonBuilder().getEncryptedJSON&lt;UploadRequest&gt;(this)\n</code></pre>\n<p>Step 3: request after a few steps, is the request HTTP class</p>\n<pre><code>postData = request.getBody().toString().getBytes(StandardCharsets.UTF_8);\nwr = new DataOutputStream(connection.getOutputStream());\nwr.write(postData);\nwr.flush();\n</code></pre>\n<p>I've seen: After transform my body into JSONObject, the problem happens.</p>\n<p>The result I expected is bellow:\n{&quot;fileName&quot;:&quot;&quot;0NKTqOdZ154T/ksxOwdx0VzHNQmGfM0UlpPrreb0vFnGh/Rw3UZEx94aUAuZtr8lW/da07/h/RNoyXpMqpGXKA====&quot;}</p>\n<p>But, everytime I've seen the log inside the gateway, the request content is ESCAPING FOWARD SLASHES, like this</p>\n<pre><code>{&quot;fileName&quot;:&quot;&quot;0NKTqOdZ154T\\/ksxOwdx0VzHNQmGfM0UlpPrreb0vFnGh\\/Rw3UZEx94aUAuZtr8lW\\/da07\\/h\\/RNoyXpMqpGXKA====&quot;}\n</code></pre>\n<p>Do you have any idea why this happen?!</p>\n<p>Thank you!</p>\n"},{"tags":["java"],"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674936321,"answer_count":0,"score":0,"last_activity_date":1674935191,"creation_date":1674935191,"question_id":75270399,"body_markdown":"I have a question on how does `invoke` function convert `Object` type arguments to primitive types required as a parameter of a function which is being invoke. \r\n\r\nHere is the example for more clarity\r\n\r\nSuppose\r\n\r\n```\r\nclass ABC{\r\n\r\n    public static void callMe(Integer i ){\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow,I can invoke this function like this \r\n\r\n```\r\nInteger i = Integer.valueOf(5)\r\nABC.callMe(i) --------------------&gt; It works \r\n\r\nObject o = i \r\nABC.callMe(o) --------&gt; It will throw compile time warnings \r\n````\r\n\r\nIf `ABC.callMe` can not accept the `Object` type parameter then how does the below code works \r\n\r\n```\r\nObject o = 5;\r\n\r\n// here callMeMethodInstance is the Method instance of callMe from ABC class \r\ncallMeMethodInstance.invoke(null, o ); \r\n\r\n```\r\n\r\nHow come above `invoke` function works perfectly while when I pass `5` in `Object` reference does not work. \r\n\r\nHope my question is clear.  \r\n","title":"Java reflection invoke function","body":"<p>I have a question on how does <code>invoke</code> function convert <code>Object</code> type arguments to primitive types required as a parameter of a function which is being invoke.</p>\n<p>Here is the example for more clarity</p>\n<p>Suppose</p>\n<pre><code>class ABC{\n\n    public static void callMe(Integer i ){\n\n    }\n}\n\n</code></pre>\n<p>Now,I can invoke this function like this</p>\n<pre><code>Integer i = Integer.valueOf(5)\nABC.callMe(i) --------------------&gt; It works \n\nObject o = i \nABC.callMe(o) --------&gt; It will throw compile time warnings \n</code></pre>\n<p>If <code>ABC.callMe</code> can not accept the <code>Object</code> type parameter then how does the below code works</p>\n<pre><code>Object o = 5;\n\n// here callMeMethodInstance is the Method instance of callMe from ABC class \ncallMeMethodInstance.invoke(null, o ); \n\n</code></pre>\n<p>How come above <code>invoke</code> function works perfectly while when I pass <code>5</code> in <code>Object</code> reference does not work.</p>\n<p>Hope my question is clear.</p>\n"},{"tags":["java","functional-interface"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1674933826,"post_id":75269609,"comment_id":132821295,"body_markdown":"you could create 2 classes and A and B that extends TestSupplier and use just one getter. I dont really know if that is what you want","body":"you could create 2 classes and A and B that extends TestSupplier and use just one getter. I dont really know if that is what you want"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1674934158,"post_id":75269609,"comment_id":132821364,"body_markdown":"or you create your own single getter that receives the boolean and depending on the boolean you return A or B","body":"or you create your own single getter that receives the boolean and depending on the boolean you return A or B"},{"owner":{"account_id":5043930,"reputation":582,"user_id":4050538,"accept_rate":33,"display_name":"Agricola"},"score":0,"creation_date":1674945926,"post_id":75269609,"comment_id":132823373,"body_markdown":"Thanks for looking at it, but no I&#39;m not looking for something abstraction can solve here. It&#39;s hard to see in my minimal case, but in the real thing I&#39;m doing A and B are semantically different and apply to the same object. I just have to do similar things with them as part of a larger overall computation so was hoping to avoid repeating myself.","body":"Thanks for looking at it, but no I&#39;m not looking for something abstraction can solve here. It&#39;s hard to see in my minimal case, but in the real thing I&#39;m doing A and B are semantically different and apply to the same object. I just have to do similar things with them as part of a larger overall computation so was hoping to avoid repeating myself."}],"answers":[{"comments":[{"owner":{"account_id":5043930,"reputation":582,"user_id":4050538,"accept_rate":33,"display_name":"Agricola"},"score":0,"creation_date":1674945981,"post_id":75270299,"comment_id":132823378,"body_markdown":"Thanks, that&#39;s exactly what I was looking for. It doesn&#39;t help a lot in my minimal example above, but applied to my actual problem its a big help.","body":"Thanks, that&#39;s exactly what I was looking for. It doesn&#39;t help a lot in my minimal example above, but applied to my actual problem its a big help."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674934219,"creation_date":1674934219,"answer_id":75270299,"question_id":75269609,"body_markdown":"It sounds like what you want is\r\n\r\n```\r\nToIntFunction&lt;TestSupplier&gt; fn = isA ? TestSupplier::getA : TestSupplier::getB;\r\nfor (TestSupplier obj: list) {\r\n  sum += fn.applyAsInt(obj);\r\n}\r\n```\r\n\r\nIt&#39;s up to you whether you consider that an improvement.\r\n\r\nYou could also pass in the `ToIntFunction` instead of the `boolean`, passing in `TestSupplier::getA` instead of `true` etc.","title":"Generic Supplier for n Getters Across Collection","body":"<p>It sounds like what you want is</p>\n<pre><code>ToIntFunction&lt;TestSupplier&gt; fn = isA ? TestSupplier::getA : TestSupplier::getB;\nfor (TestSupplier obj: list) {\n  sum += fn.applyAsInt(obj);\n}\n</code></pre>\n<p>It's up to you whether you consider that an improvement.</p>\n<p>You could also pass in the <code>ToIntFunction</code> instead of the <code>boolean</code>, passing in <code>TestSupplier::getA</code> instead of <code>true</code> etc.</p>\n"}],"owner":{"account_id":5043930,"reputation":582,"user_id":4050538,"accept_rate":33,"display_name":"Agricola"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75270299,"answer_count":1,"score":0,"last_activity_date":1674934219,"creation_date":1674927664,"question_id":75269609,"body_markdown":"I have a collection of Java objects where I want to run a single function across multiple values I might find in some of the object&#39;s member variables. I&#39;m looking for a nice way to pass in which getter should be used so I can have one method do all that work. I was thinking about something like a Supplier, but that would mean I have to have one per instance of the class. Here&#39;s an example of what I&#39;m trying to do (only I would like to do this without the if statement or with potentially n getters a switch statement:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class TestSupplier {\r\n   private int varA;\r\n   private int varB;\r\n\r\n   public TestSupplier(int varA, int varB) {\r\n      this.varA = varA;\r\n      this.varB = varB;\r\n   }\r\n\r\n   public int getA() {\r\n      return this.varA;\r\n   }\r\n\r\n   public int getB() {\r\n      return this.varB;\r\n   }\r\n\r\n   public static void main(String[] args) {\r\n      List&lt;TestSupplier&gt; testList = new ArrayList&lt;&gt;();\r\n      testList.add(new TestSupplier(1, 11));\r\n      testList.add(new TestSupplier(2, 22));\r\n      // Can I pass something like a generic supplier instead of a bool?\r\n      TestSupplier.someCollectorFunction(testList, true);\r\n      TestSupplier.someCollectorFunction(testList, false);\r\n   }\r\n\r\n   public static void someCollectorFunction(List&lt;TestSupplier&gt; list, boolean isA /* what if I want more than one getter*/) {\r\n      int sum = 0;\r\n      for (TestSupplier obj: list) {\r\n         // This is where I wish I could have a generic supplier or something\r\n         if (isA) {\r\n            sum = sum + obj.getA();\r\n         }\r\n         else {\r\n            sum = sum + obj.getB();\r\n         }\r\n      }\r\n      System.out.println(&quot;I have a sum: &quot; + sum);\r\n   }\r\n}\r\n```\r\n\r\nIs there something is Java&#39;s functional API that would let me do this?","title":"Generic Supplier for n Getters Across Collection","body":"<p>I have a collection of Java objects where I want to run a single function across multiple values I might find in some of the object's member variables. I'm looking for a nice way to pass in which getter should be used so I can have one method do all that work. I was thinking about something like a Supplier, but that would mean I have to have one per instance of the class. Here's an example of what I'm trying to do (only I would like to do this without the if statement or with potentially n getters a switch statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class TestSupplier {\n   private int varA;\n   private int varB;\n\n   public TestSupplier(int varA, int varB) {\n      this.varA = varA;\n      this.varB = varB;\n   }\n\n   public int getA() {\n      return this.varA;\n   }\n\n   public int getB() {\n      return this.varB;\n   }\n\n   public static void main(String[] args) {\n      List&lt;TestSupplier&gt; testList = new ArrayList&lt;&gt;();\n      testList.add(new TestSupplier(1, 11));\n      testList.add(new TestSupplier(2, 22));\n      // Can I pass something like a generic supplier instead of a bool?\n      TestSupplier.someCollectorFunction(testList, true);\n      TestSupplier.someCollectorFunction(testList, false);\n   }\n\n   public static void someCollectorFunction(List&lt;TestSupplier&gt; list, boolean isA /* what if I want more than one getter*/) {\n      int sum = 0;\n      for (TestSupplier obj: list) {\n         // This is where I wish I could have a generic supplier or something\n         if (isA) {\n            sum = sum + obj.getA();\n         }\n         else {\n            sum = sum + obj.getB();\n         }\n      }\n      System.out.println(&quot;I have a sum: &quot; + sum);\n   }\n}\n</code></pre>\n<p>Is there something is Java's functional API that would let me do this?</p>\n"},{"tags":["java","spring","grafana","micrometer","spring-micrometer"],"answers":[{"comments":[{"owner":{"account_id":240885,"reputation":13386,"user_id":511362,"accept_rate":71,"display_name":"Jan Thom&#228;"},"score":0,"creation_date":1584015079,"post_id":60652922,"comment_id":107309584,"body_markdown":"So what does Grafana show? Less or more? How often do you scrape data from your app? Could it be a timing issue?","body":"So what does Grafana show? Less or more? How often do you scrape data from your app? Could it be a timing issue?"},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":0,"creation_date":1584375655,"post_id":60652922,"comment_id":107412019,"body_markdown":"Can you please add a reference to your claim about thread-safety? And even if you copy-paste actual source code, this would be an implementation detail and anyone programming against this version of the source code how it is today is making a bold assumption. We need a reference to actual docs, preferably JavaDoc.","body":"Can you please add a reference to your claim about thread-safety? And even if you copy-paste actual source code, this would be an implementation detail and anyone programming against this version of the source code how it is today is making a bold assumption. We need a reference to actual docs, preferably JavaDoc."},{"owner":{"account_id":240885,"reputation":13386,"user_id":511362,"accept_rate":71,"display_name":"Jan Thom&#228;"},"score":0,"creation_date":1584391534,"post_id":60652922,"comment_id":107418328,"body_markdown":"Well I actually just checked the implementation. You are right that the Javadoc does not give such a guarantee. Then again I would argue that a metrics library which is not thread-safe would not be very useful.","body":"Well I actually just checked the implementation. You are right that the Javadoc does not give such a guarantee. Then again I would argue that a metrics library which is not thread-safe would not be very useful."},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":0,"creation_date":1592489179,"post_id":60652922,"comment_id":110448804,"body_markdown":"I understand your point, but I would argue any library without documentation is not very useful. Usually if someone can&#39;t document and then write clean code then he probably started writing spaghetti code and discovers at some point in time in the future that the code is such a mess it can&#39;t even be documented. So not having proper docs is usually a tell-tale sign of what kind of &quot;quality&quot; you pull into your own project.\n\nThread-safety is SUPER important - especially for a metrics library. That this is not documented anywhere is very sad. They need to take a look at their priorities.","body":"I understand your point, but I would argue any library without documentation is not very useful. Usually if someone can&#39;t document and then write clean code then he probably started writing spaghetti code and discovers at some point in time in the future that the code is such a mess it can&#39;t even be documented. So not having proper docs is usually a tell-tale sign of what kind of &quot;quality&quot; you pull into your own project.  Thread-safety is SUPER important - especially for a metrics library. That this is not documented anywhere is very sad. They need to take a look at their priorities."},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":0,"creation_date":1592489264,"post_id":60652922,"comment_id":110448846,"body_markdown":"Actually I just came back to this problem again. Because now I am working with dynamic meters that needs to be removed. So I need to know what memory visibility guarantees do I have, I clearly don&#39;t want to remove a meter before it has been scraped, and so on. Again, sad.","body":"Actually I just came back to this problem again. Because now I am working with dynamic meters that needs to be removed. So I need to know what memory visibility guarantees do I have, I clearly don&#39;t want to remove a meter before it has been scraped, and so on. Again, sad."},{"owner":{"account_id":240885,"reputation":13386,"user_id":511362,"accept_rate":71,"display_name":"Jan Thom&#228;"},"score":0,"creation_date":1592826659,"post_id":60652922,"comment_id":110554345,"body_markdown":"Well I understand your concerns. It&#39;s not like you have a lot of options here though, so sometimes you will just need to make do with what you have. Then again it&#39;s an open source project so if you have the resources and inclination you could send them some pull request and improve the package.","body":"Well I understand your concerns. It&#39;s not like you have a lot of options here though, so sometimes you will just need to make do with what you have. Then again it&#39;s an open source project so if you have the resources and inclination you could send them some pull request and improve the package."}],"tags":[],"owner":{"account_id":240885,"reputation":13386,"user_id":511362,"accept_rate":71,"display_name":"Jan Thom&#228;"},"comment_count":6,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1584011542,"creation_date":1584011542,"answer_id":60652922,"question_id":60651605,"body_markdown":"The counters are thread safe, internally they use some atomic data structure for counting. Given your code I would suspect that what the logger prints is quite different from what you see in grafana because the logger prints the size of the current batch while the counter prints the sum of all batch sizes.","title":"Are counters thread safe in Micrometer","body":"<p>The counters are thread safe, internally they use some atomic data structure for counting. Given your code I would suspect that what the logger prints is quite different from what you see in grafana because the logger prints the size of the current batch while the counter prints the sum of all batch sizes.</p>\n"},{"comments":[{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":0,"creation_date":1584375510,"post_id":60673063,"comment_id":107411947,"body_markdown":"Your actual answer is the last sentence, put in parenthesis. Without a reference. I was THIS close to downvoting lol.","body":"Your actual answer is the last sentence, put in parenthesis. Without a reference. I was THIS close to downvoting lol."}],"tags":[],"owner":{"account_id":942478,"reputation":14367,"user_id":970308,"accept_rate":62,"display_name":"checketts"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584112877,"creation_date":1584112877,"answer_id":60673063,"question_id":60651605,"body_markdown":"Counters are monotonically incrementing. So if a previous batch has occurred, then a new batch would add to the previous total.\r\n\r\nWhat back end are you using? If you are using Prometheus you might wrap your query in an `increase` function so you can visualize how much the counter is increasing.\r\n\r\n(To answer the original question though: Yes, counters are thread safe)","title":"Are counters thread safe in Micrometer","body":"<p>Counters are monotonically incrementing. So if a previous batch has occurred, then a new batch would add to the previous total.</p>\n\n<p>What back end are you using? If you are using Prometheus you might wrap your query in an <code>increase</code> function so you can visualize how much the counter is increasing.</p>\n\n<p>(To answer the original question though: Yes, counters are thread safe)</p>\n"},{"comments":[{"owner":{"account_id":2551552,"reputation":716,"user_id":2215215,"display_name":"Juan Carrey"},"score":0,"creation_date":1685687487,"post_id":75270292,"comment_id":134698460,"body_markdown":"Not pointless to have a non thread safe. You could have a threading model where a single thread and an event loop is used, and thus synchronization is not needed and yet consumes most of the performance gains on this model.","body":"Not pointless to have a non thread safe. You could have a threading model where a single thread and an event loop is used, and thus synchronization is not needed and yet consumes most of the performance gains on this model."}],"tags":[],"owner":{"account_id":1495202,"reputation":1116,"user_id":1401322,"accept_rate":9,"display_name":"ROTOGG"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674934131,"creation_date":1674934131,"answer_id":75270292,"question_id":60651605,"body_markdown":"There are two levels of concurrency\r\n1) concurrent access to the meter registry that holds the counter reference. This is thread safe \r\n```\r\n    private final Map&lt;Meter.Id, Meter&gt; meterMap = new ConcurrentHashMap();\r\n```\r\n\r\n2) concurrent access to the counter itself. Since in micrometer, the backing counter is from the registered framework (e.g. say netflix `atlas`).  One would &quot;safely&quot; assume counter implementation would be thread safe because it would otherwise be useless. But for sake of argument, we can see that one such exampe, the SimpleMeterRegistry implementation of a cumulative counter \r\n provided by micrometer.io is thread-safe, as it uses JDK `DoubleAdder` as its backing implementation \r\n```\r\npublic class CumulativeCounter extends AbstractMeter implements Counter {\r\n    private final DoubleAdder value = new DoubleAdder();\r\n```\r\n\r\nAnd again, the answer depends on the registry, even though we can safely assume all published registry guarantees counter-level thread-safely. Or, to get a definite answer, we need to a definite question \r\n```\r\nAre counters from Netflix Atlas registry thread safe in Micrometer\r\n```","title":"Are counters thread safe in Micrometer","body":"<p>There are two levels of concurrency</p>\n<ol>\n<li>concurrent access to the meter registry that holds the counter reference. This is thread safe</li>\n</ol>\n<pre><code>    private final Map&lt;Meter.Id, Meter&gt; meterMap = new ConcurrentHashMap();\n</code></pre>\n<ol start=\"2\">\n<li>concurrent access to the counter itself. Since in micrometer, the backing counter is from the registered framework (e.g. say netflix <code>atlas</code>).  One would &quot;safely&quot; assume counter implementation would be thread safe because it would otherwise be useless. But for sake of argument, we can see that one such exampe, the SimpleMeterRegistry implementation of a cumulative counter\nprovided by micrometer.io is thread-safe, as it uses JDK <code>DoubleAdder</code> as its backing implementation</li>\n</ol>\n<pre><code>public class CumulativeCounter extends AbstractMeter implements Counter {\n    private final DoubleAdder value = new DoubleAdder();\n</code></pre>\n<p>And again, the answer depends on the registry, even though we can safely assume all published registry guarantees counter-level thread-safely. Or, to get a definite answer, we need to a definite question</p>\n<pre><code>Are counters from Netflix Atlas registry thread safe in Micrometer\n</code></pre>\n"}],"owner":{"account_id":1481208,"reputation":3739,"user_id":1403801,"accept_rate":90,"display_name":"NewUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5653,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":60652922,"answer_count":3,"score":6,"last_activity_date":1674934131,"creation_date":1584007177,"question_id":60651605,"body_markdown":"I am trying to publish number of events my App is processing. This is the code I have at the receiving end:\r\n\r\n    public void process(List&lt;String&gt; batch) {\r\n        logger.info (&quot;Processing batch of size &quot; + batch.size())\r\n        metrics.incrementCounter(MetricsType.CONSUMER_TOTAL_PROCESSED, batch.size)\r\n    }\r\n\r\nThe class Metrics is:\r\n\r\n```\r\npublic class Metrics {\r\n    private static final Map&lt;MetricsType, Counter&gt; COUNTER_MAP = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    public Metrics(\r\n        @Autowired MeterRegistry meterRegistry\r\n    ) {\r\n        COUNTER_MAP.put(\r\n            MetricsType.CONSUMER_TOTAL_PROCESSED,\r\n            Counter.builder(&quot;CONSUMER_TOTAL_PROCESSED&quot;).register(meterRegistry)\r\n        );\r\n\r\n        COUNTER_MAP.put(\r\n            MetricsType.CONSUMER_DUPLICATE_PROCESSED,\r\n            Counter.builder(&quot;CONSUMER_DUPLICATE_PROCESSED&quot;).register(meterRegistry)\r\n        );\r\n    }\r\n\r\n    public void increment(MetricsType metricsType, int size) {\r\n        COUNTER_MAP.get(metricsType).increment(size);\r\n    }\r\n}\r\n```\r\n\r\nThe enum `MetricsType` contains all type of counters.\r\n\r\nThe `process` method is be invoked by 16 threads at any time. The issue I am facing is the logger which prints the count and the total count reported in grafana are way off.\r\n\r\nDo I have to synchonize everytime I am incrementing the counter?\r\n\r\n-----\r\nEdit - What I mean by the counts are off is, if there are two logs with size 200, then grafana should report total counter 400. I am validating this by taking a time range of 2 hours, I extract all the sizes from logs and add them.\r\n\r\n-----\r\nIf you stumble upon this and see a difference between two sources please check what is your maximum number of data points in Grafana, that was the actual issue why I thought counters may not be threadsafe. ","title":"Are counters thread safe in Micrometer","body":"<p>I am trying to publish number of events my App is processing. This is the code I have at the receiving end:</p>\n\n<pre><code>public void process(List&lt;String&gt; batch) {\n    logger.info (\"Processing batch of size \" + batch.size())\n    metrics.incrementCounter(MetricsType.CONSUMER_TOTAL_PROCESSED, batch.size)\n}\n</code></pre>\n\n<p>The class Metrics is:</p>\n\n<pre><code>public class Metrics {\n    private static final Map&lt;MetricsType, Counter&gt; COUNTER_MAP = new ConcurrentHashMap&lt;&gt;();\n\n    public Metrics(\n        @Autowired MeterRegistry meterRegistry\n    ) {\n        COUNTER_MAP.put(\n            MetricsType.CONSUMER_TOTAL_PROCESSED,\n            Counter.builder(\"CONSUMER_TOTAL_PROCESSED\").register(meterRegistry)\n        );\n\n        COUNTER_MAP.put(\n            MetricsType.CONSUMER_DUPLICATE_PROCESSED,\n            Counter.builder(\"CONSUMER_DUPLICATE_PROCESSED\").register(meterRegistry)\n        );\n    }\n\n    public void increment(MetricsType metricsType, int size) {\n        COUNTER_MAP.get(metricsType).increment(size);\n    }\n}\n</code></pre>\n\n<p>The enum <code>MetricsType</code> contains all type of counters.</p>\n\n<p>The <code>process</code> method is be invoked by 16 threads at any time. The issue I am facing is the logger which prints the count and the total count reported in grafana are way off.</p>\n\n<p>Do I have to synchonize everytime I am incrementing the counter?</p>\n\n<hr>\n\n<p>Edit - What I mean by the counts are off is, if there are two logs with size 200, then grafana should report total counter 400. I am validating this by taking a time range of 2 hours, I extract all the sizes from logs and add them.</p>\n\n<hr>\n\n<p>If you stumble upon this and see a difference between two sources please check what is your maximum number of data points in Grafana, that was the actual issue why I thought counters may not be threadsafe. </p>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"score":0,"creation_date":1674933590,"post_id":75258883,"comment_id":132821249,"body_markdown":"Creating a stubLoadedValue`with null-values has the effect that Hibernate dirty checking doesn&#39;t recognize setting a value to null as dirty. A better initial value is LazyPropertyInitializer.UNFETCHED_PROPERTY, I&#39;ve updated the answer","body":"Creating a stubLoadedValue`with null-values has the effect that Hibernate dirty checking doesn&#39;t recognize setting a value to null as dirty. A better initial value is LazyPropertyInitializer.UNFETCHED_PROPERTY, I&#39;ve updated the answer"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1675434266,"post_id":75258883,"comment_id":132933963,"body_markdown":"Might be worth trying out Hibernate 5.6 and also 6.2 to see if that is still an issue, and if it is, please create an issue in the issue tracker(https://hibernate.atlassian.net) with a test case(https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-6/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java) that reproduces the issue.","body":"Might be worth trying out Hibernate 5.6 and also 6.2 to see if that is still an issue, and if it is, please create an issue in the issue tracker(<a href=\"https://hibernate.atlassian.net\" rel=\"nofollow noreferrer\">hibernate.atlassian.net</a>) with a test case(<a href=\"https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-6/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates/blob&zwnj;&#8203;/master/&hellip;</a>) that reproduces the issue."}],"tags":[],"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674933611,"creation_date":1674826806,"answer_id":75258883,"question_id":75258882,"body_markdown":"The cause is DefaultSaveOrUpdateEventListener.performUpdate(), which eventually runs\r\n\r\n```\r\npersistenceContext.addEntity(\r\n\t\tentity,\r\n\t\t( persister.isMutable() ? Status.MANAGED : Status.READ_ONLY ),\r\n\t\tnull, // &lt;-- this is the &#39;loadedState&#39;\r\n\t\tkey,\r\n\t\tpersister.getVersion( entity ),\r\n\t\tLockMode.NONE,\r\n\t\ttrue,\r\n\t\tpersister,\r\n\t\tfalse\r\n);\r\n```\r\n\r\nso an EntityEntry is created with a loadedState of null. Later, when the LazyAttributeLoadingInterceptor loads the collection and attempts to replace the loaded state for that property, the \r\n\r\n```\r\nassert loadedState != null;\r\n```\r\nfires.\r\n\r\nI&#39;m not sure whether this is a Hibernate bug, or our code just loads/manages entities in a way that Hibernate does not support. Our workaround was to add a \r\n\r\n```\r\npublic class LazyAttributeSaveOrUpdateEventListener implements SaveOrUpdateEventListener {\r\n\r\n    public static final LazyAttributeSaveOrUpdateEventListener INSTANCE = new LazyAttributeSaveOrUpdateEventListener();\r\n    private static final long serialVersionUID = 1L;\r\n    private static final Log LOGGER = LogFactory.getLog(LazyAttributeSaveOrUpdateEventListener.class);\r\n\r\n    private final transient Field loadedStateField;\r\n\r\n    LazyAttributeSaveOrUpdateEventListener() {\r\n        loadedStateField = ReflectionUtils.findField(AbstractEntityEntry.class, &quot;loadedState&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onSaveOrUpdate(SaveOrUpdateEvent event) throws HibernateException {\r\n        if (event.getEntity() instanceof PersistentAttributeInterceptable) {\r\n            initializeLoadedState(event);\r\n        }\r\n    }\r\n\r\n    private void initializeLoadedState(SaveOrUpdateEvent event) {\r\n        final EntityEntry entry = getEntityEntry(event);\r\n        final Object[] loadedState = entry.getLoadedState();\r\n        if (loadedState == null &amp;&amp; entry.getStatus() != Status.READ_ONLY) {\r\n            // if accessing a lazy-loaded collection on this entity, org.hibernate.persister.entity.AbstractEntityPersister.initializeLazyProperty()\r\n            // will try to re-set the loaded state, resulting in an AssertionError if loadedState is null\r\n            LOGGER.debug(&quot;Got empty loaded state for &quot; + event.getEntity());\r\n            EntityPersister persister = entry.getPersister();\r\n            Object[] stubLoadedValue = ArrayHelper.filledArray(\r\n                LazyPropertyInitializer.UNFETCHED_PROPERTY,\r\n                Object.class,\r\n                persister.getPropertyTypes().length);\r\n            ReflectionUtils.makeAccessible(loadedStateField);\r\n            ReflectionUtils.setField(loadedStateField, entry, stubLoadedValue);\r\n        }\r\n    }\r\n\r\n    private EntityEntry getEntityEntry(SaveOrUpdateEvent event) {\r\n        return Optional.ofNullable(event.getEntry())\r\n            .orElseGet(() -&gt; {\r\n                final PersistenceContext persistenceContext = event.getSession().getPersistenceContextInternal();\r\n                return persistenceContext.getEntry(event.getEntity());\r\n            });\r\n    }\r\n\r\n}\r\n```\r\n\r\nand register it as\r\n```\r\neventListenerRegistry.appendListeners(EventType.SAVE_UPDATE, LazyAttributeSaveOrUpdateEventListener.INSTANCE);\r\n```\r\n\r\nI was worried above adverse side-effects of create a null-initialized loaded state, but so far everything seems to be working.","title":"AssertionError after enabling LazyInitialization enhancement in Hibernate","body":"<p>The cause is DefaultSaveOrUpdateEventListener.performUpdate(), which eventually runs</p>\n<pre><code>persistenceContext.addEntity(\n        entity,\n        ( persister.isMutable() ? Status.MANAGED : Status.READ_ONLY ),\n        null, // &lt;-- this is the 'loadedState'\n        key,\n        persister.getVersion( entity ),\n        LockMode.NONE,\n        true,\n        persister,\n        false\n);\n</code></pre>\n<p>so an EntityEntry is created with a loadedState of null. Later, when the LazyAttributeLoadingInterceptor loads the collection and attempts to replace the loaded state for that property, the</p>\n<pre><code>assert loadedState != null;\n</code></pre>\n<p>fires.</p>\n<p>I'm not sure whether this is a Hibernate bug, or our code just loads/manages entities in a way that Hibernate does not support. Our workaround was to add a</p>\n<pre><code>public class LazyAttributeSaveOrUpdateEventListener implements SaveOrUpdateEventListener {\n\n    public static final LazyAttributeSaveOrUpdateEventListener INSTANCE = new LazyAttributeSaveOrUpdateEventListener();\n    private static final long serialVersionUID = 1L;\n    private static final Log LOGGER = LogFactory.getLog(LazyAttributeSaveOrUpdateEventListener.class);\n\n    private final transient Field loadedStateField;\n\n    LazyAttributeSaveOrUpdateEventListener() {\n        loadedStateField = ReflectionUtils.findField(AbstractEntityEntry.class, &quot;loadedState&quot;);\n    }\n\n    @Override\n    public void onSaveOrUpdate(SaveOrUpdateEvent event) throws HibernateException {\n        if (event.getEntity() instanceof PersistentAttributeInterceptable) {\n            initializeLoadedState(event);\n        }\n    }\n\n    private void initializeLoadedState(SaveOrUpdateEvent event) {\n        final EntityEntry entry = getEntityEntry(event);\n        final Object[] loadedState = entry.getLoadedState();\n        if (loadedState == null &amp;&amp; entry.getStatus() != Status.READ_ONLY) {\n            // if accessing a lazy-loaded collection on this entity, org.hibernate.persister.entity.AbstractEntityPersister.initializeLazyProperty()\n            // will try to re-set the loaded state, resulting in an AssertionError if loadedState is null\n            LOGGER.debug(&quot;Got empty loaded state for &quot; + event.getEntity());\n            EntityPersister persister = entry.getPersister();\n            Object[] stubLoadedValue = ArrayHelper.filledArray(\n                LazyPropertyInitializer.UNFETCHED_PROPERTY,\n                Object.class,\n                persister.getPropertyTypes().length);\n            ReflectionUtils.makeAccessible(loadedStateField);\n            ReflectionUtils.setField(loadedStateField, entry, stubLoadedValue);\n        }\n    }\n\n    private EntityEntry getEntityEntry(SaveOrUpdateEvent event) {\n        return Optional.ofNullable(event.getEntry())\n            .orElseGet(() -&gt; {\n                final PersistenceContext persistenceContext = event.getSession().getPersistenceContextInternal();\n                return persistenceContext.getEntry(event.getEntity());\n            });\n    }\n\n}\n</code></pre>\n<p>and register it as</p>\n<pre><code>eventListenerRegistry.appendListeners(EventType.SAVE_UPDATE, LazyAttributeSaveOrUpdateEventListener.INSTANCE);\n</code></pre>\n<p>I was worried above adverse side-effects of create a null-initialized loaded state, but so far everything seems to be working.</p>\n"}],"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674933611,"creation_date":1674826806,"question_id":75258882,"body_markdown":"Posting this as it might help others in a similar situation.\r\n\r\nWe&#39;re upgrading a project from Hibernate 3.6.11 to 5.4.25, and some of the entities are mapped with lazy-loading properties. In Hibernate 3.6.11 this required the use of the Ant `org.hibernate.tool.instrument.javassist.InstrumentTask`. In Hibernate 5, this has been replaced with a quite different `EnhancementTask` (using enableLazyInitialization=true).\r\n\r\nWith this new approach, we&#39;re seeing errors\r\n\r\n```\r\njava.lang.AssertionError\r\n\tat org.hibernate.engine.internal.AbstractEntityEntry.overwriteLoadedStateCollectionValue(AbstractEntityEntry.java:334)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.initializeLazyProperty(AbstractEntityPersister.java:1144)\r\n\tat org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributeLoadingInterceptor.lambda$loadAttribute$0(LazyAttributeLoadingInterceptor.java:104)\r\n\tat org.hibernate.bytecode.enhance.spi.interceptor.EnhancementHelper.performWork(EnhancementHelper.java:130)\r\n\tat org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributeLoadingInterceptor.loadAttribute(LazyAttributeLoadingInterceptor.java:76)\r\n\tat org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributeLoadingInterceptor.fetchAttribute(LazyAttributeLoadingInterceptor.java:72)\r\n\tat org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributeLoadingInterceptor.handleRead(LazyAttributeLoadingInterceptor.java:53)\r\n\tat org.hibernate.bytecode.enhance.spi.interceptor.AbstractInterceptor.readObject(AbstractInterceptor.java:153)\r\n\tat com.sample.entity.OrderModel.$$_hibernate_read_orderpositions(OrderModel.java)\r\n\tat com.sample.entity.OrderModel.getOrderPositions(OrderModel.java:1537)\r\n```\r\n\t\r\nThis happens in the sequence\r\n\r\n 1. Load entity OrderModel\r\n 2. Run preload pattern on the OrderModel instance, but crucially OrderModel.getOrderPositions() are **not preloaded**\r\n 3. Outside of the transaction, change the OrderModel instance\r\n 4. In a new transaction, save the OrderModel instance\r\n 5. Still within the transaction, iterate over OrderModel.getOrderPositions()\r\n\r\nWhen accessing the collection, the above stacktrace occurs.","title":"AssertionError after enabling LazyInitialization enhancement in Hibernate","body":"<p>Posting this as it might help others in a similar situation.</p>\n<p>We're upgrading a project from Hibernate 3.6.11 to 5.4.25, and some of the entities are mapped with lazy-loading properties. In Hibernate 3.6.11 this required the use of the Ant <code>org.hibernate.tool.instrument.javassist.InstrumentTask</code>. In Hibernate 5, this has been replaced with a quite different <code>EnhancementTask</code> (using enableLazyInitialization=true).</p>\n<p>With this new approach, we're seeing errors</p>\n<pre><code>java.lang.AssertionError\n    at org.hibernate.engine.internal.AbstractEntityEntry.overwriteLoadedStateCollectionValue(AbstractEntityEntry.java:334)\n    at org.hibernate.persister.entity.AbstractEntityPersister.initializeLazyProperty(AbstractEntityPersister.java:1144)\n    at org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributeLoadingInterceptor.lambda$loadAttribute$0(LazyAttributeLoadingInterceptor.java:104)\n    at org.hibernate.bytecode.enhance.spi.interceptor.EnhancementHelper.performWork(EnhancementHelper.java:130)\n    at org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributeLoadingInterceptor.loadAttribute(LazyAttributeLoadingInterceptor.java:76)\n    at org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributeLoadingInterceptor.fetchAttribute(LazyAttributeLoadingInterceptor.java:72)\n    at org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributeLoadingInterceptor.handleRead(LazyAttributeLoadingInterceptor.java:53)\n    at org.hibernate.bytecode.enhance.spi.interceptor.AbstractInterceptor.readObject(AbstractInterceptor.java:153)\n    at com.sample.entity.OrderModel.$$_hibernate_read_orderpositions(OrderModel.java)\n    at com.sample.entity.OrderModel.getOrderPositions(OrderModel.java:1537)\n</code></pre>\n<p>This happens in the sequence</p>\n<ol>\n<li>Load entity OrderModel</li>\n<li>Run preload pattern on the OrderModel instance, but crucially OrderModel.getOrderPositions() are <strong>not preloaded</strong></li>\n<li>Outside of the transaction, change the OrderModel instance</li>\n<li>In a new transaction, save the OrderModel instance</li>\n<li>Still within the transaction, iterate over OrderModel.getOrderPositions()</li>\n</ol>\n<p>When accessing the collection, the above stacktrace occurs.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","hsqldb"],"answers":[{"comments":[{"owner":{"account_id":16029187,"reputation":37,"user_id":11568625,"display_name":"Fabian D."},"score":0,"creation_date":1674947101,"post_id":75270175,"comment_id":132823525,"body_markdown":"Even after adding `ON DELETE CASCADE` to the foreign key `fk_visits_vets` I get the same error :(\nI noticed the following Warning in my IntelliJ Console:\n`INFO  AbstractBatchImpl - HHH000010: On release of batch it still contained JDBC statements\nWARN  SqlExceptionHelper - SQL Warning Code: -1100, SQLState: 02000\nWARN  SqlExceptionHelper - no data`","body":"Even after adding <code>ON DELETE CASCADE</code> to the foreign key <code>fk_visits_vets</code> I get the same error :( I noticed the following Warning in my IntelliJ Console: <code>INFO  AbstractBatchImpl - HHH000010: On release of batch it still contained JDBC statements WARN  SqlExceptionHelper - SQL Warning Code: -1100, SQLState: 02000 WARN  SqlExceptionHelper - no data</code>"},{"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"score":0,"creation_date":1674983289,"post_id":75270175,"comment_id":132827040,"body_markdown":"With ON DELETE CASCADE you do not need to override the generated delete method. The delete will happen automatically and you won&#39;t get the first error message that you reported.","body":"With ON DELETE CASCADE you do not need to override the generated delete method. The delete will happen automatically and you won&#39;t get the first error message that you reported."},{"owner":{"account_id":16029187,"reputation":37,"user_id":11568625,"display_name":"Fabian D."},"score":0,"creation_date":1674997494,"post_id":75270175,"comment_id":132829324,"body_markdown":"You are right! Thank you so much! It still baffles me that I need to change this in the SQL Script during initialization, since the `fk_visits_pets` foreign key hasn&#39;t specified this and it still works. The `pet.delete` method is overriden in the exact same way I defined the `vet.delete` method.","body":"You are right! Thank you so much! It still baffles me that I need to change this in the SQL Script during initialization, since the <code>fk_visits_pets</code> foreign key hasn&#39;t specified this and it still works. The <code>pet.delete</code> method is overriden in the exact same way I defined the <code>vet.delete</code> method."}],"tags":[],"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674932818,"creation_date":1674932818,"answer_id":75270175,"question_id":75268454,"body_markdown":"The foreign key that references the vets table prevents deleting any row in that table which is referenced from the visits table.\r\n\r\nYou can define the foreign key with ON DELETE CASCASE which will cause all the referencing visits to be deleted if a row in the vets table is deleted.\r\n\r\nSee http://hsqldb.org/doc/2.0/guide/databaseobjects-chapt.html#dbc_constraints\r\n\r\nBTW you do not need to create an index on the visits table. The foreign key creates its own index.","title":"SPRING PetClinic: BatchError when trying to delete vets with foreign key to visits","body":"<p>The foreign key that references the vets table prevents deleting any row in that table which is referenced from the visits table.</p>\n<p>You can define the foreign key with ON DELETE CASCASE which will cause all the referencing visits to be deleted if a row in the vets table is deleted.</p>\n<p>See <a href=\"http://hsqldb.org/doc/2.0/guide/databaseobjects-chapt.html#dbc_constraints\" rel=\"nofollow noreferrer\">http://hsqldb.org/doc/2.0/guide/databaseobjects-chapt.html#dbc_constraints</a></p>\n<p>BTW you do not need to create an index on the visits table. The foreign key creates its own index.</p>\n"}],"owner":{"account_id":16029187,"reputation":37,"user_id":11568625,"display_name":"Fabian D."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75270175,"answer_count":1,"score":0,"last_activity_date":1674932818,"creation_date":1674917004,"question_id":75268454,"body_markdown":"I got an assignment to extend the SPRING petclinic application (forked from this repo: https://github.com/spring-petclinic/spring-petclinic-rest ). One assignment is to &quot;Show all visits by a vet&quot;.\r\n\r\nFor that I added a foreign key and a column to the table `visits` to the hsqldb:\r\n\r\n```\r\n...\r\nCREATE TABLE visits (\r\n  id          INTEGER IDENTITY PRIMARY KEY,\r\n  pet_id      INTEGER NOT NULL,\r\n  vet_id      INTEGER NOT NULL,\r\n  visit_date  DATE,\r\n  description VARCHAR(255)\r\n);\r\n\r\nALTER TABLE visits ADD CONSTRAINT fk_visits_vets FOREIGN KEY (vet_id) REFERENCES vets (id);\r\nALTER TABLE visits ADD CONSTRAINT fk_visits_pets FOREIGN KEY (pet_id) REFERENCES pets (id);\r\nCREATE INDEX visits_pet_id ON visits (pet_id);\r\n...\r\n```\r\nEdited the `visit` model accordingly:\r\n```\r\n@Entity\r\n@Table(name = &quot;visits&quot;)\r\npublic class Visit extends BaseEntity {\r\n...\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;vet_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n    private Vet vet;\r\n...\r\n```\r\nAnd added the `vetId` to `#/components/schemas/Visit` in `openapi.yml` too:\r\n```\r\n    Visit:\r\n      title: Visit\r\n      description: A booking for a vet visit.\r\n      allOf:\r\n        - $ref: &#39;#/components/schemas/VisitFields&#39;\r\n        - type: object\r\n          properties:\r\n            id:\r\n              title: ID\r\n              description: The ID of the visit.\r\n              type: integer\r\n              format: int32\r\n              minimum: 0\r\n              example: 1\r\n              readOnly: true\r\n            petId:\r\n              title: Pet ID\r\n              description: The ID of the pet.\r\n              type: integer\r\n              format: int32\r\n              minimum: 0\r\n              example: 1\r\n              readOnly: true\r\n            vetId:\r\n              title: Vet ID\r\n              description: The ID of the veterinarian.\r\n              type: integer\r\n              format: int32\r\n              minimum: 0\r\n              example: 1\r\n              readOnly: true\r\n          required:\r\n            - id\r\n            - vetId\r\n            - petId\r\n```\r\nI am able to build and run the project, but when I try to delete a `vet` I get the following error message:\r\n```\r\n{\r\n  &quot;className&quot;: &quot;org.springframework.dao.DataIntegrityViolationException&quot;,\r\n  &quot;exMessage&quot;: &quot;could not execute statement; SQL [n/a]; constraint [FK_VISITS_VETS]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement&quot;\r\n}\r\n```\r\n\r\nSo I tried to Override the generated `delete` method from `Vet` to FIRST delete all corresponding `Visit`s and THEN delete the `Vet`:\r\n```\r\npublic class SpringDataVetRepositoryImpl implements VetRepositoryOverride {\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n\r\n    @Override\r\n    public void delete(Vet vet) {\r\n        Integer vetId = vet.getId();\r\n        this.em.createQuery(&quot;DELETE FROM Visit visit WHERE vet_id=&quot; + vet.getId()).executeUpdate();\r\n        this.em.createQuery(&quot;DELETE FROM Vet vet WHERE id=&quot; + vet.getId()).executeUpdate();\r\n        if (em.contains(vet)) {\r\n            em.remove(vet);\r\n        }\r\n    }\r\n}\r\n```\r\nBut when I run it now I get an error that I don&#39;t understand, nor have the slightest idea what it could mean:\r\n```\r\n{\r\n  &quot;className&quot;: &quot;org.springframework.orm.ObjectOptimisticLockingFailureException&quot;,\r\n  &quot;exMessage&quot;: &quot;Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; statement executed: delete from vets where id=?; nested exception is org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; statement executed: delete from vets where id=?&quot;\r\n}\r\n```\r\nNeither the `vet`, nor it&#39;s `visits` got deleted. Does anyone has a guess why?\r\nMy current project state can be found here: https://github.com/Fabian-Anna/java-petclinic/tree/user-story-2","title":"SPRING PetClinic: BatchError when trying to delete vets with foreign key to visits","body":"<p>I got an assignment to extend the SPRING petclinic application (forked from this repo: <a href=\"https://github.com/spring-petclinic/spring-petclinic-rest\" rel=\"nofollow noreferrer\">https://github.com/spring-petclinic/spring-petclinic-rest</a> ). One assignment is to &quot;Show all visits by a vet&quot;.</p>\n<p>For that I added a foreign key and a column to the table <code>visits</code> to the hsqldb:</p>\n<pre><code>...\nCREATE TABLE visits (\n  id          INTEGER IDENTITY PRIMARY KEY,\n  pet_id      INTEGER NOT NULL,\n  vet_id      INTEGER NOT NULL,\n  visit_date  DATE,\n  description VARCHAR(255)\n);\n\nALTER TABLE visits ADD CONSTRAINT fk_visits_vets FOREIGN KEY (vet_id) REFERENCES vets (id);\nALTER TABLE visits ADD CONSTRAINT fk_visits_pets FOREIGN KEY (pet_id) REFERENCES pets (id);\nCREATE INDEX visits_pet_id ON visits (pet_id);\n...\n</code></pre>\n<p>Edited the <code>visit</code> model accordingly:</p>\n<pre><code>@Entity\n@Table(name = &quot;visits&quot;)\npublic class Visit extends BaseEntity {\n...\n    @ManyToOne\n    @JoinColumn(name = &quot;vet_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private Vet vet;\n...\n</code></pre>\n<p>And added the <code>vetId</code> to <code>#/components/schemas/Visit</code> in <code>openapi.yml</code> too:</p>\n<pre><code>    Visit:\n      title: Visit\n      description: A booking for a vet visit.\n      allOf:\n        - $ref: '#/components/schemas/VisitFields'\n        - type: object\n          properties:\n            id:\n              title: ID\n              description: The ID of the visit.\n              type: integer\n              format: int32\n              minimum: 0\n              example: 1\n              readOnly: true\n            petId:\n              title: Pet ID\n              description: The ID of the pet.\n              type: integer\n              format: int32\n              minimum: 0\n              example: 1\n              readOnly: true\n            vetId:\n              title: Vet ID\n              description: The ID of the veterinarian.\n              type: integer\n              format: int32\n              minimum: 0\n              example: 1\n              readOnly: true\n          required:\n            - id\n            - vetId\n            - petId\n</code></pre>\n<p>I am able to build and run the project, but when I try to delete a <code>vet</code> I get the following error message:</p>\n<pre><code>{\n  &quot;className&quot;: &quot;org.springframework.dao.DataIntegrityViolationException&quot;,\n  &quot;exMessage&quot;: &quot;could not execute statement; SQL [n/a]; constraint [FK_VISITS_VETS]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement&quot;\n}\n</code></pre>\n<p>So I tried to Override the generated <code>delete</code> method from <code>Vet</code> to FIRST delete all corresponding <code>Visit</code>s and THEN delete the <code>Vet</code>:</p>\n<pre><code>public class SpringDataVetRepositoryImpl implements VetRepositoryOverride {\n    @PersistenceContext\n    private EntityManager em;\n\n    @Override\n    public void delete(Vet vet) {\n        Integer vetId = vet.getId();\n        this.em.createQuery(&quot;DELETE FROM Visit visit WHERE vet_id=&quot; + vet.getId()).executeUpdate();\n        this.em.createQuery(&quot;DELETE FROM Vet vet WHERE id=&quot; + vet.getId()).executeUpdate();\n        if (em.contains(vet)) {\n            em.remove(vet);\n        }\n    }\n}\n</code></pre>\n<p>But when I run it now I get an error that I don't understand, nor have the slightest idea what it could mean:</p>\n<pre><code>{\n  &quot;className&quot;: &quot;org.springframework.orm.ObjectOptimisticLockingFailureException&quot;,\n  &quot;exMessage&quot;: &quot;Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; statement executed: delete from vets where id=?; nested exception is org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; statement executed: delete from vets where id=?&quot;\n}\n</code></pre>\n<p>Neither the <code>vet</code>, nor it's <code>visits</code> got deleted. Does anyone has a guess why?\nMy current project state can be found here: <a href=\"https://github.com/Fabian-Anna/java-petclinic/tree/user-story-2\" rel=\"nofollow noreferrer\">https://github.com/Fabian-Anna/java-petclinic/tree/user-story-2</a></p>\n"},{"tags":["java","spring-boot","maven","microservices","spring-cloud"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674981070,"post_id":75269417,"comment_id":132826720,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":18911521,"reputation":33,"user_id":13797488,"display_name":"Ioannis Priovolos"},"score":0,"creation_date":1674991510,"post_id":75269417,"comment_id":132828311,"body_markdown":"@Community My issue was with the version of the dependencies that I used. I should have used 3.0.2 instead of 2.5.7 in the pom.xml at spring.boot.maven.plugin.version and spring.boot.dependencies.version.","body":"@Community My issue was with the version of the dependencies that I used. I should have used 3.0.2 instead of 2.5.7 in the pom.xml at spring.boot.maven.plugin.version and spring.boot.dependencies.version."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674931781,"creation_date":1674931781,"answer_id":75270068,"question_id":75269417,"body_markdown":"* Spring Boot 2.5.7 does not work with JDK19 (`...core.NestedIOException: ASM ClassReader failed to parse class file - probably d` \r\n * furthermore your project is not even on the latest [2.5.X version][1]. The 2.5.X lines works upto JDK18. The most recent version on 2.5.X line is 2.5.14. \r\n\r\n* [Spring Boot 2.6.X][2] will work up to JDK19\r\n\r\n* [Spring Boot 2.7.X][3] will work up to JDK19.\r\n\r\n* The 2.5.X, 2.6.X line are end of life see for details: https://spring.io/projects/spring-boot#support\r\n\r\n* You should migrate to Spring Boot 3.0.2.\r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/2.5.14/reference/htmlsingle/#getting-started.system-requirements \r\n[2]: https://docs.spring.io/spring-boot/docs/2.6.14/reference/htmlsingle/#getting-started.system-requirements\r\n[3]: https://docs.spring.io/spring-boot/docs/2.7.8/reference/htmlsingle/","title":"Spring Boot and Spring Cloud Miscroservices issue","body":"<ul>\n<li><p>Spring Boot 2.5.7 does not work with JDK19 (<code>...core.NestedIOException: ASM ClassReader failed to parse class file - probably d</code></p>\n</li>\n<li><p>furthermore your project is not even on the latest <a href=\"https://docs.spring.io/spring-boot/docs/2.5.14/reference/htmlsingle/#getting-started.system-requirements\" rel=\"nofollow noreferrer\">2.5.X version</a>. The 2.5.X lines works upto JDK18. The most recent version on 2.5.X line is 2.5.14.</p>\n</li>\n<li><p><a href=\"https://docs.spring.io/spring-boot/docs/2.6.14/reference/htmlsingle/#getting-started.system-requirements\" rel=\"nofollow noreferrer\">Spring Boot 2.6.X</a> will work up to JDK19</p>\n</li>\n<li><p><a href=\"https://docs.spring.io/spring-boot/docs/2.7.8/reference/htmlsingle/\" rel=\"nofollow noreferrer\">Spring Boot 2.7.X</a> will work up to JDK19.</p>\n</li>\n<li><p>The 2.5.X, 2.6.X line are end of life see for details: <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-boot#support</a></p>\n</li>\n<li><p>You should migrate to Spring Boot 3.0.2.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":18911521,"reputation":33,"user_id":13797488,"display_name":"Ioannis Priovolos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674931781,"creation_date":1674926116,"question_id":75269417,"body_markdown":" I tried to create an application based on an Amigoscode video on YouTube (https://www.youtube.com/watch?v=p485kUNpPvE&amp;t=2432s) but I have errors most probably due to the version that I use. I can&#39;t figure out what to fix. Could you please help me? The error that I get is the following:\r\n\r\n```\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/.../Customer$CustomerBuilder.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [/.../Customer$CustomerBuilder.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 63\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:457) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.13.jar:5.3.13]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.7.jar:2.5.7]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765) ~[spring-boot-2.5.7.jar:2.5.7]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-2.5.7.jar:2.5.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.7.jar:2.5.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-2.5.7.jar:2.5.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.7.jar:2.5.7]\r\n\tat com.ioannispriovolos.customer.CustomerApplication.main(CustomerApplication.java:9) ~[classes/:na]\r\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [/.../Customer$CustomerBuilder.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 63\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60) ~[spring-core-5.3.13.jar:5.3.13]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49) ~[spring-core-5.3.13.jar:5.3.13]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103) ~[spring-core-5.3.13.jar:5.3.13]\r\n\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123) ~[spring-core-5.3.13.jar:5.3.13]\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429) ~[spring-context-5.3.13.jar:5.3.13]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 63\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:199) ~[spring-core-5.3.13.jar:5.3.13]\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:180) ~[spring-core-5.3.13.jar:5.3.13]\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:166) ~[spring-core-5.3.13.jar:5.3.13]\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:287) ~[spring-core-5.3.13.jar:5.3.13]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57) ~[spring-core-5.3.13.jar:5.3.13]\r\n\t... 24 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\npom.xml\r\n\r\n```\r\n&lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n    &lt;spring.boot.maven.plugin.version&gt;2.5.7&lt;/spring.boot.maven.plugin.version&gt;\r\n    &lt;spring.boot.dependencies.version&gt;2.5.7&lt;/spring.boot.dependencies.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.24&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;com.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${spring.boot.maven.plugin.version}&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI was trying to create the application using the latest versions of SDK (openjdk-19), language level (17 - Sealed types, always-strict floating-point semantics) and on modules Language level (19 - No new language features). I am using the latest version of IntelliJ CE.","title":"Spring Boot and Spring Cloud Miscroservices issue","body":"<p>I tried to create an application based on an Amigoscode video on YouTube (<a href=\"https://www.youtube.com/watch?v=p485kUNpPvE&amp;t=2432s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=p485kUNpPvE&amp;t=2432s</a>) but I have errors most probably due to the version that I use. I can't figure out what to fix. Could you please help me? The error that I get is the following:</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/.../Customer$CustomerBuilder.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [/.../Customer$CustomerBuilder.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 63\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:457) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765) ~[spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-2.5.7.jar:2.5.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.7.jar:2.5.7]\n    at com.ioannispriovolos.customer.CustomerApplication.main(CustomerApplication.java:9) ~[classes/:na]\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [/.../Customer$CustomerBuilder.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 63\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429) ~[spring-context-5.3.13.jar:5.3.13]\n    ... 20 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 63\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:199) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:180) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:166) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:287) ~[spring-core-5.3.13.jar:5.3.13]\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57) ~[spring-core-5.3.13.jar:5.3.13]\n    ... 24 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n    &lt;spring.boot.maven.plugin.version&gt;2.5.7&lt;/spring.boot.maven.plugin.version&gt;\n    &lt;spring.boot.dependencies.version&gt;2.5.7&lt;/spring.boot.dependencies.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.dependencies.version}&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.24&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;com.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${spring.boot.maven.plugin.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I was trying to create the application using the latest versions of SDK (openjdk-19), language level (17 - Sealed types, always-strict floating-point semantics) and on modules Language level (19 - No new language features). I am using the latest version of IntelliJ CE.</p>\n"},{"tags":["java","android","kotlin","android-gradle-plugin","kapt"],"owner":{"account_id":26217268,"reputation":1,"user_id":19895247,"display_name":"Ali Haider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674931761,"creation_date":1674931371,"question_id":75270019,"body_markdown":"I am using Dagger so I have to use Kotlin kapt for annotionProcessor, so I add kotlin kapt pugin in my project. It causes exceptions. I spent a whole day on this issue. Tried many thing but not succeed.\r\n\r\n\r\n*Here is my Project level buil.gradle\r\n\r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.0&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.21&#39; apply false\r\n}\r\n\r\n```\r\n\r\nand here is my app level build.gradle\r\n\r\n\r\n```\r\n\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n    id &#39;kotlin-kapt&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.android&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.android&quot;\r\n        minSdk 21\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    //Retrofit\r\n    implementation &quot;com.squareup.retrofit2:retrofit:2.9.0&quot;\r\n    implementation &quot;com.squareup.retrofit2:converter-gson:2.9.0&quot;\r\n    implementation &quot;com.squareup.retrofit2:adapter-rxjava3:2.9.0&quot;\r\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:4.10.0&quot;\r\n\r\n    //Rxjava 3\r\n    implementation &#39;io.reactivex.rxjava3:rxjava:3.1.5&#39;\r\n    implementation &#39;io.reactivex.rxjava3:rxandroid:3.0.2&#39;\r\n    implementation &#39;io.reactivex.rxjava3:rxkotlin:3.0.1&#39;\r\n    implementation &#39;com.jakewharton.rxbinding4:rxbinding:4.0.0&#39;\r\n    implementation &#39;com.jakewharton.rxbinding4:rxbinding-appcompat:4.0.0&#39;\r\n\r\n    //dagger\r\n    implementation &#39;com.google.dagger:dagger:2.40.5&#39;\r\n    implementation &#39;com.google.dagger:dagger-android:2.35.1&#39;\r\n    implementation &#39;com.google.dagger:dagger-android-support:2.35.1&#39;\r\n    kapt &#39;com.google.dagger:dagger-compiler:2.40.5&#39;\r\n\r\n    //Glide\r\n    implementation &#39;com.github.bumptech.glide:glide:4.14.2&#39;\r\n    kapt &#39;com.github.bumptech.glide:compiler:4.14.2&#39;\r\n\r\n    // Timber (logging)\r\n    implementation &#39;com.jakewharton.timber:timber:4.6.1&#39;\r\n}\r\n```\r\n\r\nhere is my settings.gradle\r\n\r\n\r\n```\r\npluginManagement {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\nrootProject.name = &quot;Example &quot;\r\ninclude &#39;:app&#39;\r\n\r\n```\r\n\r\nhere is my graddle properties\r\n\r\n\r\n```\r\n&lt;!-- language: lang-groovy --&gt;\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip\r\ndistributionPath=wrapper/dists\r\nzipStorePath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\n```\r\n\r\nand here is error\r\n\r\n\r\n\r\n```\r\nExecution failed for task &#39;:app:kaptDebugKotlin&#39;.\r\n&gt; A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction\r\n   &gt; java.lang.reflect.InvocationTargetException (no error message)\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:kaptDebugKotlin&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction\r\n\tat org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:339)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:130)\r\n\tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:321)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:304)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLock(DefaultWorkerLeaseService.java:309)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:126)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:92)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:78)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:66)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:244)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\r\n\tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.jetbrains.kotlin.gradle.internal.KaptExecution.run(KaptWithoutKotlincTask.kt:316)\r\n\tat org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction.execute(KaptWithoutKotlincTask.kt:262)\r\n\tat org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\r\n\tat org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:205)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\r\n\tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:114)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\r\n\t... 2 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:90)\r\n\tat org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:31)\r\n\tat org.jetbrains.kotlin.kapt3.base.Kapt.kapt(Kapt.kt:47)\r\n\t... 34 more\r\nCaused by: com.sun.tools.javac.processing.AnnotationProcessingError: java.lang.IllegalStateException: Unsupported metadata version. Check that your Kotlin version is &gt;= 1.0\r\n\tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:997)\r\n\tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:901)\r\n\tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1227)\r\n\tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1340)\r\n\tat jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1258)\r\n\t... 40 more\r\nCaused by: java.lang.IllegalStateException: Unsupported metadata version. Check that your Kotlin version is &gt;= 1.0\r\n\tat dagger.internal.codegen.kotlin.KotlinMetadata.metadataOf(KotlinMetadata.java:206)\r\n\tat dagger.internal.codegen.kotlin.KotlinMetadata.from(KotlinMetadata.java:187)\r\n\tat dagger.internal.codegen.kotlin.KotlinMetadataFactory.create(KotlinMetadataFactory.java:56)\r\n\tat dagger.internal.codegen.kotlin.KotlinMetadataUtil.isMissingSyntheticPropertyForAnnotations(KotlinMetadataUtil.java:85)\r\n\tat dagger.internal.codegen.validation.DependencyRequestValidator.missingQualifierMetadata(DependencyRequestValidator.java:100)\r\n\tat dagger.internal.codegen.validation.DependencyRequestValidator.validateDependencyRequest(DependencyRequestValidator.java:79)\r\n\tat dagger.internal.codegen.validation.InjectValidator.validateDependencyRequest(InjectValidator.java:332)\r\n\tat dagger.internal.codegen.validation.InjectValidator.validateField(InjectValidator.java:289)\r\n\tat dagger.internal.codegen.validation.InjectValidator.validateMembersInjectionType(InjectValidator.java:344)\r\n\tat dagger.internal.codegen.validation.InjectValidator.validateUncached(InjectValidator.java:151)\r\n\tat dagger.internal.codegen.base.Util.reentrantComputeIfAbsent(Util.java:33)\r\n\tat dagger.internal.codegen.validation.InjectValidator.validate(InjectValidator.java:145)\r\n\tat dagger.internal.codegen.validation.InjectBindingRegistryImpl.tryRegisterMembersInjectedType(InjectBindingRegistryImpl.java:317)\r\n\tat dagger.internal.codegen.validation.InjectBindingRegistryImpl.tryRegisterInjectField(InjectBindingRegistryImpl.java:295)\r\n\tat dagger.internal.codegen.InjectProcessingStep.process(InjectProcessingStep.java:68)\r\n\tat dagger.internal.codegen.validation.TypeCheckingProcessingStep.lambda$process$0(TypeCheckingProcessingStep.java:65)\r\n\tat com.google.common.collect.RegularImmutableMap.forEach(RegularImmutableMap.java:196)\r\n\tat dagger.internal.codegen.validation.TypeCheckingProcessingStep.process(TypeCheckingProcessingStep.java:55)\r\n\tat dagger.internal.codegen.validation.TypeCheckingProcessingStep.process(TypeCheckingProcessingStep.java:40)\r\n\tat dagger.spi.shaded.androidx.room.compiler.processing.CommonProcessorDelegate.processRound(XBasicAnnotationProcessor.kt:114)\r\n\tat dagger.spi.shaded.androidx.room.compiler.processing.javac.JavacBasicAnnotationProcessor.process(JavacBasicAnnotationProcessor.kt:63)\r\n\tat org.jetbrains.kotlin.kapt3.base.incremental.IncrementalProcessor.process(incrementalProcessors.kt:90)\r\n\tat org.jetbrains.kotlin.kapt3.base.ProcessorWrapper.process(annotationProcessing.kt:197)\r\n\tat jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:985)\r\n\t... 44 more\r\n\r\n```\r\n\r\n\r\nplease solve this bug!\r\nAny help appreciated!!\r\n","title":"`After Adding kotlin kapt plugin it causes Exceptions","body":"<p>I am using Dagger so I have to use Kotlin kapt for annotionProcessor, so I add kotlin kapt pugin in my project. It causes exceptions. I spent a whole day on this issue. Tried many thing but not succeed.</p>\n<p>*Here is my Project level buil.gradle</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.0' apply false\n    id 'com.android.library' version '7.4.0' apply false\n    id 'org.jetbrains.kotlin.android' version '1.7.21' apply false\n}\n\n</code></pre>\n<p>and here is my app level build.gradle</p>\n<pre><code>\nplugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'kotlin-kapt'\n}\n\nandroid {\n    namespace 'com.example.android'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.android&quot;\n        minSdk 21\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.6.0'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    //Retrofit\n    implementation &quot;com.squareup.retrofit2:retrofit:2.9.0&quot;\n    implementation &quot;com.squareup.retrofit2:converter-gson:2.9.0&quot;\n    implementation &quot;com.squareup.retrofit2:adapter-rxjava3:2.9.0&quot;\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:4.10.0&quot;\n\n    //Rxjava 3\n    implementation 'io.reactivex.rxjava3:rxjava:3.1.5'\n    implementation 'io.reactivex.rxjava3:rxandroid:3.0.2'\n    implementation 'io.reactivex.rxjava3:rxkotlin:3.0.1'\n    implementation 'com.jakewharton.rxbinding4:rxbinding:4.0.0'\n    implementation 'com.jakewharton.rxbinding4:rxbinding-appcompat:4.0.0'\n\n    //dagger\n    implementation 'com.google.dagger:dagger:2.40.5'\n    implementation 'com.google.dagger:dagger-android:2.35.1'\n    implementation 'com.google.dagger:dagger-android-support:2.35.1'\n    kapt 'com.google.dagger:dagger-compiler:2.40.5'\n\n    //Glide\n    implementation 'com.github.bumptech.glide:glide:4.14.2'\n    kapt 'com.github.bumptech.glide:compiler:4.14.2'\n\n    // Timber (logging)\n    implementation 'com.jakewharton.timber:timber:4.6.1'\n}\n</code></pre>\n<p>here is my settings.gradle</p>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nrootProject.name = &quot;Example &quot;\ninclude ':app'\n\n</code></pre>\n<p>here is my graddle properties</p>\n<pre><code>&lt;!-- language: lang-groovy --&gt;\ndistributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>and here is error</p>\n<pre><code>Execution failed for task ':app:kaptDebugKotlin'.\n&gt; A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction\n   &gt; java.lang.reflect.InvocationTargetException (no error message)\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:kaptDebugKotlin'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:142)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:140)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction\n    at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:339)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:130)\n    at org.gradle.internal.Factories$1.create(Factories.java:31)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:321)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:304)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLock(DefaultWorkerLeaseService.java:309)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:126)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:92)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:78)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:66)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:244)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.jetbrains.kotlin.gradle.internal.KaptExecution.run(KaptWithoutKotlincTask.kt:316)\n    at org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction.execute(KaptWithoutKotlincTask.kt:262)\n    at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\n    at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\n    at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:205)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\n    at org.gradle.internal.Factories$1.create(Factories.java:31)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:114)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\n    ... 2 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:90)\n    at org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:31)\n    at org.jetbrains.kotlin.kapt3.base.Kapt.kapt(Kapt.kt:47)\n    ... 34 more\nCaused by: com.sun.tools.javac.processing.AnnotationProcessingError: java.lang.IllegalStateException: Unsupported metadata version. Check that your Kotlin version is &gt;= 1.0\n    at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:997)\n    at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:901)\n    at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1227)\n    at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1340)\n    at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1258)\n    ... 40 more\nCaused by: java.lang.IllegalStateException: Unsupported metadata version. Check that your Kotlin version is &gt;= 1.0\n    at dagger.internal.codegen.kotlin.KotlinMetadata.metadataOf(KotlinMetadata.java:206)\n    at dagger.internal.codegen.kotlin.KotlinMetadata.from(KotlinMetadata.java:187)\n    at dagger.internal.codegen.kotlin.KotlinMetadataFactory.create(KotlinMetadataFactory.java:56)\n    at dagger.internal.codegen.kotlin.KotlinMetadataUtil.isMissingSyntheticPropertyForAnnotations(KotlinMetadataUtil.java:85)\n    at dagger.internal.codegen.validation.DependencyRequestValidator.missingQualifierMetadata(DependencyRequestValidator.java:100)\n    at dagger.internal.codegen.validation.DependencyRequestValidator.validateDependencyRequest(DependencyRequestValidator.java:79)\n    at dagger.internal.codegen.validation.InjectValidator.validateDependencyRequest(InjectValidator.java:332)\n    at dagger.internal.codegen.validation.InjectValidator.validateField(InjectValidator.java:289)\n    at dagger.internal.codegen.validation.InjectValidator.validateMembersInjectionType(InjectValidator.java:344)\n    at dagger.internal.codegen.validation.InjectValidator.validateUncached(InjectValidator.java:151)\n    at dagger.internal.codegen.base.Util.reentrantComputeIfAbsent(Util.java:33)\n    at dagger.internal.codegen.validation.InjectValidator.validate(InjectValidator.java:145)\n    at dagger.internal.codegen.validation.InjectBindingRegistryImpl.tryRegisterMembersInjectedType(InjectBindingRegistryImpl.java:317)\n    at dagger.internal.codegen.validation.InjectBindingRegistryImpl.tryRegisterInjectField(InjectBindingRegistryImpl.java:295)\n    at dagger.internal.codegen.InjectProcessingStep.process(InjectProcessingStep.java:68)\n    at dagger.internal.codegen.validation.TypeCheckingProcessingStep.lambda$process$0(TypeCheckingProcessingStep.java:65)\n    at com.google.common.collect.RegularImmutableMap.forEach(RegularImmutableMap.java:196)\n    at dagger.internal.codegen.validation.TypeCheckingProcessingStep.process(TypeCheckingProcessingStep.java:55)\n    at dagger.internal.codegen.validation.TypeCheckingProcessingStep.process(TypeCheckingProcessingStep.java:40)\n    at dagger.spi.shaded.androidx.room.compiler.processing.CommonProcessorDelegate.processRound(XBasicAnnotationProcessor.kt:114)\n    at dagger.spi.shaded.androidx.room.compiler.processing.javac.JavacBasicAnnotationProcessor.process(JavacBasicAnnotationProcessor.kt:63)\n    at org.jetbrains.kotlin.kapt3.base.incremental.IncrementalProcessor.process(incrementalProcessors.kt:90)\n    at org.jetbrains.kotlin.kapt3.base.ProcessorWrapper.process(annotationProcessing.kt:197)\n    at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:985)\n    ... 44 more\n\n</code></pre>\n<p>please solve this bug!\nAny help appreciated!!</p>\n"},{"tags":["java","ethereum","public-key"],"answers":[{"comments":[{"owner":{"account_id":5757543,"reputation":107,"user_id":4544927,"display_name":"Jijo"},"score":0,"creation_date":1674925829,"post_id":75269352,"comment_id":132819802,"body_markdown":"This will be an uncompressed form of the public key. I actually wanted to know how we can compress them.","body":"This will be an uncompressed form of the public key. I actually wanted to know how we can compress them."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1674929796,"post_id":75269352,"comment_id":132820613,"body_markdown":"I have updated my answer to provide compressed key","body":"I have updated my answer to provide compressed key"},{"owner":{"account_id":5757543,"reputation":107,"user_id":4544927,"display_name":"Jijo"},"score":0,"creation_date":1675288956,"post_id":75269352,"comment_id":132899375,"body_markdown":"I think this implementation you have provided is based on bitcoin(I am not sure). I have a BigInteger or a Hex String of the public key in uncompressed form.","body":"I think this implementation you have provided is based on bitcoin(I am not sure). I have a BigInteger or a Hex String of the public key in uncompressed form."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674929765,"creation_date":1674925483,"answer_id":75269352,"question_id":75269269,"body_markdown":"Try this for compressed public key - info from [here][1]\r\n\r\n\tDeterministicSeed seed = new DeterministicSeed(&quot;some seed code here&quot;, null, &quot;&quot;, 1409478661L);\r\n\tDeterministicKeyChain chain = DeterministicKeyChain.builder().seed(seed).build();\r\n\tDeterministicKey addrKey = chain.getKeyByPath(HDUtils.parsePath(&quot;M/44H/60H/0H/0/0&quot;), true);\r\n\tSystem.out.println(&quot;Address: &quot; + Keys.getAddress(Sign.publicKeyFromPrivate(addrKey.getPrivKey())));\t\t// mapper();\r\n\tSystem.out.println(&quot;Uncompressed public key: &quot; + Sign.publicKeyFromPrivate(addrKey.getPrivKey()).toString(16));\r\n\tSystem.out.println(&quot;Compressed key: &quot; + addrKey.getPublicKeyAsHex());\r\n\r\n -- Output  --\r\n\r\n    Address: 97f2582fec180600268ebae9a0052e676d876c27\r\n    Uncompressed public key: 37efe8e46dc39bee0f099871de99fe68a931730c02ef2918f832f30572b3f1a54f8d52fcaea129e31ac836063e2c432aac815cb86664165d1a226fe51a851d47\r\n    Compressed key: 0337efe8e46dc39bee0f099871de99fe68a931730c02ef2918f832f30572b3f1a5\r\n\r\nDependencies are as follows:\r\n\r\n    import org.bitcoinj.crypto.DeterministicKey;\r\n    import org.bitcoinj.crypto.HDUtils;\r\n    import org.bitcoinj.wallet.DeterministicKeyChain;\r\n    import org.bitcoinj.wallet.DeterministicSeed;\r\n    import org.bitcoinj.wallet.UnreadableWalletException;\r\n    import org.mapstruct.AfterMapping;\r\n    import org.web3j.crypto.ECKeyPair;\r\n    import org.web3j.crypto.Keys;\r\n    import org.web3j.crypto.Sign;\r\n    \r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.web3j&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;crypto&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.3.1-android&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bitcoinj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bitcoinj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.16.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/65491344/generate-ethereum-addresses-in-hd-wallet-using-public-key-only-bitcoinj-web3j\r\n\r\n\r\n\r\n\r\n","title":"Compress a ethereum public key using java spring boot","body":"<p>Try this for compressed public key - info from <a href=\"https://stackoverflow.com/questions/65491344/generate-ethereum-addresses-in-hd-wallet-using-public-key-only-bitcoinj-web3j\">here</a></p>\n<pre><code>DeterministicSeed seed = new DeterministicSeed(&quot;some seed code here&quot;, null, &quot;&quot;, 1409478661L);\nDeterministicKeyChain chain = DeterministicKeyChain.builder().seed(seed).build();\nDeterministicKey addrKey = chain.getKeyByPath(HDUtils.parsePath(&quot;M/44H/60H/0H/0/0&quot;), true);\nSystem.out.println(&quot;Address: &quot; + Keys.getAddress(Sign.publicKeyFromPrivate(addrKey.getPrivKey())));     // mapper();\nSystem.out.println(&quot;Uncompressed public key: &quot; + Sign.publicKeyFromPrivate(addrKey.getPrivKey()).toString(16));\nSystem.out.println(&quot;Compressed key: &quot; + addrKey.getPublicKeyAsHex());\n</code></pre>\n<p>-- Output  --</p>\n<pre><code>Address: 97f2582fec180600268ebae9a0052e676d876c27\nUncompressed public key: 37efe8e46dc39bee0f099871de99fe68a931730c02ef2918f832f30572b3f1a54f8d52fcaea129e31ac836063e2c432aac815cb86664165d1a226fe51a851d47\nCompressed key: 0337efe8e46dc39bee0f099871de99fe68a931730c02ef2918f832f30572b3f1a5\n</code></pre>\n<p>Dependencies are as follows:</p>\n<pre><code>import org.bitcoinj.crypto.DeterministicKey;\nimport org.bitcoinj.crypto.HDUtils;\nimport org.bitcoinj.wallet.DeterministicKeyChain;\nimport org.bitcoinj.wallet.DeterministicSeed;\nimport org.bitcoinj.wallet.UnreadableWalletException;\nimport org.mapstruct.AfterMapping;\nimport org.web3j.crypto.ECKeyPair;\nimport org.web3j.crypto.Keys;\nimport org.web3j.crypto.Sign;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.web3j&lt;/groupId&gt;\n        &lt;artifactId&gt;crypto&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1-android&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bitcoinj&lt;/groupId&gt;\n        &lt;artifactId&gt;bitcoinj-core&lt;/artifactId&gt;\n        &lt;version&gt;0.16.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5757543,"reputation":107,"user_id":4544927,"display_name":"Jijo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674929765,"creation_date":1674924618,"question_id":75269269,"body_markdown":"I have generated a private-public key pair using the web3j library.\r\n\r\n    ECKeyPair ecKeyPair = Keys.createEcKeyPair();\r\n    BigInteger publicKey = ecKeyPair.getPublicKey();\r\n\r\nThis returns an uncompressed form of the public key. I wanted to convert the same to a compressed format to generate the wallet using the below website.\r\n\r\nhttps://lab.miguelmota.com/ethereum-public-key-to-address/example/\r\n\r\nI know we can create the wallet directly using the Keypair, but I need this to work on the above website when I paste the public key.\r\n\r\nI am using web3j version 5.0.0, and there is no built-in method to compress the public key.\r\n\r\nAre there any other libraries or methods we can use to achieve the same","title":"Compress a ethereum public key using java spring boot","body":"<p>I have generated a private-public key pair using the web3j library.</p>\n<pre><code>ECKeyPair ecKeyPair = Keys.createEcKeyPair();\nBigInteger publicKey = ecKeyPair.getPublicKey();\n</code></pre>\n<p>This returns an uncompressed form of the public key. I wanted to convert the same to a compressed format to generate the wallet using the below website.</p>\n<p><a href=\"https://lab.miguelmota.com/ethereum-public-key-to-address/example/\" rel=\"nofollow noreferrer\">https://lab.miguelmota.com/ethereum-public-key-to-address/example/</a></p>\n<p>I know we can create the wallet directly using the Keypair, but I need this to work on the above website when I paste the public key.</p>\n<p>I am using web3j version 5.0.0, and there is no built-in method to compress the public key.</p>\n<p>Are there any other libraries or methods we can use to achieve the same</p>\n"},{"tags":["java","android","apache-commons-text"],"answers":[{"tags":[],"owner":{"account_id":2636263,"reputation":5473,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674929632,"creation_date":1674929632,"answer_id":75269834,"question_id":75269833,"body_markdown":"As per the [release history][1], Apache Commons Text requires Java 8 since version 1.4 (released in mid-2018), which is not fully supported on older Android versions.\r\n\r\nSpecifically, one of the missing classes is [`java.util.Base64`][2], which was introduced with Java 8. On Android [it requires API 26][3] (Android 8) or higher.\r\n\r\nIf you need to support Android back to version 7, going back to Apache Commons Text version 1.3 works, as long as you are not relying on any of the features introduced in later versions. (`StringSubstitutor.replace()` was already available back then.)\r\n\r\nIf you decide to go down that route, bear in mind that you will be stuck with a library that (as of January 2023) is almost five years old, to support an OS that is at least six years old and for which security updates were discontinued more than three years ago.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/changes-report.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\r\n  [3]: https://developer.android.com/reference/java/util/Base64?hl=en\r\n","title":"Apache commons-text throwing NoClassDefFoundError on Android 4.4.4","body":"<p>As per the <a href=\"https://commons.apache.org/proper/commons-text/changes-report.html\" rel=\"nofollow noreferrer\">release history</a>, Apache Commons Text requires Java 8 since version 1.4 (released in mid-2018), which is not fully supported on older Android versions.</p>\n<p>Specifically, one of the missing classes is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\"><code>java.util.Base64</code></a>, which was introduced with Java 8. On Android <a href=\"https://developer.android.com/reference/java/util/Base64?hl=en\" rel=\"nofollow noreferrer\">it requires API 26</a> (Android 8) or higher.</p>\n<p>If you need to support Android back to version 7, going back to Apache Commons Text version 1.3 works, as long as you are not relying on any of the features introduced in later versions. (<code>StringSubstitutor.replace()</code> was already available back then.)</p>\n<p>If you decide to go down that route, bear in mind that you will be stuck with a library that (as of January 2023) is almost five years old, to support an OS that is at least six years old and for which security updates were discontinued more than three years ago.</p>\n"}],"owner":{"account_id":2636263,"reputation":5473,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75269834,"answer_count":1,"score":1,"last_activity_date":1674929632,"creation_date":1674929632,"question_id":75269833,"body_markdown":"I have a library which uses the Apache Commons Text library.\r\n\r\nA test suite for my library runs fine in JRE. However, when I use the library in an Android app and try to run it on an old device (running Android 4.4.4 aka KitKat), it crashes with a `NoClassDefFoundError`. The offending call seems to be `StringSubstitutor.replace()`.\r\n\r\nWhat is the issue here?","title":"Apache commons-text throwing NoClassDefFoundError on Android 4.4.4","body":"<p>I have a library which uses the Apache Commons Text library.</p>\n<p>A test suite for my library runs fine in JRE. However, when I use the library in an Android app and try to run it on an old device (running Android 4.4.4 aka KitKat), it crashes with a <code>NoClassDefFoundError</code>. The offending call seems to be <code>StringSubstitutor.replace()</code>.</p>\n<p>What is the issue here?</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1674927912,"post_id":75269602,"comment_id":132820233,"body_markdown":"Where does the original `head` point to after the method returns in the first snippet??","body":"Where does the original <code>head</code> point to after the method returns in the first snippet??"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1674928897,"post_id":75269602,"comment_id":132820443,"body_markdown":"@luk2302, it ends up where it needs to end up? I don&#39;t see your point...","body":"@luk2302, it ends up where it needs to end up? I don&#39;t see your point..."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1674929088,"post_id":75269602,"comment_id":132820479,"body_markdown":"@trincot okay, I was referring to the `next` of the original `head`. &quot;point to&quot; was not a good phrase in this context.","body":"@trincot okay, I was referring to the <code>next</code> of the original <code>head</code>. &quot;point to&quot; was not a good phrase in this context."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674928721,"creation_date":1674928721,"answer_id":75269726,"question_id":75269602,"body_markdown":"The faulty code does not ever change the `next` member of the first node. Thus a cycle will be created between the first two nodes, which will become the last two nodes once the list has been reversed. It may help to visualise it with an example list having 1, 2 and 3 as node values:\r\n\r\nThe state when the loop is about to start its first iteration:\r\n\r\n```none\r\n head             current\r\n  ↓                ↓\r\n┌────────────┐   ┌────────────┐   ┌────────────┐\r\n│ value:   1 │   │ value:   2 │   │ value:   3 │\r\n│ next: ────────►│ next: ────────►│ next: null │\r\n│            │   │            │   │            │\r\n└────────────┘   └────────────┘   └────────────┘\r\n```\r\n\r\nEffect of `ListNode temp = current.next;`:\r\n\r\n```none\r\n head             current          temp\r\n  ↓                ↓                ↓\r\n┌────────────┐   ┌────────────┐   ┌────────────┐\r\n│ value:   1 │   │ value:   2 │   │ value:   3 │\r\n│ next: ────────►│ next: ────────►│ next: null │\r\n│            │   │            │   │            │\r\n└────────────┘   └────────────┘   └────────────┘\r\n```\r\n\r\nEffect of `current.next = head;`:\r\n\r\n```none\r\n head             current          temp\r\n  ↓                ↓                ↓\r\n┌────────────┐   ┌────────────┐   ┌────────────┐\r\n│ value:   1 │   │ value:   2 │   │ value:   3 │\r\n│ next: ────────►│ next: ─┐   │   │ next: null │\r\n│            │◄───────────┘   │   │            │\r\n└────────────┘   └────────────┘   └────────────┘\r\n```\r\n\r\n... the cycle is made!\r\n\r\nThe next two statements `head = current;` and `current = temp;` only move references:\r\n\r\n```none\r\n                  head             current\r\n                   ↓                ↓\r\n┌────────────┐   ┌────────────┐   ┌────────────┐\r\n│ value:   1 │   │ value:   2 │   │ value:   3 │\r\n│ next: ────────►│ next: ─┐   │   │ next: null │\r\n│            │◄───────────┘   │   │            │\r\n└────────────┘   └────────────┘   └────────────┘\r\n```\r\n\r\nThe next iteration will not touch this cycle anymore. The damage is permanent. The returned list will be:\r\n\r\n```none\r\n                                   head\r\n                                    ↓\r\n┌────────────┐   ┌────────────┐   ┌────────────┐\r\n│ value:   1 │   │ value:   2 │   │ value:   3 │\r\n│ next: ────────►│ next: ─┐   │   │ next: ─┐   │\r\n│            │◄───────────┘   │◄───────────┘   │\r\n└────────────┘   └────────────┘   └────────────┘\r\n```\r\n\r\n","title":"Java LinkedList &quot;Error - Found cycle in the ListNode,&quot; why does solution B work but not solution A","body":"<p>The faulty code does not ever change the <code>next</code> member of the first node. Thus a cycle will be created between the first two nodes, which will become the last two nodes once the list has been reversed. It may help to visualise it with an example list having 1, 2 and 3 as node values:</p>\n<p>The state when the loop is about to start its first iteration:</p>\n<pre class=\"lang-none prettyprint-override\"><code> head             current\n  ↓                ↓\n┌────────────┐   ┌────────────┐   ┌────────────┐\n│ value:   1 │   │ value:   2 │   │ value:   3 │\n│ next: ────────►│ next: ────────►│ next: null │\n│            │   │            │   │            │\n└────────────┘   └────────────┘   └────────────┘\n</code></pre>\n<p>Effect of <code>ListNode temp = current.next;</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code> head             current          temp\n  ↓                ↓                ↓\n┌────────────┐   ┌────────────┐   ┌────────────┐\n│ value:   1 │   │ value:   2 │   │ value:   3 │\n│ next: ────────►│ next: ────────►│ next: null │\n│            │   │            │   │            │\n└────────────┘   └────────────┘   └────────────┘\n</code></pre>\n<p>Effect of <code>current.next = head;</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code> head             current          temp\n  ↓                ↓                ↓\n┌────────────┐   ┌────────────┐   ┌────────────┐\n│ value:   1 │   │ value:   2 │   │ value:   3 │\n│ next: ────────►│ next: ─┐   │   │ next: null │\n│            │◄───────────┘   │   │            │\n└────────────┘   └────────────┘   └────────────┘\n</code></pre>\n<p>... the cycle is made!</p>\n<p>The next two statements <code>head = current;</code> and <code>current = temp;</code> only move references:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                  head             current\n                   ↓                ↓\n┌────────────┐   ┌────────────┐   ┌────────────┐\n│ value:   1 │   │ value:   2 │   │ value:   3 │\n│ next: ────────►│ next: ─┐   │   │ next: null │\n│            │◄───────────┘   │   │            │\n└────────────┘   └────────────┘   └────────────┘\n</code></pre>\n<p>The next iteration will not touch this cycle anymore. The damage is permanent. The returned list will be:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                                   head\n                                    ↓\n┌────────────┐   ┌────────────┐   ┌────────────┐\n│ value:   1 │   │ value:   2 │   │ value:   3 │\n│ next: ────────►│ next: ─┐   │   │ next: ─┐   │\n│            │◄───────────┘   │◄───────────┘   │\n└────────────┘   └────────────┘   └────────────┘\n</code></pre>\n"}],"owner":{"account_id":21229959,"reputation":3,"user_id":15614874,"display_name":"Ana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75269726,"answer_count":1,"score":-1,"last_activity_date":1674928721,"creation_date":1674927596,"question_id":75269602,"body_markdown":"The following code results in an &quot;Error - Found cycle in the ListNode&quot; error\r\n\r\n```\r\npublic ListNode reverseList(ListNode head) {\r\n        if (head == null || head.next == null) {\r\n            return head;\r\n        }\r\n        ListNode current = head.next;\r\n        while (current != null) {\r\n            //move current to front of list\r\n            ListNode temp = current.next;\r\n            current.next = head;\r\n            head = current;\r\n            current = temp;\r\n        }\r\n        return head;\r\n    }\r\n```\r\n\r\nYet the following code works fine: \r\n```\r\npublic ListNode reverseList(ListNode head) {\r\n        ListNode curr = head;\r\n        ListNode prev = null;\r\n        while (curr != null) {\r\n            //move current to front of list\r\n            ListNode temp = curr.next;\r\n            curr.next = prev;\r\n            prev = curr;\r\n            curr = temp;\r\n        }\r\n        return prev;\r\n    }\r\n\r\n```\r\n\r\nTo me the code looks like it would do the same thing but instead of prev they use head. Ideas why it is different?","title":"Java LinkedList &quot;Error - Found cycle in the ListNode,&quot; why does solution B work but not solution A","body":"<p>The following code results in an &quot;Error - Found cycle in the ListNode&quot; error</p>\n<pre><code>public ListNode reverseList(ListNode head) {\n        if (head == null || head.next == null) {\n            return head;\n        }\n        ListNode current = head.next;\n        while (current != null) {\n            //move current to front of list\n            ListNode temp = current.next;\n            current.next = head;\n            head = current;\n            current = temp;\n        }\n        return head;\n    }\n</code></pre>\n<p>Yet the following code works fine:</p>\n<pre><code>public ListNode reverseList(ListNode head) {\n        ListNode curr = head;\n        ListNode prev = null;\n        while (curr != null) {\n            //move current to front of list\n            ListNode temp = curr.next;\n            curr.next = prev;\n            prev = curr;\n            curr = temp;\n        }\n        return prev;\n    }\n\n</code></pre>\n<p>To me the code looks like it would do the same thing but instead of prev they use head. Ideas why it is different?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1674473459,"post_id":75205187,"comment_id":132714068,"body_markdown":"This one line of code is not sufficient. What is `a`? What is `b`? Are there more merged regions in that sheet? To be able to answer we would need a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"This one line of code is not sufficient. What is <code>a</code>? What is <code>b</code>? Are there more merged regions in that sheet? To be able to answer we would need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1674484978,"post_id":75205187,"comment_id":132717959,"body_markdown":"What `apache poi` version are you using? According to your program logic: `a = b;` ... `spreadsheet.addMergedRegion(new CellRangeAddress(a+1, b, 1, 1));`;  `firstRow` can be greater than `lastRow` in `CellRangeAddress` and that should not be so. And current `apache poi` versions would not allow this.","body":"What <code>apache poi</code> version are you using? According to your program logic: <code>a = b;</code> ... <code>spreadsheet.addMergedRegion(new CellRangeAddress(a+1, b, 1, 1));</code>;  <code>firstRow</code> can be greater than <code>lastRow</code> in <code>CellRangeAddress</code> and that should not be so. And current <code>apache poi</code> versions would not allow this."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674928417,"creation_date":1674535334,"answer_id":75217481,"question_id":75205187,"body_markdown":"Your programming logic is wrong and produces overlapping merged regions. That is what Excel does not tolerate and alerts the error about.\r\n\r\nYour program does the following:\r\nIt starts with `int b=i; int a=i;` where `i` points to the first row. The values in first row and second row are equal. So your program sets `a = b;` so that now both `a` and `b` point to the first row. Then it merges `spreadsheet.addMergedRegion(new CellRangeAddress(a+1, b, 1, 1));`. So it creates `&lt;mergeCell ref=&quot;B2:B1&quot;/&gt;`. This is not really correct as it should be `&lt;mergeCell ref=&quot;B1:B2&quot;/&gt;`. But that Excel would tolerate. Now `i` increases and points to second row. The values in second row and third row are not equal. So your program sets `b = i;`. Now `b` points to second row but `a` has not changed and points to first row. Now your code merges `a+1` and `b` which both points to second row. So it creates `&lt;mergeCell ref=&quot;B2:B2&quot;/&gt;`. That one-cell-merged-region is useless but would be tolerated by Excel. But it additionally overlaps the former created `&lt;mergeCell ref=&quot;B2:B1&quot;/&gt;`. And here Excel&#39;s tolerance ends.\r\n\r\nThe following [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) shows a working program logic. It additional shows what Minimal, **Reproducible** Example really means.\r\n\r\nHave a Excel workbook `ExcelExample.xlsx` containing following in columns `A` and `B` of first sheet:\r\n\r\n    Col1\t    Col2\r\n    Record1     Value1\r\n    Record2\t    Value1\r\n    Record3\t    Value2\r\n    Record4\t    Value3\r\n    Record5\t    Value3\r\n    Record6\t    Value3\r\n    Record7\t    Value4\r\n    Record8\t    Value5\r\n    Record9\t    Value5\r\n    Record10\tValue5\r\n    Record11\tValue6\r\n    Record12\tValue7\r\n    Record13\tValue7\r\n    Record14\tValue7\r\n    Record15\tValue8\r\n    Record16\tValue9\r\n    Record17\tValue10\r\n    Record18\tValue10\r\n    Record19\tValue10\r\n    Record20\tValue10\r\n\r\nThen do running the following code:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    \r\n    public class ExcelMergeRowsByContent {\r\n    \t\r\n     static void mergeRowsByContent(Sheet sheet, int col) {\r\n      int firstRow = sheet.getFirstRowNum();\r\n      int lastRow = sheet.getLastRowNum();\r\n      DataFormatter dataFormatter = new DataFormatter();\r\n      dataFormatter.setUseCachedValuesForFormulaCells(true);\r\n      int fromRow = firstRow;\r\n      int toRow = 0;\r\n      boolean merge = false;\r\n      while(fromRow &lt;= lastRow) {\r\n       Row row1 = sheet.getRow(fromRow); if (row1 == null) row1 = sheet.createRow(fromRow);\r\n       Cell cell1 = row1.getCell(col);\r\n       String cellValue1 = dataFormatter.formatCellValue(cell1);\r\n       toRow = fromRow + 1;\r\n       while (toRow &lt;= lastRow) { // check whether following values are equal\r\n        Row row2 = sheet.getRow(toRow); if (row2 == null) row2 = sheet.createRow(toRow);\r\n        Cell cell2 = row2.getCell(col);\r\n        String cellValue2 = dataFormatter.formatCellValue(cell2);\r\n        System.out.println(&quot;cell value in row &quot; + fromRow + &quot; = &quot; + cellValue1 + &quot;; cell value in row &quot; + toRow + &quot; = &quot; + cellValue2);\r\n        if (cellValue2.equals(cellValue1)) {\r\n         merge = true; // merging is needed      \r\n         toRow++; // try whether next row also has equal value\r\n        } else {\r\n         break; // values were not equal, so break searching       \r\n        }\r\n       }\r\n       if (merge) {\r\n        toRow--; // merge only rows where values are equal, last toRow was not\r\n        System.out.println(&quot;merging from row &quot; + fromRow + &quot; to row &quot; + toRow);\r\n        sheet.addMergedRegion(new CellRangeAddress(fromRow, toRow, col, col));\r\n        fromRow = toRow;\r\n       } \r\n       merge = false;\r\n       fromRow++;\r\n      }\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      try (\r\n       FileInputStream in = new FileInputStream(&quot;./ExcelExample.xlsx&quot;); FileOutputStream out = new FileOutputStream(&quot;./ExcelExampleNew.xlsx&quot;);\r\n       //FileInputStream in = new FileInputStream(&quot;./ExcelExample.xls&quot;); FileOutputStream out = new FileOutputStream(&quot;./ExcelExampleNew.xls&quot;);\r\n       Workbook workbook = WorkbookFactory.create(in); ) {\r\n       \r\n       Sheet sheet = workbook.getSheetAt(0);\r\n    \r\n       mergeRowsByContent(sheet, 1);\r\n      \r\n       workbook.write(out);\r\n      }\r\n     }\r\n    }\r\n\r\nAfter that it should have produced following result in `ExcelExampleNew.xlsx`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nDisclaimer: This code is tested and runs using current `apache poi 5.2.3`. Older `apache poi` versions are outdated and not supported anymore.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wlbZM.png","title":"Apache POI Error &#39;unreadable content&#39; When Using addMergedRegion","body":"<p>Your programming logic is wrong and produces overlapping merged regions. That is what Excel does not tolerate and alerts the error about.</p>\n<p>Your program does the following:\nIt starts with <code>int b=i; int a=i;</code> where <code>i</code> points to the first row. The values in first row and second row are equal. So your program sets <code>a = b;</code> so that now both <code>a</code> and <code>b</code> point to the first row. Then it merges <code>spreadsheet.addMergedRegion(new CellRangeAddress(a+1, b, 1, 1));</code>. So it creates <code>&lt;mergeCell ref=&quot;B2:B1&quot;/&gt;</code>. This is not really correct as it should be <code>&lt;mergeCell ref=&quot;B1:B2&quot;/&gt;</code>. But that Excel would tolerate. Now <code>i</code> increases and points to second row. The values in second row and third row are not equal. So your program sets <code>b = i;</code>. Now <code>b</code> points to second row but <code>a</code> has not changed and points to first row. Now your code merges <code>a+1</code> and <code>b</code> which both points to second row. So it creates <code>&lt;mergeCell ref=&quot;B2:B2&quot;/&gt;</code>. That one-cell-merged-region is useless but would be tolerated by Excel. But it additionally overlaps the former created <code>&lt;mergeCell ref=&quot;B2:B1&quot;/&gt;</code>. And here Excel's tolerance ends.</p>\n<p>The following <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a> shows a working program logic. It additional shows what Minimal, <strong>Reproducible</strong> Example really means.</p>\n<p>Have a Excel workbook <code>ExcelExample.xlsx</code> containing following in columns <code>A</code> and <code>B</code> of first sheet:</p>\n<pre><code>Col1        Col2\nRecord1     Value1\nRecord2     Value1\nRecord3     Value2\nRecord4     Value3\nRecord5     Value3\nRecord6     Value3\nRecord7     Value4\nRecord8     Value5\nRecord9     Value5\nRecord10    Value5\nRecord11    Value6\nRecord12    Value7\nRecord13    Value7\nRecord14    Value7\nRecord15    Value8\nRecord16    Value9\nRecord17    Value10\nRecord18    Value10\nRecord19    Value10\nRecord20    Value10\n</code></pre>\n<p>Then do running the following code:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.CellRangeAddress;\n\npublic class ExcelMergeRowsByContent {\n    \n static void mergeRowsByContent(Sheet sheet, int col) {\n  int firstRow = sheet.getFirstRowNum();\n  int lastRow = sheet.getLastRowNum();\n  DataFormatter dataFormatter = new DataFormatter();\n  dataFormatter.setUseCachedValuesForFormulaCells(true);\n  int fromRow = firstRow;\n  int toRow = 0;\n  boolean merge = false;\n  while(fromRow &lt;= lastRow) {\n   Row row1 = sheet.getRow(fromRow); if (row1 == null) row1 = sheet.createRow(fromRow);\n   Cell cell1 = row1.getCell(col);\n   String cellValue1 = dataFormatter.formatCellValue(cell1);\n   toRow = fromRow + 1;\n   while (toRow &lt;= lastRow) { // check whether following values are equal\n    Row row2 = sheet.getRow(toRow); if (row2 == null) row2 = sheet.createRow(toRow);\n    Cell cell2 = row2.getCell(col);\n    String cellValue2 = dataFormatter.formatCellValue(cell2);\n    System.out.println(&quot;cell value in row &quot; + fromRow + &quot; = &quot; + cellValue1 + &quot;; cell value in row &quot; + toRow + &quot; = &quot; + cellValue2);\n    if (cellValue2.equals(cellValue1)) {\n     merge = true; // merging is needed      \n     toRow++; // try whether next row also has equal value\n    } else {\n     break; // values were not equal, so break searching       \n    }\n   }\n   if (merge) {\n    toRow--; // merge only rows where values are equal, last toRow was not\n    System.out.println(&quot;merging from row &quot; + fromRow + &quot; to row &quot; + toRow);\n    sheet.addMergedRegion(new CellRangeAddress(fromRow, toRow, col, col));\n    fromRow = toRow;\n   } \n   merge = false;\n   fromRow++;\n  }\n }\n\n public static void main(String[] args) throws Exception {\n  try (\n   FileInputStream in = new FileInputStream(&quot;./ExcelExample.xlsx&quot;); FileOutputStream out = new FileOutputStream(&quot;./ExcelExampleNew.xlsx&quot;);\n   //FileInputStream in = new FileInputStream(&quot;./ExcelExample.xls&quot;); FileOutputStream out = new FileOutputStream(&quot;./ExcelExampleNew.xls&quot;);\n   Workbook workbook = WorkbookFactory.create(in); ) {\n   \n   Sheet sheet = workbook.getSheetAt(0);\n\n   mergeRowsByContent(sheet, 1);\n  \n   workbook.write(out);\n  }\n }\n}\n</code></pre>\n<p>After that it should have produced following result in <code>ExcelExampleNew.xlsx</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/wlbZM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wlbZM.png\" alt=\"enter image description here\" /></a></p>\n<p>Disclaimer: This code is tested and runs using current <code>apache poi 5.2.3</code>. Older <code>apache poi</code> versions are outdated and not supported anymore.</p>\n"}],"owner":{"account_id":26740754,"reputation":31,"user_id":20341578,"display_name":"prathibha "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674928417,"creation_date":1674439566,"question_id":75205187,"body_markdown":"I am getting the below Excel error when I use `addMergedRegion`. This is my code:\r\n\r\n    spreadsheet.addMergedRegion(new CellRangeAddress(a+1, b, 1, 1));\r\n\r\nThe error I get in Excel says that the downloaded file has &quot;unreadable content&quot; and asks if I want to recover the contents. I click yes.\r\n\r\nExcel then opens the file and a window says that it repaired or removed what was wrong and then it says:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/oxOsx.png)](https://i.stack.imgur.com/oxOsx.png)\r\n\r\n\r\n\r\nI check those sheets for the cell I wanted merged, and it&#39;s merged exactly the way I want it.\r\n\r\nSo why is Excel giving me this error, and how do I fix it? Thanks.\r\n\r\nEdit 1: Added additional code. I have a sheet like this and I want to merge the rows with same value.\r\n**Input**\r\n [![enter image description here][1]][1]\r\n\r\n\r\n\r\n**Output**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n            int i=primrowCountSplice; int b=i; int a=i;\r\n            for (i=primrowCountSplice;i&lt;primrowCount-1;i++) {\r\n\r\n             if(spreadsheet.getRow(i).getCell(1).getStringCellValue().equals(spreadsheet.getRow(i+1).getCell(1).getStringCellValue()))\r\n                {\r\n                    out.println(&quot;i: &quot; + i);\r\n                    out.println(spreadsheet.getRow(i).getCell(1).getStringCellValue());\r\n                    out.println(spreadsheet.getRow(i+1).getCell(1).getStringCellValue());\r\n                    a = b;\r\n                    out.println(&quot;a: &quot; + a);\r\n                } else {\r\n\r\n                  b = i;\r\n                 out.println(&quot;b:  &quot; + b);\r\n             }\r\n                spreadsheet.addMergedRegion(new CellRangeAddress(a+1, b, 1, 1));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BB1ay.png\r\n  [2]: https://i.stack.imgur.com/434z2.png","title":"Apache POI Error &#39;unreadable content&#39; When Using addMergedRegion","body":"<p>I am getting the below Excel error when I use <code>addMergedRegion</code>. This is my code:</p>\n<pre><code>spreadsheet.addMergedRegion(new CellRangeAddress(a+1, b, 1, 1));\n</code></pre>\n<p>The error I get in Excel says that the downloaded file has &quot;unreadable content&quot; and asks if I want to recover the contents. I click yes.</p>\n<p>Excel then opens the file and a window says that it repaired or removed what was wrong and then it says:</p>\n<p><a href=\"https://i.stack.imgur.com/oxOsx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oxOsx.png\" alt=\"enter image description here\" /></a></p>\n<p>I check those sheets for the cell I wanted merged, and it's merged exactly the way I want it.</p>\n<p>So why is Excel giving me this error, and how do I fix it? Thanks.</p>\n<p>Edit 1: Added additional code. I have a sheet like this and I want to merge the rows with same value.\n<strong>Input</strong>\n<a href=\"https://i.stack.imgur.com/BB1ay.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BB1ay.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Output</strong>\n<a href=\"https://i.stack.imgur.com/434z2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/434z2.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>        int i=primrowCountSplice; int b=i; int a=i;\n        for (i=primrowCountSplice;i&lt;primrowCount-1;i++) {\n\n         if(spreadsheet.getRow(i).getCell(1).getStringCellValue().equals(spreadsheet.getRow(i+1).getCell(1).getStringCellValue()))\n            {\n                out.println(&quot;i: &quot; + i);\n                out.println(spreadsheet.getRow(i).getCell(1).getStringCellValue());\n                out.println(spreadsheet.getRow(i+1).getCell(1).getStringCellValue());\n                a = b;\n                out.println(&quot;a: &quot; + a);\n            } else {\n\n              b = i;\n             out.println(&quot;b:  &quot; + b);\n         }\n            spreadsheet.addMergedRegion(new CellRangeAddress(a+1, b, 1, 1));\n</code></pre>\n"},{"tags":["java","xml","jakarta-ee","log4j2"],"comments":[{"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"score":0,"creation_date":1393296316,"post_id":21979699,"comment_id":33350007,"body_markdown":"It would be great if you could provide a patch for the docs! Help is always appreciated!","body":"It would be great if you could provide a patch for the docs! Help is always appreciated!"}],"answers":[{"comments":[{"owner":{"account_id":1700244,"reputation":2204,"user_id":1560536,"accept_rate":92,"display_name":"Govinnage  Rasika Perera"},"score":0,"creation_date":1393245512,"post_id":21979843,"comment_id":33321422,"body_markdown":"Thanks @Homayoun! My second question is not yet been solved. I am using a consoleAppender. I want my logs to be viewed on netbeans, eclipse or any STD_OUT. So HTMLLayout wont work, isnt it?","body":"Thanks @Homayoun! My second question is not yet been solved. I am using a consoleAppender. I want my logs to be viewed on netbeans, eclipse or any STD_OUT. So HTMLLayout wont work, isnt it?"},{"owner":{"account_id":1488071,"reputation":5336,"user_id":1395863,"accept_rate":95,"display_name":"Farvardin"},"score":0,"creation_date":1393246181,"post_id":21979843,"comment_id":33321890,"body_markdown":"it depends on your stdout viewer... for example eclipse stdout (output) has not any sense about bold for example.","body":"it depends on your stdout viewer... for example eclipse stdout (output) has not any sense about bold for example."}],"tags":[],"owner":{"account_id":1488071,"reputation":5336,"user_id":1395863,"accept_rate":95,"display_name":"Farvardin"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1393220966,"creation_date":1393220966,"answer_id":21979843,"question_id":21979699,"body_markdown":"1 : yes it&#39;s ok! and you can add some other options. see http://logging.apache.org/log4j/2.x/manual/configuration.html \r\n\r\n2 : you can use a HTMLLayout for your file appender.\r\n\r\n see http://logging.apache.org/log4j/2.x/manual/layouts.html\r\n\r\nand http://www.tutorialspoint.com/log4j/log4j_htmllayout.htm","title":"log4j 2 adding multiple colors to console appender","body":"<p>1 : yes it's ok! and you can add some other options. see <a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow\">http://logging.apache.org/log4j/2.x/manual/configuration.html</a> </p>\n\n<p>2 : you can use a HTMLLayout for your file appender.</p>\n\n<p>see <a href=\"http://logging.apache.org/log4j/2.x/manual/layouts.html\" rel=\"nofollow\">http://logging.apache.org/log4j/2.x/manual/layouts.html</a></p>\n\n<p>and <a href=\"http://www.tutorialspoint.com/log4j/log4j_htmllayout.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/log4j/log4j_htmllayout.htm</a></p>\n"},{"comments":[{"owner":{"account_id":543112,"reputation":2555,"user_id":912104,"display_name":"Harmeet Singh"},"score":1,"creation_date":1457213407,"post_id":22030994,"comment_id":59307653,"body_markdown":"Found a manual https://logging.apache.org/log4j/2.x/manual/layouts.html search for `highlight{pattern}{style}`","body":"Found a manual <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/layouts.html</a> search for <code>highlight{pattern}{style}</code>"},{"owner":{"account_id":1700244,"reputation":2204,"user_id":1560536,"accept_rate":92,"display_name":"Govinnage  Rasika Perera"},"score":0,"creation_date":1457324118,"post_id":22030994,"comment_id":59338857,"body_markdown":"@HarmeetSingh yeah this answer is bit old now.","body":"@HarmeetSingh yeah this answer is bit old now."},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":3,"creation_date":1560283055,"post_id":22030994,"comment_id":99683484,"body_markdown":"I had to also do disableAnsi=&quot;false&quot;","body":"I had to also do disableAnsi=&quot;false&quot;"},{"owner":{"account_id":7332798,"reputation":689,"user_id":5585130,"display_name":"Mario Codes"},"score":0,"creation_date":1588068221,"post_id":22030994,"comment_id":108751024,"body_markdown":"Just to add to @KalpeshSoni answer. `disableAnsi=&quot;false&quot;` goes into `&lt;PatternLayout/&gt;` next to `pattern=&quot;&quot;`","body":"Just to add to @KalpeshSoni answer. <code>disableAnsi=&quot;false&quot;</code> goes into <code>&lt;PatternLayout&#47;&gt;</code> next to <code>pattern=&quot;&quot;</code>"},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":2,"creation_date":1588174280,"post_id":22030994,"comment_id":108800049,"body_markdown":"added disableAnsi=&quot;false&quot;","body":"added disableAnsi=&quot;false&quot;"},{"owner":{"account_id":12246014,"reputation":357,"user_id":8937649,"display_name":"Razvan"},"score":0,"creation_date":1615891094,"post_id":22030994,"comment_id":117826078,"body_markdown":"Worked fine, but not with SlowConsole. I have replaced it with Console","body":"Worked fine, but not with SlowConsole. I have replaced it with Console"},{"owner":{"account_id":79513,"reputation":5723,"user_id":225394,"accept_rate":79,"display_name":"TonyP"},"score":0,"creation_date":1700324395,"post_id":22030994,"comment_id":136641682,"body_markdown":"Good catch Rasika","body":"Good catch Rasika"},{"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"score":0,"creation_date":1701268926,"post_id":22030994,"comment_id":136754869,"body_markdown":"It starts working properly once I added disableAnsi=&quot;false&quot;, thank you","body":"It starts working properly once I added disableAnsi=&quot;false&quot;, thank you"}],"tags":[],"owner":{"account_id":1700244,"reputation":2204,"user_id":1560536,"accept_rate":92,"display_name":"Govinnage  Rasika Perera"},"comment_count":8,"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1588174269,"creation_date":1393384596,"answer_id":22030994,"question_id":21979699,"body_markdown":"I think I found the solution. I downloaded log4j2-core-sources.jar and traced the [source][1]. You can write it as below;\r\n\r\n\r\n    &lt;Console name=&quot;SlowConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n         &lt;PatternLayout disableAnsi=&quot;false&quot;  pattern=&quot;%highlight{%d{HH:mm:ss.SSS} %-5level %logger{36}.%M() @%L - %msg%n}{FATAL=red blink, ERROR=red, WARN=yellow bold, INFO=black, DEBUG=green bold, TRACE=blue}&quot;/&gt;\r\n    &lt;/Console&gt;\r\n\r\nI think log4j2 [documentation][2] and its examples may need to be updated.\r\n\r\n\r\n  [1]: https://svn.apache.org/repos/asf/logging/log4j/log4j2/trunk/log4j-core/src/main/java/org/apache/logging/log4j/core/pattern/AnsiEscape.java\r\n  [2]: http://logging.apache.org/log4j/2.x/manual/layouts.html","title":"log4j 2 adding multiple colors to console appender","body":"<p>I think I found the solution. I downloaded log4j2-core-sources.jar and traced the <a href=\"https://svn.apache.org/repos/asf/logging/log4j/log4j2/trunk/log4j-core/src/main/java/org/apache/logging/log4j/core/pattern/AnsiEscape.java\" rel=\"noreferrer\">source</a>. You can write it as below;</p>\n\n<pre><code>&lt;Console name=\"SlowConsole\" target=\"SYSTEM_OUT\"&gt;\n     &lt;PatternLayout disableAnsi=\"false\"  pattern=\"%highlight{%d{HH:mm:ss.SSS} %-5level %logger{36}.%M() @%L - %msg%n}{FATAL=red blink, ERROR=red, WARN=yellow bold, INFO=black, DEBUG=green bold, TRACE=blue}\"/&gt;\n&lt;/Console&gt;\n</code></pre>\n\n<p>I think log4j2 <a href=\"http://logging.apache.org/log4j/2.x/manual/layouts.html\" rel=\"noreferrer\">documentation</a> and its examples may need to be updated.</p>\n"},{"tags":[],"owner":{"account_id":11106855,"reputation":190,"user_id":8153798,"display_name":"B_St"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1497347046,"creation_date":1497347046,"answer_id":44517855,"question_id":21979699,"body_markdown":"When using the eclipse console, its nice to see errors in red and\r\nall other logs in black. You can do this using Filters:\r\n\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;Console name=&quot;ConsoleStdOut&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n\t\t\t&lt;ThresholdFilter level=&quot;ERROR&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\r\n\t\t\t&lt;PatternLayout pattern=&quot;%d{HH:mm:ss} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\r\n\t\t&lt;/Console&gt;\r\n\t\t&lt;Console name=&quot;ConsoleStdErr&quot; target=&quot;SYSTEM_ERR&quot;&gt;\r\n\t\t\t&lt;ThresholdFilter level=&quot;ERROR&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n\t\t\t&lt;PatternLayout pattern=&quot;%d{HH:mm:ss} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\r\n\t\t&lt;/Console&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;Root level=&quot;info&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;ConsoleStdOut&quot; /&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;ConsoleStdErr&quot; /&gt;\r\n\t\t&lt;/Root&gt;\r\n\t&lt;/Loggers&gt;","title":"log4j 2 adding multiple colors to console appender","body":"<p>When using the eclipse console, its nice to see errors in red and\nall other logs in black. You can do this using Filters:</p>\n\n<pre><code>&lt;Appenders&gt;\n    &lt;Console name=\"ConsoleStdOut\" target=\"SYSTEM_OUT\"&gt;\n        &lt;ThresholdFilter level=\"ERROR\" onMatch=\"DENY\" onMismatch=\"ACCEPT\"/&gt;\n        &lt;PatternLayout pattern=\"%d{HH:mm:ss} [%t] %-5level %logger{36} - %msg%n\" /&gt;\n    &lt;/Console&gt;\n    &lt;Console name=\"ConsoleStdErr\" target=\"SYSTEM_ERR\"&gt;\n        &lt;ThresholdFilter level=\"ERROR\" onMatch=\"ACCEPT\" onMismatch=\"DENY\"/&gt;\n        &lt;PatternLayout pattern=\"%d{HH:mm:ss} [%t] %-5level %logger{36} - %msg%n\" /&gt;\n    &lt;/Console&gt;\n&lt;/Appenders&gt;\n&lt;Loggers&gt;\n    &lt;Root level=\"info\"&gt;\n        &lt;AppenderRef ref=\"ConsoleStdOut\" /&gt;\n        &lt;AppenderRef ref=\"ConsoleStdErr\" /&gt;\n    &lt;/Root&gt;\n&lt;/Loggers&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":294991,"reputation":1348,"user_id":599164,"accept_rate":91,"display_name":"Frankie Drake"},"score":2,"creation_date":1525703735,"post_id":48608641,"comment_id":87450279,"body_markdown":"Exactly what I wanted after applying custom log config!","body":"Exactly what I wanted after applying custom log config!"},{"owner":{"account_id":881880,"reputation":8346,"user_id":270143,"accept_rate":88,"display_name":"ycomp"},"score":2,"creation_date":1548487418,"post_id":48608641,"comment_id":95566801,"body_markdown":"I get _Unrecognized conversion specifier [wEx] starting at position 209 in conversion pattern._ anyone know what is going on?","body":"I get <i>Unrecognized conversion specifier [wEx] starting at position 209 in conversion pattern.</i> anyone know what is going on?"},{"owner":{"account_id":6329455,"reputation":353,"user_id":8770674,"display_name":"Rustam Shafigullin"},"score":0,"creation_date":1593885245,"post_id":48608641,"comment_id":110935706,"body_markdown":"Yes it&#39;s looks like original Logback Spring logger. Exactly what I looked for. But it doesn&#39;t work without disableAnsi=&quot;false&quot; attribute in PatternLayout tag. Thank you!","body":"Yes it&#39;s looks like original Logback Spring logger. Exactly what I looked for. But it doesn&#39;t work without disableAnsi=&quot;false&quot; attribute in PatternLayout tag. Thank you!"},{"owner":{"account_id":5384645,"reputation":556,"user_id":4288957,"display_name":"BlueDev"},"score":8,"creation_date":1595957509,"post_id":48608641,"comment_id":111652006,"body_markdown":"@ycomp I&#39;ve modified pattern and the issue that you&#39;ve mentioned is also resolved... Try following pattern:\n\n`&lt;PatternLayout disableAnsi=&quot;false&quot; pattern=&quot;%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}} %highlight{${LOG_LEVEL_PATTERN:-%5p}}{FATAL=red blink, ERROR=red, WARN=yellow bold, INFO=green, DEBUG=green bold, TRACE=blue} %style{}{magenta} [%M] %style{%40C}{cyan} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%xEx}&quot; /&gt;`","body":"@ycomp I&#39;ve modified pattern and the issue that you&#39;ve mentioned is also resolved... Try following pattern:  <code>&lt;PatternLayout disableAnsi=&quot;false&quot; pattern=&quot;%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}} %highlight{${LOG_LEVEL_PATTERN:-%5p}}{FATAL=red blink, ERROR=red, WARN=yellow bold, INFO=green, DEBUG=green bold, TRACE=blue} %style{}{magenta} [%M] %style{%40C}{cyan} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%xEx}&quot; &#47;&gt;</code>"}],"tags":[],"owner":{"account_id":464010,"reputation":3905,"user_id":867248,"display_name":"Berthier Lemieux"},"comment_count":4,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1517751530,"creation_date":1517751530,"answer_id":48608641,"question_id":21979699,"body_markdown":"For a log4j2 colored output that looks very close to Spring Boot&#39;s default logback console output:\r\n\r\n\t\t&lt;Console name=&quot;ConsoleAppender&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n\t\t\t&lt;PatternLayout pattern=&quot;%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}} %highlight{${LOG_LEVEL_PATTERN:-%5p}}{FATAL=red blink, ERROR=red, WARN=yellow bold, INFO=green, DEBUG=green bold, TRACE=blue} %style{${sys:PID}}{magenta} [%15.15t] %style{%-40.40C{1.}}{cyan} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}&quot;/&gt;\r\n\t\t&lt;/Console&gt;\r\n\r\n[![Console Screenshot][1]][1]\r\n  [1]: https://i.stack.imgur.com/OhXE3.png","title":"log4j 2 adding multiple colors to console appender","body":"<p>For a log4j2 colored output that looks very close to Spring Boot's default logback console output:</p>\n\n<pre><code>    &lt;Console name=\"ConsoleAppender\" target=\"SYSTEM_OUT\" follow=\"true\"&gt;\n        &lt;PatternLayout pattern=\"%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}} %highlight{${LOG_LEVEL_PATTERN:-%5p}}{FATAL=red blink, ERROR=red, WARN=yellow bold, INFO=green, DEBUG=green bold, TRACE=blue} %style{${sys:PID}}{magenta} [%15.15t] %style{%-40.40C{1.}}{cyan} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}\"/&gt;\n    &lt;/Console&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OhXE3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OhXE3.png\" alt=\"Console Screenshot\"></a></p>\n"},{"tags":[],"owner":{"account_id":6829513,"reputation":3942,"user_id":5254103,"accept_rate":0,"display_name":"BaiJiFeiLong"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524548577,"creation_date":1524548577,"answer_id":49994184,"question_id":21979699,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;WARN&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n                &lt;PatternLayout\r\n                        pattern=&quot;%clr{%d{yyyy-MM-dd HH:mm:ss.SSS}}{faint} %clr{%5p} %clr{${sys:PID}}{magenta} %clr{---}{faint} %clr{[%15.15t]}{faint} %clr{%-40.40c{1.}}{cyan} %clr{:}{faint} %m%n%xwEx&quot;/&gt;\r\n            &lt;/Console&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;info&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n\r\nThis worked in my Spring Boot application.\r\n\r\nBut I am not sure if it will work without Spring Boot.","title":"log4j 2 adding multiple colors to console appender","body":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"WARN\"&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"Console\" target=\"SYSTEM_OUT\" follow=\"true\"&gt;\n            &lt;PatternLayout\n                    pattern=\"%clr{%d{yyyy-MM-dd HH:mm:ss.SSS}}{faint} %clr{%5p} %clr{${sys:PID}}{magenta} %clr{---}{faint} %clr{[%15.15t]}{faint} %clr{%-40.40c{1.}}{cyan} %clr{:}{faint} %m%n%xwEx\"/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=\"info\"&gt;\n            &lt;AppenderRef ref=\"Console\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>This worked in my Spring Boot application.</p>\n\n<p>But I am not sure if it will work without Spring Boot.</p>\n"},{"tags":[],"owner":{"account_id":12613723,"reputation":940,"user_id":9171899,"display_name":"yuen26"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1562207672,"creation_date":1562207672,"answer_id":56879963,"question_id":21979699,"body_markdown":"Spring Boot style:\r\n\r\n```xml\r\n&lt;Properties&gt;\r\n  &lt;Property name=&quot;LOG_PATTERN&quot;&gt;\r\n    %d{yyyy-MM-dd HH:mm:ss.SSS} %highlight{${LOG_LEVEL_PATTERN:-%5p}}{FATAL=red, ERROR=red, WARN=yellow, INFO=green, DEBUG=green, TRACE=green} %style{${sys:PID}}{magenta} --- [%15.15t] %style{%-40.40c{1.}}{cyan} : %m%n%ex\r\n  &lt;/Property&gt;\r\n&lt;/Properties&gt;\r\n\r\n&lt;Appenders&gt;\r\n  &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n    &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot;/&gt;\r\n  &lt;/Console&gt;\r\n&lt;/Appenders&gt;\r\n```","title":"log4j 2 adding multiple colors to console appender","body":"<p>Spring Boot style:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Properties&gt;\n  &lt;Property name=\"LOG_PATTERN\"&gt;\n    %d{yyyy-MM-dd HH:mm:ss.SSS} %highlight{${LOG_LEVEL_PATTERN:-%5p}}{FATAL=red, ERROR=red, WARN=yellow, INFO=green, DEBUG=green, TRACE=green} %style{${sys:PID}}{magenta} --- [%15.15t] %style{%-40.40c{1.}}{cyan} : %m%n%ex\n  &lt;/Property&gt;\n&lt;/Properties&gt;\n\n&lt;Appenders&gt;\n  &lt;Console name=\"Console\" target=\"SYSTEM_OUT\"&gt;\n    &lt;PatternLayout pattern=\"${LOG_PATTERN}\"/&gt;\n  &lt;/Console&gt;\n&lt;/Appenders&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656917907,"creation_date":1656917907,"answer_id":72852815,"question_id":21979699,"body_markdown":"In log4j2 2.18.0 significant improvements were added in highlighting and generated ANSI code:\r\n\r\n - 4 bit color support was added. Before 2.18.0 it was possible to use `WARN=bright blue` but generated ANSI code anyway used only 3 bit color palette and set font weight as `bold`. Now it is possible to use all 16 colors and besides to change font weight. For this purpose it is necessary to use `bright_` prefix. For example `WARN=bright_blue` or with font weight `WARN=bright_blue bold`. For details see [this issue][1] \r\n\r\n- true color support was added. For example, `WARN=#00ff00`. At the same time it is possible to change both foreground and background color. For details see this [issue][2]. For example:\r\n\r\n   \r\n      %highlight{%d [%t] %-5level: %msg%n%throwable}{FATAL=white, ERROR=red, WARN=bg_#5792e6 fg_#eef26b bold, INFO=black, DEBUG=#3fe0a8, TRACE=blue}\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/LOG4J2-3537\r\n  [2]: https://issues.apache.org/jira/browse/LOG4J2-3538","title":"log4j 2 adding multiple colors to console appender","body":"<p>In log4j2 2.18.0 significant improvements were added in highlighting and generated ANSI code:</p>\n<ul>\n<li><p>4 bit color support was added. Before 2.18.0 it was possible to use <code>WARN=bright blue</code> but generated ANSI code anyway used only 3 bit color palette and set font weight as <code>bold</code>. Now it is possible to use all 16 colors and besides to change font weight. For this purpose it is necessary to use <code>bright_</code> prefix. For example <code>WARN=bright_blue</code> or with font weight <code>WARN=bright_blue bold</code>. For details see <a href=\"https://issues.apache.org/jira/browse/LOG4J2-3537\" rel=\"nofollow noreferrer\">this issue</a></p>\n</li>\n<li><p>true color support was added. For example, <code>WARN=#00ff00</code>. At the same time it is possible to change both foreground and background color. For details see this <a href=\"https://issues.apache.org/jira/browse/LOG4J2-3538\" rel=\"nofollow noreferrer\">issue</a>. For example:</p>\n<pre><code>%highlight{%d [%t] %-5level: %msg%n%throwable}{FATAL=white, ERROR=red, WARN=bg_#5792e6 fg_#eef26b bold, INFO=black, DEBUG=#3fe0a8, TRACE=blue}\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22892881,"reputation":121,"user_id":17032777,"display_name":"FadingOffset"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1674928053,"creation_date":1674927750,"answer_id":75269620,"question_id":21979699,"body_markdown":"If anyone is looking to achieve the same with log4j2.properties file. Works for log4j2 2.17.1 and above versions\r\n\r\n    status = warn\r\n\r\n    # Name of the configuration\r\n    name = ConsoleAndRollingLogFileAppenderConfigDemo\r\n\r\n    # Console appender configuration\r\n    appender.console.type = Console\r\n    appender.console.name = consoleLogger\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.disableAnsi=false\r\n    appender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} %highlight{${LOG_LEVEL_PATTERN:-%5p}}{FATAL=red, ERROR=red, WARN=yellow, INFO=green, DEBUG=green, TRACE=green} %style{%pid}{magenta} --- [%15.15t] %style{%-40.40c{1.}}{cyan} : %m%n%ex\r\n\r\n    # Log files location\r\n    property.basePath = src/main/resources\r\n\r\n    # RollingFileAppender name, pattern, path and rollover policy\r\n    appender.rolling.type = RollingFile\r\n    appender.rolling.name = fileLogger\r\n    appender.rolling.fileName= ${basePath}/app.log\r\n    appender.rolling.filePattern= ${basePath}/app_%d{yyyyMMdd}.log.gz\r\n    appender.rolling.layout.type = PatternLayout\r\n    appender.rolling.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} %highlight{${LOG_LEVEL_PATTERN:-%5p}}{FATAL=red, ERROR=red, WARN=yellow, INFO=green, DEBUG=green, TRACE=green} %style{%pid}{magenta} --- [%15.15t] %style{%-40.40c{1.}}{cyan} : %m%n%ex\r\n    appender.rolling.policies.type = Policies\r\n\r\n    # RollingFileAppender rotation policy\r\n    appender.rolling.policies.size.type = SizeBasedTriggeringPolicy\r\n    appender.rolling.policies.size.size = 100MB\r\n    appender.rolling.policies.time.type = TimeBasedTriggeringPolicy\r\n    appender.rolling.policies.time.interval = 30\r\n    appender.rolling.policies.time.modulate = true\r\n    appender.rolling.strategy.type = DefaultRolloverStrategy\r\n    appender.rolling.strategy.delete.type = Delete\r\n    appender.rolling.strategy.delete.basePath = ${basePath}\r\n    appender.rolling.strategy.delete.maxDepth = 10\r\n    appender.rolling.strategy.delete.ifLastModified.type = IfLastModified\r\n\r\n    # Delete all files older than 30 days\r\n    appender.rolling.strategy.delete.ifLastModified.age = 60d\r\n\r\n    # Root logger level\r\n    rootLogger.level = debug\r\n\r\n    # Configure root logger\r\n    rootLogger.appenderRef.stdout.ref = consoleLogger\r\n    rootLogger.appenderRef.rolling.ref = fileLogger\r\n\r\n","title":"log4j 2 adding multiple colors to console appender","body":"<p>If anyone is looking to achieve the same with log4j2.properties file. Works for log4j2 2.17.1 and above versions</p>\n<pre><code>status = warn\n\n# Name of the configuration\nname = ConsoleAndRollingLogFileAppenderConfigDemo\n\n# Console appender configuration\nappender.console.type = Console\nappender.console.name = consoleLogger\nappender.console.layout.type = PatternLayout\nappender.console.layout.disableAnsi=false\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} %highlight{${LOG_LEVEL_PATTERN:-%5p}}{FATAL=red, ERROR=red, WARN=yellow, INFO=green, DEBUG=green, TRACE=green} %style{%pid}{magenta} --- [%15.15t] %style{%-40.40c{1.}}{cyan} : %m%n%ex\n\n# Log files location\nproperty.basePath = src/main/resources\n\n# RollingFileAppender name, pattern, path and rollover policy\nappender.rolling.type = RollingFile\nappender.rolling.name = fileLogger\nappender.rolling.fileName= ${basePath}/app.log\nappender.rolling.filePattern= ${basePath}/app_%d{yyyyMMdd}.log.gz\nappender.rolling.layout.type = PatternLayout\nappender.rolling.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} %highlight{${LOG_LEVEL_PATTERN:-%5p}}{FATAL=red, ERROR=red, WARN=yellow, INFO=green, DEBUG=green, TRACE=green} %style{%pid}{magenta} --- [%15.15t] %style{%-40.40c{1.}}{cyan} : %m%n%ex\nappender.rolling.policies.type = Policies\n\n# RollingFileAppender rotation policy\nappender.rolling.policies.size.type = SizeBasedTriggeringPolicy\nappender.rolling.policies.size.size = 100MB\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\nappender.rolling.policies.time.interval = 30\nappender.rolling.policies.time.modulate = true\nappender.rolling.strategy.type = DefaultRolloverStrategy\nappender.rolling.strategy.delete.type = Delete\nappender.rolling.strategy.delete.basePath = ${basePath}\nappender.rolling.strategy.delete.maxDepth = 10\nappender.rolling.strategy.delete.ifLastModified.type = IfLastModified\n\n# Delete all files older than 30 days\nappender.rolling.strategy.delete.ifLastModified.age = 60d\n\n# Root logger level\nrootLogger.level = debug\n\n# Configure root logger\nrootLogger.appenderRef.stdout.ref = consoleLogger\nrootLogger.appenderRef.rolling.ref = fileLogger\n</code></pre>\n"}],"owner":{"account_id":1700244,"reputation":2204,"user_id":1560536,"accept_rate":92,"display_name":"Govinnage  Rasika Perera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56298,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":22030994,"answer_count":8,"score":51,"last_activity_date":1674928053,"creation_date":1393220300,"question_id":21979699,"body_markdown":"Hi I just downloaded and configured log4j-2. I am stuck on applying color codes to the `SlowConsole` console appender. My console appender is like below.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;WARN&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} %-5level %logger{36} - %msg%n&quot;/&gt;\r\n            &lt;/Console&gt;\r\n            &lt;Console name=&quot;SlowConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%highlight{%d{HH:mm:ss.SSS} %-5level %logger{36}.%M() @%L - %msg%n}{FATAL=red, ERROR=red, WARN=yellow, INFO=black, DEBUG=green, TRACE=blue}&quot;/&gt;\r\n            &lt;/Console&gt;\r\n            &lt;File name=&quot;File&quot; fileName=&quot;C:\\log\\out.txt&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} %-5level %logger{36} - %msg%n&quot; /&gt;\r\n            &lt;/File&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;logger name=&quot;org.abc.ea.web&quot; level=&quot;ALL&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;!--Log4j for the WEB MODULE --&gt;\r\n                &lt;appender-ref ref=&quot;SlowConsole&quot;/&gt;\r\n            &lt;/logger&gt;\r\n            &lt;logger name=&quot;org.abc.ea.ejb&quot; level=&quot;ALL&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;!--Log4j for the EJB MODULE --&gt;\r\n                &lt;appender-ref ref=&quot;SlowConsole&quot;/&gt;\r\n            &lt;/logger&gt;\r\n            &lt;Root level=&quot;ERROR&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;File&quot; /&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nI have two questions,\r\n\r\n 1. I am new to log4j, is this the right way to write xml config file?\r\n    \r\n 2. How can i add two color codes to each log level?\r\n\r\n    for example: DEBUG=green -&gt; will output light green font, But i need it to be `dim` and `bold`","title":"log4j 2 adding multiple colors to console appender","body":"<p>Hi I just downloaded and configured log4j-2. I am stuck on applying color codes to the <code>SlowConsole</code> console appender. My console appender is like below.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"WARN\"&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"Console\" target=\"SYSTEM_OUT\"&gt;\n            &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} %-5level %logger{36} - %msg%n\"/&gt;\n        &lt;/Console&gt;\n        &lt;Console name=\"SlowConsole\" target=\"SYSTEM_OUT\"&gt;\n            &lt;PatternLayout pattern=\"%highlight{%d{HH:mm:ss.SSS} %-5level %logger{36}.%M() @%L - %msg%n}{FATAL=red, ERROR=red, WARN=yellow, INFO=black, DEBUG=green, TRACE=blue}\"/&gt;\n        &lt;/Console&gt;\n        &lt;File name=\"File\" fileName=\"C:\\log\\out.txt\"&gt;\n            &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} %-5level %logger{36} - %msg%n\" /&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;logger name=\"org.abc.ea.web\" level=\"ALL\" additivity=\"false\"&gt;\n            &lt;!--Log4j for the WEB MODULE --&gt;\n            &lt;appender-ref ref=\"SlowConsole\"/&gt;\n        &lt;/logger&gt;\n        &lt;logger name=\"org.abc.ea.ejb\" level=\"ALL\" additivity=\"false\"&gt;\n            &lt;!--Log4j for the EJB MODULE --&gt;\n            &lt;appender-ref ref=\"SlowConsole\"/&gt;\n        &lt;/logger&gt;\n        &lt;Root level=\"ERROR\"&gt;\n            &lt;AppenderRef ref=\"Console\"/&gt;\n            &lt;AppenderRef ref=\"File\" /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>I have two questions,</p>\n\n<ol>\n<li><p>I am new to log4j, is this the right way to write xml config file?</p></li>\n<li><p>How can i add two color codes to each log level?</p>\n\n<p>for example: DEBUG=green -> will output light green font, But i need it to be <code>dim</code> and <code>bold</code></p></li>\n</ol>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1674927603,"post_id":75268442,"comment_id":132820162,"body_markdown":"If you check the order of the log output, you&#39;ll see that the variable *does* get updated, but only after your `System.out.println(&quot;numPoints is &quot; + numPoints)` has already executed. That&#39;s because data is loaded from Firestore (and pretty much any cloud API) asynchronously. I linked a few questions explaining this in more detail.","body":"If you check the order of the log output, you&#39;ll see that the variable <i>does</i> get updated, but only after your <code>System.out.println(&quot;numPoints is &quot; + numPoints)</code> has already executed. That&#39;s because data is loaded from Firestore (and pretty much any cloud API) asynchronously. I linked a few questions explaining this in more detail."},{"owner":{"account_id":26770277,"reputation":13,"user_id":20366776,"display_name":"coderMani"},"score":0,"creation_date":1674931560,"post_id":75268442,"comment_id":132820912,"body_markdown":"Is there anyway around this?","body":"Is there anyway around this?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1674974689,"post_id":75268442,"comment_id":132826070,"body_markdown":"Yes, as shown in the links I provided: any code that needs the data from the database will have to be inside the `onComplete`, be called from there, or otherwise synchronized.","body":"Yes, as shown in the links I provided: any code that needs the data from the database will have to be inside the <code>onComplete</code>, be called from there, or otherwise synchronized."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675148077,"post_id":75268442,"comment_id":132860670,"body_markdown":"I think you might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953).","body":"I think you might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">resource</a>."}],"owner":{"account_id":26770277,"reputation":13,"user_id":20366776,"display_name":"coderMani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674927478,"answer_count":0,"score":0,"last_activity_date":1674927537,"creation_date":1674916907,"question_id":75268442,"body_markdown":"Why does my variable not get updated after the onComplete method has finished?\r\n\r\nI have a public int variable &#39;numPoints&#39;. When I call a method &#39;CalculateBatPoints&#39; I update the variable numPoints inside of a onComplete method. However, when the onComplete method is complete, the numPoints value doesn&#39;t appear to have been updated.\r\n\r\n\r\n```\r\nprivate void CalculateBatPoints(ArrayList&lt;String&gt; listBat){\r\n        numPoints = 0;\r\n        for (int i=0;i&lt;listBat.size();i++){\r\n\r\n            db.collection(&quot;players&quot;).document(listBat.get(i)).get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                    DocumentSnapshot ds = task.getResult();\r\n                    numPoints = Integer.parseInt(ds.getString(&quot;gwPoints&quot;)) + numPoints;\r\n                    System.out.println(numPoints);\r\n                }\r\n            });\r\n        }\r\n        System.out.println(&quot;numPoints is &quot; + numPoints);\r\n    }\r\n```\r\n\r\nThe output I got was: \r\n32\r\n158\r\n185\r\n271\r\nnumPoints is 0\r\n\r\nI expected the output: \r\n32\r\n158\r\n185\r\n271\r\nnumPoints is 271","title":"How do I update a variable from inside of a onComplete method","body":"<p>Why does my variable not get updated after the onComplete method has finished?</p>\n<p>I have a public int variable 'numPoints'. When I call a method 'CalculateBatPoints' I update the variable numPoints inside of a onComplete method. However, when the onComplete method is complete, the numPoints value doesn't appear to have been updated.</p>\n<pre><code>private void CalculateBatPoints(ArrayList&lt;String&gt; listBat){\n        numPoints = 0;\n        for (int i=0;i&lt;listBat.size();i++){\n\n            db.collection(&quot;players&quot;).document(listBat.get(i)).get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                    DocumentSnapshot ds = task.getResult();\n                    numPoints = Integer.parseInt(ds.getString(&quot;gwPoints&quot;)) + numPoints;\n                    System.out.println(numPoints);\n                }\n            });\n        }\n        System.out.println(&quot;numPoints is &quot; + numPoints);\n    }\n</code></pre>\n<p>The output I got was:\n32\n158\n185\n271\nnumPoints is 0</p>\n<p>I expected the output:\n32\n158\n185\n271\nnumPoints is 271</p>\n"},{"tags":["java","annotation-processing"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674927514,"creation_date":1674927514,"answer_id":75269593,"question_id":75269315,"body_markdown":"You can&#39;t. You can work around it though. You need to understand the significant limitations fundamental to the question &#39;We are compiling class X; can I get a list of all subtypes of this class?&#39;, because otherwise you&#39;re going to shoot yourself in the foot. Then I&#39;ll get to the workarounds.\r\n\r\nThe issue is, a superclass is fine. After all, this:\r\n\r\n```\r\nclass Bob extends Alice {}\r\n```\r\n\r\nis not even going to compile if `Alice` is not available either as source file or as compiled class file when the compiler attempts to compile `Bob`. Therefore, asking the annotation processing (AP) tools to give you a `TypeMirror` object representing `Alice` is fine. It&#39;ll be there.\r\n\r\nHowever, given that somewhere else in the codebase, `class Carol extends Bob {}` exists, __is irrelevant__, and if neither that source file nor that class file is around, __`Bob.java` still compiles just fine__. That&#39;s __why__ the AP tools API doesn&#39;t give you a `.getSubtypes()` method. Because the docs would have to say something like this:\r\n\r\n```\r\n/**\r\n * Finds all subtypes that are mirrorable in the current compilation context\r\n * &lt;b&gt;but this does not do what you think it does and will miss a ton of classes,\r\n * please read a page worth of caveats or prepare to shoot your foot off&lt;/b&gt;:\r\n * \r\n * &lt;ul&gt;&lt;li&gt;loooong list of caveats here&lt;/li&gt;&lt;/ul&gt;\r\n */\r\n```\r\n\r\nWhereas the same list of caveats aren&#39;t necessary for `getSupertypes()`, because the cases where supertypes cannot be found are rare, are going to stop compilation anyway, and can thus don&#39;t apply (APs don&#39;t run when compilation errors occur, or if they do, it&#39;s not likely to be important that they can&#39;t do the job right).\r\n\r\nYou have 2 crucial issues:\r\n\r\n## In any case, &#39;search the universe is impossible&#39;\r\n\r\nI can write a class that extends AbstractList. I can do it right now: `class ReiniersList extends AbstractList&lt;String&gt; {}`. That was easy. When Team OpenJDK compiles `AbstractList.java`, _of course_ `ReiniersList` cannot be returned when they run an AP that calls a hypothetical `.getSubtypes()`.\r\n\r\nSo, you need to figure out what _kind_ of subtype do you want. &quot;Anywhere in this package?&quot; &quot;Anywhere in the source and classpath?&quot; That last one is __impossible__ - the classpath abstract simply does not support a &#39;list&#39; directive. And yet that&#39;s probably what you intended to do here. The best option, in the sense that it really is the only thing that the AP API can meaningfully give you, is &#39;please give me all subclasses of this class __that are part of the current compilation run, and only in source file form__&#39;. In other words, if you run `javac *.java` in a package and this hits `AbstractFoo.java`, `FooImpl1.java`, and `FooImpl2.java`, then asking &#39;getSubtypes()` of the TypeMirror representing `AbstractFoo`, you would be able to get `FooImpl1` and `FooImpl2` typemirrors. That&#39;s possible.\r\n\r\nThe problem is, programming teams split projects, and other code that doesn&#39;t even exist yet could extend `AbstractFoo` 5 years from now and you can&#39;t get those in the list. You&#39;re going to have to make crystal clear what you actually &#39;mean&#39; when you ask for subtypes, and then check if that definition is something that the AP tools can even provide for you.\r\n\r\n## Inners\r\n\r\nmethod-local classes can extend a type but aren&#39;t part of the type mirror infrastructure. They cannot have an impact on type resolution. This is a rarely used java feature, perhaps you don&#39;t know what I&#39;m talking about. It&#39;s this:\r\n\r\n```\r\nclass Example {\r\n  void foo() {\r\n    class MethodLocalClass extends AbstractList&lt;String&gt; {}\r\n  }\r\n}\r\n```\r\n\r\nis legal java, actually. Yes, I stuck a class def in the middle of a method declaration. Outside of the method decl this class is utterly invisible. You can&#39;t write `Example.MethodLocalClass` anywhere, except __inside__ `foo()`. Because of this, this class __does not exist__ at annotation processing time, effectively. You can&#39;t ask for it. It has no accessible fully qualified name. Nevertheless, it could be a subclass. Point is, `getSubtypes()` cannot return it, ever. If that is a problem, then you can&#39;t do this at all. Hopefully, you&#39;re okay with this.\r\n\r\n\r\n## Incremental compilation\r\n\r\nThat problem of &#39;search the universe is impossible&#39; takes on an acute role in making what you want completely impossible, at least as far as the AP tools are concerned, when you factor in that most compilation is done incrementally: __Only__ the source files that need recompilation (because they were modified) are recompiled. That means if you have `AbstractFoo`, `FooImpl1` and `FooImpl2` all in the same package, and you edit AbstractFoo and FooImpl1, but don&#39;t touch FooImpl2, and then save and recompile, your compiler infra (be it an IDE, or maven, or gradle, or some other build tool) is rather likely to compile __only `AbstractFoo` and `FooImpl2`__ which means it is __not possible__ for the infra to give you FooImpl1.\r\n\r\nEven though `FooImpl1` is in the same project (in the same package, even!). And there is no way to ask: It&#39;s simply not in the &#39;source set&#39; of the compiler, and the classpath does not support a &#39;list&#39; directive (where `FooImpl2.class` lives - after all, that&#39;s _why_ it&#39;s not part of the source set, it already exists and does not need to be recreated).\r\n\r\n## Solutions\r\n\r\nThe main solution is to do a lot of bookkeeping yourself:\r\n\r\n1. First, understand that you cannot _ever_ get a list of stuff that lives outside your project. Only files that, on a complete clean recompilation run, would be touched, can be found. If it&#39;s in a different project built by the same team, you can find it, but stuff others write, or stuff that will be written in the future, you can __never__ find that. Ensure you don&#39;t need these, or we&#39;re done.\r\n\r\n2. Bookkeep every class you touch. Make a text file and write this (using the Filer, you can write non-java files too) into the output directory, listing all types you &#39;touched&#39;. Then, on init, read this file, and for each class in it, ask the type tools for this type. This &#39;solves&#39; the &quot;classpaths cannot list&quot; problem: Now you&#39;re not &#39;list all types and find me every type that extends X&#39;, now you are simply asking: &quot;Please give me a TypeMirror representing class X, get it from the source path or the class path, and tell me what types that type extends&quot;. Crucially, that second thing is something the AP infra __can__ do. You then do a quick &#39;cache clear&#39; - whatever classes do not exist anywhere, you now know - I guess someone deleted that file. For everything that does exist, then that is one of the subtypes, though they might not be part of this compilation &#39;source set&#39;.\r\n\r\nYou read the file during init, then you go through the rounds, extending this `Set&lt;String&gt;` (representing fully qualified types that are subtypes, automatically getting rid of duplicate names), and then on the last round (when `roundEnv.isLastRound()` is true), you check each type if it still exists and is a subtype of what you intended to be. And __now__ you have your list of subtypes. Write this pruned list back for future runs, and do whatever you want to do with &#39;you now have a list of type names that extend the type you are interested in&#39;.\r\n\r\nI&#39;m not aware of any libraries that can help you with this. It&#39;s not too hard to write it yourself.\r\n\r\nThis principle of &#39;write a file that contains, per line, the fully qualified type of some relevant type&#39; smacks a lot of the SPI system, but crucially this one runs during compilation whereas SPI is designed as a runtime discovery system.\r\n","title":"Annotation Processing get element subclass/subtypes","body":"<p>You can't. You can work around it though. You need to understand the significant limitations fundamental to the question 'We are compiling class X; can I get a list of all subtypes of this class?', because otherwise you're going to shoot yourself in the foot. Then I'll get to the workarounds.</p>\n<p>The issue is, a superclass is fine. After all, this:</p>\n<pre><code>class Bob extends Alice {}\n</code></pre>\n<p>is not even going to compile if <code>Alice</code> is not available either as source file or as compiled class file when the compiler attempts to compile <code>Bob</code>. Therefore, asking the annotation processing (AP) tools to give you a <code>TypeMirror</code> object representing <code>Alice</code> is fine. It'll be there.</p>\n<p>However, given that somewhere else in the codebase, <code>class Carol extends Bob {}</code> exists, <strong>is irrelevant</strong>, and if neither that source file nor that class file is around, <strong><code>Bob.java</code> still compiles just fine</strong>. That's <strong>why</strong> the AP tools API doesn't give you a <code>.getSubtypes()</code> method. Because the docs would have to say something like this:</p>\n<pre><code>/**\n * Finds all subtypes that are mirrorable in the current compilation context\n * &lt;b&gt;but this does not do what you think it does and will miss a ton of classes,\n * please read a page worth of caveats or prepare to shoot your foot off&lt;/b&gt;:\n * \n * &lt;ul&gt;&lt;li&gt;loooong list of caveats here&lt;/li&gt;&lt;/ul&gt;\n */\n</code></pre>\n<p>Whereas the same list of caveats aren't necessary for <code>getSupertypes()</code>, because the cases where supertypes cannot be found are rare, are going to stop compilation anyway, and can thus don't apply (APs don't run when compilation errors occur, or if they do, it's not likely to be important that they can't do the job right).</p>\n<p>You have 2 crucial issues:</p>\n<h2>In any case, 'search the universe is impossible'</h2>\n<p>I can write a class that extends AbstractList. I can do it right now: <code>class ReiniersList extends AbstractList&lt;String&gt; {}</code>. That was easy. When Team OpenJDK compiles <code>AbstractList.java</code>, <em>of course</em> <code>ReiniersList</code> cannot be returned when they run an AP that calls a hypothetical <code>.getSubtypes()</code>.</p>\n<p>So, you need to figure out what <em>kind</em> of subtype do you want. &quot;Anywhere in this package?&quot; &quot;Anywhere in the source and classpath?&quot; That last one is <strong>impossible</strong> - the classpath abstract simply does not support a 'list' directive. And yet that's probably what you intended to do here. The best option, in the sense that it really is the only thing that the AP API can meaningfully give you, is 'please give me all subclasses of this class <strong>that are part of the current compilation run, and only in source file form</strong>'. In other words, if you run <code>javac *.java</code> in a package and this hits <code>AbstractFoo.java</code>, <code>FooImpl1.java</code>, and <code>FooImpl2.java</code>, then asking 'getSubtypes()<code>of the TypeMirror representing</code>AbstractFoo<code>, you would be able to get </code>FooImpl1<code>and</code>FooImpl2` typemirrors. That's possible.</p>\n<p>The problem is, programming teams split projects, and other code that doesn't even exist yet could extend <code>AbstractFoo</code> 5 years from now and you can't get those in the list. You're going to have to make crystal clear what you actually 'mean' when you ask for subtypes, and then check if that definition is something that the AP tools can even provide for you.</p>\n<h2>Inners</h2>\n<p>method-local classes can extend a type but aren't part of the type mirror infrastructure. They cannot have an impact on type resolution. This is a rarely used java feature, perhaps you don't know what I'm talking about. It's this:</p>\n<pre><code>class Example {\n  void foo() {\n    class MethodLocalClass extends AbstractList&lt;String&gt; {}\n  }\n}\n</code></pre>\n<p>is legal java, actually. Yes, I stuck a class def in the middle of a method declaration. Outside of the method decl this class is utterly invisible. You can't write <code>Example.MethodLocalClass</code> anywhere, except <strong>inside</strong> <code>foo()</code>. Because of this, this class <strong>does not exist</strong> at annotation processing time, effectively. You can't ask for it. It has no accessible fully qualified name. Nevertheless, it could be a subclass. Point is, <code>getSubtypes()</code> cannot return it, ever. If that is a problem, then you can't do this at all. Hopefully, you're okay with this.</p>\n<h2>Incremental compilation</h2>\n<p>That problem of 'search the universe is impossible' takes on an acute role in making what you want completely impossible, at least as far as the AP tools are concerned, when you factor in that most compilation is done incrementally: <strong>Only</strong> the source files that need recompilation (because they were modified) are recompiled. That means if you have <code>AbstractFoo</code>, <code>FooImpl1</code> and <code>FooImpl2</code> all in the same package, and you edit AbstractFoo and FooImpl1, but don't touch FooImpl2, and then save and recompile, your compiler infra (be it an IDE, or maven, or gradle, or some other build tool) is rather likely to compile <strong>only <code>AbstractFoo</code> and <code>FooImpl2</code></strong> which means it is <strong>not possible</strong> for the infra to give you FooImpl1.</p>\n<p>Even though <code>FooImpl1</code> is in the same project (in the same package, even!). And there is no way to ask: It's simply not in the 'source set' of the compiler, and the classpath does not support a 'list' directive (where <code>FooImpl2.class</code> lives - after all, that's <em>why</em> it's not part of the source set, it already exists and does not need to be recreated).</p>\n<h2>Solutions</h2>\n<p>The main solution is to do a lot of bookkeeping yourself:</p>\n<ol>\n<li><p>First, understand that you cannot <em>ever</em> get a list of stuff that lives outside your project. Only files that, on a complete clean recompilation run, would be touched, can be found. If it's in a different project built by the same team, you can find it, but stuff others write, or stuff that will be written in the future, you can <strong>never</strong> find that. Ensure you don't need these, or we're done.</p>\n</li>\n<li><p>Bookkeep every class you touch. Make a text file and write this (using the Filer, you can write non-java files too) into the output directory, listing all types you 'touched'. Then, on init, read this file, and for each class in it, ask the type tools for this type. This 'solves' the &quot;classpaths cannot list&quot; problem: Now you're not 'list all types and find me every type that extends X', now you are simply asking: &quot;Please give me a TypeMirror representing class X, get it from the source path or the class path, and tell me what types that type extends&quot;. Crucially, that second thing is something the AP infra <strong>can</strong> do. You then do a quick 'cache clear' - whatever classes do not exist anywhere, you now know - I guess someone deleted that file. For everything that does exist, then that is one of the subtypes, though they might not be part of this compilation 'source set'.</p>\n</li>\n</ol>\n<p>You read the file during init, then you go through the rounds, extending this <code>Set&lt;String&gt;</code> (representing fully qualified types that are subtypes, automatically getting rid of duplicate names), and then on the last round (when <code>roundEnv.isLastRound()</code> is true), you check each type if it still exists and is a subtype of what you intended to be. And <strong>now</strong> you have your list of subtypes. Write this pruned list back for future runs, and do whatever you want to do with 'you now have a list of type names that extend the type you are interested in'.</p>\n<p>I'm not aware of any libraries that can help you with this. It's not too hard to write it yourself.</p>\n<p>This principle of 'write a file that contains, per line, the fully qualified type of some relevant type' smacks a lot of the SPI system, but crucially this one runs during compilation whereas SPI is designed as a runtime discovery system.</p>\n"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75269593,"answer_count":1,"score":0,"last_activity_date":1674927514,"creation_date":1674925159,"question_id":75269315,"body_markdown":"While processing an annotation, I want to get all the subclass/subtypes of an element.\r\n\r\nThe element will be a `Movie` so I would like to get Elements or TypeMirrors of `TerrorMovie ` and `ComedyMovie`.\r\n\r\n```\r\ninterface Movie {}\r\n\r\nclass TerrorMovie implements Movie {}\r\n\r\nclass ComedyMovie implements Movie {}\r\n```\r\n\r\nGetting the superType is easy as I can use the `Types.directSupertypes()` but how can I get the subtypes?\r\n\r\nThanks","title":"Annotation Processing get element subclass/subtypes","body":"<p>While processing an annotation, I want to get all the subclass/subtypes of an element.</p>\n<p>The element will be a <code>Movie</code> so I would like to get Elements or TypeMirrors of <code>TerrorMovie </code> and <code>ComedyMovie</code>.</p>\n<pre><code>interface Movie {}\n\nclass TerrorMovie implements Movie {}\n\nclass ComedyMovie implements Movie {}\n</code></pre>\n<p>Getting the superType is easy as I can use the <code>Types.directSupertypes()</code> but how can I get the subtypes?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","deployment","web-deployment"],"answers":[{"comments":[{"owner":{"account_id":11627789,"reputation":379,"user_id":8517040,"display_name":"Andres Rincon"},"score":0,"creation_date":1675374703,"post_id":75269587,"comment_id":132921467,"body_markdown":"I&#39;m having an issue when reading files from resource folders, I&#39;m reading the files with ClassPathResource but it fails","body":"I&#39;m having an issue when reading files from resource folders, I&#39;m reading the files with ClassPathResource but it fails"}],"tags":[],"owner":{"account_id":6350057,"reputation":157,"user_id":4929408,"display_name":"Mirza Suljić"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674927469,"creation_date":1674927469,"answer_id":75269587,"question_id":75013825,"body_markdown":"I was having the same issue. My cause was that the request failed to resolve because an exception was thrown, hence no reaction from pinging &quot;/&quot;. Are you maybe trying to load files from the resource folder?","title":"Spring Boot white label error page after deployed on Railway","body":"<p>I was having the same issue. My cause was that the request failed to resolve because an exception was thrown, hence no reaction from pinging &quot;/&quot;. Are you maybe trying to load files from the resource folder?</p>\n"}],"owner":{"account_id":27437327,"reputation":1,"user_id":20932903,"display_name":"Adoration4None"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674927469,"creation_date":1672892431,"question_id":75013825,"body_markdown":"I deployed this Spring Boot [application](https://github.com/Adoration4None/Unicine) on Railway, but after the deploy is finished and with no errors, when I access the provided link [https://unicine.up.railway.app](https://unicine.up.railway.app), it only shows the White Label Error Page.\r\n\r\n[This is the project structure](https://i.stack.imgur.com/oiwnW.png) (**negocio** is the &quot;backend&quot; module and **web** is the &quot;frontend&quot; module).\r\nWhen the application is launched on _localhost_ it shows the **index.xhtml** page by default, and I can navigate to other pages like **login_admin.xhtml** by typing it in the URL, as you can see [here](https://i.stack.imgur.com/W1q80.png), but when I try to do the same in the deployed Railway app, the error page keeps coming up. \r\n\r\nI know the app is being deployed and started correctly, the problem seems to be that it doesn&#39;t find the files to show when entering the page.\r\n\r\nI have this class in _unicine/web/src/main/java/co.edu.uniquindio.unicine/config/_ that sets the start page:\r\n\r\n```\r\npackage co.edu.uniquindio.unicine.config;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class PaginaPrincipalConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;forward:/index.xhtml&quot;);\r\n        registry.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n    }\r\n}\r\n```\r\nAnd it&#39;s working fine when runned on localhost, but it seems like it&#39;s not working when deployed on Railway.\r\n\r\nHow could I fix that? Is there something I am overlooking?","title":"Spring Boot white label error page after deployed on Railway","body":"<p>I deployed this Spring Boot <a href=\"https://github.com/Adoration4None/Unicine\" rel=\"nofollow noreferrer\">application</a> on Railway, but after the deploy is finished and with no errors, when I access the provided link <a href=\"https://unicine.up.railway.app\" rel=\"nofollow noreferrer\">https://unicine.up.railway.app</a>, it only shows the White Label Error Page.</p>\n<p><a href=\"https://i.stack.imgur.com/oiwnW.png\" rel=\"nofollow noreferrer\">This is the project structure</a> (<strong>negocio</strong> is the &quot;backend&quot; module and <strong>web</strong> is the &quot;frontend&quot; module).\nWhen the application is launched on <em>localhost</em> it shows the <strong>index.xhtml</strong> page by default, and I can navigate to other pages like <strong>login_admin.xhtml</strong> by typing it in the URL, as you can see <a href=\"https://i.stack.imgur.com/W1q80.png\" rel=\"nofollow noreferrer\">here</a>, but when I try to do the same in the deployed Railway app, the error page keeps coming up.</p>\n<p>I know the app is being deployed and started correctly, the problem seems to be that it doesn't find the files to show when entering the page.</p>\n<p>I have this class in <em>unicine/web/src/main/java/co.edu.uniquindio.unicine/config/</em> that sets the start page:</p>\n<pre><code>package co.edu.uniquindio.unicine.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.Ordered;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class PaginaPrincipalConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;forward:/index.xhtml&quot;);\n        registry.setOrder(Ordered.HIGHEST_PRECEDENCE);\n    }\n}\n</code></pre>\n<p>And it's working fine when runned on localhost, but it seems like it's not working when deployed on Railway.</p>\n<p>How could I fix that? Is there something I am overlooking?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674818862,"creation_date":1674818862,"answer_id":75257494,"question_id":75257393,"body_markdown":"`InitializingBean` is pure Spring and will only work in Spring. `@PostConstruct` is ordinary Java 1.8. Sadly, from 9 it&#39;s dependent on `javax.annotation:javax.annotation-api:1.3.2`","title":"Callbacks in bean lifecycle","body":"<p><code>InitializingBean</code> is pure Spring and will only work in Spring. <code>@PostConstruct</code> is ordinary Java 1.8. Sadly, from 9 it's dependent on <code>javax.annotation:javax.annotation-api:1.3.2</code></p>\n"},{"comments":[{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1674830383,"post_id":75257499,"comment_id":132802769,"body_markdown":"Also if you could give an example of a non spring environment and why would i wanna run a spring app in it?","body":"Also if you could give an example of a non spring environment and why would i wanna run a spring app in it?"},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":1,"creation_date":1674927290,"post_id":75257499,"comment_id":132820092,"body_markdown":"See my addition. Of course, you can&#39;t run a complete Spring app in a non-Spring environment, but if your core classes don&#39;t depend on Spring, migrating will be easier. There are also non-EE libraries like Guice that may support `@PostConstruct`, although Guice does not at the moment: https://github.com/google/guice/issues/1490","body":"See my addition. Of course, you can&#39;t run a complete Spring app in a non-Spring environment, but if your core classes don&#39;t depend on Spring, migrating will be easier. There are also non-EE libraries like Guice that may support <code>@PostConstruct</code>, although Guice does not at the moment: <a href=\"https://github.com/google/guice/issues/1490\" rel=\"nofollow noreferrer\">github.com/google/guice/issues/1490</a>"}],"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674927122,"creation_date":1674818873,"answer_id":75257499,"question_id":75257393,"body_markdown":"The `@PostContruct` annotation is not Spring-specific, but from [Jakarta Annotations][1]. This way, the core part of your code is not tied to Spring specifically, but could also work in a non-Spring environment, including any [Jakarta EE][2] implementation (see &quot;Certified referencing runtimes&quot; in the article), for example, GlassFish or WildFly.\r\n\r\nHere is the relevant Javadoc from the Jakarta documentation: [PostConstruct][3].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Jakarta_Annotations\r\n  [2]: https://en.wikipedia.org/wiki/Jakarta_EE\r\n  [3]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/annotation/postconstruct","title":"Callbacks in bean lifecycle","body":"<p>The <code>@PostContruct</code> annotation is not Spring-specific, but from <a href=\"https://en.wikipedia.org/wiki/Jakarta_Annotations\" rel=\"nofollow noreferrer\">Jakarta Annotations</a>. This way, the core part of your code is not tied to Spring specifically, but could also work in a non-Spring environment, including any <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">Jakarta EE</a> implementation (see &quot;Certified referencing runtimes&quot; in the article), for example, GlassFish or WildFly.</p>\n<p>Here is the relevant Javadoc from the Jakarta documentation: <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/annotation/postconstruct\" rel=\"nofollow noreferrer\">PostConstruct</a>.</p>\n"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75257494,"answer_count":2,"score":1,"last_activity_date":1674927122,"creation_date":1674818272,"question_id":75257393,"body_markdown":"I was just going through spring documentation for Lifecycle callbacks for a bean. For initialization callback the documentation recommends using @PostConstruct annotation instead of using the InitializingBean interface implementation as it couples code with Spring. Could someone please explain what they mean when they say coupling code with spring. I will share the link to the section i was going through [here][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-lifecycle-initializingbean","title":"Callbacks in bean lifecycle","body":"<p>I was just going through spring documentation for Lifecycle callbacks for a bean. For initialization callback the documentation recommends using @PostConstruct annotation instead of using the InitializingBean interface implementation as it couples code with Spring. Could someone please explain what they mean when they say coupling code with spring. I will share the link to the section i was going through <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-lifecycle-initializingbean\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","maven"],"answers":[{"comments":[{"owner":{"account_id":13618999,"reputation":623,"user_id":9824120,"display_name":"SimbuStar"},"score":3,"creation_date":1529579391,"post_id":50956622,"comment_id":88930344,"body_markdown":"Cool...Thanks...I have updated my java version to 8 and the problem is now solved...","body":"Cool...Thanks...I have updated my java version to 8 and the problem is now solved..."},{"owner":{"account_id":1324738,"reputation":851,"user_id":1269828,"accept_rate":80,"display_name":"laishiekai"},"score":2,"creation_date":1530224139,"post_id":50956622,"comment_id":89172000,"body_markdown":"Thanks for reminding about Java8. On my mac I have both Java7 and Java8, and this is why I got the maven error. The error messages are very misleading!","body":"Thanks for reminding about Java8. On my mac I have both Java7 and Java8, and this is why I got the maven error. The error messages are very misleading!"},{"owner":{"account_id":5709291,"reputation":563,"user_id":4511854,"display_name":"Mert Z."},"score":9,"creation_date":1531125922,"post_id":50956622,"comment_id":89461484,"body_markdown":"Another solution would be to set &quot;-Dhttps.protocols=TLSv1.2&quot; to &quot;MAVEN_OPTS&quot; environment variable so that maven can pass this jvm argument to the underlying Java7 runtime which is used to build your application.","body":"Another solution would be to set &quot;-Dhttps.protocols=TLSv1.2&quot; to &quot;MAVEN_OPTS&quot; environment variable so that maven can pass this jvm argument to the underlying Java7 runtime which is used to build your application."},{"owner":{"account_id":6635310,"reputation":145,"user_id":5122617,"accept_rate":0,"display_name":"Sushant"},"score":0,"creation_date":1548767103,"post_id":50956622,"comment_id":95653183,"body_markdown":"Can someone suggest how to configure same setting in Jenkins ?","body":"Can someone suggest how to configure same setting in Jenkins ?"}],"tags":[],"owner":{"account_id":3464860,"reputation":2008,"user_id":2900738,"accept_rate":48,"display_name":"Eric"},"comment_count":4,"down_vote_count":0,"up_vote_count":106,"is_accepted":true,"score":106,"last_activity_date":1531527824,"creation_date":1529526851,"answer_id":50956622,"question_id":50946420,"body_markdown":"Sonatype [no longer supports TLSv1.1 and below][1] (effective, June 18th, 2018). My guess is that you are using TLSv1.1 protocol or below. \n\nThe documentation I listed gives you 4 options:\n\n 1. Upgrade your Java runtime, for example with OpenJDK builds or Oracle paying support\n 2. Configure your Java runtime to enable TLS 1.2 by adding -Dhttps.protocols=TLSv1.2\n 3. Use a repository manager that uses a Java version supporting TLS 1.2\n 4. Revert back to http until you can acheive one of the above remediation steps.\n\nI fixed it myself by just using -Dhttps.protocols=TLSv1.2 as a VM argument.\n&amp;nbsp;\n\n  [1]: https://central.sonatype.org/articles/2018/May/04/discontinued-support-for-tlsv11-and-below/","title":"Could not transfer artifact (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version -&gt; [Help 1]","body":"<p>Sonatype <a href=\"https://central.sonatype.org/articles/2018/May/04/discontinued-support-for-tlsv11-and-below/\" rel=\"noreferrer\">no longer supports TLSv1.1 and below</a> (effective, June 18th, 2018). My guess is that you are using TLSv1.1 protocol or below.</p>\n<p>The documentation I listed gives you 4 options:</p>\n<ol>\n<li>Upgrade your Java runtime, for example with OpenJDK builds or Oracle paying support</li>\n<li>Configure your Java runtime to enable TLS 1.2 by adding -Dhttps.protocols=TLSv1.2</li>\n<li>Use a repository manager that uses a Java version supporting TLS 1.2</li>\n<li>Revert back to http until you can acheive one of the above remediation steps.</li>\n</ol>\n<p>I fixed it myself by just using -Dhttps.protocols=TLSv1.2 as a VM argument.\n </p>\n"},{"comments":[{"owner":{"account_id":356367,"reputation":11110,"user_id":695833,"display_name":"Ed Bayiates"},"score":0,"creation_date":1541309728,"post_id":51163417,"comment_id":93168689,"body_markdown":"This worked for me when I ran Maven from the build directory.","body":"This worked for me when I ran Maven from the build directory."},{"owner":{"account_id":525667,"reputation":751,"user_id":1201321,"accept_rate":44,"display_name":"eminemence"},"score":2,"creation_date":1580193590,"post_id":51163417,"comment_id":106006991,"body_markdown":"If the above tip does not work, just add the option -Dhttps.protocols=TLSv1.2 to the mvn command like this: mvn install -Dhttps.protocols=TLSv1.2","body":"If the above tip does not work, just add the option -Dhttps.protocols=TLSv1.2 to the mvn command like this: mvn install -Dhttps.protocols=TLSv1.2"},{"owner":{"account_id":1340131,"reputation":276,"user_id":1281970,"accept_rate":32,"display_name":"irshad.ahmad"},"score":0,"creation_date":1622795366,"post_id":51163417,"comment_id":119899180,"body_markdown":"Above solution is the one that i was looking for and it worked great :)","body":"Above solution is the one that i was looking for and it worked great :)"}],"tags":[],"owner":{"account_id":438687,"reputation":531,"user_id":827112,"accept_rate":44,"display_name":"Yoav R."},"comment_count":3,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1530655942,"creation_date":1530655942,"answer_id":51163417,"question_id":50946420,"body_markdown":"For a permanent solution(mostly required in Java 7) - in you build directory(where you do the `mvn` command from) add directory:\r\n\r\n`.mvn` (in cmd `mkdir .mvn`)\r\n\r\nand in it create file\r\n\r\n`jvm.config`\r\n\r\n and in put the following line:\r\n\r\n`-Dhttps.protocols=TLSv1.2`","title":"Could not transfer artifact (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version -&gt; [Help 1]","body":"<p>For a permanent solution(mostly required in Java 7) - in you build directory(where you do the <code>mvn</code> command from) add directory:</p>\n\n<p><code>.mvn</code> (in cmd <code>mkdir .mvn</code>)</p>\n\n<p>and in it create file</p>\n\n<p><code>jvm.config</code></p>\n\n<p>and in put the following line:</p>\n\n<p><code>-Dhttps.protocols=TLSv1.2</code></p>\n"},{"tags":[],"owner":{"account_id":11168652,"reputation":69,"user_id":8196424,"display_name":"Georgina Diaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534266366,"creation_date":1534266366,"answer_id":51846537,"question_id":50946420,"body_markdown":"I set my **settings.xml** file in the .m2 directory just as the one here: https://github.com/alipay/sofa-rpc/pull/190/files\r\n\r\nThen exec `mvn install` and all dependencies started to download. I haven&#39;t had a settings.xml file before and I am not using any proxy. \r\nHope it helps somebody. \r\n\r\nPD. I have jdk 1.7 and Maven 3.3.9","title":"Could not transfer artifact (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version -&gt; [Help 1]","body":"<p>I set my <strong>settings.xml</strong> file in the .m2 directory just as the one here: <a href=\"https://github.com/alipay/sofa-rpc/pull/190/files\" rel=\"nofollow noreferrer\">https://github.com/alipay/sofa-rpc/pull/190/files</a></p>\n\n<p>Then exec <code>mvn install</code> and all dependencies started to download. I haven't had a settings.xml file before and I am not using any proxy. \nHope it helps somebody. </p>\n\n<p>PD. I have jdk 1.7 and Maven 3.3.9</p>\n"},{"tags":[],"owner":{"account_id":11147949,"reputation":105,"user_id":8182107,"display_name":"Cyrano Dirac Djike Kemadjou"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1535549540,"creation_date":1535548116,"answer_id":52078260,"question_id":50946420,"body_markdown":"The simplest solution is to configure your JVM runtime arguments. On eclipse, you can do it as following :\r\n\r\ngo to  windows&gt;preferences&gt;java&gt;installed JREs\r\nclick on the Intalled JRE/JDK you are using for your project\r\n\r\nclick on &quot;edit&quot;  on le right,\r\nand add  `-Dhttps.protocols=TLSv1.2` in the Default VM arguments Input field.\r\n\r\nsee the screenshot :\r\n\r\n![Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0vFuI.png","title":"Could not transfer artifact (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version -&gt; [Help 1]","body":"<p>The simplest solution is to configure your JVM runtime arguments. On eclipse, you can do it as following :</p>\n\n<p>go to  windows>preferences>java>installed JREs\nclick on the Intalled JRE/JDK you are using for your project</p>\n\n<p>click on \"edit\"  on le right,\nand add  <code>-Dhttps.protocols=TLSv1.2</code> in the Default VM arguments Input field.</p>\n\n<p>see the screenshot :</p>\n\n<p><img src=\"https://i.stack.imgur.com/0vFuI.png\" alt=\"Screenshot\"></p>\n"},{"tags":[],"owner":{"account_id":3238707,"reputation":151,"user_id":2732248,"display_name":"sa3036"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1540513014,"creation_date":1540513014,"answer_id":52999763,"question_id":50946420,"body_markdown":"I had upgraded from Java 1.7 to Java 1.8 and got the same error.\r\nTo resolve this error, I checked the mvn version using `mvn -version` and found that JAVA_HOME was still using the Java 1.7. I changed the JAVA_HOME in the environment variable to point to Java 1.8 jre in JDK\r\n\r\nHope this helps someone.\r\n","title":"Could not transfer artifact (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version -&gt; [Help 1]","body":"<p>I had upgraded from Java 1.7 to Java 1.8 and got the same error.\nTo resolve this error, I checked the mvn version using <code>mvn -version</code> and found that JAVA_HOME was still using the Java 1.7. I changed the JAVA_HOME in the environment variable to point to Java 1.8 jre in JDK</p>\n\n<p>Hope this helps someone.</p>\n"},{"comments":[{"owner":{"account_id":3001464,"reputation":134,"user_id":2546891,"accept_rate":57,"display_name":"riroo"},"score":0,"creation_date":1671710515,"post_id":55645706,"comment_id":132159103,"body_markdown":"What did you add to your settings.xml to make it work ?","body":"What did you add to your settings.xml to make it work ?"}],"tags":[],"owner":{"account_id":6115436,"reputation":11,"user_id":4770620,"display_name":"user4770620"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555050497,"creation_date":1555050497,"answer_id":55645706,"question_id":50946420,"body_markdown":"It needs both : Configuring the JVM runtime arguments as well as having a settings.xml, after I did both it worked. Updating only the JVM runtime argument did not help.","title":"Could not transfer artifact (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version -&gt; [Help 1]","body":"<p>It needs both : Configuring the JVM runtime arguments as well as having a settings.xml, after I did both it worked. Updating only the JVM runtime argument did not help.</p>\n"},{"comments":[{"owner":{"account_id":4920334,"reputation":211,"user_id":3963056,"display_name":"Aditya Goel"},"score":1,"creation_date":1638517778,"post_id":60130234,"comment_id":124114530,"body_markdown":"It solved my issue. Thanks.","body":"It solved my issue. Thanks."}],"tags":[],"owner":{"account_id":11718650,"reputation":923,"user_id":8578221,"display_name":"kartick shaw"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1592241799,"creation_date":1581188886,"answer_id":60130234,"question_id":50946420,"body_markdown":"The Package you are trying to install **doesn&#39;t support TLS1.1** and you might be by default using TLS 1.1. Configure your Java runtime to enable TLS 1.2 by adding `-Dhttps.protocols=TLSv1.2` to your Maven Build command would solve the problem. \r\n\r\nFor Example: `mvn clean install -Dhttps.protocols=TLSv1.2`","title":"Could not transfer artifact (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version -&gt; [Help 1]","body":"<p>The Package you are trying to install <strong>doesn't support TLS1.1</strong> and you might be by default using TLS 1.1. Configure your Java runtime to enable TLS 1.2 by adding <code>-Dhttps.protocols=TLSv1.2</code> to your Maven Build command would solve the problem. </p>\n\n<p>For Example: <code>mvn clean install -Dhttps.protocols=TLSv1.2</code></p>\n"},{"tags":[],"owner":{"account_id":15513031,"reputation":453,"user_id":11191344,"display_name":"Yoshita Mahajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586135584,"creation_date":1586075799,"answer_id":61040001,"question_id":50946420,"body_markdown":"I resolved this error in **SpringToolSuit** by adding `settings.xml` file in `.m2` folder which is located in Users folder of `C` drive and by updating Project by\r\nright click on `pom.xml -&gt; Maeven -&gt; Update Project`.\r\n\r\nMake sure you select Force update of `snapshots/releases`.","title":"Could not transfer artifact (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version -&gt; [Help 1]","body":"<p>I resolved this error in <strong>SpringToolSuit</strong> by adding <code>settings.xml</code> file in <code>.m2</code> folder which is located in Users folder of <code>C</code> drive and by updating Project by\nright click on <code>pom.xml -&gt; Maeven -&gt; Update Project</code>.</p>\n\n<p>Make sure you select Force update of <code>snapshots/releases</code>.</p>\n"},{"tags":[],"owner":{"account_id":6329856,"reputation":189,"user_id":4915060,"display_name":"sohal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586108391,"creation_date":1586107620,"answer_id":61046609,"question_id":50946420,"body_markdown":"In my case the automatic update of maven dependencies were disabled in eclipse.\r\n&lt;br&gt;Solution:&lt;br&gt;\r\nGo to \r\nWindows-&gt;Preferences-&gt;Maven&lt;br&gt;\r\nand uncheck the check box\r\n\r\n&quot;**Do not automatically update dependencies from remote repositories**&quot;\r\n\r\nThen update the project&lt;br&gt;\r\nRight click on project-&gt;maven-&gt;update project","title":"Could not transfer artifact (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version -&gt; [Help 1]","body":"<p>In my case the automatic update of maven dependencies were disabled in eclipse.\n<br>Solution:<br>\nGo to \nWindows->Preferences->Maven<br>\nand uncheck the check box</p>\n\n<p>\"<strong>Do not automatically update dependencies from remote repositories</strong>\"</p>\n\n<p>Then update the project<br>\nRight click on project->maven->update project</p>\n"},{"tags":[],"owner":{"account_id":6321139,"reputation":153,"user_id":4909153,"accept_rate":100,"display_name":"Mwas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612843451,"creation_date":1612843451,"answer_id":66112815,"question_id":50946420,"body_markdown":"I had the same issue, I tried most of the answers here but still did not work. My issue was Proxy settings on my IDE. So it is also important to remember to check proxy settings. File &gt; Settings &gt; System Settings &gt; HTTP Proxy - Select Auto-Detect proxy settings","title":"Could not transfer artifact (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version -&gt; [Help 1]","body":"<p>I had the same issue, I tried most of the answers here but still did not work. My issue was Proxy settings on my IDE. So it is also important to remember to check proxy settings. File &gt; Settings &gt; System Settings &gt; HTTP Proxy - Select Auto-Detect proxy settings</p>\n"},{"tags":[],"owner":{"account_id":27586394,"reputation":79,"user_id":21054492,"display_name":"ZoltanB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674927096,"creation_date":1674845466,"answer_id":75262228,"question_id":50946420,"body_markdown":"On my new laptop (Win10) I have downgraded maven 3.8.7-&gt;3.6.3 and jdk 19-&gt;1.8\r\n&lt;br&gt;\r\nMaven 3.8.7 is blocking a lot of old repositories, one sometimes does need.","title":"Could not transfer artifact (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version -&gt; [Help 1]","body":"<p>On my new laptop (Win10) I have downgraded maven 3.8.7-&gt;3.6.3 and jdk 19-&gt;1.8\n<br>\nMaven 3.8.7 is blocking a lot of old repositories, one sometimes does need.</p>\n"}],"owner":{"account_id":13618999,"reputation":623,"user_id":9824120,"display_name":"SimbuStar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125246,"favorite_count":0,"down_vote_count":2,"up_vote_count":49,"accepted_answer_id":50956622,"answer_count":11,"score":47,"last_activity_date":1674927096,"creation_date":1529491705,"question_id":50946420,"body_markdown":"I am new to Maven and trying to setup my first project in Maven but receiving the below error message when I am doing &quot; Run as -&gt; Maven install &quot; in Eclipse. Below is my settings.xml and pom.xml\r\n\r\n\r\nSettings.xml\r\n\r\n        &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                          https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n     &lt;localRepository&gt;C:\\Users\\Iam\\.m2\\repository&lt;/localRepository&gt;\r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n\t\t\t&lt;url&gt;http://central.maven.org/maven2/&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n          &lt;pluginRepositories&gt;\r\n          &lt;/pluginRepositories&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    &lt;/settings&gt;\r\n\r\nPOM.XML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.mytest&lt;/groupId&gt; \r\n      &lt;artifactId&gt;MySpringBootMaven&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.11.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        \r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n        \r\n          &lt;plugin&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t\t\r\n            \r\n            &lt;plugin&gt;\r\n    \t\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t    &lt;version&gt;2.5&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n    \t\t\t    &lt;configuration&gt;\r\n    \t\t\t    \t&lt;warnName&gt;Test.war&lt;/warnName&gt;\r\n    \t\t\t    &lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        \r\n    &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nError message:\r\n\r\n\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: org.eclipse.aether.resolution.ArtifactDescriptorException: Failed to read artifact descriptor for org.springframework.boot:spring-boot-maven-plugin:jar:1.5.11.RELEASE\r\n    \tat org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:302)\r\n    \tat org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor(DefaultArtifactDescriptorReader.java:218)\r\n    \tat org.eclipse.aether.internal.impl.DefaultRepositorySystem.readArtifactDescriptor(DefaultRepositorySystem.java:287)\r\n    \tat org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:103)\r\n    \t... 27 more\r\n    Caused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.springframework.boot:spring-boot-maven-plugin:pom:1.5.11.RELEASE from/to central (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version\r\n    \tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:444)\r\n    \tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:246)\r\n    \tat org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:223)\r\n    \tat org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:287)\r\n    \t... 30 more\r\n    Caused by: org.eclipse.aether.transfer.ArtifactTransferException: Could not transfer artifact org.springframework.boot:spring-boot-maven-plugin:pom:1.5.11.RELEASE from/to central (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version\r\n    \r\nHow to resolve the Received fatal alert: protocol_version ? My java version is 1.7 and maven version is 3.3.3 \r\n\r\n","title":"Could not transfer artifact (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version -&gt; [Help 1]","body":"<p>I am new to Maven and trying to setup my first project in Maven but receiving the below error message when I am doing \" Run as -> Maven install \" in Eclipse. Below is my settings.xml and pom.xml</p>\n\n<p>Settings.xml</p>\n\n<pre><code>    &lt;settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0\n                      https://maven.apache.org/xsd/settings-1.0.0.xsd\"&gt;\n &lt;localRepository&gt;C:\\Users\\Iam\\.m2\\repository&lt;/localRepository&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;central&lt;/id&gt;\n        &lt;url&gt;http://central.maven.org/maven2/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n      &lt;pluginRepositories&gt;\n      &lt;/pluginRepositories&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n\n<p>POM.XML</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.mytest&lt;/groupId&gt; \n  &lt;artifactId&gt;MySpringBootMaven&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.11.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n\n\n        &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n                &lt;configuration&gt;\n                    &lt;warnName&gt;Test.war&lt;/warnName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n    &lt;/plugins&gt;\n\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Error message:</p>\n\n<pre><code>at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.eclipse.aether.resolution.ArtifactDescriptorException: Failed to read artifact descriptor for org.springframework.boot:spring-boot-maven-plugin:jar:1.5.11.RELEASE\n    at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:302)\n    at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor(DefaultArtifactDescriptorReader.java:218)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.readArtifactDescriptor(DefaultRepositorySystem.java:287)\n    at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:103)\n    ... 27 more\nCaused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.springframework.boot:spring-boot-maven-plugin:pom:1.5.11.RELEASE from/to central (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:444)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:246)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:223)\n    at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:287)\n    ... 30 more\nCaused by: org.eclipse.aether.transfer.ArtifactTransferException: Could not transfer artifact org.springframework.boot:spring-boot-maven-plugin:pom:1.5.11.RELEASE from/to central (https://repo.maven.apache.org/maven2): Received fatal alert: protocol_version\n</code></pre>\n\n<p>How to resolve the Received fatal alert: protocol_version ? My java version is 1.7 and maven version is 3.3.3 </p>\n"},{"tags":["java","gradle","dependencies"],"owner":{"account_id":14403802,"reputation":37,"user_id":10404556,"display_name":"Kiip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674926852,"creation_date":1674926852,"question_id":75269512,"body_markdown":"I have the root project and another extension. They depend on eachother, the root project requires the extension for some built-in integration. The extension needs to depend on the root project to access api.\r\n\r\nHowever this introduces a circular dependency, although the request is simple and a simple merge of the subproject into the root project would solve all the issues, how would I go over doing this?\r\n\r\nI have tried setting transitive to false, and building + depending on the jar does work, but isn&#39;t pretty.","title":"How to merge a subproject into the root project with Gradle?","body":"<p>I have the root project and another extension. They depend on eachother, the root project requires the extension for some built-in integration. The extension needs to depend on the root project to access api.</p>\n<p>However this introduces a circular dependency, although the request is simple and a simple merge of the subproject into the root project would solve all the issues, how would I go over doing this?</p>\n<p>I have tried setting transitive to false, and building + depending on the jar does work, but isn't pretty.</p>\n"},{"tags":["java","javafx","dijkstra"],"comments":[{"owner":{"account_id":23287139,"reputation":1,"user_id":17369792,"display_name":"Ameer"},"score":0,"creation_date":1674930380,"post_id":75268857,"comment_id":132820711,"body_markdown":"i need to know where he get this number and i need this number for my image \nhere is my image \nhttps://i.stack.imgur.com/Q58wm.gif","body":"i need to know where he get this number and i need this number for my image  here is my image  <a href=\"https://i.stack.imgur.com/Q58wm.gif\" rel=\"nofollow noreferrer\">i.stack.imgur.com/Q58wm.gif</a>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1674988384,"post_id":75268857,"comment_id":132827807,"body_markdown":"Looking at your current image which is 1200 x 715 pixels and the fact that **Prime Meridian** runs longitudinally through Greenwich Park in London England (there is actually a landmark there) which is considered 0 degrees Longitude up and down the globe and the fact that the **Equator** basically runs laterally through Singapore across the globe and is considered 0 degrees latitude, this makes Prime Meridian 561 pixels from left edge of image and the Equator 461 pixels from top edge of image. If the Lat and long grid is 30 degrees then the grid is approx. 30 x 30 pixels over the globe (FLAT).","body":"Looking at your current image which is 1200 x 715 pixels and the fact that <b>Prime Meridian</b> runs longitudinally through Greenwich Park in London England (there is actually a landmark there) which is considered 0 degrees Longitude up and down the globe and the fact that the <b>Equator</b> basically runs laterally through Singapore across the globe and is considered 0 degrees latitude, this makes Prime Meridian 561 pixels from left edge of image and the Equator 461 pixels from top edge of image. If the Lat and long grid is 30 degrees then the grid is approx. 30 x 30 pixels over the globe (FLAT)."},{"owner":{"account_id":23287139,"reputation":1,"user_id":17369792,"display_name":"Ameer"},"score":0,"creation_date":1675036330,"post_id":75268857,"comment_id":132836292,"body_markdown":"this formula give me the wrong postion in the image \n\nX = (Longitude + 180) * (1200 / 360) + 561\nY = (90 - Latitude) * (715 / 180) + 461","body":"this formula give me the wrong postion in the image   X = (Longitude + 180) * (1200 / 360) + 561 Y = (90 - Latitude) * (715 / 180) + 461"}],"answers":[{"comments":[{"owner":{"account_id":23287139,"reputation":1,"user_id":17369792,"display_name":"Ameer"},"score":0,"creation_date":1674927266,"post_id":75269455,"comment_id":132820081,"body_markdown":"this exapmle i see it here","body":"this exapmle i see it here"},{"owner":{"account_id":23287139,"reputation":1,"user_id":17369792,"display_name":"Ameer"},"score":0,"creation_date":1674927285,"post_id":75269455,"comment_id":132820087,"body_markdown":"https://stackoverflow.com/questions/38748832/convert-longitude-and-latitude-coordinates-to-image-of-a-map-pixels-x-and-y-coor?noredirect=1&amp;lq=1","body":"<a href=\"https://stackoverflow.com/questions/38748832/convert-longitude-and-latitude-coordinates-to-image-of-a-map-pixels-x-and-y-coor?noredirect=1&amp;lq=1\" title=\"convert longitude and latitude coordinates to image of a map pixels x and y coor\">stackoverflow.com/questions/38748832/&hellip;</a>"},{"owner":{"account_id":23287139,"reputation":1,"user_id":17369792,"display_name":"Ameer"},"score":0,"creation_date":1674928167,"post_id":75269455,"comment_id":132820288,"body_markdown":"x: 50, y: 163 this will the out put","body":"x: 50, y: 163 this will the out put"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1674930070,"post_id":75269455,"comment_id":132820668,"body_markdown":"It does output &quot;x: 50, y: 163&quot;. Is this incorrect?","body":"It does output &quot;x: 50, y: 163&quot;. Is this incorrect?"},{"owner":{"account_id":23287139,"reputation":1,"user_id":17369792,"display_name":"Ameer"},"score":0,"creation_date":1674932067,"post_id":75269455,"comment_id":132821008,"body_markdown":"i dont Know that is not my code \nthe whole gole of the question  is to get this numbres based on my image","body":"i dont Know that is not my code  the whole gole of the question  is to get this numbres based on my image"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1674983492,"post_id":75269455,"comment_id":132827067,"body_markdown":"Where did you get the map image from? I need the lat/long of the corners and whether it is a Mercator projection.","body":"Where did you get the map image from? I need the lat/long of the corners and whether it is a Mercator projection."},{"owner":{"account_id":23287139,"reputation":1,"user_id":17369792,"display_name":"Ameer"},"score":0,"creation_date":1675033750,"post_id":75269455,"comment_id":132835962,"body_markdown":"I get the image from this web site https://geology.com/world/world-map.shtml","body":"I get the image from this web site <a href=\"https://geology.com/world/world-map.shtml\" rel=\"nofollow noreferrer\">geology.com/world/world-map.shtml</a>"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674926412,"creation_date":1674926412,"answer_id":75269455,"question_id":75268857,"body_markdown":"Try this:\r\n\r\n\tint mapWidth = 614, mapHeight = 1141;\r\n\tdouble mapLongitudeWidth = 36.5, mapLatitudeHeight = 29.3;\r\n    double mapLongitudeStart = 33.5, mapLatitudeStart = 33.5;//longitude vertical, latitude horizontal\r\n    // length of map in long/lat\r\n    double mapLongitude = mapLongitudeWidth - mapLongitudeStart;\r\n    // invert because it decreases as you go down\r\n    double mapLatitude = mapLatitudeStart - mapLatitudeHeight;\r\n    \r\n    int xImagePos = (int) (mapWidth * (mapLongitude/mapLongitudeWidth));\r\n    int yImagePos = (int) (mapHeight * (mapLatitude/mapLatitudeHeight));\r\n\r\n\tSystem.out.println(&quot;x: &quot; + xImagePos + &quot;, y: &quot; + yImagePos);\r\n\r\nIt does seem odd that both  mapLongitudeStart and mapLatitudeStart are 33.5. Typo?\r\n","title":"how to get the infotmation about the latitude and longitude for the World map image","body":"<p>Try this:</p>\n<pre><code>int mapWidth = 614, mapHeight = 1141;\ndouble mapLongitudeWidth = 36.5, mapLatitudeHeight = 29.3;\ndouble mapLongitudeStart = 33.5, mapLatitudeStart = 33.5;//longitude vertical, latitude horizontal\n// length of map in long/lat\ndouble mapLongitude = mapLongitudeWidth - mapLongitudeStart;\n// invert because it decreases as you go down\ndouble mapLatitude = mapLatitudeStart - mapLatitudeHeight;\n\nint xImagePos = (int) (mapWidth * (mapLongitude/mapLongitudeWidth));\nint yImagePos = (int) (mapHeight * (mapLatitude/mapLatitudeHeight));\n\nSystem.out.println(&quot;x: &quot; + xImagePos + &quot;, y: &quot; + yImagePos);\n</code></pre>\n<p>It does seem odd that both  mapLongitudeStart and mapLatitudeStart are 33.5. Typo?</p>\n"}],"owner":{"account_id":23287139,"reputation":1,"user_id":17369792,"display_name":"Ameer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1674948445,"answer_count":1,"score":-1,"last_activity_date":1674926412,"creation_date":1674920707,"question_id":75268857,"body_markdown":"[enter image description here][1]hello all I am trying to find  this Number\r\n\r\nfrom this question :\r\nhttps://stackoverflow.com/questions/38748832/convert-longitude-and-latitude-coordinates-to-image-of-a-map-pixels-x-and-y-coor?fbclid=IwAR3GZ8VFxHgPHd1TaMCj5XN44DBAEvPZNfCjQBUIEgawRRmdX0L6QXO8WyE\r\n\r\n```\r\n int mapWidth = 614, mapHeight = 1141;\r\n    double mapLongitudeStart = 33.5, mapLatitudeStart = 33.5;//longitude vertical, latitude horizontal\r\n    // length of map in long/lat\r\n    double mapLongitude = 36.5 - mapLongitudeStart,\r\n    // invert because it decreases as you go down\r\n    mapLatitude = mapLatitudeStart - 29.3;\r\n```\r\n\r\nhow can i find this number from the world map image \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q58wm.gif","title":"how to get the infotmation about the latitude and longitude for the World map image","body":"<p><a href=\"https://i.stack.imgur.com/Q58wm.gif\" rel=\"nofollow noreferrer\">enter image description here</a>hello all I am trying to find  this Number</p>\n<p>from this question :\n<a href=\"https://stackoverflow.com/questions/38748832/convert-longitude-and-latitude-coordinates-to-image-of-a-map-pixels-x-and-y-coor?fbclid=IwAR3GZ8VFxHgPHd1TaMCj5XN44DBAEvPZNfCjQBUIEgawRRmdX0L6QXO8WyE\">Convert longitude and latitude coordinates to image of a map pixels X and Y coordinates Java</a></p>\n<pre><code> int mapWidth = 614, mapHeight = 1141;\n    double mapLongitudeStart = 33.5, mapLatitudeStart = 33.5;//longitude vertical, latitude horizontal\n    // length of map in long/lat\n    double mapLongitude = 36.5 - mapLongitudeStart,\n    // invert because it decreases as you go down\n    mapLatitude = mapLatitudeStart - 29.3;\n</code></pre>\n<p>how can i find this number from the world map image</p>\n"},{"tags":["java","spring-boot","cpu-usage","resttemplate","large-files"],"comments":[{"owner":{"account_id":16831616,"reputation":208,"user_id":12169433,"display_name":"Saurabh Singh"},"score":0,"creation_date":1674933881,"post_id":75269449,"comment_id":132821306,"body_markdown":"S3 permits multipart upload, if possible you can try to leverage that.","body":"S3 permits multipart upload, if possible you can try to leverage that."}],"owner":{"account_id":27644179,"reputation":11,"user_id":21100478,"display_name":"Ghouse K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674926352,"creation_date":1674926352,"question_id":75269449,"body_markdown":"CPU usage is high when using Rest Template for uploading a file to S3 bucket.\r\n\r\nused  a rest template to upload a file of around 100 MB. it is causing CPU spikes in deployment server.\r\n\r\nwe have a configuration to restart the pod if it reaches 70% usage of pod. it is simple pod with less cpu and memory configuration.\r\n\r\nany way is fine if CPU usage is less and it is not impacting memory and JVM heap.\r\n\r\ntried rest template with and without SimpleClientHttpRequestFactory  and  also tried changing chunk size during file upload (post) call\r\n\r\nCode snip:\r\n\r\n```public DocumentUploadAck uploadFile(File file, UploadFileRequest uploadFileRequest) {\r\n\t\tSimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\r\n\t\trequestFactory.setBufferRequestBody(false);    \r\n\t\t//requestFactory.setChunkSize(); //tested with different chunk sizes\r\n\t\trestTemplate.setRequestFactory(requestFactory);  \r\n\t\t\r\n        //setting headers and body\r\n\t\tHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = getRequestHttpEntity(file, uploadFileRequest);\r\n\t\tString serverUrl = uploadFileRequest.getPostUrl();\r\n\t\ttry {\r\n\r\n\t\t\tResponseEntity&lt;Object&gt; response = restTemplate.postForEntity(serverUrl, requestEntity, Object.class);\r\n\t\t\t\r\n\t\t\tlog.info(&quot;Response &quot; + response.getStatusCode(), null);\r\n\t\t\tif (HttpStatus.NO_CONTENT == response.getStatusCode()) {\r\n\t\t\t\tlog.info(&quot;Successfully uploaded file &quot;, null);\r\n\t\t\t\treturn DocumentUploadAck.builder().documentUploadStatus(true).build();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (Exception exception) {\r\n\t\t\tlog.error(&quot;Exception when uploading file&quot; + exception.getMessage(), null,exception);\r\n\t\t\t//throwing custom business exception\r\n\t\t}\r\n\r\n\t}\r\n```","title":"uploading a large file with rest template causing High CPU usage","body":"<p>CPU usage is high when using Rest Template for uploading a file to S3 bucket.</p>\n<p>used  a rest template to upload a file of around 100 MB. it is causing CPU spikes in deployment server.</p>\n<p>we have a configuration to restart the pod if it reaches 70% usage of pod. it is simple pod with less cpu and memory configuration.</p>\n<p>any way is fine if CPU usage is less and it is not impacting memory and JVM heap.</p>\n<p>tried rest template with and without SimpleClientHttpRequestFactory  and  also tried changing chunk size during file upload (post) call</p>\n<p>Code snip:</p>\n<pre><code>        SimpleClientHttpRequestFactory requestFactory = new SimpleClientHttpRequestFactory();\n        requestFactory.setBufferRequestBody(false);    \n        //requestFactory.setChunkSize(); //tested with different chunk sizes\n        restTemplate.setRequestFactory(requestFactory);  \n        \n        //setting headers and body\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = getRequestHttpEntity(file, uploadFileRequest);\n        String serverUrl = uploadFileRequest.getPostUrl();\n        try {\n\n            ResponseEntity&lt;Object&gt; response = restTemplate.postForEntity(serverUrl, requestEntity, Object.class);\n            \n            log.info(&quot;Response &quot; + response.getStatusCode(), null);\n            if (HttpStatus.NO_CONTENT == response.getStatusCode()) {\n                log.info(&quot;Successfully uploaded file &quot;, null);\n                return DocumentUploadAck.builder().documentUploadStatus(true).build();\n            }\n            \n        } catch (Exception exception) {\n            log.error(&quot;Exception when uploading file&quot; + exception.getMessage(), null,exception);\n            //throwing custom business exception\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","python","c++","operating-system"],"comments":[{"owner":{"account_id":3033490,"reputation":4974,"user_id":2572645,"accept_rate":100,"display_name":"Andy K"},"score":0,"creation_date":1490978932,"post_id":43145764,"comment_id":73369052,"body_markdown":"hi @gameplayerxd 1) you need an [mvce](https://stackoverflow.com/help/mcve). Without it, whatever help you may want, will not be granted.","body":"hi @gameplayerxd 1) you need an <a href=\"https://stackoverflow.com/help/mcve\">mvce</a>. Without it, whatever help you may want, will not be granted."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1490979264,"post_id":43145764,"comment_id":73369238,"body_markdown":"You will not be able to write this in Java; at least not with any standard Java tools. A class file requires a JRE to run.","body":"You will not be able to write this in Java; at least not with any standard Java tools. A class file requires a JRE to run."},{"owner":{"account_id":10309369,"reputation":9,"user_id":7605682,"accept_rate":0,"display_name":"Gameplayer Xd"},"score":0,"creation_date":1490979685,"post_id":43145764,"comment_id":73369439,"body_markdown":"cant ı just add All java development kit and runtime enviroment to my Os","body":"cant ı just add All java development kit and runtime enviroment to my Os"},{"owner":{"account_id":2020478,"reputation":30439,"user_id":1806780,"accept_rate":0,"display_name":"Sami Kuhmonen"},"score":0,"creation_date":1490980765,"post_id":43145764,"comment_id":73370005,"body_markdown":"Sure. But it still needs the base OS to run on. So I would say writing your own JVM might be a bit too complicated, though far from impossible. Writing the whole base library without an OS underneath is a different thing.","body":"Sure. But it still needs the base OS to run on. So I would say writing your own JVM might be a bit too complicated, though far from impossible. Writing the whole base library without an OS underneath is a different thing."},{"owner":{"account_id":991898,"reputation":35087,"user_id":1008938,"accept_rate":89,"display_name":"Linuxios"},"score":1,"creation_date":1490981378,"post_id":43145764,"comment_id":73370316,"body_markdown":"Microsoft tried to build an experimental OS in C#: https://en.wikipedia.org/wiki/Singularity_(operating_system). Might be relevant in an overall structure way. Note that this is still very impractical, and that Java is about as far from a suitable systems language as you can get.","body":"Microsoft tried to build an experimental OS in C#: <a href=\"https://en.wikipedia.org/wiki/Singularity_(operating_system)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Singularity_(operating_system)</a>. Might be relevant in an overall structure way. Note that this is still very impractical, and that Java is about as far from a suitable systems language as you can get."},{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1490981546,"post_id":43145764,"comment_id":73370408,"body_markdown":"It is possible to build the higher levels of an operating system in languages like Java or Python. But the JRE and Python interpreter still needs a kernel *below* them to be able to function. If you use a primitive version of Java or Python for that, then you need an even lower level below that, and so on until you really *must* write something in a low-level language like C or even assembler.","body":"It is possible to build the higher levels of an operating system in languages like Java or Python. But the JRE and Python interpreter still needs a kernel <i>below</i> them to be able to function. If you use a primitive version of Java or Python for that, then you need an even lower level below that, and so on until you really <i>must</i> write something in a low-level language like C or even assembler."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1490993393,"post_id":43145764,"comment_id":73376199,"body_markdown":"If you&#39;re willing to eschew standard tools, you might generate native code with [gcj](https://en.wikipedia.org/wiki/GNU_Compiler_for_Java) - but such an approach has limitations.","body":"If you&#39;re willing to eschew standard tools, you might generate native code with <a href=\"https://en.wikipedia.org/wiki/GNU_Compiler_for_Java\" rel=\"nofollow noreferrer\">gcj</a> - but such an approach has limitations."},{"owner":{"account_id":10309369,"reputation":9,"user_id":7605682,"accept_rate":0,"display_name":"Gameplayer Xd"},"score":0,"creation_date":1491040024,"post_id":43145764,"comment_id":73386372,"body_markdown":"OK I get it what about linker files ( .ld ) what do I need to use them","body":"OK I get it what about linker files ( .ld ) what do I need to use them"},{"owner":{"account_id":10309369,"reputation":9,"user_id":7605682,"accept_rate":0,"display_name":"Gameplayer Xd"},"score":0,"creation_date":1491040317,"post_id":43145764,"comment_id":73386451,"body_markdown":"sorry because I frogot to write I am using Wİndows 7 Professional and 64 bit computer","body":"sorry because I frogot to write I am using Wİndows 7 Professional and 64 bit computer"}],"owner":{"account_id":10309369,"reputation":9,"user_id":7605682,"accept_rate":0,"display_name":"Gameplayer Xd"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674926079,"creation_date":1490978601,"question_id":43145764,"body_markdown":"English is not my native language, so there may be grammar mistakes. \r\n\r\nSo I have written a boot_Sector.asm file and compile it with nasm to a .bin file and I usually run it with qemu and here&#39;s my question:\r\n\r\nI need to write a kernel to my OS, but the problem is I don&#39;t want to learn C/C++ because I don&#39;t have time to do that:\r\n\r\n1) Can I write the OS kernel with python or java?\r\n\r\n(I prefer Java) And I tried it: I Turned a class file (.java) into a .class file with javac then turned .class file into .o file also turned my boot_Sector.bin file into an .o file \r\n\r\n2) How can I link them with .ld file ? \r\n\r\nI don&#39;t know how so I researched it, but I didn&#39;t find any answers. I hope Stackoverflow site can help me.\r\n\r\nHere&#39;s my boot_sector code\r\n\r\n\r\n    bits 32\r\n    section .text\r\n            align 4\r\n            dd 0x1BADB002           \r\n            dd 0x00                 \r\n            dd - (0x1BADB002 + 0x00) \r\n\r\n    global start\r\n    extern kmain\t        \r\n    start:\r\n      cli \t\t\t\r\n      mov esp, stack_space\t\r\n      call kmain\r\n      hlt\t\t \t\r\n\r\n    section .bss\r\n    resb 8192\t\t\r\n    stack_space:","title":"Making OS with assembly With nasm using A boot sector Trying to make kernel","body":"<p>English is not my native language, so there may be grammar mistakes. </p>\n\n<p>So I have written a boot_Sector.asm file and compile it with nasm to a .bin file and I usually run it with qemu and here's my question:</p>\n\n<p>I need to write a kernel to my OS, but the problem is I don't want to learn C/C++ because I don't have time to do that:</p>\n\n<p>1) Can I write the OS kernel with python or java?</p>\n\n<p>(I prefer Java) And I tried it: I Turned a class file (.java) into a .class file with javac then turned .class file into .o file also turned my boot_Sector.bin file into an .o file </p>\n\n<p>2) How can I link them with .ld file ? </p>\n\n<p>I don't know how so I researched it, but I didn't find any answers. I hope Stackoverflow site can help me.</p>\n\n<p>Here's my boot_sector code</p>\n\n<pre><code>bits 32\nsection .text\n        align 4\n        dd 0x1BADB002           \n        dd 0x00                 \n        dd - (0x1BADB002 + 0x00) \n\nglobal start\nextern kmain            \nstart:\n  cli           \n  mov esp, stack_space  \n  call kmain\n  hlt           \n\nsection .bss\nresb 8192       \nstack_space:\n</code></pre>\n"},{"tags":["java","scala","exception","arguments","coredump"],"comments":[{"owner":{"account_id":2892125,"reputation":1779,"user_id":2480661,"accept_rate":73,"display_name":"Max Murphy"},"score":0,"creation_date":1518019002,"post_id":48667698,"comment_id":84333862,"body_markdown":"Note: An extreme example of the above would be debugging code fed to a one instruction set computer implemented in Java.  That is not what I am doing, I am actually solving a real world problem, but taking the concept to that extreme shows that methods are not always enough; data may be needed as well.  https://en.wikipedia.org/wiki/One_instruction_set_computer","body":"Note: An extreme example of the above would be debugging code fed to a one instruction set computer implemented in Java.  That is not what I am doing, I am actually solving a real world problem, but taking the concept to that extreme shows that methods are not always enough; data may be needed as well.  <a href=\"https://en.wikipedia.org/wiki/One_instruction_set_computer\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/One_instruction_set_computer</a>"}],"answers":[{"comments":[{"owner":{"account_id":2892125,"reputation":1779,"user_id":2480661,"accept_rate":73,"display_name":"Max Murphy"},"score":0,"creation_date":1518514350,"post_id":48710433,"comment_id":84527422,"body_markdown":"Thank you.  It looks as if there is an opportunity to make this better by changing the way exceptions are handled - by capturing the information before unwinding.","body":"Thank you.  It looks as if there is an opportunity to make this better by changing the way exceptions are handled - by capturing the information before unwinding."},{"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"score":0,"creation_date":1518519167,"post_id":48710433,"comment_id":84530498,"body_markdown":"That might be useful in certain circumstances. It is unlikely to change in the near future because of the way the stack is allocated on a standard JVM. To achieve that, you would need to copy all of the unwound stack data onto the heap before you could reclaim the space in order to resume program execution at the &quot;catch&quot; handler. That is an expensive operation, compared to the current approach of discarding the stack data en-masse by simply resetting the stack pointer.","body":"That might be useful in certain circumstances. It is unlikely to change in the near future because of the way the stack is allocated on a standard JVM. To achieve that, you would need to copy all of the unwound stack data onto the heap before you could reclaim the space in order to resume program execution at the &quot;catch&quot; handler. That is an expensive operation, compared to the current approach of discarding the stack data en-masse by simply resetting the stack pointer."},{"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"score":0,"creation_date":1518519201,"post_id":48710433,"comment_id":84530526,"body_markdown":"If you have a specific case where you need to capture arguments, your best bet is to pass them into the exception constructor and store them as fields on the exception object.","body":"If you have a specific case where you need to capture arguments, your best bet is to pass them into the exception constructor and store them as fields on the exception object."},{"owner":{"account_id":2892125,"reputation":1779,"user_id":2480661,"accept_rate":73,"display_name":"Max Murphy"},"score":0,"creation_date":1518602058,"post_id":48710433,"comment_id":84569711,"body_markdown":"Thank you for the links.  How is the stack allocated in the JVM?  What details of the method make it hard to get the arguments?  If it is similar to stacks in say C then it is not obvious to me that it is necessary to unwind before executing the exception handler.  Can not the handler run on the top of the stack or in a second stack with viewing rights to the first?","body":"Thank you for the links.  How is the stack allocated in the JVM?  What details of the method make it hard to get the arguments?  If it is similar to stacks in say C then it is not obvious to me that it is necessary to unwind before executing the exception handler.  Can not the handler run on the top of the stack or in a second stack with viewing rights to the first?"},{"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"score":0,"creation_date":1518607882,"post_id":48710433,"comment_id":84573577,"body_markdown":"It is basically the same as the call stack in C, yes. I have added more detail to the answer to address your questions.","body":"It is basically the same as the call stack in C, yes. I have added more detail to the answer to address your questions."}],"tags":[],"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1518607784,"creation_date":1518194714,"answer_id":48710433,"question_id":48667698,"body_markdown":"You cannot, at least not in normal program execution.\r\n\r\nWhen an exception is thrown, the stack is &quot;unwound&quot; and execution resumes at the nearest applicable &quot;catch&quot; block. Any data on the stack (including method arguments) is lost to the program and immediately available for GC.\r\n\r\nIf the program is being debugged, then you could set a breakpoint when the exception is thrown and inspect the method arguments in the debugger. (You could probably achieve the same effect using a JVM Agent.)\r\n\r\nYou could of course pass the method arguments into the exception constructor.\r\n\r\nSee:\r\n\r\n * https://stackoverflow.com/questions/2331316/what-is-stack-unwinding\r\n * http://www.artima.com/designtechniques/exceptionsP.html\r\n * https://docs.oracle.com/javase/specs/jls/se7/html/jls-11.html\r\n\r\n### Follow-up questions: could we change Java to do this?\r\n\r\nYou said:\r\n\r\n&gt;  It looks as if there is an opportunity to make this better by changing the way exceptions are handled - by capturing the information before unwinding.\r\n\r\nand then\r\n\r\n&gt; How is the stack allocated in the JVM? What details of the method make it hard to get the arguments? If it is similar to stacks in say C then it is not obvious to me that it is necessary to unwind before executing the exception handler. Can not the handler run on the top of the stack or in a second stack with viewing rights to the first? \r\n\r\nAs I noted below, I think this is unlikely to change in the near future because of the way the stack is allocated on a standard JVM. Your two suggested alternatives are good questions and I think allow us to see why the current approach is used.\r\n\r\n1. Can not the handler run on the top of the stack?\r\n\r\nIt could, of course. The main drawback to that would be that the stack would grow by a lot each time that an exception is handled.\r\n\r\nTake the following example code:\r\n\r\n    public Foo computeFoo() {\r\n      try {\r\n        // 1\r\n        return firstVersion();\r\n      } catch (Exception e) {\r\n        // 2\r\n        return secondVersion();\r\n      }\r\n    }\r\n\r\nSay that we arrived at point &quot;1&quot; via some method calls `a`, `b`, `c`. The stack of stack frames might then look like:\r\n\r\n    [ a, b, c, computeFoo ]\r\n\r\nLet&#39;s say that `firstVersion` invokes methods x, y, z, and an exception is thrown inside &quot;z&quot;. At the moment the exception is thrown, the stack might look like:\r\n\r\n    [ a, b, c, computeFoo, firstVersion, x, y, z ]\r\n\r\nWhen we move to point 2, a traditional JVM would be able to discard all the data from x, y, z instantly and simply by truncating the stack before moving into `secondVersion`\r\n\r\n    [ a, b, c, computeFoo, secondVersion ]\r\n\r\nUnder your proposal, the JVM would need to retain the stack frame data from x, y and z on the stack, in case any code near &quot;2&quot; wanted to access the parameters:\r\n\r\n    [ a, b, c, computeFoo, firstVersion, x, y, z, secondVersion ]\r\n\r\nIt should be clear that, in general, this may result in a lot more data being stored on the stack in programs that use exceptions than needs to be at present. There would also be some extra book-keeping needed in the JVM to handle the &quot;mixed&quot; stack of in-use and preserved stack frames, which will complicate maintenance and slow things down.\r\n\r\nGiven that a) all parameter data is not usually needed by exceptions and b) there are easy workarounds for capturing specific parameter data when it is needed, the current standard tradeoff here seems better.\r\n\r\n2. Can not the handler run in a second stack with viewing rights to the first? \r\n\r\nIt could, of course, but that would be a great deal more work for the JVM to implement, which would slow everything down for a benefit that is not particularly compelling. Hence the current tradeoff.\r\n\r\nIt is always worth bearing in mind that these systems are not &quot;handed down from the gods&quot;, but have been designed by people and are the result of years of evolution, consensus-building and tradeoff. One of the most important reasons that the JVM works like this is because C++ used to work like this and that is what most people involved expect and understand.","title":"Get arguments from a scala exception","body":"<p>You cannot, at least not in normal program execution.</p>\n\n<p>When an exception is thrown, the stack is \"unwound\" and execution resumes at the nearest applicable \"catch\" block. Any data on the stack (including method arguments) is lost to the program and immediately available for GC.</p>\n\n<p>If the program is being debugged, then you could set a breakpoint when the exception is thrown and inspect the method arguments in the debugger. (You could probably achieve the same effect using a JVM Agent.)</p>\n\n<p>You could of course pass the method arguments into the exception constructor.</p>\n\n<p>See:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2331316/what-is-stack-unwinding\">What is stack unwinding?</a></li>\n<li><a href=\"http://www.artima.com/designtechniques/exceptionsP.html\" rel=\"nofollow noreferrer\">http://www.artima.com/designtechniques/exceptionsP.html</a></li>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-11.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se7/html/jls-11.html</a></li>\n</ul>\n\n<h3>Follow-up questions: could we change Java to do this?</h3>\n\n<p>You said:</p>\n\n<blockquote>\n  <p>It looks as if there is an opportunity to make this better by changing the way exceptions are handled - by capturing the information before unwinding.</p>\n</blockquote>\n\n<p>and then</p>\n\n<blockquote>\n  <p>How is the stack allocated in the JVM? What details of the method make it hard to get the arguments? If it is similar to stacks in say C then it is not obvious to me that it is necessary to unwind before executing the exception handler. Can not the handler run on the top of the stack or in a second stack with viewing rights to the first? </p>\n</blockquote>\n\n<p>As I noted below, I think this is unlikely to change in the near future because of the way the stack is allocated on a standard JVM. Your two suggested alternatives are good questions and I think allow us to see why the current approach is used.</p>\n\n<ol>\n<li>Can not the handler run on the top of the stack?</li>\n</ol>\n\n<p>It could, of course. The main drawback to that would be that the stack would grow by a lot each time that an exception is handled.</p>\n\n<p>Take the following example code:</p>\n\n<pre><code>public Foo computeFoo() {\n  try {\n    // 1\n    return firstVersion();\n  } catch (Exception e) {\n    // 2\n    return secondVersion();\n  }\n}\n</code></pre>\n\n<p>Say that we arrived at point \"1\" via some method calls <code>a</code>, <code>b</code>, <code>c</code>. The stack of stack frames might then look like:</p>\n\n<pre><code>[ a, b, c, computeFoo ]\n</code></pre>\n\n<p>Let's say that <code>firstVersion</code> invokes methods x, y, z, and an exception is thrown inside \"z\". At the moment the exception is thrown, the stack might look like:</p>\n\n<pre><code>[ a, b, c, computeFoo, firstVersion, x, y, z ]\n</code></pre>\n\n<p>When we move to point 2, a traditional JVM would be able to discard all the data from x, y, z instantly and simply by truncating the stack before moving into <code>secondVersion</code></p>\n\n<pre><code>[ a, b, c, computeFoo, secondVersion ]\n</code></pre>\n\n<p>Under your proposal, the JVM would need to retain the stack frame data from x, y and z on the stack, in case any code near \"2\" wanted to access the parameters:</p>\n\n<pre><code>[ a, b, c, computeFoo, firstVersion, x, y, z, secondVersion ]\n</code></pre>\n\n<p>It should be clear that, in general, this may result in a lot more data being stored on the stack in programs that use exceptions than needs to be at present. There would also be some extra book-keeping needed in the JVM to handle the \"mixed\" stack of in-use and preserved stack frames, which will complicate maintenance and slow things down.</p>\n\n<p>Given that a) all parameter data is not usually needed by exceptions and b) there are easy workarounds for capturing specific parameter data when it is needed, the current standard tradeoff here seems better.</p>\n\n<ol start=\"2\">\n<li>Can not the handler run in a second stack with viewing rights to the first? </li>\n</ol>\n\n<p>It could, of course, but that would be a great deal more work for the JVM to implement, which would slow everything down for a benefit that is not particularly compelling. Hence the current tradeoff.</p>\n\n<p>It is always worth bearing in mind that these systems are not \"handed down from the gods\", but have been designed by people and are the result of years of evolution, consensus-building and tradeoff. One of the most important reasons that the JVM works like this is because C++ used to work like this and that is what most people involved expect and understand.</p>\n"}],"owner":{"account_id":2892125,"reputation":1779,"user_id":2480661,"accept_rate":73,"display_name":"Max Murphy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48710433,"answer_count":1,"score":1,"last_activity_date":1674925245,"creation_date":1518017888,"question_id":48667698,"body_markdown":"Suppose that you have an exception in Scala (or Java).  How can you get the arguments of the methods in the stack trace?\r\n\r\nThe arguments contain information that would be invaluable when diagnosing faults.  Alas I see no way of getting them even though I believe that they should still be in memory.\r\n\r\n    catch(e) {\r\n        x.getStackTrace.map(level =&gt; {\r\n            // level has such methods as getClassName and getMethodName\r\n            // but not the arguments.\r\n            // Maybe the information is somewhere completely different?\r\n            // In a Java equivalent of a core dump perhaps?\r\n        })\r\n    }","title":"Get arguments from a scala exception","body":"<p>Suppose that you have an exception in Scala (or Java).  How can you get the arguments of the methods in the stack trace?</p>\n\n<p>The arguments contain information that would be invaluable when diagnosing faults.  Alas I see no way of getting them even though I believe that they should still be in memory.</p>\n\n<pre><code>catch(e) {\n    x.getStackTrace.map(level =&gt; {\n        // level has such methods as getClassName and getMethodName\n        // but not the arguments.\n        // Maybe the information is somewhere completely different?\n        // In a Java equivalent of a core dump perhaps?\n    })\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-layout"],"answers":[{"tags":[],"owner":{"account_id":26066954,"reputation":3,"user_id":19767256,"display_name":"ConfusedGerman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674924001,"creation_date":1674924001,"answer_id":75269203,"question_id":75268145,"body_markdown":"In case someone is interested how I solved my problem: \r\n\r\n    package com.example.finalproject;\r\n    \r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.widget.TextView;\r\n    import com.loopj.android.http.*;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import cz.msebera.android.httpclient.Header;\r\n    import android.widget.EditText;\r\n    import android.widget.Button;\r\n    \r\n    public class StockPriceActivity extends AppCompatActivity {\r\n    \r\n        private EditText mStockPriceEditText;\r\n        private TextView mStockPriceTextView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_stock_price);\r\n    \r\n            mStockPriceEditText = findViewById(R.id.stock_price_edit_text);\r\n            mStockPriceTextView = findViewById(R.id.stock_price_text_view);\r\n    \r\n            Button button = findViewById(R.id.button2);\r\n    \r\n            button.setOnClickListener((view) -&gt; {\r\n                // Initialize the HTTP client\r\n                AsyncHttpClient client = new AsyncHttpClient();\r\n    \r\n                // Set the API key\r\n                String apiKey = getString(R.string.alpha_vantage_api_key);\r\n    \r\n                if (view.getId() == R.id.button2) {\r\n                    String stockSymbol = mStockPriceEditText.getText().toString();\r\n                    // Set the URL for the API request\r\n                    String url = &quot;https://www.alphavantage.co/query?function=GLOBAL_QUOTE&amp;symbol=&quot; + stockSymbol + &quot;&amp;apikey=&quot; + apiKey;\r\n                    // Make the request\r\n                    client.get(url, new AsyncHttpResponseHandler() {\r\n                        @Override\r\n                        public void onSuccess(int statusCode, Header[] headers, byte[] responseBody) {\r\n                            // The request was successful.\r\n                            String response = new String(responseBody);\r\n                            // Parse the JSON response to get the stock price\r\n                            String stockPrice = StockPriceParser.parseStockPriceFromJSON(response);\r\n                            // Update the TextView with the stock price\r\n                            mStockPriceTextView.setText(stockPrice);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onFailure(int statusCode, Header[] headers, byte[] responseBody, Throwable error) {\r\n                            // The request failed. Handle the error.\r\n                            Log.d(&quot;YYYYY&quot;, &quot;Everything went wrong when you see this!&quot;); //TODO\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n       \r\n\r\n     }\r\n    }\r\n\r\nI used a button, which the user has to click to submit his input. So i could use OnClickListener instead to run the code\r\n\r\n    Button button = findViewById(R.id.button2);\r\n    \r\n            button.setOnClickListener((view) -&gt; {\r\n\r\n","title":"&quot;setOnEditorListener&quot; is never triggerd despite userinput","body":"<p>In case someone is interested how I solved my problem:</p>\n<pre><code>package com.example.finalproject;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.TextView;\nimport com.loopj.android.http.*;\nimport androidx.appcompat.app.AppCompatActivity;\nimport cz.msebera.android.httpclient.Header;\nimport android.widget.EditText;\nimport android.widget.Button;\n\npublic class StockPriceActivity extends AppCompatActivity {\n\n    private EditText mStockPriceEditText;\n    private TextView mStockPriceTextView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_stock_price);\n\n        mStockPriceEditText = findViewById(R.id.stock_price_edit_text);\n        mStockPriceTextView = findViewById(R.id.stock_price_text_view);\n\n        Button button = findViewById(R.id.button2);\n\n        button.setOnClickListener((view) -&gt; {\n            // Initialize the HTTP client\n            AsyncHttpClient client = new AsyncHttpClient();\n\n            // Set the API key\n            String apiKey = getString(R.string.alpha_vantage_api_key);\n\n            if (view.getId() == R.id.button2) {\n                String stockSymbol = mStockPriceEditText.getText().toString();\n                // Set the URL for the API request\n                String url = &quot;https://www.alphavantage.co/query?function=GLOBAL_QUOTE&amp;symbol=&quot; + stockSymbol + &quot;&amp;apikey=&quot; + apiKey;\n                // Make the request\n                client.get(url, new AsyncHttpResponseHandler() {\n                    @Override\n                    public void onSuccess(int statusCode, Header[] headers, byte[] responseBody) {\n                        // The request was successful.\n                        String response = new String(responseBody);\n                        // Parse the JSON response to get the stock price\n                        String stockPrice = StockPriceParser.parseStockPriceFromJSON(response);\n                        // Update the TextView with the stock price\n                        mStockPriceTextView.setText(stockPrice);\n                    }\n\n                    @Override\n                    public void onFailure(int statusCode, Header[] headers, byte[] responseBody, Throwable error) {\n                        // The request failed. Handle the error.\n                        Log.d(&quot;YYYYY&quot;, &quot;Everything went wrong when you see this!&quot;); //TODO\n                    }\n                });\n            }\n        });\n   \n\n }\n}\n</code></pre>\n<p>I used a button, which the user has to click to submit his input. So i could use OnClickListener instead to run the code</p>\n<pre><code>Button button = findViewById(R.id.button2);\n\n        button.setOnClickListener((view) -&gt; {\n</code></pre>\n"}],"owner":{"account_id":26066954,"reputation":3,"user_id":19767256,"display_name":"ConfusedGerman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75269203,"answer_count":1,"score":0,"last_activity_date":1674924001,"creation_date":1674914014,"question_id":75268145,"body_markdown":"I am currently programming an app in android studio and right now I am trying to get a stock Symbol from the user and print out the current price of the stock.So i made this:\r\n\r\n```\r\npackage com.example.finalproject;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.TextView;\r\nimport com.loopj.android.http.*;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport cz.msebera.android.httpclient.Header;\r\nimport android.widget.EditText;\r\nimport android.view.inputmethod.EditorInfo;\r\nimport android.text.InputType;\r\n\r\npublic class StockPriceActivity extends AppCompatActivity {\r\n\r\n    private EditText mStockPriceEditText;\r\n    private TextView mStockPriceTextView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_stock_price);\r\n\r\n        mStockPriceEditText = findViewById(R.id.stock_price_edit_text);\r\n        mStockPriceTextView = findViewById(R.id.stock_price_text_view);\r\n\r\n        mStockPriceEditText.setInputType(InputType.TYPE_CLASS_TEXT);\r\n        mStockPriceEditText.setImeOptions(EditorInfo.IME_ACTION_DONE);\r\n        mStockPriceEditText.requestFocus();\r\n\r\n\r\n\r\n\r\n        mStockPriceEditText.setOnEditorActionListener((v, actionId, event) -&gt; {\r\n            Log.d(&quot;YYYYY&quot;, &quot;!!!!!!!!&quot;);\r\n            // Initialize the HTTP client\r\n            AsyncHttpClient client = new AsyncHttpClient();\r\n\r\n            // Set the API key\r\n            String apiKey = getString(R.string.alpha_vantage_api_key);\r\n            Log.d(&quot;YYYYY&quot;, &quot;!!&quot;);\r\n\r\n            if (actionId == EditorInfo.IME_ACTION_DONE) {\r\n                Log.d(&quot;YYYYY&quot;, &quot;!!!&quot;);\r\n                String stockSymbol = mStockPriceEditText.getText().toString();\r\n                // Set the URL for the API request\r\n                String url = &quot;https://www.alphavantage.co/query?function=GLOBAL_QUOTE&amp;symbol=&quot; + stockSymbol + &quot;&amp;apikey=&quot; + apiKey;\r\n                // Make the request\r\n                client.get(url, new AsyncHttpResponseHandler() {\r\n                    @Override\r\n                    public void onSuccess(int statusCode, Header[] headers, byte[] responseBody) {\r\n                        // The request was successful.\r\n                        String response = new String(responseBody);\r\n                        // Parse the JSON response to get the stock price\r\n                        String stockPrice = StockPriceParser.parseStockPriceFromJSON(response);\r\n                        // Update the TextView with the stock price\r\n                        mStockPriceTextView.setText(stockPrice);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(int statusCode, Header[] headers, byte[] responseBody, Throwable error) {\r\n                        // The request failed. Handle the error.\r\n                        Log.d(&quot;YYYYY&quot;, &quot;Everything went wrong when you see this!&quot;); //TODO\r\n                    }\r\n                });\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nMy problem is that the ActionListener  never gets triggerd, even when the user provides some input.This is the corresponding xml code:\r\n\r\n```\r\n&lt;EditText\r\n    android:id=&quot;@+id/stock_price_edit_text&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:hint=&quot;Enter text here&quot;\r\n    android:imeOptions=&quot;actionDone&quot;\r\n    android:inputType=&quot;textCapSentences&quot;\r\n    /&gt;\r\n```\r\n\r\nI tried the hole thing without userinput by directly implementing the stockSymbol in the url, for example &quot;AAPL&quot; and it worked fine, so no problem with that.","title":"&quot;setOnEditorListener&quot; is never triggerd despite userinput","body":"<p>I am currently programming an app in android studio and right now I am trying to get a stock Symbol from the user and print out the current price of the stock.So i made this:</p>\n<pre><code>package com.example.finalproject;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.TextView;\nimport com.loopj.android.http.*;\nimport androidx.appcompat.app.AppCompatActivity;\nimport cz.msebera.android.httpclient.Header;\nimport android.widget.EditText;\nimport android.view.inputmethod.EditorInfo;\nimport android.text.InputType;\n\npublic class StockPriceActivity extends AppCompatActivity {\n\n    private EditText mStockPriceEditText;\n    private TextView mStockPriceTextView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_stock_price);\n\n        mStockPriceEditText = findViewById(R.id.stock_price_edit_text);\n        mStockPriceTextView = findViewById(R.id.stock_price_text_view);\n\n        mStockPriceEditText.setInputType(InputType.TYPE_CLASS_TEXT);\n        mStockPriceEditText.setImeOptions(EditorInfo.IME_ACTION_DONE);\n        mStockPriceEditText.requestFocus();\n\n\n\n\n        mStockPriceEditText.setOnEditorActionListener((v, actionId, event) -&gt; {\n            Log.d(&quot;YYYYY&quot;, &quot;!!!!!!!!&quot;);\n            // Initialize the HTTP client\n            AsyncHttpClient client = new AsyncHttpClient();\n\n            // Set the API key\n            String apiKey = getString(R.string.alpha_vantage_api_key);\n            Log.d(&quot;YYYYY&quot;, &quot;!!&quot;);\n\n            if (actionId == EditorInfo.IME_ACTION_DONE) {\n                Log.d(&quot;YYYYY&quot;, &quot;!!!&quot;);\n                String stockSymbol = mStockPriceEditText.getText().toString();\n                // Set the URL for the API request\n                String url = &quot;https://www.alphavantage.co/query?function=GLOBAL_QUOTE&amp;symbol=&quot; + stockSymbol + &quot;&amp;apikey=&quot; + apiKey;\n                // Make the request\n                client.get(url, new AsyncHttpResponseHandler() {\n                    @Override\n                    public void onSuccess(int statusCode, Header[] headers, byte[] responseBody) {\n                        // The request was successful.\n                        String response = new String(responseBody);\n                        // Parse the JSON response to get the stock price\n                        String stockPrice = StockPriceParser.parseStockPriceFromJSON(response);\n                        // Update the TextView with the stock price\n                        mStockPriceTextView.setText(stockPrice);\n                    }\n\n                    @Override\n                    public void onFailure(int statusCode, Header[] headers, byte[] responseBody, Throwable error) {\n                        // The request failed. Handle the error.\n                        Log.d(&quot;YYYYY&quot;, &quot;Everything went wrong when you see this!&quot;); //TODO\n                    }\n                });\n                return false;\n            }\n            return true;\n        });\n    }\n}\n</code></pre>\n<p>My problem is that the ActionListener  never gets triggerd, even when the user provides some input.This is the corresponding xml code:</p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/stock_price_edit_text&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:hint=&quot;Enter text here&quot;\n    android:imeOptions=&quot;actionDone&quot;\n    android:inputType=&quot;textCapSentences&quot;\n    /&gt;\n</code></pre>\n<p>I tried the hole thing without userinput by directly implementing the stockSymbol in the url, for example &quot;AAPL&quot; and it worked fine, so no problem with that.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9529,"page":694,"page_size":100}
