{"items":[{"tags":["java","spring","hibernate","generics"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699958378,"post_id":77479372,"comment_id":136593096,"body_markdown":"Deprecated doesn&#39;t mean it doesn&#39;t work anymore! Next to that the `HibernateTemplate` is also something you shouldn&#39;t be using anymore but rather the plain `EntityManager` of `SessionFactory` instead. The `HibernateTemplate` exists as a migration strategy and actually has been removed in the most recent version of Spring.","body":"Deprecated doesn&#39;t mean it doesn&#39;t work anymore! Next to that the <code>HibernateTemplate</code> is also something you shouldn&#39;t be using anymore but rather the plain <code>EntityManager</code> of <code>SessionFactory</code> instead. The <code>HibernateTemplate</code> exists as a migration strategy and actually has been removed in the most recent version of Spring."},{"owner":{"account_id":29898349,"reputation":1,"user_id":22912661,"display_name":"Rakshit Soni"},"score":0,"creation_date":1699965117,"post_id":77479372,"comment_id":136594306,"body_markdown":"@M.Deinum The requirement is related to upgrading the hibernate to the more recent version and hibernate 5.6.15 actually has removed the usage of Query and introduced Query&lt;T&gt;. I have fixed it in my question.","body":"@M.Deinum The requirement is related to upgrading the hibernate to the more recent version and hibernate 5.6.15 actually has removed the usage of Query and introduced Query&lt;T&gt;. I have fixed it in my question."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1699970595,"post_id":77479372,"comment_id":136595346,"body_markdown":"And where does my statement says otherwise? I&#39;m merely mentioning that the use of `HibernateTemplate` is deprecated as well and that you should use the `SessionFactory` directly. Is this painful probably but the same is to be said for using the extended `HibernateTemplate`. The latter will even break or prevent you from upgrading Spring to a newer version.","body":"And where does my statement says otherwise? I&#39;m merely mentioning that the use of <code>HibernateTemplate</code> is deprecated as well and that you should use the <code>SessionFactory</code> directly. Is this painful probably but the same is to be said for using the extended <code>HibernateTemplate</code>. The latter will even break or prevent you from upgrading Spring to a newer version."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700001880,"post_id":77479372,"comment_id":136600939,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29898349,"reputation":1,"user_id":22912661,"display_name":"Rakshit Soni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699965195,"creation_date":1699953077,"question_id":77479372,"body_markdown":"I am using hibernate 5.6.15 and i have overridden the methods of hibernate template , one of them being findByNamedParam(), it uses the Query object which has query string to hit the database and fetch results for you.\r\n\r\n```\r\n@Override\r\npublic &lt;T&gt; List&lt;T&gt; findByNamedParam( @Language( &quot;HQL&quot; ) final String queryString, final String[] paramNames, final Object[] values, int maxResults ) throws DataAccessException\r\n{\r\n    if ( ( paramNames == null ? 0 : paramNames.length ) != ( values == null ? 0 : values.length ) )\r\n    {\r\n        throw new IllegalArgumentException( &quot;Length of paramNames array must match length of values array&quot; );\r\n    }\r\n\r\n    return executeWithNativeSession( session -&gt; {\r\n        Query queryObject = session.createQuery( queryString );\r\n        prepareQuery( queryObject );\r\n        queryObject.setMaxResults( maxResults );\r\n        if ( values != null )\r\n        {\r\n            for ( int i = 0; i &lt; values.length; i++ )\r\n            {\r\n                queryObject.setParameter( paramNames[ i ], values[ i ] );\r\n            }\r\n        }\r\n        return queryObject.getResultList();\r\n    } );\r\n}\r\n```\r\n\r\nBut now the Query is removed and the new versions use \r\n\r\n```\r\nQuery&lt;T&gt; queryObject = session.createQuery( queryString, EntityClass );\r\n```\r\n\r\nWhere &lt;T&gt; is the type of Class used by Database objects , so in order to fullfill this requirement , we have to pass the Entity class in the Create query session. And this can be fetched only from the class where this findByNameParam is called. \r\n\r\n\r\nSo it will look something like this : \r\n\r\n    Class A { Public List&lt;**EntityClass**&gt; method 1(){\r\n    \r\n    //some code \r\n    // return to call for find by name parameter \r\n    \r\n    return hibernateOperations.findByNamedParam( hql, params.toArray( new String[ params.size() ] ), values.toArray(),**EntityClass**, getBatchSize() ); } }\r\n\r\nAnd in `HibernateTemplateExtension` Class(where i have over riddden the `findByNamedParam()` method) I can define the `findByNamedParam()` with one extra argument\r\n\r\n```\r\npublic &lt;T&gt; List&lt;T&gt; findByNamedParam( @Language( &quot;HQL&quot; ) final String queryString, final String[] paramNames, final Object[] values,Class&lt;T&gt; EntityClass, int maxResults ) throws DataAccessException`\r\n```\r\nand use it in query object like this \r\n\r\n```\r\nQuery&lt;T&gt; queryObject = session.createQuery( queryString, EntityClass );\r\n```\r\nEasy???\r\n\r\nWell i would have to change 100s of method calls like i did above in Class A just to make the Query object work. And i am not able to find any alternative solution to this.\r\n\r\nI used the below code inside the hibernateExtension CLass and used it in my `findByNamedParam()` method.\r\n\r\nThe code that I added : \r\n```java\r\nprivate final static class DummyClass&lt;T&gt;\r\n    {\r\n        private DummyClass()\r\n        {\r\n        }\r\n    }\r\n\r\nprivate static &lt;T&gt; Class&lt;T&gt; getTypeClass()\r\n    {\r\n        DummyClass&lt;T&gt; instance = new DummyClass&lt;T&gt;();\r\n        TypeVariable&lt;?&gt;[] parameters = instance.getClass().getTypeParameters();\r\n\r\n        return (Class&lt;T&gt;)parameters[ 0 ].getClass();\r\n    }\r\n```\r\n\r\nThen used it inside the findByNamedParam() method like this :\r\n\r\n```\r\n@Override\r\n\r\npublic &lt;T&gt; List&lt;T&gt; findByNamedParam( @Language( &quot;HQL&quot; ) final String queryString, final String[] paramNames, final Object[] values, int maxResults ) throws DataAccessException\r\n{\r\n    if ( ( paramNames == null ? 0 : paramNames.length ) != ( values == null ? 0 : values.length ) )\r\n    {\r\n        throw new IllegalArgumentException( &quot;Length of paramNames array must match length of values array&quot; );\r\n    }\r\n\r\n    Class&lt;T&gt; typeClass = getTypeClass();\r\n    return executeWithNativeSession( session -&gt; {\r\n        Query&lt;T&gt; queryObject = session.createQuery( queryString, typeClass );\r\n        prepareQuery( queryObject );\r\n        queryObject.setMaxResults( maxResults );\r\n        if ( values != null )\r\n        {\r\n            for ( int i = 0; i &lt; values.length; i++ )\r\n            {\r\n                queryObject.setParameter( paramNames[ i ], values[ i ] );\r\n            }\r\n        }\r\n        return queryObject.getResultList();\r\n    } );\r\n}\r\n```\r\n\r\nBut this is also not working because the Query expects a real Entity class object and not the genric class object , Below is the error i am facing while doing the above :\r\n\r\n```\r\nType specified for TypedQuery [sun.reflect.generics.reflectiveObjects.TypeVariableImpl] is incompatible with query return type [class com.junifer.thor.database.hibernate.objects.UkTradingUnitMode]\r\n```","title":"Hibernate Upgrade to 5.5.15 is compelling me to add into Query object with new class type argument","body":"<p>I am using hibernate 5.6.15 and i have overridden the methods of hibernate template , one of them being findByNamedParam(), it uses the Query object which has query string to hit the database and fetch results for you.</p>\n<pre><code>@Override\npublic &lt;T&gt; List&lt;T&gt; findByNamedParam( @Language( &quot;HQL&quot; ) final String queryString, final String[] paramNames, final Object[] values, int maxResults ) throws DataAccessException\n{\n    if ( ( paramNames == null ? 0 : paramNames.length ) != ( values == null ? 0 : values.length ) )\n    {\n        throw new IllegalArgumentException( &quot;Length of paramNames array must match length of values array&quot; );\n    }\n\n    return executeWithNativeSession( session -&gt; {\n        Query queryObject = session.createQuery( queryString );\n        prepareQuery( queryObject );\n        queryObject.setMaxResults( maxResults );\n        if ( values != null )\n        {\n            for ( int i = 0; i &lt; values.length; i++ )\n            {\n                queryObject.setParameter( paramNames[ i ], values[ i ] );\n            }\n        }\n        return queryObject.getResultList();\n    } );\n}\n</code></pre>\n<p>But now the Query is removed and the new versions use</p>\n<pre><code>Query&lt;T&gt; queryObject = session.createQuery( queryString, EntityClass );\n</code></pre>\n<p>Where  is the type of Class used by Database objects , so in order to fullfill this requirement , we have to pass the Entity class in the Create query session. And this can be fetched only from the class where this findByNameParam is called.</p>\n<p>So it will look something like this :</p>\n<pre><code>Class A { Public List&lt;**EntityClass**&gt; method 1(){\n\n//some code \n// return to call for find by name parameter \n\nreturn hibernateOperations.findByNamedParam( hql, params.toArray( new String[ params.size() ] ), values.toArray(),**EntityClass**, getBatchSize() ); } }\n</code></pre>\n<p>And in <code>HibernateTemplateExtension</code> Class(where i have over riddden the <code>findByNamedParam()</code> method) I can define the <code>findByNamedParam()</code> with one extra argument</p>\n<pre><code>public &lt;T&gt; List&lt;T&gt; findByNamedParam( @Language( &quot;HQL&quot; ) final String queryString, final String[] paramNames, final Object[] values,Class&lt;T&gt; EntityClass, int maxResults ) throws DataAccessException`\n</code></pre>\n<p>and use it in query object like this</p>\n<pre><code>Query&lt;T&gt; queryObject = session.createQuery( queryString, EntityClass );\n</code></pre>\n<p>Easy???</p>\n<p>Well i would have to change 100s of method calls like i did above in Class A just to make the Query object work. And i am not able to find any alternative solution to this.</p>\n<p>I used the below code inside the hibernateExtension CLass and used it in my <code>findByNamedParam()</code> method.</p>\n<p>The code that I added :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final static class DummyClass&lt;T&gt;\n    {\n        private DummyClass()\n        {\n        }\n    }\n\nprivate static &lt;T&gt; Class&lt;T&gt; getTypeClass()\n    {\n        DummyClass&lt;T&gt; instance = new DummyClass&lt;T&gt;();\n        TypeVariable&lt;?&gt;[] parameters = instance.getClass().getTypeParameters();\n\n        return (Class&lt;T&gt;)parameters[ 0 ].getClass();\n    }\n</code></pre>\n<p>Then used it inside the findByNamedParam() method like this :</p>\n<pre><code>@Override\n\npublic &lt;T&gt; List&lt;T&gt; findByNamedParam( @Language( &quot;HQL&quot; ) final String queryString, final String[] paramNames, final Object[] values, int maxResults ) throws DataAccessException\n{\n    if ( ( paramNames == null ? 0 : paramNames.length ) != ( values == null ? 0 : values.length ) )\n    {\n        throw new IllegalArgumentException( &quot;Length of paramNames array must match length of values array&quot; );\n    }\n\n    Class&lt;T&gt; typeClass = getTypeClass();\n    return executeWithNativeSession( session -&gt; {\n        Query&lt;T&gt; queryObject = session.createQuery( queryString, typeClass );\n        prepareQuery( queryObject );\n        queryObject.setMaxResults( maxResults );\n        if ( values != null )\n        {\n            for ( int i = 0; i &lt; values.length; i++ )\n            {\n                queryObject.setParameter( paramNames[ i ], values[ i ] );\n            }\n        }\n        return queryObject.getResultList();\n    } );\n}\n</code></pre>\n<p>But this is also not working because the Query expects a real Entity class object and not the genric class object , Below is the error i am facing while doing the above :</p>\n<pre><code>Type specified for TypedQuery [sun.reflect.generics.reflectiveObjects.TypeVariableImpl] is incompatible with query return type [class com.junifer.thor.database.hibernate.objects.UkTradingUnitMode]\n</code></pre>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":13848741,"reputation":10825,"user_id":9997212,"display_name":"enzo"},"score":3,"creation_date":1699965456,"post_id":77480601,"comment_id":136594362,"body_markdown":"You&#39;re not `System.out.println`ing `f1.gettotal()`, you&#39;re just evaluating it.","body":"You&#39;re not <code>System.out.println</code>ing <code>f1.gettotal()</code>, you&#39;re just evaluating it."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1699971611,"post_id":77480601,"comment_id":136595577,"body_markdown":"I think your reported problem is that you are not printing the order - you are printing a single element:  `System.out.println(&quot;The items you have currently selected are: \\n&quot; + Orders.get(selectedElement - 1));`\n\nConsider limiting the responsibility of `Order` to modeling the user&#39;s order.  The menu should be a different class.  Perhaps the `Ordering` class should handle flow control (getting and processing input).","body":"I think your reported problem is that you are not printing the order - you are printing a single element:  <code>System.out.println(&quot;The items you have currently selected are: \\n&quot; + Orders.get(selectedElement - 1));</code>  Consider limiting the responsibility of <code>Order</code> to modeling the user&#39;s order.  The menu should be a different class.  Perhaps the <code>Ordering</code> class should handle flow control (getting and processing input)."}],"owner":{"account_id":29899894,"reputation":11,"user_id":22913879,"display_name":"Lavendran Muralidaran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":0,"score":-1,"last_activity_date":1699965110,"creation_date":1699964887,"question_id":77480601,"body_markdown":"```java\r\npublic class Food1 {\r\n    private String itemName;\r\n    private double price;\r\n    \r\n    public Food1(String itemName, double price) {\r\n        this.itemName = itemName;\r\n        this.price = price;\r\n    }\r\n    \r\n    public String getitemName() {\r\n        return this.itemName;\r\n    }\r\n    \r\n    public double getPrice() {\r\n        return this.price;\r\n    }\r\n    \r\n    public String toString() {\r\n        return &quot; &quot; + this.itemName + &quot; &quot; + &quot;RM &quot; + this.price;\r\n    }\r\n}\r\n```\r\n\r\nTHis where I messed up, i just cant get the code to display the cost and to add more orders.\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Order {\r\n    ArrayList&lt;Food1&gt; Orders;\r\n    double totalcost = 0;\r\n    Scanner in = new Scanner(System.in);\r\n\r\n    public Order() {\r\n        Orders = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public String printReciept() {\r\n        return &quot;Here&#39;s your receipt!!\\n&quot; + toString() + &quot;The total amount needed to be paid: \\n&quot; + &quot;RM &quot; + totalcost;\r\n    }\r\n\r\n    public double gettotal() {\r\n        return totalcost;\r\n    }\r\n\r\n    public void addOrder(String itemName, double price) {\r\n        Food1 f1 = new Food1(itemName, price);\r\n        Orders.add(f1);\r\n        totalcost += f1.getPrice();\r\n    }\r\n\r\n    // this part is where all the mess is, it runs well, except it doesnt add the food i select.\r\n\r\n    public String printMenu() {\r\n        System.out.println(&quot;Please check out our amazing meals for today!!&quot;);\r\n        int selectedElement;\r\n        do {\r\n            for (int i = 0; i &lt; Orders.size(); i++) {\r\n                System.out.println((i + 1) + &quot;. &quot; + Orders.get(i));\r\n            }\r\n            System.out.println(&quot;Please type out the Food Code!! &lt;3&quot;);\r\n            selectedElement = in .nextInt();\r\n            if (selectedElement &gt; 0 &amp;&amp; selectedElement &lt;= Orders.size()) {\r\n                System.out.println(&quot;The items you have currently selected are: \\n&quot; + Orders.get(selectedElement - 1));\r\n                System.out.println(&quot;Would you like to add more? If yes, press 1. If no, press 2.&quot;);\r\n                int j = in .nextInt();\r\n                if (j == 1) {\r\n                    continue;\r\n                } else if (j == 2) {\r\n                    break;\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Oh no!! It seems that you have entered the wrong code!! :( &quot;);\r\n                System.out.println(&quot;Please refresh to start over :)&quot;);\r\n            }\r\n        } while (true);\r\n        return printReciept();\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;Welcome to Happy U Cafe!!&quot; + &quot;\\n&quot;;\r\n    }\r\n}\r\n```\r\n\r\nthis part is still okay for now so yea\r\n    \r\n```java\r\npublic class Ordering {\r\n    public static void main(String\\[\\] args) {\r\n        Order f1 = new Order();\r\n        f1.addOrder(&quot;Chilli Chicken Burger&quot;, 16.75);\r\n        f1.addOrder(&quot;Lamb Taco&quot;, 17.45);\r\n        f1.addOrder(&quot;Spaghetti Bolognese&quot;, 13.05);\r\n        f1.addOrder(&quot;Fried Rice with Butter Chicken&quot;, 14.99);\r\n        f1.addOrder(&quot;Chilli Pan Mee&quot;, 12.08);\r\n        f1.addOrder(&quot;Wan Tan Mee Noodles with Dumpling Soup&quot;, 10.76);\r\n        f1.addOrder(&quot;Club Sandwich&quot;, 12.09);\r\n        f1.addOrder(&quot;Nasi Lemak Ayam Rendang&quot;, 14.00);\r\n        f1.addOrder(&quot;Fried Chicken Teriyaki Onigiri&quot;, 4.50);\r\n        System.out.println(f1);\r\n        f1.printMenu();\r\n        f1.printReciept();\r\n        f1.gettotal();\r\n    }\r\n}\r\n```\r\n\r\nI tried this but uhhh, whenever i add a new item, it resets and i cant get the total cost to display, but i gotta use the most simplest form of coding (tried using the ones i learned from outside but i got accused for using chat gpt).\r\n\r\nthis is the outcome\r\n\r\n```\r\n    Welcome to Happy U Cafe!!\r\nPlease check out our amazing meals for today!!\r\n1.  Chilli Chicken Burger RM 16.75\r\n2.  Lamb Taco RM 17.45\r\n3.  Spaghetti Bolognese RM 13.05\r\n4.  Fried Rice with Butter Chicken RM 14.99\r\n5.  Chilli Pan Mee RM 12.08\r\n6.  Wan Tan Mee Noodles with Dumpling Soup RM 10.76\r\n7.  Club Sandwich RM 12.09\r\n8.  Nasi Lemak Ayam Rendang RM 14.0\r\n9.  Fried Chicken Teriyaki Onigiri RM 4.5\r\nPlease type out the Food Code!! &lt;3\r\n8\r\nThe items you have currently selected are: \r\n Nasi Lemak Ayam Rendang RM 14.0\r\nWould you like to add more? If yes, press 1. If no, press 2.\r\n1\r\n1.  Chilli Chicken Burger RM 16.75\r\n2.  Lamb Taco RM 17.45\r\n3.  Spaghetti Bolognese RM 13.05\r\n4.  Fried Rice with Butter Chicken RM 14.99\r\n5.  Chilli Pan Mee RM 12.08\r\n6.  Wan Tan Mee Noodles with Dumpling Soup RM 10.76\r\n7.  Club Sandwich RM 12.09\r\n8.  Nasi Lemak Ayam Rendang RM 14.0\r\n9.  Fried Chicken Teriyaki Onigiri RM 4.5\r\nPlease type out the Food Code!! &lt;3\r\n5\r\nThe items you have currently selected are: \r\n Chilli Pan Mee RM 12.08\r\nWould you like to add more? If yes, press 1. If no, press 2.\r\n2\r\n```","title":"How do i get the total cost to appear and the food to be added","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Food1 {\n    private String itemName;\n    private double price;\n    \n    public Food1(String itemName, double price) {\n        this.itemName = itemName;\n        this.price = price;\n    }\n    \n    public String getitemName() {\n        return this.itemName;\n    }\n    \n    public double getPrice() {\n        return this.price;\n    }\n    \n    public String toString() {\n        return &quot; &quot; + this.itemName + &quot; &quot; + &quot;RM &quot; + this.price;\n    }\n}\n</code></pre>\n<p>THis where I messed up, i just cant get the code to display the cost and to add more orders.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Order {\n    ArrayList&lt;Food1&gt; Orders;\n    double totalcost = 0;\n    Scanner in = new Scanner(System.in);\n\n    public Order() {\n        Orders = new ArrayList&lt;&gt;();\n    }\n\n    public String printReciept() {\n        return &quot;Here's your receipt!!\\n&quot; + toString() + &quot;The total amount needed to be paid: \\n&quot; + &quot;RM &quot; + totalcost;\n    }\n\n    public double gettotal() {\n        return totalcost;\n    }\n\n    public void addOrder(String itemName, double price) {\n        Food1 f1 = new Food1(itemName, price);\n        Orders.add(f1);\n        totalcost += f1.getPrice();\n    }\n\n    // this part is where all the mess is, it runs well, except it doesnt add the food i select.\n\n    public String printMenu() {\n        System.out.println(&quot;Please check out our amazing meals for today!!&quot;);\n        int selectedElement;\n        do {\n            for (int i = 0; i &lt; Orders.size(); i++) {\n                System.out.println((i + 1) + &quot;. &quot; + Orders.get(i));\n            }\n            System.out.println(&quot;Please type out the Food Code!! &lt;3&quot;);\n            selectedElement = in .nextInt();\n            if (selectedElement &gt; 0 &amp;&amp; selectedElement &lt;= Orders.size()) {\n                System.out.println(&quot;The items you have currently selected are: \\n&quot; + Orders.get(selectedElement - 1));\n                System.out.println(&quot;Would you like to add more? If yes, press 1. If no, press 2.&quot;);\n                int j = in .nextInt();\n                if (j == 1) {\n                    continue;\n                } else if (j == 2) {\n                    break;\n                }\n            } else {\n                System.out.println(&quot;Oh no!! It seems that you have entered the wrong code!! :( &quot;);\n                System.out.println(&quot;Please refresh to start over :)&quot;);\n            }\n        } while (true);\n        return printReciept();\n    }\n\n    public String toString() {\n        return &quot;Welcome to Happy U Cafe!!&quot; + &quot;\\n&quot;;\n    }\n}\n</code></pre>\n<p>this part is still okay for now so yea</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Ordering {\n    public static void main(String\\[\\] args) {\n        Order f1 = new Order();\n        f1.addOrder(&quot;Chilli Chicken Burger&quot;, 16.75);\n        f1.addOrder(&quot;Lamb Taco&quot;, 17.45);\n        f1.addOrder(&quot;Spaghetti Bolognese&quot;, 13.05);\n        f1.addOrder(&quot;Fried Rice with Butter Chicken&quot;, 14.99);\n        f1.addOrder(&quot;Chilli Pan Mee&quot;, 12.08);\n        f1.addOrder(&quot;Wan Tan Mee Noodles with Dumpling Soup&quot;, 10.76);\n        f1.addOrder(&quot;Club Sandwich&quot;, 12.09);\n        f1.addOrder(&quot;Nasi Lemak Ayam Rendang&quot;, 14.00);\n        f1.addOrder(&quot;Fried Chicken Teriyaki Onigiri&quot;, 4.50);\n        System.out.println(f1);\n        f1.printMenu();\n        f1.printReciept();\n        f1.gettotal();\n    }\n}\n</code></pre>\n<p>I tried this but uhhh, whenever i add a new item, it resets and i cant get the total cost to display, but i gotta use the most simplest form of coding (tried using the ones i learned from outside but i got accused for using chat gpt).</p>\n<p>this is the outcome</p>\n<pre><code>    Welcome to Happy U Cafe!!\nPlease check out our amazing meals for today!!\n1.  Chilli Chicken Burger RM 16.75\n2.  Lamb Taco RM 17.45\n3.  Spaghetti Bolognese RM 13.05\n4.  Fried Rice with Butter Chicken RM 14.99\n5.  Chilli Pan Mee RM 12.08\n6.  Wan Tan Mee Noodles with Dumpling Soup RM 10.76\n7.  Club Sandwich RM 12.09\n8.  Nasi Lemak Ayam Rendang RM 14.0\n9.  Fried Chicken Teriyaki Onigiri RM 4.5\nPlease type out the Food Code!! &lt;3\n8\nThe items you have currently selected are: \n Nasi Lemak Ayam Rendang RM 14.0\nWould you like to add more? If yes, press 1. If no, press 2.\n1\n1.  Chilli Chicken Burger RM 16.75\n2.  Lamb Taco RM 17.45\n3.  Spaghetti Bolognese RM 13.05\n4.  Fried Rice with Butter Chicken RM 14.99\n5.  Chilli Pan Mee RM 12.08\n6.  Wan Tan Mee Noodles with Dumpling Soup RM 10.76\n7.  Club Sandwich RM 12.09\n8.  Nasi Lemak Ayam Rendang RM 14.0\n9.  Fried Chicken Teriyaki Onigiri RM 4.5\nPlease type out the Food Code!! &lt;3\n5\nThe items you have currently selected are: \n Chilli Pan Mee RM 12.08\nWould you like to add more? If yes, press 1. If no, press 2.\n2\n</code></pre>\n"},{"tags":["java","microsoft-graph-api"],"answers":[{"comments":[{"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"score":0,"creation_date":1700105818,"post_id":77480548,"comment_id":136614852,"body_markdown":"Thanks @Tom,  I need to check like in this link:- https://learn.microsoft.com/en-us/answers/questions/666330/microsoft-graph-api-filtering-on-categories                         how can add the color to that mail after processing .I Need to assign category code to email after email gateway successfully processed.","body":"Thanks @Tom,  I need to check like in this link:- <a href=\"https://learn.microsoft.com/en-us/answers/questions/666330/microsoft-graph-api-filtering-on-categories\" rel=\"nofollow noreferrer\" title=\"microsoft graph api filtering on categories\">learn.microsoft.com/en-us/answers/questions/666330/&hellip;</a>                         how can add the color to that mail after processing .I Need to assign category code to email after email gateway successfully processed."}],"tags":[],"owner":{"account_id":22491103,"reputation":5310,"user_id":16688813,"display_name":"Tom"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699964694,"creation_date":1699964322,"answer_id":77480548,"question_id":77480071,"body_markdown":"According to [the documentation](https://javadoc.io/doc/com.microsoft.graph/microsoft-graph/latest/com/microsoft/graph/models/OutlookItem.html#categories), the type of `categories` is `List&lt;String&gt;`.\r\n\r\nYou could simply do :\r\n\r\n```java\r\nList&lt;String&gt; msgCategories = new ArrayList&lt;&gt;();\r\nmsgCategories.add(&quot;category1&quot;);\r\nmsgCategories.add(&quot;category2&quot;);\r\nnewMessage.categories = msgCategories;\r\n```\r\n\r\nReplace `&quot;category1&quot;` and `&quot;category2&quot;` with default categories or with the name of your own custom categories.","title":"How to add category code in com.microsoft.graph.models.Message","body":"<p>According to <a href=\"https://javadoc.io/doc/com.microsoft.graph/microsoft-graph/latest/com/microsoft/graph/models/OutlookItem.html#categories\" rel=\"nofollow noreferrer\">the documentation</a>, the type of <code>categories</code> is <code>List&lt;String&gt;</code>.</p>\n<p>You could simply do :</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; msgCategories = new ArrayList&lt;&gt;();\nmsgCategories.add(&quot;category1&quot;);\nmsgCategories.add(&quot;category2&quot;);\nnewMessage.categories = msgCategories;\n</code></pre>\n<p>Replace <code>&quot;category1&quot;</code> and <code>&quot;category2&quot;</code> with default categories or with the name of your own custom categories.</p>\n"}],"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77480548,"answer_count":1,"score":0,"last_activity_date":1699964694,"creation_date":1699959641,"question_id":77480071,"body_markdown":"I am trying to add category code when `graphapi` reads the mail, for I am trying to use below code.\r\n\r\n```\r\nMessage newMessage = new Message();\r\n\t\t newMessage.isRead = true;\r\n\t\t newMessage.importance = Importance.LOW;\r\n\t\t newMessage.categories = no idea how to add categoties!!!\r\n\t\t \r\n\t\t if(shouldFlag) {\r\n\t\t\t newMessage.flag =  message.flag;\r\n\t\t\t newMessage.flag.flagStatus = FollowupFlagStatus.FLAGGED;\r\n\t\t }\r\n\t\t \r\n\t\t _appClient.users(o365Mailbox)\r\n\t\t     .messages(message.id)\r\n\t\t     .buildRequest()\r\n\t\t \t .patch(newMessage);\r\n\t}\r\n```\r\n\r\n\r\nNeed to know how can I add the category code when graph API reads the mail.","title":"How to add category code in com.microsoft.graph.models.Message","body":"<p>I am trying to add category code when <code>graphapi</code> reads the mail, for I am trying to use below code.</p>\n<pre><code>Message newMessage = new Message();\n         newMessage.isRead = true;\n         newMessage.importance = Importance.LOW;\n         newMessage.categories = no idea how to add categoties!!!\n         \n         if(shouldFlag) {\n             newMessage.flag =  message.flag;\n             newMessage.flag.flagStatus = FollowupFlagStatus.FLAGGED;\n         }\n         \n         _appClient.users(o365Mailbox)\n             .messages(message.id)\n             .buildRequest()\n             .patch(newMessage);\n    }\n</code></pre>\n<p>Need to know how can I add the category code when graph API reads the mail.</p>\n"},{"tags":["java","spring","spring-boot","gradle","spring-cloud"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1699296469,"post_id":77418044,"comment_id":136511342,"body_markdown":"Is this Spring Boot? If so please add relevant tags. Also kotlin tag seems irrelevant.","body":"Is this Spring Boot? If so please add relevant tags. Also kotlin tag seems irrelevant."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1699296505,"post_id":77418044,"comment_id":136511346,"body_markdown":"Also share the stacktrace of the problem.","body":"Also share the stacktrace of the problem."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1699296633,"post_id":77418044,"comment_id":136511363,"body_markdown":"Also you might find your answer here: https://stackoverflow.com/q/42659920/460557 whenever upgrading a framework check for its matrix compatibility. You probably missed some other needed upgrades","body":"Also you might find your answer here: <a href=\"https://stackoverflow.com/q/42659920/460557\">stackoverflow.com/q/42659920/460557</a> whenever upgrading a framework check for its matrix compatibility. You probably missed some other needed upgrades"},{"owner":{"account_id":1584051,"reputation":2945,"user_id":1504072,"accept_rate":20,"display_name":"Taran"},"score":0,"creation_date":1699482387,"post_id":77418044,"comment_id":136539052,"body_markdown":"i am using springBootVersion=3.0.11 and springCloudVersion=2022.0.3","body":"i am using springBootVersion=3.0.11 and springCloudVersion=2022.0.3"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699626150,"creation_date":1699362257,"answer_id":77438429,"question_id":77418044,"body_markdown":"Please add `spring-cloud-test-support` dependency in **build.gradle**:\r\n\r\n\r\n    testImplementation &#39;org.springframework.cloud:spring-cloud-test-support:4.0.1&#39;\r\n\r\nThis has the `org.springframework.cloud.test.TestSocketUtils` class in it.","title":"java.lang.NoClassDefFoundError: org/springframework/cloud/test/TestSocketUtils after upgrading Spring Boot version to 3.x","body":"<p>Please add <code>spring-cloud-test-support</code> dependency in <strong>build.gradle</strong>:</p>\n<pre><code>testImplementation 'org.springframework.cloud:spring-cloud-test-support:4.0.1'\n</code></pre>\n<p>This has the <code>org.springframework.cloud.test.TestSocketUtils</code> class in it.</p>\n"}],"owner":{"account_id":1584051,"reputation":2945,"user_id":1504072,"accept_rate":20,"display_name":"Taran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77438429,"answer_count":1,"score":1,"last_activity_date":1699963130,"creation_date":1699026559,"question_id":77418044,"body_markdown":"I am using the below given dependency in the **build.gradle** for **application tests**: \r\n\r\n    testImplementation &#39;org.springframework.cloud:spring-cloud-starter-contract-verifier:4.0.1&#39;\r\n\r\nNow when I updated the **Spring Boot** version from `2.x` to `3.x`, I am getting `java.lang.NoClassDefFoundError` for `TestSocketUtils`.\r\n\r\nWondering if anyone has got this issue before?\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/springframework/cloud/test/TestSocketUtils after upgrading Spring Boot version to 3.x","body":"<p>I am using the below given dependency in the <strong>build.gradle</strong> for <strong>application tests</strong>:</p>\n<pre><code>testImplementation 'org.springframework.cloud:spring-cloud-starter-contract-verifier:4.0.1'\n</code></pre>\n<p>Now when I updated the <strong>Spring Boot</strong> version from <code>2.x</code> to <code>3.x</code>, I am getting <code>java.lang.NoClassDefFoundError</code> for <code>TestSocketUtils</code>.</p>\n<p>Wondering if anyone has got this issue before?</p>\n"},{"tags":["javascript","java","selenium-webdriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1699960079,"post_id":77480076,"comment_id":136593392,"body_markdown":"Can you share the URL of the website if it&#39;s public?","body":"Can you share the URL of the website if it&#39;s public?"},{"owner":{"account_id":20022748,"reputation":1395,"user_id":14677302,"display_name":"Krokodil"},"score":0,"creation_date":1699961049,"post_id":77480076,"comment_id":136593545,"body_markdown":"I have no idea what you&#39;re asking. Please add enough code to allow us to reproduce the issue.","body":"I have no idea what you&#39;re asking. Please add enough code to allow us to reproduce the issue."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699961057,"post_id":77480076,"comment_id":136593547,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":28832825,"reputation":1,"user_id":22082872,"display_name":"Priyadharshini P"},"score":0,"creation_date":1700042764,"post_id":77480076,"comment_id":136605342,"body_markdown":"thank you guys for all your reply and effort , i sorted this by myslef ...","body":"thank you guys for all your reply and effort , i sorted this by myslef ..."}],"owner":{"account_id":28832825,"reputation":1,"user_id":22082872,"display_name":"Priyadharshini P"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699963127,"creation_date":1699959651,"question_id":77480076,"body_markdown":"I was trying to select any one of the element from the list displaying when click is made on the particular dropdown selection box, but after the elements got listed, I could not select any element from the list.\r\nI also tried with many familiar options.\r\n\r\n````\r\nWebElement autocompleteDropdown = driver.findElement(autocompleteSuggestions);\r\njava.util.List&lt;WebElement&gt; suggestionList = autocompleteDropdown.findElements(By.xpath(&quot;//span//ul[@id=&#39;select2-unit_type_id-results&#39;]&quot;));\r\nSystem.out.println(&quot;suggestion list taken&quot;);               \r\n    for (WebElement element : suggestionList) {\t\t\t\r\n\t\tif (element.getText().equals(&quot;1 Bedroom Townhouse&quot;)) {\r\n           driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\t\t   Actions act1 =  new Actions(driver);\r\n\t\t   act1.click().moveToElement(element).click().build().perform();\r\n\t\t   break;\r\n\t\t}\r\n\t}\r\n````","title":"Not Interactable dropdown menu","body":"<p>I was trying to select any one of the element from the list displaying when click is made on the particular dropdown selection box, but after the elements got listed, I could not select any element from the list.\nI also tried with many familiar options.</p>\n<pre><code>WebElement autocompleteDropdown = driver.findElement(autocompleteSuggestions);\njava.util.List&lt;WebElement&gt; suggestionList = autocompleteDropdown.findElements(By.xpath(&quot;//span//ul[@id='select2-unit_type_id-results']&quot;));\nSystem.out.println(&quot;suggestion list taken&quot;);               \n    for (WebElement element : suggestionList) {         \n        if (element.getText().equals(&quot;1 Bedroom Townhouse&quot;)) {\n           driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n           Actions act1 =  new Actions(driver);\n           act1.click().moveToElement(element).click().build().perform();\n           break;\n        }\n    }\n</code></pre>\n"},{"tags":["java","gradle","groovy"],"comments":[{"owner":{"account_id":911475,"reputation":1477,"user_id":945229,"display_name":"JDL"},"score":1,"creation_date":1486752884,"post_id":37101589,"comment_id":71498249,"body_markdown":"Possible duplicate of [Gradle - Include Properties File](http://stackoverflow.com/questions/11749384/gradle-include-properties-file)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/11749384/gradle-include-properties-file\">Gradle - Include Properties File</a>"}],"answers":[{"comments":[{"owner":{"account_id":1641513,"reputation":1845,"user_id":1513848,"accept_rate":30,"display_name":"unknown"},"score":0,"creation_date":1462727723,"post_id":37101792,"comment_id":61747256,"body_markdown":"I can access the value of projectDir directly in gradle script.Can you please let me know if I have a value in properties file like this renosandbox.dir = $projectDir/../..        and I tried to access this in my gradle script  def Pathdir = props.getProperty(&#39;renosandbox.dir&#39;)    println    &quot;${Pathdir}/${folder}&quot; in my task.Do you think it will expand the value of ProjectDir?","body":"I can access the value of projectDir directly in gradle script.Can you please let me know if I have a value in properties file like this renosandbox.dir = $projectDir/../..        and I tried to access this in my gradle script  def Pathdir = props.getProperty(&#39;renosandbox.dir&#39;)    println    &quot;${Pathdir}/${folder}&quot; in my task.Do you think it will expand the value of ProjectDir?"},{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1462729018,"post_id":37101792,"comment_id":61747648,"body_markdown":"No, it won&#39;t expand it automatically. You would need to prepend your property with `projectDir` like so: `def pathDir = &quot;$projectDir/${props.getProperty(&#39;renosandbox.dir&#39;)}`","body":"No, it won&#39;t expand it automatically. You would need to prepend your property with <code>projectDir</code> like so: <code>def pathDir = &quot;$projectDir&#47;${props.getProperty(&#39;renosandbox.dir&#39;)}</code>"},{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1462729317,"post_id":37101792,"comment_id":61747740,"body_markdown":"@Sushant Take a look at the edit for another way to do what you&#39;re asking.","body":"@Sushant Take a look at the edit for another way to do what you&#39;re asking."},{"owner":{"account_id":1641513,"reputation":1845,"user_id":1513848,"accept_rate":30,"display_name":"unknown"},"score":1,"creation_date":1462734313,"post_id":37101792,"comment_id":61749406,"body_markdown":"Thaks for giving me the right direction and providing me the information of reading the properties file in various ways.","body":"Thaks for giving me the right direction and providing me the information of reading the properties file in various ways."},{"owner":{"account_id":190518,"reputation":480,"user_id":430542,"accept_rate":55,"display_name":"rray"},"score":0,"creation_date":1491924806,"post_id":37101792,"comment_id":73763757,"body_markdown":"Thank you!  This helped me solve what was missing in the gradle.properties file so I could run it from the command line.","body":"Thank you!  This helped me solve what was missing in the gradle.properties file so I could run it from the command line."}],"tags":[],"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"comment_count":5,"down_vote_count":1,"up_vote_count":140,"is_accepted":true,"score":139,"last_activity_date":1517936061,"creation_date":1462722842,"answer_id":37101792,"question_id":37101589,"body_markdown":"If using the default `gradle.properties` file, you can access the properties directly from within your `build.gradle` file:\r\n\r\n`gradle.properties`:\r\n\r\n    applicationName=Admin\r\n    projectName=Hello Cool\r\n\r\n`build.gradle`:\r\n\r\n    task printProps {\r\n        doFirst {\r\n            println applicationName\r\n            println projectName\r\n        }\r\n    }\r\n\r\nIf you need to access a custom file, or access properties which include `.` in them (as it appears you need to do), you can do the following in your `build.gradle` file:\r\n\r\n    def props = new Properties()\r\n    file(&quot;build.properties&quot;).withInputStream { props.load(it) }\r\n\r\n    task printProps {\r\n        doFirst {\r\n            println props.getProperty(&quot;application.name&quot;)\r\n            println props.getProperty(&quot;project.name&quot;)\r\n        }\r\n    }\r\n\r\nTake a look at [this section of the Gradle documentation](https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_properties_and_system_properties) for more information.\r\n\r\n## Edit\r\n\r\nIf you&#39;d like to dynamically set up some of these properties (as mentioned in a comment below), you can create a `properties.gradle` file (the name isn&#39;t important) and require it in your `build.gradle` script.\r\n\r\n`properties.gradle`:\r\n\r\n    ext {\r\n        subPath = &quot;some/sub/directory&quot;\r\n        fullPath = &quot;$projectDir/$subPath&quot;\r\n    }\r\n\r\n`build.gradle`\r\n\r\n    apply from: &#39;properties.gradle&#39;\r\n    \r\n    // prints the full expanded path\r\n    println fullPath","title":"How to read a properties files and use the values in project Gradle script?","body":"<p>If using the default <code>gradle.properties</code> file, you can access the properties directly from within your <code>build.gradle</code> file:</p>\n\n<p><code>gradle.properties</code>:</p>\n\n<pre><code>applicationName=Admin\nprojectName=Hello Cool\n</code></pre>\n\n<p><code>build.gradle</code>:</p>\n\n<pre><code>task printProps {\n    doFirst {\n        println applicationName\n        println projectName\n    }\n}\n</code></pre>\n\n<p>If you need to access a custom file, or access properties which include <code>.</code> in them (as it appears you need to do), you can do the following in your <code>build.gradle</code> file:</p>\n\n<pre><code>def props = new Properties()\nfile(\"build.properties\").withInputStream { props.load(it) }\n\ntask printProps {\n    doFirst {\n        println props.getProperty(\"application.name\")\n        println props.getProperty(\"project.name\")\n    }\n}\n</code></pre>\n\n<p>Take a look at <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_properties_and_system_properties\" rel=\"noreferrer\">this section of the Gradle documentation</a> for more information.</p>\n\n<h2>Edit</h2>\n\n<p>If you'd like to dynamically set up some of these properties (as mentioned in a comment below), you can create a <code>properties.gradle</code> file (the name isn't important) and require it in your <code>build.gradle</code> script.</p>\n\n<p><code>properties.gradle</code>:</p>\n\n<pre><code>ext {\n    subPath = \"some/sub/directory\"\n    fullPath = \"$projectDir/$subPath\"\n}\n</code></pre>\n\n<p><code>build.gradle</code></p>\n\n<pre><code>apply from: 'properties.gradle'\n\n// prints the full expanded path\nprintln fullPath\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375630,"reputation":30614,"user_id":2815219,"display_name":"Raman Sahasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1565250412,"creation_date":1536151041,"answer_id":52185324,"question_id":37101589,"body_markdown":"We can use a separate file (`config.groovy` in my case) to abstract out all the configuration. \r\n\r\nIn this example, we&#39;re using three environments viz.,   \r\n\r\n 1. _dev_  \r\n 2. _test_  \r\n 3. _prod_\r\n\r\nwhich has properties *serverName*, *serverPort* and *resources*. **Here we&#39;re expecting that the third property *resources* may be same in multiple environments** and so we&#39;ve abstracted out that logic and overridden in the specific environment wherever necessary:\r\n\r\n**`config.groovy`**\r\n-------------------\r\n\r\n    resources {\r\n        serverName = &#39;localhost&#39;\r\n        serverPort = &#39;8090&#39;\r\n    }\r\n     \r\n    environments {\r\n        dev {\r\n            serverName = &#39;http://localhost&#39;   \r\n    \t\tserverPort = &#39;8080&#39;\r\n        }\r\n         \r\n        test {\r\n            serverName = &#39;http://www.testserver.com&#39;\r\n    \t\tserverPort = &#39;5211&#39;\r\n            resources {\r\n                serverName = &#39;resources.testserver.com&#39;\r\n            }\r\n        }\r\n         \r\n        prod {\r\n            serverName = &#39;http://www.productionserver.com&#39;\r\n    \t\tserverPort = &#39;80&#39;\r\n            resources {\r\n    \t\t\tserverName = &#39;resources.productionserver.com&#39;\r\n    \t\t\tserverPort = &#39;80&#39;\r\n            }\r\n        }\r\n    }\r\n\r\nOnce the properties file is ready, we can use the following in `build.gradle` to load these settings:\r\n\r\n**`build.gradle`**\r\n------------------\r\n\r\n    loadProperties()\r\n      \r\n    def loadProperties() {\r\n        def environment = hasProperty(&#39;env&#39;) ? env : &#39;dev&#39;\r\n        println &quot;Current Environment: &quot; + environment\r\n         \r\n        def configFile = file(&#39;config.groovy&#39;)\r\n        def config = new ConfigSlurper(environment).parse(configFile.toURL())\r\n        project.ext.config = config\r\n    }\r\n    \r\n    task printProperties {\r\n        println &quot;serverName:  $config.serverName&quot;\r\n        println &quot;serverPort:  $config.serverPort&quot;\r\n        println &quot;resources.serverName:  $config.resources.serverName&quot;\r\n        println &quot;resources.serverPort:  $config.resources.serverPort&quot;\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nLet&#39;s run these with different set of inputs:\r\n\r\n 1. `gradle -q printProperties`\r\n    \r\n        Current Environment: dev\r\n        serverName:  http://localhost\r\n        serverPort:  8080\r\n        resources.serverName:  localhost\r\n        resources.serverPort:  8090\r\n 2. `gradle -q -Penv=dev printProperties`\r\n    \r\n        Current Environment: dev\r\n        serverName:  http://localhost\r\n        serverPort:  8080\r\n        resources.serverName:  localhost\r\n        resources.serverPort:  8090\r\n 3. `gradle -q -Penv=test printProperties`\r\n    \r\n        Current Environment: test\r\n        serverName:  http://www.testserver.com\r\n        serverPort:  5211\r\n        resources.serverName:  resources.testserver.com\r\n        resources.serverPort:  8090\r\n 4. `gradle -q -Penv=prod printProperties`\r\n    \r\n        Current Environment: prod\r\n        serverName:  http://www.productionserver.com\r\n        serverPort:  80\r\n        resources.serverName:  resources.productionserver.com\r\n        resources.serverPort:  80\r\n\r\n","title":"How to read a properties files and use the values in project Gradle script?","body":"<p>We can use a separate file (<code>config.groovy</code> in my case) to abstract out all the configuration. </p>\n\n<p>In this example, we're using three environments viz.,   </p>\n\n<ol>\n<li><em>dev</em>  </li>\n<li><em>test</em>  </li>\n<li><em>prod</em></li>\n</ol>\n\n<p>which has properties <em>serverName</em>, <em>serverPort</em> and <em>resources</em>. <strong>Here we're expecting that the third property <em>resources</em> may be same in multiple environments</strong> and so we've abstracted out that logic and overridden in the specific environment wherever necessary:</p>\n\n<h2><strong><code>config.groovy</code></strong></h2>\n\n<pre><code>resources {\n    serverName = 'localhost'\n    serverPort = '8090'\n}\n\nenvironments {\n    dev {\n        serverName = 'http://localhost'   \n        serverPort = '8080'\n    }\n\n    test {\n        serverName = 'http://www.testserver.com'\n        serverPort = '5211'\n        resources {\n            serverName = 'resources.testserver.com'\n        }\n    }\n\n    prod {\n        serverName = 'http://www.productionserver.com'\n        serverPort = '80'\n        resources {\n            serverName = 'resources.productionserver.com'\n            serverPort = '80'\n        }\n    }\n}\n</code></pre>\n\n<p>Once the properties file is ready, we can use the following in <code>build.gradle</code> to load these settings:</p>\n\n<h2><strong><code>build.gradle</code></strong></h2>\n\n<pre><code>loadProperties()\n\ndef loadProperties() {\n    def environment = hasProperty('env') ? env : 'dev'\n    println \"Current Environment: \" + environment\n\n    def configFile = file('config.groovy')\n    def config = new ConfigSlurper(environment).parse(configFile.toURL())\n    project.ext.config = config\n}\n\ntask printProperties {\n    println \"serverName:  $config.serverName\"\n    println \"serverPort:  $config.serverPort\"\n    println \"resources.serverName:  $config.resources.serverName\"\n    println \"resources.serverPort:  $config.resources.serverPort\"\n}\n</code></pre>\n\n<hr>\n\n<p>Let's run these with different set of inputs:</p>\n\n<ol>\n<li><p><code>gradle -q printProperties</code></p>\n\n<pre><code>Current Environment: dev\nserverName:  http://localhost\nserverPort:  8080\nresources.serverName:  localhost\nresources.serverPort:  8090\n</code></pre></li>\n<li><p><code>gradle -q -Penv=dev printProperties</code></p>\n\n<pre><code>Current Environment: dev\nserverName:  http://localhost\nserverPort:  8080\nresources.serverName:  localhost\nresources.serverPort:  8090\n</code></pre></li>\n<li><p><code>gradle -q -Penv=test printProperties</code></p>\n\n<pre><code>Current Environment: test\nserverName:  http://www.testserver.com\nserverPort:  5211\nresources.serverName:  resources.testserver.com\nresources.serverPort:  8090\n</code></pre></li>\n<li><p><code>gradle -q -Penv=prod printProperties</code></p>\n\n<pre><code>Current Environment: prod\nserverName:  http://www.productionserver.com\nserverPort:  80\nresources.serverName:  resources.productionserver.com\nresources.serverPort:  80\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2753369,"reputation":347,"user_id":2372187,"display_name":"Lucas Moyano Angelini"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545048090,"creation_date":1540727886,"answer_id":53031259,"question_id":37101589,"body_markdown":"Another way... in build.gradle:\r\n\r\nAdd :\r\n\r\n    classpath &#39;org.flywaydb:flyway-gradle-plugin:3.1&#39;\r\n\r\nAnd this :\r\n\r\n    def props = new Properties()\r\n    file(&quot;src/main/resources/application.properties&quot;).withInputStream { props.load(it) }\r\n    apply plugin: &#39;flyway&#39;\r\n    flyway {\r\n        url = props.getProperty(&quot;spring.datasource.url&quot;)\r\n        user = props.getProperty(&quot;spring.datasource.username&quot;)\r\n        password = props.getProperty(&quot;spring.datasource.password&quot;)\r\n        schemas = [&#39;db_example&#39;]\r\n    }\r\n\r\n","title":"How to read a properties files and use the values in project Gradle script?","body":"<p>Another way... in build.gradle:</p>\n\n<p>Add :</p>\n\n<pre><code>classpath 'org.flywaydb:flyway-gradle-plugin:3.1'\n</code></pre>\n\n<p>And this :</p>\n\n<pre><code>def props = new Properties()\nfile(\"src/main/resources/application.properties\").withInputStream { props.load(it) }\napply plugin: 'flyway'\nflyway {\n    url = props.getProperty(\"spring.datasource.url\")\n    user = props.getProperty(\"spring.datasource.username\")\n    password = props.getProperty(\"spring.datasource.password\")\n    schemas = ['db_example']\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699963107,"creation_date":1650432258,"answer_id":71934506,"question_id":37101589,"body_markdown":"This is for [Kotlin DSL][1] (build.gradle.**kts**):\r\n\r\n\r\n```kotlin\r\nimport java.util.*\r\n// ...\r\n\r\nval properties = Properties().apply {\r\n    load(rootProject.file(&quot;my-local.properties&quot;).reader())\r\n}\r\nval prop = properties[&quot;myPropName&quot;]\r\n```\r\n\r\nIn Android projects (when applying the android plugin) you can also do this:\r\n\r\n```kotlin\r\nimport com.android.build.gradle.internal.cxx.configure.gradleLocalProperties\r\n// ...\r\n\r\nval properties = gradleLocalProperties(rootDir)\r\nval prop = properties[&quot;propName&quot;]\r\n```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/kotlin_dsl.html","title":"How to read a properties files and use the values in project Gradle script?","body":"<p>This is for <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"nofollow noreferrer\">Kotlin DSL</a> (build.gradle.<strong>kts</strong>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.util.*\n// ...\n\nval properties = Properties().apply {\n    load(rootProject.file(&quot;my-local.properties&quot;).reader())\n}\nval prop = properties[&quot;myPropName&quot;]\n</code></pre>\n<p>In Android projects (when applying the android plugin) you can also do this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import com.android.build.gradle.internal.cxx.configure.gradleLocalProperties\n// ...\n\nval properties = gradleLocalProperties(rootDir)\nval prop = properties[&quot;propName&quot;]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2121424,"reputation":71,"user_id":1884578,"display_name":"asteiner"},"score":0,"creation_date":1694788014,"post_id":73639160,"comment_id":135941355,"body_markdown":"I did a double-take and started to check the documentation when I saw that you passed a &quot;.properties&quot; file into `apply from`, but I realize now that your &quot;properties&quot; file is really a &quot;.gradle&quot; file.  I recommend you change that file&#39;s extension to &quot;.gradle&quot; to properly convey it&#39;s format and use to you and your team.","body":"I did a double-take and started to check the documentation when I saw that you passed a &quot;.properties&quot; file into <code>apply from</code>, but I realize now that your &quot;properties&quot; file is really a &quot;.gradle&quot; file.  I recommend you change that file&#39;s extension to &quot;.gradle&quot; to properly convey it&#39;s format and use to you and your team."}],"tags":[],"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662569626,"creation_date":1662569626,"answer_id":73639160,"question_id":37101589,"body_markdown":"Just had this issue come up today.  We found the following worked both locally and in our pipeline:\r\n\r\nIn build.gradle:\r\n\r\n    try {\r\n      apply from: &#39;path/name_of_external_props_file.properties&#39;\r\n    } catch (Exception e) {}\r\n\r\nThis way when an external props file which shouldn&#39;t get committed to Git or whatever (as in our case) you are using is not found in the pipeline, this &#39;apply from:&#39; won&#39;t throw an error in it.  In our use case we have a file with a userid and password that should not get committed to Git.  Aside from the problem of file-reading: we found that the variables we had declared in the external file, maven_user and maven_pass, had in fact to be declared in gradle.properties.  That is they simply needed to be mentioned as in:\r\n\r\n    projectName=Some_project_name\r\n    version=1.x.y\r\n    maven_user=\r\n    maven_pass=\r\n\r\nWe also found that in the external file we had to put single-quotes around these values too or Gradle got confused.  So the external file looked like this:\r\n\r\n    maven_user=&#39;abc123&#39;\r\n    maven_pass=&#39;fghifh7435bvibry9y99ghhrhg9539y5398&#39;\r\n\r\ninstead of this:\r\n\r\n    maven_user=abc123\r\n    maven_pass=fghifh7435bvibry9y99ghhrhg9539y5398\r\n\r\nThat&#39;s all we had to do and we were fine.  I hope this may help others.","title":"How to read a properties files and use the values in project Gradle script?","body":"<p>Just had this issue come up today.  We found the following worked both locally and in our pipeline:</p>\n<p>In build.gradle:</p>\n<pre><code>try {\n  apply from: 'path/name_of_external_props_file.properties'\n} catch (Exception e) {}\n</code></pre>\n<p>This way when an external props file which shouldn't get committed to Git or whatever (as in our case) you are using is not found in the pipeline, this 'apply from:' won't throw an error in it.  In our use case we have a file with a userid and password that should not get committed to Git.  Aside from the problem of file-reading: we found that the variables we had declared in the external file, maven_user and maven_pass, had in fact to be declared in gradle.properties.  That is they simply needed to be mentioned as in:</p>\n<pre><code>projectName=Some_project_name\nversion=1.x.y\nmaven_user=\nmaven_pass=\n</code></pre>\n<p>We also found that in the external file we had to put single-quotes around these values too or Gradle got confused.  So the external file looked like this:</p>\n<pre><code>maven_user='abc123'\nmaven_pass='fghifh7435bvibry9y99ghhrhg9539y5398'\n</code></pre>\n<p>instead of this:</p>\n<pre><code>maven_user=abc123\nmaven_pass=fghifh7435bvibry9y99ghhrhg9539y5398\n</code></pre>\n<p>That's all we had to do and we were fine.  I hope this may help others.</p>\n"}],"owner":{"account_id":1641513,"reputation":1845,"user_id":1513848,"accept_rate":30,"display_name":"unknown"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160299,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":37101792,"answer_count":5,"score":83,"last_activity_date":1699963107,"creation_date":1462721670,"question_id":37101589,"body_markdown":"I am working on a Gradle script where I need to read the `local.properties` file and use the values in the properties file in `build.gradle`. I am doing it in the below manner. I ran the below script and it is now throwing an error, but it is also not doing anything like creating, deleting, and copying the file. I tried to print the value of the variable and it is showing the correct value.\r\n\r\nCan someone let me know if this is the correct way to do this? I think the other way is to define everything in the `gradle.properties` and use it in the `build.gradle`. Can someone let me know how could I access the properties in `build.gradle` from `build.properties`?\r\n\r\n\r\n`build.gradle` file:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    // Set the group for publishing\r\n    group = &#39;com.true.test&#39;\r\n    \r\n    /**\r\n     * Initializing GAVC settings\r\n     */\r\n    def buildProperties = new Properties()\r\n    file(&quot;version.properties&quot;).withInputStream {\r\n            stream -&gt; buildProperties.load(stream)\r\n    }\r\n    // If jenkins build, add the jenkins build version to the version. Else add snapshot version to the version.\r\n    def env = System.getenv()\r\n    if (env[&quot;BUILD_NUMBER&quot;]) buildProperties.test+= &quot;.${env[&quot;BUILD_NUMBER&quot;]}&quot;\r\n    version = buildProperties.test\r\n    println &quot;${version}&quot;\r\n    \r\n    // Name is set in the settings.gradle file\r\n    group = &quot;com.true.test&quot;\r\n    version = buildProperties.test\r\n    println &quot;Building ${project.group}:${project.name}:${project.version}&quot;\r\n    \r\n    Properties properties = new Properties()\r\n    properties.load(project.file(&#39;build.properties&#39;).newDataInputStream())\r\n    def folderDir = properties.getProperty(&#39;build.dir&#39;)\r\n    def configDir = properties.getProperty(&#39;config.dir&#39;)\r\n    def baseDir  = properties.getProperty(&#39;base.dir&#39;)\r\n    def logDir  = properties.getProperty(&#39;log.dir&#39;)\r\n    def deployDir  = properties.getProperty(&#39;deploy.dir&#39;)\r\n    def testsDir  = properties.getProperty(&#39;tests.dir&#39;)\r\n    def packageDir  = properties.getProperty(&#39;package.dir&#39;)\r\n    def wrapperDir  = properties.getProperty(&#39;wrapper.dir&#39;)\r\n    \r\n    \r\n    sourceCompatibility = 1.7\r\n    compileJava.options.encoding = &#39;UTF-8&#39;\r\n    \r\n    repositories {\r\n         maven { url &quot;http://arti.oven.c:9000/release&quot; }\r\n      }\r\n    \r\n    task swipe(type: Delete) {\r\n             println &quot;Delete $projectDir/${folderDir}&quot;\r\n             delete &quot;$projectDir/$folderDir&quot;\r\n    \t     delete &quot;$projectDir/$logDir&quot;\r\n             delete &quot;$projectDir/$deployDir&quot;\r\n    \t     delete &quot;$projectDir/$packageDir&quot;\r\n    \t     delete &quot;$projectDir/$testsDir&quot;\r\n    \t     mkdir(&quot;$projectDir/${folderDir}&quot;)\r\n    \t     mkdir(&quot;projectDir/${logDir}&quot;)\r\n    \t     mkdir(&quot;projectDir/${deployDir}&quot;)\r\n    \t     mkdir(&quot;projectDir/${packageDir}&quot;)\r\n    \t     mkdir(&quot;projectDir/${testsDir}&quot;)\r\n    }\r\n    task prepConfigs(type: Copy, overwrite:true, dependsOn: swipe) {\r\n        println &quot;The name of ${projectDir}/${folderDir} and ${projectDir}/${configDir}&quot;\r\n        from(&#39;${projectDir}/${folderDir}&#39;)\r\n        into(&#39;${projectDir}/$configDir}&#39;)\r\n        include(&#39;*.xml&#39;)\r\n    }\r\n\r\n\r\n\r\n`build.properties` file:\r\n\r\n    # -----------------------------------------------------------------\r\n    # General Settings\r\n    # -----------------------------------------------------------------\r\n    application.name  = Admin\r\n    project.name = Hello Cool\r\n    \r\n    # -----------------------------------------------------------------\r\n    # ant build directories\r\n    # -----------------------------------------------------------------\r\n    sandbox.dir = ${projectDir}/../..\r\n    reno.root.dir=${sandbox.dir}/Reno\r\n    ant.dir = ${projectDir}/ant\r\n    build.dir = ${ant.dir}/build\r\n    log.dir  = ${ant.dir}/logs\r\n    config.dir = ${ant.dir}/configs\r\n    deploy.dir  = ${ant.dir}/deploy\r\n    static.dir =  ${ant.dir}/static\r\n    package.dir = ${ant.dir}/package\r\n    tests.dir = ${ant.dir}/tests\r\n    tests.logs.dir = ${tests.dir}/logs\r\n    external.dir = ${sandbox.dir}/FlexCommon/External\r\n    external.lib.dir = ${external.dir}/libs\r\n","title":"How to read a properties files and use the values in project Gradle script?","body":"<p>I am working on a Gradle script where I need to read the <code>local.properties</code> file and use the values in the properties file in <code>build.gradle</code>. I am doing it in the below manner. I ran the below script and it is now throwing an error, but it is also not doing anything like creating, deleting, and copying the file. I tried to print the value of the variable and it is showing the correct value.</p>\n<p>Can someone let me know if this is the correct way to do this? I think the other way is to define everything in the <code>gradle.properties</code> and use it in the <code>build.gradle</code>. Can someone let me know how could I access the properties in <code>build.gradle</code> from <code>build.properties</code>?</p>\n<p><code>build.gradle</code> file:</p>\n<pre><code>apply plugin: 'java'\n\n// Set the group for publishing\ngroup = 'com.true.test'\n\n/**\n * Initializing GAVC settings\n */\ndef buildProperties = new Properties()\nfile(&quot;version.properties&quot;).withInputStream {\n        stream -&gt; buildProperties.load(stream)\n}\n// If jenkins build, add the jenkins build version to the version. Else add snapshot version to the version.\ndef env = System.getenv()\nif (env[&quot;BUILD_NUMBER&quot;]) buildProperties.test+= &quot;.${env[&quot;BUILD_NUMBER&quot;]}&quot;\nversion = buildProperties.test\nprintln &quot;${version}&quot;\n\n// Name is set in the settings.gradle file\ngroup = &quot;com.true.test&quot;\nversion = buildProperties.test\nprintln &quot;Building ${project.group}:${project.name}:${project.version}&quot;\n\nProperties properties = new Properties()\nproperties.load(project.file('build.properties').newDataInputStream())\ndef folderDir = properties.getProperty('build.dir')\ndef configDir = properties.getProperty('config.dir')\ndef baseDir  = properties.getProperty('base.dir')\ndef logDir  = properties.getProperty('log.dir')\ndef deployDir  = properties.getProperty('deploy.dir')\ndef testsDir  = properties.getProperty('tests.dir')\ndef packageDir  = properties.getProperty('package.dir')\ndef wrapperDir  = properties.getProperty('wrapper.dir')\n\n\nsourceCompatibility = 1.7\ncompileJava.options.encoding = 'UTF-8'\n\nrepositories {\n     maven { url &quot;http://arti.oven.c:9000/release&quot; }\n  }\n\ntask swipe(type: Delete) {\n         println &quot;Delete $projectDir/${folderDir}&quot;\n         delete &quot;$projectDir/$folderDir&quot;\n         delete &quot;$projectDir/$logDir&quot;\n         delete &quot;$projectDir/$deployDir&quot;\n         delete &quot;$projectDir/$packageDir&quot;\n         delete &quot;$projectDir/$testsDir&quot;\n         mkdir(&quot;$projectDir/${folderDir}&quot;)\n         mkdir(&quot;projectDir/${logDir}&quot;)\n         mkdir(&quot;projectDir/${deployDir}&quot;)\n         mkdir(&quot;projectDir/${packageDir}&quot;)\n         mkdir(&quot;projectDir/${testsDir}&quot;)\n}\ntask prepConfigs(type: Copy, overwrite:true, dependsOn: swipe) {\n    println &quot;The name of ${projectDir}/${folderDir} and ${projectDir}/${configDir}&quot;\n    from('${projectDir}/${folderDir}')\n    into('${projectDir}/$configDir}')\n    include('*.xml')\n}\n</code></pre>\n<p><code>build.properties</code> file:</p>\n<pre><code># -----------------------------------------------------------------\n# General Settings\n# -----------------------------------------------------------------\napplication.name  = Admin\nproject.name = Hello Cool\n\n# -----------------------------------------------------------------\n# ant build directories\n# -----------------------------------------------------------------\nsandbox.dir = ${projectDir}/../..\nreno.root.dir=${sandbox.dir}/Reno\nant.dir = ${projectDir}/ant\nbuild.dir = ${ant.dir}/build\nlog.dir  = ${ant.dir}/logs\nconfig.dir = ${ant.dir}/configs\ndeploy.dir  = ${ant.dir}/deploy\nstatic.dir =  ${ant.dir}/static\npackage.dir = ${ant.dir}/package\ntests.dir = ${ant.dir}/tests\ntests.logs.dir = ${tests.dir}/logs\nexternal.dir = ${sandbox.dir}/FlexCommon/External\nexternal.lib.dir = ${external.dir}/libs\n</code></pre>\n"},{"tags":["java","enums","enumset","enum-map"],"comments":[{"owner":{"account_id":1626752,"reputation":9002,"user_id":1502148,"accept_rate":25,"display_name":"G&#225;bor Bakos"},"score":0,"creation_date":1420034790,"post_id":27722150,"comment_id":43856135,"body_markdown":"When you want named &quot;flag&quot;s, you need `EnumSet` (much better in readability than using `int`s and bit-magic for example). When you want to assign values or defaults/functions to enum values, you need `EnumMap`.","body":"When you want named &quot;flag&quot;s, you need <code>EnumSet</code> (much better in readability than using <code>int</code>s and bit-magic for example). When you want to assign values or defaults/functions to enum values, you need <code>EnumMap</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1420035100,"post_id":27722150,"comment_id":43856242,"body_markdown":"Your question is not crystal clear. Do you want to know about scenarios where EnumMap and EnumSet is preferred over HashMap and HashSet, or are you asking when should you use EnumMap and when EnumSet (lets say because you are confusing them)?","body":"Your question is not crystal clear. Do you want to know about scenarios where EnumMap and EnumSet is preferred over HashMap and HashSet, or are you asking when should you use EnumMap and when EnumSet (lets say because you are confusing them)?"},{"owner":{"account_id":157763,"reputation":1574,"user_id":375941,"accept_rate":88,"display_name":"mvg"},"score":0,"creation_date":1420035180,"post_id":27722150,"comment_id":43856276,"body_markdown":"I just want to know, why or when we need a collection(Map and Set) for an enum.  Sorry if my question is confusing.","body":"I just want to know, why or when we need a collection(Map and Set) for an enum.  Sorry if my question is confusing."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1420035414,"post_id":27722150,"comment_id":43856360,"body_markdown":"Since EnumMap and EnumSet are better, you can use it whenever you can.","body":"Since EnumMap and EnumSet are better, you can use it whenever you can."},{"owner":{"account_id":157763,"reputation":1574,"user_id":375941,"accept_rate":88,"display_name":"mvg"},"score":0,"creation_date":1420035495,"post_id":27722150,"comment_id":43856383,"body_markdown":"My question is Why we need a Set or Map for Enum?","body":"My question is Why we need a Set or Map for Enum?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1420035512,"post_id":27722150,"comment_id":43856394,"body_markdown":"...It&#39;s not clear what you mean.  Do you understand when you want maps and sets in general?  It&#39;s just those cases, except when the values are enums...","body":"...It&#39;s not clear what you mean.  Do you understand when you want maps and sets in general?  It&#39;s just those cases, except when the values are enums..."},{"owner":{"account_id":157763,"reputation":1574,"user_id":375941,"accept_rate":88,"display_name":"mvg"},"score":0,"creation_date":1420035753,"post_id":27722150,"comment_id":43856480,"body_markdown":"I understand Maps and Sets in general.  We can use it to collect data whose size and values are unknown mostly at the compile time.  But enum values are predefined at the time of its creation.  So why we need a collection for that?","body":"I understand Maps and Sets in general.  We can use it to collect data whose size and values are unknown mostly at the compile time.  But enum values are predefined at the time of its creation.  So why we need a collection for that?"},{"owner":{"account_id":1626752,"reputation":9002,"user_id":1502148,"accept_rate":25,"display_name":"G&#225;bor Bakos"},"score":0,"creation_date":1420036036,"post_id":27722150,"comment_id":43856591,"body_markdown":"You can intersect the `EnumSet`s, or add new values to it, so those are not constants. Similarly you can assign new values to existing keys to `EnumMap`s, or add, remove key/value pairs.","body":"You can intersect the <code>EnumSet</code>s, or add new values to it, so those are not constants. Similarly you can assign new values to existing keys to <code>EnumMap</code>s, or add, remove key/value pairs."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1420039501,"post_id":27722150,"comment_id":43857813,"body_markdown":"@mvg: You know all the possible enum values at compile time, but you don&#39;t necessarily know which combination of them you&#39;ll want to use at runtime.  Perhaps they&#39;re a subset of the possible enum values being read from a configuration file, or you&#39;re manipulating a subset of the days of the week.","body":"@mvg: You know all the possible enum values at compile time, but you don&#39;t necessarily know which combination of them you&#39;ll want to use at runtime.  Perhaps they&#39;re a subset of the possible enum values being read from a configuration file, or you&#39;re manipulating a subset of the days of the week."}],"answers":[{"comments":[{"owner":{"account_id":157763,"reputation":1574,"user_id":375941,"accept_rate":88,"display_name":"mvg"},"score":0,"creation_date":1420035897,"post_id":27722210,"comment_id":43856535,"body_markdown":"I understand Enum is a collection of constants and you say that EnumSet is part of that collection - a subcollection.  Correct?","body":"I understand Enum is a collection of constants and you say that EnumSet is part of that collection - a subcollection.  Correct?"},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1420035977,"post_id":27722210,"comment_id":43856560,"body_markdown":"Yes it extends [AbstractSet](http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html)","body":"Yes it extends <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html\" rel=\"nofollow noreferrer\">AbstractSet</a>"}],"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1420035613,"creation_date":1420034666,"answer_id":27722210,"question_id":27722150,"body_markdown":"Consider a scenario where you are defining flyweight for each shape object like:\r\n\r\n    public enum SHAPE {\r\n        TRIANGLE, RECTANGLE, SQUARE, HEXAGON;\r\n    }\r\n\r\nAnd let&#39;s assume object creation for all these shapes everytime is huge. Say it goes into DB and fetches some data say in constructor. What you do?\r\n\r\nYou save it in a map using enum key and value as one time object and then using enum, you say try and call something like:\r\n\r\n    public double calculateArea(SHAPE shape) {\r\n        Figure figure = map.get(shape);//you dont create object but take it from a map\r\n        return figure.calculate();\r\n    }\r\n\r\nFor EnumSet, consider you have enum with basic colors like:\r\n\r\n    enum COLORS {\r\n        RED, BLUE, GREEN\r\n    }\r\n\r\nNow if i want to create say YELLOW Color and wish to know the INGREDIENTS for the same, i could use EnumSet with two Colors like GREEN and RED. Similarly, i could store multiple set with variations as per my color requirements.\r\n\r\nThis is just for example purpose, but you could even add count to make it more complex to say how much of RED, BLUE, GREEN pixel variation you need.","title":"What are the practical scenarios do we need EnumSet and EnumMap?","body":"<p>Consider a scenario where you are defining flyweight for each shape object like:</p>\n\n<pre><code>public enum SHAPE {\n    TRIANGLE, RECTANGLE, SQUARE, HEXAGON;\n}\n</code></pre>\n\n<p>And let's assume object creation for all these shapes everytime is huge. Say it goes into DB and fetches some data say in constructor. What you do?</p>\n\n<p>You save it in a map using enum key and value as one time object and then using enum, you say try and call something like:</p>\n\n<pre><code>public double calculateArea(SHAPE shape) {\n    Figure figure = map.get(shape);//you dont create object but take it from a map\n    return figure.calculate();\n}\n</code></pre>\n\n<p>For EnumSet, consider you have enum with basic colors like:</p>\n\n<pre><code>enum COLORS {\n    RED, BLUE, GREEN\n}\n</code></pre>\n\n<p>Now if i want to create say YELLOW Color and wish to know the INGREDIENTS for the same, i could use EnumSet with two Colors like GREEN and RED. Similarly, i could store multiple set with variations as per my color requirements.</p>\n\n<p>This is just for example purpose, but you could even add count to make it more complex to say how much of RED, BLUE, GREEN pixel variation you need.</p>\n"}],"owner":{"account_id":157763,"reputation":1574,"user_id":375941,"accept_rate":88,"display_name":"mvg"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27722210,"answer_count":1,"score":0,"last_activity_date":1699961601,"creation_date":1420034327,"question_id":27722150,"body_markdown":"I am new to Enum.  While I am learning Enum, I came across EnumSet and EnumMap.  I understand that when dealing with map and set using EnumSet and EnumMap is much better than the hashing counterparts from this question.\r\n\r\n[https://stackoverflow.com/questions/14536665/why-an-enumset-or-an-enummap-is-likely-to-be-more-performant-than-their-hashed-c][1]\r\n\r\nMy question is\r\n\r\nIn what scenarios do we need Map and Set for Enum in Java?\r\n\r\nI am more interested in knowing practical scenarios.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14536665/why-an-enumset-or-an-enummap-is-likely-to-be-more-performant-than-their-hashed-c","title":"What are the practical scenarios do we need EnumSet and EnumMap?","body":"<p>I am new to Enum.  While I am learning Enum, I came across EnumSet and EnumMap.  I understand that when dealing with map and set using EnumSet and EnumMap is much better than the hashing counterparts from this question.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/14536665/why-an-enumset-or-an-enummap-is-likely-to-be-more-performant-than-their-hashed-c\">Why an EnumSet or an EnumMap is likely to be more performant than their hashed counterparts?</a></p>\n\n<p>My question is</p>\n\n<p>In what scenarios do we need Map and Set for Enum in Java?</p>\n\n<p>I am more interested in knowing practical scenarios.</p>\n"},{"tags":["java","groovy","scriptrunner-for-jira"],"answers":[{"tags":[],"owner":{"account_id":9082966,"reputation":61,"user_id":6762138,"display_name":"mibemerami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699960731,"creation_date":1699960731,"answer_id":77480183,"question_id":77441891,"body_markdown":"For those interested, a colleague of mine pointed out a solution:\r\n\r\nFirst get the class with a classloader (not an instance of the class). \r\nIt&#39;s important, that it&#39;s not an instance, because I need to call a new instance within a loop, in each iteration.\r\n\r\n    Class SimplePagedRequestClass = ComponentAccessor.getPluginAccessor().getClassLoader().findClass(&quot;com.atlassian.servicedesk.api.util.paging.SimplePagedRequest&quot;)\r\n\r\nThis class has a static method, that returns an instance of the class, it&#39;s called &quot;.paged()&quot; (if it did&#39;t, it would probably also have worked with newInstance()).\r\n\r\n    organizationService.newOrganizationsQueryBuilder().serviceDeskId().pagedRequest(SimplePagedRequestClass.paged(startRequest, 50)).build()\r\n\r\n\r\nThat&#39;s it. \r\n\r\nI&#39;m not sure it it would have worked out in Java as well, but here we are working with Groovy.\r\n ","title":"Workaround if import is not known in execution environment, but that type is needed as parameter","body":"<p>For those interested, a colleague of mine pointed out a solution:</p>\n<p>First get the class with a classloader (not an instance of the class).\nIt's important, that it's not an instance, because I need to call a new instance within a loop, in each iteration.</p>\n<pre><code>Class SimplePagedRequestClass = ComponentAccessor.getPluginAccessor().getClassLoader().findClass(&quot;com.atlassian.servicedesk.api.util.paging.SimplePagedRequest&quot;)\n</code></pre>\n<p>This class has a static method, that returns an instance of the class, it's called &quot;.paged()&quot; (if it did't, it would probably also have worked with newInstance()).</p>\n<pre><code>organizationService.newOrganizationsQueryBuilder().serviceDeskId().pagedRequest(SimplePagedRequestClass.paged(startRequest, 50)).build()\n</code></pre>\n<p>That's it.</p>\n<p>I'm not sure it it would have worked out in Java as well, but here we are working with Groovy.</p>\n"}],"owner":{"account_id":9082966,"reputation":61,"user_id":6762138,"display_name":"mibemerami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699960731,"creation_date":1699396921,"question_id":77441891,"body_markdown":"I have this line in Groovy:\r\n`organizationsQuery = organizationService.newOrganizationsQueryBuilder().serviceDeskId().pagedRequest(new SimplePagedRequest(startRequest,50)).build()`\r\nSince in the execution environment I cannot import the SimplePageRequest, what can I do as a workaround?\r\n\r\nCan I use an anonymous class, or a class loader?\r\n\r\nI can get the OrganizationService with a workaround, and thus I can get the OrganizationsQueryBuilder. But the OrganizationsQueryBuilder expects a SimplePagedRequest as parameter, and to provide that it seems I have to import it, which I can&#39;t. \r\n\r\nThe class documentation:\r\n[https://docs.atlassian.com/jira-servicedesk/4.4.2/com/atlassian/servicedesk/api/organization/OrganizationService.html](OrganizationService)\r\n[https://docs.atlassian.com/jira-servicedesk/4.4.2/com/atlassian/servicedesk/api/organization/OrganizationsQuery.Builder.html](OrganizationsQuery.Builder)\r\n[https://docs.atlassian.com/jira-servicedesk/4.4.2/com/atlassian/servicedesk/api/util/paging/PagedRequest.html](PagedRequest)\r\n[https://docs.atlassian.com/jira-servicedesk/4.4.2/com/atlassian/servicedesk/api/util/paging/SimplePagedRequest.html](SimplePagedRequest)\r\n\r\nBackground:\r\nThe line is part of an Insight automation script (or Assets as it is called now) in Jira Datacenter. I try to get a list of all organizations, but it seems like I can only get them via a paged response.  \r\nIn this environment I have only limited access to Jiras libraries, for example the import of the SimplePagedRequest cannot be resolved, and causes an error:  \r\n`import com.atlassian.servicedesk.api.util.paging.SimplePagedRequest; `\r\n\r\nMy hope is, that I have overlooked something basic, and there is a simple solution. \r\nAnyway, all help is appreciated.\r\n\r\n\r\nSo far I googled it, and I have read the documentation, trying to find a way to use the OrganizationsQueryBuilder without the paged response, or to find a different way to get all organizations. \r\nI have tried to call the OrganizationsQueryBuilder with an anonymous class like this (which is an adopted example):\r\n\r\n```\r\norganizationsQuery = organizationService.newOrganizationsQueryBuilder().serviceDeskId().pagedRequest(new SimplePagedRequest(startRequest, 50) {\r\n    int getStart() {\r\n        return startRequest\r\n    }\r\n    \r\n    int getLimit() {\r\n        return 50\r\n    }\r\n}).build()\r\n```\r\nBut then I also had to import the SimplePagedRequest.\r\n","title":"Workaround if import is not known in execution environment, but that type is needed as parameter","body":"<p>I have this line in Groovy:\n<code>organizationsQuery = organizationService.newOrganizationsQueryBuilder().serviceDeskId().pagedRequest(new SimplePagedRequest(startRequest,50)).build()</code>\nSince in the execution environment I cannot import the SimplePageRequest, what can I do as a workaround?</p>\n<p>Can I use an anonymous class, or a class loader?</p>\n<p>I can get the OrganizationService with a workaround, and thus I can get the OrganizationsQueryBuilder. But the OrganizationsQueryBuilder expects a SimplePagedRequest as parameter, and to provide that it seems I have to import it, which I can't.</p>\n<p>The class documentation:\nhttps://docs.atlassian.com/jira-servicedesk/4.4.2/com/atlassian/servicedesk/api/organization/OrganizationService.html\nhttps://docs.atlassian.com/jira-servicedesk/4.4.2/com/atlassian/servicedesk/api/organization/OrganizationsQuery.Builder.html\nhttps://docs.atlassian.com/jira-servicedesk/4.4.2/com/atlassian/servicedesk/api/util/paging/PagedRequest.html\nhttps://docs.atlassian.com/jira-servicedesk/4.4.2/com/atlassian/servicedesk/api/util/paging/SimplePagedRequest.html</p>\n<p>Background:\nThe line is part of an Insight automation script (or Assets as it is called now) in Jira Datacenter. I try to get a list of all organizations, but it seems like I can only get them via a paged response.<br />\nIn this environment I have only limited access to Jiras libraries, for example the import of the SimplePagedRequest cannot be resolved, and causes an error:<br />\n<code>import com.atlassian.servicedesk.api.util.paging.SimplePagedRequest; </code></p>\n<p>My hope is, that I have overlooked something basic, and there is a simple solution.\nAnyway, all help is appreciated.</p>\n<p>So far I googled it, and I have read the documentation, trying to find a way to use the OrganizationsQueryBuilder without the paged response, or to find a different way to get all organizations.\nI have tried to call the OrganizationsQueryBuilder with an anonymous class like this (which is an adopted example):</p>\n<pre><code>organizationsQuery = organizationService.newOrganizationsQueryBuilder().serviceDeskId().pagedRequest(new SimplePagedRequest(startRequest, 50) {\n    int getStart() {\n        return startRequest\n    }\n    \n    int getLimit() {\n        return 50\n    }\n}).build()\n</code></pre>\n<p>But then I also had to import the SimplePagedRequest.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":253350,"reputation":3298,"user_id":531985,"accept_rate":80,"display_name":"Doc Roms"},"score":0,"creation_date":1343829633,"post_id":11760876,"comment_id":15614768,"body_markdown":"for start, you can read [this tutorial](http://www.java-tips.org/java-se-tips/javax.xml.parsers/how-to-read-xml-file-in-java.html) explain can read xml in java...","body":"for start, you can read <a href=\"http://www.java-tips.org/java-se-tips/javax.xml.parsers/how-to-read-xml-file-in-java.html\" rel=\"nofollow noreferrer\">this tutorial</a> explain can read xml in java..."}],"answers":[{"comments":[{"owner":{"account_id":1275105,"reputation":31,"user_id":1230541,"accept_rate":25,"display_name":"user1230541"},"score":0,"creation_date":1343830427,"post_id":11760940,"comment_id":15615214,"body_markdown":"hello,thanks for the reply.Below is my code.Am able to fetch the values first tag  Name : Soccer|  But am getting null values in the next tag.Can you please help me how to do that?","body":"hello,thanks for the reply.Below is my code.Am able to fetch the values first tag  Name : Soccer|  But am getting null values in the next tag.Can you please help me how to do that?"},{"owner":{"account_id":24705,"reputation":54530,"user_id":63011,"display_name":"Paolo Moretti"},"score":0,"creation_date":1343830961,"post_id":11760940,"comment_id":15615493,"body_markdown":"@user1230541 You can edit your question to add extra information","body":"@user1230541 You can edit your question to add extra information"}],"tags":[],"owner":{"account_id":1689683,"reputation":155,"user_id":1552305,"accept_rate":100,"display_name":"alexgerst"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343831288,"creation_date":1343829606,"answer_id":11760940,"question_id":11760876,"body_markdown":"Since you haven&#39;t really said what you want to do with said XML file, the best I can do is direct you to this guide:\r\n\r\nhttp://tutorials.jenkov.com/java-xml/dom.html","title":"How to read xml file in java","body":"<p>Since you haven't really said what you want to do with said XML file, the best I can do is direct you to this guide:</p>\n\n<p><a href=\"http://tutorials.jenkov.com/java-xml/dom.html\" rel=\"nofollow\">http://tutorials.jenkov.com/java-xml/dom.html</a></p>\n"},{"tags":[],"owner":{"account_id":1313746,"reputation":4358,"user_id":1261166,"accept_rate":87,"display_name":"Viktor Mellgren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343830592,"creation_date":1343830592,"answer_id":11761236,"question_id":11760876,"body_markdown":"You could use [JAXP][1] for parsing the XML\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/guides/xml/jaxp/ReleaseNotes_160.html","title":"How to read xml file in java","body":"<p>You could use <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/xml/jaxp/ReleaseNotes_160.html\" rel=\"nofollow\">JAXP</a> for parsing the XML</p>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343837144,"creation_date":1343837144,"answer_id":11763228,"question_id":11760876,"body_markdown":"It&#39;s much better/easier NOT to do this in Java, but to do it in XSLT or XQuery code which you can invoke from your Java application.","title":"How to read xml file in java","body":"<p>It's much better/easier NOT to do this in Java, but to do it in XSLT or XQuery code which you can invoke from your Java application.</p>\n"},{"tags":[],"owner":{"account_id":29888465,"reputation":1,"user_id":22905228,"display_name":"Sky Ranger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699960675,"creation_date":1699845669,"answer_id":77471593,"question_id":11760876,"body_markdown":"Search keyword: 644264426442\r\nThe code include how to write and read .xml in java\r\n\r\nsave:\r\n\r\n    List&lt;Node&gt; list = tree.levelTraversal();\r\n    File file = new File(&quot;people.xml&quot;);\r\n    DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\r\n    try {\r\n        DocumentBuilder documentBuilder = documentBuilderFactory.newDocumentBuilder();\r\n        Document document = documentBuilder.newDocument();\r\n        Element root= document.createElement(&quot;people&quot;);\r\n        document.appendChild(root);\r\n        for(Node n:list){\r\n           Person p = (Person) n.getData();\r\n           Element person = document.createElement(&quot;person&quot;);\r\n           root.appendChild(person);\r\n           Element id = document.createElement(&quot;id&quot;);\r\n           id.appendChild(document.createTextNode(p.getId().toString()));\r\n           person.appendChild(id);\r\n           Element name = document.createElement(&quot;name&quot;);\r\n           name.appendChild(document.createTextNode(p.getName()));\r\n           person.appendChild(name);\r\n           Element age = document.createElement(&quot;age&quot;);\r\n           age.appendChild(document.createTextNode(p.getAge().toString()));\r\n           person.appendChild(age);    \r\n           Element occupation = document.createElement(&quot;occupation&quot;);\r\n           occupation.appendChild(document.createTextNode(p.getOccupation()));\r\n           person.appendChild(occupation);\r\n        }\r\n        Transformer transformer = TransformerFactory.newDefaultInstance().newTransformer();\r\n        transformer.setOutputProperty(OutputKeys.ENCODING, &quot;utf-8&quot;);\r\n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n        DOMSource domSource=new DOMSource(document);\r\n        StreamResult result = new StreamResult(file);\r\n        transformer.transform(domSource,result);\r\n    }\r\n    //==========================================\r\n    Element root = doc.createElement(STATE_ROOT_ELEMENT);\r\n    doc.appendChild(root);\r\n    for(int i=0;i&lt; keys.size();i++){\r\n        Element key = doc.createElement(keys.get(i));\r\n        key.setTextContent(states.get(i));\r\n        root.appendChild(key);\r\n        }\r\n\r\nload:\r\n\r\n    File f = new File(FileUtil.getTableFileName(tableName));\r\n    DocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n    Document document = db.parse(f);\r\n    NodeList customersList = document.getElementsByTagName(Customer.KEY_ELEMENT);\r\n    for(int i =0; i&lt;customersList.getLength();i++){\r\n    Customer customer = new Customer();\r\n    Element element = (Element) customersList.item(i);\r\n    Integer id = null;\r\n    if(element.getElementsByTagName(Customer.KEY_ID).getLength()!=0)\r\n        id = Integer.valueOf(element.getElementsByTagName(Customer.KEY_ID).item(0).getFirstChild().getNodeValue());\r\n    if(element.getElementsByTagName(Customer.KEY_NAME).getLength()!=0)\r\n        name = element.getElementsByTagName(Customer.KEY_NAME).item(0).getFirstChild().getNodeValue();\r\n    }\r\n    //=====================\r\n    NodeList list = doc.getFirstChild().getChildNodes();\r\n    for(int i =0;i&lt;list.getLength();i++){\r\n        if(list.item(i).getNodeType()==1) {\r\n            String s1 = list.item(i).getNodeName();\r\n            key.add(s1);\r\n            String s2 = list.item(i).getTextContent();\r\n            states.add(s2);\r\n        }\r\n    }\r\n    returnList.add(key);\r\n    returnList.add(states);\r\n    return returnList;\r\n\r\nTest\r\n\r\n    @Test(expected = NullCharacterException.class, timeout = 1000)\r\n    public void testNullCharacterException() {\r\n        State state = StandState.getInstance();\r\n        state.check(null,Key.RESET);\r\n    }\r\n    //=========================================================\r\n    @Test\r\n    public void test2(){\r\n        Person person = new Person(&quot;jake&quot;,30,&quot;1&quot;,false,false);\r\n        person.setId(1);\r\n        Exception exception = assertThrows(RuntimeException.class, ()-&gt;{\r\n            personRepository.save(person);\r\n        });;\r\n        assertEquals(&quot;Person instance must have null id&quot;,exception.getMessage());\r\n    }\r\n\r\n","title":"How to read xml file in java","body":"<p>Search keyword: 644264426442\nThe code include how to write and read .xml in java</p>\n<p>save:</p>\n<pre><code>List&lt;Node&gt; list = tree.levelTraversal();\nFile file = new File(&quot;people.xml&quot;);\nDocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\ntry {\n    DocumentBuilder documentBuilder = documentBuilderFactory.newDocumentBuilder();\n    Document document = documentBuilder.newDocument();\n    Element root= document.createElement(&quot;people&quot;);\n    document.appendChild(root);\n    for(Node n:list){\n       Person p = (Person) n.getData();\n       Element person = document.createElement(&quot;person&quot;);\n       root.appendChild(person);\n       Element id = document.createElement(&quot;id&quot;);\n       id.appendChild(document.createTextNode(p.getId().toString()));\n       person.appendChild(id);\n       Element name = document.createElement(&quot;name&quot;);\n       name.appendChild(document.createTextNode(p.getName()));\n       person.appendChild(name);\n       Element age = document.createElement(&quot;age&quot;);\n       age.appendChild(document.createTextNode(p.getAge().toString()));\n       person.appendChild(age);    \n       Element occupation = document.createElement(&quot;occupation&quot;);\n       occupation.appendChild(document.createTextNode(p.getOccupation()));\n       person.appendChild(occupation);\n    }\n    Transformer transformer = TransformerFactory.newDefaultInstance().newTransformer();\n    transformer.setOutputProperty(OutputKeys.ENCODING, &quot;utf-8&quot;);\n    transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n    DOMSource domSource=new DOMSource(document);\n    StreamResult result = new StreamResult(file);\n    transformer.transform(domSource,result);\n}\n//==========================================\nElement root = doc.createElement(STATE_ROOT_ELEMENT);\ndoc.appendChild(root);\nfor(int i=0;i&lt; keys.size();i++){\n    Element key = doc.createElement(keys.get(i));\n    key.setTextContent(states.get(i));\n    root.appendChild(key);\n    }\n</code></pre>\n<p>load:</p>\n<pre><code>File f = new File(FileUtil.getTableFileName(tableName));\nDocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\nDocument document = db.parse(f);\nNodeList customersList = document.getElementsByTagName(Customer.KEY_ELEMENT);\nfor(int i =0; i&lt;customersList.getLength();i++){\nCustomer customer = new Customer();\nElement element = (Element) customersList.item(i);\nInteger id = null;\nif(element.getElementsByTagName(Customer.KEY_ID).getLength()!=0)\n    id = Integer.valueOf(element.getElementsByTagName(Customer.KEY_ID).item(0).getFirstChild().getNodeValue());\nif(element.getElementsByTagName(Customer.KEY_NAME).getLength()!=0)\n    name = element.getElementsByTagName(Customer.KEY_NAME).item(0).getFirstChild().getNodeValue();\n}\n//=====================\nNodeList list = doc.getFirstChild().getChildNodes();\nfor(int i =0;i&lt;list.getLength();i++){\n    if(list.item(i).getNodeType()==1) {\n        String s1 = list.item(i).getNodeName();\n        key.add(s1);\n        String s2 = list.item(i).getTextContent();\n        states.add(s2);\n    }\n}\nreturnList.add(key);\nreturnList.add(states);\nreturn returnList;\n</code></pre>\n<p>Test</p>\n<pre><code>@Test(expected = NullCharacterException.class, timeout = 1000)\npublic void testNullCharacterException() {\n    State state = StandState.getInstance();\n    state.check(null,Key.RESET);\n}\n//=========================================================\n@Test\npublic void test2(){\n    Person person = new Person(&quot;jake&quot;,30,&quot;1&quot;,false,false);\n    person.setId(1);\n    Exception exception = assertThrows(RuntimeException.class, ()-&gt;{\n        personRepository.save(person);\n    });;\n    assertEquals(&quot;Person instance must have null id&quot;,exception.getMessage());\n}\n</code></pre>\n"}],"owner":{"account_id":1275105,"reputation":31,"user_id":1230541,"accept_rate":25,"display_name":"user1230541"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1699960675,"creation_date":1343829373,"question_id":11760876,"body_markdown":"How to read XML file in java.\r\n\r\nBelow is my XML file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LivescoreData&gt;\r\n      &lt;Sport SportId=&quot;1&quot;&gt;\r\n        &lt;Name language=&quot;en&quot;&gt;Soccer&lt;/Name&gt;\r\n        &lt;Name language=&quot;se&quot;&gt;Fotboll&lt;/Name&gt;\r\n        &lt;Category CategoryId=&quot;34&quot;&gt;\r\n          &lt;Name language=&quot;en&quot;&gt;Australia&lt;/Name&gt;\r\n          &lt;Name language=&quot;se&quot;&gt;Australien&lt;/Name&gt;\r\n          &lt;Tournament TournamentId=&quot;144&quot;&gt;\r\n            &lt;Name language=&quot;en&quot;&gt;Hyundai A-League&lt;/Name&gt;\r\n            &lt;Name language=&quot;se&quot;&gt;Hyundai A-League&lt;/Name&gt;\r\n            &lt;Match MatchId=&quot;4616735&quot;&gt;\r\n              &lt;MatchDate&gt;2011-01-05T07:30:00&lt;/MatchDate&gt;\r\n              &lt;Team1 TeamId=&quot;1029369&quot;&gt;\r\n                &lt;Name language=&quot;en&quot;&gt;Wellington Phoenix FC&lt;/Name&gt;\r\n                &lt;Name language=&quot;se&quot;&gt;Wellington&lt;/Name&gt;\r\n              &lt;/Team1&gt;\r\n              &lt;Team2 TeamId=&quot;529088&quot;&gt;\r\n                &lt;Name language=&quot;en&quot;&gt;Melbourne Victory&lt;/Name&gt;\r\n                &lt;Name language=&quot;se&quot;&gt;Melbourne Victory&lt;/Name&gt;\r\n              &lt;/Team2&gt;\r\n              &lt;Status Code=&quot;100&quot;&gt;\r\n                &lt;Name language=&quot;en&quot;&gt;Ended&lt;/Name&gt;\r\n                &lt;Name language=&quot;se&quot;&gt;Avslutad&lt;/Name&gt;\r\n              &lt;/Status&gt;\r\n              &lt;Winner&gt;1&lt;/Winner&gt;\r\n              &lt;Scores&gt;\r\n                &lt;Score type=&quot;Current&quot;&gt;\r\n                  &lt;Team1&gt;2&lt;/Team1&gt;\r\n                  &lt;Team2&gt;0&lt;/Team2&gt;\r\n                &lt;/Score&gt;\r\n              &lt;/Scores&gt;\r\n              &lt;Goals&gt;&lt;/Goals&gt;\r\n              &lt;Cards&gt;&lt;/Cards&gt;\r\n              &lt;Substitutions&gt;&lt;/Substitutions&gt;\r\n              &lt;Lineups&gt;&lt;/Lineups&gt;\r\n            &lt;/Match&gt;\r\n          &lt;/Tournament&gt;\r\n        &lt;/Category&gt;\r\n        &lt;Category CategoryId=&quot;1&quot;&gt;\r\n          &lt;Name language=&quot;en&quot;&gt;England&lt;/Name&gt;\r\n          &lt;Name language=&quot;se&quot;&gt;England&lt;/Name&gt;\r\n          &lt;Tournament TournamentId=&quot;1&quot;&gt;\r\n            &lt;Name language=&quot;en&quot;&gt;Premier League&lt;/Name&gt;\r\n            &lt;Name language=&quot;se&quot;&gt;Premier League&lt;/Name&gt;\r\n            &lt;Match MatchId=&quot;4601857&quot;&gt;\r\n              &lt;MatchDate&gt;2011-01-04T21:00:00&lt;/MatchDate&gt;\r\n              &lt;Team1 TeamId=&quot;5431228&quot;&gt;\r\n                &lt;Name language=&quot;en&quot;&gt;Blackpool FC&lt;/Name&gt;\r\n                &lt;Name language=&quot;se&quot;&gt;Blackpool FC&lt;/Name&gt;\r\n              &lt;/Team1&gt;\r\n              &lt;Team2 TeamId=&quot;23960&quot;&gt;\r\n                &lt;Name language=&quot;en&quot;&gt;Birmingham City&lt;/Name&gt;\r\n                &lt;Name language=&quot;se&quot;&gt;Birmingham City&lt;/Name&gt;\r\n              &lt;/Team2&gt;\r\n              &lt;Status Code=&quot;100&quot;&gt;\r\n                &lt;Name language=&quot;en&quot;&gt;Ended&lt;/Name&gt;\r\n                &lt;Name language=&quot;se&quot;&gt;Avslutad&lt;/Name&gt;\r\n              &lt;/Status&gt;\r\n              &lt;Winner&gt;1&lt;/Winner&gt;\r\n              &lt;Scores&gt;\r\n                &lt;Score type=&quot;Current&quot;&gt;\r\n                  &lt;Team1&gt;5&lt;/Team1&gt;\r\n                  &lt;Team2&gt;1&lt;/Team2&gt;\r\n                &lt;/Score&gt;\r\n              &lt;/Scores&gt;\r\n              &lt;Goals&gt;&lt;/Goals&gt;\r\n              &lt;Cards&gt;&lt;/Cards&gt;\r\n              &lt;Substitutions&gt;&lt;/Substitutions&gt;\r\n              &lt;Lineups&gt;&lt;/Lineups&gt;\r\n            &lt;/Match&gt;\r\n            &lt;Match MatchId=&quot;4601859&quot;&gt;\r\n              &lt;MatchDate&gt;2011-01-04T21:00:00&lt;/MatchDate&gt;\r\n              &lt;Team1 TeamId=&quot;26511&quot;&gt;\r\n                &lt;Name language=&quot;en&quot;&gt;Fulham FC&lt;/Name&gt;\r\n                &lt;Name language=&quot;se&quot;&gt;Fulham FC&lt;/Name&gt;\r\n              &lt;/Team1&gt;\r\n              &lt;Team2 TeamId=&quot;94356&quot;&gt;\r\n                &lt;Name language=&quot;en&quot;&gt;West Bromwich Albion&lt;/Name&gt;\r\n                &lt;Name language=&quot;se&quot;&gt;West Bromwich Albion&lt;/Name&gt;\r\n              &lt;/Team2&gt;\r\n              &lt;Status Code=&quot;100&quot;&gt;\r\n                &lt;Name language=&quot;en&quot;&gt;Ended&lt;/Name&gt;\r\n                &lt;Name language=&quot;se&quot;&gt;Avslutad&lt;/Name&gt;\r\n              &lt;/Status&gt;\r\n              &lt;Winner&gt;1&lt;/Winner&gt;\r\n              &lt;Scores&gt;\r\n                &lt;Score type=&quot;Current&quot;&gt;\r\n                  &lt;Team1&gt;4&lt;/Team1&gt;\r\n                  &lt;Team2&gt;1&lt;/Team2&gt;\r\n                &lt;/Score&gt;\r\n              &lt;/Scores&gt;\r\n              &lt;Goals&gt;&lt;/Goals&gt;\r\n              &lt;Cards&gt;&lt;/Cards&gt;\r\n              &lt;Substitutions&gt;&lt;/Substitutions&gt;\r\n              &lt;Lineups&gt;&lt;/Lineups&gt;\r\n            &lt;/Match&gt;\r\n          &lt;/Tournament&gt;\r\n        &lt;/Category&gt;\r\n      &lt;/Sport&gt;\r\n    &lt;/LivescoreData&gt;\r\n\r\nBelow is the code:IT print the first value of XML Soccer and not able to print the next one.\r\n \r\n\tnodeLst = doc.getElementsByTagName(&quot;Sport&quot;); \r\n\tfor (int i = 0; i &lt; nodeLst.getLength(); i++) { \r\n\t\t\r\n\t\tNode myNode = nodeLst.item(i); \r\n\t\t\r\n\t\tif (myNode.getNodeType() == Node.ELEMENT_NODE) { \r\n\t\t\r\n\t\t   Element Sport = (Element) myNode; \r\n\t\t   NodeList Name= Sport \r\n\t\t\t.getElementsByTagName(&quot;Name&quot;); \r\n\t\t   Element NameElement = (Element) Name.item(0); \r\n\t\t   NodeList Namevalue = NameElement.getChildNodes(); \r\n\t\t   System.out.println(&quot;Name : &quot; \r\n\t\t+ ((Node) Namevalue.item(0)).getNodeValue()+&quot;|&quot;);  \r\n       \r\n\t\t//This gives me null value\t\r\n\t\t   NodeList Category = Sport \r\n\t\t   .getElementsByTagName(&quot;Category&quot;); \r\n\t\t   Element CategoryName= (Element) Category \r\n\t\t   .item(0); \r\n\t\t   NodeList Categoryvalue = CategoryName \r\n\t\t   .getChildNodes(); \r\n\t\t   System.out.println(&quot;Category: &quot; \r\n\t\t   + ((Node) Categoryvalue.item(0)) \r\n\t\t   .getNodeValue()); \r\n\t   } \r\n\t}\r\n\r\nAm able to read only the first data Soccer.The second one just give null value.\r\n\r\n\r\nI need my result as:\r\n\r\n    Soccer | Australia | Hyundai A-League | Wellington Phoenix FC - Melbourne Victory : 2 - 0\r\n    Soccer | England | Premier League | Blackpool FC - Birmingham City : 5 - 1\r\n    Soccer | England | Premier League | Fulham FC - West Bromwich Albion : 4 - 1","title":"How to read xml file in java","body":"<p>How to read XML file in java.</p>\n\n<p>Below is my XML file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LivescoreData&gt;\n  &lt;Sport SportId=\"1\"&gt;\n    &lt;Name language=\"en\"&gt;Soccer&lt;/Name&gt;\n    &lt;Name language=\"se\"&gt;Fotboll&lt;/Name&gt;\n    &lt;Category CategoryId=\"34\"&gt;\n      &lt;Name language=\"en\"&gt;Australia&lt;/Name&gt;\n      &lt;Name language=\"se\"&gt;Australien&lt;/Name&gt;\n      &lt;Tournament TournamentId=\"144\"&gt;\n        &lt;Name language=\"en\"&gt;Hyundai A-League&lt;/Name&gt;\n        &lt;Name language=\"se\"&gt;Hyundai A-League&lt;/Name&gt;\n        &lt;Match MatchId=\"4616735\"&gt;\n          &lt;MatchDate&gt;2011-01-05T07:30:00&lt;/MatchDate&gt;\n          &lt;Team1 TeamId=\"1029369\"&gt;\n            &lt;Name language=\"en\"&gt;Wellington Phoenix FC&lt;/Name&gt;\n            &lt;Name language=\"se\"&gt;Wellington&lt;/Name&gt;\n          &lt;/Team1&gt;\n          &lt;Team2 TeamId=\"529088\"&gt;\n            &lt;Name language=\"en\"&gt;Melbourne Victory&lt;/Name&gt;\n            &lt;Name language=\"se\"&gt;Melbourne Victory&lt;/Name&gt;\n          &lt;/Team2&gt;\n          &lt;Status Code=\"100\"&gt;\n            &lt;Name language=\"en\"&gt;Ended&lt;/Name&gt;\n            &lt;Name language=\"se\"&gt;Avslutad&lt;/Name&gt;\n          &lt;/Status&gt;\n          &lt;Winner&gt;1&lt;/Winner&gt;\n          &lt;Scores&gt;\n            &lt;Score type=\"Current\"&gt;\n              &lt;Team1&gt;2&lt;/Team1&gt;\n              &lt;Team2&gt;0&lt;/Team2&gt;\n            &lt;/Score&gt;\n          &lt;/Scores&gt;\n          &lt;Goals&gt;&lt;/Goals&gt;\n          &lt;Cards&gt;&lt;/Cards&gt;\n          &lt;Substitutions&gt;&lt;/Substitutions&gt;\n          &lt;Lineups&gt;&lt;/Lineups&gt;\n        &lt;/Match&gt;\n      &lt;/Tournament&gt;\n    &lt;/Category&gt;\n    &lt;Category CategoryId=\"1\"&gt;\n      &lt;Name language=\"en\"&gt;England&lt;/Name&gt;\n      &lt;Name language=\"se\"&gt;England&lt;/Name&gt;\n      &lt;Tournament TournamentId=\"1\"&gt;\n        &lt;Name language=\"en\"&gt;Premier League&lt;/Name&gt;\n        &lt;Name language=\"se\"&gt;Premier League&lt;/Name&gt;\n        &lt;Match MatchId=\"4601857\"&gt;\n          &lt;MatchDate&gt;2011-01-04T21:00:00&lt;/MatchDate&gt;\n          &lt;Team1 TeamId=\"5431228\"&gt;\n            &lt;Name language=\"en\"&gt;Blackpool FC&lt;/Name&gt;\n            &lt;Name language=\"se\"&gt;Blackpool FC&lt;/Name&gt;\n          &lt;/Team1&gt;\n          &lt;Team2 TeamId=\"23960\"&gt;\n            &lt;Name language=\"en\"&gt;Birmingham City&lt;/Name&gt;\n            &lt;Name language=\"se\"&gt;Birmingham City&lt;/Name&gt;\n          &lt;/Team2&gt;\n          &lt;Status Code=\"100\"&gt;\n            &lt;Name language=\"en\"&gt;Ended&lt;/Name&gt;\n            &lt;Name language=\"se\"&gt;Avslutad&lt;/Name&gt;\n          &lt;/Status&gt;\n          &lt;Winner&gt;1&lt;/Winner&gt;\n          &lt;Scores&gt;\n            &lt;Score type=\"Current\"&gt;\n              &lt;Team1&gt;5&lt;/Team1&gt;\n              &lt;Team2&gt;1&lt;/Team2&gt;\n            &lt;/Score&gt;\n          &lt;/Scores&gt;\n          &lt;Goals&gt;&lt;/Goals&gt;\n          &lt;Cards&gt;&lt;/Cards&gt;\n          &lt;Substitutions&gt;&lt;/Substitutions&gt;\n          &lt;Lineups&gt;&lt;/Lineups&gt;\n        &lt;/Match&gt;\n        &lt;Match MatchId=\"4601859\"&gt;\n          &lt;MatchDate&gt;2011-01-04T21:00:00&lt;/MatchDate&gt;\n          &lt;Team1 TeamId=\"26511\"&gt;\n            &lt;Name language=\"en\"&gt;Fulham FC&lt;/Name&gt;\n            &lt;Name language=\"se\"&gt;Fulham FC&lt;/Name&gt;\n          &lt;/Team1&gt;\n          &lt;Team2 TeamId=\"94356\"&gt;\n            &lt;Name language=\"en\"&gt;West Bromwich Albion&lt;/Name&gt;\n            &lt;Name language=\"se\"&gt;West Bromwich Albion&lt;/Name&gt;\n          &lt;/Team2&gt;\n          &lt;Status Code=\"100\"&gt;\n            &lt;Name language=\"en\"&gt;Ended&lt;/Name&gt;\n            &lt;Name language=\"se\"&gt;Avslutad&lt;/Name&gt;\n          &lt;/Status&gt;\n          &lt;Winner&gt;1&lt;/Winner&gt;\n          &lt;Scores&gt;\n            &lt;Score type=\"Current\"&gt;\n              &lt;Team1&gt;4&lt;/Team1&gt;\n              &lt;Team2&gt;1&lt;/Team2&gt;\n            &lt;/Score&gt;\n          &lt;/Scores&gt;\n          &lt;Goals&gt;&lt;/Goals&gt;\n          &lt;Cards&gt;&lt;/Cards&gt;\n          &lt;Substitutions&gt;&lt;/Substitutions&gt;\n          &lt;Lineups&gt;&lt;/Lineups&gt;\n        &lt;/Match&gt;\n      &lt;/Tournament&gt;\n    &lt;/Category&gt;\n  &lt;/Sport&gt;\n&lt;/LivescoreData&gt;\n</code></pre>\n\n<p>Below is the code:IT print the first value of XML Soccer and not able to print the next one.</p>\n\n<pre><code>nodeLst = doc.getElementsByTagName(\"Sport\"); \nfor (int i = 0; i &lt; nodeLst.getLength(); i++) { \n\n    Node myNode = nodeLst.item(i); \n\n    if (myNode.getNodeType() == Node.ELEMENT_NODE) { \n\n       Element Sport = (Element) myNode; \n       NodeList Name= Sport \n        .getElementsByTagName(\"Name\"); \n       Element NameElement = (Element) Name.item(0); \n       NodeList Namevalue = NameElement.getChildNodes(); \n       System.out.println(\"Name : \" \n    + ((Node) Namevalue.item(0)).getNodeValue()+\"|\");  \n\n    //This gives me null value  \n       NodeList Category = Sport \n       .getElementsByTagName(\"Category\"); \n       Element CategoryName= (Element) Category \n       .item(0); \n       NodeList Categoryvalue = CategoryName \n       .getChildNodes(); \n       System.out.println(\"Category: \" \n       + ((Node) Categoryvalue.item(0)) \n       .getNodeValue()); \n   } \n}\n</code></pre>\n\n<p>Am able to read only the first data Soccer.The second one just give null value.</p>\n\n<p>I need my result as:</p>\n\n<pre><code>Soccer | Australia | Hyundai A-League | Wellington Phoenix FC - Melbourne Victory : 2 - 0\nSoccer | England | Premier League | Blackpool FC - Birmingham City : 5 - 1\nSoccer | England | Premier League | Fulham FC - West Bromwich Albion : 4 - 1\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-luna","dependency-graph"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1699959553,"post_id":77480017,"comment_id":136593302,"body_markdown":"If there is such a plug-in it is not going to work on Luna which is 9 years and 25 releases old. But asking for recommendations is off-topic here.","body":"If there is such a plug-in it is not going to work on Luna which is 9 years and 25 releases old. But asking for recommendations is off-topic here."}],"owner":{"account_id":20299693,"reputation":11,"user_id":14889413,"display_name":"Sync"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699959159,"creation_date":1699959159,"question_id":77480017,"body_markdown":"I am currently working on a project within the Eclipse IDE, and I am exploring ways to generate dependency graphs for each project in my workspace without the necessity of building the entire workspace at the start (since the Dependency Graph is transient). \r\n\r\nI am using Eclipse Luna 4.4.2. The projects in my workspace have various dependencies, and I want to visualize these dependencies without having to initiate a full build every time. For now a simple `System.out.println` could work for my problem.\r\n\r\nThe aim is to streamline the process and save time, especially when dealing with large projects.\r\nIt might also be acceptable to have the dependency graph from the previous build, but being transient, it is reset when the workspace is closed, so I searching for a **method to get the dependency without the need of a full build of the project.**\r\n\r\nI am wondering if there is a method or a plugin available that allows me to extract the dependency graph for individual projects **without triggering a full workspace build at the beginning.**\r\n\r\n**Question:**\r\nDoes anyone know of a workaround, commercial free plugin, or method that enables the extraction of dependency graphs for individual Eclipse projects without requiring a full workspace build at the start?\r\n\r\n","title":"Obtaining Dependency Graphs for Eclipse Projects Without the need of a full Build","body":"<p>I am currently working on a project within the Eclipse IDE, and I am exploring ways to generate dependency graphs for each project in my workspace without the necessity of building the entire workspace at the start (since the Dependency Graph is transient).</p>\n<p>I am using Eclipse Luna 4.4.2. The projects in my workspace have various dependencies, and I want to visualize these dependencies without having to initiate a full build every time. For now a simple <code>System.out.println</code> could work for my problem.</p>\n<p>The aim is to streamline the process and save time, especially when dealing with large projects.\nIt might also be acceptable to have the dependency graph from the previous build, but being transient, it is reset when the workspace is closed, so I searching for a <strong>method to get the dependency without the need of a full build of the project.</strong></p>\n<p>I am wondering if there is a method or a plugin available that allows me to extract the dependency graph for individual projects <strong>without triggering a full workspace build at the beginning.</strong></p>\n<p><strong>Question:</strong>\nDoes anyone know of a workaround, commercial free plugin, or method that enables the extraction of dependency graphs for individual Eclipse projects without requiring a full workspace build at the start?</p>\n"},{"tags":["java","android","xml","android-studio","mobile"],"answers":[{"tags":[],"owner":{"account_id":14050017,"reputation":371,"user_id":10149074,"display_name":"Krzysiulele"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699958589,"creation_date":1699958589,"answer_id":77479945,"question_id":77479837,"body_markdown":"To pin the view to the left in a constraint layout you can use the \r\n\r\n    app:layout_constraintHorizontal_bias=&quot;0&quot;\r\n\r\nSee [detailed answer][1]. That way you can have constraints with left and right but the view would stick to the left. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69604403/what-is-vertical-bias-or-horizontal-bias-used-for-in-androids-constraintla","title":"View gets pushed out of linear layout - android","body":"<p>To pin the view to the left in a constraint layout you can use the</p>\n<pre><code>app:layout_constraintHorizontal_bias=&quot;0&quot;\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/69604403/what-is-vertical-bias-or-horizontal-bias-used-for-in-androids-constraintla\">detailed answer</a>. That way you can have constraints with left and right but the view would stick to the left.</p>\n"}],"owner":{"account_id":28193143,"reputation":39,"user_id":21548222,"display_name":"siflJebatkundy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77479945,"answer_count":1,"score":1,"last_activity_date":1699958589,"creation_date":1699957472,"question_id":77479837,"body_markdown":"Im facing issue, where imageview is getting pushed out by inner linear layout. The views are wrapped inside an outer linear layout. I tried a constraint layout chaining, but the view needed a constraint from left and right side, which resulted in aligning the view into the center, which is not desired. I want the view, to be aligned to the left side. Does anybody know?\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!--RIGHT ITEM--&gt;\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:gravity=&quot;center_vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n            &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:id=&quot;@+id/messagesdetails_wrapLayout_right&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layout_gravity=&quot;start&quot;\r\n                android:gravity=&quot;start&quot;\r\n                android:background=&quot;@drawable/messages_item_background&quot;&gt;\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/messagesdetails_textview_right&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textColor=&quot;@color/white&quot;\r\n                        android:textSize=&quot;15sp&quot;\r\n                        android:fontFamily=&quot;@font/segoe_ui&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;5dp&quot;\r\n                        android:text=&quot;Your text&quot; /&gt;\r\n    \r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/messagesdetails_timestamp_right&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        android:layout_marginBottom=&quot;5dp&quot;\r\n                        android:layout_gravity=&quot;start|bottom&quot;\r\n                        android:textSize=&quot;11dp&quot;\r\n                        android:fontFamily=&quot;@font/segoe_ui&quot;\r\n                        android:textColor=&quot;#80FFFFFF&quot;\r\n                        android:text=&quot;Timestamp&quot; /&gt;\r\n            &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/messagesdetails_copybutton_right&quot;\r\n                android:layout_width=&quot;28dp&quot;\r\n                android:layout_height=&quot;28dp&quot;\r\n                android:clickable=&quot;true&quot;\r\n                android:alpha=&quot;1&quot;\r\n                android:src=&quot;@drawable/copy_icon_messages_clicked&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n","title":"View gets pushed out of linear layout - android","body":"<p>Im facing issue, where imageview is getting pushed out by inner linear layout. The views are wrapped inside an outer linear layout. I tried a constraint layout chaining, but the view needed a constraint from left and right side, which resulted in aligning the view into the center, which is not desired. I want the view, to be aligned to the left side. Does anybody know?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!--RIGHT ITEM--&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:gravity=&quot;center_vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n        &lt;androidx.appcompat.widget.LinearLayoutCompat\n            android:layout_marginLeft=&quot;10dp&quot;\n            android:id=&quot;@+id/messagesdetails_wrapLayout_right&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_gravity=&quot;start&quot;\n            android:gravity=&quot;start&quot;\n            android:background=&quot;@drawable/messages_item_background&quot;&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/messagesdetails_textview_right&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textColor=&quot;@color/white&quot;\n                    android:textSize=&quot;15sp&quot;\n                    android:fontFamily=&quot;@font/segoe_ui&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;5dp&quot;\n                    android:text=&quot;Your text&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/messagesdetails_timestamp_right&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:layout_marginBottom=&quot;5dp&quot;\n                    android:layout_gravity=&quot;start|bottom&quot;\n                    android:textSize=&quot;11dp&quot;\n                    android:fontFamily=&quot;@font/segoe_ui&quot;\n                    android:textColor=&quot;#80FFFFFF&quot;\n                    android:text=&quot;Timestamp&quot; /&gt;\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/messagesdetails_copybutton_right&quot;\n            android:layout_width=&quot;28dp&quot;\n            android:layout_height=&quot;28dp&quot;\n            android:clickable=&quot;true&quot;\n            android:alpha=&quot;1&quot;\n            android:src=&quot;@drawable/copy_icon_messages_clicked&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","servlets","startup","tomcat9"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1699955626,"post_id":77479314,"comment_id":136592590,"body_markdown":"Typically, the log file  shows that the web app WAR is deployed on the Tomcat. How have you deployed the web app WAR file on the Tomcat?","body":"Typically, the log file  shows that the web app WAR is deployed on the Tomcat. How have you deployed the web app WAR file on the Tomcat?"},{"owner":{"account_id":3087258,"reputation":1,"user_id":2614172,"display_name":"xplox"},"score":0,"creation_date":1699957946,"post_id":77479314,"comment_id":136593031,"body_markdown":"@prasad_ I deployed the web app WAR file with autodeploy at server startup. But I think I have found the problem.","body":"@prasad_ I deployed the web app WAR file with autodeploy at server startup. But I think I have found the problem."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1699959115,"post_id":77479314,"comment_id":136593230,"body_markdown":"Also, the `- lib/my.jar`needs to be under the `WEB-INF` folder.","body":"Also, the <code>- lib&#47;my.jar</code>needs to be under the <code>WEB-INF</code> folder."}],"answers":[{"tags":[],"owner":{"account_id":3087258,"reputation":1,"user_id":2614172,"display_name":"xplox"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699958479,"creation_date":1699958479,"answer_id":77479931,"question_id":77479314,"body_markdown":"The problem &#128584; I was searching for:  \r\n\r\n14-Nov-2023 10:56:08.673 SCHWERWIEGEND [main] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [HelpServlet] in web application [/app] threw load() exception\r\n\tjava.lang.UnsupportedClassVersionError: servlet/HelpServlet has been compiled by a more recent version of the Java Runtime (class file version 60.0), this version of the Java Runtime only recognizes class file versions up to 55.0 (unable to load class [servlets.HelpServlet])\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2484)\r\n\r\nNOTICE!\r\nDon&#39;t compile in Eclipse with ANT using buildIn JRE 16 and deploy at Tomcat using JRE 11. &#128547;","title":"Problem with Tomcat Servlet startup using @WebServlet annotations","body":"<p>The problem 🙈 I was searching for:</p>\n<p>14-Nov-2023 10:56:08.673 SCHWERWIEGEND [main] org.apache.catalina.core.StandardContext.loadOnStartup Servlet [HelpServlet] in web application [/app] threw load() exception\njava.lang.UnsupportedClassVersionError: servlet/HelpServlet has been compiled by a more recent version of the Java Runtime (class file version 60.0), this version of the Java Runtime only recognizes class file versions up to 55.0 (unable to load class [servlets.HelpServlet])\nat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2484)</p>\n<p>NOTICE!\nDon't compile in Eclipse with ANT using buildIn JRE 16 and deploy at Tomcat using JRE 11. 😣</p>\n"}],"owner":{"account_id":3087258,"reputation":1,"user_id":2614172,"display_name":"xplox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699967984,"answer_count":1,"score":0,"last_activity_date":1699958479,"creation_date":1699952527,"question_id":77479314,"body_markdown":"Good morning.\r\n\r\nI have a problem with my servlet startup. Could you please help me?\r\nI am using\r\n\r\n- Tomcat 9.0.82\r\n- Coretto 11.0.17.8.1\r\n- Windows 10 19045.3570\r\n\r\nI have a compiled WAR archive with the following directory structure.\r\n\r\n```\r\n   WAR\r\n     - index.htm\r\n     - img\r\n       - some_images.gif\r\n     - WEB-INF\r\n       - web.xml\r\n     - lib/my.jar\r\n       - servlet.HelpServlet.class`\r\n```\r\n\r\nThe web.xml looks like:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?\\&gt;\r\n\r\n&lt;!-- Metadata-complete Attribute: If your web.xml contains the attribute \r\n  metadata-complete=&quot;true&quot; in the  tag, this will instruct the server \r\n  to ignore annotations and use only the web.xml for deployment configuration. --&gt;\r\n\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\nxsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\nversion=&quot;3.1&quot; metadata-complete=&quot;false&quot;\\&gt;\r\n\r\n  &lt;mime-mapping&gt;\r\n  \t&lt;extension&gt;wsdl&lt;/extension&gt;\r\n  \t&lt;mime-type&gt;text/xml&lt;/mime-type&gt;\r\n  &lt;/mime-mapping&gt;\r\n  \r\n  &lt;mime-mapping&gt;\r\n  \t&lt;extension&gt;xsd&lt;/extension&gt;\r\n  \t&lt;mime-type&gt;text/xml&lt;/mime-type&gt;\r\n  &lt;/mime-mapping&gt;\r\n```\r\n\r\nThe servlet has the following definition:\r\n\r\n```\r\n@WebServlet(\r\nname = &quot;HelpServlet&quot;,\r\nurlPatterns = &quot;/help/\\*&quot;)\r\npublic class HelpServlet extends javax.servlet.http.HttpServlet\r\n{\r\nprivate static final long serialVersionUID = -2877995723829943551L;\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException\r\n    {\r\n    \tSystem.out.println(&quot;HELP PLEASE&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy tomcat has the following configuration (Changed from vanilla):\r\n\r\n- conf/server.xml\r\n  Changed Port from 8080 to 6080\r\n  ```&lt;Host name=&quot;localhost&quot;  appBase=&quot;../webapp/app&quot; unpackWARs=&quot;true&quot;\\&gt; ```\r\n\r\n- conf/Catalina/localhost/app.xml\r\n\r\n```\r\n  &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-15&quot;?&gt;\r\n  &lt;Context docBase=&quot;D:/app-deploy/webapp/app.war&quot; reloadable=&quot;false&quot; /&gt;\r\n```\r\n\r\nIs there any configuration I have forgotten to configurate that the servlet starts at server startup? The war archive will be deployed in the expected directory. The index.htm could be found and view in the browser, but the HELP-Servlet under localhost:8080/app/help is not found 404!\r\n\r\nThat&#39;s the complete logfile:\r\n\r\n```\r\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:29:50.270 INFORMATION [main] org.apache.coyote.AbstractProtocol.init Initialisiere ProtocolHandler[&quot;http-nio-6080&quot;]\r\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:29:50.319 INFORMATION [main] org.apache.catalina.startup.Catalina.load Server initialization in [1059] milliseconds\r\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:29:50.446 INFORMATION [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:29:50.447 INFORMATION [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.82]\r\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:29:50.468 INFORMATION [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying deployment descriptor [D:\\java-ide\\workspace\\webframe-deploy\\apache-tomcat-9.0.82\\conf\\Catalina\\localhost\\webframe.xml]\r\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:30:30.455 INFORMATION [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:33:54.540 WARNUNG [main] org.apache.catalina.util.SessionIdGeneratorBase.createSecureRandom Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [260] milliseconds.\r\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:33:54.635 INFORMATION [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [D:\\java-ide\\workspace\\webframe-deploy\\apache-tomcat-9.0.82\\conf\\Catalina\\localhost\\webframe.xml] has finished in [244.166] ms\r\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:33:54.638 INFORMATION [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-6080&quot;]\r\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:33:54.920 INFORMATION [main] org.apache.catalina.startup.Catalina.start Server startup in [244596] milliseconds\r\n```\r\n\r\nExpected is that Tomcat starts the defined servlet under \\[GET\\] http://localhost:6080/app/help\r\nBut currently it is not so. &#129300;\r\n\r\nWhat&#39;s wrong? Please help.\r\nThanks in advance.\r\nChristian","title":"Problem with Tomcat Servlet startup using @WebServlet annotations","body":"<p>Good morning.</p>\n<p>I have a problem with my servlet startup. Could you please help me?\nI am using</p>\n<ul>\n<li>Tomcat 9.0.82</li>\n<li>Coretto 11.0.17.8.1</li>\n<li>Windows 10 19045.3570</li>\n</ul>\n<p>I have a compiled WAR archive with the following directory structure.</p>\n<pre><code>   WAR\n     - index.htm\n     - img\n       - some_images.gif\n     - WEB-INF\n       - web.xml\n     - lib/my.jar\n       - servlet.HelpServlet.class`\n</code></pre>\n<p>The web.xml looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?\\&gt;\n\n&lt;!-- Metadata-complete Attribute: If your web.xml contains the attribute \n  metadata-complete=&quot;true&quot; in the  tag, this will instruct the server \n  to ignore annotations and use only the web.xml for deployment configuration. --&gt;\n\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\nversion=&quot;3.1&quot; metadata-complete=&quot;false&quot;\\&gt;\n\n  &lt;mime-mapping&gt;\n    &lt;extension&gt;wsdl&lt;/extension&gt;\n    &lt;mime-type&gt;text/xml&lt;/mime-type&gt;\n  &lt;/mime-mapping&gt;\n  \n  &lt;mime-mapping&gt;\n    &lt;extension&gt;xsd&lt;/extension&gt;\n    &lt;mime-type&gt;text/xml&lt;/mime-type&gt;\n  &lt;/mime-mapping&gt;\n</code></pre>\n<p>The servlet has the following definition:</p>\n<pre><code>@WebServlet(\nname = &quot;HelpServlet&quot;,\nurlPatterns = &quot;/help/\\*&quot;)\npublic class HelpServlet extends javax.servlet.http.HttpServlet\n{\nprivate static final long serialVersionUID = -2877995723829943551L;\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException\n    {\n        System.out.println(&quot;HELP PLEASE&quot;);\n    }\n\n}\n</code></pre>\n<p>My tomcat has the following configuration (Changed from vanilla):</p>\n<ul>\n<li><p>conf/server.xml\nChanged Port from 8080 to 6080\n<code>&lt;Host name=&quot;localhost&quot;  appBase=&quot;../webapp/app&quot; unpackWARs=&quot;true&quot;\\&gt; </code></p>\n</li>\n<li><p>conf/Catalina/localhost/app.xml</p>\n</li>\n</ul>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-15&quot;?&gt;\n  &lt;Context docBase=&quot;D:/app-deploy/webapp/app.war&quot; reloadable=&quot;false&quot; /&gt;\n</code></pre>\n<p>Is there any configuration I have forgotten to configurate that the servlet starts at server startup? The war archive will be deployed in the expected directory. The index.htm could be found and view in the browser, but the HELP-Servlet under localhost:8080/app/help is not found 404!</p>\n<p>That's the complete logfile:</p>\n<pre><code>[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:29:50.270 INFORMATION [main] org.apache.coyote.AbstractProtocol.init Initialisiere ProtocolHandler[&quot;http-nio-6080&quot;]\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:29:50.319 INFORMATION [main] org.apache.catalina.startup.Catalina.load Server initialization in [1059] milliseconds\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:29:50.446 INFORMATION [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:29:50.447 INFORMATION [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.82]\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:29:50.468 INFORMATION [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying deployment descriptor [D:\\java-ide\\workspace\\webframe-deploy\\apache-tomcat-9.0.82\\conf\\Catalina\\localhost\\webframe.xml]\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:30:30.455 INFORMATION [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:33:54.540 WARNUNG [main] org.apache.catalina.util.SessionIdGeneratorBase.createSecureRandom Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [260] milliseconds.\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:33:54.635 INFORMATION [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [D:\\java-ide\\workspace\\webframe-deploy\\apache-tomcat-9.0.82\\conf\\Catalina\\localhost\\webframe.xml] has finished in [244.166] ms\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:33:54.638 INFORMATION [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-6080&quot;]\n[09:34:41] &lt;Guest28&gt; 14-Nov-2023 09:33:54.920 INFORMATION [main] org.apache.catalina.startup.Catalina.start Server startup in [244596] milliseconds\n</code></pre>\n<p>Expected is that Tomcat starts the defined servlet under [GET] http://localhost:6080/app/help\nBut currently it is not so. 🤔</p>\n<p>What's wrong? Please help.\nThanks in advance.\nChristian</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1300877959,"creation_date":1300877959,"answer_id":5404185,"question_id":5404069,"body_markdown":"As you have already found, there is no pure Java ability to do that. Flash is played by adobe flash player and it is written with platform dependent code. If it is appropriate, I would advise you to negotiate the requirements with your customer.","title":"Can we run flash file from java through pure java code?","body":"<p>As you have already found, there is no pure Java ability to do that. Flash is played by adobe flash player and it is written with platform dependent code. If it is appropriate, I would advise you to negotiate the requirements with your customer.</p>\n"},{"tags":[],"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300878283,"creation_date":1300878283,"answer_id":5404245,"question_id":5404069,"body_markdown":"What about open a browser with the right parameter ( URL ) and give it the swf ? You can embarq the SWF in the JAR file if needed. ","title":"Can we run flash file from java through pure java code?","body":"<p>What about open a browser with the right parameter ( URL ) and give it the swf ? You can embarq the SWF in the JAR file if needed. </p>\n"},{"tags":[],"owner":{"account_id":290074,"reputation":311,"user_id":591413,"display_name":"Christopher Deckers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314827979,"creation_date":1314827979,"answer_id":7264005,"question_id":5404069,"body_markdown":"You could also try the JFlashPlayer from DJ Native Swing: http://djproject.sourceforge.net/ns\r\n\r\nIt relies on the SWT Browser which integrates a native runtime and in which the Flash plugin gets loaded. It also eases integration of SWT in Swing so that it almost looks like a standard Swing component","title":"Can we run flash file from java through pure java code?","body":"<p>You could also try the JFlashPlayer from DJ Native Swing: <a href=\"http://djproject.sourceforge.net/ns\" rel=\"nofollow\">http://djproject.sourceforge.net/ns</a></p>\n\n<p>It relies on the SWT Browser which integrates a native runtime and in which the Flash plugin gets loaded. It also eases integration of SWT in Swing so that it almost looks like a standard Swing component</p>\n"}],"owner":{"account_id":341858,"reputation":1,"user_id":672710,"display_name":"ajuvendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1699958395,"creation_date":1300877352,"question_id":5404069,"body_markdown":"How can I run a flash file from in pure Java (i.e., not relying on a DLL etc.) from within a runnable jar file?\r\n\r\nThe only solution I could find uses `JFlashPlayer`, which is platform dependent as it requires some dlls to run the flash file.","title":"Can we run flash file from java through pure java code?","body":"<p>How can I run a flash file from in pure Java (i.e., not relying on a DLL etc.) from within a runnable jar file?</p>\n<p>The only solution I could find uses <code>JFlashPlayer</code>, which is platform dependent as it requires some dlls to run the flash file.</p>\n"},{"tags":["java","apache-poi","linechart"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1699958579,"post_id":77479921,"comment_id":136593134,"body_markdown":"https://stackoverflow.com/questions/77432090/excel-files-created-with-apache-poi-wont-show-line-chart-anymore/77432631#77432631","body":"<a href=\"https://stackoverflow.com/questions/77432090/excel-files-created-with-apache-poi-wont-show-line-chart-anymore/77432631#77432631\" title=\"excel files created with apache poi wont show line chart anymore\">stackoverflow.com/questions/77432090/&hellip;</a>"}],"owner":{"account_id":21886599,"reputation":1,"user_id":16174165,"display_name":"Agnese Tedeschi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699958600,"answer_count":0,"score":0,"last_activity_date":1699958298,"creation_date":1699958298,"question_id":77479921,"body_markdown":"I&#39;m trying to create an Excel (.xlsx) file that inserts a line chart below a table of data using Apache POI 5.2.3 and jdk 11.\r\nUnfortunately when I open the file I get an error message and the chart is deleted from the sheet.\r\nTaking a code that worked last year for line charts , today this presents the same problem.\r\nBelow is the class with the code that generates this error and the related pom.xml.\r\nDoes anyone know how to help me removethe error?\r\n\r\n\r\n\r\npart of the pom.xml:\r\n\r\n```\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\t\t&lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt;\r\n\t\t&lt;poi.version&gt;5.2.3&lt;/poi.version&gt;\r\n\t\t&lt;junit.version&gt;4.11&lt;/junit.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;${poi.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;poi-ooxml-full&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;${poi.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Needed? --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${log4j.version}&lt;/version&gt;\r\n\t\t\t&lt;!-- &lt;version&gt;1.2.17&lt;/version&gt; --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.20.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt; --&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nAnd the Test.java:\r\n\r\n\r\n```\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport org.apache.poi.ss.util.CellRangeAddress;\r\nimport org.apache.poi.xddf.usermodel.chart.AxisCrosses;\r\nimport org.apache.poi.xddf.usermodel.chart.AxisPosition;\r\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\r\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\r\nimport org.apache.poi.xddf.usermodel.chart.MarkerStyle;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFCategoryAxis;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFLineChartData;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFValueAxis;\r\nimport org.apache.poi.xssf.usermodel.XSSFChart;\r\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\r\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\r\nimport org.apache.poi.xssf.usermodel.XSSFRow;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\nimport it.myfiles.excel.balance.utility.Utils;\r\n\r\npublic class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tXSSFWorkbook wb = new XSSFWorkbook();\r\n\t\twb.setForceFormulaRecalculation(true);\r\n\t\twb.createSheet(&quot;My Test&quot;);\r\n\t\tXSSFSheet fonteSh = wb.getSheetAt(0);\r\n\t\t\r\n                XSSFRow row = Utils.takeRow(fonteSh, 0);\r\n\t\tfor (int i = 1; i &lt;= 12; i++) {\r\n\t\t\tUtils.takeCell(fonteSh, 0, i).setCellValue(String.valueOf(i));\r\n\t\t}\r\n\t\t\r\n\t\trow = Utils.takeRow(fonteSh, 1);\r\n\t\tUtils.takeCell(fonteSh, 1, 0).setCellValue(&quot;test1&quot;);\r\n\t\tfor (int i = 1; i &lt;= 12; i++) {\r\n\t\t\tUtils.prendiCella(fonteSh, 1, i).setCellValue(13-i);\r\n\t\t}\r\n\r\n\t\t//------------------------------------------------------------------------------------//\r\n\t\tXSSFDrawing drawing = fonteSh.createDrawingPatriarch();\r\n\t\tXSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0,     0, 4, 12, 11);\r\n\t\tXSSFChart chart = drawing.createChart(anchor);\r\n\t\tchart.setTitleText(&quot;Title chart&quot;);\r\n\t\tchart.setTitleOverlay(false);\r\n\t\tXDDFChartLegend legend = chart.getOrAddLegend();\r\n\t\tlegend.setPosition(LegendPosition.TOP);\r\n\t\tlegend.setOverlay(false);\r\n\t\tXDDFCategoryAxis categoryAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\r\n\t\tcategoryAxis.setTitle(&quot;x&quot;);\r\n\t\tXDDFValueAxis valueAxis = chart.createValueAxis(AxisPosition.LEFT);\r\n\t\tvalueAxis.setTitle(&quot;y&quot;);\r\n\t\tvalueAxis.setCrosses(AxisCrosses.MIN);\r\n\t\t\r\n\t\tXDDFLineChartData data = (XDDFLineChartData) chart.createData(ChartTypes.LINE, categoryAxis, valueAxis);\r\n\t\t\r\n\t\tXDDFDataSource&lt;String&gt; categorySource = XDDFDataSourcesFactory.fromStringCellRange(fonteSh, new CellRangeAddress(0, 0, 1, 12));\r\n\t\t\r\n\t\tXDDFNumericalDataSource&lt;Double&gt; source1 = XDDFDataSourcesFactory.fromNumericCellRange(fonteSh, new CellRangeAddress(1, 1, 1, 12));\r\n\t\t\r\n\t\tXDDFLineChartData.Series serie1 = (XDDFLineChartData.Series) data.addSeries(categorySource, source1);\r\n\t\tserie1.setTitle(&quot;title test&quot;,null);\r\n\t\tserie1.setSmooth(false);\r\n\t\tserie1.setMarkerStyle(MarkerStyle.CIRCLE);\r\n\t\t\r\n\t\tchart.plot(data);\r\n\t\t\r\n\t\t//Also added this lines but nothing changes\r\n\t\tchart.getCTChart().getPlotArea().getLineChartArray(0).addNewAxId().setVal(categoryAxis.getId());\r\n\t\tchart.getCTChart().getPlotArea().getLineChartArray(0).addNewAxId().setVal(valueAxis.getId());\r\n\t\t\r\n\t\t//------------------------------------------------------------------------------------//\r\n\t\tString filename = &quot;Test-chart&quot;+new SimpleDateFormat(&quot;yyyyMMdd-HHmmss&quot;).format(new Date())+&quot;.xlsx&quot;;\r\n\t\tUtils.writeWorkbookOnNewFile(wb, filename);\r\n\t\tSystem.out.println(&quot;END&quot;);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"Create Line Chart using Apache POI 5.2.3","body":"<p>I'm trying to create an Excel (.xlsx) file that inserts a line chart below a table of data using Apache POI 5.2.3 and jdk 11.\nUnfortunately when I open the file I get an error message and the chart is deleted from the sheet.\nTaking a code that worked last year for line charts , today this presents the same problem.\nBelow is the class with the code that generates this error and the related pom.xml.\nDoes anyone know how to help me removethe error?</p>\n<p>part of the pom.xml:</p>\n<pre><code>    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt;\n        &lt;poi.version&gt;5.2.3&lt;/poi.version&gt;\n        &lt;junit.version&gt;4.11&lt;/junit.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;${poi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml-full&lt;/artifactId&gt;\n            &lt;version&gt;${poi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- Needed? --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n            &lt;!-- &lt;version&gt;1.2.17&lt;/version&gt; --&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt; --&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>And the Test.java:</p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.xddf.usermodel.chart.AxisCrosses;\nimport org.apache.poi.xddf.usermodel.chart.AxisPosition;\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\nimport org.apache.poi.xddf.usermodel.chart.LegendPosition;\nimport org.apache.poi.xddf.usermodel.chart.MarkerStyle;\nimport org.apache.poi.xddf.usermodel.chart.XDDFCategoryAxis;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartLegend;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFLineChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFValueAxis;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFClientAnchor;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport it.myfiles.excel.balance.utility.Utils;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        XSSFWorkbook wb = new XSSFWorkbook();\n        wb.setForceFormulaRecalculation(true);\n        wb.createSheet(&quot;My Test&quot;);\n        XSSFSheet fonteSh = wb.getSheetAt(0);\n        \n                XSSFRow row = Utils.takeRow(fonteSh, 0);\n        for (int i = 1; i &lt;= 12; i++) {\n            Utils.takeCell(fonteSh, 0, i).setCellValue(String.valueOf(i));\n        }\n        \n        row = Utils.takeRow(fonteSh, 1);\n        Utils.takeCell(fonteSh, 1, 0).setCellValue(&quot;test1&quot;);\n        for (int i = 1; i &lt;= 12; i++) {\n            Utils.prendiCella(fonteSh, 1, i).setCellValue(13-i);\n        }\n\n        //------------------------------------------------------------------------------------//\n        XSSFDrawing drawing = fonteSh.createDrawingPatriarch();\n        XSSFClientAnchor anchor = drawing.createAnchor(0, 0, 0, 0,     0, 4, 12, 11);\n        XSSFChart chart = drawing.createChart(anchor);\n        chart.setTitleText(&quot;Title chart&quot;);\n        chart.setTitleOverlay(false);\n        XDDFChartLegend legend = chart.getOrAddLegend();\n        legend.setPosition(LegendPosition.TOP);\n        legend.setOverlay(false);\n        XDDFCategoryAxis categoryAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\n        categoryAxis.setTitle(&quot;x&quot;);\n        XDDFValueAxis valueAxis = chart.createValueAxis(AxisPosition.LEFT);\n        valueAxis.setTitle(&quot;y&quot;);\n        valueAxis.setCrosses(AxisCrosses.MIN);\n        \n        XDDFLineChartData data = (XDDFLineChartData) chart.createData(ChartTypes.LINE, categoryAxis, valueAxis);\n        \n        XDDFDataSource&lt;String&gt; categorySource = XDDFDataSourcesFactory.fromStringCellRange(fonteSh, new CellRangeAddress(0, 0, 1, 12));\n        \n        XDDFNumericalDataSource&lt;Double&gt; source1 = XDDFDataSourcesFactory.fromNumericCellRange(fonteSh, new CellRangeAddress(1, 1, 1, 12));\n        \n        XDDFLineChartData.Series serie1 = (XDDFLineChartData.Series) data.addSeries(categorySource, source1);\n        serie1.setTitle(&quot;title test&quot;,null);\n        serie1.setSmooth(false);\n        serie1.setMarkerStyle(MarkerStyle.CIRCLE);\n        \n        chart.plot(data);\n        \n        //Also added this lines but nothing changes\n        chart.getCTChart().getPlotArea().getLineChartArray(0).addNewAxId().setVal(categoryAxis.getId());\n        chart.getCTChart().getPlotArea().getLineChartArray(0).addNewAxId().setVal(valueAxis.getId());\n        \n        //------------------------------------------------------------------------------------//\n        String filename = &quot;Test-chart&quot;+new SimpleDateFormat(&quot;yyyyMMdd-HHmmss&quot;).format(new Date())+&quot;.xlsx&quot;;\n        Utils.writeWorkbookOnNewFile(wb, filename);\n        System.out.println(&quot;END&quot;);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1644054455,"post_id":70996809,"comment_id":125507157,"body_markdown":"`ChromeDriver` implements `TakesScreenshot`.","body":"<code>ChromeDriver</code> implements <code>TakesScreenshot</code>."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1644054459,"post_id":70996809,"comment_id":125507159,"body_markdown":"Does `ChromeDriver` implement `TakesScreenshot`? Where do you get the idea that there should be a shared super interface?","body":"Does <code>ChromeDriver</code> implement <code>TakesScreenshot</code>? Where do you get the idea that there should be a shared super interface?"},{"owner":{"account_id":1051012,"reputation":551,"user_id":1054955,"accept_rate":25,"display_name":"saiyan"},"score":0,"creation_date":1644074844,"post_id":70996809,"comment_id":125511357,"body_markdown":"But ChromeDriver object is type casted to WebDriver and WebDriver does not implement TakesScreenshot. Can you explain more here?","body":"But ChromeDriver object is type casted to WebDriver and WebDriver does not implement TakesScreenshot. Can you explain more here?"},{"owner":{"account_id":1051012,"reputation":551,"user_id":1054955,"accept_rate":25,"display_name":"saiyan"},"score":0,"creation_date":1644159564,"post_id":70996809,"comment_id":125526440,"body_markdown":"@Kayaman, To your first question - ChromeDriver implements RemoteWebDriver which inturn implements TakesScreenShot. And to the second one I guess I had wrong understanding about casting. Thanks for pointing out.","body":"@Kayaman, To your first question - ChromeDriver implements RemoteWebDriver which inturn implements TakesScreenShot. And to the second one I guess I had wrong understanding about casting. Thanks for pointing out."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1644231613,"post_id":70996809,"comment_id":125541451,"body_markdown":"Whether casting succeeds or not depends on the *concrete, execution-time type* of the object - not on the compile-time type of the expression. For example: `Object x = &quot;text&quot;; String y = (String) x; // Succeeds`. The concrete execution-time type of the object here is `ChromeDriver`, which implements `TakesScreenshot`, so the cast succeeds.","body":"Whether casting succeeds or not depends on the <i>concrete, execution-time type</i> of the object - not on the compile-time type of the expression. For example: <code>Object x = &quot;text&quot;; String y = (String) x; &#47;&#47; Succeeds</code>. The concrete execution-time type of the object here is <code>ChromeDriver</code>, which implements <code>TakesScreenshot</code>, so the cast succeeds."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1644234737,"creation_date":1644234737,"answer_id":71018119,"question_id":70996809,"body_markdown":"Let&#39;s take Selenium out of the picture and use built-in types for simplicity. Your code is similar (in terms of casting) to this:\r\n\r\n```java\r\nComparable&lt;String&gt; text = &quot;hello&quot;;\r\nint length = ((CharSequence) text).length();\r\n```\r\n\r\nThis compiles and executes without an exception because:\r\n\r\n- `&quot;hello&quot;` is a `String`\r\n- `String` implements both `Comparable&lt;String&gt;` and `CharSequence`\r\n- The cast to `CharSequence` is concerned by the *execution-time* type of the object that the value of `text` refers to, not the *compile-time* type `text`\r\n\r\nAt execution time, the value of `text` refers to a `String` object (&quot;hello&quot;). The fact that the compile-time type is `Comparable&lt;String&gt;` is irrelevant when it comes to the cast - so long as it&#39;s *possible*. (If you try to cast an expression with a compile-time type which can&#39;t *possibly* be valid, e.g. casting from `String` to `InputStream`, then you&#39;ll get a compile-time error. But when the compiler is happy that the cast could *potentially* succeed, the compile-time type of the variable is irrelevant when it comes to the execution-time handling of the cast.)","title":"Can someone explain how WebDriver casting to TakesScreenShot in Selenium working","body":"<p>Let's take Selenium out of the picture and use built-in types for simplicity. Your code is similar (in terms of casting) to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparable&lt;String&gt; text = &quot;hello&quot;;\nint length = ((CharSequence) text).length();\n</code></pre>\n<p>This compiles and executes without an exception because:</p>\n<ul>\n<li><code>&quot;hello&quot;</code> is a <code>String</code></li>\n<li><code>String</code> implements both <code>Comparable&lt;String&gt;</code> and <code>CharSequence</code></li>\n<li>The cast to <code>CharSequence</code> is concerned by the <em>execution-time</em> type of the object that the value of <code>text</code> refers to, not the <em>compile-time</em> type <code>text</code></li>\n</ul>\n<p>At execution time, the value of <code>text</code> refers to a <code>String</code> object (&quot;hello&quot;). The fact that the compile-time type is <code>Comparable&lt;String&gt;</code> is irrelevant when it comes to the cast - so long as it's <em>possible</em>. (If you try to cast an expression with a compile-time type which can't <em>possibly</em> be valid, e.g. casting from <code>String</code> to <code>InputStream</code>, then you'll get a compile-time error. But when the compiler is happy that the cast could <em>potentially</em> succeed, the compile-time type of the variable is irrelevant when it comes to the execution-time handling of the cast.)</p>\n"},{"tags":[],"owner":{"account_id":29899249,"reputation":1,"user_id":22913372,"display_name":"shridhar badiger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699957958,"creation_date":1699957958,"answer_id":77479886,"question_id":70996809,"body_markdown":"Non Primitive typecasting is possible in following 2 cases.\r\n1. There should be an Is A relationship between two objects\r\n2. Two objects (class or interface) should have a common child\r\n\r\nSince webdriver and takescreensht have the commom child (Remote webdriver) we can perform typecasting between webdriver and takescreenshot.\r\n\r\n\r\n","title":"Can someone explain how WebDriver casting to TakesScreenShot in Selenium working","body":"<p>Non Primitive typecasting is possible in following 2 cases.</p>\n<ol>\n<li>There should be an Is A relationship between two objects</li>\n<li>Two objects (class or interface) should have a common child</li>\n</ol>\n<p>Since webdriver and takescreensht have the commom child (Remote webdriver) we can perform typecasting between webdriver and takescreenshot.</p>\n"}],"owner":{"account_id":1051012,"reputation":551,"user_id":1054955,"accept_rate":25,"display_name":"saiyan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71018119,"answer_count":2,"score":1,"last_activity_date":1699957958,"creation_date":1644054214,"question_id":70996809,"body_markdown":"This is a *JAVA* conceptual question, not related to Selenium.\r\n\r\nFor a sample code like :\r\n```\r\n// Taking a screenshot in Selenium\r\nWebDriver driver= new ChromeDriver();\r\nFile srcFile=((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n```\r\nWhen I observe, *WebDriver* and *TakesScreenshot* do not share a common super interface. In that case how can casting be valid and why not a *ClassCastException*?\r\n\r\n***It would be really great if this can be explained with an example.***\r\n\r\n","title":"Can someone explain how WebDriver casting to TakesScreenShot in Selenium working","body":"<p>This is a <em>JAVA</em> conceptual question, not related to Selenium.</p>\n<p>For a sample code like :</p>\n<pre><code>// Taking a screenshot in Selenium\nWebDriver driver= new ChromeDriver();\nFile srcFile=((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\n</code></pre>\n<p>When I observe, <em>WebDriver</em> and <em>TakesScreenshot</em> do not share a common super interface. In that case how can casting be valid and why not a <em>ClassCastException</em>?</p>\n<p><em><strong>It would be really great if this can be explained with an example.</strong></em></p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":12201936,"reputation":414,"user_id":8906016,"display_name":"canillas"},"score":0,"creation_date":1585730187,"post_id":60966563,"comment_id":107861496,"body_markdown":"Maybe this?? https://stackoverflow.com/questions/192456/setting-a-log-file-name-to-include-current-date-in-log4j","body":"Maybe this?? <a href=\"https://stackoverflow.com/questions/192456/setting-a-log-file-name-to-include-current-date-in-log4j\" title=\"setting a log file name to include current date in log4j\">stackoverflow.com/questions/192456/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1699984930,"post_id":77479873,"comment_id":136598387,"body_markdown":"did you use any generative AI at all in the writing of this answer post?","body":"did you use any generative AI at all in the writing of this answer post?"}],"tags":[],"owner":{"account_id":21017778,"reputation":1,"user_id":15444849,"display_name":"tdrizzy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699957800,"creation_date":1699957800,"answer_id":77479873,"question_id":60966563,"body_markdown":"The issue in your configuration is that you are using the param tag with the name DatePattern, which is not a valid parameter for the `DailyRollingFileAppender`. The correct parameter name is `fileNamePattern`, and the value should be a string that includes the pattern for the date part of the file name. For example, to create a new log file every day, you would use the following value:\r\n\r\n    fileNamePattern=logs/app-%d{yyyy-MM-dd}.log\r\n\r\nHere is the complete configuration with the correct parameter name:\r\n\r\n    XML\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;!DOCTYPE log4j:configuration SYSTEM\r\n     \r\n    &quot;log4j.dtd&quot;&gt;\r\n    \r\n    \r\n    &lt;log4j:configuration\r\n     \r\n    xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;\r\n     \r\n    debug=&quot;false&quot;&gt;\r\n    \r\n    \r\n        \r\n    &lt;appender name=&quot;consoleAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n    \r\n            \r\n    &lt;param\r\n     \r\n    name=&quot;Target&quot;\r\n     \r\n    value=&quot;System.out&quot; /&gt;\r\n    \r\n            \r\n    &lt;layout\r\n     \r\n    class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \r\n                \r\n    &lt;param\r\n     \r\n    name=&quot;ConversionPattern&quot;\r\n     \r\n    value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;\r\n    \r\n            \r\n    &lt;/layout&gt;\r\n    \r\n        \r\n    &lt;/appender&gt;\r\n    \r\n    \r\n        \r\n    &lt;appender\r\n     \r\n    name=&quot;file&quot;\r\n     \r\n    class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n    \r\n            \r\n    &lt;param\r\n     \r\n    name=&quot;Threshold&quot;\r\n     \r\n    value=&quot;DEBUG&quot; /&gt;\r\n    \r\n            \r\n    &lt;param\r\n     \r\n    name=&quot;append&quot;\r\n     \r\n    value=&quot;true&quot; /&gt;\r\n    \r\n    \r\n            \r\n    &lt;param\r\n     \r\n    name=&quot;File&quot;\r\n     \r\n    value=&quot;logs/app.log&quot; /&gt;\r\n            &lt;param name=&quot;fileNamePattern&quot; value=&quot;logs/app-%d{yyyy-MM-dd}.log&quot; /&gt;\r\n    \r\n            &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \r\n                \r\n    &lt;param\r\n     \r\n    name=&quot;ConversionPattern&quot;\r\n     \r\n    value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;\r\n    \r\n            \r\n    &lt;/layout&gt;\r\n    \r\n        \r\n    &lt;/appender&gt;\r\n       \r\n    \r\n    \r\n        \r\n    &lt;root&gt;\r\n    \r\n            \r\n    &lt;priority\r\n     \r\n    value=&quot;DEBUG&quot;/&gt;\r\n    \r\n            \r\n    &lt;appender-ref\r\n     \r\n    ref=&quot;consoleAppender&quot; /&gt;\r\n            &lt;appender-ref ref=&quot;file&quot; /&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/log4j:configuration&gt;\r\n\r\nWith this configuration, you should now see a new log file created every day, with the date in the file name.","title":"Log file with date not generated","body":"<p>The issue in your configuration is that you are using the param tag with the name DatePattern, which is not a valid parameter for the <code>DailyRollingFileAppender</code>. The correct parameter name is <code>fileNamePattern</code>, and the value should be a string that includes the pattern for the date part of the file name. For example, to create a new log file every day, you would use the following value:</p>\n<pre><code>fileNamePattern=logs/app-%d{yyyy-MM-dd}.log\n</code></pre>\n<p>Here is the complete configuration with the correct parameter name:</p>\n<pre><code>XML\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE log4j:configuration SYSTEM\n \n&quot;log4j.dtd&quot;&gt;\n\n\n&lt;log4j:configuration\n \nxmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;\n \ndebug=&quot;false&quot;&gt;\n\n\n    \n&lt;appender name=&quot;consoleAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\n\n        \n&lt;param\n \nname=&quot;Target&quot;\n \nvalue=&quot;System.out&quot; /&gt;\n\n        \n&lt;layout\n \nclass=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n\n            \n&lt;param\n \nname=&quot;ConversionPattern&quot;\n \nvalue=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;\n\n        \n&lt;/layout&gt;\n\n    \n&lt;/appender&gt;\n\n\n    \n&lt;appender\n \nname=&quot;file&quot;\n \nclass=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\n\n        \n&lt;param\n \nname=&quot;Threshold&quot;\n \nvalue=&quot;DEBUG&quot; /&gt;\n\n        \n&lt;param\n \nname=&quot;append&quot;\n \nvalue=&quot;true&quot; /&gt;\n\n\n        \n&lt;param\n \nname=&quot;File&quot;\n \nvalue=&quot;logs/app.log&quot; /&gt;\n        &lt;param name=&quot;fileNamePattern&quot; value=&quot;logs/app-%d{yyyy-MM-dd}.log&quot; /&gt;\n\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n\n            \n&lt;param\n \nname=&quot;ConversionPattern&quot;\n \nvalue=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;\n\n        \n&lt;/layout&gt;\n\n    \n&lt;/appender&gt;\n   \n\n\n    \n&lt;root&gt;\n\n        \n&lt;priority\n \nvalue=&quot;DEBUG&quot;/&gt;\n\n        \n&lt;appender-ref\n \nref=&quot;consoleAppender&quot; /&gt;\n        &lt;appender-ref ref=&quot;file&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/log4j:configuration&gt;\n</code></pre>\n<p>With this configuration, you should now see a new log file created every day, with the date in the file name.</p>\n"}],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699957800,"creation_date":1585729727,"question_id":60966563,"body_markdown":"Trying to generate a log file with date.\r\n\r\nBelow is my `xml` configuration for `log4j`. From below configuration its generated only `app.log` but I am expecting `app.log.2020-3-1`. \r\n\r\nCan someone please help me what is the issue in my configuration? \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n    \r\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot; debug=&quot;false&quot;&gt;\r\n    \r\n    \t&lt;appender name=&quot;consoleAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;Target&quot; value=&quot;System.out&quot; /&gt;\r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \t&lt;/appender&gt;\r\n    \r\n    \t&lt;appender name=&quot;file&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;Threshold&quot; value=&quot;DEBUG&quot; /&gt;\r\n    \t\t&lt;param name=&quot;append&quot; value=&quot;true&quot; /&gt;\r\n    \t\t    \r\n    \t\t&lt;param name=&quot;File&quot; value=&quot;logs/app.log&quot; /&gt;\r\n    \t\t&lt;param name=&quot;DatePattern&quot; value=&quot;&#39;.&#39;yyyy-MM-dd&quot; /&gt;\r\n    \t\t\r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot; /&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \t&lt;/appender&gt;   \r\n    \t\r\n    \r\n    \t&lt;root&gt;\r\n    \t\t&lt;priority value=&quot;DEBUG&quot;/&gt;\r\n    \t\t&lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;file&quot; /&gt;\r\n    \t&lt;/root&gt;\r\n    \r\n    &lt;/log4j:configuration&gt;\r\n\r\n\r\n","title":"Log file with date not generated","body":"<p>Trying to generate a log file with date.</p>\n\n<p>Below is my <code>xml</code> configuration for <code>log4j</code>. From below configuration its generated only <code>app.log</code> but I am expecting <code>app.log.2020-3-1</code>. </p>\n\n<p>Can someone please help me what is the issue in my configuration? </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM \"log4j.dtd\"&gt;\n\n&lt;log4j:configuration xmlns:log4j=\"http://jakarta.apache.org/log4j/\" debug=\"false\"&gt;\n\n    &lt;appender name=\"consoleAppender\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n        &lt;param name=\"Target\" value=\"System.out\" /&gt;\n        &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n            &lt;param name=\"ConversionPattern\" value=\"%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\" /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"file\" class=\"org.apache.log4j.DailyRollingFileAppender\"&gt;\n        &lt;param name=\"Threshold\" value=\"DEBUG\" /&gt;\n        &lt;param name=\"append\" value=\"true\" /&gt;\n\n        &lt;param name=\"File\" value=\"logs/app.log\" /&gt;\n        &lt;param name=\"DatePattern\" value=\"'.'yyyy-MM-dd\" /&gt;\n\n        &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n            &lt;param name=\"ConversionPattern\" value=\"%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\" /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;   \n\n\n    &lt;root&gt;\n        &lt;priority value=\"DEBUG\"/&gt;\n        &lt;appender-ref ref=\"consoleAppender\" /&gt;\n        &lt;appender-ref ref=\"file\" /&gt;\n    &lt;/root&gt;\n\n&lt;/log4j:configuration&gt;\n</code></pre>\n"},{"tags":["java","eclipse","installation"],"comments":[{"owner":{"account_id":161216,"reputation":5296,"user_id":381802,"accept_rate":100,"display_name":"erikvimz"},"score":1,"creation_date":1419068172,"post_id":27578891,"comment_id":43582452,"body_markdown":"http://stackoverflow.com/questions/4945178/cannot-run-eclipse-jvm-terminated-exit-code-13","body":"<a href=\"http://stackoverflow.com/questions/4945178/cannot-run-eclipse-jvm-terminated-exit-code-13\" title=\"cannot run eclipse jvm terminated exit code 13\">stackoverflow.com/questions/4945178/&hellip;</a>"},{"owner":{"account_id":161216,"reputation":5296,"user_id":381802,"accept_rate":100,"display_name":"erikvimz"},"score":0,"creation_date":1419069072,"post_id":27578891,"comment_id":43582676,"body_markdown":"Could you post output of &#39;java -version&#39; within Command Prompt?","body":"Could you post output of &#39;java -version&#39; within Command Prompt?"},{"owner":{"account_id":161216,"reputation":5296,"user_id":381802,"accept_rate":100,"display_name":"erikvimz"},"score":0,"creation_date":1419069277,"post_id":27578891,"comment_id":43582727,"body_markdown":"@Delon Sorry forgot to mention, I was interested in the architectue, either its x86 or x64. If you have a 64bit eclipse you also need 64bit java. But if you have a 32bit eclipse and a 64bit java, you shouldn&#39;t have any problems. You can see from the image you&#39;ve provided that you have a 32bit java.","body":"@Delon Sorry forgot to mention, I was interested in the architectue, either its x86 or x64. If you have a 64bit eclipse you also need 64bit java. But if you have a 32bit eclipse and a 64bit java, you shouldn&#39;t have any problems. You can see from the image you&#39;ve provided that you have a 32bit java."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1419069288,"post_id":27578891,"comment_id":43582733,"body_markdown":"You have a 64 bit Eclipse and almost certainly a 32 bit Java. They must both be 64 bit or both 32 bit.","body":"You have a 64 bit Eclipse and almost certainly a 32 bit Java. They must both be 64 bit or both 32 bit."},{"owner":{"display_name":"user4380346"},"score":0,"creation_date":1419069562,"post_id":27578891,"comment_id":43582794,"body_markdown":"@greg-449 I&#39;ll go change that right away and see what happens.","body":"@greg-449 I&#39;ll go change that right away and see what happens."},{"owner":{"display_name":"user4380346"},"score":0,"creation_date":1419070051,"post_id":27578891,"comment_id":43582889,"body_markdown":"@greg-449 Oh god you&#39;re a life saver, it&#39;s finally installing. Thank you so much! Can&#39;t believe I missed something so simple...","body":"@greg-449 Oh god you&#39;re a life saver, it&#39;s finally installing. Thank you so much! Can&#39;t believe I missed something so simple..."},{"owner":{"account_id":1759056,"reputation":2515,"user_id":1606632,"display_name":"f_puras"},"score":0,"creation_date":1699957901,"post_id":27578891,"comment_id":136593022,"body_markdown":"Rollback because OP&#39;s edit made question incomprehensible","body":"Rollback because OP&#39;s edit made question incomprehensible"}],"answers":[{"tags":[],"owner":{"account_id":2479144,"reputation":362,"user_id":2159024,"display_name":"WillS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419069730,"creation_date":1419069730,"answer_id":27579110,"question_id":27578891,"body_markdown":"Try downloading a clean copy of Eclipse from [their website][1]. If that doesn&#39;t work, make sure you have both a 64-bit version of Eclipse and a 64-bit version of the JDK (or 32-bit Eclipse and 32-bit JDK). This can be solved by the version of the JDK required and editing the `eclipse.ini` file and adding filepath to the JDK.\r\n\r\nFor example:\r\n\r\n    -vm\r\n    C:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe\r\nwhere `C:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe`is the path to the file.\r\n\r\n  [1]: http://www.eclipse.org/downloads/?","title":"Eclipse - Java was started but returned exit code=13","body":"<p>Try downloading a clean copy of Eclipse from <a href=\"http://www.eclipse.org/downloads/?\" rel=\"nofollow\">their website</a>. If that doesn't work, make sure you have both a 64-bit version of Eclipse and a 64-bit version of the JDK (or 32-bit Eclipse and 32-bit JDK). This can be solved by the version of the JDK required and editing the <code>eclipse.ini</code> file and adding filepath to the JDK.</p>\n\n<p>For example:</p>\n\n<pre><code>-vm\nC:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe\n</code></pre>\n\n<p>where <code>C:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe</code>is the path to the file.</p>\n"}],"owner":{"display_name":"user4380346"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699957753,"creation_date":1419068073,"question_id":27578891,"body_markdown":"I&#39;ve been trying to simply install Eclipse, but something went wrong apparently... I&#39;ve even tried uninstalling Java and re-installing the latest Java hoping that would do something, but still nothing.\r\n\r\nHere&#39;s what I get when I run the eclipse.exe file (This is a temporary laptop by the way):\r\n\r\nhttp://gyazo.com/ccbc408dcf1bdbcbfae0143600eb58cd\r\n\r\nNow I barely know anything about computers and all, so I&#39;ll need a really numbed down explanation... any help is appreciated!\r\n\r\n~Deion","title":"Eclipse - Java was started but returned exit code=13","body":"<p>I've been trying to simply install Eclipse, but something went wrong apparently... I've even tried uninstalling Java and re-installing the latest Java hoping that would do something, but still nothing.</p>\n<p>Here's what I get when I run the eclipse.exe file (This is a temporary laptop by the way):</p>\n<p><a href=\"http://gyazo.com/ccbc408dcf1bdbcbfae0143600eb58cd\" rel=\"nofollow noreferrer\">http://gyazo.com/ccbc408dcf1bdbcbfae0143600eb58cd</a></p>\n<p>Now I barely know anything about computers and all, so I'll need a really numbed down explanation... any help is appreciated!</p>\n<p>~Deion</p>\n"},{"tags":["java","generics","arraylist"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699987886,"post_id":77479677,"comment_id":136598899,"body_markdown":"Your list has to be defined as `List&lt;Object&gt;`.  You cannot put the actual type in the code, because you haven’t made that type available to the compiler.","body":"Your list has to be defined as <code>List&lt;Object&gt;</code>.  You cannot put the actual type in the code, because you haven’t made that type available to the compiler."},{"owner":{"account_id":29898970,"reputation":1,"user_id":22913153,"display_name":"JJR"},"score":0,"creation_date":1700030191,"post_id":77479677,"comment_id":136603490,"body_markdown":"This works. Thanks !","body":"This works. Thanks !"}],"answers":[{"tags":[],"owner":{"account_id":1326560,"reputation":2671,"user_id":1271255,"display_name":"minus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699957697,"creation_date":1699957445,"answer_id":77479833,"question_id":77479677,"body_markdown":"This code syntax is wrong, and, at the same time is not clear what you are trying to achieve.\r\n\r\nYou can write `List&lt;MyClass&gt; myList` but not `List&lt;MyClass.class&gt; myList` or \r\n`Class c = MyList.class; List&lt;c&gt; myList` the class name which goes between the &lt;&gt; must be a class name known at compile time, and not a Class instance.\r\n\r\nMoreover, generics are erased at runtime, so it is of no practical use to add an _unknown_ type like that.\r\n\r\nIf the classes you load have some common interface which you know at compile time, you can use that.\r\n\r\n ","title":"Creating a java ArrayList instance of a generic type obtained dynamically from a classloader","body":"<p>This code syntax is wrong, and, at the same time is not clear what you are trying to achieve.</p>\n<p>You can write <code>List&lt;MyClass&gt; myList</code> but not <code>List&lt;MyClass.class&gt; myList</code> or\n<code>Class c = MyList.class; List&lt;c&gt; myList</code> the class name which goes between the &lt;&gt; must be a class name known at compile time, and not a Class instance.</p>\n<p>Moreover, generics are erased at runtime, so it is of no practical use to add an <em>unknown</em> type like that.</p>\n<p>If the classes you load have some common interface which you know at compile time, you can use that.</p>\n"}],"owner":{"account_id":29898970,"reputation":1,"user_id":22913153,"display_name":"JJR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699957697,"creation_date":1699956003,"question_id":77479677,"body_markdown":"I am trying to create an ArrayList that would have its generic type derived dynamically from a external pojo file. \r\n\r\nAnyway to get this done ?\r\n\r\n\r\nSo far I have this - \r\n\r\n```\r\nFile pojoJarFile = pojoJarFile = new File(&quot;C:/Test/my-pojo.jar&quot;);\r\nURLClassLoader genericClassLoader = new URLClassLoader(new URL[]{pojoJarFile.toURI().toURL()});\r\nClass genericClassRef = genericClassLoader.loadClass(&quot;com.mypackage.MyClass&quot;);\r\nList&lt;genericClassRef&gt; listInstance = new ArrayList&lt;genericClassRef&gt;();\r\n```\r\n\r\nBut its failed at compilation with the error - \r\n&gt; java: cannot find symbol\r\n&gt; symbol:   class genericClassRef\r\n&gt; location: class qmo.kafka.test.harness.QmoKafkaMessageBuilder","title":"Creating a java ArrayList instance of a generic type obtained dynamically from a classloader","body":"<p>I am trying to create an ArrayList that would have its generic type derived dynamically from a external pojo file.</p>\n<p>Anyway to get this done ?</p>\n<p>So far I have this -</p>\n<pre><code>File pojoJarFile = pojoJarFile = new File(&quot;C:/Test/my-pojo.jar&quot;);\nURLClassLoader genericClassLoader = new URLClassLoader(new URL[]{pojoJarFile.toURI().toURL()});\nClass genericClassRef = genericClassLoader.loadClass(&quot;com.mypackage.MyClass&quot;);\nList&lt;genericClassRef&gt; listInstance = new ArrayList&lt;genericClassRef&gt;();\n</code></pre>\n<p>But its failed at compilation with the error -</p>\n<blockquote>\n<p>java: cannot find symbol\nsymbol:   class genericClassRef\nlocation: class qmo.kafka.test.harness.QmoKafkaMessageBuilder</p>\n</blockquote>\n"},{"tags":["java","mysql","azure","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1670350971,"post_id":74704416,"comment_id":131854958,"body_markdown":"This will be a connection pooling setup issue, so you&#39;ll want to describe in more detail what options you are using on your datasource. Pool  min/max connection sizes, timeouts, TTL, idle, inactive and health check config etc. You&#39;ll want to check your datasource&#39;s docs to see what it accepts and how it can help debug the problem; working around it is might be nice, but you&#39;ll want to understand the underlying causes (like say an intermediary node cutting connections at specific times) so they don&#39;t impact performance.","body":"This will be a connection pooling setup issue, so you&#39;ll want to describe in more detail what options you are using on your datasource. Pool  min/max connection sizes, timeouts, TTL, idle, inactive and health check config etc. You&#39;ll want to check your datasource&#39;s docs to see what it accepts and how it can help debug the problem; working around it is might be nice, but you&#39;ll want to understand the underlying causes (like say an intermediary node cutting connections at specific times) so they don&#39;t impact performance."}],"answers":[{"tags":[],"owner":{"account_id":27371664,"reputation":16,"user_id":20877611,"display_name":"Rohan Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699957312,"creation_date":1699957312,"answer_id":77479815,"question_id":74704416,"body_markdown":"    spring.datasource.testWhileIdle = true\r\nspring.datasource.timeBetweenEvictionRunsMillis = 60000\r\nspring.datasource.validationQuery = SELECT 1\r\n\r\nI found this by digging up more about prod deployments , should work.:)","title":"Why is the MySQL connection getting closed when running from Azure Web Service with Spring boot &amp; JPA","body":"<pre><code>spring.datasource.testWhileIdle = true\n</code></pre>\n<p>spring.datasource.timeBetweenEvictionRunsMillis = 60000\nspring.datasource.validationQuery = SELECT 1</p>\n<p>I found this by digging up more about prod deployments , should work.:)</p>\n"}],"owner":{"account_id":10355724,"reputation":81,"user_id":7637781,"display_name":"Choppa dude"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77479815,"answer_count":1,"score":0,"last_activity_date":1699957312,"creation_date":1670337867,"question_id":74704416,"body_markdown":"I have a web service on Azure, with a spring boot application. This application uses JPA to communicate with a MySQL server. \r\n\r\nRunning this application on localhost has not given me any issues, but as soon as I published the code to the web service, problems started to arise.\r\n\r\nMy main problem right now is that whenever I am not using the application for around 5 minutes, the connection to MySQL is getting dropped and it throws an error whenever I try to access it again: `com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.` \r\n\r\nAnd it never opens another connection, which means I have to restart my app.\r\n\r\nI have been looking online for a while now for a solution and have only found that I should try putting `?autoReconnect=true` in my connection string, which unfortunately did not fix this issue.\r\n\r\nHope anyone can help. ","title":"Why is the MySQL connection getting closed when running from Azure Web Service with Spring boot &amp; JPA","body":"<p>I have a web service on Azure, with a spring boot application. This application uses JPA to communicate with a MySQL server.</p>\n<p>Running this application on localhost has not given me any issues, but as soon as I published the code to the web service, problems started to arise.</p>\n<p>My main problem right now is that whenever I am not using the application for around 5 minutes, the connection to MySQL is getting dropped and it throws an error whenever I try to access it again: <code>com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.</code></p>\n<p>And it never opens another connection, which means I have to restart my app.</p>\n<p>I have been looking online for a while now for a solution and have only found that I should try putting <code>?autoReconnect=true</code> in my connection string, which unfortunately did not fix this issue.</p>\n<p>Hope anyone can help.</p>\n"},{"tags":["java","spring","maven","jaeger"],"comments":[{"owner":{"account_id":4284875,"reputation":4472,"user_id":3503019,"accept_rate":42,"display_name":"Akash"},"score":0,"creation_date":1601011930,"post_id":64018706,"comment_id":113276339,"body_markdown":"Did you try `opentracing.spring.cloud.rxjava.enabled=true` to enable `Rxjava` tracing?","body":"Did you try <code>opentracing.spring.cloud.rxjava.enabled=true</code> to enable <code>Rxjava</code> tracing?"},{"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"score":0,"creation_date":1601014042,"post_id":64018706,"comment_id":113276937,"body_markdown":"Yep... Also no success","body":"Yep... Also no success"}],"answers":[{"comments":[{"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"score":0,"creation_date":1601273468,"post_id":64090692,"comment_id":113344285,"body_markdown":"Hello @Akash, the example that you have shared actually doesn&#39;t use the RX package. I already have an app with reactor working, I&#39;m looking for a solution using RxJava.","body":"Hello @Akash, the example that you have shared actually doesn&#39;t use the RX package. I already have an app with reactor working, I&#39;m looking for a solution using RxJava."},{"owner":{"account_id":4284875,"reputation":4472,"user_id":3503019,"accept_rate":42,"display_name":"Akash"},"score":0,"creation_date":1601274387,"post_id":64090692,"comment_id":113344601,"body_markdown":"Sorry about that. I thought you&#39;re trying to trace Reactive webservice. May I know what exactly are you trying to trace in `RxJava`?","body":"Sorry about that. I thought you&#39;re trying to trace Reactive webservice. May I know what exactly are you trying to trace in <code>RxJava</code>?"},{"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"score":0,"creation_date":1601277501,"post_id":64090692,"comment_id":113345760,"body_markdown":"I&#39;m basically testing the Jaeger capabilities, so I have rx.Observable, rx.Subscriber, rx.functions.Action and rx.Observer.","body":"I&#39;m basically testing the Jaeger capabilities, so I have rx.Observable, rx.Subscriber, rx.functions.Action and rx.Observer."},{"owner":{"account_id":4284875,"reputation":4472,"user_id":3503019,"accept_rate":42,"display_name":"Akash"},"score":0,"creation_date":1601277735,"post_id":64090692,"comment_id":113345864,"body_markdown":"I think the problem is with Jaeger dependencies in your pom. Did you try with above pom dependencies? I&#39;ve updated my answer.","body":"I think the problem is with Jaeger dependencies in your pom. Did you try with above pom dependencies? I&#39;ve updated my answer."},{"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"score":1,"creation_date":1601278345,"post_id":64090692,"comment_id":113346157,"body_markdown":"Just did and the app works, but no tracer is reported to Jeager. Commited the sample app here: https://github.com/julianocosta89/rxjava-jeager","body":"Just did and the app works, but no tracer is reported to Jeager. Commited the sample app here: <a href=\"https://github.com/julianocosta89/rxjava-jeager\" rel=\"nofollow noreferrer\">github.com/julianocosta89/rxjava-jeager</a>"},{"owner":{"account_id":4284875,"reputation":4472,"user_id":3503019,"accept_rate":42,"display_name":"Akash"},"score":0,"creation_date":1601285889,"post_id":64090692,"comment_id":113349520,"body_markdown":"I wonder if it will work by itself. Open-tracing provides decorators for Rxjava, maybe you need to use decorators. See my forked version which works fine - https://github.com/akashsolanki/rxjava-jeager.","body":"I wonder if it will work by itself. Open-tracing provides decorators for Rxjava, maybe you need to use decorators. See my forked version which works fine - <a href=\"https://github.com/akashsolanki/rxjava-jeager\" rel=\"nofollow noreferrer\">github.com/akashsolanki/rxjava-jeager</a>."},{"owner":{"account_id":4284875,"reputation":4472,"user_id":3503019,"accept_rate":42,"display_name":"Akash"},"score":0,"creation_date":1601285923,"post_id":64090692,"comment_id":113349540,"body_markdown":"Worth reading this - https://github.com/opentracing-contrib/java-rxjava/blob/master/README.md","body":"Worth reading this - <a href=\"https://github.com/opentracing-contrib/java-rxjava/blob/master/README.md\" rel=\"nofollow noreferrer\">github.com/opentracing-contrib/java-rxjava/blob/master/&hellip;</a>"},{"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"score":0,"creation_date":1601286575,"post_id":64090692,"comment_id":113349818,"body_markdown":"I saw this one, but for all the Spring Cloud samples, I didn&#39;t need to instrument anything. All was done automatically, that&#39;s why I was expecting the same behavior for RxJava. Instrumenting all the Rx objects work, but that&#39;s a manual task, and different from all the others. Also, in your fork you had to add the @Bean, what I wasn&#39;t expecting the need as well.","body":"I saw this one, but for all the Spring Cloud samples, I didn&#39;t need to instrument anything. All was done automatically, that&#39;s why I was expecting the same behavior for RxJava. Instrumenting all the Rx objects work, but that&#39;s a manual task, and different from all the others. Also, in your fork you had to add the @Bean, what I wasn&#39;t expecting the need as well."},{"owner":{"account_id":4284875,"reputation":4472,"user_id":3503019,"accept_rate":42,"display_name":"Akash"},"score":1,"creation_date":1601288934,"post_id":64090692,"comment_id":113350862,"body_markdown":"It&#39;s time to raise an issue then - https://github.com/opentracing-contrib/java-spring-cloud/issues/304","body":"It&#39;s time to raise an issue then - <a href=\"https://github.com/opentracing-contrib/java-spring-cloud/issues/304\" rel=\"nofollow noreferrer\">github.com/opentracing-contrib/java-spring-cloud/issues/304</a>"}],"tags":[],"owner":{"account_id":4284875,"reputation":4472,"user_id":3503019,"accept_rate":42,"display_name":"Akash"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601286201,"creation_date":1601223711,"answer_id":64090692,"question_id":64018706,"body_markdown":"**Update**:\r\n\r\nI got the same exception (`Tracer bean is not configured!..`) when I use your version of spring cloud jaeger dependencies. This is irrespective of the `RxJava` package.\r\n\r\nI think you can directly use `opentracing-spring-jaeger-cloud-starter` which is a combination of `opentracing-spring-cloud-starter` and `opentracing-spring-jaeger-starter`. Read [this details][1] for java spring jaeger.\r\n\r\n&gt; The opentracing-spring-jaeger-cloud-starter starter is convenience\r\n&gt; starter that includes both opentracing-spring-jaeger-starter and\r\n&gt; opentracing-spring-cloud-starter This means that by including it, all\r\n&gt; parts of the Spring Cloud stack supported by Opentracing will be\r\n&gt; instrumented\r\n\r\n**Note**: \r\n\r\nMaybe RxJava tracing won&#39;t work without registering the tracer using the decorators provided by [opentracing-contrib][3]. Please see the working app [here][4]. \r\n\r\nI have followed [this spring guide][2] for Reactive Restful webservice and `jaeger` worked with below `pom.xml` without any `Tracer bean` -\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.spring.opentrace&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaeger&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;jaeger&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;Hoxton.SR6&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;opentracing-spring-jaeger-cloud-starter&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;3.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n           &lt;dependency&gt;\r\n              &lt;groupId&gt;io.reactivex&lt;/groupId&gt;\r\n              &lt;artifactId&gt;rxjava&lt;/artifactId&gt;\r\n              &lt;version&gt;1.3.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/opentracing-contrib/java-spring-jaeger/blob/master/README.md\r\n  [2]: https://spring.io/guides/gs/reactive-rest-service/\r\n  [3]: https://github.com/opentracing-contrib/java-rxjava/blob/master/README.md\r\n  [4]: https://github.com/akashsolanki/rxjava-jeager","title":"Jaeger instrumentation for Spring Cloud RxJava","body":"<p><strong>Update</strong>:</p>\n<p>I got the same exception (<code>Tracer bean is not configured!..</code>) when I use your version of spring cloud jaeger dependencies. This is irrespective of the <code>RxJava</code> package.</p>\n<p>I think you can directly use <code>opentracing-spring-jaeger-cloud-starter</code> which is a combination of <code>opentracing-spring-cloud-starter</code> and <code>opentracing-spring-jaeger-starter</code>. Read <a href=\"https://github.com/opentracing-contrib/java-spring-jaeger/blob/master/README.md\" rel=\"nofollow noreferrer\">this details</a> for java spring jaeger.</p>\n<blockquote>\n<p>The opentracing-spring-jaeger-cloud-starter starter is convenience\nstarter that includes both opentracing-spring-jaeger-starter and\nopentracing-spring-cloud-starter This means that by including it, all\nparts of the Spring Cloud stack supported by Opentracing will be\ninstrumented</p>\n</blockquote>\n<p><strong>Note</strong>:</p>\n<p>Maybe RxJava tracing won't work without registering the tracer using the decorators provided by <a href=\"https://github.com/opentracing-contrib/java-rxjava/blob/master/README.md\" rel=\"nofollow noreferrer\">opentracing-contrib</a>. Please see the working app <a href=\"https://github.com/akashsolanki/rxjava-jeager\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I have followed <a href=\"https://spring.io/guides/gs/reactive-rest-service/\" rel=\"nofollow noreferrer\">this spring guide</a> for Reactive Restful webservice and <code>jaeger</code> worked with below <code>pom.xml</code> without any <code>Tracer bean</code> -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.spring.opentrace&lt;/groupId&gt;\n    &lt;artifactId&gt;jaeger&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;jaeger&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR6&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\n          &lt;artifactId&gt;opentracing-spring-jaeger-cloud-starter&lt;/artifactId&gt;\n          &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;io.reactivex&lt;/groupId&gt;\n          &lt;artifactId&gt;rxjava&lt;/artifactId&gt;\n          &lt;version&gt;1.3.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1008,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699957308,"creation_date":1600815122,"question_id":64018706,"body_markdown":"I&#39;m trying to instrument a Spring Cloud RxJava sample app with OpenTracing, and for some reason I&#39;m failing!\r\n\r\nI have a couple of other SpringCloud apps, like Hystrix, JDBC and JMS working fine with the tracing being reported to Jeager by just adding the maven dependency to it.\r\n\r\n\r\n\r\nFor RxJava, on the other hand, I can&#39;t figure it out why I&#39;m not able to follow the same approach...\r\n\r\n\r\n\r\nWhen I leave the App without a `Tracer @Bean`, I don&#39;t get anything in Jaeger and I get this message:\r\n\r\n```\r\nTracer bean is not configured! Switching to NoopTracer\r\n```\r\n\r\nAll the other SpringCloud apps are working without the `Tracer @Bean`, so I was expecting the same behavior for the RxJava...\r\n\r\nThe worst part is that whenever I add the `Tracer @Bean`, the bean is initialized, but still no data is sent to Jaeger...\r\nNot sure if it is related to this message:\r\n\r\n```\r\nBean &#39;tracer&#39; of type [io.jaegertracing.Tracer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n```\r\n\r\nDoes anyone have any idea?\r\n\r\nDo I need to set anything in the `application.properties`?\r\n\r\nI&#39;m posting below my `pom.xml` file:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example.springcloud&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;rxjava&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;rxjava&lt;/name&gt;\r\n\t&lt;description&gt;RxJava Spring Cloud&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;Hoxton.SR6&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opentracing-spring-cloud-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.5.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opentracing-spring-cloud-starter-jaeger&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.1.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.reactivex&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rxjava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.opentracing&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opentracing-util&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.32.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.opentracing&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opentracing-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.32.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nSample app committed here: https://github.com/julianocosta89/rxjava-jeager","title":"Jaeger instrumentation for Spring Cloud RxJava","body":"<p>I'm trying to instrument a Spring Cloud RxJava sample app with OpenTracing, and for some reason I'm failing!</p>\n<p>I have a couple of other SpringCloud apps, like Hystrix, JDBC and JMS working fine with the tracing being reported to Jeager by just adding the maven dependency to it.</p>\n<p>For RxJava, on the other hand, I can't figure it out why I'm not able to follow the same approach...</p>\n<p>When I leave the App without a <code>Tracer @Bean</code>, I don't get anything in Jaeger and I get this message:</p>\n<pre><code>Tracer bean is not configured! Switching to NoopTracer\n</code></pre>\n<p>All the other SpringCloud apps are working without the <code>Tracer @Bean</code>, so I was expecting the same behavior for the RxJava...</p>\n<p>The worst part is that whenever I add the <code>Tracer @Bean</code>, the bean is initialized, but still no data is sent to Jaeger...\nNot sure if it is related to this message:</p>\n<pre><code>Bean 'tracer' of type [io.jaegertracing.Tracer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n</code></pre>\n<p>Does anyone have any idea?</p>\n<p>Do I need to set anything in the <code>application.properties</code>?</p>\n<p>I'm posting below my <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example.springcloud&lt;/groupId&gt;\n    &lt;artifactId&gt;rxjava&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;rxjava&lt;/name&gt;\n    &lt;description&gt;RxJava Spring Cloud&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR6&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;opentracing-spring-cloud-starter&lt;/artifactId&gt;\n            &lt;version&gt;0.5.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;opentracing-spring-cloud-starter-jaeger&lt;/artifactId&gt;\n            &lt;version&gt;0.1.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.reactivex&lt;/groupId&gt;\n            &lt;artifactId&gt;rxjava&lt;/artifactId&gt;\n            &lt;version&gt;1.3.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentracing&lt;/groupId&gt;\n            &lt;artifactId&gt;opentracing-util&lt;/artifactId&gt;\n            &lt;version&gt;0.32.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentracing&lt;/groupId&gt;\n            &lt;artifactId&gt;opentracing-api&lt;/artifactId&gt;\n            &lt;version&gt;0.32.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Sample app committed here: <a href=\"https://github.com/julianocosta89/rxjava-jeager\" rel=\"nofollow noreferrer\">https://github.com/julianocosta89/rxjava-jeager</a></p>\n"},{"tags":["java","spring","spring-boot","updating"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1699952220,"post_id":77479207,"comment_id":136592051,"body_markdown":"It would be very helpful if you can share your dependencies, because this type of issue usually occurs when you start mixing versions. Ideally, you should only change the version of `spring-boot-dependencies` or `spring-boot-starter-parent` and all other versions should be managed for you.","body":"It would be very helpful if you can share your dependencies, because this type of issue usually occurs when you start mixing versions. Ideally, you should only change the version of <code>spring-boot-dependencies</code> or <code>spring-boot-starter-parent</code> and all other versions should be managed for you."}],"answers":[{"tags":[],"owner":{"account_id":15454059,"reputation":228,"user_id":11148688,"display_name":"Avinash Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699954967,"creation_date":1699954967,"answer_id":77479558,"question_id":77479207,"body_markdown":"RelaxedPropertyResolver errors could arise because of mixed Spring versions. You can do a Maven dependency tree and check for mixed Spring versions (the one of the parent POM and other versions from transitive dependencies. If you have mixed Spring versions in your dependency tree, fix them with dependency management or similar Maven features.","title":"Could not find class [org.springframework.boot.autoconfigure.web.MultipartAutoConfiguration]","body":"<p>RelaxedPropertyResolver errors could arise because of mixed Spring versions. You can do a Maven dependency tree and check for mixed Spring versions (the one of the parent POM and other versions from transitive dependencies. If you have mixed Spring versions in your dependency tree, fix them with dependency management or similar Maven features.</p>\n"},{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699956919,"creation_date":1699956919,"answer_id":77479775,"question_id":77479207,"body_markdown":"In 2017, this `MultipartAutoConfiguration` class was moved to `org.springframework.boot.autoconfigure.web.servlet` package with commit [Restructure web auto-configuration](https://github.com/spring-projects/spring-boot/commit/b76ca0bf8f61aafe2f812911f208200c96c4bc69#diff-16a62b1030b7e79d6796fa945ae0a3e127437c3ee6e688e1e33b64f6c753c810)\r\n\r\n```\r\n- package org.springframework.boot.autoconfigure.web;\r\n+ package org.springframework.boot.autoconfigure.web.servlet;\r\n```","title":"Could not find class [org.springframework.boot.autoconfigure.web.MultipartAutoConfiguration]","body":"<p>In 2017, this <code>MultipartAutoConfiguration</code> class was moved to <code>org.springframework.boot.autoconfigure.web.servlet</code> package with commit <a href=\"https://github.com/spring-projects/spring-boot/commit/b76ca0bf8f61aafe2f812911f208200c96c4bc69#diff-16a62b1030b7e79d6796fa945ae0a3e127437c3ee6e688e1e33b64f6c753c810\" rel=\"nofollow noreferrer\">Restructure web auto-configuration</a></p>\n<pre><code>- package org.springframework.boot.autoconfigure.web;\n+ package org.springframework.boot.autoconfigure.web.servlet;\n</code></pre>\n"}],"owner":{"account_id":29898293,"reputation":1,"user_id":22912615,"display_name":"prd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699956919,"creation_date":1699951322,"question_id":77479207,"body_markdown":"When upgrading from springboot1.5.x to 2.3.x, it prompts that could not find class [org.springframework.boot.bind.RelaxedPropertyResolver]. I introduced spring-boot-autoconfigure of version 2.3.x to fix this problem, and subsequently it prompts that could not  find class [org.springframework.boot.autoconfigure.web.MultipartAutoConfiguration], which in spring-boot-autoconfigure of version 1.5.x.\r\n\r\n\r\n\r\nI&#39;m not sure what the problem is - can anyone please help me out? Thanks.","title":"Could not find class [org.springframework.boot.autoconfigure.web.MultipartAutoConfiguration]","body":"<p>When upgrading from springboot1.5.x to 2.3.x, it prompts that could not find class [org.springframework.boot.bind.RelaxedPropertyResolver]. I introduced spring-boot-autoconfigure of version 2.3.x to fix this problem, and subsequently it prompts that could not  find class [org.springframework.boot.autoconfigure.web.MultipartAutoConfiguration], which in spring-boot-autoconfigure of version 1.5.x.</p>\n<p>I'm not sure what the problem is - can anyone please help me out? Thanks.</p>\n"},{"tags":["java","javabeans","aop","micronaut"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":1,"creation_date":1634735803,"post_id":69495448,"comment_id":123104938,"body_markdown":"See https://github.com/micronaut-projects/micronaut-core/issues/6352.","body":"See <a href=\"https://github.com/micronaut-projects/micronaut-core/issues/6352\" rel=\"nofollow noreferrer\">github.com/micronaut-projects/micronaut-core/issues/6352</a>."},{"owner":{"account_id":6876655,"reputation":1603,"user_id":5284890,"accept_rate":57,"display_name":"Hutsul"},"score":0,"creation_date":1637689474,"post_id":69495448,"comment_id":123891773,"body_markdown":"@JeffScottBrown, if you add the answer to the question I will mark it as an answer to my question.","body":"@JeffScottBrown, if you add the answer to the question I will mark it as an answer to my question."}],"owner":{"account_id":6876655,"reputation":1603,"user_id":5284890,"accept_rate":57,"display_name":"Hutsul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699956697,"creation_date":1633694123,"question_id":69495448,"body_markdown":"I have created [custom around advice][1] for formatting obj date fields upon certain conditions : `@XMLDateFormat(xmlTypes = XmlType.PDF, fieldNames = &quot;testDate&quot;, oldPattern = YYYYMMDD, newPattern = MMDDYYYY)` \r\n\r\nIf I use an annotation on the method of the target class annotated `@Singleton` annotation, the implemented method interceptor is successfully invoked: \r\n\r\n    @Singleton\r\n    public class MyService {\r\n    \r\n    @XMLDateFormat(xmlTypes = XmlType.PDF, fieldNames = &quot;testDate&quot;, oldPattern = YYYYMMDD, newPattern = MMDDYYYY)\r\n        public Foo buildFoo(Bar bar) {\r\n          // logic \r\n        }\r\n    }\r\n\r\nHowever, if I am creating `MyService` bean using [Beas factory][2] approach, the around advice method interceptor is not invoked, in places where the bean instance was injected:\r\n\r\n    @Factory\r\n    public class MyTestConfig {\r\n    \r\n        @Singleton\r\n        public MyService myService(){\r\n            return new MyService();\r\n        }\r\n    }\r\n\r\nCan anyone explain why it is happening and how to make it work with beans factory approach? \r\n\r\nThe used micronaut version is 2.5.1\r\n\r\n  [1]: https://docs.micronaut.io/2.5.1/guide/index.html#aop\r\n  [2]: https://docs.micronaut.io/2.5.1/guide/index.html#factories","title":"Micronaut: Around advice is not working for beans created using @Factory","body":"<p>I have created <a href=\"https://docs.micronaut.io/2.5.1/guide/index.html#aop\" rel=\"nofollow noreferrer\">custom around advice</a> for formatting obj date fields upon certain conditions : <code>@XMLDateFormat(xmlTypes = XmlType.PDF, fieldNames = &quot;testDate&quot;, oldPattern = YYYYMMDD, newPattern = MMDDYYYY)</code></p>\n<p>If I use an annotation on the method of the target class annotated <code>@Singleton</code> annotation, the implemented method interceptor is successfully invoked:</p>\n<pre><code>@Singleton\npublic class MyService {\n\n@XMLDateFormat(xmlTypes = XmlType.PDF, fieldNames = &quot;testDate&quot;, oldPattern = YYYYMMDD, newPattern = MMDDYYYY)\n    public Foo buildFoo(Bar bar) {\n      // logic \n    }\n}\n</code></pre>\n<p>However, if I am creating <code>MyService</code> bean using <a href=\"https://docs.micronaut.io/2.5.1/guide/index.html#factories\" rel=\"nofollow noreferrer\">Beas factory</a> approach, the around advice method interceptor is not invoked, in places where the bean instance was injected:</p>\n<pre><code>@Factory\npublic class MyTestConfig {\n\n    @Singleton\n    public MyService myService(){\n        return new MyService();\n    }\n}\n</code></pre>\n<p>Can anyone explain why it is happening and how to make it work with beans factory approach?</p>\n<p>The used micronaut version is 2.5.1</p>\n"},{"tags":["java","oop","inheritance","polymorphism"],"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1699894673,"post_id":77475481,"comment_id":136585377,"body_markdown":"Can you add a new class/interface?","body":"Can you add a new class/interface?"}],"answers":[{"comments":[{"owner":{"account_id":29893679,"reputation":13,"user_id":22909193,"display_name":"Mohamed Amir"},"score":0,"creation_date":1699900233,"post_id":77475528,"comment_id":136586318,"body_markdown":"Even desgin patterns will not solve it ?","body":"Even desgin patterns will not solve it ?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1699906105,"post_id":77475528,"comment_id":136587191,"body_markdown":"No.  If only `BankAccount` has the function `getAccountNumber`, then you can only call that function on a `BankAccount`.","body":"No.  If only <code>BankAccount</code> has the function <code>getAccountNumber</code>, then you can only call that function on a <code>BankAccount</code>."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699894444,"creation_date":1699894444,"answer_id":77475528,"question_id":77475481,"body_markdown":"You cannot.  There is no way to do this.  Only something of type `BankAccount` -- which would have to be cast to it -- can have `getAccountNumber()` called on it.","title":"Call a child class method from a parent class variable without using instanceof or casting","body":"<p>You cannot.  There is no way to do this.  Only something of type <code>BankAccount</code> -- which would have to be cast to it -- can have <code>getAccountNumber()</code> called on it.</p>\n"},{"comments":[{"owner":{"account_id":29893679,"reputation":13,"user_id":22909193,"display_name":"Mohamed Amir"},"score":0,"creation_date":1699900206,"post_id":77475582,"comment_id":136586308,"body_markdown":"but class WalletAccount doesn&#39;t have an Account Number","body":"but class WalletAccount doesn&#39;t have an Account Number"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699900878,"post_id":77475582,"comment_id":136586400,"body_markdown":"It must have an account number because it extends `Account` and it abstract. I have added `getAccountNumber()` to `Accout` and it is inherited by `WalletAccount`.","body":"It must have an account number because it extends <code>Account</code> and it abstract. I have added <code>getAccountNumber()</code> to <code>Accout</code> and it is inherited by <code>WalletAccount</code>."},{"owner":{"account_id":29893679,"reputation":13,"user_id":22909193,"display_name":"Mohamed Amir"},"score":0,"creation_date":1699904322,"post_id":77475582,"comment_id":136586882,"body_markdown":"The account number which in BankAccount class it represent of the bank account number which in the provider\nso wallet does&#39;t has a bank so it does&#39;t has bank account number","body":"The account number which in BankAccount class it represent of the bank account number which in the provider so wallet does&#39;t has a bank so it does&#39;t has bank account number"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699951573,"post_id":77475582,"comment_id":136591939,"body_markdown":"If it doesn&#39;t have an account number then it should *not* extend `Account`. This class provides a property `accountNumber`. So this number will have all subclasses. We cannot make this property inherited for specific classes, so it is inherited to all.","body":"If it doesn&#39;t have an account number then it should <i>not</i> extend <code>Account</code>. This class provides a property <code>accountNumber</code>. So this number will have all subclasses. We cannot make this property inherited for specific classes, so it is inherited to all."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699953823,"post_id":77475582,"comment_id":136592280,"body_markdown":"You have asked how to call a child method from the parent class without casting. It is only possible if the parent class has a virtual method overriden in the child class. You should have `getAcvountNumber()` both in `Account` and `BankAccount`. No matter how would you implement it but it should be overriden. Try to remove `abstract` from the method then `WalletAccount` would not have to implement it. The class variable belongs only to `BankAccount`, so it is not available to another child, but it&#39;s available to parent at runtime, because a parent is a child by instance.","body":"You have asked how to call a child method from the parent class without casting. It is only possible if the parent class has a virtual method overriden in the child class. You should have <code>getAcvountNumber()</code> both in <code>Account</code> and <code>BankAccount</code>. No matter how would you implement it but it should be overriden. Try to remove <code>abstract</code> from the method then <code>WalletAccount</code> would not have to implement it. The class variable belongs only to <code>BankAccount</code>, so it is not available to another child, but it&#39;s available to parent at runtime, because a parent is a child by instance."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1699954050,"post_id":77475582,"comment_id":136592311,"body_markdown":"You have not to cast the instance to child if parent has a virtual method which is overriden in the child. In polymorphism the virtual method is called by the instance regardless which type the instance belongs to and without downcasing.","body":"You have not to cast the instance to child if parent has a virtual method which is overriden in the child. In polymorphism the virtual method is called by the instance regardless which type the instance belongs to and without downcasing."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699955904,"creation_date":1699894976,"answer_id":77475582,"question_id":77475481,"body_markdown":"In the simple case you can add an `abstract` method to the parent class.\r\n\r\n```\r\npublic abstract class Account {\r\n    private double balance;\r\n    private String password;\r\n    private String userName;\r\n    private String mobileNumber;\r\n    private Provider provider;\r\n// some getters and setters\r\n    public abstract String getAccountNumber();\r\n}\r\n\r\n```\r\n\r\nThis makes an `accountNumber` property to be abstract. Every non-abstract subclass should implement the abstract method of `Account` class.\r\n\r\nThen you can use \r\n\r\n```\r\nAccount account = new BankAcccount() ;\r\naccount.getAccountNumber() ;\r\n```\r\n\r\n&gt;without using `instanceof` or casting like \r\n&gt;```\r\n&gt;((BankAccount) account)getAccountNumber() ;\r\n&gt;```\r\n\r\nThis is allowed because `abstract` methods can use [polymorphism][1].\r\n\r\n---\r\n\r\n\r\nAnother way is to use interface to access the property of some subclass. Another subclass might not implement this interface if it doesn&#39;t have such property. When you need to access the property then you upcast to the interface without `instanceof`.\r\n\r\n```\r\npublic interface AccountNumberAware {\r\n  public String getAccountNumber();\r\n}\r\n\r\npublic abstract class Account implements AccountNumberAware {\r\n    private double balance;\r\n    private String password;\r\n    private String userName;\r\n    private String mobileNumber;\r\n    private Provider provider;\r\n// some getters and setters\r\n\r\n    // dummy implementation of interface\r\n    public String getAccountNumber() {\r\n        return null;\r\n    }\r\n    \r\n}\r\npublic class BankAccount extends Account {\r\n \r\n        // this not in the parent class\r\n    private String accountNumber;\r\n\r\n    public String getAccountNumber() {\r\n        return accountNumber;\r\n    }\r\n\r\n    \r\n    public void setAccountNumber(String accountNumber) {\r\n        this.accountNumber = accountNumber ;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen you can use \r\n\r\n```\r\nAccount account = new BankAcccount() ;\r\naccount.getAccountNumber() ;\r\n```\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Polymorphism_(computer_science)","title":"Call a child class method from a parent class variable without using instanceof or casting","body":"<p>In the simple case you can add an <code>abstract</code> method to the parent class.</p>\n<pre><code>public abstract class Account {\n    private double balance;\n    private String password;\n    private String userName;\n    private String mobileNumber;\n    private Provider provider;\n// some getters and setters\n    public abstract String getAccountNumber();\n}\n\n</code></pre>\n<p>This makes an <code>accountNumber</code> property to be abstract. Every non-abstract subclass should implement the abstract method of <code>Account</code> class.</p>\n<p>Then you can use</p>\n<pre><code>Account account = new BankAcccount() ;\naccount.getAccountNumber() ;\n</code></pre>\n<blockquote>\n<p>without using <code>instanceof</code> or casting like</p>\n<pre><code>((BankAccount) account)getAccountNumber() ;\n</code></pre>\n</blockquote>\n<p>This is allowed because <code>abstract</code> methods can use <a href=\"https://en.m.wikipedia.org/wiki/Polymorphism_(computer_science)\" rel=\"nofollow noreferrer\">polymorphism</a>.</p>\n<hr />\n<p>Another way is to use interface to access the property of some subclass. Another subclass might not implement this interface if it doesn't have such property. When you need to access the property then you upcast to the interface without <code>instanceof</code>.</p>\n<pre><code>public interface AccountNumberAware {\n  public String getAccountNumber();\n}\n\npublic abstract class Account implements AccountNumberAware {\n    private double balance;\n    private String password;\n    private String userName;\n    private String mobileNumber;\n    private Provider provider;\n// some getters and setters\n\n    // dummy implementation of interface\n    public String getAccountNumber() {\n        return null;\n    }\n    \n}\npublic class BankAccount extends Account {\n \n        // this not in the parent class\n    private String accountNumber;\n\n    public String getAccountNumber() {\n        return accountNumber;\n    }\n\n    \n    public void setAccountNumber(String accountNumber) {\n        this.accountNumber = accountNumber ;\n    }\n}\n\n</code></pre>\n<p>Then you can use</p>\n<pre><code>Account account = new BankAcccount() ;\naccount.getAccountNumber() ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699904115,"creation_date":1699904115,"answer_id":77476413,"question_id":77475481,"body_markdown":"Technically, you shouldn&#39;t expect _Account_ to have a _getAccountNumber_ method.\r\n\r\nTry the following.\r\n\r\n```java\r\nabstract class Account {\r\n    private double balance;\r\n    private String password;\r\n    private String userName;\r\n    private String mobileNumber;\r\n    private Provider provider;\r\n\r\n    String getAccountNumber() {\r\n        return \r\n            this instanceof BankAccount \r\n                ? ((BankAccount) this).getAccountNumber() \r\n                : null;\r\n    }\r\n}\r\n```","title":"Call a child class method from a parent class variable without using instanceof or casting","body":"<p>Technically, you shouldn't expect <em>Account</em> to have a <em>getAccountNumber</em> method.</p>\n<p>Try the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Account {\n    private double balance;\n    private String password;\n    private String userName;\n    private String mobileNumber;\n    private Provider provider;\n\n    String getAccountNumber() {\n        return \n            this instanceof BankAccount \n                ? ((BankAccount) this).getAccountNumber() \n                : null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29893679,"reputation":13,"user_id":22909193,"display_name":"Mohamed Amir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1699954375,"accepted_answer_id":77475582,"answer_count":3,"score":1,"last_activity_date":1699955904,"creation_date":1699894070,"question_id":77475481,"body_markdown":"I have 4 classes \r\n\r\n```\r\npublic class User {\r\n\tprivate Account account;\r\n\r\n\tpublic void setAccount(Account account) {\r\n\t\tthis.account = account;\r\n\t}\r\n\r\n\tpublic Account getAccount() {\r\n\t\treturn this.account;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic abstract class Account {\r\n\tprivate double balance;\r\n\tprivate String password;\r\n\tprivate String userName;\r\n\tprivate String mobileNumber;\r\n\tprivate Provider provider;\r\n// some getters and setters\r\n    \r\n}\r\n```\r\n\r\n```\r\npublic class BankAccount extends Account {\r\n \r\n        // this not in the parent class\r\n\tprivate String accountNumber;\r\n\r\n\tpublic String getAccountNumber() {\r\n\t\treturn accountNumber;\r\n\t}\r\n\r\n\t\r\n\tpublic void setAccountNumber(String accountNumber) {\r\n\t\tthis.accountNumber = accountNumber ;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class WalletAccount extends Account {\r\n\r\n}\r\n```\r\n\r\nHow I redesign this to make like this \r\n\r\n```\r\nAccount account = new BankAcccount() ;\r\naccount.getAccountNumber() ;\r\n```\r\n\r\n&gt;without using `instanceof` or casting like \r\n&gt;```\r\n&gt;((BankAccount) account)getAccountNumber() ;\r\n&gt;```\r\n\r\nRedesign the classes to allow call of the `BankAccount` methods without using `instanceof` or casting using design patterns or add more classes any approach.","title":"Call a child class method from a parent class variable without using instanceof or casting","body":"<p>I have 4 classes</p>\n<pre><code>public class User {\n    private Account account;\n\n    public void setAccount(Account account) {\n        this.account = account;\n    }\n\n    public Account getAccount() {\n        return this.account;\n    }\n}\n</code></pre>\n<pre><code>public abstract class Account {\n    private double balance;\n    private String password;\n    private String userName;\n    private String mobileNumber;\n    private Provider provider;\n// some getters and setters\n    \n}\n</code></pre>\n<pre><code>public class BankAccount extends Account {\n \n        // this not in the parent class\n    private String accountNumber;\n\n    public String getAccountNumber() {\n        return accountNumber;\n    }\n\n    \n    public void setAccountNumber(String accountNumber) {\n        this.accountNumber = accountNumber ;\n    }\n}\n</code></pre>\n<pre><code>public class WalletAccount extends Account {\n\n}\n</code></pre>\n<p>How I redesign this to make like this</p>\n<pre><code>Account account = new BankAcccount() ;\naccount.getAccountNumber() ;\n</code></pre>\n<blockquote>\n<p>without using <code>instanceof</code> or casting like</p>\n<pre><code>((BankAccount) account)getAccountNumber() ;\n</code></pre>\n</blockquote>\n<p>Redesign the classes to allow call of the <code>BankAccount</code> methods without using <code>instanceof</code> or casting using design patterns or add more classes any approach.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":4337266,"reputation":5191,"user_id":3541465,"accept_rate":40,"display_name":"Aakash"},"score":1,"creation_date":1438790460,"post_id":9151619,"comment_id":51596482,"body_markdown":"Try this: https://androidbeasts.wordpress.com/2015/08/04/json-parsing-tutorial/","body":"Try this: <a href=\"https://androidbeasts.wordpress.com/2015/08/04/json-parsing-tutorial/\" rel=\"nofollow noreferrer\">androidbeasts.wordpress.com/2015/08/04/json-parsing-tutorial</a>"},{"owner":{"account_id":14213575,"reputation":2918,"user_id":10268067,"display_name":"Steve Moretz"},"score":0,"creation_date":1558365831,"post_id":9151619,"comment_id":99068523,"body_markdown":"try this : https://stackoverflow.com/a/56223923/10268067","body":"try this : <a href=\"https://stackoverflow.com/a/56223923/10268067\">stackoverflow.com/a/56223923/10268067</a>"}],"answers":[{"comments":[{"owner":{"account_id":1097324,"reputation":9677,"user_id":1090637,"accept_rate":80,"display_name":"macio.Jun"},"score":29,"creation_date":1377970572,"post_id":10593838,"comment_id":27288881,"body_markdown":"Be careful everyone, jObject.keys() returns the iterator with reverse index order.","body":"Be careful everyone, jObject.keys() returns the iterator with reverse index order."},{"owner":{"account_id":215438,"reputation":2110,"user_id":470091,"display_name":"caligari"},"score":91,"creation_date":1380635703,"post_id":10593838,"comment_id":28269350,"body_markdown":"@macio.Jun Nevertheless, the order doesn&#39;t matter in maps of properties: keys in `JSONObject` are unordered and your assertion was a simple reflection of a private implementation ;)","body":"@macio.Jun Nevertheless, the order doesn&#39;t matter in maps of properties: keys in <code>JSONObject</code> are unordered and your assertion was a simple reflection of a private implementation ;)"},{"owner":{"account_id":2518881,"reputation":3001,"user_id":2189626,"accept_rate":79,"display_name":"keen"},"score":11,"creation_date":1399369869,"post_id":10593838,"comment_id":36022194,"body_markdown":"What to use when we need all keys sequentially ?","body":"What to use when we need all keys sequentially ?"},{"owner":{"account_id":50307,"reputation":17321,"user_id":150016,"accept_rate":67,"display_name":"Tom"},"score":14,"creation_date":1401470584,"post_id":10593838,"comment_id":36912243,"body_markdown":"Slight quibble: doesn&#39;t this lead to doing the key lookup twice?  Maybe better to do &#39;Object o = jObject.get(key)&#39;, then check its type and then use it, without having to call get(key) again.","body":"Slight quibble: doesn&#39;t this lead to doing the key lookup twice?  Maybe better to do &#39;Object o = jObject.get(key)&#39;, then check its type and then use it, without having to call get(key) again."},{"owner":{"account_id":2014185,"reputation":822,"user_id":1801879,"accept_rate":69,"display_name":"user1801879"},"score":0,"creation_date":1434251735,"post_id":10593838,"comment_id":49697131,"body_markdown":"how do you actually retrieve the id key? @caligari","body":"how do you actually retrieve the id key? @caligari"},{"owner":{"account_id":215438,"reputation":2110,"user_id":470091,"display_name":"caligari"},"score":1,"creation_date":1434351507,"post_id":10593838,"comment_id":49722161,"body_markdown":"@Tom [For-Each loops](https://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html) are useful when iterating over a collection: `for (String key : keys)`","body":"@Tom <a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html\" rel=\"nofollow noreferrer\">For-Each loops</a> are useful when iterating over a collection: <code>for (String key : keys)</code>"},{"owner":{"account_id":9669794,"reputation":606,"user_id":7175142,"accept_rate":89,"display_name":"Doombringer"},"score":5,"creation_date":1551484956,"post_id":10593838,"comment_id":96670421,"body_markdown":"I would just like to mention, for people that have the problem of &quot;keys()&quot; method not getting resolved (saying that the JSONObject doesn&#39;t have that method): you can instead type `jsonObject.keySet().iterator()` and it works fine.","body":"I would just like to mention, for people that have the problem of &quot;keys()&quot; method not getting resolved (saying that the JSONObject doesn&#39;t have that method): you can instead type <code>jsonObject.keySet().iterator()</code> and it works fine."},{"owner":{"account_id":2628706,"reputation":2272,"user_id":2275199,"accept_rate":88,"display_name":"Recycled Steel"},"score":0,"creation_date":1613742451,"post_id":10593838,"comment_id":117176970,"body_markdown":"If you want an order it must be sent as a Array not a Keyed Array, if you want you can add an object to each Array item which is a Keyed Array.","body":"If you want an order it must be sent as a Array not a Keyed Array, if you want you can add an object to each Array item which is a Keyed Array."}],"tags":[],"owner":{"account_id":366449,"reputation":7870,"user_id":711993,"display_name":"Rickey"},"comment_count":8,"down_vote_count":0,"up_vote_count":695,"is_accepted":false,"score":695,"last_activity_date":1580652469,"creation_date":1337052970,"answer_id":10593838,"question_id":9151619,"body_markdown":"Maybe this will help:\r\n         \r\n    JSONObject jsonObject = new JSONObject(contents.trim());\r\n    Iterator&lt;String&gt; keys = jsonObject.keys();\r\n            \r\n    while(keys.hasNext()) {\r\n        String key = keys.next();\r\n        if (jsonObject.get(key) instanceof JSONObject) {\r\n              // do something with jsonObject here      \r\n        }\r\n    }","title":"How to iterate over a JSONObject?","body":"<p>Maybe this will help:</p>\n\n<pre><code>JSONObject jsonObject = new JSONObject(contents.trim());\nIterator&lt;String&gt; keys = jsonObject.keys();\n\nwhile(keys.hasNext()) {\n    String key = keys.next();\n    if (jsonObject.get(key) instanceof JSONObject) {\n          // do something with jsonObject here      \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":978901,"reputation":5019,"user_id":999162,"accept_rate":90,"display_name":"kontur"},"score":0,"creation_date":1455802594,"post_id":23870796,"comment_id":58659366,"body_markdown":"`jsonChildObject = iterator.next();` should probably define `jsonChildObject`, like `JSONObject jsonChildObject = iterator.next();`, no?","body":"<code>jsonChildObject = iterator.next();</code> should probably define <code>jsonChildObject</code>, like <code>JSONObject jsonChildObject = iterator.next();</code>, no?"},{"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"score":1,"creation_date":1460630303,"post_id":23870796,"comment_id":60836997,"body_markdown":"I like this solution, but declaring `Iterator&lt;JSONObject&gt;` will give a warning. I&#39;d replace it with the generic `&lt;?&gt;` and do a cast on the call to `next()`. Also, I&#39;d use `getString(&quot;id&quot;)` instead of `get(&quot;id&quot;)` to save doing a cast.","body":"I like this solution, but declaring <code>Iterator&lt;JSONObject&gt;</code> will give a warning. I&#39;d replace it with the generic <code>&lt;?&gt;</code> and do a cast on the call to <code>next()</code>. Also, I&#39;d use <code>getString(&quot;id&quot;)</code> instead of <code>get(&quot;id&quot;)</code> to save doing a cast."}],"tags":[],"owner":{"account_id":1494549,"reputation":2597,"user_id":1400815,"display_name":"aviomaksim"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1520266800,"creation_date":1401109330,"answer_id":23870796,"question_id":9151619,"body_markdown":"    Iterator&lt;JSONObject&gt; iterator = jsonObject.values().iterator();\r\n    \r\n    while (iterator.hasNext()) {\r\n     jsonChildObject = iterator.next();\r\n    \r\n     // Do whatever you want with jsonChildObject \r\n    \r\n      String id = (String) jsonChildObject.get(&quot;id&quot;);\r\n    }","title":"How to iterate over a JSONObject?","body":"<pre><code>Iterator&lt;JSONObject&gt; iterator = jsonObject.values().iterator();\n\nwhile (iterator.hasNext()) {\n jsonChildObject = iterator.next();\n\n // Do whatever you want with jsonChildObject \n\n  String id = (String) jsonChildObject.get(\"id\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":980236,"reputation":3073,"user_id":1000145,"accept_rate":74,"display_name":"Tim Vis&#233;e"},"score":1,"creation_date":1451525227,"post_id":25977001,"comment_id":56821806,"body_markdown":"Although this example isn&#39;t really understood as `Iterating` in Java, it works quite well! Thanks.","body":"Although this example isn&#39;t really understood as <code>Iterating</code> in Java, it works quite well! Thanks."},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1600803675,"post_id":25977001,"comment_id":113202289,"body_markdown":"Great answer. It works perfectly for almost all types of json objects nested or not. !","body":"Great answer. It works perfectly for almost all types of json objects nested or not. !"},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1632028114,"post_id":25977001,"comment_id":122380093,"body_markdown":"What is `Log. v() `? Which library it belongs to?","body":"What is <code>Log. v() </code>? Which library it belongs to?"},{"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"score":0,"creation_date":1641576005,"post_id":25977001,"comment_id":124848388,"body_markdown":"@tarekahf Android SDK","body":"@tarekahf Android SDK"}],"tags":[],"owner":{"account_id":4104143,"reputation":1841,"user_id":3368761,"accept_rate":100,"display_name":"AssemblyX"},"comment_count":4,"down_vote_count":0,"up_vote_count":106,"is_accepted":false,"score":106,"last_activity_date":1411397398,"creation_date":1411397398,"answer_id":25977001,"question_id":9151619,"body_markdown":"for my case i found iterating the `names()` works well\r\n\r\n    for(int i = 0; i&lt;jobject.names().length(); i++){\r\n        Log.v(TAG, &quot;key = &quot; + jobject.names().getString(i) + &quot; value = &quot; + jobject.get(jobject.names().getString(i)));\r\n    }","title":"How to iterate over a JSONObject?","body":"<p>for my case i found iterating the <code>names()</code> works well</p>\n\n<pre><code>for(int i = 0; i&lt;jobject.names().length(); i++){\n    Log.v(TAG, \"key = \" + jobject.names().getString(i) + \" value = \" + jobject.get(jobject.names().getString(i)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":943343,"reputation":441,"user_id":971051,"accept_rate":77,"display_name":"Skullbox"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1423324012,"creation_date":1423324012,"answer_id":28384106,"question_id":9151619,"body_markdown":"I made a small recursive function that goes through the entire json object and saves the key path and its value.\r\n\r\n    // My stored keys and values from the json object\r\n    HashMap&lt;String,String&gt; myKeyValues = new HashMap&lt;String,String&gt;();\r\n    \r\n    // Used for constructing the path to the key in the json object\r\n    Stack&lt;String&gt; key_path = new Stack&lt;String&gt;();\r\n    \r\n    // Recursive function that goes through a json object and stores \r\n    // its key and values in the hashmap \r\n    private void loadJson(JSONObject json){\r\n\t\tIterator&lt;?&gt; json_keys = json.keys();\r\n\r\n        while( json_keys.hasNext() ){\r\n            String json_key = (String)json_keys.next();\r\n            \r\n            try{\r\n            \tkey_path.push(json_key);\r\n            \tloadJson(json.getJSONObject(json_key));\r\n           }catch (JSONException e){\r\n        \t   // Build the path to the key\r\n               String key = &quot;&quot;;\r\n        \t   for(String sub_key: key_path){\r\n        \t\t   key += sub_key+&quot;.&quot;;\r\n        \t   }\r\n        \t   key = key.substring(0,key.length()-1);\r\n        \t   \r\n        \t   System.out.println(key+&quot;: &quot;+json.getString(json_key));\r\n        \t   key_path.pop();\r\n         \t   myKeyValues.put(key, json.getString(json_key));\r\n         \t}\r\n        }\r\n      \tif(key_path.size() &gt; 0){\r\n      \t\tkey_path.pop();\r\n        }\r\n\t}","title":"How to iterate over a JSONObject?","body":"<p>I made a small recursive function that goes through the entire json object and saves the key path and its value.</p>\n\n<pre><code>// My stored keys and values from the json object\nHashMap&lt;String,String&gt; myKeyValues = new HashMap&lt;String,String&gt;();\n\n// Used for constructing the path to the key in the json object\nStack&lt;String&gt; key_path = new Stack&lt;String&gt;();\n\n// Recursive function that goes through a json object and stores \n// its key and values in the hashmap \nprivate void loadJson(JSONObject json){\n    Iterator&lt;?&gt; json_keys = json.keys();\n\n    while( json_keys.hasNext() ){\n        String json_key = (String)json_keys.next();\n\n        try{\n            key_path.push(json_key);\n            loadJson(json.getJSONObject(json_key));\n       }catch (JSONException e){\n           // Build the path to the key\n           String key = \"\";\n           for(String sub_key: key_path){\n               key += sub_key+\".\";\n           }\n           key = key.substring(0,key.length()-1);\n\n           System.out.println(key+\": \"+json.getString(json_key));\n           key_path.pop();\n           myKeyValues.put(key, json.getString(json_key));\n        }\n    }\n    if(key_path.size() &gt; 0){\n        key_path.pop();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":8,"creation_date":1495647057,"post_id":32412500,"comment_id":75346495,"body_markdown":"They never said they were using org.json.simple (which is a google library). The standard org.json.JSONObject forces you to use an iterator, unfortunately.","body":"They never said they were using org.json.simple (which is a google library). The standard org.json.JSONObject forces you to use an iterator, unfortunately."},{"owner":{"account_id":1329585,"reputation":380,"user_id":1273755,"accept_rate":50,"display_name":"Lukuluba"},"score":1,"creation_date":1505724971,"post_id":32412500,"comment_id":79513151,"body_markdown":"You saved my but here!","body":"You saved my but here!"},{"owner":{"account_id":7621271,"reputation":195,"user_id":5779242,"display_name":"Ridhuvarshan"},"score":1,"creation_date":1558960743,"post_id":32412500,"comment_id":99260105,"body_markdown":"org.json.JSONObject does not have keySet()","body":"org.json.JSONObject does not have keySet()"},{"owner":{"account_id":422477,"reputation":4391,"user_id":801278,"accept_rate":74,"display_name":"maaz"},"score":0,"creation_date":1558995093,"post_id":32412500,"comment_id":99272397,"body_markdown":"What version are you looking? https://stleary.github.io/JSON-java/org/json/JSONObject.html#keySet--","body":"What version are you looking? <a href=\"https://stleary.github.io/JSON-java/org/json/JSONObject.html#keySet--\" rel=\"nofollow noreferrer\">stleary.github.io/JSON-java/org/json/JSONObject.html#keySet-&zwnj;&#8203;-</a>"},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":1,"creation_date":1600804957,"post_id":32412500,"comment_id":113202784,"body_markdown":"Nice answer. Easy to get spoiled by options. :) All options just work flawlessly. Brilliant.","body":"Nice answer. Easy to get spoiled by options. :) All options just work flawlessly. Brilliant."},{"owner":{"account_id":322451,"reputation":121,"user_id":641864,"display_name":"Kirk A"},"score":0,"creation_date":1693006026,"post_id":32412500,"comment_id":135707549,"body_markdown":"Nice use of recursion. I used a similar pattern, adding JSONArray testing to it, including JSONObject recursion within the array elements. The String became the fall-thru case.","body":"Nice use of recursion. I used a similar pattern, adding JSONArray testing to it, including JSONObject recursion within the array elements. The String became the fall-thru case."}],"tags":[],"owner":{"account_id":422477,"reputation":4391,"user_id":801278,"accept_rate":74,"display_name":"maaz"},"comment_count":6,"down_vote_count":1,"up_vote_count":85,"is_accepted":false,"score":84,"last_activity_date":1554167171,"creation_date":1441452326,"answer_id":32412500,"question_id":9151619,"body_markdown":"I will avoid iterator as they can add/remove object during iteration, also for clean code use for loop.  it will be simply clean &amp; fewer lines.\r\n\r\n\r\nUsing Java 8 and Lamda [Update 4/2/2019]\r\n\r\n\r\n\r\n\r\n    import org.json.JSONObject;\r\n    \r\n    public static void printJsonObject(JSONObject jsonObj) {\r\n        jsonObj.keySet().forEach(keyStr -&gt;\r\n        {\r\n            Object keyvalue = jsonObj.get(keyStr);\r\n            System.out.println(&quot;key: &quot;+ keyStr + &quot; value: &quot; + keyvalue);\r\n    \r\n            //for nested objects iteration if required\r\n            //if (keyvalue instanceof JSONObject)\r\n            //    printJsonObject((JSONObject)keyvalue);\r\n        });\r\n    }\r\n\r\n\r\n\r\nUsing old way [Update 4/2/2019]\r\n\r\n    import org.json.JSONObject;\r\n    \r\n    public static void printJsonObject(JSONObject jsonObj) {\r\n        for (String keyStr : jsonObj.keySet()) {\r\n            Object keyvalue = jsonObj.get(keyStr);\r\n    \r\n            //Print key and value\r\n            System.out.println(&quot;key: &quot;+ keyStr + &quot; value: &quot; + keyvalue);\r\n    \r\n            //for nested objects iteration if required\r\n            //if (keyvalue instanceof JSONObject)\r\n            //    printJsonObject((JSONObject)keyvalue);\r\n        }\r\n    }\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\nOriginal Answer\r\n\r\n    import org.json.simple.JSONObject;\r\n    public static void printJsonObject(JSONObject jsonObj) {\r\n\t\tfor (Object key : jsonObj.keySet()) {\r\n\t\t\t//based on you key types\r\n\t\t\tString keyStr = (String)key;\r\n\t\t\tObject keyvalue = jsonObj.get(keyStr);\r\n\t\t\t\r\n            //Print key and value\r\n            System.out.println(&quot;key: &quot;+ keyStr + &quot; value: &quot; + keyvalue);\r\n\t\t\t\r\n            //for nested objects iteration if required\r\n\t\t\tif (keyvalue instanceof JSONObject)\r\n\t\t\t\tprintJsonObject((JSONObject)keyvalue);\r\n\t\t}\r\n\t}","title":"How to iterate over a JSONObject?","body":"<p>I will avoid iterator as they can add/remove object during iteration, also for clean code use for loop.  it will be simply clean &amp; fewer lines.</p>\n\n<p>Using Java 8 and Lamda [Update 4/2/2019]</p>\n\n<pre><code>import org.json.JSONObject;\n\npublic static void printJsonObject(JSONObject jsonObj) {\n    jsonObj.keySet().forEach(keyStr -&gt;\n    {\n        Object keyvalue = jsonObj.get(keyStr);\n        System.out.println(\"key: \"+ keyStr + \" value: \" + keyvalue);\n\n        //for nested objects iteration if required\n        //if (keyvalue instanceof JSONObject)\n        //    printJsonObject((JSONObject)keyvalue);\n    });\n}\n</code></pre>\n\n<p>Using old way [Update 4/2/2019]</p>\n\n<pre><code>import org.json.JSONObject;\n\npublic static void printJsonObject(JSONObject jsonObj) {\n    for (String keyStr : jsonObj.keySet()) {\n        Object keyvalue = jsonObj.get(keyStr);\n\n        //Print key and value\n        System.out.println(\"key: \"+ keyStr + \" value: \" + keyvalue);\n\n        //for nested objects iteration if required\n        //if (keyvalue instanceof JSONObject)\n        //    printJsonObject((JSONObject)keyvalue);\n    }\n}\n</code></pre>\n\n<p>Original Answer</p>\n\n<pre><code>import org.json.simple.JSONObject;\npublic static void printJsonObject(JSONObject jsonObj) {\n    for (Object key : jsonObj.keySet()) {\n        //based on you key types\n        String keyStr = (String)key;\n        Object keyvalue = jsonObj.get(keyStr);\n\n        //Print key and value\n        System.out.println(\"key: \"+ keyStr + \" value: \" + keyvalue);\n\n        //for nested objects iteration if required\n        if (keyvalue instanceof JSONObject)\n            printJsonObject((JSONObject)keyvalue);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1495647748,"post_id":35517122,"comment_id":75346845,"body_markdown":"I voted for this, but &quot;String key : ....&quot; doesn&#39;t compile, and there doesn&#39;t seem to be a way to avoid an unchecked cast warning on the iterator. Stupid iterators.","body":"I voted for this, but &quot;String key : ....&quot; doesn&#39;t compile, and there doesn&#39;t seem to be a way to avoid an unchecked cast warning on the iterator. Stupid iterators."}],"tags":[],"owner":{"account_id":434721,"reputation":10478,"user_id":1414809,"accept_rate":100,"display_name":"Ebrahim Byagowi"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1464861447,"creation_date":1455925434,"answer_id":35517122,"question_id":9151619,"body_markdown":"First put this somewhere:\r\n\r\n    private &lt;T&gt; Iterable&lt;T&gt; iteratorToIterable(final Iterator&lt;T&gt; iterator) {\r\n        return new Iterable&lt;T&gt;() {\r\n            @Override\r\n            public Iterator&lt;T&gt; iterator() {\r\n                return iterator;\r\n            }\r\n        };\r\n    }\r\n\r\nOr if you have access to Java8, just this:\r\n\r\n    private &lt;T&gt; Iterable&lt;T&gt; iteratorToIterable(Iterator&lt;T&gt; iterator) {\r\n        return () -&gt; iterator;\r\n    }\r\n\r\nThen simply iterate over the object&#39;s keys and values:\r\n\r\n    for (String key : iteratorToIterable(object.keys())) {\r\n        JSONObject entry = object.getJSONObject(key);\r\n        // ...","title":"How to iterate over a JSONObject?","body":"<p>First put this somewhere:</p>\n\n<pre><code>private &lt;T&gt; Iterable&lt;T&gt; iteratorToIterable(final Iterator&lt;T&gt; iterator) {\n    return new Iterable&lt;T&gt;() {\n        @Override\n        public Iterator&lt;T&gt; iterator() {\n            return iterator;\n        }\n    };\n}\n</code></pre>\n\n<p>Or if you have access to Java8, just this:</p>\n\n<pre><code>private &lt;T&gt; Iterable&lt;T&gt; iteratorToIterable(Iterator&lt;T&gt; iterator) {\n    return () -&gt; iterator;\n}\n</code></pre>\n\n<p>Then simply iterate over the object's keys and values:</p>\n\n<pre><code>for (String key : iteratorToIterable(object.keys())) {\n    JSONObject entry = object.getJSONObject(key);\n    // ...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2716845,"reputation":476,"user_id":2344023,"display_name":"Roesmi"},"score":0,"creation_date":1506525716,"post_id":42253778,"comment_id":79858878,"body_markdown":"It iterates only the keys but you still need to get the value, so you can use jObject.get(k);","body":"It iterates only the keys but you still need to get the value, so you can use jObject.get(k);"},{"owner":{"account_id":5900053,"reputation":1127,"user_id":4643958,"accept_rate":79,"display_name":"Harshil Pansare"},"score":0,"creation_date":1507187087,"post_id":42253778,"comment_id":80112235,"body_markdown":"I get &quot;Cast from null to consumer requires minimum API 24&quot;","body":"I get &quot;Cast from null to consumer requires minimum API 24&quot;"}],"tags":[],"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487173240,"creation_date":1487173240,"answer_id":42253778,"question_id":9151619,"body_markdown":"With Java 8 and lambda, cleaner:\r\n\r\n    JSONObject jObject = new JSONObject(contents.trim());\r\n    \r\n    jObject.keys().forEachRemaining(k -&gt;\r\n    {\r\n    \r\n    });\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#forEachRemaining-java.util.function.Consumer-","title":"How to iterate over a JSONObject?","body":"<p>With Java 8 and lambda, cleaner:</p>\n\n<pre><code>JSONObject jObject = new JSONObject(contents.trim());\n\njObject.keys().forEachRemaining(k -&gt;\n{\n\n});\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#forEachRemaining-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#forEachRemaining-java.util.function.Consumer-</a></p>\n"},{"tags":[],"owner":{"account_id":962021,"reputation":11902,"user_id":986160,"accept_rate":83,"display_name":"Michail Michailidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507481331,"creation_date":1507481331,"answer_id":46633583,"question_id":9151619,"body_markdown":"I once had a json that had ids that needed to be incremented by one since they were 0-indexed and that was breaking Mysql auto-increment.\r\n\r\nSo for each object I wrote this code - might be helpful to someone:\r\n\r\n    public static void  incrementValue(JSONObject obj, List&lt;String&gt; keysToIncrementValue) {\r\n            Set&lt;String&gt; keys = obj.keySet();\r\n            for (String key : keys) {\r\n                Object ob = obj.get(key);\r\n    \r\n                if (keysToIncrementValue.contains(key)) {\r\n                    obj.put(key, (Integer)obj.get(key) + 1);\r\n                }\r\n    \r\n                if (ob instanceof JSONObject) {\r\n                    incrementValue((JSONObject) ob, keysToIncrementValue);\r\n                }\r\n                else if (ob instanceof JSONArray) {\r\n                    JSONArray arr = (JSONArray) ob;\r\n                    for (int i=0; i &lt; arr.length(); i++) {\r\n                        Object arrObj = arr.get(0);\r\n                        if (arrObj instanceof JSONObject) {\r\n                            incrementValue((JSONObject) arrObj, keysToIncrementValue);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nusage:\r\n\r\n    JSONObject object = ....\r\n    incrementValue(object, Arrays.asList(&quot;id&quot;, &quot;product_id&quot;, &quot;category_id&quot;, &quot;customer_id&quot;));\r\n\r\n\r\nthis can be transformed to work for JSONArray as parent object too ","title":"How to iterate over a JSONObject?","body":"<p>I once had a json that had ids that needed to be incremented by one since they were 0-indexed and that was breaking Mysql auto-increment.</p>\n\n<p>So for each object I wrote this code - might be helpful to someone:</p>\n\n<pre><code>public static void  incrementValue(JSONObject obj, List&lt;String&gt; keysToIncrementValue) {\n        Set&lt;String&gt; keys = obj.keySet();\n        for (String key : keys) {\n            Object ob = obj.get(key);\n\n            if (keysToIncrementValue.contains(key)) {\n                obj.put(key, (Integer)obj.get(key) + 1);\n            }\n\n            if (ob instanceof JSONObject) {\n                incrementValue((JSONObject) ob, keysToIncrementValue);\n            }\n            else if (ob instanceof JSONArray) {\n                JSONArray arr = (JSONArray) ob;\n                for (int i=0; i &lt; arr.length(); i++) {\n                    Object arrObj = arr.get(0);\n                    if (arrObj instanceof JSONObject) {\n                        incrementValue((JSONObject) arrObj, keysToIncrementValue);\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>JSONObject object = ....\nincrementValue(object, Arrays.asList(\"id\", \"product_id\", \"category_id\", \"customer_id\"));\n</code></pre>\n\n<p>this can be transformed to work for JSONArray as parent object too </p>\n"},{"comments":[{"owner":{"account_id":4206303,"reputation":1370,"user_id":3445110,"accept_rate":55,"display_name":"RCS"},"score":2,"creation_date":1518068625,"post_id":47252904,"comment_id":84354237,"body_markdown":"what is object here?","body":"what is object here?"},{"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"score":1,"creation_date":1518157402,"post_id":47252904,"comment_id":84398262,"body_markdown":"It&#39;s `JSONObject`. Something like `JSONObject object = new JSONObject (&quot;{\\&quot;key1\\&quot;,\\&quot;value1\\&quot;}&quot;);`. But do not put raw json to it, add items in it with `put ()` method: `object.put (&quot;key1&quot;, &quot;value1&quot;);`.","body":"It&#39;s <code>JSONObject</code>. Something like <code>JSONObject object = new JSONObject (&quot;{\\&quot;key1\\&quot;,\\&quot;value1\\&quot;}&quot;);</code>. But do not put raw json to it, add items in it with <code>put ()</code> method: <code>object.put (&quot;key1&quot;, &quot;value1&quot;);</code>."},{"owner":{"account_id":16376116,"reputation":578,"user_id":11828164,"display_name":"Ganesan J"},"score":0,"creation_date":1597254700,"post_id":47252904,"comment_id":112075811,"body_markdown":"Thanks Sir It is very helpful to me","body":"Thanks Sir It is very helpful to me"},{"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"score":0,"creation_date":1600433426,"post_id":47252904,"comment_id":113094922,"body_markdown":"@GanesanJ glad to hear it)","body":"@GanesanJ glad to hear it)"},{"owner":{"account_id":6582887,"reputation":408,"user_id":5086634,"accept_rate":80,"display_name":"Eliezer Miron"},"score":0,"creation_date":1634586266,"post_id":47252904,"comment_id":123060163,"body_markdown":"This is by far the cleanest answer, +1","body":"This is by far the cleanest answer, +1"},{"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"score":0,"creation_date":1644439684,"post_id":47252904,"comment_id":125610477,"body_markdown":"still unordered :((","body":"still unordered :(("},{"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"score":0,"creation_date":1644801537,"post_id":47252904,"comment_id":125695290,"body_markdown":"@CodeToLife it&#39;s not about ordering, it&#39;s about iterate. You can only order JSON object using another loop with `JSONAarray` of your `JSONObject` keys ordered in order you need (alphabetically, etc.).","body":"@CodeToLife it&#39;s not about ordering, it&#39;s about iterate. You can only order JSON object using another loop with <code>JSONAarray</code> of your <code>JSONObject</code> keys ordered in order you need (alphabetically, etc.)."}],"tags":[],"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"comment_count":7,"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1650817366,"creation_date":1510514482,"answer_id":47252904,"question_id":9151619,"body_markdown":"Can&#39;t believe that there is no more simple and secured solution instead of using an iterator in this answers...\r\n\r\nJSONObject `names ()` method returns a `JSONArray` of the `JSONObject` keys, so you can simply walk though it in loop:\r\n\r\n    JSONObject object = new JSONObject ();\r\n    JSONArray keys = object.names ();\r\n    \r\n    for (int i = 0; i &lt; keys.length (); i++) {\r\n       \r\n       String key = keys.getString (i); // Here&#39;s your key\r\n       String value = object.getString (key); // Here&#39;s your value\r\n       \r\n    }","title":"How to iterate over a JSONObject?","body":"<p>Can't believe that there is no more simple and secured solution instead of using an iterator in this answers...</p>\n<p>JSONObject <code>names ()</code> method returns a <code>JSONArray</code> of the <code>JSONObject</code> keys, so you can simply walk though it in loop:</p>\n<pre><code>JSONObject object = new JSONObject ();\nJSONArray keys = object.names ();\n\nfor (int i = 0; i &lt; keys.length (); i++) {\n   \n   String key = keys.getString (i); // Here's your key\n   String value = object.getString (key); // Here's your value\n   \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6363541,"reputation":611,"user_id":4938251,"accept_rate":67,"display_name":"Yurii Rabeshko"},"score":0,"creation_date":1524912123,"post_id":48216581,"comment_id":87167413,"body_markdown":"I think this is the most convenient solution. Thanks for advice :)","body":"I think this is the most convenient solution. Thanks for advice :)"},{"owner":{"account_id":2116286,"reputation":371,"user_id":1880525,"display_name":"chasm"},"score":1,"creation_date":1552591298,"post_id":48216581,"comment_id":97080177,"body_markdown":"Could you complete your example?","body":"Could you complete your example?"}],"tags":[],"owner":{"account_id":5753148,"reputation":1525,"user_id":4542084,"display_name":"Burrito"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1515708392,"creation_date":1515708392,"answer_id":48216581,"question_id":9151619,"body_markdown":"org.json.JSONObject now has a keySet() method which returns a `Set&lt;String&gt;` and can easily be looped through with a for-each. \r\n\r\n    for(String key : jsonObject.keySet())","title":"How to iterate over a JSONObject?","body":"<p>org.json.JSONObject now has a keySet() method which returns a <code>Set&lt;String&gt;</code> and can easily be looped through with a for-each. </p>\n\n<pre><code>for(String key : jsonObject.keySet())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9134977,"reputation":121,"user_id":6794989,"display_name":"Ramji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520403425,"creation_date":1520403425,"answer_id":49145359,"question_id":9151619,"body_markdown":"Below code worked fine for me. Please help me if tuning can be done. This gets all the keys even from the nested JSON objects. \r\n\r\n\r\n\r\n    public static void main(String args[]) {\r\n\t\tString s = &quot;&quot;; // Sample JSON to be parsed\r\n\r\n\t\tJSONParser parser = new JSONParser();\r\n\t\tJSONObject obj = null;\r\n\t\ttry {\r\n\t\t\tobj = (JSONObject) parser.parse(s);\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tList&lt;String&gt; parameterKeys = new ArrayList&lt;String&gt;(obj.keySet());\r\n\t\t\tList&lt;String&gt;  result = null;\r\n\t\t\tList&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n\t\t\tfor (String str : parameterKeys) {\r\n\t\t\t\tkeys.add(str);\r\n\t\t\t\tresult = this.addNestedKeys(obj, keys, str);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(result.toString());\r\n\t\t} catch (ParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n    public static List&lt;String&gt; addNestedKeys(JSONObject obj, List&lt;String&gt; keys, String key) {\r\n\t\tif (isNestedJsonAnArray(obj.get(key))) {\r\n\t\t\tJSONArray array = (JSONArray) obj.get(key);\r\n\t\t\tfor (int i = 0; i &lt; array.length(); i++) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tJSONObject arrayObj = (JSONObject) array.get(i);\r\n\t\t\t\t\tList&lt;String&gt; list = new ArrayList&lt;&gt;(arrayObj.keySet());\r\n\t\t\t\t\tfor (String s : list) {\r\n\t\t\t\t\t\tputNestedKeysToList(keys, key, s);\r\n\t\t\t\t\t\taddNestedKeys(arrayObj, keys, s);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (JSONException e) {\r\n\t\t\t\t\tLOG.error(&quot;&quot;, e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (isNestedJsonAnObject(obj.get(key))) {\r\n\t\t\tJSONObject arrayObj = (JSONObject) obj.get(key);\r\n\t\t\tList&lt;String&gt; nestedKeys = new ArrayList&lt;&gt;(arrayObj.keySet());\r\n\t\t\tfor (String s : nestedKeys) {\r\n\t\t\t\tputNestedKeysToList(keys, key, s);\r\n\t\t\t\taddNestedKeys(arrayObj, keys, s);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn keys;\r\n\t}\r\n\r\n    private static void putNestedKeysToList(List&lt;String&gt; keys, String key, String s) {\r\n\t\tif (!keys.contains(key + Constants.JSON_KEY_SPLITTER + s)) {\r\n\t\t\tkeys.add(key + Constants.JSON_KEY_SPLITTER + s);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n    private static boolean isNestedJsonAnObject(Object object) {\r\n\t\tboolean bool = false;\r\n\t\tif (object instanceof JSONObject) {\r\n\t\t\tbool = true;\r\n\t\t}\r\n\t\treturn bool;\r\n\t}\r\n\r\n    private static boolean isNestedJsonAnArray(Object object) {\r\n\t\tboolean bool = false;\r\n\t\tif (object instanceof JSONArray) {\r\n\t\t\tbool = true;\r\n\t\t}\r\n\t\treturn bool;\r\n\t}\r\n\r\n\t","title":"How to iterate over a JSONObject?","body":"<p>Below code worked fine for me. Please help me if tuning can be done. This gets all the keys even from the nested JSON objects. </p>\n\n<pre><code>public static void main(String args[]) {\n    String s = \"\"; // Sample JSON to be parsed\n\n    JSONParser parser = new JSONParser();\n    JSONObject obj = null;\n    try {\n        obj = (JSONObject) parser.parse(s);\n        @SuppressWarnings(\"unchecked\")\n        List&lt;String&gt; parameterKeys = new ArrayList&lt;String&gt;(obj.keySet());\n        List&lt;String&gt;  result = null;\n        List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n        for (String str : parameterKeys) {\n            keys.add(str);\n            result = this.addNestedKeys(obj, keys, str);\n        }\n        System.out.println(result.toString());\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n}\npublic static List&lt;String&gt; addNestedKeys(JSONObject obj, List&lt;String&gt; keys, String key) {\n    if (isNestedJsonAnArray(obj.get(key))) {\n        JSONArray array = (JSONArray) obj.get(key);\n        for (int i = 0; i &lt; array.length(); i++) {\n            try {\n                JSONObject arrayObj = (JSONObject) array.get(i);\n                List&lt;String&gt; list = new ArrayList&lt;&gt;(arrayObj.keySet());\n                for (String s : list) {\n                    putNestedKeysToList(keys, key, s);\n                    addNestedKeys(arrayObj, keys, s);\n                }\n            } catch (JSONException e) {\n                LOG.error(\"\", e);\n            }\n        }\n    } else if (isNestedJsonAnObject(obj.get(key))) {\n        JSONObject arrayObj = (JSONObject) obj.get(key);\n        List&lt;String&gt; nestedKeys = new ArrayList&lt;&gt;(arrayObj.keySet());\n        for (String s : nestedKeys) {\n            putNestedKeysToList(keys, key, s);\n            addNestedKeys(arrayObj, keys, s);\n        }\n    }\n    return keys;\n}\n\nprivate static void putNestedKeysToList(List&lt;String&gt; keys, String key, String s) {\n    if (!keys.contains(key + Constants.JSON_KEY_SPLITTER + s)) {\n        keys.add(key + Constants.JSON_KEY_SPLITTER + s);\n    }\n}\n\n\n\nprivate static boolean isNestedJsonAnObject(Object object) {\n    boolean bool = false;\n    if (object instanceof JSONObject) {\n        bool = true;\n    }\n    return bool;\n}\n\nprivate static boolean isNestedJsonAnArray(Object object) {\n    boolean bool = false;\n    if (object instanceof JSONArray) {\n        bool = true;\n    }\n    return bool;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2662065,"reputation":1292,"user_id":2301494,"display_name":"Sanchi Girotra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549253811,"creation_date":1546578794,"answer_id":54033399,"question_id":9151619,"body_markdown":"We used below set of code to iterate over `JSONObject` fields\r\n\r\n    Iterator iterator = jsonObject.entrySet().iterator();\r\n\r\n    while (iterator.hasNext())  {\r\n       \t\tEntry&lt;String, JsonElement&gt; entry = (Entry&lt;String, JsonElement&gt;) iterator.next();\r\n        \tprocessedJsonObject.add(entry.getKey(), entry.getValue());\r\n    }","title":"How to iterate over a JSONObject?","body":"<p>We used below set of code to iterate over <code>JSONObject</code> fields</p>\n\n<pre><code>Iterator iterator = jsonObject.entrySet().iterator();\n\nwhile (iterator.hasNext())  {\n        Entry&lt;String, JsonElement&gt; entry = (Entry&lt;String, JsonElement&gt;) iterator.next();\n        processedJsonObject.add(entry.getKey(), entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11273890,"reputation":37,"user_id":8268486,"display_name":"Huy Th&#224;nh Trương"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1553687465,"creation_date":1553684387,"answer_id":55375585,"question_id":9151619,"body_markdown":"This is is another working solution to the problem:\r\n\r\n    \t\r\n\tpublic void test (){\r\n\t\r\n\t\tMap&lt;String, String&gt; keyValueStore = new HasMap&lt;&gt;();\r\n\t\tStack&lt;String&gt; keyPath = new Stack();\r\n\t\tJSONObject json = new JSONObject(&quot;thisYourJsonObject&quot;);\r\n\t\tkeyValueStore = getAllXpathAndValueFromJsonObject(json, keyValueStore, keyPath);\r\n\t\tfor(Map.Entry&lt;String, String&gt; map : keyValueStore.entrySet()) {\r\n\t\t\tSystem.out.println(map.getKey() + &quot;:&quot; + map.getValue());\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tpublic Map&lt;String, String&gt; getAllXpathAndValueFromJsonObject(JSONObject json, Map&lt;String, String&gt; keyValueStore, Stack&lt;String&gt; keyPath) {\r\n\t\tSet&lt;String&gt; jsonKeys = json.keySet();\r\n\t\tfor (Object keyO : jsonKeys) {\r\n\t\t\tString key = (String) keyO;\r\n\t\t\tkeyPath.push(key);\r\n\t\t\tObject object = json.get(key);\r\n\r\n\t\t\tif (object instanceof JSONObject) {\r\n\t\t\t\tgetAllXpathAndValueFromJsonObject((JSONObject) object, keyValueStore, keyPath);\r\n\t\t\t}\r\n\r\n\t\t\tif (object instanceof JSONArray) {\r\n\t\t\t\tdoJsonArray((JSONArray) object, keyPath, keyValueStore, json, key);\r\n\t\t\t}\r\n\r\n\t\t\tif (object instanceof String || object instanceof Boolean || object.equals(null)) {\r\n\t\t\t\tString keyStr = &quot;&quot;;\r\n\r\n\t\t\t\tfor (String keySub : keyPath) {\r\n\t\t\t\t\tkeyStr += keySub + &quot;.&quot;;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkeyStr = keyStr.substring(0, keyStr.length() - 1);\r\n\r\n\t\t\t\tkeyPath.pop();\r\n\r\n\t\t\t\tkeyValueStore.put(keyStr, json.get(key).toString());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (keyPath.size() &gt; 0) {\r\n\t\t\tkeyPath.pop();\r\n\t\t}\r\n\r\n\t\treturn keyValueStore;\r\n\t}\r\n\r\n\tpublic void doJsonArray(JSONArray object, Stack&lt;String&gt; keyPath, Map&lt;String, String&gt; keyValueStore, JSONObject json,\r\n\t\t\tString key) {\r\n\t\tJSONArray arr = (JSONArray) object;\r\n\t\tfor (int i = 0; i &lt; arr.length(); i++) {\r\n\t\t\tkeyPath.push(Integer.toString(i));\r\n\t\t\tObject obj = arr.get(i);\r\n\t\t\tif (obj instanceof JSONObject) {\r\n\t\t\t\tgetAllXpathAndValueFromJsonObject((JSONObject) obj, keyValueStore, keyPath);\r\n\t\t\t}\r\n\r\n\t\t\tif (obj instanceof JSONArray) {\r\n\t\t\t\tdoJsonArray((JSONArray) obj, keyPath, keyValueStore, json, key);\r\n\t\t\t}\r\n\r\n\t\t\tif (obj instanceof String || obj instanceof Boolean || obj.equals(null)) {\r\n\t\t\t\tString keyStr = &quot;&quot;;\r\n\r\n\t\t\t\tfor (String keySub : keyPath) {\r\n\t\t\t\t\tkeyStr += keySub + &quot;.&quot;;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkeyStr = keyStr.substring(0, keyStr.length() - 1);\r\n\r\n\t\t\t\tkeyPath.pop();\r\n\r\n\t\t\t\tkeyValueStore.put(keyStr , json.get(key).toString());\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (keyPath.size() &gt; 0) {\r\n\t\t\tkeyPath.pop();\r\n\t\t}\r\n\t}","title":"How to iterate over a JSONObject?","body":"<p>This is is another working solution to the problem:</p>\n\n<pre><code>public void test (){\n\n    Map&lt;String, String&gt; keyValueStore = new HasMap&lt;&gt;();\n    Stack&lt;String&gt; keyPath = new Stack();\n    JSONObject json = new JSONObject(\"thisYourJsonObject\");\n    keyValueStore = getAllXpathAndValueFromJsonObject(json, keyValueStore, keyPath);\n    for(Map.Entry&lt;String, String&gt; map : keyValueStore.entrySet()) {\n        System.out.println(map.getKey() + \":\" + map.getValue());\n    }   \n}\n\npublic Map&lt;String, String&gt; getAllXpathAndValueFromJsonObject(JSONObject json, Map&lt;String, String&gt; keyValueStore, Stack&lt;String&gt; keyPath) {\n    Set&lt;String&gt; jsonKeys = json.keySet();\n    for (Object keyO : jsonKeys) {\n        String key = (String) keyO;\n        keyPath.push(key);\n        Object object = json.get(key);\n\n        if (object instanceof JSONObject) {\n            getAllXpathAndValueFromJsonObject((JSONObject) object, keyValueStore, keyPath);\n        }\n\n        if (object instanceof JSONArray) {\n            doJsonArray((JSONArray) object, keyPath, keyValueStore, json, key);\n        }\n\n        if (object instanceof String || object instanceof Boolean || object.equals(null)) {\n            String keyStr = \"\";\n\n            for (String keySub : keyPath) {\n                keyStr += keySub + \".\";\n            }\n\n            keyStr = keyStr.substring(0, keyStr.length() - 1);\n\n            keyPath.pop();\n\n            keyValueStore.put(keyStr, json.get(key).toString());\n        }\n    }\n\n    if (keyPath.size() &gt; 0) {\n        keyPath.pop();\n    }\n\n    return keyValueStore;\n}\n\npublic void doJsonArray(JSONArray object, Stack&lt;String&gt; keyPath, Map&lt;String, String&gt; keyValueStore, JSONObject json,\n        String key) {\n    JSONArray arr = (JSONArray) object;\n    for (int i = 0; i &lt; arr.length(); i++) {\n        keyPath.push(Integer.toString(i));\n        Object obj = arr.get(i);\n        if (obj instanceof JSONObject) {\n            getAllXpathAndValueFromJsonObject((JSONObject) obj, keyValueStore, keyPath);\n        }\n\n        if (obj instanceof JSONArray) {\n            doJsonArray((JSONArray) obj, keyPath, keyValueStore, json, key);\n        }\n\n        if (obj instanceof String || obj instanceof Boolean || obj.equals(null)) {\n            String keyStr = \"\";\n\n            for (String keySub : keyPath) {\n                keyStr += keySub + \".\";\n            }\n\n            keyStr = keyStr.substring(0, keyStr.length() - 1);\n\n            keyPath.pop();\n\n            keyValueStore.put(keyStr , json.get(key).toString());\n        }\n    }\n    if (keyPath.size() &gt; 0) {\n        keyPath.pop();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8862996,"reputation":573,"user_id":6618850,"display_name":"Shekhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1594334801,"creation_date":1580297423,"answer_id":59966155,"question_id":9151619,"body_markdown":"Most of the answers here are for flat JSON structures, in case you have a JSON which might have nested JSONArrays or Nested JSONObjects, the real complexity arises. The following code snippet takes care of such a business requirement. It takes a hash map, and hierarchical JSON with both nested JSONArrays and JSONObjects and updates the JSON with the data in the hash map\r\n\r\n    public void updateData(JSONObject fullResponse, HashMap&lt;String, String&gt; mapToUpdate) {\r\n\r\n\t\tfullResponse.keySet().forEach(keyStr -&gt; {\r\n\t\t\tObject keyvalue = fullResponse.get(keyStr);\r\n\r\n\t\t\tif (keyvalue instanceof JSONArray) {\r\n\t\t\t\tupdateData(((JSONArray) keyvalue).getJSONObject(0), mapToUpdate);\r\n\t\t\t} else if (keyvalue instanceof JSONObject) {\r\n\t\t\t\tupdateData((JSONObject) keyvalue, mapToUpdate);\r\n\t\t\t} else {\r\n\t\t\t\t// System.out.println(&quot;key: &quot; + keyStr + &quot; value: &quot; + keyvalue);\r\n\t\t\t\tif (mapToUpdate.containsKey(keyStr)) {\r\n\t\t\t\t\tfullResponse.put(keyStr, mapToUpdate.get(keyStr));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\nYou have to notice here that the return type of this is void, but sice objects are passed as refernce this change is refelected to the caller.","title":"How to iterate over a JSONObject?","body":"<p>Most of the answers here are for flat JSON structures, in case you have a JSON which might have nested JSONArrays or Nested JSONObjects, the real complexity arises. The following code snippet takes care of such a business requirement. It takes a hash map, and hierarchical JSON with both nested JSONArrays and JSONObjects and updates the JSON with the data in the hash map</p>\n<pre><code>public void updateData(JSONObject fullResponse, HashMap&lt;String, String&gt; mapToUpdate) {\n\n    fullResponse.keySet().forEach(keyStr -&gt; {\n        Object keyvalue = fullResponse.get(keyStr);\n\n        if (keyvalue instanceof JSONArray) {\n            updateData(((JSONArray) keyvalue).getJSONObject(0), mapToUpdate);\n        } else if (keyvalue instanceof JSONObject) {\n            updateData((JSONObject) keyvalue, mapToUpdate);\n        } else {\n            // System.out.println(&quot;key: &quot; + keyStr + &quot; value: &quot; + keyvalue);\n            if (mapToUpdate.containsKey(keyStr)) {\n                fullResponse.put(keyStr, mapToUpdate.get(keyStr));\n            }\n        }\n    });\n\n}\n</code></pre>\n<p>You have to notice here that the return type of this is void, but sice objects are passed as refernce this change is refelected to the caller.</p>\n"},{"tags":[],"owner":{"account_id":4803431,"reputation":153,"user_id":3879338,"display_name":"Anton Kogan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597137790,"creation_date":1597137790,"answer_id":63355311,"question_id":9151619,"body_markdown":"I made my small method to log JsonObject fields, and get some stings. See if it can be usefull.\r\n\r\n    object JsonParser {\r\n\r\n    val TAG = &quot;JsonParser&quot;\r\n     /**\r\n     * parse json object\r\n     * @param objJson\r\n     * @return  Map&lt;String, String&gt;\r\n     * @throws JSONException\r\n     */\r\n    @Throws(JSONException::class)\r\n    fun parseJson(objJson: Any?): Map&lt;String, String&gt; {\r\n        val map = HashMap&lt;String, String&gt;()\r\n\r\n        // If obj is a json array\r\n        if (objJson is JSONArray) {\r\n            for (i in 0 until objJson.length()) {\r\n                parseJson(objJson[i])\r\n            }\r\n        } else if (objJson is JSONObject) {\r\n            val it: Iterator&lt;*&gt; = objJson.keys()\r\n            while (it.hasNext()) {\r\n                val key = it.next().toString()\r\n                // If you get an array\r\n                when (val jobject = objJson[key]) {\r\n                    is JSONArray -&gt; {\r\n                        Log.e(TAG, &quot; JSONArray: $jobject&quot;)\r\n                        parseJson(jobject)\r\n                    }\r\n                    is JSONObject -&gt; {\r\n                        Log.e(TAG, &quot; JSONObject: $jobject&quot;)\r\n                        parseJson(jobject)\r\n                    }\r\n                    else -&gt; {\r\n                        Log.e(TAG, &quot; adding to map: $key $jobject&quot;)\r\n                        map[key] = jobject.toString()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return map\r\n    }\r\n    }\r\n\r\n\r\n\r\n","title":"How to iterate over a JSONObject?","body":"<p>I made my small method to log JsonObject fields, and get some stings. See if it can be usefull.</p>\n<pre><code>object JsonParser {\n\nval TAG = &quot;JsonParser&quot;\n /**\n * parse json object\n * @param objJson\n * @return  Map&lt;String, String&gt;\n * @throws JSONException\n */\n@Throws(JSONException::class)\nfun parseJson(objJson: Any?): Map&lt;String, String&gt; {\n    val map = HashMap&lt;String, String&gt;()\n\n    // If obj is a json array\n    if (objJson is JSONArray) {\n        for (i in 0 until objJson.length()) {\n            parseJson(objJson[i])\n        }\n    } else if (objJson is JSONObject) {\n        val it: Iterator&lt;*&gt; = objJson.keys()\n        while (it.hasNext()) {\n            val key = it.next().toString()\n            // If you get an array\n            when (val jobject = objJson[key]) {\n                is JSONArray -&gt; {\n                    Log.e(TAG, &quot; JSONArray: $jobject&quot;)\n                    parseJson(jobject)\n                }\n                is JSONObject -&gt; {\n                    Log.e(TAG, &quot; JSONObject: $jobject&quot;)\n                    parseJson(jobject)\n                }\n                else -&gt; {\n                    Log.e(TAG, &quot; adding to map: $key $jobject&quot;)\n                    map[key] = jobject.toString()\n                }\n            }\n        }\n    }\n    return map\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12871163,"reputation":1,"user_id":9309564,"display_name":"QualitySoftwareGuy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683917950,"creation_date":1683917806,"answer_id":76239207,"question_id":9151619,"body_markdown":"The easiest way is to use a for-each loop over the set of keys. Given you have a String value of JSON called &quot;text&quot;:\r\n\r\n```Java\r\nJSONObject jsonObject = new JSONObject(text);\r\nfor (String key : jsonObject.keySet()) {\r\n    // Print out each value to verify this code\r\n    System.out.println(jsonObject.get(key));\r\n}\r\n```\r\n","title":"How to iterate over a JSONObject?","body":"<p>The easiest way is to use a for-each loop over the set of keys. Given you have a String value of JSON called &quot;text&quot;:</p>\n<pre><code>JSONObject jsonObject = new JSONObject(text);\nfor (String key : jsonObject.keySet()) {\n    // Print out each value to verify this code\n    System.out.println(jsonObject.get(key));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11064284,"reputation":5322,"user_id":8124531,"display_name":"3UMF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699955826,"creation_date":1699955826,"answer_id":77479653,"question_id":9151619,"body_markdown":"It looks like the JSON data you provided is an object where each key is a URL and the corresponding value is another object. If you want to access items by index, you may want to convert the outer object into an array. However, keep in mind that in JavaScript, objects don&#39;t have a specific order, so converting it to an array might not preserve the order.\r\n\r\nAssuming you&#39;re working in a JavaScript environment, you can convert the outer object to an array and then access elements by index. Here&#39;s an example:\r\n\r\n    const jsonData = {\r\n       &quot;http://url.com/&quot;: {\r\n          &quot;id&quot;: &quot;http://url.com//&quot;\r\n       },\r\n       &quot;http://url2.co/&quot;: {\r\n          &quot;id&quot;: &quot;http://url2.com//&quot;,\r\n          &quot;shares&quot;: 16\r\n       },\r\n       &quot;http://url3.com/&quot;: {\r\n          &quot;id&quot;: &quot;http://url3.com//&quot;,\r\n          &quot;shares&quot;: 16\r\n       }\r\n    };\r\n    \r\n    // Convert the object to an array\r\n    const jsonArray = Object.entries(jsonData).map(([key, value]) =&gt; ({ key, value }));\r\n    \r\n    // Access the first item\r\n    const firstItem = jsonArray[0];\r\n    \r\n    // Accessing specific properties of the first item\r\n    const firstItemId = firstItem.value.id;\r\n    const firstItemShares = firstItem.value.shares;\r\n    \r\n    console.log(firstItemId);      // Output: http://url.com//\r\n    console.log(firstItemShares);  // Output: undefined (shares property is not present in the first item)\r\n\r\nIn this example, Object.entries is used to convert the object into an array of key-value pairs, and map is used to transform it into an array of objects. Now you can access items by index in the jsonArray. Keep in mind that if the order of items is important, you may want to reconsider the structure of your JSON data or use an array in the first place if possible.","title":"How to iterate over a JSONObject?","body":"<p>It looks like the JSON data you provided is an object where each key is a URL and the corresponding value is another object. If you want to access items by index, you may want to convert the outer object into an array. However, keep in mind that in JavaScript, objects don't have a specific order, so converting it to an array might not preserve the order.</p>\n<p>Assuming you're working in a JavaScript environment, you can convert the outer object to an array and then access elements by index. Here's an example:</p>\n<pre><code>const jsonData = {\n   &quot;http://url.com/&quot;: {\n      &quot;id&quot;: &quot;http://url.com//&quot;\n   },\n   &quot;http://url2.co/&quot;: {\n      &quot;id&quot;: &quot;http://url2.com//&quot;,\n      &quot;shares&quot;: 16\n   },\n   &quot;http://url3.com/&quot;: {\n      &quot;id&quot;: &quot;http://url3.com//&quot;,\n      &quot;shares&quot;: 16\n   }\n};\n\n// Convert the object to an array\nconst jsonArray = Object.entries(jsonData).map(([key, value]) =&gt; ({ key, value }));\n\n// Access the first item\nconst firstItem = jsonArray[0];\n\n// Accessing specific properties of the first item\nconst firstItemId = firstItem.value.id;\nconst firstItemShares = firstItem.value.shares;\n\nconsole.log(firstItemId);      // Output: http://url.com//\nconsole.log(firstItemShares);  // Output: undefined (shares property is not present in the first item)\n</code></pre>\n<p>In this example, Object.entries is used to convert the object into an array of key-value pairs, and map is used to transform it into an array of objects. Now you can access items by index in the jsonArray. Keep in mind that if the order of items is important, you may want to reconsider the structure of your JSON data or use an array in the first place if possible.</p>\n"}],"owner":{"account_id":1173551,"reputation":4079,"user_id":1150116,"display_name":"Eric Hjalmarsson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826503,"favorite_count":0,"down_vote_count":1,"up_vote_count":407,"answer_count":17,"score":406,"last_activity_date":1699955826,"creation_date":1328465177,"question_id":9151619,"body_markdown":"I use a JSON library called `JSONObject` (I don&#39;t mind switching if I need to). \r\n\r\nI know how to iterate over `JSONArrays`, but when I parse JSON data from Facebook I don&#39;t get an array, only a `JSONObject`, but I need to be able to access an item via its index, such as `JSONObject[0]` to get the first one, and I can&#39;t figure out how to do it.\r\n\r\n    {\r\n       &quot;http://http://url.com/&quot;: {\r\n          &quot;id&quot;: &quot;http://http://url.com//&quot;\r\n       },\r\n       &quot;http://url2.co/&quot;: {\r\n          &quot;id&quot;: &quot;http://url2.com//&quot;,\r\n          &quot;shares&quot;: 16\r\n       }\r\n       ,\r\n       &quot;http://url3.com/&quot;: {\r\n          &quot;id&quot;: &quot;http://url3.com//&quot;,\r\n          &quot;shares&quot;: 16\r\n       }\r\n    }","title":"How to iterate over a JSONObject?","body":"<p>I use a JSON library called <code>JSONObject</code> (I don't mind switching if I need to). </p>\n\n<p>I know how to iterate over <code>JSONArrays</code>, but when I parse JSON data from Facebook I don't get an array, only a <code>JSONObject</code>, but I need to be able to access an item via its index, such as <code>JSONObject[0]</code> to get the first one, and I can't figure out how to do it.</p>\n\n<pre><code>{\n   \"http://http://url.com/\": {\n      \"id\": \"http://http://url.com//\"\n   },\n   \"http://url2.co/\": {\n      \"id\": \"http://url2.com//\",\n      \"shares\": 16\n   }\n   ,\n   \"http://url3.com/\": {\n      \"id\": \"http://url3.com//\",\n      \"shares\": 16\n   }\n}\n</code></pre>\n"},{"tags":["java","r","class","types"],"comments":[{"owner":{"account_id":1509604,"reputation":128341,"user_id":1412059,"accept_rate":80,"display_name":"Roland"},"score":0,"creation_date":1581606856,"post_id":60210646,"comment_id":106499858,"body_markdown":"Types and classes are different concepts. Types primarily correspond to what data type is used in the underlying C code. In contrast, classes are an R concept. Note that R has several different OOP systems, the main one being S3 classes. The confusing part might be that there are implicit classes corresponding to the data types (everything in R has an explicit or implicit S3 class).","body":"Types and classes are different concepts. Types primarily correspond to what data type is used in the underlying C code. In contrast, classes are an R concept. Note that R has several different OOP systems, the main one being S3 classes. The confusing part might be that there are implicit classes corresponding to the data types (everything in R has an explicit or implicit S3 class)."},{"owner":{"account_id":14462620,"reputation":1741,"user_id":10447055,"display_name":"Gainz"},"score":0,"creation_date":1581607136,"post_id":60210646,"comment_id":106500028,"body_markdown":"@Roland I think you sould post this as an answer.","body":"@Roland I think you sould post this as an answer."},{"owner":{"account_id":1509604,"reputation":128341,"user_id":1412059,"accept_rate":80,"display_name":"Roland"},"score":0,"creation_date":1581608067,"post_id":60210646,"comment_id":106500587,"body_markdown":"You cannot create new types in R. You can only create new classes, which must be based on existing types.","body":"You cannot create new types in R. You can only create new classes, which must be based on existing types."},{"owner":{"account_id":244009,"reputation":257032,"user_id":516548,"display_name":"G. Grothendieck"},"score":0,"creation_date":1581621169,"post_id":60210646,"comment_id":106507666,"body_markdown":"See https://stackoverflow.com/questions/34376318/whats-the-real-meaning-about-everything-that-exists-is-an-object-in-r","body":"See <a href=\"https://stackoverflow.com/questions/34376318/whats-the-real-meaning-about-everything-that-exists-is-an-object-in-r\" title=\"whats the real meaning about everything that exists is an object in r\">stackoverflow.com/questions/34376318/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":16547632,"reputation":11,"user_id":11956781,"display_name":"MiFischer22"},"score":0,"creation_date":1581608400,"post_id":60211384,"comment_id":106500815,"body_markdown":"@ Roland thanks a lot for your answer. I am thinking now about two things: I am right that when I am customizing a new data type by writing a class, I am actually not really creating a new type? Continuing with this logic, non-primitive types like data frames are then also not really types in this sense?","body":"@ Roland thanks a lot for your answer. I am thinking now about two things: I am right that when I am customizing a new data type by writing a class, I am actually not really creating a new type? Continuing with this logic, non-primitive types like data frames are then also not really types in this sense?"},{"owner":{"account_id":1509604,"reputation":128341,"user_id":1412059,"accept_rate":80,"display_name":"Roland"},"score":0,"creation_date":1581608563,"post_id":60211384,"comment_id":106500923,"body_markdown":"You are using the word &quot;type&quot; when you mean &quot;class&quot;. The type of an object of class &quot;data.frame&quot; is &quot;list&quot;. You can find a complete list of all types in R in `help(&quot;typeof&quot;)`.","body":"You are using the word &quot;type&quot; when you mean &quot;class&quot;. The type of an object of class &quot;data.frame&quot; is &quot;list&quot;. You can find a complete list of all types in R in <code>help(&quot;typeof&quot;)</code>."},{"owner":{"account_id":1509604,"reputation":128341,"user_id":1412059,"accept_rate":80,"display_name":"Roland"},"score":0,"creation_date":1581609014,"post_id":60211384,"comment_id":106501238,"body_markdown":"Added an example that should clarify this.","body":"Added an example that should clarify this."},{"owner":{"account_id":16547632,"reputation":11,"user_id":11956781,"display_name":"MiFischer22"},"score":0,"creation_date":1581609764,"post_id":60211384,"comment_id":106501744,"body_markdown":"@ Roland thanks a lot.\nWhat is a bit confusing for me is that in Java, I often read that someone created a new &quot;data typ&quot; when a new class was written. Is this just a careless and imprecise way of using the word &quot;data type&quot;?\nIn practice, how does it materialize when I am using primitive data types compared to objects from classes, i.e. what is the difference between handeling a realization of a primitive data type and an instance from a class in R?","body":"@ Roland thanks a lot. What is a bit confusing for me is that in Java, I often read that someone created a new &quot;data typ&quot; when a new class was written. Is this just a careless and imprecise way of using the word &quot;data type&quot;? In practice, how does it materialize when I am using primitive data types compared to objects from classes, i.e. what is the difference between handeling a realization of a primitive data type and an instance from a class in R?"},{"owner":{"account_id":1509604,"reputation":128341,"user_id":1412059,"accept_rate":80,"display_name":"Roland"},"score":0,"creation_date":1581610360,"post_id":60211384,"comment_id":106502145,"body_markdown":"I don&#39;t know Java. As I said: everything in R has a class, you are always handling classes and don&#39;t need to care too much about types unless you are doing advanced stuff.","body":"I don&#39;t know Java. As I said: everything in R has a class, you are always handling classes and don&#39;t need to care too much about types unless you are doing advanced stuff."}],"tags":[],"owner":{"account_id":1509604,"reputation":128341,"user_id":1412059,"accept_rate":80,"display_name":"Roland"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581609683,"creation_date":1581607983,"answer_id":60211384,"question_id":60210646,"body_markdown":"Types and classes are different concepts. Types primarily correspond to what data type is used in the underlying C code. Quoting Chapter 2 of the [R Language Definition](https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Object_002doriented-programming):\r\n\r\n&gt; The R specific function typeof returns the type of an R object. Note\r\n&gt; that in the C code underlying R, all objects are pointers to a\r\n&gt; structure with typedef SEXPREC; the different R data types are\r\n&gt; represented in C by SEXPTYPE, which determines how the information in\r\n&gt; the various parts of the structure is used.\r\n\r\nIn contrast, classes are an R concept. Note that R has several different OOP systems, the main one being S3 classes. The confusing part might be that there are implicit classes corresponding to the data types (everything in R has an explicit or implicit S3 class).\r\n\r\nLet&#39;s use data.frames as an example:\r\n\r\n    #create an object of type &quot;list&quot;\r\n    x &lt;- list(a = 1, b = 2)\r\n    \r\n    typeof(x)\r\n    #[1] &quot;list&quot;\r\n    \r\n    class(x)\r\n    #[1] &quot;list&quot;\r\n    #this is an implicit class\r\n\r\n    attributes(x)\r\n    #$names\r\n    #[1] &quot;a&quot; &quot;b&quot;\r\n    #no class attribute\r\n    \r\n    class(x) &lt;- &quot;data.frame&quot; \r\n    attr(x,&quot;row.names&quot;) &lt;- 1L\r\n    #don&#39;t create data.frames this way, I only do this for didactic reasons\r\n    \r\n    x\r\n    #  a b\r\n    #1 1 2\r\n\r\n    attributes(x)\r\n    #$names\r\n    #[1] &quot;a&quot; &quot;b&quot;\r\n    #\r\n    #$class\r\n    #[1] &quot;data.frame&quot;\r\n    #\r\n    #$row.names\r\n    #[1] 1\r\n    \r\n    is.data.frame(x)\r\n    #[1] TRUE\r\n    \r\n    class(x)\r\n    #[1] &quot;data.frame&quot;\r\n    #this is an explicit class\r\n    \r\n    typeof(x)\r\n    #[1] &quot;list&quot;\r\n    #still the same type\r\n\r\n\r\n","title":"Relation between primitive data types and classes in R","body":"<p>Types and classes are different concepts. Types primarily correspond to what data type is used in the underlying C code. Quoting Chapter 2 of the <a href=\"https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Object_002doriented-programming\" rel=\"nofollow noreferrer\">R Language Definition</a>:</p>\n\n<blockquote>\n  <p>The R specific function typeof returns the type of an R object. Note\n  that in the C code underlying R, all objects are pointers to a\n  structure with typedef SEXPREC; the different R data types are\n  represented in C by SEXPTYPE, which determines how the information in\n  the various parts of the structure is used.</p>\n</blockquote>\n\n<p>In contrast, classes are an R concept. Note that R has several different OOP systems, the main one being S3 classes. The confusing part might be that there are implicit classes corresponding to the data types (everything in R has an explicit or implicit S3 class).</p>\n\n<p>Let's use data.frames as an example:</p>\n\n<pre><code>#create an object of type \"list\"\nx &lt;- list(a = 1, b = 2)\n\ntypeof(x)\n#[1] \"list\"\n\nclass(x)\n#[1] \"list\"\n#this is an implicit class\n\nattributes(x)\n#$names\n#[1] \"a\" \"b\"\n#no class attribute\n\nclass(x) &lt;- \"data.frame\" \nattr(x,\"row.names\") &lt;- 1L\n#don't create data.frames this way, I only do this for didactic reasons\n\nx\n#  a b\n#1 1 2\n\nattributes(x)\n#$names\n#[1] \"a\" \"b\"\n#\n#$class\n#[1] \"data.frame\"\n#\n#$row.names\n#[1] 1\n\nis.data.frame(x)\n#[1] TRUE\n\nclass(x)\n#[1] \"data.frame\"\n#this is an explicit class\n\ntypeof(x)\n#[1] \"list\"\n#still the same type\n</code></pre>\n"}],"owner":{"account_id":16547632,"reputation":11,"user_id":11956781,"display_name":"MiFischer22"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699955525,"creation_date":1581605740,"question_id":60210646,"body_markdown":"Regarding the relation between primitive data types (like numeric or character) and classes in R:\r\nIs it reasonable to say that primitive data types are built-in classes in R, for which the operations (like + or -) correspond to the built-in methods?\r\nAre the primitive data types also implemented internally as classes (unlike Java which distinguishes between primitive data types and wrapper classes)?","title":"Relation between primitive data types and classes in R","body":"<p>Regarding the relation between primitive data types (like numeric or character) and classes in R:\nIs it reasonable to say that primitive data types are built-in classes in R, for which the operations (like + or -) correspond to the built-in methods?\nAre the primitive data types also implemented internally as classes (unlike Java which distinguishes between primitive data types and wrapper classes)?</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1292925,"reputation":4395,"user_id":1244652,"accept_rate":78,"display_name":"Byron Voorbach"},"score":1,"creation_date":1344511668,"post_id":11881479,"comment_id":15810924,"body_markdown":"Are you sure the ID gets rewritten when you save an existing object in the database?? Never had this on my project tbh","body":"Are you sure the ID gets rewritten when you save an existing object in the database?? Never had this on my project tbh"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1344514418,"post_id":11881479,"comment_id":15812238,"body_markdown":"@ByronVoorbach yup you&#39;re right, just tested this. update the question also, thx","body":"@ByronVoorbach yup you&#39;re right, just tested this. update the question also, thx"},{"owner":{"account_id":1465525,"reputation":401,"user_id":1378481,"accept_rate":50,"display_name":"ibrahimKiraz"},"score":2,"creation_date":1449428336,"post_id":11881479,"comment_id":55991467,"body_markdown":"Hello friend, you can look this link http://stackoverflow.com/questions/24420572/update-or-saveorupdate-in-crudrespository-is-there-any-options-available you can be a approach like saveOrUpdate()","body":"Hello friend, you can look this link <a href=\"http://stackoverflow.com/questions/24420572/update-or-saveorupdate-in-crudrespository-is-there-any-options-available\" title=\"update or saveorupdate in crudrespository is there any options available\">stackoverflow.com/questions/24420572/&hellip;</a> you can be a approach like saveOrUpdate()"},{"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"score":0,"creation_date":1578776300,"post_id":11881479,"comment_id":105551463,"body_markdown":"https://stackoverflow.com/questions/39741102/how-to-beautifully-update-a-jpa-entity-in-spring-data/","body":"<a href=\"https://stackoverflow.com/questions/39741102/how-to-beautifully-update-a-jpa-entity-in-spring-data/\" title=\"how to beautifully update a jpa entity in spring data\">stackoverflow.com/questions/39741102/&hellip;</a>"},{"owner":{"account_id":7180528,"reputation":31,"user_id":6127027,"display_name":"Clebio Vieira"},"score":0,"creation_date":1591805967,"post_id":11881479,"comment_id":110198395,"body_markdown":"I think that we have a beautiful solution here: [enter link description here](https://stackoverflow.com/a/39746931/6127027)","body":"I think that we have a beautiful solution here: <a href=\"https://stackoverflow.com/a/39746931/6127027\">enter link description here</a>"}],"answers":[{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1344509437,"post_id":11881628,"comment_id":15809984,"body_markdown":"well yes I think I know this. I was strictly referring to spring-data-jpa. I have two problems with this answer now: 1) business values are not supposed to be part of the primary key - that is a known thing, right? So having the firstname and lastname as primary key is not good. And 2) Why is this method then not called create, but save instead in spring-data-jpa?","body":"well yes I think I know this. I was strictly referring to spring-data-jpa. I have two problems with this answer now: 1) business values are not supposed to be part of the primary key - that is a known thing, right? So having the firstname and lastname as primary key is not good. And 2) Why is this method then not called create, but save instead in spring-data-jpa?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":3,"creation_date":1344514912,"post_id":11881628,"comment_id":15812489,"body_markdown":"&quot;save() in Spring Data JPA is backed by merge() in plain JPA&quot; did you actually look at the code? I just did and it both backed up by either persist or merge. It will persist or update based on the presence of the id (primary key). This, I think, should be documented in the save method. So save is actually EITHER merge or persist.","body":"&quot;save() in Spring Data JPA is backed by merge() in plain JPA&quot; did you actually look at the code? I just did and it both backed up by either persist or merge. It will persist or update based on the presence of the id (primary key). This, I think, should be documented in the save method. So save is actually EITHER merge or persist."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1344515387,"post_id":11881628,"comment_id":15812716,"body_markdown":"I think it is also called save, because it it supposed to save the object no matter what state it is in - it is going to perform an update or insert which is equal to save state.","body":"I think it is also called save, because it it supposed to save the object no matter what state it is in - it is going to perform an update or insert which is equal to save state."},{"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1344515446,"post_id":11881628,"comment_id":15812748,"body_markdown":"@Eugene: Yes, I did. As far as I understand it doesn&#39;t matter, because `persist()` is called when entity is new, i.e. when `merge()` works as `persist()`.","body":"@Eugene: Yes, I did. As far as I understand it doesn&#39;t matter, because <code>persist()</code> is called when entity is new, i.e. when <code>merge()</code> works as <code>persist()</code>."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1344516491,"post_id":11881628,"comment_id":15813309,"body_markdown":"yup, I guess we are talking about the same thing, in different words. Thx for your time, points given.","body":"yup, I guess we are talking about the same thing, in different words. Thx for your time, points given."},{"owner":{"account_id":3148552,"reputation":162,"user_id":2662503,"accept_rate":67,"display_name":"DtechNet"},"score":2,"creation_date":1439605646,"post_id":11881628,"comment_id":51944001,"body_markdown":"This will not work for me. I have tried save on an entity with a valid primary key. I access the page with &quot;order/edit/:id&quot; and it actually gives me the correct object by Id. Nothing I try for the love of God will update the entity. It always posts a new entity .. I even tried making a custom service and using &quot;merge&quot; with my EntityManager and it still won&#39;t work. It will always post a new entity.","body":"This will not work for me. I have tried save on an entity with a valid primary key. I access the page with &quot;order/edit/:id&quot; and it actually gives me the correct object by Id. Nothing I try for the love of God will update the entity. It always posts a new entity .. I even tried making a custom service and using &quot;merge&quot; with my EntityManager and it still won&#39;t work. It will always post a new entity."},{"owner":{"account_id":2382522,"reputation":1144,"user_id":2084253,"accept_rate":80,"display_name":"Kent Bull"},"score":2,"creation_date":1459975720,"post_id":11881628,"comment_id":60535891,"body_markdown":"@DTechNet I was experiencing a similar problem to you, DtechNet, and it turned out my problem was that I had the wrong primary key type specified in my Spring Data repository interface. It said `extends CrudRepository&lt;MyEntity, Integer&gt;` instead of `extends CrudRepository&lt;MyEntity, String&gt;` like it should have. Does that help? I know this is almost a year later. Hope it helps someone else.","body":"@DTechNet I was experiencing a similar problem to you, DtechNet, and it turned out my problem was that I had the wrong primary key type specified in my Spring Data repository interface. It said <code>extends CrudRepository&lt;MyEntity, Integer&gt;</code> instead of <code>extends CrudRepository&lt;MyEntity, String&gt;</code> like it should have. Does that help? I know this is almost a year later. Hope it helps someone else."},{"owner":{"account_id":3148552,"reputation":162,"user_id":2662503,"accept_rate":67,"display_name":"DtechNet"},"score":0,"creation_date":1461082338,"post_id":11881628,"comment_id":61032160,"body_markdown":"@KentJohnson why do you store the primary key as a String? I thought you only ever used Long or Integer.","body":"@KentJohnson why do you store the primary key as a String? I thought you only ever used Long or Integer."},{"owner":{"account_id":2382522,"reputation":1144,"user_id":2084253,"accept_rate":80,"display_name":"Kent Bull"},"score":0,"creation_date":1461108814,"post_id":11881628,"comment_id":61046259,"body_markdown":"@DTechNet it made business sense to those who made the decision. It is a natural key for the dataset so those who made the decision thought it was a good idea. It is for uniquely identifying an object that has a String of digits as its physical identifier.","body":"@DTechNet it made business sense to those who made the decision. It is a natural key for the dataset so those who made the decision thought it was a good idea. It is for uniquely identifying an object that has a String of digits as its physical identifier."},{"owner":{"account_id":3148552,"reputation":162,"user_id":2662503,"accept_rate":67,"display_name":"DtechNet"},"score":0,"creation_date":1461347582,"post_id":11881628,"comment_id":61174730,"body_markdown":"Alright. I don&#39;t plan on using a String though. I plan on using Integer. Perhaps Long.","body":"Alright. I don&#39;t plan on using a String though. I plan on using Integer. Perhaps Long."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1515139521,"post_id":11881628,"comment_id":83194122,"body_markdown":"Your answer is very inspiring thanks. if **Spring data jpa `save()` is actually `merge()` in JPA**, why bother `CascadeType.Persist` on `@XtoX` relationship?","body":"Your answer is very inspiring thanks. if <b>Spring data jpa <code>save()</code> is actually <code>merge()</code> in JPA</b>, why bother <code>CascadeType.Persist</code> on <code>@XtoX</code> relationship?"},{"owner":{"account_id":12366930,"reputation":769,"user_id":9018573,"accept_rate":43,"display_name":"AKJ"},"score":0,"creation_date":1620745606,"post_id":11881628,"comment_id":119288821,"body_markdown":"Curious question, but when is said transaction end? Does it end when the calling method finishes?","body":"Curious question, but when is said transaction end? Does it end when the calling method finishes?"}],"tags":[],"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"comment_count":12,"down_vote_count":5,"up_vote_count":301,"is_accepted":true,"score":296,"last_activity_date":1578361126,"creation_date":1344509022,"answer_id":11881628,"question_id":11881479,"body_markdown":"Identity of entities is defined by their primary keys. Since `firstname` and `lastname` are not parts of the primary key, you cannot tell JPA to treat `User`s with the same `firstname`s and `lastname`s as equal if they have different `userId`s.\r\n\r\nSo, if you want to update a `User` identified by its `firstname` and `lastname`, you need to find that `User` by a query, and then change appropriate fields of the object your found. These changes will be flushed to the database automatically at the end of transaction, so that you don&#39;t need to do anything to save these changes explicitly.\r\n\r\n**EDIT:**\r\n\r\nPerhaps I should elaborate on overall semantics of JPA. There are two main approaches to design of persistence APIs:\r\n\r\n * **insert/update approach**. When you need to modify the database you should call methods of persistence API explicitly: you call `insert` to insert an object, or `update` to save new state of the object to the database.\r\n\r\n * **Unit of Work approach**. In this case you have a set of objects *managed* by persistence library. All changes you make to these objects will be flushed to the database automatically at the end of Unit of Work (i.e. at the end of the current transaction in typical case). When you need to insert new record to the database, you make the corresponding object *managed*. *Managed* objects are identified by their primary keys, so that if you make an object with predefined primary key *managed*, it will be associated with the database record of the same id, and state of this object will be propagated to that record automatically.\r\n\r\nJPA follows the latter approach. `save()` in Spring Data JPA is backed by `merge()` in plain JPA, therefore it makes your entity *managed* as described above. It means that calling `save()` on an object with predefined id will update the corresponding database record rather than insert a new one, and also explains why `save()` is not called `create()`.","title":"How do I update an entity using spring-data-jpa?","body":"<p>Identity of entities is defined by their primary keys. Since <code>firstname</code> and <code>lastname</code> are not parts of the primary key, you cannot tell JPA to treat <code>User</code>s with the same <code>firstname</code>s and <code>lastname</code>s as equal if they have different <code>userId</code>s.</p>\n\n<p>So, if you want to update a <code>User</code> identified by its <code>firstname</code> and <code>lastname</code>, you need to find that <code>User</code> by a query, and then change appropriate fields of the object your found. These changes will be flushed to the database automatically at the end of transaction, so that you don't need to do anything to save these changes explicitly.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Perhaps I should elaborate on overall semantics of JPA. There are two main approaches to design of persistence APIs:</p>\n\n<ul>\n<li><p><strong>insert/update approach</strong>. When you need to modify the database you should call methods of persistence API explicitly: you call <code>insert</code> to insert an object, or <code>update</code> to save new state of the object to the database.</p></li>\n<li><p><strong>Unit of Work approach</strong>. In this case you have a set of objects <em>managed</em> by persistence library. All changes you make to these objects will be flushed to the database automatically at the end of Unit of Work (i.e. at the end of the current transaction in typical case). When you need to insert new record to the database, you make the corresponding object <em>managed</em>. <em>Managed</em> objects are identified by their primary keys, so that if you make an object with predefined primary key <em>managed</em>, it will be associated with the database record of the same id, and state of this object will be propagated to that record automatically.</p></li>\n</ul>\n\n<p>JPA follows the latter approach. <code>save()</code> in Spring Data JPA is backed by <code>merge()</code> in plain JPA, therefore it makes your entity <em>managed</em> as described above. It means that calling <code>save()</code> on an object with predefined id will update the corresponding database record rather than insert a new one, and also explains why <code>save()</code> is not called <code>create()</code>.</p>\n"},{"comments":[{"owner":{"account_id":2593070,"reputation":4352,"user_id":2247309,"display_name":"hussachai"},"score":25,"creation_date":1445369029,"post_id":31149637,"comment_id":54292488,"body_markdown":"Make sure you run it in transaction","body":"Make sure you run it in transaction"},{"owner":{"account_id":3080427,"reputation":495,"user_id":2608750,"accept_rate":68,"display_name":"bks4line"},"score":1,"creation_date":1445385654,"post_id":31149637,"comment_id":54299674,"body_markdown":"Hey! Thanks am using spring data beans. So it will automatically takes care of my update. &lt;S extends T&gt; S save(S entity); automatically takes care of update. i didnt have to use your method! Thanks anyways!","body":"Hey! Thanks am using spring data beans. So it will automatically takes care of my update. &lt;S extends T&gt; S save(S entity); automatically takes care of update. i didnt have to use your method! Thanks anyways!"},{"owner":{"account_id":2593070,"reputation":4352,"user_id":2247309,"display_name":"hussachai"},"score":3,"creation_date":1445423658,"post_id":31149637,"comment_id":54315129,"body_markdown":"Anytime :) The save method does work if you want to save the entity (It will delegate the call to either em.persist() or em.merge() behind the scene). Anyway, the custom query is useful when you want to update just some fields in database.","body":"Anytime :) The save method does work if you want to save the entity (It will delegate the call to either em.persist() or em.merge() behind the scene). Anyway, the custom query is useful when you want to update just some fields in database."},{"owner":{"account_id":1622277,"reputation":6199,"user_id":1498586,"accept_rate":66,"display_name":"Mahdi"},"score":0,"creation_date":1493569788,"post_id":31149637,"comment_id":74461315,"body_markdown":"how about when one of  your parameters is id of sub entity( manyToOne) how should update that? (book have an Author and you passed book id and author id to update book author)","body":"how about when one of  your parameters is id of sub entity( manyToOne) how should update that? (book have an Author and you passed book id and author id to update book author)"},{"owner":{"account_id":80571,"reputation":11247,"user_id":227755,"accept_rate":90,"display_name":"nurettin"},"score":2,"creation_date":1544080579,"post_id":31149637,"comment_id":94151087,"body_markdown":"`To update an entity by querying then saving is not efficient` these are not the only two choices. There is a way to specify id and get the row object without querying it. If you do a `row = repo.getOne(id)` and then `row.attr = 42; repo.save(row);` and watch the logs, you will see only the update query.","body":"<code>To update an entity by querying then saving is not efficient</code> these are not the only two choices. There is a way to specify id and get the row object without querying it. If you do a <code>row = repo.getOne(id)</code> and then <code>row.attr = 42; repo.save(row);</code> and watch the logs, you will see only the update query."},{"owner":{"account_id":2593070,"reputation":4352,"user_id":2247309,"display_name":"hussachai"},"score":0,"creation_date":1544119839,"post_id":31149637,"comment_id":94173038,"body_markdown":"@nurettin Thank you for your comment. I&#39;m just curious. Is that vendor specific optimization? I mean will it work across different JPA imps? and what if you perform a complex query instead of querying by ID, will it still generates a single update query?","body":"@nurettin Thank you for your comment. I&#39;m just curious. Is that vendor specific optimization? I mean will it work across different JPA imps? and what if you perform a complex query instead of querying by ID, will it still generates a single update query?"},{"owner":{"account_id":80571,"reputation":11247,"user_id":227755,"accept_rate":90,"display_name":"nurettin"},"score":0,"creation_date":1544121722,"post_id":31149637,"comment_id":94173843,"body_markdown":"@hussachai you can always generate a reference to a row using it&#39;s ID. For more complex queries like inner join updates or updates with dissimilar where conditions, it won&#39;t be useful.","body":"@hussachai you can always generate a reference to a row using it&#39;s ID. For more complex queries like inner join updates or updates with dissimilar where conditions, it won&#39;t be useful."},{"owner":{"account_id":4042418,"reputation":2735,"user_id":7381290,"display_name":"Mohamed Gara"},"score":0,"creation_date":1556875134,"post_id":31149637,"comment_id":98584344,"body_markdown":"First, It&#39;s not a good practice to eagerly load a collection. Second, if we choose to use Modifiying, we should also manually update the version. So, I don&#39;t think it&#39;s a good option to update a single entity instance using Modifying if performance is not a real matter. Modifying should be used only for batch updates.","body":"First, It&#39;s not a good practice to eagerly load a collection. Second, if we choose to use Modifiying, we should also manually update the version. So, I don&#39;t think it&#39;s a good option to update a single entity instance using Modifying if performance is not a real matter. Modifying should be used only for batch updates."},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1563467707,"post_id":31149637,"comment_id":100719378,"body_markdown":"@hussachai - Is there any way if we can count=1 of update if successful? Then its very best to implement","body":"@hussachai - Is there any way if we can count=1 of update if successful? Then its very best to implement"},{"owner":{"account_id":14937684,"reputation":541,"user_id":10785239,"display_name":"I&#39;m_Pratik"},"score":0,"creation_date":1588736123,"post_id":31149637,"comment_id":109010565,"body_markdown":"Thanks just one question - How will I know that the specific entry is updated or not? Can we return something to know it is successfully updated or not found or given input value?","body":"Thanks just one question - How will I know that the specific entry is updated or not? Can we return something to know it is successfully updated or not found or given input value?"},{"owner":{"account_id":2593070,"reputation":4352,"user_id":2247309,"display_name":"hussachai"},"score":0,"creation_date":1588741846,"post_id":31149637,"comment_id":109011904,"body_markdown":"Updated the answer. You can return `int` or `boolean` as well.","body":"Updated the answer. You can return <code>int</code> or <code>boolean</code> as well."},{"owner":{"account_id":9471530,"reputation":107,"user_id":7042240,"accept_rate":100,"display_name":"Francis Raj"},"score":0,"creation_date":1605606194,"post_id":31149637,"comment_id":114695238,"body_markdown":"@Transactional add on top of the query.","body":"@Transactional add on top of the query."},{"owner":{"account_id":6608940,"reputation":620,"user_id":5483731,"accept_rate":72,"display_name":"linuxNoob"},"score":0,"creation_date":1611595367,"post_id":31149637,"comment_id":116497058,"body_markdown":"Will this still be beneficial if we need to do multiple updates at once as opposed to using `saveAll()`?","body":"Will this still be beneficial if we need to do multiple updates at once as opposed to using <code>saveAll()</code>?"},{"owner":{"account_id":4008309,"reputation":3688,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"score":1,"creation_date":1617943982,"post_id":31149637,"comment_id":118457005,"body_markdown":"Modifying queries can only use void or int/Integer as return type. boolean will not work here","body":"Modifying queries can only use void or int/Integer as return type. boolean will not work here"},{"owner":{"account_id":7127479,"reputation":383,"user_id":5449927,"display_name":"Shantam Mittal"},"score":0,"creation_date":1636284615,"post_id":31149637,"comment_id":123510715,"body_markdown":"How can i make spring jpa throw exception when the where clause in update query is not specified. ie the number of updated row is zero?","body":"How can i make spring jpa throw exception when the where clause in update query is not specified. ie the number of updated row is zero?"},{"owner":{"account_id":9285458,"reputation":121,"user_id":6895485,"display_name":"Richard"},"score":0,"creation_date":1642602812,"post_id":31149637,"comment_id":125114656,"body_markdown":"How do you determine whether to insert a new item or update though? I&#39;m assuming this example is only beneficial when you know you will be updating an existing row..","body":"How do you determine whether to insert a new item or update though? I&#39;m assuming this example is only beneficial when you know you will be updating an existing row.."},{"owner":{"account_id":1200654,"reputation":330,"user_id":1171390,"display_name":"Joand"},"score":0,"creation_date":1643120777,"post_id":31149637,"comment_id":125251593,"body_markdown":"the documentation for &lt;a href=&quot;https://docs.spring.io/spring-data/jpa/docs/current-SNAPSHOT/reference/html/#jpa.modifying-queries&quot;&gt;@Modifying @Query&lt;/a&gt;\n\nand for &lt;a href=&quot;https://docs.spring.io/spring-data/jpa/docs/current-SNAPSHOT/reference/html/#transactions&quot;&gt;@Transactional&lt;/a&gt;","body":"the documentation for &lt;a href=&quot;<a href=\"https://docs.spring.io/spring-data/jpa/docs/current-SNAPSHOT/reference/html/#jpa.modifying-queries&quot;&gt;@Modifying\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current-SNAPSHOT/r&zwnj;&#8203;eference/&hellip;</a> @Query&lt;/a&gt;  and for &lt;a href=&quot;<a href=\"https://docs.spring.io/spring-data/jpa/docs/current-SNAPSHOT/reference/html/#transactions&quot;&gt;@Transactional&lt;/a\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current-SNAPSHOT/r&zwnj;&#8203;eference/&hellip;</a>&gt;"}],"tags":[],"owner":{"account_id":2593070,"reputation":4352,"user_id":2247309,"display_name":"hussachai"},"comment_count":17,"down_vote_count":2,"up_vote_count":234,"is_accepted":false,"score":232,"last_activity_date":1661729413,"creation_date":1435703339,"answer_id":31149637,"question_id":11881479,"body_markdown":"Since the answer by @axtavt focuses on `JPA` not `spring-data-jpa`\r\n\r\nTo update an entity by querying then saving is not efficient because it requires two queries and possibly the query can be quite expensive since it may join other tables and load any collections that have `fetchType=FetchType.EAGER`\r\n\r\n`Spring-data-jpa` supports update operation.  \r\nYou have to define the method in Repository interface.and annotated it with `@Query` and `@Modifying`.\r\n\r\n    @Modifying\r\n    @Query(&quot;update User u set u.firstname = ?1, u.lastname = ?2 where u.id = ?3&quot;)\r\n    void setUserInfoById(String firstname, String lastname, Integer userId);\r\n\r\n`@Query` is for defining custom query and `@Modifying` is for telling `spring-data-jpa` that this query is an update operation and it requires `executeUpdate()` not `executeQuery()`.\r\n\r\nYou can specify the return type as `int`, having the number of records being updated.  \r\n\r\n----------\r\n*Note*: Run this code in a [Transaction][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/transaction-configuration-with-jpa-and-spring","title":"How do I update an entity using spring-data-jpa?","body":"<p>Since the answer by @axtavt focuses on <code>JPA</code> not <code>spring-data-jpa</code></p>\n<p>To update an entity by querying then saving is not efficient because it requires two queries and possibly the query can be quite expensive since it may join other tables and load any collections that have <code>fetchType=FetchType.EAGER</code></p>\n<p><code>Spring-data-jpa</code> supports update operation.<br />\nYou have to define the method in Repository interface.and annotated it with <code>@Query</code> and <code>@Modifying</code>.</p>\n<pre><code>@Modifying\n@Query(&quot;update User u set u.firstname = ?1, u.lastname = ?2 where u.id = ?3&quot;)\nvoid setUserInfoById(String firstname, String lastname, Integer userId);\n</code></pre>\n<p><code>@Query</code> is for defining custom query and <code>@Modifying</code> is for telling <code>spring-data-jpa</code> that this query is an update operation and it requires <code>executeUpdate()</code> not <code>executeQuery()</code>.</p>\n<p>You can specify the return type as <code>int</code>, having the number of records being updated.</p>\n<hr />\n<p><em>Note</em>: Run this code in a <a href=\"https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\" rel=\"noreferrer\">Transaction</a>.</p>\n"},{"comments":[{"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"score":1,"creation_date":1583130134,"post_id":34121320,"comment_id":106998843,"body_markdown":"what you mean by to add version field to entity and related table.","body":"what you mean by to add version field to entity and related table."},{"owner":{"account_id":1514958,"reputation":498,"user_id":1416184,"accept_rate":67,"display_name":"smile"},"score":0,"creation_date":1583161862,"post_id":34121320,"comment_id":107013415,"body_markdown":"https://stackoverflow.com/questions/2572566/java-jpa-version-annotation","body":"<a href=\"https://stackoverflow.com/questions/2572566/java-jpa-version-annotation\" title=\"java jpa version annotation\">stackoverflow.com/questions/2572566/java-jpa-version-annotat&zwnj;&#8203;ion</a>"},{"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"score":0,"creation_date":1611083073,"post_id":34121320,"comment_id":116334798,"body_markdown":"for me `save()` still creates a new entity even after adding `version`.","body":"for me <code>save()</code> still creates a new entity even after adding <code>version</code>."},{"owner":{"account_id":1514958,"reputation":498,"user_id":1416184,"accept_rate":67,"display_name":"smile"},"score":1,"creation_date":1611123027,"post_id":34121320,"comment_id":116345550,"body_markdown":"@ParagKadam, make sure your entity has ID on it before you saving it.","body":"@ParagKadam, make sure your entity has ID on it before you saving it."}],"tags":[],"owner":{"account_id":1514958,"reputation":498,"user_id":1416184,"accept_rate":67,"display_name":"smile"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1569405434,"creation_date":1449428080,"answer_id":34121320,"question_id":11881479,"body_markdown":"Using spring-data-jpa `save()`, I was having same problem as @DtechNet. I mean every `save()` was creating new object instead of update. To solve this I had to add `version` field to entity and related table.","title":"How do I update an entity using spring-data-jpa?","body":"<p>Using spring-data-jpa <code>save()</code>, I was having same problem as @DtechNet. I mean every <code>save()</code> was creating new object instead of update. To solve this I had to add <code>version</code> field to entity and related table.</p>\n"},{"comments":[{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":2,"creation_date":1537211075,"post_id":46348061,"comment_id":91693189,"body_markdown":"Use `@Transaction` above method for several db request. An in this case no need in `userRepository.save(inbound);`, changes flushed automatically.","body":"Use <code>@Transaction</code> above method for several db request. An in this case no need in <code>userRepository.save(inbound);</code>, changes flushed automatically."}],"tags":[],"owner":{"account_id":80013,"reputation":2646,"user_id":226513,"accept_rate":67,"display_name":"Adam"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1506008456,"creation_date":1506008456,"answer_id":46348061,"question_id":11881479,"body_markdown":"This is how I solved the problem:\r\n\r\n    User inbound = ...\r\n    User existing = userRepository.findByFirstname(inbound.getFirstname());\r\n    if(existing != null) inbound.setId(existing.getId());\r\n    userRepository.save(inbound);\r\n","title":"How do I update an entity using spring-data-jpa?","body":"<p>This is how I solved the problem:</p>\n\n<pre><code>User inbound = ...\nUser existing = userRepository.findByFirstname(inbound.getFirstname());\nif(existing != null) inbound.setId(existing.getId());\nuserRepository.save(inbound);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5330792,"reputation":787,"user_id":4251391,"display_name":"august0490"},"score":16,"creation_date":1568845810,"post_id":52576978,"comment_id":102408609,"body_markdown":"isn&#39;t the performance a problem if you have to load the object from database before do the update? (sorry for my english)","body":"isn&#39;t the performance a problem if you have to load the object from database before do the update? (sorry for my english)"},{"owner":{"account_id":5770153,"reputation":1987,"user_id":4553806,"display_name":"Tigran Babajanyan"},"score":6,"creation_date":1580395938,"post_id":52576978,"comment_id":106090654,"body_markdown":"there is two query instead of one, which is highly not preffered","body":"there is two query instead of one, which is highly not preffered"},{"owner":{"account_id":11819659,"reputation":1022,"user_id":8752733,"display_name":"Kalifornium"},"score":0,"creation_date":1580495444,"post_id":52576978,"comment_id":106129234,"body_markdown":"i know i juste showed up another method to do ! but\nwhy the jpa implemented the update function when the id is the same ?","body":"i know i juste showed up another method to do ! but why the jpa implemented the update function when the id is the same ?"},{"owner":{"account_id":3743019,"reputation":1273,"user_id":3112373,"display_name":"amucunguzi"},"score":1,"creation_date":1634923253,"post_id":52576978,"comment_id":123166294,"body_markdown":"You can use `userRepository.getById(u.getid())` to avoid two queries (`getById` instead of `findById`).","body":"You can use <code>userRepository.getById(u.getid())</code> to avoid two queries (<code>getById</code> instead of <code>findById</code>)."},{"owner":{"account_id":7861158,"reputation":15,"user_id":12159217,"display_name":"basit9"},"score":0,"creation_date":1671058029,"post_id":52576978,"comment_id":132018473,"body_markdown":"`userRepository.getById()` is deprecated.","body":"<code>userRepository.getById()</code> is deprecated."},{"owner":{"account_id":12561920,"reputation":408,"user_id":9139357,"display_name":"Eric"},"score":0,"creation_date":1683291878,"post_id":52576978,"comment_id":134348385,"body_markdown":"do we need to call ```save``` method? Since ```userFromDb``` object is persisten, it must be updated automatically after properties are set.","body":"do we need to call <code>save</code> method? Since <code>userFromDb</code> object is persisten, it must be updated automatically after properties are set."}],"tags":[],"owner":{"account_id":11819659,"reputation":1022,"user_id":8752733,"display_name":"Kalifornium"},"comment_count":6,"down_vote_count":1,"up_vote_count":65,"is_accepted":false,"score":64,"last_activity_date":1563279619,"creation_date":1538302807,"answer_id":52576978,"question_id":11881479,"body_markdown":"You can simply use this function with save() JPAfunction, but the object sent as parameter must contain an existing id in the database otherwise it will not work, because save() when we send an object without id, it adds directly a row in database, but if we send an object with an existing id, it changes the columns already found in the database.\r\n\r\n    public void updateUser(Userinfos u) {\r\n        User userFromDb = userRepository.findById(u.getid());\r\n        // crush the variables of the object found\r\n        userFromDb.setFirstname(&quot;john&quot;); \r\n        userFromDb.setLastname(&quot;dew&quot;);\r\n        userFromDb.setAge(16);\r\n        userRepository.save(userFromDb);\r\n    }","title":"How do I update an entity using spring-data-jpa?","body":"<p>You can simply use this function with save() JPAfunction, but the object sent as parameter must contain an existing id in the database otherwise it will not work, because save() when we send an object without id, it adds directly a row in database, but if we send an object with an existing id, it changes the columns already found in the database.</p>\n\n<pre><code>public void updateUser(Userinfos u) {\n    User userFromDb = userRepository.findById(u.getid());\n    // crush the variables of the object found\n    userFromDb.setFirstname(\"john\"); \n    userFromDb.setLastname(\"dew\");\n    userFromDb.setAge(16);\n    userRepository.save(userFromDb);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1659624159,"post_id":53717024,"comment_id":129343294,"body_markdown":"should not `merge` be used with detached entities. And to confuse further [`if the entity is transient, it copies upon a newly created persistent entity.`](https://www.baeldung.com/hibernate-save-persist-update-merge-saveorupdate#3-merge)\n. Why use persist at all. If merge can handle all four states.","body":"should not <code>merge</code> be used with detached entities. And to confuse further <a href=\"https://www.baeldung.com/hibernate-save-persist-update-merge-saveorupdate#3-merge\" rel=\"nofollow noreferrer\"><code>if the entity is transient, it copies upon a newly created persistent entity.</code></a> . Why use persist at all. If merge can handle all four states."},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1659624278,"post_id":53717024,"comment_id":129343333,"body_markdown":"good reference to code +1","body":"good reference to code +1"},{"owner":{"account_id":3155676,"reputation":632,"user_id":2668141,"display_name":"Gi1ber7"},"score":0,"creation_date":1669985769,"post_id":53717024,"comment_id":131773356,"body_markdown":"Most developers break their head creating routines to process updates when in reality all the hard work is already done. This is the best, most practical answer.","body":"Most developers break their head creating routines to process updates when in reality all the hard work is already done. This is the best, most practical answer."}],"tags":[],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"comment_count":3,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1544499527,"creation_date":1544499527,"answer_id":53717024,"question_id":11881479,"body_markdown":"As what has already mentioned by others, the `save()` itself contains both create and update operation.\r\n\r\nI just want to add supplement about what behind the `save()` method.\r\n\r\nFirstly, let&#39;s see the extend/implement hierarchy of the `CrudRepository&lt;T,ID&gt;`, \r\n[![enter image description here][1]][1]\r\n\r\nOk, let&#39;s check the `save()` implementation at `SimpleJpaRepository&lt;T, ID&gt;`,\r\n\r\n    @Transactional\r\n    public &lt;S extends T&gt; S save(S entity) {\r\n    \r\n    \tif (entityInformation.isNew(entity)) {\r\n    \t\tem.persist(entity);\r\n    \t\treturn entity;\r\n    \t} else {\r\n    \t\treturn em.merge(entity);\r\n    \t}\r\n    }\r\n\r\nAs you can see, it will check whether the ID is existed or not firstly, if the entity is already there, only update will happen by `merge(entity)` method and if else, a new record is inserted by `persist(entity)` method. \r\n  [1]: https://i.stack.imgur.com/ZCGvJ.png","title":"How do I update an entity using spring-data-jpa?","body":"<p>As what has already mentioned by others, the <code>save()</code> itself contains both create and update operation.</p>\n\n<p>I just want to add supplement about what behind the <code>save()</code> method.</p>\n\n<p>Firstly, let's see the extend/implement hierarchy of the <code>CrudRepository&lt;T,ID&gt;</code>, \n<a href=\"https://i.stack.imgur.com/ZCGvJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZCGvJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Ok, let's check the <code>save()</code> implementation at <code>SimpleJpaRepository&lt;T, ID&gt;</code>,</p>\n\n<pre><code>@Transactional\npublic &lt;S extends T&gt; S save(S entity) {\n\n    if (entityInformation.isNew(entity)) {\n        em.persist(entity);\n        return entity;\n    } else {\n        return em.merge(entity);\n    }\n}\n</code></pre>\n\n<p>As you can see, it will check whether the ID is existed or not firstly, if the entity is already there, only update will happen by <code>merge(entity)</code> method and if else, a new record is inserted by <code>persist(entity)</code> method. </p>\n"},{"comments":[{"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"score":0,"creation_date":1604250583,"post_id":55355174,"comment_id":114283622,"body_markdown":"This statement needs a bit change. .map(en -&gt; {en.setHumanId(replacement); return en;})","body":"This statement needs a bit change. .map(en -&gt; {en.setHumanId(replacement); return en;})"}],"tags":[],"owner":{"account_id":9704049,"reputation":39,"user_id":7198019,"display_name":"BinLee"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553596970,"creation_date":1553596970,"answer_id":55355174,"question_id":11881479,"body_markdown":"    public void updateLaserDataByHumanId(String replacement, String humanId) {\r\n        List&lt;LaserData&gt; laserDataByHumanId = laserDataRepository.findByHumanId(humanId);\r\n        laserDataByHumanId.stream()\r\n                .map(en -&gt; en.setHumanId(replacement))\r\n                .collect(Collectors.toList())\r\n                .forEach(en -&gt; laserDataRepository.save(en));\r\n    }","title":"How do I update an entity using spring-data-jpa?","body":"<pre><code>public void updateLaserDataByHumanId(String replacement, String humanId) {\n    List&lt;LaserData&gt; laserDataByHumanId = laserDataRepository.findByHumanId(humanId);\n    laserDataByHumanId.stream()\n            .map(en -&gt; en.setHumanId(replacement))\n            .collect(Collectors.toList())\n            .forEach(en -&gt; laserDataRepository.save(en));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"score":4,"creation_date":1588068889,"post_id":56425116,"comment_id":108751391,"body_markdown":"Up in this way if i sent different `Id` will save it , how can i avoid save new record .","body":"Up in this way if i sent different <code>Id</code> will save it , how can i avoid save new record ."},{"owner":{"account_id":14808091,"reputation":147,"user_id":10694474,"display_name":"Amir Mhp"},"score":1,"creation_date":1588603134,"post_id":56425116,"comment_id":108954297,"body_markdown":"@AbdAbughazaleh check whether incoming Id exists in your repository or not. you can use &#39; repository.findById(id).map( entity -&gt; { //do something return repository.save(entity) } ).orElseGet( () -&gt; { //do something return; }); &#39;","body":"@AbdAbughazaleh check whether incoming Id exists in your repository or not. you can use &#39; repository.findById(id).map( entity -&gt; { //do something return repository.save(entity) } ).orElseGet( () -&gt; { //do something return; }); &#39;"},{"owner":{"account_id":7151918,"reputation":3927,"user_id":5465632,"accept_rate":83,"display_name":"Ram"},"score":0,"creation_date":1595398114,"post_id":56425116,"comment_id":111456242,"body_markdown":"Using `save()` we can avoid adding new record in the targeted table (update operation) if that table has some unique column (say `Name`). Now the passed entity to be updated should have same `Name` value as table otherwise it will create a new record.","body":"Using <code>save()</code> we can avoid adding new record in the targeted table (update operation) if that table has some unique column (say <code>Name</code>). Now the passed entity to be updated should have same <code>Name</code> value as table otherwise it will create a new record."},{"owner":{"account_id":9725157,"reputation":2553,"user_id":7212399,"accept_rate":100,"display_name":"Pratik Ambani"},"score":0,"creation_date":1620192028,"post_id":56425116,"comment_id":119124438,"body_markdown":"@AbdAbughazaleh What about  #OneToMany deleting the child entities that are not available in incoming request? I&#39;m stuck since 15 days. Can you please provide your precious inputs?","body":"@AbdAbughazaleh What about  #OneToMany deleting the child entities that are not available in incoming request? I&#39;m stuck since 15 days. Can you please provide your precious inputs?"},{"owner":{"account_id":12969674,"reputation":713,"user_id":9375838,"display_name":"Leena"},"score":0,"creation_date":1639851661,"post_id":56425116,"comment_id":124455994,"body_markdown":"@Ram Isn&#39;t Id field sufficient? That will be the unique column right?","body":"@Ram Isn&#39;t Id field sufficient? That will be the unique column right?"}],"tags":[],"owner":{"account_id":14808091,"reputation":147,"user_id":10694474,"display_name":"Amir Mhp"},"comment_count":5,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1559561196,"creation_date":1559556414,"answer_id":56425116,"question_id":11881479,"body_markdown":"spring data `save()` method will help you to perform both: adding new item and updating an existed item. \r\n\r\nJust call the `save()` and enjoy the life :))","title":"How do I update an entity using spring-data-jpa?","body":"<p>spring data <code>save()</code> method will help you to perform both: adding new item and updating an existed item. </p>\n\n<p>Just call the <code>save()</code> and enjoy the life :))</p>\n"},{"tags":[],"owner":{"account_id":7844482,"reputation":1806,"user_id":5929974,"accept_rate":33,"display_name":"Andreas Gelever"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564056230,"creation_date":1564056230,"answer_id":57201552,"question_id":11881479,"body_markdown":"&gt; Specifically how do I tell spring-data-jpa that users that have the\r\n&gt; same username and firstname are actually EQUAL and that it is supposed\r\n&gt; to update the entity. Overriding equals did not work.\r\n\r\nFor this particular purpose one can introduce a composite key like this:\r\n\r\n    CREATE TABLE IF NOT EXISTS `test`.`user` (\r\n      `username` VARCHAR(45) NOT NULL,\r\n      `firstname` VARCHAR(45) NOT NULL,\r\n      `description` VARCHAR(45) NOT NULL,\r\n      PRIMARY KEY (`username`, `firstname`))\r\n\r\nMapping:\r\n\r\n    @Embeddable\r\n    public class UserKey implements Serializable {\r\n        protected String username;\r\n        protected String firstname;\r\n    \r\n        public UserKey() {}\r\n    \r\n        public UserKey(String username, String firstname) {\r\n            this.username = username;\r\n            this.firstname = firstname;\r\n        }\r\n        // equals, hashCode\r\n    }\r\n\r\nHere is how to use it:\r\n\r\n    @Entity\r\n    public class UserEntity implements Serializable {\r\n        @EmbeddedId\r\n        private UserKey primaryKey;\r\n    \r\n        private String description;\r\n        \r\n        //...\r\n    }\r\n\r\nJpaRepository would look like this:\r\n\r\n    public interface UserEntityRepository extends JpaRepository&lt;UserEntity, UserKey&gt;\r\n\r\nThen, you could use the following **idiom:** accept DTO with user info, extract name and firstname and create UserKey, then create a UserEntity with this composite key and then invoke Spring Data save() which should sort everything out for you.\r\n\r\n","title":"How do I update an entity using spring-data-jpa?","body":"<blockquote>\n  <p>Specifically how do I tell spring-data-jpa that users that have the\n  same username and firstname are actually EQUAL and that it is supposed\n  to update the entity. Overriding equals did not work.</p>\n</blockquote>\n\n<p>For this particular purpose one can introduce a composite key like this:</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS `test`.`user` (\n  `username` VARCHAR(45) NOT NULL,\n  `firstname` VARCHAR(45) NOT NULL,\n  `description` VARCHAR(45) NOT NULL,\n  PRIMARY KEY (`username`, `firstname`))\n</code></pre>\n\n<p>Mapping:</p>\n\n<pre><code>@Embeddable\npublic class UserKey implements Serializable {\n    protected String username;\n    protected String firstname;\n\n    public UserKey() {}\n\n    public UserKey(String username, String firstname) {\n        this.username = username;\n        this.firstname = firstname;\n    }\n    // equals, hashCode\n}\n</code></pre>\n\n<p>Here is how to use it:</p>\n\n<pre><code>@Entity\npublic class UserEntity implements Serializable {\n    @EmbeddedId\n    private UserKey primaryKey;\n\n    private String description;\n\n    //...\n}\n</code></pre>\n\n<p>JpaRepository would look like this:</p>\n\n<pre><code>public interface UserEntityRepository extends JpaRepository&lt;UserEntity, UserKey&gt;\n</code></pre>\n\n<p>Then, you could use the following <strong>idiom:</strong> accept DTO with user info, extract name and firstname and create UserKey, then create a UserEntity with this composite key and then invoke Spring Data save() which should sort everything out for you.</p>\n"},{"tags":[],"owner":{"account_id":19763013,"reputation":9,"user_id":14471681,"display_name":"sanku"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1603274137,"creation_date":1603013876,"answer_id":64411789,"question_id":11881479,"body_markdown":"If your primary key is autoincrement then, you have to set the value for the primary key.\r\nfor the save(); method to work as a update().else it will create a new record in db.\r\n\r\n\r\nif you are using jsp form then use hidden filed to set primary key.\r\n\r\nJsp:\r\n\r\n&gt; &lt;form:input type=&quot;hidden&quot;  path=&quot;id&quot; value=&quot;${user.id}&quot;/&gt;\r\n\r\nJava:\r\n\r\n\t@PostMapping(&quot;/update&quot;)\r\n\tpublic String updateUser(@ModelAttribute User user) {\r\n\t\trepo.save(user);\r\n\t\treturn &quot;redirect:userlist&quot;;\r\n\t}\r\n\r\n\r\n\r\nalso look at this:\r\n\r\n    @Override\r\n      @Transactional\r\n      public Customer save(Customer customer) {\r\n    \r\n        // Is new?\r\n        if (customer.getId() == null) {\r\n          em.persist(customer);\r\n          return customer;\r\n        } else {\r\n          return em.merge(customer);\r\n        }\r\n      }","title":"How do I update an entity using spring-data-jpa?","body":"<p>If your primary key is autoincrement then, you have to set the value for the primary key.\nfor the save(); method to work as a update().else it will create a new record in db.</p>\n<p>if you are using jsp form then use hidden filed to set primary key.</p>\n<p>Jsp:</p>\n<blockquote>\n<p>&lt;form:input type=&quot;hidden&quot;  path=&quot;id&quot; value=&quot;${user.id}&quot;/&gt;</p>\n</blockquote>\n<p>Java:</p>\n<pre><code>@PostMapping(&quot;/update&quot;)\npublic String updateUser(@ModelAttribute User user) {\n    repo.save(user);\n    return &quot;redirect:userlist&quot;;\n}\n</code></pre>\n<p>also look at this:</p>\n<pre><code>@Override\n  @Transactional\n  public Customer save(Customer customer) {\n\n    // Is new?\n    if (customer.getId() == null) {\n      em.persist(customer);\n      return customer;\n    } else {\n      return em.merge(customer);\n    }\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1180483,"reputation":3616,"user_id":1155514,"display_name":"Muhammad Tariq"},"score":1,"creation_date":1631767875,"post_id":66861527,"comment_id":122311887,"body_markdown":"Would be much helpful if you add a simple example here.","body":"Would be much helpful if you add a simple example here."},{"owner":{"account_id":23006810,"reputation":185,"user_id":17129958,"display_name":"Subhrajit Sadhukhan"},"score":0,"creation_date":1647778181,"post_id":66861527,"comment_id":126451808,"body_markdown":"[Link](https://www.baeldung.com/spring-data-jpa-dynamicupdate)","body":"<a href=\"https://www.baeldung.com/spring-data-jpa-dynamicupdate\" rel=\"nofollow noreferrer\">Link</a>"}],"tags":[],"owner":{"account_id":17528333,"reputation":43,"user_id":12712935,"display_name":"Tarek Sahalia"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1617051416,"creation_date":1617051416,"answer_id":66861527,"question_id":11881479,"body_markdown":"Use [@DynamicUpdate][1] annotation. it is cleaner and you don&#39;t have to deal with querying the database in order to get the saved values.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-dynamicupdate","title":"How do I update an entity using spring-data-jpa?","body":"<p>Use <a href=\"https://www.baeldung.com/spring-data-jpa-dynamicupdate\" rel=\"nofollow noreferrer\">@DynamicUpdate</a> annotation. it is cleaner and you don't have to deal with querying the database in order to get the saved values.</p>\n"},{"tags":[],"owner":{"account_id":18214648,"reputation":124,"user_id":13256503,"display_name":"Golam Kibria"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653925472,"creation_date":1640687714,"answer_id":70505829,"question_id":11881479,"body_markdown":"You can see the example below:\r\n\r\n\r\n    private void updateDeliveryStatusOfEvent(Integer eventId, int deliveryStatus) {\r\n        try {\r\n            LOGGER.info(&quot;NOTIFICATION_EVENT updating with event id:{}&quot;, eventId);\r\n            Optional&lt;Event&gt; eventOptional = eventRepository.findById(eventId);\r\n            if (!eventOptional.isPresent()) {\r\n                LOGGER.info(&quot;Didn&#39;t find any updatable notification event with this eventId:{}&quot;, eventId);\r\n            }\r\n            Event event = eventOptional.get();\r\n            event.setDeliveryStatus(deliveryStatus);\r\n            event = eventRepository.save(event);\r\n            if (!Objects.isNull(event)) {\r\n                LOGGER.info(&quot;NOTIFICATION_EVENT Successfully Updated with this id:{}&quot;, eventId);\r\n            }\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;Error :{} while updating NOTIFICATION_EVENT of event Id:{}&quot;, e, eventId);\r\n        }\r\n    }\r\n\r\n**Or Update Using Native Query:**\r\n\r\n    public interface YourRepositoryName extends JpaRepository&lt;Event,Integer&gt;{\r\n    @Transactional\r\n        @Modifying\r\n        @Query(value=&quot;update Event u set u.deliveryStatus = :deliveryStatus where u.eventId = :eventId&quot;, nativeQuery = true)\r\n        void setUserInfoById(@Param(&quot;deliveryStatus&quot;)String deliveryStatus, @Param(&quot;eventId&quot;)Integer eventId);\r\n    }","title":"How do I update an entity using spring-data-jpa?","body":"<p>You can see the example below:</p>\n<pre><code>private void updateDeliveryStatusOfEvent(Integer eventId, int deliveryStatus) {\n    try {\n        LOGGER.info(&quot;NOTIFICATION_EVENT updating with event id:{}&quot;, eventId);\n        Optional&lt;Event&gt; eventOptional = eventRepository.findById(eventId);\n        if (!eventOptional.isPresent()) {\n            LOGGER.info(&quot;Didn't find any updatable notification event with this eventId:{}&quot;, eventId);\n        }\n        Event event = eventOptional.get();\n        event.setDeliveryStatus(deliveryStatus);\n        event = eventRepository.save(event);\n        if (!Objects.isNull(event)) {\n            LOGGER.info(&quot;NOTIFICATION_EVENT Successfully Updated with this id:{}&quot;, eventId);\n        }\n    } catch (Exception e) {\n        LOGGER.error(&quot;Error :{} while updating NOTIFICATION_EVENT of event Id:{}&quot;, e, eventId);\n    }\n}\n</code></pre>\n<p><strong>Or Update Using Native Query:</strong></p>\n<pre><code>public interface YourRepositoryName extends JpaRepository&lt;Event,Integer&gt;{\n@Transactional\n    @Modifying\n    @Query(value=&quot;update Event u set u.deliveryStatus = :deliveryStatus where u.eventId = :eventId&quot;, nativeQuery = true)\n    void setUserInfoById(@Param(&quot;deliveryStatus&quot;)String deliveryStatus, @Param(&quot;eventId&quot;)Integer eventId);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3563824,"reputation":6986,"user_id":2975952,"accept_rate":86,"display_name":"Thamaraiselvam"},"score":0,"creation_date":1667321135,"post_id":71948409,"comment_id":131138108,"body_markdown":"What is UserService business logic here?\nrepository.save() will add new entry right.","body":"What is UserService business logic here? repository.save() will add new entry right."},{"owner":{"account_id":12211707,"reputation":367,"user_id":8913302,"display_name":"Johan"},"score":0,"creation_date":1667354316,"post_id":71948409,"comment_id":131146171,"body_markdown":"@Thamaraiselvam, you are right, it is for saving. May be you are wondering why I&#39;m using UserService instead of UserRepository, eventhough both class have the same function. \nIt&#39;s for internal convention and may be &quot;culture&quot; of the previous experience it&#39;s always using service when handling business logic. It&#39;s not simple saving though, we are adding AOP before and after the &quot;service&quot; classes, like &quot;update by&quot;, &quot;created by&quot;, &quot;modified date&quot;, &quot;created date&quot;.","body":"@Thamaraiselvam, you are right, it is for saving. May be you are wondering why I&#39;m using UserService instead of UserRepository, eventhough both class have the same function.  It&#39;s for internal convention and may be &quot;culture&quot; of the previous experience it&#39;s always using service when handling business logic. It&#39;s not simple saving though, we are adding AOP before and after the &quot;service&quot; classes, like &quot;update by&quot;, &quot;created by&quot;, &quot;modified date&quot;, &quot;created date&quot;."}],"tags":[],"owner":{"account_id":12211707,"reputation":367,"user_id":8913302,"display_name":"Johan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650509995,"creation_date":1650509995,"answer_id":71948409,"question_id":11881479,"body_markdown":"As mentioned by others answer, method save() is dual function. It can both do save or update, it&#39;s automatically update if you provide the id.\r\n\r\nfor update method in controller class I suggested to use @PatchMapping. below is the example.\r\n\r\n#Save method POST\r\n\r\n    {\r\n        &quot;username&quot;: &quot;jhon.doe&quot;,\r\n        &quot;displayName&quot;: &quot;Jhon&quot;,\r\n        &quot;password&quot;: &quot;xxxyyyzzz&quot;,\r\n        &quot;email&quot;: &quot;jhon.doe@mail.com&quot;\r\n    }\r\n    @PostMapping(&quot;/user&quot;)\r\n    public void setUser(@RequestBody User user) {\r\n    \tuserService.save(user);\r\n    }\r\n\r\n#Update method PATCH\r\n\r\n    {\r\n        &quot;id&quot;: 1, // this is important. Widly important\r\n        &quot;username&quot;: &quot;jhon.doe&quot;,\r\n        &quot;displayName&quot;: &quot;Jhon&quot;,\r\n        &quot;password&quot;: &quot;xxxyyyzzz&quot;,\r\n        &quot;email&quot;: &quot;jhon.doe@mail.com&quot;\r\n    }\r\n    \r\n    @PatchMapping(&quot;/user&quot;)\r\n    public void patchUser(@RequestBody User user) {\r\n    \tuserService.save(user);\r\n    }\r\n\r\nMaybe you&#39;re wondering where the id&#39;s come from. It comes from the database of course, you want to update the existing data right?","title":"How do I update an entity using spring-data-jpa?","body":"<p>As mentioned by others answer, method save() is dual function. It can both do save or update, it's automatically update if you provide the id.</p>\n<p>for update method in controller class I suggested to use @PatchMapping. below is the example.</p>\n<p>#Save method POST</p>\n<pre><code>{\n    &quot;username&quot;: &quot;jhon.doe&quot;,\n    &quot;displayName&quot;: &quot;Jhon&quot;,\n    &quot;password&quot;: &quot;xxxyyyzzz&quot;,\n    &quot;email&quot;: &quot;jhon.doe@mail.com&quot;\n}\n@PostMapping(&quot;/user&quot;)\npublic void setUser(@RequestBody User user) {\n    userService.save(user);\n}\n</code></pre>\n<p>#Update method PATCH</p>\n<pre><code>{\n    &quot;id&quot;: 1, // this is important. Widly important\n    &quot;username&quot;: &quot;jhon.doe&quot;,\n    &quot;displayName&quot;: &quot;Jhon&quot;,\n    &quot;password&quot;: &quot;xxxyyyzzz&quot;,\n    &quot;email&quot;: &quot;jhon.doe@mail.com&quot;\n}\n\n@PatchMapping(&quot;/user&quot;)\npublic void patchUser(@RequestBody User user) {\n    userService.save(user);\n}\n</code></pre>\n<p>Maybe you're wondering where the id's come from. It comes from the database of course, you want to update the existing data right?</p>\n"},{"tags":[],"owner":{"account_id":10536282,"reputation":164,"user_id":7764065,"display_name":"Javid"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1655847184,"creation_date":1655844570,"answer_id":72706965,"question_id":11881479,"body_markdown":"With java 8 you can use repository&#39;s findById in UserService\r\n\r\n    @Service\r\n    public class UserServiceImpl {\r\n    \r\n        private final UserRepository repository;\r\n\r\n        public UserServiceImpl(UserRepository repository) {\r\n            this.repository = repository;\r\n        }\r\n\r\n        @Transactional\r\n        public void update(User user) {\r\n            repository\r\n                    .findById(user.getId()) // returns Optional&lt;User&gt;\r\n                    .ifPresent(user1 -&gt; {\r\n                        user1.setFirstname(user.getFirstname);\r\n                        user1.setLastname(user.getLastname);\r\n\r\n                        repository.save(user1);\r\n                    });\r\n        }\r\n\r\n    }","title":"How do I update an entity using spring-data-jpa?","body":"<p>With java 8 you can use repository's findById in UserService</p>\n<pre><code>@Service\npublic class UserServiceImpl {\n\n    private final UserRepository repository;\n\n    public UserServiceImpl(UserRepository repository) {\n        this.repository = repository;\n    }\n\n    @Transactional\n    public void update(User user) {\n        repository\n                .findById(user.getId()) // returns Optional&lt;User&gt;\n                .ifPresent(user1 -&gt; {\n                    user1.setFirstname(user.getFirstname);\n                    user1.setLastname(user.getLastname);\n\n                    repository.save(user1);\n                });\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4333190,"reputation":1,"user_id":3538084,"display_name":"gjuliane"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676507318,"creation_date":1676506864,"answer_id":75466684,"question_id":11881479,"body_markdown":"I did this for my Entity UserModel:\r\n\r\nIn the Controller:\r\n\r\n```\r\n\t\t@PutMapping(&quot;/{id}&quot;)\r\n\t\tpublic Optional&lt;UserModel&gt; update(@RequestBody UserModel user, @PathVariable Long id) {\r\n\t\t\treturn this.userService.update(user, id);\r\n\t\t}\r\n```\r\nAnd in the Service:\r\n\r\n```\r\n\tpublic Optional&lt;UserModel&gt; update(UserModel req, Long id){\r\n\t\tOptional&lt;UserModel&gt; user = userRepository.findById(id);\r\n\t\tif (user != null) {\r\n\t\t\tuserRepository.save(req);\r\n\t\t}\r\n\t\treturn user;\r\n\t}\r\n```\r\nExample with postman:\r\n[Postman method PUT example][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZeBF0.png","title":"How do I update an entity using spring-data-jpa?","body":"<p>I did this for my Entity UserModel:</p>\n<p>In the Controller:</p>\n<pre><code>        @PutMapping(&quot;/{id}&quot;)\n        public Optional&lt;UserModel&gt; update(@RequestBody UserModel user, @PathVariable Long id) {\n            return this.userService.update(user, id);\n        }\n</code></pre>\n<p>And in the Service:</p>\n<pre><code>    public Optional&lt;UserModel&gt; update(UserModel req, Long id){\n        Optional&lt;UserModel&gt; user = userRepository.findById(id);\n        if (user != null) {\n            userRepository.save(req);\n        }\n        return user;\n    }\n</code></pre>\n<p>Example with postman:\n<a href=\"https://i.stack.imgur.com/ZeBF0.png\" rel=\"nofollow noreferrer\">Postman method PUT example</a></p>\n"},{"tags":[],"owner":{"account_id":13566136,"reputation":155,"user_id":9786128,"display_name":"Muhammad Taha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686820856,"creation_date":1686820856,"answer_id":76481002,"question_id":11881479,"body_markdown":"just use \r\n\r\n&gt; userRepository.save(user)\r\n\r\nif any user of this user&#39;s primary-key (i.e. **id** in your case) is found then this statement will update existing user otherwise this statement will save new user.","title":"How do I update an entity using spring-data-jpa?","body":"<p>just use</p>\n<blockquote>\n<p>userRepository.save(user)</p>\n</blockquote>\n<p>if any user of this user's primary-key (i.e. <strong>id</strong> in your case) is found then this statement will update existing user otherwise this statement will save new user.</p>\n"},{"tags":[],"owner":{"account_id":27412974,"reputation":142,"user_id":20912639,"display_name":"Martin Maťovč&#237;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699955519,"creation_date":1699955519,"answer_id":77479619,"question_id":11881479,"body_markdown":"Since my Transaction entity has a lot of fields this is the approach that works best for me:\r\n\r\n      @Override\r\n      @Transactional\r\n      public Transaction updateTransaction(UUID id, Transaction updatedTransaction) {\r\n        Transaction transactionToUpdate = transactionRepository.getReferenceById(id);\r\n        BeanUtils.copyProperties(updatedTransaction, transactionToUpdate, &quot;transactionId&quot;);\r\n        return transactionRepository.save(transactionToUpdate);\r\n      }\r\n","title":"How do I update an entity using spring-data-jpa?","body":"<p>Since my Transaction entity has a lot of fields this is the approach that works best for me:</p>\n<pre><code>  @Override\n  @Transactional\n  public Transaction updateTransaction(UUID id, Transaction updatedTransaction) {\n    Transaction transactionToUpdate = transactionRepository.getReferenceById(id);\n    BeanUtils.copyProperties(updatedTransaction, transactionToUpdate, &quot;transactionId&quot;);\n    return transactionRepository.save(transactionToUpdate);\n  }\n</code></pre>\n"}],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840192,"favorite_count":0,"down_vote_count":0,"up_vote_count":327,"accepted_answer_id":11881628,"answer_count":17,"score":327,"last_activity_date":1699955519,"creation_date":1344508424,"question_id":11881479,"body_markdown":"Well the question pretty much says everything. Using JPARepository how do I update an entity?\r\n\r\nJPARepository has only a **save** method, which does not tell me if it&#39;s create or update actually. For example, I insert a simple Object to the database User, which has three fields: `firstname`, `lastname` and `age`:\r\n\r\n     @Entity\r\n     public class User {\r\n\t\r\n\t  private String firstname;\r\n\t  private String lastname;\r\n      //Setters and getters for age omitted, but they are the same as with firstname and lastname.\r\n      private int age;\r\n\t\r\n\t  @Column\r\n\t  public String getFirstname() {\r\n\t\treturn firstname;\r\n\t  }\r\n\t  public void setFirstname(String firstname) {\r\n\t\tthis.firstname = firstname;\r\n\t  }\r\n\t\r\n\t  @Column\r\n\t  public String getLastname() {\r\n\t\treturn lastname;\r\n\t  }\r\n\t  public void setLastname(String lastname) {\r\n\t\tthis.lastname = lastname;\r\n\t  }\r\n\t\r\n\t  private long userId;\r\n\t\r\n\t  @Id\r\n\t  @GeneratedValue(strategy=GenerationType.AUTO)\r\n\t  public long getUserId(){\r\n\t\treturn this.userId;\r\n\t  }\r\n\t\r\n\t  public void setUserId(long userId){\r\n\t\tthis.userId = userId;\r\n\t  }\r\n    }\r\n\r\n\r\nThen I simply call `save()`, which at this point is actually an insert into database:\r\n\r\n     User user1 = new User();\r\n     user1.setFirstname(&quot;john&quot;); user1.setLastname(&quot;dew&quot;);\r\n     user1.setAge(16);\r\n\r\n     userService.saveUser(user1);// This call is actually using the JPARepository: userRepository.save(user);\r\n\r\n\r\nSo far so good. Now I want to update this user, say change his age. For this purpose I could use a Query, either QueryDSL or NamedQuery, whatever. But, considering I just want to use spring-data-jpa and the JPARepository, how do I tell it that instead of an insert I want to do an update? \r\n\r\nSpecifically, how do I tell spring-data-jpa that users with the same username and firstname are actually EQUAL and that the existing entity supposed to be updated? Overriding equals did not solve this problem.","title":"How do I update an entity using spring-data-jpa?","body":"<p>Well the question pretty much says everything. Using JPARepository how do I update an entity?</p>\n\n<p>JPARepository has only a <strong>save</strong> method, which does not tell me if it's create or update actually. For example, I insert a simple Object to the database User, which has three fields: <code>firstname</code>, <code>lastname</code> and <code>age</code>:</p>\n\n<pre><code> @Entity\n public class User {\n\n  private String firstname;\n  private String lastname;\n  //Setters and getters for age omitted, but they are the same as with firstname and lastname.\n  private int age;\n\n  @Column\n  public String getFirstname() {\n    return firstname;\n  }\n  public void setFirstname(String firstname) {\n    this.firstname = firstname;\n  }\n\n  @Column\n  public String getLastname() {\n    return lastname;\n  }\n  public void setLastname(String lastname) {\n    this.lastname = lastname;\n  }\n\n  private long userId;\n\n  @Id\n  @GeneratedValue(strategy=GenerationType.AUTO)\n  public long getUserId(){\n    return this.userId;\n  }\n\n  public void setUserId(long userId){\n    this.userId = userId;\n  }\n}\n</code></pre>\n\n<p>Then I simply call <code>save()</code>, which at this point is actually an insert into database:</p>\n\n<pre><code> User user1 = new User();\n user1.setFirstname(\"john\"); user1.setLastname(\"dew\");\n user1.setAge(16);\n\n userService.saveUser(user1);// This call is actually using the JPARepository: userRepository.save(user);\n</code></pre>\n\n<p>So far so good. Now I want to update this user, say change his age. For this purpose I could use a Query, either QueryDSL or NamedQuery, whatever. But, considering I just want to use spring-data-jpa and the JPARepository, how do I tell it that instead of an insert I want to do an update? </p>\n\n<p>Specifically, how do I tell spring-data-jpa that users with the same username and firstname are actually EQUAL and that the existing entity supposed to be updated? Overriding equals did not solve this problem.</p>\n"},{"tags":["java","mysql","jdbi"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1699874244,"post_id":77472945,"comment_id":136581440,"body_markdown":"`upsert` is a term introduced by Couchbase. On relational databases you need to distinguish insert and update. Thus I believe both your SqlUpdate statements are wrongly showing &quot;insert into ...&quot;","body":"<code>upsert</code> is a term introduced by Couchbase. On relational databases you need to distinguish insert and update. Thus I believe both your SqlUpdate statements are wrongly showing &quot;insert into ...&quot;"},{"owner":{"account_id":15516865,"reputation":53,"user_id":11194107,"display_name":"Robbie"},"score":0,"creation_date":1699876123,"post_id":77472945,"comment_id":136581756,"body_markdown":"Hey @queeg,  Query 1 is what I want to turn into the style of query 2, which is why I am using on duplicate key update which mirrors the behavior of an upsert but perhaps I have worded the question wrong?","body":"Hey @queeg,  Query 1 is what I want to turn into the style of query 2, which is why I am using on duplicate key update which mirrors the behavior of an upsert but perhaps I have worded the question wrong?"}],"answers":[{"comments":[{"owner":{"account_id":15516865,"reputation":53,"user_id":11194107,"display_name":"Robbie"},"score":0,"creation_date":1699961628,"post_id":77479586,"comment_id":136593667,"body_markdown":"I can&#39;t seem to get this to work, My first issue was that it needed a row mapper so I&#39;ve added one \n```class idRowsMapper implements RowMapper&lt;idRows&gt; {\n        @Override\n        public idRows map(ResultSet rs, StatementContext ctx) throws SQLException {\n            return new idRows(rs.getLong(&quot;id&quot;), rs.getInt(&quot;rowsAffected&quot;));\n        }\n    }\n```\n\n\n`rs.getMetaData().getColumnCount()`\n only returns one and at that column name the only one I can see is `GENERATED_KEY` which gives me the generated key and not the affected rows I&#39;m also looking for","body":"I can&#39;t seem to get this to work, My first issue was that it needed a row mapper so I&#39;ve added one  <code>class idRowsMapper implements RowMapper&lt;idRows&gt; {         @Override         public idRows map(ResultSet rs, StatementContext ctx) throws SQLException {             return new idRows(rs.getLong(&quot;id&quot;), rs.getInt(&quot;rowsAffected&quot;));         }     } </code>   <code>rs.getMetaData().getColumnCount()</code>  only returns one and at that column name the only one I can see is <code>GENERATED_KEY</code> which gives me the generated key and not the affected rows I&#39;m also looking for"}],"tags":[],"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699955254,"creation_date":1699955254,"answer_id":77479586,"question_id":77472945,"body_markdown":"    @SqlUpdate(&quot;&quot;&quot;\r\n        INSERT INTO table_name (\r\n            account, \r\n            state,\r\n            lock,\r\n            external_id\r\n        )\r\n        VALUES (\r\n            :account,\r\n            :state,\r\n            :lock,\r\n            :external_id)\r\n        ON DUPLICATE KEY UPDATE\r\n            external_id = :external_id,\r\n            lock = :lock\r\n    &quot;&quot;&quot;)\r\n    @GetGeneratedKeys({&quot;id&quot;, &quot;rowsAffected&quot;})\r\n    idRows upsert(@BindBean ExampleBean exampleBean);\r\n\r\n\r\n##### Your idRows record should look like this:\r\n\r\n    public record idRows(Long id, int rowsAffected) {}\r\n\r\n\r\nThis way, when you call the upsert method, it should return an instance of idRows with both the generated ID and the number of affected rows.\r\n","title":"Java JBDI how to get the affected rows and generated id with a query on duplicate key update mysql","body":"<pre><code>@SqlUpdate(&quot;&quot;&quot;\n    INSERT INTO table_name (\n        account, \n        state,\n        lock,\n        external_id\n    )\n    VALUES (\n        :account,\n        :state,\n        :lock,\n        :external_id)\n    ON DUPLICATE KEY UPDATE\n        external_id = :external_id,\n        lock = :lock\n&quot;&quot;&quot;)\n@GetGeneratedKeys({&quot;id&quot;, &quot;rowsAffected&quot;})\nidRows upsert(@BindBean ExampleBean exampleBean);\n</code></pre>\n<h5>Your idRows record should look like this:</h5>\n<pre><code>public record idRows(Long id, int rowsAffected) {}\n</code></pre>\n<p>This way, when you call the upsert method, it should return an instance of idRows with both the generated ID and the number of affected rows.</p>\n"}],"owner":{"account_id":15516865,"reputation":53,"user_id":11194107,"display_name":"Robbie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699955254,"creation_date":1699868617,"question_id":77472945,"body_markdown":"I&#39;m trying to find out how to return affected rows on an insert and also get the generated key `id` from the same query;\r\n\r\nI have this query\r\n``` \r\n@SqlUpdate(&quot;&quot;&quot;\r\n            INSERT INTO table_name (\r\n                account, \r\n                state,\r\n                lock,\r\n                external_id\r\n)\r\n            VALUES (\r\n                :account,\r\n                :state,\r\n                :lock,\r\n                :external_id)\r\n            &quot;&quot;&quot;)\r\n    @GetGeneratedKeys(&quot;id&quot;)\r\n    Long insert(@BindBean ExampleBean exampleBean);\r\n```\r\n\r\nThat I want to update to something like this for an upsert so when I find a duplicate entry I would like to update it to something like this\r\n```\r\n  @SqlUpdate(&quot;&quot;&quot;\r\n            INSERT INTO table_name (\r\n                account, \r\n                state,\r\n                lock,\r\n                external_id\r\n)\r\n            VALUES (\r\n                :account,\r\n                :state,\r\n                :lock,\r\n                :external_id)\r\n                ON DUPLICATE KEY\r\n                UPDATE\r\n                external_id = :external_id\r\n                lock = :lock\r\n            &quot;&quot;&quot;)\r\n    @GetGeneratedKeys(&quot;id&quot;)\r\n    idRows insert(@BindBean ExampleBean exampleBean);  \r\n\r\n public record idRows(Long id, int rowsAffected) {}\r\n```\r\n\r\ncalled by doing \r\n\r\n```\r\ntry (Handle handle = jdbi.open()) {\r\n        return handle.attach(ExampleBean.class).upsert(exampleBean));\r\n        } catch (Exception e) {\r\n            log(example);\r\n            return null;\r\n        }\r\n```\r\non my Hikari Datasource I have set `&quot;useAffectedRows&quot;, true` \r\n\r\nwhere I can map both the affected rows and the generated ID at the same time to my record, any ideas would be appreciated! ","title":"Java JBDI how to get the affected rows and generated id with a query on duplicate key update mysql","body":"<p>I'm trying to find out how to return affected rows on an insert and also get the generated key <code>id</code> from the same query;</p>\n<p>I have this query</p>\n<pre><code>@SqlUpdate(&quot;&quot;&quot;\n            INSERT INTO table_name (\n                account, \n                state,\n                lock,\n                external_id\n)\n            VALUES (\n                :account,\n                :state,\n                :lock,\n                :external_id)\n            &quot;&quot;&quot;)\n    @GetGeneratedKeys(&quot;id&quot;)\n    Long insert(@BindBean ExampleBean exampleBean);\n</code></pre>\n<p>That I want to update to something like this for an upsert so when I find a duplicate entry I would like to update it to something like this</p>\n<pre><code>  @SqlUpdate(&quot;&quot;&quot;\n            INSERT INTO table_name (\n                account, \n                state,\n                lock,\n                external_id\n)\n            VALUES (\n                :account,\n                :state,\n                :lock,\n                :external_id)\n                ON DUPLICATE KEY\n                UPDATE\n                external_id = :external_id\n                lock = :lock\n            &quot;&quot;&quot;)\n    @GetGeneratedKeys(&quot;id&quot;)\n    idRows insert(@BindBean ExampleBean exampleBean);  \n\n public record idRows(Long id, int rowsAffected) {}\n</code></pre>\n<p>called by doing</p>\n<pre><code>try (Handle handle = jdbi.open()) {\n        return handle.attach(ExampleBean.class).upsert(exampleBean));\n        } catch (Exception e) {\n            log(example);\n            return null;\n        }\n</code></pre>\n<p>on my Hikari Datasource I have set <code>&quot;useAffectedRows&quot;, true</code></p>\n<p>where I can map both the affected rows and the generated ID at the same time to my record, any ideas would be appreciated!</p>\n"},{"tags":["java","eclipse","project-structure"],"comments":[{"owner":{"account_id":6212671,"reputation":1582,"user_id":4838509,"accept_rate":75,"display_name":"Bhaskara Arani"},"score":1,"creation_date":1479093952,"post_id":40581432,"comment_id":68398608,"body_markdown":"Plz share the images to clear understanding about your problem.","body":"Plz share the images to clear understanding about your problem."},{"owner":{"account_id":2313845,"reputation":1806,"user_id":2031321,"accept_rate":91,"display_name":"msagala25"},"score":0,"creation_date":1479094537,"post_id":40581432,"comment_id":68398746,"body_markdown":"i edited my post now with image.","body":"i edited my post now with image."}],"answers":[{"comments":[{"owner":{"account_id":2313845,"reputation":1806,"user_id":2031321,"accept_rate":91,"display_name":"msagala25"},"score":0,"creation_date":1479094514,"post_id":40581490,"comment_id":68398740,"body_markdown":"My perspective is in Java EE. I edited it with image now. thanks","body":"My perspective is in Java EE. I edited it with image now. thanks"},{"owner":{"account_id":6212671,"reputation":1582,"user_id":4838509,"accept_rate":75,"display_name":"Bhaskara Arani"},"score":0,"creation_date":1479102363,"post_id":40581490,"comment_id":68400558,"body_markdown":"Go to navigator view","body":"Go to navigator view"}],"tags":[],"owner":{"account_id":6212671,"reputation":1582,"user_id":4838509,"accept_rate":75,"display_name":"Bhaskara Arani"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479102611,"creation_date":1479094132,"answer_id":40581490,"question_id":40581432,"body_markdown":"In your IDE goto Windows-&gt; Show View -&gt; Navigator, check the image for the same try to change it to &quot;navigator&quot; view your will be able to see it. If not please share the images of it, then we will help you more[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wniU6.png","title":"My src in Java Resources suddenly disappear","body":"<p>In your IDE goto Windows-> Show View -> Navigator, check the image for the same try to change it to \"navigator\" view your will be able to see it. If not please share the images of it, then we will help you more<a href=\"https://i.stack.imgur.com/wniU6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wniU6.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7322177,"reputation":1011,"user_id":5577819,"accept_rate":100,"display_name":"Zia"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1479102143,"creation_date":1479102143,"answer_id":40582498,"question_id":40581432,"body_markdown":"Verify your java build path of the project and check if `src` is present there.\r\nRight click on the project and select Build Path -&gt; Configure Build Path.If `src` is not in build path it won&#39;t show you can add src folder in your build path of the project by following below steps,\r\n\r\n - right click on project\r\n - select properties\r\n - select java build path\r\n - goto source tab\r\n - click add folder\r\n - select your source folder (src/main/java)\r\n\r\nAlso look at  perspective is will be in Navigator perspective.","title":"My src in Java Resources suddenly disappear","body":"<p>Verify your java build path of the project and check if <code>src</code> is present there.\nRight click on the project and select Build Path -> Configure Build Path.If <code>src</code> is not in build path it won't show you can add src folder in your build path of the project by following below steps,</p>\n\n<ul>\n<li>right click on project</li>\n<li>select properties</li>\n<li>select java build path</li>\n<li>goto source tab</li>\n<li>click add folder</li>\n<li>select your source folder (src/main/java)</li>\n</ul>\n\n<p>Also look at  perspective is will be in Navigator perspective.</p>\n"},{"tags":[],"owner":{"account_id":9704781,"reputation":37,"user_id":7198545,"display_name":"Irek Reeves"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479886396,"creation_date":1479886396,"answer_id":40758485,"question_id":40581432,"body_markdown":"@msagala you have to `Configure build path`. Then under `Source` tab click `Add` button and you will see your existing source folder.\r\nI hope this will help you.\r\n","title":"My src in Java Resources suddenly disappear","body":"<p>@msagala you have to <code>Configure build path</code>. Then under <code>Source</code> tab click <code>Add</code> button and you will see your existing source folder.\nI hope this will help you.</p>\n"}],"owner":{"account_id":2313845,"reputation":1806,"user_id":2031321,"accept_rate":91,"display_name":"msagala25"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40582498,"answer_count":3,"score":0,"last_activity_date":1699955023,"creation_date":1479093659,"question_id":40581432,"body_markdown":"I&#39;m creating a Dynamic Web Project, and I have src in my Java Resources then suddenly src disappear inside of it. I find out that the src became a context folder in the root along with Java Resources, Build, WEB-INF and WebContent folders. Why did this happen?\r\n\r\n[![This is the src][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/oCi65.png","title":"My src in Java Resources suddenly disappear","body":"<p>I'm creating a Dynamic Web Project, and I have src in my Java Resources then suddenly src disappear inside of it. I find out that the src became a context folder in the root along with Java Resources, Build, WEB-INF and WebContent folders. Why did this happen?</p>\n<p><a href=\"https://i.stack.imgur.com/oCi65.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oCi65.png\" alt=\"This is the src\" /></a></p>\n"},{"tags":["java","swt","transparent","composite"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1565905746,"post_id":42087977,"comment_id":101501137,"body_markdown":"See also the style `SWT.TRANSPARENT`, at least for Composites.","body":"See also the style <code>SWT.TRANSPARENT</code>, at least for Composites."}],"answers":[{"comments":[{"owner":{"account_id":239393,"reputation":7415,"user_id":508957,"accept_rate":58,"display_name":"sura2k"},"score":0,"creation_date":1509690978,"post_id":42286915,"comment_id":81128784,"body_markdown":"Why this is not marked as the correct answer? After trying many things this worked nicely. Thanks!","body":"Why this is not marked as the correct answer? After trying many things this worked nicely. Thanks!"}],"tags":[],"owner":{"account_id":8310021,"reputation":7568,"user_id":6245535,"display_name":"Loris Securo"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1512073659,"creation_date":1487289031,"answer_id":42286915,"question_id":42087977,"body_markdown":"A possible solution would be to put a semi-transparent `Shell` with no trimmings over the `Composite` you want to cover.\r\n\r\nThe tricky part is to update the overlay `Shell` to continuously match the size, position and visibility of the `Composite` and its parents (since they also could affect the children bounds and visibility).\r\n\r\nSo I decided to try to make a class `Overlay` to do that; it can be used to cover any `Control` and it uses control and paint listeners to track and match the underlying `Control`. These listeners are also attached to the whole hierarchy of parents of the `Control`.\r\n\r\nYou can set the color, the transparency and a text over the `Overlay` using the corresponding methods.\r\n\r\nI made some simple tests and it seemed to work correctly, but I can&#39;t guarantee anything. You might want to give it a try it.\r\n\r\nA simple example using it:\r\n\r\n    public class OverlayTest {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\tDisplay display = new Display();\r\n\t\t\tShell shell = new Shell(display);\r\n\t\t\tshell.setLayout(new FillLayout(SWT.VERTICAL));\r\n\t\t\tshell.setSize(250, 250);\r\n\r\n\t\t\t// create the composite\r\n\t\t\tComposite composite = new Composite(shell, SWT.NONE);\r\n\t\t\tcomposite.setLayout(new FillLayout(SWT.VERTICAL));\r\n\r\n\t\t\t// add stuff to the composite\r\n\t\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\t\tnew Text(composite, SWT.BORDER).setText(&quot;Text &quot; + i);\r\n\t\t\t}\r\n\r\n\t\t\t// create the overlay over the composite\r\n\t\t\tOverlay overlay = new Overlay(composite);\r\n\t\t\toverlay.setText(&quot;No data available&quot;);\r\n\r\n\t\t\t// create the button to show/hide the overlay\r\n\t\t\tButton button = new Button(shell, SWT.PUSH);\r\n\t\t\tbutton.setText(&quot;Show/hide overlay&quot;);\r\n\t\t\tbutton.addSelectionListener(new SelectionAdapter() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void widgetSelected(SelectionEvent arg0) {\r\n\t\t\t\t\t// if the overlay is showing we hide it, otherwise we show it\r\n\t\t\t\t\tif (overlay.isShowing()) {\r\n\t\t\t\t\t\toverlay.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\toverlay.show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tshell.open();\r\n\t\t\twhile (shell != null &amp;&amp; !shell.isDisposed()) {\r\n\t\t\t\tif (!display.readAndDispatch()) {\r\n\t\t\t\t\tdisplay.sleep();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\nAnd the `Overlay` class:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    \r\n    import org.eclipse.swt.SWT;\r\n    import org.eclipse.swt.events.ControlEvent;\r\n    import org.eclipse.swt.events.ControlListener;\r\n    import org.eclipse.swt.events.DisposeEvent;\r\n    import org.eclipse.swt.events.DisposeListener;\r\n    import org.eclipse.swt.events.PaintEvent;\r\n    import org.eclipse.swt.events.PaintListener;\r\n    import org.eclipse.swt.graphics.Color;\r\n    import org.eclipse.swt.graphics.Point;\r\n    import org.eclipse.swt.graphics.Rectangle;\r\n    import org.eclipse.swt.layout.GridData;\r\n    import org.eclipse.swt.layout.GridLayout;\r\n    import org.eclipse.swt.widgets.Composite;\r\n    import org.eclipse.swt.widgets.Control;\r\n    import org.eclipse.swt.widgets.Label;\r\n    import org.eclipse.swt.widgets.Scrollable;\r\n    import org.eclipse.swt.widgets.Shell;\r\n    \r\n    /**\r\n     *  A customizable overlay over a control.\r\n     *  \r\n     *  @author Loris Securo\r\n     */\r\n    public class Overlay {\r\n    \r\n    \tprivate List&lt;Composite&gt; parents;\r\n    \tprivate Control objectToOverlay;\r\n    \tprivate Shell overlay;\r\n    \tprivate Label label;\r\n    \tprivate ControlListener controlListener;\r\n    \tprivate DisposeListener disposeListener;\r\n    \tprivate PaintListener paintListener;\r\n    \tprivate boolean showing;\r\n    \tprivate boolean hasClientArea;\r\n    \tprivate Scrollable scrollableToOverlay;\r\n    \r\n    \tpublic Overlay(Control objectToOverlay) {\r\n    \r\n    \t\tObjects.requireNonNull(objectToOverlay);\r\n    \r\n    \t\tthis.objectToOverlay = objectToOverlay;\r\n    \r\n    \t\t// if the object to overlay is an instance of Scrollable (e.g. Shell) then it has \r\n    \t\t// the getClientArea method, which is preferable over Control.getSize\r\n    \t\tif (objectToOverlay instanceof Scrollable) {\r\n    \t\t\thasClientArea = true;\r\n    \t\t\tscrollableToOverlay = (Scrollable) objectToOverlay;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\thasClientArea = false;\r\n    \t\t\tscrollableToOverlay = null;\r\n    \t\t}\r\n    \r\n    \t\t// save the parents of the object, so we can add/remove listeners to them\r\n    \t\tparents = new ArrayList&lt;Composite&gt;();\r\n    \t\tComposite parent = objectToOverlay.getParent();\r\n    \t\twhile (parent != null) {\r\n    \t\t\tparents.add(parent);\r\n    \t\t\tparent = parent.getParent();\r\n    \t\t}\r\n    \r\n    \t\t// listener to track position and size changes in order to modify the overlay bounds as well\r\n    \t\tcontrolListener = new ControlListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void controlMoved(ControlEvent e) {\r\n    \t\t\t\treposition();\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void controlResized(ControlEvent e) {\r\n    \t\t\t\treposition();\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\t// listener to track paint changes, like when the object or its parents become not visible (for example changing tab in a TabFolder)\r\n    \t\tpaintListener = new PaintListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void paintControl(PaintEvent arg0) {\r\n    \t\t\t\treposition();\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\t// listener to remove the overlay if the object to overlay is disposed\r\n    \t\tdisposeListener = new DisposeListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void widgetDisposed(DisposeEvent e) {\r\n    \t\t\t\tremove();\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\t// create the overlay shell\r\n    \t\toverlay = new Shell(objectToOverlay.getShell(), SWT.NO_TRIM);\r\n    \r\n    \t\t// default values of the overlay\r\n    \t\toverlay.setBackground(objectToOverlay.getDisplay().getSystemColor(SWT.COLOR_GRAY));\r\n    \t\toverlay.setAlpha(200);\r\n    \r\n    \t\t// so the label can inherit the background of the overlay\r\n    \t\toverlay.setBackgroundMode(SWT.INHERIT_DEFAULT);\r\n    \r\n    \t\t// label to display a text\r\n    \t\t// style WRAP so if it is too long the text get wrapped\r\n    \t\tlabel = new Label(overlay, SWT.WRAP);\r\n    \r\n    \t\t// to center the label\r\n    \t\toverlay.setLayout(new GridLayout());\r\n    \t\tlabel.setLayoutData(new GridData(SWT.CENTER, SWT.CENTER, true, true));\r\n    \r\n    \t\tshowing = false;\r\n    \t\toverlay.open();\r\n    \t\toverlay.setVisible(showing);\r\n    \t}\r\n    \r\n    \tpublic void show() {\r\n    \r\n    \t\t// if it&#39;s already visible we just exit\r\n    \t\tif (showing) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\t// set the overlay position over the object\r\n    \t\treposition();\r\n    \r\n    \t\t// show the overlay\r\n    \t\toverlay.setVisible(true);\r\n    \r\n    \t\t// add listeners to the object to overlay\r\n    \t\tobjectToOverlay.addControlListener(controlListener);\r\n    \t\tobjectToOverlay.addDisposeListener(disposeListener);\r\n    \t\tobjectToOverlay.addPaintListener(paintListener);\r\n    \r\n    \t\t// add listeners also to the parents because if they change then also the visibility of our object could change\r\n    \t\tfor (Composite parent : parents) {\r\n    \t\t\tparent.addControlListener(controlListener);\r\n    \t\t\tparent.addPaintListener(paintListener);\r\n    \t\t}\r\n    \r\n    \t\tshowing = true;\r\n    \t}\r\n    \r\n    \tpublic void remove() {\r\n    \r\n    \t\t// if it&#39;s already not visible we just exit\r\n    \t\tif (!showing) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\t// remove the listeners\r\n    \t\tif (!objectToOverlay.isDisposed()) {\r\n    \t\t\tobjectToOverlay.removeControlListener(controlListener);\r\n    \t\t\tobjectToOverlay.removeDisposeListener(disposeListener);\r\n    \t\t\tobjectToOverlay.removePaintListener(paintListener);\r\n    \t\t}\r\n    \r\n    \t\t// remove the parents listeners\r\n    \t\tfor (Composite parent : parents) {\r\n    \t\t\tif (!parent.isDisposed()) {\r\n    \t\t\t\tparent.removeControlListener(controlListener);\r\n    \t\t\t\tparent.removePaintListener(paintListener);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t// remove the overlay shell\r\n    \t\tif (!overlay.isDisposed()) {\r\n    \t\t\toverlay.setVisible(false);\r\n    \t\t}\r\n    \r\n    \t\tshowing = false;\r\n    \t}\r\n    \r\n    \tpublic void setBackground(Color background) {\r\n    \t\toverlay.setBackground(background);\r\n    \t}\r\n    \r\n    \tpublic Color getBackground() {\r\n    \t\treturn overlay.getBackground();\r\n    \t}\r\n    \r\n    \tpublic void setAlpha(int alpha) {\r\n    \t\toverlay.setAlpha(alpha);\r\n    \t}\r\n    \r\n    \tpublic int getAlpha() {\r\n    \t\treturn overlay.getAlpha();\r\n    \t}\r\n    \r\n    \tpublic boolean isShowing() {\r\n    \t\treturn showing;\r\n    \t}\r\n    \r\n    \tpublic void setText(String text) {\r\n    \t\tlabel.setText(text);\r\n    \r\n    \t\t// to adjust the label size accordingly\r\n    \t\toverlay.layout();\r\n    \t}\r\n    \r\n    \tpublic String getText() {\r\n    \t\treturn label.getText();\r\n    \t}\r\n    \r\n    \tprivate void reposition() {\r\n    \r\n    \t\t// if the object is not visible, we hide the overlay and exit\r\n    \t\tif (!objectToOverlay.isVisible()) {\r\n    \t\t\toverlay.setBounds(new Rectangle(0, 0, 0, 0));\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\t// if the object is visible we need to find the visible region in order to correctly place the overlay\r\n    \r\n    \t\t// get the display bounds of the object to overlay\r\n    \t\tPoint objectToOverlayDisplayLocation = objectToOverlay.toDisplay(0, 0);\r\n    \r\n    \t\tPoint objectToOverlaySize;\r\n    \r\n    \t\t// if it has a client area, we prefer that instead of the size \r\n    \t\tif (hasClientArea) {\r\n    \t\t\tRectangle clientArea = scrollableToOverlay.getClientArea();\r\n    \t\t\tobjectToOverlaySize = new Point(clientArea.width, clientArea.height);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tobjectToOverlaySize = objectToOverlay.getSize();\r\n    \t\t}\r\n    \r\n    \t\tRectangle objectToOverlayBounds = new Rectangle(objectToOverlayDisplayLocation.x, objectToOverlayDisplayLocation.y, objectToOverlaySize.x,\r\n    \t\t\t\tobjectToOverlaySize.y);\r\n    \r\n    \t\tRectangle intersection = objectToOverlayBounds;\r\n    \r\n    \t\t// intersect the bounds of the object with its parents bounds so we get only the visible bounds\r\n    \t\tfor (Composite parent : parents) {\r\n    \r\n    \t\t\tRectangle parentClientArea = parent.getClientArea();\r\n    \t\t\tPoint parentLocation = parent.toDisplay(parentClientArea.x, parentClientArea.y);\r\n    \t\t\tRectangle parentBounds = new Rectangle(parentLocation.x, parentLocation.y, parentClientArea.width, parentClientArea.height);\r\n    \r\n    \t\t\tintersection = intersection.intersection(parentBounds);\r\n    \r\n    \t\t\t// if intersection has no size then it would be a waste of time to continue\r\n    \t\t\tif (intersection.width == 0 || intersection.height == 0) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\toverlay.setBounds(intersection);\r\n    \t}\r\n    \r\n    }","title":"Place transparent composite over other composite in SWT","body":"<p>A possible solution would be to put a semi-transparent <code>Shell</code> with no trimmings over the <code>Composite</code> you want to cover.</p>\n\n<p>The tricky part is to update the overlay <code>Shell</code> to continuously match the size, position and visibility of the <code>Composite</code> and its parents (since they also could affect the children bounds and visibility).</p>\n\n<p>So I decided to try to make a class <code>Overlay</code> to do that; it can be used to cover any <code>Control</code> and it uses control and paint listeners to track and match the underlying <code>Control</code>. These listeners are also attached to the whole hierarchy of parents of the <code>Control</code>.</p>\n\n<p>You can set the color, the transparency and a text over the <code>Overlay</code> using the corresponding methods.</p>\n\n<p>I made some simple tests and it seemed to work correctly, but I can't guarantee anything. You might want to give it a try it.</p>\n\n<p>A simple example using it:</p>\n\n<pre><code>public class OverlayTest {\n\n    public static void main(String[] args) {\n\n        Display display = new Display();\n        Shell shell = new Shell(display);\n        shell.setLayout(new FillLayout(SWT.VERTICAL));\n        shell.setSize(250, 250);\n\n        // create the composite\n        Composite composite = new Composite(shell, SWT.NONE);\n        composite.setLayout(new FillLayout(SWT.VERTICAL));\n\n        // add stuff to the composite\n        for (int i = 0; i &lt; 5; i++) {\n            new Text(composite, SWT.BORDER).setText(\"Text \" + i);\n        }\n\n        // create the overlay over the composite\n        Overlay overlay = new Overlay(composite);\n        overlay.setText(\"No data available\");\n\n        // create the button to show/hide the overlay\n        Button button = new Button(shell, SWT.PUSH);\n        button.setText(\"Show/hide overlay\");\n        button.addSelectionListener(new SelectionAdapter() {\n            @Override\n            public void widgetSelected(SelectionEvent arg0) {\n                // if the overlay is showing we hide it, otherwise we show it\n                if (overlay.isShowing()) {\n                    overlay.remove();\n                }\n                else {\n                    overlay.show();\n                }\n            }\n        });\n\n        shell.open();\n        while (shell != null &amp;&amp; !shell.isDisposed()) {\n            if (!display.readAndDispatch()) {\n                display.sleep();\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>And the <code>Overlay</code> class:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\nimport org.eclipse.swt.SWT;\nimport org.eclipse.swt.events.ControlEvent;\nimport org.eclipse.swt.events.ControlListener;\nimport org.eclipse.swt.events.DisposeEvent;\nimport org.eclipse.swt.events.DisposeListener;\nimport org.eclipse.swt.events.PaintEvent;\nimport org.eclipse.swt.events.PaintListener;\nimport org.eclipse.swt.graphics.Color;\nimport org.eclipse.swt.graphics.Point;\nimport org.eclipse.swt.graphics.Rectangle;\nimport org.eclipse.swt.layout.GridData;\nimport org.eclipse.swt.layout.GridLayout;\nimport org.eclipse.swt.widgets.Composite;\nimport org.eclipse.swt.widgets.Control;\nimport org.eclipse.swt.widgets.Label;\nimport org.eclipse.swt.widgets.Scrollable;\nimport org.eclipse.swt.widgets.Shell;\n\n/**\n *  A customizable overlay over a control.\n *  \n *  @author Loris Securo\n */\npublic class Overlay {\n\n    private List&lt;Composite&gt; parents;\n    private Control objectToOverlay;\n    private Shell overlay;\n    private Label label;\n    private ControlListener controlListener;\n    private DisposeListener disposeListener;\n    private PaintListener paintListener;\n    private boolean showing;\n    private boolean hasClientArea;\n    private Scrollable scrollableToOverlay;\n\n    public Overlay(Control objectToOverlay) {\n\n        Objects.requireNonNull(objectToOverlay);\n\n        this.objectToOverlay = objectToOverlay;\n\n        // if the object to overlay is an instance of Scrollable (e.g. Shell) then it has \n        // the getClientArea method, which is preferable over Control.getSize\n        if (objectToOverlay instanceof Scrollable) {\n            hasClientArea = true;\n            scrollableToOverlay = (Scrollable) objectToOverlay;\n        }\n        else {\n            hasClientArea = false;\n            scrollableToOverlay = null;\n        }\n\n        // save the parents of the object, so we can add/remove listeners to them\n        parents = new ArrayList&lt;Composite&gt;();\n        Composite parent = objectToOverlay.getParent();\n        while (parent != null) {\n            parents.add(parent);\n            parent = parent.getParent();\n        }\n\n        // listener to track position and size changes in order to modify the overlay bounds as well\n        controlListener = new ControlListener() {\n            @Override\n            public void controlMoved(ControlEvent e) {\n                reposition();\n            }\n\n            @Override\n            public void controlResized(ControlEvent e) {\n                reposition();\n            }\n        };\n\n        // listener to track paint changes, like when the object or its parents become not visible (for example changing tab in a TabFolder)\n        paintListener = new PaintListener() {\n            @Override\n            public void paintControl(PaintEvent arg0) {\n                reposition();\n            }\n        };\n\n        // listener to remove the overlay if the object to overlay is disposed\n        disposeListener = new DisposeListener() {\n            @Override\n            public void widgetDisposed(DisposeEvent e) {\n                remove();\n            }\n        };\n\n        // create the overlay shell\n        overlay = new Shell(objectToOverlay.getShell(), SWT.NO_TRIM);\n\n        // default values of the overlay\n        overlay.setBackground(objectToOverlay.getDisplay().getSystemColor(SWT.COLOR_GRAY));\n        overlay.setAlpha(200);\n\n        // so the label can inherit the background of the overlay\n        overlay.setBackgroundMode(SWT.INHERIT_DEFAULT);\n\n        // label to display a text\n        // style WRAP so if it is too long the text get wrapped\n        label = new Label(overlay, SWT.WRAP);\n\n        // to center the label\n        overlay.setLayout(new GridLayout());\n        label.setLayoutData(new GridData(SWT.CENTER, SWT.CENTER, true, true));\n\n        showing = false;\n        overlay.open();\n        overlay.setVisible(showing);\n    }\n\n    public void show() {\n\n        // if it's already visible we just exit\n        if (showing) {\n            return;\n        }\n\n        // set the overlay position over the object\n        reposition();\n\n        // show the overlay\n        overlay.setVisible(true);\n\n        // add listeners to the object to overlay\n        objectToOverlay.addControlListener(controlListener);\n        objectToOverlay.addDisposeListener(disposeListener);\n        objectToOverlay.addPaintListener(paintListener);\n\n        // add listeners also to the parents because if they change then also the visibility of our object could change\n        for (Composite parent : parents) {\n            parent.addControlListener(controlListener);\n            parent.addPaintListener(paintListener);\n        }\n\n        showing = true;\n    }\n\n    public void remove() {\n\n        // if it's already not visible we just exit\n        if (!showing) {\n            return;\n        }\n\n        // remove the listeners\n        if (!objectToOverlay.isDisposed()) {\n            objectToOverlay.removeControlListener(controlListener);\n            objectToOverlay.removeDisposeListener(disposeListener);\n            objectToOverlay.removePaintListener(paintListener);\n        }\n\n        // remove the parents listeners\n        for (Composite parent : parents) {\n            if (!parent.isDisposed()) {\n                parent.removeControlListener(controlListener);\n                parent.removePaintListener(paintListener);\n            }\n        }\n\n        // remove the overlay shell\n        if (!overlay.isDisposed()) {\n            overlay.setVisible(false);\n        }\n\n        showing = false;\n    }\n\n    public void setBackground(Color background) {\n        overlay.setBackground(background);\n    }\n\n    public Color getBackground() {\n        return overlay.getBackground();\n    }\n\n    public void setAlpha(int alpha) {\n        overlay.setAlpha(alpha);\n    }\n\n    public int getAlpha() {\n        return overlay.getAlpha();\n    }\n\n    public boolean isShowing() {\n        return showing;\n    }\n\n    public void setText(String text) {\n        label.setText(text);\n\n        // to adjust the label size accordingly\n        overlay.layout();\n    }\n\n    public String getText() {\n        return label.getText();\n    }\n\n    private void reposition() {\n\n        // if the object is not visible, we hide the overlay and exit\n        if (!objectToOverlay.isVisible()) {\n            overlay.setBounds(new Rectangle(0, 0, 0, 0));\n            return;\n        }\n\n        // if the object is visible we need to find the visible region in order to correctly place the overlay\n\n        // get the display bounds of the object to overlay\n        Point objectToOverlayDisplayLocation = objectToOverlay.toDisplay(0, 0);\n\n        Point objectToOverlaySize;\n\n        // if it has a client area, we prefer that instead of the size \n        if (hasClientArea) {\n            Rectangle clientArea = scrollableToOverlay.getClientArea();\n            objectToOverlaySize = new Point(clientArea.width, clientArea.height);\n        }\n        else {\n            objectToOverlaySize = objectToOverlay.getSize();\n        }\n\n        Rectangle objectToOverlayBounds = new Rectangle(objectToOverlayDisplayLocation.x, objectToOverlayDisplayLocation.y, objectToOverlaySize.x,\n                objectToOverlaySize.y);\n\n        Rectangle intersection = objectToOverlayBounds;\n\n        // intersect the bounds of the object with its parents bounds so we get only the visible bounds\n        for (Composite parent : parents) {\n\n            Rectangle parentClientArea = parent.getClientArea();\n            Point parentLocation = parent.toDisplay(parentClientArea.x, parentClientArea.y);\n            Rectangle parentBounds = new Rectangle(parentLocation.x, parentLocation.y, parentClientArea.width, parentClientArea.height);\n\n            intersection = intersection.intersection(parentBounds);\n\n            // if intersection has no size then it would be a waste of time to continue\n            if (intersection.width == 0 || intersection.height == 0) {\n                break;\n            }\n        }\n\n        overlay.setBounds(intersection);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1879117,"reputation":91,"user_id":1699692,"display_name":"Jacob L"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699954808,"creation_date":1699265043,"answer_id":77430228,"question_id":42087977,"body_markdown":"1. Set layout to null on the parent\r\n\r\n2. Add a new Composite with style SWT.TRANSPARENT on the parent BEFORE the one you want to draw over\r\n\r\n3. Set bounds manually on the composites to the same area, use a resize listener if it can change.\r\n\r\n4. Use setVisible() to show the overlay or not.\r\n\r\nWarning! Don&#39;t use TabFolder together with this method, it has a bug that will cause continous redraw. Also CTabFolder using setTopRight() will have a similar issue but can be avoided by overriding getRightItemEdge (GC gc) and not calling super.getRightItemEdge(gc) again unless size has changed. Will file this bug as soon as the move from bugzilla is complete","title":"Place transparent composite over other composite in SWT","body":"<ol>\n<li><p>Set layout to null on the parent</p>\n</li>\n<li><p>Add a new Composite with style SWT.TRANSPARENT on the parent BEFORE the one you want to draw over</p>\n</li>\n<li><p>Set bounds manually on the composites to the same area, use a resize listener if it can change.</p>\n</li>\n<li><p>Use setVisible() to show the overlay or not.</p>\n</li>\n</ol>\n<p>Warning! Don't use TabFolder together with this method, it has a bug that will cause continous redraw. Also CTabFolder using setTopRight() will have a similar issue but can be avoided by overriding getRightItemEdge (GC gc) and not calling super.getRightItemEdge(gc) again unless size has changed. Will file this bug as soon as the move from bugzilla is complete</p>\n"}],"owner":{"account_id":2851226,"reputation":2669,"user_id":2448399,"accept_rate":86,"display_name":"JimmyD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2526,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":42286915,"answer_count":2,"score":5,"last_activity_date":1699954808,"creation_date":1486464894,"question_id":42087977,"body_markdown":"I&#39;m searching for a way to add an overlay over some composites in my application. The overlay will contain an label with text &quot;No data available&quot;. The underlying composite need to be shown but the user cannot do anything. My application contains different composite part in one screen so I need a way to only place the overlay over one of the composites. Is there a way to implement this in SWT?","title":"Place transparent composite over other composite in SWT","body":"<p>I'm searching for a way to add an overlay over some composites in my application. The overlay will contain an label with text \"No data available\". The underlying composite need to be shown but the user cannot do anything. My application contains different composite part in one screen so I need a way to only place the overlay over one of the composites. Is there a way to implement this in SWT?</p>\n"},{"tags":["java","unit-testing","testing","groovy","spock"],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1700006124,"post_id":77471437,"comment_id":136601372,"body_markdown":"Actually, now I am a little bit angry. My answer is correct, was here first and even explains why it was not working the way you tried. Yesterday, I cloned your repository on commit 9765c936 and changed [this section in `FindAppointmentQueryHandlerSpec`](https://github.com/MichalBarnat/anotherhospital/blob/9765c936fa39e2ee6107444ac4c68596c157eb03/anotherhospital/src/test/java/com/bbc/anotherhospital/appointment/handlers/FindAppointmentQueryHandlerSpec.groovy#L87-L92) exactly the way described above. It fixed the problem. Why did you accept the later answer with the identical solution?","body":"Actually, now I am a little bit angry. My answer is correct, was here first and even explains why it was not working the way you tried. Yesterday, I cloned your repository on commit 9765c936 and changed <a href=\"https://github.com/MichalBarnat/anotherhospital/blob/9765c936fa39e2ee6107444ac4c68596c157eb03/anotherhospital/src/test/java/com/bbc/anotherhospital/appointment/handlers/FindAppointmentQueryHandlerSpec.groovy#L87-L92\" rel=\"nofollow noreferrer\">this section in <code>FindAppointmentQueryHandlerSpec</code></a> exactly the way described above. It fixed the problem. Why did you accept the later answer with the identical solution?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1700006487,"post_id":77471437,"comment_id":136601396,"body_markdown":"Here is proof that my solution works in your repository: [changed code](https://i.stack.imgur.com/U3OVl.png), [test result](https://i.stack.imgur.com/jHgWT.png).","body":"Here is proof that my solution works in your repository: <a href=\"https://i.stack.imgur.com/U3OVl.png\" rel=\"nofollow noreferrer\">changed code</a>, <a href=\"https://i.stack.imgur.com/jHgWT.png\" rel=\"nofollow noreferrer\">test result</a>."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699841719,"creation_date":1699841719,"answer_id":77471437,"question_id":77468251,"body_markdown":"This is a Spock FAQ, also here on Stack Overflow. The [Spock manual](https://spockframework.org/spock/docs/2.4-M1/all_in_one.html#_combining_mocking_and_stubbing) clearly explains, why what you are doing does not work:\r\n\r\n&gt; ### Combining Mocking and Stubbing\r\n&gt; \r\n&gt; Mocking and stubbing go hand-in-hand:\r\n&gt; \r\n&gt; ```java\r\n&gt; 1 * subscriber.receive(&quot;message1&quot;) &gt;&gt; &quot;ok&quot;\r\n&gt; 1 * subscriber.receive(&quot;message2&quot;) &gt;&gt; &quot;fail&quot;\r\n&gt; ```\r\n&gt; \r\n&gt; When mocking and stubbing the same method call, they have to happen in the same interaction. In particular, the following Mockito-style splitting of stubbing and mocking into two separate statements will _not_ work:\r\n&gt; \r\n&gt; ```java\r\n&gt; given:\r\n&gt; subscriber.receive(&quot;message1&quot;) &gt;&gt; &quot;ok&quot;\r\n&gt; \r\n&gt; when:\r\n&gt; publisher.send(&quot;message1&quot;)\r\n&gt; \r\n&gt; then:\r\n&gt; 1 * subscriber.receive(&quot;message1&quot;)\r\n&gt; ```\r\n&gt;\r\n&gt; As explained in [Where to Declare Interactions](https://spockframework.org/spock/docs/2.4-M1/all_in_one.html#_where_to_declare_interactions), the `receive` call will first get matched against the interaction in the `then:` block. Since that interaction doesn&#39;t specify a response, the default value for the method&#39;s return type (`null` in this case) will be returned. (This is just another facet of Spock&#39;s lenient approach to mocking.). Hence, the interaction in the `given:` block will never get a chance to match.\r\n&gt;\r\n&gt; **NOTE:** Mocking and stubbing of the same method call has to happen in the same interaction.\r\n\r\nI.e., you want to use something like\r\n\r\n```java\r\n1 * appointmentRepository.findById(nonExistingAppointmentId) &gt;&gt; {\r\n  throw new AppointmentNotFoundException(&quot;Appointment with id &quot; + nonExistingAppointmentId + &quot; not found&quot;)\r\n}\r\n```\r\n\r\nin your `then:` block.","title":"Why does my test not work when splitting mocking and stubbing?","body":"<p>This is a Spock FAQ, also here on Stack Overflow. The <a href=\"https://spockframework.org/spock/docs/2.4-M1/all_in_one.html#_combining_mocking_and_stubbing\" rel=\"nofollow noreferrer\">Spock manual</a> clearly explains, why what you are doing does not work:</p>\n<blockquote>\n<h3>Combining Mocking and Stubbing</h3>\n<p>Mocking and stubbing go hand-in-hand:</p>\n<pre class=\"lang-java prettyprint-override\"><code>1 * subscriber.receive(&quot;message1&quot;) &gt;&gt; &quot;ok&quot;\n1 * subscriber.receive(&quot;message2&quot;) &gt;&gt; &quot;fail&quot;\n</code></pre>\n<p>When mocking and stubbing the same method call, they have to happen in the same interaction. In particular, the following Mockito-style splitting of stubbing and mocking into two separate statements will <em>not</em> work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>given:\nsubscriber.receive(&quot;message1&quot;) &gt;&gt; &quot;ok&quot;\n\nwhen:\npublisher.send(&quot;message1&quot;)\n\nthen:\n1 * subscriber.receive(&quot;message1&quot;)\n</code></pre>\n<p>As explained in <a href=\"https://spockframework.org/spock/docs/2.4-M1/all_in_one.html#_where_to_declare_interactions\" rel=\"nofollow noreferrer\">Where to Declare Interactions</a>, the <code>receive</code> call will first get matched against the interaction in the <code>then:</code> block. Since that interaction doesn't specify a response, the default value for the method's return type (<code>null</code> in this case) will be returned. (This is just another facet of Spock's lenient approach to mocking.). Hence, the interaction in the <code>given:</code> block will never get a chance to match.</p>\n<p><strong>NOTE:</strong> Mocking and stubbing of the same method call has to happen in the same interaction.</p>\n</blockquote>\n<p>I.e., you want to use something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>1 * appointmentRepository.findById(nonExistingAppointmentId) &gt;&gt; {\n  throw new AppointmentNotFoundException(&quot;Appointment with id &quot; + nonExistingAppointmentId + &quot; not found&quot;)\n}\n</code></pre>\n<p>in your <code>then:</code> block.</p>\n"},{"tags":[],"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699954761,"creation_date":1699954761,"answer_id":77479536,"question_id":77468251,"body_markdown":"I had to add things so I could run your examples, but does:\r\n\r\n```groovy\r\nclass TestSpec extends Specification {\r\n\r\n    def &quot;should throw AppointmentNotFoundException when appointment do not exist&quot; () {\r\n        given:\r\n        AppointmentRepository appointmentRepository = Mock()\r\n        FindAppointmentQueryHandler findAppointmentQueryHandler = new FindAppointmentQueryHandler(appRepository: appointmentRepository)\r\n        long nonExistingAppointmentId = 69L\r\n\r\n        when:\r\n        findAppointmentQueryHandler.handle(nonExistingAppointmentId)\r\n\r\n        then:\r\n        def ex = thrown(AppointmentNotFoundException)\r\n        ex.message == &quot;Appointment with id $nonExistingAppointmentId not found&quot;\r\n\r\n        1 * appointmentRepository.findById(69L) &gt;&gt; {\r\n            throw new AppointmentNotFoundException(&quot;Appointment with id &quot; + nonExistingAppointmentId + &quot; not found&quot;)\r\n        }\r\n    }\r\n\r\n    static class FindAppointmentQueryHandler {\r\n\r\n        AppointmentRepository appRepository\r\n\r\n        String handle(long id) {\r\n            appRepository.findById(id)\r\n        }\r\n    }\r\n\r\n    static class AppointmentRepository {\r\n\r\n        String findById(long id) {\r\n            &quot;called $id&quot;\r\n        }\r\n    }\r\n\r\n    static class AppointmentNotFoundException extends RuntimeException {\r\n\r\n        AppointmentNotFoundException(String message) {\r\n            super(message)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nwork?","title":"Why does my test not work when splitting mocking and stubbing?","body":"<p>I had to add things so I could run your examples, but does:</p>\n<pre><code>class TestSpec extends Specification {\n\n    def &quot;should throw AppointmentNotFoundException when appointment do not exist&quot; () {\n        given:\n        AppointmentRepository appointmentRepository = Mock()\n        FindAppointmentQueryHandler findAppointmentQueryHandler = new FindAppointmentQueryHandler(appRepository: appointmentRepository)\n        long nonExistingAppointmentId = 69L\n\n        when:\n        findAppointmentQueryHandler.handle(nonExistingAppointmentId)\n\n        then:\n        def ex = thrown(AppointmentNotFoundException)\n        ex.message == &quot;Appointment with id $nonExistingAppointmentId not found&quot;\n\n        1 * appointmentRepository.findById(69L) &gt;&gt; {\n            throw new AppointmentNotFoundException(&quot;Appointment with id &quot; + nonExistingAppointmentId + &quot; not found&quot;)\n        }\n    }\n\n    static class FindAppointmentQueryHandler {\n\n        AppointmentRepository appRepository\n\n        String handle(long id) {\n            appRepository.findById(id)\n        }\n    }\n\n    static class AppointmentRepository {\n\n        String findById(long id) {\n            &quot;called $id&quot;\n        }\n    }\n\n    static class AppointmentNotFoundException extends RuntimeException {\n\n        AppointmentNotFoundException(String message) {\n            super(message)\n        }\n    }\n}\n</code></pre>\n<p>work?</p>\n"}],"owner":{"account_id":25101919,"reputation":7,"user_id":18952539,"display_name":"michalbarnat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77479536,"answer_count":2,"score":0,"last_activity_date":1699954761,"creation_date":1699777773,"question_id":77468251,"body_markdown":"I struggle with Spock/Groovy testing.\r\nDon&#39;t know why but in WHEN section, I cannot check number of calls and checking the value at once..\r\nIf I check one of them separatly all works fine!\r\n\r\nThis test passed:\r\n```java\r\ndef &quot;should throw AppointmentNotFoundException when appointment do not exist&quot; () {\r\n  given:\r\n  long nonExistingAppointmentId = 69L\r\n\r\n  when:\r\n  appointmentRepository.findById(nonExistingAppointmentId) &gt;&gt; { throw new AppointmentNotFoundException(&quot;Appointment with id &quot; + nonExistingAppointmentId + &quot; not found&quot;) }\r\n  findAppointmentQueryHandler.handle(nonExistingAppointmentId)\r\n\r\n  then:\r\n  thrown(AppointmentNotFoundException)\r\n}\r\n```\r\n\r\nAlso this one passed without any problem:\r\n```java\r\ndef &quot;should throw AppointmentNotFoundException when appointment do not exist&quot; () {\r\n  given:\r\n  long nonExistingAppointmentId = 69L\r\n\r\n  when:\r\n  appointmentRepository.findById(nonExistingAppointmentId) &gt;&gt; { throw new AppointmentNotFoundException(&quot;Appointment with id &quot; + nonExistingAppointmentId + &quot; not found&quot;) }\r\n  findAppointmentQueryHandler.handle(nonExistingAppointmentId)\r\n\r\n  then:\r\n  1 * appointmentRepository.findById(69L)\r\n}\r\n```\r\n\r\nBut if I try to make 1 test to check all of it then I have error\r\n```java\r\ndef &quot;should throw AppointmentNotFoundException when appointment do not exist&quot; () {\r\n  given:\r\n  long nonExistingAppointmentId = 69L\r\n\r\n  when:\r\n  appointmentRepository.findById(nonExistingAppointmentId) &gt;&gt; { throw new AppointmentNotFoundException(&quot;Appointment with id &quot; + nonExistingAppointmentId + &quot; not found&quot;) }\r\n  findAppointmentQueryHandler.handle(nonExistingAppointmentId)\r\n\r\n  then:\r\n  1 * appointmentRepository.findById(69L)\r\n  thrown(AppointmentNotFoundException)\r\n}\r\n```\r\n\r\nError:\r\n```none\r\nExpected exception of type &#39;com.bbc.anotherhospital.exceptions.AppointmentNotFoundException&#39;, but no exception was thrown\r\n\tat org.spockframework.lang.SpecInternals.checkExceptionThrown(SpecInternals.java:84)\r\n\tat org.spockframework.lang.SpecInternals.thrownImpl(SpecInternals.java:71)\r\n\tat com.bbc.anotherhospital.appointment.handlers.FindAppointmentQueryHandlerSpec.should throw AppointmentNotFoundException when appointment do not exist\r\n```\r\n\r\nFirst I think that I have problem in my code or smth.. But application works fine, tested in Postman.\r\n\r\nAnybody have idea why is it behaving this way?\r\n\r\nMy pom:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.groovy&lt;/groupId&gt;\r\n  &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n  &lt;version&gt;4.0.15&lt;/version&gt;\r\n  &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spock-core&lt;/artifactId&gt;\r\n  &lt;version&gt;2.4-M1-groovy-4.0&lt;/version&gt;\r\n  &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Why does my test not work when splitting mocking and stubbing?","body":"<p>I struggle with Spock/Groovy testing.\nDon't know why but in WHEN section, I cannot check number of calls and checking the value at once..\nIf I check one of them separatly all works fine!</p>\n<p>This test passed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>def &quot;should throw AppointmentNotFoundException when appointment do not exist&quot; () {\n  given:\n  long nonExistingAppointmentId = 69L\n\n  when:\n  appointmentRepository.findById(nonExistingAppointmentId) &gt;&gt; { throw new AppointmentNotFoundException(&quot;Appointment with id &quot; + nonExistingAppointmentId + &quot; not found&quot;) }\n  findAppointmentQueryHandler.handle(nonExistingAppointmentId)\n\n  then:\n  thrown(AppointmentNotFoundException)\n}\n</code></pre>\n<p>Also this one passed without any problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>def &quot;should throw AppointmentNotFoundException when appointment do not exist&quot; () {\n  given:\n  long nonExistingAppointmentId = 69L\n\n  when:\n  appointmentRepository.findById(nonExistingAppointmentId) &gt;&gt; { throw new AppointmentNotFoundException(&quot;Appointment with id &quot; + nonExistingAppointmentId + &quot; not found&quot;) }\n  findAppointmentQueryHandler.handle(nonExistingAppointmentId)\n\n  then:\n  1 * appointmentRepository.findById(69L)\n}\n</code></pre>\n<p>But if I try to make 1 test to check all of it then I have error</p>\n<pre class=\"lang-java prettyprint-override\"><code>def &quot;should throw AppointmentNotFoundException when appointment do not exist&quot; () {\n  given:\n  long nonExistingAppointmentId = 69L\n\n  when:\n  appointmentRepository.findById(nonExistingAppointmentId) &gt;&gt; { throw new AppointmentNotFoundException(&quot;Appointment with id &quot; + nonExistingAppointmentId + &quot; not found&quot;) }\n  findAppointmentQueryHandler.handle(nonExistingAppointmentId)\n\n  then:\n  1 * appointmentRepository.findById(69L)\n  thrown(AppointmentNotFoundException)\n}\n</code></pre>\n<p>Error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Expected exception of type 'com.bbc.anotherhospital.exceptions.AppointmentNotFoundException', but no exception was thrown\n    at org.spockframework.lang.SpecInternals.checkExceptionThrown(SpecInternals.java:84)\n    at org.spockframework.lang.SpecInternals.thrownImpl(SpecInternals.java:71)\n    at com.bbc.anotherhospital.appointment.handlers.FindAppointmentQueryHandlerSpec.should throw AppointmentNotFoundException when appointment do not exist\n</code></pre>\n<p>First I think that I have problem in my code or smth.. But application works fine, tested in Postman.</p>\n<p>Anybody have idea why is it behaving this way?</p>\n<p>My pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.groovy&lt;/groupId&gt;\n  &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n  &lt;version&gt;4.0.15&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.spockframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spock-core&lt;/artifactId&gt;\n  &lt;version&gt;2.4-M1-groovy-4.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","visualvm","jvisualvm"],"comments":[{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":0,"creation_date":1578329225,"post_id":59538974,"comment_id":105395047,"body_markdown":"I have some question about your Java setup. Is there a full JRE installation in `c:\\apps\\java\\java8\\jre`? What is in `c:\\apps\\java8` directory? Is there or was there JDK installed?","body":"I have some question about your Java setup. Is there a full JRE installation in <code>c:\\apps\\java\\java8\\jre</code>? What is in <code>c:\\apps\\java8</code> directory? Is there or was there JDK installed?"},{"owner":{"account_id":7559454,"reputation":213,"user_id":5737611,"display_name":"Ganesh C"},"score":0,"creation_date":1578493363,"post_id":59538974,"comment_id":105456592,"body_markdown":"C:\\apps\\java\\java8  is JDK installation.  I don&#39;t have anything in &quot;c:\\apps\\java8&quot;.","body":"C:\\apps\\java\\java8  is JDK installation.  I don&#39;t have anything in &quot;c:\\apps\\java8&quot;."},{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":0,"creation_date":1578557680,"post_id":59538974,"comment_id":105479138,"body_markdown":"Ok, please start jvisualvm from WIndows command prompt with `jvisualvm.exe --trace &lt;path_to_log_file&gt;` and publish the content of the log file.","body":"Ok, please start jvisualvm from WIndows command prompt with <code>jvisualvm.exe --trace &lt;path_to_log_file&gt;</code> and publish the content of the log file."},{"owner":{"account_id":5563676,"reputation":396,"user_id":4411755,"display_name":"Tarun Chopra"},"score":0,"creation_date":1626443522,"post_id":59538974,"comment_id":120901694,"body_markdown":"Try updating jdk path in visualvm.conf in &quot;etc&quot; folder.","body":"Try updating jdk path in visualvm.conf in &quot;etc&quot; folder."}],"answers":[{"tags":[],"owner":{"account_id":5563676,"reputation":396,"user_id":4411755,"display_name":"Tarun Chopra"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1678874979,"creation_date":1626443552,"answer_id":68410231,"question_id":59538974,"body_markdown":"Try updating JDK path in `visualvm.conf` in the `etc` folder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vSOpG.png","title":"jvisualvm can not locate Java installation","body":"<p>Try updating JDK path in <code>visualvm.conf</code> in the <code>etc</code> folder.</p>\n<p><a href=\"https://i.stack.imgur.com/vSOpG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vSOpG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2296250,"reputation":460,"user_id":2017611,"display_name":"Nicolas Dupouy"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1646221375,"creation_date":1646221375,"answer_id":71322111,"question_id":59538974,"body_markdown":"As explain [here][1] and by Tarun Chopra.\r\n\r\nYou have 2 options:\r\n\r\n 1. Launch `bin/visualvm.exe` at the command line with the `--jdkhome` parameter and your JDK location\r\n 2. Update the `visualvm_jdkhome` variable in the file `etc/visualvm.conf` of your VisualVM directory.\r\n\r\n\r\n  [1]: https://github.com/oracle/visualvm/issues/112","title":"jvisualvm can not locate Java installation","body":"<p>As explain <a href=\"https://github.com/oracle/visualvm/issues/112\" rel=\"noreferrer\">here</a> and by Tarun Chopra.</p>\n<p>You have 2 options:</p>\n<ol>\n<li>Launch <code>bin/visualvm.exe</code> at the command line with the <code>--jdkhome</code> parameter and your JDK location</li>\n<li>Update the <code>visualvm_jdkhome</code> variable in the file <code>etc/visualvm.conf</code> of your VisualVM directory.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":29235170,"reputation":1,"user_id":22397949,"display_name":"Mohamed AKROUH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699954326,"creation_date":1699954326,"answer_id":77479494,"question_id":59538974,"body_markdown":"Open C:...\\visualvm_217\\etc\\visualvm.conf\r\n\r\nuncomment line 72\r\n\r\n#visualvm_jdkhome=&quot;/path/to/jdk&quot;\r\n\r\nand specify you jdk location\r\n \r\nvisualvm_jdkhome=&quot;C:\\Program Files\\Java\\jdk-17.0.2\\&quot;\r\n\r\ngood luck \r\n","title":"jvisualvm can not locate Java installation","body":"<p>Open C:...\\visualvm_217\\etc\\visualvm.conf</p>\n<p>uncomment line 72</p>\n<p>#visualvm_jdkhome=&quot;/path/to/jdk&quot;</p>\n<p>and specify you jdk location</p>\n<p>visualvm_jdkhome=&quot;C:\\Program Files\\Java\\jdk-17.0.2&quot;</p>\n<p>good luck</p>\n"}],"owner":{"account_id":7559454,"reputation":213,"user_id":5737611,"display_name":"Ganesh C"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15682,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1699954326,"creation_date":1577759863,"question_id":59538974,"body_markdown":"I am facing  following issues while running jvisualvm -\r\n\r\nJava Related environment variables set on machine\r\n\r\n![java related environment variables][1]\r\n\r\nFollowing are `PATH` variable details, there is no path mentioned as `C:\\apps\\Java8`\r\n\r\n    Path=C:\\ProgramData\\Oracle\\Java\\javapath;\r\n    C:\\windows\\system32;\r\n    C:\\windows;\r\n    C:\\windows\\System32\\Wbem;\r\n    C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;\r\n    C:\\windows\\System32\\OpenSSH\\;\r\n    C:\\Program Files\\Microsoft\\Web Platform Installer\\;\r\n    C:\\Program Files (x86)\\Microsoft ASP.NET\\ASP.NET Web Pages\\v1.0\\;\r\n    C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;\r\n    C:\\Program Files\\Microsoft DNX\\Dnvm\\;\r\n    C:\\Program Files\\Microsoft SQL Server\\120\\Tools\\Binn\\;\r\n    D:\\apps\\gradle-5.5.1-bin\\bin;\r\n    D:\\apps\\apache-ant-1.10.5\\bin;\r\n    C:\\apps\\Java\\Java8\\bin;\r\n    C:\\Program Files\\nodejs\\;\r\n\r\n\r\nWhen I am running jvisualvm.exe, I am getting following error, from the error it seems that jvisualvm is looking into some config file to locate JDK home path:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\nOn this message I click &quot;Yes&quot; button then getting following error which says, you are running VisualVM is running from JRE -\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K1yos.png\r\n  [2]: https://i.stack.imgur.com/LB0mC.png\r\n  [3]: https://i.stack.imgur.com/ChObQ.png\r\n","title":"jvisualvm can not locate Java installation","body":"<p>I am facing  following issues while running jvisualvm -</p>\n<p>Java Related environment variables set on machine</p>\n<p><img src=\"https://i.stack.imgur.com/K1yos.png\" alt=\"java related environment variables\" /></p>\n<p>Following are <code>PATH</code> variable details, there is no path mentioned as <code>C:\\apps\\Java8</code></p>\n<pre><code>Path=C:\\ProgramData\\Oracle\\Java\\javapath;\nC:\\windows\\system32;\nC:\\windows;\nC:\\windows\\System32\\Wbem;\nC:\\windows\\System32\\WindowsPowerShell\\v1.0\\;\nC:\\windows\\System32\\OpenSSH\\;\nC:\\Program Files\\Microsoft\\Web Platform Installer\\;\nC:\\Program Files (x86)\\Microsoft ASP.NET\\ASP.NET Web Pages\\v1.0\\;\nC:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;\nC:\\Program Files\\Microsoft DNX\\Dnvm\\;\nC:\\Program Files\\Microsoft SQL Server\\120\\Tools\\Binn\\;\nD:\\apps\\gradle-5.5.1-bin\\bin;\nD:\\apps\\apache-ant-1.10.5\\bin;\nC:\\apps\\Java\\Java8\\bin;\nC:\\Program Files\\nodejs\\;\n</code></pre>\n<p>When I am running jvisualvm.exe, I am getting following error, from the error it seems that jvisualvm is looking into some config file to locate JDK home path:</p>\n<p><a href=\"https://i.stack.imgur.com/LB0mC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LB0mC.png\" alt=\"enter image description here\" /></a></p>\n<p>On this message I click &quot;Yes&quot; button then getting following error which says, you are running VisualVM is running from JRE -</p>\n<p><a href=\"https://i.stack.imgur.com/ChObQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ChObQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","servlets","session-variables","instance-variables"],"answers":[{"comments":[{"owner":{"account_id":629222,"reputation":12553,"user_id":374769,"display_name":"Ku Jon"},"score":0,"creation_date":1277342873,"post_id":3106467,"comment_id":3186955,"body_markdown":"This brings up another question for me,\nSince there is only one servlet context for the whole application and we get access to the session variables through this servletcontext so how can the session variables be unique to every user?\nThanks..","body":"This brings up another question for me, Since there is only one servlet context for the whole application and we get access to the session variables through this servletcontext so how can the session variables be unique to every user? Thanks.."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":1,"creation_date":1277343887,"post_id":3106467,"comment_id":3187031,"body_markdown":"how are you accessing the session from the servletContext? You&#39;re not referring to servletContext.setAttribute(), are you?","body":"how are you accessing the session from the servletContext? You&#39;re not referring to servletContext.setAttribute(), are you?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":5,"creation_date":1421949181,"post_id":3106467,"comment_id":44566793,"body_markdown":"@KuJon Each web app has one `ServletContext` object. That object has zero, one, or more session objects -- a collection of session objects. Each session is identified by some kind of identifier string, as seen in cartoons on other answer. That identifier is tracked on client by either cookie or URL-rewriting. Each session object has its own variables.","body":"@KuJon Each web app has one <code>ServletContext</code> object. That object has zero, one, or more session objects -- a collection of session objects. Each session is identified by some kind of identifier string, as seen in cartoons on other answer. That identifier is tracked on client by either cookie or URL-rewriting. Each session object has its own variables."}],"tags":[],"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"comment_count":3,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1381989575,"creation_date":1277338859,"answer_id":3106467,"question_id":3106452,"body_markdown":"Session in Java servlets is the same as session in other languages such as PHP.  It is unique to the user.  The server can keep track of it in different ways such as cookies, url rewriting etc.  This [Java doc][1] article explains it in the context of Java servlets and indicates that exactly how session is maintained is an implementation detail left to the designers of the server.  The specification only stipulates that it must be maintained as unique to a user across multiple connections to the server.  Check out [this article from Oracle][2] for more information about both of your questions.\r\n\r\n\r\n**Edit** There is an excellent tutorial [here][3] on how to work with session inside of servlets. And [here][4] is a chapter from Sun about Java Servlets, what they are and how to use them.  Between those two articles, you should be able to answer all of your questions.  \r\n\r\n\r\n  [1]: http://java.sun.com/products/servlet/2.2/javadoc/javax/servlet/http/HttpSession.html\r\n  [2]: http://download.oracle.com/docs/cd/A97336_01/buslog.102/a83726/tecbkgn2.htm\r\n  [3]: http://www.apl.jhu.edu/~hall/java/Servlet-Tutorial/Servlet-Tutorial-Session-Tracking.html\r\n  [4]: http://docs.oracle.com/javaee/5/tutorial/doc/bnafd.html","title":"How do servlets work? Instantiation, sessions, shared variables and multithreading","body":"<p>Session in Java servlets is the same as session in other languages such as PHP.  It is unique to the user.  The server can keep track of it in different ways such as cookies, url rewriting etc.  This <a href=\"http://java.sun.com/products/servlet/2.2/javadoc/javax/servlet/http/HttpSession.html\" rel=\"noreferrer\">Java doc</a> article explains it in the context of Java servlets and indicates that exactly how session is maintained is an implementation detail left to the designers of the server.  The specification only stipulates that it must be maintained as unique to a user across multiple connections to the server.  Check out <a href=\"http://download.oracle.com/docs/cd/A97336_01/buslog.102/a83726/tecbkgn2.htm\" rel=\"noreferrer\">this article from Oracle</a> for more information about both of your questions.</p>\n\n<p><strong>Edit</strong> There is an excellent tutorial <a href=\"http://www.apl.jhu.edu/~hall/java/Servlet-Tutorial/Servlet-Tutorial-Session-Tracking.html\" rel=\"noreferrer\">here</a> on how to work with session inside of servlets. And <a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bnafd.html\" rel=\"noreferrer\">here</a> is a chapter from Sun about Java Servlets, what they are and how to use them.  Between those two articles, you should be able to answer all of your questions.  </p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1421948479,"post_id":3106495,"comment_id":44566361,"body_markdown":"Correct. Additional thought:  Each request gets a new (or recycled) thread to run on that single Servlet instance. Each Servlet has one instance, and possibly many threads (if many simultaneous requests).","body":"Correct. Additional thought:  Each request gets a new (or recycled) thread to run on that single Servlet instance. Each Servlet has one instance, and possibly many threads (if many simultaneous requests)."}],"tags":[],"owner":{"account_id":23706,"reputation":10697,"user_id":59604,"display_name":"Lauri Lehtinen"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1277339266,"creation_date":1277339266,"answer_id":3106495,"question_id":3106452,"body_markdown":"**Sessions** - what Chris Thompson said.\r\n\r\n**Instantiation** - a servlet is instantiated when the container receives the first request mapped to the servlet (unless the servlet is configured to load on startup with the `&lt;load-on-startup&gt;` element in `web.xml`). The same instance is used to serve subsequent requests.","title":"How do servlets work? Instantiation, sessions, shared variables and multithreading","body":"<p><strong>Sessions</strong> - what Chris Thompson said.</p>\n\n<p><strong>Instantiation</strong> - a servlet is instantiated when the container receives the first request mapped to the servlet (unless the servlet is configured to load on startup with the <code>&lt;load-on-startup&gt;</code> element in <code>web.xml</code>). The same instance is used to serve subsequent requests.</p>\n"},{"comments":[{"owner":{"account_id":254195,"reputation":14175,"user_id":533426,"accept_rate":56,"display_name":"Toskan"},"score":26,"creation_date":1322660278,"post_id":3106909,"comment_id":10264508,"body_markdown":"So when I somehow can find out the JSessionId which gets send to a client, I can steal his session?","body":"So when I somehow can find out the JSessionId which gets send to a client, I can steal his session?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":56,"creation_date":1322660739,"post_id":3106909,"comment_id":10264657,"body_markdown":"@Toskan: that&#39;s correct. It&#39;s known as [session fixation hack](http://en.wikipedia.org/wiki/Session_fixation). Please note that this is not specific to JSP/Servlet. All other server side languages which maintains the session by a cookie are sensitive as well, like PHP with `PHPSESSID` cookie, ASP.NET with `ASP.NET_SessionID` cookie, etcetera. That&#39;s also why URL rewriting with `;jsessionid=xxx` as some JSP/Servlet MVC frameworks automatically do is frowned upon. Just make sure that session ID is never exposed in URL or by other means in webpages so that the unaware enduser won&#39;t be attacked.","body":"@Toskan: that&#39;s correct. It&#39;s known as <a href=\"http://en.wikipedia.org/wiki/Session_fixation\" rel=\"nofollow noreferrer\">session fixation hack</a>. Please note that this is not specific to JSP/Servlet. All other server side languages which maintains the session by a cookie are sensitive as well, like PHP with <code>PHPSESSID</code> cookie, ASP.NET with <code>ASP.NET_SessionID</code> cookie, etcetera. That&#39;s also why URL rewriting with <code>;jsessionid=xxx</code> as some JSP/Servlet MVC frameworks automatically do is frowned upon. Just make sure that session ID is never exposed in URL or by other means in webpages so that the unaware enduser won&#39;t be attacked."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":12,"creation_date":1322660932,"post_id":3106909,"comment_id":10264734,"body_markdown":"@Toskan: Also, make sure that your webapp is not sensitive to XSS attacks. I.e. do not redisplay any user-controlled input in unescaped form. XSS put doors open to ways to collect session IDs of all endusers. See also [What is the general concept behind XSS?](http://stackoverflow.com/questions/2233015/what-is-the-general-concept-behind-xss/2233110#2233110)","body":"@Toskan: Also, make sure that your webapp is not sensitive to XSS attacks. I.e. do not redisplay any user-controlled input in unescaped form. XSS put doors open to ways to collect session IDs of all endusers. See also <a href=\"http://stackoverflow.com/questions/2233015/what-is-the-general-concept-behind-xss/2233110#2233110\">What is the general concept behind XSS?</a>"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1408963419,"post_id":3106909,"comment_id":39773045,"body_markdown":"@overshadow: as answered, it&#39;s applicationwide.","body":"@overshadow: as answered, it&#39;s applicationwide."},{"owner":{"account_id":2482596,"reputation":978,"user_id":2161761,"accept_rate":76,"display_name":"overshadow"},"score":2,"creation_date":1409024152,"post_id":3106909,"comment_id":39798937,"body_markdown":"@BalusC, Sorry for my stupidity. It means all user access the same instance of thisIsNOTThreadSafe right?","body":"@BalusC, Sorry for my stupidity. It means all user access the same instance of thisIsNOTThreadSafe right?"},{"owner":{"account_id":1895647,"reputation":1622,"user_id":1712683,"accept_rate":91,"display_name":"Harry"},"score":1,"creation_date":1412339389,"post_id":3106909,"comment_id":41045496,"body_markdown":"@overshadow yes every user will have access to same instance","body":"@overshadow yes every user will have access to same instance"},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":1,"creation_date":1427115365,"post_id":3106909,"comment_id":46631207,"body_markdown":"@itsraja You can configure this - while a absence of a specific time to load leads to loading on the first request in most servers - also supported by most servers is setting the time a servlet should be created: http://stackoverflow.com/questions/809775/what-does-the-servlet-load-on-startup-value-of-0-zero-signify","body":"@itsraja You can configure this - while a absence of a specific time to load leads to loading on the first request in most servers - also supported by most servers is setting the time a servlet should be created: <a href=\"http://stackoverflow.com/questions/809775/what-does-the-servlet-load-on-startup-value-of-0-zero-signify\" title=\"what does the servlet load on startup value of 0 zero signify\">stackoverflow.com/questions/809775/&hellip;</a>"},{"owner":{"account_id":4563985,"reputation":3964,"user_id":3705478,"accept_rate":33,"display_name":"sofs1"},"score":1,"creation_date":1455683697,"post_id":3106909,"comment_id":58593501,"body_markdown":"Amazing answer. &quot;Any Servlet, Filter and Listener lives as long as the webapp lives. They are being shared among all requests in all sessions.&quot; But What is a filter and listener? What do they do?","body":"Amazing answer. &quot;Any Servlet, Filter and Listener lives as long as the webapp lives. They are being shared among all requests in all sessions.&quot; But What is a filter and listener? What do they do?"},{"owner":{"account_id":4563985,"reputation":3964,"user_id":3705478,"accept_rate":33,"display_name":"sofs1"},"score":0,"creation_date":1455686170,"post_id":3106909,"comment_id":58594320,"body_markdown":"&quot;The HttpSession lives as long as the client is interacting with ......among all requests in the same session.&quot; \n\nI couldn&#39;t understand the above explanation.\n\na) Do they mean, A single session is created when a client(say user A) first visits the server and the same session(session created for user A) is shared among all requests (all future requests from user A only and not with session created for user B) ?\nb)Also do they implicitly mean, each unique user will have unique session and that session will be used for all future requests from that user until the session dies?","body":"&quot;The HttpSession lives as long as the client is interacting with ......among all requests in the same session.&quot;   I couldn&#39;t understand the above explanation.  a) Do they mean, A single session is created when a client(say user A) first visits the server and the same session(session created for user A) is shared among all requests (all future requests from user A only and not with session created for user B) ? b)Also do they implicitly mean, each unique user will have unique session and that session will be used for all future requests from that user until the session dies?"},{"owner":{"account_id":5661938,"reputation":351,"user_id":4479305,"display_name":"Wayne"},"score":1,"creation_date":1455852434,"post_id":3106909,"comment_id":58685703,"body_markdown":"@user3705478, Sessions are created per-user. Sessions are maintained as long as the client holding that session is active. When the client becomes inactive, the session expires.","body":"@user3705478, Sessions are created per-user. Sessions are maintained as long as the client holding that session is active. When the client becomes inactive, the session expires."},{"owner":{"account_id":6340720,"reputation":1106,"user_id":4922709,"accept_rate":76,"display_name":"TwoThumbSticks"},"score":0,"creation_date":1487587414,"post_id":3106909,"comment_id":71836412,"body_markdown":"@BalusC I am a newbie but a little confused you said that &quot; If the determined method is absent from the servlet, then an HTTP 405 error is returned in the response.&quot; Is it not suppose to be HTTP error 404?Because if the method is absent from the servlet then there is no url mapping for that method and instead should return an error 404?","body":"@BalusC I am a newbie but a little confused you said that &quot; If the determined method is absent from the servlet, then an HTTP 405 error is returned in the response.&quot; Is it not suppose to be HTTP error 404?Because if the method is absent from the servlet then there is no url mapping for that method and instead should return an error 404?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":4,"creation_date":1487591578,"post_id":3106909,"comment_id":71838998,"body_markdown":"@TwoThumbSticks 404 is returned when whole servlet itself is absent. 405 is returned when servlet is present but desired doXxx() method is not implemented.","body":"@TwoThumbSticks 404 is returned when whole servlet itself is absent. 405 is returned when servlet is present but desired doXxx() method is not implemented."},{"owner":{"account_id":2315538,"reputation":3123,"user_id":2032701,"accept_rate":100,"display_name":"Ruslan"},"score":0,"creation_date":1500544358,"post_id":3106909,"comment_id":77388515,"body_markdown":"Are request and response objects actually get reused? The answer says opposite things: &quot;When a client (user with a web browser) sends an HTTP request, the servlet container creates new HttpServletRequest and HttpServletResponse objects&quot; and then &quot;When the HTTP response is committed and finished, both the request and response objects are recycled and made for reuse.&quot; Also this answer implies that they are generally reused: https://stackoverflow.com/questions/25626986/httpservletrequest-reuse","body":"Are request and response objects actually get reused? The answer says opposite things: &quot;When a client (user with a web browser) sends an HTTP request, the servlet container creates new HttpServletRequest and HttpServletResponse objects&quot; and then &quot;When the HTTP response is committed and finished, both the request and response objects are recycled and made for reuse.&quot; Also this answer implies that they are generally reused: <a href=\"https://stackoverflow.com/questions/25626986/httpservletrequest-reuse\" title=\"httpservletrequest reuse\">stackoverflow.com/questions/25626986/httpservletrequest-reus&zwnj;&#8203;e</a>"},{"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"score":0,"creation_date":1506346336,"post_id":3106909,"comment_id":79770498,"body_markdown":"@BalusC `HttpSession object, generates a long and unique ID and stores it in the server&#39;s memory.` What do you mean by server&#39;s memory? is it in JVM heap? or on a file system?","body":"@BalusC <code>HttpSession object, generates a long and unique ID and stores it in the server&#39;s memory.</code> What do you mean by server&#39;s memory? is it in JVM heap? or on a file system?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1506346877,"post_id":3106909,"comment_id":79770916,"body_markdown":"@piechuckerr Depends on server configuration.","body":"@piechuckerr Depends on server configuration."},{"owner":{"account_id":7167636,"reputation":297,"user_id":5476250,"display_name":"zheng yu"},"score":0,"creation_date":1531819158,"post_id":3106909,"comment_id":89726730,"body_markdown":"This is very different approach from .Net.  .Net will create a new instance of Controller ( like a servlet ) for each request.","body":"This is very different approach from .Net.  .Net will create a new instance of Controller ( like a servlet ) for each request."},{"owner":{"account_id":4870584,"reputation":13948,"user_id":3927264,"accept_rate":68,"display_name":"Farhan stands with Palestine"},"score":0,"creation_date":1565293975,"post_id":3106909,"comment_id":101318919,"body_markdown":"I read somewhere servlet should be loaded with application deployment for `load-on-startup &gt;= 0` and not only for `load-on-startup &gt; 0`. I might be wrong :)","body":"I read somewhere servlet should be loaded with application deployment for <code>load-on-startup &gt;= 0</code> and not only for <code>load-on-startup &gt; 0</code>. I might be wrong :)"},{"owner":{"account_id":10865671,"reputation":586,"user_id":7989121,"display_name":"brat"},"score":0,"creation_date":1571833345,"post_id":3106909,"comment_id":103370615,"body_markdown":"@BalusC Since Servlets arent thread safe, and the method doGet is also not synchronized, how come thisIsThreadSafe is threadsafe? I mean, Thread1 could go in, call request.getParameter(&quot;foo&quot;), save it in thisIsThreadSafe, then Thread2 comes and does the same and saves another value, then Thread1 goes along using that thisIsThreadSafe variable unknowing it now has the value that Thread2 put in it?","body":"@BalusC Since Servlets arent thread safe, and the method doGet is also not synchronized, how come thisIsThreadSafe is threadsafe? I mean, Thread1 could go in, call request.getParameter(&quot;foo&quot;), save it in thisIsThreadSafe, then Thread2 comes and does the same and saves another value, then Thread1 goes along using that thisIsThreadSafe variable unknowing it now has the value that Thread2 put in it?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1571833689,"post_id":3106909,"comment_id":103370807,"body_markdown":"@brat: Variables declared in the method are only visible to the current thread. That&#39;s basic Java and absolutely not servlet specific. Probably it&#39;s wise to take a step away from Java EE, back to basic Java and make sure you understand basic Java entirely before diving into Java EE.","body":"@brat: Variables declared in the method are only visible to the current thread. That&#39;s basic Java and absolutely not servlet specific. Probably it&#39;s wise to take a step away from Java EE, back to basic Java and make sure you understand basic Java entirely before diving into Java EE."},{"owner":{"account_id":10865671,"reputation":586,"user_id":7989121,"display_name":"brat"},"score":0,"creation_date":1571901132,"post_id":3106909,"comment_id":103394713,"body_markdown":"@BalusC Ouch, &quot;burn&quot;. Deserved though :-o. Yah, forgot some basics and had to cram in some other stuff in between which didnt help, now ashamed I asked such a question x(. Thanks for the reply, you rock!","body":"@BalusC Ouch, &quot;burn&quot;. Deserved though :-o. Yah, forgot some basics and had to cram in some other stuff in between which didnt help, now ashamed I asked such a question x(. Thanks for the reply, you rock!"},{"owner":{"account_id":4441374,"reputation":425,"user_id":3615847,"display_name":"Ana Sustic"},"score":0,"creation_date":1613230186,"post_id":3106909,"comment_id":117014266,"body_markdown":"Thanks @BalusC When would you use a filter and when a servlet? I am trying to find a way to change the content of a rendered page when certain conditions occur.","body":"Thanks @BalusC When would you use a filter and when a servlet? I am trying to find a way to change the content of a rendered page when certain conditions occur."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1613298306,"post_id":3106909,"comment_id":117027564,"body_markdown":"@AnaSustic: logically, if that page is not rendered by a single servlet, but by &quot;any&quot; servlet, then you need a filter, else you need to extend/modify that single servlet (do not add a new servlet!). See also a.o. https://stackoverflow.com/q/2957165","body":"@AnaSustic: logically, if that page is not rendered by a single servlet, but by &quot;any&quot; servlet, then you need a filter, else you need to extend/modify that single servlet (do not add a new servlet!). See also a.o. <a href=\"https://stackoverflow.com/q/2957165\">stackoverflow.com/q/2957165</a>"},{"owner":{"account_id":4441374,"reputation":425,"user_id":3615847,"display_name":"Ana Sustic"},"score":0,"creation_date":1613317289,"post_id":3106909,"comment_id":117032363,"body_markdown":"@BalusC the page rendering and delivery is done through a series of filters (Magnolia CMS).  In that sense I guess there is no reason for adding a servlet?","body":"@BalusC the page rendering and delivery is done through a series of filters (Magnolia CMS).  In that sense I guess there is no reason for adding a servlet?"},{"owner":{"account_id":7059566,"reputation":303,"user_id":5405434,"display_name":"Philippe Cloutier"},"score":0,"creation_date":1699916800,"post_id":3106909,"comment_id":136588743,"body_markdown":"Sessions are not necessarily tracked with cookies. URL rewriting can replace the JSESSIONID cookie with a jsessionid query parameter.","body":"Sessions are not necessarily tracked with cookies. URL rewriting can replace the JSESSIONID cookie with a jsessionid query parameter."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1699954258,"post_id":3106909,"comment_id":136592345,"body_markdown":"URL rewriting is discommended because they are a security concern. It can be disabled via web.xml. See also the 2st comment here.","body":"URL rewriting is discommended because they are a security concern. It can be disabled via web.xml. See also the 2st comment here."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":25,"down_vote_count":1,"up_vote_count":1948,"is_accepted":true,"score":1947,"last_activity_date":1699954140,"creation_date":1277347304,"answer_id":3106909,"question_id":3106452,"body_markdown":"## `ServletContext`\r\n\r\nWhen the servlet container (like [Apache Tomcat][1]) starts up, it will deploy and load all its web applications. When a web application is loaded, the servlet container creates an instance of [`ServletContext`][2] once and keeps it in the server&#39;s memory. The web app&#39;s `web.xml` and all of included `web-fragment.xml` files is parsed, and each `&lt;servlet&gt;`, `&lt;filter&gt;` and `&lt;listener&gt;` found (or each class annotated with `@WebServlet`, `@WebFilter` and `@WebListener` respectively) will be instantiated once and be kept in the server&#39;s memory as well, registred via the `ServletContext`. For each instantiated filter, its `init()` method is invoked with an instance of [`FilterConfig`][3] as argument which in turn contains the involved `ServletContext`.\r\n\r\nWhen a `Servlet` has a `&lt;servlet&gt;&lt;load-on-startup&gt;` or `@WebServlet(loadOnStartup)` value of `0` or greater, then its `init()` method is also invoked during startup. Those servlets are initialized in the same order specified by that value. If the same value is specified for more than one servlet, then each of those servlets is loaded in the same order as they appear in the `web.xml`, `web-fragment.xml`, or `@WebServlet` classloading. In the event the &quot;load-on-startup&quot; value is absent or negative, the `init()` method will be invoked whenever the [HTTP request][4] hits that servlet for the very first time. There are two `init()` methods, one taking an instance of [`ServletConfig`][5] as argument which in turn contains the involved `ServletContext`, and another which does not take any arguments but the `ServletContext` is available by inherited `getServletContext()` method.\r\n\r\nWhen the servlet container is finished with all of the above described initialization steps, then the [`ServletContextListener#contextInitialized()`][6] will be invoked with a [`ServletContextEvent`][7] argument which in turn contains the involved `ServletContext`. This will allow the developer the opportunity to programmatically register yet another `Servlet`, `Filter` or `Listener`.\r\n\r\nWhen the servlet container shuts down, it unloads all web applications, invokes the `destroy()` method of all its initialized servlets and filters, and all `Servlet`, `Filter` and `Listener` instances registered via the `ServletContext` are trashed. Finally the [`ServletContextListener#contextDestroyed()`][8] will be invoked and the `ServletContext` itself will be trashed.\r\n\r\n## `HttpServletRequest` and `HttpServletResponse`\r\n\r\nThe servlet container is attached to a web server that listens for HTTP requests on a certain port number (port 8080 is usually used during development and port 80 in production). When a client (e.g. user with a web browser, or [programmatically using `URLConnection`][9]) sends an HTTP request, the servlet container creates new instances of [`HttpServletRequest`][10] and [`HttpServletResponse`][11] and passes them through any defined `Filter` in the chain and, eventually, the `Servlet` instance. \r\n\r\nIn the case of [filters][12], the `doFilter()` method is invoked. When the servlet container&#39;s code calls `chain.doFilter(request, response)`, the request and response continue on to the next filter, or hit the servlet if there are no remaining filters.\r\n\r\nIn the case of [servlets][13], the `service()` method is invoked. By default, this method determines which one of the `doXxx()` methods to invoke based off of  `request.getMethod()`. If the determined method is absent from the servlet, then an HTTP 405 error is returned in the response. \r\n\r\nThe request object provides access to all of the information about the HTTP request, such as its [URL][14], [headers][15], [query string][16] and body. The response object provides the ability to control and send the HTTP response the way you want by, for instance, allowing you to set the headers and the body (usually with generated HTML content from a JSP file). When the HTTP response is committed and finished, both the request and response objects are recycled and made available for reuse.\r\n\r\n## `HttpSession`\r\n\r\nWhen a client visits the webapp for the first time and/or the [`HttpSession`][17] is obtained for the first time via `request.getSession()`, the servlet container creates a new `HttpSession` object, generates a long and unique ID (which you can get by `session.getId()`), and stores it in the server&#39;s memory. The servlet container also sets a [`Cookie`][18] in the `Set-Cookie` header of the HTTP response with `JSESSIONID` as its name and the unique session ID as its value. \r\n\r\nAs per the [HTTP cookie specification][19] (a contract any decent web browser and web server must adhere to), the client (the web browser) is required to send this [cookie][20] back in subsequent requests in the `Cookie` header for as long as the cookie is valid (i.e. the unique ID must refer to an unexpired session and the domain and path are correct). Using your browser&#39;s built-in HTTP traffic monitor, you can verify that the cookie is valid (press F12 in Chrome / Edge / Firefox 23+ / IE9+, and check the *Net/Network* tab). The servlet container will check the `Cookie` header of every incoming HTTP request for the presence of the cookie with the name `JSESSIONID` and use its value (the session ID) to get the associated `HttpSession` from server&#39;s memory.\r\n\r\nThe `HttpSession` stays alive until it has been idle (i.e. not used in a request) for more than the timeout value specified in `&lt;session-timeout&gt;`, a setting in `web.xml`. The default timeout value depends on the servlet container and is usually 30 minutes. So, when the client doesn&#39;t visit the web app for longer than the time specified, the servlet container trashes the [session][22]. Every subsequent request, even with the cookie specified, will not have access to the same session anymore; the servlet container will create a new session.\r\n\r\nOn the client side, the session cookie remains as long as the browser instance is running (normally). Unless the browser is configured to [restore the last browser session][23], when the client closes the browser instance (all tabs/windows), the session is lost on the client&#39;s side. In a new browser instance, the cookie associated with the session wouldn&#39;t exist, so it would no longer be sent. This causes an entirely new `HttpSession` to be created, with an entirely new session cookie being used.\r\n\r\n## In a nutshell\r\n\r\n- The `ServletContext` lives for as long as the web app lives. It is shared among *all* requests in *all* sessions.\r\n- The `HttpSession` lives for as long as the client is interacting with the web app with the same browser instance, and the session hasn&#39;t timed out at the server side. It is shared among *all* requests in the *same* session.\r\n- The `HttpServletRequest` and `HttpServletResponse` live from the time the servlet receives an HTTP request from the client, until the complete response (the web page) has arrived. It is *not* shared elsewhere.\r\n- All `Servlet`, `Filter` and `Listener` instances live as long as the web app lives. They are shared among *all* requests in *all* sessions.\r\n- Any `attribute` that is defined in `ServletContext`, `HttpServletRequest` and `HttpSession` will live as long as the object in question lives. The object itself represents the &quot;scope&quot; in bean management frameworks such as JSF, CDI, Spring, etc. Those frameworks store their scoped beans as an `attribute` of its closest matching scope.\r\n\r\n\r\n## Thread Safety\r\n\r\nThat said, your major concern is possibly [*thread safety*][24]. You should now know that servlets and filters are shared among all requests. That&#39;s the nice thing about Java, it&#39;s multithreaded and different threads (read: HTTP requests) can make use of the same instance. It would otherwise be too expensive to recreate, `init()` and `destroy()` them for every single request.\r\n\r\nYou should also realize that you should **never** assign any request or session scoped data as an *instance* variable of a servlet or filter. It will be shared among all other requests in other sessions. That&#39;s **not** thread-safe! The below example illustrates this:\r\n\r\n    public class ExampleServlet extends HttpServlet {\r\n    \r\n        private Object thisIsNOTThreadSafe;\r\n    \r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            Object thisIsThreadSafe;\r\n    \r\n            thisIsNOTThreadSafe = request.getParameter(&quot;foo&quot;); // BAD!! Shared among all requests!\r\n            thisIsThreadSafe = request.getParameter(&quot;foo&quot;); // OK, this is thread safe.\r\n        } \r\n    }\r\n\r\n### See also:\r\n\r\n- https://stackoverflow.com/questions/2095397/what-is-the-difference-between-jsf-servlet-and-jsp\r\n- https://stackoverflow.com/questions/1700390/best-option-for-session-management-in-java\r\n- https://stackoverflow.com/questions/4140448/difference-between-and-in-servlet-mapping-url-pattern\r\n- https://stackoverflow.com/questions/2349633/doget-and-dopost-in-servlets\r\n- https://stackoverflow.com/questions/8011138/servlet-seems-to-handle-multiple-concurrent-requests-synchronously/\r\n- https://stackoverflow.com/questions/9555842/why-servlets-are-not-thread-safe/\r\n- https://stackoverflow.com/questions/35837285/different-ways-to-get-servlet-context/\r\n\r\n\r\n  [1]: https://tomcat.apache.org\r\n  [2]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletcontext\r\n  [3]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/filterconfig\r\n  [4]: https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_message\r\n  [5]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletconfig\r\n  [6]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletcontextlistener#contextInitialized(jakarta.servlet.ServletContextEvent)\r\n  [7]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletcontextevent\r\n  [8]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletcontextlistener#contextDestroyed(jakarta.servlet.ServletContextEvent)\r\n  [9]: https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests\r\n  [10]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservletrequest\r\n  [11]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservletresponse\r\n  [12]: https://stackoverflow.com/tags/servlet-filters/info\r\n  [13]: https://stackoverflow.com/tags/servlets/info\r\n  [14]: https://en.wikipedia.org/wiki/URL\r\n  [15]: https://en.wikipedia.org/wiki/List_of_HTTP_header_fields\r\n  [16]: https://en.wikipedia.org/wiki/Query_string\r\n  [17]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpsession\r\n  [18]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/cookie\r\n  [19]: http://www.faqs.org/rfcs/rfc2965.html\r\n  [20]: https://en.wikipedia.org/wiki/HTTP_cookie\r\n  [21]: https://github.com/apache/tomcat/blob/main/conf/web.xml#L607\r\n  [22]: https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#HTTP_session\r\n  [23]: https://stackoverflow.com/a/36421888/5405434\r\n  [24]: https://en.wikipedia.org/wiki/Thread_safety","title":"How do servlets work? Instantiation, sessions, shared variables and multithreading","body":"<h2><code>ServletContext</code></h2>\n<p>When the servlet container (like <a href=\"https://tomcat.apache.org\" rel=\"nofollow noreferrer\">Apache Tomcat</a>) starts up, it will deploy and load all its web applications. When a web application is loaded, the servlet container creates an instance of <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletcontext\" rel=\"nofollow noreferrer\"><code>ServletContext</code></a> once and keeps it in the server's memory. The web app's <code>web.xml</code> and all of included <code>web-fragment.xml</code> files is parsed, and each <code>&lt;servlet&gt;</code>, <code>&lt;filter&gt;</code> and <code>&lt;listener&gt;</code> found (or each class annotated with <code>@WebServlet</code>, <code>@WebFilter</code> and <code>@WebListener</code> respectively) will be instantiated once and be kept in the server's memory as well, registred via the <code>ServletContext</code>. For each instantiated filter, its <code>init()</code> method is invoked with an instance of <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/filterconfig\" rel=\"nofollow noreferrer\"><code>FilterConfig</code></a> as argument which in turn contains the involved <code>ServletContext</code>.</p>\n<p>When a <code>Servlet</code> has a <code>&lt;servlet&gt;&lt;load-on-startup&gt;</code> or <code>@WebServlet(loadOnStartup)</code> value of <code>0</code> or greater, then its <code>init()</code> method is also invoked during startup. Those servlets are initialized in the same order specified by that value. If the same value is specified for more than one servlet, then each of those servlets is loaded in the same order as they appear in the <code>web.xml</code>, <code>web-fragment.xml</code>, or <code>@WebServlet</code> classloading. In the event the &quot;load-on-startup&quot; value is absent or negative, the <code>init()</code> method will be invoked whenever the <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_message\" rel=\"nofollow noreferrer\">HTTP request</a> hits that servlet for the very first time. There are two <code>init()</code> methods, one taking an instance of <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletconfig\" rel=\"nofollow noreferrer\"><code>ServletConfig</code></a> as argument which in turn contains the involved <code>ServletContext</code>, and another which does not take any arguments but the <code>ServletContext</code> is available by inherited <code>getServletContext()</code> method.</p>\n<p>When the servlet container is finished with all of the above described initialization steps, then the <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletcontextlistener#contextInitialized(jakarta.servlet.ServletContextEvent)\" rel=\"nofollow noreferrer\"><code>ServletContextListener#contextInitialized()</code></a> will be invoked with a <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletcontextevent\" rel=\"nofollow noreferrer\"><code>ServletContextEvent</code></a> argument which in turn contains the involved <code>ServletContext</code>. This will allow the developer the opportunity to programmatically register yet another <code>Servlet</code>, <code>Filter</code> or <code>Listener</code>.</p>\n<p>When the servlet container shuts down, it unloads all web applications, invokes the <code>destroy()</code> method of all its initialized servlets and filters, and all <code>Servlet</code>, <code>Filter</code> and <code>Listener</code> instances registered via the <code>ServletContext</code> are trashed. Finally the <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletcontextlistener#contextDestroyed(jakarta.servlet.ServletContextEvent)\" rel=\"nofollow noreferrer\"><code>ServletContextListener#contextDestroyed()</code></a> will be invoked and the <code>ServletContext</code> itself will be trashed.</p>\n<h2><code>HttpServletRequest</code> and <code>HttpServletResponse</code></h2>\n<p>The servlet container is attached to a web server that listens for HTTP requests on a certain port number (port 8080 is usually used during development and port 80 in production). When a client (e.g. user with a web browser, or <a href=\"https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests\">programmatically using <code>URLConnection</code></a>) sends an HTTP request, the servlet container creates new instances of <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservletrequest\" rel=\"nofollow noreferrer\"><code>HttpServletRequest</code></a> and <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservletresponse\" rel=\"nofollow noreferrer\"><code>HttpServletResponse</code></a> and passes them through any defined <code>Filter</code> in the chain and, eventually, the <code>Servlet</code> instance.</p>\n<p>In the case of <a href=\"https://stackoverflow.com/tags/servlet-filters/info\">filters</a>, the <code>doFilter()</code> method is invoked. When the servlet container's code calls <code>chain.doFilter(request, response)</code>, the request and response continue on to the next filter, or hit the servlet if there are no remaining filters.</p>\n<p>In the case of <a href=\"https://stackoverflow.com/tags/servlets/info\">servlets</a>, the <code>service()</code> method is invoked. By default, this method determines which one of the <code>doXxx()</code> methods to invoke based off of  <code>request.getMethod()</code>. If the determined method is absent from the servlet, then an HTTP 405 error is returned in the response.</p>\n<p>The request object provides access to all of the information about the HTTP request, such as its <a href=\"https://en.wikipedia.org/wiki/URL\" rel=\"nofollow noreferrer\">URL</a>, <a href=\"https://en.wikipedia.org/wiki/List_of_HTTP_header_fields\" rel=\"nofollow noreferrer\">headers</a>, <a href=\"https://en.wikipedia.org/wiki/Query_string\" rel=\"nofollow noreferrer\">query string</a> and body. The response object provides the ability to control and send the HTTP response the way you want by, for instance, allowing you to set the headers and the body (usually with generated HTML content from a JSP file). When the HTTP response is committed and finished, both the request and response objects are recycled and made available for reuse.</p>\n<h2><code>HttpSession</code></h2>\n<p>When a client visits the webapp for the first time and/or the <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpsession\" rel=\"nofollow noreferrer\"><code>HttpSession</code></a> is obtained for the first time via <code>request.getSession()</code>, the servlet container creates a new <code>HttpSession</code> object, generates a long and unique ID (which you can get by <code>session.getId()</code>), and stores it in the server's memory. The servlet container also sets a <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/cookie\" rel=\"nofollow noreferrer\"><code>Cookie</code></a> in the <code>Set-Cookie</code> header of the HTTP response with <code>JSESSIONID</code> as its name and the unique session ID as its value.</p>\n<p>As per the <a href=\"http://www.faqs.org/rfcs/rfc2965.html\" rel=\"nofollow noreferrer\">HTTP cookie specification</a> (a contract any decent web browser and web server must adhere to), the client (the web browser) is required to send this <a href=\"https://en.wikipedia.org/wiki/HTTP_cookie\" rel=\"nofollow noreferrer\">cookie</a> back in subsequent requests in the <code>Cookie</code> header for as long as the cookie is valid (i.e. the unique ID must refer to an unexpired session and the domain and path are correct). Using your browser's built-in HTTP traffic monitor, you can verify that the cookie is valid (press F12 in Chrome / Edge / Firefox 23+ / IE9+, and check the <em>Net/Network</em> tab). The servlet container will check the <code>Cookie</code> header of every incoming HTTP request for the presence of the cookie with the name <code>JSESSIONID</code> and use its value (the session ID) to get the associated <code>HttpSession</code> from server's memory.</p>\n<p>The <code>HttpSession</code> stays alive until it has been idle (i.e. not used in a request) for more than the timeout value specified in <code>&lt;session-timeout&gt;</code>, a setting in <code>web.xml</code>. The default timeout value depends on the servlet container and is usually 30 minutes. So, when the client doesn't visit the web app for longer than the time specified, the servlet container trashes the <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#HTTP_session\" rel=\"nofollow noreferrer\">session</a>. Every subsequent request, even with the cookie specified, will not have access to the same session anymore; the servlet container will create a new session.</p>\n<p>On the client side, the session cookie remains as long as the browser instance is running (normally). Unless the browser is configured to <a href=\"https://stackoverflow.com/a/36421888/5405434\">restore the last browser session</a>, when the client closes the browser instance (all tabs/windows), the session is lost on the client's side. In a new browser instance, the cookie associated with the session wouldn't exist, so it would no longer be sent. This causes an entirely new <code>HttpSession</code> to be created, with an entirely new session cookie being used.</p>\n<h2>In a nutshell</h2>\n<ul>\n<li>The <code>ServletContext</code> lives for as long as the web app lives. It is shared among <em>all</em> requests in <em>all</em> sessions.</li>\n<li>The <code>HttpSession</code> lives for as long as the client is interacting with the web app with the same browser instance, and the session hasn't timed out at the server side. It is shared among <em>all</em> requests in the <em>same</em> session.</li>\n<li>The <code>HttpServletRequest</code> and <code>HttpServletResponse</code> live from the time the servlet receives an HTTP request from the client, until the complete response (the web page) has arrived. It is <em>not</em> shared elsewhere.</li>\n<li>All <code>Servlet</code>, <code>Filter</code> and <code>Listener</code> instances live as long as the web app lives. They are shared among <em>all</em> requests in <em>all</em> sessions.</li>\n<li>Any <code>attribute</code> that is defined in <code>ServletContext</code>, <code>HttpServletRequest</code> and <code>HttpSession</code> will live as long as the object in question lives. The object itself represents the &quot;scope&quot; in bean management frameworks such as JSF, CDI, Spring, etc. Those frameworks store their scoped beans as an <code>attribute</code> of its closest matching scope.</li>\n</ul>\n<h2>Thread Safety</h2>\n<p>That said, your major concern is possibly <a href=\"https://en.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow noreferrer\"><em>thread safety</em></a>. You should now know that servlets and filters are shared among all requests. That's the nice thing about Java, it's multithreaded and different threads (read: HTTP requests) can make use of the same instance. It would otherwise be too expensive to recreate, <code>init()</code> and <code>destroy()</code> them for every single request.</p>\n<p>You should also realize that you should <strong>never</strong> assign any request or session scoped data as an <em>instance</em> variable of a servlet or filter. It will be shared among all other requests in other sessions. That's <strong>not</strong> thread-safe! The below example illustrates this:</p>\n<pre><code>public class ExampleServlet extends HttpServlet {\n\n    private Object thisIsNOTThreadSafe;\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        Object thisIsThreadSafe;\n\n        thisIsNOTThreadSafe = request.getParameter(&quot;foo&quot;); // BAD!! Shared among all requests!\n        thisIsThreadSafe = request.getParameter(&quot;foo&quot;); // OK, this is thread safe.\n    } \n}\n</code></pre>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2095397/what-is-the-difference-between-jsf-servlet-and-jsp\">What is the difference between JSF, Servlet and JSP?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1700390/best-option-for-session-management-in-java\">Best option for Session management in Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4140448/difference-between-and-in-servlet-mapping-url-pattern\">Difference between / and /* in servlet mapping url pattern</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2349633/doget-and-dopost-in-servlets\">doGet and doPost in Servlets</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8011138/servlet-seems-to-handle-multiple-concurrent-requests-synchronously/\">Servlet seems to handle multiple concurrent browser requests synchronously</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9555842/why-servlets-are-not-thread-safe/\">Why Servlets are not thread Safe?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/35837285/different-ways-to-get-servlet-context/\">Different ways to get Servlet Context</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":463980,"reputation":6172,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"comment_count":0,"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1539775344,"creation_date":1329915258,"answer_id":9395156,"question_id":3106452,"body_markdown":"When the servlet container (like Apache Tomcat) starts up, it will read from the web.xml file (only one per application) if anything goes wrong or shows up an error at container side console, otherwise, it will deploy and load all web applications by using web.xml (so named it as deployment descriptor).\n\nDuring instantiation phase of the servlet, servlet instance is ready but it cannot serve the client request because it is missing with two pieces of information:   \n1: context information  \n2: initial configuration information\n  \nServlet engine creates servletConfig interface object encapsulating the above missing information into it\nservlet engine calls init() of the servlet by supplying servletConfig object references as an argument. Once init() is completely executed servlet is ready to serve the client request. \n\n### Q) In the lifetime of servlet how many times instantiation and initialization happens ??\n\nA)only once (for every client request a new thread is created)\nonly one instance of the servlet serves any number of the client request ie, after serving one client request server does not die. It waits for other client requests ie what CGI (for every client request a new process is created) limitation is overcome with the servlet (internally servlet engine creates the thread).\n\n### Q)How session concept works?\n\nA)whenever getSession() is called on HttpServletRequest object \n\n**Step 1**: request object is evaluated for incoming session ID.\n\n**Step 2**: if ID not available a brand new HttpSession object is created and its corresponding session ID is generated (ie of HashTable) session ID is stored into httpservlet response object and the reference of HttpSession object is returned to the servlet (doGet/doPost). \n\n**Step 3**: if ID available brand new session object is not created session ID is picked up from the request object search is made in the collection of sessions by using session ID as the key.  \n \nOnce the search is successful session ID is stored into HttpServletResponse and the existing session object references are returned to the doGet() or doPost() of UserDefineservlet.\n \n### Note:\n1)when control leaves from servlet code to client don&#39;t forget that session object is being held by servlet container ie, the servlet engine\n\n2)multithreading is left to servlet developers people for implementing ie., handle the multiple requests of client nothing to bother about multithread code \n\n### Inshort form:\n\n\n\n\nA servlet is created when the application starts (it is deployed on the servlet container) or when it is first accessed (depending on the load-on-startup setting)\nwhen the servlet is instantiated, the init() method of the servlet is called\nthen the servlet (its one and only instance) handles all requests (its service() method being called by multiple threads). That&#39;s why it is not advisable to have any synchronization in it, and you should avoid instance variables of the servlet\nwhen the application is undeployed (the servlet container stops), the destroy() method is called.","title":"How do servlets work? Instantiation, sessions, shared variables and multithreading","body":"<p>When the servlet container (like Apache Tomcat) starts up, it will read from the web.xml file (only one per application) if anything goes wrong or shows up an error at container side console, otherwise, it will deploy and load all web applications by using web.xml (so named it as deployment descriptor).</p>\n<p>During instantiation phase of the servlet, servlet instance is ready but it cannot serve the client request because it is missing with two pieces of information:<br />\n1: context information<br />\n2: initial configuration information</p>\n<p>Servlet engine creates servletConfig interface object encapsulating the above missing information into it\nservlet engine calls init() of the servlet by supplying servletConfig object references as an argument. Once init() is completely executed servlet is ready to serve the client request.</p>\n<h3>Q) In the lifetime of servlet how many times instantiation and initialization happens ??</h3>\n<p>A)only once (for every client request a new thread is created)\nonly one instance of the servlet serves any number of the client request ie, after serving one client request server does not die. It waits for other client requests ie what CGI (for every client request a new process is created) limitation is overcome with the servlet (internally servlet engine creates the thread).</p>\n<h3>Q)How session concept works?</h3>\n<p>A)whenever getSession() is called on HttpServletRequest object</p>\n<p><strong>Step 1</strong>: request object is evaluated for incoming session ID.</p>\n<p><strong>Step 2</strong>: if ID not available a brand new HttpSession object is created and its corresponding session ID is generated (ie of HashTable) session ID is stored into httpservlet response object and the reference of HttpSession object is returned to the servlet (doGet/doPost).</p>\n<p><strong>Step 3</strong>: if ID available brand new session object is not created session ID is picked up from the request object search is made in the collection of sessions by using session ID as the key.</p>\n<p>Once the search is successful session ID is stored into HttpServletResponse and the existing session object references are returned to the doGet() or doPost() of UserDefineservlet.</p>\n<h3>Note:</h3>\n<p>1)when control leaves from servlet code to client don't forget that session object is being held by servlet container ie, the servlet engine</p>\n<p>2)multithreading is left to servlet developers people for implementing ie., handle the multiple requests of client nothing to bother about multithread code</p>\n<h3>Inshort form:</h3>\n<p>A servlet is created when the application starts (it is deployed on the servlet container) or when it is first accessed (depending on the load-on-startup setting)\nwhen the servlet is instantiated, the init() method of the servlet is called\nthen the servlet (its one and only instance) handles all requests (its service() method being called by multiple threads). That's why it is not advisable to have any synchronization in it, and you should avoid instance variables of the servlet\nwhen the application is undeployed (the servlet container stops), the destroy() method is called.</p>\n"},{"comments":[{"owner":{"account_id":5726530,"reputation":154,"user_id":4523350,"accept_rate":75,"display_name":"zh18"},"score":29,"creation_date":1452925543,"post_id":17504918,"comment_id":57390487,"body_markdown":"Your picture is very good for my comprehension. I have one question , What will this pizza restaurant do when too many pizza order came , just wait for one pizza guy or hire more pizza guy ? Thanks .","body":"Your picture is very good for my comprehension. I have one question , What will this pizza restaurant do when too many pizza order came , just wait for one pizza guy or hire more pizza guy ? Thanks ."},{"owner":{"account_id":1061383,"reputation":8686,"user_id":1062933,"accept_rate":85,"display_name":"NaN"},"score":7,"creation_date":1491860450,"post_id":17504918,"comment_id":73730938,"body_markdown":"He will return a message with `to many requests at this moment. try again later`","body":"He will return a message with <code>to many requests at this moment. try again later</code>"},{"owner":{"account_id":402847,"reputation":2233,"user_id":770254,"accept_rate":56,"display_name":"bruno"},"score":4,"creation_date":1546619222,"post_id":17504918,"comment_id":94920776,"body_markdown":"Servlets, unlike Pizza delivery people, can do more than one delivery at the same time. They just need to take special care on where they write down the client&#39;s address, the pizza&#39;s flavor...","body":"Servlets, unlike Pizza delivery people, can do more than one delivery at the same time. They just need to take special care on where they write down the client&#39;s address, the pizza&#39;s flavor..."}],"tags":[],"owner":{"account_id":1688160,"reputation":22605,"user_id":1551022,"accept_rate":89,"display_name":"Jops"},"comment_count":3,"down_vote_count":0,"up_vote_count":445,"is_accepted":false,"score":445,"last_activity_date":1380124020,"creation_date":1373128705,"answer_id":17504918,"question_id":3106452,"body_markdown":"Sessions\r\n-\r\n![enter image description here][1]\r\n![enter image description here][2]\r\n\r\nIn short: the web server issues a unique identifier to *each visitor* on his *first* visit. The visitor must bring back that ID for him to be recognised next time around. This identifier also allows the server to properly segregate objects owned by one session against that of another.\r\n\r\nServlet Instantiation\r\n-\r\n\r\nIf **load-on-startup** is **false**:\r\n\r\n![enter image description here][3]\r\n![enter image description here][4]\r\n\r\nIf **load-on-startup** is **true**:\r\n\r\n![enter image description here][5]\r\n![enter image description here][6]\r\n\r\nOnce he&#39;s on the service mode and on the groove, the *same* servlet will work on the requests from all other clients. \r\n\r\n![enter image description here][7]\r\n\r\nWhy isn&#39;t it a good idea to have one instance per client? Think about this: Will you hire one pizza guy for every order that came? Do that and you&#39;d be out of business in no time.\r\n\r\nIt comes with a small risk though. Remember: this single guy holds all the order information in his pocket: so if you&#39;re not cautious about [thread safety on servlets](http://tutorials.jenkov.com/java-servlets/servlet-concurrency.html), he may end up giving the wrong order to a certain client.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ABDSX.png\r\n  [2]: http://i.stack.imgur.com/IWAF3.png\r\n  [3]: http://i.stack.imgur.com/Jjvcb.png\r\n  [4]: http://i.stack.imgur.com/7Bw3x.png\r\n  [5]: http://i.stack.imgur.com/t33bd.png\r\n  [6]: http://i.stack.imgur.com/e7BB7.png\r\n  [7]: http://i.stack.imgur.com/gqoR4.png","title":"How do servlets work? Instantiation, sessions, shared variables and multithreading","body":"<h2>Sessions</h2>\n\n<p><img src=\"https://i.stack.imgur.com/ABDSX.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/IWAF3.png\" alt=\"enter image description here\"></p>\n\n<p>In short: the web server issues a unique identifier to <em>each visitor</em> on his <em>first</em> visit. The visitor must bring back that ID for him to be recognised next time around. This identifier also allows the server to properly segregate objects owned by one session against that of another.</p>\n\n<h2>Servlet Instantiation</h2>\n\n<p>If <strong>load-on-startup</strong> is <strong>false</strong>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Jjvcb.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/7Bw3x.png\" alt=\"enter image description here\"></p>\n\n<p>If <strong>load-on-startup</strong> is <strong>true</strong>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/t33bd.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/e7BB7.png\" alt=\"enter image description here\"></p>\n\n<p>Once he's on the service mode and on the groove, the <em>same</em> servlet will work on the requests from all other clients. </p>\n\n<p><img src=\"https://i.stack.imgur.com/gqoR4.png\" alt=\"enter image description here\"></p>\n\n<p>Why isn't it a good idea to have one instance per client? Think about this: Will you hire one pizza guy for every order that came? Do that and you'd be out of business in no time.</p>\n\n<p>It comes with a small risk though. Remember: this single guy holds all the order information in his pocket: so if you're not cautious about <a href=\"http://tutorials.jenkov.com/java-servlets/servlet-concurrency.html\" rel=\"noreferrer\">thread safety on servlets</a>, he may end up giving the wrong order to a certain client.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1421948667,"post_id":22196727,"comment_id":44566469,"body_markdown":"FYI, current Servlet spec (2015-01) is 3.1, defined by [JSR 340](https://jcp.org/aboutJava/communityprocess/final/jsr340/).","body":"FYI, current Servlet spec (2015-01) is 3.1, defined by <a href=\"https://jcp.org/aboutJava/communityprocess/final/jsr340/\" rel=\"nofollow noreferrer\">JSR 340</a>."},{"owner":{"account_id":1451712,"reputation":118,"user_id":1368451,"display_name":"Reva"},"score":0,"creation_date":1517463329,"post_id":22196727,"comment_id":84108016,"body_markdown":"[JSR 340: Java Servlet 3.1 Specification](https://jcp.org/en/jsr/detail?id=340) And [JSR 369: JavaTM Servlet 4.0 Specification](https://jcp.org/en/jsr/detail?id=369)","body":"<a href=\"https://jcp.org/en/jsr/detail?id=340\" rel=\"nofollow noreferrer\">JSR 340: Java Servlet 3.1 Specification</a> And <a href=\"https://jcp.org/en/jsr/detail?id=369\" rel=\"nofollow noreferrer\">JSR 369: JavaTM Servlet 4.0 Specification</a>"},{"owner":{"account_id":1482742,"reputation":3434,"user_id":6680585,"accept_rate":84,"display_name":"Tom Taylor"},"score":1,"creation_date":1520334749,"post_id":22196727,"comment_id":85263204,"body_markdown":"Very neat answer ! @tharindu_DG","body":"Very neat answer ! @tharindu_DG"}],"tags":[],"owner":{"account_id":2134002,"reputation":8980,"user_id":1894198,"accept_rate":52,"display_name":"tharindu_DG"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1493194077,"creation_date":1394019717,"answer_id":22196727,"question_id":3106452,"body_markdown":"The Servlet Specification **JSR-315** clearly defines the web container behavior in the service (and doGet, doPost, doPut etc.) methods (2.3.3.1 Multithreading Issues, Page 9):\r\n\r\n\r\n\r\n&gt; A servlet container may send concurrent requests through the service\r\n&gt; method of the servlet. To handle the requests, the Servlet Developer\r\n&gt; must make adequate provisions for concurrent processing with multiple\r\n&gt; threads in the service method.\r\n&gt; \r\n&gt; Although it is not recommended, an alternative for the Developer is to\r\n&gt; implement the SingleThreadModel interface which requires the container\r\n&gt; to guarantee that there is only one request thread at a time in the\r\n&gt; service method. A servlet container may satisfy this requirement by\r\n&gt; serializing requests on a servlet, or by maintaining a pool of servlet\r\n&gt; instances. If the servlet is part of a Web application that has been\r\n&gt; marked as distributable, the container may maintain a pool of servlet\r\n&gt; instances in each JVM that the application is distributed across.\r\n&gt; \r\n&gt; For servlets not implementing the SingleThreadModel interface, if the\r\n&gt; service method (or methods such as doGet or doPost which are\r\n&gt; dispatched to the service method of the HttpServlet abstract class)\r\n&gt; has been defined with the synchronized keyword, the servlet container\r\n&gt; cannot use the instance pool approach, but must serialize requests\r\n&gt; through it. It is strongly recommended that Developers not synchronize\r\n&gt; the service method (or methods dispatched to it) in these\r\n&gt; circumstances because of detrimental effects on performance\r\n\r\n","title":"How do servlets work? Instantiation, sessions, shared variables and multithreading","body":"<p>The Servlet Specification <strong>JSR-315</strong> clearly defines the web container behavior in the service (and doGet, doPost, doPut etc.) methods (2.3.3.1 Multithreading Issues, Page 9):</p>\n\n<blockquote>\n  <p>A servlet container may send concurrent requests through the service\n  method of the servlet. To handle the requests, the Servlet Developer\n  must make adequate provisions for concurrent processing with multiple\n  threads in the service method.</p>\n  \n  <p>Although it is not recommended, an alternative for the Developer is to\n  implement the SingleThreadModel interface which requires the container\n  to guarantee that there is only one request thread at a time in the\n  service method. A servlet container may satisfy this requirement by\n  serializing requests on a servlet, or by maintaining a pool of servlet\n  instances. If the servlet is part of a Web application that has been\n  marked as distributable, the container may maintain a pool of servlet\n  instances in each JVM that the application is distributed across.</p>\n  \n  <p>For servlets not implementing the SingleThreadModel interface, if the\n  service method (or methods such as doGet or doPost which are\n  dispatched to the service method of the HttpServlet abstract class)\n  has been defined with the synchronized keyword, the servlet container\n  cannot use the instance pool approach, but must serialize requests\n  through it. It is strongly recommended that Developers not synchronize\n  the service method (or methods dispatched to it) in these\n  circumstances because of detrimental effects on performance</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7363021,"reputation":1618,"user_id":5605687,"accept_rate":100,"display_name":"Onic Team"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1549431067,"creation_date":1523719960,"answer_id":49833116,"question_id":3106452,"body_markdown":"**No.** Servlets are **not Thread safe**\r\n\r\nThis is allows accessing more than one threads at a time\r\n\r\n**if u want to make it Servlet as Thread safe ., U can go for**\r\n\r\n`Implement SingleThreadInterface(i)` \r\nwhich is a blank Interface there is no\r\n\r\nmethods\r\n\r\nor we can go for synchronize methods\r\n\r\nwe can make whole service method as synchronized by using synchronized\r\n\r\nkeyword in front of method\r\n\r\n**Example::**\r\n\r\n    public Synchronized class service(ServletRequest request,ServletResponse response)throws ServletException,IOException\r\n\r\nor we can the put block of the code in the Synchronized block\r\n\r\n**Example::**\r\n\r\n    Synchronized(Object)\r\n    \r\n    {\r\n    \r\n    ----Instructions-----\r\n    \r\n    }\r\n\r\nI feel that Synchronized block is better than making the whole method\r\n\r\nSynchronized\r\n","title":"How do servlets work? Instantiation, sessions, shared variables and multithreading","body":"<p><strong>No.</strong> Servlets are <strong>not Thread safe</strong></p>\n\n<p>This is allows accessing more than one threads at a time</p>\n\n<p><strong>if u want to make it Servlet as Thread safe ., U can go for</strong></p>\n\n<p><code>Implement SingleThreadInterface(i)</code> \nwhich is a blank Interface there is no</p>\n\n<p>methods</p>\n\n<p>or we can go for synchronize methods</p>\n\n<p>we can make whole service method as synchronized by using synchronized</p>\n\n<p>keyword in front of method</p>\n\n<p><strong>Example::</strong></p>\n\n<pre><code>public Synchronized class service(ServletRequest request,ServletResponse response)throws ServletException,IOException\n</code></pre>\n\n<p>or we can the put block of the code in the Synchronized block</p>\n\n<p><strong>Example::</strong></p>\n\n<pre><code>Synchronized(Object)\n\n{\n\n----Instructions-----\n\n}\n</code></pre>\n\n<p>I feel that Synchronized block is better than making the whole method</p>\n\n<p>Synchronized</p>\n"},{"tags":[],"owner":{"account_id":5996646,"reputation":13,"user_id":4711103,"display_name":"Mahesh Balasubramanian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549435433,"creation_date":1549435433,"answer_id":54548002,"question_id":3106452,"body_markdown":"As is clear from above explanations, by implementing the &lt;B&gt;SingleThreadModel&lt;/B&gt;, a servlet can be assured thread-safety by the servlet container. The container implementation can do this in 2 ways:\r\n\r\n1) Serializing requests (queuing) to a single instance - this is similar to a servlet NOT implementing SingleThreadModel BUT synchronizing the service/ doXXX methods; OR\r\n\r\n2) Creating a pool of instances - which&#39;s a better option and a trade-off between the boot-up/initialization effort/time of the servlet as against the restrictive parameters (memory/ CPU time) of the environment hosting the servlet.","title":"How do servlets work? Instantiation, sessions, shared variables and multithreading","body":"<p>As is clear from above explanations, by implementing the <B>SingleThreadModel</B>, a servlet can be assured thread-safety by the servlet container. The container implementation can do this in 2 ways:</p>\n\n<p>1) Serializing requests (queuing) to a single instance - this is similar to a servlet NOT implementing SingleThreadModel BUT synchronizing the service/ doXXX methods; OR</p>\n\n<p>2) Creating a pool of instances - which's a better option and a trade-off between the boot-up/initialization effort/time of the servlet as against the restrictive parameters (memory/ CPU time) of the environment hosting the servlet.</p>\n"}],"owner":{"account_id":629222,"reputation":12553,"user_id":374769,"display_name":"Ku Jon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326003,"favorite_count":0,"down_vote_count":0,"up_vote_count":1255,"accepted_answer_id":3106909,"answer_count":8,"score":1255,"last_activity_date":1699954140,"creation_date":1277338575,"question_id":3106452,"body_markdown":"Suppose, I have a webserver which holds numerous servlets. For information passing among those servlets I am setting session and instance variables.\r\n\r\nNow, if 2 or more users send request to this server then what happens to the session variables?   \r\nWill they all be common for all the users or they will be different for each user?  \r\nIf they are different, then how was the server able to differentiate between different users?\r\n\r\nOne more similar question, if there are `n` users accessing a particular servlet, then this servlet gets instantiated only the first time the first user accessed it or does it get instantiated for all the users separately?   \r\nIn other words, what happens to the instance variables?","title":"How do servlets work? Instantiation, sessions, shared variables and multithreading","body":"<p>Suppose, I have a webserver which holds numerous servlets. For information passing among those servlets I am setting session and instance variables.</p>\n\n<p>Now, if 2 or more users send request to this server then what happens to the session variables?<br>\nWill they all be common for all the users or they will be different for each user?<br>\nIf they are different, then how was the server able to differentiate between different users?</p>\n\n<p>One more similar question, if there are <code>n</code> users accessing a particular servlet, then this servlet gets instantiated only the first time the first user accessed it or does it get instantiated for all the users separately?<br>\nIn other words, what happens to the instance variables?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":245734,"reputation":332718,"user_id":519413,"accept_rate":97,"display_name":"Rory McCrossan"},"score":4,"creation_date":1699890769,"post_id":77475135,"comment_id":136584555,"body_markdown":"Java and Javascript are two comlpetely different things. Please take care when tagging your questions","body":"Java and Javascript are two comlpetely different things. Please take care when tagging your questions"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":3,"creation_date":1699890782,"post_id":77475135,"comment_id":136584558,"body_markdown":"This code gets executed every time the component is repainted","body":"This code gets executed every time the component is repainted"},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":6,"creation_date":1699890793,"post_id":77475135,"comment_id":136584560,"body_markdown":"It sounds like you&#39;re assuming that the `if` structure is somehow broken in Java, though it seems *far* more likely that `paintComponent()` is being invoked more than once.","body":"It sounds like you&#39;re assuming that the <code>if</code> structure is somehow broken in Java, though it seems <i>far</i> more likely that <code>paintComponent()</code> is being invoked more than once."},{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":4,"creation_date":1699890892,"post_id":77475135,"comment_id":136584590,"body_markdown":"You don&#39;t need the `==` comparison after the `!=` comparison. If `!=` is false, then of necessity `==` will be true, so you just need a plain `else`.","body":"You don&#39;t need the <code>==</code> comparison after the <code>!=</code> comparison. If <code>!=</code> is false, then of necessity <code>==</code> will be true, so you just need a plain <code>else</code>."},{"owner":{"account_id":29893320,"reputation":1,"user_id":22908927,"display_name":"Dylanduran"},"score":0,"creation_date":1699891721,"post_id":77475135,"comment_id":136584792,"body_markdown":"@David I think that might be the problem, I don&#39;t really know how to fix it though, the paintComponent() needs to be invoked twice in order to draw a graphic of both die. Any idea on how to fix it?","body":"@David I think that might be the problem, I don&#39;t really know how to fix it though, the paintComponent() needs to be invoked twice in order to draw a graphic of both die. Any idea on how to fix it?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1699891944,"post_id":77475135,"comment_id":136584845,"body_markdown":"why twice tho? wouldnt once work fine?","body":"why twice tho? wouldnt once work fine?"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1699892012,"post_id":77475135,"comment_id":136584862,"body_markdown":"Since paintComponent is called when needed, don&#39;t expect your  print&#39;s to be reliable.","body":"Since paintComponent is called when needed, don&#39;t expect your  print&#39;s to be reliable."},{"owner":{"account_id":29893320,"reputation":1,"user_id":22908927,"display_name":"Dylanduran"},"score":0,"creation_date":1699892092,"post_id":77475135,"comment_id":136584877,"body_markdown":"@GrindingForReputation To be honest I&#39;m not sure, most of the code isn&#39;t mine, only the if/else if segment near the bottom is. The exercise doesn&#39;t mention anything about changing the existing code, only adding my own for the println() statements. That&#39;s why I&#39;m so confused about why its printing/invoking twice. I&#39;m really new to coding so it doesn&#39;t make much sense to me.","body":"@GrindingForReputation To be honest I&#39;m not sure, most of the code isn&#39;t mine, only the if/else if segment near the bottom is. The exercise doesn&#39;t mention anything about changing the existing code, only adding my own for the println() statements. That&#39;s why I&#39;m so confused about why its printing/invoking twice. I&#39;m really new to coding so it doesn&#39;t make much sense to me."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1699892267,"post_id":77475135,"comment_id":136584912,"body_markdown":"Can you include slightly more code so I can at least give you an idea on how to implement something?","body":"Can you include slightly more code so I can at least give you an idea on how to implement something?"},{"owner":{"account_id":29893320,"reputation":1,"user_id":22908927,"display_name":"Dylanduran"},"score":0,"creation_date":1699892478,"post_id":77475135,"comment_id":136584950,"body_markdown":"@GrindingForReputation I&#39;m afraid the code I included in the original post is all of it, there&#39;s nothing else to include. Sorry to be a bother. Just to be clear, the print statements occur twice one after another","body":"@GrindingForReputation I&#39;m afraid the code I included in the original post is all of it, there&#39;s nothing else to include. Sorry to be a bother. Just to be clear, the print statements occur twice one after another"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1699892507,"post_id":77475135,"comment_id":136584954,"body_markdown":"Its completely fine dw! I&#39;ll see if I can come up with anything :D","body":"Its completely fine dw! I&#39;ll see if I can come up with anything :D"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1699892541,"post_id":77475135,"comment_id":136584964,"body_markdown":"If this code has been given by an online Java course you should search for a different online course. Whoever wrote this code should not teach other people Java programming. As said by others, the state of a program should not be changed in the `paintComponent` method and a program solely consisting of a `paintComponent` method does not do anything useful. Further, `(int) (Math.random() * 6) + 1` is not a recommended way of creating a random integer number.","body":"If this code has been given by an online Java course you should search for a different online course. Whoever wrote this code should not teach other people Java programming. As said by others, the state of a program should not be changed in the <code>paintComponent</code> method and a program solely consisting of a <code>paintComponent</code> method does not do anything useful. Further, <code>(int) (Math.random() * 6) + 1</code> is not a recommended way of creating a random integer number."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1699892618,"post_id":77475135,"comment_id":136584981,"body_markdown":"@Holger yea especially considering you&#39;re painting 2 dice which require the paint method to be run twice.","body":"@Holger yea especially considering you&#39;re painting 2 dice which require the paint method to be run twice."},{"owner":{"account_id":29893320,"reputation":1,"user_id":22908927,"display_name":"Dylanduran"},"score":0,"creation_date":1699892672,"post_id":77475135,"comment_id":136584992,"body_markdown":"@Holger That&#39;s damning! I&#39;ve had some issues with this course before but this is the first time I&#39;ve been completely lost as to what I&#39;m doing wrong!","body":"@Holger That&#39;s damning! I&#39;ve had some issues with this course before but this is the first time I&#39;ve been completely lost as to what I&#39;m doing wrong!"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1699892750,"post_id":77475135,"comment_id":136585005,"body_markdown":"@Dylanduran for the time being maybe create a temporary int, if the value is 0 print the lines and increment the variable, if the value is 1 ignore it. That&#39;s all I could think of with this code. It get&#39;s the job done (i hope)","body":"@Dylanduran for the time being maybe create a temporary int, if the value is 0 print the lines and increment the variable, if the value is 1 ignore it. That&#39;s all I could think of with this code. It get&#39;s the job done (i hope)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699892922,"post_id":77475135,"comment_id":136585035,"body_markdown":"But there must be code creating a `DiceRoll` object and displaying it somewhere as otherwise you wouldn’t notice the problem of repeated execution of the `if`/print statement.","body":"But there must be code creating a <code>DiceRoll</code> object and displaying it somewhere as otherwise you wouldn’t notice the problem of repeated execution of the <code>if</code>/print statement."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1699893008,"post_id":77475135,"comment_id":136585053,"body_markdown":"@Holger exactly i asked for more code to decide onto something, but apparently all the code has been included in the original post. [look here](https://stackoverflow.com/questions/77475135/how-to-stop-double-printing-using-system-out-println-in-an-if-if-else-statemen?noredirect=1#comment136584950_77475135)","body":"@Holger exactly i asked for more code to decide onto something, but apparently all the code has been included in the original post. <a href=\"https://stackoverflow.com/questions/77475135/how-to-stop-double-printing-using-system-out-println-in-an-if-if-else-statemen?noredirect=1#comment136584950_77475135\">look here</a>"},{"owner":{"account_id":29893320,"reputation":1,"user_id":22908927,"display_name":"Dylanduran"},"score":0,"creation_date":1699893343,"post_id":77475135,"comment_id":136585119,"body_markdown":"@Holger I&#39;m a complete moron. Can&#39;t blame the course for this one! Turns out what I&#39;d down is I&#39;d somehow not seen the *second* batch of code that was in a separate file that called the code I&#39;d linked above. All I had to do was add a new public void method and call that in the second file. Thanks for pointing out about the creation of the DiceRoll object, I genuinely have no idea how I could&#39;ve missed something so obvious. It works like a charm now!","body":"@Holger I&#39;m a complete moron. Can&#39;t blame the course for this one! Turns out what I&#39;d down is I&#39;d somehow not seen the <i>second</i> batch of code that was in a separate file that called the code I&#39;d linked above. All I had to do was add a new public void method and call that in the second file. Thanks for pointing out about the creation of the DiceRoll object, I genuinely have no idea how I could&#39;ve missed something so obvious. It works like a charm now!"},{"owner":{"account_id":29893320,"reputation":1,"user_id":22908927,"display_name":"Dylanduran"},"score":0,"creation_date":1699893375,"post_id":77475135,"comment_id":136585127,"body_markdown":"@GrindingForReputation Thanks for your help too, I was being a complete idiot if you take a look at my reply to Holger. It works absolutely fine now that I&#39;ve grown a pair of eyes","body":"@GrindingForReputation Thanks for your help too, I was being a complete idiot if you take a look at my reply to Holger. It works absolutely fine now that I&#39;ve grown a pair of eyes"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1699893478,"post_id":77475135,"comment_id":136585151,"body_markdown":"@Dylanduran its ok just be more careful next time (and also thats basically what i meant by more code :D)","body":"@Dylanduran its ok just be more careful next time (and also thats basically what i meant by more code :D)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1699893549,"post_id":77475135,"comment_id":136585162,"body_markdown":"That doesn’t change the fact that the dice rolls should not happen in the `paintComponent` method and if that’s been given by the course, it’s teaching wrong things. As said, the `paintComponent` method will be invoked by the system whenever a refresh is needed (try dragging another window or an icon over the component), outside the program’s control.","body":"That doesn’t change the fact that the dice rolls should not happen in the <code>paintComponent</code> method and if that’s been given by the course, it’s teaching wrong things. As said, the <code>paintComponent</code> method will be invoked by the system whenever a refresh is needed (try dragging another window or an icon over the component), outside the program’s control."},{"owner":{"account_id":29893320,"reputation":1,"user_id":22908927,"display_name":"Dylanduran"},"score":0,"creation_date":1699893692,"post_id":77475135,"comment_id":136585185,"body_markdown":"@Holger Maybe not, its a degree level course as well so if the code looks sketchy to people on here that isn&#39;t a good sign.","body":"@Holger Maybe not, its a degree level course as well so if the code looks sketchy to people on here that isn&#39;t a good sign."}],"answers":[{"tags":[],"owner":{"account_id":27849471,"reputation":11,"user_id":21264263,"display_name":"minhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699954027,"creation_date":1699954027,"answer_id":77479461,"question_id":77475135,"body_markdown":"Dice rolls action should not be in `paintComponent` method because you can&#39;t control how this `paintComponent` be invoked by system. Put dice roll in the `main()` and try again.","title":"How to stop double printing using System.out.println() in an if/if else statement?","body":"<p>Dice rolls action should not be in <code>paintComponent</code> method because you can't control how this <code>paintComponent</code> be invoked by system. Put dice roll in the <code>main()</code> and try again.</p>\n"}],"owner":{"account_id":29893320,"reputation":1,"user_id":22908927,"display_name":"Dylanduran"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699954027,"creation_date":1699890538,"question_id":77475135,"body_markdown":"I&#39;m fairly new to programming and learning Java as part of an online course.\r\n\r\nI&#39;ve been given many different coding exercises, one of which should be relatively simple where I print out two statements (&quot;Sorry, try again&quot; or &quot;Win!&quot;) depending on if the two different numbers of 6 sided die match.\r\n\r\nThe problem is for whatever reason both statements are printed even though only one should appear (either two &quot;Sorry, try again&quot;s or &quot;Sorry, try again&quot; followed by &quot;Win!&quot; if the numbers matched, I&#39;ve attached a screenshot with details.\r\n\r\nAny idea why this is happening? Code below:\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\npublic class DiceRoll extends JPanel\r\n{\r\n    private int firstDice;\t\t// to hold the value for the first dice\r\n\tprivate int secondDice;\t\t// to hold the value for the second dice\r\n    public void paintComponent(Graphics g)\r\n    {\r\n        super.paintComponent(g);\r\n\t\tfirstDice  = (int) (Math.random() * 6) + 1; // get a value for the first dice\r\n\t\tsecondDice = (int) (Math.random() * 6) + 1; //get a value for the second dice\r\n\t\t// draw the dice squares\r\n\t\tg.setColor(Color.blue);\r\n\t\tg.fillRect(20, 20, 60, 60);\r\n\t\tg.setColor(Color.magenta);\r\n\t\tg.fillRect(120, 20, 60, 60);\r\n\t\t// put the values on the dice\r\n\t\tg.setColor(Color.white);\r\n\t\tg.drawString(&quot; &quot; + firstDice, 43, 54);\r\n\t\tg.drawString(&quot; &quot; + secondDice, 143, 54);\r\n\t\t// write the values under the dice\r\n\t\tg.setColor(Color.black);\r\n\t\tg.drawString(&quot;First dice = &quot; + firstDice, 20, 100); \r\n\t\tg.drawString(&quot;Second Dice = &quot; + secondDice, 120, 100); // print out the dice values\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tif (firstDice != secondDice) \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Sorry, try again&quot;);\r\n\t\t}\r\n\t\telse if (firstDice == secondDice) \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Win!&quot;);\r\n\t\t}\r\n   }\r\n}\r\n```\r\n\r\nI&#39;ve looked up solutions online and according to what I&#39;ve read it should be correct. Feel like I&#39;m missing something obvious here.","title":"How to stop double printing using System.out.println() in an if/if else statement?","body":"<p>I'm fairly new to programming and learning Java as part of an online course.</p>\n<p>I've been given many different coding exercises, one of which should be relatively simple where I print out two statements (&quot;Sorry, try again&quot; or &quot;Win!&quot;) depending on if the two different numbers of 6 sided die match.</p>\n<p>The problem is for whatever reason both statements are printed even though only one should appear (either two &quot;Sorry, try again&quot;s or &quot;Sorry, try again&quot; followed by &quot;Win!&quot; if the numbers matched, I've attached a screenshot with details.</p>\n<p>Any idea why this is happening? Code below:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\npublic class DiceRoll extends JPanel\n{\n    private int firstDice;      // to hold the value for the first dice\n    private int secondDice;     // to hold the value for the second dice\n    public void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);\n        firstDice  = (int) (Math.random() * 6) + 1; // get a value for the first dice\n        secondDice = (int) (Math.random() * 6) + 1; //get a value for the second dice\n        // draw the dice squares\n        g.setColor(Color.blue);\n        g.fillRect(20, 20, 60, 60);\n        g.setColor(Color.magenta);\n        g.fillRect(120, 20, 60, 60);\n        // put the values on the dice\n        g.setColor(Color.white);\n        g.drawString(&quot; &quot; + firstDice, 43, 54);\n        g.drawString(&quot; &quot; + secondDice, 143, 54);\n        // write the values under the dice\n        g.setColor(Color.black);\n        g.drawString(&quot;First dice = &quot; + firstDice, 20, 100); \n        g.drawString(&quot;Second Dice = &quot; + secondDice, 120, 100); // print out the dice values\n        \n        \n        \n        if (firstDice != secondDice) \n        {\n            System.out.println(&quot;Sorry, try again&quot;);\n        }\n        else if (firstDice == secondDice) \n        {\n            System.out.println(&quot;Win!&quot;);\n        }\n   }\n}\n</code></pre>\n<p>I've looked up solutions online and according to what I've read it should be correct. Feel like I'm missing something obvious here.</p>\n"},{"tags":["java","maven-2","aem-6","aem-core-wcm-components"],"owner":{"account_id":8467666,"reputation":1,"user_id":6351383,"display_name":"NdS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699953837,"creation_date":1699953837,"question_id":77479445,"body_markdown":"My OSGI bundle will not start if I use the AEM wcm core components (to be specific the Image component) in my java code:\r\n\r\n\r\n```\r\npackage be.ovl.aem.services.models.components.content.enhancedimage.impl;\r\n\r\nimport be.ovl.aem.services.models.components.content.enhancedimage.EnhancedImage;\r\n\r\n**import com.adobe.cq.wcm.core.components.models.Image;**\r\nimport lombok.Data;\r\nimport org.apache.sling.api.resource.Resource;\r\nimport org.apache.sling.models.annotations.Model;\r\nimport org.apache.sling.models.annotations.Via;\r\nimport org.apache.sling.models.annotations.injectorspecific.Self;\r\nimport org.apache.sling.models.annotations.injectorspecific.ValueMapValue;\r\nimport org.apache.sling.models.annotations.via.ResourceSuperType;\r\n\r\n\r\n@Data\r\n@Model(\r\n        adaptables = Resource.class,\r\n        adapters = EnhancedImage.class,\r\n        resourceType = &quot;ovl/components/content/enhanced-image&quot;\r\n)\r\npublic class EnhancedImageImpl implements EnhancedImage {\r\n    \r\n    @ValueMapValue\r\n    String imageText;\r\n    \r\n    @ValueMapValue\r\n    String imageCopyright;\r\n\r\n    @Self\r\n    @Via(type = ResourceSuperType.class)\r\n    private Image image;\r\n\r\n    public String getImageText() {\r\n        return imageText;\r\n    }\r\n\r\n    public void setImageText(String imageText) {\r\n        this.imageText = imageText;\r\n    }\r\n\r\n    public String getImageCopyright() {\r\n        return imageCopyright;\r\n    }\r\n\r\n    public void setImageCopyright(String imageCopyright) {\r\n        this.imageCopyright = imageCopyright;\r\n    }\r\n\r\n    public Image getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(Image image) {\r\n        this.image = image;\r\n    }\r\n}\r\n\r\n```\r\n\r\nIn the Adobe Experience Manager Web Console Bundles, I see this:\r\n\r\n=&gt; com.adobe.cq.wcm.core.components.models,version=[11.1,12) -- Cannot be resolved\r\n\r\nI&#39;m using Adobe Experience Manager (AEM) 6.3.1. \r\n\r\n\r\n\r\nIf I change the uber-jar version in the POM from 6.3.1 to 6.3.1.2, then it resolves but I get another unresolved depandency in my bundle. The POM:\r\n\r\n\r\n\r\n \r\n```\r\n&lt;!-- AEM public API --&gt;\r\n &lt;dependency&gt;\r\n     &lt;groupId&gt;com.adobe.aem&lt;/groupId&gt;\r\n     &lt;artifactId&gt;uber-jar&lt;/artifactId&gt;\r\n     &lt;version&gt;6.3.1.2&lt;/version&gt;\r\n     &lt;classifier&gt;apis&lt;/classifier&gt;\r\n     &lt;scope&gt;provided&lt;/scope&gt;\r\n &lt;/dependency&gt;\r\n```\r\n\r\n\r\nAnd this is the unresolved depandency:\r\n\t\r\n\t\r\n=&gt; org.apache.sling.xss,version=[2.0,3) -- Cannot be resolved\r\n\r\nIt seems like the chicken and the egg problem... Can someone help me please?\r\n","title":"Why I&#39;m getting an unresolved depandency error in my AEM OSGI bundle?","body":"<p>My OSGI bundle will not start if I use the AEM wcm core components (to be specific the Image component) in my java code:</p>\n<pre><code>package be.ovl.aem.services.models.components.content.enhancedimage.impl;\n\nimport be.ovl.aem.services.models.components.content.enhancedimage.EnhancedImage;\n\n**import com.adobe.cq.wcm.core.components.models.Image;**\nimport lombok.Data;\nimport org.apache.sling.api.resource.Resource;\nimport org.apache.sling.models.annotations.Model;\nimport org.apache.sling.models.annotations.Via;\nimport org.apache.sling.models.annotations.injectorspecific.Self;\nimport org.apache.sling.models.annotations.injectorspecific.ValueMapValue;\nimport org.apache.sling.models.annotations.via.ResourceSuperType;\n\n\n@Data\n@Model(\n        adaptables = Resource.class,\n        adapters = EnhancedImage.class,\n        resourceType = &quot;ovl/components/content/enhanced-image&quot;\n)\npublic class EnhancedImageImpl implements EnhancedImage {\n    \n    @ValueMapValue\n    String imageText;\n    \n    @ValueMapValue\n    String imageCopyright;\n\n    @Self\n    @Via(type = ResourceSuperType.class)\n    private Image image;\n\n    public String getImageText() {\n        return imageText;\n    }\n\n    public void setImageText(String imageText) {\n        this.imageText = imageText;\n    }\n\n    public String getImageCopyright() {\n        return imageCopyright;\n    }\n\n    public void setImageCopyright(String imageCopyright) {\n        this.imageCopyright = imageCopyright;\n    }\n\n    public Image getImage() {\n        return image;\n    }\n\n    public void setImage(Image image) {\n        this.image = image;\n    }\n}\n\n</code></pre>\n<p>In the Adobe Experience Manager Web Console Bundles, I see this:</p>\n<p>=&gt; com.adobe.cq.wcm.core.components.models,version=[11.1,12) -- Cannot be resolved</p>\n<p>I'm using Adobe Experience Manager (AEM) 6.3.1.</p>\n<p>If I change the uber-jar version in the POM from 6.3.1 to 6.3.1.2, then it resolves but I get another unresolved depandency in my bundle. The POM:</p>\n<pre><code>&lt;!-- AEM public API --&gt;\n &lt;dependency&gt;\n     &lt;groupId&gt;com.adobe.aem&lt;/groupId&gt;\n     &lt;artifactId&gt;uber-jar&lt;/artifactId&gt;\n     &lt;version&gt;6.3.1.2&lt;/version&gt;\n     &lt;classifier&gt;apis&lt;/classifier&gt;\n     &lt;scope&gt;provided&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>And this is the unresolved depandency:</p>\n<p>=&gt; org.apache.sling.xss,version=[2.0,3) -- Cannot be resolved</p>\n<p>It seems like the chicken and the egg problem... Can someone help me please?</p>\n"},{"tags":["java","multithreading","collections","nullpointerexception"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1699454065,"post_id":77446364,"comment_id":136533518,"body_markdown":"Stack trace please.","body":"Stack trace please."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1699454217,"post_id":77446364,"comment_id":136533551,"body_markdown":"Copying the set into an `ArrayList` like with `new ArrayList&lt;&gt;(_connections)` does not guaranty that you won’t get a `ConcurrentModificationException`, as that exception may already occur while copying. But: 1. Getting a `ConcurrentModificationException` is not the real problem, getting corrupted data is worse 2. You get corrupted data because you’re modifying a `LinkedHashSet` concurrently. Thinking about thread safety when everything is lost, i.e. when you want to iterate over the set, is way too late.","body":"Copying the set into an <code>ArrayList</code> like with <code>new ArrayList&lt;&gt;(_connections)</code> does not guaranty that you won’t get a <code>ConcurrentModificationException</code>, as that exception may already occur while copying. But: 1. Getting a <code>ConcurrentModificationException</code> is not the real problem, getting corrupted data is worse 2. You get corrupted data because you’re modifying a <code>LinkedHashSet</code> concurrently. Thinking about thread safety when everything is lost, i.e. when you want to iterate over the set, is way too late."},{"owner":{"account_id":24059393,"reputation":33,"user_id":18036825,"display_name":"slarti76"},"score":0,"creation_date":1699454560,"post_id":77446364,"comment_id":136533635,"body_markdown":"@Holger Thx, you&#39;re right, my approach to avoid CME is flawed. WIll have to look at that again. However, that doesn&#39;t explain how the `null` got in there. You write &quot;you get corrupted data&quot; - but how can I get a `null` in there, when I provably never add a `null`? Even if several threads concurrently call\n`_connections.add(tcpipConnection)`\nthey could never add a `null`, because `tcpipConnection` is locally on the stack and never `null`.","body":"@Holger Thx, you&#39;re right, my approach to avoid CME is flawed. WIll have to look at that again. However, that doesn&#39;t explain how the <code>null</code> got in there. You write &quot;you get corrupted data&quot; - but how can I get a <code>null</code> in there, when I provably never add a <code>null</code>? Even if several threads concurrently call <code>_connections.add(tcpipConnection)</code> they could never add a <code>null</code>, because <code>tcpipConnection</code> is locally on the stack and never <code>null</code>."},{"owner":{"account_id":24059393,"reputation":33,"user_id":18036825,"display_name":"slarti76"},"score":0,"creation_date":1699454769,"post_id":77446364,"comment_id":136533696,"body_markdown":"@user207421 I understand the call for a stack trace, but a) I don&#39;t know how to easily obfuscate it to safeguard company data, and b) I&#39;m pretty sure it&#39;s of no help here. The actual exception message is `Cannot invoke &quot;&lt;snip&gt;.close(String)&quot; because &quot;c&quot; is null`.","body":"@user207421 I understand the call for a stack trace, but a) I don&#39;t know how to easily obfuscate it to safeguard company data, and b) I&#39;m pretty sure it&#39;s of no help here. The actual exception message is <code>Cannot invoke &quot;&lt;snip&gt;.close(String)&quot; because &quot;c&quot; is null</code>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1699454924,"post_id":77446364,"comment_id":136533745,"body_markdown":"The null got there because you are violating the usage conditions. Solution: don’t. I don’t see why you think an apparently null value is impossible. Anything is possible when you break the rules.","body":"The null got there because you are violating the usage conditions. Solution: don’t. I don’t see why you think an apparently null value is impossible. Anything is possible when you break the rules."},{"owner":{"account_id":24059393,"reputation":33,"user_id":18036825,"display_name":"slarti76"},"score":0,"creation_date":1699455346,"post_id":77446364,"comment_id":136533850,"body_markdown":"@user207421 Thx, ok, could you please elaborate which rule I&#39;m breaking? I never said I&#39;m doing nothing wrong here, I just can&#39;t see it. @Holger already pointed out my approach to avoid CME is wrong, but that doesn&#39;t explain the `null`. Thx in any case.","body":"@user207421 Thx, ok, could you please elaborate which rule I&#39;m breaking? I never said I&#39;m doing nothing wrong here, I just can&#39;t see it. @Holger already pointed out my approach to avoid CME is wrong, but that doesn&#39;t explain the <code>null</code>. Thx in any case."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1699457449,"post_id":77446364,"comment_id":136534383,"body_markdown":"That’s what you get when using mutable objects in way that is not thread safe a) “impossible” values, like spurious `null` b) “impossible” behavior, like infinite loops at a harmless-looking `get` on a `HashMap`, or c) exceptions, which is the most harmless category as it tells you immediately that there’s something wrong. Maybe it helps if I tell you that the `null` was already there before you added an element, which you would never see in a single threaded or a correctly synchronized program.","body":"That’s what you get when using mutable objects in way that is not thread safe a) “impossible” values, like spurious <code>null</code> b) “impossible” behavior, like infinite loops at a harmless-looking <code>get</code> on a <code>HashMap</code>, or c) exceptions, which is the most harmless category as it tells you immediately that there’s something wrong. Maybe it helps if I tell you that the <code>null</code> was already there before you added an element, which you would never see in a single threaded or a correctly synchronized program."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699460768,"post_id":77446364,"comment_id":136535199,"body_markdown":"“So I think you will agree that there&#39;s no way a null could be added to the set.” — Instead of assuming, verify that is the case: `_connections.add( Objects.requireNonNull( tcpipConnection ) );`. Now an exception will be thrown when encountering a null.","body":"“So I think you will agree that there&#39;s no way a null could be added to the set.” — Instead of assuming, verify that is the case: <code>_connections.add( Objects.requireNonNull( tcpipConnection ) );</code>. Now an exception will be thrown when encountering a null."},{"owner":{"account_id":24059393,"reputation":33,"user_id":18036825,"display_name":"slarti76"},"score":0,"creation_date":1699461823,"post_id":77446364,"comment_id":136535431,"body_markdown":"@BasilBourque Well, by Java language specification, the result of the `new` operator cannot be `null`, so that check is really unnecessary.","body":"@BasilBourque Well, by Java language specification, the result of the <code>new</code> operator cannot be <code>null</code>, so that check is really unnecessary."}],"answers":[{"comments":[{"owner":{"account_id":24059393,"reputation":33,"user_id":18036825,"display_name":"slarti76"},"score":1,"creation_date":1699455793,"post_id":77446652,"comment_id":136533975,"body_markdown":"Thx, that looks promising. However, I learned from another comment above and subsequent Google research, that actually `Collections.synchronizedSet()` doesn&#39;t help at all here, because it doesn&#39;t synchronize iterators. So perhaps you should edit your first sentence accordingly.\nWhat Java really needs is a `ConcurrentLinkedHashSet`...","body":"Thx, that looks promising. However, I learned from another comment above and subsequent Google research, that actually <code>Collections.synchronizedSet()</code> doesn&#39;t help at all here, because it doesn&#39;t synchronize iterators. So perhaps you should edit your first sentence accordingly. What Java really needs is a <code>ConcurrentLinkedHashSet</code>..."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699458177,"post_id":77446652,"comment_id":136534580,"body_markdown":"@slarti76 There is no `ConcurrentLinkedHashSet` because maintaining an iteration order would be costly while at the same time dubious, as “insertion order” is meaningless for concurrent insertions. You can use `Collections.synchronizedSet()` but have to remember to use `synchronized(set) { … }` when iterating the set (which includes stream operations. Or revive your copy approach: `_connections = Collections.synchronizedSet(…); … ArrayList&lt;TcpIpConnection&gt; workingCopy; synchronized(set) { workingCopy = new ArrayList&lt;&gt;(_connections); } workingCopy.stream().forEach(c -&gt; c.close(&quot;Server down&quot;));`","body":"@slarti76 There is no <code>ConcurrentLinkedHashSet</code> because maintaining an iteration order would be costly while at the same time dubious, as “insertion order” is meaningless for concurrent insertions. You can use <code>Collections.synchronizedSet()</code> but have to remember to use <code>synchronized(set) { … }</code> when iterating the set (which includes stream operations. Or revive your copy approach: <code>_connections = Collections.synchronizedSet(…); … ArrayList&lt;TcpIpConnection&gt; workingCopy; synchronized(set) { workingCopy = new ArrayList&lt;&gt;(_connections); } workingCopy.stream().forEach(c -&gt; c.close(&quot;Server down&quot;));</code>"},{"owner":{"account_id":3618137,"reputation":635,"user_id":3017541,"display_name":"fxrobin"},"score":0,"creation_date":1699458803,"post_id":77446652,"comment_id":136534750,"body_markdown":"@Holger, yes you are right. It&#39;s better to return a a copy, a synchronized copy. Il will modify my example.","body":"@Holger, yes you are right. It&#39;s better to return a a copy, a synchronized copy. Il will modify my example."},{"owner":{"account_id":24059393,"reputation":33,"user_id":18036825,"display_name":"slarti76"},"score":0,"creation_date":1699458927,"post_id":77446652,"comment_id":136534784,"body_markdown":"Thx a bunch everyone!","body":"Thx a bunch everyone!"},{"owner":{"account_id":3618137,"reputation":635,"user_id":3017541,"display_name":"fxrobin"},"score":0,"creation_date":1699459281,"post_id":77446652,"comment_id":136534885,"body_markdown":"@slarti76 : &quot;So perhaps you should edit your first sentence accordingly&quot;, yes I just did. Thanx for that point too.","body":"@slarti76 : &quot;So perhaps you should edit your first sentence accordingly&quot;, yes I just did. Thanx for that point too."}],"tags":[],"owner":{"account_id":3618137,"reputation":635,"user_id":3017541,"display_name":"fxrobin"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699953563,"creation_date":1699455349,"answer_id":77446652,"question_id":77446364,"body_markdown":"As you mentioned, YOU MUST use a `Collections.synchronizedSet()` in your initializer. But it&#39;s not enough : the iterator is not safe.\r\n\r\nManipulating the set that is not synchronized in different threads can mess up (will certainly) the `LinkedHashSet` internal state. (ie. double links between entries, etc.)\r\n\r\nA good way is to encapsulate your `Set` into another class and to offer synchronized methods to add and remove a connection and, a least, return a thread-safe copy of the Set.\r\n\r\nIt could be like this :\r\n\r\n```\r\nclass ConnectionManager\r\n{\r\n  public static ConnectionManager instance = new ConnectionManager();\r\n  \r\n  private Set&lt;TcpIpConnection&gt; connections = new LinkedHashSet&lt;&gt;();\r\n\r\n  private ConnectionManager { } // protection against external construction\r\n\r\n  public static ConnectionManager getInstance() {\r\n     return instance;\r\n  }\r\n\r\n  public synchronized void add(TcpIpConnection connection) {\r\n      this.connections.add(connections);\r\n  }\r\n \r\n  public synchronized void remove(TcpIpConnection connection) {\r\n      this.connections.remove(connections);\r\n  }\r\n\r\n  // returns a synchronized copy and unmodifiable Set (thanx to Holger remark)\r\n  public synchronized  Set &lt;TcpIpConnection&gt; getConnections() {\r\n     return Collections.unmodifiableSet(new LinkedHashSet(this.connections));\r\n  }\r\n }\r\n```\r\n\r\nThen in your code :\r\n\r\n```\r\nTcpIpConnection tcpipConnection = new ServerConnection(clientSocket, _channels, MyClass.this);\r\nConnectionManager.getInstance().add(tcpipConnection);\r\n\r\n// or\r\n\r\nConnectionManager.getInstance().remove(tcpipConnection);\r\n```\r\n\r\nand using your stream :\r\n\r\n```\r\nConnectionManager.getInstance()\r\n                 .getConnections()\r\n                 .stream()\r\n                 .forEach(c -&gt; c.close(&quot;Server down&quot;));\r\n```\r\n","title":"Java Collections: NPE even though no null value was ever added","body":"<p>As you mentioned, YOU MUST use a <code>Collections.synchronizedSet()</code> in your initializer. But it's not enough : the iterator is not safe.</p>\n<p>Manipulating the set that is not synchronized in different threads can mess up (will certainly) the <code>LinkedHashSet</code> internal state. (ie. double links between entries, etc.)</p>\n<p>A good way is to encapsulate your <code>Set</code> into another class and to offer synchronized methods to add and remove a connection and, a least, return a thread-safe copy of the Set.</p>\n<p>It could be like this :</p>\n<pre><code>class ConnectionManager\n{\n  public static ConnectionManager instance = new ConnectionManager();\n  \n  private Set&lt;TcpIpConnection&gt; connections = new LinkedHashSet&lt;&gt;();\n\n  private ConnectionManager { } // protection against external construction\n\n  public static ConnectionManager getInstance() {\n     return instance;\n  }\n\n  public synchronized void add(TcpIpConnection connection) {\n      this.connections.add(connections);\n  }\n \n  public synchronized void remove(TcpIpConnection connection) {\n      this.connections.remove(connections);\n  }\n\n  // returns a synchronized copy and unmodifiable Set (thanx to Holger remark)\n  public synchronized  Set &lt;TcpIpConnection&gt; getConnections() {\n     return Collections.unmodifiableSet(new LinkedHashSet(this.connections));\n  }\n }\n</code></pre>\n<p>Then in your code :</p>\n<pre><code>TcpIpConnection tcpipConnection = new ServerConnection(clientSocket, _channels, MyClass.this);\nConnectionManager.getInstance().add(tcpipConnection);\n\n// or\n\nConnectionManager.getInstance().remove(tcpipConnection);\n</code></pre>\n<p>and using your stream :</p>\n<pre><code>ConnectionManager.getInstance()\n                 .getConnections()\n                 .stream()\n                 .forEach(c -&gt; c.close(&quot;Server down&quot;));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1699458628,"post_id":77446953,"comment_id":136534706,"body_markdown":"That’s one possible scenario. However, removals are not necessary to encounter `null`. E.g. the reading thread may read the initial value (`null`) for `head` or `e.after`, missing an update made by an inserting thread while it did already see the updated `size`. In fact, the Memory Model allows to read a non-`null` reference for those fields, followed by reading `null` again in a later read. Highly unlikely, but not impossible…","body":"That’s one possible scenario. However, removals are not necessary to encounter <code>null</code>. E.g. the reading thread may read the initial value (<code>null</code>) for <code>head</code> or <code>e.after</code>, missing an update made by an inserting thread while it did already see the updated <code>size</code>. In fact, the Memory Model allows to read a non-<code>null</code> reference for those fields, followed by reading <code>null</code> again in a later read. Highly unlikely, but not impossible…"},{"owner":{"account_id":24059393,"reputation":33,"user_id":18036825,"display_name":"slarti76"},"score":0,"creation_date":1699458864,"post_id":77446953,"comment_id":136534768,"body_markdown":"Thx, now I understand! I did try to look into the API sources, but kinda get lost ;)\nAnyway, this makes it clearer - and I know that I really have to approach this differently to become thread-safe.","body":"Thx, now I understand! I did try to look into the API sources, but kinda get lost ;) Anyway, this makes it clearer - and I know that I really have to approach this differently to become thread-safe."}],"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699457898,"creation_date":1699457596,"answer_id":77446953,"question_id":77446364,"body_markdown":"## Just to explain why null is possible\r\nBelow are referencing jdk-21+35\r\n\r\nIn `new ArrayList&lt;&gt;(_connections)`, which will call  \r\n[_connections.toArray()][1]  \r\n -&gt; [HashSet#toArray()][2](as LinkedHashSet extends HashSet)  \r\n -&gt; [LinkedHashMap#keysToArray()][3](as LinkedHashSet is backed by LinkedHashMap)\r\n\r\n```java\r\n    // HashSet#toArray()\r\n    @Override\r\n    public Object[] toArray() {\r\n        return map.keysToArray(new Object[map.size()]);\r\n    }\r\n```\r\nas here we can see an Object[] is constructed with length `map.size()`, and this Object[] will be copied to the ArrayList.\r\n```java\r\n    // LinkedHashMap#keysToArray()\r\n    final &lt;T&gt; T[] keysToArray(T[] a) {\r\n        return keysToArray(a, false);\r\n    }\r\n\r\n    final &lt;T&gt; T[] keysToArray(T[] a, boolean reversed) {\r\n        Object[] r = a;\r\n        int idx = 0;\r\n        if (reversed) {\r\n            for (LinkedHashMap.Entry&lt;K,V&gt; e = tail; e != null; e = e.before) {\r\n                r[idx++] = e.key;\r\n            }\r\n        } else {\r\n            for (LinkedHashMap.Entry&lt;K,V&gt; e = head; e != null; e = e.after) {\r\n                r[idx++] = e.key;\r\n            }\r\n        }\r\n        return a;\r\n    }\r\n```\r\nAnd above is how we set value to the Object[].\r\nSo in a concurrent environment, when we call `HashSet#toArray()`, the map size might be 2, but when we go to `LinkedHashMap#keysToArray()`, the map size could be 1(some thread removed element in between), hence there could be some null element in the Object[]. And vice versa `ArrayIndexOutOfBound` could be thrown.\r\n\r\n## Conclusion\r\n**Never assume any behaviour of non thread safe class when working in multi-thread environment, there is 0 guarantee.**\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/890adb6410dab4606a4f26a942aed02fb2f55387/src/java.base/share/classes/java/util/ArrayList.java#L181\r\n  [2]: https://github.com/openjdk/jdk/blob/890adb6410dab4606a4f26a942aed02fb2f55387/src/java.base/share/classes/java/util/HashSet.java#L375\r\n  [3]: https://github.com/openjdk/jdk/blob/890adb6410dab4606a4f26a942aed02fb2f55387/src/java.base/share/classes/java/util/HashSet.java#L375","title":"Java Collections: NPE even though no null value was ever added","body":"<h2>Just to explain why null is possible</h2>\n<p>Below are referencing jdk-21+35</p>\n<p>In <code>new ArrayList&lt;&gt;(_connections)</code>, which will call<br />\n<a href=\"https://github.com/openjdk/jdk/blob/890adb6410dab4606a4f26a942aed02fb2f55387/src/java.base/share/classes/java/util/ArrayList.java#L181\" rel=\"nofollow noreferrer\">_connections.toArray()</a><br />\n-&gt; <a href=\"https://github.com/openjdk/jdk/blob/890adb6410dab4606a4f26a942aed02fb2f55387/src/java.base/share/classes/java/util/HashSet.java#L375\" rel=\"nofollow noreferrer\">HashSet#toArray()</a>(as LinkedHashSet extends HashSet)<br />\n-&gt; <a href=\"https://github.com/openjdk/jdk/blob/890adb6410dab4606a4f26a942aed02fb2f55387/src/java.base/share/classes/java/util/HashSet.java#L375\" rel=\"nofollow noreferrer\">LinkedHashMap#keysToArray()</a>(as LinkedHashSet is backed by LinkedHashMap)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // HashSet#toArray()\n    @Override\n    public Object[] toArray() {\n        return map.keysToArray(new Object[map.size()]);\n    }\n</code></pre>\n<p>as here we can see an Object[] is constructed with length <code>map.size()</code>, and this Object[] will be copied to the ArrayList.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // LinkedHashMap#keysToArray()\n    final &lt;T&gt; T[] keysToArray(T[] a) {\n        return keysToArray(a, false);\n    }\n\n    final &lt;T&gt; T[] keysToArray(T[] a, boolean reversed) {\n        Object[] r = a;\n        int idx = 0;\n        if (reversed) {\n            for (LinkedHashMap.Entry&lt;K,V&gt; e = tail; e != null; e = e.before) {\n                r[idx++] = e.key;\n            }\n        } else {\n            for (LinkedHashMap.Entry&lt;K,V&gt; e = head; e != null; e = e.after) {\n                r[idx++] = e.key;\n            }\n        }\n        return a;\n    }\n</code></pre>\n<p>And above is how we set value to the Object[].\nSo in a concurrent environment, when we call <code>HashSet#toArray()</code>, the map size might be 2, but when we go to <code>LinkedHashMap#keysToArray()</code>, the map size could be 1(some thread removed element in between), hence there could be some null element in the Object[]. And vice versa <code>ArrayIndexOutOfBound</code> could be thrown.</p>\n<h2>Conclusion</h2>\n<p><strong>Never assume any behaviour of non thread safe class when working in multi-thread environment, there is 0 guarantee.</strong></p>\n"}],"owner":{"account_id":24059393,"reputation":33,"user_id":18036825,"display_name":"slarti76"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77446953,"answer_count":2,"score":3,"last_activity_date":1699953563,"creation_date":1699453201,"question_id":77446364,"body_markdown":"I recently got an NPE in a context where I was absolutely sure it shouldn&#39;t be possible. The class is used in a very multi-threaded program, so I&#39;m aware that you should expect basically anything to be possible, but still.\r\n\r\nSo, the class defines the following field:\r\n\r\n```java\r\nprivate final Set&lt;TcpIpConnection&gt; _connections = new LinkedHashSet&lt;&gt;();\r\n```\r\n\r\nIn the whole class, this set is only manipulated in two places:\r\n\r\n```java\r\n// some method\r\n  TcpIpConnection tcpipConnection = new ServerConnection(clientSocket, _channels, MyClass.this);\r\n  _connections.add(tcpipConnection);\r\n// some other method\r\n  _connections.remove(connection);\r\n```\r\n\r\nSo I think you will agree that there&#39;s no way a `null` could be added to the set. And yes, the set stays in the class and is never proliferated outside.\r\n\r\nBut now I have a test case which sometimes fails with an NPE in the following statement, which is the only other statement in the class that uses `_connections`:\r\n```java\r\nnew ArrayList&lt;&gt;(_connections).stream().forEach(c -&gt; c.close(&quot;Server down&quot;));\r\n```\r\nAs you can see, I already prevented a `ConcurrentModificationException` by first creating a local copy of the set as `ArrayList`.\r\n\r\nNow the NPE appears for `c`, which must be a value previously added to `_connections` - but how can that become `null`?\r\n\r\nTo be clear, I&#39;m not looking for a solution - I added `filter(Objects::nonNull)` in the stream (or I could&#39;ve used `Collections.synchronizedSet()` in the initializer), and it&#39;s guaranteed to work now.\r\n\r\nHow can that even happen? Yes, multi-threaded access can screw almost everything up, but putting a `null` in a collection which wasn&#39;t there?\r\n","title":"Java Collections: NPE even though no null value was ever added","body":"<p>I recently got an NPE in a context where I was absolutely sure it shouldn't be possible. The class is used in a very multi-threaded program, so I'm aware that you should expect basically anything to be possible, but still.</p>\n<p>So, the class defines the following field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Set&lt;TcpIpConnection&gt; _connections = new LinkedHashSet&lt;&gt;();\n</code></pre>\n<p>In the whole class, this set is only manipulated in two places:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// some method\n  TcpIpConnection tcpipConnection = new ServerConnection(clientSocket, _channels, MyClass.this);\n  _connections.add(tcpipConnection);\n// some other method\n  _connections.remove(connection);\n</code></pre>\n<p>So I think you will agree that there's no way a <code>null</code> could be added to the set. And yes, the set stays in the class and is never proliferated outside.</p>\n<p>But now I have a test case which sometimes fails with an NPE in the following statement, which is the only other statement in the class that uses <code>_connections</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArrayList&lt;&gt;(_connections).stream().forEach(c -&gt; c.close(&quot;Server down&quot;));\n</code></pre>\n<p>As you can see, I already prevented a <code>ConcurrentModificationException</code> by first creating a local copy of the set as <code>ArrayList</code>.</p>\n<p>Now the NPE appears for <code>c</code>, which must be a value previously added to <code>_connections</code> - but how can that become <code>null</code>?</p>\n<p>To be clear, I'm not looking for a solution - I added <code>filter(Objects::nonNull)</code> in the stream (or I could've used <code>Collections.synchronizedSet()</code> in the initializer), and it's guaranteed to work now.</p>\n<p>How can that even happen? Yes, multi-threaded access can screw almost everything up, but putting a <code>null</code> in a collection which wasn't there?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-restcontroller","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1513756092,"post_id":47900942,"comment_id":82768712,"body_markdown":"You&#39;ll need to look at the internals of that ProducerFactory... Or there&#39;s a send method that includes a key, not just the topic and value","body":"You&#39;ll need to look at the internals of that ProducerFactory... Or there&#39;s a send method that includes a key, not just the topic and value"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1513756177,"post_id":47900942,"comment_id":82768765,"body_markdown":"For example https://docs.spring.io/spring-kafka/api/org/springframework/kafka/core/KafkaTemplate.html#send-java.lang.String-K-V-","body":"For example <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/core/KafkaTemplate.html#send-java.lang.String-K-V-\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/api/org/springframework/kafka/co&zwnj;&#8203;re/&hellip;</a>"},{"owner":{"account_id":4239064,"reputation":10026,"user_id":3469489,"accept_rate":43,"display_name":"Shaaban Ebrahim"},"score":0,"creation_date":1513756446,"post_id":47900942,"comment_id":82768902,"body_markdown":"I found KEY_SERIALIZER_CLASS_CONFIG and KEY_SERIALIZER_CLASS_DOC .but there is no relation between them and exception as i think","body":"I found KEY_SERIALIZER_CLASS_CONFIG and KEY_SERIALIZER_CLASS_DOC .but there is no relation between them and exception as i think"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1513756584,"post_id":47900942,"comment_id":82768960,"body_markdown":"`ProducerConfig` is the wrong class to look at","body":"<code>ProducerConfig</code> is the wrong class to look at"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1513782807,"post_id":47900942,"comment_id":82785581,"body_markdown":"&gt;`Failed to update   metadata after 60000 ms.` - often simply means the broker is not running.","body":"&gt;<code>Failed to update   metadata after 60000 ms.</code> - often simply means the broker is not running."}],"answers":[{"comments":[{"owner":{"account_id":4239064,"reputation":10026,"user_id":3469489,"accept_rate":43,"display_name":"Shaaban Ebrahim"},"score":0,"creation_date":1513756862,"post_id":47901214,"comment_id":82769108,"body_markdown":"it still throw same exception in addition the key . Exception thrown when sending a message with key=&#39;1&#39; and payload=&#39;hhshshs&#39; to topic helloworld.t:","body":"it still throw same exception in addition the key . Exception thrown when sending a message with key=&#39;1&#39; and payload=&#39;hhshshs&#39; to topic helloworld.t:"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1513757044,"post_id":47901214,"comment_id":82769201,"body_markdown":"Well, then the exception has nothing to do with the key, but this is the question that you asked. Show the rest of the stacktrace","body":"Well, then the exception has nothing to do with the key, but this is the question that you asked. Show the rest of the stacktrace"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513756516,"creation_date":1513756516,"answer_id":47901214,"question_id":47900942,"body_markdown":"Use the method that includes a key\r\n\r\n    kafkaTemplate.send(topic, key, payload);\r\n\r\nIts not clear what key value you want to use, but it should evenly distribute amongst the partition count of the topic. For example, a random number within the range of the partition count. ","title":"TimeoutException thrown when sending to topic","body":"<p>Use the method that includes a key</p>\n\n<pre><code>kafkaTemplate.send(topic, key, payload);\n</code></pre>\n\n<p>Its not clear what key value you want to use, but it should evenly distribute amongst the partition count of the topic. For example, a random number within the range of the partition count. </p>\n"},{"tags":[],"owner":{"account_id":6731745,"reputation":145,"user_id":5187813,"display_name":"Santosh Rachakonda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546467412,"creation_date":1546467412,"answer_id":54013892,"question_id":47900942,"body_markdown":"That means your brokers are not running.\r\ncheck server.log and restart broker if necessary ","title":"TimeoutException thrown when sending to topic","body":"<p>That means your brokers are not running.\ncheck server.log and restart broker if necessary </p>\n"},{"tags":[],"owner":{"account_id":2328053,"reputation":331,"user_id":2042065,"display_name":"Niket Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568269091,"creation_date":1568269091,"answer_id":57900746,"question_id":47900942,"body_markdown":"There are few possibility for this type of error. \r\n\r\n 1. Kafka broker is not reachable using configured port.\r\n    - For this try to telnet using ```telnet localhost 9092``` if you are getting output that means kafka borker is running\r\n 2.  Check kafka-client version that spring-boot uses is the same as your kafka version. If the version mismatch, kafka may ne able to send data to topic\r\n\r\n 3.  Sometimes it take time for the brokers to know about the newly created topic. So, the producers might fail with the error ```Failed to update metadata after 60000 ms.``` To get around this create kafka manually using kafka command line options. \r\n\r\n 4. Listener configuration of server.properties not working.\r\n \r\nYou can try this as well\r\n\r\n - change the &quot;bootstrap.servers&quot; property or the --broker-list option to 0.0.0.0:9092\r\n\r\n - change the server.properties in 2 properties\r\n    * listeners = PLAINTEXT://your.host.name:9092 to listeners=PLAINTEXT://:9092\r\n    * advertised.listeners=PLAINTEXT://your.host.name:9092 to advertised.listeners=PLAINTEXT://localhost:9092\r\n\r\nHope that helps!\r\n ","title":"TimeoutException thrown when sending to topic","body":"<p>There are few possibility for this type of error. </p>\n\n<ol>\n<li>Kafka broker is not reachable using configured port.\n\n<ul>\n<li>For this try to telnet using <code>telnet localhost 9092</code> if you are getting output that means kafka borker is running</li>\n</ul></li>\n<li><p>Check kafka-client version that spring-boot uses is the same as your kafka version. If the version mismatch, kafka may ne able to send data to topic</p></li>\n<li><p>Sometimes it take time for the brokers to know about the newly created topic. So, the producers might fail with the error <code>Failed to update metadata after 60000 ms.</code> To get around this create kafka manually using kafka command line options. </p></li>\n<li><p>Listener configuration of server.properties not working.</p></li>\n</ol>\n\n<p>You can try this as well</p>\n\n<ul>\n<li><p>change the \"bootstrap.servers\" property or the --broker-list option to 0.0.0.0:9092</p></li>\n<li><p>change the server.properties in 2 properties</p>\n\n<ul>\n<li>listeners = PLAINTEXT://your.host.name:9092 to listeners=PLAINTEXT://:9092</li>\n<li>advertised.listeners=PLAINTEXT://your.host.name:9092 to advertised.listeners=PLAINTEXT://localhost:9092</li>\n</ul></li>\n</ul>\n\n<p>Hope that helps!</p>\n"}],"owner":{"account_id":4239064,"reputation":10026,"user_id":3469489,"accept_rate":43,"display_name":"Shaaban Ebrahim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9782,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1699952535,"creation_date":1513755296,"question_id":47900942,"body_markdown":"\r\ni have made sender class using kafkatemplate bean to send payload to topic \r\nwith some configuration in SenderConfiguration class .\r\n\r\n**Sender** Class \r\n\r\n    @Component\r\n    public class Sender {\r\n\t\tprivate static final Logger LOGGER = (Logger)  LoggerFactory.getLogger(Sender.class);\r\n\r\n\t\t@Autowired\r\n\t\tprivate KafkaTemplate&lt;String, String&gt;   kafkaTemplate;\r\n\r\n\t\tpublic void send(String topic, String payload) {\r\n\t\t\tLOGGER.info(&quot;sending payload=&#39;{}&#39; to topic=&#39;{}&#39;&quot;, payload, topic);\r\n\r\n\t\t\tkafkaTemplate.send(topic, &quot;1&quot;, payload);\r\n\t\t}\r\n\t}\r\n\r\n, **senderConfiguration**  class \r\n\r\n    @Configuration\r\n    public class SenderConfig {\r\n\r\n\t\t@Value(&quot;${kafka.bootstrap-servers}&quot;)\r\n\t\tprivate String bootstrapServers;\r\n\r\n\t\t@Bean\r\n\t\tpublic Map&lt;String, Object&gt; producerConfigs() {\r\n\t\t\tMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n\t\t\t// list of host:port pairs used for establishing the initial connections to the Kakfa cluster\r\n\t\t\tprops.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n\t\t\tprops.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n\t\t\tprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n\r\n\t\t\treturn props;\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic ProducerFactory&lt;String, String&gt; producerFactory() {\r\n\t\t\treturn new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n\t\t\treturn new KafkaTemplate&lt;&gt;(producerFactory());\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic Sender sender() {\r\n\t\t\treturn new Sender();\r\n\t\t}\r\n\t}\r\n\r\n\r\nthe problem is in sending not in producing \r\n\r\nhere the application.yml file properties \r\n\r\n    kafka:\r\n       bootstrap-servers: localhost:9092\r\n    topic:\r\n       helloworld: helloworld.t\r\n\r\n\r\nand simply controller containing \r\n\r\n    @RestController\r\n    public class Controller {\r\n\t\tprotected final static String HELLOWORLD_TOPIC = &quot;helloworld.t&quot;;\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate Sender sender;\r\n    \r\n\t\t@RequestMapping(&quot;/send&quot;)\r\n\t\tpublic String SendMessage() {\r\n\r\n\t\t\tsender.send(HELLOWORLD_TOPIC, &quot;message&quot;);\r\n\r\n\t\t\treturn &quot;success&quot;;\r\n\t\t}\r\n    }\r\n\r\n\r\n\r\nand the exception is \r\n\r\n    2017-12-20 09:58:04.645  INFO 10816 --- [nio-7060-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka version : 0.10.1.1\r\n    2017-12-20 09:58:04.645  INFO 10816 --- [nio-7060-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId : f10ef2720b03b247\r\n    2017-12-20 09:59:04.654 ERROR 10816 --- [nio-7060-exec-1] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a      message with key=&#39;1&#39; and payload=&#39;message&#39; to topic helloworld.t:\r\n\r\n    org.apache.kafka.common.errors.TimeoutException: Failed to update   metadata after 60000 ms.","title":"TimeoutException thrown when sending to topic","body":"<p>i have made sender class using kafkatemplate bean to send payload to topic \nwith some configuration in SenderConfiguration class .</p>\n\n<p><strong>Sender</strong> Class </p>\n\n<pre><code>@Component\npublic class Sender {\n    private static final Logger LOGGER = (Logger)  LoggerFactory.getLogger(Sender.class);\n\n    @Autowired\n    private KafkaTemplate&lt;String, String&gt;   kafkaTemplate;\n\n    public void send(String topic, String payload) {\n        LOGGER.info(\"sending payload='{}' to topic='{}'\", payload, topic);\n\n        kafkaTemplate.send(topic, \"1\", payload);\n    }\n}\n</code></pre>\n\n<p>, <strong>senderConfiguration</strong>  class </p>\n\n<pre><code>@Configuration\npublic class SenderConfig {\n\n    @Value(\"${kafka.bootstrap-servers}\")\n    private String bootstrapServers;\n\n    @Bean\n    public Map&lt;String, Object&gt; producerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        // list of host:port pairs used for establishing the initial connections to the Kakfa cluster\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n\n        return props;\n    }\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n\n    @Bean\n    public Sender sender() {\n        return new Sender();\n    }\n}\n</code></pre>\n\n<p>the problem is in sending not in producing </p>\n\n<p>here the application.yml file properties </p>\n\n<pre><code>kafka:\n   bootstrap-servers: localhost:9092\ntopic:\n   helloworld: helloworld.t\n</code></pre>\n\n<p>and simply controller containing </p>\n\n<pre><code>@RestController\npublic class Controller {\n    protected final static String HELLOWORLD_TOPIC = \"helloworld.t\";\n\n    @Autowired\n    private Sender sender;\n\n    @RequestMapping(\"/send\")\n    public String SendMessage() {\n\n        sender.send(HELLOWORLD_TOPIC, \"message\");\n\n        return \"success\";\n    }\n}\n</code></pre>\n\n<p>and the exception is </p>\n\n<pre><code>2017-12-20 09:58:04.645  INFO 10816 --- [nio-7060-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka version : 0.10.1.1\n2017-12-20 09:58:04.645  INFO 10816 --- [nio-7060-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId : f10ef2720b03b247\n2017-12-20 09:59:04.654 ERROR 10816 --- [nio-7060-exec-1] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a      message with key='1' and payload='message' to topic helloworld.t:\n\norg.apache.kafka.common.errors.TimeoutException: Failed to update   metadata after 60000 ms.\n</code></pre>\n"},{"tags":["java","c","sdk","java-native-interface","jna"],"answers":[{"comments":[{"owner":{"account_id":18230880,"reputation":37,"user_id":13269835,"display_name":"Silvia Francia"},"score":0,"creation_date":1699952400,"post_id":77476920,"comment_id":136592070,"body_markdown":"Hi! I added a specification, if you need more I will try to add it, but is very difficult because there is a lot of code XD.\nFor you point 1. I will try to specify a type of pfnComplete, but is a null value, so I don&#39;t know if it&#39;s important","body":"Hi! I added a specification, if you need more I will try to add it, but is very difficult because there is a lot of code XD. For you point 1. I will try to specify a type of pfnComplete, but is a null value, so I don&#39;t know if it&#39;s important"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1699979971,"post_id":77476920,"comment_id":136597459,"body_markdown":"@SilviaFrancia It&#39;s probably a pointer but JNA/Native needs to know that it&#39;s 8 bytes of 0&#39;s.","body":"@SilviaFrancia It&#39;s probably a pointer but JNA/Native needs to know that it&#39;s 8 bytes of 0&#39;s."}],"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699910041,"creation_date":1699910041,"answer_id":77476920,"question_id":77475253,"body_markdown":"I see three possible problems:\r\n\r\n1. JNA needs enough type information to be able to allocate the correct number of bytes in structures (for memory allocation) or method/function signatures (for the stack).  \r\n\r\n    Your use of `Object` to map the 6th argument in `MAIDEntryPoint()` is most certainly wrong.  JNA has no way to know how many bytes that takes. Since that argument is actually `LPNKFUNC pfnComplete` it looks like a `Pointer` would be the correct mapping for it.\r\n\r\n2. Another possibility is if you&#39;ve incorrectly mapped (or allocated) the `NkMAIDObject` type that is the first argument to `MAIDEntryPoint()`.  You haven&#39;t shown us the mapping, but it could very well be an incorrect allocation.\r\n\r\n3. Finally you indicate the native allocation is done with ` malloc(stEnum.ulElements * stEnum.wPhysicalBytes)` and state \r\n&gt; the parameters `nkMAIDEnum.ulElements` and `nkMAIDEnum.wPhysicalBytes` are number not equals to 0 or null.\r\n\r\n - However, you don&#39;t show where these are assigned.  You simply define a new structure with `new NkMAIDEnum()` and do not assign any values to `.ulElements` or `.wPhysicalBytes` so they are, in fact, initialized to zero.  (Unless you have code you aren&#39;t showing us.)","title":"SDK Nikon C with JNA","body":"<p>I see three possible problems:</p>\n<ol>\n<li><p>JNA needs enough type information to be able to allocate the correct number of bytes in structures (for memory allocation) or method/function signatures (for the stack).</p>\n<p>Your use of <code>Object</code> to map the 6th argument in <code>MAIDEntryPoint()</code> is most certainly wrong.  JNA has no way to know how many bytes that takes. Since that argument is actually <code>LPNKFUNC pfnComplete</code> it looks like a <code>Pointer</code> would be the correct mapping for it.</p>\n</li>\n<li><p>Another possibility is if you've incorrectly mapped (or allocated) the <code>NkMAIDObject</code> type that is the first argument to <code>MAIDEntryPoint()</code>.  You haven't shown us the mapping, but it could very well be an incorrect allocation.</p>\n</li>\n<li><p>Finally you indicate the native allocation is done with <code> malloc(stEnum.ulElements * stEnum.wPhysicalBytes)</code> and state</p>\n</li>\n</ol>\n<blockquote>\n<p>the parameters <code>nkMAIDEnum.ulElements</code> and <code>nkMAIDEnum.wPhysicalBytes</code> are number not equals to 0 or null.</p>\n</blockquote>\n<ul>\n<li>However, you don't show where these are assigned.  You simply define a new structure with <code>new NkMAIDEnum()</code> and do not assign any values to <code>.ulElements</code> or <code>.wPhysicalBytes</code> so they are, in fact, initialized to zero.  (Unless you have code you aren't showing us.)</li>\n</ul>\n"}],"owner":{"account_id":18230880,"reputation":37,"user_id":13269835,"display_name":"Silvia Francia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1699952326,"creation_date":1699891734,"question_id":77475253,"body_markdown":"I&#39;m working on a wrap between a Nikon SDK written in C and a Java program with JNA libruary.\r\n\r\nAll the process ended in a EntryPoint (MAIDEntryPoint) that is inside a dll.\r\nThe signature of this EntryPoint in C is:\r\n\r\n\r\n```\r\nSLONG CallMAIDEntryPoint( \r\n\tLPNkMAIDObject\tpObject,\t// module, source, item, or data object\r\n\tULONG\t\tulCommand,\t// Command, one of eNkMAIDCommand\r\n\tULONG\t\tulParam,        // parameter for the command\r\n\tULONG\t\tulDataType,\t// Data type, one of eNkMAIDDataType\r\n\tNKPARAM\t        data,           // Pointer or long integer\r\n\tLPNKFUNC\tpfnComplete,\t// Completion function, may be NULL\r\n\tNKREF\t\trefComplete )\t// Value passed to pfnComplete\r\n```\r\n\r\nThe `LPNkMAIDObject\tpObject` is a struct defined in C as:\r\n```\r\ntypedef struct tagNkMAIDObject\r\n{\r\n\tULONG\tulType;\t\t\t// One of eNkMAIDObjectType\r\n\tULONG\tulID;\r\n\tNKREF\trefClient;\r\n\tNKREF\trefModule;\r\n} NkMAIDObject, FAR* LPNkMAIDObject;\r\n```\r\n\r\n\r\nthe value I&#39;m interesting on is the `NKPARAM data` that is this next struct:\r\n\r\n\r\n```\r\n//stEnum Struct\r\n\r\ntypedef struct tagNkMAIDEnum\r\n{\r\n\tULONG\t\tulType;\t\t\t// one of eNkMAIDArrayType\r\n\tULONG\t\tulElements;\t\t// total number of elements\r\n\tULONG\t\tulValue;\t\t// current index\r\n\tULONG\t\tulDefault;\t\t// default index\r\n\tSWORD\t\twPhysicalBytes;\t        // bytes per element\r\n\tLPVOID\tpData;\t\t\t\t// allocated by the client\r\n} NkMAIDEnum, FAR* LPNkMAIDEnum;\r\n```\r\n\r\nand the scope of the EntryPoint is to populate the argument `LPVOID pData`.\r\nThe `pData` argument is a pointer that is allocate in this way:\r\n\r\n```\r\nNkMAIDEnum stEnum;\r\nstEnum.pData = malloc(stEnum.ulElements * stEnum.wPhysicalBytes);\r\n```\r\n\r\nwhat I done is to &quot;translate&quot; whit jna the struct and the EntryPoint, that are this:\r\n\r\n\r\n```\r\n//EntryPoint\r\nint MAIDEntryPoint(NkMAIDObject pObject,\r\n                   int kNkMAIDCommand_capGetArray,\r\n                   int ulCapID,\r\n                   int kNkMAIDDataType_enumPtr,\r\n                   NkMAIDEnum nkMAIDEnum,\r\n                   Object o,\r\n                   int i);\r\n```\r\n\r\nAnd the Struct will be defined as a Java Class:\r\n\r\n```\r\n@Structure.FieldOrder({&quot;ulType&quot;,&quot;ulID&quot;,&quot;refClient&quot;,&quot;refModule&quot;})\r\npublic class NkMAIDObject extends Structure {\r\n\r\n    public NativeLong ulType;   // One of eNkMAIDObjectType\r\n    public NativeLong ulID;\r\n    public TagRefObj.ByReference refClient;\r\n    //public Pointer refClient;\r\n    public Pointer refModule;\r\n}\r\n```\r\n\r\n```\r\n@Structure.FieldOrder({&quot;ulType&quot;, &quot;ulElements&quot;, &quot;ulValue&quot;, &quot;ulDefault&quot;, &quot;wPhysicalBytes&quot;, &quot;pData&quot;})\r\npublic class NkMAIDEnum extends Structure {\r\n    public NativeLong ulType;\r\n    public NativeLong ulElements;\r\n    public NativeLong ulValue;\r\n    public NativeLong ulDefault;\r\n    public short wPhysicalBytes;\r\n    public Pointer pData;\r\n}\r\n```\r\n\r\nAt this point I initializa the `Pointer pData` as:\r\n\r\n\r\n```\r\nNkMAIDEnum nkMAIDEnum = new NkMAIDEnum ();\r\nnkMAIDEnum.pData = new Memory(nkMAIDEnum.ulElements.longValue()*nkMAIDEnum.wPhysicalBytes);\r\n\r\nnResult = INSTANCE.MAIDEntryPoint(\r\n                   pRefMod.pObject,                \r\n                   kNkMAIDCommand_CapGetArray,     \r\n                   ulCapID,                        \r\n                   kNkMAIDDataType_EnumPtr,        \r\n                   nkMAIDEnum,                     \r\n                   null,\r\n                   0);\r\n```\r\n\r\nAnd then pass it to the EntryPoint, but I receive an Invalid Access Memory .\r\nI think the problem is how to initialize the pData in the Java-JNA part or also what kind of data should be the pData in the class NkMAIDEnum \r\n\r\nFor instance, I don&#39;t care about the other EntryPoint&#39;s parameter because they&#39;re right, and alto the parameters `nkMAIDEnum.ulElements` and `nkMAIDEnum.wPhysicalBytes` are number not equals to 0 or null, they are respectively `nkMAIDEnum.ulElements = 1` and `nkMAIDEnum.wPhysicalBytes =  4` they are initialize in a previously EntryPoint, that is exactly the same as the one written here but instade of initialize the `pData`, it initialize the `nkMAIDEnum.ulElements` and `nkMAIDEnum.wPhysicalBytes`.\r\n\r\nPlease help me to understan where I&#39;m wrong, I&#39;m stuck","title":"SDK Nikon C with JNA","body":"<p>I'm working on a wrap between a Nikon SDK written in C and a Java program with JNA libruary.</p>\n<p>All the process ended in a EntryPoint (MAIDEntryPoint) that is inside a dll.\nThe signature of this EntryPoint in C is:</p>\n<pre><code>SLONG CallMAIDEntryPoint( \n    LPNkMAIDObject  pObject,    // module, source, item, or data object\n    ULONG       ulCommand,  // Command, one of eNkMAIDCommand\n    ULONG       ulParam,        // parameter for the command\n    ULONG       ulDataType, // Data type, one of eNkMAIDDataType\n    NKPARAM         data,           // Pointer or long integer\n    LPNKFUNC    pfnComplete,    // Completion function, may be NULL\n    NKREF       refComplete )   // Value passed to pfnComplete\n</code></pre>\n<p>The <code>LPNkMAIDObject pObject</code> is a struct defined in C as:</p>\n<pre><code>typedef struct tagNkMAIDObject\n{\n    ULONG   ulType;         // One of eNkMAIDObjectType\n    ULONG   ulID;\n    NKREF   refClient;\n    NKREF   refModule;\n} NkMAIDObject, FAR* LPNkMAIDObject;\n</code></pre>\n<p>the value I'm interesting on is the <code>NKPARAM data</code> that is this next struct:</p>\n<pre><code>//stEnum Struct\n\ntypedef struct tagNkMAIDEnum\n{\n    ULONG       ulType;         // one of eNkMAIDArrayType\n    ULONG       ulElements;     // total number of elements\n    ULONG       ulValue;        // current index\n    ULONG       ulDefault;      // default index\n    SWORD       wPhysicalBytes;         // bytes per element\n    LPVOID  pData;              // allocated by the client\n} NkMAIDEnum, FAR* LPNkMAIDEnum;\n</code></pre>\n<p>and the scope of the EntryPoint is to populate the argument <code>LPVOID pData</code>.\nThe <code>pData</code> argument is a pointer that is allocate in this way:</p>\n<pre><code>NkMAIDEnum stEnum;\nstEnum.pData = malloc(stEnum.ulElements * stEnum.wPhysicalBytes);\n</code></pre>\n<p>what I done is to &quot;translate&quot; whit jna the struct and the EntryPoint, that are this:</p>\n<pre><code>//EntryPoint\nint MAIDEntryPoint(NkMAIDObject pObject,\n                   int kNkMAIDCommand_capGetArray,\n                   int ulCapID,\n                   int kNkMAIDDataType_enumPtr,\n                   NkMAIDEnum nkMAIDEnum,\n                   Object o,\n                   int i);\n</code></pre>\n<p>And the Struct will be defined as a Java Class:</p>\n<pre><code>@Structure.FieldOrder({&quot;ulType&quot;,&quot;ulID&quot;,&quot;refClient&quot;,&quot;refModule&quot;})\npublic class NkMAIDObject extends Structure {\n\n    public NativeLong ulType;   // One of eNkMAIDObjectType\n    public NativeLong ulID;\n    public TagRefObj.ByReference refClient;\n    //public Pointer refClient;\n    public Pointer refModule;\n}\n</code></pre>\n<pre><code>@Structure.FieldOrder({&quot;ulType&quot;, &quot;ulElements&quot;, &quot;ulValue&quot;, &quot;ulDefault&quot;, &quot;wPhysicalBytes&quot;, &quot;pData&quot;})\npublic class NkMAIDEnum extends Structure {\n    public NativeLong ulType;\n    public NativeLong ulElements;\n    public NativeLong ulValue;\n    public NativeLong ulDefault;\n    public short wPhysicalBytes;\n    public Pointer pData;\n}\n</code></pre>\n<p>At this point I initializa the <code>Pointer pData</code> as:</p>\n<pre><code>NkMAIDEnum nkMAIDEnum = new NkMAIDEnum ();\nnkMAIDEnum.pData = new Memory(nkMAIDEnum.ulElements.longValue()*nkMAIDEnum.wPhysicalBytes);\n\nnResult = INSTANCE.MAIDEntryPoint(\n                   pRefMod.pObject,                \n                   kNkMAIDCommand_CapGetArray,     \n                   ulCapID,                        \n                   kNkMAIDDataType_EnumPtr,        \n                   nkMAIDEnum,                     \n                   null,\n                   0);\n</code></pre>\n<p>And then pass it to the EntryPoint, but I receive an Invalid Access Memory .\nI think the problem is how to initialize the pData in the Java-JNA part or also what kind of data should be the pData in the class NkMAIDEnum</p>\n<p>For instance, I don't care about the other EntryPoint's parameter because they're right, and alto the parameters <code>nkMAIDEnum.ulElements</code> and <code>nkMAIDEnum.wPhysicalBytes</code> are number not equals to 0 or null, they are respectively <code>nkMAIDEnum.ulElements = 1</code> and <code>nkMAIDEnum.wPhysicalBytes =  4</code> they are initialize in a previously EntryPoint, that is exactly the same as the one written here but instade of initialize the <code>pData</code>, it initialize the <code>nkMAIDEnum.ulElements</code> and <code>nkMAIDEnum.wPhysicalBytes</code>.</p>\n<p>Please help me to understan where I'm wrong, I'm stuck</p>\n"},{"tags":["java","spring-boot","stripe-payments","payment-method"],"comments":[{"owner":{"account_id":25111109,"reputation":1244,"user_id":18960736,"display_name":"yuting"},"score":0,"creation_date":1699946323,"post_id":77478566,"comment_id":136591209,"body_markdown":"As part of PCI compliance, your system is only allowed to pass raw card details if you complete [SAQ-D](https://stripe.com/docs/security/guide#validating-pci-compliance). If you don&#39;t, I&#39;d recommend using stripe.js to collect the payment method details using Payment Element with the guide [here](https://stripe.com/docs/payments/save-and-reuse?platform=web&amp;ui=elements). Setup Intent flow will create a payment method and attach to an existing customer.","body":"As part of PCI compliance, your system is only allowed to pass raw card details if you complete <a href=\"https://stripe.com/docs/security/guide#validating-pci-compliance\" rel=\"nofollow noreferrer\">SAQ-D</a>. If you don&#39;t, I&#39;d recommend using stripe.js to collect the payment method details using Payment Element with the guide <a href=\"https://stripe.com/docs/payments/save-and-reuse?platform=web&amp;ui=elements\" rel=\"nofollow noreferrer\">here</a>. Setup Intent flow will create a payment method and attach to an existing customer."},{"owner":{"account_id":13927974,"reputation":13,"user_id":10056787,"display_name":"Neel Mani"},"score":0,"creation_date":1699961131,"post_id":77478566,"comment_id":136593567,"body_markdown":"thanks. But do you meant that first collect the payment method details using Payment Element from front end and then in the server side create setup intent flow.\nOR both are separate paths.?","body":"thanks. But do you meant that first collect the payment method details using Payment Element from front end and then in the server side create setup intent flow. OR both are separate paths.?"}],"answers":[{"comments":[{"owner":{"account_id":13927974,"reputation":13,"user_id":10056787,"display_name":"Neel Mani"},"score":0,"creation_date":1699960880,"post_id":77479268,"comment_id":136593503,"body_markdown":"Thanks for the answer. This was helpful. but I still have questions. Going through the Setup Intent docs, what I understood was, create checkout session--&gt; retrieve session --&gt;retrieve setup intent  --&gt; retrieve payment method.    now you can attach this payment method with existing customer or might choose to create session providing customer id in the beginning itself.\n\nBut I didn&#39;t find any place where Card Details or any such information is being taken.. I mean payment method is generated but there is no information recorded about how payment will be done...","body":"Thanks for the answer. This was helpful. but I still have questions. Going through the Setup Intent docs, what I understood was, create checkout session--&gt; retrieve session --&gt;retrieve setup intent  --&gt; retrieve payment method.    now you can attach this payment method with existing customer or might choose to create session providing customer id in the beginning itself.  But I didn&#39;t find any place where Card Details or any such information is being taken.. I mean payment method is generated but there is no information recorded about how payment will be done..."},{"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"score":0,"creation_date":1699961312,"post_id":77479268,"comment_id":136593609,"body_markdown":"The Stripe Checkout integration is a Stripe-hosted page you redirect the customer to, where they complete the form and save their card.\nIf you&#39;re using Elements, you would load the payment method fields yourself on your page: https://stripe.com/docs/payments/save-and-reuse?platform=web&amp;ui=elements Regarding the payment you&#39;re mentioning, charging the card later is documented here, as it&#39;s not intended to be performed with Stripe Checkout (though you could, it just defeats the purpose): https://stripe.com/docs/payments/save-and-reuse?platform=web&amp;ui=elements#charge-saved-payment-method","body":"The Stripe Checkout integration is a Stripe-hosted page you redirect the customer to, where they complete the form and save their card. If you&#39;re using Elements, you would load the payment method fields yourself on your page: <a href=\"https://stripe.com/docs/payments/save-and-reuse?platform=web&amp;ui=elements\" rel=\"nofollow noreferrer\">stripe.com/docs/payments/&hellip;</a> Regarding the payment you&#39;re mentioning, charging the card later is documented here, as it&#39;s not intended to be performed with Stripe Checkout (though you could, it just defeats the purpose): <a href=\"https://stripe.com/docs/payments/save-and-reuse?platform=web&amp;ui=elements#charge-saved-payment-method\" rel=\"nofollow noreferrer\">stripe.com/docs/payments/&hellip;</a>"}],"tags":[],"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699951946,"creation_date":1699951946,"answer_id":77479268,"question_id":77478566,"body_markdown":"&gt;My Question here is that after getting the token from client how do i create a payment method out of it and attach it to an existing customer.\r\n\r\nI don&#39;t really understand the question, the token and the payment method aren&#39;t different objects here really, but I understand the confusion.\r\n\r\nIt&#39;s worth mentioning that Stripe does have a function you can call on the frontend to [create a Payment Method][1].  \r\nNow, if I recall correctly, you still can&#39;t hardcode the card details with it, it will ask you to use Elements instead, but it&#39;s not really relevant because this function is really not used beyond very specific [use-cases][2].\r\n\r\nThe reason why is that collecting a payment method isn&#39;t just about collecting the card details, you also need to perform additional steps (i.e. authentication) to authorize your application to charge the saved card later. This is something that this function doesn&#39;t do, hence why it shouldn&#39;t be used unless you have some logic to perform these actions later.\r\n\r\nIf you want to collect payment methods for future use and the above documentation isn&#39;t relevant, then you have two options:  \r\n-Save the payment method without a payment - using a [Setup Intent][3].  \r\nThis would automatically create a payment method for you when it&#39;s successfully confirmed. If you add a `customer` to it, it would automatically attach it to them as well.\r\n\r\n-Save the payment method with a payment - using a [Payment Intent][4].  \r\nSame logic applies here, except there&#39;s a charge in the flow as well.\r\n\r\nThese are the methods you should use, rather than creating Payment Methods, as they&#39;ll automatically perform any additional steps required to allow you to use the payment method later.\r\n\r\n\r\n  [1]: https://stripe.com/docs/js/payment_methods/create_payment_method\r\n  [2]: https://stripe.com/docs/payments/build-a-two-step-confirmation#create-pm\r\n  [3]: https://stripe.com/docs/payments/save-and-reuse\r\n  [4]: https://stripe.com/docs/payments/save-during-payment","title":"Create a payment method in stripe","body":"<blockquote>\n<p>My Question here is that after getting the token from client how do i create a payment method out of it and attach it to an existing customer.</p>\n</blockquote>\n<p>I don't really understand the question, the token and the payment method aren't different objects here really, but I understand the confusion.</p>\n<p>It's worth mentioning that Stripe does have a function you can call on the frontend to <a href=\"https://stripe.com/docs/js/payment_methods/create_payment_method\" rel=\"nofollow noreferrer\">create a Payment Method</a>.<br />\nNow, if I recall correctly, you still can't hardcode the card details with it, it will ask you to use Elements instead, but it's not really relevant because this function is really not used beyond very specific <a href=\"https://stripe.com/docs/payments/build-a-two-step-confirmation#create-pm\" rel=\"nofollow noreferrer\">use-cases</a>.</p>\n<p>The reason why is that collecting a payment method isn't just about collecting the card details, you also need to perform additional steps (i.e. authentication) to authorize your application to charge the saved card later. This is something that this function doesn't do, hence why it shouldn't be used unless you have some logic to perform these actions later.</p>\n<p>If you want to collect payment methods for future use and the above documentation isn't relevant, then you have two options:<br />\n-Save the payment method without a payment - using a <a href=\"https://stripe.com/docs/payments/save-and-reuse\" rel=\"nofollow noreferrer\">Setup Intent</a>.<br />\nThis would automatically create a payment method for you when it's successfully confirmed. If you add a <code>customer</code> to it, it would automatically attach it to them as well.</p>\n<p>-Save the payment method with a payment - using a <a href=\"https://stripe.com/docs/payments/save-during-payment\" rel=\"nofollow noreferrer\">Payment Intent</a>.<br />\nSame logic applies here, except there's a charge in the flow as well.</p>\n<p>These are the methods you should use, rather than creating Payment Methods, as they'll automatically perform any additional steps required to allow you to use the payment method later.</p>\n"}],"owner":{"account_id":13927974,"reputation":13,"user_id":10056787,"display_name":"Neel Mani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77479268,"answer_count":1,"score":0,"last_activity_date":1699951946,"creation_date":1699943601,"question_id":77478566,"body_markdown":"I wish to create a payment method in stripe and attach it to a existing customer using java -spring boot.\r\nThe  [stripe docs](https://stripe.com/docs/api/payment_methods/create?shell=true&amp;api=true&amp;resource=payment_methods&amp;action=create)\r\n\r\nshares an example code for creating a payment method using a card. \r\nThe code is \r\n```\r\n\r\nPaymentMethodCreateParams params =\r\n  PaymentMethodCreateParams.builder()\r\n    .setType(PaymentMethodCreateParams.Type.CARD)\r\n    .setCard(\r\n      PaymentMethodCreateParams.Card.builder()\r\n        .setNumber(&quot;4242424242424242&quot;)\r\n        .setExpMonth(8L)\r\n        .setExpYear(2026L)\r\n        .setCvc(&quot;314&quot;)\r\n        .build()\r\n    )\r\n    .build();\r\nPaymentMethod paymentMethod = PaymentMethod.create(params);\r\n```\r\nBut upon running this code, we get response \r\n\r\n\r\n```\r\n{\r\n  &quot;error&quot;: {\r\n    &quot;message&quot;: &quot;Sending credit card numbers directly to the Stripe API is generally unsafe. We suggest you use test tokens that map to the test card you are using, see https://stripe.com/docs/testing. To enable raw card data APIs in test mode, see https://support.stripe.com/questions/enabling-access-to-raw-card-data-apis.&quot;,\r\n    &quot;request_log_url&quot;: &quot;https://dashboard.stripe.com/test/logs/req_9c6QitRqUgqM1i?t=1699942446&quot;,\r\n    &quot;type&quot;: &quot;invalid_request_error&quot;\r\n  }\r\n}\r\n```\r\n\r\n\r\nUpon reading further i understood that **we need to accept card details in front-end using stripe.js and get a card token which we will pass to server side**.\r\n\r\n**My Question here is that after getting the token from client how do i create a payment method out of it and attach it to an existing customer.**\r\nAny help in this direction would be greatly appreciated.\r\n","title":"Create a payment method in stripe","body":"<p>I wish to create a payment method in stripe and attach it to a existing customer using java -spring boot.\nThe  <a href=\"https://stripe.com/docs/api/payment_methods/create?shell=true&amp;api=true&amp;resource=payment_methods&amp;action=create\" rel=\"nofollow noreferrer\">stripe docs</a></p>\n<p>shares an example code for creating a payment method using a card.\nThe code is</p>\n<pre><code>\nPaymentMethodCreateParams params =\n  PaymentMethodCreateParams.builder()\n    .setType(PaymentMethodCreateParams.Type.CARD)\n    .setCard(\n      PaymentMethodCreateParams.Card.builder()\n        .setNumber(&quot;4242424242424242&quot;)\n        .setExpMonth(8L)\n        .setExpYear(2026L)\n        .setCvc(&quot;314&quot;)\n        .build()\n    )\n    .build();\nPaymentMethod paymentMethod = PaymentMethod.create(params);\n</code></pre>\n<p>But upon running this code, we get response</p>\n<pre><code>{\n  &quot;error&quot;: {\n    &quot;message&quot;: &quot;Sending credit card numbers directly to the Stripe API is generally unsafe. We suggest you use test tokens that map to the test card you are using, see https://stripe.com/docs/testing. To enable raw card data APIs in test mode, see https://support.stripe.com/questions/enabling-access-to-raw-card-data-apis.&quot;,\n    &quot;request_log_url&quot;: &quot;https://dashboard.stripe.com/test/logs/req_9c6QitRqUgqM1i?t=1699942446&quot;,\n    &quot;type&quot;: &quot;invalid_request_error&quot;\n  }\n}\n</code></pre>\n<p>Upon reading further i understood that <strong>we need to accept card details in front-end using stripe.js and get a card token which we will pass to server side</strong>.</p>\n<p><strong>My Question here is that after getting the token from client how do i create a payment method out of it and attach it to an existing customer.</strong>\nAny help in this direction would be greatly appreciated.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","enums"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1699943547,"post_id":77478432,"comment_id":136590880,"body_markdown":"You can’t use the enum in a native query. Try to use jpql or the name of the enum as string.","body":"You can’t use the enum in a native query. Try to use jpql or the name of the enum as string."},{"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"score":0,"creation_date":1699944088,"post_id":77478432,"comment_id":136590953,"body_markdown":"@Jens how and what changes are required can you please highlight","body":"@Jens how and what changes are required can you please highlight"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1699949864,"post_id":77478432,"comment_id":136591669,"body_markdown":"Remove native=true","body":"Remove native=true"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1699950051,"post_id":77478432,"comment_id":136591702,"body_markdown":"BTW: I would always recommend to not use native queries in spring environment.","body":"BTW: I would always recommend to not use native queries in spring environment."}],"answers":[{"tags":[],"owner":{"account_id":26998458,"reputation":36,"user_id":20560140,"display_name":"JeslynTan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699944626,"creation_date":1699944626,"answer_id":77478634,"question_id":77478432,"body_markdown":"Maybe try this on the @Query\r\n\r\n    o.patientType=:#{#patientType?.code()}\r\n\r\ninstead of o.patientType = :patientType\r\n\r\nReference: https://stackoverflow.com/questions/44460394/can-i-use-enum-parameter-into-jparepository-nativequery","title":"Enum value giving jdbcMapping error while using query in springboot","body":"<p>Maybe try this on the @Query</p>\n<pre><code>o.patientType=:#{#patientType?.code()}\n</code></pre>\n<p>instead of o.patientType = :patientType</p>\n<p>Reference: <a href=\"https://stackoverflow.com/questions/44460394/can-i-use-enum-parameter-into-jparepository-nativequery\">Can I use enum parameter into JpaRepository nativeQuery?</a></p>\n"}],"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77478634,"answer_count":1,"score":-1,"last_activity_date":1699951553,"creation_date":1699941507,"question_id":77478432,"body_markdown":"My requirement is to find entry by patientId, patientType and DeletedAt, DeletedBy, DeletedByUserType these three should be null \r\n\r\nI used this query but it is not able to map patientType which is a ENUM\r\n\r\nError\r\n```\r\n&quot;An error occurred during data insertion in An error occurred during data insertion in Cannot invoke \\&quot;org.hibernate.metamodel.mapping.JdbcMapping.getJdbcValueBinder()\\&quot; because \\&quot;jdbcMapping\\&quot; is null&quot;\r\n```\r\n\r\nQuery  \r\n```\r\n @Transactional\r\n @Query(value=&quot;SELECT * FROM tb_patient o WHERE o.patientId = :patientId AND o.patientType = :patientType AND o.deletedAt Is Null AND o.deletedBy Is Null AND o.deletedByUserType Is Null &quot;, nativeQuery = true)\r\n\r\n    List&lt;PatientInsurance&gt; findCustomQuery(@Param(&quot;patientId&quot;)String patientId, @Param(&quot;patientType&quot;)PatientTypeEnum patientType);\r\n    \r\n```\r\n\r\nEnum Class\r\n```\r\npublic enum PatientTypeEnum {\r\n    OPG(&quot;OPG&quot;),\r\n    OTS(&quot;OTS&quot;);\r\n    private final String code;\r\n\r\n    PatientTypeEnum(String code) {\r\n        this.code = code;\r\n    }\r\n    public String getCode() {\r\n        return code;\r\n    }\r\n}\r\n\r\n```\r\n\r\nEntity Class\r\n```\r\nprivate class InsuranceEntity{\r\n   @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;patientType&quot;, length = 3, nullable = false)\r\n    private PatientTypeEnum patientType;\r\n}\r\n```\r\n","title":"Enum value giving jdbcMapping error while using query in springboot","body":"<p>My requirement is to find entry by patientId, patientType and DeletedAt, DeletedBy, DeletedByUserType these three should be null</p>\n<p>I used this query but it is not able to map patientType which is a ENUM</p>\n<p>Error</p>\n<pre><code>&quot;An error occurred during data insertion in An error occurred during data insertion in Cannot invoke \\&quot;org.hibernate.metamodel.mapping.JdbcMapping.getJdbcValueBinder()\\&quot; because \\&quot;jdbcMapping\\&quot; is null&quot;\n</code></pre>\n<p>Query</p>\n<pre><code> @Transactional\n @Query(value=&quot;SELECT * FROM tb_patient o WHERE o.patientId = :patientId AND o.patientType = :patientType AND o.deletedAt Is Null AND o.deletedBy Is Null AND o.deletedByUserType Is Null &quot;, nativeQuery = true)\n\n    List&lt;PatientInsurance&gt; findCustomQuery(@Param(&quot;patientId&quot;)String patientId, @Param(&quot;patientType&quot;)PatientTypeEnum patientType);\n    \n</code></pre>\n<p>Enum Class</p>\n<pre><code>public enum PatientTypeEnum {\n    OPG(&quot;OPG&quot;),\n    OTS(&quot;OTS&quot;);\n    private final String code;\n\n    PatientTypeEnum(String code) {\n        this.code = code;\n    }\n    public String getCode() {\n        return code;\n    }\n}\n\n</code></pre>\n<p>Entity Class</p>\n<pre><code>private class InsuranceEntity{\n   @Enumerated(EnumType.STRING)\n    @Column(name = &quot;patientType&quot;, length = 3, nullable = false)\n    private PatientTypeEnum patientType;\n}\n</code></pre>\n"},{"tags":["java","itext7"],"answers":[{"comments":[{"owner":{"account_id":25723657,"reputation":17,"user_id":19480325,"display_name":"Szabolcs Fekete"},"score":0,"creation_date":1658244745,"post_id":73039655,"comment_id":129001276,"body_markdown":"I tried to use this one but its doesnt find the path. Is my libary maybe missing some parts?","body":"I tried to use this one but its doesnt find the path. Is my libary maybe missing some parts?"},{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1658253916,"post_id":73039655,"comment_id":129004456,"body_markdown":"Updated the response.","body":"Updated the response."}],"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658254844,"creation_date":1658244290,"answer_id":73039655,"question_id":73039034,"body_markdown":"You&#39;re using the wrong import statement here. Use the following one\r\n\r\n    import com.itextpdf.layout.Document;\r\n\r\nYou&#39;ve only included the `kernel-7.x.x.jar` dependency. `Document` is available in the `layout-7.x.x.jar`. You&#39;ve to include that dependency. If you&#39;ve maven project then you can add all iText7 core dependencies by adding the following dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n      &lt;artifactId&gt;itext7-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${itext.version}&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOtherwise you can add the corresponding jars on the classpath.\t\r\n\r\niText7 core consists of `kernel`, `layout`, `sign` etc. For more details you can see the pom having those dependencies included. ex:\r\n[itext7-core-7.1.10.pom][1] \r\n\r\n\r\n  [1]: https://repo.itextsupport.com/ui/repos/tree/PomView/releases/com/itextpdf/itext7-core/7.1.10/itext7-core-7.1.10.pom","title":"Why I cant use Document class from Itext7 properly?","body":"<p>You're using the wrong import statement here. Use the following one</p>\n<pre><code>import com.itextpdf.layout.Document;\n</code></pre>\n<p>You've only included the <code>kernel-7.x.x.jar</code> dependency. <code>Document</code> is available in the <code>layout-7.x.x.jar</code>. You've to include that dependency. If you've maven project then you can add all iText7 core dependencies by adding the following dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n  &lt;artifactId&gt;itext7-core&lt;/artifactId&gt;\n  &lt;version&gt;${itext.version}&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Otherwise you can add the corresponding jars on the classpath.</p>\n<p>iText7 core consists of <code>kernel</code>, <code>layout</code>, <code>sign</code> etc. For more details you can see the pom having those dependencies included. ex:\n<a href=\"https://repo.itextsupport.com/ui/repos/tree/PomView/releases/com/itextpdf/itext7-core/7.1.10/itext7-core-7.1.10.pom\" rel=\"nofollow noreferrer\">itext7-core-7.1.10.pom</a></p>\n"},{"comments":[{"owner":{"account_id":467551,"reputation":1452,"user_id":873008,"display_name":"Yorb"},"score":2,"creation_date":1699976894,"post_id":77479156,"comment_id":136596745,"body_markdown":"Your answer will be easier to understand with code formatting instead of quotes.","body":"Your answer will be easier to understand with code formatting instead of quotes."}],"tags":[],"owner":{"account_id":24017813,"reputation":1,"user_id":18000550,"display_name":"Clinton nahurira1997"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699950678,"creation_date":1699950678,"answer_id":77479156,"question_id":73039034,"body_markdown":"Keep in mind that Document is a class. After adding the dependency in the pom file and installing it, and also &quot;import com.itextpdf.layout.Document;&quot;\r\nThen change to &quot;Document document = new Document(pdfDocument);&quot;","title":"Why I cant use Document class from Itext7 properly?","body":"<p>Keep in mind that Document is a class. After adding the dependency in the pom file and installing it, and also &quot;import com.itextpdf.layout.Document;&quot;\nThen change to &quot;Document document = new Document(pdfDocument);&quot;</p>\n"}],"owner":{"account_id":25723657,"reputation":17,"user_id":19480325,"display_name":"Szabolcs Fekete"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699950678,"creation_date":1658241908,"question_id":73039034,"body_markdown":"    File file = new File(&quot;D/project&quot;);\r\n    PdfWriter writer = new PdfWriter(file);\r\n    PdfDocument pdfDocument = new PdfDocument(writer);\r\n    Document doc = new Document;\r\n\r\n`Unknown class document`\r\nThe import that it offered is strange as well but I didnt have any other choice:\r\n\r\n    import static com.itextpdf.kernel.pdf.PdfName.Document;\r\n\r\nI tried to re-add the Itext library, even different version but it just don&#39;t want to work for me\r\n","title":"Why I cant use Document class from Itext7 properly?","body":"<pre><code>File file = new File(&quot;D/project&quot;);\nPdfWriter writer = new PdfWriter(file);\nPdfDocument pdfDocument = new PdfDocument(writer);\nDocument doc = new Document;\n</code></pre>\n<p><code>Unknown class document</code>\nThe import that it offered is strange as well but I didnt have any other choice:</p>\n<pre><code>import static com.itextpdf.kernel.pdf.PdfName.Document;\n</code></pre>\n<p>I tried to re-add the Itext library, even different version but it just don't want to work for me</p>\n"},{"tags":["java","maven","command-line-interface","cicd","smoke-testing"],"answers":[{"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695543456,"post_id":77158875,"comment_id":136036414,"body_markdown":"@Ashar Is this helpful?","body":"@Ashar Is this helpful?"},{"owner":{"account_id":15446251,"reputation":3031,"user_id":11143113,"display_name":"Ashar"},"score":1,"creation_date":1695730977,"post_id":77158875,"comment_id":136061045,"body_markdown":"it helped but can you suggest similar solution / popular tool for `ANT` based projects build.xml?","body":"it helped but can you suggest similar solution / popular tool for <code>ANT</code> based projects build.xml?"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695735495,"post_id":77158875,"comment_id":136062089,"body_markdown":"@Ashar I have updated my answer. Please verify. You can use one tool called `TackleTest-UI` and it supports Ant to be specific. Check the updated answer.","body":"@Ashar I have updated my answer. Please verify. You can use one tool called <code>TackleTest-UI</code> and it supports Ant to be specific. Check the updated answer."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1699950568,"creation_date":1695395773,"answer_id":77158875,"question_id":77139236,"body_markdown":"First of all, your repo code is not a Maven project. For the standalone maven batch file to work, your project needs to be completely maven project containing **pom.xml**. \r\n\r\n**Note:** DiffBlue won&#39;t work with Ant based projects.\r\n\r\nSo, consider migrating your Ant based codebase to Maven based codebase to use DiffBlue tool.\r\n\r\n----\r\n\r\nFrom [Official DiffBlue Documentation][1]:\r\n\r\n**Prerequisites**:\r\n\r\n1. **Java 8 Update 351+**, **Java 11.0.17+** or **Java 17.0.5+** are supported at this moment.\r\n\r\n2. Only **Maven 3.2.5+** or **Gradle 4.9+** build tools are supported.\r\n\r\n3. Any project (for use with Diffblue Cover) must compile and run with no failing unit tests. **JUnit** and **TestNG** testing frameworks are supported.\r\n\r\nExample on how DiffBlue works with Maven:\r\n\r\n**Note:** I&#39;m using Mac to show how it works. The process is similar for Windows as well.\r\n\r\n1. Read the documentation from [here][2] to setup DiffBlue CLI.\r\n2. Execute `dcover version` to verify the DiffBlue installed or not.\r\n\r\n       ➜  demo git:(master) ✗ dcover version\r\n          2023.09.01-9200f07-licensed \r\nI have a spring-boot based maven project with this structure below.\r\n\r\n    .\r\n    ├── mvnw\r\n    ├── mvnw.cmd\r\n    ├── pom.xml\r\n    ├── src\r\n    │&#160;&#160; ├── main\r\n    │&#160;&#160; │&#160;&#160; ├── java\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160; └── com\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;     └── example\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;         └── demo\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;             ├── SampleController.java\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;            \r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;             \r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;             \r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;             \r\n    │&#160;&#160; │&#160;&#160; └── resources\r\n    │&#160;&#160; │&#160;&#160;     ├── application.yml\r\n    │&#160;&#160; │&#160;&#160;     ├── static\r\n    │&#160;&#160; │&#160;&#160;     └── templates\r\n    │&#160;&#160; └── test\r\n    │&#160;&#160;     └── java\r\n    │&#160;&#160;         └── com\r\n    │&#160;&#160;             └── example\r\n    │&#160;&#160;                 └── demo\r\n     &#160;&#160;                     └── empty &lt;no test classes&gt;\r\n\r\n\r\n3. I have a SampleController class with an endpoint `divide`  which throws ArithmeticException:\r\n\r\n\r\n  \r\n\r\n       @RestController\r\n       public class SampleController {\r\n    \r\n          @GetMapping(&quot;divide&quot;)\r\n          public int divideByZero() throws ArithmeticException {\r\n             int number = 2;\r\n             return number / 0;\r\n         }\r\n       }\r\n\r\n4. Enter root project directory with `cd` command.\r\n\r\n**Note:** Execute the command from root directory itself as DiffBlue is smart enough to read all the classes and packages.\r\n\r\n5. The command to generate the test is as follow :\r\n   \r\n       dcover create full-qualified-package-name.ClassName\r\n\r\nExample: `dcover create com.example.demo.SampleController`\r\n\r\nCurrent project structure contains the test class after dcover got executed:\r\n\r\n    .\r\n    ├── mvnw\r\n    ├── mvnw.cmd\r\n    ├── pom.xml\r\n    ├── src\r\n    │&#160;&#160; ├── main\r\n    │&#160;&#160; │&#160;&#160; ├── java\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160; └── com\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;     └── example\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;         └── demo\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;             ├── SampleController.java\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;            \r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;             \r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;             \r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;\r\n    │&#160;&#160; │&#160;&#160; │&#160;&#160;             \r\n    │&#160;&#160; │&#160;&#160; └── resources\r\n    │&#160;&#160; │&#160;&#160;     ├── application.yml\r\n    │&#160;&#160; │&#160;&#160;     ├── static\r\n    │&#160;&#160; │&#160;&#160;     └── templates\r\n    │&#160;&#160; └── test\r\n    │&#160;&#160;     └── java\r\n    │&#160;&#160;         └── com\r\n    │&#160;&#160;             └── example\r\n    │&#160;&#160;                 └── demo\r\n     &#160;&#160;                     └── SampleControllerDiffblueTest.java\r\n\r\n\r\n\r\n\r\n6. The test class generated from the above code is given below:\r\n\r\n\r\n         package com.example.demo;\r\n    \r\n         import static org.junit.jupiter.api.Assertions.assertThrows;\r\n         import static org.mockito.Mockito.mock;\r\n         import org.junit.jupiter.api.Test;\r\n    \r\n         class SampleControllerDiffblueTest {\r\n            /**\r\n             * Method under test: {@link SampleController#divideByZero()}\r\n             */\r\n             @Test\r\n             void testDivideByZero() {\r\n              assertThrows(ArithmeticException.class, () -&gt; (new SampleController()).divideByZero());\r\n            }\r\n         }\r\n\r\nConsole Logs:\r\n\r\n    INFO  Diffblue Cover 2023.09.01-9200f07-licensed\r\n    INFO\r\n    INFO  Detecting environment:\r\n    INFO  ----------------------\r\n    INFO  Detected Java version 17.0.8\r\n    INFO  Selected build system: Maven\r\n    INFO  Selected classpath from build system Maven\r\n    INFO  Selected test framework: JUnit Jupiter\r\n    INFO  Selected Java language compliance level: 17\r\n    INFO  Selected test validation: enabled\r\n    INFO  Prefixes for filtering classes/methods:\r\n    INFO  - com.example.demo.SampleController\r\n    INFO  Gathering methods to test...\r\n    ........\r\n    INFO\r\n    INFO  Creating tests:\r\n    INFO  ---------------\r\n    INFO  [1/1] com.example.demo.SampleController\r\n    INFO  [1/1]   Tests created: 1\r\n    INFO\r\n    INFO  Summary:\r\n    INFO  --------\r\n    INFO  Total:                                               2 methods\r\n    INFO  1 test created for:                                  1 method\r\n    INFO\r\n    INFO  Tested indirectly via other methods:                 1 method\r\n    INFO      1 T005: Trivial constructor\r\n    INFO\r\n    INFO  Running validation command.\r\n    INFO  This can take a couple of minutes.........\r\n    INFO  1 created test was successfully validated.\r\n    INFO  Log file: /Users/anish/Downloads/demo/.diffblue/log/user-20230922T200532.log\r\n\r\n    INFO  Finished in 2m 12s\r\n\r\n\r\n-------\r\nAlso, You can try for other tools like **Cucumber Framework** which is an excellent framework for writing test classes via **.feature** file in human understand syntax and capable of generating test classes based on the .feature files (it uses Gherkin language).\r\n\r\n**Update:** I found one tool called **TackleTest-Unit** which is capable of generating Java based Unit test cases. The main thing of this tool is that it supports **Ant**.\r\n\r\n**Github Repo:** https://github.com/konveyor/tackle-test-generator-cli\r\n\r\nFrom **README.md** :\r\n\r\n&gt; **TackleTest-Unit** automatically generates unit test cases for Java applications. Each generated test case focuses on exercising the\r\n&gt; visible methods of an application class. Test generation can be done\r\n&gt; on a specific set of application classes or the entire application.\r\n&gt; \r\n&gt; Among its many features, TackleTest-Unit:\r\n&gt; \r\n&gt; - Supports automatic generation of test assertions: tests can be generated with or without assertions\r\n&gt; \r\n&gt; - Combines different coverage metrics and generates coverage reports: the supported coverage metrics include conventional code coverage\r\n&gt; criteria, such as statement and branch coverage, as well as a novel\r\n&gt; type-based combinatorial coverage coverage of Java methods\r\n&gt; \r\n&gt; - Accommodates developer-written unit test suites: it can perform coverage-driven augmentation and directed test generation to enhance\r\n&gt; the coverage achieved by a given test suite\r\n&gt; \r\n&gt; - Supports multiple build tools: **Maven**, **Gradle**, and **Ant**\r\n\r\n**Read the docs for more. I feel that the tool looks promising. So, you can try it.**\r\n   \r\n\r\n  [1]: https://docs.diffblue.com/get-started/free-trial\r\n  [2]: https://docs.diffblue.com/get-started/beyond-the-trial-get-started/get-started-cover-cli","title":"How to generate smoke test cases for Java application using command line","body":"<p>First of all, your repo code is not a Maven project. For the standalone maven batch file to work, your project needs to be completely maven project containing <strong>pom.xml</strong>.</p>\n<p><strong>Note:</strong> DiffBlue won't work with Ant based projects.</p>\n<p>So, consider migrating your Ant based codebase to Maven based codebase to use DiffBlue tool.</p>\n<hr />\n<p>From <a href=\"https://docs.diffblue.com/get-started/free-trial\" rel=\"nofollow noreferrer\">Official DiffBlue Documentation</a>:</p>\n<p><strong>Prerequisites</strong>:</p>\n<ol>\n<li><p><strong>Java 8 Update 351+</strong>, <strong>Java 11.0.17+</strong> or <strong>Java 17.0.5+</strong> are supported at this moment.</p>\n</li>\n<li><p>Only <strong>Maven 3.2.5+</strong> or <strong>Gradle 4.9+</strong> build tools are supported.</p>\n</li>\n<li><p>Any project (for use with Diffblue Cover) must compile and run with no failing unit tests. <strong>JUnit</strong> and <strong>TestNG</strong> testing frameworks are supported.</p>\n</li>\n</ol>\n<p>Example on how DiffBlue works with Maven:</p>\n<p><strong>Note:</strong> I'm using Mac to show how it works. The process is similar for Windows as well.</p>\n<ol>\n<li><p>Read the documentation from <a href=\"https://docs.diffblue.com/get-started/beyond-the-trial-get-started/get-started-cover-cli\" rel=\"nofollow noreferrer\">here</a> to setup DiffBlue CLI.</p>\n</li>\n<li><p>Execute <code>dcover version</code> to verify the DiffBlue installed or not.</p>\n<pre><code>➜  demo git:(master) ✗ dcover version\n   2023.09.01-9200f07-licensed \n</code></pre>\n</li>\n</ol>\n<p>I have a spring-boot based maven project with this structure below.</p>\n<pre><code>.\n├── mvnw\n├── mvnw.cmd\n├── pom.xml\n├── src\n│   ├── main\n│   │   ├── java\n│   │   │   └── com\n│   │   │       └── example\n│   │   │           └── demo\n│   │   │               ├── SampleController.java\n│   │   │              \n│   │   │               \n│   │   │               \n│   │   │  \n│   │   │               \n│   │   └── resources\n│   │       ├── application.yml\n│   │       ├── static\n│   │       └── templates\n│   └── test\n│       └── java\n│           └── com\n│               └── example\n│                   └── demo\n                        └── empty &lt;no test classes&gt;\n</code></pre>\n<ol start=\"3\">\n<li><p>I have a SampleController class with an endpoint <code>divide</code>  which throws ArithmeticException:</p>\n<pre><code>@RestController\npublic class SampleController {\n\n   @GetMapping(&quot;divide&quot;)\n   public int divideByZero() throws ArithmeticException {\n      int number = 2;\n      return number / 0;\n  }\n}\n</code></pre>\n</li>\n<li><p>Enter root project directory with <code>cd</code> command.</p>\n</li>\n</ol>\n<p><strong>Note:</strong> Execute the command from root directory itself as DiffBlue is smart enough to read all the classes and packages.</p>\n<ol start=\"5\">\n<li><p>The command to generate the test is as follow :</p>\n<pre><code>dcover create full-qualified-package-name.ClassName\n</code></pre>\n</li>\n</ol>\n<p>Example: <code>dcover create com.example.demo.SampleController</code></p>\n<p>Current project structure contains the test class after dcover got executed:</p>\n<pre><code>.\n├── mvnw\n├── mvnw.cmd\n├── pom.xml\n├── src\n│   ├── main\n│   │   ├── java\n│   │   │   └── com\n│   │   │       └── example\n│   │   │           └── demo\n│   │   │               ├── SampleController.java\n│   │   │              \n│   │   │               \n│   │   │               \n│   │   │  \n│   │   │               \n│   │   └── resources\n│   │       ├── application.yml\n│   │       ├── static\n│   │       └── templates\n│   └── test\n│       └── java\n│           └── com\n│               └── example\n│                   └── demo\n                        └── SampleControllerDiffblueTest.java\n</code></pre>\n<ol start=\"6\">\n<li><p>The test class generated from the above code is given below:</p>\n<pre><code>  package com.example.demo;\n\n  import static org.junit.jupiter.api.Assertions.assertThrows;\n  import static org.mockito.Mockito.mock;\n  import org.junit.jupiter.api.Test;\n\n  class SampleControllerDiffblueTest {\n     /**\n      * Method under test: {@link SampleController#divideByZero()}\n      */\n      @Test\n      void testDivideByZero() {\n       assertThrows(ArithmeticException.class, () -&gt; (new SampleController()).divideByZero());\n     }\n  }\n</code></pre>\n</li>\n</ol>\n<p>Console Logs:</p>\n<pre><code>INFO  Diffblue Cover 2023.09.01-9200f07-licensed\nINFO\nINFO  Detecting environment:\nINFO  ----------------------\nINFO  Detected Java version 17.0.8\nINFO  Selected build system: Maven\nINFO  Selected classpath from build system Maven\nINFO  Selected test framework: JUnit Jupiter\nINFO  Selected Java language compliance level: 17\nINFO  Selected test validation: enabled\nINFO  Prefixes for filtering classes/methods:\nINFO  - com.example.demo.SampleController\nINFO  Gathering methods to test...\n........\nINFO\nINFO  Creating tests:\nINFO  ---------------\nINFO  [1/1] com.example.demo.SampleController\nINFO  [1/1]   Tests created: 1\nINFO\nINFO  Summary:\nINFO  --------\nINFO  Total:                                               2 methods\nINFO  1 test created for:                                  1 method\nINFO\nINFO  Tested indirectly via other methods:                 1 method\nINFO      1 T005: Trivial constructor\nINFO\nINFO  Running validation command.\nINFO  This can take a couple of minutes.........\nINFO  1 created test was successfully validated.\nINFO  Log file: /Users/anish/Downloads/demo/.diffblue/log/user-20230922T200532.log\n\nINFO  Finished in 2m 12s\n</code></pre>\n<hr />\n<p>Also, You can try for other tools like <strong>Cucumber Framework</strong> which is an excellent framework for writing test classes via <strong>.feature</strong> file in human understand syntax and capable of generating test classes based on the .feature files (it uses Gherkin language).</p>\n<p><strong>Update:</strong> I found one tool called <strong>TackleTest-Unit</strong> which is capable of generating Java based Unit test cases. The main thing of this tool is that it supports <strong>Ant</strong>.</p>\n<p><strong>Github Repo:</strong> <a href=\"https://github.com/konveyor/tackle-test-generator-cli\" rel=\"nofollow noreferrer\">https://github.com/konveyor/tackle-test-generator-cli</a></p>\n<p>From <strong>README.md</strong> :</p>\n<blockquote>\n<p><strong>TackleTest-Unit</strong> automatically generates unit test cases for Java applications. Each generated test case focuses on exercising the\nvisible methods of an application class. Test generation can be done\non a specific set of application classes or the entire application.</p>\n<p>Among its many features, TackleTest-Unit:</p>\n<ul>\n<li><p>Supports automatic generation of test assertions: tests can be generated with or without assertions</p>\n</li>\n<li><p>Combines different coverage metrics and generates coverage reports: the supported coverage metrics include conventional code coverage\ncriteria, such as statement and branch coverage, as well as a novel\ntype-based combinatorial coverage coverage of Java methods</p>\n</li>\n<li><p>Accommodates developer-written unit test suites: it can perform coverage-driven augmentation and directed test generation to enhance\nthe coverage achieved by a given test suite</p>\n</li>\n<li><p>Supports multiple build tools: <strong>Maven</strong>, <strong>Gradle</strong>, and <strong>Ant</strong></p>\n</li>\n</ul>\n</blockquote>\n<p><strong>Read the docs for more. I feel that the tool looks promising. So, you can try it.</strong></p>\n"}],"owner":{"account_id":15446251,"reputation":3031,"user_id":11143113,"display_name":"Ashar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77158875,"answer_count":1,"score":2,"last_activity_date":1699950568,"creation_date":1695183013,"question_id":77139236,"body_markdown":"I wish to offer any new java based project to have basic/generic `smoke testing` as part of the CICD pipeline on github-actions or ansible. \r\n\r\nRather than having the developers write smoke test cases for their applications I wish to serve them with default test cases that are auto-generated by a tool or plugin. \r\n\r\nOne such plugin that I remember is [diffblue][1]\r\n\r\nIt has github CICD integration example step as well.\r\n\r\nI have a few challenges using its CLI (free license) and what it offers is why I wish to explore other options.\r\n\r\nMy repo structure is :\r\n\r\n    myrepo\r\n      |--src\r\n          |--classes\r\n                |--common\r\n                     |--com\r\n                         |--mybank\r\n                              |--common\r\n                                   |--hello1.class\r\n                                   |--hello2.class\r\n                                   |--util\r\n                                        |--hello3.class\r\n\r\nI tried to generate testcase java files which should as per documentation be generated at \r\n\r\n    myrepo\r\n      |--src\r\n          |--test\r\n                |--java\r\n                                                         \r\n\r\n1. `dcover -classpath &quot;D:\\maven\\bin\\mvn.bat&quot; com.mybank.common.hello1` does not generate any test cases java file, does not throw any error as per logs either in `com.mybank.common` or in `src.test.java` folders.\r\n\r\nNot sure what is wrong in my attempt to use the cli for a single java file or entire java repo project.\r\n\r\n2. I wish to explore alternate tools that may offer more services or are more popular.\r\n\r\nNote: this project was build using `ant` build.xml\r\n\r\nKindly suggest.\r\n\r\n  [1]: https://www.diffblue.com","title":"How to generate smoke test cases for Java application using command line","body":"<p>I wish to offer any new java based project to have basic/generic <code>smoke testing</code> as part of the CICD pipeline on github-actions or ansible.</p>\n<p>Rather than having the developers write smoke test cases for their applications I wish to serve them with default test cases that are auto-generated by a tool or plugin.</p>\n<p>One such plugin that I remember is <a href=\"https://www.diffblue.com\" rel=\"nofollow noreferrer\">diffblue</a></p>\n<p>It has github CICD integration example step as well.</p>\n<p>I have a few challenges using its CLI (free license) and what it offers is why I wish to explore other options.</p>\n<p>My repo structure is :</p>\n<pre><code>myrepo\n  |--src\n      |--classes\n            |--common\n                 |--com\n                     |--mybank\n                          |--common\n                               |--hello1.class\n                               |--hello2.class\n                               |--util\n                                    |--hello3.class\n</code></pre>\n<p>I tried to generate testcase java files which should as per documentation be generated at</p>\n<pre><code>myrepo\n  |--src\n      |--test\n            |--java\n                                                     \n</code></pre>\n<ol>\n<li><code>dcover -classpath &quot;D:\\maven\\bin\\mvn.bat&quot; com.mybank.common.hello1</code> does not generate any test cases java file, does not throw any error as per logs either in <code>com.mybank.common</code> or in <code>src.test.java</code> folders.</li>\n</ol>\n<p>Not sure what is wrong in my attempt to use the cli for a single java file or entire java repo project.</p>\n<ol start=\"2\">\n<li>I wish to explore alternate tools that may offer more services or are more popular.</li>\n</ol>\n<p>Note: this project was build using <code>ant</code> build.xml</p>\n<p>Kindly suggest.</p>\n"},{"tags":["java","postgresql","hibernate","jpa","querydsl"],"comments":[{"owner":{"account_id":159274,"reputation":858,"user_id":2267680,"accept_rate":25,"display_name":"Rodolphe"},"score":1,"creation_date":1699623811,"post_id":77459657,"comment_id":136558741,"body_markdown":"What is the source of your 38k parameters ? If they come from another query you made earlier you should change your code and use CTE or other SQL syntax to read the data and push them in a single action.","body":"What is the source of your 38k parameters ? If they come from another query you made earlier you should change your code and use CTE or other SQL syntax to read the data and push them in a single action."},{"owner":{"account_id":159274,"reputation":858,"user_id":2267680,"accept_rate":25,"display_name":"Rodolphe"},"score":1,"creation_date":1699623861,"post_id":77459657,"comment_id":136558751,"body_markdown":"Another solution if the data come from outside is to fill a temporary table with the command COPY and make a signle query that will read your temp table","body":"Another solution if the data come from outside is to fill a temporary table with the command COPY and make a signle query that will read your temp table"},{"owner":{"account_id":2652739,"reputation":533,"user_id":2294031,"display_name":"domids"},"score":0,"creation_date":1699949941,"post_id":77459657,"comment_id":136591681,"body_markdown":"@Rodolphe Yes, the source is another query.\nThanks for the ideas!","body":"@Rodolphe Yes, the source is another query. Thanks for the ideas!"}],"owner":{"account_id":2652739,"reputation":533,"user_id":2294031,"display_name":"domids"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699950079,"creation_date":1699615629,"question_id":77459657,"body_markdown":"I&#39;m trying to create a query using QueryDSL which accepts more than 32767 parameters ([32767 is the upper limit of parameters the PostgreSQL driver accepts][1]).\r\n\r\nThe query is currently created like this:\r\n\r\n```\r\nstatic final QInvoiceEntity invoiceEntity = ...\r\n\r\nvoid queryInvoicesWithId(String... ids) {\r\n  JPAQuery query = ...\r\n  query.where(invoiceEntity.id.in(ids));\r\n}\r\n```\r\n\r\nThis works if no more than 32767 parameters are passed. If you pass more than that (e.g. 38000) the following exception is thrown:\r\n```\r\nCaused by: java.io.IOException: Tried to send an out-of-range integer as a 2-byte value: 38000\r\n        at org.postgresql.core.PGStream.sendInteger2(PGStream.java:275)\r\n```\r\n\r\nOne solution according to [1] is to use `ANY` and pass the parameters as an array. I&#39;ve tried the following but to no avail:\r\n```\r\nquery.where(Expressions.booleanTemplate(&quot;{0} = ANY {1}&quot;, invoiceEntity.id, ids);\r\n```\r\nBut this throws the following exception:\r\n```\r\norg.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ? near line 3, column 31 [select invoiceEntity\r\nfrom InvoiceEntity invoiceEntity\r\nwhere invoiceEntity.id = ANY (?1)\r\n```\r\n\r\nI&#39;ve even tried to pass the parameters as a string and convert it back in the query:\r\n```\r\nquery.where(Expressions.booleanTemplate(&quot;{0} = ANY string_to_array({1}, &#39;,&#39;)&quot;, invoiceEntity.id, String.join(&quot;,&quot;, ids));\r\n```\r\nBut this throws the following exception:\r\n```\r\norg.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ( near line 3, column 45 [select invoiceEntity\r\nfrom InvoiceEntity invoiceEntity\r\nwhere invoiceEntity.id = ANY string_to_array(?1, &#39;,&#39;)\r\n```\r\n\r\n  [1]: https://luppeng.wordpress.com/2020/05/20/postgresql-jdbc-driver-upper-limit-on-parameters-in-preparedstatement/","title":"How to pass multiple values as sql array for a parameter? (Or how can I circumvent the limit of parameters of prepared statement?)","body":"<p>I'm trying to create a query using QueryDSL which accepts more than 32767 parameters (<a href=\"https://luppeng.wordpress.com/2020/05/20/postgresql-jdbc-driver-upper-limit-on-parameters-in-preparedstatement/\" rel=\"nofollow noreferrer\">32767 is the upper limit of parameters the PostgreSQL driver accepts</a>).</p>\n<p>The query is currently created like this:</p>\n<pre><code>static final QInvoiceEntity invoiceEntity = ...\n\nvoid queryInvoicesWithId(String... ids) {\n  JPAQuery query = ...\n  query.where(invoiceEntity.id.in(ids));\n}\n</code></pre>\n<p>This works if no more than 32767 parameters are passed. If you pass more than that (e.g. 38000) the following exception is thrown:</p>\n<pre><code>Caused by: java.io.IOException: Tried to send an out-of-range integer as a 2-byte value: 38000\n        at org.postgresql.core.PGStream.sendInteger2(PGStream.java:275)\n</code></pre>\n<p>One solution according to <a href=\"https://luppeng.wordpress.com/2020/05/20/postgresql-jdbc-driver-upper-limit-on-parameters-in-preparedstatement/\" rel=\"nofollow noreferrer\">1</a> is to use <code>ANY</code> and pass the parameters as an array. I've tried the following but to no avail:</p>\n<pre><code>query.where(Expressions.booleanTemplate(&quot;{0} = ANY {1}&quot;, invoiceEntity.id, ids);\n</code></pre>\n<p>But this throws the following exception:</p>\n<pre><code>org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ? near line 3, column 31 [select invoiceEntity\nfrom InvoiceEntity invoiceEntity\nwhere invoiceEntity.id = ANY (?1)\n</code></pre>\n<p>I've even tried to pass the parameters as a string and convert it back in the query:</p>\n<pre><code>query.where(Expressions.booleanTemplate(&quot;{0} = ANY string_to_array({1}, ',')&quot;, invoiceEntity.id, String.join(&quot;,&quot;, ids));\n</code></pre>\n<p>But this throws the following exception:</p>\n<pre><code>org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ( near line 3, column 45 [select invoiceEntity\nfrom InvoiceEntity invoiceEntity\nwhere invoiceEntity.id = ANY string_to_array(?1, ',')\n</code></pre>\n"},{"tags":["java","micronaut","micronaut-rest"],"owner":{"account_id":7039440,"reputation":178,"user_id":5392366,"display_name":"karan mirani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699949987,"creation_date":1699931351,"question_id":77477977,"body_markdown":"Currently, the login-success property as per the [documentation][1], accepts a String. \r\nI want to redirect a user to their dashboard after login\r\n 1. /user/{id}/dashboard\r\n\r\nHow can I make it so that the user is redirected to their dashboard using RedirectConfigurationProperties?\r\n\r\n  [1]: https://micronaut-projects.github.io/micronaut-security/snapshot/guide/configurationreference.html#io.micronaut.security.config.RedirectConfigurationProperties","title":"Micronaut redirect user to dashboard after login","body":"<p>Currently, the login-success property as per the <a href=\"https://micronaut-projects.github.io/micronaut-security/snapshot/guide/configurationreference.html#io.micronaut.security.config.RedirectConfigurationProperties\" rel=\"nofollow noreferrer\">documentation</a>, accepts a String.\nI want to redirect a user to their dashboard after login</p>\n<ol>\n<li>/user/{id}/dashboard</li>\n</ol>\n<p>How can I make it so that the user is redirected to their dashboard using RedirectConfigurationProperties?</p>\n"},{"tags":["java","kubernetes","jgit"],"comments":[{"owner":{"account_id":3147355,"reputation":73,"user_id":2661573,"display_name":"Katakana"},"score":0,"creation_date":1682494988,"post_id":76054210,"comment_id":134223259,"body_markdown":"For everyone who experienced this, an additional point we were able to see by logging is the fact that the add and commit seem to take the most time (70 seconds each with an empty commit), not Push itself. Still unclear for us what is the reason both take such a long time","body":"For everyone who experienced this, an additional point we were able to see by logging is the fact that the add and commit seem to take the most time (70 seconds each with an empty commit), not Push itself. Still unclear for us what is the reason both take such a long time"}],"answers":[{"tags":[],"owner":{"account_id":3147355,"reputation":73,"user_id":2661573,"display_name":"Katakana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699949845,"creation_date":1683284279,"answer_id":76181456,"question_id":76054210,"body_markdown":"Here&#39;s an update for whoever hits this issue in the future.\r\nThe slowness exhibited in my case is due to three compound aspects:\r\n- the frequent file read/write operations executed by the Java JGIT library when pushing data (even with an empty commit)\r\n- a large file count (started being visible after 80 files per repo)\r\n- use of Azure Files for file persistence in the kubernetes architecture my app is hosted. They mention this issue https://learn.microsoft.com/en-us/azure/storage/files/files-troubleshoot-performance?tabs=linux#high-latencies-for-metadata-heavy-workloads-involving-extensive-openclose-operations.","title":"JGIT Push takes a long time to add an empty commit (no changes) when executed from a Cloud system, but almost no time in a VM","body":"<p>Here's an update for whoever hits this issue in the future.\nThe slowness exhibited in my case is due to three compound aspects:</p>\n<ul>\n<li>the frequent file read/write operations executed by the Java JGIT library when pushing data (even with an empty commit)</li>\n<li>a large file count (started being visible after 80 files per repo)</li>\n<li>use of Azure Files for file persistence in the kubernetes architecture my app is hosted. They mention this issue <a href=\"https://learn.microsoft.com/en-us/azure/storage/files/files-troubleshoot-performance?tabs=linux#high-latencies-for-metadata-heavy-workloads-involving-extensive-openclose-operations\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/storage/files/files-troubleshoot-performance?tabs=linux#high-latencies-for-metadata-heavy-workloads-involving-extensive-openclose-operations</a>.</li>\n</ul>\n"}],"owner":{"account_id":3147355,"reputation":73,"user_id":2661573,"display_name":"Katakana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699949884,"creation_date":1681905322,"question_id":76054210,"body_markdown":"**Context:**\r\nI&#39;m using JGIT 6.5.202303070854-r in a custom application that runs as a plugin inside another Java app inside Tomcat. For all intents and purposes it&#39;s a normal Java implementation.\r\nThe end result is that methods like Push and Pull are exposed as webservices\r\n\r\n**Behavior:**\r\nWhen this plugin is deployed in a cloud environment (which means the host app is deployed in a kubernetes architecture) what I observed is that even if Pull executes relatively ok, Push on the other hand executes **very slow**, making the webservice request timing out (socket timeout exception (read timeout)).\r\n\r\n**What I tried:**\r\nFor reference, the same Push in my own local Tomcat instance executes in 5-6 seconds, while in cloud I sat once 15 minutes and it was still executing.I observed that essentially the commit is being pushed successfully with all its content, as far as I checked (though I did not do a binary check on the file count/contents)\r\nAll the tests I did were with empty commits and with a 22MB repo with 532 files with 5 commits.\r\nI did observe that during the execution time, I have the following error:\r\n&quot;.git/refs/remotes/origin/.probe-99c3f223-6a2c-4535-8c39-0c34f8f44ff6: Operation not permitted&quot;\r\nissued from JGit-FileStoreAttributeReader-2 (the thread name).\r\nHowever this error does not happen all the time - last time the service executed successfully but in 5,8 minutes without any error.\r\n\r\nI am currently in the process of retrieving the Kubernetes node logs to see if there&#39;s anything there that might point to this, **but if anyone encountered this I would be grateful to understand why that happens**.\r\n\r\nThe Push implementation is this, in case it matters, wrapper in a try/catch:\r\n\r\n    myGitFolder.add().addFilepattern(&quot;.&quot;).setUpdate(true).call();\r\n     myGitFolder.commit().setAll(true).setMessage(Message).setCommitter(str_CommitterName, str_CommitterEmail).call();\r\n    \r\n    CredentialsProvider credentialsProvider = new UsernamePasswordCredentialsProvider(str_User, str_Password);\r\n    \r\n    Iterable&lt;PushResult&gt; prList = myGitFolder.push().setRemote(&quot;origin&quot;)\r\n    \t\t\t\t.setCredentialsProvider(credentialsProvider).call();\r\n\r\n\r\n\r\n**Expectation:**\r\nI&#39;m expecting to have Push with the above implementation execute in under 10 seconds with an empty commit.","title":"JGIT Push takes a long time to add an empty commit (no changes) when executed from a Cloud system, but almost no time in a VM","body":"<p><strong>Context:</strong>\nI'm using JGIT 6.5.202303070854-r in a custom application that runs as a plugin inside another Java app inside Tomcat. For all intents and purposes it's a normal Java implementation.\nThe end result is that methods like Push and Pull are exposed as webservices</p>\n<p><strong>Behavior:</strong>\nWhen this plugin is deployed in a cloud environment (which means the host app is deployed in a kubernetes architecture) what I observed is that even if Pull executes relatively ok, Push on the other hand executes <strong>very slow</strong>, making the webservice request timing out (socket timeout exception (read timeout)).</p>\n<p><strong>What I tried:</strong>\nFor reference, the same Push in my own local Tomcat instance executes in 5-6 seconds, while in cloud I sat once 15 minutes and it was still executing.I observed that essentially the commit is being pushed successfully with all its content, as far as I checked (though I did not do a binary check on the file count/contents)\nAll the tests I did were with empty commits and with a 22MB repo with 532 files with 5 commits.\nI did observe that during the execution time, I have the following error:\n&quot;.git/refs/remotes/origin/.probe-99c3f223-6a2c-4535-8c39-0c34f8f44ff6: Operation not permitted&quot;\nissued from JGit-FileStoreAttributeReader-2 (the thread name).\nHowever this error does not happen all the time - last time the service executed successfully but in 5,8 minutes without any error.</p>\n<p>I am currently in the process of retrieving the Kubernetes node logs to see if there's anything there that might point to this, <strong>but if anyone encountered this I would be grateful to understand why that happens</strong>.</p>\n<p>The Push implementation is this, in case it matters, wrapper in a try/catch:</p>\n<pre><code>myGitFolder.add().addFilepattern(&quot;.&quot;).setUpdate(true).call();\n myGitFolder.commit().setAll(true).setMessage(Message).setCommitter(str_CommitterName, str_CommitterEmail).call();\n\nCredentialsProvider credentialsProvider = new UsernamePasswordCredentialsProvider(str_User, str_Password);\n\nIterable&lt;PushResult&gt; prList = myGitFolder.push().setRemote(&quot;origin&quot;)\n                .setCredentialsProvider(credentialsProvider).call();\n</code></pre>\n<p><strong>Expectation:</strong>\nI'm expecting to have Push with the above implementation execute in under 10 seconds with an empty commit.</p>\n"},{"tags":["java","android","unit-testing","mockito","powermock"],"comments":[{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1513333167,"post_id":47830130,"comment_id":82623002,"body_markdown":"can you refactor so that the `new Bundle(1);` can be moved to separate package level method?","body":"can you refactor so that the <code>new Bundle(1);</code> can be moved to separate package level method?"}],"answers":[{"comments":[{"owner":{"account_id":6713306,"reputation":1513,"user_id":5175944,"accept_rate":50,"display_name":"surga"},"score":0,"creation_date":1513340961,"post_id":47830334,"comment_id":82627646,"body_markdown":"Hi @Maciej Kowalski Thank you for helping. I put your code in but still does not work. It returns the same error. I&#39;m really curious why it does not work. Why the error is saying that `android.os.BaseBundle not mocked` which is the parent class ? Why it cannot mocked, is it because the Bundle class is final ? Let me know if you have any more insight. Thank you","body":"Hi @Maciej Kowalski Thank you for helping. I put your code in but still does not work. It returns the same error. I&#39;m really curious why it does not work. Why the error is saying that <code>android.os.BaseBundle not mocked</code> which is the parent class ? Why it cannot mocked, is it because the Bundle class is final ? Let me know if you have any more insight. Thank you"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1513341505,"post_id":47830334,"comment_id":82627957,"body_markdown":"ok, then you need PowerMock.createMock(Bundle.class); instead of Mockito.mock","body":"ok, then you need PowerMock.createMock(Bundle.class); instead of Mockito.mock"},{"owner":{"account_id":6713306,"reputation":1513,"user_id":5175944,"accept_rate":50,"display_name":"surga"},"score":0,"creation_date":1513343493,"post_id":47830334,"comment_id":82629026,"body_markdown":"sorry what is the different between `PowerMockito.mock` and `PowerMock.createMock` ?","body":"sorry what is the different between <code>PowerMockito.mock</code> and <code>PowerMock.createMock</code> ?"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1513344551,"post_id":47830334,"comment_id":82629626,"body_markdown":"yes actually it should be PowerMockito.mock.. tell me do you still tr yto cast (BaseBundle)?","body":"yes actually it should be PowerMockito.mock.. tell me do you still tr yto cast (BaseBundle)?"},{"owner":{"account_id":6713306,"reputation":1513,"user_id":5175944,"accept_rate":50,"display_name":"surga"},"score":0,"creation_date":1513545145,"post_id":47830334,"comment_id":82683705,"body_markdown":"Hi @MaciejKowalski I did try this : `Bundle mBundle = PowerMockito.mock(Bundle.class); PowerMockito.whenNew(Bundle.class).withAnyArguments().thenReturn(mBundle);` but no use. It&#39;s showing the same result. My friend who is Android developer said it is impossible to do ? What do you think ?","body":"Hi @MaciejKowalski I did try this : <code>Bundle mBundle = PowerMockito.mock(Bundle.class); PowerMockito.whenNew(Bundle.class).withAnyArguments().thenRe&zwnj;&#8203;turn(mBundle);</code> but no use. It&#39;s showing the same result. My friend who is Android developer said it is impossible to do ? What do you think ?"}],"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":5,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1513344522,"creation_date":1513333622,"answer_id":47830334,"question_id":47830130,"body_markdown":"**1)** Add proper set-up\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(Bundle.class)\r\n    public class MyTest{\r\n\r\n**2)** Use vanilla Mockito for `do().when()`:\r\n\r\n    Bundle mBundle = PowerMockito.mock(Bundle.class);\r\n        Mockito.doNothing().when(mBundle).putString(AnalyticsController.Params.CID, cid);\r\n\r\n**3)** Use Powermock for `whenNew()`:\r\n\r\n    PowerMockito.whenNew(Bundle.class)\r\n                .withAnyArguments().thenReturn(mBundle);\r\n\r\n","title":"Mock android.os.BaseBundle without roboelectric","body":"<p><strong>1)</strong> Add proper set-up</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(Bundle.class)\npublic class MyTest{\n</code></pre>\n\n<p><strong>2)</strong> Use vanilla Mockito for <code>do().when()</code>:</p>\n\n<pre><code>Bundle mBundle = PowerMockito.mock(Bundle.class);\n    Mockito.doNothing().when(mBundle).putString(AnalyticsController.Params.CID, cid);\n</code></pre>\n\n<p><strong>3)</strong> Use Powermock for <code>whenNew()</code>:</p>\n\n<pre><code>PowerMockito.whenNew(Bundle.class)\n            .withAnyArguments().thenReturn(mBundle);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6713306,"reputation":1513,"user_id":5175944,"accept_rate":50,"display_name":"surga"},"score":0,"creation_date":1550123510,"post_id":47860352,"comment_id":96156294,"body_markdown":"no it&#39;s similar but different, look at MainClass.class part that&#39;s the important part. Without that it would not work while the answer above just ask me to prepare the test for Bundle.class not MainClass.","body":"no it&#39;s similar but different, look at MainClass.class part that&#39;s the important part. Without that it would not work while the answer above just ask me to prepare the test for Bundle.class not MainClass."}],"tags":[],"owner":{"account_id":6713306,"reputation":1513,"user_id":5175944,"accept_rate":50,"display_name":"surga"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1550123588,"creation_date":1513552237,"answer_id":47860352,"question_id":47830130,"body_markdown":"I finally get the answer from my friend. The reason is somehow for mocking android class using powermockito the main class need to be set as prepared for test too :\r\n\r\n    @PrepareForTest({MainClass.class, Bundle.class})\r\n\r\nThank you for the effort @Maciej Kowalski. I&#39;ll vote up for your effort since it&#39;s on the right direction anyway.\r\n\r\n**I&#39;m not copy pasting the answer from above, preparing the test for MainClass is the important part.**","title":"Mock android.os.BaseBundle without roboelectric","body":"<p>I finally get the answer from my friend. The reason is somehow for mocking android class using powermockito the main class need to be set as prepared for test too :</p>\n\n<pre><code>@PrepareForTest({MainClass.class, Bundle.class})\n</code></pre>\n\n<p>Thank you for the effort @Maciej Kowalski. I'll vote up for your effort since it's on the right direction anyway.</p>\n\n<p><strong>I'm not copy pasting the answer from above, preparing the test for MainClass is the important part.</strong></p>\n"},{"comments":[{"owner":{"account_id":22130,"reputation":1894,"user_id":54321,"accept_rate":62,"display_name":"harmanjd"},"score":1,"creation_date":1626309566,"post_id":61165916,"comment_id":120861058,"body_markdown":"Doing this means no power mock - yay! Thanks.","body":"Doing this means no power mock - yay! Thanks."}],"tags":[],"owner":{"account_id":10217567,"reputation":9035,"user_id":7542765,"accept_rate":81,"display_name":"Levon Petrosyan"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1586656432,"creation_date":1586656432,"answer_id":61165916,"question_id":47830130,"body_markdown":"Try to add this in your **build.gradle**\r\n\r\n\r\n    android {\r\n        testOptions {\r\n            unitTests {\r\n                unitTests.returnDefaultValues = true\r\n            }\r\n        }\r\n    }","title":"Mock android.os.BaseBundle without roboelectric","body":"<p>Try to add this in your <strong>build.gradle</strong></p>\n\n<pre><code>android {\n    testOptions {\n        unitTests {\n            unitTests.returnDefaultValues = true\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1080390,"reputation":4094,"user_id":1077539,"accept_rate":40,"display_name":"sadat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673234496,"creation_date":1673234496,"answer_id":75052895,"question_id":47830130,"body_markdown":"    testOptions {\r\n        unitTests.returnDefaultValues = true\r\n    }\r\n\r\nworked for me.","title":"Mock android.os.BaseBundle without roboelectric","body":"<pre><code>testOptions {\n    unitTests.returnDefaultValues = true\n}\n</code></pre>\n<p>worked for me.</p>\n"},{"tags":[],"owner":{"account_id":914709,"reputation":206,"user_id":8694493,"display_name":"hollmannlu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699949873,"creation_date":1699949873,"answer_id":77479087,"question_id":47830130,"body_markdown":"with mockk you could use constructor-mocks (see mockk.io).\r\n\r\nexample:\r\n\r\n    mockkConstructor(Bundle::class)\r\n    every { anyConstructed&lt;Bundle&gt;().putString(any(), any()) } just runs","title":"Mock android.os.BaseBundle without roboelectric","body":"<p>with mockk you could use constructor-mocks (see mockk.io).</p>\n<p>example:</p>\n<pre><code>mockkConstructor(Bundle::class)\nevery { anyConstructed&lt;Bundle&gt;().putString(any(), any()) } just runs\n</code></pre>\n"}],"owner":{"account_id":6713306,"reputation":1513,"user_id":5175944,"accept_rate":50,"display_name":"surga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5786,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47830334,"answer_count":5,"score":4,"last_activity_date":1699949873,"creation_date":1513332942,"question_id":47830130,"body_markdown":"I am trying to do a unit test on this code :\r\n\r\n    Bundle cidParam(String accountId) {\r\n        Bundle params = new Bundle(1);\r\n        params.putString(Params.CID, accountId);\r\n\r\n        return params;\r\n    }\r\n\r\nThis is the unit test :\r\n\r\n    private void mockBundle(String cid) throws Exception {\r\n        Bundle mBundle = PowerMockito.mock(Bundle.class);\r\n        PowerMockito.doNothing().when((BaseBundle)mBundle).putString(AnalyticsController.Params.CID, cid);\r\n    }\r\n\r\nHowever, it always returns:\r\n\r\n    java.lang.RuntimeException: Method putString in android.os.BaseBundle not mocked.\r\n\r\nI know I can use roboelectric to spin up the simulator and call the real bundle. However, it will slow down the unit test. Does anyone know how to mock the Android .os.base? Thank you.","title":"Mock android.os.BaseBundle without roboelectric","body":"<p>I am trying to do a unit test on this code :</p>\n\n<pre><code>Bundle cidParam(String accountId) {\n    Bundle params = new Bundle(1);\n    params.putString(Params.CID, accountId);\n\n    return params;\n}\n</code></pre>\n\n<p>This is the unit test :</p>\n\n<pre><code>private void mockBundle(String cid) throws Exception {\n    Bundle mBundle = PowerMockito.mock(Bundle.class);\n    PowerMockito.doNothing().when((BaseBundle)mBundle).putString(AnalyticsController.Params.CID, cid);\n}\n</code></pre>\n\n<p>However, it always returns:</p>\n\n<pre><code>java.lang.RuntimeException: Method putString in android.os.BaseBundle not mocked.\n</code></pre>\n\n<p>I know I can use roboelectric to spin up the simulator and call the real bundle. However, it will slow down the unit test. Does anyone know how to mock the Android .os.base? Thank you.</p>\n"},{"tags":["java","algorithm","huffman-code","huffman-tree"],"comments":[{"owner":{"account_id":9879926,"reputation":4097,"user_id":7316365,"accept_rate":80,"display_name":"Vivick"},"score":0,"creation_date":1699514288,"post_id":77451130,"comment_id":136542069,"body_markdown":"The huffman-tree is a fundamentally tree-like structure, I&#39;m failing to see any tree (or alternatively any bitseq-to-byte map)","body":"The huffman-tree is a fundamentally tree-like structure, I&#39;m failing to see any tree (or alternatively any bitseq-to-byte map)"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1699533471,"post_id":77451130,"comment_id":136545601,"body_markdown":"*&quot;I transfer the binary string into a byte array.&quot;*: please explain how `{-20,31,3}` would represent `aa bbb cccc`. This encoding is wrong.","body":"<i>&quot;I transfer the binary string into a byte array.&quot;</i>: please explain how <code>{-20,31,3}</code> would represent <code>aa bbb cccc</code>. This encoding is wrong."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1699550736,"post_id":77451130,"comment_id":136549411,"body_markdown":"String is not a container for binary data.","body":"String is not a container for binary data."},{"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"score":0,"creation_date":1699947360,"post_id":77451130,"comment_id":136591321,"body_markdown":"Explaining of {-20,31,3} to &quot;aa bbb ccc&quot;: I write them randomly in order to raise the question directly. I think I was not able to clarify the problem. I will review it and google a Huffman demo afterwards.","body":"Explaining of {-20,31,3} to &quot;aa bbb ccc&quot;: I write them randomly in order to raise the question directly. I think I was not able to clarify the problem. I will review it and google a Huffman demo afterwards."}],"answers":[{"comments":[{"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"score":0,"creation_date":1699947649,"post_id":77455177,"comment_id":136591354,"body_markdown":"Thank you for your reply, Mark. I am sorry that I didn&#39;t clarify the problem. I will show you more details about what I am thinking about Huffman code. If you have time to see it, then see the following answer.","body":"Thank you for your reply, Mark. I am sorry that I didn&#39;t clarify the problem. I will show you more details about what I am thinking about Huffman code. If you have time to see it, then see the following answer."}],"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699572798,"creation_date":1699550274,"answer_id":77455177,"question_id":77451130,"body_markdown":"You are not even thinking about the Huffman codes correctly, so your Java code and your question are irrelevant.\r\n\r\nEach code has a _number of bits_, and then those bits. This is implied where you show `c` as having three bits. You need to put those bits into your output stream as _that number of bits_, in order to realize the compression. Your encoding of one code each into a byte makes no sense, especially if you happen to end up with codes longer than eight bits.\r\n\r\nThis is done properly with the bit operations, shift and or. You build up a stream of bits into a word, and when you have at least eight bits in your word buffer, you write out that one byte. At the end, you write out any remaining bits in the last byte.\r\n\r\nThen at the other end, you read in bytes, building up a stream of bits in a word with shift and or, and then pull out bits from the stream to decode your Huffman codes as needed, using shift and the and operation.","title":"How to transfer a String data which starts with &quot;0&quot; to a byte type , and recover it without losing the &quot;0&quot; at the first place?","body":"<p>You are not even thinking about the Huffman codes correctly, so your Java code and your question are irrelevant.</p>\n<p>Each code has a <em>number of bits</em>, and then those bits. This is implied where you show <code>c</code> as having three bits. You need to put those bits into your output stream as <em>that number of bits</em>, in order to realize the compression. Your encoding of one code each into a byte makes no sense, especially if you happen to end up with codes longer than eight bits.</p>\n<p>This is done properly with the bit operations, shift and or. You build up a stream of bits into a word, and when you have at least eight bits in your word buffer, you write out that one byte. At the end, you write out any remaining bits in the last byte.</p>\n<p>Then at the other end, you read in bytes, building up a stream of bits in a word with shift and or, and then pull out bits from the stream to decode your Huffman codes as needed, using shift and the and operation.</p>\n"}],"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699949665,"creation_date":1699513926,"question_id":77451130,"body_markdown":"I was learning Huffman tree and code in Java recently. There is a serious problem when I am trying to encode the String binary. I will explain step by step.\r\n\r\n1, These are the original words that I&#39;m going to encode:\r\n\r\n    String words = &quot;aa bbb cccc&quot;;\r\n\r\n2, The map of the Huffman code, they are not the real code. I am trying to make some codes so that I can show you the problem as soon as possible;\r\n```\r\na:1110 0110 (ignore the space, I deliberately added it for human readability)\r\nb:0001 1001\r\nc:011\r\n```\r\n3, I transfer the binary string into a byte array.\r\n```\r\nbyte[] arr = {-20,31,3}\r\n```\r\n4, Decoding. I calculate each byte with 256(1,1111,1111) by bitwise OR in order to get the 0s back. Then I use the substring(..).\r\n\r\n```\r\nfor(int i = 0; i &lt; bytes.length; i++) {\r\n\tboolean isLast = i == bytes.length - 1;\r\n\tString byteToString = byteToString(isLast, bytes[i]);\r\n\tSystem.out.println(byteToString + &quot; &quot;);\r\n}\r\n```\r\n\r\n```\r\npublic static String byteToString(boolean isLast,byte b) {\r\n\tint temp = b;\r\n\tif(!isLast) {\r\n\t\ttemp = 256 | temp;  //temp = 256 | -20;(256 | 31)\r\n\t}\r\n        \r\n\tString stringDecode = Integer.toBinaryString(temp);\r\n\tif(!isLast){\r\n\t\treturn stringDecode.substring(stringDecode.length() - 8);\r\n\t} else {\r\n\t\treturn stringDecode;\r\n\t}\r\n}\r\n```\r\n\r\nresult:\r\n\r\n```\r\n11101100\r\n00011111\r\n11   // the 0 is missing.\r\n```\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\nI was tring to do &quot;temp = 256 | 3&quot;,but I got &quot;00000011&quot;.It has too many 0s.\r\nI don&#39;t know whether I make myself clear.\r\nIf someone can do me a favour, I will very appreciate it. Thank you.\r\n\r\n\r\n================= edit\r\n\r\n1, String to encode\r\n\r\n`\t\tString sentence = &quot;aaaa bb c dddd hhhhhhh jjk&quot;;\r\n        //contentBytes.length() : 29\r\n\t\tbyte[] contentBytes = sentence.getBytes();  \r\n\r\n`\r\n\r\n2, ANSCII and the times of appearances of the characters\r\n\r\n`32:5\r\n97:4\r\n98:2\r\n99:1\r\n100:4\r\n104:7\r\n106:2\r\n107:1\r\n`\r\n\r\n3,the Huffman Tree\r\n[![enter image description here][1]][1]\r\n\r\n4,then the Huffman code\r\n\r\n32:00\r\n\r\n97:111\r\n\r\n98:010\r\n\r\n99:01101\r\n\r\n100:110\r\n\r\n104:10\r\n\r\n106:0111\r\n\r\n107:01100\r\n\r\n5, encoding the sentence concat all of the Huffman codes to a String data.\r\n\r\n    111111111111000100100001101001101101101100010101010101010000111011101100\r\n\r\n6, splitting them by 8 bits or chars\r\n\r\n    11111111, 11110001, 00100001, 10100110, 11011011, 00010101, 01010101, 00001110, 11101100\r\n\r\n7, transfering each String to a byte type \r\n    //length: 9 &lt; 29 (length of contentBytes)\r\n    encode bytes: [-1, -15, 33, -90, -37, 21, 85, 14, -20]\r\n8, decoding\r\n\r\n```\r\n int codeInt = 256 | -1;   //and so on\r\n String stringDecode = Integer.toBinaryString(temp);\r\n stringDecode.substring(stringDecode.length() - 8);\r\n\r\n```\r\n9, if the last 8 chars in step 6 started with &quot;0&quot;, I have the problem as I mentioned before.\r\n\r\nI wish I explained the problem clearly. I hope so. \r\nPlease visit my code on github if anyone were insterested.  [Huffuman Code][2]\r\n\r\nThank you, guys!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V0tYo.png\r\n  [2]: https://github.com/NicholasRabbit/Data-structure-and-algorithm/tree/master/9_BinaryTree/6_HuffManCode","title":"How to transfer a String data which starts with &quot;0&quot; to a byte type , and recover it without losing the &quot;0&quot; at the first place?","body":"<p>I was learning Huffman tree and code in Java recently. There is a serious problem when I am trying to encode the String binary. I will explain step by step.</p>\n<p>1, These are the original words that I'm going to encode:</p>\n<pre><code>String words = &quot;aa bbb cccc&quot;;\n</code></pre>\n<p>2, The map of the Huffman code, they are not the real code. I am trying to make some codes so that I can show you the problem as soon as possible;</p>\n<pre><code>a:1110 0110 (ignore the space, I deliberately added it for human readability)\nb:0001 1001\nc:011\n</code></pre>\n<p>3, I transfer the binary string into a byte array.</p>\n<pre><code>byte[] arr = {-20,31,3}\n</code></pre>\n<p>4, Decoding. I calculate each byte with 256(1,1111,1111) by bitwise OR in order to get the 0s back. Then I use the substring(..).</p>\n<pre><code>for(int i = 0; i &lt; bytes.length; i++) {\n    boolean isLast = i == bytes.length - 1;\n    String byteToString = byteToString(isLast, bytes[i]);\n    System.out.println(byteToString + &quot; &quot;);\n}\n</code></pre>\n<pre><code>public static String byteToString(boolean isLast,byte b) {\n    int temp = b;\n    if(!isLast) {\n        temp = 256 | temp;  //temp = 256 | -20;(256 | 31)\n    }\n        \n    String stringDecode = Integer.toBinaryString(temp);\n    if(!isLast){\n        return stringDecode.substring(stringDecode.length() - 8);\n    } else {\n        return stringDecode;\n    }\n}\n</code></pre>\n<p>result:</p>\n<pre><code>11101100\n00011111\n11   // the 0 is missing.\n</code></pre>\n<p>I was tring to do &quot;temp = 256 | 3&quot;,but I got &quot;00000011&quot;.It has too many 0s.\nI don't know whether I make myself clear.\nIf someone can do me a favour, I will very appreciate it. Thank you.</p>\n<p>================= edit</p>\n<p>1, String to encode</p>\n<p>`       String sentence = &quot;aaaa bb c dddd hhhhhhh jjk&quot;;\n//contentBytes.length() : 29\nbyte[] contentBytes = sentence.getBytes();</p>\n<p>`</p>\n<p>2, ANSCII and the times of appearances of the characters</p>\n<p><code>32:5 97:4 98:2 99:1 100:4 104:7 106:2 107:1 </code></p>\n<p>3,the Huffman Tree\n<a href=\"https://i.stack.imgur.com/V0tYo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V0tYo.png\" alt=\"enter image description here\" /></a></p>\n<p>4,then the Huffman code</p>\n<p>32:00</p>\n<p>97:111</p>\n<p>98:010</p>\n<p>99:01101</p>\n<p>100:110</p>\n<p>104:10</p>\n<p>106:0111</p>\n<p>107:01100</p>\n<p>5, encoding the sentence concat all of the Huffman codes to a String data.</p>\n<pre><code>111111111111000100100001101001101101101100010101010101010000111011101100\n</code></pre>\n<p>6, splitting them by 8 bits or chars</p>\n<pre><code>11111111, 11110001, 00100001, 10100110, 11011011, 00010101, 01010101, 00001110, 11101100\n</code></pre>\n<p>7, transfering each String to a byte type\n//length: 9 &lt; 29 (length of contentBytes)\nencode bytes: [-1, -15, 33, -90, -37, 21, 85, 14, -20]\n8, decoding</p>\n<pre><code> int codeInt = 256 | -1;   //and so on\n String stringDecode = Integer.toBinaryString(temp);\n stringDecode.substring(stringDecode.length() - 8);\n\n</code></pre>\n<p>9, if the last 8 chars in step 6 started with &quot;0&quot;, I have the problem as I mentioned before.</p>\n<p>I wish I explained the problem clearly. I hope so.\nPlease visit my code on github if anyone were insterested.  <a href=\"https://github.com/NicholasRabbit/Data-structure-and-algorithm/tree/master/9_BinaryTree/6_HuffManCode\" rel=\"nofollow noreferrer\">Huffuman Code</a></p>\n<p>Thank you, guys!</p>\n"},{"tags":["java","swing","tab-ordering"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1699921046,"post_id":77476337,"comment_id":136589066,"body_markdown":"Edit your question to include a [mre] that we can copy into our IDE, compile, and test.  Test test test.  Testing is super critical.","body":"Edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can copy into our IDE, compile, and test.  Test test test.  Testing is super critical."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1699921483,"post_id":77476337,"comment_id":136589106,"body_markdown":"1) Why are you creating custom focus traversal? I don&#39;t see any reason for this. Don&#39;t let the IDE force you to do something you don&#39;t need. 2) *when it should go to numPersons* - what &quot;numPersons&quot;? I don&#39;t see a component for that.","body":"1) Why are you creating custom focus traversal? I don&#39;t see any reason for this. Don&#39;t let the IDE force you to do something you don&#39;t need. 2) <i>when it should go to numPersons</i> - what &quot;numPersons&quot;? I don&#39;t see a component for that."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1699942098,"post_id":77476337,"comment_id":136590758,"body_markdown":"[Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>"},{"owner":{"account_id":29694129,"reputation":9,"user_id":22757847,"display_name":"tumorito"},"score":0,"creation_date":1699949784,"post_id":77476337,"comment_id":136591650,"body_markdown":"@GilbertLeBlanc i`ve already changed the question adding a simple class to reproduce the issue.  If there is any doubts about  my code please let me know","body":"@GilbertLeBlanc i`ve already changed the question adding a simple class to reproduce the issue.  If there is any doubts about  my code please let me know"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1699962870,"post_id":77476337,"comment_id":136593901,"body_markdown":"And that&#39;s why we ask for a [mre].  Once I saw the `JPanel` `null` layout, I knew there wasn&#39;t much point in finding any other problems.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"And that&#39;s why we ask for a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Once I saw the <code>JPanel</code> <code>null</code> layout, I knew there wasn&#39;t much point in finding any other problems.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1699975912,"post_id":77476337,"comment_id":136596530,"body_markdown":"That is NOT an [mre]. 1) You are using a 3rd party class. 2) Your question is about focus traversal. Therefore all the MouseListeners, ActionListeners, FocusListeners are irrelevant to the stated problem. All the custom Fonts, Borders and Colors are irrelevant to the stated problem. 3) Still haven&#39;t answered why you are attempting to change focus traversal. Simple answer is that changing the focus traversal is not as easy as you would think and I see no reason for you to do so.","body":"That is NOT an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. 1) You are using a 3rd party class. 2) Your question is about focus traversal. Therefore all the MouseListeners, ActionListeners, FocusListeners are irrelevant to the stated problem. All the custom Fonts, Borders and Colors are irrelevant to the stated problem. 3) Still haven&#39;t answered why you are attempting to change focus traversal. Simple answer is that changing the focus traversal is not as easy as you would think and I see no reason for you to do so."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700002541,"post_id":77476337,"comment_id":136601015,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":29694129,"reputation":9,"user_id":22757847,"display_name":"tumorito"},"score":0,"creation_date":1700057130,"post_id":77476337,"comment_id":136607940,"body_markdown":"@GilbertLeBlanc i am a student at the moment and my teacher taught me to always (or almost) use the null value for the JPanel, why is that bad or not a good practice?","body":"@GilbertLeBlanc i am a student at the moment and my teacher taught me to always (or almost) use the null value for the JPanel, why is that bad or not a good practice?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1700068125,"post_id":77476337,"comment_id":136610169,"body_markdown":"&quot;Although it is possible to do without a layout manager, you should use a layout manager if at all possible. A layout manager makes it easier to adjust to look-and-feel-dependent component appearances, to different font sizes, to a container&#39;s changing size, and to different locales.&quot;  [Doing Without a Layout Manager (Absolute Positioning)](https://docs.oracle.com/javase/tutorial/uiswing/layout/none.html).  Good luck getting a JScrollPane or tabs working correctly.","body":"&quot;Although it is possible to do without a layout manager, you should use a layout manager if at all possible. A layout manager makes it easier to adjust to look-and-feel-dependent component appearances, to different font sizes, to a container&#39;s changing size, and to different locales.&quot;  <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/none.html\" rel=\"nofollow noreferrer\">Doing Without a Layout Manager (Absolute Positioning)</a>.  Good luck getting a JScrollPane or tabs working correctly."}],"owner":{"account_id":29694129,"reputation":9,"user_id":22757847,"display_name":"tumorito"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699949549,"creation_date":1699903199,"question_id":77476337,"body_markdown":"I have the tab order set with `setFocusTraversalPolicy(new FocusTraversalOnArray(new Component[]{hotel, individual, multiple, numPersons, accept, cancel, exit}));` (made with swing builder automatically creating also the class itself). it works perfectly until it goes into the JRadioButtons, they are in a ButtonGroup(which i think where the problem remains). Once it entered there, the tab doesnt work anymore (when it should go to numPersons) BUT the shift+tab does work perfectly (going to hotel).\r\n\r\nHere is a picture of the UI for more clarification: \r\n[![enter image description here](https://i.stack.imgur.com/E7QHE.png)](https://i.stack.imgur.com/E7QHE.png)\r\n\r\nHere is the class FocusTraversalOnArray that the swing builder created:\r\n\r\n```\r\n/*******************************************************************************\r\n * Copyright (c) 2011, 2023 Google, Inc.\r\n * All rights reserved. This program and the accompanying materials\r\n * are made available under the terms of the Eclipse Public License v1.0\r\n * which accompanies this distribution, and is available at\r\n * http://www.eclipse.org/legal/epl-v10.html\r\n *\r\n * Contributors:\r\n *    Google, Inc. - initial API and implementation\r\n *******************************************************************************/\r\npackage org.eclipse.wb.swing;\r\n\r\nimport java.awt.Component;\r\nimport java.awt.Container;\r\nimport java.awt.FocusTraversalPolicy;\r\n\r\n/**\r\n * Cyclic focus traversal policy based on array of components.\r\n * &lt;p&gt;\r\n * This class may be freely distributed as part of any application or plugin.\r\n * \r\n * @author scheglov_ke\r\n */\r\npublic class FocusTraversalOnArray extends FocusTraversalPolicy {\r\n\tprivate final Component m_Components[];\r\n\t////////////////////////////////////////////////////////////////////////////\r\n\t//\r\n\t// Constructor\r\n\t//\r\n\t////////////////////////////////////////////////////////////////////////////\r\n\tpublic FocusTraversalOnArray(Component components[]) {\r\n\t\tm_Components = components;\r\n\t}\r\n\t////////////////////////////////////////////////////////////////////////////\r\n\t//\r\n\t// Utilities\r\n\t//\r\n\t////////////////////////////////////////////////////////////////////////////\r\n\tprivate int indexCycle(int index, int delta) {\r\n\t\tint size = m_Components.length;\r\n\t\tint next = (index + delta + size) % size;\r\n\t\treturn next;\r\n\t}\r\n\tprivate Component cycle(Component currentComponent, int delta) {\r\n\t\tint index = -1;\r\n\t\tloop : for (int i = 0; i &lt; m_Components.length; i++) {\r\n\t\t\tComponent component = m_Components[i];\r\n\t\t\tfor (Component c = currentComponent; c != null; c = c.getParent()) {\r\n\t\t\t\tif (component == c) {\r\n\t\t\t\t\tindex = i;\r\n\t\t\t\t\tbreak loop;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// try to find enabled component in &quot;delta&quot; direction\r\n\t\tint initialIndex = index;\r\n\t\twhile (true) {\r\n\t\t\tint newIndex = indexCycle(index, delta);\r\n\t\t\tif (newIndex == initialIndex) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tindex = newIndex;\r\n\t\t\t//\r\n\t\t\tComponent component = m_Components[newIndex];\r\n\t\t\tif (component.isEnabled() &amp;&amp; component.isVisible() &amp;&amp; component.isFocusable()) {\r\n\t\t\t\treturn component;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// not found\r\n\t\treturn currentComponent;\r\n\t}\r\n\t////////////////////////////////////////////////////////////////////////////\r\n\t//\r\n\t// FocusTraversalPolicy\r\n\t//\r\n\t////////////////////////////////////////////////////////////////////////////\r\n\tpublic Component getComponentAfter(Container container, Component component) {\r\n\t\treturn cycle(component, 1);\r\n\t}\r\n\tpublic Component getComponentBefore(Container container, Component component) {\r\n\t\treturn cycle(component, -1);\r\n\t}\r\n\tpublic Component getFirstComponent(Container container) {\r\n\t\treturn m_Components[0];\r\n\t}\r\n\tpublic Component getLastComponent(Container container) {\r\n\t\treturn m_Components[m_Components.length - 1];\r\n\t}\r\n\tpublic Component getDefaultComponent(Container container) {\r\n\t\treturn getFirstComponent(container);\r\n\t}\r\n}\r\n```\r\n\r\nAlso here is a simple class to recreate what im saying(it has more functionality ive changed to make it simple but it&#180;s just to recreate the tab problem):\r\n\r\n```\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Component;\r\nimport java.awt.Cursor;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.FocusEvent;\r\nimport java.awt.event.FocusListener;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseMotionListener;\r\n\r\nimport javax.swing.ButtonGroup;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JCheckBox;\r\nimport javax.swing.JDialog;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JRadioButton;\r\nimport javax.swing.JSeparator;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.SwingConstants;\r\nimport javax.swing.border.EmptyBorder;\r\nimport javax.swing.border.EtchedBorder;\r\n\r\nimport org.eclipse.wb.swing.FocusTraversalOnArray;\r\n\r\npublic class ReservaStack extends JDialog implements ActionListener , MouseListener, MouseMotionListener, FocusListener {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate JPanel contentPane;\r\n\tprivate JPanel panel;\r\n\tprivate JButton exit;\r\n\t\r\n\tprivate JCheckBox hotel;\r\n\tprivate JLabel hotelLbl;\r\n\tprivate JRadioButton individual;\r\n\tprivate JRadioButton doble;\r\n\tprivate JRadioButton multiple;\r\n\tprivate JTextField numPersonas;\r\n\tprivate JButton accept;\r\n\tprivate JButton cancel;\r\n\tprivate final ButtonGroup habitacionTipo = new ButtonGroup();\r\n\t\r\n\tint yMouse;\r\n\tint xMouse;\r\n\t\r\n\t/*\r\n\t * Launch application\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tReservaStack frame = new ReservaStack();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * Create the frame.\r\n\t */\r\n\tpublic ReservaStack() {\r\n\t\tsetResizable(false);\r\n\t\tsetUndecorated(true);\r\n\t\tsetModal(true);\r\n\t\tsetBounds(100, 100, 600, 400);\r\n\t\tcontentPane = new JPanel();\r\n\t\tcontentPane.setBackground(new Color(255, 255, 255));\r\n\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\r\n\t\tsetContentPane(contentPane);\r\n\t\tcontentPane.setLayout(null);\r\n\t\t\r\n\t\tpanel = new JPanel();\r\n\t\tpanel.addMouseListener(this);\r\n\t\tpanel.addMouseMotionListener(this);\r\n\t\tpanel.setBackground(new Color(255, 255, 255));\r\n\t\tpanel.setBounds(0, 0, 600, 33);\r\n\t\tcontentPane.add(panel);\r\n\t\tpanel.setLayout(null);\r\n\t\t\r\n\t\texit = new JButton(&quot;X&quot;);\r\n\t\texit.addActionListener(this);\r\n\t\texit.addMouseListener(this);\r\n\t\texit.addFocusListener(this);\r\n\t\texit.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 16));\r\n\t\texit.setBorder(null);\r\n\t\texit.setFocusPainted(false);\r\n\t\texit.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\texit.setContentAreaFilled(false);\r\n\t\texit.setBounds(0, 0, 63, 33);\r\n\t\tpanel.add(exit);\r\n\t\t\r\n\t\tJLabel reserva = new JLabel(&quot;BOOK&quot;);\r\n\t\treserva.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\treserva.setFont(new Font(&quot;Cascadia Code&quot;, Font.BOLD, 20));\r\n\t\treserva.setForeground(new Color(255, 255, 255));\r\n\t\treserva.setOpaque(true);\r\n\t\treserva.setBackground(new Color(0, 64, 128));\r\n\t\treserva.setBounds(0, 33, 600, 83);\r\n\t\tcontentPane.add(reserva);\r\n\t\t\r\n\t\thotel = new JCheckBox(&quot;Book a hotel&quot;);\r\n\t\thotel.addActionListener(this);\r\n\t\thotel.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\r\n\t\thotel.setBackground(Color.WHITE);\r\n\t\thotel.setBounds(371, 123, 180, 23);\r\n\t\tcontentPane.add(hotel);\r\n\t\t\r\n\t\thotelLbl = new JLabel();\r\n\t\thotelLbl.setText(&quot;Room type&quot;);\r\n\t\thotelLbl.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\r\n\t\thotelLbl.setBorder(null);\r\n\t\thotelLbl.setBounds(381, 152, 150, 23);\r\n\t\tcontentPane.add(hotelLbl);\r\n\t\t\r\n\t\tindividual = new JRadioButton(&quot;Individual&quot;);\r\n\t\tindividual.addActionListener(this);\r\n\t\tindividual.setEnabled(false);\r\n\t\tindividual.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\r\n\t\tindividual.setOpaque(false);\r\n\t\thabitacionTipo.add(individual);\r\n\t\tindividual.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\tindividual.setBounds(391, 186, 109, 23);\r\n\t\tcontentPane.add(individual);\r\n\t\t\r\n\t\tdoble = new JRadioButton(&quot;Double&quot;);\r\n\t\tdoble.addActionListener(this);\r\n\t\tdoble.setEnabled(false);\r\n\t\tdoble.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\r\n\t\tdoble.setOpaque(false);\r\n\t\thabitacionTipo.add(doble);\r\n\t\tdoble.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\tdoble.setBounds(391, 220, 109, 23);\r\n\t\tcontentPane.add(doble);\r\n\t\t\r\n\t\tmultiple = new JRadioButton(&quot;Multiple&quot;);\r\n\t\tmultiple.addActionListener(this);\r\n\t\tmultiple.setEnabled(false);\r\n\t\tmultiple.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\r\n\t\tmultiple.setOpaque(false);\r\n\t\thabitacionTipo.add(multiple);\r\n\t\tmultiple.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\tmultiple.setBounds(391, 254, 109, 23);\r\n\t\tcontentPane.add(multiple);\r\n\t\t\r\n\t\tnumPersonas = new JTextField();\r\n\t\tnumPersonas.setEnabled(false);\r\n\t\tnumPersonas.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\r\n\t\tnumPersonas.setBorder(null);\r\n\t\tnumPersonas.setBounds(401, 283, 150, 23);\r\n\t\tnumPersonas.setToolTipText(&quot;Introduce el numero de personas&quot;);\r\n\t\tcontentPane.add(numPersonas);\r\n\t\t\r\n\t\tJSeparator separatorNumPers = new JSeparator();\r\n\t\tseparatorNumPers.setForeground(Color.BLACK);\r\n\t\tseparatorNumPers.setBounds(401, 308, 150, 2);\r\n\t\tcontentPane.add(separatorNumPers);\r\n\t\t\r\n\t\taccept = new JButton(&quot;Accept&quot;);\r\n\t\taccept.addActionListener(this);\r\n\t\taccept.addMouseListener(this);\r\n\t\taccept.addFocusListener(this);\r\n\t\taccept.setEnabled(false);\r\n\t\taccept.setBounds(335, 346, 93, 27);\r\n\t\taccept.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));\r\n\t\taccept.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\taccept.setFocusPainted(false);\r\n\t\taccept.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\r\n\t\taccept.setContentAreaFilled(false);\r\n\t\tcontentPane.add(accept);\r\n\t\t\r\n\t\tcancel = new JButton(&quot;Cancel&quot;);\r\n\t\tcancel.addActionListener(this);\r\n\t\tcancel.addMouseListener(this);\r\n\t\tcancel.addFocusListener(this);\r\n\t\tcancel.setBounds(438, 346, 93, 27);\r\n\t\tcancel.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));\r\n\t\tcancel.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\tcancel.setFocusPainted(false);\r\n\t\tcancel.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\r\n\t\tcancel.setContentAreaFilled(false);\r\n\t\tcontentPane.add(cancel);\r\n\t\t\r\n\t\tsetFocusTraversalPolicy(new FocusTraversalOnArray(new Component[]{hotel, individual, doble, multiple, numPersonas, accept, cancel, exit}));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif (hotel == e.getSource()) {\r\n\t\t\tindividual.setEnabled(!individual.isEnabled());\r\n\t\t\tdoble.setEnabled(!doble.isEnabled());\r\n\t\t\tmultiple.setEnabled(!multiple.isEnabled());\r\n\t\t\t\r\n\t\t\tif (hotel.isSelected()) {\r\n\t\t\t\taccept.setEnabled(true);\r\n\t\t\t} else {\r\n\t\t\t\taccept.setEnabled(false);\r\n\t\t\t}\r\n\r\n\t\t\tif (!hotel.isSelected()) {\r\n\t\t\t\thabitacionTipo.clearSelection();\r\n\t\t\t\tnumPersonas.setText(&quot;&quot;);\r\n\t\t\t\tnumPersonas.setEnabled(false);\r\n\r\n\t\t\t}\r\n\t\t} else if (multiple == e.getSource()) {\r\n\t\t\tnumPersonas.setEnabled(true);\r\n\t\t} else if (individual == e.getSource() || doble == e.getSource()) {\r\n\t\t\tnumPersonas.setText(&quot;&quot;);\r\n\t\t\tnumPersonas.setEnabled(false);\r\n\t\t} else if (accept == e.getSource()) {\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;You pressed accept&quot;);\r\n\t\t} else if (cancel == e.getSource() || exit == e.getSource()) {\r\n\t\t\tthis.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\t@Override\r\n\tpublic void mouseClicked(MouseEvent e) {}\r\n\r\n\t@Override\r\n\tpublic void mousePressed(MouseEvent e) {\r\n\t\tif (panel == e.getSource()) {\r\n\t\t\txMouse = e.getX();\r\n\t\t\tyMouse = e.getY();\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseReleased(MouseEvent e) {}\r\n\t\r\n\t@Override\r\n\tpublic void mouseEntered(MouseEvent e) {\r\n\t\tif (accept == e.getSource()) {\r\n\t\t\tif (accept.isEnabled()) {\r\n\t\t\t\taccept.setOpaque(true);\r\n\t\t\t\taccept.setBackground(new Color(0, 64, 128));\r\n\t\t\t\taccept.setForeground(Color.WHITE);\r\n\t\t\t}\r\n\t\t} else if (cancel == e.getSource()) {\r\n\t\t\tcancel.setOpaque(true);\r\n\t\t\tcancel.setBackground(new Color(0, 64, 128));\r\n\t\t\tcancel.setForeground(Color.WHITE);\r\n\t\t} else if (exit == e.getSource()) {\r\n\t\t\texit.setOpaque(true);\r\n\t\t\texit.setBackground(Color.RED);\r\n\t\t\texit.setForeground(Color.WHITE);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseExited(MouseEvent e) {\r\n\t\tif (accept == e.getSource()) {\r\n\t\t\taccept.setBackground(Color.WHITE);\r\n\t\t\taccept.setForeground(Color.BLACK);\r\n\t\t} else if (cancel == e.getSource()) {\r\n\t\t\tcancel.setBackground(Color.WHITE);\r\n\t\t\tcancel.setForeground(Color.BLACK);\r\n\t\t} else if (exit == e.getSource()) {\r\n\t\t\texit.setBackground(Color.WHITE);\r\n\t\t\texit.setForeground(Color.BLACK);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseDragged(MouseEvent e) {\r\n\t\tif (panel == e.getSource()) {\r\n\t\t\tint x = e.getXOnScreen();\r\n\t\t\tint y = e.getYOnScreen();\r\n\t\t\tthis.setLocation(x - xMouse, y - yMouse);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseMoved(MouseEvent e) {}\r\n\r\n\t@Override\r\n\tpublic void focusGained(FocusEvent e) {\r\n\t\tif (accept == e.getSource()) {\r\n\t\t\taccept.setOpaque(true);\r\n\t\t\taccept.setBackground(new Color(0, 64, 128));\r\n\t\t\taccept.setForeground(Color.WHITE);\r\n\t\t} else if (cancel == e.getSource()) {\r\n\t\t\tcancel.setOpaque(true);\r\n\t\t\tcancel.setBackground(new Color(0, 64, 128));\r\n\t\t\tcancel.setForeground(Color.WHITE);\r\n\t\t} else if (exit == e.getSource()) {\r\n\t\t\texit.setOpaque(true);\r\n\t\t\texit.setBackground(Color.RED);\r\n\t\t\texit.setForeground(Color.WHITE);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void focusLost(FocusEvent e) {\r\n\t\tif (accept == e.getSource()) {\r\n\t\t\taccept.setBackground(Color.WHITE);\r\n\t\t\taccept.setForeground(Color.BLACK);\r\n\t\t} else if (cancel == e.getSource()) {\r\n\t\t\tcancel.setBackground(Color.WHITE);\r\n\t\t\tcancel.setForeground(Color.BLACK);\r\n\t\t} else if (exit == e.getSource()) {\r\n\t\t\texit.setBackground(Color.WHITE);\r\n\t\t\texit.setForeground(Color.BLACK);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"Tabs stop working on JRadioButtons but shift + tab still do","body":"<p>I have the tab order set with <code>setFocusTraversalPolicy(new FocusTraversalOnArray(new Component[]{hotel, individual, multiple, numPersons, accept, cancel, exit}));</code> (made with swing builder automatically creating also the class itself). it works perfectly until it goes into the JRadioButtons, they are in a ButtonGroup(which i think where the problem remains). Once it entered there, the tab doesnt work anymore (when it should go to numPersons) BUT the shift+tab does work perfectly (going to hotel).</p>\n<p>Here is a picture of the UI for more clarification:\n<a href=\"https://i.stack.imgur.com/E7QHE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E7QHE.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the class FocusTraversalOnArray that the swing builder created:</p>\n<pre><code>/*******************************************************************************\n * Copyright (c) 2011, 2023 Google, Inc.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *    Google, Inc. - initial API and implementation\n *******************************************************************************/\npackage org.eclipse.wb.swing;\n\nimport java.awt.Component;\nimport java.awt.Container;\nimport java.awt.FocusTraversalPolicy;\n\n/**\n * Cyclic focus traversal policy based on array of components.\n * &lt;p&gt;\n * This class may be freely distributed as part of any application or plugin.\n * \n * @author scheglov_ke\n */\npublic class FocusTraversalOnArray extends FocusTraversalPolicy {\n    private final Component m_Components[];\n    ////////////////////////////////////////////////////////////////////////////\n    //\n    // Constructor\n    //\n    ////////////////////////////////////////////////////////////////////////////\n    public FocusTraversalOnArray(Component components[]) {\n        m_Components = components;\n    }\n    ////////////////////////////////////////////////////////////////////////////\n    //\n    // Utilities\n    //\n    ////////////////////////////////////////////////////////////////////////////\n    private int indexCycle(int index, int delta) {\n        int size = m_Components.length;\n        int next = (index + delta + size) % size;\n        return next;\n    }\n    private Component cycle(Component currentComponent, int delta) {\n        int index = -1;\n        loop : for (int i = 0; i &lt; m_Components.length; i++) {\n            Component component = m_Components[i];\n            for (Component c = currentComponent; c != null; c = c.getParent()) {\n                if (component == c) {\n                    index = i;\n                    break loop;\n                }\n            }\n        }\n        // try to find enabled component in &quot;delta&quot; direction\n        int initialIndex = index;\n        while (true) {\n            int newIndex = indexCycle(index, delta);\n            if (newIndex == initialIndex) {\n                break;\n            }\n            index = newIndex;\n            //\n            Component component = m_Components[newIndex];\n            if (component.isEnabled() &amp;&amp; component.isVisible() &amp;&amp; component.isFocusable()) {\n                return component;\n            }\n        }\n        // not found\n        return currentComponent;\n    }\n    ////////////////////////////////////////////////////////////////////////////\n    //\n    // FocusTraversalPolicy\n    //\n    ////////////////////////////////////////////////////////////////////////////\n    public Component getComponentAfter(Container container, Component component) {\n        return cycle(component, 1);\n    }\n    public Component getComponentBefore(Container container, Component component) {\n        return cycle(component, -1);\n    }\n    public Component getFirstComponent(Container container) {\n        return m_Components[0];\n    }\n    public Component getLastComponent(Container container) {\n        return m_Components[m_Components.length - 1];\n    }\n    public Component getDefaultComponent(Container container) {\n        return getFirstComponent(container);\n    }\n}\n</code></pre>\n<p>Also here is a simple class to recreate what im saying(it has more functionality ive changed to make it simple but it´s just to recreate the tab problem):</p>\n<pre><code>\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Cursor;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.FocusEvent;\nimport java.awt.event.FocusListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\n\nimport javax.swing.ButtonGroup;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JDialog;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.JSeparator;\nimport javax.swing.JTextField;\nimport javax.swing.SwingConstants;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.EtchedBorder;\n\nimport org.eclipse.wb.swing.FocusTraversalOnArray;\n\npublic class ReservaStack extends JDialog implements ActionListener , MouseListener, MouseMotionListener, FocusListener {\n\n    private static final long serialVersionUID = 1L;\n    private JPanel contentPane;\n    private JPanel panel;\n    private JButton exit;\n    \n    private JCheckBox hotel;\n    private JLabel hotelLbl;\n    private JRadioButton individual;\n    private JRadioButton doble;\n    private JRadioButton multiple;\n    private JTextField numPersonas;\n    private JButton accept;\n    private JButton cancel;\n    private final ButtonGroup habitacionTipo = new ButtonGroup();\n    \n    int yMouse;\n    int xMouse;\n    \n    /*\n     * Launch application\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    ReservaStack frame = new ReservaStack();\n                    frame.setVisible(true);\n                    frame.setLocationRelativeTo(null);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n    \n    /**\n     * Create the frame.\n     */\n    public ReservaStack() {\n        setResizable(false);\n        setUndecorated(true);\n        setModal(true);\n        setBounds(100, 100, 600, 400);\n        contentPane = new JPanel();\n        contentPane.setBackground(new Color(255, 255, 255));\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n        \n        panel = new JPanel();\n        panel.addMouseListener(this);\n        panel.addMouseMotionListener(this);\n        panel.setBackground(new Color(255, 255, 255));\n        panel.setBounds(0, 0, 600, 33);\n        contentPane.add(panel);\n        panel.setLayout(null);\n        \n        exit = new JButton(&quot;X&quot;);\n        exit.addActionListener(this);\n        exit.addMouseListener(this);\n        exit.addFocusListener(this);\n        exit.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 16));\n        exit.setBorder(null);\n        exit.setFocusPainted(false);\n        exit.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        exit.setContentAreaFilled(false);\n        exit.setBounds(0, 0, 63, 33);\n        panel.add(exit);\n        \n        JLabel reserva = new JLabel(&quot;BOOK&quot;);\n        reserva.setHorizontalAlignment(SwingConstants.CENTER);\n        reserva.setFont(new Font(&quot;Cascadia Code&quot;, Font.BOLD, 20));\n        reserva.setForeground(new Color(255, 255, 255));\n        reserva.setOpaque(true);\n        reserva.setBackground(new Color(0, 64, 128));\n        reserva.setBounds(0, 33, 600, 83);\n        contentPane.add(reserva);\n        \n        hotel = new JCheckBox(&quot;Book a hotel&quot;);\n        hotel.addActionListener(this);\n        hotel.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\n        hotel.setBackground(Color.WHITE);\n        hotel.setBounds(371, 123, 180, 23);\n        contentPane.add(hotel);\n        \n        hotelLbl = new JLabel();\n        hotelLbl.setText(&quot;Room type&quot;);\n        hotelLbl.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\n        hotelLbl.setBorder(null);\n        hotelLbl.setBounds(381, 152, 150, 23);\n        contentPane.add(hotelLbl);\n        \n        individual = new JRadioButton(&quot;Individual&quot;);\n        individual.addActionListener(this);\n        individual.setEnabled(false);\n        individual.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\n        individual.setOpaque(false);\n        habitacionTipo.add(individual);\n        individual.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        individual.setBounds(391, 186, 109, 23);\n        contentPane.add(individual);\n        \n        doble = new JRadioButton(&quot;Double&quot;);\n        doble.addActionListener(this);\n        doble.setEnabled(false);\n        doble.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\n        doble.setOpaque(false);\n        habitacionTipo.add(doble);\n        doble.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        doble.setBounds(391, 220, 109, 23);\n        contentPane.add(doble);\n        \n        multiple = new JRadioButton(&quot;Multiple&quot;);\n        multiple.addActionListener(this);\n        multiple.setEnabled(false);\n        multiple.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\n        multiple.setOpaque(false);\n        habitacionTipo.add(multiple);\n        multiple.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        multiple.setBounds(391, 254, 109, 23);\n        contentPane.add(multiple);\n        \n        numPersonas = new JTextField();\n        numPersonas.setEnabled(false);\n        numPersonas.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\n        numPersonas.setBorder(null);\n        numPersonas.setBounds(401, 283, 150, 23);\n        numPersonas.setToolTipText(&quot;Introduce el numero de personas&quot;);\n        contentPane.add(numPersonas);\n        \n        JSeparator separatorNumPers = new JSeparator();\n        separatorNumPers.setForeground(Color.BLACK);\n        separatorNumPers.setBounds(401, 308, 150, 2);\n        contentPane.add(separatorNumPers);\n        \n        accept = new JButton(&quot;Accept&quot;);\n        accept.addActionListener(this);\n        accept.addMouseListener(this);\n        accept.addFocusListener(this);\n        accept.setEnabled(false);\n        accept.setBounds(335, 346, 93, 27);\n        accept.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));\n        accept.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        accept.setFocusPainted(false);\n        accept.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\n        accept.setContentAreaFilled(false);\n        contentPane.add(accept);\n        \n        cancel = new JButton(&quot;Cancel&quot;);\n        cancel.addActionListener(this);\n        cancel.addMouseListener(this);\n        cancel.addFocusListener(this);\n        cancel.setBounds(438, 346, 93, 27);\n        cancel.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));\n        cancel.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        cancel.setFocusPainted(false);\n        cancel.setFont(new Font(&quot;Cascadia Code&quot;, Font.PLAIN, 13));\n        cancel.setContentAreaFilled(false);\n        contentPane.add(cancel);\n        \n        setFocusTraversalPolicy(new FocusTraversalOnArray(new Component[]{hotel, individual, doble, multiple, numPersonas, accept, cancel, exit}));\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (hotel == e.getSource()) {\n            individual.setEnabled(!individual.isEnabled());\n            doble.setEnabled(!doble.isEnabled());\n            multiple.setEnabled(!multiple.isEnabled());\n            \n            if (hotel.isSelected()) {\n                accept.setEnabled(true);\n            } else {\n                accept.setEnabled(false);\n            }\n\n            if (!hotel.isSelected()) {\n                habitacionTipo.clearSelection();\n                numPersonas.setText(&quot;&quot;);\n                numPersonas.setEnabled(false);\n\n            }\n        } else if (multiple == e.getSource()) {\n            numPersonas.setEnabled(true);\n        } else if (individual == e.getSource() || doble == e.getSource()) {\n            numPersonas.setText(&quot;&quot;);\n            numPersonas.setEnabled(false);\n        } else if (accept == e.getSource()) {\n            JOptionPane.showMessageDialog(null, &quot;You pressed accept&quot;);\n        } else if (cancel == e.getSource() || exit == e.getSource()) {\n            this.dispose();\n        }\n    }\n\n    \n    @Override\n    public void mouseClicked(MouseEvent e) {}\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        if (panel == e.getSource()) {\n            xMouse = e.getX();\n            yMouse = e.getY();\n        }\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {}\n    \n    @Override\n    public void mouseEntered(MouseEvent e) {\n        if (accept == e.getSource()) {\n            if (accept.isEnabled()) {\n                accept.setOpaque(true);\n                accept.setBackground(new Color(0, 64, 128));\n                accept.setForeground(Color.WHITE);\n            }\n        } else if (cancel == e.getSource()) {\n            cancel.setOpaque(true);\n            cancel.setBackground(new Color(0, 64, 128));\n            cancel.setForeground(Color.WHITE);\n        } else if (exit == e.getSource()) {\n            exit.setOpaque(true);\n            exit.setBackground(Color.RED);\n            exit.setForeground(Color.WHITE);\n        }\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n        if (accept == e.getSource()) {\n            accept.setBackground(Color.WHITE);\n            accept.setForeground(Color.BLACK);\n        } else if (cancel == e.getSource()) {\n            cancel.setBackground(Color.WHITE);\n            cancel.setForeground(Color.BLACK);\n        } else if (exit == e.getSource()) {\n            exit.setBackground(Color.WHITE);\n            exit.setForeground(Color.BLACK);\n        }\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent e) {\n        if (panel == e.getSource()) {\n            int x = e.getXOnScreen();\n            int y = e.getYOnScreen();\n            this.setLocation(x - xMouse, y - yMouse);\n        }\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {}\n\n    @Override\n    public void focusGained(FocusEvent e) {\n        if (accept == e.getSource()) {\n            accept.setOpaque(true);\n            accept.setBackground(new Color(0, 64, 128));\n            accept.setForeground(Color.WHITE);\n        } else if (cancel == e.getSource()) {\n            cancel.setOpaque(true);\n            cancel.setBackground(new Color(0, 64, 128));\n            cancel.setForeground(Color.WHITE);\n        } else if (exit == e.getSource()) {\n            exit.setOpaque(true);\n            exit.setBackground(Color.RED);\n            exit.setForeground(Color.WHITE);\n        }\n    }\n\n    @Override\n    public void focusLost(FocusEvent e) {\n        if (accept == e.getSource()) {\n            accept.setBackground(Color.WHITE);\n            accept.setForeground(Color.BLACK);\n        } else if (cancel == e.getSource()) {\n            cancel.setBackground(Color.WHITE);\n            cancel.setForeground(Color.BLACK);\n        } else if (exit == e.getSource()) {\n            exit.setBackground(Color.WHITE);\n            exit.setForeground(Color.BLACK);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","file-upload","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1622644338,"post_id":67807069,"comment_id":119852049,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":11525391,"reputation":27,"user_id":8446019,"display_name":"Anon5678"},"score":0,"creation_date":1622644623,"post_id":67807069,"comment_id":119852167,"body_markdown":"@AlexMamo When the uploadImage method is called it says no image found. I&#39;m assuming its something to do with the URI not being set properly.","body":"@AlexMamo When the uploadImage method is called it says no image found. I&#39;m assuming its something to do with the URI not being set properly."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1622644723,"post_id":67807069,"comment_id":119852208,"body_markdown":"This means that the `filePath` is null, right?","body":"This means that the <code>filePath</code> is null, right?"},{"owner":{"account_id":11525391,"reputation":27,"user_id":8446019,"display_name":"Anon5678"},"score":0,"creation_date":1622644815,"post_id":67807069,"comment_id":119852243,"body_markdown":"@AlexMamo yes that seems to be the case... I can&#39;t understand why filePath is null","body":"@AlexMamo yes that seems to be the case... I can&#39;t understand why filePath is null"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1622644968,"post_id":67807069,"comment_id":119852313,"body_markdown":"You should try to debug your app to see why that filePath holds the value of null.","body":"You should try to debug your app to see why that filePath holds the value of null."},{"owner":{"display_name":"user15537898"},"score":0,"creation_date":1622645859,"post_id":67807069,"comment_id":119852771,"body_markdown":"@Anon5678 Which toast message it shows when uploading the image","body":"@Anon5678 Which toast message it shows when uploading the image"},{"owner":{"account_id":11525391,"reputation":27,"user_id":8446019,"display_name":"Anon5678"},"score":0,"creation_date":1622645916,"post_id":67807069,"comment_id":119852799,"body_markdown":"@SagarRawal &quot;No image found&quot; is displayed.","body":"@SagarRawal &quot;No image found&quot; is displayed."},{"owner":{"display_name":"user15537898"},"score":0,"creation_date":1622646450,"post_id":67807069,"comment_id":119853079,"body_markdown":"@Anon5678 Try my code in the answer,  it works for me see if it does for you","body":"@Anon5678 Try my code in the answer,  it works for me see if it does for you"}],"answers":[{"comments":[{"owner":{"account_id":11525391,"reputation":27,"user_id":8446019,"display_name":"Anon5678"},"score":0,"creation_date":1622646462,"post_id":67807712,"comment_id":119853082,"body_markdown":"Thank you so much for the code but unfortunately I already similar code for getting an image from the gallery and it works to firebase.","body":"Thank you so much for the code but unfortunately I already similar code for getting an image from the gallery and it works to firebase."},{"owner":{"display_name":"user15537898"},"score":0,"creation_date":1622646704,"post_id":67807712,"comment_id":119853187,"body_markdown":"ok I&#39;m very sorry I didn&#39;t see that you want to open the camera intent and not the gallery intent but I have found a question similar to you see if the answer works for you https://stackoverflow.com/questions/2729267/android-camera-intent","body":"ok I&#39;m very sorry I didn&#39;t see that you want to open the camera intent and not the gallery intent but I have found a question similar to you see if the answer works for you <a href=\"https://stackoverflow.com/questions/2729267/android-camera-intent\" title=\"android camera intent\">stackoverflow.com/questions/2729267/android-camera-intent</a>"}],"tags":[],"owner":{"display_name":"user15537898"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622646226,"creation_date":1622646226,"answer_id":67807712,"question_id":67807069,"body_markdown":"This is my code which I used for my app and worked fine, try it if it works then congrats\r\n\r\n\r\n     public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            View view = inflater.inflate(R.layout.fragment_upload, container, false);\r\n            requireActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n            Button chooseImageButton = view.findViewById(R.id.upload_image_button);\r\n            Button uploadImageButton = view.findViewById(R.id.done_button);\r\n            uploadImageView = view.findViewById(R.id.upload_image_view);\r\n            storageReference = FirebaseStorage.getInstance().getReference(&quot;uploads&quot;);\r\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;uploads&quot;);\r\n            chooseImageButton.setOnClickListener(v -&gt; openFileChooser());\r\n            uploadImageButton.setOnClickListener(v -&gt; {\r\n                if (mUploadTask != null &amp;&amp; mUploadTask.isInProgress()) {\r\n                    Toast.makeText(getActivity(), &quot;Upload in Progress&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                } else {\r\n                    uploadToFirebase(mImageUri);\r\n                }\r\n    \r\n    \r\n            });\r\n    \r\n            return view;\r\n        }\r\n    \r\n    \r\n        private void openFileChooser() {\r\n            Intent intent = new Intent();\r\n            intent.setType(&quot;image/*&quot;);\r\n            intent.setAction(Intent.ACTION_GET_CONTENT);\r\n            startActivityForResult(intent, PICK_IMAGE_REQUEST);\r\n        }\r\n    \r\n        @Override\r\n        public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK\r\n                    &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n                mImageUri = data.getData();\r\n                Picasso.get().load(mImageUri).into(uploadImageView);\r\n    \r\n            }\r\n        }\r\n    \r\n        private String getFileExtension(Uri uri) {\r\n    \r\n            ContentResolver contentResolver = requireActivity().getContentResolver();\r\n            MimeTypeMap mime = MimeTypeMap.getSingleton();\r\n            return mime.getExtensionFromMimeType(contentResolver.getType(uri));\r\n        }\r\n    \r\n        private void uploadToFirebase(Uri mImageUri) {\r\n            if (mImageUri != null) {\r\n                final ProgressDialog progressDialog = new ProgressDialog(getActivity());\r\n                progressDialog.setTitle(&quot;Uploading...&quot;);\r\n                progressDialog.show();\r\n    \r\n                StorageReference reference = storageReference.child(System.currentTimeMillis()\r\n                        + &quot;.&quot; + getFileExtension(mImageUri));\r\n                reference.putFile(mImageUri)\r\n                        .addOnSuccessListener(taskSnapshot -&gt; {\r\n                            progressDialog.dismiss();\r\n                            Toast.makeText(getActivity(), &quot;Saved Succesfully&quot;, Toast.LENGTH_SHORT).show();\r\n                            reference.getDownloadUrl()\r\n                                    .addOnSuccessListener(uri -&gt; {\r\n                                        Upload upload = new Upload(uri.toString());\r\n                                        String uploadId = databaseReference.push().getKey();\r\n                                        databaseReference.child(uploadId).setValue(upload);\r\n                                    });\r\n                        })\r\n                        .addOnProgressListener(snapshot -&gt; {\r\n                            double progress = (100.0 * snapshot.getBytesTransferred() / snapshot\r\n                                    .getTotalByteCount());\r\n                            progressDialog.setMessage(&quot;Uploaded &quot; + (int) progress + &quot;%&quot;);\r\n                        })\r\n                        .addOnFailureListener(e -&gt; {\r\n                            progressDialog.dismiss();\r\n                            Toast.makeText(getActivity(), &quot;Error Ocurred&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        });\r\n    \r\n    \r\n            }\r\n        }\r\n    } ","title":"How to capture image from camera and upload to Firebase","body":"<p>This is my code which I used for my app and worked fine, try it if it works then congrats</p>\n<pre><code> public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_upload, container, false);\n        requireActivity().setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n        Button chooseImageButton = view.findViewById(R.id.upload_image_button);\n        Button uploadImageButton = view.findViewById(R.id.done_button);\n        uploadImageView = view.findViewById(R.id.upload_image_view);\n        storageReference = FirebaseStorage.getInstance().getReference(&quot;uploads&quot;);\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;uploads&quot;);\n        chooseImageButton.setOnClickListener(v -&gt; openFileChooser());\n        uploadImageButton.setOnClickListener(v -&gt; {\n            if (mUploadTask != null &amp;&amp; mUploadTask.isInProgress()) {\n                Toast.makeText(getActivity(), &quot;Upload in Progress&quot;, Toast.LENGTH_SHORT).show();\n\n            } else {\n                uploadToFirebase(mImageUri);\n            }\n\n\n        });\n\n        return view;\n    }\n\n\n    private void openFileChooser() {\n        Intent intent = new Intent();\n        intent.setType(&quot;image/*&quot;);\n        intent.setAction(Intent.ACTION_GET_CONTENT);\n        startActivityForResult(intent, PICK_IMAGE_REQUEST);\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK\n                &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n            mImageUri = data.getData();\n            Picasso.get().load(mImageUri).into(uploadImageView);\n\n        }\n    }\n\n    private String getFileExtension(Uri uri) {\n\n        ContentResolver contentResolver = requireActivity().getContentResolver();\n        MimeTypeMap mime = MimeTypeMap.getSingleton();\n        return mime.getExtensionFromMimeType(contentResolver.getType(uri));\n    }\n\n    private void uploadToFirebase(Uri mImageUri) {\n        if (mImageUri != null) {\n            final ProgressDialog progressDialog = new ProgressDialog(getActivity());\n            progressDialog.setTitle(&quot;Uploading...&quot;);\n            progressDialog.show();\n\n            StorageReference reference = storageReference.child(System.currentTimeMillis()\n                    + &quot;.&quot; + getFileExtension(mImageUri));\n            reference.putFile(mImageUri)\n                    .addOnSuccessListener(taskSnapshot -&gt; {\n                        progressDialog.dismiss();\n                        Toast.makeText(getActivity(), &quot;Saved Succesfully&quot;, Toast.LENGTH_SHORT).show();\n                        reference.getDownloadUrl()\n                                .addOnSuccessListener(uri -&gt; {\n                                    Upload upload = new Upload(uri.toString());\n                                    String uploadId = databaseReference.push().getKey();\n                                    databaseReference.child(uploadId).setValue(upload);\n                                });\n                    })\n                    .addOnProgressListener(snapshot -&gt; {\n                        double progress = (100.0 * snapshot.getBytesTransferred() / snapshot\n                                .getTotalByteCount());\n                        progressDialog.setMessage(&quot;Uploaded &quot; + (int) progress + &quot;%&quot;);\n                    })\n                    .addOnFailureListener(e -&gt; {\n                        progressDialog.dismiss();\n                        Toast.makeText(getActivity(), &quot;Error Ocurred&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                    });\n\n\n        }\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622691403,"creation_date":1622647986,"answer_id":67808206,"question_id":67807069,"body_markdown":"A potential workaround is to upload a byte array into firebase; so when taking a photo by camera, you can get the Bitmap byte array from the intent received in `onActivityResult()` and eventually upload the byte array to the firebase storage using [`ref.putBytes()`][1] method.\r\n\r\nThis can be done in several steps like in below: \r\n\r\nHere I&#39;m assuming that the `requestCode` for camera in `onActivityResult()` is 1:\r\n\r\n\r\n\tfinal int FROM_GALLERY = 0;\r\n\tfinal int FROM_CAMERA = 1;\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n\t\t\r\n        if (resultCode == RESULT_OK &amp;&amp; data != null) {\r\n\r\n            switch (requestCode) {\r\n\t\t\t\r\n                case FROM_GALLERY:\r\n\t\t\t\t\r\n\t\t\t\t\t// Handle image from the gallery\r\n\t\t\t\t\tfilePath = data.getData();\r\n                    break;\r\n\r\n\r\n                case FROM_CAMERA:\r\n\t\t\t\t\r\n\t\t\t\t\t// Handle image from the camera\r\n\t\r\n\t\t\t\t\tif (data.getExtras() != null) {\r\n\t\t\t\t\t\tBitmap photoBitmap = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n\t\t\t\t\t\tbyte[] bitmapBytes = getBytesFromBitmap(bitmap, 100);\r\n\t\t\t\t\t\tuploadToFirebase(bitmapBytes);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n                    break;\r\n            }\r\n\r\n        }\r\n    }\r\n\t\r\n\t\r\n    // convert from bitmap to byte array\r\n    public static byte[] getBytesFromBitmap(Bitmap bitmap, int quality) {\r\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, quality, stream);\r\n\t\t// bitmap.compress(Bitmap.CompressFormat.PNG, quality, stream); // According to the needed quality\r\n        return stream.toByteArray();\r\n    }\t\r\n\t\r\n\t\r\n\r\n\tpublic void uploadToFirebase(bytes[] bytes) {\r\n\t    StorageReference ref = .... \r\n\t\tref.putBytes(bytes)\r\n\t\t\t.addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}).addOnFailureListener(new OnFailureListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onFailure(@NonNull Exception exception) {\r\n\t\t\t\t}\r\n\r\n\t\t\t}).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onProgress(UploadTask.TaskSnapshot taskSnapshot) {\r\n\r\n\t\t\t\t}\r\n\t\t\t});\t\r\n\t}\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/storage/StorageReference#putBytes(byte[])","title":"How to capture image from camera and upload to Firebase","body":"<p>A potential workaround is to upload a byte array into firebase; so when taking a photo by camera, you can get the Bitmap byte array from the intent received in <code>onActivityResult()</code> and eventually upload the byte array to the firebase storage using <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/storage/StorageReference#putBytes(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>ref.putBytes()</code></a> method.</p>\n<p>This can be done in several steps like in below:</p>\n<p>Here I'm assuming that the <code>requestCode</code> for camera in <code>onActivityResult()</code> is 1:</p>\n<pre><code>final int FROM_GALLERY = 0;\nfinal int FROM_CAMERA = 1;\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    \n    if (resultCode == RESULT_OK &amp;&amp; data != null) {\n\n        switch (requestCode) {\n        \n            case FROM_GALLERY:\n            \n                // Handle image from the gallery\n                filePath = data.getData();\n                break;\n\n\n            case FROM_CAMERA:\n            \n                // Handle image from the camera\n\n                if (data.getExtras() != null) {\n                    Bitmap photoBitmap = (Bitmap) data.getExtras().get(&quot;data&quot;);\n                    byte[] bitmapBytes = getBytesFromBitmap(bitmap, 100);\n                    uploadToFirebase(bitmapBytes);\n                    \n                }\n\n                break;\n        }\n\n    }\n}\n\n\n// convert from bitmap to byte array\npublic static byte[] getBytesFromBitmap(Bitmap bitmap, int quality) {\n    ByteArrayOutputStream stream = new ByteArrayOutputStream();\n    bitmap.compress(Bitmap.CompressFormat.JPEG, quality, stream);\n    // bitmap.compress(Bitmap.CompressFormat.PNG, quality, stream); // According to the needed quality\n    return stream.toByteArray();\n}   \n\n\n\npublic void uploadToFirebase(bytes[] bytes) {\n    StorageReference ref = .... \n    ref.putBytes(bytes)\n        .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n\n            }\n\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception exception) {\n            }\n\n        }).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onProgress(UploadTask.TaskSnapshot taskSnapshot) {\n\n            }\n        }); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27452439,"reputation":181,"user_id":20944457,"display_name":"naveed ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699949441,"creation_date":1699949441,"answer_id":77479050,"question_id":67807069,"body_markdown":"        @Override\r\n            protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n                super.onActivityResult(requestCode, resultCode, data);\r\n        \r\n                if (resultCode == RESULT_OK) {\r\n                    if (requestCode == REQUEST_CAMERA) {\r\n                        Bundle bundle = data.getExtras();\r\n                        if (bundle != null) {\r\n                            Bitmap photo = (Bitmap) bundle.get(&quot;data&quot;);\r\n                            byte[] bitmapBytes = getBytesFromBitmap(photo, 100);\r\n                            profilePicture.setImageBitmap(photo);\r\n        \r\n                            StorageReference ref\r\n                                    = storageReference\r\n                                    .child(\r\n                                            &quot;images/&quot;\r\n                                                    + imagename);\r\n        \r\n                            // adding listeners on upload\r\n                            // or failure of image\r\n                            ref.putBytes(bitmapBytes)\r\n                                    .addOnSuccessListener(\r\n                                            new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n        \r\n                                                @Override\r\n                                                public void onSuccess(\r\n                                                        UploadTask.TaskSnapshot taskSnapshot) {\r\n        \r\n                                                    // Image uploaded successfully\r\n                                                    // Dismiss dialog\r\n                                                    Toast.makeText(getApplicationContext(),\r\n                                                                    &quot;Image Uploaded!!&quot;,\r\n                                                                    Toast.LENGTH_SHORT)\r\n                                                            .show();\r\n                                                }\r\n                                            })\r\n        \r\n                                    .addOnFailureListener(new OnFailureListener() {\r\n                                        @Override\r\n                                        public void onFailure(@NonNull Exception e) {\r\n        \r\n                                            // Error, Image not uploaded\r\n                                            Toast.makeText(getApplicationContext(), &quot;Failed &quot; + e.getMessage(), Toast.LENGTH_SHORT)\r\n                                                    .show();\r\n                                        }\r\n                                    });\r\n        \r\n        \r\n                        }\r\n                    } else if (requestCode == REQUEST_GALLERY) {\r\n                        if (data != null) {\r\n                            Uri selectedImage = data.getData();\r\n        \r\n                            try {\r\n                                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), selectedImage);\r\n        \r\n                                profilePicture.setImageBitmap(bitmap);\r\n                                StorageReference ref\r\n                                        = storageReference\r\n                                        .child(\r\n                                                &quot;images/&quot;\r\n                                                        + imagename);\r\n        \r\n                                // adding listeners on upload\r\n                                // or failure of image\r\n                                ref.putFile(selectedImage)\r\n                                        .addOnSuccessListener(\r\n                                                new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n        \r\n                                                    @Override\r\n                                                    public void onSuccess(\r\n                                                            UploadTask.TaskSnapshot taskSnapshot) {\r\n        \r\n                                                        // Image uploaded successfully\r\n                                                        // Dismiss dialog\r\n                                                        Toast.makeText(getApplicationContext(),\r\n                                                                        &quot;Your profile picture have been chnaged successfully&quot;,\r\n                                                                        Toast.LENGTH_SHORT)\r\n                                                                .show();\r\n                                                    }\r\n                                                })\r\n        \r\n                                        .addOnFailureListener(new OnFailureListener() {\r\n                                            @Override\r\n                                            public void onFailure(@NonNull Exception e) {\r\n        \r\n                                                // Error, Image not uploaded\r\n                                                Toast.makeText(getApplicationContext(), &quot;Failed &quot; + e.getMessage(), Toast.LENGTH_SHORT)\r\n                                                        .show();\r\n                                            }\r\n                                        });\r\n        \r\n        \r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            public static byte[] getBytesFromBitmap(Bitmap bitmap, int quality) {\r\n                ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n                bitmap.compress(Bitmap.CompressFormat.JPEG, quality, stream);\r\n                // bitmap.compress(Bitmap.CompressFormat.PNG, quality, stream); // According to the needed quality\r\n                return stream.toByteArray();\r\n            }\r\n    private void openCamera() {\r\n            Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n            startActivityForResult(cameraIntent, REQUEST_CAMERA);\r\n        }\r\n    \r\n        private void openGallery() {\r\n            Intent galleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n            startActivityForResult(galleryIntent, REQUEST_GALLERY);\r\n        }\r\n\r\n","title":"How to capture image from camera and upload to Firebase","body":"<pre><code>    @Override\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n            super.onActivityResult(requestCode, resultCode, data);\n    \n            if (resultCode == RESULT_OK) {\n                if (requestCode == REQUEST_CAMERA) {\n                    Bundle bundle = data.getExtras();\n                    if (bundle != null) {\n                        Bitmap photo = (Bitmap) bundle.get(&quot;data&quot;);\n                        byte[] bitmapBytes = getBytesFromBitmap(photo, 100);\n                        profilePicture.setImageBitmap(photo);\n    \n                        StorageReference ref\n                                = storageReference\n                                .child(\n                                        &quot;images/&quot;\n                                                + imagename);\n    \n                        // adding listeners on upload\n                        // or failure of image\n                        ref.putBytes(bitmapBytes)\n                                .addOnSuccessListener(\n                                        new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n    \n                                            @Override\n                                            public void onSuccess(\n                                                    UploadTask.TaskSnapshot taskSnapshot) {\n    \n                                                // Image uploaded successfully\n                                                // Dismiss dialog\n                                                Toast.makeText(getApplicationContext(),\n                                                                &quot;Image Uploaded!!&quot;,\n                                                                Toast.LENGTH_SHORT)\n                                                        .show();\n                                            }\n                                        })\n    \n                                .addOnFailureListener(new OnFailureListener() {\n                                    @Override\n                                    public void onFailure(@NonNull Exception e) {\n    \n                                        // Error, Image not uploaded\n                                        Toast.makeText(getApplicationContext(), &quot;Failed &quot; + e.getMessage(), Toast.LENGTH_SHORT)\n                                                .show();\n                                    }\n                                });\n    \n    \n                    }\n                } else if (requestCode == REQUEST_GALLERY) {\n                    if (data != null) {\n                        Uri selectedImage = data.getData();\n    \n                        try {\n                            Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), selectedImage);\n    \n                            profilePicture.setImageBitmap(bitmap);\n                            StorageReference ref\n                                    = storageReference\n                                    .child(\n                                            &quot;images/&quot;\n                                                    + imagename);\n    \n                            // adding listeners on upload\n                            // or failure of image\n                            ref.putFile(selectedImage)\n                                    .addOnSuccessListener(\n                                            new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n    \n                                                @Override\n                                                public void onSuccess(\n                                                        UploadTask.TaskSnapshot taskSnapshot) {\n    \n                                                    // Image uploaded successfully\n                                                    // Dismiss dialog\n                                                    Toast.makeText(getApplicationContext(),\n                                                                    &quot;Your profile picture have been chnaged successfully&quot;,\n                                                                    Toast.LENGTH_SHORT)\n                                                            .show();\n                                                }\n                                            })\n    \n                                    .addOnFailureListener(new OnFailureListener() {\n                                        @Override\n                                        public void onFailure(@NonNull Exception e) {\n    \n                                            // Error, Image not uploaded\n                                            Toast.makeText(getApplicationContext(), &quot;Failed &quot; + e.getMessage(), Toast.LENGTH_SHORT)\n                                                    .show();\n                                        }\n                                    });\n    \n    \n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n        }\n        public static byte[] getBytesFromBitmap(Bitmap bitmap, int quality) {\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\n            bitmap.compress(Bitmap.CompressFormat.JPEG, quality, stream);\n            // bitmap.compress(Bitmap.CompressFormat.PNG, quality, stream); // According to the needed quality\n            return stream.toByteArray();\n        }\nprivate void openCamera() {\n        Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        startActivityForResult(cameraIntent, REQUEST_CAMERA);\n    }\n\n    private void openGallery() {\n        Intent galleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        startActivityForResult(galleryIntent, REQUEST_GALLERY);\n    }\n</code></pre>\n"}],"owner":{"account_id":11525391,"reputation":27,"user_id":8446019,"display_name":"Anon5678"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1699949441,"creation_date":1622643905,"question_id":67807069,"body_markdown":"I am trying to take a photo with the camera and upload it to Firebase. I&#39;m using a AlertDialog to ask the user if they want to use the camera or select image from gallery. I can take a picture with the camera but when I try to upload the image it says no image found.\r\n\r\nHere is my image selection method:\r\n\r\n        private void imageSelect(Context context) {\r\n        final CharSequence[] options = { &quot;Take Photo&quot;, &quot;Choose from Gallery&quot;,&quot;Cancel&quot; };\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(context);\r\n        builder.setTitle(&quot;Choose Image&quot;);\r\n\r\n        builder.setItems(options, new DialogInterface.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int item) {\r\n\r\n                if (options[item].equals(&quot;Take Photo&quot;)) {\r\n                    Intent takePicture = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                    startActivityForResult(takePicture, 0);\r\n\r\n                } else if (options[item].equals(&quot;Choose from Gallery&quot;)) {\r\n                    Intent pickPhoto = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                    startActivityForResult(pickPhoto , 1);\r\n\r\n                } else if (options[item].equals(&quot;Cancel&quot;)) {\r\n                    dialog.dismiss();\r\n                }\r\n            }\r\n        });\r\n        builder.show();\r\n    }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        switch(requestCode) {\r\n            case 0:\r\n                if(resultCode == RESULT_OK){\r\n                    filePath = data.getData();\r\n                }\r\n\r\n                break;\r\n            case 1:\r\n                if(resultCode == RESULT_OK){\r\n                    filePath = data.getData();\r\n                    try {\r\n                        Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\r\n                    }\r\n                    catch (IOException e)\r\n                    {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\nHere is my upload image method:\r\n\r\n        private void uploadImage() {\r\n        if (filePath != null) {\r\n            //Code for showing progressDialog while uploading\r\n            ProgressDialog progressDialog = new ProgressDialog(this);\r\n            progressDialog.setTitle(&quot;Uploading...&quot;);\r\n            progressDialog.show();\r\n\r\n            StorageReference ref = storageReference.child(&quot;images/&quot; + name);\r\n            //Adding listeners on upload or failure of image\r\n            ref.putFile(filePath).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    //Image uploaded successfully\r\n                    progressDialog.dismiss();\r\n                    Toast.makeText(add_property.this, &quot;Image Uploaded!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    //Error, Image not uploaded\r\n                    progressDialog.dismiss();\r\n                    Toast.makeText(add_property.this, &quot;Failed &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                //Progress Listener for loading\r\n                @Override\r\n                public void onProgress(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    double progress = (100.0 * taskSnapshot.getBytesTransferred() / taskSnapshot.getTotalByteCount());\r\n                    progressDialog.setMessage(&quot;Uploaded &quot; + (int) progress + &quot;%&quot;);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            Toast.makeText(getApplicationContext(),&quot;No image found&quot;,Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\nThanks in advance for any help friends.","title":"How to capture image from camera and upload to Firebase","body":"<p>I am trying to take a photo with the camera and upload it to Firebase. I'm using a AlertDialog to ask the user if they want to use the camera or select image from gallery. I can take a picture with the camera but when I try to upload the image it says no image found.</p>\n<p>Here is my image selection method:</p>\n<pre><code>    private void imageSelect(Context context) {\n    final CharSequence[] options = { &quot;Take Photo&quot;, &quot;Choose from Gallery&quot;,&quot;Cancel&quot; };\n\n    AlertDialog.Builder builder = new AlertDialog.Builder(context);\n    builder.setTitle(&quot;Choose Image&quot;);\n\n    builder.setItems(options, new DialogInterface.OnClickListener() {\n\n        @Override\n        public void onClick(DialogInterface dialog, int item) {\n\n            if (options[item].equals(&quot;Take Photo&quot;)) {\n                Intent takePicture = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(takePicture, 0);\n\n            } else if (options[item].equals(&quot;Choose from Gallery&quot;)) {\n                Intent pickPhoto = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                startActivityForResult(pickPhoto , 1);\n\n            } else if (options[item].equals(&quot;Cancel&quot;)) {\n                dialog.dismiss();\n            }\n        }\n    });\n    builder.show();\n}\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    switch(requestCode) {\n        case 0:\n            if(resultCode == RESULT_OK){\n                filePath = data.getData();\n            }\n\n            break;\n        case 1:\n            if(resultCode == RESULT_OK){\n                filePath = data.getData();\n                try {\n                    Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\n                }\n                catch (IOException e)\n                {\n                    e.printStackTrace();\n                }\n            }\n            break;\n    }\n}\n</code></pre>\n<p>Here is my upload image method:</p>\n<pre><code>    private void uploadImage() {\n    if (filePath != null) {\n        //Code for showing progressDialog while uploading\n        ProgressDialog progressDialog = new ProgressDialog(this);\n        progressDialog.setTitle(&quot;Uploading...&quot;);\n        progressDialog.show();\n\n        StorageReference ref = storageReference.child(&quot;images/&quot; + name);\n        //Adding listeners on upload or failure of image\n        ref.putFile(filePath).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                //Image uploaded successfully\n                progressDialog.dismiss();\n                Toast.makeText(add_property.this, &quot;Image Uploaded!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                //Error, Image not uploaded\n                progressDialog.dismiss();\n                Toast.makeText(add_property.this, &quot;Failed &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        }).addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\n            //Progress Listener for loading\n            @Override\n            public void onProgress(UploadTask.TaskSnapshot taskSnapshot) {\n                double progress = (100.0 * taskSnapshot.getBytesTransferred() / taskSnapshot.getTotalByteCount());\n                progressDialog.setMessage(&quot;Uploaded &quot; + (int) progress + &quot;%&quot;);\n            }\n        });\n    }\n    else {\n        Toast.makeText(getApplicationContext(),&quot;No image found&quot;,Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>Thanks in advance for any help friends.</p>\n"},{"tags":["java","android","okhttp","illegalstateexception","google-directions-api"],"answers":[{"tags":[],"owner":{"account_id":19972988,"reputation":51,"user_id":14638023,"display_name":"kaigalmane"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699948886,"creation_date":1699948886,"answer_id":77479008,"question_id":75978119,"body_markdown":"I was able to resolve this exact issue by adding the below dependency to the module-level `build.gradle`\r\n\r\n    implementation(&quot;com.squareup.okhttp3:okhttp:4.11.0&quot;)","title":"Recieve IllegalStateException when I try to build GeoApiContext to get polyline for my maps","body":"<p>I was able to resolve this exact issue by adding the below dependency to the module-level <code>build.gradle</code></p>\n<pre><code>implementation(&quot;com.squareup.okhttp3:okhttp:4.11.0&quot;)\n</code></pre>\n"}],"owner":{"account_id":14984624,"reputation":17,"user_id":10817579,"display_name":"kinghabz 14"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699948886,"creation_date":1681138193,"question_id":75978119,"body_markdown":"I am trying to display the distance between two points as a polyline on the google maps in my app. For some reason this line of code keeps giving me the same exception which causes my app to crash at run time after my main activity is displayed &amp; then when I open this activity by pressing a button. Here is the line of code:\r\n\r\n    GeoApiContext context = new GeoApiContext.Builder()\r\n                    .apiKey(&quot;apikey&quot;)\r\n                    .build();\r\n\r\nHere is the exception I recieve:\r\n\r\n    java.lang.ExceptionInInitializerError\r\n        at okhttp3.internal.platform.Platform.get(Platform.java:85)\r\n        at okhttp3.OkHttpClient.newSslSocketFactory(OkHttpClient.java:263)\r\n        at okhttp3.OkHttpClient.&lt;init&gt;(OkHttpClient.java:229)\r\n        at okhttp3.OkHttpClient$Builder.build(OkHttpClient.java:1015)\r\n        at com.google.maps.OkHttpRequestHandler$Builder.build(OkHttpRequestHandler.java:201)\r\n        at com.google.maps.GeoApiContext$Builder.build(GeoApiContext.java:625)\r\n        at com.project.prayerpal.ClosestDestination.onMapReady(ClosestDestination.java:89)\r\n        at com.google.android.gms.maps.zzat.zzb(com.google.android.gms:play-services-maps@@18.1.0:1)\r\n        at com.google.android.gms.maps.internal.zzar.zza(com.google.android.gms:play-services-maps@@18.1.0:6)\r\n        at com.google.android.gms.internal.maps.zzb.onTransact(com.google.android.gms:play-services-maps@@18.1.0:3)\r\n        at android.os.Binder.transact(Binder.java:1084)\r\n        at fe.c(:com.google.android.gms.dynamite_mapsdynamite@231254044@23.12.54 (190400-0):2)\r\n        at com.google.maps.api.android.lib6.impl.bg.run(:com.google.android.gms.dynamite_mapsdynamite@231254044@23.12.54 (190400-0):1)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:233)\r\n        at android.os.Looper.loop(Looper.java:344)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8212)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:584)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1034)\r\n     Caused by: java.lang.IllegalStateException: Expected Android API level 21+ but was 31\r\n        at okhttp3.internal.platform.AndroidPlatform.buildIfSupported(AndroidPlatform.java:238)\r\n        at okhttp3.internal.platform.Platform.findPlatform(Platform.java:202)\r\n        at okhttp3.internal.platform.Platform.&lt;clinit&gt;(Platform.java:79)\r\n        at okhttp3.internal.platform.Platform.get(Platform.java:85) \r\n        at okhttp3.OkHttpClient.newSslSocketFactory(OkHttpClient.java:263) \r\n        at okhttp3.OkHttpClient.&lt;init&gt;(OkHttpClient.java:229) \r\n        at okhttp3.OkHttpClient$Builder.build(OkHttpClient.java:1015) \r\n        at com.google.maps.OkHttpRequestHandler$Builder.build(OkHttpRequestHandler.java:201) \r\n        at com.google.maps.GeoApiContext$Builder.build(GeoApiContext.java:625) \r\n        at com.project.prayerpal.ClosestDestination.onMapReady(ClosestDestination.java:89) \r\n        at com.google.android.gms.maps.zzat.zzb(com.google.android.gms:play-services-maps@@18.1.0:1) \r\n        at com.google.android.gms.maps.internal.zzar.zza(com.google.android.gms:play-services-maps@@18.1.0:6) \r\n        at com.google.android.gms.internal.maps.zzb.onTransact(com.google.android.gms:play-services-maps@@18.1.0:3) \r\n        at android.os.Binder.transact(Binder.java:1084) \r\n        at fe.c(:com.google.android.gms.dynamite_mapsdynamite@231254044@23.12.54 (190400-0):2) \r\n        at com.google.maps.api.android.lib6.impl.bg.run(:com.google.android.gms.dynamite_mapsdynamite@231254044@23.12.54 (190400-0):1) \r\n        at android.os.Handler.handleCallback(Handler.java:938) \r\n        at android.os.Handler.dispatchMessage(Handler.java:99) \r\n        at android.os.Looper.loopOnce(Looper.java:233) \r\n        at android.os.Looper.loop(Looper.java:344) \r\n        at android.app.ActivityThread.main(ActivityThread.java:8212) \r\n        at java.lang.reflect.Method.invoke(Native Method) \r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:584) \r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1034) \r\n\r\nI replace &#39;apikey&#39; with an actual api key from my google developer console. I&#39;ve researched &amp; done many things such as making sure this exception is not caused by a restriction on my apikey, used a second apikey, check all my dependancies to make sure they&#39;re correct &amp; up to date, made sure everything is correctly typed in my code, made sure my billing account is properly configured, made sure I am using the correct api key for this project, made sure my compileSdkVersion &amp; targetSdkVersion are higher than 21, added all the necessary permissions, cleaned my project &amp; restarted/invalidated cache but still nothing seems to work.\r\n\r\nThe apikey I am using for the maps directions api is the same key I am using elsewhere in the same project for the maps places api &amp; it seems to be working there. \r\n\r\nHere is my code for this activity:\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n\r\n    import com.google.android.gms.maps.CameraUpdateFactory;\r\n    import com.google.android.gms.maps.GoogleMap;\r\n    import com.google.android.gms.maps.OnMapReadyCallback;\r\n    import com.google.android.gms.maps.SupportMapFragment;\r\n    import com.google.android.gms.maps.model.LatLng;\r\n    import com.google.android.gms.maps.model.MarkerOptions;\r\n\r\n    import com.google.maps.DirectionsApi;\r\n    import com.google.maps.DirectionsApiRequest;\r\n    import com.google.maps.GeoApiContext;\r\n    import com.google.maps.errors.ApiException;\r\n    import com.google.maps.model.DirectionsResult;\r\n    import com.google.maps.model.DirectionsRoute;\r\n    import com.google.maps.model.TravelMode;\r\n    import com.google.maps.android.PolyUtil;\r\n\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n\r\n    public class ClosestDestination extends AppCompatActivity implements OnMapReadyCallback{\r\n\r\n    LatLng currentLocation;\r\n    LatLng destinationLocation;\r\n    String destinationName;\r\n    double originLat;\r\n    double originLng;\r\n    double destinationLat;\r\n    double destinationLng;\r\n    SupportMapFragment mapFragment;\r\n    MarkerOptions starterMarkerOptions;\r\n    MarkerOptions endMarkerOptions;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_closest_mosque);\r\n\r\n        Intent intent = getIntent();\r\n        originLat = intent.getDoubleExtra(&quot;originLat&quot;, 0.0);\r\n        originLng = intent.getDoubleExtra(&quot;originLng&quot;, 0.0);\r\n\r\n        currentLocation = new LatLng(originLat, originLng);\r\n\r\n        destinationLat = Double.parseDouble(MainActivity.placesData.getMapList().get(0).get(&quot;destinationLat&quot;));\r\n        destinationLng = Double.parseDouble(MainActivity.placesData.getMapList().get(0).get(&quot;destinationLng&quot;));\r\n        destinationName = MainActivity.placesData.getMapList().get(0).get(&quot;destinationName&quot;);\r\n\r\n        destinationLocation = new LatLng(destinationLat, destinationLng);\r\n\r\n        starterMarkerOptions = new MarkerOptions().position(currentLocation).title(&quot;current location&quot;);\r\n        endMarkerOptions = new MarkerOptions().position(destinationLocation).title(&quot;destination&quot;);\r\n\r\n        mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n\r\n        mapFragment.getMapAsync(ClosestDestination.this);\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(@NonNull GoogleMap googleMap) {\r\n\r\n        try {\r\n\r\n            GeoApiContext context = new GeoApiContext.Builder()\r\n                    .apiKey(&quot;apikey&quot;)\r\n                    .build();\r\n\r\n            DirectionsApiRequest directionsApiRequest = DirectionsApi.newRequest(context)\r\n                    .origin(currentLocation.toString())\r\n                    .destination(destinationLocation.toString())\r\n                    .mode(TravelMode.WALKING);\r\n\r\n            DirectionsResult directionsResult = null;\r\n\r\n            try {\r\n                directionsResult = directionsApiRequest.await();\r\n\r\n                if (directionsResult.routes.length &gt; 0) {\r\n\r\n                    DirectionsRoute route = directionsResult.routes[0];\r\n\r\n                    String polyLine = route.overviewPolyline.getEncodedPath();\r\n\r\n                    List&lt;LatLng&gt; points = PolyUtil.decode(polyLine);\r\n\r\n                    for (LatLng point : points) {\r\n\r\n                        googleMap.addMarker(new MarkerOptions().position(point));\r\n                    }\r\n\r\n                }\r\n\r\n            } catch (ApiException | InterruptedException | IOException e) {\r\n\r\n                e.printStackTrace();\r\n            }\r\n\r\n            googleMap.setMapType(GoogleMap.MAP_TYPE_TERRAIN);\r\n            googleMap.addMarker(starterMarkerOptions);\r\n            googleMap.addMarker(endMarkerOptions);\r\n            googleMap.moveCamera(CameraUpdateFactory.zoomTo(14));\r\n            googleMap.moveCamera(CameraUpdateFactory.newLatLng(currentLocation));\r\n\r\n        }catch (Exception e){\r\n\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n}\r\n\r\nHere is also the XML code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;fragment\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n    android:id=&quot;@+id/map&quot;\r\n    android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;/&gt;","title":"Recieve IllegalStateException when I try to build GeoApiContext to get polyline for my maps","body":"<p>I am trying to display the distance between two points as a polyline on the google maps in my app. For some reason this line of code keeps giving me the same exception which causes my app to crash at run time after my main activity is displayed &amp; then when I open this activity by pressing a button. Here is the line of code:</p>\n<pre><code>GeoApiContext context = new GeoApiContext.Builder()\n                .apiKey(&quot;apikey&quot;)\n                .build();\n</code></pre>\n<p>Here is the exception I recieve:</p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at okhttp3.internal.platform.Platform.get(Platform.java:85)\n    at okhttp3.OkHttpClient.newSslSocketFactory(OkHttpClient.java:263)\n    at okhttp3.OkHttpClient.&lt;init&gt;(OkHttpClient.java:229)\n    at okhttp3.OkHttpClient$Builder.build(OkHttpClient.java:1015)\n    at com.google.maps.OkHttpRequestHandler$Builder.build(OkHttpRequestHandler.java:201)\n    at com.google.maps.GeoApiContext$Builder.build(GeoApiContext.java:625)\n    at com.project.prayerpal.ClosestDestination.onMapReady(ClosestDestination.java:89)\n    at com.google.android.gms.maps.zzat.zzb(com.google.android.gms:play-services-maps@@18.1.0:1)\n    at com.google.android.gms.maps.internal.zzar.zza(com.google.android.gms:play-services-maps@@18.1.0:6)\n    at com.google.android.gms.internal.maps.zzb.onTransact(com.google.android.gms:play-services-maps@@18.1.0:3)\n    at android.os.Binder.transact(Binder.java:1084)\n    at fe.c(:com.google.android.gms.dynamite_mapsdynamite@231254044@23.12.54 (190400-0):2)\n    at com.google.maps.api.android.lib6.impl.bg.run(:com.google.android.gms.dynamite_mapsdynamite@231254044@23.12.54 (190400-0):1)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loopOnce(Looper.java:233)\n    at android.os.Looper.loop(Looper.java:344)\n    at android.app.ActivityThread.main(ActivityThread.java:8212)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:584)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1034)\n Caused by: java.lang.IllegalStateException: Expected Android API level 21+ but was 31\n    at okhttp3.internal.platform.AndroidPlatform.buildIfSupported(AndroidPlatform.java:238)\n    at okhttp3.internal.platform.Platform.findPlatform(Platform.java:202)\n    at okhttp3.internal.platform.Platform.&lt;clinit&gt;(Platform.java:79)\n    at okhttp3.internal.platform.Platform.get(Platform.java:85) \n    at okhttp3.OkHttpClient.newSslSocketFactory(OkHttpClient.java:263) \n    at okhttp3.OkHttpClient.&lt;init&gt;(OkHttpClient.java:229) \n    at okhttp3.OkHttpClient$Builder.build(OkHttpClient.java:1015) \n    at com.google.maps.OkHttpRequestHandler$Builder.build(OkHttpRequestHandler.java:201) \n    at com.google.maps.GeoApiContext$Builder.build(GeoApiContext.java:625) \n    at com.project.prayerpal.ClosestDestination.onMapReady(ClosestDestination.java:89) \n    at com.google.android.gms.maps.zzat.zzb(com.google.android.gms:play-services-maps@@18.1.0:1) \n    at com.google.android.gms.maps.internal.zzar.zza(com.google.android.gms:play-services-maps@@18.1.0:6) \n    at com.google.android.gms.internal.maps.zzb.onTransact(com.google.android.gms:play-services-maps@@18.1.0:3) \n    at android.os.Binder.transact(Binder.java:1084) \n    at fe.c(:com.google.android.gms.dynamite_mapsdynamite@231254044@23.12.54 (190400-0):2) \n    at com.google.maps.api.android.lib6.impl.bg.run(:com.google.android.gms.dynamite_mapsdynamite@231254044@23.12.54 (190400-0):1) \n    at android.os.Handler.handleCallback(Handler.java:938) \n    at android.os.Handler.dispatchMessage(Handler.java:99) \n    at android.os.Looper.loopOnce(Looper.java:233) \n    at android.os.Looper.loop(Looper.java:344) \n    at android.app.ActivityThread.main(ActivityThread.java:8212) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:584) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1034) \n</code></pre>\n<p>I replace 'apikey' with an actual api key from my google developer console. I've researched &amp; done many things such as making sure this exception is not caused by a restriction on my apikey, used a second apikey, check all my dependancies to make sure they're correct &amp; up to date, made sure everything is correctly typed in my code, made sure my billing account is properly configured, made sure I am using the correct api key for this project, made sure my compileSdkVersion &amp; targetSdkVersion are higher than 21, added all the necessary permissions, cleaned my project &amp; restarted/invalidated cache but still nothing seems to work.</p>\n<p>The apikey I am using for the maps directions api is the same key I am using elsewhere in the same project for the maps places api &amp; it seems to be working there.</p>\n<p>Here is my code for this activity:</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\nimport com.google.maps.DirectionsApi;\nimport com.google.maps.DirectionsApiRequest;\nimport com.google.maps.GeoApiContext;\nimport com.google.maps.errors.ApiException;\nimport com.google.maps.model.DirectionsResult;\nimport com.google.maps.model.DirectionsRoute;\nimport com.google.maps.model.TravelMode;\nimport com.google.maps.android.PolyUtil;\n\nimport java.io.IOException;\nimport java.util.List;\n\npublic class ClosestDestination extends AppCompatActivity implements OnMapReadyCallback{\n\nLatLng currentLocation;\nLatLng destinationLocation;\nString destinationName;\ndouble originLat;\ndouble originLng;\ndouble destinationLat;\ndouble destinationLng;\nSupportMapFragment mapFragment;\nMarkerOptions starterMarkerOptions;\nMarkerOptions endMarkerOptions;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_closest_mosque);\n\n    Intent intent = getIntent();\n    originLat = intent.getDoubleExtra(&quot;originLat&quot;, 0.0);\n    originLng = intent.getDoubleExtra(&quot;originLng&quot;, 0.0);\n\n    currentLocation = new LatLng(originLat, originLng);\n\n    destinationLat = Double.parseDouble(MainActivity.placesData.getMapList().get(0).get(&quot;destinationLat&quot;));\n    destinationLng = Double.parseDouble(MainActivity.placesData.getMapList().get(0).get(&quot;destinationLng&quot;));\n    destinationName = MainActivity.placesData.getMapList().get(0).get(&quot;destinationName&quot;);\n\n    destinationLocation = new LatLng(destinationLat, destinationLng);\n\n    starterMarkerOptions = new MarkerOptions().position(currentLocation).title(&quot;current location&quot;);\n    endMarkerOptions = new MarkerOptions().position(destinationLocation).title(&quot;destination&quot;);\n\n    mapFragment = (SupportMapFragment) getSupportFragmentManager()\n            .findFragmentById(R.id.map);\n\n    mapFragment.getMapAsync(ClosestDestination.this);\n}\n\n@Override\npublic void onMapReady(@NonNull GoogleMap googleMap) {\n\n    try {\n\n        GeoApiContext context = new GeoApiContext.Builder()\n                .apiKey(&quot;apikey&quot;)\n                .build();\n\n        DirectionsApiRequest directionsApiRequest = DirectionsApi.newRequest(context)\n                .origin(currentLocation.toString())\n                .destination(destinationLocation.toString())\n                .mode(TravelMode.WALKING);\n\n        DirectionsResult directionsResult = null;\n\n        try {\n            directionsResult = directionsApiRequest.await();\n\n            if (directionsResult.routes.length &gt; 0) {\n\n                DirectionsRoute route = directionsResult.routes[0];\n\n                String polyLine = route.overviewPolyline.getEncodedPath();\n\n                List&lt;LatLng&gt; points = PolyUtil.decode(polyLine);\n\n                for (LatLng point : points) {\n\n                    googleMap.addMarker(new MarkerOptions().position(point));\n                }\n\n            }\n\n        } catch (ApiException | InterruptedException | IOException e) {\n\n            e.printStackTrace();\n        }\n\n        googleMap.setMapType(GoogleMap.MAP_TYPE_TERRAIN);\n        googleMap.addMarker(starterMarkerOptions);\n        googleMap.addMarker(endMarkerOptions);\n        googleMap.moveCamera(CameraUpdateFactory.zoomTo(14));\n        googleMap.moveCamera(CameraUpdateFactory.newLatLng(currentLocation));\n\n    }catch (Exception e){\n\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>Here is also the XML code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;fragment\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\nandroid:id=&quot;@+id/map&quot;\nandroid:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;/&gt;\n</code></pre>\n"},{"tags":["java","wkhtmltopdf"],"comments":[{"owner":{"account_id":28176439,"reputation":1,"user_id":21534150,"display_name":"CJ C"},"score":0,"creation_date":1699951504,"post_id":77478938,"comment_id":136591931,"body_markdown":"I found that the English content in the html has the same font as the generated pdf, but the Chinese content in the pdf has the same font, and it is different from the font in the html","body":"I found that the English content in the html has the same font as the generated pdf, but the Chinese content in the pdf has the same font, and it is different from the font in the html"}],"owner":{"account_id":28176439,"reputation":1,"user_id":21534150,"display_name":"CJ C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699948169,"creation_date":1699948169,"question_id":77478938,"body_markdown":"I need to convert an html file into pdf, and the pdf font I need to generate is Microsoft YaHei. But I now encounter a problem: I cannot set the font of the generated PDF. No matter what font I set, the font in the resulting PDF remains the same as before. The following is my test code on Windows. I will need to implement the same function on Linux later.\r\n\r\n```\r\n    /**\r\n     * html to pdf\r\n     *\r\n     * @param srcPath  html path, which can be a path on the hard disk or a network path\r\n     * @param destPath pdf save path\r\n     * @return Returns true if the conversion is successful\r\n     */\r\n    public static boolean convert(String srcPath, String destPath,String toPdfTool){\r\n        File file = new File(destPath);\r\n        File parent = file.getParentFile();\r\n        // If the pdf save path does not exist, create the path\r\n        if(!parent.exists()){\r\n            parent.mkdirs();\r\n        }\r\n        StringBuilder cmd = new StringBuilder();\r\n        cmd.append(toPdfTool);\r\n        cmd.append(&quot; &quot;);\r\n        cmd.append(&quot; --encoding utf-8 &quot;);\r\n        cmd.append(&quot; -O Landscape &quot;);\r\n        cmd.append(&quot; --disable-smart-shrinking &quot;);\r\n        cmd.append(&quot; --zoom 0.92 &quot;);\r\n\t\t// No matter what font I set here, it seems to have no effect (Microsoft YaHei, Song Dynasty)\r\n        cmd.append(&quot; --header-font-name Segoe UI &quot;);\r\n        cmd.append(srcPath);\r\n        cmd.append(&quot; &quot;);\r\n        cmd.append(destPath);\r\n        boolean result = true;\r\n        try{\r\n            Process proc = Runtime.getRuntime().exec(cmd.toString());\r\n            proc.waitFor();\r\n        }catch(Exception e){\r\n            result = false;\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return result;\r\n    }\r\n```\r\n\r\nPlease tell me what I need to do to ensure that the font of the generated PDF is Microsoft YaHei. Thank you very much.","title":"How does wkhtmltopdf set the font of the generated pdf","body":"<p>I need to convert an html file into pdf, and the pdf font I need to generate is Microsoft YaHei. But I now encounter a problem: I cannot set the font of the generated PDF. No matter what font I set, the font in the resulting PDF remains the same as before. The following is my test code on Windows. I will need to implement the same function on Linux later.</p>\n<pre><code>    /**\n     * html to pdf\n     *\n     * @param srcPath  html path, which can be a path on the hard disk or a network path\n     * @param destPath pdf save path\n     * @return Returns true if the conversion is successful\n     */\n    public static boolean convert(String srcPath, String destPath,String toPdfTool){\n        File file = new File(destPath);\n        File parent = file.getParentFile();\n        // If the pdf save path does not exist, create the path\n        if(!parent.exists()){\n            parent.mkdirs();\n        }\n        StringBuilder cmd = new StringBuilder();\n        cmd.append(toPdfTool);\n        cmd.append(&quot; &quot;);\n        cmd.append(&quot; --encoding utf-8 &quot;);\n        cmd.append(&quot; -O Landscape &quot;);\n        cmd.append(&quot; --disable-smart-shrinking &quot;);\n        cmd.append(&quot; --zoom 0.92 &quot;);\n        // No matter what font I set here, it seems to have no effect (Microsoft YaHei, Song Dynasty)\n        cmd.append(&quot; --header-font-name Segoe UI &quot;);\n        cmd.append(srcPath);\n        cmd.append(&quot; &quot;);\n        cmd.append(destPath);\n        boolean result = true;\n        try{\n            Process proc = Runtime.getRuntime().exec(cmd.toString());\n            proc.waitFor();\n        }catch(Exception e){\n            result = false;\n            e.printStackTrace();\n        }\n\n        return result;\n    }\n</code></pre>\n<p>Please tell me what I need to do to ensure that the font of the generated PDF is Microsoft YaHei. Thank you very much.</p>\n"},{"tags":["java","date","timezone","date-conversion"],"comments":[{"owner":{"account_id":178445,"reputation":839,"user_id":410422,"accept_rate":65,"display_name":"angryInsomniac"},"score":1,"creation_date":1330080634,"post_id":9429357,"comment_id":11922065,"body_markdown":"Handling time using java.util quickly becomes a headache , if you have some time , check out the joda-time API","body":"Handling time using java.util quickly becomes a headache , if you have some time , check out the joda-time API"},{"owner":{"account_id":318211,"reputation":1245,"user_id":635306,"display_name":"Pavan"},"score":0,"creation_date":1330080636,"post_id":9429357,"comment_id":11922068,"body_markdown":"Take a look at this http://stackoverflow.com/questions/2356672/date-parsing-formating-with-timezone-and-simpledateformat-problem-around-dst-swi","body":"Take a look at this <a href=\"http://stackoverflow.com/questions/2356672/date-parsing-formating-with-timezone-and-simpledateformat-problem-around-dst-swi\" title=\"date parsing formating with timezone and simpledateformat problem around dst swi\">stackoverflow.com/questions/2356672/&hellip;</a>"},{"owner":{"account_id":5309069,"reputation":2033,"user_id":4236028,"display_name":"sam"},"score":0,"creation_date":1445437378,"post_id":9429357,"comment_id":54324841,"body_markdown":"[`SimpleDateFormat`](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>"},{"owner":{"account_id":945582,"reputation":625,"user_id":972897,"display_name":"mainu"},"score":0,"creation_date":1544076188,"post_id":9429357,"comment_id":94149526,"body_markdown":"though its old , I am getting same kind of problem with time zone.My problem is like: In my app I have to show GST time in and has to pass the UTC (of dubai time) to server. Not able to find solution please help. Example..","body":"though its old , I am getting same kind of problem with time zone.My problem is like: In my app I have to show GST time in and has to pass the UTC (of dubai time) to server. Not able to find solution please help. Example.."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700073590,"post_id":9429357,"comment_id":136611169,"body_markdown":"`CST` is not a [real time zone](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)","body":"<code>CST</code> is not a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">real time zone</a>"}],"answers":[{"tags":[],"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1561113741,"creation_date":1330081210,"answer_id":9429592,"question_id":9429357,"body_markdown":"Your mistake is to call `parse` instead of `format`.\r\n\r\nYou call `parse` to parse a Date from a String, but in your case you&#39;ve got a Date and need to format it using the correct Timezone.\r\n\r\nReplace your code with\r\n\r\n\tCalendar currentdate = Calendar.getInstance();\r\n\tDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n\tTimeZone obj = TimeZone.getTimeZone(&quot;CST&quot;);\r\n\tformatter.setTimeZone(obj);\r\n\tSystem.out.println(&quot;Local:: &quot; +currentdate.getTime());\r\n\tSystem.out.println(&quot;CST:: &quot;+ formatter.format(currentdate.getTime()));\r\n\r\nand I hope you&#39;ll get the output you are expecting.","title":"Date and time conversion to some other Timezone in java","body":"<p>Your mistake is to call <code>parse</code> instead of <code>format</code>.</p>\n\n<p>You call <code>parse</code> to parse a Date from a String, but in your case you've got a Date and need to format it using the correct Timezone.</p>\n\n<p>Replace your code with</p>\n\n<pre><code>Calendar currentdate = Calendar.getInstance();\nDateFormat formatter = new SimpleDateFormat(\"dd-MM-yyyy HH:mm:ss\");\nTimeZone obj = TimeZone.getTimeZone(\"CST\");\nformatter.setTimeZone(obj);\nSystem.out.println(\"Local:: \" +currentdate.getTime());\nSystem.out.println(\"CST:: \"+ formatter.format(currentdate.getTime()));\n</code></pre>\n\n<p>and I hope you'll get the output you are expecting.</p>\n"},{"comments":[{"owner":{"account_id":1274703,"reputation":1642,"user_id":1230183,"accept_rate":38,"display_name":"Shantanu Tomar"},"score":0,"creation_date":1330082162,"post_id":9429644,"comment_id":11922556,"body_markdown":"Thanx nishant .. for the answer..i am getting the time ryt..but date is still not correct.. its giving me.. 25th instead of 24th... Please if u can get that ryt.. ?? thanx","body":"Thanx nishant .. for the answer..i am getting the time ryt..but date is still not correct.. its giving me.. 25th instead of 24th... Please if u can get that ryt.. ?? thanx"},{"owner":{"account_id":945582,"reputation":625,"user_id":972897,"display_name":"mainu"},"score":0,"creation_date":1544079219,"post_id":9429644,"comment_id":94150575,"body_markdown":"I am getting same kind of problem with time zone.My problem is like: In my app I have to show GST time in and has to pass the UTC (of dubai time) to server. Not able to find solution please help. Example.. if in india current time is 10:00AM, from TimeZone(Asia/Dubai)I am getting 8:30AM. Now I have to convert 8:30 to UTC which will be 4:30. But I am getting 15:00:00 GMT+05:30 2018. please help","body":"I am getting same kind of problem with time zone.My problem is like: In my app I have to show GST time in and has to pass the UTC (of dubai time) to server. Not able to find solution please help. Example.. if in india current time is 10:00AM, from TimeZone(Asia/Dubai)I am getting 8:30AM. Now I have to convert 8:30 to UTC which will be 4:30. But I am getting 15:00:00 GMT+05:30 2018. please help"}],"tags":[],"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"comment_count":2,"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1513330674,"creation_date":1330081447,"answer_id":9429644,"question_id":9429357,"body_markdown":"It&#39;s over the web. Could have googled. Anyways, here is a version for you (shamelessly picked and modified from [here][1]): \r\n\r\n\tCalendar calendar = Calendar.getInstance();\r\n\tTimeZone fromTimeZone = calendar.getTimeZone();\r\n\tTimeZone toTimeZone = TimeZone.getTimeZone(&quot;CST&quot;);\r\n\r\n\tcalendar.setTimeZone(fromTimeZone);\r\n\tcalendar.add(Calendar.MILLISECOND, fromTimeZone.getRawOffset() * -1);\r\n\tif (fromTimeZone.inDaylightTime(calendar.getTime())) {\r\n\t\tcalendar.add(Calendar.MILLISECOND, calendar.getTimeZone().getDSTSavings() * -1);\r\n\t}\r\n\r\n\tcalendar.add(Calendar.MILLISECOND, toTimeZone.getRawOffset());\r\n\tif (toTimeZone.inDaylightTime(calendar.getTime())) {\r\n\t\tcalendar.add(Calendar.MILLISECOND, toTimeZone.getDSTSavings());\r\n\t}\r\n\r\n\tSystem.out.println(calendar.getTime());\r\n\r\n\r\n  [1]: https://singztechmusings.wordpress.com/2011/06/23/java-timezone-correctionconversion-with-daylight-savings-time-settings/","title":"Date and time conversion to some other Timezone in java","body":"<p>It's over the web. Could have googled. Anyways, here is a version for you (shamelessly picked and modified from <a href=\"https://singztechmusings.wordpress.com/2011/06/23/java-timezone-correctionconversion-with-daylight-savings-time-settings/\" rel=\"noreferrer\">here</a>): </p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\nTimeZone fromTimeZone = calendar.getTimeZone();\nTimeZone toTimeZone = TimeZone.getTimeZone(\"CST\");\n\ncalendar.setTimeZone(fromTimeZone);\ncalendar.add(Calendar.MILLISECOND, fromTimeZone.getRawOffset() * -1);\nif (fromTimeZone.inDaylightTime(calendar.getTime())) {\n    calendar.add(Calendar.MILLISECOND, calendar.getTimeZone().getDSTSavings() * -1);\n}\n\ncalendar.add(Calendar.MILLISECOND, toTimeZone.getRawOffset());\nif (toTimeZone.inDaylightTime(calendar.getTime())) {\n    calendar.add(Calendar.MILLISECOND, toTimeZone.getDSTSavings());\n}\n\nSystem.out.println(calendar.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91740,"reputation":5223,"user_id":251741,"accept_rate":89,"display_name":"Dario"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1513330803,"creation_date":1330081683,"answer_id":9429697,"question_id":9429357,"body_markdown":"Handling dates in Java in my daily work is a non-trivial task. I suggest you to use [Joda-Time][1] that simplify our coding days and you don&#39;t have to &quot;re-invent the wheel&quot;.\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/","title":"Date and time conversion to some other Timezone in java","body":"<p>Handling dates in Java in my daily work is a non-trivial task. I suggest you to use <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> that simplify our coding days and you don't have to \"re-invent the wheel\".</p>\n"},{"comments":[{"owner":{"account_id":1060181,"reputation":1400,"user_id":1061977,"accept_rate":65,"display_name":"Abhishek bhutra"},"score":0,"creation_date":1330084470,"post_id":9429990,"comment_id":11923388,"body_markdown":"do you get the mistake you were doing..?","body":"do you get the mistake you were doing..?"},{"owner":{"account_id":1274703,"reputation":1642,"user_id":1230183,"accept_rate":38,"display_name":"Shantanu Tomar"},"score":0,"creation_date":1330085017,"post_id":9429990,"comment_id":11923583,"body_markdown":"Well not exactly... But what u r saying, it seems i am printing the date without converting to CST timezone.. It will be grateful, if u will explain where did i went wrong.. ??","body":"Well not exactly... But what u r saying, it seems i am printing the date without converting to CST timezone.. It will be grateful, if u will explain where did i went wrong.. ??"},{"owner":{"account_id":1060181,"reputation":1400,"user_id":1061977,"accept_rate":65,"display_name":"Abhishek bhutra"},"score":0,"creation_date":1330085658,"post_id":9429990,"comment_id":11923804,"body_markdown":"ok i ll but just do one thing in your code you are setting time zone after formatting the date in string...just set time zone before formatting date...this will change the output and i guess will give a clue that why difference of time is being inserted.","body":"ok i ll but just do one thing in your code you are setting time zone after formatting the date in string...just set time zone before formatting date...this will change the output and i guess will give a clue that why difference of time is being inserted."}],"tags":[],"owner":{"account_id":1060181,"reputation":1400,"user_id":1061977,"accept_rate":65,"display_name":"Abhishek bhutra"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513330966,"creation_date":1330082910,"answer_id":9429990,"question_id":9429357,"body_markdown":"Problem is when you print date obj it call `toString` method and it will print in your machines default time zone. Try this code and see difference.\r\n\r\n\tCalendar currentdate = Calendar.getInstance();\r\n\tString strdate = null;\r\n\tDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ssz&quot;);\r\n\tstrdate = formatter.format(currentdate.getTime());\r\n\tSystem.out.println(&quot;strdate=&gt;&quot; + strdate);\r\n\tTimeZone obj = TimeZone.getTimeZone(&quot;CST&quot;);\r\n\r\n\tformatter.setTimeZone(obj);\r\n\tstrdate = formatter.format(currentdate.getTime());\r\n\tDate theResult = formatter.parse(strdate);\r\n\r\n\tSystem.out.println(&quot;The current time in India is  :: &quot; +currentdate.getTime());\r\n\r\n\tSystem.out.println(&quot;The date and time in :: &quot; + obj.getDisplayName() + &quot;is ::&quot; + theResult);\r\n\tSystem.out.println(&quot;The date and time in :: &quot; + obj.getDisplayName() + &quot;is ::&quot; + strdate);","title":"Date and time conversion to some other Timezone in java","body":"<p>Problem is when you print date obj it call <code>toString</code> method and it will print in your machines default time zone. Try this code and see difference.</p>\n\n<pre><code>Calendar currentdate = Calendar.getInstance();\nString strdate = null;\nDateFormat formatter = new SimpleDateFormat(\"dd-MM-yyyy HH:mm:ssz\");\nstrdate = formatter.format(currentdate.getTime());\nSystem.out.println(\"strdate=&gt;\" + strdate);\nTimeZone obj = TimeZone.getTimeZone(\"CST\");\n\nformatter.setTimeZone(obj);\nstrdate = formatter.format(currentdate.getTime());\nDate theResult = formatter.parse(strdate);\n\nSystem.out.println(\"The current time in India is  :: \" +currentdate.getTime());\n\nSystem.out.println(\"The date and time in :: \" + obj.getDisplayName() + \"is ::\" + theResult);\nSystem.out.println(\"The date and time in :: \" + obj.getDisplayName() + \"is ::\" + strdate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1512481,"reputation":3083,"user_id":1414214,"accept_rate":88,"display_name":"Bon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1445437588,"creation_date":1445437588,"answer_id":33261994,"question_id":9429357,"body_markdown":"You can use two SimpleDateFormat, one for parse the date string with EST timezone, one for print the date with UTC timezone\r\n\r\n    String format = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n        SimpleDateFormat estFormatter = new SimpleDateFormat(format);\r\n        estFormatter.setTimeZone(TimeZone.getTimeZone(&quot;EST&quot;));\r\n        Date date = estFormatter.parse(&quot;2015-11-01 01:00:00&quot;);\r\n\r\n        SimpleDateFormat utcFormatter = new SimpleDateFormat(format);\r\n        utcFormatter.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\r\n        System.out.println(utcFormatter.format(date));","title":"Date and time conversion to some other Timezone in java","body":"<p>You can use two SimpleDateFormat, one for parse the date string with EST timezone, one for print the date with UTC timezone</p>\n\n<pre><code>String format = \"yyyy-MM-dd HH:mm:ss\";\n    SimpleDateFormat estFormatter = new SimpleDateFormat(format);\n    estFormatter.setTimeZone(TimeZone.getTimeZone(\"EST\"));\n    Date date = estFormatter.parse(\"2015-11-01 01:00:00\");\n\n    SimpleDateFormat utcFormatter = new SimpleDateFormat(format);\n    utcFormatter.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n\n    System.out.println(utcFormatter.format(date));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1445438042,"creation_date":1445437719,"answer_id":33262055,"question_id":9429357,"body_markdown":"`SimpleDateFormat#setTimezone()` is the answer. One formatter with `ETC` timezone you use for parsing, another with `UTC` for producing output string:\r\n\r\n    \t\r\n\r\n    DateFormat dfNy = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ROOT);\r\n    dfNy.setTimeZone(TimeZone.getTimeZone(&quot;EST&quot;));\r\n    DateFormat dfUtc = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ROOT);\r\n    dfUtc.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    \r\n    try {\r\n        return dfUtc.format(dfNy.parse(input));\r\n    } catch (ParseException e) {\r\n        return null;              // invalid input\r\n    }","title":"Date and time conversion to some other Timezone in java","body":"<p><code>SimpleDateFormat#setTimezone()</code> is the answer. One formatter with <code>ETC</code> timezone you use for parsing, another with <code>UTC</code> for producing output string:</p>\n\n<pre><code>DateFormat dfNy = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\", Locale.ROOT);\ndfNy.setTimeZone(TimeZone.getTimeZone(\"EST\"));\nDateFormat dfUtc = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\", Locale.ROOT);\ndfUtc.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n\ntry {\n    return dfUtc.format(dfNy.parse(input));\n} catch (ParseException e) {\n    return null;              // invalid input\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7155853,"reputation":1892,"user_id":5468364,"accept_rate":83,"display_name":"dossani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445439047,"creation_date":1445439047,"answer_id":33262545,"question_id":9429357,"body_markdown":"Please refer to below mentioned code.\r\n\r\n    \t DateFormat utcConverter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\t utcConverter.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n\t\t String sampleDateTime = &quot;2015-11-01 01:00:00&quot;;\r\n\t\t DateFormat nyConverter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\t nyConverter.setTimeZone(TimeZone.getTimeZone(&quot;EST&quot;));\r\n\t\t Calendar nyCal = Calendar.getInstance();\r\n\t\t \r\n\t\t nyCal.setTime(nyConverter.parse(sampleDateTime));\r\n\t\t\t\r\n\t\t System.out.println(&quot;NY TIME :&quot; +nyConverter.format(nyCal.getTime()));\r\n\t\t \r\n\t\tSystem.out.println(&quot;GMT TIME  :&quot; +utcConverter.format(nyCal.getTime()));","title":"Date and time conversion to some other Timezone in java","body":"<p>Please refer to below mentioned code.</p>\n\n<pre><code>     DateFormat utcConverter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n     utcConverter.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\n     String sampleDateTime = \"2015-11-01 01:00:00\";\n     DateFormat nyConverter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n     nyConverter.setTimeZone(TimeZone.getTimeZone(\"EST\"));\n     Calendar nyCal = Calendar.getInstance();\n\n     nyCal.setTime(nyConverter.parse(sampleDateTime));\n\n     System.out.println(\"NY TIME :\" +nyConverter.format(nyCal.getTime()));\n\n    System.out.println(\"GMT TIME  :\" +utcConverter.format(nyCal.getTime()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9706282,"reputation":244,"user_id":7199637,"accept_rate":20,"display_name":"Pratik Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1490943837,"creation_date":1490943837,"answer_id":43134469,"question_id":9429357,"body_markdown":" You can just use **&quot;CST6CDT&quot;**\r\nbecause in some countries they follow CDT in summer and CST in winter\r\n    \r\n\r\n     public static String getDateInCST() {\r\n                 Calendar calendar = Calendar.getInstance();\r\n                 DateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n                 formatter.setTimeZone(TimeZone.getTimeZone( &quot;CST6CDT&quot;));\r\n                 String strdate = formatter.format(calendar.getTime());\r\n                 TimeZone.getAvailableIDs();\r\n                 return strdate;\r\n         }","title":"Date and time conversion to some other Timezone in java","body":"<p>You can just use <strong>\"CST6CDT\"</strong>\nbecause in some countries they follow CDT in summer and CST in winter</p>\n\n<pre><code> public static String getDateInCST() {\n             Calendar calendar = Calendar.getInstance();\n             DateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.SSS\");\n             formatter.setTimeZone(TimeZone.getTimeZone( \"CST6CDT\"));\n             String strdate = formatter.format(calendar.getTime());\n             TimeZone.getAvailableIDs();\n             return strdate;\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586090356,"creation_date":1586089545,"answer_id":61042550,"question_id":9429357,"body_markdown":"First message, don’t handle your date and time as strings in your code. Just as you don’t handle numbers and Boolean values as strings (I hope). Use proper date-time objects.\r\n\r\n## java.time\r\n\r\nSometimes we get date and time as string input. It may be from a text file, from the user or from data exchange with another system, for example. In those cases parse into a proper date-time object first thing. Second message, use java.time, the modern Java date and time API, for your date and time work.\r\n\r\n\t\tDateTimeFormatter formatter\r\n\t\t\t\t= DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;);\r\n\t\t\r\n\t\tString input = &quot;2015-11-01 01:00:00&quot;;\r\n\t\t\r\n\t\tZonedDateTime nyTime = LocalDateTime.parse(input, formatter)\r\n\t\t\t\t.atZone(ZoneId.of(&quot;America/New_York&quot;));\r\n\t\tSystem.out.println(&quot;Time in New York: &quot; + nyTime);\r\n\r\nOutput from this snippet is:\r\n\r\n&gt;     Time in New York: 2015-11-01T01:00-04:00[America/New_York]\r\n\r\nTo convert to GMT:\r\n\r\n\t\tOffsetDateTime gmtTime = nyTime.toOffsetDateTime()\r\n\t\t\t\t.withOffsetSameInstant(ZoneOffset.UTC);\r\n\t\tSystem.out.println(&quot;GMT Time: &quot; + gmtTime);\r\n\r\n&gt;     GMT Time: 2015-11-01T05:00Z\r\n\r\nIf you need to give string output, format using a date-time formatter. Here’s an example of formatting for an American audience:\r\n\r\n\t\tDateTimeFormatter userFormatter\r\n\t\t\t\t= DateTimeFormatter.ofLocalizedDateTime(FormatStyle.MEDIUM)\r\n\t\t\t\t\t\t.withLocale(Locale.US);\r\n\t\tString formattedDateTime = gmtTime.format(userFormatter);\r\n\t\tSystem.out.println(&quot;GMT Time formatted for user: &quot; + formattedDateTime);\r\n\r\n&gt;     GMT Time formatted for user: Nov 1, 2015, 5:00:00 AM\r\n\r\nYou additionally asked:\r\n\r\n&gt; Between the two results below, which one should you take?\r\n\r\nI understand that you ask because both are valid answers. On November 1, 2015 summer time (DST) ended at 2 AM. That is, after 01:59:59 came 01:00:00 a second time. So when we have got `2015-11-01 01:00:00` as input, it is ambiguous. It could be in Eastern Daylight Time, equal to 05:00 GMT, or it could be in Eastern Standard Time, one hour later, hence equal to 06:00 GMT. There is no way that I can tell you which of them is correct in your case. You may control which result you get using `withEarlierOffsetAtOverlap()` or `withLaterOffsetAtOverlap()`. Above we got the DST interpretation. So to get the standard time interpretation:\r\n\r\n\t\tnyTime = nyTime.withLaterOffsetAtOverlap();\r\n\t\tSystem.out.println(&quot;Alternate time in New York: &quot; + nyTime);\r\n\r\n&gt; Alternate time in New York: 2015-11-01T01:00-05:00[America/New_York]\r\n\r\nWe notice that the hour of day is still 01:00, but the offset is now `-05:00` instead of `-04:00`. This also gives us a different GMT time:\r\n\r\n&gt;     GMT Time: 2015-11-01T06:00Z\r\n&gt;     GMT Time formatted for user: Nov 1, 2015, 6:00:00 AM\r\n\r\n## Avoid SimpleDateFormat and friends\r\n\r\nWhile the other answers are generally correct, the classes `DateFormat`, `SimpleDateFormat`, `Date` and `Calendar` used there are poorly designed and long outdated. The first two are particularly troublesome. I recommend you avoid all of them. I frankly find the modern API so much nicer to work with.\r\n\r\n## Link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n\r\n","title":"Date and time conversion to some other Timezone in java","body":"<p>First message, don’t handle your date and time as strings in your code. Just as you don’t handle numbers and Boolean values as strings (I hope). Use proper date-time objects.</p>\n\n<h2>java.time</h2>\n\n<p>Sometimes we get date and time as string input. It may be from a text file, from the user or from data exchange with another system, for example. In those cases parse into a proper date-time object first thing. Second message, use java.time, the modern Java date and time API, for your date and time work.</p>\n\n<pre><code>    DateTimeFormatter formatter\n            = DateTimeFormatter.ofPattern(\"uuuu-MM-dd HH:mm:ss\");\n\n    String input = \"2015-11-01 01:00:00\";\n\n    ZonedDateTime nyTime = LocalDateTime.parse(input, formatter)\n            .atZone(ZoneId.of(\"America/New_York\"));\n    System.out.println(\"Time in New York: \" + nyTime);\n</code></pre>\n\n<p>Output from this snippet is:</p>\n\n<blockquote>\n<pre><code>Time in New York: 2015-11-01T01:00-04:00[America/New_York]\n</code></pre>\n</blockquote>\n\n<p>To convert to GMT:</p>\n\n<pre><code>    OffsetDateTime gmtTime = nyTime.toOffsetDateTime()\n            .withOffsetSameInstant(ZoneOffset.UTC);\n    System.out.println(\"GMT Time: \" + gmtTime);\n</code></pre>\n\n<blockquote>\n<pre><code>GMT Time: 2015-11-01T05:00Z\n</code></pre>\n</blockquote>\n\n<p>If you need to give string output, format using a date-time formatter. Here’s an example of formatting for an American audience:</p>\n\n<pre><code>    DateTimeFormatter userFormatter\n            = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.MEDIUM)\n                    .withLocale(Locale.US);\n    String formattedDateTime = gmtTime.format(userFormatter);\n    System.out.println(\"GMT Time formatted for user: \" + formattedDateTime);\n</code></pre>\n\n<blockquote>\n<pre><code>GMT Time formatted for user: Nov 1, 2015, 5:00:00 AM\n</code></pre>\n</blockquote>\n\n<p>You additionally asked:</p>\n\n<blockquote>\n  <p>Between the two results below, which one should you take?</p>\n</blockquote>\n\n<p>I understand that you ask because both are valid answers. On November 1, 2015 summer time (DST) ended at 2 AM. That is, after 01:59:59 came 01:00:00 a second time. So when we have got <code>2015-11-01 01:00:00</code> as input, it is ambiguous. It could be in Eastern Daylight Time, equal to 05:00 GMT, or it could be in Eastern Standard Time, one hour later, hence equal to 06:00 GMT. There is no way that I can tell you which of them is correct in your case. You may control which result you get using <code>withEarlierOffsetAtOverlap()</code> or <code>withLaterOffsetAtOverlap()</code>. Above we got the DST interpretation. So to get the standard time interpretation:</p>\n\n<pre><code>    nyTime = nyTime.withLaterOffsetAtOverlap();\n    System.out.println(\"Alternate time in New York: \" + nyTime);\n</code></pre>\n\n<blockquote>\n  <p>Alternate time in New York: 2015-11-01T01:00-05:00[America/New_York]</p>\n</blockquote>\n\n<p>We notice that the hour of day is still 01:00, but the offset is now <code>-05:00</code> instead of <code>-04:00</code>. This also gives us a different GMT time:</p>\n\n<blockquote>\n<pre><code>GMT Time: 2015-11-01T06:00Z\nGMT Time formatted for user: Nov 1, 2015, 6:00:00 AM\n</code></pre>\n</blockquote>\n\n<h2>Avoid SimpleDateFormat and friends</h2>\n\n<p>While the other answers are generally correct, the classes <code>DateFormat</code>, <code>SimpleDateFormat</code>, <code>Date</code> and <code>Calendar</code> used there are poorly designed and long outdated. The first two are particularly troublesome. I recommend you avoid all of them. I frankly find the modern API so much nicer to work with.</p>\n\n<h2>Link</h2>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"},{"comments":[{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1701926536,"post_id":62782276,"comment_id":136836144,"body_markdown":"care to explain what are you doing","body":"care to explain what are you doing"}],"tags":[],"owner":{"account_id":10867097,"reputation":51,"user_id":7990130,"display_name":"thiennt"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594149036,"creation_date":1594149036,"answer_id":62782276,"question_id":9429357,"body_markdown":"**2020 Answer Here** \r\n\r\nIf you want the new `java.time.*` feature but still want to mess with `java.util.Date`:\r\n\r\n     public static Date convertBetweenTwoTimeZone(Date date, String fromTimeZone, String toTimeZone) {\r\n            ZoneId fromTimeZoneId = ZoneId.of(fromTimeZone);\r\n            ZoneId toTimeZoneId = ZoneId.of(toTimeZone);\r\n    \r\n            ZonedDateTime fromZonedDateTime =\r\n                    ZonedDateTime.ofInstant(date.toInstant(), ZoneId.systemDefault()).withZoneSameLocal(fromTimeZoneId);\r\n    \r\n            ZonedDateTime toZonedDateTime = fromZonedDateTime\r\n                    .withZoneSameInstant(toTimeZoneId)\r\n                    .withZoneSameLocal(ZoneId.systemDefault())\r\n                    ;\r\n    \r\n            return Date.from(toZonedDateTime.toInstant());\r\n        }\r\n\r\nfor `java.sql.Timestamp`\r\n\r\n        public static Timestamp convertBetweenTwoTimeZone(Timestamp timestamp, String fromTimeZone, String toTimeZone) {\r\n    \r\n            ZoneId fromTimeZoneId = ZoneId.of(fromTimeZone);\r\n            ZoneId toTimeZoneId = ZoneId.of(toTimeZone);\r\n    \r\n            LocalDateTime localDateTimeBeforeDST = timestamp.toLocalDateTime();\r\n\r\n            ZonedDateTime fromZonedDateTime = ZonedDateTime.of(localDateTimeBeforeDST, fromTimeZoneId);\r\n    \r\n            ZonedDateTime toZonedDateTime = fromZonedDateTime.withZoneSameInstant(toTimeZoneId);\r\n    \r\n            return Timestamp.valueOf(toZonedDateTime.toLocalDateTime());\r\n        }","title":"Date and time conversion to some other Timezone in java","body":"<p><strong>2020 Answer Here</strong></p>\n<p>If you want the new <code>java.time.*</code> feature but still want to mess with <code>java.util.Date</code>:</p>\n<pre><code> public static Date convertBetweenTwoTimeZone(Date date, String fromTimeZone, String toTimeZone) {\n        ZoneId fromTimeZoneId = ZoneId.of(fromTimeZone);\n        ZoneId toTimeZoneId = ZoneId.of(toTimeZone);\n\n        ZonedDateTime fromZonedDateTime =\n                ZonedDateTime.ofInstant(date.toInstant(), ZoneId.systemDefault()).withZoneSameLocal(fromTimeZoneId);\n\n        ZonedDateTime toZonedDateTime = fromZonedDateTime\n                .withZoneSameInstant(toTimeZoneId)\n                .withZoneSameLocal(ZoneId.systemDefault())\n                ;\n\n        return Date.from(toZonedDateTime.toInstant());\n    }\n</code></pre>\n<p>for <code>java.sql.Timestamp</code></p>\n<pre><code>    public static Timestamp convertBetweenTwoTimeZone(Timestamp timestamp, String fromTimeZone, String toTimeZone) {\n\n        ZoneId fromTimeZoneId = ZoneId.of(fromTimeZone);\n        ZoneId toTimeZoneId = ZoneId.of(toTimeZone);\n\n        LocalDateTime localDateTimeBeforeDST = timestamp.toLocalDateTime();\n\n        ZonedDateTime fromZonedDateTime = ZonedDateTime.of(localDateTimeBeforeDST, fromTimeZoneId);\n\n        ZonedDateTime toZonedDateTime = fromZonedDateTime.withZoneSameInstant(toTimeZoneId);\n\n        return Timestamp.valueOf(toZonedDateTime.toLocalDateTime());\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1627063491,"post_id":68502424,"comment_id":121066155,"body_markdown":"Please don’t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. At least not as the first option. And not without any reservation. We have so much better in [`java.time`, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/) and its `DateTimeFormatter`.","body":"Please don’t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. At least not as the first option. And not without any reservation. We have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a> and its <code>DateTimeFormatter</code>."}],"tags":[],"owner":{"account_id":398063,"reputation":1,"user_id":762544,"display_name":"Toji"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627057970,"creation_date":1627057970,"answer_id":68502424,"question_id":9429357,"body_markdown":"**For google calendar API**\r\n\r\n    private String getFormatedDate(Date date)\r\n    \t{\r\n    \t\tDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss+05:30&quot;);\r\n    \t\tdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT+05:30&quot;));\r\n    \t\treturn df.format(date);\r\n    \t}","title":"Date and time conversion to some other Timezone in java","body":"<p><strong>For google calendar API</strong></p>\n<pre><code>private String getFormatedDate(Date date)\n    {\n        DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss+05:30&quot;);\n        df.setTimeZone(TimeZone.getTimeZone(&quot;GMT+05:30&quot;));\n        return df.format(date);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700073662,"post_id":77478844,"comment_id":136611178,"body_markdown":"That phrase &quot;in IST&quot; should really be &quot;in JVM’s current default time zone&quot;.","body":"That phrase &quot;in IST&quot; should really be &quot;in JVM’s current default time zone&quot;."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700073710,"post_id":77478844,"comment_id":136611188,"body_markdown":"Good code, but an Answer on Stack Overflow should also include some explanation/education.","body":"Good code, but an Answer on Stack Overflow should also include some explanation/education."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700073867,"post_id":77478844,"comment_id":136611204,"body_markdown":"How does your Answer add value beyond the existing Answers [here](https://stackoverflow.com/a/61042550/642706) and [here](https://stackoverflow.com/a/62782276/642706)?","body":"How does your Answer add value beyond the existing Answers <a href=\"https://stackoverflow.com/a/61042550/642706\">here</a> and <a href=\"https://stackoverflow.com/a/62782276/642706\">here</a>?"}],"tags":[],"owner":{"account_id":5124438,"reputation":2515,"user_id":4107038,"accept_rate":44,"display_name":"Rajat"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699947088,"creation_date":1699947088,"answer_id":77478844,"question_id":9429357,"body_markdown":"**Using new Java 8 java.time API**\r\n\r\n    import java.time.Duration;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.temporal.ChronoUnit;\r\n    \r\n    public class Java8TimeZoneConversion {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\t// Current date and time using now()\r\n    \t\tZonedDateTime currentDateTime = ZonedDateTime.now();\r\n    \r\n    \t\t// Creating two timezone zoneid objects using ZoneId.of() method.\r\n    \t\tZoneId losAngelesTimeZone = ZoneId.of(&quot;America/Los_Angeles&quot;);\r\n    \t\tZoneId dubaiTimeZone = ZoneId.of(&quot;Asia/Dubai&quot;);\r\n    \r\n    \t\t// Converting Current timezone time to Log Angeles time\r\n    \t\tZonedDateTime losAngelesDateTime = currentDateTime.withZoneSameInstant(losAngelesTimeZone);\r\n    \r\n    \t\t// Converting Current timezone time to Dubai time\r\n    \t\tZonedDateTime dubaiDateTime = currentDateTime.withZoneSameInstant(dubaiTimeZone);\r\n    \r\n    \t\t// Datetime formatting \r\n    \t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MMM-dd HH:mm z&quot;);\r\n    \t\t\r\n    \t\t// Print all 3 dates\r\n    \t\tSystem.out.println(&quot;Current time in IST : &quot; + formatter.format(currentDateTime));\r\n    \t\tSystem.out.println(&quot;Los Angeles time now : &quot; + formatter.format(losAngelesDateTime));\r\n    \t\tSystem.out.println(&quot;Dubai time now : &quot; + formatter.format(dubaiDateTime));\r\n    \r\n    \t\t// getting the diff b/w two los angeles and dubai times.\r\n    \t\tprintDurationBetweenTwoDates(losAngelesDateTime, dubaiDateTime);\r\n    \r\n    \t}\r\n    \r\n    \tprivate static void printDurationBetweenTwoDates(ZonedDateTime sfoDateTime, ZonedDateTime dubaiDateTime) {\r\n    \t\tDuration d = Duration.between(sfoDateTime, dubaiDateTime);\r\n    \t\tlong days = d.get(ChronoUnit.SECONDS);\r\n    \t\tSystem.out.println(&quot;Time Difference between los angeles and dubai : &quot; + days / (60 * 60) + &quot; Hours &quot; + (days % (60 * 60)) / 60 + &quot; Minites&quot;);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n**Output:**\r\n\r\n    Current time in IST : 2020-Dec-01 16:56 IST\r\n    Los Angeles time now : 2020-Dec-01 03:26 PST\r\n    Dubai time now : 2020-Dec-01 15:26 GST\r\n    Time Difference between los angeles and dubai : 0 Hours 0 Minites","title":"Date and time conversion to some other Timezone in java","body":"<p><strong>Using new Java 8 java.time API</strong></p>\n<pre><code>import java.time.Duration;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\n\npublic class Java8TimeZoneConversion {\n\n    public static void main(String[] args) {\n\n        // Current date and time using now()\n        ZonedDateTime currentDateTime = ZonedDateTime.now();\n\n        // Creating two timezone zoneid objects using ZoneId.of() method.\n        ZoneId losAngelesTimeZone = ZoneId.of(&quot;America/Los_Angeles&quot;);\n        ZoneId dubaiTimeZone = ZoneId.of(&quot;Asia/Dubai&quot;);\n\n        // Converting Current timezone time to Log Angeles time\n        ZonedDateTime losAngelesDateTime = currentDateTime.withZoneSameInstant(losAngelesTimeZone);\n\n        // Converting Current timezone time to Dubai time\n        ZonedDateTime dubaiDateTime = currentDateTime.withZoneSameInstant(dubaiTimeZone);\n\n        // Datetime formatting \n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MMM-dd HH:mm z&quot;);\n        \n        // Print all 3 dates\n        System.out.println(&quot;Current time in IST : &quot; + formatter.format(currentDateTime));\n        System.out.println(&quot;Los Angeles time now : &quot; + formatter.format(losAngelesDateTime));\n        System.out.println(&quot;Dubai time now : &quot; + formatter.format(dubaiDateTime));\n\n        // getting the diff b/w two los angeles and dubai times.\n        printDurationBetweenTwoDates(losAngelesDateTime, dubaiDateTime);\n\n    }\n\n    private static void printDurationBetweenTwoDates(ZonedDateTime sfoDateTime, ZonedDateTime dubaiDateTime) {\n        Duration d = Duration.between(sfoDateTime, dubaiDateTime);\n        long days = d.get(ChronoUnit.SECONDS);\n        System.out.println(&quot;Time Difference between los angeles and dubai : &quot; + days / (60 * 60) + &quot; Hours &quot; + (days % (60 * 60)) / 60 + &quot; Minites&quot;);\n\n    }\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Current time in IST : 2020-Dec-01 16:56 IST\nLos Angeles time now : 2020-Dec-01 03:26 PST\nDubai time now : 2020-Dec-01 15:26 GST\nTime Difference between los angeles and dubai : 0 Hours 0 Minites\n</code></pre>\n"}],"owner":{"account_id":1274703,"reputation":1642,"user_id":1230183,"accept_rate":38,"display_name":"Shantanu Tomar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123531,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":9429644,"answer_count":12,"score":11,"last_activity_date":1699947088,"creation_date":1330080166,"question_id":9429357,"body_markdown":"i have written this code to convert the current system date and time to some other timezone. I am not getting any error but i am not getting my output as expected. Like if i execute my program at a particular time.. My output is :: \r\n\r\n\r\nThe current time in **India** is  :: `Fri Feb 24 16:09:23 IST 2012`\r\n\r\nThe date and time in :: **Central Standard Time** is :: `Sat Feb 25 03:39:23 IST 2012`\r\n\r\nAnd the actual Time according to **CST time zone** is :: \r\n\r\n\r\n    Friday, 24 February 4:39:16 a.m(GMT - 6:00)\r\n\r\nSo there&#39;s some **time gap**. and i don&#39;t know why this is happening. Any help will be appreciated.. The code is :: \r\n\r\n    package MyPackage;\r\n    \r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    \r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.TimeZone;\r\n    \r\n    public class Temp2 {\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tCalendar currentdate = Calendar.getInstance();\r\n    \t\t\tString strdate = null;\r\n    \t\t\tDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n    \t\t\tstrdate = formatter.format(currentdate.getTime());\r\n    \t\t\tTimeZone obj = TimeZone.getTimeZone(&quot;CST&quot;);\r\n    \t\t\t\r\n    \t\t\tformatter.setTimeZone(obj);\r\n    \t\t\t//System.out.println(strdate);\r\n    \t\t\t//System.out.println(formatter.parse(strdate));\r\n    \t\t\tDate theResult = formatter.parse(strdate);\r\n    \t\t\t\t\r\n    \t\t\tSystem.out.println(&quot;The current time in India is  :: &quot; +currentdate.getTime());\r\n    \t\t\t\t\r\n    \t\t\tSystem.out.println(&quot;The date and time in :: &quot;+ obj.getDisplayName() + &quot;is ::&quot; + theResult);\r\n    \t\t} catch (ParseException e) {\r\n    \t\t   e.printStackTrace();\r\n    \t\t}\r\n        }\r\n    }\r\n\r\n\r\n","title":"Date and time conversion to some other Timezone in java","body":"<p>i have written this code to convert the current system date and time to some other timezone. I am not getting any error but i am not getting my output as expected. Like if i execute my program at a particular time.. My output is :: </p>\n\n<p>The current time in <strong>India</strong> is  :: <code>Fri Feb 24 16:09:23 IST 2012</code></p>\n\n<p>The date and time in :: <strong>Central Standard Time</strong> is :: <code>Sat Feb 25 03:39:23 IST 2012</code></p>\n\n<p>And the actual Time according to <strong>CST time zone</strong> is :: </p>\n\n<pre><code>Friday, 24 February 4:39:16 a.m(GMT - 6:00)\n</code></pre>\n\n<p>So there's some <strong>time gap</strong>. and i don't know why this is happening. Any help will be appreciated.. The code is :: </p>\n\n<pre><code>package MyPackage;\n\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\n\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.TimeZone;\n\npublic class Temp2 {\n\n\n    public static void main(String[] args) {\n\n        try {\n            Calendar currentdate = Calendar.getInstance();\n            String strdate = null;\n            DateFormat formatter = new SimpleDateFormat(\"dd-MM-yyyy HH:mm:ss\");\n            strdate = formatter.format(currentdate.getTime());\n            TimeZone obj = TimeZone.getTimeZone(\"CST\");\n\n            formatter.setTimeZone(obj);\n            //System.out.println(strdate);\n            //System.out.println(formatter.parse(strdate));\n            Date theResult = formatter.parse(strdate);\n\n            System.out.println(\"The current time in India is  :: \" +currentdate.getTime());\n\n            System.out.println(\"The date and time in :: \"+ obj.getDisplayName() + \"is ::\" + theResult);\n        } catch (ParseException e) {\n           e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","postgresql","dbeaver","sqlexception"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1699947835,"post_id":77478649,"comment_id":136591376,"body_markdown":"In the Java case, are you still using a PostgreSQL database?  Because `select distinct on ...` is not standard SQL.  AFAIK, it is PostgreSQL specific.","body":"In the Java case, are you still using a PostgreSQL database?  Because <code>select distinct on ...</code> is not standard SQL.  AFAIK, it is PostgreSQL specific."},{"owner":{"account_id":3112422,"reputation":741,"user_id":2633917,"display_name":"tobifasc"},"score":0,"creation_date":1699949908,"post_id":77478649,"comment_id":136591678,"body_markdown":"Have you set your hibernate dialect to Postgres?","body":"Have you set your hibernate dialect to Postgres?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1699949952,"post_id":77478649,"comment_id":136591686,"body_markdown":"It seems to me that there are missing parentheses","body":"It seems to me that there are missing parentheses"},{"owner":{"account_id":3112422,"reputation":741,"user_id":2633917,"display_name":"tobifasc"},"score":1,"creation_date":1699950132,"post_id":77478649,"comment_id":136591716,"body_markdown":"It seems like hibernate doesn&#39;t support `distinct on`. See e.g. https://stackoverflow.com/a/31604888","body":"It seems like hibernate doesn&#39;t support <code>distinct on</code>. See e.g. <a href=\"https://stackoverflow.com/a/31604888\">stackoverflow.com/a/31604888</a>"}],"answers":[{"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1699947420,"post_id":77478809,"comment_id":136591331,"body_markdown":"where is it used as an alias?","body":"where is it used as an alias?"}],"tags":[],"owner":{"account_id":3687151,"reputation":131,"user_id":3070677,"display_name":"G10"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699946683,"creation_date":1699946683,"answer_id":77478809,"question_id":77478649,"body_markdown":"on is reserved word you can not us as alias. If you want to use wrapped it &#39;`on`&#39; ` sign","title":"java.sql.SQLSyntaxErrorException: unexpected token: ON","body":"<p>on is reserved word you can not us as alias. If you want to use wrapped it '<code>on</code>' ` sign</p>\n"}],"owner":{"account_id":1047674,"reputation":649,"user_id":1052348,"accept_rate":75,"display_name":"blueSky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699946683,"creation_date":1699944938,"question_id":77478649,"body_markdown":"I have this query which works fine on DBeaver for Postgres:\r\n\r\n    select profileId from (\r\n    \tselect distinct on (p.profile_id) p.profile_id as profileId, pr.creation_date as creationDate\r\n    \tfrom table1 p\r\n    \t\r\n    \t         join table2 o on (p.profile_id = o.offeree_profile_id) \r\n    \t         join table3 pr on (o.offer_id = pr.offer_id ) \r\n    \twhere \r\n    \t \r\n    \t         o.offer_status_id = &#39;ACCEPTED&#39; \r\n    \t         \r\n    \tand (pr.status != &#39;TERMINATED&#39;) \r\n    \t         and o.offeror_profile_id in \r\n    \t\r\n    \t(select p.profile_id from table4 u \r\n    \tjoin table1 p on (p.user_id = u.user_id) \r\n    \twhere customer_id = &#39;A&#39;\r\n    \tAND o.offeror_profile_id != o.offeree_profile_id)\r\n    \t) sub\r\n    order by creationDate desc limit 6\r\n\r\nBut when I run it from Java code, it throws error:\r\n\r\n    String \r\n    queryString = &quot;select profileId from (&quot; +\r\n        &quot;select distinct on (p.profile_id) p.profile_id as profileId, pr.creation_date as creationDate &quot; +\r\n        &quot;from table1 p &quot; +\r\n        &quot;join table2  o on (p.profile_id = o.offeree_profile_id ) &quot; +\r\n        &quot;join table3 pr on (o.offer_id = pr.offer_id ) &quot; +\r\n        &quot;where &quot; +\r\n        &quot;o.offer_status_id = &#39;ACCEPTED&#39; &quot; +\r\n        &quot;and (pr.status != &#39;TERMINATED&#39;) &quot; +\r\n        &quot;and o.offeror_profile_id in &quot; +\r\n        &quot;(select p.profile_id from table4 u &quot; +\r\n        &quot;join table1 p on (p.user_id = u.user_id) &quot; +\r\n        &quot;where customer_id = :CustomerId &quot; +\r\n        &quot;and o.offeror_profile_id != o.offeree_profile_id)&quot; +\r\n        &quot;) sub &quot; +\r\n        &quot;order by creationDate desc limit 6&quot;;\r\n    \r\n    \r\n    final Query profileIdQuery = getCurrentSession().createSQLQuery(queryString).setString(&quot;CustomerId&quot;, CustomerId);\r\n    \r\n    List&lt;BigInteger&gt; profileIdList = profileIdQuery.list();\r\n\r\nAbove line throws this error:\r\n\r\n    Caused by: java.sql.SQLSyntaxErrorException: unexpected token: ON\r\n\r\nP.S. The reason for using distinct on is that I need table1.profile_id to be returned but need to sort by table3.creation_date.\r\nIf I copy/paste the query I got from Java code into database client, it still runs with no error.\r\n","title":"java.sql.SQLSyntaxErrorException: unexpected token: ON","body":"<p>I have this query which works fine on DBeaver for Postgres:</p>\n<pre><code>select profileId from (\n    select distinct on (p.profile_id) p.profile_id as profileId, pr.creation_date as creationDate\n    from table1 p\n    \n             join table2 o on (p.profile_id = o.offeree_profile_id) \n             join table3 pr on (o.offer_id = pr.offer_id ) \n    where \n     \n             o.offer_status_id = 'ACCEPTED' \n             \n    and (pr.status != 'TERMINATED') \n             and o.offeror_profile_id in \n    \n    (select p.profile_id from table4 u \n    join table1 p on (p.user_id = u.user_id) \n    where customer_id = 'A'\n    AND o.offeror_profile_id != o.offeree_profile_id)\n    ) sub\norder by creationDate desc limit 6\n</code></pre>\n<p>But when I run it from Java code, it throws error:</p>\n<pre><code>String \nqueryString = &quot;select profileId from (&quot; +\n    &quot;select distinct on (p.profile_id) p.profile_id as profileId, pr.creation_date as creationDate &quot; +\n    &quot;from table1 p &quot; +\n    &quot;join table2  o on (p.profile_id = o.offeree_profile_id ) &quot; +\n    &quot;join table3 pr on (o.offer_id = pr.offer_id ) &quot; +\n    &quot;where &quot; +\n    &quot;o.offer_status_id = 'ACCEPTED' &quot; +\n    &quot;and (pr.status != 'TERMINATED') &quot; +\n    &quot;and o.offeror_profile_id in &quot; +\n    &quot;(select p.profile_id from table4 u &quot; +\n    &quot;join table1 p on (p.user_id = u.user_id) &quot; +\n    &quot;where customer_id = :CustomerId &quot; +\n    &quot;and o.offeror_profile_id != o.offeree_profile_id)&quot; +\n    &quot;) sub &quot; +\n    &quot;order by creationDate desc limit 6&quot;;\n\n\nfinal Query profileIdQuery = getCurrentSession().createSQLQuery(queryString).setString(&quot;CustomerId&quot;, CustomerId);\n\nList&lt;BigInteger&gt; profileIdList = profileIdQuery.list();\n</code></pre>\n<p>Above line throws this error:</p>\n<pre><code>Caused by: java.sql.SQLSyntaxErrorException: unexpected token: ON\n</code></pre>\n<p>P.S. The reason for using distinct on is that I need table1.profile_id to be returned but need to sort by table3.creation_date.\nIf I copy/paste the query I got from Java code into database client, it still runs with no error.</p>\n"},{"tags":["java","windows","filesystems"],"comments":[{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":0,"creation_date":1573804852,"post_id":58825588,"comment_id":104013183,"body_markdown":"https://mail.openjdk.java.net/pipermail/core-libs-dev/2019-November/063437.html","body":"<a href=\"https://mail.openjdk.java.net/pipermail/core-libs-dev/2019-November/063437.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/core-libs-dev/2019-November/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":80063,"reputation":1983,"user_id":226630,"accept_rate":60,"display_name":"dSebastien"},"score":0,"creation_date":1594114545,"post_id":58825588,"comment_id":111005709,"body_markdown":"Curious if you did find out anything more since then and how you&#39;ve tackled the issue. At work we&#39;re now facing this issue after the upgrade of a file cluster from WS 2K8R2 to WS 2019.","body":"Curious if you did find out anything more since then and how you&#39;ve tackled the issue. At work we&#39;re now facing this issue after the upgrade of a file cluster from WS 2K8R2 to WS 2019."},{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":0,"creation_date":1594115795,"post_id":58825588,"comment_id":111006393,"body_markdown":"@dSebastien No, I implemented workarounds somewhat assuring that target directories I work with are empty. That made the problem almost(?) go away. I came across similar problems in a native Win32-app implemented in C++ when using `FindFirstFileW` as well. Under rare circumstances, calling that resulted in `ERROR_NO_MORE_FILES` instead of `ERROR_FILE_NOT_FOUND`, which didn&#39;t happen for years in the past with older versions of Windows Server. Seems to me something has changed in Windows and one needs to deal with that additional error in some APIs now. So I hope Java gets compatible in future.","body":"@dSebastien No, I implemented workarounds somewhat assuring that target directories I work with are empty. That made the problem almost(?) go away. I came across similar problems in a native Win32-app implemented in C++ when using <code>FindFirstFileW</code> as well. Under rare circumstances, calling that resulted in <code>ERROR_NO_MORE_FILES</code> instead of <code>ERROR_FILE_NOT_FOUND</code>, which didn&#39;t happen for years in the past with older versions of Windows Server. Seems to me something has changed in Windows and one needs to deal with that additional error in some APIs now. So I hope Java gets compatible in future."},{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":0,"creation_date":1594116070,"post_id":58825588,"comment_id":111006532,"body_markdown":"@dSebastien It&#39;s even possible that Windows is not the problem at all, but something low-level like a virus scanner interfering with requests to the file system or such. https://stackoverflow.com/questions/58825963/when-does-findfirstfilew-set-last-error-to-be-error-no-more-files-instead-of-err?noredirect=1&amp;lq=1#comment103948605_58825963","body":"@dSebastien It&#39;s even possible that Windows is not the problem at all, but something low-level like a virus scanner interfering with requests to the file system or such. <a href=\"https://stackoverflow.com/questions/58825963/when-does-findfirstfilew-set-last-error-to-be-error-no-more-files-instead-of-err?noredirect=1&amp;lq=1#comment103948605_58825963\" title=\"when does findfirstfilew set last error to be error no more files instead of err\">stackoverflow.com/questions/58825963/&hellip;</a>"},{"owner":{"account_id":2678092,"reputation":1134,"user_id":2313984,"display_name":"AndrWeisR"},"score":0,"creation_date":1619740717,"post_id":58825588,"comment_id":119003723,"body_markdown":"@dSebastien and Thorsten, did you try Polux2&#39;s answer below, about setting DirectoryCacheLifetime=0? We are experiencing the same behaviour.","body":"@dSebastien and Thorsten, did you try Polux2&#39;s answer below, about setting DirectoryCacheLifetime=0? We are experiencing the same behaviour."},{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":0,"creation_date":1619768024,"post_id":58825588,"comment_id":119009345,"body_markdown":"@AndrWeisR I&#39;m not in control of the server, it&#39;s a production system of a customer, so I wasn&#39;t able to check this myself. This is the reason why I didn&#39;t accept the answer yet, but only upvoted, because it makes sense. If you can test it yourself and things work, tell us and I will accept the answer.","body":"@AndrWeisR I&#39;m not in control of the server, it&#39;s a production system of a customer, so I wasn&#39;t able to check this myself. This is the reason why I didn&#39;t accept the answer yet, but only upvoted, because it makes sense. If you can test it yourself and things work, tell us and I will accept the answer."},{"owner":{"account_id":2678092,"reputation":1134,"user_id":2313984,"display_name":"AndrWeisR"},"score":1,"creation_date":1620020973,"post_id":58825588,"comment_id":119068554,"body_markdown":"@ThorstenSch&#246;ning We tried the registry setting on the client server, and so far it appears the &quot;No More File&quot; errors have stopped.","body":"@ThorstenSch&#246;ning We tried the registry setting on the client server, and so far it appears the &quot;No More File&quot; errors have stopped."}],"answers":[{"comments":[{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":0,"creation_date":1620046805,"post_id":65257881,"comment_id":119078017,"body_markdown":"That was tested to work at least once, so I&#39;ll accept it: https://stackoverflow.com/questions/58825588/does-java-need-to-support-error-no-more-files-when-canonicalizing-paths-on-windo?noredirect=1#comment119068554_58825588","body":"That was tested to work at least once, so I&#39;ll accept it: <a href=\"https://stackoverflow.com/questions/58825588/does-java-need-to-support-error-no-more-files-when-canonicalizing-paths-on-windo?noredirect=1#comment119068554_58825588\" title=\"does java need to support error no more files when canonicalizing paths on windo\">stackoverflow.com/questions/58825588/&hellip;</a>"},{"owner":{"account_id":427236,"reputation":2709,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"score":1,"creation_date":1678288358,"post_id":65257881,"comment_id":133503942,"body_markdown":"is this issue also present in Windows Server 2022 ?","body":"is this issue also present in Windows Server 2022 ?"},{"owner":{"account_id":87944,"reputation":343,"user_id":243572,"accept_rate":50,"display_name":"Doc"},"score":0,"creation_date":1690372618,"post_id":65257881,"comment_id":135343672,"body_markdown":"Can someone link to the known issue? It may be that it is not the only combo of OSs that is affected. I&#39;m doing research for such a case.","body":"Can someone link to the known issue? It may be that it is not the only combo of OSs that is affected. I&#39;m doing research for such a case."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1698831026,"post_id":65257881,"comment_id":136453713,"body_markdown":"According to [Niquitas](/u/5712709), if you do not have this registry key (Ex. if you are not on a windows _server_), just create it.","body":"According to <a href=\"/u/5712709\">Niquitas</a>, if you do not have this registry key (Ex. if you are not on a windows <i>server</i>), just create it."},{"owner":{"account_id":4060691,"reputation":241,"user_id":3337325,"accept_rate":0,"display_name":"WarWolfen"},"score":0,"creation_date":1699946883,"post_id":65257881,"comment_id":136591268,"body_markdown":"I ran into this problem recently. Is there by any chance a solution other than the registry fix? In my understanding the registry fix might cause performance issues because the cache is disabled? I can confirm that the registry fix removed the bahaviour and things work fine, but still a solution with a working cache would be desirable, I guess. The problem for me occurs between a java application on Win11 / Windows2022(Server) and a Windows 2019 Fileserver with JDK 17.0.2.","body":"I ran into this problem recently. Is there by any chance a solution other than the registry fix? In my understanding the registry fix might cause performance issues because the cache is disabled? I can confirm that the registry fix removed the bahaviour and things work fine, but still a solution with a working cache would be desirable, I guess. The problem for me occurs between a java application on Win11 / Windows2022(Server) and a Windows 2019 Fileserver with JDK 17.0.2."}],"tags":[],"owner":{"account_id":6377501,"reputation":562,"user_id":4947977,"display_name":"Polux2"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1607716976,"creation_date":1607716976,"answer_id":65257881,"question_id":58825588,"body_markdown":"This behavior is caused by an SMB incompatibility between Windows Server 2019 server (file server) and previous versions of Windows (clients). The cache of directory metadata is handled differently which causes this issue when reading a share with many files and folders.\r\n\r\nMicrosoft has unfortunately not yet released a fix for this bug.\r\n\r\nA workaround is to disable the SMB metadata caching on the client side with this registry setting: \r\n`HKLM\\System\\CurrentControlSet\\Services\\LanmanWorkstation\\Parameters\\DirectoryCacheLifetime=0 (DWORD)`","title":"Does Java need to support ERROR_NO_MORE_FILES when canonicalizing paths on Windows?","body":"<p>This behavior is caused by an SMB incompatibility between Windows Server 2019 server (file server) and previous versions of Windows (clients). The cache of directory metadata is handled differently which causes this issue when reading a share with many files and folders.</p>\n<p>Microsoft has unfortunately not yet released a fix for this bug.</p>\n<p>A workaround is to disable the SMB metadata caching on the client side with this registry setting:\n<code>HKLM\\System\\CurrentControlSet\\Services\\LanmanWorkstation\\Parameters\\DirectoryCacheLifetime=0 (DWORD)</code></p>\n"}],"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3396,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65257881,"answer_count":1,"score":5,"last_activity_date":1699946116,"creation_date":1573587577,"question_id":58825588,"body_markdown":"# The problem.\r\n\r\nSome daemon implemented in Java, running on Windows 7, copies files from one directory into another, while both source and target directory are a network share hosted by Windows Server 2016. Copying is done using Apache Commons IO and occasionally it happens that this process fails with the following stacktrace and a message reading somewhat like &quot;no more files&quot;:\r\n\r\n\tjava.io.IOException: Es sind keine weiteren Dateien vorhanden\r\n\t        at java.io.WinNTFileSystem.canonicalize0(Native Method)\r\n\t        at java.io.WinNTFileSystem.canonicalize(Unknown Source)\r\n\t        at java.io.File.getCanonicalPath(Unknown Source)\r\n\t        at org.apache.commons.io.FileUtils.copyFile(FileUtils.java:642)\r\n\t        at org.apache.commons.io.FileUtils.copyFileToDirectory(FileUtils.java:587)\r\n\t        at org.apache.commons.io.FileUtils.copyFileToDirectory(FileUtils.java:558)\r\n\t        at de.am_soft.osgi.dokliste.eingaenge.impl.internal.Eingang.copyFilesToDbxmlFolders(Eingang.java:283)\r\n\r\nApache Commons IO uses the following code at line 642 and the line really only is the following `if`, not the exception:\r\n\r\n\tif (srcFile.getCanonicalPath().equals(destFile.getCanonicalPath())) {\r\n\t    throw new IOException(&quot;Source &#39;&quot; + srcFile + &quot;&#39; and destination &#39;&quot; + destFile + &quot;&#39; are the same&quot;);\r\n\t}\r\n\r\nSo the problem is not with copying itself, but with generating canonical paths already. Using Process Monitor[1] at the client where the daemon runs proves that as well. The following is the last event before the daemon clearly logs the above exception, tries to send error mails using Logback and stuff. The result of that event (`NO MORE FILES`) perfectly well fits to the error message of the stacktrace:\r\n\r\n\t10:12:06,6244515        integration.exe 6928    QueryDirectory  \\\\HOST\\SHARE$\\DocBeam3\\[...].zip  NO MORE FILES   Filter: 20191106-081920-[...].zip\r\n\r\nAdditionally, looking at former lines of ProcMon, it&#39;s sure that the exception happens for `destFile` only. Executing the daemon on my local machine instead leads to the following logged event (`NO SUCH FILE`) always:\r\n\r\n\t19:08:03,7485947\tjava.exe\t6232\tQueryDirectory\tC:\\Users\\[...].zip\tNO SUCH FILE\tFilter: 20191022-143101-[...].zip\r\n\r\nI&#39;ve debugged the native methods and came across `lastErrorReportable`, which explicitly checks for some special error codes and doesn&#39;t contain `ERROR_NO_MORE_FILES` from the first event, while it does contain `ERROR_FILE_NOT_FOUND` from the second one:\r\n\r\n\t    if ((errval == ERROR_FILE_NOT_FOUND)\r\n\t        || (errval == ERROR_DIRECTORY)\r\n\t        || (errval == ERROR_PATH_NOT_FOUND)\r\n\t        || (errval == ERROR_BAD_NETPATH)\r\n\t        || (errval == ERROR_BAD_NET_NAME)\r\n\t        || (errval == ERROR_ACCESS_DENIED)\r\n\t        || (errval == ERROR_NETWORK_UNREACHABLE)\r\n\t        || (errval == ERROR_NETWORK_ACCESS_DENIED)) {\r\n\t        return 0;\r\n\t    }\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/windows/native/libjava/canonicalize_md.c#L131\r\n\r\nSo it seems like whenever `ERROR_NO_MORE_FILES` occurs, canonicalizing a path simply gets aborted with an error instead of ignoring it like for the other errors:\r\n\r\n\tif (!lastErrorReportable()) {\r\n\t   if (!(dst = wcp(dst, dend, L&#39;\\0&#39;, src, src + wcslen(src)))){\r\n\t       goto err;\r\n\t   }\r\n\t    break;\r\n\t} else {\r\n\t    goto err;\r\n\t}\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/windows/native/libjava/canonicalize_md.c#L246\r\n\r\nThe thrown exception fits pretty well to what I get, with the given message only being a fallback not used in my case:\r\n\r\n\tif (rv == NULL &amp;&amp; !(*env)-&gt;ExceptionCheck(env)) {\r\n\t    JNU_ThrowIOExceptionWithLastError(env, &quot;Bad pathname&quot;);\r\n\t}\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/windows/native/libjava/WinNTFileSystem_md.c#L258\r\n\r\n# Additional observations.\r\n\r\nThe interesting thing now is that the daemon doesn&#39;t fail always on each and every file copy, but only sometimes, somewhat rarely. But if it fails it seems to have to do with other directories and files being available in the target directory already. While those are completely unrelated to the daemon and according to ProcMon those don&#39;t get iterated or stuff, their pure existance seems to make a difference already. If I simply delete all of those files and directories and empty the target directory this way, copying instantly succeeds again. That&#39;s interesting because having files and directories in the target directory in my local setup doesn&#39;t seem to have any influence: Copying never fails and especially the event logged by ProcMon NEVER is `ERROR_NO_MORE_FILES` as well. After emptying the directory on the setup where the problem happens, ProcMon logs `ERROR_FILE_NOT_FOUND` again as well.\r\n\r\n# The question.\r\n\r\nSo it seems that for some reason under some currently unknown circumstances, Windows decides to use `ERROR_NO_MORE_FILES` as last error in the calls to `FindFirstFileW` used by `wcanonicalize`. Because Java doesn&#39;t have that on its exception list, copying fails in those circumstances, even if it seems to be a perfectly valid situation. I don&#39;t see any real error otherwise.\r\n\r\n**So should `ERROR_NO_MORE_FILES` be added to `lastErrorReportable`? And if so, who do I need to ask for actually? :-)**\r\n\r\n[1]: https://learn.microsoft.com/en-us/sysinternals/downloads/procmon","title":"Does Java need to support ERROR_NO_MORE_FILES when canonicalizing paths on Windows?","body":"<h1>The problem.</h1>\n\n<p>Some daemon implemented in Java, running on Windows 7, copies files from one directory into another, while both source and target directory are a network share hosted by Windows Server 2016. Copying is done using Apache Commons IO and occasionally it happens that this process fails with the following stacktrace and a message reading somewhat like \"no more files\":</p>\n\n<pre><code>java.io.IOException: Es sind keine weiteren Dateien vorhanden\n        at java.io.WinNTFileSystem.canonicalize0(Native Method)\n        at java.io.WinNTFileSystem.canonicalize(Unknown Source)\n        at java.io.File.getCanonicalPath(Unknown Source)\n        at org.apache.commons.io.FileUtils.copyFile(FileUtils.java:642)\n        at org.apache.commons.io.FileUtils.copyFileToDirectory(FileUtils.java:587)\n        at org.apache.commons.io.FileUtils.copyFileToDirectory(FileUtils.java:558)\n        at de.am_soft.osgi.dokliste.eingaenge.impl.internal.Eingang.copyFilesToDbxmlFolders(Eingang.java:283)\n</code></pre>\n\n<p>Apache Commons IO uses the following code at line 642 and the line really only is the following <code>if</code>, not the exception:</p>\n\n<pre><code>if (srcFile.getCanonicalPath().equals(destFile.getCanonicalPath())) {\n    throw new IOException(\"Source '\" + srcFile + \"' and destination '\" + destFile + \"' are the same\");\n}\n</code></pre>\n\n<p>So the problem is not with copying itself, but with generating canonical paths already. Using Process Monitor<a href=\"https://learn.microsoft.com/en-us/sysinternals/downloads/procmon\" rel=\"noreferrer\">1</a> at the client where the daemon runs proves that as well. The following is the last event before the daemon clearly logs the above exception, tries to send error mails using Logback and stuff. The result of that event (<code>NO MORE FILES</code>) perfectly well fits to the error message of the stacktrace:</p>\n\n<pre><code>10:12:06,6244515        integration.exe 6928    QueryDirectory  \\\\HOST\\SHARE$\\DocBeam3\\[...].zip  NO MORE FILES   Filter: 20191106-081920-[...].zip\n</code></pre>\n\n<p>Additionally, looking at former lines of ProcMon, it's sure that the exception happens for <code>destFile</code> only. Executing the daemon on my local machine instead leads to the following logged event (<code>NO SUCH FILE</code>) always:</p>\n\n<pre><code>19:08:03,7485947    java.exe    6232    QueryDirectory  C:\\Users\\[...].zip  NO SUCH FILE    Filter: 20191022-143101-[...].zip\n</code></pre>\n\n<p>I've debugged the native methods and came across <code>lastErrorReportable</code>, which explicitly checks for some special error codes and doesn't contain <code>ERROR_NO_MORE_FILES</code> from the first event, while it does contain <code>ERROR_FILE_NOT_FOUND</code> from the second one:</p>\n\n<pre><code>    if ((errval == ERROR_FILE_NOT_FOUND)\n        || (errval == ERROR_DIRECTORY)\n        || (errval == ERROR_PATH_NOT_FOUND)\n        || (errval == ERROR_BAD_NETPATH)\n        || (errval == ERROR_BAD_NET_NAME)\n        || (errval == ERROR_ACCESS_DENIED)\n        || (errval == ERROR_NETWORK_UNREACHABLE)\n        || (errval == ERROR_NETWORK_ACCESS_DENIED)) {\n        return 0;\n    }\n</code></pre>\n\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/windows/native/libjava/canonicalize_md.c#L131\" rel=\"noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/windows/native/libjava/canonicalize_md.c#L131</a></p>\n\n<p>So it seems like whenever <code>ERROR_NO_MORE_FILES</code> occurs, canonicalizing a path simply gets aborted with an error instead of ignoring it like for the other errors:</p>\n\n<pre><code>if (!lastErrorReportable()) {\n   if (!(dst = wcp(dst, dend, L'\\0', src, src + wcslen(src)))){\n       goto err;\n   }\n    break;\n} else {\n    goto err;\n}\n</code></pre>\n\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/windows/native/libjava/canonicalize_md.c#L246\" rel=\"noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/windows/native/libjava/canonicalize_md.c#L246</a></p>\n\n<p>The thrown exception fits pretty well to what I get, with the given message only being a fallback not used in my case:</p>\n\n<pre><code>if (rv == NULL &amp;&amp; !(*env)-&gt;ExceptionCheck(env)) {\n    JNU_ThrowIOExceptionWithLastError(env, \"Bad pathname\");\n}\n</code></pre>\n\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/windows/native/libjava/WinNTFileSystem_md.c#L258\" rel=\"noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/windows/native/libjava/WinNTFileSystem_md.c#L258</a></p>\n\n<h1>Additional observations.</h1>\n\n<p>The interesting thing now is that the daemon doesn't fail always on each and every file copy, but only sometimes, somewhat rarely. But if it fails it seems to have to do with other directories and files being available in the target directory already. While those are completely unrelated to the daemon and according to ProcMon those don't get iterated or stuff, their pure existance seems to make a difference already. If I simply delete all of those files and directories and empty the target directory this way, copying instantly succeeds again. That's interesting because having files and directories in the target directory in my local setup doesn't seem to have any influence: Copying never fails and especially the event logged by ProcMon NEVER is <code>ERROR_NO_MORE_FILES</code> as well. After emptying the directory on the setup where the problem happens, ProcMon logs <code>ERROR_FILE_NOT_FOUND</code> again as well.</p>\n\n<h1>The question.</h1>\n\n<p>So it seems that for some reason under some currently unknown circumstances, Windows decides to use <code>ERROR_NO_MORE_FILES</code> as last error in the calls to <code>FindFirstFileW</code> used by <code>wcanonicalize</code>. Because Java doesn't have that on its exception list, copying fails in those circumstances, even if it seems to be a perfectly valid situation. I don't see any real error otherwise.</p>\n\n<p><strong>So should <code>ERROR_NO_MORE_FILES</code> be added to <code>lastErrorReportable</code>? And if so, who do I need to ask for actually? :-)</strong></p>\n"},{"tags":["java","python","list","arraylist","tuples"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1619862947,"post_id":67344915,"comment_id":119035797,"body_markdown":"There aren&#39;t any integers in your Python code there. That&#39;s a list of tuples of strings. Java doesn&#39;t have tuples, so there isn&#39;t really an equivalent. You could use a `List&lt;List&lt;String&gt;&gt;` if you want. Or write a class.","body":"There aren&#39;t any integers in your Python code there. That&#39;s a list of tuples of strings. Java doesn&#39;t have tuples, so there isn&#39;t really an equivalent. You could use a <code>List&lt;List&lt;String&gt;&gt;</code> if you want. Or write a class."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700487648,"post_id":67344915,"comment_id":136657011,"body_markdown":"BTW we can do `Map.of(&#39;1&#39;, &quot;One&quot;, &#39;2&#39;, &quot;Two&quot;, &#39;3&#39;, &quot;Three&quot;)`","body":"BTW we can do <code>Map.of(&#39;1&#39;, &quot;One&quot;, &#39;2&#39;, &quot;Two&quot;, &#39;3&#39;, &quot;Three&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":438978,"reputation":7398,"user_id":827593,"accept_rate":50,"display_name":"JP Moresmau"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619863000,"creation_date":1619863000,"answer_id":67344952,"question_id":67344915,"body_markdown":"There are no first-class support for Tuples in Java. You can\r\n- write a little class with the fields you want\r\n- use something like javatuples library (https://www.javatuples.org/)\r\n- use something from utility libraries like Commons-lang (https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/tuple/MutablePair.html) (note there is also an ImmutablePair)","title":"Tuple in Java lang","body":"<p>There are no first-class support for Tuples in Java. You can</p>\n<ul>\n<li>write a little class with the fields you want</li>\n<li>use something like javatuples library (<a href=\"https://www.javatuples.org/\" rel=\"nofollow noreferrer\">https://www.javatuples.org/</a>)</li>\n<li>use something from utility libraries like Commons-lang (<a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/tuple/MutablePair.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/tuple/MutablePair.html</a>) (note there is also an ImmutablePair)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3424016,"reputation":1,"user_id":2870451,"display_name":"Amol Thakurdware"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619867152,"creation_date":1619867152,"answer_id":67345532,"question_id":67344915,"body_markdown":"Well not exactly the same. But this should solve your purpose.\r\n\r\n    package solutions;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n\r\n\r\n    public class MapExample {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t\tMap&lt;Integer, String&gt; m=new HashMap&lt;Integer, String&gt;();\r\n\t\t\tm.put(1, &quot;One&quot;);\r\n\t\t\tm.put(2, &quot;Two&quot;);\r\n\t\t\tm.put(3, &quot;Three&quot;);\r\n\t\t\t\r\n\t\t\tSet&lt;Integer&gt; keySet = m.keySet();\r\n\t\t\tfor(Integer key:keySet) {\r\n\t\t\t\tSystem.out.println(key+&quot;  &quot;+m.get(key));\r\n\t\t\t}\r\n\t\t\t\r\n\t    }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Tuple in Java lang","body":"<p>Well not exactly the same. But this should solve your purpose.</p>\n<pre><code>package solutions;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Set;\n\n\npublic class MapExample {\n\n    public static void main(String[] args) {\n        Map&lt;Integer, String&gt; m=new HashMap&lt;Integer, String&gt;();\n        m.put(1, &quot;One&quot;);\n        m.put(2, &quot;Two&quot;);\n        m.put(3, &quot;Three&quot;);\n        \n        Set&lt;Integer&gt; keySet = m.keySet();\n        for(Integer key:keySet) {\n            System.out.println(key+&quot;  &quot;+m.get(key));\n        }\n        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619878973,"creation_date":1619878629,"answer_id":67347217,"question_id":67344915,"body_markdown":"*use of* `record`&lt;br /&gt;\r\nsince Java 16&lt;br /&gt;\r\n*preview in Java 14:*&lt;br /&gt;\r\nhttps://docs.oracle.com/en/java/javase/14/language/records.html\r\n\r\n    record Pair(String n, String s) {};\r\n\r\n    Pair[] data = {             /* as array */\r\n        new Pair(&quot;1&quot;, &quot;One&quot;),\r\n        new Pair(&quot;2&quot;, &quot;Two&quot;),\r\n        new Pair(&quot;3&quot;, &quot;Three&quot;)};\r\n\r\n    List&lt;Pair&gt; data = List.of(  /* as list */\r\n        new Pair(&quot;1&quot;, &quot;One&quot;),\r\n        new Pair(&quot;2&quot;, &quot;Two&quot;),\r\n        new Pair(&quot;3&quot;, &quot;Three&quot;));\r\n\r\n*(You should define more meaningful variable names, depending on the use case in* `Pair`*)*","title":"Tuple in Java lang","body":"<p><em>use of</em> <code>record</code><br />\nsince Java 16<br />\n<em>preview in Java 14:</em><br />\n<a href=\"https://docs.oracle.com/en/java/javase/14/language/records.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/language/records.html</a></p>\n<pre><code>record Pair(String n, String s) {};\n\nPair[] data = {             /* as array */\n    new Pair(&quot;1&quot;, &quot;One&quot;),\n    new Pair(&quot;2&quot;, &quot;Two&quot;),\n    new Pair(&quot;3&quot;, &quot;Three&quot;)};\n\nList&lt;Pair&gt; data = List.of(  /* as list */\n    new Pair(&quot;1&quot;, &quot;One&quot;),\n    new Pair(&quot;2&quot;, &quot;Two&quot;),\n    new Pair(&quot;3&quot;, &quot;Three&quot;));\n</code></pre>\n<p><em>(You should define more meaningful variable names, depending on the use case in</em> <code>Pair</code><em>)</em></p>\n"}],"owner":{"account_id":16457981,"reputation":41,"user_id":11889735,"display_name":"ValueIsEmpty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2839,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1699946021,"creation_date":1619862731,"question_id":67344915,"body_markdown":"I would like to do something with Java like Python.\r\n\r\n```python\r\ndata = [\r\n    (&#39;1&#39;,&#39;One&#39;),\r\n    (&#39;2&#39;,&#39;Two&#39;),\r\n    (&#39;3&#39;,&#39;Three&#39;)\r\n] # Please, Java, how can do that ?\r\n\r\n### List&lt;Integer, Double&gt; data = new ArrayList&lt;Integer, Double&gt;() ???\r\n### Or\r\n### ArrayList&lt;Integer, Double&gt; data = new ArrayList&lt;&gt;() ????\r\n## Or more ???\r\n\r\nfor datium in data:\r\n    print(f&quot;{datium[0]} - {datium[1]}&quot;)\r\n```\r\nPlease help.\r\n\r\n\r\n","title":"Tuple in Java lang","body":"<p>I would like to do something with Java like Python.</p>\n<pre class=\"lang-py prettyprint-override\"><code>data = [\n    ('1','One'),\n    ('2','Two'),\n    ('3','Three')\n] # Please, Java, how can do that ?\n\n### List&lt;Integer, Double&gt; data = new ArrayList&lt;Integer, Double&gt;() ???\n### Or\n### ArrayList&lt;Integer, Double&gt; data = new ArrayList&lt;&gt;() ????\n## Or more ???\n\nfor datium in data:\n    print(f&quot;{datium[0]} - {datium[1]}&quot;)\n</code></pre>\n<p>Please help.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":0,"creation_date":1499954153,"post_id":45081555,"comment_id":77138092,"body_markdown":"You may want to be a little clearer as to what you are expecting to happen. And what is the value of %JAVA_HOME%?","body":"You may want to be a little clearer as to what you are expecting to happen. And what is the value of %JAVA_HOME%?"},{"owner":{"account_id":11134458,"reputation":61,"user_id":8173435,"display_name":"CuriQ"},"score":0,"creation_date":1499954561,"post_id":45081555,"comment_id":77138439,"body_markdown":"I am expecting &quot;hello&quot; to be printed to output. I am sorry how do i check %JAVA_HOME%  ?","body":"I am expecting &quot;hello&quot; to be printed to output. I am sorry how do i check %JAVA_HOME%  ?"},{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":0,"creation_date":1499954970,"post_id":45081555,"comment_id":77138766,"body_markdown":"`echo %JAVA_HOME%` in a Windows Command Prompt window.","body":"<code>echo %JAVA_HOME%</code> in a Windows Command Prompt window."},{"owner":{"account_id":11134458,"reputation":61,"user_id":8173435,"display_name":"CuriQ"},"score":0,"creation_date":1499955844,"post_id":45081555,"comment_id":77139474,"body_markdown":"c:\\windows\\system32&gt; echo %JAVA_HOME%  gives  %JAVA_HOME%. Is that ok , or is there something wrong?","body":"c:\\windows\\system32&gt; echo %JAVA_HOME%  gives  %JAVA_HOME%. Is that ok , or is there something wrong?"},{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":0,"creation_date":1499956465,"post_id":45081555,"comment_id":77139973,"body_markdown":"Java uses the JAVA_HOME environment variable to figure out where all its component bits are. It may be that Netbeans, with the `--jdkhome` flag, has that all sorted out (I&#39;m no Netbeans expert); however I find things generally work better with JAVA_HOME properly set. So set the variable (Windows Control Panel &gt; System &gt; Advanced &gt; Environment Variables); the result of `echo %JAVA_HOME%` should print out `C:\\Program Files\\Java\\jdk1.8.0_131`","body":"Java uses the JAVA_HOME environment variable to figure out where all its component bits are. It may be that Netbeans, with the <code>--jdkhome</code> flag, has that all sorted out (I&#39;m no Netbeans expert); however I find things generally work better with JAVA_HOME properly set. So set the variable (Windows Control Panel &gt; System &gt; Advanced &gt; Environment Variables); the result of <code>echo %JAVA_HOME%</code> should print out <code>C:\\Program Files\\Java\\jdk1.8.0_131</code>"},{"owner":{"account_id":11134458,"reputation":61,"user_id":8173435,"display_name":"CuriQ"},"score":0,"creation_date":1499956921,"post_id":45081555,"comment_id":77140320,"body_markdown":"(Windows Control Panel &gt; System &gt; Advanced &gt; Environment Variables) under System variables, what should be the variable &amp; value? . Should the Variable be JAVA_HOME &amp; value C:\\Program Files\\Java\\jdk1.8.0_131 ? Should it point to C:\\Program Files\\Java\\jdk1.8.0_131 or C:\\Program Files\\Java\\jdk1.8.0_131\\bin ?","body":"(Windows Control Panel &gt; System &gt; Advanced &gt; Environment Variables) under System variables, what should be the variable &amp; value? . Should the Variable be JAVA_HOME &amp; value C:\\Program Files\\Java\\jdk1.8.0_131 ? Should it point to C:\\Program Files\\Java\\jdk1.8.0_131 or C:\\Program Files\\Java\\jdk1.8.0_131\\bin ?"},{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":0,"creation_date":1499956986,"post_id":45081555,"comment_id":77140385,"body_markdown":"Yes, variable `JAVA_HOME`, value `C:\\Program Files\\Java\\jdk1.8.0_131`, exactly. Not the `bin` directory.","body":"Yes, variable <code>JAVA_HOME</code>, value <code>C:\\Program Files\\Java\\jdk1.8.0_131</code>, exactly. Not the <code>bin</code> directory."},{"owner":{"account_id":11134458,"reputation":61,"user_id":8173435,"display_name":"CuriQ"},"score":0,"creation_date":1499957853,"post_id":45081555,"comment_id":77141120,"body_markdown":"The echo %JAVA_HOME% looks as expected but still i don&#39;t get output. IF i run the JAR file i get output but from Netbeans IDE nothing.","body":"The echo %JAVA_HOME% looks as expected but still i don&#39;t get output. IF i run the JAR file i get output but from Netbeans IDE nothing."},{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":0,"creation_date":1499959661,"post_id":45081555,"comment_id":77142562,"body_markdown":"Ok, well, here&#39;s where I bow out. Somebody who actually knows NetBeans is going to have to help you on this. I can only offer two solutions: 1) re-install 8.2 or 2) go back to 8.1.","body":"Ok, well, here&#39;s where I bow out. Somebody who actually knows NetBeans is going to have to help you on this. I can only offer two solutions: 1) re-install 8.2 or 2) go back to 8.1."},{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":0,"creation_date":1499960006,"post_id":45081555,"comment_id":77142804,"body_markdown":"From [this similar but unanswered question](https://stackoverflow.com/questions/42087346/why-does-this-code-returns-after-build-run-with-netbeans-8-2-run-build-succ?rq=1): &quot;Are you sure the code gets executed? Maybe you have a second main method in your project which returns immediately. You can check in your project properties (right click on the project / properties) under &quot;Run / Main Class&quot; which main class will be executed when you run your project.&quot;","body":"From <a href=\"https://stackoverflow.com/questions/42087346/why-does-this-code-returns-after-build-run-with-netbeans-8-2-run-build-succ?rq=1\">this similar but unanswered question</a>: &quot;Are you sure the code gets executed? Maybe you have a second main method in your project which returns immediately. You can check in your project properties (right click on the project / properties) under &quot;Run / Main Class&quot; which main class will be executed when you run your project.&quot;"},{"owner":{"account_id":11134458,"reputation":61,"user_id":8173435,"display_name":"CuriQ"},"score":0,"creation_date":1499960261,"post_id":45081555,"comment_id":77142972,"body_markdown":"I have actually re-installed it twice already. I just have a single main method.  To re-check that it is executing main file i even put break point and ran in debugger mode , so it does run the file with no output, so strange.","body":"I have actually re-installed it twice already. I just have a single main method.  To re-check that it is executing main file i even put break point and ran in debugger mode , so it does run the file with no output, so strange."},{"owner":{"account_id":7360680,"reputation":365,"user_id":5604057,"display_name":"ThilinaMD"},"score":0,"creation_date":1499965402,"post_id":45081555,"comment_id":77146249,"body_markdown":"try to run `Helloapp` by right click  `Helloapp.java` in project window other than pressing F6","body":"try to run <code>Helloapp</code> by right click  <code>Helloapp.java</code> in project window other than pressing F6"},{"owner":{"account_id":11134458,"reputation":61,"user_id":8173435,"display_name":"CuriQ"},"score":0,"creation_date":1499975331,"post_id":45081555,"comment_id":77151957,"body_markdown":"tried that too it does not work.","body":"tried that too it does not work."},{"owner":{"account_id":7360680,"reputation":365,"user_id":5604057,"display_name":"ThilinaMD"},"score":0,"creation_date":1500002836,"post_id":45081555,"comment_id":77160727,"body_markdown":"try to clean the project first and then try to run it","body":"try to clean the project first and then try to run it"},{"owner":{"account_id":11134458,"reputation":61,"user_id":8173435,"display_name":"CuriQ"},"score":0,"creation_date":1500062267,"post_id":45081555,"comment_id":77192972,"body_markdown":"tried that too it does not work.","body":"tried that too it does not work."}],"answers":[{"tags":[],"owner":{"account_id":13603583,"reputation":1,"user_id":9813526,"display_name":"ekant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527109349,"creation_date":1527109349,"answer_id":50497413,"question_id":45081555,"body_markdown":"1. Make Sure that the class is not in the &quot;default package&quot;.  It should lie in the project&#39;s package.\r\n\r\n2. main method should be having the correct lines which are to be executed.","title":"Netbeans 8.2 build successful but no output","body":"<ol>\n<li><p>Make Sure that the class is not in the \"default package\".  It should lie in the project's package.</p></li>\n<li><p>main method should be having the correct lines which are to be executed.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4811525,"reputation":163,"user_id":3884878,"display_name":"Ashish Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527116962,"creation_date":1527116962,"answer_id":50498697,"question_id":45081555,"body_markdown":"Right click on the class and add it to the classpath. Usually you should be able to Right-Click and then Run as...","title":"Netbeans 8.2 build successful but no output","body":"<p>Right click on the class and add it to the classpath. Usually you should be able to Right-Click and then Run as...</p>\n"}],"owner":{"account_id":11134458,"reputation":61,"user_id":8173435,"display_name":"CuriQ"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699945711,"creation_date":1499951253,"question_id":45081555,"body_markdown":"I recently installed Netbeans 8.2 with JDK 8 on Windows 7 Enterprise 64-bit OS. Started the installation with jdk-8u131-windows-x64.exe, which was successful. After that tried to install netbeans-8.2-javase-windows.exe, which gave me error stating could not find JDK. After searching over the internet I could get Netbeans to install from command prompt with netbeans-8.2-javase-windows.exe --jdkhome &quot;C:\\Program Files\\Java\\jdk1.8.0_131&quot;, Netbeans8.2 installation was successful.\r\nWrote a simple helloapp program: \r\npackage helloapp;\r\n\r\n    public class Helloapp {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        // TODO code application logic here\r\n        System.out.println(&quot;hello&quot;);\r\n    }\r\n    \r\n    }\r\n\r\nWhen I run this project by any means Run Main project, F6, right click run file gives me output as :\r\n\r\nrun:\r\nBUILD SUCCESSFUL (total time: 0 seconds).\r\n\r\nI have worked with previous version 8.1, and have never had problem. Wonder what is missing here. Can someone tell me what I might be missing here.","title":"Netbeans 8.2 build successful but no output","body":"<p>I recently installed Netbeans 8.2 with JDK 8 on Windows 7 Enterprise 64-bit OS. Started the installation with jdk-8u131-windows-x64.exe, which was successful. After that tried to install netbeans-8.2-javase-windows.exe, which gave me error stating could not find JDK. After searching over the internet I could get Netbeans to install from command prompt with netbeans-8.2-javase-windows.exe --jdkhome \"C:\\Program Files\\Java\\jdk1.8.0_131\", Netbeans8.2 installation was successful.\nWrote a simple helloapp program: \npackage helloapp;</p>\n\n<pre><code>public class Helloapp {\n\n/**\n * @param args the command line arguments\n */\npublic static void main(String[] args) {\n    // TODO code application logic here\n    System.out.println(\"hello\");\n}\n\n}\n</code></pre>\n\n<p>When I run this project by any means Run Main project, F6, right click run file gives me output as :</p>\n\n<p>run:\nBUILD SUCCESSFUL (total time: 0 seconds).</p>\n\n<p>I have worked with previous version 8.1, and have never had problem. Wonder what is missing here. Can someone tell me what I might be missing here.</p>\n"},{"tags":["java","code-coverage","execution"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1699879109,"post_id":77473915,"comment_id":136582241,"body_markdown":"Hint: you can determine it by n value before executing code.","body":"Hint: you can determine it by n value before executing code."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1699882641,"post_id":77473915,"comment_id":136582943,"body_markdown":"why do you want to do that? If it&#39;s for debugging purpose, some well-placed logs and eventually a single stacktrace should be enough.","body":"why do you want to do that? If it&#39;s for debugging purpose, some well-placed logs and eventually a single stacktrace should be enough."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1699908267,"post_id":77473915,"comment_id":136587526,"body_markdown":"Are you referring to a literal _&quot;[statement](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html)&quot;_, or just an _&quot;expression&quot;_?","body":"Are you referring to a literal <i>&quot;<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html\" rel=\"nofollow noreferrer\">statement</a>&quot;</i>, or just an <i>&quot;expression&quot;</i>?"},{"owner":{"account_id":16069047,"reputation":73,"user_id":11597912,"display_name":"Luka F&#252;rst"},"score":0,"creation_date":1700056823,"post_id":77473915,"comment_id":136607872,"body_markdown":"Thanks for all the answers! Actually, the problem can be solved by adding a System.out.println after every semicolon, since I only really need to keep track of simple statements. I&#39;ve just been wondering whether there is a more elegant way, e.g., by having the JVM &quot;remember&quot; the instructions that it actually executed and using the correspondence between the source code statements and the JVM instructions (this correspondence must exist -- how else would the JVM know which line in the source code threw an exception?) to make the list of the source code statements that were executed.","body":"Thanks for all the answers! Actually, the problem can be solved by adding a System.out.println after every semicolon, since I only really need to keep track of simple statements. I&#39;ve just been wondering whether there is a more elegant way, e.g., by having the JVM &quot;remember&quot; the instructions that it actually executed and using the correspondence between the source code statements and the JVM instructions (this correspondence must exist -- how else would the JVM know which line in the source code threw an exception?) to make the list of the source code statements that were executed."}],"answers":[{"tags":[],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699880112,"creation_date":1699880112,"answer_id":77474043,"question_id":77473915,"body_markdown":"I don&#39;t think it will work like that. You&#39;d definitely have to use a ```System.out``` for every line that get&#39;s executed, although you can first collect these line numbers in a ```List``` and then display them at the end.\r\n\r\nIf you really intend to get the line numbers automatically you have to grab a stacktrace\r\n\r\n    Thread.currentThread().getStackTrace()[0].getLineNumber()\r\n\r\nThis will give you the line number you&#39;re currently on (which is obviously the number of that exact statement). If you want you can also move that to a separate function and then move up the stacktrace to get the line number.\r\n\r\nHowever you **really really** should not do that. Grabbing a stacktrace is one of the most expensive operations in Java. You really don&#39;t want to do this for every statement that you execute unless performance is of absolutely  no value to you.","title":"The sequence of executed statements of a Java program","body":"<p>I don't think it will work like that. You'd definitely have to use a <code>System.out</code> for every line that get's executed, although you can first collect these line numbers in a <code>List</code> and then display them at the end.</p>\n<p>If you really intend to get the line numbers automatically you have to grab a stacktrace</p>\n<pre><code>Thread.currentThread().getStackTrace()[0].getLineNumber()\n</code></pre>\n<p>This will give you the line number you're currently on (which is obviously the number of that exact statement). If you want you can also move that to a separate function and then move up the stacktrace to get the line number.</p>\n<p>However you <strong>really really</strong> should not do that. Grabbing a stacktrace is one of the most expensive operations in Java. You really don't want to do this for every statement that you execute unless performance is of absolutely  no value to you.</p>\n"},{"tags":[],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699945223,"creation_date":1699885204,"answer_id":77474550,"question_id":77473915,"body_markdown":"You can reach the requested effect by **Code Coverage**.\r\n\r\n1. Call the code from within a [JUnit test][1].\r\n2. Run the code from an IDE as &quot;run test with coverage&quot;. Most probably you will have to install some &quot;test coverage&quot; plugin to your IDE.\r\n3. You will see all the lines which ran marked with green directly in your IDE.\r\n\r\nFor example for IntelliJ IDEA, the plugin is called &quot;Code Coverage&quot;:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nand you run it like this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThen you see the result in the IDE in the &quot;coverage&quot; Window:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nand after clicking on the class name notice the green and red &quot;marker&quot; on the left:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/\r\n  [2]: https://i.stack.imgur.com/62edE.png\r\n  [3]: https://i.stack.imgur.com/Cksav.png\r\n  [4]: https://i.stack.imgur.com/7CReE.png\r\n  [5]: https://i.stack.imgur.com/lK0Pj.png","title":"The sequence of executed statements of a Java program","body":"<p>You can reach the requested effect by <strong>Code Coverage</strong>.</p>\n<ol>\n<li>Call the code from within a <a href=\"https://junit.org/junit5/docs/current/user-guide/\" rel=\"nofollow noreferrer\">JUnit test</a>.</li>\n<li>Run the code from an IDE as &quot;run test with coverage&quot;. Most probably you will have to install some &quot;test coverage&quot; plugin to your IDE.</li>\n<li>You will see all the lines which ran marked with green directly in your IDE.</li>\n</ol>\n<p>For example for IntelliJ IDEA, the plugin is called &quot;Code Coverage&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/62edE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/62edE.png\" alt=\"enter image description here\" /></a></p>\n<p>and you run it like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Cksav.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cksav.png\" alt=\"enter image description here\" /></a></p>\n<p>Then you see the result in the IDE in the &quot;coverage&quot; Window:</p>\n<p><a href=\"https://i.stack.imgur.com/7CReE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7CReE.png\" alt=\"enter image description here\" /></a></p>\n<p>and after clicking on the class name notice the green and red &quot;marker&quot; on the left:</p>\n<p><a href=\"https://i.stack.imgur.com/lK0Pj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lK0Pj.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16069047,"reputation":73,"user_id":11597912,"display_name":"Luka F&#252;rst"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1699963087,"answer_count":2,"score":-3,"last_activity_date":1699945223,"creation_date":1699878733,"question_id":77473915,"body_markdown":"Given a Java program, I would like to run it and determine the sequence of statements that were executed. For instance, upon running the program\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Temp {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);  // line 4\r\n        int n = sc.nextInt();\r\n        int m = n;\r\n        if (n &gt; 0) {\r\n            m = 2 * n;\r\n        } else {\r\n            m = 3 * n;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nusing a negative integer as the input, I would like to obtain the sequence 4, 5, 6, 7, 10 (perhaps without the 7), referring to the lines that were executed.\r\n\r\nOf course, one can always add a System.out.println after every statement in the source code, but I am wondering if there is a more elegant way.\r\n\r\n","title":"The sequence of executed statements of a Java program","body":"<p>Given a Java program, I would like to run it and determine the sequence of statements that were executed. For instance, upon running the program</p>\n<pre><code>import java.util.Scanner;\n\npublic class Temp {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);  // line 4\n        int n = sc.nextInt();\n        int m = n;\n        if (n &gt; 0) {\n            m = 2 * n;\n        } else {\n            m = 3 * n;\n        }\n    }\n}\n</code></pre>\n<p>using a negative integer as the input, I would like to obtain the sequence 4, 5, 6, 7, 10 (perhaps without the 7), referring to the lines that were executed.</p>\n<p>Of course, one can always add a System.out.println after every statement in the source code, but I am wondering if there is a more elegant way.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":14507362,"reputation":137,"user_id":10478797,"display_name":"Vince D"},"score":2,"creation_date":1626974489,"post_id":12155800,"comment_id":121041065,"body_markdown":"You can directly use ObjectMapper like objectMapper.objectMapper.writeValueAsString(hasMap))","body":"You can directly use ObjectMapper like objectMapper.objectMapper.writeValueAsString(hasMap))"}],"answers":[{"tags":[],"owner":{"account_id":290705,"reputation":7460,"user_id":592392,"accept_rate":75,"display_name":"jolivier"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1489741910,"creation_date":1346144187,"answer_id":12155854,"question_id":12155800,"body_markdown":"This is typically the work of a Json library, you should not try to do it yourself. All json libraries should implement what you are asking for, and you can\r\nfind a list of Java Json libraries on [json.org][1], at the bottom of the page.\r\n\r\n\r\n  [1]: http://www.json.org/","title":"How to convert hashmap to JSON object in Java","body":"<p>This is typically the work of a Json library, you should not try to do it yourself. All json libraries should implement what you are asking for, and you can\nfind a list of Java Json libraries on <a href=\"http://www.json.org/\" rel=\"noreferrer\">json.org</a>, at the bottom of the page.</p>\n"},{"comments":[{"owner":{"account_id":59422,"reputation":3286,"user_id":177790,"accept_rate":80,"display_name":"slott"},"score":120,"creation_date":1385645683,"post_id":12155874,"comment_id":30233232,"body_markdown":"This only works for a String,String map and not a complex String,Object.","body":"This only works for a String,String map and not a complex String,Object."},{"owner":{"account_id":2200953,"reputation":3860,"user_id":2661700,"accept_rate":86,"display_name":"Yubaraj"},"score":3,"creation_date":1405495151,"post_id":12155874,"comment_id":38444475,"body_markdown":"You are putting `Map` into `JSONObject` but how can you get this map from jsonObject?","body":"You are putting <code>Map</code> into <code>JSONObject</code> but how can you get this map from jsonObject?"},{"owner":{"account_id":27433,"reputation":20683,"user_id":72443,"accept_rate":73,"display_name":"Hannoun Yassir"},"score":1,"creation_date":1410556583,"post_id":12155874,"comment_id":40386605,"body_markdown":"@Yubi this might help you : http://stackoverflow.com/questions/21720759/convert-jsonobject-to-map","body":"@Yubi this might help you : <a href=\"http://stackoverflow.com/questions/21720759/convert-jsonobject-to-map\" title=\"convert jsonobject to map\">stackoverflow.com/questions/21720759/convert-jsonobject-to-m&zwnj;&#8203;ap</a>"},{"owner":{"account_id":2125301,"reputation":1071,"user_id":1887635,"display_name":"Luismi"},"score":12,"creation_date":1418637145,"post_id":12155874,"comment_id":43395337,"body_markdown":"@slott is right for older versions. Newer versions like kitkat are working fine with more complex objects like HashMap&lt;String, Object&gt;() containing HashMap&lt;String, Object&gt;() as Object. So I recommend Gson.","body":"@slott is right for older versions. Newer versions like kitkat are working fine with more complex objects like HashMap&lt;String, Object&gt;() containing HashMap&lt;String, Object&gt;() as Object. So I recommend Gson."},{"owner":{"account_id":3484522,"reputation":6667,"user_id":2915785,"accept_rate":82,"display_name":"Naveed Ahmad"},"score":0,"creation_date":1494239451,"post_id":12155874,"comment_id":74726483,"body_markdown":"I was just searching for it","body":"I was just searching for it"},{"owner":{"account_id":3283735,"reputation":4243,"user_id":2763683,"accept_rate":94,"display_name":"Andrea Bergonzo"},"score":6,"creation_date":1505830218,"post_id":12155874,"comment_id":79567790,"body_markdown":"To convert to JSON String instead of JSON Object: `new ObjectMapper().writeValueAsString(map);`","body":"To convert to JSON String instead of JSON Object: <code>new ObjectMapper().writeValueAsString(map);</code>"},{"owner":{"account_id":7551375,"reputation":900,"user_id":5732661,"display_name":"OHY"},"score":0,"creation_date":1612608076,"post_id":12155874,"comment_id":116823200,"body_markdown":"Hi, could you please edit the caution comment? it is working in newer versions as suggested by @Luismi","body":"Hi, could you please edit the caution comment? it is working in newer versions as suggested by @Luismi"}],"tags":[],"owner":{"account_id":335255,"reputation":12716,"user_id":662250,"accept_rate":85,"display_name":"Ankur"},"comment_count":7,"down_vote_count":5,"up_vote_count":545,"is_accepted":true,"score":540,"last_activity_date":1653637712,"creation_date":1346144252,"answer_id":12155874,"question_id":12155800,"body_markdown":"You can use:\r\n\r\n    new JSONObject(map);\r\n\r\n\r\nOther functions you can get from its documentation  \r\nhttp://stleary.github.io/JSON-java/index.html","title":"How to convert hashmap to JSON object in Java","body":"<p>You can use:</p>\n<pre><code>new JSONObject(map);\n</code></pre>\n<p>Other functions you can get from its documentation<br />\n<a href=\"http://stleary.github.io/JSON-java/index.html\" rel=\"noreferrer\">http://stleary.github.io/JSON-java/index.html</a></p>\n"},{"comments":[{"owner":{"account_id":1741518,"reputation":2921,"user_id":1592783,"accept_rate":84,"display_name":"Jack"},"score":3,"creation_date":1450701643,"post_id":12155926,"comment_id":56532999,"body_markdown":"Sorry for the dig but what does the `2` do in the `json.toString(`2`)","body":"Sorry for the dig but what does the <code>2</code> do in the <code>json.toString(</code>2`)"},{"owner":{"account_id":1636158,"reputation":4134,"user_id":1509578,"accept_rate":50,"display_name":"Mohammod Hossain"},"score":2,"creation_date":1450751049,"post_id":12155926,"comment_id":56556816,"body_markdown":"public String toString(int radix).toString(2) is used for String representation. for more http://stackoverflow.com/questions/3615721/how-to-use-the-tostring-method-in-java","body":"public String toString(int radix).toString(2) is used for String representation. for more <a href=\"http://stackoverflow.com/questions/3615721/how-to-use-the-tostring-method-in-java\" title=\"how to use the tostring method in java\">stackoverflow.com/questions/3615721/&hellip;</a>"},{"owner":{"account_id":118444,"reputation":20516,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"score":18,"creation_date":1463062484,"post_id":12155926,"comment_id":61911715,"body_markdown":"which JSONObject class is this?","body":"which JSONObject class is this?"},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":26,"creation_date":1496907211,"post_id":12155926,"comment_id":75856645,"body_markdown":"No such method: (new org.json.JSONObject()).putAll();","body":"No such method: (new org.json.JSONObject()).putAll();"}],"tags":[],"owner":{"account_id":1636158,"reputation":4134,"user_id":1509578,"accept_rate":50,"display_name":"Mohammod Hossain"},"comment_count":4,"down_vote_count":2,"up_vote_count":70,"is_accepted":false,"score":68,"last_activity_date":1346144888,"creation_date":1346144488,"answer_id":12155926,"question_id":12155800,"body_markdown":"Example using json \r\n\r\n    Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\r\n        data.put( &quot;name&quot;, &quot;Mars&quot; );\r\n        data.put( &quot;age&quot;, 32 );\r\n        data.put( &quot;city&quot;, &quot;NY&quot; );\r\n        JSONObject json = new JSONObject();\r\n        json.putAll( data );\r\n        System.out.printf( &quot;JSON: %s&quot;, json.toString(2) );\r\noutput::\r\n\r\n    JSON: {\r\n      &quot;age&quot;: 32,\r\n      &quot;name&quot;: &quot;Mars&quot;,\r\n      &quot;city&quot;: &quot;NY&quot;\r\n    }\r\n\r\nYou can also try to use Google&#39;s GSON.Google&#39;s GSON is the best library available to convert Java Objects into their JSON representation.\r\n\r\nhttp://code.google.com/p/google-gson/","title":"How to convert hashmap to JSON object in Java","body":"<p>Example using json </p>\n\n<pre><code>Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n    data.put( \"name\", \"Mars\" );\n    data.put( \"age\", 32 );\n    data.put( \"city\", \"NY\" );\n    JSONObject json = new JSONObject();\n    json.putAll( data );\n    System.out.printf( \"JSON: %s\", json.toString(2) );\n</code></pre>\n\n<p>output::</p>\n\n<pre><code>JSON: {\n  \"age\": 32,\n  \"name\": \"Mars\",\n  \"city\": \"NY\"\n}\n</code></pre>\n\n<p>You can also try to use Google's GSON.Google's GSON is the best library available to convert Java Objects into their JSON representation.</p>\n\n<p><a href=\"http://code.google.com/p/google-gson/\" rel=\"noreferrer\">http://code.google.com/p/google-gson/</a></p>\n"},{"comments":[{"owner":{"account_id":352680,"reputation":3179,"user_id":689893,"accept_rate":88,"display_name":"Joost"},"score":0,"creation_date":1541074911,"post_id":12155969,"comment_id":93097773,"body_markdown":"But you should cache your xstream object anyone","body":"But you should cache your xstream object anyone"}],"tags":[],"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1346144627,"creation_date":1346144627,"answer_id":12155969,"question_id":12155800,"body_markdown":"You can use XStream - it is really handy. See the examples [here][1]\r\n\r\n    package com.thoughtworks.xstream.json.test;\r\n\r\n    import com.thoughtworks.xstream.XStream;\r\n    import com.thoughtworks.xstream.io.json.JettisonMappedXmlDriver;\r\n\r\n    public class WriteTest {\r\n\r\n    \tpublic static void main(String[] args) {\r\n\r\n          HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\r\n          map.add(&quot;1&quot;, &quot;a&quot;);\r\n          map.add(&quot;2&quot;, &quot;b&quot;);\r\n          XStream xstream = new XStream(new JettisonMappedXmlDriver());\r\n\r\n          System.out.println(xstream.toXML(map));\t\t\r\n\t\t\r\n        }\r\n\r\n    }\r\n\r\n  [1]: http://xstream.codehaus.org/json-tutorial.html","title":"How to convert hashmap to JSON object in Java","body":"<p>You can use XStream - it is really handy. See the examples <a href=\"http://xstream.codehaus.org/json-tutorial.html\" rel=\"nofollow\">here</a></p>\n\n<pre><code>package com.thoughtworks.xstream.json.test;\n\nimport com.thoughtworks.xstream.XStream;\nimport com.thoughtworks.xstream.io.json.JettisonMappedXmlDriver;\n\npublic class WriteTest {\n\n    public static void main(String[] args) {\n\n      HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\n      map.add(\"1\", \"a\");\n      map.add(\"2\", \"b\");\n      XStream xstream = new XStream(new JettisonMappedXmlDriver());\n\n      System.out.println(xstream.toXML(map));       \n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3191130,"reputation":1930,"user_id":2695332,"accept_rate":50,"display_name":"Vikas"},"score":4,"creation_date":1554329694,"post_id":12156646,"comment_id":97716104,"body_markdown":"Note: This does not preserve keys with null values.","body":"Note: This does not preserve keys with null values."},{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":0,"creation_date":1619424137,"post_id":12156646,"comment_id":118891212,"body_markdown":"How does your post answer the question? It is so confusing. Please mention something relevant to the question as well.","body":"How does your post answer the question? It is so confusing. Please mention something relevant to the question as well."},{"owner":{"account_id":4516313,"reputation":79,"user_id":3671022,"display_name":"jaimeRambo"},"score":0,"creation_date":1624639432,"post_id":12156646,"comment_id":120422470,"body_markdown":"note: when you send some value in Integer this convert in double.","body":"note: when you send some value in Integer this convert in double."},{"owner":{"account_id":12916672,"reputation":160,"user_id":9340694,"display_name":"Nazmul81"},"score":0,"creation_date":1660119779,"post_id":12156646,"comment_id":129454907,"body_markdown":"This converts scape characters to Unicode, any solution ??","body":"This converts scape characters to Unicode, any solution ??"}],"tags":[],"owner":{"account_id":1788503,"reputation":2157,"user_id":1629393,"display_name":"rama"},"comment_count":4,"down_vote_count":2,"up_vote_count":216,"is_accepted":false,"score":214,"last_activity_date":1410365800,"creation_date":1346147075,"answer_id":12156646,"question_id":12155800,"body_markdown":"[Gson][1] can also be used to serialize arbitrarily complex objects. \r\n\r\nHere is how you use it: \r\n\r\n    Gson gson = new Gson(); \r\n    String json = gson.toJson(myObject); \r\n\r\n\r\n`Gson` will automatically convert collections to `JSON` arrays. Gson can serialize private fields and automatically ignores transient fields.\r\n\r\n\r\n  [1]: https://code.google.com/p/google-gson/","title":"How to convert hashmap to JSON object in Java","body":"<p><a href=\"https://code.google.com/p/google-gson/\" rel=\"noreferrer\">Gson</a> can also be used to serialize arbitrarily complex objects. </p>\n\n<p>Here is how you use it: </p>\n\n<pre><code>Gson gson = new Gson(); \nString json = gson.toJson(myObject); \n</code></pre>\n\n<p><code>Gson</code> will automatically convert collections to <code>JSON</code> arrays. Gson can serialize private fields and automatically ignores transient fields.</p>\n"},{"tags":[],"owner":{"account_id":62450,"reputation":10263,"user_id":185565,"accept_rate":91,"display_name":"Whome"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1377521010,"creation_date":1377521010,"answer_id":18444414,"question_id":12155800,"body_markdown":"Late to the party but here is my [GSON][1] adhoc writer for serializing hashmap. I had to write map of key-value pairs as json string attributes, expect one specific to be integer type. I did not want to create custom JavaBean wrapper for this simple usecase. \r\n\r\nGSON JsonWriter class is easy to use serializer class containing few strongly typed writer.value() functions.\r\n\r\n\t// write Map as JSON document to http servlet response\r\n\tMap&lt;String,String&gt; sd = DAO.getSD(123);\r\n\tres.setContentType(&quot;application/json; charset=UTF-8&quot;);\r\n\tres.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\tJsonWriter writer = new JsonWriter(new OutputStreamWriter(res.getOutputStream(), &quot;UTF-8&quot;));\r\n\twriter.beginObject();\r\n\tfor(String key : sd.keySet()) {\r\n\t\tString val = sd.get(key);\r\n\t\twriter.name(key);\r\n\t\tif (key.equals(&quot;UniqueID&quot;) &amp;&amp; val!=null)\r\n\t\t\twriter.value(Long.parseLong(val));\r\n\t\telse\r\n\t\t\twriter.value(val);\r\n\t}\r\n\twriter.endObject();\r\n\twriter.close();\r\n\r\n\r\nIf none of the custom types be needed I could have just use toJson() function. gson-2.2.4.jar library is just under 190KB without any brutal dependencies. Easy to use on any custom servlet app or standalone application without big framework integrations.\r\n\r\n    Gson gson = new Gson(); \r\n    String json = gson.toJson(myMap); \r\n\r\n  [1]: http://code.google.com/p/google-gson/\r\n","title":"How to convert hashmap to JSON object in Java","body":"<p>Late to the party but here is my <a href=\"http://code.google.com/p/google-gson/\" rel=\"noreferrer\">GSON</a> adhoc writer for serializing hashmap. I had to write map of key-value pairs as json string attributes, expect one specific to be integer type. I did not want to create custom JavaBean wrapper for this simple usecase. </p>\n\n<p>GSON JsonWriter class is easy to use serializer class containing few strongly typed writer.value() functions.</p>\n\n<pre><code>// write Map as JSON document to http servlet response\nMap&lt;String,String&gt; sd = DAO.getSD(123);\nres.setContentType(\"application/json; charset=UTF-8\");\nres.setCharacterEncoding(\"UTF-8\");\nJsonWriter writer = new JsonWriter(new OutputStreamWriter(res.getOutputStream(), \"UTF-8\"));\nwriter.beginObject();\nfor(String key : sd.keySet()) {\n    String val = sd.get(key);\n    writer.name(key);\n    if (key.equals(\"UniqueID\") &amp;&amp; val!=null)\n        writer.value(Long.parseLong(val));\n    else\n        writer.value(val);\n}\nwriter.endObject();\nwriter.close();\n</code></pre>\n\n<p>If none of the custom types be needed I could have just use toJson() function. gson-2.2.4.jar library is just under 190KB without any brutal dependencies. Easy to use on any custom servlet app or standalone application without big framework integrations.</p>\n\n<pre><code>Gson gson = new Gson(); \nString json = gson.toJson(myMap); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2315704,"reputation":11993,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411651718,"creation_date":1411651718,"answer_id":26039868,"question_id":12155800,"body_markdown":"If you are using `net.sf.json.JSONObject` then you won&#39;t find a `JSONObject(map)` constructor in it. You have to use the `public static JSONObject fromObject( Object object ) ` method. This method accepts JSON formatted strings, Maps, DynaBeans and JavaBeans.\r\n\r\n`JSONObject jsonObject = JSONObject.fromObject(myMap);`","title":"How to convert hashmap to JSON object in Java","body":"<p>If you are using <code>net.sf.json.JSONObject</code> then you won't find a <code>JSONObject(map)</code> constructor in it. You have to use the <code>public static JSONObject fromObject( Object object )</code> method. This method accepts JSON formatted strings, Maps, DynaBeans and JavaBeans.</p>\n\n<p><code>JSONObject jsonObject = JSONObject.fromObject(myMap);</code></p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1643043498,"creation_date":1447458751,"answer_id":33703537,"question_id":12155800,"body_markdown":"[Underscore-java][1] library can convert hash map or array list to json and vice verse.\r\n\r\n    import com.github.underscore.U;\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n            map.put(&quot;1&quot;, &quot;a&quot;);\r\n            map.put(&quot;2&quot;, &quot;b&quot;);\r\n    \r\n            System.out.println(U.toJson(map));\r\n            // {\r\n            //    &quot;1&quot;: &quot;a&quot;,\r\n            //    &quot;2&quot;: &quot;b&quot;\r\n            // }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"How to convert hashmap to JSON object in Java","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> library can convert hash map or array list to json and vice verse.</p>\n<pre><code>import com.github.underscore.U;\nimport java.util.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n        map.put(&quot;1&quot;, &quot;a&quot;);\n        map.put(&quot;2&quot;, &quot;b&quot;);\n\n        System.out.println(U.toJson(map));\n        // {\n        //    &quot;1&quot;: &quot;a&quot;,\n        //    &quot;2&quot;: &quot;b&quot;\n        // }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":394033,"reputation":10807,"user_id":756233,"accept_rate":71,"display_name":"Ray Hulha"},"score":0,"creation_date":1627661045,"post_id":34229596,"comment_id":121224214,"body_markdown":"This one is it, for GSON!","body":"This one is it, for GSON!"}],"tags":[],"owner":{"account_id":3697794,"reputation":1246,"user_id":3078602,"accept_rate":75,"display_name":"Vladislav"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1449856301,"creation_date":1449856301,"answer_id":34229596,"question_id":12155800,"body_markdown":"If you need use it in the code.\r\n\r\n    Gson gsone = new Gson();\r\n    JsonObject res = gsone.toJsonTree(sqlParams).getAsJsonObject();\r\n\r\n","title":"How to convert hashmap to JSON object in Java","body":"<p>If you need use it in the code.</p>\n\n<pre><code>Gson gsone = new Gson();\nJsonObject res = gsone.toJsonTree(sqlParams).getAsJsonObject();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":118444,"reputation":20516,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"score":5,"creation_date":1463062534,"post_id":36934134,"comment_id":61911757,"body_markdown":"you&#39;re not escaping... if the key or value contains `&quot;`, this breaks","body":"you&#39;re not escaping... if the key or value contains <code>&quot;</code>, this breaks"},{"owner":{"account_id":455475,"reputation":1442,"user_id":5691656,"display_name":"Andrey Sarul"},"score":1,"creation_date":1463488132,"post_id":36934134,"comment_id":62077747,"body_markdown":"you&#39;re right, this solution has certain limitaions, nested maps is also not supported","body":"you&#39;re right, this solution has certain limitaions, nested maps is also not supported"}],"tags":[],"owner":{"account_id":455475,"reputation":1442,"user_id":5691656,"display_name":"Andrey Sarul"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1618168747,"creation_date":1461920792,"answer_id":36934134,"question_id":12155800,"body_markdown":"In my case I didn&#39;t want any dependancies. Using Java 8 you can get JSON as a string this simple:\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;key&quot;, &quot;value&quot;);\r\n    map.put(&quot;key2&quot;, &quot;value2&quot;);\r\n    String json = &quot;{&quot;+map.entrySet().stream()\r\n        .map(e -&gt; &quot;\\&quot;&quot;+ e.getKey() + &quot;\\&quot;:\\&quot;&quot; + String.valueOf(e.getValue()) + &quot;\\&quot;&quot;)\r\n        .collect(Collectors.joining(&quot;, &quot;))+&quot;}&quot;;","title":"How to convert hashmap to JSON object in Java","body":"<p>In my case I didn't want any dependancies. Using Java 8 you can get JSON as a string this simple:</p>\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;key&quot;, &quot;value&quot;);\nmap.put(&quot;key2&quot;, &quot;value2&quot;);\nString json = &quot;{&quot;+map.entrySet().stream()\n    .map(e -&gt; &quot;\\&quot;&quot;+ e.getKey() + &quot;\\&quot;:\\&quot;&quot; + String.valueOf(e.getValue()) + &quot;\\&quot;&quot;)\n    .collect(Collectors.joining(&quot;, &quot;))+&quot;}&quot;;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1559904369,"post_id":37817244,"comment_id":99574399,"body_markdown":"This is not a Scala question","body":"This is not a Scala question"}],"tags":[],"owner":{"account_id":7098388,"reputation":29,"user_id":5431010,"display_name":"Amras"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1465920897,"creation_date":1465920897,"answer_id":37817244,"question_id":12155800,"body_markdown":"I faced a similar problem when deserializing the Response from custom commands in selenium. The response was json, but selenium internally translates that into a java.util.HashMap[String, Object]\r\n\r\nIf you are familiar with scala and use the play-API for JSON, you might benefit from this:\r\n\r\n\r\n    import play.api.libs.json.{JsValue, Json}\r\n    import scala.collection.JavaConversions.mapAsScalaMap\r\n    \r\n    \r\n    object JsonParser {\r\n    \r\n      def parse(map: Map[String, Any]): JsValue = {\r\n        val values = for((key, value) &lt;- map) yield {\r\n          value match {\r\n            case m: java.util.Map[String, _] @unchecked =&gt; Json.obj(key -&gt; parse(m.toMap))\r\n            case m: Map[String, _] @unchecked =&gt; Json.obj(key -&gt; parse(m))\r\n            case int: Int =&gt; Json.obj(key -&gt; int)\r\n            case str: String =&gt; Json.obj(key -&gt; str)\r\n            case bool: Boolean =&gt; Json.obj(key -&gt; bool)\r\n          }\r\n        }\r\n    \r\n        values.foldLeft(Json.obj())((temp, obj) =&gt; {\r\n          temp.deepMerge(obj)\r\n        })\r\n      }\r\n    }\r\n\r\nSmall code description:\r\n\r\nThe code recursively traverses through the HashMap until basic types (String, Integer, Boolean) are found. These basic types can be directly wrapped into a JsObject. When the recursion is unfolded, the deepmerge concatenates the created objects.\r\n\r\n&#39;@unchecked&#39; takes care of type erasure warnings.","title":"How to convert hashmap to JSON object in Java","body":"<p>I faced a similar problem when deserializing the Response from custom commands in selenium. The response was json, but selenium internally translates that into a java.util.HashMap[String, Object]</p>\n\n<p>If you are familiar with scala and use the play-API for JSON, you might benefit from this:</p>\n\n<pre><code>import play.api.libs.json.{JsValue, Json}\nimport scala.collection.JavaConversions.mapAsScalaMap\n\n\nobject JsonParser {\n\n  def parse(map: Map[String, Any]): JsValue = {\n    val values = for((key, value) &lt;- map) yield {\n      value match {\n        case m: java.util.Map[String, _] @unchecked =&gt; Json.obj(key -&gt; parse(m.toMap))\n        case m: Map[String, _] @unchecked =&gt; Json.obj(key -&gt; parse(m))\n        case int: Int =&gt; Json.obj(key -&gt; int)\n        case str: String =&gt; Json.obj(key -&gt; str)\n        case bool: Boolean =&gt; Json.obj(key -&gt; bool)\n      }\n    }\n\n    values.foldLeft(Json.obj())((temp, obj) =&gt; {\n      temp.deepMerge(obj)\n    })\n  }\n}\n</code></pre>\n\n<p>Small code description:</p>\n\n<p>The code recursively traverses through the HashMap until basic types (String, Integer, Boolean) are found. These basic types can be directly wrapped into a JsObject. When the recursion is unfolded, the deepmerge concatenates the created objects.</p>\n\n<p>'@unchecked' takes care of type erasure warnings.</p>\n"},{"tags":[],"owner":{"account_id":4443642,"reputation":511,"user_id":3617571,"accept_rate":75,"display_name":"Eduardo Melo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471901140,"creation_date":1471901140,"answer_id":39088981,"question_id":12155800,"body_markdown":"You can use [Gson][1].\r\nThis library provides simple methods to convert Java objects to JSON objects and vice-versa. \r\n\r\nExample:\r\n\r\n    GsonBuilder gb = new GsonBuilder();\r\n    Gson gson = gb.serializeNulls().create();\r\n    gson.toJson(object);\r\n\r\nYou can use a GsonBuilder when you need to set configuration options other than the default. In the above example, the conversion process will also serialize null attributes from object.\r\n\r\nHowever, this approach only works for non-generic types. For generic types you need to use toJson(object, Type).\r\n\r\nMore information about Gson [here][2].\r\n\r\n\r\nRemember that the object must implement the **Serializable** interface.\r\n \r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://github.com/google/gson/blob/master/UserGuide.md","title":"How to convert hashmap to JSON object in Java","body":"<p>You can use <a href=\"https://github.com/google/gson\" rel=\"nofollow\">Gson</a>.\nThis library provides simple methods to convert Java objects to JSON objects and vice-versa. </p>\n\n<p>Example:</p>\n\n<pre><code>GsonBuilder gb = new GsonBuilder();\nGson gson = gb.serializeNulls().create();\ngson.toJson(object);\n</code></pre>\n\n<p>You can use a GsonBuilder when you need to set configuration options other than the default. In the above example, the conversion process will also serialize null attributes from object.</p>\n\n<p>However, this approach only works for non-generic types. For generic types you need to use toJson(object, Type).</p>\n\n<p>More information about Gson <a href=\"https://github.com/google/gson/blob/master/UserGuide.md\" rel=\"nofollow\">here</a>.</p>\n\n<p>Remember that the object must implement the <strong>Serializable</strong> interface.</p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472559334,"creation_date":1472559334,"answer_id":39227242,"question_id":12155800,"body_markdown":"If you use complex objects, you should apply **enableComplexMapKeySerialization()**, as stated in https://stackoverflow.com/a/24635655/2914140 and https://stackoverflow.com/a/26374888/2914140.\r\n\r\n    Gson gson = new GsonBuilder().enableComplexMapKeySerialization().create();\r\n    Map&lt;Point, String&gt; original = new LinkedHashMap&lt;Point, String&gt;();\r\n    original.put(new Point(5, 6), &quot;a&quot;);\r\n    original.put(new Point(8, 8), &quot;b&quot;);\r\n    System.out.println(gson.toJson(original));\r\n\r\nOutput will be:\r\n\r\n    {\r\n     &quot;(5,6)&quot;: &quot;a&quot;,\r\n     &quot;(8,8)&quot;: &quot;b&quot;\r\n    }","title":"How to convert hashmap to JSON object in Java","body":"<p>If you use complex objects, you should apply <strong>enableComplexMapKeySerialization()</strong>, as stated in <a href=\"https://stackoverflow.com/a/24635655/2914140\">https://stackoverflow.com/a/24635655/2914140</a> and <a href=\"https://stackoverflow.com/a/26374888/2914140\">https://stackoverflow.com/a/26374888/2914140</a>.</p>\n\n<pre><code>Gson gson = new GsonBuilder().enableComplexMapKeySerialization().create();\nMap&lt;Point, String&gt; original = new LinkedHashMap&lt;Point, String&gt;();\noriginal.put(new Point(5, 6), \"a\");\noriginal.put(new Point(8, 8), \"b\");\nSystem.out.println(gson.toJson(original));\n</code></pre>\n\n<p>Output will be:</p>\n\n<pre><code>{\n \"(5,6)\": \"a\",\n \"(8,8)\": \"b\"\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":1,"creation_date":1545635486,"post_id":39246682,"comment_id":94664769,"body_markdown":"no shortcuts and working effectively without any additional library","body":"no shortcuts and working effectively without any additional library"},{"owner":{"account_id":5117876,"reputation":121,"user_id":4102415,"display_name":"Martin"},"score":1,"creation_date":1587390157,"post_id":39246682,"comment_id":108484810,"body_markdown":"The Map.Entry&lt;K,V&gt;&gt; entrySet() is meant for iteration of a map. Reading the keys and searching the map for each key is a suboptimal way.","body":"The Map.Entry&lt;K,V&gt;&gt; entrySet() is meant for iteration of a map. Reading the keys and searching the map for each key is a suboptimal way."}],"tags":[],"owner":{"account_id":6817682,"reputation":877,"user_id":5245762,"accept_rate":75,"display_name":"UnahD"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1472638136,"creation_date":1472638136,"answer_id":39246682,"question_id":12155800,"body_markdown":"You can just enumerate the map and add the key-value pairs to the JSONObject\r\n\r\nMethod : \r\n\r\n    private JSONObject getJsonFromMap(Map&lt;String, Object&gt; map) throws JSONException {\r\n        JSONObject jsonData = new JSONObject();\r\n        for (String key : map.keySet()) {\r\n            Object value = map.get(key);\r\n            if (value instanceof Map&lt;?, ?&gt;) {\r\n                value = getJsonFromMap((Map&lt;String, Object&gt;) value);\r\n            }\r\n            jsonData.put(key, value);\r\n        }\r\n        return jsonData;\r\n    }","title":"How to convert hashmap to JSON object in Java","body":"<p>You can just enumerate the map and add the key-value pairs to the JSONObject</p>\n\n<p>Method : </p>\n\n<pre><code>private JSONObject getJsonFromMap(Map&lt;String, Object&gt; map) throws JSONException {\n    JSONObject jsonData = new JSONObject();\n    for (String key : map.keySet()) {\n        Object value = map.get(key);\n        if (value instanceof Map&lt;?, ?&gt;) {\n            value = getJsonFromMap((Map&lt;String, Object&gt;) value);\n        }\n        jsonData.put(key, value);\n    }\n    return jsonData;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2890699,"reputation":1114,"user_id":2479558,"accept_rate":95,"display_name":"Gurkha"},"score":1,"creation_date":1483712647,"post_id":40882429,"comment_id":70221034,"body_markdown":"didn&#39;t know I can pass Map as an argument, thanks, helped a lot.","body":"didn&#39;t know I can pass Map as an argument, thanks, helped a lot."},{"owner":{"account_id":4877821,"reputation":3416,"user_id":3932396,"accept_rate":78,"display_name":"Ankur Mahajan"},"score":0,"creation_date":1487143085,"post_id":40882429,"comment_id":71644322,"body_markdown":"@Gurkha Thanks for appreciating.","body":"@Gurkha Thanks for appreciating."},{"owner":{"account_id":5547320,"reputation":417,"user_id":6497665,"accept_rate":0,"display_name":"Badman"},"score":3,"creation_date":1488981499,"post_id":40882429,"comment_id":72471153,"body_markdown":"@AnkurMahajan +1 for giving proper answer with dependency :)","body":"@AnkurMahajan +1 for giving proper answer with dependency :)"},{"owner":{"account_id":6361048,"reputation":1256,"user_id":4936535,"accept_rate":64,"display_name":"Rohit Luthra"},"score":1,"creation_date":1511329519,"post_id":40882429,"comment_id":81809590,"body_markdown":"String json = new ObjectMapper().writeValueAsString(map); Greate","body":"String json = new ObjectMapper().writeValueAsString(map); Greate"}],"tags":[],"owner":{"account_id":4877821,"reputation":3416,"user_id":3932396,"accept_rate":78,"display_name":"Ankur Mahajan"},"comment_count":4,"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1699945199,"creation_date":1480490228,"answer_id":40882429,"question_id":12155800,"body_markdown":"You can convert `Map` to `JSON` using `Jackson` as follows:\r\n\r\n    Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\r\n    //You can convert any Object.\r\n    String[] value1 = new String[] { &quot;value11&quot;, &quot;value12&quot;, &quot;value13&quot; };\r\n\tString[] value2 = new String[] { &quot;value21&quot;, &quot;value22&quot;, &quot;value23&quot; };\r\n\tmap.put(&quot;key1&quot;, value1);\r\n\tmap.put(&quot;key2&quot;, value2);\r\n    map.put(&quot;key3&quot;,&quot;string1&quot;);\r\n    map.put(&quot;key4&quot;,&quot;string2&quot;);\r\n    \r\n    String json = new ObjectMapper().writeValueAsString(map);\r\n    System.out.println(json);\r\n\r\nMaven Dependencies for `Jackson` : \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.5.3&lt;/version&gt;\r\n    \t&lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.5.3&lt;/version&gt;\r\n    \t&lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you are using `JSONObject` library, you can convert map to `JSON` as follows:\r\n\r\n**JSONObject Library:**\r\n    `import org.json.JSONObject;`\r\n\r\n\tMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\t// Convert a map having list of values.\r\n\tString[] value1 = new String[] { &quot;value11&quot;, &quot;value12&quot;, &quot;value13&quot; };\r\n\tString[] value2 = new String[] { &quot;value21&quot;, &quot;value22&quot;, &quot;value23&quot; };\r\n\tmap.put(&quot;key1&quot;, value1);\r\n\tmap.put(&quot;key2&quot;, value2);\r\n\r\n\tJSONObject json = new JSONObject(map);\r\n\tSystem.out.println(json);\r\n\r\nMaven Dependencies for `JSONObject` :\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t&lt;version&gt;20140107&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to convert hashmap to JSON object in Java","body":"<p>You can convert <code>Map</code> to <code>JSON</code> using <code>Jackson</code> as follows:</p>\n<pre><code>Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\n//You can convert any Object.\nString[] value1 = new String[] { &quot;value11&quot;, &quot;value12&quot;, &quot;value13&quot; };\nString[] value2 = new String[] { &quot;value21&quot;, &quot;value22&quot;, &quot;value23&quot; };\nmap.put(&quot;key1&quot;, value1);\nmap.put(&quot;key2&quot;, value2);\nmap.put(&quot;key3&quot;,&quot;string1&quot;);\nmap.put(&quot;key4&quot;,&quot;string2&quot;);\n\nString json = new ObjectMapper().writeValueAsString(map);\nSystem.out.println(json);\n</code></pre>\n<p>Maven Dependencies for <code>Jackson</code> :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.5.3&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.5.3&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you are using <code>JSONObject</code> library, you can convert map to <code>JSON</code> as follows:</p>\n<p><strong>JSONObject Library:</strong>\n<code>import org.json.JSONObject;</code></p>\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n// Convert a map having list of values.\nString[] value1 = new String[] { &quot;value11&quot;, &quot;value12&quot;, &quot;value13&quot; };\nString[] value2 = new String[] { &quot;value21&quot;, &quot;value22&quot;, &quot;value23&quot; };\nmap.put(&quot;key1&quot;, value1);\nmap.put(&quot;key2&quot;, value2);\n\nJSONObject json = new JSONObject(map);\nSystem.out.println(json);\n</code></pre>\n<p>Maven Dependencies for <code>JSONObject</code> :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20140107&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3433236,"reputation":2920,"user_id":2877004,"display_name":"Alecs"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1485702601,"creation_date":1485702601,"answer_id":41922357,"question_id":12155800,"body_markdown":"Here my single-line solution with GSON:\r\n\r\n    myObject = new Gson().fromJson(new Gson().toJson(myHashMap), MyClass.class);\r\n","title":"How to convert hashmap to JSON object in Java","body":"<p>Here my single-line solution with GSON:</p>\n\n<pre><code>myObject = new Gson().fromJson(new Gson().toJson(myHashMap), MyClass.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1559904893,"post_id":42853541,"comment_id":99574633,"body_markdown":"Swallowing exceptions and returning an empty object is a bad idea.","body":"Swallowing exceptions and returning an empty object is a bad idea."}],"tags":[],"owner":{"account_id":3284132,"reputation":2685,"user_id":2764007,"display_name":"drakeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489742549,"creation_date":1489742549,"answer_id":42853541,"question_id":12155800,"body_markdown":"**No need for Gson or JSON parsing libraries.**\r\nJust using `new JSONObject(Map&lt;String, JSONObject&gt;).toString()`, e.g:\r\n\r\n    /**\r\n     * convert target map to JSON string\r\n     *\r\n     * @param map the target map\r\n     * @return JSON string of the map\r\n     */\r\n    @NonNull public String toJson(@NonNull Map&lt;String, Target&gt; map) {\r\n        final Map&lt;String, JSONObject&gt; flatMap = new HashMap&lt;&gt;();\r\n        for (String key : map.keySet()) {\r\n            try {\r\n                flatMap.put(key, toJsonObject(map.get(key)));\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        try {\r\n            // 2 indentSpaces for pretty printing\r\n            return new JSONObject(flatMap).toString(2);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n            return &quot;{}&quot;;\r\n        }\r\n    }","title":"How to convert hashmap to JSON object in Java","body":"<p><strong>No need for Gson or JSON parsing libraries.</strong>\nJust using <code>new JSONObject(Map&lt;String, JSONObject&gt;).toString()</code>, e.g:</p>\n\n<pre><code>/**\n * convert target map to JSON string\n *\n * @param map the target map\n * @return JSON string of the map\n */\n@NonNull public String toJson(@NonNull Map&lt;String, Target&gt; map) {\n    final Map&lt;String, JSONObject&gt; flatMap = new HashMap&lt;&gt;();\n    for (String key : map.keySet()) {\n        try {\n            flatMap.put(key, toJsonObject(map.get(key)));\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n    try {\n        // 2 indentSpaces for pretty printing\n        return new JSONObject(flatMap).toString(2);\n    } catch (JSONException e) {\n        e.printStackTrace();\n        return \"{}\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2126061,"reputation":669,"user_id":1888197,"accept_rate":73,"display_name":"shark1608"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1491871153,"creation_date":1491871153,"answer_id":43334936,"question_id":12155800,"body_markdown":"For those using `org.json.simple.JSONObject`, you could convert the map to Json String and parse it to get the `JSONObject`.\r\n\r\n    JSONObject object = (JSONObject) new JSONParser().parse(JSONObject.toJSONString(map));","title":"How to convert hashmap to JSON object in Java","body":"<p>For those using <code>org.json.simple.JSONObject</code>, you could convert the map to Json String and parse it to get the <code>JSONObject</code>.</p>\n\n<pre><code>JSONObject object = (JSONObject) new JSONParser().parse(JSONObject.toJSONString(map));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1559904916,"post_id":46306560,"comment_id":99574647,"body_markdown":"This is merely repeating an earlier answer.","body":"This is merely repeating an earlier answer."}],"tags":[],"owner":{"account_id":374176,"reputation":4358,"user_id":724238,"accept_rate":84,"display_name":"pushya"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1505910937,"creation_date":1505842287,"answer_id":46306560,"question_id":12155800,"body_markdown":"        import org.json.JSONObject;\r\n\r\n        HashMap&lt;Object, Object&gt; map = new HashMap&lt;&gt;();\r\n\t\tString[] list={&quot;Grader&quot;,&quot;Participant&quot;};\r\n\t\tString[] list1={&quot;Assistant&quot;,&quot;intern&quot;};\r\n\t\tmap.put(&quot;TeachingAssistant&quot;,list);\r\n\t\tmap.put(&quot;Writer&quot;,list1);\r\n\t\tJSONObject jsonObject = new JSONObject(map);\r\n\t\tSystem.out.printf(jsonObject.toString());\r\n\r\n        // Result: {&quot;TeachingAssistant&quot;:[&quot;Grader&quot;,&quot;Participant&quot;],&quot;Writer&quot;:[&quot;Assistant&quot;,&quot;intern&quot;]}","title":"How to convert hashmap to JSON object in Java","body":"<pre><code>    import org.json.JSONObject;\n\n    HashMap&lt;Object, Object&gt; map = new HashMap&lt;&gt;();\n    String[] list={\"Grader\",\"Participant\"};\n    String[] list1={\"Assistant\",\"intern\"};\n    map.put(\"TeachingAssistant\",list);\n    map.put(\"Writer\",list1);\n    JSONObject jsonObject = new JSONObject(map);\n    System.out.printf(jsonObject.toString());\n\n    // Result: {\"TeachingAssistant\":[\"Grader\",\"Participant\"],\"Writer\":[\"Assistant\",\"intern\"]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1059953,"reputation":873,"user_id":1061796,"accept_rate":48,"display_name":"IMJS"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1699756355,"creation_date":1515446464,"answer_id":48158227,"question_id":12155800,"body_markdown":"I found another way to handle it.\r\n\r\n    Map obj=new HashMap();    \r\n    obj.put(&quot;name&quot;,&quot;sonoo&quot;);    \r\n    obj.put(&quot;age&quot;,new Integer(27));    \r\n    obj.put(&quot;salary&quot;,new Double(600000));   \r\n    String jsonText = JSONValue.toJSONString(obj);  \r\n    System.out.print(jsonText);","title":"How to convert hashmap to JSON object in Java","body":"<p>I found another way to handle it.</p>\n<pre><code>Map obj=new HashMap();    \nobj.put(&quot;name&quot;,&quot;sonoo&quot;);    \nobj.put(&quot;age&quot;,new Integer(27));    \nobj.put(&quot;salary&quot;,new Double(600000));   \nString jsonText = JSONValue.toJSONString(obj);  \nSystem.out.print(jsonText);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1559904580,"post_id":51988230,"comment_id":99574494,"body_markdown":"Well yes.  However, the question asks for a way to create a JSON object *starting from a `HashMap`*, and this doesn&#39;t answer that.","body":"Well yes.  However, the question asks for a way to create a JSON object <i>starting from a <code>HashMap</code></i>, and this doesn&#39;t answer that."},{"owner":{"account_id":3650169,"reputation":3098,"user_id":3042543,"display_name":"Rafal Enden"},"score":0,"creation_date":1560265728,"post_id":51988230,"comment_id":99675168,"body_markdown":"Some people could land here from google looking for a generic solution. The above answer might help them.","body":"Some people could land here from google looking for a generic solution. The above answer might help them."}],"tags":[],"owner":{"account_id":3650169,"reputation":3098,"user_id":3042543,"display_name":"Rafal Enden"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1535034697,"creation_date":1535034697,"answer_id":51988230,"question_id":12155800,"body_markdown":"If you don&#39;t really need HashMap then you can do something like that:\r\n\r\n    String jsonString = new JSONObject() {{\r\n      put(&quot;firstName&quot;, user.firstName);\r\n      put(&quot;lastName&quot;, user.lastName);\r\n    }}.toString();\r\n\r\nOutput:\r\n\r\n    {\r\n      &quot;firstName&quot;: &quot;John&quot;,\r\n      &quot;lastName&quot;: &quot;Doe&quot;\r\n    }","title":"How to convert hashmap to JSON object in Java","body":"<p>If you don't really need HashMap then you can do something like that:</p>\n\n<pre><code>String jsonString = new JSONObject() {{\n  put(\"firstName\", user.firstName);\n  put(\"lastName\", user.lastName);\n}}.toString();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\"\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1559904339,"post_id":53166594,"comment_id":99574391,"body_markdown":"This is not a Groovy question.","body":"This is not a Groovy question."},{"owner":{"account_id":1645492,"reputation":1481,"user_id":1517100,"display_name":"jiahut"},"score":0,"creation_date":1560131405,"post_id":53166594,"comment_id":99624376,"body_markdown":"@stephen-c java is a platform not just language, groovy is just a jar.","body":"@stephen-c java is a platform not just language, groovy is just a jar."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1560131749,"post_id":53166594,"comment_id":99624449,"body_markdown":"The code in your question is not Java.  If that code really works for you then you are not using Java.  Java doesn&#39;t have a &quot;println&quot; statement, and you can&#39;t declare a variable like that.  My guess is that you are using Groovy, but I&#39;m not sure.  Either way, recommending people to use Groovy libraries instead of Java libraries in Java code ... not a good idea.","body":"The code in your question is not Java.  If that code really works for you then you are not using Java.  Java doesn&#39;t have a &quot;println&quot; statement, and you can&#39;t declare a variable like that.  My guess is that you are using Groovy, but I&#39;m not sure.  Either way, recommending people to use Groovy libraries instead of Java libraries in Java code ... not a good idea."}],"tags":[],"owner":{"account_id":1645492,"reputation":1481,"user_id":1517100,"display_name":"jiahut"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1699756384,"creation_date":1541484654,"answer_id":53166594,"question_id":12155800,"body_markdown":"This works for me:\r\n\r\n\r\n    import groovy.json.JsonBuilder\r\n    properties = new Properties()\r\n    properties.put(&quot;name&quot;, &quot;zhangsan&quot;)\r\n    \r\n    println new JsonBuilder(properties).toPrettyString()\r\n","title":"How to convert hashmap to JSON object in Java","body":"<p>This works for me:</p>\n<pre><code>import groovy.json.JsonBuilder\nproperties = new Properties()\nproperties.put(&quot;name&quot;, &quot;zhangsan&quot;)\n\nprintln new JsonBuilder(properties).toPrettyString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7626755,"reputation":511,"user_id":5782985,"display_name":"Galley"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545911547,"creation_date":1545911547,"answer_id":53944639,"question_id":12155800,"body_markdown":"I&#39;m using Alibaba fastjson, easy and simple:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n        &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n        &lt;version&gt;VERSION_CODE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand import:\r\n\r\n    import com.alibaba.fastjson.JSON;\r\n\r\nThen:\r\n\r\n    String text = JSON.toJSONString(obj); // serialize\r\n    VO vo = JSON.parseObject(&quot;{...}&quot;, VO.class); //unserialize\r\n\r\nEverything is ok.","title":"How to convert hashmap to JSON object in Java","body":"<p>I'm using Alibaba fastjson, easy and simple:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n    &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n    &lt;version&gt;VERSION_CODE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and import:</p>\n\n<pre><code>import com.alibaba.fastjson.JSON;\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>String text = JSON.toJSONString(obj); // serialize\nVO vo = JSON.parseObject(\"{...}\", VO.class); //unserialize\n</code></pre>\n\n<p>Everything is ok.</p>\n"},{"tags":[],"owner":{"account_id":2273779,"reputation":1060,"user_id":2000573,"accept_rate":50,"display_name":"RiccardoCh"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1552928046,"creation_date":1552928046,"answer_id":55226362,"question_id":12155800,"body_markdown":"This solution works with complex JSONs:\r\n\r\n \r\n\r\n    public Object toJSON(Object object) throws JSONException {\r\n        if (object instanceof HashMap) {\r\n            JSONObject json = new JSONObject();\r\n            HashMap map = (HashMap) object;\r\n            for (Object key : map.keySet()) {\r\n                json.put(key.toString(), toJSON(map.get(key)));\r\n            }\r\n            return json;\r\n        } else if (object instanceof Iterable) {\r\n            JSONArray json = new JSONArray();\r\n            for (Object value : ((Iterable) object)) {\r\n                json.put(toJSON(value));\r\n            }\r\n            return json;\r\n        }\r\n        else {\r\n            return object;\r\n        }\r\n    }","title":"How to convert hashmap to JSON object in Java","body":"<p>This solution works with complex JSONs:</p>\n\n<pre><code>public Object toJSON(Object object) throws JSONException {\n    if (object instanceof HashMap) {\n        JSONObject json = new JSONObject();\n        HashMap map = (HashMap) object;\n        for (Object key : map.keySet()) {\n            json.put(key.toString(), toJSON(map.get(key)));\n        }\n        return json;\n    } else if (object instanceof Iterable) {\n        JSONArray json = new JSONArray();\n        for (Object value : ((Iterable) object)) {\n            json.put(toJSON(value));\n        }\n        return json;\n    }\n    else {\n        return object;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1559904195,"post_id":56489348,"comment_id":99574324,"body_markdown":"This doesn&#39;t answer the question.  It is producing JSON array,  not a JSON object.   And someone else has already shown us how to create a JSON object from a hashmap using `Gson`.","body":"This doesn&#39;t answer the question.  It is producing JSON array,  not a JSON object.   And someone else has already shown us how to create a JSON object from a hashmap using <code>Gson</code>."},{"owner":{"account_id":14390532,"reputation":75,"user_id":10395216,"display_name":"Kelly Budol"},"score":0,"creation_date":1560124393,"post_id":56489348,"comment_id":99623457,"body_markdown":"Hi @StephenC, some might looking for an example of JSON array rather than JSON Object since the top comment has already provided the best answer so far. I hope we can provide other answers related to serializing using GSON. My apologies, this answer should be posted on a different thread.","body":"Hi @StephenC, some might looking for an example of JSON array rather than JSON Object since the top comment has already provided the best answer so far. I hope we can provide other answers related to serializing using GSON. My apologies, this answer should be posted on a different thread."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1560125212,"post_id":56489348,"comment_id":99623552,"body_markdown":"We should be writing answers for people who search properly.  If we try to cater for people who can&#39;t search by posting off-topic answers, it degrades the site with &quot;noise&quot;, and makes it harder for people who know how to search to find *relevant* answers.   If you (now) agree that this Answer is in the wrong place, please just delete it.","body":"We should be writing answers for people who search properly.  If we try to cater for people who can&#39;t search by posting off-topic answers, it degrades the site with &quot;noise&quot;, and makes it harder for people who know how to search to find <i>relevant</i> answers.   If you (now) agree that this Answer is in the wrong place, please just delete it."},{"owner":{"account_id":5021269,"reputation":1618,"user_id":4034697,"accept_rate":100,"display_name":"Vahid"},"score":2,"creation_date":1560761227,"post_id":56489348,"comment_id":99827603,"body_markdown":"@KellyBudol  good or bad , your answer is what i looking for.thanks Man","body":"@KellyBudol  good or bad , your answer is what i looking for.thanks Man"}],"tags":[],"owner":{"account_id":14390532,"reputation":75,"user_id":10395216,"display_name":"Kelly Budol"},"comment_count":4,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1559890528,"creation_date":1559890528,"answer_id":56489348,"question_id":12155800,"body_markdown":"Better be late than never. I used **GSON** to convert list of HashMap to string if in case you want to have a serialized list.\r\n\r\n    List&lt;HashMap&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    HashMap&lt;String,String&gt; hashMap = new HashMap&lt;&gt;();\r\n    hashMap.add(&quot;key&quot;, &quot;value&quot;);\r\n    hashMap.add(&quot;key&quot;, &quot;value&quot;);\r\n    hashMap.add(&quot;key&quot;, &quot;value&quot;);\r\n    list.add(hashMap);\r\n\r\n    String json = new Gson().toJson(list);\r\n\r\nThis `json` produces `[{&quot;key&quot;:&quot;value&quot;,&quot;key&quot;:&quot;value&quot;,&quot;key&quot;:&quot;value&quot;}]`","title":"How to convert hashmap to JSON object in Java","body":"<p>Better be late than never. I used <strong>GSON</strong> to convert list of HashMap to string if in case you want to have a serialized list.</p>\n\n<pre><code>List&lt;HashMap&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\nHashMap&lt;String,String&gt; hashMap = new HashMap&lt;&gt;();\nhashMap.add(\"key\", \"value\");\nhashMap.add(\"key\", \"value\");\nhashMap.add(\"key\", \"value\");\nlist.add(hashMap);\n\nString json = new Gson().toJson(list);\n</code></pre>\n\n<p>This <code>json</code> produces <code>[{\"key\":\"value\",\"key\":\"value\",\"key\":\"value\"}]</code></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1559904675,"post_id":56492438,"comment_id":99574546,"body_markdown":"This is saying the same thing as previous answers from years ago, without the advantage of being concise.","body":"This is saying the same thing as previous answers from years ago, without the advantage of being concise."},{"owner":{"account_id":4182503,"reputation":2396,"user_id":3427079,"accept_rate":87,"display_name":"G_V"},"score":0,"creation_date":1559911750,"post_id":56492438,"comment_id":99578106,"body_markdown":"@StephenC I have no idea what you&#39;re on about","body":"@StephenC I have no idea what you&#39;re on about"},{"owner":{"account_id":4182503,"reputation":2396,"user_id":3427079,"accept_rate":87,"display_name":"G_V"},"score":0,"creation_date":1560247688,"post_id":56492438,"comment_id":99664170,"body_markdown":"@StephenC &quot;How to convert or cast hashmap to JSON object in Java, and again convert JSON object to JSON string?&quot;","body":"@StephenC &quot;How to convert or cast hashmap to JSON object in Java, and again convert JSON object to JSON string?&quot;"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1560255568,"post_id":56492438,"comment_id":99668674,"body_markdown":"362 people (and counting) think that https://stackoverflow.com/a/12155874/139985 answers the question.  It says basically what your answer says without the frilly bits.","body":"362 people (and counting) think that <a href=\"https://stackoverflow.com/a/12155874/139985\">stackoverflow.com/a/12155874/139985</a> answers the question.  It says basically what your answer says without the frilly bits."}],"tags":[],"owner":{"account_id":4182503,"reputation":2396,"user_id":3427079,"accept_rate":87,"display_name":"G_V"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1559911686,"creation_date":1559902787,"answer_id":56492438,"question_id":12155800,"body_markdown":"First convert all your objects into valid Strings\r\n\r\n    HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;arg1&quot;, &quot;&lt;b&gt;some text&lt;/b&gt;&quot;);\r\n    params.put(&quot;arg2&quot;, someObject.toString());\r\n\r\nThen insert the entire map into a org.json.JSONObject\r\n\r\n    JSONObject postData = new JSONObject(params);\r\n\r\nNow you can get the JSON by simply calling the object&#39;s toString\r\n\r\n    postData.toString()\r\n    //{&quot;arg1&quot;:&quot;&lt;b&gt;some text&lt;\\/b&gt;&quot; &quot;arg2&quot;:&quot;object output&quot;}\r\nCreate a new JSONObject\r\n\r\n    JSONObject o = new JSONObject(postData.toString());\r\n\r\nOr as a byte array for sending over HTTP\r\n\r\n    postData.toString().getBytes(&quot;UTF-8&quot;);","title":"How to convert hashmap to JSON object in Java","body":"<p>First convert all your objects into valid Strings</p>\n\n<pre><code>HashMap&lt;String, String&gt; params = new HashMap&lt;&gt;();\nparams.put(\"arg1\", \"&lt;b&gt;some text&lt;/b&gt;\");\nparams.put(\"arg2\", someObject.toString());\n</code></pre>\n\n<p>Then insert the entire map into a org.json.JSONObject</p>\n\n<pre><code>JSONObject postData = new JSONObject(params);\n</code></pre>\n\n<p>Now you can get the JSON by simply calling the object's toString</p>\n\n<pre><code>postData.toString()\n//{\"arg1\":\"&lt;b&gt;some text&lt;\\/b&gt;\" \"arg2\":\"object output\"}\n</code></pre>\n\n<p>Create a new JSONObject</p>\n\n<pre><code>JSONObject o = new JSONObject(postData.toString());\n</code></pre>\n\n<p>Or as a byte array for sending over HTTP</p>\n\n<pre><code>postData.toString().getBytes(\"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":394033,"reputation":10807,"user_id":756233,"accept_rate":71,"display_name":"Ray Hulha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574094398,"creation_date":1574094398,"answer_id":58918972,"question_id":12155800,"body_markdown":"If you are using JSR 374: Java API for JSON Processing ( javax json )\r\nThis seems to do the trick:\r\n\r\n\t\tJsonObjectBuilder job = Json.createObjectBuilder((Map&lt;String, Object&gt;) obj);\r\n\t\tJsonObject jsonObject = job.build();\r\n","title":"How to convert hashmap to JSON object in Java","body":"<p>If you are using JSR 374: Java API for JSON Processing ( javax json )\nThis seems to do the trick:</p>\n\n<pre><code>    JsonObjectBuilder job = Json.createObjectBuilder((Map&lt;String, Object&gt;) obj);\n    JsonObject jsonObject = job.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9255465,"reputation":722,"user_id":6874531,"display_name":"Chamod Pathirana"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1699756302,"creation_date":1585158122,"answer_id":60854381,"question_id":12155800,"body_markdown":"We use Gson.\r\n\r\n    Gson gson = new Gson();\r\n    Type gsonType = new TypeToken&lt;HashMap&gt;(){}.getType();\r\n    String gsonString = gson.toJson(elements,gsonType);","title":"How to convert hashmap to JSON object in Java","body":"<p>We use Gson.</p>\n<pre><code>Gson gson = new Gson();\nType gsonType = new TypeToken&lt;HashMap&gt;(){}.getType();\nString gsonString = gson.toJson(elements,gsonType);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10984350,"reputation":380,"user_id":8070550,"display_name":"Rok T."},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590052299,"creation_date":1590051922,"answer_id":61930940,"question_id":12155800,"body_markdown":"Gson way for a bit more complex maps and lists using *TypeToken.getParameterized* method:\r\n\r\nWe have a map that looks like this:\r\n\r\n    Map&lt;Long, List&lt;NewFile&gt;&gt; map;\r\n\r\nWe get the Type using the above mentioned *getParameterized* method like this:\r\n\r\n    Type listOfNewFiles = TypeToken.getParameterized(ArrayList.class, NewFile.class).getType();\r\n    Type mapOfList = TypeToken.getParameterized(LinkedHashMap.class, Long.class, listOfNewFiles).getType();\r\n\r\nAnd then use the Gson object *fromJson* method like this using the *mapOfList* object like this:\r\n\r\n    Map&lt;Long, List&lt;NewFile&gt;&gt; map = new Gson().fromJson(fileContent, mapOfList);\r\n\r\nThe mentioned object *NewFile* looks like this:\r\n\r\n    class NewFile\r\n\t{\r\n\t\tprivate long id;\r\n\t\tprivate String fileName;\r\n\r\n\t\tpublic void setId(final long id)\r\n\t\t{\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\r\n\t\tpublic void setFileName(final String fileName)\r\n\t\t{\r\n\t\t\tthis.fileName = fileName;\r\n\t\t}\r\n\t}\r\n\r\nThe deserialized JSON looks like this:\r\n\r\n \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    {\r\n      &quot;1&quot;: [\r\n        {\r\n          &quot;id&quot;: 12232,\r\n          &quot;fileName&quot;: &quot;test.html&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 12233,\r\n          &quot;fileName&quot;: &quot;file.txt&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 12234,\r\n          &quot;fileName&quot;: &quot;obj.json&quot;\r\n        }\r\n      ],\r\n     &quot;2&quot;: [\r\n        {\r\n          &quot;id&quot;: 122321,\r\n          &quot;fileName&quot;: &quot;test2.html&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 122332,\r\n          &quot;fileName&quot;: &quot;file2.txt&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 122343,\r\n          &quot;fileName&quot;: &quot;obj2.json&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to convert hashmap to JSON object in Java","body":"<p>Gson way for a bit more complex maps and lists using <em>TypeToken.getParameterized</em> method:</p>\n\n<p>We have a map that looks like this:</p>\n\n<pre><code>Map&lt;Long, List&lt;NewFile&gt;&gt; map;\n</code></pre>\n\n<p>We get the Type using the above mentioned <em>getParameterized</em> method like this:</p>\n\n<pre><code>Type listOfNewFiles = TypeToken.getParameterized(ArrayList.class, NewFile.class).getType();\nType mapOfList = TypeToken.getParameterized(LinkedHashMap.class, Long.class, listOfNewFiles).getType();\n</code></pre>\n\n<p>And then use the Gson object <em>fromJson</em> method like this using the <em>mapOfList</em> object like this:</p>\n\n<pre><code>Map&lt;Long, List&lt;NewFile&gt;&gt; map = new Gson().fromJson(fileContent, mapOfList);\n</code></pre>\n\n<p>The mentioned object <em>NewFile</em> looks like this:</p>\n\n<pre><code>class NewFile\n{\n    private long id;\n    private String fileName;\n\n    public void setId(final long id)\n    {\n        this.id = id;\n    }\n\n    public void setFileName(final String fileName)\n    {\n        this.fileName = fileName;\n    }\n}\n</code></pre>\n\n<p>The deserialized JSON looks like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n  \"1\": [\r\n    {\r\n      \"id\": 12232,\r\n      \"fileName\": \"test.html\"\r\n    },\r\n    {\r\n      \"id\": 12233,\r\n      \"fileName\": \"file.txt\"\r\n    },\r\n    {\r\n      \"id\": 12234,\r\n      \"fileName\": \"obj.json\"\r\n    }\r\n  ],\r\n \"2\": [\r\n    {\r\n      \"id\": 122321,\r\n      \"fileName\": \"test2.html\"\r\n    },\r\n    {\r\n      \"id\": 122332,\r\n      \"fileName\": \"file2.txt\"\r\n    },\r\n    {\r\n      \"id\": 122343,\r\n      \"fileName\": \"obj2.json\"\r\n    }\r\n  ]\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":187930,"reputation":13065,"user_id":426344,"accept_rate":56,"display_name":"mohan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1041310,"favorite_count":0,"down_vote_count":4,"up_vote_count":390,"closed_date":1683722973,"accepted_answer_id":12155874,"answer_count":29,"score":386,"last_activity_date":1699945199,"creation_date":1346143999,"question_id":12155800,"body_markdown":"How to convert or cast hashmap to JSON object in Java, and again convert JSON object to JSON string?","title":"How to convert hashmap to JSON object in Java","body":"<p>How to convert or cast hashmap to JSON object in Java, and again convert JSON object to JSON string?</p>\n"},{"tags":["java","rest","tomcat","servlets","jackson"],"comments":[{"owner":{"account_id":2477626,"reputation":1101,"user_id":2157911,"accept_rate":100,"display_name":"Piotr Tempes"},"score":0,"creation_date":1410873267,"post_id":25852152,"comment_id":40482138,"body_markdown":"well I am not sure whether code will help here... I will post it","body":"well I am not sure whether code will help here... I will post it"}],"answers":[{"comments":[{"owner":{"account_id":8722,"reputation":10944,"user_id":15852,"accept_rate":94,"display_name":"Kieveli"},"score":0,"creation_date":1410891703,"post_id":25872295,"comment_id":40493599,"body_markdown":"Connection pools are your friend.  They will only give you a live connection, and create a new one if needed.  In code, you grab a connection from the pool each time you&#39;re doing quick queries from the DB.  Let the pool manage the connected states and timeouts behind the scenes.","body":"Connection pools are your friend.  They will only give you a live connection, and create a new one if needed.  In code, you grab a connection from the pool each time you&#39;re doing quick queries from the DB.  Let the pool manage the connected states and timeouts behind the scenes."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1455681202,"post_id":25872295,"comment_id":58592782,"body_markdown":"@Kieveli The problem was caused by the client. The code posted was server code, which was writing a reply *after* whatever database accesses if any had been performed. The server could use connection pools as much as it liked without affecting this problem.","body":"@Kieveli The problem was caused by the client. The code posted was server code, which was writing a reply <i>after</i> whatever database accesses if any had been performed. The server could use connection pools as much as it liked without affecting this problem."},{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1650999826,"post_id":25872295,"comment_id":127256122,"body_markdown":"I am having the same issue and I see no timeout at all.  I dont see this relating to timeouts at all","body":"I am having the same issue and I see no timeout at all.  I dont see this relating to timeouts at all"}],"tags":[],"owner":{"account_id":2477626,"reputation":1101,"user_id":2157911,"accept_rate":100,"display_name":"Piotr Tempes"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1410879914,"creation_date":1410879914,"answer_id":25872295,"question_id":25852152,"body_markdown":"Eh... after hours of debugging and thinking - the answer turned out to be the most obvious one - both clients I have been using were closing the connection (probably timeout). It worked in wget and postman while using swagger and advanced rest client caused the exception to be thrown.","title":"An established connection was aborted by the software in your host machine tomcat jackson","body":"<p>Eh... after hours of debugging and thinking - the answer turned out to be the most obvious one - both clients I have been using were closing the connection (probably timeout). It worked in wget and postman while using swagger and advanced rest client caused the exception to be thrown.</p>\n"},{"tags":[],"owner":{"account_id":8231410,"reputation":133,"user_id":6191944,"display_name":"Naresh Muthyala"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1571812771,"creation_date":1571812771,"answer_id":58516839,"question_id":25852152,"body_markdown":"The reason might be connection timeout of http request.\r\nIf you are using Tomcat server you can set the timeout in server.xml.\r\n-1 indicates no timeout.\r\n\r\n    &lt;Connector connectionTimeout=&quot;-1&quot; port=&quot;8989&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot;/&gt;\r\n\r\nreference : https://tomcat.apache.org/tomcat-7.0-doc/config/http.html ","title":"An established connection was aborted by the software in your host machine tomcat jackson","body":"<p>The reason might be connection timeout of http request.\nIf you are using Tomcat server you can set the timeout in server.xml.\n-1 indicates no timeout.</p>\n\n<pre><code>&lt;Connector connectionTimeout=\"-1\" port=\"8989\" protocol=\"HTTP/1.1\" redirectPort=\"8443\"/&gt;\n</code></pre>\n\n<p>reference : <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/http.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/config/http.html</a> </p>\n"},{"tags":[],"owner":{"account_id":9846171,"reputation":1,"user_id":7293600,"display_name":"babala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644826040,"creation_date":1644348991,"answer_id":71039896,"question_id":25852152,"body_markdown":"If you are using ColdFusion, you can also set a page&#39;s requestTimeOut to override the server setting.\r\n\r\nPer https://helpx.adobe.com/coldfusion/cfml-reference/coldfusion-tags/tags-r-s/cfsetting.html, &quot;If you specify 0 as the value, timeout is disabled for the request&quot;.\r\n\r\n    &lt;cfsetting requestTimeOut=&quot;0&quot;&gt;\r\n    \r\n    cfscript: setting requestTimeOut=&quot;0&quot;;","title":"An established connection was aborted by the software in your host machine tomcat jackson","body":"<p>If you are using ColdFusion, you can also set a page's requestTimeOut to override the server setting.</p>\n<p>Per <a href=\"https://helpx.adobe.com/coldfusion/cfml-reference/coldfusion-tags/tags-r-s/cfsetting.html\" rel=\"nofollow noreferrer\">https://helpx.adobe.com/coldfusion/cfml-reference/coldfusion-tags/tags-r-s/cfsetting.html</a>, &quot;If you specify 0 as the value, timeout is disabled for the request&quot;.</p>\n<pre><code>&lt;cfsetting requestTimeOut=&quot;0&quot;&gt;\n\ncfscript: setting requestTimeOut=&quot;0&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17308058,"reputation":1,"user_id":12536350,"display_name":"Biswajit Rath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699945190,"creation_date":1699945190,"answer_id":77478673,"question_id":25852152,"body_markdown":"This error is caused by the application when the data transfer between server and client interrupted before the full transfer is complete.\r\n\r\nIn simple words if the users closes/reloads the browser before the page is fully loaded then this exception is thrown.\r\n\r\nThis is a harmless warning and can be ignored but if you are getting many of these errors in your logs then you should check the network and data transmission speed. ","title":"An established connection was aborted by the software in your host machine tomcat jackson","body":"<p>This error is caused by the application when the data transfer between server and client interrupted before the full transfer is complete.</p>\n<p>In simple words if the users closes/reloads the browser before the page is fully loaded then this exception is thrown.</p>\n<p>This is a harmless warning and can be ignored but if you are getting many of these errors in your logs then you should check the network and data transmission speed.</p>\n"}],"owner":{"account_id":2477626,"reputation":1101,"user_id":2157911,"accept_rate":100,"display_name":"Piotr Tempes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134610,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":25872295,"answer_count":4,"score":27,"last_activity_date":1699945190,"creation_date":1410796720,"question_id":25852152,"body_markdown":"Below is a stacktrace I get when my rest service tries to fetch a large data set (database and tomcat are on my local machine, so everything is local). It works on smaller ones, but in some cases user wants a lot of data. I checked similar problems posted here, but there seems to be none like mine.\r\n\r\nMy questions are   \r\n1. Why does it fail to display a response?   \r\n2. Is response size limited somehow on tomcat? Maybe there is a timeout or something like that?  \r\n3. Maybe it is Jackson that fails to do its job. If it is Jackson - can it be caused by annotations like `@JsonBackReference` and `@JsonManagedReference`?   \r\n4. What can I do to fix it?\r\n\r\n    ClientAbortException:  java.io.IOException: An established connection was aborted by the software in your host machine\r\n    \tat org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:413)\r\n    \tat org.apache.tomcat.util.buf.ByteChunk.flushBuffer(ByteChunk.java:480)\r\n    \tat org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.java:366)\r\n    \tat org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:438)\r\n    \tat org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:426)\r\n    \tat org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:91)\r\n    \tat com.fasterxml.jackson.core.json.UTF8JsonGenerator._flushBuffer(UTF8JsonGenerator.java:1862)\r\n    \tat com.fasterxml.jackson.core.json.UTF8JsonGenerator._writeBytes(UTF8JsonGenerator.java:1132)\r\n    \tat com.fasterxml.jackson.core.json.UTF8JsonGenerator._writeFieldName(UTF8JsonGenerator.java:270)\r\n    \tat com.fasterxml.jackson.core.json.UTF8JsonGenerator.writeFieldName(UTF8JsonGenerator.java:249)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:539)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:644)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:152)\r\n    \tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:117)\r\n    \tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:23)\r\n    \tat com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:183)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:541)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:644)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:152)\r\n    \tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:117)\r\n    \tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:23)\r\n    \tat com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:183)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:541)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:644)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:152)\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:114)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:1837)\r\n    \tat org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.writeInternal(MappingJackson2HttpMessageConverter.java:253)\r\n    \tat org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:208)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:143)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:89)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:193)\r\n    \tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:71)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:122)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:620)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:186)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter.doFilterInternal(OpenEntityManagerInViewFilter.java:177)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n    \tat org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:683)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1720)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1679)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.io.IOException: An established connection was aborted by the software in your host machine\r\n    \tat sun.nio.ch.SocketDispatcher.write0(Native Method)\r\n    \tat sun.nio.ch.SocketDispatcher.write(Unknown Source)\r\n    \tat sun.nio.ch.IOUtil.writeFromNativeBuffer(Unknown Source)\r\n    \tat sun.nio.ch.IOUtil.write(Unknown Source)\r\n    \tat sun.nio.ch.SocketChannelImpl.write(Unknown Source)\r\n    \tat org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:123)\r\n    \tat org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101)\r\n    \tat org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:174)\r\n    \tat org.apache.coyote.http11.InternalNioOutputBuffer.writeToSocket(InternalNioOutputBuffer.java:163)\r\n    \tat org.apache.coyote.http11.InternalNioOutputBuffer.flushBuffer(InternalNioOutputBuffer.java:242)\r\n    \tat org.apache.coyote.http11.InternalNioOutputBuffer.addToBB(InternalNioOutputBuffer.java:213)\r\n    \tat org.apache.coyote.http11.InternalNioOutputBuffer.access$000(InternalNioOutputBuffer.java:41)\r\n    \tat org.apache.coyote.http11.InternalNioOutputBuffer$SocketOutputBuffer.doWrite(InternalNioOutputBuffer.java:268)\r\n    \tat org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:119)\r\n    \tat org.apache.coyote.http11.AbstractOutputBuffer.doWrite(AbstractOutputBuffer.java:192)\r\n    \tat org.apache.coyote.Response.doWrite(Response.java:520)\r\n    \tat org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:408)\r\n    \t... 69 more\r\n    \r\n    2014-09-15 17:35:31 ERROR ExceptionHandlerExceptionResolver:343 - Failed to invoke @ExceptionHandler method: public void com.acxiom.listkey.metadata.exceptions.GlobalExceptionHandler.handleInternalException(java.lang.Exception)\r\n    java.lang.IllegalStateException: Cannot call sendError() after the response has been committed\r\n    \tat org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:450)\r\n    \tat javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:119)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.setResponseStatus(ServletInvocableHandlerMethod.java:141)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:340)\r\n    \tat org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:60)\r\n    \tat org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:138)\r\n    \tat org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:75)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1161)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:998)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:952)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:620)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:186)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter.doFilterInternal(OpenEntityManagerInViewFilter.java:177)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n    \tat org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:683)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1720)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1679)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\nbelow is the code (in controller) that returns the response to client:\r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n \t@ResponseBody\r\n   \tpublic String getSelections(@RequestParam Integer systemId, @RequestParam String listCode)\r\n   \t\t\tthrows JsonProcessingException {\r\n   \t\tSelectionsDTO selectionsDTO = new SelectionsDTO(systemSelectionService.findSelections(systemId, listCode));\r\n    \r\n   \t\tString retVal = objectMapper.writeValueAsString(selectionsDTO);\r\n   \t\treturn retVal;\r\n   \t}\r\n\r\nas you can see I have even tried to marshall it to string before returning, to exclude jackson as the reason of failure. It does not matter if I return collection of my DTOs or string. It fails the same way. I have debugged it and I checked the size of the message that was written to output successfully (it is around 2,15MB). In my opinion size of the message is the failure cause.","title":"An established connection was aborted by the software in your host machine tomcat jackson","body":"<p>Below is a stacktrace I get when my rest service tries to fetch a large data set (database and tomcat are on my local machine, so everything is local). It works on smaller ones, but in some cases user wants a lot of data. I checked similar problems posted here, but there seems to be none like mine.</p>\n\n<p>My questions are<br>\n1. Why does it fail to display a response?<br>\n2. Is response size limited somehow on tomcat? Maybe there is a timeout or something like that?<br>\n3. Maybe it is Jackson that fails to do its job. If it is Jackson - can it be caused by annotations like <code>@JsonBackReference</code> and <code>@JsonManagedReference</code>?<br>\n4. What can I do to fix it?</p>\n\n<pre><code>ClientAbortException:  java.io.IOException: An established connection was aborted by the software in your host machine\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:413)\n    at org.apache.tomcat.util.buf.ByteChunk.flushBuffer(ByteChunk.java:480)\n    at org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.java:366)\n    at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:438)\n    at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:426)\n    at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:91)\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator._flushBuffer(UTF8JsonGenerator.java:1862)\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator._writeBytes(UTF8JsonGenerator.java:1132)\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator._writeFieldName(UTF8JsonGenerator.java:270)\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator.writeFieldName(UTF8JsonGenerator.java:249)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:539)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:644)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:152)\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:117)\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:23)\n    at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:183)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:541)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:644)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:152)\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:117)\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:23)\n    at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:183)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:541)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:644)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:152)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:114)\n    at com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:1837)\n    at org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.writeInternal(MappingJackson2HttpMessageConverter.java:253)\n    at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:208)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:143)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:89)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:193)\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:71)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:122)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:620)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:186)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter.doFilterInternal(OpenEntityManagerInViewFilter.java:177)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\n    at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:683)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1720)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1679)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.io.IOException: An established connection was aborted by the software in your host machine\n    at sun.nio.ch.SocketDispatcher.write0(Native Method)\n    at sun.nio.ch.SocketDispatcher.write(Unknown Source)\n    at sun.nio.ch.IOUtil.writeFromNativeBuffer(Unknown Source)\n    at sun.nio.ch.IOUtil.write(Unknown Source)\n    at sun.nio.ch.SocketChannelImpl.write(Unknown Source)\n    at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:123)\n    at org.apache.tomcat.util.net.NioBlockingSelector.write(NioBlockingSelector.java:101)\n    at org.apache.tomcat.util.net.NioSelectorPool.write(NioSelectorPool.java:174)\n    at org.apache.coyote.http11.InternalNioOutputBuffer.writeToSocket(InternalNioOutputBuffer.java:163)\n    at org.apache.coyote.http11.InternalNioOutputBuffer.flushBuffer(InternalNioOutputBuffer.java:242)\n    at org.apache.coyote.http11.InternalNioOutputBuffer.addToBB(InternalNioOutputBuffer.java:213)\n    at org.apache.coyote.http11.InternalNioOutputBuffer.access$000(InternalNioOutputBuffer.java:41)\n    at org.apache.coyote.http11.InternalNioOutputBuffer$SocketOutputBuffer.doWrite(InternalNioOutputBuffer.java:268)\n    at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:119)\n    at org.apache.coyote.http11.AbstractOutputBuffer.doWrite(AbstractOutputBuffer.java:192)\n    at org.apache.coyote.Response.doWrite(Response.java:520)\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:408)\n    ... 69 more\n\n2014-09-15 17:35:31 ERROR ExceptionHandlerExceptionResolver:343 - Failed to invoke @ExceptionHandler method: public void com.acxiom.listkey.metadata.exceptions.GlobalExceptionHandler.handleInternalException(java.lang.Exception)\njava.lang.IllegalStateException: Cannot call sendError() after the response has been committed\n    at org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:450)\n    at javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletResponseWrapper.java:119)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.setResponseStatus(ServletInvocableHandlerMethod.java:141)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n    at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:340)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:60)\n    at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:138)\n    at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:75)\n    at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1161)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:998)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:952)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:620)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:186)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter.doFilterInternal(OpenEntityManagerInViewFilter.java:177)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\n    at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:683)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1720)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1679)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>below is the code (in controller) that returns the response to client:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET)\n@ResponseBody\npublic String getSelections(@RequestParam Integer systemId, @RequestParam String listCode)\n        throws JsonProcessingException {\n    SelectionsDTO selectionsDTO = new SelectionsDTO(systemSelectionService.findSelections(systemId, listCode));\n\n    String retVal = objectMapper.writeValueAsString(selectionsDTO);\n    return retVal;\n}\n</code></pre>\n\n<p>as you can see I have even tried to marshall it to string before returning, to exclude jackson as the reason of failure. It does not matter if I return collection of my DTOs or string. It fails the same way. I have debugged it and I checked the size of the message that was written to output successfully (it is around 2,15MB). In my opinion size of the message is the failure cause.</p>\n"},{"tags":["java","crystal-reports","sap"],"comments":[{"owner":{"account_id":11884350,"reputation":1324,"user_id":8697156,"display_name":"R. McMillan"},"score":0,"creation_date":1701788485,"post_id":77445901,"comment_id":136817195,"body_markdown":"Check out the question in this [link](https://stackoverflow.com/questions/61663452/nullpointerexception-when-running-crystal-reports-with-sp24-for-eclipse) and see if it might be applicable to your issue.","body":"Check out the question in this <a href=\"https://stackoverflow.com/questions/61663452/nullpointerexception-when-running-crystal-reports-with-sp24-for-eclipse\">link</a> and see if it might be applicable to your issue."}],"owner":{"account_id":5694754,"reputation":91,"user_id":4501567,"display_name":"Himanshu Goel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699944757,"creation_date":1699449832,"question_id":77445901,"body_markdown":"trying to open rt file using crystal reports and getting below &quot;null pointer exception&quot;,\r\ncom.crystaldecisions.sdk.occa.report.lib.ReportSDKException---- Error code:-2147467259 Error code name:failed\r\n\r\nI tried with 12 version of crystal report and jdk 8 and jdk 11.\r\nCan some help me understanding this issue?","title":"com.crystaldecisions.sdk.occa.report.lib.ReportSDKException---- Error code:-2147467259 Error code name:failed","body":"<p>trying to open rt file using crystal reports and getting below &quot;null pointer exception&quot;,\ncom.crystaldecisions.sdk.occa.report.lib.ReportSDKException---- Error code:-2147467259 Error code name:failed</p>\n<p>I tried with 12 version of crystal report and jdk 8 and jdk 11.\nCan some help me understanding this issue?</p>\n"},{"tags":["java","android","accessibility","android-xml","accessibilityservice"],"answers":[{"comments":[{"owner":{"account_id":29068946,"reputation":43,"user_id":22267818,"display_name":"Adam Taylor"},"score":1,"creation_date":1690778614,"post_id":76791405,"comment_id":135395159,"body_markdown":"Yeah I noticed that contect-desc is containing my string, so I had modified by condition to: ` if (node.getText() != null || node.getContentDescription() != null)`","body":"Yeah I noticed that contect-desc is containing my string, so I had modified by condition to: ` if (node.getText() != null || node.getContentDescription() != null)`"}],"tags":[],"owner":{"account_id":894472,"reputation":5501,"user_id":932052,"accept_rate":94,"display_name":"Quintin Balsdon"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690584866,"creation_date":1690584866,"answer_id":76791405,"question_id":76785116,"body_markdown":"Good call using the uiautomator dump! Did you notice all your node&#39;s text is empty? I am not sure how Flutter is handling the text visual text on the buttons, but you need to check your content descriptions (`content-desc`) in the line \r\n\r\n```\r\nif (node.getText() != null &amp;&amp; !node.getText().toString().isEmpty())\r\n```\r\n\r\notherwise you&#39;ll miss it. Try\r\n\r\n```\r\nif (node.getText() != null &amp;&amp; (!node.getText().toString().isEmpty() || node.getContentDescription().toString().isEmpty()))\r\n```\r\n\r\nThis might not be the end to your problems though, as this will also catch images with alt text, so you might need to make the matching more complex.","title":"AccessibilityService is not able to read text from hybrid android application (i.e. flutter)","body":"<p>Good call using the uiautomator dump! Did you notice all your node's text is empty? I am not sure how Flutter is handling the text visual text on the buttons, but you need to check your content descriptions (<code>content-desc</code>) in the line</p>\n<pre><code>if (node.getText() != null &amp;&amp; !node.getText().toString().isEmpty())\n</code></pre>\n<p>otherwise you'll miss it. Try</p>\n<pre><code>if (node.getText() != null &amp;&amp; (!node.getText().toString().isEmpty() || node.getContentDescription().toString().isEmpty()))\n</code></pre>\n<p>This might not be the end to your problems though, as this will also catch images with alt text, so you might need to make the matching more complex.</p>\n"}],"owner":{"account_id":29068946,"reputation":43,"user_id":22267818,"display_name":"Adam Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76791405,"answer_count":1,"score":3,"last_activity_date":1699944159,"creation_date":1690523136,"question_id":76785116,"body_markdown":"I&#39;m trying to create an AccessibilityService which can read text from the user screen, it works well and I&#39;m able to grab most of the texts from native Android applications. Still, when I tried it with my example Flutter application, I&#39;m getting all text as null.\r\n\r\nThis is the current code to read text from my service:\r\n\r\n```\r\nprivate void listAllTextsInActiveWindow() {\r\n    AccessibilityNodeInfo rootNode = getRootInActiveWindow();\r\n    if (rootNode != null) {\r\n        List&lt;HashMap&lt;String, String&gt;&gt; allTexts = new ArrayList&lt;&gt;();\r\n        traverseNodesForText(rootNode, allTexts);\r\n        rootNode.recycle();\r\n        // Now &#39;allTexts&#39; contains a list of all texts in the active window\r\n        Gson gson = new Gson();\r\n        String json = gson.toJson(allTexts);\r\n        Log.d(&quot;OUTPUT&quot;, json);\r\n    } else {\r\n        Log.d(&quot;OUTPUT&quot;, &quot;NULL&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```\r\nprivate void traverseNodesForText(AccessibilityNodeInfo node, List&lt;HashMap&lt;String, String&gt;&gt; allTexts) {\r\n    if (node == null) return;\r\n\r\n    if (node.getText() != null &amp;&amp; !node.getText().toString().isEmpty()) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n            HashMap data = new HashMap();\r\n            data.put(&quot;view_class&quot;, node.getClassName());\r\n            data.put(&quot;view_text&quot;, node.getText());\r\n            data.put(&quot;view_description&quot;, node.getContentDescription());\r\n            data.put(&quot;view_complete_info&quot;, node.toString());\r\n            allTexts.add(data);\r\n        }\r\n    }\r\n\r\n    for (int i = 0; i &lt; node.getChildCount(); i++) {\r\n        AccessibilityNodeInfo childNode = node.getChild(i);\r\n        traverseNodesForText(childNode, allTexts);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m getting an empty array as an output.\r\n\r\nWhile I was trying to get it to work, there was an app named &#39;Automate&#39;, and when I tried that application with its Inspect layout in flow, I was able to get a hierarchy XML with all my texts.\r\n\r\nIts output was:\r\n\r\n```\r\n&lt;hierarchy rotation=&quot;0&quot;&gt;\r\n\t&lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.widget.FrameLayout&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\r\n\t\t&lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.widget.LinearLayout&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\r\n\t\t\t&lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;android:id/content&quot; class=&quot;android.widget.FrameLayout&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\r\n\t\t\t\t&lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.widget.FrameLayout&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;true&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\r\n\t\t\t\t\t&lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\r\n\t\t\t\t\t\t&lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,154]&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;Download &amp; Install Test APK&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;true&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[30,75][549,128]&quot;/&gt;&lt;/node&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;node index=&quot;1&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.widget.Button&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;Download &amp; Install New Version&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;true&quot; enabled=&quot;true&quot; focusable=&quot;true&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[126,787][594,877]&quot;/&gt;&lt;/node&gt;\r\n\t\t\t\t\t\t\t&lt;/node&gt;\r\n\t\t\t\t\t\t&lt;/node&gt;\r\n\t\t\t\t\t&lt;/node&gt;\r\n\t\t\t\t&lt;/node&gt;\r\n\t\t\t&lt;/node&gt;\r\n\t\t&lt;/node&gt;\r\n\t\t&lt;node index=&quot;1&quot; text=&quot;&quot; resource-id=&quot;android:id/navigationBarBackground&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][0,0]&quot;/&gt;&lt;/node&gt;\r\n&lt;/hierarchy&gt;\r\n```\r\n\r\nNow this output is readable, and I&#39;m trying to achieve like this.\r\n\r\nLet me know if there&#39;s anyway I can do this.","title":"AccessibilityService is not able to read text from hybrid android application (i.e. flutter)","body":"<p>I'm trying to create an AccessibilityService which can read text from the user screen, it works well and I'm able to grab most of the texts from native Android applications. Still, when I tried it with my example Flutter application, I'm getting all text as null.</p>\n<p>This is the current code to read text from my service:</p>\n<pre><code>private void listAllTextsInActiveWindow() {\n    AccessibilityNodeInfo rootNode = getRootInActiveWindow();\n    if (rootNode != null) {\n        List&lt;HashMap&lt;String, String&gt;&gt; allTexts = new ArrayList&lt;&gt;();\n        traverseNodesForText(rootNode, allTexts);\n        rootNode.recycle();\n        // Now 'allTexts' contains a list of all texts in the active window\n        Gson gson = new Gson();\n        String json = gson.toJson(allTexts);\n        Log.d(&quot;OUTPUT&quot;, json);\n    } else {\n        Log.d(&quot;OUTPUT&quot;, &quot;NULL&quot;);\n    }\n}\n</code></pre>\n<pre><code>private void traverseNodesForText(AccessibilityNodeInfo node, List&lt;HashMap&lt;String, String&gt;&gt; allTexts) {\n    if (node == null) return;\n\n    if (node.getText() != null &amp;&amp; !node.getText().toString().isEmpty()) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n            HashMap data = new HashMap();\n            data.put(&quot;view_class&quot;, node.getClassName());\n            data.put(&quot;view_text&quot;, node.getText());\n            data.put(&quot;view_description&quot;, node.getContentDescription());\n            data.put(&quot;view_complete_info&quot;, node.toString());\n            allTexts.add(data);\n        }\n    }\n\n    for (int i = 0; i &lt; node.getChildCount(); i++) {\n        AccessibilityNodeInfo childNode = node.getChild(i);\n        traverseNodesForText(childNode, allTexts);\n    }\n}\n</code></pre>\n<p>I'm getting an empty array as an output.</p>\n<p>While I was trying to get it to work, there was an app named 'Automate', and when I tried that application with its Inspect layout in flow, I was able to get a hierarchy XML with all my texts.</p>\n<p>Its output was:</p>\n<pre><code>&lt;hierarchy rotation=&quot;0&quot;&gt;\n    &lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.widget.FrameLayout&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\n        &lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.widget.LinearLayout&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\n            &lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;android:id/content&quot; class=&quot;android.widget.FrameLayout&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\n                &lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.widget.FrameLayout&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;true&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\n                    &lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\n                        &lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\n                            &lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\n                                &lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,1465]&quot;&gt;\n                                    &lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][720,154]&quot;&gt;\n                                        &lt;node index=&quot;0&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;Download &amp; Install Test APK&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;true&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[30,75][549,128]&quot;/&gt;&lt;/node&gt;\n                                    &lt;node index=&quot;1&quot; text=&quot;&quot; resource-id=&quot;&quot; class=&quot;android.widget.Button&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;Download &amp; Install New Version&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;true&quot; enabled=&quot;true&quot; focusable=&quot;true&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[126,787][594,877]&quot;/&gt;&lt;/node&gt;\n                            &lt;/node&gt;\n                        &lt;/node&gt;\n                    &lt;/node&gt;\n                &lt;/node&gt;\n            &lt;/node&gt;\n        &lt;/node&gt;\n        &lt;node index=&quot;1&quot; text=&quot;&quot; resource-id=&quot;android:id/navigationBarBackground&quot; class=&quot;android.view.View&quot; package=&quot;com.example.apk_installer_demo&quot; content-desc=&quot;&quot; checkable=&quot;false&quot; checked=&quot;false&quot; clickable=&quot;false&quot; enabled=&quot;true&quot; focusable=&quot;false&quot; focused=&quot;false&quot; scrollable=&quot;false&quot; long-clickable=&quot;false&quot; password=&quot;false&quot; selected=&quot;false&quot; bounds=&quot;[0,0][0,0]&quot;/&gt;&lt;/node&gt;\n&lt;/hierarchy&gt;\n</code></pre>\n<p>Now this output is readable, and I'm trying to achieve like this.</p>\n<p>Let me know if there's anyway I can do this.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":4,"creation_date":1699943629,"post_id":77478554,"comment_id":136590893,"body_markdown":"You should use [String.equals](https://www.w3schools.com/java/ref_string_equals.asp) when comparing strings.","body":"You should use <a href=\"https://www.w3schools.com/java/ref_string_equals.asp\" rel=\"nofollow noreferrer\">String.equals</a> when comparing strings."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1699949496,"post_id":77478554,"comment_id":136591606,"body_markdown":"Terrible title. Rewrite to summarize your specific technical issue.","body":"Terrible title. Rewrite to summarize your specific technical issue."}],"owner":{"account_id":26673975,"reputation":1,"user_id":20285024,"display_name":"koneti adithya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1699943871,"answer_count":0,"score":-2,"last_activity_date":1699943566,"creation_date":1699943463,"question_id":77478554,"body_markdown":"    package evennumbers;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Evennumberz {\r\n    public static void main(String[] args) {\r\n    \t\r\n    \tString usrn1= &quot;Adi&quot;;\r\n        String pswd1= &quot;qwerty&quot;;\r\n        \r\n        Scanner sc=new Scanner(System.in);\r\n    \t\r\n        System.out.println(&quot;type  username&quot;);\r\n        \r\n        String usrn=sc.nextLine();\r\n        \r\n    \tSystem.out.println(&quot;type pAsseord&quot;);\r\n    \t\r\n    \tString pasw=sc.nextLine();\r\n    \t\r\n    \tboolean b = usrn1 == usrn;\r\n    \tboolean c = pswd1 == pasw;\r\n    \tif (b &amp;&amp; c) {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;welcome to hompage&quot;);\r\n    \t}\r\n    \telse {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;try again&quot;);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n       } \t\r\n    }\r\n\r\ni have given the same input which i gave at the usr1 and pswd. \r\nso it is continusouly returning the try again . what is wrong in the above code\r\n\r\n","title":"is there any funtion which i can add to make this code work?","body":"<pre><code>package evennumbers;\n\nimport java.util.Scanner;\n\npublic class Evennumberz {\npublic static void main(String[] args) {\n    \n    String usrn1= &quot;Adi&quot;;\n    String pswd1= &quot;qwerty&quot;;\n    \n    Scanner sc=new Scanner(System.in);\n    \n    System.out.println(&quot;type  username&quot;);\n    \n    String usrn=sc.nextLine();\n    \n    System.out.println(&quot;type pAsseord&quot;);\n    \n    String pasw=sc.nextLine();\n    \n    boolean b = usrn1 == usrn;\n    boolean c = pswd1 == pasw;\n    if (b &amp;&amp; c) {\n        \n        System.out.println(&quot;welcome to hompage&quot;);\n    }\n    else {\n        \n        System.out.println(&quot;try again&quot;);\n    }\n    \n    \n    \n   }    \n}\n</code></pre>\n<p>i have given the same input which i gave at the usr1 and pswd.\nso it is continusouly returning the try again . what is wrong in the above code</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":2186872,"reputation":570,"user_id":1935085,"accept_rate":44,"display_name":"wrongu"},"score":3,"creation_date":1385217590,"post_id":20163578,"comment_id":30056806,"body_markdown":"Do you need help understanding the JSON format itself, or how to parse it with json-simple?","body":"Do you need help understanding the JSON format itself, or how to parse it with json-simple?"}],"answers":[{"comments":[{"owner":{"account_id":3056050,"reputation":13,"user_id":2589621,"display_name":"Amos"},"score":0,"creation_date":1385255870,"post_id":20163659,"comment_id":30068114,"body_markdown":"Thanks :) currently looking at Gson, I&#39;m using this json-simple lib, which I suspect is lacking a few good feature I need.","body":"Thanks :) currently looking at Gson, I&#39;m using this json-simple lib, which I suspect is lacking a few good feature I need."}],"tags":[],"owner":{"account_id":1550230,"reputation":491,"user_id":1442795,"accept_rate":70,"display_name":"andresmafra"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385217646,"creation_date":1385217646,"answer_id":20163659,"question_id":20163578,"body_markdown":"You can use [Gson - from Google][1]. It is simple and concise. \r\n\r\nYou need to declare your Java POJO that represents your JSON data, like:\r\n\r\n    public class Info {\r\n       private Category category;\r\n       ...\r\n    }\r\n\r\n\r\n  [1]: https://code.google.com/p/google-gson/\r\n\r\nHope this help. Good luck.","title":"Reading JSON data using Java","body":"<p>You can use <a href=\"https://code.google.com/p/google-gson/\" rel=\"nofollow\">Gson - from Google</a>. It is simple and concise. </p>\n\n<p>You need to declare your Java POJO that represents your JSON data, like:</p>\n\n<pre><code>public class Info {\n   private Category category;\n   ...\n}\n</code></pre>\n\n<p>Hope this help. Good luck.</p>\n"},{"comments":[{"owner":{"account_id":3056050,"reputation":13,"user_id":2589621,"display_name":"Amos"},"score":0,"creation_date":1385255787,"post_id":20164045,"comment_id":30068102,"body_markdown":"Oh gosh... I just figure it out when I saw this, my code is quite similar to yours. I find that when dealing with such a large json file this gets quite messy at times. What&#39;s a good way of coding then? using the SAX creating a class file specific to the fields that I want to collect? Thanks for all this enlighten.","body":"Oh gosh... I just figure it out when I saw this, my code is quite similar to yours. I find that when dealing with such a large json file this gets quite messy at times. What&#39;s a good way of coding then? using the SAX creating a class file specific to the fields that I want to collect? Thanks for all this enlighten."},{"owner":{"account_id":3142696,"reputation":253,"user_id":2657847,"accept_rate":75,"display_name":"NicholasKarl"},"score":0,"creation_date":1385308304,"post_id":20164045,"comment_id":30079318,"body_markdown":"The better way to code it is to create plain old java objects (POJO&#39;s) with elements that match the structure of your json data. A good json library will simply create new instances of those objects and return them to you so that you can get to the data by using your Java objects. Since I don&#39;t see anything like that in the json-simple examples I&#39;m going to assume it doesn&#39;t support that. Most json libraries support this feature. For example, in the Gson library it is called &#39;deserialization&#39;.","body":"The better way to code it is to create plain old java objects (POJO&#39;s) with elements that match the structure of your json data. A good json library will simply create new instances of those objects and return them to you so that you can get to the data by using your Java objects. Since I don&#39;t see anything like that in the json-simple examples I&#39;m going to assume it doesn&#39;t support that. Most json libraries support this feature. For example, in the Gson library it is called &#39;deserialization&#39;."}],"tags":[],"owner":{"account_id":3142696,"reputation":253,"user_id":2657847,"accept_rate":75,"display_name":"NicholasKarl"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1385231111,"creation_date":1385219937,"answer_id":20164045,"question_id":20163578,"body_markdown":"Why not start with the [json-simple decoding examples][1]? If it&#39;s the size of the file you&#39;re worried about, then you should use the &#39;SAX&#39; style example. This code would be a good example of how not to do it. See the other comment for better ideas.\r\n\r\n\r\n  [1]: http://code.google.com/p/json-simple/wiki/DecodingExamples\r\n\r\n    JSONObject data= (JSONObject)JSONValue.parse(new InputStreamReader(JsonSimpleEx.class.getResourceAsStream(&quot;/test.json&quot;)) );\r\n    JSONArray dropped = (JSONArray)data.get(&quot;dropped&quot;);\r\n    JSONObject first = (JSONObject)dropped.get(0);\r\n    System.out.println( first.get(&quot;crc32&quot;));\r\n\r\n","title":"Reading JSON data using Java","body":"<p>Why not start with the <a href=\"http://code.google.com/p/json-simple/wiki/DecodingExamples\" rel=\"nofollow\">json-simple decoding examples</a>? If it's the size of the file you're worried about, then you should use the 'SAX' style example. This code would be a good example of how not to do it. See the other comment for better ideas.</p>\n\n<pre><code>JSONObject data= (JSONObject)JSONValue.parse(new InputStreamReader(JsonSimpleEx.class.getResourceAsStream(\"/test.json\")) );\nJSONArray dropped = (JSONArray)data.get(\"dropped\");\nJSONObject first = (JSONObject)dropped.get(0);\nSystem.out.println( first.get(\"crc32\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27828742,"reputation":1,"user_id":21247584,"display_name":"Harrison"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699943379,"creation_date":1699943379,"answer_id":77478548,"question_id":20163578,"body_markdown":"write and read this:\r\n\r\n    [\r\n      {\r\n        &quot;id&quot;: 1,\r\n        &quot;firstname&quot;: &quot;Bart&quot;,\r\n        &quot;lastname&quot;: &quot;Simpson&quot;,\r\n        &quot;address&quot;: {\r\n          &quot;city&quot;: &quot;Springfield&quot;,\r\n          &quot;country&quot;: &quot;USA&quot;\r\n        }\r\n      },\r\n      {\r\n        &quot;id&quot;: 2,\r\n        &quot;firstname&quot;: &quot;Homer&quot;,\r\n        &quot;lastname&quot;: &quot;Simpson&quot;,\r\n        &quot;address&quot;: {\r\n          &quot;city&quot;: &quot;Springfield&quot;,\r\n          &quot;country&quot;: &quot;USA&quot;\r\n        }\r\n      },\r\n      {\r\n        &quot;id&quot;: 3,\r\n        &quot;firstname&quot;: &quot;Mickey&quot;,\r\n        &quot;lastname&quot;: &quot;Mouse&quot;,\r\n        &quot;address&quot;: {\r\n          &quot;city&quot;: &quot;Orlando&quot;,\r\n          &quot;country&quot;: &quot;USA&quot;\r\n        }\r\n      }\r\n\r\nPersonJson:\r\n\r\n    public class PersonJSON {\r\n    \tprivate int id;\r\n    \tprivate String firstname;\r\n    \tprivate String lastname;\r\n    \tprivate AddressJSON address;\r\n    \t\r\n    \tpublic PersonJSON(int id, String firstname, String lastname, AddressJSON address)\r\n    \t{\r\n    \t\tthis.id = id;\r\n    \t\tthis.firstname = firstname;\r\n    \t\tthis.lastname = lastname;\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getFirstname() {\r\n    \t\treturn firstname;\r\n    \t}\r\n    \r\n    \tpublic void setFirstname(String firstname) {\r\n    \t\tthis.firstname = firstname;\r\n    \t}\r\n    \r\n    \tpublic String getLastname() {\r\n    \t\treturn lastname;\r\n    \t}\r\n    \r\n    \tpublic void setLastname(String lastname) {\r\n    \t\tthis.lastname = lastname;\r\n    \t}\r\n    \t\r\n    \tpublic AddressJSON getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(AddressJSON address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \tpublic String toString()\r\n    \t{\r\n    \t\treturn &quot;id: &quot; + this.id + &quot; - Firstname: &quot; + this.firstname + &quot; - Lastname: &quot; + this.lastname + &quot;, &quot; + getAddress().toString();\r\n    \t}\r\n    }\r\n\r\nAddressJson:\r\n\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class AddressJSON {\r\n    \t//@SerializedName(&quot;Cidade&quot;)\r\n    \tprivate String city;\r\n    \tprivate String country;\r\n    \t\r\n    \tpublic AddressJSON(String city, String country)\r\n    \t{\r\n    \t\tthis.city = city;\r\n    \t\tthis.country = country;\r\n    \t}\r\n    \r\n    \tpublic String getCountry() {\r\n    \t\treturn country;\r\n    \t}\r\n    \r\n    \tpublic void setCountry(String country) {\r\n    \t\tthis.country = country;\r\n    \t}\r\n    \r\n    \tpublic String getCity() {\r\n    \t\treturn city;\r\n    \t}\r\n    \r\n    \tpublic void setCity(String city) {\r\n    \t\tthis.city = city;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString(){\r\n    \t\treturn city + &quot;, &quot; + country;\r\n    \t}\r\n    }\r\n\r\nMain:\r\n\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.lang.reflect.Type;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import com.google.gson.reflect.TypeToken;\r\n    import com.google.gson.stream.JsonReader;\r\n    \r\n    public class PDJSON {\r\n    \r\n    \tprivate List&lt;PersonJSON&gt; people;\r\n    \r\n    \tpublic PDJSON() {\r\n    \t\tpeople = new ArrayList&lt;PersonJSON&gt;();\r\n    \t}\r\n    \r\n    \tpublic void saveData(String filePath) {\r\n    \t\t//Gson gson = new Gson();\r\n    \t\tGson gson = new GsonBuilder().setPrettyPrinting().create();\r\n    \t\t\r\n    \t\ttry(FileWriter fw = new FileWriter(filePath)){\r\n    \t\t\tgson.toJson(people, fw);\t\t\r\n    \t\t}catch(Exception e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic List&lt;PersonJSON&gt; loadData(String filePath) {\r\n    \t\tGson gson = new Gson();\r\n    \t\tJsonReader jsonReader = null;\r\n    \r\n    \t\tfinal Type CUS_LIST_TYPE = new TypeToken&lt;List&lt;PersonJSON&gt;&gt;() {}.getType();\r\n    \t\t//or TypeToken.getParameterized(ArrayList.class, PersonJSON.class).getType();\r\n    \t\t\r\n    \t\ttry{\r\n    \t\t\tjsonReader = new JsonReader(new FileReader(filePath));\r\n    \t\t}catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\treturn gson.fromJson(jsonReader, CUS_LIST_TYPE); \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tPDJSON pdj = new PDJSON();\r\n    \t\tpdj.people.add(new PersonJSON(1,&quot;Bart&quot;, &quot;Simpson&quot;, new AddressJSON(&quot;Springfield&quot;, &quot;USA&quot;)));\r\n    \t\tpdj.people.add(new PersonJSON(2,&quot;Homer&quot;, &quot;Simpson&quot;, new AddressJSON(&quot;Springfield&quot;, &quot;USA&quot;)));\r\n    \t\tpdj.people.add(new PersonJSON(3,&quot;Mickey&quot;, &quot;Mouse&quot;, new AddressJSON(&quot;Orlando&quot;, &quot;USA&quot;)));\r\n    \r\n    \t\tpdj.saveData(&quot;resources/listofpeople.json&quot;);\r\n    \r\n    \t\tList&lt;PersonJSON&gt; lp = pdj.loadData(&quot;resources/listofpeople.json&quot;); \r\n    \t\tfor(PersonJSON pj : lp)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(pj.toString());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Reading JSON data using Java","body":"<p>write and read this:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 1,\n    &quot;firstname&quot;: &quot;Bart&quot;,\n    &quot;lastname&quot;: &quot;Simpson&quot;,\n    &quot;address&quot;: {\n      &quot;city&quot;: &quot;Springfield&quot;,\n      &quot;country&quot;: &quot;USA&quot;\n    }\n  },\n  {\n    &quot;id&quot;: 2,\n    &quot;firstname&quot;: &quot;Homer&quot;,\n    &quot;lastname&quot;: &quot;Simpson&quot;,\n    &quot;address&quot;: {\n      &quot;city&quot;: &quot;Springfield&quot;,\n      &quot;country&quot;: &quot;USA&quot;\n    }\n  },\n  {\n    &quot;id&quot;: 3,\n    &quot;firstname&quot;: &quot;Mickey&quot;,\n    &quot;lastname&quot;: &quot;Mouse&quot;,\n    &quot;address&quot;: {\n      &quot;city&quot;: &quot;Orlando&quot;,\n      &quot;country&quot;: &quot;USA&quot;\n    }\n  }\n</code></pre>\n<p>PersonJson:</p>\n<pre><code>public class PersonJSON {\n    private int id;\n    private String firstname;\n    private String lastname;\n    private AddressJSON address;\n    \n    public PersonJSON(int id, String firstname, String lastname, AddressJSON address)\n    {\n        this.id = id;\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.address = address;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getFirstname() {\n        return firstname;\n    }\n\n    public void setFirstname(String firstname) {\n        this.firstname = firstname;\n    }\n\n    public String getLastname() {\n        return lastname;\n    }\n\n    public void setLastname(String lastname) {\n        this.lastname = lastname;\n    }\n    \n    public AddressJSON getAddress() {\n        return address;\n    }\n\n    public void setAddress(AddressJSON address) {\n        this.address = address;\n    }\n\n    public String toString()\n    {\n        return &quot;id: &quot; + this.id + &quot; - Firstname: &quot; + this.firstname + &quot; - Lastname: &quot; + this.lastname + &quot;, &quot; + getAddress().toString();\n    }\n}\n</code></pre>\n<p>AddressJson:</p>\n<pre><code>import com.google.gson.annotations.SerializedName;\n\npublic class AddressJSON {\n    //@SerializedName(&quot;Cidade&quot;)\n    private String city;\n    private String country;\n    \n    public AddressJSON(String city, String country)\n    {\n        this.city = city;\n        this.country = country;\n    }\n\n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n        this.city = city;\n    }\n    \n    @Override\n    public String toString(){\n        return city + &quot;, &quot; + country;\n    }\n}\n</code></pre>\n<p>Main:</p>\n<pre><code>import java.io.FileReader;\nimport java.io.FileWriter;\nimport java.lang.reflect.Type;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.reflect.TypeToken;\nimport com.google.gson.stream.JsonReader;\n\npublic class PDJSON {\n\n    private List&lt;PersonJSON&gt; people;\n\n    public PDJSON() {\n        people = new ArrayList&lt;PersonJSON&gt;();\n    }\n\n    public void saveData(String filePath) {\n        //Gson gson = new Gson();\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        \n        try(FileWriter fw = new FileWriter(filePath)){\n            gson.toJson(people, fw);        \n        }catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n    public List&lt;PersonJSON&gt; loadData(String filePath) {\n        Gson gson = new Gson();\n        JsonReader jsonReader = null;\n\n        final Type CUS_LIST_TYPE = new TypeToken&lt;List&lt;PersonJSON&gt;&gt;() {}.getType();\n        //or TypeToken.getParameterized(ArrayList.class, PersonJSON.class).getType();\n        \n        try{\n            jsonReader = new JsonReader(new FileReader(filePath));\n        }catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return gson.fromJson(jsonReader, CUS_LIST_TYPE); \n    }\n\n    public static void main(String[] args) {\n        PDJSON pdj = new PDJSON();\n        pdj.people.add(new PersonJSON(1,&quot;Bart&quot;, &quot;Simpson&quot;, new AddressJSON(&quot;Springfield&quot;, &quot;USA&quot;)));\n        pdj.people.add(new PersonJSON(2,&quot;Homer&quot;, &quot;Simpson&quot;, new AddressJSON(&quot;Springfield&quot;, &quot;USA&quot;)));\n        pdj.people.add(new PersonJSON(3,&quot;Mickey&quot;, &quot;Mouse&quot;, new AddressJSON(&quot;Orlando&quot;, &quot;USA&quot;)));\n\n        pdj.saveData(&quot;resources/listofpeople.json&quot;);\n\n        List&lt;PersonJSON&gt; lp = pdj.loadData(&quot;resources/listofpeople.json&quot;); \n        for(PersonJSON pj : lp)\n        {\n            System.out.println(pj.toString());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3056050,"reputation":13,"user_id":2589621,"display_name":"Amos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8823,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20164045,"answer_count":3,"score":1,"last_activity_date":1699943379,"creation_date":1385217227,"question_id":20163578,"body_markdown":"I have a 500,000 line json file I&#39;m trying to read, I tried out a few online examples like mkyong&#39;s and many others, but this format is a first encounter for me. Can anyone help me to get started? \r\n\r\nI&#39;m using json-simple library.\r\n\r\nAny enlighten on this topic? I&#39;ll be very grateful\r\n\r\n    \r\n\r\n\r\n     {\r\n    &quot;info&quot;: {\r\n        &quot;category&quot;: &quot;url&quot;, \r\n        &quot;started&quot;: &quot;2013-11-07 03:44:32&quot;, \r\n        &quot;ended&quot;: &quot;2013-11-07 03:46:55&quot;, \r\n        &quot;version&quot;: &quot;0.6&quot;, \r\n        &quot;duration&quot;: 143, \r\n        &quot;id&quot;: 37\r\n    }, \r\n    &quot;signatures&quot;: [], \r\n    &quot;static&quot;: {}, \r\n    &quot;dropped&quot;: [\r\n        {\r\n            &quot;yara&quot;: [], \r\n            &quot;sha1&quot;: &quot;6fd9eb6a42fd531988fba24137a2fe29ad992465&quot;, \r\n            &quot;name&quot;: &quot;tia[1].png&quot;, \r\n            &quot;type&quot;: &quot;PNG image data, 27 x 23, 8-bit/color RGB, non-interlaced&quot;, \r\n            &quot;sha256&quot;: &quot;75d6d26afb9506145d7f6472555855ef4305e0ef3e7cf4cb3d943c58123c7f74&quot;, \r\n            &quot;crc32&quot;: &quot;FDCAC92F&quot;, \r\n            &quot;path&quot;: &quot;/home/user/cuckoo/storage/analyses/37/files/2435944344/tia[1].png&quot;, \r\n            &quot;ssdeep&quot;: null, \r\n            &quot;size&quot;: 387, \r\n            &quot;sha512&quot;: &quot;b47ca17050ff4b6ddab848195c17b875454aafbec06d07bba126e553c9d32647f461adee9d1a75bbfffa08d6a8fc955429562794b123bebc9ec23dc89bdefcc5&quot;, \r\n            &quot;md5&quot;: &quot;ad07ee4cb98da073dda56ce7ceb88f5a&quot;\r\n        }\r\n     ]\r\n    }\r\n\r\n   \r\n\r\n\r\nREPLY\r\n\r\n**I currently don&#39;t understand how i can get the array in [dropped], I did some of the easier example, but this is a first for me. It seems like there a hierarchy but I don&#39;t know how to access it**","title":"Reading JSON data using Java","body":"<p>I have a 500,000 line json file I'm trying to read, I tried out a few online examples like mkyong's and many others, but this format is a first encounter for me. Can anyone help me to get started? </p>\n\n<p>I'm using json-simple library.</p>\n\n<p>Any enlighten on this topic? I'll be very grateful</p>\n\n<pre><code> {\n\"info\": {\n    \"category\": \"url\", \n    \"started\": \"2013-11-07 03:44:32\", \n    \"ended\": \"2013-11-07 03:46:55\", \n    \"version\": \"0.6\", \n    \"duration\": 143, \n    \"id\": 37\n}, \n\"signatures\": [], \n\"static\": {}, \n\"dropped\": [\n    {\n        \"yara\": [], \n        \"sha1\": \"6fd9eb6a42fd531988fba24137a2fe29ad992465\", \n        \"name\": \"tia[1].png\", \n        \"type\": \"PNG image data, 27 x 23, 8-bit/color RGB, non-interlaced\", \n        \"sha256\": \"75d6d26afb9506145d7f6472555855ef4305e0ef3e7cf4cb3d943c58123c7f74\", \n        \"crc32\": \"FDCAC92F\", \n        \"path\": \"/home/user/cuckoo/storage/analyses/37/files/2435944344/tia[1].png\", \n        \"ssdeep\": null, \n        \"size\": 387, \n        \"sha512\": \"b47ca17050ff4b6ddab848195c17b875454aafbec06d07bba126e553c9d32647f461adee9d1a75bbfffa08d6a8fc955429562794b123bebc9ec23dc89bdefcc5\", \n        \"md5\": \"ad07ee4cb98da073dda56ce7ceb88f5a\"\n    }\n ]\n}\n</code></pre>\n\n<p>REPLY</p>\n\n<p><strong>I currently don't understand how i can get the array in [dropped], I did some of the easier example, but this is a first for me. It seems like there a hierarchy but I don't know how to access it</strong></p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"owner":{"account_id":2397024,"reputation":81,"user_id":2095638,"display_name":"Prashanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699943229,"creation_date":1699943229,"question_id":77478538,"body_markdown":"We have a kafka streams application which has a fairly decent topology and transformers etc . This application has an input topic , one state store (with changelog) and multiple output topics. The input topic has 300 partitions and we&#39;re currently running 150 pods with two kafka streams thread per pod. The application is orchestrated via kubernetes.\r\n\r\nScenario 1 : We&#39;ve given a request CPU of 3 VCPU per pod and we&#39;ve noticed kafka consumer lag building up during peak hours. However on observing the node metrics we see that the node CPU is not 100% and not bottlenecked. The PODs CPU usage does not go beyond 2 VCPU (as expected since there are only 2 threads )\r\n\r\nScenario 2 : We&#39;ve given a request CPU of 4 VCPU per pod and we see no kafka consumer lag building up during peak hours. This is surprising to us since the POD CPU usage is still not going beyond 2 VCPU and the node CPU utilization is nowhere close to its peak.\r\n\r\nIn both scenario 1 &amp; 2 the PODs are running in a 32 CPU 64 GB RAM nodepool. It is running on google cloud with N2D CPU type. \r\n\r\nWith all the above information we are suspecting that the kafka streams application is having a degraded performance due to the fact that N2D CPU types have 2 threads per core where each thread is one VCPU. This is done via a concept called [SMT][1] There have been various articles about how SMT can cause degraded performance for high scale workloads which have a lot of parallelism. Scenario 2 supports this theory because when we reserve 4 VCPU for each pod , we&#39;re essentially reserving 2 cores for each pod , this means that each kafka streams thread can get one core to itself.\r\n\r\nThis essentially means high throughput kafka streams applications will have degraded performance due to SMT (sharing of the thread in the core ) due to the high amount of parallelism that kafka streams optimizes the toplogy for.\r\nI wanted to understand if this hypothesis is true and if anybody else is experiencing something like this and what can be done to improve performance?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Simultaneous_multithreading","title":"kafka streams degraded performance at scale when sharing a thread from a core","body":"<p>We have a kafka streams application which has a fairly decent topology and transformers etc . This application has an input topic , one state store (with changelog) and multiple output topics. The input topic has 300 partitions and we're currently running 150 pods with two kafka streams thread per pod. The application is orchestrated via kubernetes.</p>\n<p>Scenario 1 : We've given a request CPU of 3 VCPU per pod and we've noticed kafka consumer lag building up during peak hours. However on observing the node metrics we see that the node CPU is not 100% and not bottlenecked. The PODs CPU usage does not go beyond 2 VCPU (as expected since there are only 2 threads )</p>\n<p>Scenario 2 : We've given a request CPU of 4 VCPU per pod and we see no kafka consumer lag building up during peak hours. This is surprising to us since the POD CPU usage is still not going beyond 2 VCPU and the node CPU utilization is nowhere close to its peak.</p>\n<p>In both scenario 1 &amp; 2 the PODs are running in a 32 CPU 64 GB RAM nodepool. It is running on google cloud with N2D CPU type.</p>\n<p>With all the above information we are suspecting that the kafka streams application is having a degraded performance due to the fact that N2D CPU types have 2 threads per core where each thread is one VCPU. This is done via a concept called <a href=\"https://en.wikipedia.org/wiki/Simultaneous_multithreading\" rel=\"nofollow noreferrer\">SMT</a> There have been various articles about how SMT can cause degraded performance for high scale workloads which have a lot of parallelism. Scenario 2 supports this theory because when we reserve 4 VCPU for each pod , we're essentially reserving 2 cores for each pod , this means that each kafka streams thread can get one core to itself.</p>\n<p>This essentially means high throughput kafka streams applications will have degraded performance due to SMT (sharing of the thread in the core ) due to the high amount of parallelism that kafka streams optimizes the toplogy for.\nI wanted to understand if this hypothesis is true and if anybody else is experiencing something like this and what can be done to improve performance?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1498553485,"post_id":44775539,"comment_id":76532415,"body_markdown":"I suggest using loggers instead of System.out.prinln :) Try accessing with https - would it still be the same? Maybe your tomcat forces https and rewrites the request?","body":"I suggest using loggers instead of System.out.prinln :) Try accessing with https - would it still be the same? Maybe your tomcat forces https and rewrites the request?"},{"owner":{"account_id":1919325,"reputation":4519,"user_id":1731200,"accept_rate":83,"display_name":"Matthias"},"score":2,"creation_date":1498556108,"post_id":44775539,"comment_id":76534134,"body_markdown":"If your problem is being solved, mark the answer as a solution or post an answer yourself.","body":"If your problem is being solved, mark the answer as a solution or post an answer yourself."},{"owner":{"account_id":12093988,"reputation":1393,"user_id":8838721,"display_name":"Jaime Menendez"},"score":1,"creation_date":1649378031,"post_id":44775539,"comment_id":126866517,"body_markdown":"If you want your filter to only be called once per request, extend `OncePerRequestFilter` instead of `Filter`.","body":"If you want your filter to only be called once per request, extend <code>OncePerRequestFilter</code> instead of <code>Filter</code>."}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1498553178,"creation_date":1498553178,"answer_id":44775864,"question_id":44775539,"body_markdown":"I can think of two common reasons for this behavior:\r\n\r\n1. the spring application context is loaded twice by your application\r\n2. A redirect is causing a second request on the endpoint\r\n\r\n","title":"why spring boot filter call twice?","body":"<p>I can think of two common reasons for this behavior:</p>\n\n<ol>\n<li>the spring application context is loaded twice by your application</li>\n<li>A redirect is causing a second request on the endpoint</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1162589,"reputation":854,"user_id":1528033,"accept_rate":75,"display_name":"Yasser Hussain"},"score":0,"creation_date":1550838249,"post_id":44782059,"comment_id":96428742,"body_markdown":"I don&#39;t think that&#39;s the reason why its being called twice. See Yongzhao&#39;s answer.","body":"I don&#39;t think that&#39;s the reason why its being called twice. See Yongzhao&#39;s answer."}],"tags":[],"owner":{"account_id":11171121,"reputation":2994,"user_id":8198056,"display_name":"Adrian"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498571410,"creation_date":1498571410,"answer_id":44782059,"question_id":44775539,"body_markdown":"Answer to the question is in documentation: \r\n\r\n&gt; The doFilter method of the Filter is called by the container each time a **request/response** pair is passed through the chain due to a client request for a resource at the end of the chain.\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/servlet/Filter.html","title":"why spring boot filter call twice?","body":"<p>Answer to the question is in documentation: </p>\n\n<blockquote>\n  <p>The doFilter method of the Filter is called by the container each time a <strong>request/response</strong> pair is passed through the chain due to a client request for a resource at the end of the chain.</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/Filter.html\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"comments":[{"owner":{"account_id":3311268,"reputation":2705,"user_id":2784721,"accept_rate":93,"display_name":"Amit Kumar"},"score":1,"creation_date":1625511676,"post_id":52959122,"comment_id":120641145,"body_markdown":"This is correct, in my case for authentication when it failed, second url that was called is /error.","body":"This is correct, in my case for authentication when it failed, second url that was called is /error."}],"tags":[],"owner":{"account_id":13268184,"reputation":121,"user_id":9580173,"display_name":"Yongzhao Zhang"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1540337486,"creation_date":1540337486,"answer_id":52959122,"question_id":44775539,"body_markdown":"If you try to log the request url from doFilter method, you&#39;ll see why. Here is I create new SpringBoot project and test with doFilter method.\r\n\r\n        @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n        logger.info(request.getRequestURL().toString());\r\n        filterChain.doFilter(servletRequest,servletResponse);\r\n    }\r\n\r\nWell, the two urls are\r\n\r\n    http://localhost:8080/index\r\n    http://localhost:8080/favicon.ico\r\n\r\n     \r\n","title":"why spring boot filter call twice?","body":"<p>If you try to log the request url from doFilter method, you'll see why. Here is I create new SpringBoot project and test with doFilter method.</p>\n\n<pre><code>    @Override\npublic void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n    HttpServletRequest request = (HttpServletRequest) servletRequest;\n    logger.info(request.getRequestURL().toString());\n    filterChain.doFilter(servletRequest,servletResponse);\n}\n</code></pre>\n\n<p>Well, the two urls are</p>\n\n<pre><code>http://localhost:8080/index\nhttp://localhost:8080/favicon.ico\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10463908,"reputation":1211,"user_id":7785738,"display_name":"Artem Ptushkin"},"score":2,"creation_date":1636973129,"post_id":60045285,"comment_id":123691747,"body_markdown":"thank you, that was exactly my case. Should be on the top as this is the only possible reason when you&#39;re curtain on things like calling URL twice","body":"thank you, that was exactly my case. Should be on the top as this is the only possible reason when you&#39;re curtain on things like calling URL twice"},{"owner":{"account_id":22601973,"reputation":244,"user_id":16783361,"display_name":"K9.dev"},"score":0,"creation_date":1650948519,"post_id":60045285,"comment_id":127238059,"body_markdown":"Seem like it works for me. Before I added the filter with the injected bean. Then I change to regular class like your example. But i&#39;m curious why it called twice if I use the injected bean. Do you know the reason behind?","body":"Seem like it works for me. Before I added the filter with the injected bean. Then I change to regular class like your example. But i&#39;m curious why it called twice if I use the injected bean. Do you know the reason behind?"}],"tags":[],"owner":{"account_id":4486879,"reputation":271,"user_id":3649178,"display_name":"wrathtoliar"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1580755381,"creation_date":1580755381,"answer_id":60045285,"question_id":44775539,"body_markdown":"Please check if the class where in you had defined your filter was a bean or a regular class. In case it is a bean/component then you do not have to specifically register the filter in your security configuration for eg by using \r\n\r\n    http.addFilterBefore(new YourFilter(), BasicAuthenticationFilter.class). \r\n\r\nBy registering a bean additionally as mentioned, the same filter will get executed twice.","title":"why spring boot filter call twice?","body":"<p>Please check if the class where in you had defined your filter was a bean or a regular class. In case it is a bean/component then you do not have to specifically register the filter in your security configuration for eg by using </p>\n\n<pre><code>http.addFilterBefore(new YourFilter(), BasicAuthenticationFilter.class). \n</code></pre>\n\n<p>By registering a bean additionally as mentioned, the same filter will get executed twice.</p>\n"},{"tags":[],"owner":{"account_id":12211707,"reputation":367,"user_id":8913302,"display_name":"Johan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695375403,"creation_date":1695375403,"answer_id":77156477,"question_id":44775539,"body_markdown":"Extending answer from @wrathtoliar\r\n\r\nIf your filter is invoking Spring bean. Make an autowired variable instead of manual java instantiation.\r\n\r\n    @Autowired\r\n    private YourFilter yourFilter;\r\n    \r\n    http.addFilterBefore(yourFilter, BasicAuthenticationFilter.class)","title":"why spring boot filter call twice?","body":"<p>Extending answer from @wrathtoliar</p>\n<p>If your filter is invoking Spring bean. Make an autowired variable instead of manual java instantiation.</p>\n<pre><code>@Autowired\nprivate YourFilter yourFilter;\n\nhttp.addFilterBefore(yourFilter, BasicAuthenticationFilter.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23980626,"reputation":7,"user_id":17968709,"display_name":"ylmzzsy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699942978,"creation_date":1699942978,"answer_id":77478519,"question_id":44775539,"body_markdown":"Spring Security doesn’t guarantee the filter won’t be called more than once, so we have to take care of this ourselves. The easiest way is to implement the filter using the OncePerRequestFilter class\r\n\r\nHere is an example;\r\n```java\r\npublic class AuthenticationLoggingFilter extends OncePerRequestFilter {\r\n    private final Logger logger = Logger.getLogger(AuthenticationLoggingFilter.class.getName());\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request,\r\n                                    HttpServletResponse response,\r\n                                    FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        String requestId = request.getHeader(&quot;Request-Id&quot;);\r\n        logger.info(&quot;Successfully authenticated request with id &quot; + requestId);\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```","title":"why spring boot filter call twice?","body":"<p>Spring Security doesn’t guarantee the filter won’t be called more than once, so we have to take care of this ourselves. The easiest way is to implement the filter using the OncePerRequestFilter class</p>\n<p>Here is an example;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AuthenticationLoggingFilter extends OncePerRequestFilter {\n    private final Logger logger = Logger.getLogger(AuthenticationLoggingFilter.class.getName());\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n                                    HttpServletResponse response,\n                                    FilterChain filterChain)\n            throws ServletException, IOException {\n        String requestId = request.getHeader(&quot;Request-Id&quot;);\n        logger.info(&quot;Successfully authenticated request with id &quot; + requestId);\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6745458,"reputation":91,"user_id":5197195,"display_name":"Nestle Caau"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13426,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":6,"score":9,"last_activity_date":1699942978,"creation_date":1498552122,"question_id":44775539,"body_markdown":"my spring boot version is 1.5.4,here is my config code\r\n\r\n    @SpringBootApplication\r\n    @Configuration\r\n    @RestController\r\n    @ServletComponentScan\r\n    public class Application {\r\n\r\n\t    public static void main(String[] args) throws Exception {\r\n\t    \tSpringApplication.run(Application.class, args);\r\n\t    }\r\n\r\n\t    @RequestMapping(&quot;/&quot;)\r\n\t    public String home() {\r\n\t\t    System.out.println(&quot;test&quot;);\r\n\t\t    return &quot;Hello World!&quot;;\r\n\t    }\r\n\r\n    }\r\n\r\nhere is my servlet filter code\r\n\r\n    @WebFilter(urlPatterns = &quot;/*&quot;)\r\n    public class LogFilter implements Filter {\r\n\r\n\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n\t\tSystem.out.println(&quot;LogFilter&quot;);\r\n\t\tchain.doFilter(request, response);\r\n\t}\r\n\r\n    //init and destroy\r\n\r\nWhen i visit http://localhost:8080/ console is out print\r\n\r\n\r\n    LogFilter\r\n    test\r\n    LogFilter &lt;----the second time\r\n\r\nwhy call filter twice?Spring boot Why do this? Is there a relevant document or source reference?where I want him to call once, how can i do it?\r\n\r\nupdate: thx all the problem has been solved","title":"why spring boot filter call twice?","body":"<p>my spring boot version is 1.5.4,here is my config code</p>\n\n<pre><code>@SpringBootApplication\n@Configuration\n@RestController\n@ServletComponentScan\npublic class Application {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @RequestMapping(\"/\")\n    public String home() {\n        System.out.println(\"test\");\n        return \"Hello World!\";\n    }\n\n}\n</code></pre>\n\n<p>here is my servlet filter code</p>\n\n<pre><code>@WebFilter(urlPatterns = \"/*\")\npublic class LogFilter implements Filter {\n\n\n@Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n    System.out.println(\"LogFilter\");\n    chain.doFilter(request, response);\n}\n\n//init and destroy\n</code></pre>\n\n<p>When i visit <a href=\"http://localhost:8080/\" rel=\"noreferrer\">http://localhost:8080/</a> console is out print</p>\n\n<pre><code>LogFilter\ntest\nLogFilter &lt;----the second time\n</code></pre>\n\n<p>why call filter twice?Spring boot Why do this? Is there a relevant document or source reference?where I want him to call once, how can i do it?</p>\n\n<p>update: thx all the problem has been solved</p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":4146531,"reputation":451,"user_id":3400076,"display_name":"xxestter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699942544,"creation_date":1699942544,"question_id":77478493,"body_markdown":"I am currently retrieving some of the MongoDB metrics and display on a dashboard. there is a metrics called opLatencies, which I find it hard to understand. \r\n\r\nAttached the link -&gt; https://www.mongodb.com/docs/v4.4/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.opLatencies\r\n\r\nCan someone please enlighten me, what value is opLatencies is capturing? It says &quot;A 64-bit integer giving the total combined latency in microseconds&quot; in the documentation, but what is 64-bit integer?\r\n","title":"opLatencies mongodb metric","body":"<p>I am currently retrieving some of the MongoDB metrics and display on a dashboard. there is a metrics called opLatencies, which I find it hard to understand.</p>\n<p>Attached the link -&gt; <a href=\"https://www.mongodb.com/docs/v4.4/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.opLatencies\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/v4.4/reference/command/serverStatus/#mongodb-serverstatus-serverstatus.opLatencies</a></p>\n<p>Can someone please enlighten me, what value is opLatencies is capturing? It says &quot;A 64-bit integer giving the total combined latency in microseconds&quot; in the documentation, but what is 64-bit integer?</p>\n"},{"tags":["java","spring-boot","maven","maven-shade-plugin"],"owner":{"account_id":8316980,"reputation":1,"user_id":14721295,"display_name":"govind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699942373,"creation_date":1699942373,"question_id":77478482,"body_markdown":"I have one spring application(**dependency**) as a lib and other is simple java application(**dependenct**). I am trying to run java class from which i am calling spring main method. after running java -cp dependent-0.0.1-SNAPSHOT.jar com.example.dependent.DependentApplication it is giving me below:\r\n\r\n&gt;ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer : org.springframework.boot.context.ConfigurationWarningsApplicationContextInitializer\r\n        at org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:456)\r\n        at org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:438)\r\n        at org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:431)\r\n        at org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:262)\r\n        at org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:241)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n        at com.example.dependency.DependencyApplication.main(DependencyApplication.java:11)\r\n        at com.example.dependent.DependentApplication.main(DependentApplication.java:11)\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.ConfigurationWarningsApplicationContextInitializer\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:467)\r\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\r\n        at org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:449)\r\n        ... 8 more\r\n\r\n\r\n**Pom.xml for spring application (dependency)below.**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;dependency&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;dependency&lt;/name&gt;\r\n    \t&lt;description&gt;dependency project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;com.example.dependency.DependencyApplication&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t\t\t&lt;/descriptorRefs&gt;\r\n    \r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nDependent pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;dependent&lt;/artifactId&gt;\r\n    \t&lt;name&gt;dependent&lt;/name&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;dependency&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"ERROR StatusLogger Log4j2 could not find a logging implementation. while running executable jar","body":"<p>I have one spring application(<strong>dependency</strong>) as a lib and other is simple java application(<strong>dependenct</strong>). I am trying to run java class from which i am calling spring main method. after running java -cp dependent-0.0.1-SNAPSHOT.jar com.example.dependent.DependentApplication it is giving me below:</p>\n<blockquote>\n<p>ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer : org.springframework.boot.context.ConfigurationWarningsApplicationContextInitializer\nat org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:456)\nat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:438)\nat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:431)\nat org.springframework.boot.SpringApplication.(SpringApplication.java:262)\nat org.springframework.boot.SpringApplication.(SpringApplication.java:241)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\nat com.example.dependency.DependencyApplication.main(DependencyApplication.java:11)\nat com.example.dependent.DependentApplication.main(DependentApplication.java:11)\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.ConfigurationWarningsApplicationContextInitializer\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:467)\nat org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\nat org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:449)\n... 8 more</p>\n</blockquote>\n<p><strong>Pom.xml for spring application (dependency)below.</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;dependency&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;dependency&lt;/name&gt;\n    &lt;description&gt;dependency project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.example.dependency.DependencyApplication&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Dependent pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;dependent&lt;/artifactId&gt;\n    &lt;name&gt;dependent&lt;/name&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;dependency&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","arrays","pass-by-reference"],"comments":[{"owner":{"account_id":13244695,"reputation":416,"user_id":9564191,"display_name":"Lutzi"},"score":0,"creation_date":1525764748,"post_id":50228199,"comment_id":87473659,"body_markdown":"I don&#39;t think `Array` have a `toString()` method. So it tries to display something it doesn&#39;t know how to display ...","body":"I don&#39;t think <code>Array</code> have a <code>toString()</code> method. So it tries to display something it doesn&#39;t know how to display ..."},{"owner":{"account_id":3675707,"reputation":5532,"user_id":3061857,"accept_rate":65,"display_name":"nbokmans"},"score":0,"creation_date":1525764767,"post_id":50228199,"comment_id":87473674,"body_markdown":"Your question does not make sense. Pass by value and printing an object are not related at all. If you had googled &quot;java pass by value&quot;, you would have found this answer: https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value which specifically says: &quot;Java is always pass-by-value. Unfortunately, they decided to call the location of an object a &quot;reference&quot;. When we pass the value of an object, we are passing the reference to it. &quot;","body":"Your question does not make sense. Pass by value and printing an object are not related at all. If you had googled &quot;java pass by value&quot;, you would have found this answer: <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a> which specifically says: &quot;Java is always pass-by-value. Unfortunately, they decided to call the location of an object a &quot;reference&quot;. When we pass the value of an object, we are passing the reference to it. &quot;"},{"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"score":1,"creation_date":1525764895,"post_id":50228199,"comment_id":87473740,"body_markdown":"@Lutzi An array (even for primitive types) is an Object as any other objects as well and therefore at least inherits `toString()` from `java.lang.Object`.","body":"@Lutzi An array (even for primitive types) is an Object as any other objects as well and therefore at least inherits <code>toString()</code> from <code>java.lang.Object</code>."},{"owner":{"account_id":13244695,"reputation":416,"user_id":9564191,"display_name":"Lutzi"},"score":0,"creation_date":1525764981,"post_id":50228199,"comment_id":87473794,"body_markdown":"It herits it yes, but don&#39;t know how to display value. It&#39;s not because you specialize Object that Java knows how to print it (e.g. a specialization of Object with two fields).","body":"It herits it yes, but don&#39;t know how to display value. It&#39;s not because you specialize Object that Java knows how to print it (e.g. a specialization of Object with two fields)."},{"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"score":1,"creation_date":1525765113,"post_id":50228199,"comment_id":87473857,"body_markdown":"@Lutzi the direct implementation of how the String is evaluated: [Object.toString()](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/Object.java#Object.toString%28%29)","body":"@Lutzi the direct implementation of how the String is evaluated: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/Object.java#Object.toString%28%29\" rel=\"nofollow noreferrer\">Object.toString()</a>"}],"answers":[{"tags":[],"owner":{"account_id":159531,"reputation":16392,"user_id":378979,"accept_rate":96,"display_name":"Vincent Cantin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525764823,"creation_date":1525764823,"answer_id":50228261,"question_id":50228199,"body_markdown":"Java passed the value of the reference `intarray`, which means it passes the address of the array.\r\n\r\nWhat it prints is not related to passing parameters by value or not, it depends on what the print method does.","title":"If java is pass-by-value, then why does displaying an array name return gibberish?","body":"<p>Java passed the value of the reference <code>intarray</code>, which means it passes the address of the array.</p>\n\n<p>What it prints is not related to passing parameters by value or not, it depends on what the print method does.</p>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1525764948,"creation_date":1525764948,"answer_id":50228309,"question_id":50228199,"body_markdown":"This has nothing to do with Java being pass by value.\r\n\r\n`System.out.println(intarray)` uses the `toString()` method to obtain a `String` representation of the passed object. \r\n\r\nThe default implementation of `Object`&#39;s `toString` prints what you call &quot;gibberish&quot; (which is generated by the expression `getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode())`). The array class does not override that implementation. Therefore, `System.out.println(intarray)` prints &quot;gibberish&quot;.\r\n\r\nOn the other hand, `Arrays.toString(intarray)` returns a `String` that lists the elements of the passed array.","title":"If java is pass-by-value, then why does displaying an array name return gibberish?","body":"<p>This has nothing to do with Java being pass by value.</p>\n\n<p><code>System.out.println(intarray)</code> uses the <code>toString()</code> method to obtain a <code>String</code> representation of the passed object. </p>\n\n<p>The default implementation of <code>Object</code>'s <code>toString</code> prints what you call \"gibberish\" (which is generated by the expression <code>getClass().getName() + \"@\" + Integer.toHexString(hashCode())</code>). The array class does not override that implementation. Therefore, <code>System.out.println(intarray)</code> prints \"gibberish\".</p>\n\n<p>On the other hand, <code>Arrays.toString(intarray)</code> returns a <code>String</code> that lists the elements of the passed array.</p>\n"},{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525764967,"creation_date":1525764967,"answer_id":50228315,"question_id":50228199,"body_markdown":"It does not matter whether Java is pass by value here. The reason it is printing the hashcode is because Array is an Object in Java. \r\n\r\nWhen you try to print an Object in Java using `System.out.println()`, the String representation of the Object will be displayed. That is, the `toString()` method of Array (inherited from Object class) will be implicitly invoked, thus giving you the so called &quot;gibberish&quot;.","title":"If java is pass-by-value, then why does displaying an array name return gibberish?","body":"<p>It does not matter whether Java is pass by value here. The reason it is printing the hashcode is because Array is an Object in Java. </p>\n\n<p>When you try to print an Object in Java using <code>System.out.println()</code>, the String representation of the Object will be displayed. That is, the <code>toString()</code> method of Array (inherited from Object class) will be implicitly invoked, thus giving you the so called \"gibberish\".</p>\n"},{"tags":[],"owner":{"account_id":13282467,"reputation":6102,"user_id":9589593,"display_name":"k_ssb"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525765074,"creation_date":1525765074,"answer_id":50228348,"question_id":50228199,"body_markdown":"When you do\r\n\r\n    System.out.println(myObj);\r\n\r\nthe object `myObj` is converted to a printable format (i.e., a `String`) by calling `myObj.toString()`.\r\n\r\nIf an object doesn&#39;t provide its own `toString()` implementation, it inherits the `toString()` from `Object`, which returns object&#39;s class name concatenated with the object&#39;s hashcode, as follows ([javadoc][1]):\r\n\r\n    getClass().getName() + &#39;@&#39; + Integer.toHexString(hashCode())\r\n\r\nArrays inherit `toString()` from `Object` and this is why you get the output `[I@7852e922`. Note that the class name is in fact `[I`, which represents &quot;an array containing the primitive type int&quot; -- you can read more about class names [here][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#toString()\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getName()","title":"If java is pass-by-value, then why does displaying an array name return gibberish?","body":"<p>When you do</p>\n\n<pre><code>System.out.println(myObj);\n</code></pre>\n\n<p>the object <code>myObj</code> is converted to a printable format (i.e., a <code>String</code>) by calling <code>myObj.toString()</code>.</p>\n\n<p>If an object doesn't provide its own <code>toString()</code> implementation, it inherits the <code>toString()</code> from <code>Object</code>, which returns object's class name concatenated with the object's hashcode, as follows (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\">javadoc</a>):</p>\n\n<pre><code>getClass().getName() + '@' + Integer.toHexString(hashCode())\n</code></pre>\n\n<p>Arrays inherit <code>toString()</code> from <code>Object</code> and this is why you get the output <code>[I@7852e922</code>. Note that the class name is in fact <code>[I</code>, which represents \"an array containing the primitive type int\" -- you can read more about class names <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getName()\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":8794123,"reputation":43,"user_id":9712859,"display_name":"saulsebrook"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1525766524,"answer_count":4,"score":0,"last_activity_date":1699942344,"creation_date":1525764651,"question_id":50228199,"body_markdown":"I am getting confused why I can&#39;t use the statement to display the values in an array?\r\n\r\n`System.out.println(intarray);`\r\n\r\nThis is the output &#39;[I@7852e922&#39;\r\n\r\nIf java is pass-by-value shouldnt that statement return the values of the array not the object reference. This is the fix im using.\r\n\r\n    System.out.println(Arrays.toString(intarray));","title":"If java is pass-by-value, then why does displaying an array name return gibberish?","body":"<p>I am getting confused why I can't use the statement to display the values in an array?</p>\n<p><code>System.out.println(intarray);</code></p>\n<p>This is the output '[I@7852e922'</p>\n<p>If java is pass-by-value shouldnt that statement return the values of the array not the object reference. This is the fix im using.</p>\n<pre><code>System.out.println(Arrays.toString(intarray));\n</code></pre>\n"},{"tags":["java","testing","quarkus","multipartfile"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1699424108,"post_id":77439430,"comment_id":136528116,"body_markdown":"Any chance you can upload a sample to GitHub?","body":"Any chance you can upload a sample to GitHub?"},{"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"score":0,"creation_date":1699432400,"post_id":77439430,"comment_id":136529257,"body_markdown":"A good chance. I added a repo with the MRE to the question. https://github.com/LocutusV0nB0rg/QuarkusFileUpload/tree/master","body":"A good chance. I added a repo with the MRE to the question. <a href=\"https://github.com/LocutusV0nB0rg/QuarkusFileUpload/tree/master\" rel=\"nofollow noreferrer\">github.com/LocutusV0nB0rg/QuarkusFileUpload/tree/master</a>"}],"answers":[{"comments":[{"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"score":1,"creation_date":1699952336,"post_id":77478478,"comment_id":136592063,"body_markdown":"My goodness... I didn&#39;t check if the directory existed. What a rookie mistake ._.","body":"My goodness... I didn&#39;t check if the directory existed. What a rookie mistake ._."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1699966801,"post_id":77478478,"comment_id":136594642,"body_markdown":"Happens to everyone :)","body":"Happens to everyone :)"}],"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699942319,"creation_date":1699942319,"answer_id":77478478,"question_id":77439430,"body_markdown":"The file upload works correctly - if you do `tagFile.uploadedFile().toFile().exists()` you will see the value is true.\r\n\r\nThe problem is that you are copying the file to a directory that does not exist","title":"Test Quarkus endpoint with multipart file upload with RestAssured","body":"<p>The file upload works correctly - if you do <code>tagFile.uploadedFile().toFile().exists()</code> you will see the value is true.</p>\n<p>The problem is that you are copying the file to a directory that does not exist</p>\n"}],"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77478478,"answer_count":1,"score":0,"last_activity_date":1699942319,"creation_date":1699370391,"question_id":77439430,"body_markdown":"I want to send files to an endpoint. These files should then be stored on a given path.\r\n\r\nTo implement this, I wrote the following endpoint:\r\n\r\n```java\r\n    @Path(&quot;upload&quot;)\r\n    @PUT\r\n    public void uploadTagFile(@RestForm(&quot;tagFile&quot;) FileUpload tagFile, @HeaderParam(&quot;sessionId&quot;) UUID sessionId) {\r\n        Session session = sessionService.obtainActiveSession(sessionId);\r\n\r\n        File copied;\r\n        try {\r\n            copied = Files.copy(tagFile.uploadedFile(), java.nio.file.Path.of(storageDirectory + &quot;/sessions/&quot; + tagFile.fileName())).toFile();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        tagFilesService.addTagFile(session, copied);\r\n    }\r\n```\r\n\r\nI thought this should be fine and went ahead and wrote a test for this endpoint that uploads a file which is located in the resources of the test module:\r\n\r\n\r\n\r\n```java\r\n    @Test\r\n    public void uploadTagFile_ValidSessionWithFile_UploadSuccessful() {\r\n        //Setup\r\n        File file = ResourceUtils.getResourceAsFile(&quot;sampledata/tag/unitdata.tag&quot;);\r\n        Assertions.assertNotNull(file);\r\n\r\n        //Action + Assert\r\n        given().header(&quot;sessionId&quot;, sessionId)\r\n                .header(new Header(&quot;content-type&quot;, &quot;multipart/form-data&quot;))\r\n                .multiPart(&quot;tagFile&quot;, file)\r\n                .contentType(&quot;multipart/form-data&quot;)\r\n                .when()\r\n                .put(&quot;/api/tag/upload&quot;)\r\n                .then()\r\n                .statusCode(204);\r\n    }\r\n```\r\n\r\nThis gave me the following error message;\r\n\r\n```\r\n2023-11-07 16:15:27,918 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-1) HTTP Request to /api/tag/upload failed, error id: 2dc30e07-b49c-4155-817a-3599e53af9b5-1: java.lang.RuntimeException: java.nio.file.NoSuchFileException: C:\\Users\\XXX\\AppData\\Local\\Temp\\uploads\\resteasy-reactive5082349700154976184upload -&gt; tmpstorage\\sessions\\7577918012706382072813560817.tmp\r\n\tat com.xxx.tpu.quarkus.tag.TagFilesController.uploadTagFile(TagFilesController.java:40)\r\n\tat com.xxx.tpu.quarkus.tag.TagFilesController$quarkusrestinvoker$uploadTagFile_f34cf665f31482fa40b85501ce781413d7f28f10.invoke(Unknown Source)\r\n\tat org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\r\n\tat io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\r\n\tat org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\r\n\tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:582)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\r\n\tat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n\tat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.nio.file.NoSuchFileException: C:\\Users\\XXX\\AppData\\Local\\Temp\\uploads\\resteasy-reactive5082349700154976184upload -&gt; tmpstorage\\sessions\\7577918012706382072813560817.tmp\r\n\tat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n\tat java.base/sun.nio.fs.WindowsFileCopy.copy(WindowsFileCopy.java:202)\r\n\tat java.base/sun.nio.fs.WindowsFileSystemProvider.copy(WindowsFileSystemProvider.java:283)\r\n\tat java.base/java.nio.file.Files.copy(Files.java:1295)\r\n\tat com.xxx.tpu.quarkus.tag.TagFilesController.uploadTagFile(TagFilesController.java:38)\r\n\t... 11 more\r\n```\r\n\r\nTherefore I set a breakpoint in my controller method and got this from my debugger:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI don&#39;t understand what is wrong and why my fileUpload is not containing my file. What am I doing wrong here?\r\n\r\nYou can find a minimal reproducible example here: https://github.com/LocutusV0nB0rg/QuarkusFileUpload/tree/master\r\n\r\nEDIT:\r\n\r\nI dug a bit more and it seems the file is being transmitted correctly. However, I cannot access it. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis file does contain the data of the file I transmitted in the test, I just cannot access it. So I guess the test is written correctly, but the endpoint has to access the file in some different way\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3MIhy.png\r\n  [2]: https://i.stack.imgur.com/TvRsA.png","title":"Test Quarkus endpoint with multipart file upload with RestAssured","body":"<p>I want to send files to an endpoint. These files should then be stored on a given path.</p>\n<p>To implement this, I wrote the following endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Path(&quot;upload&quot;)\n    @PUT\n    public void uploadTagFile(@RestForm(&quot;tagFile&quot;) FileUpload tagFile, @HeaderParam(&quot;sessionId&quot;) UUID sessionId) {\n        Session session = sessionService.obtainActiveSession(sessionId);\n\n        File copied;\n        try {\n            copied = Files.copy(tagFile.uploadedFile(), java.nio.file.Path.of(storageDirectory + &quot;/sessions/&quot; + tagFile.fileName())).toFile();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        tagFilesService.addTagFile(session, copied);\n    }\n</code></pre>\n<p>I thought this should be fine and went ahead and wrote a test for this endpoint that uploads a file which is located in the resources of the test module:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void uploadTagFile_ValidSessionWithFile_UploadSuccessful() {\n        //Setup\n        File file = ResourceUtils.getResourceAsFile(&quot;sampledata/tag/unitdata.tag&quot;);\n        Assertions.assertNotNull(file);\n\n        //Action + Assert\n        given().header(&quot;sessionId&quot;, sessionId)\n                .header(new Header(&quot;content-type&quot;, &quot;multipart/form-data&quot;))\n                .multiPart(&quot;tagFile&quot;, file)\n                .contentType(&quot;multipart/form-data&quot;)\n                .when()\n                .put(&quot;/api/tag/upload&quot;)\n                .then()\n                .statusCode(204);\n    }\n</code></pre>\n<p>This gave me the following error message;</p>\n<pre><code>2023-11-07 16:15:27,918 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-1) HTTP Request to /api/tag/upload failed, error id: 2dc30e07-b49c-4155-817a-3599e53af9b5-1: java.lang.RuntimeException: java.nio.file.NoSuchFileException: C:\\Users\\XXX\\AppData\\Local\\Temp\\uploads\\resteasy-reactive5082349700154976184upload -&gt; tmpstorage\\sessions\\7577918012706382072813560817.tmp\n    at com.xxx.tpu.quarkus.tag.TagFilesController.uploadTagFile(TagFilesController.java:40)\n    at com.xxx.tpu.quarkus.tag.TagFilesController$quarkusrestinvoker$uploadTagFile_f34cf665f31482fa40b85501ce781413d7f28f10.invoke(Unknown Source)\n    at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\n    at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\n    at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)\n    at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:582)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\n    at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n    at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.nio.file.NoSuchFileException: C:\\Users\\XXX\\AppData\\Local\\Temp\\uploads\\resteasy-reactive5082349700154976184upload -&gt; tmpstorage\\sessions\\7577918012706382072813560817.tmp\n    at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n    at java.base/sun.nio.fs.WindowsFileCopy.copy(WindowsFileCopy.java:202)\n    at java.base/sun.nio.fs.WindowsFileSystemProvider.copy(WindowsFileSystemProvider.java:283)\n    at java.base/java.nio.file.Files.copy(Files.java:1295)\n    at com.xxx.tpu.quarkus.tag.TagFilesController.uploadTagFile(TagFilesController.java:38)\n    ... 11 more\n</code></pre>\n<p>Therefore I set a breakpoint in my controller method and got this from my debugger:</p>\n<p><a href=\"https://i.stack.imgur.com/3MIhy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3MIhy.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't understand what is wrong and why my fileUpload is not containing my file. What am I doing wrong here?</p>\n<p>You can find a minimal reproducible example here: <a href=\"https://github.com/LocutusV0nB0rg/QuarkusFileUpload/tree/master\" rel=\"nofollow noreferrer\">https://github.com/LocutusV0nB0rg/QuarkusFileUpload/tree/master</a></p>\n<p>EDIT:</p>\n<p>I dug a bit more and it seems the file is being transmitted correctly. However, I cannot access it.</p>\n<p><a href=\"https://i.stack.imgur.com/TvRsA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TvRsA.png\" alt=\"enter image description here\" /></a></p>\n<p>This file does contain the data of the file I transmitted in the test, I just cannot access it. So I guess the test is written correctly, but the endpoint has to access the file in some different way</p>\n"},{"tags":["java","tomcat","ssl-certificate","tomcat8","keytool"],"answers":[{"comments":[{"owner":{"account_id":7590694,"reputation":1,"user_id":5758460,"display_name":"nh39"},"score":0,"creation_date":1491351549,"post_id":43219703,"comment_id":73510684,"body_markdown":"Thanks @EJP. Please be patient with me here - first time using Tomcat. Did you mean, since the file name is cert.jks, the value for type should be JKS? Below is the sample from the server.xml template:\n&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot;&gt;\n  &lt;SSLHostConfig&gt;\n    &lt;Certificate certificateKeystoreFile=&quot;conf/localhost-rsa.jks&quot; type=&quot;RSA&quot; /&gt;\n  &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;","body":"Thanks @EJP. Please be patient with me here - first time using Tomcat. Did you mean, since the file name is cert.jks, the value for type should be JKS? Below is the sample from the server.xml template: &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot;&gt;   &lt;SSLHostConfig&gt;     &lt;Certificate certificateKeystoreFile=&quot;conf/localhost-rsa.jks&quot; type=&quot;RSA&quot; /&gt;   &lt;/SSLHostConfig&gt; &lt;/Connector&gt;"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1491352536,"post_id":43219703,"comment_id":73510914,"body_markdown":"The filename has nothing to do with it. As you didn&#39;t specify an alternate keystore type when using the keytool, the default that it produces is JKS. I don&#39;t know why you&#39;re re-posting the same extract with the same error in it that I have already pointed out.","body":"The filename has nothing to do with it. As you didn&#39;t specify an alternate keystore type when using the keytool, the default that it produces is JKS. I don&#39;t know why you&#39;re re-posting the same extract with the same error in it that I have already pointed out."},{"owner":{"account_id":7590694,"reputation":1,"user_id":5758460,"display_name":"nh39"},"score":0,"creation_date":1491354811,"post_id":43219703,"comment_id":73511378,"body_markdown":"Thanks for the clarification. What I posted the second was just the original template from the server.xml. Just trying to make sure I understood it correctly. Sorry if it annoyed you.","body":"Thanks for the clarification. What I posted the second was just the original template from the server.xml. Just trying to make sure I understood it correctly. Sorry if it annoyed you."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1491354880,"post_id":43219703,"comment_id":73511389,"body_markdown":"You should have posted that in the first place, or when you re-posted it you should have stated why. Otherwise it&#39;s completely pointless. You&#39;ve already posted it and I&#39;ve already quoted it.","body":"You should have posted that in the first place, or when you re-posted it you should have stated why. Otherwise it&#39;s completely pointless. You&#39;ve already posted it and I&#39;ve already quoted it."},{"owner":{"account_id":7590694,"reputation":1,"user_id":5758460,"display_name":"nh39"},"score":0,"creation_date":1491355304,"post_id":43219703,"comment_id":73511471,"body_markdown":"Thanks, again, for your help. And sorry, again, that you&#39;re annoyed by what I did.","body":"Thanks, again, for your help. And sorry, again, that you&#39;re annoyed by what I did."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1491356387,"post_id":43219703,"comment_id":73511708,"body_markdown":"Don&#39;t make personal remarks here. You have no evidence of annoyance. What I have expressed here is &#39;don&#39;t know why&#39;.","body":"Don&#39;t make personal remarks here. You have no evidence of annoyance. What I have expressed here is &#39;don&#39;t know why&#39;."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491352628,"creation_date":1491350469,"answer_id":43219703,"question_id":43219473,"body_markdown":"    &lt;Certificate certificateKeystoreFile=&quot;D:\\cert.jks&quot; type=&quot;RSA&quot; keystorePass=&quot;123456&quot; /&gt;\r\n\r\nThe probem is here. The keystore type is JKS, not RSA&lt;sup&gt;1&lt;/sup&gt;. The *keypair* type is RSA.\r\n\r\nYou may also have to rename your keypair/certificate entry to &quot;tomcat&quot; or whatever the default is in Tomcat 8, or else tell Tomcat to use the alias &quot;cert&quot; (poor choice).\r\n\r\n1. Because you didn&#39;t specify any other type to the `keytool`.","title":"Certificate configuration on Tomcat","body":"<pre><code>&lt;Certificate certificateKeystoreFile=\"D:\\cert.jks\" type=\"RSA\" keystorePass=\"123456\" /&gt;\n</code></pre>\n\n<p>The probem is here. The keystore type is JKS, not RSA<sup>1</sup>. The <em>keypair</em> type is RSA.</p>\n\n<p>You may also have to rename your keypair/certificate entry to \"tomcat\" or whatever the default is in Tomcat 8, or else tell Tomcat to use the alias \"cert\" (poor choice).</p>\n\n<ol>\n<li>Because you didn't specify any other type to the <code>keytool</code>.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":290252,"reputation":3161,"user_id":958866,"accept_rate":20,"display_name":"Kiran"},"score":0,"creation_date":1611927872,"post_id":43221936,"comment_id":116614235,"body_markdown":"Although it&#39;s voted &quot;-1&quot;, I found this reply useful","body":"Although it&#39;s voted &quot;-1&quot;, I found this reply useful"},{"owner":{"account_id":2805384,"reputation":228,"user_id":2412733,"display_name":"bigbadmouse"},"score":1,"creation_date":1687516887,"post_id":43221936,"comment_id":134951304,"body_markdown":"typo in clien*t*Auth","body":"typo in clien<i>t</i>Auth"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689551278,"post_id":43221936,"comment_id":135225217,"body_markdown":"Changing to HTTP 1.1 didn&#39;t solve the problem. Removing the keystore\\ `type=&quot;RSA&quot;` did that.","body":"Changing to HTTP 1.1 didn&#39;t solve the problem. Removing the keystore\\ <code>type=&quot;RSA&quot;</code> did that."}],"tags":[],"owner":{"account_id":7590694,"reputation":1,"user_id":5758460,"display_name":"nh39"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1491367083,"creation_date":1491367083,"answer_id":43221936,"question_id":43219473,"body_markdown":"FWIW, I can get it to work with the HTTP/1.1 protocol - simpler.\r\n\r\nBasically, replaced\r\n\r\n    &lt;Connector port=&quot;443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot;&gt;\r\n      &lt;SSLHostConfig&gt;\r\n        &lt;Certificate certificateKeystoreFile=&quot;D:\\cert.jks&quot; type=&quot;RSA&quot; keystorePass=&quot;123456&quot; /&gt;\r\n      &lt;/SSLHostConfig&gt;\r\n    &lt;/Connector&gt;\r\n\r\nWith this\r\n\r\n    &lt;Connector port=&quot;443&quot; protocol=&quot;HTTP/1.1&quot;\r\n                   maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; \r\n                   clienAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; keystoreFile=&quot;/conf/.keystore&quot; keystorePass=&quot;123456&quot; /&gt;\r\n\r\nMoving on and reading more about Tomcat and store type. There&#39;s an interesting thread here: [How to create a BKS (BouncyCastle) format Java Keystore that contains a client certificate chain][1]\r\n\r\n  [1]: https://stackoverflow.com/questions/4065379/how-to-create-a-bks-bouncycastle-format-java-keystore-that-contains-a-client-c","title":"Certificate configuration on Tomcat","body":"<p>FWIW, I can get it to work with the HTTP/1.1 protocol - simpler.</p>\n\n<p>Basically, replaced</p>\n\n<pre><code>&lt;Connector port=\"443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\" maxThreads=\"150\" SSLEnabled=\"true\"&gt;\n  &lt;SSLHostConfig&gt;\n    &lt;Certificate certificateKeystoreFile=\"D:\\cert.jks\" type=\"RSA\" keystorePass=\"123456\" /&gt;\n  &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;\n</code></pre>\n\n<p>With this</p>\n\n<pre><code>&lt;Connector port=\"443\" protocol=\"HTTP/1.1\"\n               maxThreads=\"150\" SSLEnabled=\"true\" scheme=\"https\" secure=\"true\" \n               clienAuth=\"false\" sslProtocol=\"TLS\" keystoreFile=\"/conf/.keystore\" keystorePass=\"123456\" /&gt;\n</code></pre>\n\n<p>Moving on and reading more about Tomcat and store type. There's an interesting thread here: <a href=\"https://stackoverflow.com/questions/4065379/how-to-create-a-bks-bouncycastle-format-java-keystore-that-contains-a-client-c\">How to create a BKS (BouncyCastle) format Java Keystore that contains a client certificate chain</a></p>\n"}],"owner":{"account_id":7590694,"reputation":1,"user_id":5758460,"display_name":"nh39"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8869,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699941955,"creation_date":1491348985,"question_id":43219473,"body_markdown":"First of all, I know that there similar questions already asked and I tried to follow the suggestions to troubleshoot but haven&#39;t got any luck. So, I&#39;m at the point that I think I&#39;d better off just post for help. Thank you, in advance, for your help.\r\n\r\nQuestion: What am I doing wrong? What/where should I check?\r\n\r\nObjective: I&#39;m trying to set up a certificate on Tomcat. I have Tomcat 8.5, %JAVA_HOME%=&quot;C:\\Program Files\\Java\\jdk1.8.0_121&quot; and a certificate I generated with the following command:\r\n\r\n    keytool -genkeypair -alias cert -keyalg RSA -keysize 2048 -sigalg SHA256withRSA -keypass 123456 -storepass 123456 -keystore d:\\cert.jks\r\n\r\nAnd filled out my name and other information, etc. to generate the key pair.\r\n\r\nI saw many YouTube videos and other instructions mention &quot;genkey&quot; instead &quot;genkeypair&quot; but this option isn&#39;t available on this computer. Anyway, I modified the server.xml file by adding the following:\r\n\r\n    &lt;Connector port=&quot;443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot; maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot;&gt;\r\n      &lt;SSLHostConfig&gt;\r\n        &lt;Certificate certificateKeystoreFile=&quot;D:\\cert.jks&quot; type=&quot;RSA&quot; keystorePass=&quot;123456&quot; /&gt;\r\n      &lt;/SSLHostConfig&gt;\r\n    &lt;/Connector&gt;\r\n\r\nExecuting catalina configtest gave me this:\r\n\r\n    04-Apr-2017 19:28:16.271 SEVERE [main] org.apache.coyote.AbstractProtocol.init Failed to initialize end point associated with ProtocolHandler [&quot;https-jsse-nio-443&quot;]\r\n     java.lang.IllegalArgumentException: java.io.IOException: Keystore was tampered with, or password was incorrect\r\n\r\n","title":"Certificate configuration on Tomcat","body":"<p>First of all, I know that there similar questions already asked and I tried to follow the suggestions to troubleshoot but haven't got any luck. So, I'm at the point that I think I'd better off just post for help. Thank you, in advance, for your help.</p>\n\n<p>Question: What am I doing wrong? What/where should I check?</p>\n\n<p>Objective: I'm trying to set up a certificate on Tomcat. I have Tomcat 8.5, %JAVA_HOME%=\"C:\\Program Files\\Java\\jdk1.8.0_121\" and a certificate I generated with the following command:</p>\n\n<pre><code>keytool -genkeypair -alias cert -keyalg RSA -keysize 2048 -sigalg SHA256withRSA -keypass 123456 -storepass 123456 -keystore d:\\cert.jks\n</code></pre>\n\n<p>And filled out my name and other information, etc. to generate the key pair.</p>\n\n<p>I saw many YouTube videos and other instructions mention \"genkey\" instead \"genkeypair\" but this option isn't available on this computer. Anyway, I modified the server.xml file by adding the following:</p>\n\n<pre><code>&lt;Connector port=\"443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\" maxThreads=\"150\" SSLEnabled=\"true\"&gt;\n  &lt;SSLHostConfig&gt;\n    &lt;Certificate certificateKeystoreFile=\"D:\\cert.jks\" type=\"RSA\" keystorePass=\"123456\" /&gt;\n  &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;\n</code></pre>\n\n<p>Executing catalina configtest gave me this:</p>\n\n<pre><code>04-Apr-2017 19:28:16.271 SEVERE [main] org.apache.coyote.AbstractProtocol.init Failed to initialize end point associated with ProtocolHandler [\"https-jsse-nio-443\"]\n java.lang.IllegalArgumentException: java.io.IOException: Keystore was tampered with, or password was incorrect\n</code></pre>\n"},{"tags":["python","java","tensorflow","keras","deeplearning4j"],"answers":[{"comments":[{"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"score":0,"creation_date":1633211460,"post_id":69420421,"comment_id":122700499,"body_markdown":"thank you for your answer. you are right, now I cant&#39;t set from_logits accuracy is down to 7%\nand i got a new error in java: Got rank 3 array as input to ConvolutionLayer (layer name = conv2d, layer index = 0) with shape [3, 30, 30]. Expected rank 4 array with shape [minibatchSize, layerInputDepth, inputHeight, inputWidth]. (layer name: conv2d, layer index: 0, layer type: ConvolutionLayer)\nI thought reusing the model is much easier","body":"thank you for your answer. you are right, now I cant&#39;t set from_logits accuracy is down to 7% and i got a new error in java: Got rank 3 array as input to ConvolutionLayer (layer name = conv2d, layer index = 0) with shape [3, 30, 30]. Expected rank 4 array with shape [minibatchSize, layerInputDepth, inputHeight, inputWidth]. (layer name: conv2d, layer index: 0, layer type: ConvolutionLayer) I thought reusing the model is much easier"}],"tags":[],"owner":{"account_id":22630771,"reputation":1022,"user_id":16808166,"display_name":"Andrew-Harelson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633210355,"creation_date":1633210355,"answer_id":69420421,"question_id":69420171,"body_markdown":"`deeplearning4j` looks like it does not support defining your loss function as an object. You have to specify it with a string. https://github.com/eclipse/deeplearning4j/issues/8990\r\n\r\nTry changing \r\n```python \r\nmodel.compile(\r\n  optimizer=&#39;adam&#39;,\r\n  loss=tf.losses.SparseCategoricalCrossentropy(from_logits=True),\r\n  metrics=[&#39;accuracy&#39;])\r\n```\r\nto \r\n```python\r\nmodel.compile(\r\n  optimizer=&#39;adam&#39;,\r\n  loss=&#39;sparse_categorical_crossentropy&#39;,\r\n  metrics=[&#39;accuracy&#39;])\r\n```\r\nNote that using this method you cannot set the kwarg `from_logits`. I think this will probably break your model. If that&#39;s the case, you&#39;ll need to file an issue with them because it&#39;s a bug in their library. ","title":"Use in Python trained tensorflow keras model in Java for image recognition","body":"<p><code>deeplearning4j</code> looks like it does not support defining your loss function as an object. You have to specify it with a string. <a href=\"https://github.com/eclipse/deeplearning4j/issues/8990\" rel=\"nofollow noreferrer\">https://github.com/eclipse/deeplearning4j/issues/8990</a></p>\n<p>Try changing</p>\n<pre class=\"lang-py prettyprint-override\"><code>model.compile(\n  optimizer='adam',\n  loss=tf.losses.SparseCategoricalCrossentropy(from_logits=True),\n  metrics=['accuracy'])\n</code></pre>\n<p>to</p>\n<pre class=\"lang-py prettyprint-override\"><code>model.compile(\n  optimizer='adam',\n  loss='sparse_categorical_crossentropy',\n  metrics=['accuracy'])\n</code></pre>\n<p>Note that using this method you cannot set the kwarg <code>from_logits</code>. I think this will probably break your model. If that's the case, you'll need to file an issue with them because it's a bug in their library.</p>\n"},{"comments":[{"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"score":0,"creation_date":1633284220,"post_id":69420755,"comment_id":122713364,"body_markdown":"Thank you. I think for my first problem there is already an open issue https://github.com/eclipse/deeplearning4j/issues/9447","body":"Thank you. I think for my first problem there is already an open issue <a href=\"https://github.com/eclipse/deeplearning4j/issues/9447\" rel=\"nofollow noreferrer\">github.com/eclipse/deeplearning4j/issues/9447</a>"},{"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"score":0,"creation_date":1633285106,"post_id":69420755,"comment_id":122713603,"body_markdown":"I opened a new issue for the 2nd problem of the missing sparsecategoricalcrossentropy loss function https://github.com/eclipse/deeplearning4j/issues/9468","body":"I opened a new issue for the 2nd problem of the missing sparsecategoricalcrossentropy loss function <a href=\"https://github.com/eclipse/deeplearning4j/issues/9468\" rel=\"nofollow noreferrer\">github.com/eclipse/deeplearning4j/issues/9468</a>"}],"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699941449,"creation_date":1633214039,"answer_id":69420755,"question_id":69420171,"body_markdown":"I&#39;m from the deeplearning4j project. From the looks of it,  @Andreas Radauer is correct. This one slipped through the cracks when we were implementing missing import functions. \r\n\r\nFor users willing to do it, it is also possible to register custom layers with model import to work around this. You can use our tensorflow like api (samediff) and define the function that implements this yourself and register it as a layer. If you think that is suitable for your use case then you can see an example here:\r\nhttps://github.com/eclipse/deeplearning4j/blob/master/deeplearning4j/deeplearning4j-modelimport/src/test/java/org/deeplearning4j/nn/modelimport/keras/e2e/KerasCustomLossTest.java\r\n\r\nOtherwise, we&#39;ll look in to adding the missing functions. Most of the keras work has focused on the convolution layers and ensuring we get those right.","title":"Use in Python trained tensorflow keras model in Java for image recognition","body":"<p>I'm from the deeplearning4j project. From the looks of it,  @Andreas Radauer is correct. This one slipped through the cracks when we were implementing missing import functions.</p>\n<p>For users willing to do it, it is also possible to register custom layers with model import to work around this. You can use our tensorflow like api (samediff) and define the function that implements this yourself and register it as a layer. If you think that is suitable for your use case then you can see an example here:\n<a href=\"https://github.com/eclipse/deeplearning4j/blob/master/deeplearning4j/deeplearning4j-modelimport/src/test/java/org/deeplearning4j/nn/modelimport/keras/e2e/KerasCustomLossTest.java\" rel=\"nofollow noreferrer\">https://github.com/eclipse/deeplearning4j/blob/master/deeplearning4j/deeplearning4j-modelimport/src/test/java/org/deeplearning4j/nn/modelimport/keras/e2e/KerasCustomLossTest.java</a></p>\n<p>Otherwise, we'll look in to adding the missing functions. Most of the keras work has focused on the convolution layers and ensuring we get those right.</p>\n"}],"owner":{"account_id":4645073,"reputation":1083,"user_id":3763679,"display_name":"Andreas Radauer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1699941524,"creation_date":1633207791,"question_id":69420171,"body_markdown":"I use keras in Python to do my first steps in neuronal networks.\r\nI trained a model to recognize small 30px x 30px images.\r\n\r\n    import tensorflow as tf\r\n    import matplotlib.pyplot as plt\r\n    from tensorflow import keras\r\n    from tensorflow.keras import layers\r\n    from tensorflow.python.keras import Sequential\r\n    \r\n    train_ds = keras.preprocessing.image_dataset_from_directory(&#39;images&#39;, validation_split=0.2,\r\n      subset=&quot;training&quot;, seed=123, batch_size=32, image_size=(30, 30))\r\n    val_ds  = keras.preprocessing.image_dataset_from_directory(&#39;images&#39;, validation_split=0.2,\r\n      subset=&quot;validation&quot;, seed=123, batch_size=32, image_size=(30, 30))\r\n    \r\n    class_names = train_ds.class_names\r\n    print(class_names)\r\n    \r\n    AUTOTUNE = tf.data.experimental.AUTOTUNE\r\n    \r\n    train_ds = train_ds.cache().prefetch(buffer_size=AUTOTUNE)\r\n    val_ds = val_ds.cache().prefetch(buffer_size=AUTOTUNE)\r\n    num_classes = 13\r\n    \r\n    model = Sequential([\r\n      layers.experimental.preprocessing.Rescaling(1./255, input_shape=(30, 30, 3)),\r\n      layers.Conv2D(10, 3, padding=&#39;same&#39;, activation=&#39;relu&#39;),\r\n      layers.MaxPooling2D(),\r\n      layers.Conv2D(15, 3, padding=&#39;same&#39;, activation=&#39;relu&#39;),\r\n      layers.MaxPooling2D(),\r\n      layers.Conv2D(20, 3, padding=&#39;same&#39;, activation=&#39;relu&#39;),\r\n      layers.MaxPooling2D(),\r\n      layers.Dropout(0.2),\r\n      layers.Flatten(),\r\n      layers.Dense(64, activation=&#39;relu&#39;),\r\n      layers.Dense(num_classes)\r\n    ])\r\n    \r\n    model.compile(\r\n      optimizer=&#39;adam&#39;,\r\n      loss=tf.losses.SparseCategoricalCrossentropy(from_logits=True),\r\n      metrics=[&#39;accuracy&#39;])\r\n    \r\n    model.summary()\r\n    \r\n    epochs = 50\r\n    \r\n    history = model.fit(\r\n      train_ds,\r\n      validation_data=val_ds,\r\n      epochs=epochs\r\n    )\r\n    \r\n    model.save(&quot;model.h5&quot;)\r\n\r\nI&#39;m pretty happy with that because I have a val_accuracy of 0.9912.\r\n\r\nBut now I want to use the model in Java to categorize buffered images:\r\n\r\n    public class Test\r\n    {\r\n        public static void main(String[] args) throws Exception\r\n        {\r\n            MultiLayerNetwork model = KerasModelImport.importKerasSequentialModelAndWeights(&quot;ki.h5&quot;);\r\n            BufferedImage img = ImageIO.read(new File(&quot;testImage.png&quot;));\r\n            ImageLoader loader = new ImageLoader(30, 30, 3);\r\n            INDArray input = loader.asMatrix(img);\r\n            INDArray output = model.output(input);\r\n            System.out.println(&quot;Test &quot; + output);\r\n        }\r\n    }\r\n\r\nHere I receive this error:\r\n\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; org.deeplearning4j.nn.modelimport.keras.exceptions.UnsupportedKerasConfigurationException:\r\n&gt; Unsupported keras layer type Rescaling. Please file an issue at\r\n&gt; https://github.com/eclipse/deeplearning4j/issues.\r\n\r\nI got it working in Python by removing the Rescaling Layer. But then I got the exception\r\n\r\nUnknown Keras loss function sparsecategoricalcrossentropy. Please file an issue at https://github.com/eclipse/deeplearning4j/issues.\r\n\r\n\r\nI&#39;m open to any suggestions. Is there a better way to usethe model from Java?\r\n\r\nOr should I change something in my Python file or how I save the model?","title":"Use in Python trained tensorflow keras model in Java for image recognition","body":"<p>I use keras in Python to do my first steps in neuronal networks.\nI trained a model to recognize small 30px x 30px images.</p>\n<pre><code>import tensorflow as tf\nimport matplotlib.pyplot as plt\nfrom tensorflow import keras\nfrom tensorflow.keras import layers\nfrom tensorflow.python.keras import Sequential\n\ntrain_ds = keras.preprocessing.image_dataset_from_directory('images', validation_split=0.2,\n  subset=&quot;training&quot;, seed=123, batch_size=32, image_size=(30, 30))\nval_ds  = keras.preprocessing.image_dataset_from_directory('images', validation_split=0.2,\n  subset=&quot;validation&quot;, seed=123, batch_size=32, image_size=(30, 30))\n\nclass_names = train_ds.class_names\nprint(class_names)\n\nAUTOTUNE = tf.data.experimental.AUTOTUNE\n\ntrain_ds = train_ds.cache().prefetch(buffer_size=AUTOTUNE)\nval_ds = val_ds.cache().prefetch(buffer_size=AUTOTUNE)\nnum_classes = 13\n\nmodel = Sequential([\n  layers.experimental.preprocessing.Rescaling(1./255, input_shape=(30, 30, 3)),\n  layers.Conv2D(10, 3, padding='same', activation='relu'),\n  layers.MaxPooling2D(),\n  layers.Conv2D(15, 3, padding='same', activation='relu'),\n  layers.MaxPooling2D(),\n  layers.Conv2D(20, 3, padding='same', activation='relu'),\n  layers.MaxPooling2D(),\n  layers.Dropout(0.2),\n  layers.Flatten(),\n  layers.Dense(64, activation='relu'),\n  layers.Dense(num_classes)\n])\n\nmodel.compile(\n  optimizer='adam',\n  loss=tf.losses.SparseCategoricalCrossentropy(from_logits=True),\n  metrics=['accuracy'])\n\nmodel.summary()\n\nepochs = 50\n\nhistory = model.fit(\n  train_ds,\n  validation_data=val_ds,\n  epochs=epochs\n)\n\nmodel.save(&quot;model.h5&quot;)\n</code></pre>\n<p>I'm pretty happy with that because I have a val_accuracy of 0.9912.</p>\n<p>But now I want to use the model in Java to categorize buffered images:</p>\n<pre><code>public class Test\n{\n    public static void main(String[] args) throws Exception\n    {\n        MultiLayerNetwork model = KerasModelImport.importKerasSequentialModelAndWeights(&quot;ki.h5&quot;);\n        BufferedImage img = ImageIO.read(new File(&quot;testImage.png&quot;));\n        ImageLoader loader = new ImageLoader(30, 30, 3);\n        INDArray input = loader.asMatrix(img);\n        INDArray output = model.output(input);\n        System.out.println(&quot;Test &quot; + output);\n    }\n}\n</code></pre>\n<p>Here I receive this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot;\norg.deeplearning4j.nn.modelimport.keras.exceptions.UnsupportedKerasConfigurationException:\nUnsupported keras layer type Rescaling. Please file an issue at\n<a href=\"https://github.com/eclipse/deeplearning4j/issues\" rel=\"nofollow noreferrer\">https://github.com/eclipse/deeplearning4j/issues</a>.</p>\n</blockquote>\n<p>I got it working in Python by removing the Rescaling Layer. But then I got the exception</p>\n<p>Unknown Keras loss function sparsecategoricalcrossentropy. Please file an issue at <a href=\"https://github.com/eclipse/deeplearning4j/issues\" rel=\"nofollow noreferrer\">https://github.com/eclipse/deeplearning4j/issues</a>.</p>\n<p>I'm open to any suggestions. Is there a better way to usethe model from Java?</p>\n<p>Or should I change something in my Python file or how I save the model?</p>\n"},{"tags":["java","json","jsonpath"],"answers":[{"tags":[],"owner":{"account_id":29897314,"reputation":36,"user_id":22911863,"display_name":"softwareguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699940443,"creation_date":1699940443,"answer_id":77478377,"question_id":77478197,"body_markdown":"Try using some external library like jackson for this,\r\n\r\nYou can use ObjectMapper class, something like this below to convert it to map:\r\n\r\n    public static Map&lt;String, Object&gt; convert(JsonPath jsonPath) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        return mapper.convertValue(jsonPath.read(), Map.class);\r\n    }","title":"How to convert response getting from an api in JsonPath object to a map or to get the response status code from the response?","body":"<p>Try using some external library like jackson for this,</p>\n<p>You can use ObjectMapper class, something like this below to convert it to map:</p>\n<pre><code>public static Map&lt;String, Object&gt; convert(JsonPath jsonPath) {\n    ObjectMapper mapper = new ObjectMapper();\n    return mapper.convertValue(jsonPath.read(), Map.class);\n}\n</code></pre>\n"}],"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77478377,"answer_count":1,"score":0,"last_activity_date":1699940443,"creation_date":1699936138,"question_id":77478197,"body_markdown":"I am getting a response from an api using this code\r\n  \r\n    JsonPath jsonPath = new JsonPath(resp.asString());\r\n\r\ni want to convert this jsonPath object to a map, or get the response status code before this step and add that code to the map after conversion. With this step i am only getting the response body from the api. \r\nPlease help\r\nThanks.","title":"How to convert response getting from an api in JsonPath object to a map or to get the response status code from the response?","body":"<p>I am getting a response from an api using this code</p>\n<pre><code>JsonPath jsonPath = new JsonPath(resp.asString());\n</code></pre>\n<p>i want to convert this jsonPath object to a map, or get the response status code before this step and add that code to the map after conversion. With this step i am only getting the response body from the api.\nPlease help\nThanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":0,"creation_date":1699938238,"post_id":77478254,"comment_id":136590466,"body_markdown":"In your current code, getWordFrequency is called *immediately* after each word, you should only call it after all words has been entered.","body":"In your current code, getWordFrequency is called <i>immediately</i> after each word, you should only call it after all words has been entered."},{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":1,"creation_date":1699938935,"post_id":77478254,"comment_id":136590521,"body_markdown":"Your whole approach is &quot;odd&quot; you read every word into an array and then get the frequency for every word. Since you expect the number of unique words to be less than the total you need to take that into account. An obvious approach would be a map of word-&gt;frequency","body":"Your whole approach is &quot;odd&quot; you read every word into an array and then get the frequency for every word. Since you expect the number of unique words to be less than the total you need to take that into account. An obvious approach would be a map of word-&gt;frequency"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699940337,"creation_date":1699939877,"answer_id":77478348,"question_id":77478254,"body_markdown":"&gt; _&quot;... I am doing an assignment and need to build a word frequency calculator. The first integer is the total amount of words for the input. ...&quot;_\r\n\r\nHere is an example.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\nMap&lt;String, Integer&gt; m = new TreeMap&lt;&gt;();\r\nfor (int i = 0, n = in.nextInt(); i &lt; n; i++)\r\n    m.merge(in.next().toLowerCase(), 1, (a, b) -&gt; ++a);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n5 hey Hi Mark hi mark\r\n{hey=1, hi=2, mark=2}\r\n```\r\n\r\n&gt; _&quot;... My Output is: hey 1 Hi 1 Mark 1 hi 2 mark 2 ...&quot;_\r\n\r\nThe reason this is happening is because you&#39;re checking _f_ upon each iteration.\r\n\r\nPopulate _f_ fully, and then traverse, and invoke _getWordFrequency_, for each.\r\n\r\n```java\r\nfor (i = 0; i &lt; size; i++) {\r\n    f[i] = scnr.next();\r\n}\r\nfor(i = 0; i &lt; size; i++){\r\n    System.out.println(f[i]+ &quot; &quot; + getWordFrequency(f, size, f[i]));\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n5 hey Hi Mark hi mark\r\nhey 1\r\nHi 2\r\nMark 2\r\nhi 2\r\nmark 2\r\n```\r\n\r\nAlternately, you can utilize a _[List](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html)_, and the _[Collections#frequency](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collections.html#frequency(java.util.Collection,java.lang.Object))_ method.\r\n\r\n```java\r\nScanner in = new Scanner(System.in);\r\nList&lt;String&gt; l = new ArrayList&lt;&gt;();\r\nfor (int i = 0, n = in.nextInt(); i &lt; n; i++)\r\n    l.add(in.next().toLowerCase());\r\nfor (String s : l)\r\n    System.out.printf(&quot;%s %s%n&quot;, Collections.frequency(l, s), s);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n5 hey Hi Mark hi mark\r\n1 hey\r\n2 hi\r\n2 mark\r\n2 hi\r\n2 mark\r\n```","title":"Do not know how to make count consistent across numbers","body":"<blockquote>\n<p><em>&quot;... I am doing an assignment and need to build a word frequency calculator. The first integer is the total amount of words for the input. ...&quot;</em></p>\n</blockquote>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nMap&lt;String, Integer&gt; m = new TreeMap&lt;&gt;();\nfor (int i = 0, n = in.nextInt(); i &lt; n; i++)\n    m.merge(in.next().toLowerCase(), 1, (a, b) -&gt; ++a);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>5 hey Hi Mark hi mark\n{hey=1, hi=2, mark=2}\n</code></pre>\n<blockquote>\n<p><em>&quot;... My Output is: hey 1 Hi 1 Mark 1 hi 2 mark 2 ...&quot;</em></p>\n</blockquote>\n<p>The reason this is happening is because you're checking <em>f</em> upon each iteration.</p>\n<p>Populate <em>f</em> fully, and then traverse, and invoke <em>getWordFrequency</em>, for each.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (i = 0; i &lt; size; i++) {\n    f[i] = scnr.next();\n}\nfor(i = 0; i &lt; size; i++){\n    System.out.println(f[i]+ &quot; &quot; + getWordFrequency(f, size, f[i]));\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>5 hey Hi Mark hi mark\nhey 1\nHi 2\nMark 2\nhi 2\nmark 2\n</code></pre>\n<p>Alternately, you can utilize a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em>, and the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collections.html#frequency(java.util.Collection,java.lang.Object)\" rel=\"nofollow noreferrer\">Collections#frequency</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nList&lt;String&gt; l = new ArrayList&lt;&gt;();\nfor (int i = 0, n = in.nextInt(); i &lt; n; i++)\n    l.add(in.next().toLowerCase());\nfor (String s : l)\n    System.out.printf(&quot;%s %s%n&quot;, Collections.frequency(l, s), s);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>5 hey Hi Mark hi mark\n1 hey\n2 hi\n2 mark\n2 hi\n2 mark\n</code></pre>\n"}],"owner":{"account_id":29704556,"reputation":7,"user_id":22765726,"display_name":"PimpShrimp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699940337,"creation_date":1699937715,"question_id":77478254,"body_markdown":"I am doing an assignment and need to build a word frequency calculator. The first integer is the total amount of words for the input.\r\n\r\n\r\nEx: If the input is:\r\n\r\n5 hey Hi Mark hi mark\r\nExpected output is:\r\n\r\nhey 1\r\nHi 2\r\nMark 2\r\nhi 2\r\nmark 2\r\n\r\nMy Output is: \r\nhey 1\r\nHi 1\r\nMark 1\r\nhi 2\r\nmark 2\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class LabProgram {\r\n\r\n       public static int getWordFrequency(String[] f, int size, String c){\r\n          int count = 0;\r\n          for (int j = 0; j &lt; f.length; j++) {\r\n              if (f[j] != null &amp;&amp; f[j].equalsIgnoreCase(c)) {\r\n                  count++;\r\n              }\r\n          }\r\n          return count;\r\n       }\r\n\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          int size = scnr.nextInt();\r\n          String c;\r\n          int i;\r\n          String [] f = new String[size];\r\n          int [] v = new int[size];\r\n          for (i = 0; i &lt; size; i++) {\r\n              f[i] = scnr.next();\r\n              c = f[i];\r\n              v[i] = getWordFrequency(f, size, c);\r\n          }\r\n          for(i = 0; i &lt; size; i++){\r\n             System.out.println(f[i]+ &quot; &quot; + v[i]);\r\n              }\r\n           }\r\n        }","title":"Do not know how to make count consistent across numbers","body":"<p>I am doing an assignment and need to build a word frequency calculator. The first integer is the total amount of words for the input.</p>\n<p>Ex: If the input is:</p>\n<p>5 hey Hi Mark hi mark\nExpected output is:</p>\n<p>hey 1\nHi 2\nMark 2\nhi 2\nmark 2</p>\n<p>My Output is:\nhey 1\nHi 1\nMark 1\nhi 2\nmark 2</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n\n   public static int getWordFrequency(String[] f, int size, String c){\n      int count = 0;\n      for (int j = 0; j &lt; f.length; j++) {\n          if (f[j] != null &amp;&amp; f[j].equalsIgnoreCase(c)) {\n              count++;\n          }\n      }\n      return count;\n   }\n\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      int size = scnr.nextInt();\n      String c;\n      int i;\n      String [] f = new String[size];\n      int [] v = new int[size];\n      for (i = 0; i &lt; size; i++) {\n          f[i] = scnr.next();\n          c = f[i];\n          v[i] = getWordFrequency(f, size, c);\n      }\n      for(i = 0; i &lt; size; i++){\n         System.out.println(f[i]+ &quot; &quot; + v[i]);\n          }\n       }\n    }\n</code></pre>\n"},{"tags":["security","java-8","saxparser","xalan","javax"],"answers":[{"tags":[],"owner":{"account_id":2824002,"reputation":21,"user_id":2427007,"display_name":"Dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560941143,"creation_date":1560941143,"answer_id":56665850,"question_id":50234862,"body_markdown":"I have also failed to call method &quot;setFeature&quot; of TransformerFactoryImpl. And I found other way to set feature by using XMLReader as below:\r\n\r\n    XMLReader reader = XMLReaderFactory.createXMLReader();\r\n    reader.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\r\n    \r\n    Source xmlSource = new SAXSource(reader, new InputSource(new FileInputStream(xmlFile)));\r\n    Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n    StreamResult result = new StreamResult(new StringWriter());\r\n    transformer.transform(xmlSource, result);\r\n\r\nAfter that setting, if the input has DOCTYPE tag inside, we will have following exception:\r\n\r\n    javax.xml.transform.TransformerException: org.xml.sax.SAXParseException; lineNumber: 2; columnNumber: 10; DOCTYPE is disallowed when the feature &quot;http://apache.org/xml/features/disallow-doctype-decl&quot; set to true.\r\n    \tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:749)\r\n    \tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:351)\r\n    \tat ch.ofwi.pa.webservice.provideraccounting.impl.handler.SchemaValidationHandler.main(SchemaValidationHandler.java:227)\r\n    Caused by: org.xml.sax.SAXParseException; lineNumber: 2; columnNumber: 10; DOCTYPE is disallowed when the feature &quot;http://apache.org/xml/features/disallow-doctype-decl&quot; set to true.\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1239)\r\n    \tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformIdentity(TransformerImpl.java:668)\r\n    \tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:737)\r\n\t\r\nHope that it&#39;s helpful for you.","title":"TransformerConfigurationException: Cannot set the feature for Transformer","body":"<p>I have also failed to call method \"setFeature\" of TransformerFactoryImpl. And I found other way to set feature by using XMLReader as below:</p>\n\n<pre><code>XMLReader reader = XMLReaderFactory.createXMLReader();\nreader.setFeature(\"http://apache.org/xml/features/disallow-doctype-decl\", true);\n\nSource xmlSource = new SAXSource(reader, new InputSource(new FileInputStream(xmlFile)));\nTransformer transformer = TransformerFactory.newInstance().newTransformer();\nStreamResult result = new StreamResult(new StringWriter());\ntransformer.transform(xmlSource, result);\n</code></pre>\n\n<p>After that setting, if the input has DOCTYPE tag inside, we will have following exception:</p>\n\n<pre><code>javax.xml.transform.TransformerException: org.xml.sax.SAXParseException; lineNumber: 2; columnNumber: 10; DOCTYPE is disallowed when the feature \"http://apache.org/xml/features/disallow-doctype-decl\" set to true.\n    at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:749)\n    at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:351)\n    at ch.ofwi.pa.webservice.provideraccounting.impl.handler.SchemaValidationHandler.main(SchemaValidationHandler.java:227)\nCaused by: org.xml.sax.SAXParseException; lineNumber: 2; columnNumber: 10; DOCTYPE is disallowed when the feature \"http://apache.org/xml/features/disallow-doctype-decl\" set to true.\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1239)\n    at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformIdentity(TransformerImpl.java:668)\n    at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:737)\n</code></pre>\n\n<p>Hope that it's helpful for you.</p>\n"}],"owner":{"account_id":11037988,"reputation":848,"user_id":8107013,"display_name":"Manjunath H M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2499,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1699939791,"creation_date":1525786240,"question_id":50234862,"body_markdown":"i&#39;m getting below error while setting the feature for TransformerFactory.\r\n\r\n\r\n    javax.xml.transform.TransformerConfigurationException: Cannot set the feature &#39;http://apache.org/xml/features/disallow-doctype-decl&#39; on this TransformerFactory.\r\n            at org.apache.xalan.processor.TransformerFactoryImpl.setFeature(TransformerFactoryImpl.java:416)\r\n    \r\n\r\n\r\nCode snippet is::\r\n\r\n    public static TransformerFactory mytFactory;\r\n    \r\n    mytFactory = TransformerFactory.newInstance();\r\n    mytFactory.setFeature(“http://apache.org/xml/features/disallow-doctype-decl“, true);\r\n\r\nplease help me to solve this issue.\r\n","title":"TransformerConfigurationException: Cannot set the feature for Transformer","body":"<p>i'm getting below error while setting the feature for TransformerFactory.</p>\n\n<pre><code>javax.xml.transform.TransformerConfigurationException: Cannot set the feature 'http://apache.org/xml/features/disallow-doctype-decl' on this TransformerFactory.\n        at org.apache.xalan.processor.TransformerFactoryImpl.setFeature(TransformerFactoryImpl.java:416)\n</code></pre>\n\n<p>Code snippet is::</p>\n\n<pre><code>public static TransformerFactory mytFactory;\n\nmytFactory = TransformerFactory.newInstance();\nmytFactory.setFeature(“http://apache.org/xml/features/disallow-doctype-decl“, true);\n</code></pre>\n\n<p>please help me to solve this issue.</p>\n"},{"tags":["java","null","target","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1508526641,"post_id":46669594,"comment_id":80659021,"body_markdown":"Did the answer in the linked issue solved your problem?","body":"Did the answer in the linked issue solved your problem?"},{"owner":{"account_id":6422313,"reputation":921,"user_id":4978689,"accept_rate":71,"display_name":"mindOf_L"},"score":0,"creation_date":1608747937,"post_id":46669594,"comment_id":115675732,"body_markdown":"For me it works as explained in the link provided in the issue/question.","body":"For me it works as explained in the link provided in the issue/question."}],"answers":[{"tags":[],"owner":{"account_id":12046249,"reputation":479,"user_id":8811143,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1599297582,"creation_date":1599296116,"answer_id":63752137,"question_id":46669594,"body_markdown":"    @Mapper( nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE )","title":"Map struct : When source is null, target should NOT be set to null","body":"<pre><code>@Mapper( nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2557291,"reputation":945,"user_id":2218992,"accept_rate":100,"display_name":"andreyro"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633514221,"creation_date":1633514221,"answer_id":69463526,"question_id":46669594,"body_markdown":"For me it worked like this:\r\n\r\n    @Mapper(nullValueMappingStrategy =  NullValueMappingStrategy.RETURN_DEFAULT)\r\n    public interface MyMapper {\r\n    ...\r\n    }","title":"Map struct : When source is null, target should NOT be set to null","body":"<p>For me it worked like this:</p>\n<pre><code>@Mapper(nullValueMappingStrategy =  NullValueMappingStrategy.RETURN_DEFAULT)\npublic interface MyMapper {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668074558,"creation_date":1668074558,"answer_id":74387202,"question_id":46669594,"body_markdown":"For me only this one works, as explained here: https://github.com/mapstruct/mapstruct/issues/649\r\n\r\n    @Mapper( nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS )","title":"Map struct : When source is null, target should NOT be set to null","body":"<p>For me only this one works, as explained here: <a href=\"https://github.com/mapstruct/mapstruct/issues/649\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct/issues/649</a></p>\n<pre><code>@Mapper( nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS )\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6365177,"reputation":407,"user_id":4939361,"display_name":"Artur Łysik"},"score":0,"creation_date":1692789769,"post_id":76546265,"comment_id":135671419,"body_markdown":"Adding MappingTarget adnotation as well as BeanMapping(nullValuePropertyMappingStrategy did the trick for me. It seems that without MappingTarget mapper implementation generates but ignoring nullValuePropertyMappingStrategy","body":"Adding MappingTarget adnotation as well as BeanMapping(nullValuePropertyMappingStrategy did the trick for me. It seems that without MappingTarget mapper implementation generates but ignoring nullValuePropertyMappingStrategy"}],"tags":[],"owner":{"account_id":25091291,"reputation":11,"user_id":19701697,"display_name":"PureTruth"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687613009,"creation_date":1687613009,"answer_id":76546265,"question_id":46669594,"body_markdown":"This worked for me:\r\n\r\n    @BeanMapping(nullValuePropertyMappingStrategy =  NullValuePropertyMappingStrategy.IGNORE)\r\n    void updateProduct(@MappingTarget Product entity, ProductRequestDto dto);\r\n@Mapping annotation requires &quot;target&quot; option in current (1.5.5.Final) MapStruct release.\r\n\r\nThanks for @tak3shi link on github discussion!","title":"Map struct : When source is null, target should NOT be set to null","body":"<p>This worked for me:</p>\n<pre><code>@BeanMapping(nullValuePropertyMappingStrategy =  NullValuePropertyMappingStrategy.IGNORE)\nvoid updateProduct(@MappingTarget Product entity, ProductRequestDto dto);\n</code></pre>\n<p>@Mapping annotation requires &quot;target&quot; option in current (1.5.5.Final) MapStruct release.</p>\n<p>Thanks for @tak3shi link on github discussion!</p>\n"},{"tags":[],"owner":{"account_id":13133235,"reputation":26,"user_id":9487135,"display_name":"apercova"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699938446,"creation_date":1699938446,"answer_id":77478288,"question_id":46669594,"body_markdown":"I&#39;m using Mapstruct `1.5.5.Final`\r\n\r\nYou can use `NullValuePropertyMappingStrategy.IGNORE` at mapper level to affect all your mapping methods:\r\n```\r\n    @Mapper(\r\n        nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE\r\n    )\r\n    public interface MyMapper {..}\r\n```\r\n\r\nIf you want just to override the mapping for a single value, you can use `NullValuePropertyMappingStrategy.IGNORE` at mapping level and define a custom mapping method:\r\n```\r\n    @Mappings({\r\n        @Mapping(target = &quot;json&quot;, source = &quot;json&quot;, \r\n                 qualifiedByName = &quot;jsonCustomMapper&quot;, \r\n                 nullValueCheckStrategy = NullValueCheckStrategy.ON_IMPLICIT_CONVERSION)\r\n    })\r\n    Target target(Source source);\r\n    \r\n    ...\r\n\r\n    @Named(&quot;jsonCustomMapper&quot;)\r\n    default String jsonCustomMapper(String json) {\r\n        // Define empty json for null or empty json string\r\n        return (json == null || json.trim().isEmpty()) ? &quot;{}&quot; :json;\r\n    }\r\n\r\n```\r\nNote that `ON_IMPLICIT_CONVERSION` does not affect custom mapping methods.\r\nhttps://mapstruct.org/documentation/stable/api/org/mapstruct/NullValueCheckStrategy.html#ON_IMPLICIT_CONVERSION\r\n\r\n\r\nHope this is useful for you.","title":"Map struct : When source is null, target should NOT be set to null","body":"<p>I'm using Mapstruct <code>1.5.5.Final</code></p>\n<p>You can use <code>NullValuePropertyMappingStrategy.IGNORE</code> at mapper level to affect all your mapping methods:</p>\n<pre><code>    @Mapper(\n        nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE\n    )\n    public interface MyMapper {..}\n</code></pre>\n<p>If you want just to override the mapping for a single value, you can use <code>NullValuePropertyMappingStrategy.IGNORE</code> at mapping level and define a custom mapping method:</p>\n<pre><code>    @Mappings({\n        @Mapping(target = &quot;json&quot;, source = &quot;json&quot;, \n                 qualifiedByName = &quot;jsonCustomMapper&quot;, \n                 nullValueCheckStrategy = NullValueCheckStrategy.ON_IMPLICIT_CONVERSION)\n    })\n    Target target(Source source);\n    \n    ...\n\n    @Named(&quot;jsonCustomMapper&quot;)\n    default String jsonCustomMapper(String json) {\n        // Define empty json for null or empty json string\n        return (json == null || json.trim().isEmpty()) ? &quot;{}&quot; :json;\n    }\n\n</code></pre>\n<p>Note that <code>ON_IMPLICIT_CONVERSION</code> does not affect custom mapping methods.\n<a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/NullValueCheckStrategy.html#ON_IMPLICIT_CONVERSION\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/stable/api/org/mapstruct/NullValueCheckStrategy.html#ON_IMPLICIT_CONVERSION</a></p>\n<p>Hope this is useful for you.</p>\n"}],"owner":{"account_id":11870292,"reputation":249,"user_id":8686695,"display_name":"Malathi Damodaran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48001,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":5,"score":17,"last_activity_date":1699938446,"creation_date":1507646584,"question_id":46669594,"body_markdown":"I am trying to map nested properties using mapstruct 1.2.0.CR2. \r\n(Example map _customer.address.houseNumber_ to  _userDTO.homeDTO.addressDTO.houseNo_ ).\r\n\r\n**Expectation :** I do not want to set the  addressDTO to null when  customer.address is null.    Since addressDTO contains  &quot;countyname&quot; and other properties which  are already set from other different sources.\r\n\r\n\r\nPlease advice if there is property/setting that I could set so that the target it not set to null when source is null.\r\n\r\n\r\n    @Mapper( nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS )\r\n    public interface CustomerUserMapperNullCheck {\r\n    \r\n        @Mapping(source=&quot;address&quot;, target=&quot;homeDTO.addressDTO&quot; )\r\n        void mapCustomer(Customer customer, @MappingTarget  UserDTO userDTO)  ;\r\n        \r\n        @Mapping(source=&quot;houseNumber&quot;, target=&quot;houseNo&quot; )\r\n        void mapCustomerHouse(Address address, @MappingTarget  AddressDTO addrDTO)  ;\r\n        \r\n    }\r\n\r\n I initially tried in single mapping like below\r\n\r\n    @Mapping(target=&quot;homeDTO.addressDTO.houseNo&quot;, source=&quot;address.houseNumber&quot;)\r\n     abstract void mapCustomerHouse(Customer customer, @MappingTarget  UserDTO userDTO)  ; \r\n\r\nThen tried splitting up the mapping,  based on https://github.com/mapstruct/mapstruct/issues/649. \r\n\r\n\r\nBoth  approaches does not produce the expected result/\r\nGenerated method code\r\n\r\n     protected void customerToHomeDTO(Customer customer, HomeDTO mappingTarget) {\r\n            if ( customer == null ) {\r\n                return;\r\n            }\r\n    \r\n            if ( customer.getAddress() != null ) {\r\n                if ( mappingTarget.getAddressDTO() == null ) {\r\n                    mappingTarget.setAddressDTO( new AddressDTO() );\r\n                }\r\n                mapCustomerHouse( customer.getAddress(), mappingTarget.getAddressDTO() );\r\n            }\r\n            **else {\r\n                mappingTarget.setAddressDTO( null );   // I dont want to else where addressDTO is set to null.\r\n            }**\r\n        }\r\n\r\nThe complete generated code is here  \r\n  https://github.com/mapstruct/mapstruct/issues/1306\r\n\r\nThanks\r\n\r\n\r\n","title":"Map struct : When source is null, target should NOT be set to null","body":"<p>I am trying to map nested properties using mapstruct 1.2.0.CR2. \n(Example map <em>customer.address.houseNumber</em> to  <em>userDTO.homeDTO.addressDTO.houseNo</em> ).</p>\n\n<p><strong>Expectation :</strong> I do not want to set the  addressDTO to null when  customer.address is null.    Since addressDTO contains  \"countyname\" and other properties which  are already set from other different sources.</p>\n\n<p>Please advice if there is property/setting that I could set so that the target it not set to null when source is null.</p>\n\n<pre><code>@Mapper( nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS )\npublic interface CustomerUserMapperNullCheck {\n\n    @Mapping(source=\"address\", target=\"homeDTO.addressDTO\" )\n    void mapCustomer(Customer customer, @MappingTarget  UserDTO userDTO)  ;\n\n    @Mapping(source=\"houseNumber\", target=\"houseNo\" )\n    void mapCustomerHouse(Address address, @MappingTarget  AddressDTO addrDTO)  ;\n\n}\n</code></pre>\n\n<p>I initially tried in single mapping like below</p>\n\n<pre><code>@Mapping(target=\"homeDTO.addressDTO.houseNo\", source=\"address.houseNumber\")\n abstract void mapCustomerHouse(Customer customer, @MappingTarget  UserDTO userDTO)  ; \n</code></pre>\n\n<p>Then tried splitting up the mapping,  based on <a href=\"https://github.com/mapstruct/mapstruct/issues/649\" rel=\"noreferrer\">https://github.com/mapstruct/mapstruct/issues/649</a>. </p>\n\n<p>Both  approaches does not produce the expected result/\nGenerated method code</p>\n\n<pre><code> protected void customerToHomeDTO(Customer customer, HomeDTO mappingTarget) {\n        if ( customer == null ) {\n            return;\n        }\n\n        if ( customer.getAddress() != null ) {\n            if ( mappingTarget.getAddressDTO() == null ) {\n                mappingTarget.setAddressDTO( new AddressDTO() );\n            }\n            mapCustomerHouse( customer.getAddress(), mappingTarget.getAddressDTO() );\n        }\n        **else {\n            mappingTarget.setAddressDTO( null );   // I dont want to else where addressDTO is set to null.\n        }**\n    }\n</code></pre>\n\n<p>The complete generated code is here<br>\n  <a href=\"https://github.com/mapstruct/mapstruct/issues/1306\" rel=\"noreferrer\">https://github.com/mapstruct/mapstruct/issues/1306</a></p>\n\n<p>Thanks</p>\n"},{"tags":["java","socketchannel"],"comments":[{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1349967267,"post_id":12842333,"comment_id":17376680,"body_markdown":"Do you have some stacktrace? Usually it should be no problem to have a &quot;newer&quot; JRE than Development-JDK.","body":"Do you have some stacktrace? Usually it should be no problem to have a &quot;newer&quot; JRE than Development-JDK."},{"owner":{"account_id":415484,"reputation":231,"user_id":790316,"accept_rate":38,"display_name":"Code.Blodded"},"score":0,"creation_date":1349967731,"post_id":12842333,"comment_id":17376970,"body_markdown":"If I compile JAR in JRE 1.6 and then run it in JRE 1.7 without implementing new methods I get the following error\n\nException in thread &quot;Thread-27&quot; java.lang.RuntimeException: Delegated task threw Exception/Error\n\tat sun.security.ssl.Handshaker.checkThrown(Unknown Source)\n\tat sun.security.ssl.SSLEngineImpl.checkTaskThrown(Unknown Source)\n\tat sun.security.ssl.SSLEngineImpl.readNetRecord(Unknown Source)\n\tat sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source)\n\tat javax.net.ssl.SSLEngine.unwrap(Unknown Source)","body":"If I compile JAR in JRE 1.6 and then run it in JRE 1.7 without implementing new methods I get the following error  Exception in thread &quot;Thread-27&quot; java.lang.RuntimeException: Delegated task threw Exception/Error \tat sun.security.ssl.Handshaker.checkThrown(Unknown Source) \tat sun.security.ssl.SSLEngineImpl.checkTaskThrown(Unknown Source) \tat sun.security.ssl.SSLEngineImpl.readNetRecord(Unknown Source) \tat sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source) \tat javax.net.ssl.SSLEngine.unwrap(Unknown Source)"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1349967826,"post_id":12842333,"comment_id":17377010,"body_markdown":"Can you add some code? This doesn&#39;t make any sense to me, really.","body":"Can you add some code? This doesn&#39;t make any sense to me, really."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1349967875,"post_id":12842333,"comment_id":17377031,"body_markdown":"@Code.Blodded - is that the entire stack trace?","body":"@Code.Blodded - is that the entire stack trace?"},{"owner":{"account_id":415484,"reputation":231,"user_id":790316,"accept_rate":38,"display_name":"Code.Blodded"},"score":0,"creation_date":1349967902,"post_id":12842333,"comment_id":17377046,"body_markdown":"I don&#39;t reference any NetworkChannel at all here is a sample implementation of the method marked as an @Override\n\n   \n\t    public SocketChannel shutdownOutput() throws IOException {\n            return socketChannel.shutdownOutput();\n\t    }","body":"I don&#39;t reference any NetworkChannel at all here is a sample implementation of the method marked as an @Override      \t    public SocketChannel shutdownOutput() throws IOException {             return socketChannel.shutdownOutput(); \t    }"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1349968023,"post_id":12842333,"comment_id":17377117,"body_markdown":"Can you implement the new methods for 1,7 and compile the class using 1.6?","body":"Can you implement the new methods for 1,7 and compile the class using 1.6?"},{"owner":{"account_id":415484,"reputation":231,"user_id":790316,"accept_rate":38,"display_name":"Code.Blodded"},"score":0,"creation_date":1349968132,"post_id":12842333,"comment_id":17377182,"body_markdown":"@jtahlborn I can compile on 1.6 even with the 1.7 methods added although I still get same runtime error, actually this only seems to work when I&#39;m using JRE 1.7.0 to 1.7.3, if I&#39;m using 1.7.4 above then I have the runtime error problem","body":"@jtahlborn I can compile on 1.6 even with the 1.7 methods added although I still get same runtime error, actually this only seems to work when I&#39;m using JRE 1.7.0 to 1.7.3, if I&#39;m using 1.7.4 above then I have the runtime error problem"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1349968242,"post_id":12842333,"comment_id":17377237,"body_markdown":"please add the full details to your question as it&#39;s getting a little confusing trying to follow it all in comments.","body":"please add the full details to your question as it&#39;s getting a little confusing trying to follow it all in comments."},{"owner":{"account_id":415484,"reputation":231,"user_id":790316,"accept_rate":38,"display_name":"Code.Blodded"},"score":0,"creation_date":1349969114,"post_id":12842333,"comment_id":17377741,"body_markdown":"@jtahlborn added details in question","body":"@jtahlborn added details in question"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1699938557,"post_id":12842333,"comment_id":136590491,"body_markdown":"From the answer, it looks like the issue was in the implementation of `getAcceptedIssuers`, which wasn&#39;t even mentioned in the actual question.  Voting to close as missing the required details to answer this.","body":"From the answer, it looks like the issue was in the implementation of <code>getAcceptedIssuers</code>, which wasn&#39;t even mentioned in the actual question.  Voting to close as missing the required details to answer this."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1349999503,"post_id":12844161,"comment_id":17389654,"body_markdown":"It isn&#39;t valid to return null from that method. Check the Javadoc. At a minimum you should return an empty array, but if this is the infamous trust-anybody TrustManager you should throw it away and get your certificates working. It is radically insecure and not to be incorporated into new code.","body":"It isn&#39;t valid to return null from that method. Check the Javadoc. At a minimum you should return an empty array, but if this is the infamous trust-anybody TrustManager you should throw it away and get your certificates working. It is radically insecure and not to be incorporated into new code."}],"tags":[],"owner":{"account_id":415484,"reputation":231,"user_id":790316,"accept_rate":38,"display_name":"Code.Blodded"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699938085,"creation_date":1349972506,"answer_id":12844161,"question_id":12842333,"body_markdown":"OK, it seems like I have pinpointed the issue about the runtime error on JRE 1.7.4+.  It appears that it is not really the unwrapping error but rather the certificate error.  Again I&#39;m also getting the following error whenever I&#39;m getting that runtime error when I call `SSLEngine.unwrap`:\r\n\r\n```lang-none\r\nException in thread &quot;Thread-24&quot; java.lang.RuntimeException: Delegated task threw Exception/Error\r\n    at sun.security.ssl.Handshaker.checkThrown(Unknown Source)\r\n    at sun.security.ssl.SSLEngineImpl.checkTaskThrown(Unknown Source)\r\n    at sun.security.ssl.SSLEngineImpl.readNetRecord(Unknown Source)\r\n    at sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source)\r\n    at javax.net.ssl.SSLEngine.unwrap(Unknown Source)\r\n    .....\r\nCaused by: java.lang.UnsupportedOperationException\r\n    at ....RTMPSTrustManager.getAcceptedIssuers(....)\r\n```\r\n\r\nSilly me I should have noticed that &quot;Caused by&quot; phrase, since I have this code below, so it seems that starting from JRE 1.7.4.  If I throw an exception inside `getAcceptedIssuers()` then I&#39;ll have that problem, so I just ended up not throwing an exception but returning `null` instead.\r\n\r\nI&#39;m not sure if that 1.7.4+ problem is related to this fix ([JDK-7142172](https://bugs.java.com/bugdatabase/view_bug?bug_id=7142172)), but it really seems to be.\r\n\r\n```lang-java\r\npublic java.security.cert.X509Certificate[] getAcceptedIssuers()\r\n{\r\n    return null;\r\n    //throw new UnsupportedOperationException();\r\n}\r\n```\r\n","title":"Extending SocketChannel in JRE 1.7.4+","body":"<p>OK, it seems like I have pinpointed the issue about the runtime error on JRE 1.7.4+.  It appears that it is not really the unwrapping error but rather the certificate error.  Again I'm also getting the following error whenever I'm getting that runtime error when I call <code>SSLEngine.unwrap</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;Thread-24&quot; java.lang.RuntimeException: Delegated task threw Exception/Error\n    at sun.security.ssl.Handshaker.checkThrown(Unknown Source)\n    at sun.security.ssl.SSLEngineImpl.checkTaskThrown(Unknown Source)\n    at sun.security.ssl.SSLEngineImpl.readNetRecord(Unknown Source)\n    at sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source)\n    at javax.net.ssl.SSLEngine.unwrap(Unknown Source)\n    .....\nCaused by: java.lang.UnsupportedOperationException\n    at ....RTMPSTrustManager.getAcceptedIssuers(....)\n</code></pre>\n<p>Silly me I should have noticed that &quot;Caused by&quot; phrase, since I have this code below, so it seems that starting from JRE 1.7.4.  If I throw an exception inside <code>getAcceptedIssuers()</code> then I'll have that problem, so I just ended up not throwing an exception but returning <code>null</code> instead.</p>\n<p>I'm not sure if that 1.7.4+ problem is related to this fix (<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=7142172\" rel=\"nofollow noreferrer\">JDK-7142172</a>), but it really seems to be.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public java.security.cert.X509Certificate[] getAcceptedIssuers()\n{\n    return null;\n    //throw new UnsupportedOperationException();\n}\n</code></pre>\n"}],"owner":{"account_id":415484,"reputation":231,"user_id":790316,"accept_rate":38,"display_name":"Code.Blodded"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699938362,"creation_date":1349966881,"question_id":12842333,"body_markdown":"I just tried extending `SocketChannel` but it seems that `SocketChannel` has some new API methods available starting from JRE 1.7.4 ([`SocketChannel`](https://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html)).  The problem is if I implement those methods, my JAR would throw the following error whenever I&#39;m using Java 1.6\r\n\r\n```lang-none\r\nException in thread &quot;Thread-24&quot; java.lang.NoClassDefFoundError: java/nio/channels/NetworkChannel\r\n```\r\n\r\nNow I figured out why there is an error related to `java/nio/channels/NetworkChannel`, it appears that `SocketChannel` implements interface `NetworkChannel` starting on JRE 1.7\r\n\r\nNow, when I&#39;m using JRE 1.7.4+, some runtime error occurs.  Actually the weird thing is even if I have those new API methods implemented then I&#39;m getting runtime error when I call the `unwrap` method:\r\n\r\n```lang-none\r\nException in thread &quot;Thread-27&quot; java.lang.RuntimeException: Delegated task threw Exception/Error\r\n\tat sun.security.ssl.Handshaker.checkThrown(Unknown Source)\r\n\tat sun.security.ssl.SSLEngineImpl.checkTaskThrown(Unknown Source)\r\n\tat sun.security.ssl.SSLEngineImpl.readNetRecord(Unknown Source)\r\n\tat sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source)\r\n\tat javax.net.ssl.SSLEngine.unwrap(Unknown Source)\r\n\tat CustomSocketChannel.unwrap(CustomSocketChannel.java:565)\r\n```\r\n \r\nOn that line I just call the `sslEngine.unwrap` method.  So in short when I have the new API methods implemented, it only works with JRE 1.7.0 to 1.7.3\r\n\r\nHow can I make my JAR compatible with JRE 1.6 and 1.7 while also extending the `SocketChannel` class?","title":"Extending SocketChannel in JRE 1.7.4+","body":"<p>I just tried extending <code>SocketChannel</code> but it seems that <code>SocketChannel</code> has some new API methods available starting from JRE 1.7.4 (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/SocketChannel.html\" rel=\"nofollow noreferrer\"><code>SocketChannel</code></a>).  The problem is if I implement those methods, my JAR would throw the following error whenever I'm using Java 1.6</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;Thread-24&quot; java.lang.NoClassDefFoundError: java/nio/channels/NetworkChannel\n</code></pre>\n<p>Now I figured out why there is an error related to <code>java/nio/channels/NetworkChannel</code>, it appears that <code>SocketChannel</code> implements interface <code>NetworkChannel</code> starting on JRE 1.7</p>\n<p>Now, when I'm using JRE 1.7.4+, some runtime error occurs.  Actually the weird thing is even if I have those new API methods implemented then I'm getting runtime error when I call the <code>unwrap</code> method:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;Thread-27&quot; java.lang.RuntimeException: Delegated task threw Exception/Error\n    at sun.security.ssl.Handshaker.checkThrown(Unknown Source)\n    at sun.security.ssl.SSLEngineImpl.checkTaskThrown(Unknown Source)\n    at sun.security.ssl.SSLEngineImpl.readNetRecord(Unknown Source)\n    at sun.security.ssl.SSLEngineImpl.unwrap(Unknown Source)\n    at javax.net.ssl.SSLEngine.unwrap(Unknown Source)\n    at CustomSocketChannel.unwrap(CustomSocketChannel.java:565)\n</code></pre>\n<p>On that line I just call the <code>sslEngine.unwrap</code> method.  So in short when I have the new API methods implemented, it only works with JRE 1.7.0 to 1.7.3</p>\n<p>How can I make my JAR compatible with JRE 1.6 and 1.7 while also extending the <code>SocketChannel</code> class?</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699935104,"creation_date":1699935104,"answer_id":77478156,"question_id":77478085,"body_markdown":"`SequenceLayout` is a preview feature introduced in a very recent update of java. You cannot use preview features unless you explicitly elect to enable them. But before you do that: You&#39;re clearly following some course or tutorial and there is __zero chance__ that&#39;s what they meant. 99% odds this is what happened instead: You, or the stuff you received to do this exercise, includes a type that is _also_ named `SequenceLayout`, you typed it and allowed intellij to automatically sort out imports for you, and you picked the wrong type to import. Find `import java.lang.foreign.SequenceLayout;` in your code, and delete that line.\r\n","title":"I keep trying to enable preview but whenever i upload my java file it says apis are disabled","body":"<p><code>SequenceLayout</code> is a preview feature introduced in a very recent update of java. You cannot use preview features unless you explicitly elect to enable them. But before you do that: You're clearly following some course or tutorial and there is <strong>zero chance</strong> that's what they meant. 99% odds this is what happened instead: You, or the stuff you received to do this exercise, includes a type that is <em>also</em> named <code>SequenceLayout</code>, you typed it and allowed intellij to automatically sort out imports for you, and you picked the wrong type to import. Find <code>import java.lang.foreign.SequenceLayout;</code> in your code, and delete that line.</p>\n"}],"owner":{"account_id":29207582,"reputation":25,"user_id":22604159,"display_name":"Blue Apricot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699936302,"creation_date":1699933554,"question_id":77478085,"body_markdown":"I never had this issue before but now whenever i try to upload my class on ed discussions i keep getting this error : \r\n&quot;./assignment2/Caterpillar.java:4: error: SequenceLayout is a preview API and is disabled by default.\r\nimport java.lang.foreign.SequenceLayout;\r\n                        ^\r\n  (use --enable-preview to enable preview APIs)1&quot;\r\n\r\nI&#39;ve tried the terminal, i&#39;ve tried project structure,(intellij idea). It is in previewed i have check 10 times already. can someone please advise me on what i should do","title":"I keep trying to enable preview but whenever i upload my java file it says apis are disabled","body":"<p>I never had this issue before but now whenever i try to upload my class on ed discussions i keep getting this error :\n&quot;./assignment2/Caterpillar.java:4: error: SequenceLayout is a preview API and is disabled by default.\nimport java.lang.foreign.SequenceLayout;\n^\n(use --enable-preview to enable preview APIs)1&quot;</p>\n<p>I've tried the terminal, i've tried project structure,(intellij idea). It is in previewed i have check 10 times already. can someone please advise me on what i should do</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1430816093,"post_id":30048090,"comment_id":48211691,"body_markdown":"You could always adopt Groovy, which is fully supported on Android as of the 2.4 series.","body":"You could always adopt Groovy, which is fully supported on Android as of the 2.4 series."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1430819131,"post_id":30048090,"comment_id":48213783,"body_markdown":"Make up your mind. Either you know that Google doesn&#39;t support JDK 8 or you don&#39;t.","body":"Make up your mind. Either you know that Google doesn&#39;t support JDK 8 or you don&#39;t."},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1430820077,"post_id":30048090,"comment_id":48214486,"body_markdown":"I don&#39;t see how &quot;opinion&quot; matters in this question","body":"I don&#39;t see how &quot;opinion&quot; matters in this question"},{"owner":{"account_id":459094,"reputation":8224,"user_id":859359,"accept_rate":70,"display_name":"Nestor"},"score":0,"creation_date":1430820282,"post_id":30048090,"comment_id":48214619,"body_markdown":"@RC. Please vote reopen then.","body":"@RC. Please vote reopen then."},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1430967159,"post_id":30048090,"comment_id":48294900,"body_markdown":"@RC., you&#39;d have to look at the edit history to understand why it was closed. It used to be entirely opinion based. Now it&#39;s good and I too will vote to reopen it.","body":"@RC., you&#39;d have to look at the edit history to understand why it was closed. It used to be entirely opinion based. Now it&#39;s good and I too will vote to reopen it."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1430969253,"post_id":30048090,"comment_id":48295415,"body_markdown":"But it still doesn&#39;t make sense. Google supports what Google supports, and Oracle supports what Oracle supports, and Oracle certainly does not support Google in any way.","body":"But it still doesn&#39;t make sense. Google supports what Google supports, and Oracle supports what Oracle supports, and Oracle certainly does not support Google in any way."},{"owner":{"account_id":459094,"reputation":8224,"user_id":859359,"accept_rate":70,"display_name":"Nestor"},"score":0,"creation_date":1430979662,"post_id":30048090,"comment_id":48299000,"body_markdown":"@EJP It doesn&#39;t matter if Oracle supports Google. Google should support JDK 8 as soon as possible... The question is regarding Google and it is a fair question (I can&#39;t rely on a non-supported Development Kit - and I reckon noone can)","body":"@EJP It doesn&#39;t matter if Oracle supports Google. Google should support JDK 8 as soon as possible... The question is regarding Google and it is a fair question (I can&#39;t rely on a non-supported Development Kit - and I reckon noone can)"}],"answers":[{"comments":[{"owner":{"account_id":459094,"reputation":8224,"user_id":859359,"accept_rate":70,"display_name":"Nestor"},"score":0,"creation_date":1439969593,"post_id":32085960,"comment_id":52073436,"body_markdown":"The issue at hand is not the JRE but the SDK itself - it is a key part of Android development so if Oracle stops fixing it, I need to consider if I want to (forced to?) use it anymore.","body":"The issue at hand is not the JRE but the SDK itself - it is a key part of Android development so if Oracle stops fixing it, I need to consider if I want to (forced to?) use it anymore."},{"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":0,"creation_date":1439970647,"post_id":32085960,"comment_id":52074063,"body_markdown":"@Nestor, Google will support your use of it for Android development, Oracle have *never* supported it for anything even remotely related to Android. If you find a bug in the SDK and Oracle won&#39;t fix it (they&#39;ll hang up on you the second you mention Android), Google will have work around it.","body":"@Nestor, Google will support your use of it for Android development, Oracle have <i>never</i> supported it for anything even remotely related to Android. If you find a bug in the SDK and Oracle won&#39;t fix it (they&#39;ll hang up on you the second you mention Android), Google will have work around it."},{"owner":{"account_id":459094,"reputation":8224,"user_id":859359,"accept_rate":70,"display_name":"Nestor"},"score":0,"creation_date":1439989356,"post_id":32085960,"comment_id":52087005,"body_markdown":"Well, that is very sad. As maintainers of such huge ecosystems, they should work together in cases of bug fixing. I&#39;ll accept your reasoning, thanks for the explanation.","body":"Well, that is very sad. As maintainers of such huge ecosystems, they should work together in cases of bug fixing. I&#39;ll accept your reasoning, thanks for the explanation."}],"tags":[],"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1439954293,"creation_date":1439954293,"answer_id":32085960,"question_id":30048090,"body_markdown":"The Google Android development [page][1] and, from there, the [pre-requisites page][2] list JDK7 as a requirement.\r\n\r\nThis has nothing to do with Oracle&#39;s JRE since the code made during Android development is never meant to run on that JRE - it&#39;s supposed to be turned into Dalvik bytecode and run under Android.\r\n\r\nSo the security concerns of Oracle&#39;s JRE are not really at issue here. Google supports JDK7 (insomuch as it pertains to Android development) so *that&#39;s* what you should be using, pending a clear statement of intent from Google.\r\n\r\n  [1]: https://developer.android.com/sdk/index.html\r\n  [2]: https://developer.android.com/sdk/index.html#Requirements","title":"How does JDK 7&#39;s support termination affect Android development","body":"<p>The Google Android development <a href=\"https://developer.android.com/sdk/index.html\" rel=\"nofollow\">page</a> and, from there, the <a href=\"https://developer.android.com/sdk/index.html#Requirements\" rel=\"nofollow\">pre-requisites page</a> list JDK7 as a requirement.</p>\n\n<p>This has nothing to do with Oracle's JRE since the code made during Android development is never meant to run on that JRE - it's supposed to be turned into Dalvik bytecode and run under Android.</p>\n\n<p>So the security concerns of Oracle's JRE are not really at issue here. Google supports JDK7 (insomuch as it pertains to Android development) so <em>that's</em> what you should be using, pending a clear statement of intent from Google.</p>\n"},{"tags":[],"owner":{"account_id":1166848,"reputation":257,"user_id":1952114,"display_name":"unforgettableidSupportsMonica"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699936301,"creation_date":1441949091,"answer_id":32516046,"question_id":30048090,"body_markdown":"It looks like Google doesn&#39;t officially support the JDK 8 for Android development.  See paxdiablo&#39;s answer.\r\n\r\nBut let me add some thoughts.\r\n\r\nI wanted to try using the JDK 8 anyway.  So I downloaded and installed it, and used it (and Apache Ant) to build a simple Android app.\r\n\r\nThe app doesn&#39;t use any features which are new to Java 8, such as lambdas.  In addition, Ant passed a parameter to `javac` asking it to emit bytecode compatible with older JREs.\r\n\r\nThe app compiled fine.\r\n\r\nThe app requires that I root my phone before running it. I haven&#39;t done so yet, and haven&#39;t tested the app yet either.","title":"How does JDK 7&#39;s support termination affect Android development","body":"<p>It looks like Google doesn't officially support the JDK 8 for Android development.  See paxdiablo's answer.</p>\n<p>But let me add some thoughts.</p>\n<p>I wanted to try using the JDK 8 anyway.  So I downloaded and installed it, and used it (and Apache Ant) to build a simple Android app.</p>\n<p>The app doesn't use any features which are new to Java 8, such as lambdas.  In addition, Ant passed a parameter to <code>javac</code> asking it to emit bytecode compatible with older JREs.</p>\n<p>The app compiled fine.</p>\n<p>The app requires that I root my phone before running it. I haven't done so yet, and haven't tested the app yet either.</p>\n"}],"owner":{"account_id":459094,"reputation":8224,"user_id":859359,"accept_rate":70,"display_name":"Nestor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":32085960,"answer_count":2,"score":1,"last_activity_date":1699936301,"creation_date":1430815369,"question_id":30048090,"body_markdown":"Oracle [has announced][1] that they stop the official updates for JRE 7 and [JDK 7][2].\r\n\r\n_As much as I know_, Google doesn&#39;t say anything about JDK 8, I guess the recommended version is JDK 7 for Android development.\r\n\r\n\r\n\r\n**Is JDK 8 officially supported for Android development?**\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/eol-135779.html\r\n  [2]: https://www.stsoftware.com.au/site/ST/blog/article/jdk7-end-of-life/","title":"How does JDK 7&#39;s support termination affect Android development","body":"<p>Oracle <a href=\"http://www.oracle.com/technetwork/java/eol-135779.html\" rel=\"nofollow\">has announced</a> that they stop the official updates for JRE 7 and <a href=\"https://www.stsoftware.com.au/site/ST/blog/article/jdk7-end-of-life/\" rel=\"nofollow\">JDK 7</a>.</p>\n\n<p><em>As much as I know</em>, Google doesn't say anything about JDK 8, I guess the recommended version is JDK 7 for Android development.</p>\n\n<p><strong>Is JDK 8 officially supported for Android development?</strong></p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","aws-sdk-java"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":1,"creation_date":1699920009,"post_id":77477487,"comment_id":136589001,"body_markdown":"Did you consider S3 -&gt; fileobj (or even local disk) -&gt; Sharepoint?  (Just an idea.. I know nothing about SP.)","body":"Did you consider S3 -&gt; fileobj (or even local disk) -&gt; Sharepoint?  (Just an idea.. I know nothing about SP.)"}],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699921172,"creation_date":1699921172,"answer_id":77477538,"question_id":77477487,"body_markdown":"The general solution is to use `S3Client.getObject(objectRequest)` which is a [`ResponseInputStream&lt;GetObjectResponse&gt;`][1].  This AWS specific object is subclass of the standard `java.io.InputStream`.\r\n\r\nSo all you need to do is read that stream...\r\n 1. indirectly into a File, and then pass the file handle to your Sharepoint client\r\n 2. indirectly into an in-memory byte store (if there&#39;s enough RAM), and then pass the `byte[]` to your Sharepoint client\r\n 3. or open up an output stream on your Sharepoint client and stream from S3 to Sharepoint directly.\r\n\r\n\r\nThe actual byte moving could be assisted with a tool such as [Apache Commons IO: `IOUtils`][2]\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/ResponseInputStream.html\r\n  [2]: https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html","title":"Copy files from S3 bucket to any destination (like sharepoint) other than S3 bucket","body":"<p>The general solution is to use <code>S3Client.getObject(objectRequest)</code> which is a <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/ResponseInputStream.html\" rel=\"nofollow noreferrer\"><code>ResponseInputStream&lt;GetObjectResponse&gt;</code></a>.  This AWS specific object is subclass of the standard <code>java.io.InputStream</code>.</p>\n<p>So all you need to do is read that stream...</p>\n<ol>\n<li>indirectly into a File, and then pass the file handle to your Sharepoint client</li>\n<li>indirectly into an in-memory byte store (if there's enough RAM), and then pass the <code>byte[]</code> to your Sharepoint client</li>\n<li>or open up an output stream on your Sharepoint client and stream from S3 to Sharepoint directly.</li>\n</ol>\n<p>The actual byte moving could be assisted with a tool such as <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html\" rel=\"nofollow noreferrer\">Apache Commons IO: <code>IOUtils</code></a></p>\n"}],"owner":{"account_id":4051239,"reputation":906,"user_id":3330733,"accept_rate":38,"display_name":"Megan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77477538,"answer_count":1,"score":0,"last_activity_date":1699936198,"creation_date":1699919712,"question_id":77477487,"body_markdown":"Under AWS JAVA SDK, I can see AmazonS3.java, TransferManager.java for copying/transferring files between two S3 buckets.  I want to know what can be used when the destination is NOT a S3 bucket. \r\nI have a requirement where I need to transfer from S3 bucket to SharePoint but under AWS Java SDK I can&#39;t find any utility to copy/move files from S3 bucket  to any destination other than another bucket. Please help.","title":"Copy files from S3 bucket to any destination (like sharepoint) other than S3 bucket","body":"<p>Under AWS JAVA SDK, I can see AmazonS3.java, TransferManager.java for copying/transferring files between two S3 buckets.  I want to know what can be used when the destination is NOT a S3 bucket.\nI have a requirement where I need to transfer from S3 bucket to SharePoint but under AWS Java SDK I can't find any utility to copy/move files from S3 bucket  to any destination other than another bucket. Please help.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":3,"creation_date":1699931217,"post_id":77477919,"comment_id":136589913,"body_markdown":"May I suggest editing the question to show a [complete but minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) ?","body":"May I suggest editing the question to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">complete but minimal reproducible example</a> ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699931325,"post_id":77477919,"comment_id":136589926,"body_markdown":"Off-topic: You can print an entire array using the [`Arrays.toString` methods](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#toString(int%5B%5D)). That links to the API method taking an `int`, but it is overloaded for other types.","body":"Off-topic: You can print an entire array using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#toString(int%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.toString</code> methods</a>. That links to the API method taking an <code>int</code>, but it is overloaded for other types."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699932142,"post_id":77477919,"comment_id":136590007,"body_markdown":"This question might or might not have answers here https://stackoverflow.com/questions/12757841/are-arrays-passed-by-value-or-passed-by-reference-in-java or here https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","body":"This question might or might not have answers here <a href=\"https://stackoverflow.com/questions/12757841/are-arrays-passed-by-value-or-passed-by-reference-in-java\" title=\"are arrays passed by value or passed by reference in java\">stackoverflow.com/questions/12757841/&hellip;</a> or here <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699932369,"post_id":77477919,"comment_id":136590016,"body_markdown":"By chance, does the `MySort#sortIt (int [] array, int sortType)` method manipulate the contents of the `array` parameter, whatever the actual name is in your source code?  Even though `array` is the name of a local variable within the method, it is a reference type. If this method changes the values in the elements, the change will be made to the  actual array in the calling program.","body":"By chance, does the <code>MySort#sortIt (int [] array, int sortType)</code> method manipulate the contents of the <code>array</code> parameter, whatever the actual name is in your source code?  Even though <code>array</code> is the name of a local variable within the method, it is a reference type. If this method changes the values in the elements, the change will be made to the  actual array in the calling program."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1699934349,"post_id":77477919,"comment_id":136590158,"body_markdown":"I sure hope your Sorting class creates a copy of the input array instead of operating on it directly","body":"I sure hope your Sorting class creates a copy of the input array instead of operating on it directly"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1699934408,"post_id":77477919,"comment_id":136590161,"body_markdown":"see also Java pass-by-value or pass-by-reference https://stackoverflow.com/q/40480/16034206","body":"see also Java pass-by-value or pass-by-reference <a href=\"https://stackoverflow.com/q/40480/16034206\">stackoverflow.com/q/40480/16034206</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1699935824,"post_id":77477919,"comment_id":136590255,"body_markdown":"I think you need to post the code of class `Sorting`.","body":"I think you need to post the code of class <code>Sorting</code>."},{"owner":{"account_id":14792330,"reputation":3,"user_id":22911272,"display_name":"hipposaver"},"score":0,"creation_date":1699967344,"post_id":77477919,"comment_id":136594741,"body_markdown":"Thanks for the answers. Dno how to quote here but the link to pass by Val vs by reference with complex data structures really nailed it home.  Good to know this is a java thing not something I&#39;m fundamentally doing wrong. Edit: I&#39;d post more complete code but the question was pretty well answered now, thanks!","body":"Thanks for the answers. Dno how to quote here but the link to pass by Val vs by reference with complex data structures really nailed it home.  Good to know this is a java thing not something I&#39;m fundamentally doing wrong. Edit: I&#39;d post more complete code but the question was pretty well answered now, thanks!"}],"answers":[{"comments":[{"owner":{"account_id":14792330,"reputation":3,"user_id":22911272,"display_name":"hipposaver"},"score":0,"creation_date":1699936289,"post_id":77478170,"comment_id":136590296,"body_markdown":"thank you for the run down, makes sense! :) right now i was using Array.copyOf before calling SortIt(arr). is this how you would normally deal with passing arrays thru methods?","body":"thank you for the run down, makes sense! :) right now i was using Array.copyOf before calling SortIt(arr). is this how you would normally deal with passing arrays thru methods?"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699935404,"creation_date":1699935404,"answer_id":77478170,"question_id":77477919,"body_markdown":"Your sorting code modifies (i.e. ruins) the input.\r\n\r\nJava is pass-by-value (i.e., a copy is passed whenever you pass a value to a method), but, everything is a reference. When you write:\r\n\r\n```\r\nint[] arr = new int[10];\r\n```\r\n\r\nThe `new int[10]` is akin to &#39;build a house&#39;, but `int[] arr` isn&#39;t a house - no, that&#39;s just a page in an address book. `=` doesn&#39;t mean &#39;arr is now a house&#39;, no, `=` means: write the address of the thing on the right onto the address book page on the left.\r\n\r\nSo, when you call `SortIt(arr)`, java duly makes a __copy__, but it&#39;s copying the address book page. Not the entire house.\r\n\r\nYour sort method then follows the copy it got, tosses a brick through the window and speeds off, the little delinquent. Your main method then later goes and follows its address book page to.. the same house, and notices it has been vandalized.\r\n\r\nYou have 4 options to fix this:\r\n\r\n1. Have your main code make a copy, and hand the copy to your sort method. A copy can be made with `Arrays.copyOf(arr)`.\r\n2. Have your sorting method make a copy of whatever error it receives.\r\n3. Having your sorting method do its job without modifying the input. That&#39;s.. pretty much going to boil down to option 2, unless the input is already sorted.\r\n4. Write your main code so that it no longer matters that the method you pass the array to modifies it.\r\n","title":"array staying sorted after first pass not sure why","body":"<p>Your sorting code modifies (i.e. ruins) the input.</p>\n<p>Java is pass-by-value (i.e., a copy is passed whenever you pass a value to a method), but, everything is a reference. When you write:</p>\n<pre><code>int[] arr = new int[10];\n</code></pre>\n<p>The <code>new int[10]</code> is akin to 'build a house', but <code>int[] arr</code> isn't a house - no, that's just a page in an address book. <code>=</code> doesn't mean 'arr is now a house', no, <code>=</code> means: write the address of the thing on the right onto the address book page on the left.</p>\n<p>So, when you call <code>SortIt(arr)</code>, java duly makes a <strong>copy</strong>, but it's copying the address book page. Not the entire house.</p>\n<p>Your sort method then follows the copy it got, tosses a brick through the window and speeds off, the little delinquent. Your main method then later goes and follows its address book page to.. the same house, and notices it has been vandalized.</p>\n<p>You have 4 options to fix this:</p>\n<ol>\n<li>Have your main code make a copy, and hand the copy to your sort method. A copy can be made with <code>Arrays.copyOf(arr)</code>.</li>\n<li>Have your sorting method make a copy of whatever error it receives.</li>\n<li>Having your sorting method do its job without modifying the input. That's.. pretty much going to boil down to option 2, unless the input is already sorted.</li>\n<li>Write your main code so that it no longer matters that the method you pass the array to modifies it.</li>\n</ol>\n"}],"owner":{"account_id":14792330,"reputation":3,"user_id":22911272,"display_name":"hipposaver"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699935835,"accepted_answer_id":77478170,"answer_count":1,"score":0,"last_activity_date":1699935801,"creation_date":1699930025,"question_id":77477919,"body_markdown":"As you can tell by my title I wasn&#39;t quite sure how to word this. I&#39;m just getting back into some coding and doing basic practice. I thought starting back with sorting algorithms would be great. I&#39;m trying to load a file, then sort it. I have 3 algorithms coded so far. Hopefully I post enough to give you guys an idea of the problem.\r\n\r\nMy sorting class is changing my array even though I&#39;m trying to update a different array.\r\n\r\nI start by loading my array from a file with a function I made called `ReadFileToArray` &amp;ndash; which works fine.\r\n\r\n```java\r\nint[] arr;\r\nint[] sortedArray;\r\nString fp = &quot;C:/Users/test.txt&quot;;\r\narr = ReadFileToArray(fp);\r\n```\r\nI then using my sorting class to sort the array:\r\n```java\r\nSorting mySorting = new Sorting();\r\nint SelectionSort = 1\r\nSystem.out.println(&quot;\\r\\nSorting using selection sort:&quot;);\r\nsortedArray = mySorting.SortIt(arr, SelectionSort);\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\nSystem.out.println(sortedArray[i]);\r\n}\r\n```\r\nThis works and sorts fine for the 3 sorting types if have.\r\n\r\nThe problem though, is if I do another pass for sorting now `arr` is sorted even though it should still maintain the unsorted list (or at least I thought that because I&#39;m updating `sortedArray` with the function, not `arr` itself).\r\n\r\nFor testing purposes, if I do:\r\n```java\r\nSorting mySorting = new Sorting();\r\nint SelectionSort = 1\r\nSystem.out.println(&quot;\\r\\nSorting using selection sort:&quot;);\r\nsortedArray = mySorting.SortIt(arr, SelectionSort);\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\nSystem.out.println(sortedArray[i]);\r\n}\r\n\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\nSystem.out.println(arr[i]);\r\n}\r\n```\r\n`arr` now prints sorted as well.\r\n\r\nI don&#39;t purposely use any pointers or memory stuff so I can&#39;t remember why this happens and I can&#39;t remember what to Google. I&#39;ve found I can copy the array to an unsorted array first then just copy it back each time I want to test a sorting algorithm but I was hoping someone could just point me in the right direction for what causes this again.\r\n\r\nThanks!\r\n\r\n[Edited to remove file path info.]\r\n","title":"array staying sorted after first pass not sure why","body":"<p>As you can tell by my title I wasn't quite sure how to word this. I'm just getting back into some coding and doing basic practice. I thought starting back with sorting algorithms would be great. I'm trying to load a file, then sort it. I have 3 algorithms coded so far. Hopefully I post enough to give you guys an idea of the problem.</p>\n<p>My sorting class is changing my array even though I'm trying to update a different array.</p>\n<p>I start by loading my array from a file with a function I made called <code>ReadFileToArray</code> – which works fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] arr;\nint[] sortedArray;\nString fp = &quot;C:/Users/test.txt&quot;;\narr = ReadFileToArray(fp);\n</code></pre>\n<p>I then using my sorting class to sort the array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Sorting mySorting = new Sorting();\nint SelectionSort = 1\nSystem.out.println(&quot;\\r\\nSorting using selection sort:&quot;);\nsortedArray = mySorting.SortIt(arr, SelectionSort);\nfor (int i = 0; i &lt; arr.length; i++) {\nSystem.out.println(sortedArray[i]);\n}\n</code></pre>\n<p>This works and sorts fine for the 3 sorting types if have.</p>\n<p>The problem though, is if I do another pass for sorting now <code>arr</code> is sorted even though it should still maintain the unsorted list (or at least I thought that because I'm updating <code>sortedArray</code> with the function, not <code>arr</code> itself).</p>\n<p>For testing purposes, if I do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Sorting mySorting = new Sorting();\nint SelectionSort = 1\nSystem.out.println(&quot;\\r\\nSorting using selection sort:&quot;);\nsortedArray = mySorting.SortIt(arr, SelectionSort);\nfor (int i = 0; i &lt; arr.length; i++) {\nSystem.out.println(sortedArray[i]);\n}\n\nfor (int i = 0; i &lt; arr.length; i++) {\nSystem.out.println(arr[i]);\n}\n</code></pre>\n<p><code>arr</code> now prints sorted as well.</p>\n<p>I don't purposely use any pointers or memory stuff so I can't remember why this happens and I can't remember what to Google. I've found I can copy the array to an unsorted array first then just copy it back each time I want to test a sorting algorithm but I was hoping someone could just point me in the right direction for what causes this again.</p>\n<p>Thanks!</p>\n<p>[Edited to remove file path info.]</p>\n"},{"tags":["java","android","google-drive-api","pydrive","chaquopy"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699859209,"post_id":77471472,"comment_id":136579118,"body_markdown":"So your Android app runs on your Android device and you want to upload a file to Google Drive. This drive is on the internet. In this context i donr understand why you talk about `http://localhost:8080/`. Or why you mention your pc.","body":"So your Android app runs on your Android device and you want to upload a file to Google Drive. This drive is on the internet. In this context i donr understand why you talk about <code>http:&#47;&#47;localhost:8080&#47;</code>. Or why you mention your pc."},{"owner":{"account_id":4459509,"reputation":21,"user_id":3628821,"display_name":"pips"},"score":0,"creation_date":1699883034,"post_id":77471472,"comment_id":136583005,"body_markdown":"I mentioned the pc just to say that I already tested the python script and it works. The `http://localhost:8080/` is the address PyDrive documentation recommends to put when creating the credentials.","body":"I mentioned the pc just to say that I already tested the python script and it works. The <code>http:&#47;&#47;localhost:8080&#47;</code> is the address PyDrive documentation recommends to put when creating the credentials."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699887317,"post_id":77471472,"comment_id":136583832,"body_markdown":"It still is unclear to me.  Is your Android app using `http://localhost:8080/` somewhere? As localhost would be the Android device itself. Not your pc.","body":"It still is unclear to me.  Is your Android app using <code>http:&#47;&#47;localhost:8080&#47;</code> somewhere? As localhost would be the Android device itself. Not your pc."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699887417,"post_id":77471472,"comment_id":136583851,"body_markdown":"`&quot;Failed to start a local web server&quot;` Unclear too. What kind of webserver? And where would it run locally? On your Android device or on your PC?","body":"<code>&quot;Failed to start a local web server&quot;</code> Unclear too. What kind of webserver? And where would it run locally? On your Android device or on your PC?"},{"owner":{"account_id":4459509,"reputation":21,"user_id":3628821,"display_name":"pips"},"score":0,"creation_date":1699891179,"post_id":77471472,"comment_id":136584671,"body_markdown":"I think the pc part made it more confusing, we can forget about it, the app runs by itself without the need to connect to a pc. The address `http://localhost:8080/` comes from the configuration of google cloud project, I put it in [google cloud](https://console.cloud.google.com/) &gt; APIs &amp; Services &gt; Credentials &gt; OAuth 2.0 Client IDs &gt; Web Client &gt; Authorized redirect URIs. This is what PyDrive documentation tells to do.","body":"I think the pc part made it more confusing, we can forget about it, the app runs by itself without the need to connect to a pc. The address <code>http:&#47;&#47;localhost:8080&#47;</code> comes from the configuration of google cloud project, I put it in <a href=\"https://console.cloud.google.com/\" rel=\"nofollow noreferrer\">google cloud</a> &gt; APIs &amp; Services &gt; Credentials &gt; OAuth 2.0 Client IDs &gt; Web Client &gt; Authorized redirect URIs. This is what PyDrive documentation tells to do."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699892368,"post_id":77471472,"comment_id":136584931,"body_markdown":"I asked if your Android app uses that url. You did not answer that with yes or no. And is there a web server running on your Android device?","body":"I asked if your Android app uses that url. You did not answer that with yes or no. And is there a web server running on your Android device?"},{"owner":{"account_id":4459509,"reputation":21,"user_id":3628821,"display_name":"pips"},"score":0,"creation_date":1699895483,"post_id":77471472,"comment_id":136585544,"body_markdown":"YES and YES. As far as I know it does use the url when calling `gauth.LocalWebserverAuth()` and it runs a web server.","body":"YES and YES. As far as I know it does use the url when calling <code>gauth.LocalWebserverAuth()</code> and it runs a web server."}],"answers":[{"comments":[{"owner":{"account_id":4459509,"reputation":21,"user_id":3628821,"display_name":"pips"},"score":0,"creation_date":1699935178,"post_id":77476851,"comment_id":136590216,"body_markdown":"Thanks @mhsmith! I&#39;ve ended up using another solution: a python script reaching google drive by a service account.","body":"Thanks @mhsmith! I&#39;ve ended up using another solution: a python script reaching google drive by a service account."}],"tags":[],"owner":{"account_id":77317,"reputation":7321,"user_id":220765,"display_name":"mhsmith"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699909237,"creation_date":1699909237,"answer_id":77476851,"question_id":77471472,"body_markdown":"Make sure your app has the [INTERNET permission](https://stackoverflow.com/q/2378607).\r\n\r\nIf that isn&#39;t it, the port 8080 may already be used by something else, so try some different values.","title":"&quot;Failed to start a local web server&quot; while trying to stablish connection with Google Drive using PyDrive with Chaquopy plugin in an android app","body":"<p>Make sure your app has the <a href=\"https://stackoverflow.com/q/2378607\">INTERNET permission</a>.</p>\n<p>If that isn't it, the port 8080 may already be used by something else, so try some different values.</p>\n"},{"tags":[],"owner":{"account_id":4459509,"reputation":21,"user_id":3628821,"display_name":"pips"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699935538,"creation_date":1699935538,"answer_id":77478175,"question_id":77471472,"body_markdown":"I&#39;m using another solution. I upload the file through a service account plus a shared folder in google drive. This [video](https://www.youtube.com/watch?v=tamT_iGoZDQ) helped. I still run the python script with Chaquopy.","title":"&quot;Failed to start a local web server&quot; while trying to stablish connection with Google Drive using PyDrive with Chaquopy plugin in an android app","body":"<p>I'm using another solution. I upload the file through a service account plus a shared folder in google drive. This <a href=\"https://www.youtube.com/watch?v=tamT_iGoZDQ\" rel=\"nofollow noreferrer\">video</a> helped. I still run the python script with Chaquopy.</p>\n"}],"owner":{"account_id":4459509,"reputation":21,"user_id":3628821,"display_name":"pips"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77478175,"answer_count":2,"score":1,"last_activity_date":1699935538,"creation_date":1699842517,"question_id":77471472,"body_markdown":"I am trying to upload a file from a moblie phone to Google Drive, inside my android app. Basically Chaquopy is a plugin that enables me to run python scripts inside an android application and I use it to take advantage from PyDrive library and upload the file I want. But before that, I am just trying to stablish a connection with Google Drive but it refuses to retrieve the code from authorized redirect URI http://localhost:8080/ (that is how I configured my web application`s credential on google cloud project). I&#39;ve already tried to transfer a file from pc to google drive with this project (and method) and it worked fine.\r\n\r\nI&#39;ve also tried to break `gauth.LocalWebserverAuth()` in steps as suggested in [PyDrive documentation](https://pythonhosted.org/PyDrive/oauth.html#building-your-own-authentication-flow) but get no code at the end of authentication (can&#39;t connect to localhost).\r\n\r\nI would like to use this method to upload the file, but other methods may be considered too.\r\n\r\nmy build.gradle (app level)\r\n\r\n```\r\ndefaultConfig {\r\n        applicationId &quot;com.example.epshape&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        ndk {\r\n            abiFilters &quot;armeabi-v7a&quot;, &quot;arm64-v8a&quot;, &quot;x86&quot;, &quot;x86_64&quot;\r\n        }\r\n        python {\r\n            buildPython &quot;C:/Users/Administrator/AppData/Local/Programs/Python/Python38/python.exe&quot;\r\n            version &quot;3.8&quot;\r\n            pip {\r\n                install &quot;pydrive&quot;\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nmy python script:\r\n\r\n```\r\nfrom pydrive.auth import GoogleAuth\r\nimport os\r\n\r\n\r\ndef upload_dataset():\r\n    GoogleAuth.DEFAULT_SETTINGS[&#39;client_config_file&#39;] = os.environ[&#39;HOME&#39;]+&#39;/client_secrets.json&#39;\r\n    gauth = GoogleAuth()\r\n    gauth.LocalWebserverAuth()\r\n```\r\n\r\npython script call from java activity class:\r\n\r\n```\r\npublic void onClickUploadDataset(View view) {\r\n        Python py = Python.getInstance();\r\n        PyObject module = py.getModule(&quot;upload_dataset&quot;);\r\n        module.callAttr(&quot;upload_dataset&quot;);\r\n    }\r\n```\r\n\r\nerror:\r\n\r\n```\r\n2023-11-12 23:05:37.636 32523-32523 python.stdout           com.example.epshape                  I  Failed to start a local web server. Please check your firewall\r\n2023-11-12 23:05:37.636 32523-32523 python.stdout           com.example.epshape                  I  settings and locally running programs that may be blocking or\r\n2023-11-12 23:05:37.636 32523-32523 python.stdout           com.example.epshape                  I  using configured ports. Default ports are 8080 and 8090.\r\n2023-11-12 23:05:37.648 32523-32523 AndroidRuntime          com.example.epshape                  D  Shutting down VM\r\n2023-11-12 23:05:37.650 32523-32523 AndroidRuntime          com.example.epshape                  E  FATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.epshape, PID: 32523\r\n                                                                                                    java.lang.IllegalStateException: Could not execute method for android:onClick\r\n                                                                                                    \tat androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:473)\r\n                                                                                                    \tat android.view.View.performClick(View.java:8160)\r\n                                                                                                    \tat android.widget.TextView.performClick(TextView.java:16222)\r\n                                                                                                    \tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1213)\r\n                                                                                                    \tat android.view.View.performClickInternal(View.java:8137)\r\n                                                                                                    \tat android.view.View.access$3700(View.java:888)\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:30236)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:938)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:246)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8506)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n                                                                                                    Caused by: java.lang.reflect.InvocationTargetException\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)\r\n                                                                                                    \tat android.view.View.performClick(View.java:8160)&#160;\r\n                                                                                                    \tat android.widget.TextView.performClick(TextView.java:16222)&#160;\r\n                                                                                                    \tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1213)&#160;\r\n                                                                                                    \tat android.view.View.performClickInternal(View.java:8137)&#160;\r\n                                                                                                    \tat android.view.View.access$3700(View.java:888)&#160;\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:30236)&#160;\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:938)&#160;\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:246)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8506)&#160;\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)&#160;\r\n                                                                                                    Caused by: com.chaquo.python.PyException: AuthenticationError: \r\n                                                                                                    \tat &lt;python&gt;.pydrive.auth.LocalWebserverAuth(auth.py:224)\r\n                                                                                                    \tat &lt;python&gt;.pydrive.auth._decorated(auth.py:115)\r\n                                                                                                    \tat &lt;python&gt;.upload_dataset.upload_dataset(upload_dataset.py:8)\r\n                                                                                                    \tat &lt;python&gt;.chaquopy_java.call(chaquopy_java.pyx:354)\r\n                                                                                                    \tat &lt;python&gt;.chaquopy_java.Java_com_chaquo_python_PyObject_callAttrThrowsNative(chaquopy_java.pyx:326)\r\n                                                                                                    \tat com.chaquo.python.PyObject.callAttrThrowsNative(Native Method)\r\n                                                                                                    \tat com.chaquo.python.PyObject.callAttrThrows(PyObject.java:232)\r\n                                                                                                    \tat com.chaquo.python.PyObject.callAttr(PyObject.java:221)\r\n                                                                                                    \tat com.example.epshape.MainActivity.onClickUploadDataset(MainActivity.java:70)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)&#160;\r\n                                                                                                    \tat android.view.View.performClick(View.java:8160)&#160;\r\n                                                                                                    \tat android.widget.TextView.performClick(TextView.java:16222)&#160;\r\n                                                                                                    \tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1213)&#160;\r\n                                                                                                    \tat android.view.View.performClickInternal(View.java:8137)&#160;\r\n                                                                                                    \tat android.view.View.access$3700(View.java:888)&#160;\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:30236)&#160;\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:938)&#160;\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:246)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8506)&#160;\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)&#160;\r\n```\r\n\r\nThanks in advance!","title":"&quot;Failed to start a local web server&quot; while trying to stablish connection with Google Drive using PyDrive with Chaquopy plugin in an android app","body":"<p>I am trying to upload a file from a moblie phone to Google Drive, inside my android app. Basically Chaquopy is a plugin that enables me to run python scripts inside an android application and I use it to take advantage from PyDrive library and upload the file I want. But before that, I am just trying to stablish a connection with Google Drive but it refuses to retrieve the code from authorized redirect URI http://localhost:8080/ (that is how I configured my web application`s credential on google cloud project). I've already tried to transfer a file from pc to google drive with this project (and method) and it worked fine.</p>\n<p>I've also tried to break <code>gauth.LocalWebserverAuth()</code> in steps as suggested in <a href=\"https://pythonhosted.org/PyDrive/oauth.html#building-your-own-authentication-flow\" rel=\"nofollow noreferrer\">PyDrive documentation</a> but get no code at the end of authentication (can't connect to localhost).</p>\n<p>I would like to use this method to upload the file, but other methods may be considered too.</p>\n<p>my build.gradle (app level)</p>\n<pre><code>defaultConfig {\n        applicationId &quot;com.example.epshape&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n        ndk {\n            abiFilters &quot;armeabi-v7a&quot;, &quot;arm64-v8a&quot;, &quot;x86&quot;, &quot;x86_64&quot;\n        }\n        python {\n            buildPython &quot;C:/Users/Administrator/AppData/Local/Programs/Python/Python38/python.exe&quot;\n            version &quot;3.8&quot;\n            pip {\n                install &quot;pydrive&quot;\n            }\n        }\n    }\n</code></pre>\n<p>my python script:</p>\n<pre><code>from pydrive.auth import GoogleAuth\nimport os\n\n\ndef upload_dataset():\n    GoogleAuth.DEFAULT_SETTINGS['client_config_file'] = os.environ['HOME']+'/client_secrets.json'\n    gauth = GoogleAuth()\n    gauth.LocalWebserverAuth()\n</code></pre>\n<p>python script call from java activity class:</p>\n<pre><code>public void onClickUploadDataset(View view) {\n        Python py = Python.getInstance();\n        PyObject module = py.getModule(&quot;upload_dataset&quot;);\n        module.callAttr(&quot;upload_dataset&quot;);\n    }\n</code></pre>\n<p>error:</p>\n<pre><code>2023-11-12 23:05:37.636 32523-32523 python.stdout           com.example.epshape                  I  Failed to start a local web server. Please check your firewall\n2023-11-12 23:05:37.636 32523-32523 python.stdout           com.example.epshape                  I  settings and locally running programs that may be blocking or\n2023-11-12 23:05:37.636 32523-32523 python.stdout           com.example.epshape                  I  using configured ports. Default ports are 8080 and 8090.\n2023-11-12 23:05:37.648 32523-32523 AndroidRuntime          com.example.epshape                  D  Shutting down VM\n2023-11-12 23:05:37.650 32523-32523 AndroidRuntime          com.example.epshape                  E  FATAL EXCEPTION: main\n                                                                                                    Process: com.example.epshape, PID: 32523\n                                                                                                    java.lang.IllegalStateException: Could not execute method for android:onClick\n                                                                                                        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:473)\n                                                                                                        at android.view.View.performClick(View.java:8160)\n                                                                                                        at android.widget.TextView.performClick(TextView.java:16222)\n                                                                                                        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1213)\n                                                                                                        at android.view.View.performClickInternal(View.java:8137)\n                                                                                                        at android.view.View.access$3700(View.java:888)\n                                                                                                        at android.view.View$PerformClick.run(View.java:30236)\n                                                                                                        at android.os.Handler.handleCallback(Handler.java:938)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                                        at android.os.Looper.loop(Looper.java:246)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8506)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n                                                                                                    Caused by: java.lang.reflect.InvocationTargetException\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)\n                                                                                                        at android.view.View.performClick(View.java:8160) \n                                                                                                        at android.widget.TextView.performClick(TextView.java:16222) \n                                                                                                        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1213) \n                                                                                                        at android.view.View.performClickInternal(View.java:8137) \n                                                                                                        at android.view.View.access$3700(View.java:888) \n                                                                                                        at android.view.View$PerformClick.run(View.java:30236) \n                                                                                                        at android.os.Handler.handleCallback(Handler.java:938) \n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99) \n                                                                                                        at android.os.Looper.loop(Looper.java:246) \n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8506) \n                                                                                                        at java.lang.reflect.Method.invoke(Native Method) \n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602) \n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130) \n                                                                                                    Caused by: com.chaquo.python.PyException: AuthenticationError: \n                                                                                                        at &lt;python&gt;.pydrive.auth.LocalWebserverAuth(auth.py:224)\n                                                                                                        at &lt;python&gt;.pydrive.auth._decorated(auth.py:115)\n                                                                                                        at &lt;python&gt;.upload_dataset.upload_dataset(upload_dataset.py:8)\n                                                                                                        at &lt;python&gt;.chaquopy_java.call(chaquopy_java.pyx:354)\n                                                                                                        at &lt;python&gt;.chaquopy_java.Java_com_chaquo_python_PyObject_callAttrThrowsNative(chaquopy_java.pyx:326)\n                                                                                                        at com.chaquo.python.PyObject.callAttrThrowsNative(Native Method)\n                                                                                                        at com.chaquo.python.PyObject.callAttrThrows(PyObject.java:232)\n                                                                                                        at com.chaquo.python.PyObject.callAttr(PyObject.java:221)\n                                                                                                        at com.example.epshape.MainActivity.onClickUploadDataset(MainActivity.java:70)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method) \n                                                                                                        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468) \n                                                                                                        at android.view.View.performClick(View.java:8160) \n                                                                                                        at android.widget.TextView.performClick(TextView.java:16222) \n                                                                                                        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1213) \n                                                                                                        at android.view.View.performClickInternal(View.java:8137) \n                                                                                                        at android.view.View.access$3700(View.java:888) \n                                                                                                        at android.view.View$PerformClick.run(View.java:30236) \n                                                                                                        at android.os.Handler.handleCallback(Handler.java:938) \n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99) \n                                                                                                        at android.os.Looper.loop(Looper.java:246) \n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8506) \n                                                                                                        at java.lang.reflect.Method.invoke(Native Method) \n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602) \n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130) \n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":112197,"reputation":2812,"user_id":296055,"display_name":"Rob Heiser"},"score":0,"creation_date":1269626042,"post_id":2525042,"comment_id":2523461,"body_markdown":"Where is the class JacksonUtils coming from? I don&#39;t see it in any of the Jackson releases.","body":"Where is the class JacksonUtils coming from? I don&#39;t see it in any of the Jackson releases."},{"owner":{"account_id":13131,"reputation":13791,"user_id":26192,"accept_rate":88,"display_name":"adamJLev"},"score":0,"creation_date":1269626364,"post_id":2525042,"comment_id":2523508,"body_markdown":"It&#39;s our wrapper for Jackson, handles some of the JsonFactory and ObjectMapper stuff that you have to do.","body":"It&#39;s our wrapper for Jackson, handles some of the JsonFactory and ObjectMapper stuff that you have to do."},{"owner":{"account_id":112197,"reputation":2812,"user_id":296055,"display_name":"Rob Heiser"},"score":1,"creation_date":1269626666,"post_id":2525042,"comment_id":2523563,"body_markdown":"So, the problem is that JacksonUtils.fromJSON() isn&#39;t declared to return Map&lt;String, String&gt;, but just Map.","body":"So, the problem is that JacksonUtils.fromJSON() isn&#39;t declared to return Map&lt;String, String&gt;, but just Map."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":8,"creation_date":1269627607,"post_id":2525042,"comment_id":2523708,"body_markdown":"Btw, don&#39;t assign new HashMap there on first line: that gets ignored. Just assing the call.","body":"Btw, don&#39;t assign new HashMap there on first line: that gets ignored. Just assing the call."},{"owner":{"account_id":29963,"reputation":1740,"user_id":81360,"accept_rate":43,"display_name":"Jukka Dahlbom"},"score":0,"creation_date":1355747170,"post_id":2525042,"comment_id":19177428,"body_markdown":"The title has nothing to do with your described problem, which has to do with untyped collection. The answer below is the correct answer to what you really tried to ask.","body":"The title has nothing to do with your described problem, which has to do with untyped collection. The answer below is the correct answer to what you really tried to ask."}],"answers":[{"comments":[{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":2,"creation_date":1351634555,"post_id":2525152,"comment_id":17885586,"body_markdown":"@Suraj, it&#39;s as per the documentation, and I agree I would not have been able to deduce the formulation from first principles. It&#39;s not so much weird as showing that Java is more complex than we might think.","body":"@Suraj, it&#39;s as per the documentation, and I agree I would not have been able to deduce the formulation from first principles. It&#39;s not so much weird as showing that Java is more complex than we might think."},{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":1,"creation_date":1366062788,"post_id":2525152,"comment_id":22859325,"body_markdown":"Krige: I thought the hard bit was getting the mapper going, but I&#39;ve added the note on how to apply the technique to a string","body":"Krige: I thought the hard bit was getting the mapper going, but I&#39;ve added the note on how to apply the technique to a string"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":2,"creation_date":1444156302,"post_id":2525152,"comment_id":53779336,"body_markdown":"One minor comment: the first line of creating `JsonFactory` is not needed. `ObjectMapper` can create it automatically on its own.","body":"One minor comment: the first line of creating <code>JsonFactory</code> is not needed. <code>ObjectMapper</code> can create it automatically on its own."},{"owner":{"account_id":285969,"reputation":12256,"user_id":584947,"accept_rate":92,"display_name":"fIwJlxSzApHEZIl"},"score":2,"creation_date":1499726658,"post_id":2525152,"comment_id":77019806,"body_markdown":"@djna the poster asked for `Map&lt;String, String&gt;` and you&#39;ve provided `Map&lt;String, Object&gt;`.","body":"@djna the poster asked for <code>Map&lt;String, String&gt;</code> and you&#39;ve provided <code>Map&lt;String, Object&gt;</code>."},{"owner":{"account_id":405199,"reputation":2814,"user_id":773953,"accept_rate":86,"display_name":"Zaheer"},"score":0,"creation_date":1512682284,"post_id":2525152,"comment_id":82368349,"body_markdown":"To write the Map as a string you can do `mapper.writeValueAsString(hashmap)`","body":"To write the Map as a string you can do <code>mapper.writeValueAsString(hashmap)</code>"}],"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"comment_count":5,"down_vote_count":1,"up_vote_count":420,"is_accepted":true,"score":419,"last_activity_date":1699934628,"creation_date":1269623081,"answer_id":2525152,"question_id":2525042,"body_markdown":"*[Update Sept 2020] Although my original answer here, from many years ago, seems to be helpful and is still getting upvotes, I now use the GSON library from Google, which I find to be more intuitive.*\r\n\r\nI&#39;ve got the following code:\r\n\r\n    public void testJackson() throws IOException {  \r\n        ObjectMapper mapper = new ObjectMapper(); \r\n        File from = new File(&quot;albumnList.txt&quot;); \r\n        TypeReference&lt;HashMap&lt;String,Object&gt;&gt; typeRef \r\n                = new TypeReference&lt;HashMap&lt;String,Object&gt;&gt;() {};\r\n\r\n        HashMap&lt;String,Object&gt; o = mapper.readValue(from, typeRef); \r\n        System.out.println(&quot;Got &quot; + o); \r\n    }   \r\n\r\nIt&#39;s reading from a file, but `mapper.readValue()` will also accept an `InputStream` and you can obtain an `InputStream` from a string by using the following:\r\n\r\n    new ByteArrayInputStream(astring.getBytes(&quot;UTF-8&quot;)); \r\n\r\nThere&#39;s a bit more explanation about the mapper on [my blog][1].\r\n\r\n\r\n  [1]: https://djna.wordpress.com/2010/03/12/json-strings-no-rest-using-the-jackson-parser/","title":"How to convert a JSON string to a Map&lt;String, String&gt; with Jackson JSON","body":"<p><em>[Update Sept 2020] Although my original answer here, from many years ago, seems to be helpful and is still getting upvotes, I now use the GSON library from Google, which I find to be more intuitive.</em></p>\n<p>I've got the following code:</p>\n<pre><code>public void testJackson() throws IOException {  \n    ObjectMapper mapper = new ObjectMapper(); \n    File from = new File(&quot;albumnList.txt&quot;); \n    TypeReference&lt;HashMap&lt;String,Object&gt;&gt; typeRef \n            = new TypeReference&lt;HashMap&lt;String,Object&gt;&gt;() {};\n\n    HashMap&lt;String,Object&gt; o = mapper.readValue(from, typeRef); \n    System.out.println(&quot;Got &quot; + o); \n}   \n</code></pre>\n<p>It's reading from a file, but <code>mapper.readValue()</code> will also accept an <code>InputStream</code> and you can obtain an <code>InputStream</code> from a string by using the following:</p>\n<pre><code>new ByteArrayInputStream(astring.getBytes(&quot;UTF-8&quot;)); \n</code></pre>\n<p>There's a bit more explanation about the mapper on <a href=\"https://djna.wordpress.com/2010/03/12/json-strings-no-rest-using-the-jackson-parser/\" rel=\"nofollow noreferrer\">my blog</a>.</p>\n"},{"comments":[{"owner":{"account_id":285969,"reputation":12256,"user_id":584947,"accept_rate":92,"display_name":"fIwJlxSzApHEZIl"},"score":2,"creation_date":1499726759,"post_id":2525729,"comment_id":77019839,"body_markdown":"OP asked for `Map&lt;String, String&gt;` and you&#39;ve provided `Map&lt;String, Object&gt;`.","body":"OP asked for <code>Map&lt;String, String&gt;</code> and you&#39;ve provided <code>Map&lt;String, Object&gt;</code>."}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":1,"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1269670629,"creation_date":1269627888,"answer_id":2525729,"question_id":2525042,"body_markdown":"Warning you get is done by compiler, not by library (or utility method).\r\n\r\nSimplest way using Jackson directly would be:\r\n\r\n    HashMap&lt;String,Object&gt; props;\r\n    \r\n    // src is a File, InputStream, String or such\r\n    props = new ObjectMapper().readValue(src, new TypeReference&lt;HashMap&lt;String,Object&gt;&gt;() {});\r\n    // or:\r\n    props = (HashMap&lt;String,Object&gt;) new ObjectMapper().readValue(src, HashMap.class);\r\n    // or even just:\r\n    @SuppressWarnings(&quot;unchecked&quot;) // suppresses typed/untype mismatch warnings, which is harmless\r\n    props = new ObjectMapper().readValue(src, HashMap.class);\r\n\r\nUtility method you call probably just does something similar to this.\r\n\r\n","title":"How to convert a JSON string to a Map&lt;String, String&gt; with Jackson JSON","body":"<p>Warning you get is done by compiler, not by library (or utility method).</p>\n\n<p>Simplest way using Jackson directly would be:</p>\n\n<pre><code>HashMap&lt;String,Object&gt; props;\n\n// src is a File, InputStream, String or such\nprops = new ObjectMapper().readValue(src, new TypeReference&lt;HashMap&lt;String,Object&gt;&gt;() {});\n// or:\nprops = (HashMap&lt;String,Object&gt;) new ObjectMapper().readValue(src, HashMap.class);\n// or even just:\n@SuppressWarnings(\"unchecked\") // suppresses typed/untype mismatch warnings, which is harmless\nprops = new ObjectMapper().readValue(src, HashMap.class);\n</code></pre>\n\n<p>Utility method you call probably just does something similar to this.</p>\n"},{"comments":[{"owner":{"account_id":214370,"reputation":5510,"user_id":468304,"accept_rate":100,"display_name":"cyber-monk"},"score":44,"creation_date":1327948383,"post_id":3076569,"comment_id":11382959,"body_markdown":"TypeFactory.mapType(...) is now deprecated, try this: \n\nnew TypeReference&lt;HashMap&lt;String,String&gt;&gt;() {}","body":"TypeFactory.mapType(...) is now deprecated, try this:   new TypeReference&lt;HashMap&lt;String,String&gt;&gt;() {}"},{"owner":{"account_id":13566,"reputation":48845,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"score":3,"creation_date":1485896758,"post_id":3076569,"comment_id":71113779,"body_markdown":"@cyber-monk That gets rid of the warnings, but doesn&#39;t actually check the types.","body":"@cyber-monk That gets rid of the warnings, but doesn&#39;t actually check the types."}],"tags":[],"owner":{"account_id":154883,"reputation":2165,"user_id":371141,"accept_rate":75,"display_name":"Ning Sun"},"comment_count":2,"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1488500997,"creation_date":1276969343,"answer_id":3076569,"question_id":2525042,"body_markdown":"Try `TypeFactory`.  Here&#39;s the code for Jackson JSON (2.8.4).\r\n\r\n    Map&lt;String, String&gt; result;\r\n    ObjectMapper mapper;\r\n    TypeFactory factory;\r\n    MapType type;\r\n\r\n    factory = TypeFactory.defaultInstance();\r\n    type    = factory.constructMapType(HashMap.class, String.class, String.class);\r\n    mapper  = new ObjectMapper();\r\n    result  = mapper.readValue(data, type);\r\n\r\nHere&#39;s the code for an older version of Jackson JSON.\r\n\r\n    Map&lt;String, String&gt; result = new ObjectMapper().readValue(\r\n        data, TypeFactory.mapType(HashMap.class, String.class, String.class));\r\n\r\n","title":"How to convert a JSON string to a Map&lt;String, String&gt; with Jackson JSON","body":"<p>Try <code>TypeFactory</code>.  Here's the code for Jackson JSON (2.8.4).</p>\n\n<pre><code>Map&lt;String, String&gt; result;\nObjectMapper mapper;\nTypeFactory factory;\nMapType type;\n\nfactory = TypeFactory.defaultInstance();\ntype    = factory.constructMapType(HashMap.class, String.class, String.class);\nmapper  = new ObjectMapper();\nresult  = mapper.readValue(data, type);\n</code></pre>\n\n<p>Here's the code for an older version of Jackson JSON.</p>\n\n<pre><code>Map&lt;String, String&gt; result = new ObjectMapper().readValue(\n    data, TypeFactory.mapType(HashMap.class, String.class, String.class));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":171785,"reputation":2011,"user_id":399435,"accept_rate":89,"display_name":"Karthic Raghupathi"},"score":5,"creation_date":1343226628,"post_id":11240607,"comment_id":15438799,"body_markdown":"The above still results in `Type safety: The expression of type HashMap needs unchecked conversion to conform to Map&lt;String,String&gt;`. While this can be suppressed with `@SuppressWarnings` annotation, I&#39;d recommend using `TypeReference` first or casting next as mentioned by Staxman","body":"The above still results in <code>Type safety: The expression of type HashMap needs unchecked conversion to conform to Map&lt;String,String&gt;</code>. While this can be suppressed with <code>@SuppressWarnings</code> annotation, I&#39;d recommend using <code>TypeReference</code> first or casting next as mentioned by Staxman"},{"owner":{"account_id":403243,"reputation":1792,"user_id":770889,"accept_rate":50,"display_name":"MJV"},"score":1,"creation_date":1458118432,"post_id":11240607,"comment_id":59711183,"body_markdown":"To get rid of the type safety warning, you can use `map = mapper.readValue(string, map.getClass());` - given that you have instantiated the map, as is the case here.","body":"To get rid of the type safety warning, you can use <code>map = mapper.readValue(string, map.getClass());</code> - given that you have instantiated the map, as is the case here."},{"owner":{"account_id":5526497,"reputation":915,"user_id":4387819,"display_name":"Jiayu Wang"},"score":0,"creation_date":1497504045,"post_id":11240607,"comment_id":76107807,"body_markdown":"if the type of var is Map&lt;Integer, String&gt;,  Just get the object class is not right.","body":"if the type of var is Map&lt;Integer, String&gt;,  Just get the object class is not right."}],"tags":[],"owner":{"account_id":1608283,"reputation":133,"user_id":1487889,"display_name":"Raja"},"comment_count":3,"down_vote_count":4,"up_vote_count":14,"is_accepted":false,"score":10,"last_activity_date":1340904385,"creation_date":1340871418,"answer_id":11240607,"question_id":2525042,"body_markdown":"Converting from String to JSON Map:\r\n\r\n\r\n    Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\r\n    \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    \r\n    map = mapper.readValue(string, HashMap.class);","title":"How to convert a JSON string to a Map&lt;String, String&gt; with Jackson JSON","body":"<p>Converting from String to JSON Map:</p>\n\n<pre><code>Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\n\nObjectMapper mapper = new ObjectMapper();\n\nmap = mapper.readValue(string, HashMap.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":285969,"reputation":12256,"user_id":584947,"accept_rate":92,"display_name":"fIwJlxSzApHEZIl"},"score":1,"creation_date":1499726791,"post_id":26379642,"comment_id":77019843,"body_markdown":"@dpetruha OP asked for `Map&lt;String, String&gt;` and you&#39;ve provided `Map&lt;String, Object&gt;`.","body":"@dpetruha OP asked for <code>Map&lt;String, String&gt;</code> and you&#39;ve provided <code>Map&lt;String, Object&gt;</code>."}],"tags":[],"owner":{"account_id":1044261,"reputation":1244,"user_id":1049587,"display_name":"dpetruha"},"comment_count":1,"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1499835628,"creation_date":1413367113,"answer_id":26379642,"question_id":2525042,"body_markdown":"    ObjectReader reader = new ObjectMapper().readerFor(Map.class);\r\n\r\n    Map&lt;String, String&gt; map = reader.readValue(&quot;{\\&quot;foo\\&quot;:\\&quot;val\\&quot;}&quot;);\r\n\r\nNote that `reader` instance is Thread Safe.","title":"How to convert a JSON string to a Map&lt;String, String&gt; with Jackson JSON","body":"<pre><code>ObjectReader reader = new ObjectMapper().readerFor(Map.class);\n\nMap&lt;String, String&gt; map = reader.readValue(\"{\\\"foo\\\":\\\"val\\\"}\");\n</code></pre>\n\n<p>Note that <code>reader</code> instance is Thread Safe.</p>\n"},{"comments":[{"owner":{"account_id":755765,"reputation":8010,"user_id":765965,"accept_rate":94,"display_name":"Al-Mothafar"},"score":1,"creation_date":1472472080,"post_id":34194815,"comment_id":65750431,"body_markdown":"in java doc : @since 2.5 -- but will probably deprecated in 2.7 or 2.8 (not needed with 2.7)","body":"in java doc : @since 2.5 -- but will probably deprecated in 2.7 or 2.8 (not needed with 2.7)"}],"tags":[],"owner":{"account_id":7321083,"reputation":61,"user_id":5577104,"display_name":"JackieZhi"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1449727859,"creation_date":1449727474,"answer_id":34194815,"question_id":2525042,"body_markdown":"    JavaType javaType = objectMapper.getTypeFactory().constructParameterizedType(Map.class, Key.class, Value.class);\r\n    Map&lt;Key, Value&gt; map=objectMapper.readValue(jsonStr, javaType);\r\n\r\ni think this will solve your problem.","title":"How to convert a JSON string to a Map&lt;String, String&gt; with Jackson JSON","body":"<pre><code>JavaType javaType = objectMapper.getTypeFactory().constructParameterizedType(Map.class, Key.class, Value.class);\nMap&lt;Key, Value&gt; map=objectMapper.readValue(jsonStr, javaType);\n</code></pre>\n\n<p>i think this will solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1450792661,"creation_date":1450728571,"answer_id":34403557,"question_id":2525042,"body_markdown":"The following works for me:\r\n\r\n    Map&lt;String, String&gt; propertyMap = getJsonAsMap(json);\r\n\r\nwhere `getJsonAsMap` is defined like so:\r\n\r\n\r\n\tpublic HashMap&lt;String, String&gt; getJsonAsMap(String json)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\tTypeReference&lt;Map&lt;String,String&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String,String&gt;&gt;() {};\r\n\t\t    HashMap&lt;String, String&gt; result = mapper.readValue(json, typeRef);\r\n\r\n\t\t    return result;\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tthrow new RuntimeException(&quot;Couldnt parse json:&quot; + json, e);\r\n\t\t}\r\n\t}\r\n\r\nNote that this *will* fail if you have child objects in your json (because they&#39;re not a `String`, they&#39;re another `HashMap`), but will work if your json is a key value list of properties like so:\r\n\r\n    {\r\n        &quot;client_id&quot;: &quot;my super id&quot;,\r\n        &quot;exp&quot;: 1481918304,\r\n        &quot;iat&quot;: &quot;1450382274&quot;,\r\n        &quot;url&quot;: &quot;http://www.example.com&quot;\r\n    }\r\n\r\n\r\n","title":"How to convert a JSON string to a Map&lt;String, String&gt; with Jackson JSON","body":"<p>The following works for me:</p>\n\n<pre><code>Map&lt;String, String&gt; propertyMap = getJsonAsMap(json);\n</code></pre>\n\n<p>where <code>getJsonAsMap</code> is defined like so:</p>\n\n<pre><code>public HashMap&lt;String, String&gt; getJsonAsMap(String json)\n{\n    try\n    {\n        ObjectMapper mapper = new ObjectMapper();\n        TypeReference&lt;Map&lt;String,String&gt;&gt; typeRef = new TypeReference&lt;Map&lt;String,String&gt;&gt;() {};\n        HashMap&lt;String, String&gt; result = mapper.readValue(json, typeRef);\n\n        return result;\n    }\n    catch (Exception e)\n    {\n        throw new RuntimeException(\"Couldnt parse json:\" + json, e);\n    }\n}\n</code></pre>\n\n<p>Note that this <em>will</em> fail if you have child objects in your json (because they're not a <code>String</code>, they're another <code>HashMap</code>), but will work if your json is a key value list of properties like so:</p>\n\n<pre><code>{\n    \"client_id\": \"my super id\",\n    \"exp\": 1481918304,\n    \"iat\": \"1450382274\",\n    \"url\": \"http://www.example.com\"\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":1,"creation_date":1588425814,"post_id":40302986,"comment_id":108893043,"body_markdown":"Agreed, the world has moved on, Gson is much, much easier to use.","body":"Agreed, the world has moved on, Gson is much, much easier to use."}],"tags":[],"owner":{"account_id":5577830,"reputation":2697,"user_id":5320562,"display_name":"Loukan ElKadi"},"comment_count":1,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1513755053,"creation_date":1477649907,"answer_id":40302986,"question_id":2525042,"body_markdown":"Using Google&#39;s Gson\r\n-------------------\r\n\r\nWhy not use Google&#39;s Gson as mentioned in [here][1]?\r\n\r\nVery straight forward and did the job for me:\r\n\r\n    HashMap&lt;String,String&gt; map = new Gson().fromJson( yourJsonString, new TypeToken&lt;HashMap&lt;String, String&gt;&gt;(){}.getType());\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22033974/5320562","title":"How to convert a JSON string to a Map&lt;String, String&gt; with Jackson JSON","body":"<h2>Using Google's Gson</h2>\n\n<p>Why not use Google's Gson as mentioned in <a href=\"https://stackoverflow.com/a/22033974/5320562\">here</a>?</p>\n\n<p>Very straight forward and did the job for me:</p>\n\n<pre><code>HashMap&lt;String,String&gt; map = new Gson().fromJson( yourJsonString, new TypeToken&lt;HashMap&lt;String, String&gt;&gt;(){}.getType());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2418810,"reputation":876,"user_id":2112296,"accept_rate":13,"display_name":"NameNotFoundException"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525432157,"creation_date":1525432157,"answer_id":50173530,"question_id":2525042,"body_markdown":"Here is the generic solution to this problem.\r\n\r\n\r\n    public static &lt;K extends Object, V extends Object&gt; Map&lt;K, V&gt; getJsonAsMap(String json, K key, V value) {\r\n        try {\r\n          ObjectMapper mapper = new ObjectMapper();\r\n          TypeReference&lt;Map&lt;K, V&gt;&gt; typeRef = new TypeReference&lt;Map&lt;K, V&gt;&gt;() {\r\n          };\r\n          return mapper.readValue(json, typeRef);\r\n        } catch (Exception e) {\r\n          throw new RuntimeException(&quot;Couldnt parse json:&quot; + json, e);\r\n        }\r\n      }\r\n\r\n\r\nHope someday somebody would think to create a util method to convert to any Key/value type of Map hence this answer :)","title":"How to convert a JSON string to a Map&lt;String, String&gt; with Jackson JSON","body":"<p>Here is the generic solution to this problem.</p>\n\n<pre><code>public static &lt;K extends Object, V extends Object&gt; Map&lt;K, V&gt; getJsonAsMap(String json, K key, V value) {\n    try {\n      ObjectMapper mapper = new ObjectMapper();\n      TypeReference&lt;Map&lt;K, V&gt;&gt; typeRef = new TypeReference&lt;Map&lt;K, V&gt;&gt;() {\n      };\n      return mapper.readValue(json, typeRef);\n    } catch (Exception e) {\n      throw new RuntimeException(\"Couldnt parse json:\" + json, e);\n    }\n  }\n</code></pre>\n\n<p>Hope someday somebody would think to create a util method to convert to any Key/value type of Map hence this answer :)</p>\n"},{"comments":[{"owner":{"account_id":4136952,"reputation":322,"user_id":3393404,"display_name":"Dustin"},"score":1,"creation_date":1588946345,"post_id":58631668,"comment_id":109103510,"body_markdown":"hmmm,  not sure why this was downvoted.  Not only does this line work for me, it also gives the key to doing it the right way.  By replacing Map&lt;String,String&gt; with a different desired type, the mapper will convert the string into any complex collection, like List&lt;MyObject&gt;, or List&lt;Map&lt;String, MyObject&gt;&gt;","body":"hmmm,  not sure why this was downvoted.  Not only does this line work for me, it also gives the key to doing it the right way.  By replacing Map&lt;String,String&gt; with a different desired type, the mapper will convert the string into any complex collection, like List&lt;MyObject&gt;, or List&lt;Map&lt;String, MyObject&gt;&gt;"},{"owner":{"account_id":1061383,"reputation":8686,"user_id":1062933,"accept_rate":85,"display_name":"NaN"},"score":0,"creation_date":1673275204,"post_id":58631668,"comment_id":132455856,"body_markdown":"Because the question is &quot;how to do it in Java&quot;","body":"Because the question is &quot;how to do it in Java&quot;"},{"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"score":1,"creation_date":1683708044,"post_id":58631668,"comment_id":134406417,"body_markdown":"It&#39;s always useful to have a Kotlin-specific answer to a Java question because Kotlin is usually used on the JVM as a replacement for Java. I&#39;m grateful for the Kotlin answer.","body":"It&#39;s always useful to have a Kotlin-specific answer to a Java question because Kotlin is usually used on the JVM as a replacement for Java. I&#39;m grateful for the Kotlin answer."},{"owner":{"account_id":242699,"reputation":1088,"user_id":514402,"display_name":"Mike Holdsworth"},"score":0,"creation_date":1686271119,"post_id":58631668,"comment_id":134779731,"body_markdown":"Kotlin as at 2023\n\n\n`val fromJson: Map&lt;String, String&gt; = objectMapper.readValue(json)`","body":"Kotlin as at 2023   <code>val fromJson: Map&lt;String, String&gt; = objectMapper.readValue(json)</code>"}],"tags":[],"owner":{"account_id":4136952,"reputation":322,"user_id":3393404,"display_name":"Dustin"},"comment_count":4,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1572460060,"creation_date":1572460060,"answer_id":58631668,"question_id":2525042,"body_markdown":"just wanted to give a Kotlin answer\r\n\r\n    val propertyMap = objectMapper.readValue&lt;Map&lt;String,String&gt;&gt;(properties, object : TypeReference&lt;Map&lt;String, String&gt;&gt;() {})\r\n\r\n","title":"How to convert a JSON string to a Map&lt;String, String&gt; with Jackson JSON","body":"<p>just wanted to give a Kotlin answer</p>\n\n<pre><code>val propertyMap = objectMapper.readValue&lt;Map&lt;String,String&gt;&gt;(properties, object : TypeReference&lt;Map&lt;String, String&gt;&gt;() {})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6283683,"reputation":3277,"user_id":4883754,"display_name":"Jess Chen"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647189263,"creation_date":1647189263,"answer_id":71458757,"question_id":2525042,"body_markdown":"Sample code for Kotlin.\r\n\r\n```Kotlin\r\nclass HeathCheckController {\r\n    fun get(): Any {\r\n        val config = this::class.java.getResource(&quot;/git-info.yml&quot;)?.readText()\r\n        return ObjectMapper()\r\n            .readValue(config, Map::class.java)\r\n    }\r\n}\r\n```\r\n\r\nGradle\r\n```\r\nval jackson = &quot;2.13.2&quot;\r\n```","title":"How to convert a JSON string to a Map&lt;String, String&gt; with Jackson JSON","body":"<p>Sample code for Kotlin.</p>\n<pre><code>class HeathCheckController {\n    fun get(): Any {\n        val config = this::class.java.getResource(&quot;/git-info.yml&quot;)?.readText()\n        return ObjectMapper()\n            .readValue(config, Map::class.java)\n    }\n}\n</code></pre>\n<p>Gradle</p>\n<pre><code>val jackson = &quot;2.13.2&quot;\n</code></pre>\n"}],"owner":{"account_id":13131,"reputation":13791,"user_id":26192,"accept_rate":88,"display_name":"adamJLev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450289,"favorite_count":0,"down_vote_count":1,"up_vote_count":254,"accepted_answer_id":2525152,"answer_count":11,"score":253,"last_activity_date":1699934628,"creation_date":1269622002,"question_id":2525042,"body_markdown":"I&#39;m trying to do something like this but it doesn&#39;t work:\r\n\r\n    Map&lt;String, String&gt; propertyMap = new HashMap&lt;String, String&gt;();\r\n\r\n    propertyMap = JacksonUtils.fromJSON(properties, Map.class);\r\n\r\nBut the IDE says: \r\n\r\n&gt; Unchecked assignment `Map to Map&lt;String,String&gt;`\r\n\r\nWhat&#39;s the right way to do this?\r\nI&#39;m only using Jackson because that&#39;s what is already available in the project, is there a native Java way of converting to/from JSON?\r\n\r\nIn PHP I would simply `json_decode($str)` and I&#39;d get back an array. I need basically the same thing here.","title":"How to convert a JSON string to a Map&lt;String, String&gt; with Jackson JSON","body":"<p>I'm trying to do something like this but it doesn't work:</p>\n\n<pre><code>Map&lt;String, String&gt; propertyMap = new HashMap&lt;String, String&gt;();\n\npropertyMap = JacksonUtils.fromJSON(properties, Map.class);\n</code></pre>\n\n<p>But the IDE says: </p>\n\n<blockquote>\n  <p>Unchecked assignment <code>Map to Map&lt;String,String&gt;</code></p>\n</blockquote>\n\n<p>What's the right way to do this?\nI'm only using Jackson because that's what is already available in the project, is there a native Java way of converting to/from JSON?</p>\n\n<p>In PHP I would simply <code>json_decode($str)</code> and I'd get back an array. I need basically the same thing here.</p>\n"},{"tags":["java","intellij-idea","project","src"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1634236542,"post_id":69575621,"comment_id":122977804,"body_markdown":"Make sure you have the valid module with the content roots defined, see https://www.jetbrains.com/help/idea/configuring-content-roots.html and this answer: https://stackoverflow.com/a/69348378/104891.","body":"Make sure you have the valid module with the content roots defined, see <a href=\"https://www.jetbrains.com/help/idea/configuring-content-roots.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/configuring-content-roots.html</a> and this answer: <a href=\"https://stackoverflow.com/a/69348378/104891\">stackoverflow.com/a/69348378/104891</a>."}],"answers":[{"tags":[],"owner":{"account_id":2640358,"reputation":331,"user_id":2284150,"display_name":"Mihail"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634236611,"creation_date":1634236611,"answer_id":69575754,"question_id":69575621,"body_markdown":"Since reinstalling IntelliJ Idea may leave settings in your user folder, you can try File -&gt; Manage IDE Settings -&gt; Restore Default Settings. Then File -&gt; New -&gt; Project  and select Java on the left pane.","title":"Can&#39;t see the .idea and src folder when creating Java Project","body":"<p>Since reinstalling IntelliJ Idea may leave settings in your user folder, you can try File -&gt; Manage IDE Settings -&gt; Restore Default Settings. Then File -&gt; New -&gt; Project  and select Java on the left pane.</p>\n"}],"owner":{"account_id":14488741,"reputation":11,"user_id":10465740,"display_name":"G.Todorov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":936,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699934394,"creation_date":1634235951,"question_id":69575621,"body_markdown":"I know how to create a new Java Project in IntelliJ IDEA and I did it many times before. But one day when I start my application and try to make a new Java Project, I don&#39;t have the ability to see the .idea and src folder, I have only the .iml file. And don&#39;t have the ability to make a Java Class. I try everything, I either reinstall the application but without a change. Please help me. I have an exam in three days and I am panicking so much. Help","title":"Can&#39;t see the .idea and src folder when creating Java Project","body":"<p>I know how to create a new Java Project in IntelliJ IDEA and I did it many times before. But one day when I start my application and try to make a new Java Project, I don't have the ability to see the .idea and src folder, I have only the .iml file. And don't have the ability to make a Java Class. I try everything, I either reinstall the application but without a change. Please help me. I have an exam in three days and I am panicking so much. Help</p>\n"},{"tags":["java","android","xml","android-studio","radio-button"],"comments":[{"owner":{"account_id":18768215,"reputation":323,"user_id":13685592,"display_name":"KalanaChinthaka"},"score":0,"creation_date":1596530996,"post_id":63243077,"comment_id":111833204,"body_markdown":"I think you already have an answer here. https://stackoverflow.com/a/38267841/13685592","body":"I think you already have an answer here. <a href=\"https://stackoverflow.com/a/38267841/13685592\">stackoverflow.com/a/38267841/13685592</a>"}],"answers":[{"comments":[{"owner":{"account_id":7047919,"reputation":138,"user_id":5398130,"display_name":"LeaveItToGrever"},"score":0,"creation_date":1695941628,"post_id":63243327,"comment_id":136094438,"body_markdown":"I have found that this solution does not work for the authors designs. Adding a button with drawable will put the drawable in front of text, not on top.","body":"I have found that this solution does not work for the authors designs. Adding a button with drawable will put the drawable in front of text, not on top."}],"tags":[],"owner":{"account_id":17482535,"reputation":674,"user_id":12676247,"display_name":"Jyotish Biswas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596531175,"creation_date":1596531175,"answer_id":63243327,"question_id":63243077,"body_markdown":"You Can use Custom Background \r\n\r\n    &lt;RadioButton\r\n       android:id=&quot;@+id/radioButtom&quot;\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:background=&quot;@null&quot;\r\n       android:button=&quot;@drawable/custom_background&quot;\r\n       android:checked=&quot;true&quot;\r\n       android:text=&quot;Your Text&quot; /&gt;\r\n\r\nHere is `Custom_background.xml`\r\n\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n    &lt;item\r\n        android:drawable=&quot;@drawable/your_regular_state_drawable&quot;\r\n        android:state_checked=&quot;true&quot;\r\n        android:state_pressed=&quot;true&quot; /&gt;\r\n    &lt;item\r\n        android:drawable=&quot;@drawable/your_selected_state_drawable&quot;\r\n        android:state_pressed=&quot;true&quot; /&gt;\r\n    &lt;item\r\n        android:drawable=&quot;@drawable/your_selected_state_drawable&quot;\r\n        android:state_checked=&quot;true&quot; /&gt;\r\n    &lt;item\r\n        android:drawable=&quot;@drawable/your_regular_state_drawable&quot; /&gt;\r\n&lt;/selector&gt;\r\n\r\nReferance:  You can get e better description from here https://stackoverflow.com/a/19163987/12676247","title":"How to customize radio button in android","body":"<p>You Can use Custom Background</p>\n<pre><code>&lt;RadioButton\n   android:id=&quot;@+id/radioButtom&quot;\n   android:layout_width=&quot;wrap_content&quot;\n   android:layout_height=&quot;wrap_content&quot;\n   android:background=&quot;@null&quot;\n   android:button=&quot;@drawable/custom_background&quot;\n   android:checked=&quot;true&quot;\n   android:text=&quot;Your Text&quot; /&gt;\n</code></pre>\n<p>Here is <code>Custom_background.xml</code></p>\n<pre><code>&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\n&lt;item\n    android:drawable=&quot;@drawable/your_regular_state_drawable&quot;\n    android:state_checked=&quot;true&quot;\n    android:state_pressed=&quot;true&quot; /&gt;\n&lt;item\n    android:drawable=&quot;@drawable/your_selected_state_drawable&quot;\n    android:state_pressed=&quot;true&quot; /&gt;\n&lt;item\n    android:drawable=&quot;@drawable/your_selected_state_drawable&quot;\n    android:state_checked=&quot;true&quot; /&gt;\n&lt;item\n    android:drawable=&quot;@drawable/your_regular_state_drawable&quot; /&gt;\n</code></pre>\n\n<p>Referance:  You can get e better description from here <a href=\"https://stackoverflow.com/a/19163987/12676247\">https://stackoverflow.com/a/19163987/12676247</a></p>\n"},{"tags":[],"owner":{"account_id":15162358,"reputation":1,"user_id":14681122,"display_name":"Suganthan K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699933950,"creation_date":1699933687,"answer_id":77478095,"question_id":63243077,"body_markdown":"      &lt;RadioGroup\r\n                                android:id=&quot;@+id/radio_group_do_you_smoke&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_gravity=&quot;center&quot;\r\n                                android:layout_marginTop=&quot;16dp&quot;\r\n                                android:background=&quot;@drawable/transparent_drawable&quot;\r\n                                android:orientation=&quot;horizontal&quot;\r\n                                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                                app:layout_constraintTop_toBottomOf=&quot;@+id/textView119&quot;&gt;\r\n    \r\n                                &lt;RadioButton\r\n                                    android:id=&quot;@+id/radio_button_yes_1&quot;\r\n                                    style=&quot;@style/BoldTextView&quot;\r\n                                    android:layout_width=&quot;100dp&quot;\r\n                                    android:layout_height=&quot;100dp&quot;\r\n                                    android:background=&quot;@drawable/rbtn_selector&quot;\r\n                                    android:button=&quot;@null&quot;\r\n                                    android:checked=&quot;false&quot;\r\n                                    android:foreground=&quot;@drawable/smoke_ic&quot;\r\n                                    android:foregroundGravity=&quot;center&quot;\r\n                                    android:gravity=&quot;center&quot;\r\n                                    android:textAlignment=&quot;center&quot;\r\n                                    android:textColor=&quot;@drawable/rbtn_textcolor_selector&quot;\r\n                                    android:textSize=&quot;14dp&quot;\r\n                                    tools:ignore=&quot;TextSizeCheck&quot;&gt;\r\n    \r\n                                &lt;/RadioButton&gt;\r\n      &lt;/RadioGroup&gt;\r\n\r\nyou can use android:foreground and android:foregroundGravity=&quot;center&quot;\r\n\r\n[image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fQgs9.png","title":"How to customize radio button in android","body":"<pre><code>  &lt;RadioGroup\n                            android:id=&quot;@+id/radio_group_do_you_smoke&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;center&quot;\n                            android:layout_marginTop=&quot;16dp&quot;\n                            android:background=&quot;@drawable/transparent_drawable&quot;\n                            android:orientation=&quot;horizontal&quot;\n                            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                            app:layout_constraintTop_toBottomOf=&quot;@+id/textView119&quot;&gt;\n\n                            &lt;RadioButton\n                                android:id=&quot;@+id/radio_button_yes_1&quot;\n                                style=&quot;@style/BoldTextView&quot;\n                                android:layout_width=&quot;100dp&quot;\n                                android:layout_height=&quot;100dp&quot;\n                                android:background=&quot;@drawable/rbtn_selector&quot;\n                                android:button=&quot;@null&quot;\n                                android:checked=&quot;false&quot;\n                                android:foreground=&quot;@drawable/smoke_ic&quot;\n                                android:foregroundGravity=&quot;center&quot;\n                                android:gravity=&quot;center&quot;\n                                android:textAlignment=&quot;center&quot;\n                                android:textColor=&quot;@drawable/rbtn_textcolor_selector&quot;\n                                android:textSize=&quot;14dp&quot;\n                                tools:ignore=&quot;TextSizeCheck&quot;&gt;\n\n                            &lt;/RadioButton&gt;\n  &lt;/RadioGroup&gt;\n</code></pre>\n<p>you can use android:foreground and android:foregroundGravity=&quot;center&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/fQgs9.png\" rel=\"nofollow noreferrer\">image</a></p>\n"}],"owner":{"account_id":17966277,"reputation":103,"user_id":13056090,"display_name":"Geetika Sachdeva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699933950,"creation_date":1596530237,"question_id":63243077,"body_markdown":"I am creating radio button in android application but i want to make it customized. But i don&#39;t know how to do it. I want image as icon and text under the icon as in this image shown.Also i want to change the color whenever any radiobutton is selected.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FBeKh.jpg\r\n\r\nThis type of radio button i want. Please tell me how can i make it ?","title":"How to customize radio button in android","body":"<p>I am creating radio button in android application but i want to make it customized. But i don't know how to do it. I want image as icon and text under the icon as in this image shown.Also i want to change the color whenever any radiobutton is selected.</p>\n<p><a href=\"https://i.stack.imgur.com/FBeKh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FBeKh.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This type of radio button i want. Please tell me how can i make it ?</p>\n"},{"tags":["java","cytoscape","adoptopenjdk"],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1699941134,"post_id":77478083,"comment_id":136590679,"body_markdown":"It doesn&#39;t show the version  because you haven&#39;t TOLD the alternatives system about Java 17 ... yet.  See https://stackoverflow.com/questions/12787757.  Also `man update-alternatives`.","body":"It doesn&#39;t show the version  because you haven&#39;t TOLD the alternatives system about Java 17 ... yet.  See <a href=\"https://stackoverflow.com/questions/12787757\">stackoverflow.com/questions/12787757</a>.  Also <code>man update-alternatives</code>."}],"tags":[],"owner":{"account_id":2348432,"reputation":97,"user_id":3778001,"display_name":"abhivij"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699933541,"creation_date":1699933541,"answer_id":77478083,"question_id":77478034,"body_markdown":"The error message actually clearly mentioned the issue.\r\n\r\nI downloaded jdk version 17 from https://adoptium.net/temurin/releases/?version=17&amp;os=linux and followed the same procedure as above.\r\nThe Cytoscape installation was successful :) \r\n\r\n```sudo update-alternatives --config java``` still doesn&#39;t show this java version. Not sure why though.\r\n","title":"Correct method to use prebuilt OpenJDK binary","body":"<p>The error message actually clearly mentioned the issue.</p>\n<p>I downloaded jdk version 17 from <a href=\"https://adoptium.net/temurin/releases/?version=17&amp;os=linux\" rel=\"nofollow noreferrer\">https://adoptium.net/temurin/releases/?version=17&amp;os=linux</a> and followed the same procedure as above.\nThe Cytoscape installation was successful :)</p>\n<p><code>sudo update-alternatives --config java</code> still doesn't show this java version. Not sure why though.</p>\n"}],"owner":{"account_id":2348432,"reputation":97,"user_id":3778001,"display_name":"abhivij"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77478083,"answer_count":1,"score":0,"last_activity_date":1699933541,"creation_date":1699932651,"question_id":77478034,"body_markdown":"In the process of trying to install Cytoscape - https://cytoscape.org/download.html, I downloaded prebuilt OpenJDK binary from https://adoptium.net/\r\n\r\nCopied OpenJDK21U-jdk_x64_linux_hotspot_21.0.1_12.tar.gz to /usr/lib/jvm\r\nand \r\n\r\n    sudo tar xvf OpenJDK21U-jdk_x64_linux_hotspot_21.0.1_12.tar.gz\r\n\r\nNow there&#39;s jdk-21.0.1+12 in /usr/lib/jvm\r\n\r\n\r\nBut ```sudo update-alternatives --config java``` shows\r\n\r\n        There are 2 choices for the alternative java (providing /usr/bin/java).\r\n    \r\n      Selection    Path                                            Priority   Status\r\n    ------------------------------------------------------------\r\n      0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      auto mode\r\n    * 1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode\r\n      2            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode\r\n    \r\n    Press &lt;enter&gt; to keep the current choice[*], or type selection number: \r\n\r\nNot really sure why ```jdk-21.0.1+12``` does not show up.\r\n\r\nNeverthless, I added these in /etc/environment \r\n\r\n    JAVA_HOME=&quot;/usr/lib/jvm/jdk-21.0.1+12/bin/java&quot;\r\n    INSTALL4J_JAVA_HOME=&quot;/usr/lib/jvm/jdk-21.0.1+12/bin/java&quot;\r\n\r\n```echo $JAVA_HOME``` and ```echo $INSTALL4J_JAVA_HOME``` shows these as expected\r\n\r\n\r\nBut ```sudo sh Cytoscape_3_10_1_unix.sh``` gives\r\n\r\n    No suitable Java Virtual Machine could be found on your system.\r\n    The version of the JVM must be at least 17.0.2 and at most 17.\r\n    Please define INSTALL4J_JAVA_HOME to point to a suitable JVM.\r\n\r\nI suppose I&#39;m not following the correct method to use the prebuilt OpenJDK binary.\r\nCould someone please guide me ?\r\n\r\n ","title":"Correct method to use prebuilt OpenJDK binary","body":"<p>In the process of trying to install Cytoscape - <a href=\"https://cytoscape.org/download.html\" rel=\"nofollow noreferrer\">https://cytoscape.org/download.html</a>, I downloaded prebuilt OpenJDK binary from <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">https://adoptium.net/</a></p>\n<p>Copied OpenJDK21U-jdk_x64_linux_hotspot_21.0.1_12.tar.gz to /usr/lib/jvm\nand</p>\n<pre><code>sudo tar xvf OpenJDK21U-jdk_x64_linux_hotspot_21.0.1_12.tar.gz\n</code></pre>\n<p>Now there's jdk-21.0.1+12 in /usr/lib/jvm</p>\n<p>But <code>sudo update-alternatives --config java</code> shows</p>\n<pre><code>    There are 2 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                                            Priority   Status\n------------------------------------------------------------\n  0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      auto mode\n* 1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode\n  2            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode\n\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: \n</code></pre>\n<p>Not really sure why <code>jdk-21.0.1+12</code> does not show up.</p>\n<p>Neverthless, I added these in /etc/environment</p>\n<pre><code>JAVA_HOME=&quot;/usr/lib/jvm/jdk-21.0.1+12/bin/java&quot;\nINSTALL4J_JAVA_HOME=&quot;/usr/lib/jvm/jdk-21.0.1+12/bin/java&quot;\n</code></pre>\n<p><code>echo $JAVA_HOME</code> and <code>echo $INSTALL4J_JAVA_HOME</code> shows these as expected</p>\n<p>But <code>sudo sh Cytoscape_3_10_1_unix.sh</code> gives</p>\n<pre><code>No suitable Java Virtual Machine could be found on your system.\nThe version of the JVM must be at least 17.0.2 and at most 17.\nPlease define INSTALL4J_JAVA_HOME to point to a suitable JVM.\n</code></pre>\n<p>I suppose I'm not following the correct method to use the prebuilt OpenJDK binary.\nCould someone please guide me ?</p>\n"},{"tags":["java","spring-boot","load-balancing","netflix-eureka","spring-cloud-gateway"],"comments":[{"owner":{"account_id":2981539,"reputation":3702,"user_id":2531402,"accept_rate":25,"display_name":"OlgaMaciaszek"},"score":0,"creation_date":1699964336,"post_id":77475740,"comment_id":136594164,"body_markdown":"Have you tried setting `spring.cloud.loadbalancer.configurations` to `weighted` (please see the docs: https://docs.spring.io/spring-cloud-commons/docs/current/reference/html/#weighted-load-balancing)? Is `MRRANDOM` your service id? SC LoadBalancer is a client-side solution, what do you mean by &quot;server-side loadbalancing&quot; in your use-case.","body":"Have you tried setting <code>spring.cloud.loadbalancer.configurations</code> to <code>weighted</code> (please see the docs: <a href=\"https://docs.spring.io/spring-cloud-commons/docs/current/reference/html/#weighted-load-balancing\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-commons/docs/current/reference/h&zwnj;&#8203;tml/&hellip;</a>)? Is <code>MRRANDOM</code> your service id? SC LoadBalancer is a client-side solution, what do you mean by &quot;server-side loadbalancing&quot; in your use-case."},{"owner":{"account_id":16037428,"reputation":1,"user_id":13891807,"display_name":"sertineitor"},"score":0,"creation_date":1699968322,"post_id":77475740,"comment_id":136594935,"body_markdown":"@OlgaMaciaszek Thank you very much. Yes, I have tried ```spring.cloud.loadbalancer.configurations=weighted``` in application.properties of Gateway but it didn&#39;t work. Yes, MRRANDOM is the service id. I have no problem deploying 2 instances of MRRANDOM, however, I cannot modify the round robin algorithm. I know that SC LoadBalancer is a client-side solution, but I want ribbon alternative because I need to integrate load balancing in Eureka or Gateway and not in MRRANDOM","body":"@OlgaMaciaszek Thank you very much. Yes, I have tried <code>spring.cloud.loadbalancer.configurations=weighted</code> in application.properties of Gateway but it didn&#39;t work. Yes, MRRANDOM is the service id. I have no problem deploying 2 instances of MRRANDOM, however, I cannot modify the round robin algorithm. I know that SC LoadBalancer is a client-side solution, but I want ribbon alternative because I need to integrate load balancing in Eureka or Gateway and not in MRRANDOM"},{"owner":{"account_id":2981539,"reputation":3702,"user_id":2531402,"accept_rate":25,"display_name":"OlgaMaciaszek"},"score":0,"creation_date":1700067420,"post_id":77475740,"comment_id":136610026,"body_markdown":"I&#39;m not sure I understand exactly. Can you provide a sample?","body":"I&#39;m not sure I understand exactly. Can you provide a sample?"}],"owner":{"account_id":16037428,"reputation":1,"user_id":13891807,"display_name":"sertineitor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699932566,"creation_date":1699896566,"question_id":77475740,"body_markdown":"I am developing an microservices based app in Spring Boot 3.1.2. I need to change the default algorithm built into the gateway load balancer (load balancing on the server side is mandatory), specifically I need to integrate Weighted Response Time algorithm, I know that this algorithm already exists in Spring Cloud.\r\n\r\nThe app has three microservices:\r\n- Eureka\r\n- Gateway\r\n- Microservice random\r\n\r\nEureka and Gateway class are by default, microservice random has only one route that returns the port. The configuration is:\r\n\r\n**Eureka (application.properties)**\r\n```\r\nserver.port=8761\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\nspring.application.name=eureka-server\r\n```\r\n\r\n**Gateway (application.properties)**\r\n```\r\nserver.port=8080\r\nspring.main.web-application-type=reactive\r\n\r\neureka.instance.hostname=localhost\r\neureka.client.serviceUrl.defaultZone=http://${eureka.instance.hostname}:8761/eureka/\r\n\r\nspring.cloud.loadbalancer.ribbon.enabled=false\r\nspring.cloud.loadbalancer.enabled=true\r\nspring.cloud.gateway.discovery.locator.enabled=true\r\n\r\nspring.cloud.gateway.httpclient.wiretap=true\r\n\r\nspring.cloud.gateway.routes[0].id=mrrandom\r\nspring.cloud.gateway.routes[0].uri=lb://MRRANDOM\r\nspring.cloud.gateway.routes[0].predicates[0]=Path=/**\r\n```\r\nShould I change the configuration (application.properties) or create a configuration class?\r\n\r\nI have searched for official documentation but I have not found it, everything there is for ribbon, but ribbon is deprecated, all the internet examples use client side load balancing, but I need server side load balancing.","title":"How to change load-balancing algorithm in Gateway","body":"<p>I am developing an microservices based app in Spring Boot 3.1.2. I need to change the default algorithm built into the gateway load balancer (load balancing on the server side is mandatory), specifically I need to integrate Weighted Response Time algorithm, I know that this algorithm already exists in Spring Cloud.</p>\n<p>The app has three microservices:</p>\n<ul>\n<li>Eureka</li>\n<li>Gateway</li>\n<li>Microservice random</li>\n</ul>\n<p>Eureka and Gateway class are by default, microservice random has only one route that returns the port. The configuration is:</p>\n<p><strong>Eureka (application.properties)</strong></p>\n<pre><code>server.port=8761\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\nspring.application.name=eureka-server\n</code></pre>\n<p><strong>Gateway (application.properties)</strong></p>\n<pre><code>server.port=8080\nspring.main.web-application-type=reactive\n\neureka.instance.hostname=localhost\neureka.client.serviceUrl.defaultZone=http://${eureka.instance.hostname}:8761/eureka/\n\nspring.cloud.loadbalancer.ribbon.enabled=false\nspring.cloud.loadbalancer.enabled=true\nspring.cloud.gateway.discovery.locator.enabled=true\n\nspring.cloud.gateway.httpclient.wiretap=true\n\nspring.cloud.gateway.routes[0].id=mrrandom\nspring.cloud.gateway.routes[0].uri=lb://MRRANDOM\nspring.cloud.gateway.routes[0].predicates[0]=Path=/**\n</code></pre>\n<p>Should I change the configuration (application.properties) or create a configuration class?</p>\n<p>I have searched for official documentation but I have not found it, everything there is for ribbon, but ribbon is deprecated, all the internet examples use client side load balancing, but I need server side load balancing.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","httpclient"],"answers":[{"tags":[],"owner":{"account_id":9735515,"reputation":1045,"user_id":7218881,"display_name":"Sankalpa Wijewickrama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699931471,"creation_date":1699931471,"answer_id":77477986,"question_id":77469468,"body_markdown":"I was able to find a meaningful response by the following post!\r\nhttps://github.com/aws/aws-sdk-java-v2/issues/3761","title":"Spring-boot AwsCrtAsyncHttpClient and NettyNioAsyncHttpClient both in class path","body":"<p>I was able to find a meaningful response by the following post!\n<a href=\"https://github.com/aws/aws-sdk-java-v2/issues/3761\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java-v2/issues/3761</a></p>\n"}],"owner":{"account_id":9735515,"reputation":1045,"user_id":7218881,"display_name":"Sankalpa Wijewickrama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77477986,"answer_count":1,"score":0,"last_activity_date":1699931471,"creation_date":1699801786,"question_id":77469468,"body_markdown":"In my application, I am using a custom implemented AWS SNS module. Within that module, I do create a bean of `AwsCrtAsyncHttpClient` for the `SnsAsyncClient` usage. However, I am getting the following error...\r\n\r\n    nested exception is software.amazon.awssdk.core.exception.SdkClientException: Multiple HTTP implementations were found on the classpath\r\n\r\nThe reason is that, other dependencies such as `AWS CloudWatch`, `S3`, `DynamoDB` and `SQS` has a default implementation of `netty-nio-client` which is `NettyNioAsyncHttpClient`. I had to exclude that dependency in-order to run the application. Is there any other suggestion for me to use `AwsCrtAsyncHttpClient` within the SNS implementation and let `NettyNioAsyncHttpClient` as it is without excluding? Thank you in advance. ","title":"Spring-boot AwsCrtAsyncHttpClient and NettyNioAsyncHttpClient both in class path","body":"<p>In my application, I am using a custom implemented AWS SNS module. Within that module, I do create a bean of <code>AwsCrtAsyncHttpClient</code> for the <code>SnsAsyncClient</code> usage. However, I am getting the following error...</p>\n<pre><code>nested exception is software.amazon.awssdk.core.exception.SdkClientException: Multiple HTTP implementations were found on the classpath\n</code></pre>\n<p>The reason is that, other dependencies such as <code>AWS CloudWatch</code>, <code>S3</code>, <code>DynamoDB</code> and <code>SQS</code> has a default implementation of <code>netty-nio-client</code> which is <code>NettyNioAsyncHttpClient</code>. I had to exclude that dependency in-order to run the application. Is there any other suggestion for me to use <code>AwsCrtAsyncHttpClient</code> within the SNS implementation and let <code>NettyNioAsyncHttpClient</code> as it is without excluding? Thank you in advance.</p>\n"},{"tags":["java","mysql","jdatechooser"],"comments":[{"owner":{"account_id":8096613,"reputation":996,"user_id":6100981,"display_name":"mam10eks"},"score":0,"creation_date":1461776917,"post_id":36895567,"comment_id":61357025,"body_markdown":"could you please provide the excepton?","body":"could you please provide the excepton?"},{"owner":{"account_id":7868012,"reputation":31,"user_id":5946259,"display_name":"Ahamed Zahid"},"score":0,"creation_date":1461779438,"post_id":36895567,"comment_id":61358703,"body_markdown":"yes here it is : { Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.RuntimeException: Uncompilable source code - incompatible types: javax.swing.JTextField cannot be converted to java.lang.String }","body":"yes here it is : { Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.RuntimeException: Uncompilable source code - incompatible types: javax.swing.JTextField cannot be converted to java.lang.String }"},{"owner":{"account_id":8096613,"reputation":996,"user_id":6100981,"display_name":"mam10eks"},"score":0,"creation_date":1461780207,"post_id":36895567,"comment_id":61359228,"body_markdown":"could you please provide the full Stacktrace?\nWhat is the type of `issDte` ?\nAlso it seems that there should be an syntax error in line 15 of your code-listing, since `JTextField` has no static method `getDateEditor()`","body":"could you please provide the full Stacktrace? What is the type of <code>issDte</code> ? Also it seems that there should be an syntax error in line 15 of your code-listing, since <code>JTextField</code> has no static method <code>getDateEditor()</code>"}],"answers":[{"tags":[],"owner":{"account_id":6880346,"reputation":1,"user_id":5287259,"display_name":"khaled sahoury"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463438087,"creation_date":1463438087,"answer_id":37264324,"question_id":36895567,"body_markdown":"1 - here to set the date from jDateChooser to string \r\n\r\nString dob=&quot;&quot;+jDateChooser1.getDate();\r\n\r\n2 - to insert the date to database you should set the format first \r\n\r\n SimpleDateFormat Date_Format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n Date_Format.format(jDateChooser1.getDate())\r\n","title":"How to insert date value from jdatechooser to database table","body":"<p>1 - here to set the date from jDateChooser to string </p>\n\n<p>String dob=\"\"+jDateChooser1.getDate();</p>\n\n<p>2 - to insert the date to database you should set the format first </p>\n\n<p>SimpleDateFormat Date_Format = new SimpleDateFormat(\"yyyy-MM-dd\");\n Date_Format.format(jDateChooser1.getDate())</p>\n"}],"owner":{"account_id":7868012,"reputation":31,"user_id":5946259,"display_name":"Ahamed Zahid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8655,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699931371,"creation_date":1461774214,"question_id":36895567,"body_markdown":"     private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n            String G_ID=gIDText.getText();\r\n            String G_Title=(String) titleCombo.getSelectedItem();\r\n            String FName=fNameText.getText();\r\n            String SName=sureNameText.getText();\r\n            String Sex=(String) genderCombo.getSelectedItem();\r\n            String dob=(JTextField)dobDte.getDateEditor().getUiComponent().getText();//error\r\n            int age=Integer.parseInt(ageText.getText());\r\n            String country=contactText.getText();\r\n            String nationality=nationText.getText();\r\n            String ZipCode=zipCodeText.getText();\r\n            String email=mailText.getText();\r\n            String PassportNo=passportText.getText();\r\n            String IssuedDate=(JTextField)issDte.getDateEditor().getUiComponent().getText();//Error\r\n            String ExpiryDate=(JTextField).getDateEditor().getUiComponent().getText();//error\r\n            String PIDNo=pidText.getText();\r\n            int ContactNo=Integer.parseInt(contactText.getText());\r\n        \r\n            Guest guest=new Guest(G_ID,G_Title,FName,SName,Sex,dob,age,country,nationality,ZipCode,email,PassportNo,IssuedDate,ExpiryDate,PIDNo,ContactNo);\r\n            try {\r\n                    boolean isAdded=GuestController.addGuest(guest);\r\n                    if (isAdded) {\r\n                        JOptionPane.showMessageDialog(NewGuest.this,&quot;Registered Success !&quot;);\r\n                    }else{\r\n                        JOptionPane.showMessageDialog(NewGuest.this,&quot;Unable to Register ! !&quot;);\r\n                }\r\n        }catch(SQLException | ClassNotFoundException ex){\r\n\t\tJOptionPane.showMessageDialog(NewGuest.this,ex.getMessage());\r\n\t}\r\n    }                                     \r\n\r\n&gt; (mvc)I have tried to insert date from jdatechooser to mysql database,but its shows error,please help me to fix this and if can please retype the correct code for me","title":"How to insert date value from jdatechooser to database table","body":"<pre><code> private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        String G_ID=gIDText.getText();\n        String G_Title=(String) titleCombo.getSelectedItem();\n        String FName=fNameText.getText();\n        String SName=sureNameText.getText();\n        String Sex=(String) genderCombo.getSelectedItem();\n        String dob=(JTextField)dobDte.getDateEditor().getUiComponent().getText();//error\n        int age=Integer.parseInt(ageText.getText());\n        String country=contactText.getText();\n        String nationality=nationText.getText();\n        String ZipCode=zipCodeText.getText();\n        String email=mailText.getText();\n        String PassportNo=passportText.getText();\n        String IssuedDate=(JTextField)issDte.getDateEditor().getUiComponent().getText();//Error\n        String ExpiryDate=(JTextField).getDateEditor().getUiComponent().getText();//error\n        String PIDNo=pidText.getText();\n        int ContactNo=Integer.parseInt(contactText.getText());\n\n        Guest guest=new Guest(G_ID,G_Title,FName,SName,Sex,dob,age,country,nationality,ZipCode,email,PassportNo,IssuedDate,ExpiryDate,PIDNo,ContactNo);\n        try {\n                boolean isAdded=GuestController.addGuest(guest);\n                if (isAdded) {\n                    JOptionPane.showMessageDialog(NewGuest.this,\"Registered Success !\");\n                }else{\n                    JOptionPane.showMessageDialog(NewGuest.this,\"Unable to Register ! !\");\n            }\n    }catch(SQLException | ClassNotFoundException ex){\n    JOptionPane.showMessageDialog(NewGuest.this,ex.getMessage());\n}\n}                                     \n</code></pre>\n\n<blockquote>\n  <p>(mvc)I have tried to insert date from jdatechooser to mysql database,but its shows error,please help me to fix this and if can please retype the correct code for me</p>\n</blockquote>\n"},{"tags":["java","message"],"answers":[{"comments":[{"owner":{"account_id":4642869,"reputation":13,"user_id":3762162,"display_name":"user3762162"},"score":0,"creation_date":1415786718,"post_id":26884040,"comment_id":42323592,"body_markdown":"thanks a lot, and sorry because i&#39;m afraid if i don&#39;t give enough detail. I&#39;m quite new here","body":"thanks a lot, and sorry because i&#39;m afraid if i don&#39;t give enough detail. I&#39;m quite new here"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1415786817,"post_id":26884040,"comment_id":42323637,"body_markdown":"@user3762162 no, you were providing too many details, leaving out the blocks for `humanMove`, `checkMove` and `check` would result in a reasonably sized question without any relevant part missing ;) - And since you&#39;re new here I added a link with some tips on how to maximise your chances of getting answers. :)","body":"@user3762162 no, you were providing too many details, leaving out the blocks for <code>humanMove</code>, <code>checkMove</code> and <code>check</code> would result in a reasonably sized question without any relevant part missing ;) - And since you&#39;re new here I added a link with some tips on how to maximise your chances of getting answers. :)"},{"owner":{"account_id":4642869,"reputation":13,"user_id":3762162,"display_name":"user3762162"},"score":0,"creation_date":1415786969,"post_id":26884040,"comment_id":42323715,"body_markdown":"Ok, fixed. I won&#39;t repeat the mistake again next time. thank you :D","body":"Ok, fixed. I won&#39;t repeat the mistake again next time. thank you :D"}],"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699931305,"creation_date":1415786285,"answer_id":26884040,"question_id":26883993,"body_markdown":"You either need to pass `p.message` to the dialog or override Problem&#39;s `toString()` method and return `message` there. What you&#39;re seeing is the output of standard `toString()`, i.e. class name + instance id.","title":"Error message doesn&#39;t display correctly","body":"<p>You either need to pass <code>p.message</code> to the dialog or override Problem's <code>toString()</code> method and return <code>message</code> there. What you're seeing is the output of standard <code>toString()</code>, i.e. class name + instance id.</p>\n"}],"owner":{"account_id":4642869,"reputation":13,"user_id":3762162,"display_name":"user3762162"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26884040,"answer_count":1,"score":1,"last_activity_date":1699931305,"creation_date":1415786150,"question_id":26883993,"body_markdown":"I&#39;m trying to make dialog that will display an error message whenever I make wrong move in my scrabble game. So in Problem.java, I make it like this\r\n\r\n\tclass Problem\r\n    {\r\n       Problem(String s)\r\n\t  {\r\n            message = s;\r\n\t  }\r\n    }\r\n\r\nSo I write code to display the warning like this :\r\n       \r\n        void displayProblem(Problem p)\r\n        {\r\n            \r\n            JOptionPane.showMessageDialog(this,p, &quot;WARNING!&quot;,JOptionPane.WARNING_MESSAGE);\r\n        }\r\n\r\n\r\nI expect error message when I don&#39;t put tile something like this :\r\n&quot;no tiles placed&quot;\r\njust like what&#39;s in the code but it ended up like this :\r\n\r\n![enter image description here][1]\r\n\r\nWhat&#39;s wrong with my code anyway?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/eKl7H.png","title":"Error message doesn&#39;t display correctly","body":"<p>I'm trying to make dialog that will display an error message whenever I make wrong move in my scrabble game. So in Problem.java, I make it like this</p>\n\n<pre><code>class Problem\n{\n   Problem(String s)\n  {\n        message = s;\n  }\n}\n</code></pre>\n\n<p>So I write code to display the warning like this :</p>\n\n<pre><code>    void displayProblem(Problem p)\n    {\n\n        JOptionPane.showMessageDialog(this,p, \"WARNING!\",JOptionPane.WARNING_MESSAGE);\n    }\n</code></pre>\n\n<p>I expect error message when I don't put tile something like this :\n\"no tiles placed\"\njust like what's in the code but it ended up like this :</p>\n\n<p><img src=\"https://i.stack.imgur.com/eKl7H.png\" alt=\"enter image description here\"></p>\n\n<p>What's wrong with my code anyway?</p>\n"},{"tags":["java","urlencode","iso-8859-1","urldecode"],"comments":[{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":2,"creation_date":1699931096,"post_id":77477958,"comment_id":136589898,"body_markdown":"post your code snippet , we could not help with you that through guess the issue","body":"post your code snippet , we could not help with you that through guess the issue"},{"owner":{"account_id":29896615,"reputation":1,"user_id":22911342,"display_name":"shlim"},"score":0,"creation_date":1699937834,"post_id":77477958,"comment_id":136590428,"body_markdown":"String param = {some EUC-KR UrlEncoding value};\n    byte[] paramByte = param.getBytes(&quot;ISO-8859-1&quot;);\n    String paramStr = new String(paramByte, &quot;EUC-KR&quot;);","body":"String param = {some EUC-KR UrlEncoding value};     byte[] paramByte = param.getBytes(&quot;ISO-8859-1&quot;);     String paramStr = new String(paramByte, &quot;EUC-KR&quot;);"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1700003797,"post_id":77477958,"comment_id":136601147,"body_markdown":"Please don&#39;t add comments to clarify; [edit] your question instead. Code is hard to read in comments. Make sure it&#39;s a [mcve] and include the relevant server settings (locale).","body":"Please don&#39;t add comments to clarify; <a href=\"https://stackoverflow.com/posts/77477958/edit\">edit</a> your question instead. Code is hard to read in comments. Make sure it&#39;s a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and include the relevant server settings (locale)."}],"owner":{"account_id":29896615,"reputation":1,"user_id":22911342,"display_name":"shlim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699930863,"creation_date":1699930863,"question_id":77477958,"body_markdown":"when tomcat server have some UrlEncoding parameter, (EUC-KR UrlEncoding value)\r\nthis works well in my service\r\n1. String.getBytes(ISO-8859-1)\r\n2. new String(EUC-KR)\r\n\r\nwhy is this work?\r\n\r\nwhen i run this logic in my local env, it doesn&#39;t work and urldecoder.decode is working.","title":"Doing String UrlDecode without Using UrlDecoder.decode function","body":"<p>when tomcat server have some UrlEncoding parameter, (EUC-KR UrlEncoding value)\nthis works well in my service</p>\n<ol>\n<li>String.getBytes(ISO-8859-1)</li>\n<li>new String(EUC-KR)</li>\n</ol>\n<p>why is this work?</p>\n<p>when i run this logic in my local env, it doesn't work and urldecoder.decode is working.</p>\n"},{"tags":["java","operating-system","settings","configuration-files"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1228207693,"creation_date":1228207693,"answer_id":333381,"question_id":333317,"body_markdown":"It&#39;s unusual for a window app to save data in user.home but not &quot;wrong&quot;. Windows applications love to spread their data all over the place (a bit in the registry, a bit in the application&#39;s install directory, a bit in the Windows directory, a bit in System32, a bit here and a bit there). In the end, this makes it impossible to cleanly backup or remove something which results in the famous &quot;Windows rot&quot; (i.e. you have to reinstall every few months).\r\n\r\nAnyway. If you really don&#39;t want to use user.home (and I see no reason not to), use code like [this from Apache commons-lang](http://commons.apache.org/lang/xref/org/apache/commons/lang/SystemUtils.html#1007) to figure out if you&#39;re running on Windows. If this yields true, pop up a directory selection dialog where the user can specify where they want to save their data.\r\n\r\nSave this information in Preferences and use this path the next time when your app is started. This way, users can specify where they want their data and you only have to leave one bit of information in the prefs.\r\n\r\n","title":"Saving user settings/database/cache... in Java (On every OS)","body":"<p>It's unusual for a window app to save data in user.home but not \"wrong\". Windows applications love to spread their data all over the place (a bit in the registry, a bit in the application's install directory, a bit in the Windows directory, a bit in System32, a bit here and a bit there). In the end, this makes it impossible to cleanly backup or remove something which results in the famous \"Windows rot\" (i.e. you have to reinstall every few months).</p>\n\n<p>Anyway. If you really don't want to use user.home (and I see no reason not to), use code like <a href=\"http://commons.apache.org/lang/xref/org/apache/commons/lang/SystemUtils.html#1007\" rel=\"nofollow noreferrer\">this from Apache commons-lang</a> to figure out if you're running on Windows. If this yields true, pop up a directory selection dialog where the user can specify where they want to save their data.</p>\n\n<p>Save this information in Preferences and use this path the next time when your app is started. This way, users can specify where they want their data and you only have to leave one bit of information in the prefs.</p>\n"},{"comments":[{"owner":{"account_id":1254,"reputation":57918,"user_id":1666,"accept_rate":84,"display_name":"SCdF"},"score":0,"creation_date":1228210003,"post_id":333397,"comment_id":170687,"body_markdown":"Lots of apps do this, pidgin etc","body":"Lots of apps do this, pidgin etc"}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1228208451,"creation_date":1228208451,"answer_id":333397,"question_id":333317,"body_markdown":"For an application &quot;foo&quot; I&#39;d create a directory named &quot;.foo&quot; inside user.home. For Windows it will look slightly strange, but almost noone ever looks in that directory (and it&#39;s filled with obscure directories anyway) and on Linux/Solaris/... it will result in a hidden directory that doesn&#39;t clutter the users home directory visually.","title":"Saving user settings/database/cache... in Java (On every OS)","body":"<p>For an application \"foo\" I'd create a directory named \".foo\" inside user.home. For Windows it will look slightly strange, but almost noone ever looks in that directory (and it's filled with obscure directories anyway) and on Linux/Solaris/... it will result in a hidden directory that doesn't clutter the users home directory visually.</p>\n"},{"tags":[],"owner":{"account_id":17180,"reputation":27171,"user_id":38207,"accept_rate":83,"display_name":"James Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699930573,"creation_date":1228209346,"answer_id":333425,"question_id":333317,"body_markdown":"The problem is not Windows but the standard Java setup.\r\n\r\nLong discussion: \r\n[JDK-4787931](https://bugs.java.com/bugdatabase/view_bug?bug_id=4787931).\r\n\r\nI would advise picking this up on a `-D MYLOC=%USERPROFILE%` property on the command line.\r\n\r\nNote that you will only get a &quot;USERPROFILE&quot; if the user did a desktop login, this does not get set if the user logged in remotely with Citrix or similar or via SSH, also, corporate desktops mess around with this setting and may set it to something unusable. ","title":"Saving user settings/database/cache... in Java (On every OS)","body":"<p>The problem is not Windows but the standard Java setup.</p>\n<p>Long discussion:\n<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4787931\" rel=\"nofollow noreferrer\">JDK-4787931</a>.</p>\n<p>I would advise picking this up on a <code>-D MYLOC=%USERPROFILE%</code> property on the command line.</p>\n<p>Note that you will only get a &quot;USERPROFILE&quot; if the user did a desktop login, this does not get set if the user logged in remotely with Citrix or similar or via SSH, also, corporate desktops mess around with this setting and may set it to something unusable.</p>\n"},{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1228211657,"creation_date":1228211657,"answer_id":333500,"question_id":333317,"body_markdown":"On my WinXP Pro SP3 system, user.home points to `C:\\Documents and settings\\&lt;username&gt;`\r\nLot of applications just store their data there (instead of this path + Application data, but some others go down to there), creating a directory in Unix style, ie. dot + application name (examples: .antexplorer, .sqlworkbench, .squirrel-sql, .SunDownloadManager, .p4qt, .gimp-2.4, etc.).\r\n\r\nLooks like a decent, common practice...","title":"Saving user settings/database/cache... in Java (On every OS)","body":"<p>On my WinXP Pro SP3 system, user.home points to <code>C:\\Documents and settings\\&lt;username&gt;</code>\nLot of applications just store their data there (instead of this path + Application data, but some others go down to there), creating a directory in Unix style, ie. dot + application name (examples: .antexplorer, .sqlworkbench, .squirrel-sql, .SunDownloadManager, .p4qt, .gimp-2.4, etc.).</p>\n\n<p>Looks like a decent, common practice...</p>\n"},{"tags":[],"owner":{"account_id":663298,"reputation":11,"user_id":487945,"display_name":"orcus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313414504,"creation_date":1288116459,"answer_id":4026581,"question_id":333317,"body_markdown":"dynamically read (from your code) the value of `APPDATA` environment variable, and store your config files in `%APPDATA%\\\\.myapp\\config`\r\n\r\n==&gt; value is platform dependent, do not use any hard-coded paths, always read the env. var.","title":"Saving user settings/database/cache... in Java (On every OS)","body":"<p>dynamically read (from your code) the value of <code>APPDATA</code> environment variable, and store your config files in <code>%APPDATA%\\\\.myapp\\config</code></p>\n\n<p>==> value is platform dependent, do not use any hard-coded paths, always read the env. var.</p>\n"}],"owner":{"account_id":18428,"reputation":4733,"user_id":42198,"accept_rate":53,"display_name":"Somatik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2497,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":333500,"answer_count":5,"score":7,"last_activity_date":1699930573,"creation_date":1228205574,"question_id":333317,"body_markdown":"My Java application is saving stuff in &#39;user.home&#39; but on windows this does not seem to be the correct path to save application information (as a friend told me). An other option is using the preferences api but it&#39;s not possible to set up the hsqldb location using the preferences api. Also, I want all files to be available in the same folder (local database, config, cache, ...).\r\n\r\nI&#39;m looking for some example code or a framework that takes care of os-specific stuff.","title":"Saving user settings/database/cache... in Java (On every OS)","body":"<p>My Java application is saving stuff in 'user.home' but on windows this does not seem to be the correct path to save application information (as a friend told me). An other option is using the preferences api but it's not possible to set up the hsqldb location using the preferences api. Also, I want all files to be available in the same folder (local database, config, cache, ...).</p>\n\n<p>I'm looking for some example code or a framework that takes care of os-specific stuff.</p>\n"},{"tags":["java","tokenize"],"comments":[{"owner":{"account_id":64324,"reputation":76490,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":2,"creation_date":1299194253,"post_id":5187820,"comment_id":5829772,"body_markdown":"Out of curiosity, in what ways do you find the default tokenizers poor?  (will help to answer your question)","body":"Out of curiosity, in what ways do you find the default tokenizers poor?  (will help to answer your question)"},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1699930565,"post_id":5187820,"comment_id":136589848,"body_markdown":"I have a library you might find useful https://github.com/mtimmerm/dfalex","body":"I have a library you might find useful <a href=\"https://github.com/mtimmerm/dfalex\" rel=\"nofollow noreferrer\">github.com/mtimmerm/dfalex</a>"}],"answers":[{"comments":[{"owner":{"account_id":39274,"reputation":6968,"user_id":113173,"accept_rate":75,"display_name":"jdc0589"},"score":0,"creation_date":1299194843,"post_id":5187861,"comment_id":5829877,"body_markdown":"I almost excluded ANTLR from suggestions, because of exactly what you mentioned.","body":"I almost excluded ANTLR from suggestions, because of exactly what you mentioned."},{"owner":{"account_id":39274,"reputation":6968,"user_id":113173,"accept_rate":75,"display_name":"jdc0589"},"score":0,"creation_date":1299195515,"post_id":5187861,"comment_id":5830004,"body_markdown":"Also, the source code/script files I find myself parsing are generally simple enough that using ANTLR would take more time than doing one by hand, for example: https://github.com/jdc0589/jTranslate/blob/master/test/testGrammars/parseTest.jtg","body":"Also, the source code/script files I find myself parsing are generally simple enough that using ANTLR would take more time than doing one by hand, for example: <a href=\"https://github.com/jdc0589/jTranslate/blob/master/test/testGrammars/parseTest.jtg\" rel=\"nofollow noreferrer\">github.com/jdc0589/jTranslate/blob/master/test/testGrammars/&zwnj;&#8203;&hellip;</a>"},{"owner":{"display_name":"user206428"},"score":0,"creation_date":1299197145,"post_id":5187861,"comment_id":5830235,"body_markdown":"Righteo - just thought I&#39;d throw it out there. Thanks for your mention of jTopas by the way, which looks quite nice.","body":"Righteo - just thought I&#39;d throw it out there. Thanks for your mention of jTopas by the way, which looks quite nice."},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1309715658,"post_id":5187861,"comment_id":7737919,"body_markdown":"@jdc0589, @sharky, ANTLR can also be used to generate only a tokenizer without a parser.","body":"@jdc0589, @sharky, ANTLR can also be used to generate only a tokenizer without a parser."}],"tags":[],"owner":{"display_name":"user206428"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299194362,"creation_date":1299194362,"answer_id":5187861,"question_id":5187820,"body_markdown":"I really like [ANTLR][1], although it may be quite heavyweight if you only need to perform tokenisation - but it&#39;s great if you need a lexer/parser, particularly in Java.  \r\n\r\n  [1]: http://www.antlr.org/","title":"Good java tokenizers?","body":"<p>I really like <a href=\"http://www.antlr.org/\" rel=\"nofollow\">ANTLR</a>, although it may be quite heavyweight if you only need to perform tokenisation - but it's great if you need a lexer/parser, particularly in Java.  </p>\n"},{"comments":[{"owner":{"account_id":39274,"reputation":6968,"user_id":113173,"accept_rate":75,"display_name":"jdc0589"},"score":0,"creation_date":1299195147,"post_id":5187926,"comment_id":5829937,"body_markdown":"Did not know about jFlex, will take a look.","body":"Did not know about jFlex, will take a look."}],"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299194812,"creation_date":1299194812,"answer_id":5187926,"question_id":5187820,"body_markdown":"Although it is included in the jdk, have you looked at [java.util.Scanner][1]? I have also used [JFlex][2] some time ago and found it quite good.\r\n\r\n [1]: http://download.oracle.com/javase/6/docs/api/java/util/Scanner.html\r\n [2]: http://jflex.de/\r\n\r\n","title":"Good java tokenizers?","body":"<p>Although it is included in the jdk, have you looked at <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Scanner.html\" rel=\"nofollow\">java.util.Scanner</a>? I have also used <a href=\"http://jflex.de/\" rel=\"nofollow\">JFlex</a> some time ago and found it quite good.</p>\n"}],"owner":{"account_id":39274,"reputation":6968,"user_id":113173,"accept_rate":75,"display_name":"jdc0589"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":925,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1699948849,"answer_count":2,"score":1,"last_activity_date":1699929472,"creation_date":1299194113,"question_id":5187820,"body_markdown":"I am curious about any good tokenizers out there for java OTHER THAN those included in the standard libs such as StreamTokenizer and StringTokenizer, which in my opinion are not very good.\r\n\r\nThe only one I know of is [jTopas][1], which is excellent. So, what else is out there?\r\n\r\n***Lets exclude ANTLR from suggestions. Also, I know writing one from scratch is fairly easy, but having done so a few times I found that I prefer to use something generic.\r\n\r\n\r\n  [1]: http://jtopas.sourceforge.net/jtopas/index.html","title":"Good java tokenizers?","body":"<p>I am curious about any good tokenizers out there for java OTHER THAN those included in the standard libs such as StreamTokenizer and StringTokenizer, which in my opinion are not very good.</p>\n\n<p>The only one I know of is <a href=\"http://jtopas.sourceforge.net/jtopas/index.html\" rel=\"nofollow\">jTopas</a>, which is excellent. So, what else is out there?</p>\n\n<p>***Lets exclude ANTLR from suggestions. Also, I know writing one from scratch is fairly easy, but having done so a few times I found that I prefer to use something generic.</p>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":1,"creation_date":1699826067,"post_id":77470717,"comment_id":136576784,"body_markdown":"calling from c++ via jni, the constructed class loader is deleted after the scope exits (or at least that is what i think is the issue here). call NewGlobalRef on the constructed class loader, and return the return value of that function","body":"calling from c++ via jni, the constructed class loader is deleted after the scope exits (or at least that is what i think is the issue here). call NewGlobalRef on the constructed class loader, and return the return value of that function"},{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":2,"creation_date":1699826170,"post_id":77470717,"comment_id":136576794,"body_markdown":"additionally: i am assuming you&#39;re calling loadClass on your custom class loader when using client.getClass. does that class loader know about the other class loaders, so it can delegate in case of not finding a class? (mainly application and boot class loader)","body":"additionally: i am assuming you&#39;re calling loadClass on your custom class loader when using client.getClass. does that class loader know about the other class loaders, so it can delegate in case of not finding a class? (mainly application and boot class loader)"},{"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"score":0,"creation_date":1699827730,"post_id":77470717,"comment_id":136576919,"body_markdown":"@0x150 I think that&#39;s it. Does the class loader need to know about other class loaders and how do you make it do that? Also, I&#39;m not calling loadClass. I&#39;m using env-&gt;DefineClass.","body":"@0x150 I think that&#39;s it. Does the class loader need to know about other class loaders and how do you make it do that? Also, I&#39;m not calling loadClass. I&#39;m using env-&gt;DefineClass."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699829107,"post_id":77470717,"comment_id":136577032,"body_markdown":"Only that classloader knows about the injected class. You need to set that class loader as the thread context class loader. NB if `FindClass()` and friends return null there is a pending Java exception ...","body":"Only that classloader knows about the injected class. You need to set that class loader as the thread context class loader. NB if <code>FindClass()</code> and friends return null there is a pending Java exception ..."},{"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"score":0,"creation_date":1699830871,"post_id":77470717,"comment_id":136577190,"body_markdown":"@0x150 How do you get the thread context class loader in JNI? Or is there a way for it to work to use my current class loader?","body":"@0x150 How do you get the thread context class loader in JNI? Or is there a way for it to work to use my current class loader?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699835838,"post_id":77470717,"comment_id":136577520,"body_markdown":"I think you would have to do it in Java. It would be easier to define the classloader from there anyway.","body":"I think you would have to do it in Java. It would be easier to define the classloader from there anyway."},{"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"score":0,"creation_date":1699838745,"post_id":77470717,"comment_id":136577690,"body_markdown":"@user207421 But all of this has to be done in the JNI, because I don&#39;t have access to the process code.","body":"@user207421 But all of this has to be done in the JNI, because I don&#39;t have access to the process code."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1699873010,"post_id":77470717,"comment_id":136581207,"body_markdown":"`java.lang.ClassLoader#getSystemClassLoader`? Alternatively enumerate all threads and check their context class loader.","body":"<code>java.lang.ClassLoader#getSystemClassLoader</code>? Alternatively enumerate all threads and check their context class loader."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699909075,"post_id":77470717,"comment_id":136587655,"body_markdown":"Well you would have to call `Thread.setContextClassLoader()` or whatever it is from JNI.","body":"Well you would have to call <code>Thread.setContextClassLoader()</code> or whatever it is from JNI."}],"answers":[{"tags":[],"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699928110,"creation_date":1699928110,"answer_id":77477838,"question_id":77470717,"body_markdown":"Thanks to 0x150 I found a solution for anyone who has the same problem.\r\nJust get the classloader from a random class.\r\n```cpp\r\njobject JavaUtils::getClassLoader() {\r\n    std::cout &lt;&lt; &quot;Getting class loader&quot; &lt;&lt; std::endl;\r\n    jclass classClass = client-&gt;getClass(&quot;java.lang.Class&quot;);\r\n    jclass mcClass = client-&gt;getClass(&quot;net.minecraft.client.Minecraft&quot;);\r\n    jmethodID getClassLoader = client-&gt;env-&gt;GetMethodID(classClass, &quot;getClassLoader&quot;, &quot;()Ljava/lang/ClassLoader;&quot;);\r\n    jobject classLoader = client-&gt;env-&gt;CallObjectMethod(mcClass, getClassLoader);\r\n\r\n    return classLoader;\r\n}\r\n```","title":"JNI NoClassDefFoundError while executing method in injected jar","body":"<p>Thanks to 0x150 I found a solution for anyone who has the same problem.\nJust get the classloader from a random class.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>jobject JavaUtils::getClassLoader() {\n    std::cout &lt;&lt; &quot;Getting class loader&quot; &lt;&lt; std::endl;\n    jclass classClass = client-&gt;getClass(&quot;java.lang.Class&quot;);\n    jclass mcClass = client-&gt;getClass(&quot;net.minecraft.client.Minecraft&quot;);\n    jmethodID getClassLoader = client-&gt;env-&gt;GetMethodID(classClass, &quot;getClassLoader&quot;, &quot;()Ljava/lang/ClassLoader;&quot;);\n    jobject classLoader = client-&gt;env-&gt;CallObjectMethod(mcClass, getClassLoader);\n\n    return classLoader;\n}\n</code></pre>\n"}],"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77477838,"answer_count":1,"score":0,"last_activity_date":1699928110,"creation_date":1699824011,"question_id":77470717,"body_markdown":"I am getting `NoClassDefFoundError` when trying to inject a jar file into a running java process.\r\n\r\nJar file bytes:\r\n```cpp\r\nstatic const unsigned char lib_bytes[] = {\r\n        0x50, 0x4b, 0x03, 0x04, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x14, 0x00, 0x04, 0x00, 0x4d, 0x45, 0x54, 0x41, 0x2d, 0x49, 0x4e, 0x46, 0x2f, 0x4d, 0x41, 0x4e, 0x49, 0x46, 0x45, 0x53, 0x54, 0x2e, 0x4d, 0x46, 0xfe, 0xca, 0x00, 0x00, 0x7d, 0x52, 0xcb, 0x6e, 0xe3, 0x30, 0x0c, 0xbc, 0x07, 0xc8, 0x3f, 0xf8, 0x07, 0x28, 0xf8, 0x15, 0xa7, 0xee, 0x75, 0x81, 0xbd, 0x15, 0xe8, 0xa9, 0xd7, 0x85, 0xe2, 0x28, 0x36, 0x0d, 0x59, 0x32, 0x24, 0x3a, 0xde, 0xfc, 0xfd, 0x52, 0xb2, 0xf3, 0x30, 0x5a, 0x2c, 0x72, 0xb1, 0xc8, 0x99, 0xe1, 0x70, 0xc2, 0x0f, 0x69, 0xf0, 0xa2, 0x3c, 0xc1, 0x97, 0x72, 0x1e, 0xad, 0x79, 0x4f, 0x32, 0x91, 0xee, 0x77, 0xbf, 0xb4, 0xf4, 0x1e, 0x3e, 0x25, 0x75, 0xef, 0x89, 0xf4, 0x03, 0xd4, 0xa2, 0x14, 0xbd, 0x74, 0x49, 0x6f, 0x24, 0x14, 0xfc, 0x9d, 0xc6, 0xd7, 0x07, 0x1a, 0xd5, 0x38, 0x79, 0xa1, 0xf8, 0x32, 0x8a, 0xe8, 0x06, 0x99, 0xa8, 0xe2, 0xab, 0xf5, 0xd6, 0x40, 0xbe, 0xdf, 0x25, 0x22, 0x5f, 0xb9, 0xed, 0x24, 0xaf, 0x12, 0xb2, 0xe3, 0x4a, 0xa6, 0x19, 0xa9, 0xe9, 0xa0, 0x12, 0x87, 0x45, 0x19, 0xcd, 0x38, 0x11, 0xe4, 0xdc, 0x5d, 0x0b, 0x13, 0xa1, 0xf6, 0xac, 0x97, 0x46, 0x02, 0x2b, 0xb9, 0xc4, 0xfa, 0x0e, 0xa1, 0xb1, 0x4e, 0x71, 0x39, 0x8b, 0x28, 0xa7, 0xa4, 0x1e, 0x02, 0xea, 0x28, 0x8a, 0x3a, 0x56, 0xe4, 0x44, 0x9d, 0xc6, 0x13, 0x97, 0x0e, 0x22, 0x5f, 0x40, 0x8d, 0x1d, 0x06, 0x6b, 0x3c, 0xa0, 0x65, 0xfd, 0x32, 0x78, 0x0a, 0xd5, 0x8e, 0x68, 0x8c, 0x5a, 0xa5, 0x28, 0xd8, 0x64, 0x28, 0x8d, 0x5a, 0xd2, 0xc5, 0xba, 0xe1, 0x65, 0xc7, 0xde, 0x8e, 0x04, 0x1e, 0x87, 0x51, 0x07, 0x60, 0xf5, 0x64, 0x6a, 0x54, 0xac, 0x64, 0x28, 0xd2, 0x8b, 0x75, 0xce, 0x59, 0x35, 0xb3, 0xbc, 0x42, 0x9e, 0x66, 0xfc, 0xcb, 0x8b, 0xcd, 0xf4, 0xd8, 0x65, 0x5b, 0xf5, 0xa6, 0xaa, 0xa5, 0x69, 0x0b, 0x60, 0xa5, 0xe2, 0xe1, 0x42, 0xdb, 0xb6, 0xec, 0x41, 0x8e, 0x18, 0xd2, 0x80, 0x93, 0x22, 0x59, 0x3f, 0xe5, 0x7b, 0xeb, 0x4e, 0xe8, 0xb7, 0x13, 0x16, 0x42, 0xdc, 0x25, 0x26, 0xfe, 0x4a, 0xf2, 0x76, 0x32, 0x67, 0x7f, 0xf3, 0xa4, 0x86, 0x40, 0x0a, 0xbc, 0xe3, 0xd6, 0x80, 0x6d, 0x5b, 0x34, 0x6d, 0x4c, 0x74, 0x63, 0x98, 0x95, 0x58, 0x73, 0x18, 0x9d, 0xf2, 0x21, 0xe0, 0xb7, 0x35, 0x71, 0x6c, 0xa6, 0xfb, 0xb0, 0xc1, 0xf6, 0xec, 0x1e, 0x0e, 0xd9, 0x6a, 0x7c, 0xb9, 0x00, 0xa9, 0x35, 0x84, 0xf4, 0xd8, 0xdc, 0x6f, 0x34, 0x52, 0x8b, 0x9e, 0x95, 0x82, 0x4b, 0x3c, 0x39, 0xe9, 0x6e, 0x3d, 0x5f, 0x41, 0x34, 0xb5, 0xec, 0x90, 0xdd, 0x77, 0x58, 0xba, 0x7a, 0xee, 0x5b, 0x6d, 0x47, 0xc5, 0xbc, 0xd8, 0x4f, 0xdf, 0xf2, 0xe5, 0x7a, 0x62, 0x23, 0xe4, 0x94, 0x73, 0x80, 0x25, 0x18, 0x6c, 0x3b, 0xd2, 0xb7, 0x80, 0x39, 0xa4, 0x79, 0x5a, 0x3f, 0x31, 0x7f, 0xc2, 0xdd, 0xc0, 0x7f, 0x50, 0xcb, 0xa5, 0x85, 0xed, 0x1e, 0x7f, 0x77, 0xbc, 0x3a, 0x30, 0x92, 0xf0, 0xaa, 0x3c, 0xcc, 0x68, 0xce, 0x76, 0xf6, 0xaf, 0x57, 0xfa, 0x40, 0x56, 0xdf, 0x71, 0x41, 0xa9, 0x2a, 0x5f, 0xd1, 0xea, 0x2f, 0x29, 0x17, 0x36, 0x78, 0xd0, 0xca, 0xef, 0xb4, 0x3b, 0x67, 0x59, 0x2c, 0x22, 0x59, 0x69, 0x71, 0xf3, 0x93, 0xf7, 0x9f, 0xec, 0xed, 0x77, 0xfb, 0xdd, 0x3f, 0x50, 0x4b, 0x07, 0x08, 0x61, 0xd5, 0x4a, 0x60, 0xc0, 0x01, 0x00, 0x00, 0xc2, 0x03, 0x00, 0x00, 0x50, 0x4b, 0x03, 0x04, 0x0a, 0x00, 0x00, 0x08, 0x00, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x4d, 0x45, 0x54, 0x41, 0x2d, 0x49, 0x4e, 0x46, 0x2f, 0x50, 0x4b, 0x03, 0x04, 0x0a, 0x00, 0x00, 0x08, 0x00, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x50, 0x4b, 0x03, 0x04, 0x0a, 0x00, 0x00, 0x08, 0x00, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x50, 0x4b, 0x03, 0x04, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0xe4, 0x99, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x21, 0x00, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x48, 0x61, 0x63, 0x6b, 0x43, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x61, 0x74, 0x63, 0x68, 0x65, 0x72, 0x24, 0x31, 0x2e, 0x63, 0x6c, 0x61, 0x73, 0x73, 0x8d, 0x53, 0x6d, 0x4f, 0x13, 0x41, 0x10, 0x7e, 0x96, 0x1e, 0x3d, 0x28, 0x07, 0xc5, 0x62, 0x95, 0x5a, 0xd0, 0x8a, 0x55, 0xdb, 0x5a, 0x38, 0x4e, 0xf1, 0xb5, 0x84, 0x0f, 0x10, 0x0c, 0x24, 0x05, 0x4c, 0x30, 0x4d, 0x94, 0x4f, 0xdb, 0x63, 0x53, 0x0e, 0xda, 0xbb, 0x7a, 0xb7, 0xad, 0xc6, 0x7f, 0xe2, 0x17, 0x7f, 0x03, 0x26, 0x06, 0x12, 0x4d, 0xfc, 0x01, 0xfe, 0x28, 0xe3, 0xdc, 0x5e, 0x23, 0x01, 0x6a, 0xf5, 0x2e, 0xd9, 0x9d, 0x9d, 0x9d, 0x79, 0x66, 0x9e, 0x99, 0xd9, 0x9f, 0xbf, 0xbe, 0xfd, 0x00, 0xb0, 0x8c, 0x4a, 0x02, 0x43, 0x88, 0xe9, 0xd0, 0x0c, 0x0c, 0x23, 0xce, 0x70, 0xd3, 0xf3, 0x1b, 0xa6, 0x57, 0x3f, 0x14, 0xb6, 0x7c, 0x2f, 0xea, 0x26, 0x0f, 0x5a, 0xe6, 0x5a, 0x93, 0x07, 0x41, 0xcd, 0x09, 0x1c, 0xe9, 0xf9, 0x0c, 0xf1, 0x65, 0xc7, 0x75, 0xe4, 0x0a, 0x43, 0xbe, 0xb0, 0x59, 0x1d, 0x6c, 0x5c, 0x29, 0xd6, 0x46, 0x30, 0xc2, 0x60, 0x34, 0x84, 0xdc, 0xf2, 0x3a, 0x81, 0xd8, 0xe9, 0x0a, 0x3f, 0x81, 0x04, 0xc6, 0x74, 0x18, 0x06, 0xc6, 0x31, 0xc1, 0x30, 0x79, 0xc8, 0xbb, 0xdc, 0x6c, 0x72, 0xb7, 0x61, 0xee, 0x4a, 0xdf, 0x71, 0x1b, 0x14, 0x41, 0xbc, 0xeb, 0xf0, 0x66, 0xc0, 0x90, 0x2e, 0x54, 0xcf, 0x6e, 0x77, 0x54, 0x98, 0x4a, 0xf1, 0xad, 0x8e, 0x49, 0x86, 0xd9, 0x96, 0x30, 0x3f, 0x8a, 0x7d, 0xe7, 0xc8, 0xdc, 0xe0, 0xf6, 0x91, 0x0a, 0xfa, 0x8a, 0x4b, 0xfb, 0x40, 0xf8, 0x79, 0x2b, 0x6f, 0xe9, 0x48, 0x31, 0x64, 0x2e, 0x27, 0xb7, 0xd3, 0xb6, 0xbd, 0x7d, 0x11, 0xc4, 0x88, 0x2a, 0x46, 0x91, 0xc6, 0x35, 0x1d, 0xd7, 0x0d, 0x4c, 0x23, 0xc3, 0x90, 0x1d, 0x00, 0xc8, 0x30, 0x64, 0x77, 0x19, 0x72, 0xff, 0xa2, 0x1b, 0x96, 0x32, 0x6b, 0x60, 0x06, 0xb3, 0x0c, 0x63, 0xdd, 0x50, 0xb9, 0x25, 0xe4, 0x81, 0xb7, 0xcf, 0xd0, 0xa2, 0x5a, 0x5d, 0x24, 0x5a, 0xf9, 0x1f, 0xcd, 0xde, 0x65, 0x55, 0xb1, 0x4f, 0x1a, 0x51, 0x9c, 0xb3, 0x3c, 0x92, 0xb8, 0x15, 0xf6, 0x33, 0xc7, 0xb0, 0x5a, 0xa8, 0x0e, 0x60, 0x56, 0xe9, 0xd7, 0xc2, 0xf3, 0x60, 0xc5, 0x1a, 0x83, 0xb6, 0x46, 0x65, 0x63, 0x48, 0x56, 0x1d, 0x57, 0x6c, 0x77, 0x5a, 0x75, 0xe1, 0xbf, 0xe6, 0xf5, 0x26, 0x69, 0x52, 0x55, 0xcf, 0xe6, 0xcd, 0x1a, 0xf7, 0x9d, 0xf0, 0xdc, 0x53, 0x6a, 0xf2, 0xc0, 0xa1, 0xee, 0xcd, 0x0e, 0x0c, 0x4c, 0x66, 0xdc, 0x6f, 0x2c, 0x32, 0xb0, 0xcd, 0x48, 0xa4, 0x2a, 0xc7, 0xb9, 0x6d, 0x8b, 0x80, 0x5c, 0x35, 0x97, 0xb7, 0x14, 0xfa, 0x25, 0xf2, 0x0c, 0x09, 0x6a, 0xa0, 0xed, 0x3b, 0x6d, 0x35, 0x8c, 0xa3, 0x81, 0xd3, 0x70, 0xb9, 0xec, 0xf8, 0x64, 0x9d, 0x10, 0x1f, 0x6c, 0xd1, 0x96, 0x8e, 0xe7, 0x12, 0xc2, 0x54, 0x9f, 0xc2, 0x31, 0x8c, 0xef, 0x4a, 0xca, 0x64, 0x8b, 0xb7, 0x7b, 0x99, 0x26, 0x76, 0xbd, 0x8e, 0x6f, 0x8b, 0x97, 0x4e, 0x78, 0x48, 0x5f, 0xcc, 0x72, 0x21, 0x44, 0x20, 0xd6, 0xeb, 0xae, 0xdd, 0xf4, 0x02, 0x42, 0x88, 0x0a, 0xa3, 0xe3, 0x31, 0x0d, 0xd7, 0x5f, 0xb9, 0x19, 0x78, 0x8a, 0x67, 0x34, 0xf3, 0xed, 0xf0, 0xa8, 0x2e, 0x04, 0xe5, 0x33, 0x5d, 0xd8, 0x5b, 0xed, 0xd3, 0xca, 0xbd, 0x55, 0x86, 0x91, 0x6d, 0x11, 0xc8, 0x0d, 0x2f, 0x90, 0xe4, 0xb4, 0xe9, 0xba, 0xc2, 0xef, 0x39, 0x21, 0x47, 0x13, 0x3a, 0x84, 0xf0, 0x0b, 0x57, 0x7a, 0x9d, 0x60, 0xb8, 0x4d, 0xd2, 0x3a, 0x62, 0xf4, 0x03, 0x7a, 0x29, 0x5b, 0x3e, 0x05, 0xfb, 0xa2, 0x0c, 0xe6, 0x68, 0x0d, 0x0d, 0x40, 0xcf, 0xea, 0x0e, 0xad, 0xb9, 0xc8, 0x04, 0x79, 0xdc, 0x55, 0x10, 0x3a, 0xee, 0xe1, 0xbe, 0xba, 0xd7, 0x51, 0x40, 0x86, 0x3c, 0x58, 0x38, 0xa8, 0x3d, 0xc8, 0xcf, 0xf4, 0x28, 0xe3, 0xb4, 0x5b, 0xe5, 0x94, 0x7e, 0x82, 0xd1, 0x4f, 0x98, 0xf9, 0x8e, 0xe4, 0x9b, 0x52, 0x6a, 0xaa, 0xf4, 0x15, 0x57, 0xb3, 0xe5, 0xf9, 0x8c, 0x96, 0x19, 0x3e, 0xc1, 0x8d, 0x53, 0xdc, 0x3c, 0x3e, 0xaf, 0x39, 0x26, 0xa7, 0x98, 0x0a, 0x3e, 0xa1, 0x02, 0x4e, 0xd2, 0xbb, 0xba, 0x42, 0xe7, 0x19, 0x95, 0xc4, 0x4a, 0x04, 0xfa, 0x27, 0x09, 0x0b, 0xc5, 0x5e, 0x12, 0x16, 0x4a, 0x78, 0xa0, 0x78, 0x59, 0x28, 0x93, 0x14, 0x53, 0xd2, 0x3c, 0x49, 0x9a, 0x92, 0x16, 0x60, 0x12, 0xe3, 0x45, 0x85, 0xce, 0xe6, 0x48, 0x69, 0x29, 0x96, 0x0f, 0xf1, 0x88, 0x76, 0x0d, 0x4b, 0x78, 0x82, 0xe7, 0x4a, 0xb3, 0x84, 0x17, 0xb4, 0xa7, 0x48, 0x4a, 0x23, 0xfa, 0x92, 0xd1, 0xf6, 0x1b, 0x50, 0x4b, 0x07, 0x08, 0xaf, 0xf7, 0x86, 0xbd, 0x86, 0x02, 0x00, 0x00, 0xe2, 0x04, 0x00, 0x00, 0x50, 0x4b, 0x03, 0x04, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0xe4, 0x99, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x48, 0x61, 0x63, 0x6b, 0x43, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x61, 0x74, 0x63, 0x68, 0x65, 0x72, 0x24, 0x31, 0x24, 0x31, 0x2e, 0x63, 0x6c, 0x61, 0x73, 0x73, 0x8d, 0x53, 0x5d, 0x4f, 0x13, 0x41, 0x14, 0x3d, 0xb7, 0x2d, 0x2d, 0x94, 0x2d, 0xd4, 0x42, 0x95, 0x0a, 0x08, 0xd4, 0xa2, 0xfd, 0xa0, 0x2c, 0xf5, 0xf3, 0x01, 0x62, 0x8c, 0x80, 0xa1, 0x49, 0x41, 0x13, 0x48, 0x5f, 0x7c, 0x9a, 0x6e, 0x27, 0xed, 0x42, 0xbb, 0x6b, 0x76, 0xb7, 0x35, 0xf1, 0x8f, 0x18, 0xfd, 0x17, 0x26, 0x8a, 0x89, 0x0f, 0x46, 0x5f, 0xfd, 0x51, 0xc6, 0x3b, 0xb3, 0x44, 0x12, 0x88, 0x85, 0x49, 0x76, 0x66, 0xf6, 0xce, 0x9d, 0x73, 0xce, 0xfd, 0x98, 0xdf, 0x7f, 0xbe, 0xff, 0x00, 0xb0, 0x85, 0xa7, 0x13, 0x88, 0x20, 0x9a, 0x40, 0xcc, 0xc0, 0x18, 0xe2, 0x84, 0xc5, 0xbe, 0x34, 0xdf, 0xcb, 0xb6, 0x7d, 0x62, 0xee, 0x09, 0xeb, 0x64, 0xbb, 0x27, 0x7c, 0xff, 0xb5, 0x08, 0xac, 0xae, 0xf4, 0x0a, 0xb5, 0x42, 0x8d, 0x10, 0x0f, 0xba, 0xb6, 0x5f, 0xd8, 0x60, 0xc7, 0xc6, 0x08, 0xcf, 0xcd, 0x24, 0xc6, 0x31, 0x91, 0x40, 0xd2, 0xc0, 0x24, 0x0c, 0xc2, 0x92, 0xeb, 0x75, 0x4c, 0xb7, 0x75, 0x2c, 0xad, 0xe0, 0x9d, 0x6c, 0x99, 0xc2, 0xef, 0x9b, 0xfb, 0x32, 0xe8, 0xba, 0xed, 0xa6, 0xed, 0xdb, 0x81, 0xeb, 0x31, 0xee, 0x96, 0xed, 0xd8, 0xc1, 0x33, 0xc2, 0x6a, 0xb1, 0xde, 0xb8, 0xc2, 0x7b, 0xb3, 0xd4, 0x4c, 0x60, 0x8a, 0x90, 0x3e, 0x16, 0x43, 0x61, 0xf6, 0x84, 0xd3, 0x31, 0x77, 0xdc, 0x41, 0xab, 0x27, 0x93, 0x48, 0x21, 0x6d, 0xe0, 0x06, 0x32, 0x84, 0xc9, 0xb6, 0x36, 0x35, 0x45, 0x6f, 0x20, 0x09, 0xd1, 0x62, 0x69, 0x27, 0xfe, 0x7c, 0x1c, 0x7a, 0xa8, 0x90, 0x6f, 0x1a, 0xb8, 0x85, 0x39, 0x42, 0xa4, 0x3f, 0x24, 0xac, 0x5c, 0xc9, 0xa8, 0xe2, 0xb9, 0x6d, 0x60, 0x1e, 0x0b, 0x04, 0x63, 0xa8, 0x8c, 0x8d, 0xb6, 0x55, 0x77, 0x7c, 0x87, 0x90, 0x2d, 0x36, 0xce, 0x75, 0xbc, 0xd2, 0x18, 0x2c, 0x90, 0xf0, 0xa2, 0x38, 0x32, 0x43, 0xd7, 0x89, 0x92, 0x10, 0xdb, 0x76, 0xdb, 0x2c, 0x7f, 0xba, 0x61, 0x3b, 0xf2, 0x60, 0xd0, 0x6f, 0x49, 0xef, 0x48, 0x70, 0x54, 0x84, 0x4c, 0xc3, 0xb5, 0x44, 0xaf, 0x29, 0x3c, 0x5b, 0xfd, 0x9f, 0x19, 0x63, 0xaa, 0x38, 0x9c, 0xed, 0x51, 0xc4, 0x4c, 0xcd, 0x8e, 0xc2, 0xeb, 0x70, 0x0d, 0xa9, 0x1e, 0x6e, 0xb9, 0xae, 0xd1, 0xa1, 0xf0, 0x14, 0xea, 0xc5, 0x94, 0xb2, 0xf3, 0xd8, 0x30, 0xcc, 0x61, 0xe6, 0x72, 0x9c, 0x84, 0xd4, 0x61, 0xc0, 0x14, 0xfb, 0xe2, 0xed, 0x99, 0x84, 0xe4, 0xa1, 0x3b, 0xf0, 0x2c, 0xf9, 0xd2, 0x56, 0x3f, 0xd9, 0x8b, 0xf4, 0xeb, 0x0a, 0x81, 0xc3, 0xd9, 0x75, 0xac, 0x9e, 0xeb, 0xdb, 0x4e, 0x27, 0x8c, 0x38, 0x01, 0x93, 0x30, 0x3f, 0x42, 0xb4, 0x81, 0x1a, 0x1e, 0x70, 0x4d, 0x75, 0xe6, 0xc3, 0x3b, 0x84, 0x3e, 0x77, 0xca, 0xb9, 0xa2, 0xc3, 0xc0, 0x63, 0xbc, 0xcd, 0xeb, 0x58, 0xde, 0x5c, 0x36, 0x95, 0xae, 0xac, 0x06, 0x61, 0xfc, 0x40, 0xfa, 0xc1, 0x9e, 0xeb, 0x07, 0x09, 0x3c, 0x26, 0xe4, 0xfe, 0x2b, 0x97, 0x3b, 0xa4, 0xee, 0x38, 0xd2, 0xd3, 0x36, 0xe9, 0x63, 0x99, 0xdb, 0x4d, 0x75, 0x1e, 0xa5, 0xd3, 0xea, 0x8d, 0xf1, 0x2e, 0xc2, 0xdf, 0x24, 0x16, 0x41, 0xb8, 0xc3, 0xbb, 0x23, 0x44, 0x11, 0xe3, 0xd5, 0x28, 0x57, 0xbe, 0x82, 0xca, 0x0b, 0xd5, 0x6f, 0x48, 0x7c, 0xd6, 0x5e, 0x4b, 0x3c, 0xc7, 0xd9, 0x0b, 0xdc, 0xd2, 0xcb, 0x3c, 0x97, 0x43, 0x3f, 0xac, 0x20, 0xaf, 0x1b, 0x59, 0xbf, 0x59, 0x7d, 0x6e, 0xe0, 0x2e, 0x0a, 0x1a, 0xd7, 0xc0, 0x2a, 0xe6, 0x18, 0x91, 0x54, 0xb3, 0x9e, 0x31, 0x0c, 0xf8, 0x9e, 0xba, 0x99, 0xaf, 0x1c, 0x54, 0x7f, 0x21, 0xf5, 0x11, 0x33, 0xd5, 0x9f, 0x48, 0xed, 0xaf, 0x9d, 0x62, 0x7a, 0x16, 0x33, 0x1f, 0x3e, 0x21, 0x5a, 0xfe, 0x82, 0x6c, 0xe5, 0x14, 0x39, 0xc5, 0x1b, 0xd5, 0xbc, 0x19, 0x7d, 0x63, 0x16, 0x53, 0xc8, 0x22, 0xc7, 0x88, 0x2b, 0x3c, 0x2b, 0x0d, 0xcb, 0x7c, 0x3e, 0xc5, 0xea, 0xef, 0xe1, 0xbe, 0xe6, 0xcb, 0xff, 0x53, 0x93, 0x47, 0x11, 0x25, 0x66, 0x2c, 0x6b, 0x0c, 0xca, 0x31, 0x40, 0x45, 0x87, 0xb1, 0x86, 0x2a, 0xaf, 0x31, 0xac, 0x63, 0x03, 0x0f, 0xb5, 0xe5, 0x11, 0x9e, 0x68, 0x8a, 0x08, 0xdb, 0xc2, 0x11, 0x09, 0x97, 0xbf, 0x50, 0x4b, 0x07, 0x08, 0xcd, 0x1d, 0x0f, 0xa0, 0x58, 0x02, 0x00, 0x00, 0x98, 0x04, 0x00, 0x00, 0x50, 0x4b, 0x03, 0x04, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0xe4, 0x99, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0x00, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x48, 0x61, 0x63, 0x6b, 0x43, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x61, 0x74, 0x63, 0x68, 0x65, 0x72, 0x2e, 0x63, 0x6c, 0x61, 0x73, 0x73, 0x95, 0x54, 0xeb, 0x52, 0xd3, 0x40, 0x18, 0x3d, 0x4b, 0x0b, 0xa1, 0x25, 0x08, 0x22, 0x20, 0x88, 0x5c, 0x05, 0x6d, 0x2b, 0x10, 0x50, 0xbc, 0x51, 0x44, 0xa1, 0x82, 0x54, 0x4b, 0x41, 0x61, 0x70, 0x90, 0x5f, 0xdb, 0x74, 0x81, 0x40, 0x48, 0x3a, 0xe9, 0x22, 0xd6, 0x67, 0xf0, 0x61, 0x74, 0x06, 0xc1, 0x91, 0x19, 0x1f, 0xc0, 0x87, 0x72, 0xfc, 0x36, 0xe1, 0x36, 0x60, 0x41, 0x33, 0x93, 0xec, 0x25, 0xdf, 0x39, 0xdf, 0xf9, 0x2e, 0xbb, 0xbf, 0x7e, 0xff, 0xf8, 0x09, 0x60, 0x0c, 0x6f, 0xa2, 0xa8, 0x40, 0x48, 0x43, 0x58, 0x47, 0x25, 0xaa, 0x18, 0xea, 0x37, 0xf8, 0x07, 0x6e, 0xd8, 0xdc, 0x59, 0x33, 0xe6, 0x72, 0x1b, 0xc2, 0x94, 0x0c, 0x55, 0x63, 0x96, 0x63, 0xc9, 0x71, 0x86, 0x50, 0x2c, 0xbe, 0x14, 0x45, 0x35, 0x22, 0x1a, 0xa2, 0x3a, 0x6a, 0xa0, 0x33, 0x74, 0x38, 0x42, 0x1a, 0x5b, 0x96, 0x23, 0x4c, 0x8f, 0xaf, 0x4a, 0xc3, 0xb4, 0x2d, 0xe1, 0x48, 0x63, 0xf6, 0x68, 0x83, 0x41, 0x5f, 0x13, 0xf2, 0xd4, 0xb2, 0x27, 0x16, 0xcf, 0x5c, 0x0c, 0x49, 0x46, 0xc8, 0xc3, 0x15, 0x1d, 0x75, 0xa8, 0x67, 0x88, 0xc8, 0x75, 0x31, 0x6f, 0xf3, 0x92, 0xf0, 0x18, 0xfa, 0xff, 0x0e, 0xa4, 0xd7, 0x92, 0x25, 0x63, 0xca, 0x1f, 0x02, 0xdb, 0x85, 0x79, 0x22, 0x69, 0xc0, 0x35, 0x0d, 0x8d, 0x3a, 0x9a, 0xd0, 0xcc, 0x90, 0xf8, 0x77, 0x28, 0x49, 0x36, 0x79, 0x81, 0xe7, 0x2c, 0xdb, 0x92, 0x96, 0x28, 0x32, 0x0c, 0x9d, 0xf1, 0x7b, 0x88, 0x2a, 0xf8, 0xf6, 0x46, 0x00, 0x4b, 0x9d, 0x42, 0x90, 0xef, 0x16, 0xb4, 0x6a, 0xb8, 0xa1, 0xa3, 0x0d, 0x37, 0x19, 0x06, 0xff, 0x0f, 0xce, 0x50, 0xc3, 0x6d, 0xdb, 0xdd, 0x99, 0xb6, 0x4b, 0x96, 0xb3, 0xc6, 0xc0, 0xde, 0x6b, 0xe8, 0x60, 0x68, 0x77, 0xbd, 0x35, 0xc3, 0xf5, 0x2b, 0xb2, 0x23, 0x72, 0x06, 0x2f, 0x6e, 0x19, 0x29, 0x9b, 0x17, 0x8b, 0xef, 0x3c, 0x4b, 0x0a, 0x2f, 0x8a, 0x76, 0x74, 0xa9, 0x0a, 0x76, 0x33, 0x84, 0x63, 0xe9, 0xf8, 0x92, 0x86, 0x5b, 0x0c, 0x6d, 0x5b, 0xc2, 0xf8, 0x24, 0xf2, 0xd6, 0xa6, 0x31, 0xc3, 0xcd, 0x4d, 0xdf, 0x7c, 0x9e, 0x4b, 0x73, 0x5d, 0x78, 0xbd, 0xc3, 0x1a, 0xfa, 0x18, 0x5a, 0xcf, 0x93, 0xce, 0x15, 0x4c, 0x37, 0x2f, 0x8a, 0x21, 0xe2, 0x42, 0x14, 0x3d, 0x88, 0x29, 0xd6, 0x38, 0x43, 0x6f, 0x2c, 0x9d, 0x29, 0x23, 0x61, 0xc9, 0x2a, 0x5a, 0xd2, 0xf5, 0x92, 0xca, 0xeb, 0xdd, 0xf2, 0x4a, 0xdf, 0x0a, 0x9e, 0x57, 0x4a, 0x13, 0x18, 0x50, 0x9c, 0x83, 0x0c, 0x95, 0xb1, 0x95, 0x49, 0xd5, 0x51, 0x09, 0x0c, 0xe9, 0x18, 0xc6, 0x3d, 0x6a, 0x35, 0x6e, 0x9a, 0xa2, 0x20, 0x95, 0xbb, 0xcb, 0xbc, 0xa5, 0x15, 0xb2, 0x1d, 0x23, 0x3a, 0x1e, 0xe0, 0x21, 0x25, 0x4d, 0xba, 0x93, 0x25, 0x29, 0x26, 0x3c, 0x8f, 0x97, 0x54, 0x0e, 0xe2, 0x2b, 0x93, 0x1a, 0x1e, 0x53, 0x88, 0x65, 0x73, 0x40, 0x56, 0x29, 0x0a, 0x95, 0xa1, 0x2e, 0x43, 0xc5, 0xc9, 0x6e, 0x6f, 0xe5, 0x84, 0xb7, 0xc8, 0x73, 0x36, 0xed, 0x34, 0x64, 0x5c, 0x93, 0xdb, 0x4b, 0xdc, 0xb3, 0xd4, 0xfa, 0x70, 0x33, 0x2c, 0xd7, 0x2d, 0xaa, 0x4e, 0x5b, 0xa6, 0x2c, 0x63, 0x92, 0x21, 0x9a, 0x77, 0x17, 0xe4, 0xf6, 0xea, 0x6a, 0x3a, 0xbf, 0x49, 0x8d, 0x54, 0x50, 0xfb, 0xbe, 0x85, 0xaa, 0x6b, 0x0b, 0x85, 0x9b, 0x39, 0x39, 0x5e, 0x0b, 0xd2, 0xa3, 0x02, 0x27, 0x49, 0x28, 0xc1, 0x4c, 0x65, 0xa4, 0x02, 0x20, 0xbb, 0x0a, 0xb5, 0x53, 0xbb, 0xb8, 0xee, 0x51, 0xc2, 0x52, 0xae, 0x23, 0xc5, 0x47, 0xa9, 0x24, 0x9d, 0x43, 0x52, 0xd0, 0xe6, 0x49, 0x0b, 0x30, 0x74, 0x96, 0x4b, 0x59, 0x60, 0x90, 0x54, 0x9d, 0x7d, 0x2a, 0x83, 0x0c, 0x5d, 0x97, 0xe5, 0xf8, 0xc8, 0x43, 0x50, 0xba, 0x0b, 0x3c, 0x04, 0x06, 0x2a, 0xfe, 0x05, 0x77, 0xdb, 0x33, 0xc5, 0xb4, 0xa5, 0x32, 0xd6, 0x74, 0x36, 0x41, 0x83, 0x2a, 0x06, 0x22, 0xcd, 0x8a, 0xa2, 0x9c, 0x15, 0x2a, 0xe1, 0x45, 0x0d, 0x73, 0xd4, 0x32, 0x17, 0x34, 0x6a, 0xef, 0x30, 0xe9, 0x4e, 0x3b, 0x0e, 0x9d, 0x92, 0x20, 0x91, 0xe8, 0xc6, 0x23, 0xba, 0xb3, 0xd4, 0x13, 0x02, 0x53, 0xb7, 0x16, 0x7d, 0x9f, 0xd0, 0xca, 0xa0, 0x91, 0xd1, 0x58, 0x99, 0xd8, 0x07, 0xfb, 0x4a, 0x93, 0x0a, 0x8c, 0xd2, 0xb7, 0xca, 0xdf, 0xac, 0x42, 0x92, 0xbe, 0x7a, 0x60, 0x40, 0xf7, 0xde, 0x53, 0x1a, 0x23, 0x18, 0x3f, 0x06, 0x27, 0x0e, 0x29, 0xaf, 0x7c, 0x87, 0xb6, 0x8b, 0xda, 0x5d, 0x5c, 0x0d, 0x7f, 0xc3, 0x75, 0xc5, 0xc2, 0x7c, 0x96, 0xa8, 0xff, 0xbf, 0x1a, 0xb5, 0x84, 0x8a, 0xe0, 0x19, 0x9e, 0x1f, 0xe2, 0x3e, 0x23, 0xac, 0x8e, 0x0a, 0x12, 0x07, 0x68, 0x5f, 0x0e, 0xef, 0xa3, 0x73, 0xf6, 0x00, 0x3d, 0xcb, 0x0d, 0xb7, 0xfb, 0xf7, 0x71, 0x27, 0x7b, 0x80, 0xc4, 0x32, 0x89, 0xe9, 0x1f, 0x0d, 0xb7, 0x86, 0x07, 0x42, 0x7b, 0x30, 0xfa, 0xf7, 0x70, 0xff, 0xcb, 0xb1, 0xb2, 0x66, 0x1f, 0xa9, 0x13, 0x5f, 0x2d, 0x1a, 0xd1, 0x89, 0x0e, 0x74, 0xa1, 0x8f, 0xc2, 0x53, 0x4a, 0x47, 0x02, 0x56, 0x4c, 0x60, 0xd2, 0xd7, 0x95, 0x40, 0x0a, 0x2f, 0xc8, 0x67, 0x84, 0xfe, 0x4f, 0x61, 0x9a, 0x18, 0x1a, 0x09, 0xff, 0x12, 0x33, 0x94, 0x84, 0x0e, 0xe2, 0x48, 0xe3, 0x15, 0x29, 0x09, 0xe1, 0xb5, 0xcf, 0x9e, 0xc1, 0xac, 0x1f, 0x73, 0x05, 0x9d, 0xe0, 0x2c, 0xe6, 0x69, 0xde, 0xe0, 0xcf, 0x83, 0x27, 0x1b, 0x0c, 0x7f, 0x00, 0x50, 0x4b, 0x07, 0x08, 0x9e, 0x09, 0x67, 0x19, 0x0c, 0x03, 0x00, 0x00, 0x04, 0x06, 0x00, 0x00, 0x50, 0x4b, 0x01, 0x02, 0x14, 0x00, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x61, 0xd5, 0x4a, 0x60, 0xc0, 0x01, 0x00, 0x00, 0xc2, 0x03, 0x00, 0x00, 0x14, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x45, 0x54, 0x41, 0x2d, 0x49, 0x4e, 0x46, 0x2f, 0x4d, 0x41, 0x4e, 0x49, 0x46, 0x45, 0x53, 0x54, 0x2e, 0x4d, 0x46, 0xfe, 0xca, 0x00, 0x00, 0x50, 0x4b, 0x01, 0x02, 0x0a, 0x00, 0x0a, 0x00, 0x00, 0x08, 0x00, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x02, 0x00, 0x00, 0x4d, 0x45, 0x54, 0x41, 0x2d, 0x49, 0x4e, 0x46, 0x2f, 0x50, 0x4b, 0x01, 0x02, 0x0a, 0x00, 0x0a, 0x00, 0x00, 0x08, 0x00, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x2d, 0x02, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x50, 0x4b, 0x01, 0x02, 0x0a, 0x00, 0x0a, 0x00, 0x00, 0x08, 0x00, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x4e, 0x02, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x50, 0x4b, 0x01, 0x02, 0x14, 0x00, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0xe4, 0x99, 0x57, 0x57, 0xaf, 0xf7, 0x86, 0xbd, 0x86, 0x02, 0x00, 0x00, 0xe2, 0x04, 0x00, 0x00, 0x21, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x75, 0x02, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x48, 0x61, 0x63, 0x6b, 0x43, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x61, 0x74, 0x63, 0x68, 0x65, 0x72, 0x24, 0x31, 0x2e, 0x63, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x4b, 0x01, 0x02, 0x14, 0x00, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0xe4, 0x99, 0x57, 0x57, 0xcd, 0x1d, 0x0f, 0xa0, 0x58, 0x02, 0x00, 0x00, 0x98, 0x04, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x4a, 0x05, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x48, 0x61, 0x63, 0x6b, 0x43, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x61, 0x74, 0x63, 0x68, 0x65, 0x72, 0x24, 0x31, 0x24, 0x31, 0x2e, 0x63, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x4b, 0x01, 0x02, 0x14, 0x00, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0xe4, 0x99, 0x57, 0x57, 0x9e, 0x09, 0x67, 0x19, 0x0c, 0x03, 0x00, 0x00, 0x04, 0x06, 0x00, 0x00, 0x1f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf3, 0x07, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x48, 0x61, 0x63, 0x6b, 0x43, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x61, 0x74, 0x63, 0x68, 0x65, 0x72, 0x2e, 0x63, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x4b, 0x05, 0x06, 0x00, 0x00, 0x00, 0x00, 0x07, 0x00, 0x07, 0x00, 0xd2, 0x01, 0x00, 0x00, 0x4c, 0x0b, 0x00, 0x00, 0x00, 0x00, 0x00}; \r\nstatic const int lib_size = sizeof(lib_bytes);\r\n```\r\n\r\nWhat&#39;s in the jar file:\r\n```java\r\npackage me.zedik;\r\n\r\nimport net.minecraft.client.Minecraft;\r\n\r\npublic class HackClassPatcher {\r\n    public static void doStuffIdk() {\r\n        Minecraft.getMinecraft().thePlayer.capabilities.allowFlying = true;\r\n        System.out.println(&quot;hi lol&quot;);\r\n    }\r\n\r\n    // some other random stuff\r\n}\r\n```\r\n\r\nThe injection code:\r\n```cpp\r\n// use miniz to extract class files from jar file\r\nvoid JavaUtils::loadJar(jobject classLoader, const unsigned char *jarBytes, size_t size) {\r\n    mz_zip_archive archive{};\r\n    if (!mz_zip_reader_init_mem(&amp;archive, jarBytes, size, 0)) return;\r\n    mz_uint file_number = mz_zip_reader_get_num_files(&amp;archive);\r\n    for (mz_uint i = 0; i &lt; file_number; i++) {\r\n        if (!mz_zip_reader_is_file_supported(&amp;archive, i)) continue;\r\n        \r\n        char str[256] = {0};\r\n        mz_zip_reader_get_filename(&amp;archive, i, str, 256);\r\n        std::string fileName(str);\r\n\r\n        if (fileName.size() &lt;= 6) continue;\r\n        if (fileName.substr(fileName.size() - 6) != &quot;.class&quot;) continue;\r\n        \r\n        size_t classBytes_size = 0;\r\n        unsigned char *classBytes = (unsigned char*) mz_zip_reader_extract_to_heap(&amp;archive, i, &amp;classBytes_size, 0);\r\n        if (!classBytes) {\r\n            mz_zip_reader_end(&amp;archive);\r\n            return;\r\n        }\r\n        \r\n        jclass jaclass = client-&gt;env-&gt;DefineClass(nullptr, classLoader, (const jbyte*) classBytes, (jsize) classBytes_size);\r\n        if (jaclass) client-&gt;env-&gt;DeleteLocalRef(jaclass);\r\n        mz_free(classBytes);\r\n    }\r\n    mz_zip_reader_end(&amp;archive);\r\n}\r\n\r\n// creates a new class loader to load the injected classes\r\njobject JavaUtils::newClassLoader() {\r\n    jclass urlClass = client-&gt;env-&gt;FindClass(&quot;java/net/URL&quot;);\r\n    jobjectArray urls = client-&gt;env-&gt;NewObjectArray(0, urlClass, nullptr);\r\n    jclass URLClassLoaderClass = client-&gt;env-&gt;FindClass(&quot;java/net/URLClassLoader&quot;);\r\n    jmethodID URLClassLoaderContructor = client-&gt;env-&gt;GetMethodID(URLClassLoaderClass, &quot;&lt;init&gt;&quot;, &quot;([Ljava/net/URL;)V&quot;);\r\n    jobject URLClassLoader = client-&gt;env-&gt;NewObject(URLClassLoaderClass, URLClassLoaderContructor, urls);\r\n\r\n    client-&gt;env-&gt;DeleteLocalRef(urlClass);\r\n    client-&gt;env-&gt;DeleteLocalRef(urls);\r\n    client-&gt;env-&gt;DeleteLocalRef(URLClassLoaderClass);\r\n\r\n    return URLClassLoader;\r\n}\r\n```\r\n\r\nWhere I inject the jar:\r\n```cpp\r\njobject classLoader = JavaUtils::newClassLoader();\r\nJavaUtils::loadJar(classLoader, lib_bytes, lib_size);\r\n```\r\n\r\nCalling the method:\r\n```cpp\r\njclass libClass = client-&gt;getClass(&quot;me.zedik.HackClassPatcher&quot;);\r\n        if (libClass == nullptr) {\r\n            std::cout &lt;&lt; &quot;hack patcher class not found&quot; &lt;&lt; std::endl;\r\n            return;\r\n        }\r\n        jmethodID libMethod = client-&gt;env-&gt;GetStaticMethodID(libClass, &quot;doStuffIdk&quot;, &quot;()V&quot;);\r\n        if (libMethod == nullptr) {\r\n            std::cout &lt;&lt; &quot;hack method not found&quot; &lt;&lt; std::endl;\r\n            return;\r\n        }\r\n        client-&gt;env-&gt;CallStaticVoidMethod(libClass, libMethod);\r\n        std::cout &lt;&lt; &quot;success&quot; &lt;&lt; std::endl;\r\n\r\n        if (client-&gt;env-&gt;ExceptionCheck() == JNI_TRUE) {\r\n            std::cout &lt;&lt; &quot;EXCEPTION&quot; &lt;&lt; std::endl;\r\n            jthrowable exception = client-&gt;env-&gt;ExceptionOccurred();\r\n            client-&gt;env-&gt;ExceptionClear();\r\n\r\n            JavaUtils::getInformation(exception); // prints stack trace\r\n            return;\r\n        }\r\n```\r\n\r\nOutput:\r\n```\r\nEXCEPTION:\r\njava.lang.NoClassDefFoundError: net/minecraft/client/Minecraft\r\n    me.zedik.HackClassPatcher.doStuffIdk(HackClassPatcher.java:8)\r\nCaused by: java.lang.ClassNotFoundException: net.minecraft.client.Minecraft\r\n    java.base/java.net.URLClassLoader.findClass(Unknown Source)\r\n    java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n    java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n    me.zedik.HackClassPatcher.doStuffIdk(HackClassPatcher.java:8)\r\n```\r\n`net/minecraft/client/Minecraft` is not included in the jar file but is included in the parent process.\r\n","title":"JNI NoClassDefFoundError while executing method in injected jar","body":"<p>I am getting <code>NoClassDefFoundError</code> when trying to inject a jar file into a running java process.</p>\n<p>Jar file bytes:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>static const unsigned char lib_bytes[] = {\n        0x50, 0x4b, 0x03, 0x04, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x14, 0x00, 0x04, 0x00, 0x4d, 0x45, 0x54, 0x41, 0x2d, 0x49, 0x4e, 0x46, 0x2f, 0x4d, 0x41, 0x4e, 0x49, 0x46, 0x45, 0x53, 0x54, 0x2e, 0x4d, 0x46, 0xfe, 0xca, 0x00, 0x00, 0x7d, 0x52, 0xcb, 0x6e, 0xe3, 0x30, 0x0c, 0xbc, 0x07, 0xc8, 0x3f, 0xf8, 0x07, 0x28, 0xf8, 0x15, 0xa7, 0xee, 0x75, 0x81, 0xbd, 0x15, 0xe8, 0xa9, 0xd7, 0x85, 0xe2, 0x28, 0x36, 0x0d, 0x59, 0x32, 0x24, 0x3a, 0xde, 0xfc, 0xfd, 0x52, 0xb2, 0xf3, 0x30, 0x5a, 0x2c, 0x72, 0xb1, 0xc8, 0x99, 0xe1, 0x70, 0xc2, 0x0f, 0x69, 0xf0, 0xa2, 0x3c, 0xc1, 0x97, 0x72, 0x1e, 0xad, 0x79, 0x4f, 0x32, 0x91, 0xee, 0x77, 0xbf, 0xb4, 0xf4, 0x1e, 0x3e, 0x25, 0x75, 0xef, 0x89, 0xf4, 0x03, 0xd4, 0xa2, 0x14, 0xbd, 0x74, 0x49, 0x6f, 0x24, 0x14, 0xfc, 0x9d, 0xc6, 0xd7, 0x07, 0x1a, 0xd5, 0x38, 0x79, 0xa1, 0xf8, 0x32, 0x8a, 0xe8, 0x06, 0x99, 0xa8, 0xe2, 0xab, 0xf5, 0xd6, 0x40, 0xbe, 0xdf, 0x25, 0x22, 0x5f, 0xb9, 0xed, 0x24, 0xaf, 0x12, 0xb2, 0xe3, 0x4a, 0xa6, 0x19, 0xa9, 0xe9, 0xa0, 0x12, 0x87, 0x45, 0x19, 0xcd, 0x38, 0x11, 0xe4, 0xdc, 0x5d, 0x0b, 0x13, 0xa1, 0xf6, 0xac, 0x97, 0x46, 0x02, 0x2b, 0xb9, 0xc4, 0xfa, 0x0e, 0xa1, 0xb1, 0x4e, 0x71, 0x39, 0x8b, 0x28, 0xa7, 0xa4, 0x1e, 0x02, 0xea, 0x28, 0x8a, 0x3a, 0x56, 0xe4, 0x44, 0x9d, 0xc6, 0x13, 0x97, 0x0e, 0x22, 0x5f, 0x40, 0x8d, 0x1d, 0x06, 0x6b, 0x3c, 0xa0, 0x65, 0xfd, 0x32, 0x78, 0x0a, 0xd5, 0x8e, 0x68, 0x8c, 0x5a, 0xa5, 0x28, 0xd8, 0x64, 0x28, 0x8d, 0x5a, 0xd2, 0xc5, 0xba, 0xe1, 0x65, 0xc7, 0xde, 0x8e, 0x04, 0x1e, 0x87, 0x51, 0x07, 0x60, 0xf5, 0x64, 0x6a, 0x54, 0xac, 0x64, 0x28, 0xd2, 0x8b, 0x75, 0xce, 0x59, 0x35, 0xb3, 0xbc, 0x42, 0x9e, 0x66, 0xfc, 0xcb, 0x8b, 0xcd, 0xf4, 0xd8, 0x65, 0x5b, 0xf5, 0xa6, 0xaa, 0xa5, 0x69, 0x0b, 0x60, 0xa5, 0xe2, 0xe1, 0x42, 0xdb, 0xb6, 0xec, 0x41, 0x8e, 0x18, 0xd2, 0x80, 0x93, 0x22, 0x59, 0x3f, 0xe5, 0x7b, 0xeb, 0x4e, 0xe8, 0xb7, 0x13, 0x16, 0x42, 0xdc, 0x25, 0x26, 0xfe, 0x4a, 0xf2, 0x76, 0x32, 0x67, 0x7f, 0xf3, 0xa4, 0x86, 0x40, 0x0a, 0xbc, 0xe3, 0xd6, 0x80, 0x6d, 0x5b, 0x34, 0x6d, 0x4c, 0x74, 0x63, 0x98, 0x95, 0x58, 0x73, 0x18, 0x9d, 0xf2, 0x21, 0xe0, 0xb7, 0x35, 0x71, 0x6c, 0xa6, 0xfb, 0xb0, 0xc1, 0xf6, 0xec, 0x1e, 0x0e, 0xd9, 0x6a, 0x7c, 0xb9, 0x00, 0xa9, 0x35, 0x84, 0xf4, 0xd8, 0xdc, 0x6f, 0x34, 0x52, 0x8b, 0x9e, 0x95, 0x82, 0x4b, 0x3c, 0x39, 0xe9, 0x6e, 0x3d, 0x5f, 0x41, 0x34, 0xb5, 0xec, 0x90, 0xdd, 0x77, 0x58, 0xba, 0x7a, 0xee, 0x5b, 0x6d, 0x47, 0xc5, 0xbc, 0xd8, 0x4f, 0xdf, 0xf2, 0xe5, 0x7a, 0x62, 0x23, 0xe4, 0x94, 0x73, 0x80, 0x25, 0x18, 0x6c, 0x3b, 0xd2, 0xb7, 0x80, 0x39, 0xa4, 0x79, 0x5a, 0x3f, 0x31, 0x7f, 0xc2, 0xdd, 0xc0, 0x7f, 0x50, 0xcb, 0xa5, 0x85, 0xed, 0x1e, 0x7f, 0x77, 0xbc, 0x3a, 0x30, 0x92, 0xf0, 0xaa, 0x3c, 0xcc, 0x68, 0xce, 0x76, 0xf6, 0xaf, 0x57, 0xfa, 0x40, 0x56, 0xdf, 0x71, 0x41, 0xa9, 0x2a, 0x5f, 0xd1, 0xea, 0x2f, 0x29, 0x17, 0x36, 0x78, 0xd0, 0xca, 0xef, 0xb4, 0x3b, 0x67, 0x59, 0x2c, 0x22, 0x59, 0x69, 0x71, 0xf3, 0x93, 0xf7, 0x9f, 0xec, 0xed, 0x77, 0xfb, 0xdd, 0x3f, 0x50, 0x4b, 0x07, 0x08, 0x61, 0xd5, 0x4a, 0x60, 0xc0, 0x01, 0x00, 0x00, 0xc2, 0x03, 0x00, 0x00, 0x50, 0x4b, 0x03, 0x04, 0x0a, 0x00, 0x00, 0x08, 0x00, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x4d, 0x45, 0x54, 0x41, 0x2d, 0x49, 0x4e, 0x46, 0x2f, 0x50, 0x4b, 0x03, 0x04, 0x0a, 0x00, 0x00, 0x08, 0x00, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x50, 0x4b, 0x03, 0x04, 0x0a, 0x00, 0x00, 0x08, 0x00, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x50, 0x4b, 0x03, 0x04, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0xe4, 0x99, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x21, 0x00, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x48, 0x61, 0x63, 0x6b, 0x43, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x61, 0x74, 0x63, 0x68, 0x65, 0x72, 0x24, 0x31, 0x2e, 0x63, 0x6c, 0x61, 0x73, 0x73, 0x8d, 0x53, 0x6d, 0x4f, 0x13, 0x41, 0x10, 0x7e, 0x96, 0x1e, 0x3d, 0x28, 0x07, 0xc5, 0x62, 0x95, 0x5a, 0xd0, 0x8a, 0x55, 0xdb, 0x5a, 0x38, 0x4e, 0xf1, 0xb5, 0x84, 0x0f, 0x10, 0x0c, 0x24, 0x05, 0x4c, 0x30, 0x4d, 0x94, 0x4f, 0xdb, 0x63, 0x53, 0x0e, 0xda, 0xbb, 0x7a, 0xb7, 0xad, 0xc6, 0x7f, 0xe2, 0x17, 0x7f, 0x03, 0x26, 0x06, 0x12, 0x4d, 0xfc, 0x01, 0xfe, 0x28, 0xe3, 0xdc, 0x5e, 0x23, 0x01, 0x6a, 0xf5, 0x2e, 0xd9, 0x9d, 0x9d, 0x9d, 0x79, 0x66, 0x9e, 0x99, 0xd9, 0x9f, 0xbf, 0xbe, 0xfd, 0x00, 0xb0, 0x8c, 0x4a, 0x02, 0x43, 0x88, 0xe9, 0xd0, 0x0c, 0x0c, 0x23, 0xce, 0x70, 0xd3, 0xf3, 0x1b, 0xa6, 0x57, 0x3f, 0x14, 0xb6, 0x7c, 0x2f, 0xea, 0x26, 0x0f, 0x5a, 0xe6, 0x5a, 0x93, 0x07, 0x41, 0xcd, 0x09, 0x1c, 0xe9, 0xf9, 0x0c, 0xf1, 0x65, 0xc7, 0x75, 0xe4, 0x0a, 0x43, 0xbe, 0xb0, 0x59, 0x1d, 0x6c, 0x5c, 0x29, 0xd6, 0x46, 0x30, 0xc2, 0x60, 0x34, 0x84, 0xdc, 0xf2, 0x3a, 0x81, 0xd8, 0xe9, 0x0a, 0x3f, 0x81, 0x04, 0xc6, 0x74, 0x18, 0x06, 0xc6, 0x31, 0xc1, 0x30, 0x79, 0xc8, 0xbb, 0xdc, 0x6c, 0x72, 0xb7, 0x61, 0xee, 0x4a, 0xdf, 0x71, 0x1b, 0x14, 0x41, 0xbc, 0xeb, 0xf0, 0x66, 0xc0, 0x90, 0x2e, 0x54, 0xcf, 0x6e, 0x77, 0x54, 0x98, 0x4a, 0xf1, 0xad, 0x8e, 0x49, 0x86, 0xd9, 0x96, 0x30, 0x3f, 0x8a, 0x7d, 0xe7, 0xc8, 0xdc, 0xe0, 0xf6, 0x91, 0x0a, 0xfa, 0x8a, 0x4b, 0xfb, 0x40, 0xf8, 0x79, 0x2b, 0x6f, 0xe9, 0x48, 0x31, 0x64, 0x2e, 0x27, 0xb7, 0xd3, 0xb6, 0xbd, 0x7d, 0x11, 0xc4, 0x88, 0x2a, 0x46, 0x91, 0xc6, 0x35, 0x1d, 0xd7, 0x0d, 0x4c, 0x23, 0xc3, 0x90, 0x1d, 0x00, 0xc8, 0x30, 0x64, 0x77, 0x19, 0x72, 0xff, 0xa2, 0x1b, 0x96, 0x32, 0x6b, 0x60, 0x06, 0xb3, 0x0c, 0x63, 0xdd, 0x50, 0xb9, 0x25, 0xe4, 0x81, 0xb7, 0xcf, 0xd0, 0xa2, 0x5a, 0x5d, 0x24, 0x5a, 0xf9, 0x1f, 0xcd, 0xde, 0x65, 0x55, 0xb1, 0x4f, 0x1a, 0x51, 0x9c, 0xb3, 0x3c, 0x92, 0xb8, 0x15, 0xf6, 0x33, 0xc7, 0xb0, 0x5a, 0xa8, 0x0e, 0x60, 0x56, 0xe9, 0xd7, 0xc2, 0xf3, 0x60, 0xc5, 0x1a, 0x83, 0xb6, 0x46, 0x65, 0x63, 0x48, 0x56, 0x1d, 0x57, 0x6c, 0x77, 0x5a, 0x75, 0xe1, 0xbf, 0xe6, 0xf5, 0x26, 0x69, 0x52, 0x55, 0xcf, 0xe6, 0xcd, 0x1a, 0xf7, 0x9d, 0xf0, 0xdc, 0x53, 0x6a, 0xf2, 0xc0, 0xa1, 0xee, 0xcd, 0x0e, 0x0c, 0x4c, 0x66, 0xdc, 0x6f, 0x2c, 0x32, 0xb0, 0xcd, 0x48, 0xa4, 0x2a, 0xc7, 0xb9, 0x6d, 0x8b, 0x80, 0x5c, 0x35, 0x97, 0xb7, 0x14, 0xfa, 0x25, 0xf2, 0x0c, 0x09, 0x6a, 0xa0, 0xed, 0x3b, 0x6d, 0x35, 0x8c, 0xa3, 0x81, 0xd3, 0x70, 0xb9, 0xec, 0xf8, 0x64, 0x9d, 0x10, 0x1f, 0x6c, 0xd1, 0x96, 0x8e, 0xe7, 0x12, 0xc2, 0x54, 0x9f, 0xc2, 0x31, 0x8c, 0xef, 0x4a, 0xca, 0x64, 0x8b, 0xb7, 0x7b, 0x99, 0x26, 0x76, 0xbd, 0x8e, 0x6f, 0x8b, 0x97, 0x4e, 0x78, 0x48, 0x5f, 0xcc, 0x72, 0x21, 0x44, 0x20, 0xd6, 0xeb, 0xae, 0xdd, 0xf4, 0x02, 0x42, 0x88, 0x0a, 0xa3, 0xe3, 0x31, 0x0d, 0xd7, 0x5f, 0xb9, 0x19, 0x78, 0x8a, 0x67, 0x34, 0xf3, 0xed, 0xf0, 0xa8, 0x2e, 0x04, 0xe5, 0x33, 0x5d, 0xd8, 0x5b, 0xed, 0xd3, 0xca, 0xbd, 0x55, 0x86, 0x91, 0x6d, 0x11, 0xc8, 0x0d, 0x2f, 0x90, 0xe4, 0xb4, 0xe9, 0xba, 0xc2, 0xef, 0x39, 0x21, 0x47, 0x13, 0x3a, 0x84, 0xf0, 0x0b, 0x57, 0x7a, 0x9d, 0x60, 0xb8, 0x4d, 0xd2, 0x3a, 0x62, 0xf4, 0x03, 0x7a, 0x29, 0x5b, 0x3e, 0x05, 0xfb, 0xa2, 0x0c, 0xe6, 0x68, 0x0d, 0x0d, 0x40, 0xcf, 0xea, 0x0e, 0xad, 0xb9, 0xc8, 0x04, 0x79, 0xdc, 0x55, 0x10, 0x3a, 0xee, 0xe1, 0xbe, 0xba, 0xd7, 0x51, 0x40, 0x86, 0x3c, 0x58, 0x38, 0xa8, 0x3d, 0xc8, 0xcf, 0xf4, 0x28, 0xe3, 0xb4, 0x5b, 0xe5, 0x94, 0x7e, 0x82, 0xd1, 0x4f, 0x98, 0xf9, 0x8e, 0xe4, 0x9b, 0x52, 0x6a, 0xaa, 0xf4, 0x15, 0x57, 0xb3, 0xe5, 0xf9, 0x8c, 0x96, 0x19, 0x3e, 0xc1, 0x8d, 0x53, 0xdc, 0x3c, 0x3e, 0xaf, 0x39, 0x26, 0xa7, 0x98, 0x0a, 0x3e, 0xa1, 0x02, 0x4e, 0xd2, 0xbb, 0xba, 0x42, 0xe7, 0x19, 0x95, 0xc4, 0x4a, 0x04, 0xfa, 0x27, 0x09, 0x0b, 0xc5, 0x5e, 0x12, 0x16, 0x4a, 0x78, 0xa0, 0x78, 0x59, 0x28, 0x93, 0x14, 0x53, 0xd2, 0x3c, 0x49, 0x9a, 0x92, 0x16, 0x60, 0x12, 0xe3, 0x45, 0x85, 0xce, 0xe6, 0x48, 0x69, 0x29, 0x96, 0x0f, 0xf1, 0x88, 0x76, 0x0d, 0x4b, 0x78, 0x82, 0xe7, 0x4a, 0xb3, 0x84, 0x17, 0xb4, 0xa7, 0x48, 0x4a, 0x23, 0xfa, 0x92, 0xd1, 0xf6, 0x1b, 0x50, 0x4b, 0x07, 0x08, 0xaf, 0xf7, 0x86, 0xbd, 0x86, 0x02, 0x00, 0x00, 0xe2, 0x04, 0x00, 0x00, 0x50, 0x4b, 0x03, 0x04, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0xe4, 0x99, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x48, 0x61, 0x63, 0x6b, 0x43, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x61, 0x74, 0x63, 0x68, 0x65, 0x72, 0x24, 0x31, 0x24, 0x31, 0x2e, 0x63, 0x6c, 0x61, 0x73, 0x73, 0x8d, 0x53, 0x5d, 0x4f, 0x13, 0x41, 0x14, 0x3d, 0xb7, 0x2d, 0x2d, 0x94, 0x2d, 0xd4, 0x42, 0x95, 0x0a, 0x08, 0xd4, 0xa2, 0xfd, 0xa0, 0x2c, 0xf5, 0xf3, 0x01, 0x62, 0x8c, 0x80, 0xa1, 0x49, 0x41, 0x13, 0x48, 0x5f, 0x7c, 0x9a, 0x6e, 0x27, 0xed, 0x42, 0xbb, 0x6b, 0x76, 0xb7, 0x35, 0xf1, 0x8f, 0x18, 0xfd, 0x17, 0x26, 0x8a, 0x89, 0x0f, 0x46, 0x5f, 0xfd, 0x51, 0xc6, 0x3b, 0xb3, 0x44, 0x12, 0x88, 0x85, 0x49, 0x76, 0x66, 0xf6, 0xce, 0x9d, 0x73, 0xce, 0xfd, 0x98, 0xdf, 0x7f, 0xbe, 0xff, 0x00, 0xb0, 0x85, 0xa7, 0x13, 0x88, 0x20, 0x9a, 0x40, 0xcc, 0xc0, 0x18, 0xe2, 0x84, 0xc5, 0xbe, 0x34, 0xdf, 0xcb, 0xb6, 0x7d, 0x62, 0xee, 0x09, 0xeb, 0x64, 0xbb, 0x27, 0x7c, 0xff, 0xb5, 0x08, 0xac, 0xae, 0xf4, 0x0a, 0xb5, 0x42, 0x8d, 0x10, 0x0f, 0xba, 0xb6, 0x5f, 0xd8, 0x60, 0xc7, 0xc6, 0x08, 0xcf, 0xcd, 0x24, 0xc6, 0x31, 0x91, 0x40, 0xd2, 0xc0, 0x24, 0x0c, 0xc2, 0x92, 0xeb, 0x75, 0x4c, 0xb7, 0x75, 0x2c, 0xad, 0xe0, 0x9d, 0x6c, 0x99, 0xc2, 0xef, 0x9b, 0xfb, 0x32, 0xe8, 0xba, 0xed, 0xa6, 0xed, 0xdb, 0x81, 0xeb, 0x31, 0xee, 0x96, 0xed, 0xd8, 0xc1, 0x33, 0xc2, 0x6a, 0xb1, 0xde, 0xb8, 0xc2, 0x7b, 0xb3, 0xd4, 0x4c, 0x60, 0x8a, 0x90, 0x3e, 0x16, 0x43, 0x61, 0xf6, 0x84, 0xd3, 0x31, 0x77, 0xdc, 0x41, 0xab, 0x27, 0x93, 0x48, 0x21, 0x6d, 0xe0, 0x06, 0x32, 0x84, 0xc9, 0xb6, 0x36, 0x35, 0x45, 0x6f, 0x20, 0x09, 0xd1, 0x62, 0x69, 0x27, 0xfe, 0x7c, 0x1c, 0x7a, 0xa8, 0x90, 0x6f, 0x1a, 0xb8, 0x85, 0x39, 0x42, 0xa4, 0x3f, 0x24, 0xac, 0x5c, 0xc9, 0xa8, 0xe2, 0xb9, 0x6d, 0x60, 0x1e, 0x0b, 0x04, 0x63, 0xa8, 0x8c, 0x8d, 0xb6, 0x55, 0x77, 0x7c, 0x87, 0x90, 0x2d, 0x36, 0xce, 0x75, 0xbc, 0xd2, 0x18, 0x2c, 0x90, 0xf0, 0xa2, 0x38, 0x32, 0x43, 0xd7, 0x89, 0x92, 0x10, 0xdb, 0x76, 0xdb, 0x2c, 0x7f, 0xba, 0x61, 0x3b, 0xf2, 0x60, 0xd0, 0x6f, 0x49, 0xef, 0x48, 0x70, 0x54, 0x84, 0x4c, 0xc3, 0xb5, 0x44, 0xaf, 0x29, 0x3c, 0x5b, 0xfd, 0x9f, 0x19, 0x63, 0xaa, 0x38, 0x9c, 0xed, 0x51, 0xc4, 0x4c, 0xcd, 0x8e, 0xc2, 0xeb, 0x70, 0x0d, 0xa9, 0x1e, 0x6e, 0xb9, 0xae, 0xd1, 0xa1, 0xf0, 0x14, 0xea, 0xc5, 0x94, 0xb2, 0xf3, 0xd8, 0x30, 0xcc, 0x61, 0xe6, 0x72, 0x9c, 0x84, 0xd4, 0x61, 0xc0, 0x14, 0xfb, 0xe2, 0xed, 0x99, 0x84, 0xe4, 0xa1, 0x3b, 0xf0, 0x2c, 0xf9, 0xd2, 0x56, 0x3f, 0xd9, 0x8b, 0xf4, 0xeb, 0x0a, 0x81, 0xc3, 0xd9, 0x75, 0xac, 0x9e, 0xeb, 0xdb, 0x4e, 0x27, 0x8c, 0x38, 0x01, 0x93, 0x30, 0x3f, 0x42, 0xb4, 0x81, 0x1a, 0x1e, 0x70, 0x4d, 0x75, 0xe6, 0xc3, 0x3b, 0x84, 0x3e, 0x77, 0xca, 0xb9, 0xa2, 0xc3, 0xc0, 0x63, 0xbc, 0xcd, 0xeb, 0x58, 0xde, 0x5c, 0x36, 0x95, 0xae, 0xac, 0x06, 0x61, 0xfc, 0x40, 0xfa, 0xc1, 0x9e, 0xeb, 0x07, 0x09, 0x3c, 0x26, 0xe4, 0xfe, 0x2b, 0x97, 0x3b, 0xa4, 0xee, 0x38, 0xd2, 0xd3, 0x36, 0xe9, 0x63, 0x99, 0xdb, 0x4d, 0x75, 0x1e, 0xa5, 0xd3, 0xea, 0x8d, 0xf1, 0x2e, 0xc2, 0xdf, 0x24, 0x16, 0x41, 0xb8, 0xc3, 0xbb, 0x23, 0x44, 0x11, 0xe3, 0xd5, 0x28, 0x57, 0xbe, 0x82, 0xca, 0x0b, 0xd5, 0x6f, 0x48, 0x7c, 0xd6, 0x5e, 0x4b, 0x3c, 0xc7, 0xd9, 0x0b, 0xdc, 0xd2, 0xcb, 0x3c, 0x97, 0x43, 0x3f, 0xac, 0x20, 0xaf, 0x1b, 0x59, 0xbf, 0x59, 0x7d, 0x6e, 0xe0, 0x2e, 0x0a, 0x1a, 0xd7, 0xc0, 0x2a, 0xe6, 0x18, 0x91, 0x54, 0xb3, 0x9e, 0x31, 0x0c, 0xf8, 0x9e, 0xba, 0x99, 0xaf, 0x1c, 0x54, 0x7f, 0x21, 0xf5, 0x11, 0x33, 0xd5, 0x9f, 0x48, 0xed, 0xaf, 0x9d, 0x62, 0x7a, 0x16, 0x33, 0x1f, 0x3e, 0x21, 0x5a, 0xfe, 0x82, 0x6c, 0xe5, 0x14, 0x39, 0xc5, 0x1b, 0xd5, 0xbc, 0x19, 0x7d, 0x63, 0x16, 0x53, 0xc8, 0x22, 0xc7, 0x88, 0x2b, 0x3c, 0x2b, 0x0d, 0xcb, 0x7c, 0x3e, 0xc5, 0xea, 0xef, 0xe1, 0xbe, 0xe6, 0xcb, 0xff, 0x53, 0x93, 0x47, 0x11, 0x25, 0x66, 0x2c, 0x6b, 0x0c, 0xca, 0x31, 0x40, 0x45, 0x87, 0xb1, 0x86, 0x2a, 0xaf, 0x31, 0xac, 0x63, 0x03, 0x0f, 0xb5, 0xe5, 0x11, 0x9e, 0x68, 0x8a, 0x08, 0xdb, 0xc2, 0x11, 0x09, 0x97, 0xbf, 0x50, 0x4b, 0x07, 0x08, 0xcd, 0x1d, 0x0f, 0xa0, 0x58, 0x02, 0x00, 0x00, 0x98, 0x04, 0x00, 0x00, 0x50, 0x4b, 0x03, 0x04, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0xe4, 0x99, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0x00, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x48, 0x61, 0x63, 0x6b, 0x43, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x61, 0x74, 0x63, 0x68, 0x65, 0x72, 0x2e, 0x63, 0x6c, 0x61, 0x73, 0x73, 0x95, 0x54, 0xeb, 0x52, 0xd3, 0x40, 0x18, 0x3d, 0x4b, 0x0b, 0xa1, 0x25, 0x08, 0x22, 0x20, 0x88, 0x5c, 0x05, 0x6d, 0x2b, 0x10, 0x50, 0xbc, 0x51, 0x44, 0xa1, 0x82, 0x54, 0x4b, 0x41, 0x61, 0x70, 0x90, 0x5f, 0xdb, 0x74, 0x81, 0x40, 0x48, 0x3a, 0xe9, 0x22, 0xd6, 0x67, 0xf0, 0x61, 0x74, 0x06, 0xc1, 0x91, 0x19, 0x1f, 0xc0, 0x87, 0x72, 0xfc, 0x36, 0xe1, 0x36, 0x60, 0x41, 0x33, 0x93, 0xec, 0x25, 0xdf, 0x39, 0xdf, 0xf9, 0x2e, 0xbb, 0xbf, 0x7e, 0xff, 0xf8, 0x09, 0x60, 0x0c, 0x6f, 0xa2, 0xa8, 0x40, 0x48, 0x43, 0x58, 0x47, 0x25, 0xaa, 0x18, 0xea, 0x37, 0xf8, 0x07, 0x6e, 0xd8, 0xdc, 0x59, 0x33, 0xe6, 0x72, 0x1b, 0xc2, 0x94, 0x0c, 0x55, 0x63, 0x96, 0x63, 0xc9, 0x71, 0x86, 0x50, 0x2c, 0xbe, 0x14, 0x45, 0x35, 0x22, 0x1a, 0xa2, 0x3a, 0x6a, 0xa0, 0x33, 0x74, 0x38, 0x42, 0x1a, 0x5b, 0x96, 0x23, 0x4c, 0x8f, 0xaf, 0x4a, 0xc3, 0xb4, 0x2d, 0xe1, 0x48, 0x63, 0xf6, 0x68, 0x83, 0x41, 0x5f, 0x13, 0xf2, 0xd4, 0xb2, 0x27, 0x16, 0xcf, 0x5c, 0x0c, 0x49, 0x46, 0xc8, 0xc3, 0x15, 0x1d, 0x75, 0xa8, 0x67, 0x88, 0xc8, 0x75, 0x31, 0x6f, 0xf3, 0x92, 0xf0, 0x18, 0xfa, 0xff, 0x0e, 0xa4, 0xd7, 0x92, 0x25, 0x63, 0xca, 0x1f, 0x02, 0xdb, 0x85, 0x79, 0x22, 0x69, 0xc0, 0x35, 0x0d, 0x8d, 0x3a, 0x9a, 0xd0, 0xcc, 0x90, 0xf8, 0x77, 0x28, 0x49, 0x36, 0x79, 0x81, 0xe7, 0x2c, 0xdb, 0x92, 0x96, 0x28, 0x32, 0x0c, 0x9d, 0xf1, 0x7b, 0x88, 0x2a, 0xf8, 0xf6, 0x46, 0x00, 0x4b, 0x9d, 0x42, 0x90, 0xef, 0x16, 0xb4, 0x6a, 0xb8, 0xa1, 0xa3, 0x0d, 0x37, 0x19, 0x06, 0xff, 0x0f, 0xce, 0x50, 0xc3, 0x6d, 0xdb, 0xdd, 0x99, 0xb6, 0x4b, 0x96, 0xb3, 0xc6, 0xc0, 0xde, 0x6b, 0xe8, 0x60, 0x68, 0x77, 0xbd, 0x35, 0xc3, 0xf5, 0x2b, 0xb2, 0x23, 0x72, 0x06, 0x2f, 0x6e, 0x19, 0x29, 0x9b, 0x17, 0x8b, 0xef, 0x3c, 0x4b, 0x0a, 0x2f, 0x8a, 0x76, 0x74, 0xa9, 0x0a, 0x76, 0x33, 0x84, 0x63, 0xe9, 0xf8, 0x92, 0x86, 0x5b, 0x0c, 0x6d, 0x5b, 0xc2, 0xf8, 0x24, 0xf2, 0xd6, 0xa6, 0x31, 0xc3, 0xcd, 0x4d, 0xdf, 0x7c, 0x9e, 0x4b, 0x73, 0x5d, 0x78, 0xbd, 0xc3, 0x1a, 0xfa, 0x18, 0x5a, 0xcf, 0x93, 0xce, 0x15, 0x4c, 0x37, 0x2f, 0x8a, 0x21, 0xe2, 0x42, 0x14, 0x3d, 0x88, 0x29, 0xd6, 0x38, 0x43, 0x6f, 0x2c, 0x9d, 0x29, 0x23, 0x61, 0xc9, 0x2a, 0x5a, 0xd2, 0xf5, 0x92, 0xca, 0xeb, 0xdd, 0xf2, 0x4a, 0xdf, 0x0a, 0x9e, 0x57, 0x4a, 0x13, 0x18, 0x50, 0x9c, 0x83, 0x0c, 0x95, 0xb1, 0x95, 0x49, 0xd5, 0x51, 0x09, 0x0c, 0xe9, 0x18, 0xc6, 0x3d, 0x6a, 0x35, 0x6e, 0x9a, 0xa2, 0x20, 0x95, 0xbb, 0xcb, 0xbc, 0xa5, 0x15, 0xb2, 0x1d, 0x23, 0x3a, 0x1e, 0xe0, 0x21, 0x25, 0x4d, 0xba, 0x93, 0x25, 0x29, 0x26, 0x3c, 0x8f, 0x97, 0x54, 0x0e, 0xe2, 0x2b, 0x93, 0x1a, 0x1e, 0x53, 0x88, 0x65, 0x73, 0x40, 0x56, 0x29, 0x0a, 0x95, 0xa1, 0x2e, 0x43, 0xc5, 0xc9, 0x6e, 0x6f, 0xe5, 0x84, 0xb7, 0xc8, 0x73, 0x36, 0xed, 0x34, 0x64, 0x5c, 0x93, 0xdb, 0x4b, 0xdc, 0xb3, 0xd4, 0xfa, 0x70, 0x33, 0x2c, 0xd7, 0x2d, 0xaa, 0x4e, 0x5b, 0xa6, 0x2c, 0x63, 0x92, 0x21, 0x9a, 0x77, 0x17, 0xe4, 0xf6, 0xea, 0x6a, 0x3a, 0xbf, 0x49, 0x8d, 0x54, 0x50, 0xfb, 0xbe, 0x85, 0xaa, 0x6b, 0x0b, 0x85, 0x9b, 0x39, 0x39, 0x5e, 0x0b, 0xd2, 0xa3, 0x02, 0x27, 0x49, 0x28, 0xc1, 0x4c, 0x65, 0xa4, 0x02, 0x20, 0xbb, 0x0a, 0xb5, 0x53, 0xbb, 0xb8, 0xee, 0x51, 0xc2, 0x52, 0xae, 0x23, 0xc5, 0x47, 0xa9, 0x24, 0x9d, 0x43, 0x52, 0xd0, 0xe6, 0x49, 0x0b, 0x30, 0x74, 0x96, 0x4b, 0x59, 0x60, 0x90, 0x54, 0x9d, 0x7d, 0x2a, 0x83, 0x0c, 0x5d, 0x97, 0xe5, 0xf8, 0xc8, 0x43, 0x50, 0xba, 0x0b, 0x3c, 0x04, 0x06, 0x2a, 0xfe, 0x05, 0x77, 0xdb, 0x33, 0xc5, 0xb4, 0xa5, 0x32, 0xd6, 0x74, 0x36, 0x41, 0x83, 0x2a, 0x06, 0x22, 0xcd, 0x8a, 0xa2, 0x9c, 0x15, 0x2a, 0xe1, 0x45, 0x0d, 0x73, 0xd4, 0x32, 0x17, 0x34, 0x6a, 0xef, 0x30, 0xe9, 0x4e, 0x3b, 0x0e, 0x9d, 0x92, 0x20, 0x91, 0xe8, 0xc6, 0x23, 0xba, 0xb3, 0xd4, 0x13, 0x02, 0x53, 0xb7, 0x16, 0x7d, 0x9f, 0xd0, 0xca, 0xa0, 0x91, 0xd1, 0x58, 0x99, 0xd8, 0x07, 0xfb, 0x4a, 0x93, 0x0a, 0x8c, 0xd2, 0xb7, 0xca, 0xdf, 0xac, 0x42, 0x92, 0xbe, 0x7a, 0x60, 0x40, 0xf7, 0xde, 0x53, 0x1a, 0x23, 0x18, 0x3f, 0x06, 0x27, 0x0e, 0x29, 0xaf, 0x7c, 0x87, 0xb6, 0x8b, 0xda, 0x5d, 0x5c, 0x0d, 0x7f, 0xc3, 0x75, 0xc5, 0xc2, 0x7c, 0x96, 0xa8, 0xff, 0xbf, 0x1a, 0xb5, 0x84, 0x8a, 0xe0, 0x19, 0x9e, 0x1f, 0xe2, 0x3e, 0x23, 0xac, 0x8e, 0x0a, 0x12, 0x07, 0x68, 0x5f, 0x0e, 0xef, 0xa3, 0x73, 0xf6, 0x00, 0x3d, 0xcb, 0x0d, 0xb7, 0xfb, 0xf7, 0x71, 0x27, 0x7b, 0x80, 0xc4, 0x32, 0x89, 0xe9, 0x1f, 0x0d, 0xb7, 0x86, 0x07, 0x42, 0x7b, 0x30, 0xfa, 0xf7, 0x70, 0xff, 0xcb, 0xb1, 0xb2, 0x66, 0x1f, 0xa9, 0x13, 0x5f, 0x2d, 0x1a, 0xd1, 0x89, 0x0e, 0x74, 0xa1, 0x8f, 0xc2, 0x53, 0x4a, 0x47, 0x02, 0x56, 0x4c, 0x60, 0xd2, 0xd7, 0x95, 0x40, 0x0a, 0x2f, 0xc8, 0x67, 0x84, 0xfe, 0x4f, 0x61, 0x9a, 0x18, 0x1a, 0x09, 0xff, 0x12, 0x33, 0x94, 0x84, 0x0e, 0xe2, 0x48, 0xe3, 0x15, 0x29, 0x09, 0xe1, 0xb5, 0xcf, 0x9e, 0xc1, 0xac, 0x1f, 0x73, 0x05, 0x9d, 0xe0, 0x2c, 0xe6, 0x69, 0xde, 0xe0, 0xcf, 0x83, 0x27, 0x1b, 0x0c, 0x7f, 0x00, 0x50, 0x4b, 0x07, 0x08, 0x9e, 0x09, 0x67, 0x19, 0x0c, 0x03, 0x00, 0x00, 0x04, 0x06, 0x00, 0x00, 0x50, 0x4b, 0x01, 0x02, 0x14, 0x00, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x61, 0xd5, 0x4a, 0x60, 0xc0, 0x01, 0x00, 0x00, 0xc2, 0x03, 0x00, 0x00, 0x14, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x4d, 0x45, 0x54, 0x41, 0x2d, 0x49, 0x4e, 0x46, 0x2f, 0x4d, 0x41, 0x4e, 0x49, 0x46, 0x45, 0x53, 0x54, 0x2e, 0x4d, 0x46, 0xfe, 0xca, 0x00, 0x00, 0x50, 0x4b, 0x01, 0x02, 0x0a, 0x00, 0x0a, 0x00, 0x00, 0x08, 0x00, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x02, 0x00, 0x00, 0x4d, 0x45, 0x54, 0x41, 0x2d, 0x49, 0x4e, 0x46, 0x2f, 0x50, 0x4b, 0x01, 0x02, 0x0a, 0x00, 0x0a, 0x00, 0x00, 0x08, 0x00, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x2d, 0x02, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x50, 0x4b, 0x01, 0x02, 0x0a, 0x00, 0x0a, 0x00, 0x00, 0x08, 0x00, 0x00, 0x03, 0x9a, 0x57, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x4e, 0x02, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x50, 0x4b, 0x01, 0x02, 0x14, 0x00, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0xe4, 0x99, 0x57, 0x57, 0xaf, 0xf7, 0x86, 0xbd, 0x86, 0x02, 0x00, 0x00, 0xe2, 0x04, 0x00, 0x00, 0x21, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x75, 0x02, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x48, 0x61, 0x63, 0x6b, 0x43, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x61, 0x74, 0x63, 0x68, 0x65, 0x72, 0x24, 0x31, 0x2e, 0x63, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x4b, 0x01, 0x02, 0x14, 0x00, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0xe4, 0x99, 0x57, 0x57, 0xcd, 0x1d, 0x0f, 0xa0, 0x58, 0x02, 0x00, 0x00, 0x98, 0x04, 0x00, 0x00, 0x23, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x4a, 0x05, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x48, 0x61, 0x63, 0x6b, 0x43, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x61, 0x74, 0x63, 0x68, 0x65, 0x72, 0x24, 0x31, 0x24, 0x31, 0x2e, 0x63, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x4b, 0x01, 0x02, 0x14, 0x00, 0x14, 0x00, 0x08, 0x08, 0x08, 0x00, 0xe4, 0x99, 0x57, 0x57, 0x9e, 0x09, 0x67, 0x19, 0x0c, 0x03, 0x00, 0x00, 0x04, 0x06, 0x00, 0x00, 0x1f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf3, 0x07, 0x00, 0x00, 0x6d, 0x65, 0x2f, 0x7a, 0x65, 0x64, 0x69, 0x6b, 0x2f, 0x48, 0x61, 0x63, 0x6b, 0x43, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x61, 0x74, 0x63, 0x68, 0x65, 0x72, 0x2e, 0x63, 0x6c, 0x61, 0x73, 0x73, 0x50, 0x4b, 0x05, 0x06, 0x00, 0x00, 0x00, 0x00, 0x07, 0x00, 0x07, 0x00, 0xd2, 0x01, 0x00, 0x00, 0x4c, 0x0b, 0x00, 0x00, 0x00, 0x00, 0x00}; \nstatic const int lib_size = sizeof(lib_bytes);\n</code></pre>\n<p>What's in the jar file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package me.zedik;\n\nimport net.minecraft.client.Minecraft;\n\npublic class HackClassPatcher {\n    public static void doStuffIdk() {\n        Minecraft.getMinecraft().thePlayer.capabilities.allowFlying = true;\n        System.out.println(&quot;hi lol&quot;);\n    }\n\n    // some other random stuff\n}\n</code></pre>\n<p>The injection code:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>// use miniz to extract class files from jar file\nvoid JavaUtils::loadJar(jobject classLoader, const unsigned char *jarBytes, size_t size) {\n    mz_zip_archive archive{};\n    if (!mz_zip_reader_init_mem(&amp;archive, jarBytes, size, 0)) return;\n    mz_uint file_number = mz_zip_reader_get_num_files(&amp;archive);\n    for (mz_uint i = 0; i &lt; file_number; i++) {\n        if (!mz_zip_reader_is_file_supported(&amp;archive, i)) continue;\n        \n        char str[256] = {0};\n        mz_zip_reader_get_filename(&amp;archive, i, str, 256);\n        std::string fileName(str);\n\n        if (fileName.size() &lt;= 6) continue;\n        if (fileName.substr(fileName.size() - 6) != &quot;.class&quot;) continue;\n        \n        size_t classBytes_size = 0;\n        unsigned char *classBytes = (unsigned char*) mz_zip_reader_extract_to_heap(&amp;archive, i, &amp;classBytes_size, 0);\n        if (!classBytes) {\n            mz_zip_reader_end(&amp;archive);\n            return;\n        }\n        \n        jclass jaclass = client-&gt;env-&gt;DefineClass(nullptr, classLoader, (const jbyte*) classBytes, (jsize) classBytes_size);\n        if (jaclass) client-&gt;env-&gt;DeleteLocalRef(jaclass);\n        mz_free(classBytes);\n    }\n    mz_zip_reader_end(&amp;archive);\n}\n\n// creates a new class loader to load the injected classes\njobject JavaUtils::newClassLoader() {\n    jclass urlClass = client-&gt;env-&gt;FindClass(&quot;java/net/URL&quot;);\n    jobjectArray urls = client-&gt;env-&gt;NewObjectArray(0, urlClass, nullptr);\n    jclass URLClassLoaderClass = client-&gt;env-&gt;FindClass(&quot;java/net/URLClassLoader&quot;);\n    jmethodID URLClassLoaderContructor = client-&gt;env-&gt;GetMethodID(URLClassLoaderClass, &quot;&lt;init&gt;&quot;, &quot;([Ljava/net/URL;)V&quot;);\n    jobject URLClassLoader = client-&gt;env-&gt;NewObject(URLClassLoaderClass, URLClassLoaderContructor, urls);\n\n    client-&gt;env-&gt;DeleteLocalRef(urlClass);\n    client-&gt;env-&gt;DeleteLocalRef(urls);\n    client-&gt;env-&gt;DeleteLocalRef(URLClassLoaderClass);\n\n    return URLClassLoader;\n}\n</code></pre>\n<p>Where I inject the jar:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>jobject classLoader = JavaUtils::newClassLoader();\nJavaUtils::loadJar(classLoader, lib_bytes, lib_size);\n</code></pre>\n<p>Calling the method:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>jclass libClass = client-&gt;getClass(&quot;me.zedik.HackClassPatcher&quot;);\n        if (libClass == nullptr) {\n            std::cout &lt;&lt; &quot;hack patcher class not found&quot; &lt;&lt; std::endl;\n            return;\n        }\n        jmethodID libMethod = client-&gt;env-&gt;GetStaticMethodID(libClass, &quot;doStuffIdk&quot;, &quot;()V&quot;);\n        if (libMethod == nullptr) {\n            std::cout &lt;&lt; &quot;hack method not found&quot; &lt;&lt; std::endl;\n            return;\n        }\n        client-&gt;env-&gt;CallStaticVoidMethod(libClass, libMethod);\n        std::cout &lt;&lt; &quot;success&quot; &lt;&lt; std::endl;\n\n        if (client-&gt;env-&gt;ExceptionCheck() == JNI_TRUE) {\n            std::cout &lt;&lt; &quot;EXCEPTION&quot; &lt;&lt; std::endl;\n            jthrowable exception = client-&gt;env-&gt;ExceptionOccurred();\n            client-&gt;env-&gt;ExceptionClear();\n\n            JavaUtils::getInformation(exception); // prints stack trace\n            return;\n        }\n</code></pre>\n<p>Output:</p>\n<pre><code>EXCEPTION:\njava.lang.NoClassDefFoundError: net/minecraft/client/Minecraft\n    me.zedik.HackClassPatcher.doStuffIdk(HackClassPatcher.java:8)\nCaused by: java.lang.ClassNotFoundException: net.minecraft.client.Minecraft\n    java.base/java.net.URLClassLoader.findClass(Unknown Source)\n    java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n    java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n    me.zedik.HackClassPatcher.doStuffIdk(HackClassPatcher.java:8)\n</code></pre>\n<p><code>net/minecraft/client/Minecraft</code> is not included in the jar file but is included in the parent process.</p>\n"},{"tags":["java","eclipse","osgi","dependency-management","osgi-bundle"],"answers":[{"comments":[{"owner":{"account_id":5391135,"reputation":2152,"user_id":4293609,"accept_rate":61,"display_name":"sabrina2020"},"score":0,"creation_date":1434637359,"post_id":30916377,"comment_id":49873376,"body_markdown":"Thanks for your reponse, I am having troubles adding it to my work space, I started a new thread: http://stackoverflow.com/questions/30917983/importing-an-osgi-bundle-into-eclipse","body":"Thanks for your reponse, I am having troubles adding it to my work space, I started a new thread: <a href=\"http://stackoverflow.com/questions/30917983/importing-an-osgi-bundle-into-eclipse\" title=\"importing an osgi bundle into eclipse\">stackoverflow.com/questions/30917983/&hellip;</a>"}],"tags":[],"owner":{"account_id":892776,"reputation":19529,"user_id":930728,"accept_rate":60,"display_name":"Christian Schneider"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1434633280,"creation_date":1434633280,"answer_id":30916377,"question_id":30916055,"body_markdown":"The enocean library seems to be an OSGi bundle. So you should add it to your target platform and use Import-Package in your own bundle to access the packages you need.","title":"Using an external java library in OSGI bundle","body":"<p>The enocean library seems to be an OSGi bundle. So you should add it to your target platform and use Import-Package in your own bundle to access the packages you need.</p>\n"},{"tags":[],"owner":{"account_id":6600139,"reputation":41,"user_id":5098706,"display_name":"Dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699927943,"creation_date":1699927943,"answer_id":77477831,"question_id":30916055,"body_markdown":"There is also the handy-dandy &#39;org.osgi.framework.system.packages.extra&#39; property in the configuration, this comma separated list will allow the named packages from the system class loader to be present in the system bundle and thereby accessible to the plugins.\r\n\r\nif you use apache felix, look at https://felix.apache.org/documentation/subprojects/apache-felix-framework/apache-felix-framework-configuration-properties.html\r\n\r\nanother great page is: https://moi.vonos.net/java/osgi-classloaders/\r\nreally technical but gives a very good understanding of the OSGi class loading process","title":"Using an external java library in OSGI bundle","body":"<p>There is also the handy-dandy 'org.osgi.framework.system.packages.extra' property in the configuration, this comma separated list will allow the named packages from the system class loader to be present in the system bundle and thereby accessible to the plugins.</p>\n<p>if you use apache felix, look at <a href=\"https://felix.apache.org/documentation/subprojects/apache-felix-framework/apache-felix-framework-configuration-properties.html\" rel=\"nofollow noreferrer\">https://felix.apache.org/documentation/subprojects/apache-felix-framework/apache-felix-framework-configuration-properties.html</a></p>\n<p>another great page is: <a href=\"https://moi.vonos.net/java/osgi-classloaders/\" rel=\"nofollow noreferrer\">https://moi.vonos.net/java/osgi-classloaders/</a>\nreally technical but gives a very good understanding of the OSGi class loading process</p>\n"}],"owner":{"account_id":5391135,"reputation":2152,"user_id":4293609,"accept_rate":61,"display_name":"sabrina2020"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":963,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":30916377,"answer_count":2,"score":0,"last_activity_date":1699927943,"creation_date":1434632393,"question_id":30916055,"body_markdown":"I want to use this java library [1]enj-library in my OSGI bundle that will be executed under KURA eclipse platform.\r\n\r\nI compiled the library as jar and then I created a new plugin project under eclipse &quot;Plug-in from existing JAR archive&quot;\r\n\r\nthen I tried to add it to my bundle, but it did not work:\r\n1.I tried to import the bundle and I verified that the version is correct in both manifest files in the import and the export, but I gopt this error:\r\n\r\n    \r\n    org.osgi.framework.BundleException: The bundle &quot;org.eclipse.kura.binding.enocean_1.0.0.201506181418 [70]&quot; could not be resolved. Reason: Missing Constraint: Import-Package: it.polito.elite.enocean.enj.communication; version=&quot;1.0.0&quot;\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.getResolverError(AbstractBundle.java:1332)\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.getResolutionFailureException(AbstractBundle.java:1316)\r\n        at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:323)\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:300)\r\n        at org.tigris.mtoolkit.iagent.internal.rpc.RemoteBundleAdminImpl.startBundle(RemoteBundleAdminImpl.java:230)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.tigris.mtoolkit.iagent.internal.pmp.InvocationThread.run(InvocationThread.java:54)\r\n        at org.tigris.mtoolkit.iagent.internal.utils.ThreadPool$Worker.run(ThreadPool.java:179)\r\n        at java.lang.Thread.run(Thread.java:724)\r\n\r\n\r\n\r\n2.I added it as a required bundle but the I got the same error:\r\n\r\n    org.osgi.framework.BundleException: The bundle &quot;org.eclipse.kura.binding.enocean_1.0.0.201506181349 [70]&quot; could not be resolved. Reason: Missing Constraint: Require-Bundle: EnOceanJavaLibraryplugIn; bundle-version=&quot;1.0.0&quot;\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.getResolverError(AbstractBundle.java:1332)\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.getResolutionFailureException(AbstractBundle.java:1316)\r\n        at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:323)\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:300)\r\n        at org.tigris.mtoolkit.iagent.internal.rpc.RemoteBundleAdminImpl.startBundle(RemoteBundleAdminImpl.java:230)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.tigris.mtoolkit.iagent.internal.pmp.InvocationThread.run(InvocationThread.java:54)\r\n        at org.tigris.mtoolkit.iagent.internal.utils.ThreadPool$Worker.run(ThreadPool.java:179)\r\n        at java.lang.Thread.run(Thread.java:724)\r\n\r\n3.I added in the class path and my bundle started but I got the class not found exception\r\n\r\n    java.lang.ClassNotFoundException: org.eclipse.kura.binding.enocean.EnOcean\r\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)\r\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)\r\n        at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)\r\n        at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:340)\r\n        at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:229)\r\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1212)\r\n        at org.eclipse.equinox.internal.ds.model.ServiceComponent.createInstance(ServiceComponent.java:493)\r\n        at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.createInstance(ServiceComponentProp.java:272)\r\n        at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.build(ServiceComponentProp.java:333)\r\n        at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponent(InstanceProcess.java:620)\r\n        at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponents(InstanceProcess.java:197)\r\n        at org.eclipse.equinox.internal.ds.Resolver.buildNewlySatisfied(Resolver.java:473)\r\n        at org.eclipse.equinox.internal.ds.Resolver.enableComponents(Resolver.java:217)\r\n        at org.eclipse.equinox.internal.ds.SCRManager.performWork(SCRManager.java:816)\r\n        at org.eclipse.equinox.internal.ds.SCRManager$QueuedJob.dispatch(SCRManager.java:783)\r\n        at org.eclipse.equinox.internal.ds.WorkThread.run(WorkThread.java:89)\r\n        at org.eclipse.equinox.internal.util.impl.tpt.threadpool.Executor.run(Executor.java:70)\r\n\r\n\r\n\r\n[1]https://github.com/dog-gateway/enj-library\r\n\r\nhow can I include this library on my OSGI bundle?\r\n\r\nThanks a lot for your help!\r\n","title":"Using an external java library in OSGI bundle","body":"<p>I want to use this java library [1]enj-library in my OSGI bundle that will be executed under KURA eclipse platform.</p>\n\n<p>I compiled the library as jar and then I created a new plugin project under eclipse \"Plug-in from existing JAR archive\"</p>\n\n<p>then I tried to add it to my bundle, but it did not work:\n1.I tried to import the bundle and I verified that the version is correct in both manifest files in the import and the export, but I gopt this error:</p>\n\n<pre><code>org.osgi.framework.BundleException: The bundle \"org.eclipse.kura.binding.enocean_1.0.0.201506181418 [70]\" could not be resolved. Reason: Missing Constraint: Import-Package: it.polito.elite.enocean.enj.communication; version=\"1.0.0\"\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.getResolverError(AbstractBundle.java:1332)\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.getResolutionFailureException(AbstractBundle.java:1316)\n    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:323)\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:300)\n    at org.tigris.mtoolkit.iagent.internal.rpc.RemoteBundleAdminImpl.startBundle(RemoteBundleAdminImpl.java:230)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.tigris.mtoolkit.iagent.internal.pmp.InvocationThread.run(InvocationThread.java:54)\n    at org.tigris.mtoolkit.iagent.internal.utils.ThreadPool$Worker.run(ThreadPool.java:179)\n    at java.lang.Thread.run(Thread.java:724)\n</code></pre>\n\n<p>2.I added it as a required bundle but the I got the same error:</p>\n\n<pre><code>org.osgi.framework.BundleException: The bundle \"org.eclipse.kura.binding.enocean_1.0.0.201506181349 [70]\" could not be resolved. Reason: Missing Constraint: Require-Bundle: EnOceanJavaLibraryplugIn; bundle-version=\"1.0.0\"\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.getResolverError(AbstractBundle.java:1332)\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.getResolutionFailureException(AbstractBundle.java:1316)\n    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:323)\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:300)\n    at org.tigris.mtoolkit.iagent.internal.rpc.RemoteBundleAdminImpl.startBundle(RemoteBundleAdminImpl.java:230)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.tigris.mtoolkit.iagent.internal.pmp.InvocationThread.run(InvocationThread.java:54)\n    at org.tigris.mtoolkit.iagent.internal.utils.ThreadPool$Worker.run(ThreadPool.java:179)\n    at java.lang.Thread.run(Thread.java:724)\n</code></pre>\n\n<p>3.I added in the class path and my bundle started but I got the class not found exception</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.eclipse.kura.binding.enocean.EnOcean\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)\n    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:340)\n    at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:229)\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1212)\n    at org.eclipse.equinox.internal.ds.model.ServiceComponent.createInstance(ServiceComponent.java:493)\n    at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.createInstance(ServiceComponentProp.java:272)\n    at org.eclipse.equinox.internal.ds.model.ServiceComponentProp.build(ServiceComponentProp.java:333)\n    at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponent(InstanceProcess.java:620)\n    at org.eclipse.equinox.internal.ds.InstanceProcess.buildComponents(InstanceProcess.java:197)\n    at org.eclipse.equinox.internal.ds.Resolver.buildNewlySatisfied(Resolver.java:473)\n    at org.eclipse.equinox.internal.ds.Resolver.enableComponents(Resolver.java:217)\n    at org.eclipse.equinox.internal.ds.SCRManager.performWork(SCRManager.java:816)\n    at org.eclipse.equinox.internal.ds.SCRManager$QueuedJob.dispatch(SCRManager.java:783)\n    at org.eclipse.equinox.internal.ds.WorkThread.run(WorkThread.java:89)\n    at org.eclipse.equinox.internal.util.impl.tpt.threadpool.Executor.run(Executor.java:70)\n</code></pre>\n\n<p>[1]<a href=\"https://github.com/dog-gateway/enj-library\" rel=\"nofollow\">https://github.com/dog-gateway/enj-library</a></p>\n\n<p>how can I include this library on my OSGI bundle?</p>\n\n<p>Thanks a lot for your help!</p>\n"},{"tags":["java","list","dictionary","collections"],"comments":[{"owner":{"account_id":1890047,"reputation":2191,"user_id":1708390,"accept_rate":79,"display_name":"Bugs Happen"},"score":1,"creation_date":1512493981,"post_id":1026723,"comment_id":82276823,"body_markdown":"I think it&#39;s not a good model if one has to convert map into list. One should write the code in such manner that this situation doesn&#39;t arrise.","body":"I think it&#39;s not a good model if one has to convert map into list. One should write the code in such manner that this situation doesn&#39;t arrise."}],"answers":[{"comments":[{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":13,"creation_date":1371590888,"post_id":1026736,"comment_id":24876196,"body_markdown":"Thanks! I was assuming the cast from `Collection` to `List` would work.","body":"Thanks! I was assuming the cast from <code>Collection</code> to <code>List</code> would work."},{"owner":{"account_id":886634,"reputation":452,"user_id":925928,"accept_rate":80,"display_name":"Sheldon R."},"score":1,"creation_date":1385136853,"post_id":1026736,"comment_id":30032273,"body_markdown":"I suspect the reason it doesn&#39;t work is because the collection returned by values() is dependent on the underlying Map; by making a copy constructor call instead, you allocate storage and copy the values into that storage, thus breaking the connection...","body":"I suspect the reason it doesn&#39;t work is because the collection returned by values() is dependent on the underlying Map; by making a copy constructor call instead, you allocate storage and copy the values into that storage, thus breaking the connection..."},{"owner":{"display_name":"user2022068"},"score":4,"creation_date":1433616137,"post_id":1026736,"comment_id":49432321,"body_markdown":"If we have LinkedHashMap - will the order leave the same?","body":"If we have LinkedHashMap - will the order leave the same?"},{"owner":{"account_id":305757,"reputation":1584,"user_id":5851520,"accept_rate":100,"display_name":"SusanW"},"score":1,"creation_date":1473416161,"post_id":1026736,"comment_id":66142845,"body_markdown":"@user2022068 yes, order should be preserved with LinkedHashMap.","body":"@user2022068 yes, order should be preserved with LinkedHashMap."},{"owner":{"account_id":305757,"reputation":1584,"user_id":5851520,"accept_rate":100,"display_name":"SusanW"},"score":2,"creation_date":1473416791,"post_id":1026736,"comment_id":66143223,"body_markdown":"@SheldonR. yes - the collections returned by `keySet()` and `values()` are generally shim objects that give a Set or Collection view of the underlying structure (`keySet()` returns a Set to emphasize no dupes). For `values()`, the returned object _may_ be a `List`, but often won&#39;t be. Creating a real List, as you say, breaks the link which means you&#39;re no longer dependent on the original Map. \nSometimes though, you only need a List because some API requires one - reinforcing the rule that a good API should require only the most abstract interfaces it can get away with...","body":"@SheldonR. yes - the collections returned by <code>keySet()</code> and <code>values()</code> are generally shim objects that give a Set or Collection view of the underlying structure (<code>keySet()</code> returns a Set to emphasize no dupes). For <code>values()</code>, the returned object <i>may</i> be a <code>List</code>, but often won&#39;t be. Creating a real List, as you say, breaks the link which means you&#39;re no longer dependent on the original Map.  Sometimes though, you only need a List because some API requires one - reinforcing the rule that a good API should require only the most abstract interfaces it can get away with..."},{"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"score":1,"creation_date":1485274096,"post_id":1026736,"comment_id":70852467,"body_markdown":"That&#39;s perfect, just let&#39;s use the diamond operator in the ArrayList constructor: List&lt;Value&gt; list = new ArrayList&lt;&gt;(map.values());","body":"That&#39;s perfect, just let&#39;s use the diamond operator in the ArrayList constructor: List&lt;Value&gt; list = new ArrayList&lt;&gt;(map.values());"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":1,"creation_date":1562324259,"post_id":1026736,"comment_id":100348313,"body_markdown":"In my case (Java 8, IntellijJ) the compiler just fails with type inferring `new ArrayList&lt;SomeInterface&gt;(map.values())`; have to change it to `new ArrayList(map.values())` and only get a warning is shown.","body":"In my case (Java 8, IntellijJ) the compiler just fails with type inferring <code>new ArrayList&lt;SomeInterface&gt;(map.values())</code>; have to change it to <code>new ArrayList(map.values())</code> and only get a warning is shown."},{"owner":{"account_id":17049867,"reputation":2224,"user_id":12335762,"display_name":"Jasperan"},"score":0,"creation_date":1649694556,"post_id":1026736,"comment_id":126935795,"body_markdown":"@WesternGun Try `new ArrayList&lt;&gt;(map.values())`, this will get rid of all warnings","body":"@WesternGun Try <code>new ArrayList&lt;&gt;(map.values())</code>, this will get rid of all warnings"}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":8,"down_vote_count":3,"up_vote_count":1520,"is_accepted":true,"score":1517,"last_activity_date":1245671322,"creation_date":1245671322,"answer_id":1026736,"question_id":1026723,"body_markdown":"    List&lt;Value&gt; list = new ArrayList&lt;Value&gt;(map.values());\r\n\r\nassuming:\r\n\r\n    Map&lt;Key,Value&gt; map;\r\n\r\n","title":"How do I convert a Map to List in Java?","body":"<pre><code>List&lt;Value&gt; list = new ArrayList&lt;Value&gt;(map.values());\n</code></pre>\n\n<p>assuming:</p>\n\n<pre><code>Map&lt;Key,Value&gt; map;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43401,"reputation":579,"user_id":126875,"display_name":"Diego Amicabile"},"comment_count":0,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1354786434,"creation_date":1245671397,"answer_id":1026745,"question_id":1026723,"body_markdown":"a list of what ?\r\n\r\nAssuming `map` is your instance of `Map`\r\n\r\n- `map.values()` will return a `Collection` containing all of the map&#39;s values.\r\n- `map.keySet()` will return a `Set` containing all of the map&#39;s keys.","title":"How do I convert a Map to List in Java?","body":"<p>a list of what ?</p>\n\n<p>Assuming <code>map</code> is your instance of <code>Map</code></p>\n\n<ul>\n<li><code>map.values()</code> will return a <code>Collection</code> containing all of the map's values.</li>\n<li><code>map.keySet()</code> will return a <code>Set</code> containing all of the map's keys.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1301472138,"post_id":1026754,"comment_id":6219094,"body_markdown":"It should be noted that the order of values returned by those methods is *not defined* and for `HashMap` and similar un-sorted `Map` implementations it will be effectively random.","body":"It should be noted that the order of values returned by those methods is <i>not defined</i> and for <code>HashMap</code> and similar un-sorted <code>Map</code> implementations it will be effectively random."},{"owner":{"account_id":84539,"reputation":9548,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"score":2,"creation_date":1328989651,"post_id":1026754,"comment_id":11644519,"body_markdown":"Yes, you would have to know it is a LinkedHashMap or something of that sort.  The problem with the original question is that the question is misstated, that is it needs editing.  The question is not to convert a Map to a List, but rather how to get the values of the map as a List.  The method values gives you a Collection, but not a list, and hence the need for a neat little trick.","body":"Yes, you would have to know it is a LinkedHashMap or something of that sort.  The problem with the original question is that the question is misstated, that is it needs editing.  The question is not to convert a Map to a List, but rather how to get the values of the map as a List.  The method values gives you a Collection, but not a list, and hence the need for a neat little trick."},{"owner":{"account_id":2030222,"reputation":1354,"user_id":1814137,"accept_rate":100,"display_name":"Ignacio Rubio"},"score":0,"creation_date":1416242033,"post_id":1026754,"comment_id":42489209,"body_markdown":"I think you could add to your answer what @M0les says: That you would need to &quot;go via&quot; SortedMap somehow. Either start with a concrete SortedMap implementation (Such as TreeMap) or insert your input Map into a SortedMap before converting that to List","body":"I think you could add to your answer what @M0les says: That you would need to &quot;go via&quot; SortedMap somehow. Either start with a concrete SortedMap implementation (Such as TreeMap) or insert your input Map into a SortedMap before converting that to List"}],"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":3,"down_vote_count":1,"up_vote_count":145,"is_accepted":false,"score":144,"last_activity_date":1320081196,"creation_date":1245671512,"answer_id":1026754,"question_id":1026723,"body_markdown":"The issue here is that [`Map`][1] has two values (a key and value), while a [`List`][2] only has one value (an element).\r\n\r\nTherefore, the best that can be done is to either get a `List` of the keys or the values. (Unless we make a wrapper to hold on to the key/value pair).\r\n\r\nSay we have a `Map`:\r\n\r\n    Map&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\r\n    m.put(&quot;Hello&quot;, &quot;World&quot;);\r\n    m.put(&quot;Apple&quot;, &quot;3.14&quot;);\r\n    m.put(&quot;Another&quot;, &quot;Element&quot;);\r\n\r\nThe keys as a `List` can be obtained by creating a new [`ArrayList`][3] from a [`Set`][4] returned by the [`Map.keySet`][5] method:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(m.keySet());\r\n\t\t\r\nWhile the values as a `List` can be obtained creating a new `ArrayList` from a [`Collection`][6] returned by the [`Map.values`][7] method:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(m.values());\r\n\r\nThe result of getting the `List` of keys:\r\n\r\n&lt;pre&gt;\r\nApple\r\nAnother\r\nHello\r\n&lt;/pre&gt;\r\n\r\nThe result of getting the `List` of values:\r\n\r\n&lt;pre&gt;\r\n3.14\r\nElement\r\nWorld\r\n&lt;/pre&gt;\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Map.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/List.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html\r\n  [4]: http://java.sun.com/javase/6/docs/api/java/util/Set.html\r\n  [5]: http://java.sun.com/javase/6/docs/api/java/util/Map.html#keySet()\r\n  [6]: http://java.sun.com/javase/6/docs/api/java/util/Collection.html\r\n  [7]: http://java.sun.com/javase/6/docs/api/java/util/Map.html#values()","title":"How do I convert a Map to List in Java?","body":"<p>The issue here is that <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> has two values (a key and value), while a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html\" rel=\"noreferrer\"><code>List</code></a> only has one value (an element).</p>\n\n<p>Therefore, the best that can be done is to either get a <code>List</code> of the keys or the values. (Unless we make a wrapper to hold on to the key/value pair).</p>\n\n<p>Say we have a <code>Map</code>:</p>\n\n<pre><code>Map&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\nm.put(\"Hello\", \"World\");\nm.put(\"Apple\", \"3.14\");\nm.put(\"Another\", \"Element\");\n</code></pre>\n\n<p>The keys as a <code>List</code> can be obtained by creating a new <a href=\"http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\"><code>ArrayList</code></a> from a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\"><code>Set</code></a> returned by the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.html#keySet()\" rel=\"noreferrer\"><code>Map.keySet</code></a> method:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(m.keySet());\n</code></pre>\n\n<p>While the values as a <code>List</code> can be obtained creating a new <code>ArrayList</code> from a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collection.html\" rel=\"noreferrer\"><code>Collection</code></a> returned by the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.html#values()\" rel=\"noreferrer\"><code>Map.values</code></a> method:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(m.values());\n</code></pre>\n\n<p>The result of getting the <code>List</code> of keys:</p>\n\n<pre>\nApple\nAnother\nHello\n</pre>\n\n<p>The result of getting the <code>List</code> of values:</p>\n\n<pre>\n3.14\nElement\nWorld\n</pre>\n"},{"tags":[],"owner":{"account_id":43399,"reputation":1102,"user_id":126859,"display_name":"maneesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1320081243,"creation_date":1245671628,"answer_id":1026770,"question_id":1026723,"body_markdown":"I guess you want to convert the values contained in the `Map` to a `list`? Easiest is to call the `values()` method of the `Map` interface. This will return the `Collection` of value objects contained in the `Map`.\r\n\r\nNote that this `Collection` is backed by the `Map` object and any changes to the `Map` object will reflect here. So if you want a separate copy not bound to your `Map` object, simply create a new `List` object like an `ArrayList` passing the value `Collection` as below.\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(map.values());","title":"How do I convert a Map to List in Java?","body":"<p>I guess you want to convert the values contained in the <code>Map</code> to a <code>list</code>? Easiest is to call the <code>values()</code> method of the <code>Map</code> interface. This will return the <code>Collection</code> of value objects contained in the <code>Map</code>.</p>\n\n<p>Note that this <code>Collection</code> is backed by the <code>Map</code> object and any changes to the <code>Map</code> object will reflect here. So if you want a separate copy not bound to your <code>Map</code> object, simply create a new <code>List</code> object like an <code>ArrayList</code> passing the value <code>Collection</code> as below.</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;(map.values());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":670280,"reputation":301,"user_id":509937,"display_name":"java dude"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1320081308,"creation_date":1289934018,"answer_id":4197913,"question_id":1026723,"body_markdown":"`map.entrySet()` gives you a collection of `Map.Entry` objects containing both key and value. you can then transform this into any collection object you like, such as `new ArrayList(map.entrySet())`;","title":"How do I convert a Map to List in Java?","body":"<p><code>map.entrySet()</code> gives you a collection of <code>Map.Entry</code> objects containing both key and value. you can then transform this into any collection object you like, such as <code>new ArrayList(map.entrySet())</code>;</p>\n"},{"tags":[],"owner":{"account_id":490570,"reputation":111,"user_id":2060068,"display_name":"M0les"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1395109640,"creation_date":1395109640,"answer_id":22469278,"question_id":1026723,"body_markdown":"If you want to ensure the values in the resultant `List&lt;Value&gt;` are in the key-ordering of the input `Map&lt;Key, Value&gt;`, you need to &quot;go via&quot; `SortedMap` somehow.\r\n\r\nEither _start_ with a concrete `SortedMap` implementation (Such as `TreeMap`) or insert your input `Map` into a `SortedMap` before converting that to `List`. e.g.:\r\n\r\n    Map&lt;Key,Value&gt; map;\r\n    List&lt;Value&gt; list = new ArrayList&lt;Value&gt;( new TreeMap&lt;Key Value&gt;( map ));\r\n\r\nOtherwise you&#39;ll get whatever native ordering the `Map` implementation provides, which can often be something other than the natural key ordering (Try `Hashtable` or `ConcurrentHashMap`, for variety).\r\n","title":"How do I convert a Map to List in Java?","body":"<p>If you want to ensure the values in the resultant <code>List&lt;Value&gt;</code> are in the key-ordering of the input <code>Map&lt;Key, Value&gt;</code>, you need to \"go via\" <code>SortedMap</code> somehow.</p>\n\n<p>Either <em>start</em> with a concrete <code>SortedMap</code> implementation (Such as <code>TreeMap</code>) or insert your input <code>Map</code> into a <code>SortedMap</code> before converting that to <code>List</code>. e.g.:</p>\n\n<pre><code>Map&lt;Key,Value&gt; map;\nList&lt;Value&gt; list = new ArrayList&lt;Value&gt;( new TreeMap&lt;Key Value&gt;( map ));\n</code></pre>\n\n<p>Otherwise you'll get whatever native ordering the <code>Map</code> implementation provides, which can often be something other than the natural key ordering (Try <code>Hashtable</code> or <code>ConcurrentHashMap</code>, for variety).</p>\n"},{"tags":[],"owner":{"account_id":3195278,"reputation":197,"user_id":2698573,"accept_rate":75,"display_name":"user11"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1405578935,"creation_date":1405578935,"answer_id":24796440,"question_id":1026723,"body_markdown":"        Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n        map.put(&quot;java&quot;, 20);\r\n        map.put(&quot;C++&quot;, 45);\r\n\r\n        Set &lt;Entry&lt;String, Integer&gt;&gt; set = map.entrySet();\r\n        \r\n        List&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(set);\r\n\r\nwe can have both key and value pair in list.Also can get key and value using Map.Entry&lt;k,v&gt; by iterating over list.","title":"How do I convert a Map to List in Java?","body":"<pre><code>    Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n    map.put(\"java\", 20);\n    map.put(\"C++\", 45);\n\n    Set &lt;Entry&lt;String, Integer&gt;&gt; set = map.entrySet();\n\n    List&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(set);\n</code></pre>\n\n<p>we can have both key and value pair in list.Also can get key and value using Map.Entry by iterating over list.</p>\n"},{"comments":[{"owner":{"account_id":1168981,"reputation":1857,"user_id":1146596,"accept_rate":92,"display_name":"RavenMan"},"score":13,"creation_date":1487934901,"post_id":32666076,"comment_id":72018491,"body_markdown":"I prefer the accepted, constructor-based answer. Streams should be for simplifying code.","body":"I prefer the accepted, constructor-based answer. Streams should be for simplifying code."},{"owner":{"account_id":372647,"reputation":2159,"user_id":721809,"accept_rate":100,"display_name":"Matej Kormuth"},"score":1,"creation_date":1487944658,"post_id":32666076,"comment_id":72024745,"body_markdown":"@Aaron Yes, for the task of getting a List of values from Map the constructor seems to be simplier. However if you are using Streams extensivly in a codebase it&#39;s better to stay consistent.","body":"@Aaron Yes, for the task of getting a List of values from Map the constructor seems to be simplier. However if you are using Streams extensivly in a codebase it&#39;s better to stay consistent."},{"owner":{"account_id":5746045,"reputation":1135,"user_id":4537268,"display_name":"Ganesh Giri"},"score":1,"creation_date":1566539500,"post_id":32666076,"comment_id":101695138,"body_markdown":"when i use this get an error if I am fetching huge amount of data ..thread is looping on\njava.util.stream.ReduceOps$3.makeSink(Unknown Source). If\nthreads loop infinitely, CPU consumption will start to spike up.\nLooping threads stack trace are given below, examine it","body":"when i use this get an error if I am fetching huge amount of data ..thread is looping on java.util.stream.ReduceOps$3.makeSink(Unknown Source). If threads loop infinitely, CPU consumption will start to spike up. Looping threads stack trace are given below, examine it"},{"owner":{"account_id":1871818,"reputation":705,"user_id":1693871,"accept_rate":23,"display_name":"pincoin"},"score":0,"creation_date":1669472219,"post_id":32666076,"comment_id":131650390,"body_markdown":"I also like this code, but IntelliJ IDE suggests to change the code like this:\n\n```java\nList&lt;Value&gt; values = new ArrayList&lt;&gt;(map.values());\n```","body":"I also like this code, but IntelliJ IDE suggests to change the code like this:  <code>java List&lt;Value&gt; values = new ArrayList&lt;&gt;(map.values()); </code>"}],"tags":[],"owner":{"account_id":372647,"reputation":2159,"user_id":721809,"accept_rate":100,"display_name":"Matej Kormuth"},"comment_count":4,"down_vote_count":2,"up_vote_count":68,"is_accepted":false,"score":66,"last_activity_date":1468945329,"creation_date":1442651686,"answer_id":32666076,"question_id":1026723,"body_markdown":"Using the Java 8 Streams API.\r\n\r\n    List&lt;Value&gt; values = map.values().stream().collect(Collectors.toList());","title":"How do I convert a Map to List in Java?","body":"<p>Using the Java 8 Streams API.</p>\n\n<pre><code>List&lt;Value&gt; values = map.values().stream().collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7449501,"reputation":49,"user_id":5664758,"display_name":"siva prasad"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1639661471,"creation_date":1457947268,"answer_id":35983575,"question_id":1026723,"body_markdown":"     Map&lt;String, String &gt; map = new HapshMap&lt;String, String&gt;;\r\n     map.add(&quot;one&quot;,&quot;java&quot;);\r\n     map.add(&quot;two&quot;, &quot;spring&quot;);\r\n     Set&lt;Entry&lt;String, String&gt;&gt; set = map.entrySet();\r\n     List&lt;Entry&lt;String, String&gt;&gt; list = new ArrayList&lt;Entry&lt;String, String&gt;&gt;    (set);\r\n     for(Entry&lt;String, String&gt; entry : list) {\r\n       System.out.println(entry.getKey());\r\n       System.out.println(entry.getValue());\r\n     }","title":"How do I convert a Map to List in Java?","body":"<pre><code> Map&lt;String, String &gt; map = new HapshMap&lt;String, String&gt;;\n map.add(&quot;one&quot;,&quot;java&quot;);\n map.add(&quot;two&quot;, &quot;spring&quot;);\n Set&lt;Entry&lt;String, String&gt;&gt; set = map.entrySet();\n List&lt;Entry&lt;String, String&gt;&gt; list = new ArrayList&lt;Entry&lt;String, String&gt;&gt;    (set);\n for(Entry&lt;String, String&gt; entry : list) {\n   System.out.println(entry.getKey());\n   System.out.println(entry.getValue());\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":755765,"reputation":8010,"user_id":765965,"accept_rate":94,"display_name":"Al-Mothafar"},"score":0,"creation_date":1667832111,"post_id":37989053,"comment_id":131255288,"body_markdown":"Why the unnecessary cast here?","body":"Why the unnecessary cast here?"},{"owner":{"account_id":8590107,"reputation":61,"user_id":6434959,"display_name":"Hakan Anlamaz"},"score":0,"creation_date":1670874784,"post_id":37989053,"comment_id":131969907,"body_markdown":"The object change you used example: String , Integer etc.","body":"The object change you used example: String , Integer etc."}],"tags":[],"owner":{"account_id":8590107,"reputation":61,"user_id":6434959,"display_name":"Hakan Anlamaz"},"comment_count":2,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1699927183,"creation_date":1466677813,"answer_id":37989053,"question_id":1026723,"body_markdown":"    public List&lt;Object&gt; convertMapToList(Map&lt;Object, Object&gt; map){\r\n        return new ArrayList&lt;&gt;(map.values());\r\n    }\r\n\r\n","title":"How do I convert a Map to List in Java?","body":"<pre><code>public List&lt;Object&gt; convertMapToList(Map&lt;Object, Object&gt; map){\n    return new ArrayList&lt;&gt;(map.values());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":755765,"reputation":8010,"user_id":765965,"accept_rate":94,"display_name":"Al-Mothafar"},"score":0,"creation_date":1667832031,"post_id":48625943,"comment_id":131255258,"body_markdown":"You have to initialize ArrayList with the size of Map, if you have a map got like 1 Million records, good luck with having .add() dealing with resizing the array over and over again.","body":"You have to initialize ArrayList with the size of Map, if you have a map got like 1 Million records, good luck with having .add() dealing with resizing the array over and over again."}],"tags":[],"owner":{"account_id":12882885,"reputation":62,"user_id":9317373,"display_name":"Hiral Pancholi"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1518598250,"creation_date":1517844598,"answer_id":48625943,"question_id":1026723,"body_markdown":"Here&#39;s the generic method to get values from map.\r\n\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; ValueListFromMap(HashMap&lt;String, T&gt; map) {\r\n        List&lt;T&gt; thingList = new ArrayList&lt;&gt;();\r\n\r\n        for (Map.Entry&lt;String, T&gt; entry : map.entrySet()) {\r\n            thingList.add(entry.getValue());\r\n        }\r\n\r\n        return thingList;\r\n    }","title":"How do I convert a Map to List in Java?","body":"<p>Here's the generic method to get values from map.</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; ValueListFromMap(HashMap&lt;String, T&gt; map) {\n    List&lt;T&gt; thingList = new ArrayList&lt;&gt;();\n\n    for (Map.Entry&lt;String, T&gt; entry : map.entrySet()) {\n        thingList.add(entry.getValue());\n    }\n\n    return thingList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10213339,"reputation":1287,"user_id":7539786,"display_name":"saurabhgoyal795"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1522319868,"creation_date":1522319868,"answer_id":49553934,"question_id":1026723,"body_markdown":"    // you can use this\r\n    List&lt;Value&gt; list = new ArrayList&lt;Value&gt;(map.values());\r\n    \r\n    // or you may use \r\n    List&lt;Value&gt; list = new ArrayList&lt;Value&gt;();\r\n    for (Map.Entry&lt;String, String&gt; entry : map.entrySet())\r\n    {\r\n    list.add(entry.getValue());    \r\n    }\r\n\r\n","title":"How do I convert a Map to List in Java?","body":"<pre><code>// you can use this\nList&lt;Value&gt; list = new ArrayList&lt;Value&gt;(map.values());\n\n// or you may use \nList&lt;Value&gt; list = new ArrayList&lt;Value&gt;();\nfor (Map.Entry&lt;String, String&gt; entry : map.entrySet())\n{\nlist.add(entry.getValue());    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1637157960,"post_id":68381091,"comment_id":123750648,"body_markdown":"Why You not mention the package of ```List.copyOf```?","body":"Why You not mention the package of <code>List.copyOf</code>?"},{"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"score":0,"creation_date":1637247740,"post_id":68381091,"comment_id":123780003,"body_markdown":"because it is the usual `java.util.List`?","body":"because it is the usual <code>java.util.List</code>?"},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1637263325,"post_id":68381091,"comment_id":123786363,"body_markdown":"What? but popup .class only java.util.List.class","body":"What? but popup .class only java.util.List.class"}],"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626276993,"creation_date":1626276993,"answer_id":68381091,"question_id":1026723,"body_markdown":"If you want an *immutable* copy of the values:\r\n\r\n```\r\nList&lt;Value&gt; list = List.copyOf(map.values())\r\n```","title":"How do I convert a Map to List in Java?","body":"<p>If you want an <em>immutable</em> copy of the values:</p>\n<pre><code>List&lt;Value&gt; list = List.copyOf(map.values())\n</code></pre>\n"}],"owner":{"account_id":876449,"reputation":8089,"user_id":60173,"display_name":"Javaa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1034319,"favorite_count":0,"down_vote_count":3,"up_vote_count":808,"accepted_answer_id":1026736,"answer_count":13,"score":805,"last_activity_date":1699927183,"creation_date":1245671128,"question_id":1026723,"body_markdown":"How do I convert a `Map&lt;key,value&gt;` to a `List&lt;value&gt;`? Should I iterate over all map values and insert them into a list?","title":"How do I convert a Map to List in Java?","body":"<p>How do I convert a <code>Map&lt;key,value&gt;</code> to a <code>List&lt;value&gt;</code>? Should I iterate over all map values and insert them into a list?</p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":3695702,"reputation":12521,"user_id":5156075,"accept_rate":100,"display_name":"John Joe"},"score":0,"creation_date":1558411896,"post_id":56230707,"comment_id":99081423,"body_markdown":"can you provide the library link ?","body":"can you provide the library link ?"},{"owner":{"account_id":14018917,"reputation":63,"user_id":10125613,"display_name":"dmelton_"},"score":0,"creation_date":1558412006,"post_id":56230707,"comment_id":99081450,"body_markdown":"https://github.com/lisawray/groupie @JohnJoe","body":"<a href=\"https://github.com/lisawray/groupie\" rel=\"nofollow noreferrer\">github.com/lisawray/groupie</a> @JohnJoe"}],"answers":[{"tags":[],"owner":{"account_id":14018917,"reputation":63,"user_id":10125613,"display_name":"dmelton_"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558412794,"creation_date":1558412794,"answer_id":56231064,"question_id":56230707,"body_markdown":"I figured it out. I forgot to add the Layout Manager in my RecyclerView xml block:\r\n```app:layoutManager=&quot;android.support.v7.widget.LinearLayoutManager&quot;```","title":"RecyclerView not Visible with Groupie (Kotlin)","body":"<p>I figured it out. I forgot to add the Layout Manager in my RecyclerView xml block:\n<code>app:layoutManager=\"android.support.v7.widget.LinearLayoutManager\"</code></p>\n"},{"tags":[],"owner":{"account_id":14560846,"reputation":9,"user_id":10516944,"display_name":"kabir saini"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1593986370,"creation_date":1593973421,"answer_id":62744708,"question_id":56230707,"body_markdown":"You need to add this in your layout file where you ha:\r\n`app:layoutManager=&quot;android.support.v7.widget.LinearLayoutManager`\r\nplus you also need to add ","title":"RecyclerView not Visible with Groupie (Kotlin)","body":"<p>You need to add this in your layout file where you ha:\n<code>app:layoutManager=&quot;android.support.v7.widget.LinearLayoutManager</code>\nplus you also need to add</p>\n"}],"owner":{"account_id":14018917,"reputation":63,"user_id":10125613,"display_name":"dmelton_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699927090,"creation_date":1558409587,"question_id":56230707,"body_markdown":"I&#39;m trying to use the Groupie library (version 2.1.0) for my RecylerView. In my original app, the view would not be visible at all. I decided to make a dummy app to resolve my issue, and I just cannot get the view to be visible. I feel the solution may be simple since this library is simple to use.\r\n\r\n**MainActivity.kt:**\r\n```kotlin\r\npackage com.dmelton.test\r\n\r\nimport android.support.v7.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport com.xwray.groupie.GroupAdapter\r\nimport com.xwray.groupie.Item\r\nimport com.xwray.groupie.ViewHolder\r\nimport kotlinx.android.synthetic.main.activity_main.*\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        val adapter = GroupAdapter&lt;ViewHolder&gt;()\r\n\r\n        adapter.add(Test())\r\n        adapter.add(Test())\r\n        adapter.add(Test())\r\n\r\n        new_recyclerView.adapter = adapter\r\n    }\r\n}\r\n\r\nclass Test: Item&lt;ViewHolder&gt;() {\r\n\r\n    override fun bind(viewHolder: ViewHolder, position: Int) {\r\n        TODO(&quot;not implemented&quot;) //To change body of created functions use File | Settings | File Templates.\r\n    }\r\n\r\n    override fun getLayout(): Int {\r\n        return R.layout.individual_service\r\n    }\r\n\r\n}\r\n```\r\n\r\n**activity_main.xml:**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;android.support.constraint.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;android.support.v7.widget.RecyclerView\r\n            android:layout_width=&quot;395dp&quot;\r\n            android:layout_height=&quot;715dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot; android:id=&quot;@+id/new_recyclerView&quot;/&gt;\r\n&lt;/android.support.constraint.ConstraintLayout&gt;\r\n```\r\n\r\n**individual_service.xml:**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                                             android:layout_width=&quot;match_parent&quot;\r\n                                             android:layout_height=&quot;wrap_content&quot;\r\n                                             xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;ImageView\r\n            android:id=&quot;@+id/imageView_service&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:background=&quot;@android:color/holo_blue_dark&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:srcCompat=&quot;@android:drawable/ic_menu_preferences&quot; /&gt;\r\n\r\n    &lt;TextView\r\n            android:id=&quot;@+id/textView_service_name&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:text=&quot;Service Name&quot;\r\n            android:textColor=&quot;@android:color/black&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/imageView_service&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/imageView_service&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/imageView_service&quot; /&gt;\r\n\r\n\r\n    &lt;TextView\r\n            android:id=&quot;@+id/textView_service_status&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:text=&quot;Status&quot;\r\n            android:textColor=&quot;@android:color/black&quot;\r\n            android:textSize=&quot;16sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/imageView_service&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/textView_service_name&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/imageView_service&quot; /&gt;\r\n\r\n&lt;/android.support.constraint.ConstraintLayout&gt;\r\n```\r\n\r\n**build.gradle (app)**\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\napply plugin: &#39;kotlin-android&#39;\r\n\r\napply plugin: &#39;kotlin-android-extensions&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 28\r\n    defaultConfig {\r\n        applicationId &quot;com.dmelton.test&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 28\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n    implementation &#39;com.xwray:groupie:2.1.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n    implementation &#39;com.android.support:recyclerview-v7:28.0.0&#39;\r\n}\r\n```","title":"RecyclerView not Visible with Groupie (Kotlin)","body":"<p>I'm trying to use the Groupie library (version 2.1.0) for my RecylerView. In my original app, the view would not be visible at all. I decided to make a dummy app to resolve my issue, and I just cannot get the view to be visible. I feel the solution may be simple since this library is simple to use.</p>\n\n<p><strong>MainActivity.kt:</strong></p>\n\n<pre><code>package com.dmelton.test\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport com.xwray.groupie.GroupAdapter\nimport com.xwray.groupie.Item\nimport com.xwray.groupie.ViewHolder\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val adapter = GroupAdapter&lt;ViewHolder&gt;()\n\n        adapter.add(Test())\n        adapter.add(Test())\n        adapter.add(Test())\n\n        new_recyclerView.adapter = adapter\n    }\n}\n\nclass Test: Item&lt;ViewHolder&gt;() {\n\n    override fun bind(viewHolder: ViewHolder, position: Int) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun getLayout(): Int {\n        return R.layout.individual_service\n    }\n\n}\n</code></pre>\n\n<p><strong>activity_main.xml:</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"&gt;\n\n\n    &lt;android.support.v7.widget.RecyclerView\n            android:layout_width=\"395dp\"\n            android:layout_height=\"715dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\" android:id=\"@+id/new_recyclerView\"/&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>individual_service.xml:</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                                             android:layout_width=\"match_parent\"\n                                             android:layout_height=\"wrap_content\"\n                                             xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;ImageView\n            android:id=\"@+id/imageView_service\"\n            android:layout_width=\"60dp\"\n            android:layout_height=\"60dp\"\n            android:layout_marginStart=\"16dp\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:background=\"@android:color/holo_blue_dark\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:srcCompat=\"@android:drawable/ic_menu_preferences\" /&gt;\n\n    &lt;TextView\n            android:id=\"@+id/textView_service_name\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"16dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:text=\"Service Name\"\n            android:textColor=\"@android:color/black\"\n            android:textSize=\"16sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/imageView_service\"\n            app:layout_constraintStart_toEndOf=\"@+id/imageView_service\"\n            app:layout_constraintTop_toTopOf=\"@+id/imageView_service\" /&gt;\n\n\n    &lt;TextView\n            android:id=\"@+id/textView_service_status\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:text=\"Status\"\n            android:textColor=\"@android:color/black\"\n            android:textSize=\"16sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/imageView_service\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@+id/textView_service_name\"\n            app:layout_constraintTop_toTopOf=\"@+id/imageView_service\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>build.gradle (app)</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.dmelton.test\"\n        minSdkVersion 19\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.xwray:groupie:2.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n}\n</code></pre>\n"},{"tags":["java","generics","lambda","anonymous-function","anonymous-methods"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1699918893,"post_id":77477388,"comment_id":136588926,"body_markdown":"What exactly is the error here?  What error message do you get, on what line?  Or what undesired behavior do you see?","body":"What exactly is the error here?  What error message do you get, on what line?  Or what undesired behavior do you see?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1699919208,"post_id":77477388,"comment_id":136588950,"body_markdown":"`T` has to be defined in context; it can&#39;t just come from nowhere. Something like this is typically implemented via a static _method_. E.g., `public static &lt;T&gt; BiPredicate&lt;T, T&gt; equality() { return Objects::equals; }`.","body":"<code>T</code> has to be defined in context; it can&#39;t just come from nowhere. Something like this is typically implemented via a static <i>method</i>. E.g., <code>public static &lt;T&gt; BiPredicate&lt;T, T&gt; equality() { return Objects::equals; }</code>."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1699921314,"post_id":77477388,"comment_id":136589090,"body_markdown":"Your problem is that you need to use functions, not constants.  (There&#39;s not even any benefit to be gained from using constants.)","body":"Your problem is that you need to use functions, not constants.  (There&#39;s not even any benefit to be gained from using constants.)"},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1699921609,"post_id":77477388,"comment_id":136589118,"body_markdown":"Consider using Kotlin just for this part of your development?  Kotlin compiles to Java byte code and treats functions (like the predicates you want) as first class citizens making your use case very easy.  A reference: https://typealias.com/concepts/first-class-function/","body":"Consider using Kotlin just for this part of your development?  Kotlin compiles to Java byte code and treats functions (like the predicates you want) as first class citizens making your use case very easy.  A reference: <a href=\"https://typealias.com/concepts/first-class-function/\" rel=\"nofollow noreferrer\">typealias.com/concepts/first-class-function</a>"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1699923690,"post_id":77477388,"comment_id":136589299,"body_markdown":"@Slaw Hell yeah, that&#39;s it! Is a lot more beautiful than my attempts. And now I realize that the method returns a static reference to a static method, so it does not have to allocate/instantiate anything more. Really beautiful. Thanx. If you formulate that as an answer, I&#39;ll accept it.","body":"@Slaw Hell yeah, that&#39;s it! Is a lot more beautiful than my attempts. And now I realize that the method returns a static reference to a static method, so it does not have to allocate/instantiate anything more. Really beautiful. Thanx. If you formulate that as an answer, I&#39;ll accept it."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1699924001,"post_id":77477388,"comment_id":136589327,"body_markdown":"@Slaw Oh btw: is there any &#39;method reference&#39; for `==` (smilar to `Objects::equals`)? Or do I have to write that out as labmda function: `static public final &lt;T&gt; BiPredicate&lt;T, T&gt; IDENTITY() { return (p, q) -&gt; p == q;\t}`?","body":"@Slaw Oh btw: is there any &#39;method reference&#39; for <code>==</code> (smilar to <code>Objects::equals</code>)? Or do I have to write that out as labmda function: <code>static public final &lt;T&gt; BiPredicate&lt;T, T&gt; IDENTITY() { return (p, q) -&gt; p == q;\t}</code>?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1699925429,"post_id":77477388,"comment_id":136589446,"body_markdown":"I&#39;m not aware of a method like `Object::equals` but for `==`. However, that lambda is stateless, so I wouldn&#39;t be surprised if the JVM ends up caching a single instance.","body":"I&#39;m not aware of a method like <code>Object::equals</code> but for <code>==</code>. However, that lambda is stateless, so I wouldn&#39;t be surprised if the JVM ends up caching a single instance."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699925757,"creation_date":1699924967,"answer_id":77477700,"question_id":77477388,"body_markdown":"If you need to parameterize the `BiPredicate`s with a type variable, then you won&#39;t be able to do this via static _fields_, because the type variable has to be defined in scope. Something like this is typically implemented via static _methods_. \r\n\r\n```java\r\npackage stackoverflow.genericlambdas;\r\n\r\nimport java.util.Objects;\r\nimport java.util.function.BiPredicate;\r\n\r\npublic class Library {\r\n\r\n    public static &lt;T&gt; BiPredicate&lt;T, T&gt; identity() {\r\n        return (a, b) -&gt; a == b;\r\n    }\r\n\r\n    public static &lt;T&gt; BiPredicate&lt;T, T&gt; equals()\r\n        return Objects::equals;\r\n    }\r\n}\r\n```\r\n\r\nIf you don&#39;t need the type variable then see [Sweeper&#39;s answer][1].\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77477712/6395627","title":"Elegant solution to the &quot;Lambdas&quot; vs &quot;Generics&quot; problem?","body":"<p>If you need to parameterize the <code>BiPredicate</code>s with a type variable, then you won't be able to do this via static <em>fields</em>, because the type variable has to be defined in scope. Something like this is typically implemented via static <em>methods</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package stackoverflow.genericlambdas;\n\nimport java.util.Objects;\nimport java.util.function.BiPredicate;\n\npublic class Library {\n\n    public static &lt;T&gt; BiPredicate&lt;T, T&gt; identity() {\n        return (a, b) -&gt; a == b;\n    }\n\n    public static &lt;T&gt; BiPredicate&lt;T, T&gt; equals()\n        return Objects::equals;\n    }\n}\n</code></pre>\n<p>If you don't need the type variable then see <a href=\"https://stackoverflow.com/a/77477712/6395627\">Sweeper's answer</a>.</p>\n"},{"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1699928324,"post_id":77477712,"comment_id":136589677,"body_markdown":"Wow, this is also a great answer! Too bad I cannot accept both ;-) And sadly, some of those lambdas might actually depend on T. I&#39;ll keep *PECS* in mind though, funny way to memorize that :-P","body":"Wow, this is also a great answer! Too bad I cannot accept both ;-) And sadly, some of those lambdas might actually depend on T. I&#39;ll keep <i>PECS</i> in mind though, funny way to memorize that :-P"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699925376,"creation_date":1699925376,"answer_id":77477712,"question_id":77477388,"body_markdown":"`IDENTITY` and `EQUALITY` don&#39;t actually need to have generic type parameters if you apply [PECS][1].\r\n\r\nIf you declare them like this:\r\n\r\n    public static final BiPredicate&lt;? super Object, ? super Object&gt; IDENTITY = (p, q) -&gt; p == q;\r\n    public static final BiPredicate&lt;? super Object, ? super Object&gt; EQUALITY = Objects::equals;\r\n\r\nNote that you should use `super` here because the two type parameters of `BiPredicate` represent the types that it &quot;consumes&quot;.\r\n\r\nThen do the same thing to `getFirstIndexOf`:\r\n\r\n    public int getFirstIndexOf(final BiPredicate&lt;? super T, ? super T&gt; pIdentifier, final T pItem) {\r\n\r\nNow you can simply pass `IDENTITY` and `EQUALITY` to `getFirstIndexOf` without any error:\r\n\r\n    list.getFirstIndexOf(IDENTITY, &quot;foo&quot;);\r\n\r\nOf course, if you don&#39;t have control over `getFirstIndex`, then you cannot do this, and would need to declare a method that returns a `BiPredicate` like in Slaw&#39;s answer. \r\n\r\n    public static &lt;T&gt; BiPredicate&lt;T, T&gt; identity() {\r\n        return (p, q) -&gt; p == q;\r\n    }\r\n\r\nNote that the JLS doesn&#39;t guarantee that no new objects are created when you call a method like that, but in reality it&#39;s often optimised to not create new objects.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/2723397/5133585","title":"Elegant solution to the &quot;Lambdas&quot; vs &quot;Generics&quot; problem?","body":"<p><code>IDENTITY</code> and <code>EQUALITY</code> don't actually need to have generic type parameters if you apply <a href=\"https://stackoverflow.com/q/2723397/5133585\">PECS</a>.</p>\n<p>If you declare them like this:</p>\n<pre><code>public static final BiPredicate&lt;? super Object, ? super Object&gt; IDENTITY = (p, q) -&gt; p == q;\npublic static final BiPredicate&lt;? super Object, ? super Object&gt; EQUALITY = Objects::equals;\n</code></pre>\n<p>Note that you should use <code>super</code> here because the two type parameters of <code>BiPredicate</code> represent the types that it &quot;consumes&quot;.</p>\n<p>Then do the same thing to <code>getFirstIndexOf</code>:</p>\n<pre><code>public int getFirstIndexOf(final BiPredicate&lt;? super T, ? super T&gt; pIdentifier, final T pItem) {\n</code></pre>\n<p>Now you can simply pass <code>IDENTITY</code> and <code>EQUALITY</code> to <code>getFirstIndexOf</code> without any error:</p>\n<pre><code>list.getFirstIndexOf(IDENTITY, &quot;foo&quot;);\n</code></pre>\n<p>Of course, if you don't have control over <code>getFirstIndex</code>, then you cannot do this, and would need to declare a method that returns a <code>BiPredicate</code> like in Slaw's answer.</p>\n<pre><code>public static &lt;T&gt; BiPredicate&lt;T, T&gt; identity() {\n    return (p, q) -&gt; p == q;\n}\n</code></pre>\n<p>Note that the JLS doesn't guarantee that no new objects are created when you call a method like that, but in reality it's often optimised to not create new objects.</p>\n"}],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77477700,"answer_count":2,"score":1,"last_activity_date":1699925757,"creation_date":1699917767,"question_id":77477388,"body_markdown":"I am looking for a prettier solution here. The problem is to combine Generics and Lambda Expressions.\r\n\r\nAccording to the [Java Language Specification][1] this it not possible the way I want.\r\n\r\nSo my question to you: Do you know a more elegant way to handle that problem? Any suggestions or common practice out there?\r\n\r\nMy &quot;List&quot; class, where I need the `BiPredicate&lt;T, T&gt;` in a lot of functions:\r\n\r\n    package stackoverflow.genericlambdas;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.function.BiPredicate;\r\n    \r\n    public class MyListImpl&lt;T&gt; {\r\n    \r\n    \tprivate final ArrayList&lt;T&gt; mItems = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n    \tpublic void addItem(final T pItem) {\r\n    \t\tmItems.add(pItem);\r\n    \t}\r\n    \r\n    \t// assume my library is full of such methods\r\n    \tpublic int getFirstIndexOf(final BiPredicate&lt;T, T&gt; pIdentifier, final T pItem) {\r\n    \t\tfor (int i = 0; i &lt; mItems.size(); i++) {\r\n    \t\t\tfinal T t = mItems.get(i);\r\n    \t\t\tif (pIdentifier.test(t, pItem)) return i;\r\n    \t\t}\r\n    \t\treturn -1; // not found\r\n    \t}\r\n    \r\n    }\r\n\r\nMy &quot;Library&quot; class, where I want to store template `BiPredicate&lt;T, T&gt;`s:\r\n\r\n    package stackoverflow.genericlambdas;\r\n    \r\n    import java.util.Objects;\r\n    import java.util.function.BiPredicate;\r\n    \r\n    public class Library {\r\n    \r\n    \r\n    \tstatic public class CLUMSY_IDENTITY_CLASS&lt;T&gt; implements BiPredicate&lt;T, T&gt; {\r\n    \t\t@Override public boolean test(final T p, final T q) {\r\n    \t\t\treturn p == q;\r\n    \t\t}\r\n    \t}\r\n    \tstatic public class CLUMSY_EQUALITY_CLASS&lt;T&gt; implements BiPredicate&lt;T, T&gt; {\r\n    \t\t@Override public boolean test(final T p, final T q) {\r\n    \t\t\treturn Objects.equals(p, q);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \tstatic public final BiPredicate&lt;T, T&gt;\tIDENTITY\t= (p, q) -&gt; p == q;\t\t\t\t\t// compilation error\r\n    \tstatic public final BiPredicate&lt;T, T&gt;\tEQUALITY\t= (p, q) -&gt; Objects.equals(p, q);\t// compilation error\r\n    \r\n    \r\n    }\r\n\r\nMy &quot;usage&quot; class, where I want to use those templates:\r\n\r\n    package stackoverflow.genericlambdas;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    public class GenericLamdasUse {\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal MyListImpl&lt;String&gt; list = new MyListImpl&lt;&gt;();\r\n    \t\tlist.addItem(&quot;aa&quot;);\r\n    \t\tlist.addItem(&quot;bb&quot;);\r\n    \t\tlist.addItem(&quot;cc&quot;);\r\n    \r\n    \t\tfinal String testItem = &quot;cc&quot;;\r\n    \t\tfinal String testItem2 = &quot;c&quot; + (Math.random() &lt; 2 /* always true */ ? &quot;c&quot; : &quot;&quot;); // this builds a new string that is not == the compile constant String &quot;cc&quot;\r\n    \r\n    \t\tfinal int whatIKnowWorks1 = list.getFirstIndexOf((p, q) -&gt; Objects.equals(p, q), testItem);\r\n    \t\tfinal int whatIKnowWorks2 = list.getFirstIndexOf((p, q) -&gt; p == q, testItem);\r\n    \r\n    \t\tfinal int whatIKnowWorks3 = list.getFirstIndexOf(new Library.CLUMSY_IDENTITY_CLASS&lt;&gt;(), testItem); // dont&#39;t want the re-instantiation\r\n    \t\tfinal int whatIKnowWorks4 = list.getFirstIndexOf(new Library.CLUMSY_EQUALITY_CLASS&lt;&gt;(), testItem); // for ever time i would need that\r\n    \r\n    \t\tfinal Library.CLUMSY_IDENTITY_CLASS&lt;String&gt; clumsy5 = new Library.CLUMSY_IDENTITY_CLASS&lt;&gt;(); // dont&#39;t want the re-instantiation\r\n    \t\tfinal Library.CLUMSY_EQUALITY_CLASS&lt;String&gt; clumsy6 = new Library.CLUMSY_EQUALITY_CLASS&lt;&gt;();\r\n    \t\tfinal int whatIKnowWorks5 = list.getFirstIndexOf(clumsy5, testItem); // for ever time i would need that\r\n    \t\tfinal int whatIKnowWorks6 = list.getFirstIndexOf(clumsy6, testItem); // also, the types &lt;String&gt; have to match each time\r\n    \r\n    \t\tfinal int whatIWant1 = list.getFirstIndexOf(Library.EQUALITY, testItem); // I want this, but: compilation error\r\n    \t\tfinal int whatIWant2 = list.getFirstIndexOf(Library.IDENTITY, testItem); // I want this, but: compilation error\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html","title":"Elegant solution to the &quot;Lambdas&quot; vs &quot;Generics&quot; problem?","body":"<p>I am looking for a prettier solution here. The problem is to combine Generics and Lambda Expressions.</p>\n<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html\" rel=\"nofollow noreferrer\">Java Language Specification</a> this it not possible the way I want.</p>\n<p>So my question to you: Do you know a more elegant way to handle that problem? Any suggestions or common practice out there?</p>\n<p>My &quot;List&quot; class, where I need the <code>BiPredicate&lt;T, T&gt;</code> in a lot of functions:</p>\n<pre><code>package stackoverflow.genericlambdas;\n\nimport java.util.ArrayList;\nimport java.util.function.BiPredicate;\n\npublic class MyListImpl&lt;T&gt; {\n\n    private final ArrayList&lt;T&gt; mItems = new ArrayList&lt;&gt;();\n\n\n    public void addItem(final T pItem) {\n        mItems.add(pItem);\n    }\n\n    // assume my library is full of such methods\n    public int getFirstIndexOf(final BiPredicate&lt;T, T&gt; pIdentifier, final T pItem) {\n        for (int i = 0; i &lt; mItems.size(); i++) {\n            final T t = mItems.get(i);\n            if (pIdentifier.test(t, pItem)) return i;\n        }\n        return -1; // not found\n    }\n\n}\n</code></pre>\n<p>My &quot;Library&quot; class, where I want to store template <code>BiPredicate&lt;T, T&gt;</code>s:</p>\n<pre><code>package stackoverflow.genericlambdas;\n\nimport java.util.Objects;\nimport java.util.function.BiPredicate;\n\npublic class Library {\n\n\n    static public class CLUMSY_IDENTITY_CLASS&lt;T&gt; implements BiPredicate&lt;T, T&gt; {\n        @Override public boolean test(final T p, final T q) {\n            return p == q;\n        }\n    }\n    static public class CLUMSY_EQUALITY_CLASS&lt;T&gt; implements BiPredicate&lt;T, T&gt; {\n        @Override public boolean test(final T p, final T q) {\n            return Objects.equals(p, q);\n        }\n    }\n\n\n    static public final BiPredicate&lt;T, T&gt;   IDENTITY    = (p, q) -&gt; p == q;                 // compilation error\n    static public final BiPredicate&lt;T, T&gt;   EQUALITY    = (p, q) -&gt; Objects.equals(p, q);   // compilation error\n\n\n}\n</code></pre>\n<p>My &quot;usage&quot; class, where I want to use those templates:</p>\n<pre><code>package stackoverflow.genericlambdas;\n\nimport java.util.Objects;\n\npublic class GenericLamdasUse {\n\n    public static void main(final String[] args) {\n        final MyListImpl&lt;String&gt; list = new MyListImpl&lt;&gt;();\n        list.addItem(&quot;aa&quot;);\n        list.addItem(&quot;bb&quot;);\n        list.addItem(&quot;cc&quot;);\n\n        final String testItem = &quot;cc&quot;;\n        final String testItem2 = &quot;c&quot; + (Math.random() &lt; 2 /* always true */ ? &quot;c&quot; : &quot;&quot;); // this builds a new string that is not == the compile constant String &quot;cc&quot;\n\n        final int whatIKnowWorks1 = list.getFirstIndexOf((p, q) -&gt; Objects.equals(p, q), testItem);\n        final int whatIKnowWorks2 = list.getFirstIndexOf((p, q) -&gt; p == q, testItem);\n\n        final int whatIKnowWorks3 = list.getFirstIndexOf(new Library.CLUMSY_IDENTITY_CLASS&lt;&gt;(), testItem); // dont't want the re-instantiation\n        final int whatIKnowWorks4 = list.getFirstIndexOf(new Library.CLUMSY_EQUALITY_CLASS&lt;&gt;(), testItem); // for ever time i would need that\n\n        final Library.CLUMSY_IDENTITY_CLASS&lt;String&gt; clumsy5 = new Library.CLUMSY_IDENTITY_CLASS&lt;&gt;(); // dont't want the re-instantiation\n        final Library.CLUMSY_EQUALITY_CLASS&lt;String&gt; clumsy6 = new Library.CLUMSY_EQUALITY_CLASS&lt;&gt;();\n        final int whatIKnowWorks5 = list.getFirstIndexOf(clumsy5, testItem); // for ever time i would need that\n        final int whatIKnowWorks6 = list.getFirstIndexOf(clumsy6, testItem); // also, the types &lt;String&gt; have to match each time\n\n        final int whatIWant1 = list.getFirstIndexOf(Library.EQUALITY, testItem); // I want this, but: compilation error\n        final int whatIWant2 = list.getFirstIndexOf(Library.IDENTITY, testItem); // I want this, but: compilation error\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-progressbar"],"comments":[{"owner":{"account_id":12292022,"reputation":849,"user_id":8968956,"display_name":"trinadh thatakula"},"score":0,"creation_date":1656136520,"post_id":72751534,"comment_id":128502483,"body_markdown":"you can change interpolator to ease-in or slow-in slow out or something else\nit won&#39;t change speed but will make it look better in many ways","body":"you can change interpolator to ease-in or slow-in slow out or something else it won&#39;t change speed but will make it look better in many ways"},{"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"score":0,"creation_date":1656141053,"post_id":72751534,"comment_id":128503099,"body_markdown":"Can you share your .xml file please?","body":"Can you share your .xml file please?"},{"owner":{"account_id":25560718,"reputation":830,"user_id":19343390,"display_name":"Anonymous"},"score":0,"creation_date":1656144997,"post_id":72751534,"comment_id":128503682,"body_markdown":"@HalilSahin I have edited the question to include the xml code now","body":"@HalilSahin I have edited the question to include the xml code now"},{"owner":{"account_id":19628996,"reputation":61,"user_id":14367737,"display_name":"Sajid Ali"},"score":0,"creation_date":1656146137,"post_id":72751534,"comment_id":128503875,"body_markdown":"Please visit this docs https://developer.android.com/reference/android/widget/ProgressBar#indeterminateDuration","body":"Please visit this docs <a href=\"https://developer.android.com/reference/android/widget/ProgressBar#indeterminateDuration\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/widget/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699924696,"creation_date":1656146282,"answer_id":72752429,"question_id":72751534,"body_markdown":"Add a .xml file under /drawable path, like: `drawable/circular_spinner.xml`\r\ncircular_spinner:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;rotate xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:drawable=&quot;@drawable/spinner&quot;\r\n    android:interpolator=&quot;@android:anim/linear_interpolator&quot;\r\n    android:fromDegrees=&quot;0&quot;\r\n    android:pivotX=&quot;50%&quot;\r\n    android:pivotY=&quot;50%&quot;\r\n    android:repeatCount=&quot;infinite&quot;\r\n    android:toDegrees=&quot;3600&quot;\r\n    android:duration=&quot;1000&quot;/&gt;\r\n```\r\n\r\nChange the `toDegrees` and `duration` to control the speed of the spinning. Then call it in your `progressbar` layout.\r\n\r\n```xml\r\n&lt;ProgressBar\r\n        android:id=&quot;@+id/progressBar&quot;\r\n        style=&quot;@style/Widget.AppCompat.ProgressBar&quot;\r\n        android:layout_width=&quot;409dp&quot;\r\n        android:layout_height=&quot;710dp&quot;\r\n        android:indeterminate=&quot;false&quot;\r\n        android:padding=&quot;36dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        android:indeterminateDrawable=&quot;@drawable/circular_spinner&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n```\r\n\r\n","title":"How to change the speed of ProgressBar in Android using Java?","body":"<p>Add a .xml file under /drawable path, like: <code>drawable/circular_spinner.xml</code>\ncircular_spinner:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;rotate xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:drawable=&quot;@drawable/spinner&quot;\n    android:interpolator=&quot;@android:anim/linear_interpolator&quot;\n    android:fromDegrees=&quot;0&quot;\n    android:pivotX=&quot;50%&quot;\n    android:pivotY=&quot;50%&quot;\n    android:repeatCount=&quot;infinite&quot;\n    android:toDegrees=&quot;3600&quot;\n    android:duration=&quot;1000&quot;/&gt;\n</code></pre>\n<p>Change the <code>toDegrees</code> and <code>duration</code> to control the speed of the spinning. Then call it in your <code>progressbar</code> layout.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ProgressBar\n        android:id=&quot;@+id/progressBar&quot;\n        style=&quot;@style/Widget.AppCompat.ProgressBar&quot;\n        android:layout_width=&quot;409dp&quot;\n        android:layout_height=&quot;710dp&quot;\n        android:indeterminate=&quot;false&quot;\n        android:padding=&quot;36dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:indeterminateDrawable=&quot;@drawable/circular_spinner&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":25560718,"reputation":830,"user_id":19343390,"display_name":"Anonymous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1699924696,"creation_date":1656135740,"question_id":72751534,"body_markdown":"I have a **ProgressBar** (the round shape one) and it spins very fast, how do I change it to spin at a slower speed?\r\n\r\n(It is running indefinitely)\r\n\r\n---\r\nHere is my XML of ProgressBar:\r\n\r\n```xml\r\n&lt;ProgressBar\r\n        android:id=&quot;@+id/progressBar&quot;\r\n        style=&quot;@style/Widget.AppCompat.ProgressBar&quot;\r\n        android:layout_width=&quot;409dp&quot;\r\n        android:layout_height=&quot;710dp&quot;\r\n        android:indeterminate=&quot;false&quot;\r\n        android:padding=&quot;36dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```","title":"How to change the speed of ProgressBar in Android using Java?","body":"<p>I have a <strong>ProgressBar</strong> (the round shape one) and it spins very fast, how do I change it to spin at a slower speed?</p>\n<p>(It is running indefinitely)</p>\n<hr />\n<p>Here is my XML of ProgressBar:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ProgressBar\n        android:id=&quot;@+id/progressBar&quot;\n        style=&quot;@style/Widget.AppCompat.ProgressBar&quot;\n        android:layout_width=&quot;409dp&quot;\n        android:layout_height=&quot;710dp&quot;\n        android:indeterminate=&quot;false&quot;\n        android:padding=&quot;36dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n"},{"tags":["java","opencv","mat"],"comments":[{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":2,"creation_date":1491211296,"post_id":43180053,"comment_id":73434493,"body_markdown":"which programming language?","body":"which programming language?"}],"answers":[{"tags":[],"owner":{"account_id":2960941,"reputation":147573,"user_id":4238408,"display_name":"Quang Hoang"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491210228,"creation_date":1491210228,"answer_id":43180532,"question_id":43180053,"body_markdown":"Next, you can do:\r\n\r\n    cv::Mat newMat(i,j,CV_32F,data);","title":"Initialize the values into Mat object in OpenCV","body":"<p>Next, you can do:</p>\n\n<pre><code>cv::Mat newMat(i,j,CV_32F,data);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5878842,"reputation":159,"user_id":4628906,"display_name":"AciD IoN"},"score":0,"creation_date":1491211754,"post_id":43180550,"comment_id":73434792,"body_markdown":"Sorry sir for misleading you i need it in java i saw this method but i am unable to do it in java the constructor is not taking the data as argument in java","body":"Sorry sir for misleading you i need it in java i saw this method but i am unable to do it in java the constructor is not taking the data as argument in java"},{"owner":{"account_id":10001154,"reputation":1386,"user_id":7397065,"display_name":"Jurjen"},"score":0,"creation_date":1491212343,"post_id":43180550,"comment_id":73435216,"body_markdown":"OK no problem, it&#39;s pretty similar (at least the logic is). I added some extra code to make it clear for you, hope this helps!","body":"OK no problem, it&#39;s pretty similar (at least the logic is). I added some extra code to make it clear for you, hope this helps!"},{"owner":{"account_id":5878842,"reputation":159,"user_id":4628906,"display_name":"AciD IoN"},"score":0,"creation_date":1491230047,"post_id":43180550,"comment_id":73447955,"body_markdown":"thankyou sir yes i have forgotten to add channels/depth Cvtype.CV_32F  Working perfect Thankyou sir","body":"thankyou sir yes i have forgotten to add channels/depth Cvtype.CV_32F  Working perfect Thankyou sir"},{"owner":{"account_id":5878842,"reputation":159,"user_id":4628906,"display_name":"AciD IoN"},"score":0,"creation_date":1491230214,"post_id":43180550,"comment_id":73448091,"body_markdown":"Sir i have another question i am struggling to perform glcm in opencv java searched a lot got no reference and i got come snippets in c++ could u plz take a look at once sir\nmy problem link : http://stackoverflow.com/questions/43172339/opencv-glcm-c-to-java","body":"Sir i have another question i am struggling to perform glcm in opencv java searched a lot got no reference and i got come snippets in c++ could u plz take a look at once sir my problem link : <a href=\"http://stackoverflow.com/questions/43172339/opencv-glcm-c-to-java\" title=\"opencv glcm c to java\">stackoverflow.com/questions/43172339/opencv-glcm-c-to-java</a>"},{"owner":{"account_id":2194961,"reputation":92,"user_id":1940913,"display_name":"Johannes Bergmark"},"score":0,"creation_date":1699607953,"post_id":43180550,"comment_id":136556060,"body_markdown":"Its important to remember if doing so, the Mat class will point to the memory of data[].\nHence, if assigning another Mat to this dataset, they will share the same memory.\nI am missing a copyTrue flag in this constructor.","body":"Its important to remember if doing so, the Mat class will point to the memory of data[]. Hence, if assigning another Mat to this dataset, they will share the same memory. I am missing a copyTrue flag in this constructor."}],"tags":[],"owner":{"account_id":10001154,"reputation":1386,"user_id":7397065,"display_name":"Jurjen"},"comment_count":5,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1604297893,"creation_date":1491210274,"answer_id":43180550,"question_id":43180053,"body_markdown":"Your question is not entirely clear to me, but I&#39;m going to assume you are trying to load a `float array` into a OpenCV `Mat` object in a single row. First of all, be sure to check the documentation on constructing a `Mat` in `C++`. Since you have a 1D array and (I assume) you know the `rows` and `columns` you want to give your `Mat`, you should use [this constructor][1]:\r\n\r\n    cv::Mat::Mat (int rows, int cols, int type,\tvoid * data, size_t step = AUTO_STEP) \t\r\n\r\nHere&#39;s a code example:\r\n\r\n    float data[10] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\r\n    cv::Mat your_matrix = cv::Mat(1, 10, CV_32F, data);\r\n    \r\n    cout &lt;&lt; your_matrix.at&lt;float&gt;(0,2) &lt;&lt; endl;\r\n    cout &lt;&lt; your_matrix &lt;&lt; endl;\r\n\r\nIt will output:\r\n\r\n    3\r\n    [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n\r\nOf course you can change the datatype according to your needs (e.g. use `int` instead of `float`). You can ignore the `AUTO_STEP` parameter, but be sure to check the documentation on the usage if you want to use it. Also, if you want to change the structure of your `Mat` (e.g. split the array into multiple rows) you can achieve this by changing the `rows` and `cols` arguments in the constructor:\r\n\r\n\r\n    float data[10] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\r\n    cv::Mat your_matrix = cv::Mat(2, 5, CV_32F, data);\r\n    \r\n    cout &lt;&lt; your_matrix.at&lt;float&gt;(1,2) &lt;&lt; endl;\r\n    cout &lt;&lt; your_matrix &lt;&lt; endl;\r\n\r\nIt will output:\r\n\r\n    8\r\n    [1, 2, 3, 4, 5; \r\n    6, 7, 8, 9, 10]\r\n\r\nYou have now split your `Mat` object into two rows of 5 columns, instead of 1 row of 10 columns.\r\n\r\n**In case of Java:**\r\nIf you want to do this in Java, you were already on the right track. However, you probably forgot to specify the rows, columns and channels/depth. Change the rows, cols and CvType according to whatever suits your data as before. You can do the following:\r\n\r\n    float data[] = new float[]{ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n    Mat mat = new Mat(1, 10, CvType.CV_32F);\r\n    mat.put(0, 0, data);\r\n\r\nBe sure to check the [Java documentation on Mat][2] as well!\r\n\r\n\r\n  [1]: http://docs.opencv.org/3.1.0/d3/d63/classcv_1_1Mat.html#a51615ebf17a64c968df0bf49b4de6a3a\r\n  [2]: http://docs.opencv.org/java/3.1.0/org/opencv/core/Mat.html","title":"Initialize the values into Mat object in OpenCV","body":"<p>Your question is not entirely clear to me, but I'm going to assume you are trying to load a <code>float array</code> into a OpenCV <code>Mat</code> object in a single row. First of all, be sure to check the documentation on constructing a <code>Mat</code> in <code>C++</code>. Since you have a 1D array and (I assume) you know the <code>rows</code> and <code>columns</code> you want to give your <code>Mat</code>, you should use <a href=\"http://docs.opencv.org/3.1.0/d3/d63/classcv_1_1Mat.html#a51615ebf17a64c968df0bf49b4de6a3a\" rel=\"noreferrer\">this constructor</a>:</p>\n<pre><code>cv::Mat::Mat (int rows, int cols, int type, void * data, size_t step = AUTO_STEP)   \n</code></pre>\n<p>Here's a code example:</p>\n<pre><code>float data[10] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\ncv::Mat your_matrix = cv::Mat(1, 10, CV_32F, data);\n\ncout &lt;&lt; your_matrix.at&lt;float&gt;(0,2) &lt;&lt; endl;\ncout &lt;&lt; your_matrix &lt;&lt; endl;\n</code></pre>\n<p>It will output:</p>\n<pre><code>3\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n<p>Of course you can change the datatype according to your needs (e.g. use <code>int</code> instead of <code>float</code>). You can ignore the <code>AUTO_STEP</code> parameter, but be sure to check the documentation on the usage if you want to use it. Also, if you want to change the structure of your <code>Mat</code> (e.g. split the array into multiple rows) you can achieve this by changing the <code>rows</code> and <code>cols</code> arguments in the constructor:</p>\n<pre><code>float data[10] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\ncv::Mat your_matrix = cv::Mat(2, 5, CV_32F, data);\n\ncout &lt;&lt; your_matrix.at&lt;float&gt;(1,2) &lt;&lt; endl;\ncout &lt;&lt; your_matrix &lt;&lt; endl;\n</code></pre>\n<p>It will output:</p>\n<pre><code>8\n[1, 2, 3, 4, 5; \n6, 7, 8, 9, 10]\n</code></pre>\n<p>You have now split your <code>Mat</code> object into two rows of 5 columns, instead of 1 row of 10 columns.</p>\n<p><strong>In case of Java:</strong>\nIf you want to do this in Java, you were already on the right track. However, you probably forgot to specify the rows, columns and channels/depth. Change the rows, cols and CvType according to whatever suits your data as before. You can do the following:</p>\n<pre><code>float data[] = new float[]{ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\nMat mat = new Mat(1, 10, CvType.CV_32F);\nmat.put(0, 0, data);\n</code></pre>\n<p>Be sure to check the <a href=\"http://docs.opencv.org/java/3.1.0/org/opencv/core/Mat.html\" rel=\"noreferrer\">Java documentation on Mat</a> as well!</p>\n"},{"comments":[{"owner":{"account_id":17194716,"reputation":2350,"user_id":12447766,"display_name":"Burak"},"score":2,"creation_date":1622292642,"post_id":43180944,"comment_id":119754093,"body_markdown":"One can use `Mat1d` instead of `Mat_&lt;double&gt;`. Also, do not forget the parenthesis around `Mat_` expression to cast it to `Mat`, otherwise it will always yield an error.","body":"One can use <code>Mat1d</code> instead of <code>Mat_&lt;double&gt;</code>. Also, do not forget the parenthesis around <code>Mat_</code> expression to cast it to <code>Mat</code>, otherwise it will always yield an error."}],"tags":[],"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1699924492,"creation_date":1491211445,"answer_id":43180944,"question_id":43180053,"body_markdown":"Try inline initialization if you want to hardcode those values.:\r\n\r\n```\r\n// For small matrices you may use comma separated initializers:\r\n\r\nMat C = (Mat_&lt;double&gt;(3,3) &lt;&lt; 0, -1, 0, -1, 5, -1, 0, -1, 0);\r\ncout &lt;&lt; &quot;C = &quot; &lt;&lt; endl &lt;&lt; &quot; &quot; &lt;&lt; C &lt;&lt; endl &lt;&lt; endl;\r\n```\r\n\r\nstolen from\r\n\r\nhttp://opencvexamples.blogspot.de/2013/09/creating-matrix-in-different-ways.html?m=1\r\n\r\nuse data array as source as shown in some else&#39;s answer if you want to use a (maybe dynamic) array as input.","title":"Initialize the values into Mat object in OpenCV","body":"<p>Try inline initialization if you want to hardcode those values.:</p>\n<pre><code>// For small matrices you may use comma separated initializers:\n\nMat C = (Mat_&lt;double&gt;(3,3) &lt;&lt; 0, -1, 0, -1, 5, -1, 0, -1, 0);\ncout &lt;&lt; &quot;C = &quot; &lt;&lt; endl &lt;&lt; &quot; &quot; &lt;&lt; C &lt;&lt; endl &lt;&lt; endl;\n</code></pre>\n<p>stolen from</p>\n<p><a href=\"http://opencvexamples.blogspot.de/2013/09/creating-matrix-in-different-ways.html?m=1\" rel=\"nofollow noreferrer\">http://opencvexamples.blogspot.de/2013/09/creating-matrix-in-different-ways.html?m=1</a></p>\n<p>use data array as source as shown in some else's answer if you want to use a (maybe dynamic) array as input.</p>\n"}],"owner":{"account_id":5878842,"reputation":159,"user_id":4628906,"display_name":"AciD IoN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65164,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":43180550,"answer_count":3,"score":14,"last_activity_date":1699924492,"creation_date":1491208748,"question_id":43180053,"body_markdown":"I need to initialize these array values directly into a `Mat` object. I tried using `obj.put(i,j,data)` but this does not work and the `Mat` object is still empty. i need this in java\r\n\r\n    data [] = {103547.0, 2.0959531E7, 5.152769223E9, 1.415924406121E12, 2.0842905E7, \r\n               4.195143491E9, 1.025510364741E12, 5.000561607E9, 9.99289545049E11, \r\n               1.332451366923E12}\r\n\r\n \r\nCan explain to me me how to initialize a `new Mat` object where I directly insert the array data?\r\n ","title":"Initialize the values into Mat object in OpenCV","body":"<p>I need to initialize these array values directly into a <code>Mat</code> object. I tried using <code>obj.put(i,j,data)</code> but this does not work and the <code>Mat</code> object is still empty. i need this in java</p>\n\n<pre><code>data [] = {103547.0, 2.0959531E7, 5.152769223E9, 1.415924406121E12, 2.0842905E7, \n           4.195143491E9, 1.025510364741E12, 5.000561607E9, 9.99289545049E11, \n           1.332451366923E12}\n</code></pre>\n\n<p>Can explain to me me how to initialize a <code>new Mat</code> object where I directly insert the array data?</p>\n"},{"tags":["java","spring","type-safety","unchecked"],"comments":[{"owner":{"account_id":9733,"reputation":98826,"user_id":18103,"accept_rate":68,"display_name":"skiphoppy"},"score":1,"creation_date":1233768442,"post_id":262367,"comment_id":51963476,"body_markdown":"I came up with a routine to actually check the cast to parameterized HashMap, which eliminates the unchecked cast warning: [link](http://stackoverflow.com/questions/509076/how-do-i-address-unchecked-cast-warnings/509230#509230) I&#39;d say this is the &quot;correct&quot; solution, but whether or not its worth it might be debatable. :)","body":"I came up with a routine to actually check the cast to parameterized HashMap, which eliminates the unchecked cast warning: <a href=\"http://stackoverflow.com/questions/509076/how-do-i-address-unchecked-cast-warnings/509230#509230\">link</a> I&#39;d say this is the &quot;correct&quot; solution, but whether or not its worth it might be debatable. :)"},{"owner":{"account_id":31330,"reputation":33286,"user_id":85950,"accept_rate":64,"display_name":"blahdiblah"},"score":0,"creation_date":1363029318,"post_id":262367,"comment_id":21677431,"body_markdown":"Related/dupe: [How do I address unchecked cast warnings?](http://stackoverflow.com/q/509076)","body":"Related/dupe: <a href=\"http://stackoverflow.com/q/509076\">How do I address unchecked cast warnings?</a>"},{"owner":{"account_id":472669,"reputation":9843,"user_id":881272,"accept_rate":67,"display_name":"Angelo Fuchs"},"score":0,"creation_date":1408446984,"post_id":262367,"comment_id":39582895,"body_markdown":"possible duplicate of [How do I address unchecked cast warnings?](http://stackoverflow.com/questions/509076/how-do-i-address-unchecked-cast-warnings)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/509076/how-do-i-address-unchecked-cast-warnings\">How do I address unchecked cast warnings?</a>"}],"answers":[{"comments":[{"owner":{"account_id":873962,"reputation":6688,"user_id":924177,"accept_rate":79,"display_name":"dubmojo"},"score":20,"creation_date":1329234968,"post_id":262416,"comment_id":11699773,"body_markdown":"This was a while ago, but I was looking for an answer on type checking a Set&lt;CustomClass&gt; before a cast, and you can&#39;t instanceof on a parametrized generic. e.g. if(event.getTarget instanceof Set&lt;CustomClass&gt;) You can only type check a generic with a ? and that won&#39;t remove the cast warning. e.g. if(event.getTarget instanceof Set&lt;?&gt;)","body":"This was a while ago, but I was looking for an answer on type checking a Set&lt;CustomClass&gt; before a cast, and you can&#39;t instanceof on a parametrized generic. e.g. if(event.getTarget instanceof Set&lt;CustomClass&gt;) You can only type check a generic with a ? and that won&#39;t remove the cast warning. e.g. if(event.getTarget instanceof Set&lt;?&gt;)"}],"tags":[],"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"comment_count":1,"down_vote_count":2,"up_vote_count":291,"is_accepted":false,"score":289,"last_activity_date":1518008144,"creation_date":1225817047,"answer_id":262416,"question_id":262367,"body_markdown":"Well, first of all, you&#39;re wasting memory with the new `HashMap` creation call. Your second line completely disregards the reference to this created hashmap, making it then available to the garbage collector. So, don&#39;t do that, use:\r\n\r\n    private Map&lt;String, String&gt; someMap = (HashMap&lt;String, String&gt;)getApplicationContext().getBean(&quot;someMap&quot;);\r\n\r\nSecondly, the compiler is complaining that you cast the object to a `HashMap` without checking if it is a `HashMap`. But, even if you were to do:\r\n\r\n    if(getApplicationContext().getBean(&quot;someMap&quot;) instanceof HashMap) {\r\n        private Map&lt;String, String&gt; someMap = (HashMap&lt;String, String&gt;)getApplicationContext().getBean(&quot;someMap&quot;);\r\n    }\r\n\r\nYou would probably still get this warning. The problem is, `getBean` returns `Object`, so it is unknown what the type is. Converting it to `HashMap` directly would not cause the problem with the second case (and perhaps there would not be a warning in the first case, I&#39;m not sure how pedantic the Java compiler is with warnings for Java 5). However, you are converting it to a `HashMap&lt;String, String&gt;`.\r\n\r\nHashMaps are really maps that take an object as a key and have an object as a value, `HashMap&lt;Object, Object&gt;` if you will. Thus, there is no guarantee that when you get your bean that it can be represented as a `HashMap&lt;String, String&gt;` because you could have `HashMap&lt;Date, Calendar&gt;` because the non-generic representation that is returned can have any objects.\r\n\r\nIf the code compiles, and you can execute `String value = map.get(&quot;thisString&quot;);` without any errors, don&#39;t worry about this warning. But if the map isn&#39;t completely of string keys to string values, you will get a `ClassCastException` at runtime, because the generics cannot block this from happening in this case.","title":"Type safety: Unchecked cast","body":"<p>Well, first of all, you're wasting memory with the new <code>HashMap</code> creation call. Your second line completely disregards the reference to this created hashmap, making it then available to the garbage collector. So, don't do that, use:</p>\n\n<pre><code>private Map&lt;String, String&gt; someMap = (HashMap&lt;String, String&gt;)getApplicationContext().getBean(\"someMap\");\n</code></pre>\n\n<p>Secondly, the compiler is complaining that you cast the object to a <code>HashMap</code> without checking if it is a <code>HashMap</code>. But, even if you were to do:</p>\n\n<pre><code>if(getApplicationContext().getBean(\"someMap\") instanceof HashMap) {\n    private Map&lt;String, String&gt; someMap = (HashMap&lt;String, String&gt;)getApplicationContext().getBean(\"someMap\");\n}\n</code></pre>\n\n<p>You would probably still get this warning. The problem is, <code>getBean</code> returns <code>Object</code>, so it is unknown what the type is. Converting it to <code>HashMap</code> directly would not cause the problem with the second case (and perhaps there would not be a warning in the first case, I'm not sure how pedantic the Java compiler is with warnings for Java 5). However, you are converting it to a <code>HashMap&lt;String, String&gt;</code>.</p>\n\n<p>HashMaps are really maps that take an object as a key and have an object as a value, <code>HashMap&lt;Object, Object&gt;</code> if you will. Thus, there is no guarantee that when you get your bean that it can be represented as a <code>HashMap&lt;String, String&gt;</code> because you could have <code>HashMap&lt;Date, Calendar&gt;</code> because the non-generic representation that is returned can have any objects.</p>\n\n<p>If the code compiles, and you can execute <code>String value = map.get(\"thisString\");</code> without any errors, don't worry about this warning. But if the map isn't completely of string keys to string values, you will get a <code>ClassCastException</code> at runtime, because the generics cannot block this from happening in this case.</p>\n"},{"comments":[{"owner":{"account_id":1161723,"reputation":6260,"user_id":1141095,"accept_rate":82,"display_name":"ezdazuzena"},"score":22,"creation_date":1381917501,"post_id":262417,"comment_id":28755207,"body_markdown":"-1: a warning should never be accepted. Or suppress these kind of warnings or fix it. There will come the moment where you&#39;ll have to many warnings and you won&#39;t see the relevant once.","body":"-1: a warning should never be accepted. Or suppress these kind of warnings or fix it. There will come the moment where you&#39;ll have to many warnings and you won&#39;t see the relevant once."},{"owner":{"account_id":4551456,"reputation":6431,"user_id":3696510,"accept_rate":86,"display_name":"muttonUp"},"score":16,"creation_date":1425813039,"post_id":262417,"comment_id":46107737,"body_markdown":"You can&#39;t really avoid class cast warnings when casting parameterised generics i.e Map, so this is the best answer for the original question.","body":"You can&#39;t really avoid class cast warnings when casting parameterised generics i.e Map, so this is the best answer for the original question."},{"owner":{"account_id":1312133,"reputation":3175,"user_id":1259924,"accept_rate":73,"display_name":"Greg Brown"},"score":0,"creation_date":1660395312,"post_id":262417,"comment_id":129525853,"body_markdown":"From my experience, it is more common to omit the &quot;value=&quot; part since that is the default: @SuppressWarnings(&quot;unchecked&quot;)","body":"From my experience, it is more common to omit the &quot;value=&quot; part since that is the default: @SuppressWarnings(&quot;unchecked&quot;)"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":2,"creation_date":1660400399,"post_id":262417,"comment_id":129526885,"body_markdown":"Huh. Glad someone commented on this answer I gave 14 years ago. I never do this anymore. Sometimes warnings can&#39;t be practically fixed, but I would much rather see them than hide them.","body":"Huh. Glad someone commented on this answer I gave 14 years ago. I never do this anymore. Sometimes warnings can&#39;t be practically fixed, but I would much rather see them than hide them."}],"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":4,"down_vote_count":4,"up_vote_count":43,"is_accepted":false,"score":39,"last_activity_date":1225817064,"creation_date":1225817064,"answer_id":262417,"question_id":262367,"body_markdown":"A warning is just that.  A warning.  Sometimes warnings are irrelevant, sometimes they&#39;re not.  They&#39;re used to call your attention to something that the compiler thinks could be a problem, but may not be.\r\n\r\nIn the case of casts, it&#39;s always going to give a warning in this case.  If you are absolutely certain that a particular cast will be safe, then you should consider adding an annotation like this (I&#39;m not sure of the syntax) just before the line:\r\n\r\n    @SuppressWarnings (value=&quot;unchecked&quot;)\r\n\r\n","title":"Type safety: Unchecked cast","body":"<p>A warning is just that.  A warning.  Sometimes warnings are irrelevant, sometimes they're not.  They're used to call your attention to something that the compiler thinks could be a problem, but may not be.</p>\n\n<p>In the case of casts, it's always going to give a warning in this case.  If you are absolutely certain that a particular cast will be safe, then you should consider adding an annotation like this (I'm not sure of the syntax) just before the line:</p>\n\n<pre><code>@SuppressWarnings (value=\"unchecked\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8022,"reputation":21441,"user_id":14167,"accept_rate":83,"display_name":"David Nehme"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1225817099,"creation_date":1225817099,"answer_id":262418,"question_id":262367,"body_markdown":"You are getting this message because getBean returns an Object reference and you are casting it to the correct type.  Java 1.5 gives you a warning.  That&#39;s the nature of using Java 1.5 or better with code that works like this.  Spring has the typesafe version\r\n\r\n    someMap=getApplicationContext().getBean&lt;HashMap&lt;String, String&gt;&gt;(&quot;someMap&quot;);\r\n\r\non its todo list.","title":"Type safety: Unchecked cast","body":"<p>You are getting this message because getBean returns an Object reference and you are casting it to the correct type.  Java 1.5 gives you a warning.  That's the nature of using Java 1.5 or better with code that works like this.  Spring has the typesafe version</p>\n\n<pre><code>someMap=getApplicationContext().getBean&lt;HashMap&lt;String, String&gt;&gt;(\"someMap\");\n</code></pre>\n\n<p>on its todo list.</p>\n"},{"comments":[{"owner":{"account_id":5110,"reputation":68784,"user_id":8047,"accept_rate":95,"display_name":"Dan Rosenstark"},"score":19,"creation_date":1312402890,"post_id":262539,"comment_id":8261387,"body_markdown":"I&#39;ll take Java&#39;s reified generics over untyped NSMutableWhatever, which feels like a ten-year leap backwards, any day of the week. At least Java is trying.","body":"I&#39;ll take Java&#39;s reified generics over untyped NSMutableWhatever, which feels like a ten-year leap backwards, any day of the week. At least Java is trying."},{"owner":{"account_id":873962,"reputation":6688,"user_id":924177,"accept_rate":79,"display_name":"dubmojo"},"score":13,"creation_date":1329235223,"post_id":262539,"comment_id":11699876,"body_markdown":"Exactly. If you insist on type checking, it can only be done with HashMap&lt;?,?&gt; and that won&#39;t remove the warning since its the same as not type checking the generic types. It&#39;s not the end of the world, but annoying that you&#39;re caught either suppressing a warning or living with it.","body":"Exactly. If you insist on type checking, it can only be done with HashMap&lt;?,?&gt; and that won&#39;t remove the warning since its the same as not type checking the generic types. It&#39;s not the end of the world, but annoying that you&#39;re caught either suppressing a warning or living with it."},{"owner":{"account_id":193067,"reputation":14139,"user_id":434562,"accept_rate":47,"display_name":"SasQ"},"score":15,"creation_date":1461565678,"post_id":262539,"comment_id":61237310,"body_markdown":"@JonSkeet What&#39;s a reified generic?","body":"@JonSkeet What&#39;s a reified generic?"},{"owner":{"account_id":22426002,"reputation":366,"user_id":16632604,"display_name":"Flimtix"},"score":1,"creation_date":1646844883,"post_id":262539,"comment_id":126226168,"body_markdown":"@SasQ and all others who are wondering should take a look at this [question](https://stackoverflow.com/questions/879855/what-are-reified-generics-how-do-they-solve-type-erasure-problems-and-why-cant).","body":"@SasQ and all others who are wondering should take a look at this <a href=\"https://stackoverflow.com/questions/879855/what-are-reified-generics-how-do-they-solve-type-erasure-problems-and-why-cant\">question</a>."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":4,"down_vote_count":3,"up_vote_count":392,"is_accepted":true,"score":389,"last_activity_date":1225818559,"creation_date":1225818559,"answer_id":262539,"question_id":262367,"body_markdown":"The problem is that a cast is a runtime check - but due to type erasure, at runtime there&#39;s actually no difference between a `HashMap&lt;String,String&gt;` and `HashMap&lt;Foo,Bar&gt;` for any other `Foo` and `Bar`.\r\n\r\nUse `@SuppressWarnings(&quot;unchecked&quot;)` and hold your nose. Oh, and campaign for reified generics in Java :)","title":"Type safety: Unchecked cast","body":"<p>The problem is that a cast is a runtime check - but due to type erasure, at runtime there's actually no difference between a <code>HashMap&lt;String,String&gt;</code> and <code>HashMap&lt;Foo,Bar&gt;</code> for any other <code>Foo</code> and <code>Bar</code>.</p>\n\n<p>Use <code>@SuppressWarnings(\"unchecked\")</code> and hold your nose. Oh, and campaign for reified generics in Java :)</p>\n"},{"comments":[{"owner":{"account_id":2782694,"reputation":3676,"user_id":2394901,"accept_rate":36,"display_name":"juan Isaza"},"score":5,"creation_date":1444015767,"post_id":13387897,"comment_id":53706995,"body_markdown":"you are right my friend. Instead of casting the list, just iterate it and cast each element, the warning will not appear, awesome.","body":"you are right my friend. Instead of casting the list, just iterate it and cast each element, the warning will not appear, awesome."},{"owner":{"account_id":1943548,"reputation":2798,"user_id":1749165,"accept_rate":70,"display_name":"mumair"},"score":4,"creation_date":1483440733,"post_id":13387897,"comment_id":70089610,"body_markdown":"This removed the warning but still I am not confident :P","body":"This removed the warning but still I am not confident :P"},{"owner":{"account_id":7285437,"reputation":951,"user_id":5553654,"accept_rate":56,"display_name":"channae"},"score":8,"creation_date":1538849291,"post_id":13387897,"comment_id":92292048,"body_markdown":"Yes feels like blindfolding the compiler but not runtime :D So I don&#39;t see any difference between this and @SuppressWarnings(&quot;unchecked&quot;)","body":"Yes feels like blindfolding the compiler but not runtime :D So I don&#39;t see any difference between this and @SuppressWarnings(&quot;unchecked&quot;)"},{"owner":{"account_id":1689889,"reputation":1432,"user_id":1552468,"display_name":"Edu Costa"},"score":4,"creation_date":1560346001,"post_id":13387897,"comment_id":99706184,"body_markdown":"That&#180;s awesome! The main difference of using @SupressWarning is that it that use the annotation eliminates the warning from your IDE and code analysis tools but if you are using the -Werror flag compile you will end up with error yet. Using this approach both warnings are fixed.","body":"That&#180;s awesome! The main difference of using @SupressWarning is that it that use the annotation eliminates the warning from your IDE and code analysis tools but if you are using the -Werror flag compile you will end up with error yet. Using this approach both warnings are fixed."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1644593734,"post_id":13387897,"comment_id":125655299,"body_markdown":"In https://www.baeldung.com/java-warning-unchecked-cast it is explained that a ClassCastException might be thrown anywhere in your code without reference to this offending unchecked cast. The workaround is to move the cast to something that has a very concise ClassCastException and thus can be fixed easier if need be.","body":"In <a href=\"https://www.baeldung.com/java-warning-unchecked-cast\" rel=\"nofollow noreferrer\">baeldung.com/java-warning-unchecked-cast</a> it is explained that a ClassCastException might be thrown anywhere in your code without reference to this offending unchecked cast. The workaround is to move the cast to something that has a very concise ClassCastException and thus can be fixed easier if need be."}],"tags":[],"owner":{"account_id":1584941,"reputation":1251,"user_id":1469526,"display_name":"Larry Landry"},"comment_count":5,"down_vote_count":0,"up_vote_count":122,"is_accepted":false,"score":122,"last_activity_date":1501668302,"creation_date":1352929580,"answer_id":13387897,"question_id":262367,"body_markdown":"As the messages above indicate, the List cannot be differentiated between a `List&lt;Object&gt;` and a `List&lt;String&gt;` or `List&lt;Integer&gt;`.\r\n\r\nI&#39;ve solved this error message for a similar problem:\r\n\r\n    List&lt;String&gt; strList = (List&lt;String&gt;) someFunction();\r\n    String s = strList.get(0);\r\n\r\nwith the following:\r\n\r\n    List&lt;?&gt; strList = (List&lt;?&gt;) someFunction();\r\n    String s = (String) strList.get(0);\r\n\r\nExplanation: The first type conversion verifies that the object is a List without caring about the types held within (since we cannot verify the internal types at the List level).  The second conversion is now required because the compiler only knows the List contains some sort of objects.  This verifies the type of each object in the List as it is accessed.\r\n","title":"Type safety: Unchecked cast","body":"<p>As the messages above indicate, the List cannot be differentiated between a <code>List&lt;Object&gt;</code> and a <code>List&lt;String&gt;</code> or <code>List&lt;Integer&gt;</code>.</p>\n\n<p>I've solved this error message for a similar problem:</p>\n\n<pre><code>List&lt;String&gt; strList = (List&lt;String&gt;) someFunction();\nString s = strList.get(0);\n</code></pre>\n\n<p>with the following:</p>\n\n<pre><code>List&lt;?&gt; strList = (List&lt;?&gt;) someFunction();\nString s = (String) strList.get(0);\n</code></pre>\n\n<p>Explanation: The first type conversion verifies that the object is a List without caring about the types held within (since we cannot verify the internal types at the List level).  The second conversion is now required because the compiler only knows the List contains some sort of objects.  This verifies the type of each object in the List as it is accessed.</p>\n"},{"tags":[],"owner":{"account_id":1510562,"reputation":115,"user_id":1412805,"accept_rate":50,"display_name":"Rabbit"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1460562931,"creation_date":1460562931,"answer_id":36603684,"question_id":262367,"body_markdown":"If you really want to get rid of the warnings, one thing you can do is create a class that extends from the generic class.\r\n\r\nFor example, if you&#39;re trying to use\r\n\r\n    private Map&lt;String, String&gt; someMap = new HashMap&lt;String, String&gt;();\r\n\r\nYou can create a new class like such\r\n\r\n    public class StringMap extends HashMap&lt;String, String&gt;()\r\n    {\r\n        // Override constructors\r\n    }\r\n\r\nThen when you use\r\n\r\n    someMap = (StringMap) getApplicationContext().getBean(&quot;someMap&quot;);\r\n\r\nThe compiler DOES know what the (no longer generic) types are, and there will be no warning. This may not always be the perfect solution, some might argue this kind of defeats the purpose of generic classes, but you&#39;re still re-using all of the same code from the generic class, you&#39;re just declaring at compile time what type you want to use.","title":"Type safety: Unchecked cast","body":"<p>If you really want to get rid of the warnings, one thing you can do is create a class that extends from the generic class.</p>\n\n<p>For example, if you're trying to use</p>\n\n<pre><code>private Map&lt;String, String&gt; someMap = new HashMap&lt;String, String&gt;();\n</code></pre>\n\n<p>You can create a new class like such</p>\n\n<pre><code>public class StringMap extends HashMap&lt;String, String&gt;()\n{\n    // Override constructors\n}\n</code></pre>\n\n<p>Then when you use</p>\n\n<pre><code>someMap = (StringMap) getApplicationContext().getBean(\"someMap\");\n</code></pre>\n\n<p>The compiler DOES know what the (no longer generic) types are, and there will be no warning. This may not always be the perfect solution, some might argue this kind of defeats the purpose of generic classes, but you're still re-using all of the same code from the generic class, you're just declaring at compile time what type you want to use.</p>\n"},{"tags":[],"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476991517,"creation_date":1476991517,"answer_id":40162894,"question_id":262367,"body_markdown":"Another solution, if you find yourself casting the same object a lot and you don&#39;t want to litter your code with `@SupressWarnings(&quot;unchecked&quot;)`, would be to create a method with the annotation. This way you&#39;re centralizing the cast, and hopefully reducing the possibility for error.\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static List&lt;String&gt; getFooStrings(Map&lt;String, List&lt;String&gt;&gt; ctx) {\r\n        return (List&lt;String&gt;) ctx.get(&quot;foos&quot;);\r\n    }\r\n","title":"Type safety: Unchecked cast","body":"<p>Another solution, if you find yourself casting the same object a lot and you don't want to litter your code with <code>@SupressWarnings(\"unchecked\")</code>, would be to create a method with the annotation. This way you're centralizing the cast, and hopefully reducing the possibility for error.</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic static List&lt;String&gt; getFooStrings(Map&lt;String, List&lt;String&gt;&gt; ctx) {\n    return (List&lt;String&gt;) ctx.get(\"foos\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2729652,"reputation":5593,"user_id":2353713,"accept_rate":69,"display_name":"Andy"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1481898205,"creation_date":1481898205,"answer_id":41186419,"question_id":262367,"body_markdown":" **Below code causes Type safety Warning**\r\n\r\n`Map&lt;String, Object&gt; myInput = (Map&lt;String, Object&gt;) myRequest.get();` \r\n\r\n&gt; **Workaround**\r\n\r\n \r\n\r\nCreate a new Map Object without mentioning the parameters because the type of object held within the list is not verified.\r\n\r\n ***Step 1:*** Create a new temporary Map\r\n\r\n`Map&lt;?, ?&gt; tempMap = (Map&lt;?, ?&gt;) myRequest.get();`\r\n\r\n ***Step 2:*** Instantiate the main Map\r\n\r\n    Map&lt;String, Object&gt; myInput=new HashMap&lt;&gt;(myInputObj.size());\r\n ***Step 3:*** Iterate the temporary Map and set the values into the main Map\r\n   \r\n\r\n     for(Map.Entry&lt;?, ?&gt; entry :myInputObj.entrySet()){\r\n        \tmyInput.put((String)entry.getKey(),entry.getValue()); \r\n        }","title":"Type safety: Unchecked cast","body":"<p><strong>Below code causes Type safety Warning</strong></p>\n\n<p><code>Map&lt;String, Object&gt; myInput = (Map&lt;String, Object&gt;) myRequest.get();</code> </p>\n\n<blockquote>\n  <p><strong>Workaround</strong></p>\n</blockquote>\n\n<p>Create a new Map Object without mentioning the parameters because the type of object held within the list is not verified.</p>\n\n<p><strong><em>Step 1:</em></strong> Create a new temporary Map</p>\n\n<p><code>Map&lt;?, ?&gt; tempMap = (Map&lt;?, ?&gt;) myRequest.get();</code></p>\n\n<p><strong><em>Step 2:</em></strong> Instantiate the main Map</p>\n\n<pre><code>Map&lt;String, Object&gt; myInput=new HashMap&lt;&gt;(myInputObj.size());\n</code></pre>\n\n<p><strong><em>Step 3:</em></strong> Iterate the temporary Map and set the values into the main Map</p>\n\n<pre><code> for(Map.Entry&lt;?, ?&gt; entry :myInputObj.entrySet()){\n        myInput.put((String)entry.getKey(),entry.getValue()); \n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2301616,"reputation":6714,"user_id":2021812,"accept_rate":52,"display_name":"Malwinder Singh"},"score":2,"creation_date":1576836698,"post_id":52061219,"comment_id":105033137,"body_markdown":"Looks like a hack not a solution.","body":"Looks like a hack not a solution."},{"owner":{"account_id":395044,"reputation":2806,"user_id":757808,"accept_rate":69,"display_name":"Ulterior"},"score":1,"creation_date":1580470805,"post_id":52061219,"comment_id":106116954,"body_markdown":"- The serializable class MyMap does not declare a static final serialVersionUID field of type long :{","body":"- The serializable class MyMap does not declare a static final serialVersionUID field of type long :{"},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1605361660,"post_id":52061219,"comment_id":114629404,"body_markdown":"@Ulterior then add such a field: https://stackoverflow.com/questions/2288937/what-does-it-mean-the-serializable-class-does-not-declare-a-static-final-serial","body":"@Ulterior then add such a field: <a href=\"https://stackoverflow.com/questions/2288937/what-does-it-mean-the-serializable-class-does-not-declare-a-static-final-serial\" title=\"what does it mean the serializable class does not declare a static final serial\">stackoverflow.com/questions/2288937/&hellip;</a>"},{"owner":{"account_id":1312133,"reputation":3175,"user_id":1259924,"accept_rate":73,"display_name":"Greg Brown"},"score":0,"creation_date":1660395449,"post_id":52061219,"comment_id":129525883,"body_markdown":"This would only work if &quot;someMap&quot; is actually an instance of the local MyMap class, which seems unlikely.","body":"This would only work if &quot;someMap&quot; is actually an instance of the local MyMap class, which seems unlikely."}],"tags":[],"owner":{"account_id":2545570,"reputation":358,"user_id":2210454,"display_name":"ochakov"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1535471410,"creation_date":1535469214,"answer_id":52061219,"question_id":262367,"body_markdown":"The solution to avoid the unchecked warning:\r\n\r\n    class MyMap extends HashMap&lt;String, String&gt; {};\r\n    someMap = (MyMap)getApplicationContext().getBean(&quot;someMap&quot;);\r\n\r\n","title":"Type safety: Unchecked cast","body":"<p>The solution to avoid the unchecked warning:</p>\n\n<pre><code>class MyMap extends HashMap&lt;String, String&gt; {};\nsomeMap = (MyMap)getApplicationContext().getBean(\"someMap\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688571079,"creation_date":1565618542,"answer_id":57462703,"question_id":262367,"body_markdown":"&gt; What did I do wrong? How do I resolve the issue?\r\n&gt; \r\n\r\n Here :\r\n\r\n `Map&lt;String,String&gt; someMap = (Map&lt;String,String&gt;)getApplicationContext().getBean(&quot;someMap&quot;);`\r\n\r\n\r\nYou use a legacy method that we generally don&#39;t want to use since that returns `Object`: \r\n\r\n    Object getBean(String name) throws BeansException;\r\n\r\nThe method to favor to get (for singleton) / create (for prototype) a bean from a bean factory is :\r\n\r\n    &lt;T&gt; T getBean(String name, Class&lt;T&gt; requiredType) throws BeansException;\r\n\r\nUsing it such as  : \r\n\r\n    Map&lt;String,String&gt; someMap = app.getBean(&quot;someMap&quot;, Map.class);\r\n\r\nwill compile but still with a unchecked conversion warning since all `Map` objects are not necessarily `Map&lt;String, String&gt;` objects.   \r\n\r\nBut `&lt;T&gt; T getBean(String name, Class&lt;T&gt; requiredType) throws BeansException;` is not enough in bean generic classes such as generic collections since that requires to specify more than one class as parameter : the collection type and its generic type(s).     \r\n\r\nIn this kind of scenario and in general, a better approach is not to use directly `BeanFactory` methods but let the framework to inject the bean.   \r\n\r\nThe bean declaration : \r\n\r\n    @Configuration\r\n    public class MyConfiguration{\r\n    \r\n        @Bean\r\n        public Map&lt;String, String&gt; someMap() {\r\n            Map&lt;String, String&gt; someMap = new HashMap();\r\n            someMap.put(&quot;some_key&quot;, &quot;some value&quot;);\r\n            someMap.put(&quot;some_key_2&quot;, &quot;some value&quot;);\r\n            return someMap;\r\n        }\r\n    }\r\n\r\nThe bean injection : \r\n\r\n    @Autowired\r\n    @Qualifier(&quot;someMap&quot;)\r\n    Map&lt;String, String&gt; someMap;\r\n\r\n","title":"Type safety: Unchecked cast","body":"<blockquote>\n<p>What did I do wrong? How do I resolve the issue?</p>\n</blockquote>\n<p>Here :</p>\n<p><code>Map&lt;String,String&gt; someMap = (Map&lt;String,String&gt;)getApplicationContext().getBean(&quot;someMap&quot;);</code></p>\n<p>You use a legacy method that we generally don't want to use since that returns <code>Object</code>:</p>\n<pre><code>Object getBean(String name) throws BeansException;\n</code></pre>\n<p>The method to favor to get (for singleton) / create (for prototype) a bean from a bean factory is :</p>\n<pre><code>&lt;T&gt; T getBean(String name, Class&lt;T&gt; requiredType) throws BeansException;\n</code></pre>\n<p>Using it such as  :</p>\n<pre><code>Map&lt;String,String&gt; someMap = app.getBean(&quot;someMap&quot;, Map.class);\n</code></pre>\n<p>will compile but still with a unchecked conversion warning since all <code>Map</code> objects are not necessarily <code>Map&lt;String, String&gt;</code> objects.</p>\n<p>But <code>&lt;T&gt; T getBean(String name, Class&lt;T&gt; requiredType) throws BeansException;</code> is not enough in bean generic classes such as generic collections since that requires to specify more than one class as parameter : the collection type and its generic type(s).</p>\n<p>In this kind of scenario and in general, a better approach is not to use directly <code>BeanFactory</code> methods but let the framework to inject the bean.</p>\n<p>The bean declaration :</p>\n<pre><code>@Configuration\npublic class MyConfiguration{\n\n    @Bean\n    public Map&lt;String, String&gt; someMap() {\n        Map&lt;String, String&gt; someMap = new HashMap();\n        someMap.put(&quot;some_key&quot;, &quot;some value&quot;);\n        someMap.put(&quot;some_key_2&quot;, &quot;some value&quot;);\n        return someMap;\n    }\n}\n</code></pre>\n<p>The bean injection :</p>\n<pre><code>@Autowired\n@Qualifier(&quot;someMap&quot;)\nMap&lt;String, String&gt; someMap;\n</code></pre>\n"}],"owner":{"account_id":963,"reputation":18382,"user_id":37740,"accept_rate":71,"display_name":"Sajal Dutta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508347,"favorite_count":0,"down_vote_count":1,"up_vote_count":330,"accepted_answer_id":262539,"answer_count":10,"score":329,"last_activity_date":1699922077,"creation_date":1225816143,"question_id":262367,"body_markdown":"In my spring application context file, I have something like:\r\n\r\n&lt;!-- language: xml --&gt;\r\n    &lt;util:map id=&quot;someMap&quot; map-class=&quot;java.util.HashMap&quot; key-type=&quot;java.lang.String&quot; value-type=&quot;java.lang.String&quot;&gt;\r\n    \t&lt;entry key=&quot;some_key&quot; value=&quot;some value&quot; /&gt;\r\n    \t&lt;entry key=&quot;some_key_2&quot; value=&quot;some value&quot; /&gt;\t\r\n    &lt;/util:map&gt;\r\n\r\nIn java class, the implementation looks like:\r\n\r\n    private Map&lt;String, String&gt; someMap = new HashMap&lt;String, String&gt;();\r\n    someMap = (HashMap&lt;String, String&gt;)getApplicationContext().getBean(&quot;someMap&quot;);\r\n\r\nIn Eclipse, I see a warning that says:\r\n\r\n**Type safety: Unchecked cast from Object to HashMap&lt;String,String&gt;**\r\n\r\nWhat went wrong?","title":"Type safety: Unchecked cast","body":"<p>In my spring application context file, I have something like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;util:map id=&quot;someMap&quot; map-class=&quot;java.util.HashMap&quot; key-type=&quot;java.lang.String&quot; value-type=&quot;java.lang.String&quot;&gt;\n    &lt;entry key=&quot;some_key&quot; value=&quot;some value&quot; /&gt;\n    &lt;entry key=&quot;some_key_2&quot; value=&quot;some value&quot; /&gt;   \n&lt;/util:map&gt;\n</code></pre>\n<p>In java class, the implementation looks like:</p>\n<pre><code>private Map&lt;String, String&gt; someMap = new HashMap&lt;String, String&gt;();\nsomeMap = (HashMap&lt;String, String&gt;)getApplicationContext().getBean(&quot;someMap&quot;);\n</code></pre>\n<p>In Eclipse, I see a warning that says:</p>\n<p><strong>Type safety: Unchecked cast from Object to HashMap&lt;String,String&gt;</strong></p>\n<p>What went wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":1,"creation_date":1699922377,"post_id":77477583,"comment_id":136589185,"body_markdown":"Does this answer your question? [Could not resolve all files for configuration &#39;:app:androidApis&#39;](https://stackoverflow.com/questions/53648319/could-not-resolve-all-files-for-configuration-appandroidapis)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53648319/could-not-resolve-all-files-for-configuration-appandroidapis\">Could not resolve all files for configuration &#39;:app:androidApis&#39;</a>"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1700076216,"post_id":77477583,"comment_id":136611587,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"owner":{"account_id":29556514,"reputation":1,"user_id":22652080,"display_name":"Suyog Adhikari "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699922056,"creation_date":1699922056,"question_id":77477583,"body_markdown":"I joined android studio which is showing built function error every time when I try to run. How could I fix it? I am unable to fix this issue as I am using android studio for the first-time. Could someone help me to fix this problem.\r\n\r\n\r\n\r\n(https://i.stack.imgur.com/JHRN8.png)\r\n\r\nIdeas to solve the problem.","title":"How can I fix the issue with android studio?","body":"<p>I joined android studio which is showing built function error every time when I try to run. How could I fix it? I am unable to fix this issue as I am using android studio for the first-time. Could someone help me to fix this problem.</p>\n<p>(<a href=\"https://i.stack.imgur.com/JHRN8.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JHRN8.png</a>)</p>\n<p>Ideas to solve the problem.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9854,"page":63,"page_size":100}
