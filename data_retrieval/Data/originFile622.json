{"items":[{"tags":["java","spring","maven","cloud-foundry"],"answers":[{"tags":[],"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677212185,"creation_date":1677212185,"answer_id":75552586,"question_id":75516980,"body_markdown":"So, after a lot of trail and error, found the rootcause.\r\n\r\n`Logback 1.4.5` does not support `javax.*` packages, instead searches for `jakarta.*` packages. Downgrading it to `1.2.x` fixed it.\r\n\r\nNote - Logback `1.3.x` does not work with `Spring 2.7.8` hence downgraded to `1.2.x`\r\n\r\nRef - https://logback.qos.ch/dependencies.html","title":"Spring app running on Cloud foundry failing to start due to java.lang.NoClassDefFoundError: jakarta/servlet/ServletContainerInitializer","body":"<p>So, after a lot of trail and error, found the rootcause.</p>\n<p><code>Logback 1.4.5</code> does not support <code>javax.*</code> packages, instead searches for <code>jakarta.*</code> packages. Downgrading it to <code>1.2.x</code> fixed it.</p>\n<p>Note - Logback <code>1.3.x</code> does not work with <code>Spring 2.7.8</code> hence downgraded to <code>1.2.x</code></p>\n<p>Ref - <a href=\"https://logback.qos.ch/dependencies.html\" rel=\"nofollow noreferrer\">https://logback.qos.ch/dependencies.html</a></p>\n"}],"owner":{"account_id":12536346,"reputation":980,"user_id":9122915,"accept_rate":50,"display_name":"Boudhayan Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75552586,"answer_count":1,"score":1,"last_activity_date":1677212185,"creation_date":1676961166,"question_id":75516980,"body_markdown":"Running into the following issue since I have added `spring-boot-parent`  as the parent in the base pom file. There are no jakarta related dependencies in the project. Attached is the maven dependency tree of the project.\r\n\r\nError stack when deploying to cloud foundry -\r\n\r\n```\r\n   2023-02-21T11: 37: 45.64+0530 [APP/PROC/WEB/0\r\n] OUT {\r\n   &quot;msg&quot;: &quot;The required Server component failed to start so Tomcat is unable to start.&quot;,\r\n   &quot;level&quot;: &quot;ERROR&quot;,\r\n   &quot;written_ts&quot;: &quot;1676959665643883000&quot;,\r\n   &quot;logger&quot;: &quot;org.apache.catalina.startup.Catalina&quot;,\r\n   &quot;written_at&quot;: &quot;2023-02-21T06:07:45.643Z&quot;,\r\n   &quot;thread&quot;: &quot;main&quot;,\r\n   &quot;type&quot;: &quot;log&quot;,\r\n   &quot;stacktrace&quot;: [\r\n      &quot;org.apache.catalina.LifecycleException: A child container failed during start&quot;,\r\n      &quot;\\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:951)&quot;,\r\n      &quot;\\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)&quot;,\r\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)&quot;,\r\n      &quot;\\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)&quot;,\r\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)&quot;,\r\n      &quot;\\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:794)&quot;,\r\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)&quot;,\r\n      &quot;\\tat org.apache.catalina.startup.Catalina.start(Catalina.java:695)&quot;,\r\n      &quot;\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&quot;,\r\n      &quot;\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&quot;,\r\n      &quot;\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&quot;,\r\n      &quot;\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)&quot;,\r\n      &quot;\\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)&quot;,\r\n      &quot;\\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)&quot;,\r\n      &quot;Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start&quot;,\r\n      &quot;\\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)&quot;,\r\n      &quot;\\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)&quot;,\r\n      &quot;\\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939)&quot;,\r\n      &quot;\\t... 13 more&quot;,\r\n      &quot;Caused by: org.apache.catalina.LifecycleException: A child container failed during start&quot;,\r\n      &quot;\\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:951)&quot;,\r\n      &quot;\\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:833)&quot;,\r\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)&quot;,\r\n      &quot;\\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1424)&quot;,\r\n      &quot;\\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1414)&quot;,\r\n      &quot;\\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)&quot;,\r\n      &quot;\\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)&quot;,\r\n      &quot;\\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)&quot;,\r\n      &quot;\\tat java.base/java.lang.Thread.run(Thread.java:829)&quot;,\r\n      &quot;Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]&quot;,\r\n      &quot;\\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)&quot;,\r\n      &quot;\\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)&quot;,\r\n      &quot;\\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939)&quot;,\r\n      &quot;\\t... 8 more&quot;,\r\n      &quot;Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]&quot;,\r\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)&quot;,\r\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)&quot;,\r\n      &quot;\\t... 6 more&quot;,\r\n      &quot;Caused by: java.lang.NoClassDefFoundError: jakarta/servlet/ServletContainerInitializer&quot;,\r\n      &quot;\\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)&quot;,\r\n      &quot;\\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)&quot;,\r\n      &quot;\\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)&quot;,\r\n      &quot;\\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2478)&quot;,\r\n      &quot;\\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:881)&quot;,\r\n      &quot;\\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1384)&quot;,\r\n      &quot;\\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1228)&quot;,\r\n      &quot;\\tat java.base/java.lang.Class.forName0(Native Method)&quot;,\r\n      &quot;\\tat java.base/java.lang.Class.forName(Class.java:398)&quot;,\r\n      &quot;\\tat org.apache.catalina.startup.WebappServiceLoader.loadServices(WebappServiceLoader.java:232)&quot;,\r\n      &quot;\\tat org.apache.catalina.startup.WebappServiceLoader.load(WebappServiceLoader.java:203)&quot;,\r\n      &quot;\\tat org.apache.catalina.startup.ContextConfig.processServletContainerInitializers(ContextConfig.java:1587)&quot;,\r\n      &quot;\\tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1088)&quot;,\r\n      &quot;\\tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:779)&quot;,\r\n      &quot;\\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)&quot;,\r\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)&quot;,\r\n      &quot;\\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5127)&quot;,\r\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)&quot;,\r\n      &quot;\\t... 6 more&quot;,\r\n      &quot;Caused by: java.lang.ClassNotFoundException: jakarta.servlet.ServletContainerInitializer&quot;,\r\n      &quot;\\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1420)&quot;,\r\n      &quot;\\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1228)&quot;,\r\n      &quot;\\t... 24 more&quot;\r\n   ]\r\n}\r\n   2023-02-21T11: 37: 45.64+0530 [APP/PROC/WEB/0\r\n] OUT {\r\n   &quot;msg&quot;: &quot;Stopping service [Catalina]&quot;,\r\n   &quot;level&quot;: &quot;INFO&quot;,\r\n   &quot;written_ts&quot;: &quot;1676959665645366000&quot;,\r\n   &quot;logger&quot;: &quot;org.apache.catalina.core.StandardService&quot;,\r\n   &quot;written_at&quot;: &quot;2023-02-21T06:07:45.645Z&quot;,\r\n   &quot;thread&quot;: &quot;main&quot;,\r\n   &quot;type&quot;: &quot;log&quot;\r\n}\r\n```\r\n\r\n\r\nHere is the dependency tree - \r\n\r\n\r\n```\r\n[DEBUG] com.sap.cloud.cit.ar:com.sap.cloud.cit.ar.runtime:war:2.0.0\r\n[DEBUG]    junit:junit:jar:4.13.2:test\r\n[DEBUG]       org.hamcrest:hamcrest-core:jar:2.2:test (version managed from 1.3)\r\n[DEBUG]          org.hamcrest:hamcrest:jar:2.2:test (version managed from 2.2)\r\n[DEBUG]    org.powermock:powermock-module-junit4:jar:2.0.2:test\r\n[DEBUG]       org.powermock:powermock-module-junit4-common:jar:2.0.2:test\r\n[DEBUG]          org.powermock:powermock-reflect:jar:2.0.2:test\r\n[DEBUG]          org.powermock:powermock-core:jar:2.0.2:test\r\n[DEBUG]    org.powermock:powermock-api-mockito2:jar:2.0.2:test\r\n[DEBUG]       org.powermock:powermock-api-support:jar:2.0.2:test\r\n[DEBUG]    org.mockito:mockito-core:jar:3.9.0:test\r\n[DEBUG]       net.bytebuddy:byte-buddy:jar:1.12.22:test (version managed from 1.10.20)\r\n[DEBUG]       net.bytebuddy:byte-buddy-agent:jar:1.12.22:test (version managed from 1.10.20)\r\n[DEBUG]       org.objenesis:objenesis:jar:3.2:test\r\n[DEBUG]    org.javassist:javassist:jar:3.29.2-GA:compile\r\n[DEBUG]    javax.servlet:javax.servlet-api:jar:4.0.1:compile\r\n[DEBUG]    io.netty:netty-all:jar:4.1.87.Final:compile\r\n[DEBUG]       io.netty:netty-buffer:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-codec:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-codec-dns:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-codec-haproxy:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-codec-http:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-codec-http2:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-codec-memcache:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-codec-mqtt:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-codec-redis:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-codec-smtp:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-codec-socks:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-codec-stomp:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-codec-xml:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-common:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-handler:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-transport-native-unix-common:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-handler-proxy:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-handler-ssl-ocsp:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-resolver:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-resolver-dns:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-transport:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-transport-rxtx:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-transport-sctp:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-transport-udt:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-transport-classes-epoll:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-transport-classes-kqueue:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-resolver-dns-classes-macos:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-transport-native-epoll:jar:linux-aarch_64:4.1.87.Final:runtime (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.87.Final:runtime (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-transport-native-kqueue:jar:osx-aarch_64:4.1.87.Final:runtime (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.87.Final:compile (version managed from 4.1.87.Final)\r\n[DEBUG]       io.netty:netty-resolver-dns-native-macos:jar:osx-aarch_64:4.1.87.Final:runtime (version managed from 4.1.87.Final)\r\n[DEBUG]    org.json:json:jar:20220924:compile\r\n[DEBUG]    com.google.code.gson:gson:jar:2.9.1:compile\r\n[DEBUG]    com.jayway.jsonpath:json-path:jar:2.7.0:compile\r\n[DEBUG]       net.minidev:json-smart:jar:2.4.8:compile (version managed from 2.4.7)\r\n[DEBUG]          net.minidev:accessors-smart:jar:2.4.8:compile\r\n[DEBUG]             org.ow2.asm:asm:jar:9.1:compile\r\n[DEBUG]       org.slf4j:slf4j-api:jar:1.7.36:compile (version managed from 1.7.33)\r\n[DEBUG]    org.apache.httpcomponents:httpclient:jar:4.5.14:compile (exclusions managed from [commons-logging:commons-logging:*:*])\r\n[DEBUG]       org.apache.httpcomponents:httpcore:jar:4.4.16:compile (version managed from 4.4.16)\r\n[DEBUG]    com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\r\n[DEBUG]       com.fasterxml.jackson.core:jackson-annotations:jar:2.13.4:compile (version managed from 2.14.2)\r\n[DEBUG]       com.fasterxml.jackson.core:jackson-core:jar:2.13.4:compile (version managed from 2.14.2)\r\n[DEBUG]    org.springframework:spring-web:jar:5.3.25:compile\r\n[DEBUG]       org.springframework:spring-beans:jar:5.3.25:compile (version managed from 5.3.25)\r\n[DEBUG]       org.springframework:spring-core:jar:5.3.25:compile (version managed from 5.3.25)\r\n[DEBUG]          org.springframework:spring-jcl:jar:5.3.25:compile (version managed from 5.3.25)\r\n[DEBUG]    org.springframework:spring-test:jar:5.3.25:test\r\n[DEBUG]    org.freemarker:freemarker:jar:2.3.32:compile\r\n[DEBUG]    com.sap.cp.auditlog:audit-java-client-api:jar:2.4.3:compile\r\n[DEBUG]    com.sap.cp.auditlog:audit-java-client-impl:jar:2.4.3:compile\r\n[DEBUG]       com.sap.cloud.security:java-security:jar:2.13.5:compile (version managed from 2.11.13)\r\n[DEBUG]       com.sap.cloud.security:env:jar:2.11.13:compile\r\n[DEBUG]       com.sap.cp.auditlog:auditlog-common:jar:2.2.16:compile\r\n[DEBUG]    com.sap.cloud.sjb:xs-env:jar:1.21.0:compile\r\n[DEBUG]    com.sap.cp.security:credential-store-client-java:jar:1.20.0:compile\r\n[DEBUG]       org.apache.httpcomponents:httpmime:jar:4.5.14:compile (version managed from 4.5.13)\r\n[DEBUG]       org.bitbucket.b_c:jose4j:jar:0.7.6:compile\r\n[DEBUG]       commons-io:commons-io:jar:2.8.0:compile\r\n[DEBUG]       commons-fileupload:commons-fileupload:jar:1.4:compile\r\n[DEBUG]       org.tomitribe:tomitribe-http-signatures:jar:1.3:compile\r\n[DEBUG]    com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.cf:jar:3.9.0:compile\r\n[DEBUG]       com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext:jar:3.9.0:compile\r\n[DEBUG]    com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.cf.impl:jar:3.9.0:compile\r\n[DEBUG]       com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.impl:jar:3.9.0:compile\r\n[DEBUG]       com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.internal:jar:3.9.0:compile\r\n[DEBUG]       com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.validation:jar:3.9.0:compile\r\n[DEBUG]       com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.utils:jar:3.9.0:compile\r\n[DEBUG]       org.apache.commons:commons-lang3:jar:3.12.0:compile (version managed from 3.6)\r\n[DEBUG]    com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.validation.cf:jar:3.9.0:compile\r\n[DEBUG]    com.sap.cloud.security.xsuaa:token-client:jar:2.13.5:compile\r\n[DEBUG]       com.sap.cloud.security.xsuaa:api:jar:2.13.5:compile\r\n[DEBUG]       com.sap.cloud.security:java-api:jar:2.13.5:compile (version managed from 2.13.5)\r\n[DEBUG]       com.github.ben-manes.caffeine:caffeine:jar:2.9.3:compile (version managed from 2.9.3)\r\n[DEBUG]          org.checkerframework:checker-qual:jar:3.19.0:compile\r\n[DEBUG]          com.google.errorprone:error_prone_annotations:jar:2.10.0:compile\r\n[DEBUG]    ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n[DEBUG]       ch.qos.logback:logback-core:jar:1.4.5:compile (version managed from 1.4.5)\r\n[DEBUG]    com.sap.hcp.cf.logging:cf-java-logging-support-logback:jar:3.6.3:compile\r\n[DEBUG]       com.sap.hcp.cf.logging:cf-java-logging-support-core:jar:3.6.3:compile\r\n[DEBUG]          com.fasterxml.jackson.jr:jackson-jr-objects:jar:2.13.4:compile (version managed from 2.13.2)\r\n[DEBUG]    org.yaml:snakeyaml:jar:1.33:compile\r\n[DEBUG]    org.jacoco:org.jacoco.agent:jar:runtime:0.8.8:test\r\n[DEBUG]    io.projectreactor.netty:reactor-netty:jar:1.0.13:compile\r\n[DEBUG]       io.projectreactor.netty:reactor-netty-core:jar:1.0.27:compile (version managed from 1.0.13)\r\n[DEBUG]          io.projectreactor:reactor-core:jar:3.4.26:compile (version managed from 3.4.26)\r\n[DEBUG]             org.reactivestreams:reactive-streams:jar:1.0.4:compile (version managed from 1.0.4)\r\n[DEBUG]       io.projectreactor.netty:reactor-netty-http:jar:1.0.27:compile (version managed from 1.0.13)\r\n[DEBUG]       io.projectreactor.netty.incubator:reactor-netty-incubator-quic:jar:0.0.2:runtime\r\n[DEBUG]          io.netty.incubator:netty-incubator-codec-quic:jar:linux-x86_64:0.0.20.Final:runtime\r\n[DEBUG]       io.projectreactor.netty:reactor-netty-http-brave:jar:1.0.27:runtime (version managed from 1.0.13)\r\n[DEBUG]          io.zipkin.brave:brave-instrumentation-http:jar:5.14.1:runtime\r\n[DEBUG]             io.zipkin.brave:brave:jar:5.14.1:runtime\r\n[DEBUG]                io.zipkin.reporter2:zipkin-reporter-brave:jar:2.16.3:runtime\r\n[DEBUG]                   io.zipkin.reporter2:zipkin-reporter:jar:2.16.3:runtime\r\n[DEBUG]                      io.zipkin.zipkin2:zipkin:jar:2.23.2:runtime\r\n[DEBUG]    org.cloudfoundry:cloudfoundry-operations:jar:5.9.0.RELEASE:compile\r\n[DEBUG]       org.cloudfoundry:cloudfoundry-client:jar:5.9.0.RELEASE:compile\r\n[DEBUG]          com.squareup.wire:wire-runtime:jar:2.2.0:compile\r\n[DEBUG]             com.squareup.okio:okio:jar:1.8.0:compile\r\n[DEBUG]       org.cloudfoundry:cloudfoundry-util:jar:5.9.0.RELEASE:compile\r\n[DEBUG]          org.atteo:evo-inflector:jar:1.3:compile\r\n[DEBUG]    org.apache.commons:commons-text:jar:1.10.0:compile\r\n[DEBUG]    org.apache.commons:commons-compress:jar:1.22:compile\r\n[DEBUG]    commons-beanutils:commons-beanutils:jar:1.9.4:compile\r\n[DEBUG]       commons-logging:commons-logging:jar:1.2:compile\r\n[DEBUG]       commons-collections:commons-collections:jar:3.2.2:compile\r\n[DEBUG]    commons-codec:commons-codec:jar:1.15:compile\r\n[DEBUG]    org.cloudfoundry:cloudfoundry-client-reactor:jar:5.9.0.RELEASE:compile\r\n[DEBUG]       com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.4:compile (version managed from 2.11.4)\r\n[DEBUG]       com.github.zafarkhaja:java-semver:jar:0.9.0:compile\r\n[DEBUG]       io.jsonwebtoken:jjwt-api:jar:0.11.2:compile\r\n[DEBUG]       io.jsonwebtoken:jjwt-impl:jar:0.11.2:runtime\r\n[DEBUG]       io.jsonwebtoken:jjwt-jackson:jar:0.11.2:runtime\r\n[DEBUG]       javax.annotation:javax.annotation-api:jar:1.3.2:compile (version managed from 1.3.2)\r\n[INFO] com.sap.cloud.cit.ar:com.sap.cloud.cit.ar.runtime:war:2.0.0\r\n[INFO] +- junit:junit:jar:4.13.2:test\r\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\r\n[INFO] |     \\- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO] +- org.powermock:powermock-module-junit4:jar:2.0.2:test\r\n[INFO] |  \\- org.powermock:powermock-module-junit4-common:jar:2.0.2:test\r\n[INFO] |     +- org.powermock:powermock-reflect:jar:2.0.2:test\r\n[INFO] |     \\- org.powermock:powermock-core:jar:2.0.2:test\r\n[INFO] +- org.powermock:powermock-api-mockito2:jar:2.0.2:test\r\n[INFO] |  \\- org.powermock:powermock-api-support:jar:2.0.2:test\r\n[INFO] +- org.mockito:mockito-core:jar:3.9.0:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.12.22:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.22:test\r\n[INFO] |  \\- org.objenesis:objenesis:jar:3.2:test\r\n[INFO] +- org.javassist:javassist:jar:3.29.2-GA:compile\r\n[INFO] +- javax.servlet:javax.servlet-api:jar:4.0.1:compile\r\n[INFO] +- io.netty:netty-all:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-buffer:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-codec:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-codec-dns:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-codec-haproxy:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-codec-http:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-codec-http2:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-codec-memcache:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-codec-mqtt:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-codec-redis:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-codec-smtp:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-codec-socks:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-codec-stomp:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-codec-xml:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-common:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-handler:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-transport-native-unix-common:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-handler-proxy:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-handler-ssl-ocsp:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-resolver:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-resolver-dns:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-transport:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-transport-rxtx:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-transport-sctp:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-transport-udt:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-transport-classes-epoll:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-transport-classes-kqueue:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-resolver-dns-classes-macos:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-aarch_64:4.1.87.Final:runtime\r\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.87.Final:runtime\r\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-aarch_64:4.1.87.Final:runtime\r\n[INFO] |  +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.87.Final:compile\r\n[INFO] |  \\- io.netty:netty-resolver-dns-native-macos:jar:osx-aarch_64:4.1.87.Final:runtime\r\n[INFO] +- org.json:json:jar:20220924:compile\r\n[INFO] +- com.google.code.gson:gson:jar:2.9.1:compile\r\n[INFO] +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\r\n[INFO] |  +- net.minidev:json-smart:jar:2.4.8:compile\r\n[INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.8:compile\r\n[INFO] |  |     \\- org.ow2.asm:asm:jar:9.1:compile\r\n[INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\r\n[INFO] +- org.apache.httpcomponents:httpclient:jar:4.5.14:compile\r\n[INFO] |  \\- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.4:compile\r\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.13.4:compile\r\n[INFO] +- org.springframework:spring-web:jar:5.3.25:compile\r\n[INFO] |  +- org.springframework:spring-beans:jar:5.3.25:compile\r\n[INFO] |  \\- org.springframework:spring-core:jar:5.3.25:compile\r\n[INFO] |     \\- org.springframework:spring-jcl:jar:5.3.25:compile\r\n[INFO] +- org.springframework:spring-test:jar:5.3.25:test\r\n[INFO] +- org.freemarker:freemarker:jar:2.3.32:compile\r\n[INFO] +- com.sap.cp.auditlog:audit-java-client-api:jar:2.4.3:compile\r\n[INFO] +- com.sap.cp.auditlog:audit-java-client-impl:jar:2.4.3:compile\r\n[INFO] |  +- com.sap.cloud.security:java-security:jar:2.13.5:compile\r\n[INFO] |  +- com.sap.cloud.security:env:jar:2.11.13:compile\r\n[INFO] |  \\- com.sap.cp.auditlog:auditlog-common:jar:2.2.16:compile\r\n[INFO] +- com.sap.cloud.sjb:xs-env:jar:1.21.0:compile\r\n[INFO] +- com.sap.cp.security:credential-store-client-java:jar:1.20.0:compile\r\n[INFO] |  +- org.apache.httpcomponents:httpmime:jar:4.5.14:compile\r\n[INFO] |  +- org.bitbucket.b_c:jose4j:jar:0.7.6:compile\r\n[INFO] |  +- commons-io:commons-io:jar:2.8.0:compile\r\n[INFO] |  +- commons-fileupload:commons-fileupload:jar:1.4:compile\r\n[INFO] |  \\- org.tomitribe:tomitribe-http-signatures:jar:1.3:compile\r\n[INFO] +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.cf:jar:3.9.0:compile\r\n[INFO] |  \\- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext:jar:3.9.0:compile\r\n[INFO] +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.cf.impl:jar:3.9.0:compile\r\n[INFO] |  +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.impl:jar:3.9.0:compile\r\n[INFO] |  +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.internal:jar:3.9.0:compile\r\n[INFO] |  +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.validation:jar:3.9.0:compile\r\n[INFO] |  +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.utils:jar:3.9.0:compile\r\n[INFO] |  \\- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.validation.cf:jar:3.9.0:compile\r\n[INFO] +- com.sap.cloud.security.xsuaa:token-client:jar:2.13.5:compile\r\n[INFO] |  +- com.sap.cloud.security.xsuaa:api:jar:2.13.5:compile\r\n[INFO] |  +- com.sap.cloud.security:java-api:jar:2.13.5:compile\r\n[INFO] |  \\- com.github.ben-manes.caffeine:caffeine:jar:2.9.3:compile\r\n[INFO] |     +- org.checkerframework:checker-qual:jar:3.19.0:compile\r\n[INFO] |     \\- com.google.errorprone:error_prone_annotations:jar:2.10.0:compile\r\n[INFO] +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n[INFO] |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n[INFO] +- com.sap.hcp.cf.logging:cf-java-logging-support-logback:jar:3.6.3:compile\r\n[INFO] |  \\- com.sap.hcp.cf.logging:cf-java-logging-support-core:jar:3.6.3:compile\r\n[INFO] |     \\- com.fasterxml.jackson.jr:jackson-jr-objects:jar:2.13.4:compile\r\n[INFO] +- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] +- org.jacoco:org.jacoco.agent:jar:runtime:0.8.8:test\r\n[INFO] +- io.projectreactor.netty:reactor-netty:jar:1.0.13:compile\r\n[INFO] |  +- io.projectreactor.netty:reactor-netty-core:jar:1.0.27:compile\r\n[INFO] |  |  \\- io.projectreactor:reactor-core:jar:3.4.26:compile\r\n[INFO] |  |     \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n[INFO] |  +- io.projectreactor.netty:reactor-netty-http:jar:1.0.27:compile\r\n[INFO] |  +- io.projectreactor.netty.incubator:reactor-netty-incubator-quic:jar:0.0.2:runtime\r\n[INFO] |  |  \\- io.netty.incubator:netty-incubator-codec-quic:jar:linux-x86_64:0.0.20.Final:runtime\r\n[INFO] |  \\- io.projectreactor.netty:reactor-netty-http-brave:jar:1.0.27:runtime\r\n[INFO] |     \\- io.zipkin.brave:brave-instrumentation-http:jar:5.14.1:runtime\r\n[INFO] |        \\- io.zipkin.brave:brave:jar:5.14.1:runtime\r\n[INFO] |           \\- io.zipkin.reporter2:zipkin-reporter-brave:jar:2.16.3:runtime\r\n[INFO] |              \\- io.zipkin.reporter2:zipkin-reporter:jar:2.16.3:runtime\r\n[INFO] |                 \\- io.zipkin.zipkin2:zipkin:jar:2.23.2:runtime\r\n[INFO] +- org.cloudfoundry:cloudfoundry-operations:jar:5.9.0.RELEASE:compile\r\n[INFO] |  +- org.cloudfoundry:cloudfoundry-client:jar:5.9.0.RELEASE:compile\r\n[INFO] |  |  \\- com.squareup.wire:wire-runtime:jar:2.2.0:compile\r\n[INFO] |  |     \\- com.squareup.okio:okio:jar:1.8.0:compile\r\n[INFO] |  \\- org.cloudfoundry:cloudfoundry-util:jar:5.9.0.RELEASE:compile\r\n[INFO] |     \\- org.atteo:evo-inflector:jar:1.3:compile\r\n[INFO] +- org.apache.commons:commons-text:jar:1.10.0:compile\r\n[INFO] +- org.apache.commons:commons-compress:jar:1.22:compile\r\n[INFO] +- commons-beanutils:commons-beanutils:jar:1.9.4:compile\r\n[INFO] |  +- commons-logging:commons-logging:jar:1.2:compile\r\n[INFO] |  \\- commons-collections:commons-collections:jar:3.2.2:compile\r\n[INFO] +- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] \\- org.cloudfoundry:cloudfoundry-client-reactor:jar:5.9.0.RELEASE:compile\r\n[INFO]    +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.4:compile\r\n[INFO]    +- com.github.zafarkhaja:java-semver:jar:0.9.0:compile\r\n[INFO]    +- io.jsonwebtoken:jjwt-api:jar:0.11.2:compile\r\n[INFO]    +- io.jsonwebtoken:jjwt-impl:jar:0.11.2:runtime\r\n[INFO]    +- io.jsonwebtoken:jjwt-jackson:jar:0.11.2:runtime\r\n[INFO]    \\- javax.annotation:javax.annotation-api:jar:1.3.2:compile\r\n```\r\n\r\nBase pom parent -\r\n\r\n\r\n```\r\n&lt;parent&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n   &lt;version&gt;2.7.8&lt;/version&gt;\r\n   &lt;relativePath/&gt;\r\n&lt;/parent&gt;\r\n\r\n```\r\n\r\n\r\nTomcat version in CF - `8.5.84`\r\n\r\nSAP Machine JDK - `11.0.18_0.0.b0`\r\n\r\nAny pointers will be of great help.","title":"Spring app running on Cloud foundry failing to start due to java.lang.NoClassDefFoundError: jakarta/servlet/ServletContainerInitializer","body":"<p>Running into the following issue since I have added <code>spring-boot-parent</code>  as the parent in the base pom file. There are no jakarta related dependencies in the project. Attached is the maven dependency tree of the project.</p>\n<p>Error stack when deploying to cloud foundry -</p>\n<pre><code>   2023-02-21T11: 37: 45.64+0530 [APP/PROC/WEB/0\n] OUT {\n   &quot;msg&quot;: &quot;The required Server component failed to start so Tomcat is unable to start.&quot;,\n   &quot;level&quot;: &quot;ERROR&quot;,\n   &quot;written_ts&quot;: &quot;1676959665643883000&quot;,\n   &quot;logger&quot;: &quot;org.apache.catalina.startup.Catalina&quot;,\n   &quot;written_at&quot;: &quot;2023-02-21T06:07:45.643Z&quot;,\n   &quot;thread&quot;: &quot;main&quot;,\n   &quot;type&quot;: &quot;log&quot;,\n   &quot;stacktrace&quot;: [\n      &quot;org.apache.catalina.LifecycleException: A child container failed during start&quot;,\n      &quot;\\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:951)&quot;,\n      &quot;\\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)&quot;,\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)&quot;,\n      &quot;\\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)&quot;,\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)&quot;,\n      &quot;\\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:794)&quot;,\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)&quot;,\n      &quot;\\tat org.apache.catalina.startup.Catalina.start(Catalina.java:695)&quot;,\n      &quot;\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&quot;,\n      &quot;\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&quot;,\n      &quot;\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&quot;,\n      &quot;\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)&quot;,\n      &quot;\\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)&quot;,\n      &quot;\\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)&quot;,\n      &quot;Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start&quot;,\n      &quot;\\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)&quot;,\n      &quot;\\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)&quot;,\n      &quot;\\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939)&quot;,\n      &quot;\\t... 13 more&quot;,\n      &quot;Caused by: org.apache.catalina.LifecycleException: A child container failed during start&quot;,\n      &quot;\\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:951)&quot;,\n      &quot;\\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:833)&quot;,\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)&quot;,\n      &quot;\\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1424)&quot;,\n      &quot;\\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1414)&quot;,\n      &quot;\\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)&quot;,\n      &quot;\\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)&quot;,\n      &quot;\\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)&quot;,\n      &quot;\\tat java.base/java.lang.Thread.run(Thread.java:829)&quot;,\n      &quot;Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]&quot;,\n      &quot;\\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)&quot;,\n      &quot;\\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)&quot;,\n      &quot;\\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939)&quot;,\n      &quot;\\t... 8 more&quot;,\n      &quot;Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]&quot;,\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)&quot;,\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)&quot;,\n      &quot;\\t... 6 more&quot;,\n      &quot;Caused by: java.lang.NoClassDefFoundError: jakarta/servlet/ServletContainerInitializer&quot;,\n      &quot;\\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)&quot;,\n      &quot;\\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)&quot;,\n      &quot;\\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)&quot;,\n      &quot;\\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2478)&quot;,\n      &quot;\\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:881)&quot;,\n      &quot;\\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1384)&quot;,\n      &quot;\\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1228)&quot;,\n      &quot;\\tat java.base/java.lang.Class.forName0(Native Method)&quot;,\n      &quot;\\tat java.base/java.lang.Class.forName(Class.java:398)&quot;,\n      &quot;\\tat org.apache.catalina.startup.WebappServiceLoader.loadServices(WebappServiceLoader.java:232)&quot;,\n      &quot;\\tat org.apache.catalina.startup.WebappServiceLoader.load(WebappServiceLoader.java:203)&quot;,\n      &quot;\\tat org.apache.catalina.startup.ContextConfig.processServletContainerInitializers(ContextConfig.java:1587)&quot;,\n      &quot;\\tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1088)&quot;,\n      &quot;\\tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:779)&quot;,\n      &quot;\\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)&quot;,\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)&quot;,\n      &quot;\\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5127)&quot;,\n      &quot;\\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)&quot;,\n      &quot;\\t... 6 more&quot;,\n      &quot;Caused by: java.lang.ClassNotFoundException: jakarta.servlet.ServletContainerInitializer&quot;,\n      &quot;\\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1420)&quot;,\n      &quot;\\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1228)&quot;,\n      &quot;\\t... 24 more&quot;\n   ]\n}\n   2023-02-21T11: 37: 45.64+0530 [APP/PROC/WEB/0\n] OUT {\n   &quot;msg&quot;: &quot;Stopping service [Catalina]&quot;,\n   &quot;level&quot;: &quot;INFO&quot;,\n   &quot;written_ts&quot;: &quot;1676959665645366000&quot;,\n   &quot;logger&quot;: &quot;org.apache.catalina.core.StandardService&quot;,\n   &quot;written_at&quot;: &quot;2023-02-21T06:07:45.645Z&quot;,\n   &quot;thread&quot;: &quot;main&quot;,\n   &quot;type&quot;: &quot;log&quot;\n}\n</code></pre>\n<p>Here is the dependency tree -</p>\n<pre><code>[DEBUG] com.sap.cloud.cit.ar:com.sap.cloud.cit.ar.runtime:war:2.0.0\n[DEBUG]    junit:junit:jar:4.13.2:test\n[DEBUG]       org.hamcrest:hamcrest-core:jar:2.2:test (version managed from 1.3)\n[DEBUG]          org.hamcrest:hamcrest:jar:2.2:test (version managed from 2.2)\n[DEBUG]    org.powermock:powermock-module-junit4:jar:2.0.2:test\n[DEBUG]       org.powermock:powermock-module-junit4-common:jar:2.0.2:test\n[DEBUG]          org.powermock:powermock-reflect:jar:2.0.2:test\n[DEBUG]          org.powermock:powermock-core:jar:2.0.2:test\n[DEBUG]    org.powermock:powermock-api-mockito2:jar:2.0.2:test\n[DEBUG]       org.powermock:powermock-api-support:jar:2.0.2:test\n[DEBUG]    org.mockito:mockito-core:jar:3.9.0:test\n[DEBUG]       net.bytebuddy:byte-buddy:jar:1.12.22:test (version managed from 1.10.20)\n[DEBUG]       net.bytebuddy:byte-buddy-agent:jar:1.12.22:test (version managed from 1.10.20)\n[DEBUG]       org.objenesis:objenesis:jar:3.2:test\n[DEBUG]    org.javassist:javassist:jar:3.29.2-GA:compile\n[DEBUG]    javax.servlet:javax.servlet-api:jar:4.0.1:compile\n[DEBUG]    io.netty:netty-all:jar:4.1.87.Final:compile\n[DEBUG]       io.netty:netty-buffer:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-codec:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-codec-dns:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-codec-haproxy:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-codec-http:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-codec-http2:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-codec-memcache:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-codec-mqtt:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-codec-redis:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-codec-smtp:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-codec-socks:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-codec-stomp:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-codec-xml:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-common:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-handler:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-transport-native-unix-common:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-handler-proxy:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-handler-ssl-ocsp:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-resolver:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-resolver-dns:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-transport:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-transport-rxtx:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-transport-sctp:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-transport-udt:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-transport-classes-epoll:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-transport-classes-kqueue:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-resolver-dns-classes-macos:jar:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-transport-native-epoll:jar:linux-aarch_64:4.1.87.Final:runtime (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.87.Final:runtime (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-transport-native-kqueue:jar:osx-aarch_64:4.1.87.Final:runtime (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.87.Final:compile (version managed from 4.1.87.Final)\n[DEBUG]       io.netty:netty-resolver-dns-native-macos:jar:osx-aarch_64:4.1.87.Final:runtime (version managed from 4.1.87.Final)\n[DEBUG]    org.json:json:jar:20220924:compile\n[DEBUG]    com.google.code.gson:gson:jar:2.9.1:compile\n[DEBUG]    com.jayway.jsonpath:json-path:jar:2.7.0:compile\n[DEBUG]       net.minidev:json-smart:jar:2.4.8:compile (version managed from 2.4.7)\n[DEBUG]          net.minidev:accessors-smart:jar:2.4.8:compile\n[DEBUG]             org.ow2.asm:asm:jar:9.1:compile\n[DEBUG]       org.slf4j:slf4j-api:jar:1.7.36:compile (version managed from 1.7.33)\n[DEBUG]    org.apache.httpcomponents:httpclient:jar:4.5.14:compile (exclusions managed from [commons-logging:commons-logging:*:*])\n[DEBUG]       org.apache.httpcomponents:httpcore:jar:4.4.16:compile (version managed from 4.4.16)\n[DEBUG]    com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\n[DEBUG]       com.fasterxml.jackson.core:jackson-annotations:jar:2.13.4:compile (version managed from 2.14.2)\n[DEBUG]       com.fasterxml.jackson.core:jackson-core:jar:2.13.4:compile (version managed from 2.14.2)\n[DEBUG]    org.springframework:spring-web:jar:5.3.25:compile\n[DEBUG]       org.springframework:spring-beans:jar:5.3.25:compile (version managed from 5.3.25)\n[DEBUG]       org.springframework:spring-core:jar:5.3.25:compile (version managed from 5.3.25)\n[DEBUG]          org.springframework:spring-jcl:jar:5.3.25:compile (version managed from 5.3.25)\n[DEBUG]    org.springframework:spring-test:jar:5.3.25:test\n[DEBUG]    org.freemarker:freemarker:jar:2.3.32:compile\n[DEBUG]    com.sap.cp.auditlog:audit-java-client-api:jar:2.4.3:compile\n[DEBUG]    com.sap.cp.auditlog:audit-java-client-impl:jar:2.4.3:compile\n[DEBUG]       com.sap.cloud.security:java-security:jar:2.13.5:compile (version managed from 2.11.13)\n[DEBUG]       com.sap.cloud.security:env:jar:2.11.13:compile\n[DEBUG]       com.sap.cp.auditlog:auditlog-common:jar:2.2.16:compile\n[DEBUG]    com.sap.cloud.sjb:xs-env:jar:1.21.0:compile\n[DEBUG]    com.sap.cp.security:credential-store-client-java:jar:1.20.0:compile\n[DEBUG]       org.apache.httpcomponents:httpmime:jar:4.5.14:compile (version managed from 4.5.13)\n[DEBUG]       org.bitbucket.b_c:jose4j:jar:0.7.6:compile\n[DEBUG]       commons-io:commons-io:jar:2.8.0:compile\n[DEBUG]       commons-fileupload:commons-fileupload:jar:1.4:compile\n[DEBUG]       org.tomitribe:tomitribe-http-signatures:jar:1.3:compile\n[DEBUG]    com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.cf:jar:3.9.0:compile\n[DEBUG]       com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext:jar:3.9.0:compile\n[DEBUG]    com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.cf.impl:jar:3.9.0:compile\n[DEBUG]       com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.impl:jar:3.9.0:compile\n[DEBUG]       com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.internal:jar:3.9.0:compile\n[DEBUG]       com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.validation:jar:3.9.0:compile\n[DEBUG]       com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.utils:jar:3.9.0:compile\n[DEBUG]       org.apache.commons:commons-lang3:jar:3.12.0:compile (version managed from 3.6)\n[DEBUG]    com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.validation.cf:jar:3.9.0:compile\n[DEBUG]    com.sap.cloud.security.xsuaa:token-client:jar:2.13.5:compile\n[DEBUG]       com.sap.cloud.security.xsuaa:api:jar:2.13.5:compile\n[DEBUG]       com.sap.cloud.security:java-api:jar:2.13.5:compile (version managed from 2.13.5)\n[DEBUG]       com.github.ben-manes.caffeine:caffeine:jar:2.9.3:compile (version managed from 2.9.3)\n[DEBUG]          org.checkerframework:checker-qual:jar:3.19.0:compile\n[DEBUG]          com.google.errorprone:error_prone_annotations:jar:2.10.0:compile\n[DEBUG]    ch.qos.logback:logback-classic:jar:1.4.5:compile\n[DEBUG]       ch.qos.logback:logback-core:jar:1.4.5:compile (version managed from 1.4.5)\n[DEBUG]    com.sap.hcp.cf.logging:cf-java-logging-support-logback:jar:3.6.3:compile\n[DEBUG]       com.sap.hcp.cf.logging:cf-java-logging-support-core:jar:3.6.3:compile\n[DEBUG]          com.fasterxml.jackson.jr:jackson-jr-objects:jar:2.13.4:compile (version managed from 2.13.2)\n[DEBUG]    org.yaml:snakeyaml:jar:1.33:compile\n[DEBUG]    org.jacoco:org.jacoco.agent:jar:runtime:0.8.8:test\n[DEBUG]    io.projectreactor.netty:reactor-netty:jar:1.0.13:compile\n[DEBUG]       io.projectreactor.netty:reactor-netty-core:jar:1.0.27:compile (version managed from 1.0.13)\n[DEBUG]          io.projectreactor:reactor-core:jar:3.4.26:compile (version managed from 3.4.26)\n[DEBUG]             org.reactivestreams:reactive-streams:jar:1.0.4:compile (version managed from 1.0.4)\n[DEBUG]       io.projectreactor.netty:reactor-netty-http:jar:1.0.27:compile (version managed from 1.0.13)\n[DEBUG]       io.projectreactor.netty.incubator:reactor-netty-incubator-quic:jar:0.0.2:runtime\n[DEBUG]          io.netty.incubator:netty-incubator-codec-quic:jar:linux-x86_64:0.0.20.Final:runtime\n[DEBUG]       io.projectreactor.netty:reactor-netty-http-brave:jar:1.0.27:runtime (version managed from 1.0.13)\n[DEBUG]          io.zipkin.brave:brave-instrumentation-http:jar:5.14.1:runtime\n[DEBUG]             io.zipkin.brave:brave:jar:5.14.1:runtime\n[DEBUG]                io.zipkin.reporter2:zipkin-reporter-brave:jar:2.16.3:runtime\n[DEBUG]                   io.zipkin.reporter2:zipkin-reporter:jar:2.16.3:runtime\n[DEBUG]                      io.zipkin.zipkin2:zipkin:jar:2.23.2:runtime\n[DEBUG]    org.cloudfoundry:cloudfoundry-operations:jar:5.9.0.RELEASE:compile\n[DEBUG]       org.cloudfoundry:cloudfoundry-client:jar:5.9.0.RELEASE:compile\n[DEBUG]          com.squareup.wire:wire-runtime:jar:2.2.0:compile\n[DEBUG]             com.squareup.okio:okio:jar:1.8.0:compile\n[DEBUG]       org.cloudfoundry:cloudfoundry-util:jar:5.9.0.RELEASE:compile\n[DEBUG]          org.atteo:evo-inflector:jar:1.3:compile\n[DEBUG]    org.apache.commons:commons-text:jar:1.10.0:compile\n[DEBUG]    org.apache.commons:commons-compress:jar:1.22:compile\n[DEBUG]    commons-beanutils:commons-beanutils:jar:1.9.4:compile\n[DEBUG]       commons-logging:commons-logging:jar:1.2:compile\n[DEBUG]       commons-collections:commons-collections:jar:3.2.2:compile\n[DEBUG]    commons-codec:commons-codec:jar:1.15:compile\n[DEBUG]    org.cloudfoundry:cloudfoundry-client-reactor:jar:5.9.0.RELEASE:compile\n[DEBUG]       com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.4:compile (version managed from 2.11.4)\n[DEBUG]       com.github.zafarkhaja:java-semver:jar:0.9.0:compile\n[DEBUG]       io.jsonwebtoken:jjwt-api:jar:0.11.2:compile\n[DEBUG]       io.jsonwebtoken:jjwt-impl:jar:0.11.2:runtime\n[DEBUG]       io.jsonwebtoken:jjwt-jackson:jar:0.11.2:runtime\n[DEBUG]       javax.annotation:javax.annotation-api:jar:1.3.2:compile (version managed from 1.3.2)\n[INFO] com.sap.cloud.cit.ar:com.sap.cloud.cit.ar.runtime:war:2.0.0\n[INFO] +- junit:junit:jar:4.13.2:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\n[INFO] |     \\- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] +- org.powermock:powermock-module-junit4:jar:2.0.2:test\n[INFO] |  \\- org.powermock:powermock-module-junit4-common:jar:2.0.2:test\n[INFO] |     +- org.powermock:powermock-reflect:jar:2.0.2:test\n[INFO] |     \\- org.powermock:powermock-core:jar:2.0.2:test\n[INFO] +- org.powermock:powermock-api-mockito2:jar:2.0.2:test\n[INFO] |  \\- org.powermock:powermock-api-support:jar:2.0.2:test\n[INFO] +- org.mockito:mockito-core:jar:3.9.0:test\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.12.22:test\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.22:test\n[INFO] |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO] +- org.javassist:javassist:jar:3.29.2-GA:compile\n[INFO] +- javax.servlet:javax.servlet-api:jar:4.0.1:compile\n[INFO] +- io.netty:netty-all:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-buffer:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-codec:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-codec-dns:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-codec-haproxy:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-codec-http:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-codec-http2:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-codec-memcache:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-codec-mqtt:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-codec-redis:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-codec-smtp:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-codec-socks:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-codec-stomp:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-codec-xml:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-common:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-handler:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-transport-native-unix-common:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-handler-proxy:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-handler-ssl-ocsp:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-resolver:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-resolver-dns:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-transport:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-transport-rxtx:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-transport-sctp:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-transport-udt:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-transport-classes-epoll:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-transport-classes-kqueue:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-resolver-dns-classes-macos:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-aarch_64:4.1.87.Final:runtime\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.87.Final:runtime\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-aarch_64:4.1.87.Final:runtime\n[INFO] |  +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.87.Final:compile\n[INFO] |  \\- io.netty:netty-resolver-dns-native-macos:jar:osx-aarch_64:4.1.87.Final:runtime\n[INFO] +- org.json:json:jar:20220924:compile\n[INFO] +- com.google.code.gson:gson:jar:2.9.1:compile\n[INFO] +- com.jayway.jsonpath:json-path:jar:2.7.0:compile\n[INFO] |  +- net.minidev:json-smart:jar:2.4.8:compile\n[INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.8:compile\n[INFO] |  |     \\- org.ow2.asm:asm:jar:9.1:compile\n[INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.36:compile\n[INFO] +- org.apache.httpcomponents:httpclient:jar:4.5.14:compile\n[INFO] |  \\- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.4:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.13.4:compile\n[INFO] +- org.springframework:spring-web:jar:5.3.25:compile\n[INFO] |  +- org.springframework:spring-beans:jar:5.3.25:compile\n[INFO] |  \\- org.springframework:spring-core:jar:5.3.25:compile\n[INFO] |     \\- org.springframework:spring-jcl:jar:5.3.25:compile\n[INFO] +- org.springframework:spring-test:jar:5.3.25:test\n[INFO] +- org.freemarker:freemarker:jar:2.3.32:compile\n[INFO] +- com.sap.cp.auditlog:audit-java-client-api:jar:2.4.3:compile\n[INFO] +- com.sap.cp.auditlog:audit-java-client-impl:jar:2.4.3:compile\n[INFO] |  +- com.sap.cloud.security:java-security:jar:2.13.5:compile\n[INFO] |  +- com.sap.cloud.security:env:jar:2.11.13:compile\n[INFO] |  \\- com.sap.cp.auditlog:auditlog-common:jar:2.2.16:compile\n[INFO] +- com.sap.cloud.sjb:xs-env:jar:1.21.0:compile\n[INFO] +- com.sap.cp.security:credential-store-client-java:jar:1.20.0:compile\n[INFO] |  +- org.apache.httpcomponents:httpmime:jar:4.5.14:compile\n[INFO] |  +- org.bitbucket.b_c:jose4j:jar:0.7.6:compile\n[INFO] |  +- commons-io:commons-io:jar:2.8.0:compile\n[INFO] |  +- commons-fileupload:commons-fileupload:jar:1.4:compile\n[INFO] |  \\- org.tomitribe:tomitribe-http-signatures:jar:1.3:compile\n[INFO] +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.cf:jar:3.9.0:compile\n[INFO] |  \\- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext:jar:3.9.0:compile\n[INFO] +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.cf.impl:jar:3.9.0:compile\n[INFO] |  +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.impl:jar:3.9.0:compile\n[INFO] |  +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.internal:jar:3.9.0:compile\n[INFO] |  +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.validation:jar:3.9.0:compile\n[INFO] |  +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.utils:jar:3.9.0:compile\n[INFO] |  \\- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] +- com.sap.cloud.connectivity.apiext:com.sap.cloud.connectivity.apiext.validation.cf:jar:3.9.0:compile\n[INFO] +- com.sap.cloud.security.xsuaa:token-client:jar:2.13.5:compile\n[INFO] |  +- com.sap.cloud.security.xsuaa:api:jar:2.13.5:compile\n[INFO] |  +- com.sap.cloud.security:java-api:jar:2.13.5:compile\n[INFO] |  \\- com.github.ben-manes.caffeine:caffeine:jar:2.9.3:compile\n[INFO] |     +- org.checkerframework:checker-qual:jar:3.19.0:compile\n[INFO] |     \\- com.google.errorprone:error_prone_annotations:jar:2.10.0:compile\n[INFO] +- ch.qos.logback:logback-classic:jar:1.4.5:compile\n[INFO] |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n[INFO] +- com.sap.hcp.cf.logging:cf-java-logging-support-logback:jar:3.6.3:compile\n[INFO] |  \\- com.sap.hcp.cf.logging:cf-java-logging-support-core:jar:3.6.3:compile\n[INFO] |     \\- com.fasterxml.jackson.jr:jackson-jr-objects:jar:2.13.4:compile\n[INFO] +- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] +- org.jacoco:org.jacoco.agent:jar:runtime:0.8.8:test\n[INFO] +- io.projectreactor.netty:reactor-netty:jar:1.0.13:compile\n[INFO] |  +- io.projectreactor.netty:reactor-netty-core:jar:1.0.27:compile\n[INFO] |  |  \\- io.projectreactor:reactor-core:jar:3.4.26:compile\n[INFO] |  |     \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO] |  +- io.projectreactor.netty:reactor-netty-http:jar:1.0.27:compile\n[INFO] |  +- io.projectreactor.netty.incubator:reactor-netty-incubator-quic:jar:0.0.2:runtime\n[INFO] |  |  \\- io.netty.incubator:netty-incubator-codec-quic:jar:linux-x86_64:0.0.20.Final:runtime\n[INFO] |  \\- io.projectreactor.netty:reactor-netty-http-brave:jar:1.0.27:runtime\n[INFO] |     \\- io.zipkin.brave:brave-instrumentation-http:jar:5.14.1:runtime\n[INFO] |        \\- io.zipkin.brave:brave:jar:5.14.1:runtime\n[INFO] |           \\- io.zipkin.reporter2:zipkin-reporter-brave:jar:2.16.3:runtime\n[INFO] |              \\- io.zipkin.reporter2:zipkin-reporter:jar:2.16.3:runtime\n[INFO] |                 \\- io.zipkin.zipkin2:zipkin:jar:2.23.2:runtime\n[INFO] +- org.cloudfoundry:cloudfoundry-operations:jar:5.9.0.RELEASE:compile\n[INFO] |  +- org.cloudfoundry:cloudfoundry-client:jar:5.9.0.RELEASE:compile\n[INFO] |  |  \\- com.squareup.wire:wire-runtime:jar:2.2.0:compile\n[INFO] |  |     \\- com.squareup.okio:okio:jar:1.8.0:compile\n[INFO] |  \\- org.cloudfoundry:cloudfoundry-util:jar:5.9.0.RELEASE:compile\n[INFO] |     \\- org.atteo:evo-inflector:jar:1.3:compile\n[INFO] +- org.apache.commons:commons-text:jar:1.10.0:compile\n[INFO] +- org.apache.commons:commons-compress:jar:1.22:compile\n[INFO] +- commons-beanutils:commons-beanutils:jar:1.9.4:compile\n[INFO] |  +- commons-logging:commons-logging:jar:1.2:compile\n[INFO] |  \\- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] +- commons-codec:commons-codec:jar:1.15:compile\n[INFO] \\- org.cloudfoundry:cloudfoundry-client-reactor:jar:5.9.0.RELEASE:compile\n[INFO]    +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.4:compile\n[INFO]    +- com.github.zafarkhaja:java-semver:jar:0.9.0:compile\n[INFO]    +- io.jsonwebtoken:jjwt-api:jar:0.11.2:compile\n[INFO]    +- io.jsonwebtoken:jjwt-impl:jar:0.11.2:runtime\n[INFO]    +- io.jsonwebtoken:jjwt-jackson:jar:0.11.2:runtime\n[INFO]    \\- javax.annotation:javax.annotation-api:jar:1.3.2:compile\n</code></pre>\n<p>Base pom parent -</p>\n<pre><code>&lt;parent&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n   &lt;version&gt;2.7.8&lt;/version&gt;\n   &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n</code></pre>\n<p>Tomcat version in CF - <code>8.5.84</code></p>\n<p>SAP Machine JDK - <code>11.0.18_0.0.b0</code></p>\n<p>Any pointers will be of great help.</p>\n"},{"tags":["java","if-statement","compare"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1677192608,"post_id":75551047,"comment_id":133295085,"body_markdown":"Your option (compare `f1.getPlayer()`)is going to be by far the simplest and most efficient option.  Anything else is going to require at least some arrays.","body":"Your option (compare <code>f1.getPlayer()</code>)is going to be by far the simplest and most efficient option.  Anything else is going to require at least some arrays."},{"owner":{"display_name":"user21268963"},"score":0,"creation_date":1677193582,"post_id":75551047,"comment_id":133295282,"body_markdown":"@OldDogProgrammer Thank you but isn&#39;t that the way to compare .getPlayer with all other objects?","body":"@OldDogProgrammer Thank you but isn&#39;t that the way to compare .getPlayer with all other objects?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1677193983,"post_id":75551047,"comment_id":133295353,"body_markdown":"What is it you&#39;re trying to do? Do you want to test if at least 1 is not zero?  Do you want to test if none are zero?  Do you want to set a `boolean` based on the result, or put that into an `if` statement?","body":"What is it you&#39;re trying to do? Do you want to test if at least 1 is not zero?  Do you want to test if none are zero?  Do you want to set a <code>boolean</code> based on the result, or put that into an <code>if</code> statement?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1677194163,"post_id":75551047,"comment_id":133295392,"body_markdown":"If you want to make sure none of them are zero, the most obvious way is `boolean good3 = f1.getPlayer () != 0 &amp;&amp; f2.getPlayer () != 0 &amp;&amp; f3.getPlayer() != 0;`  (But better design would use an array and a loop so it will be easier to add more Objects of type f1, f2, f3.)","body":"If you want to make sure none of them are zero, the most obvious way is <code>boolean good3 = f1.getPlayer () != 0 &amp;&amp; f2.getPlayer () != 0 &amp;&amp; f3.getPlayer() != 0;</code>  (But better design would use an array and a loop so it will be easier to add more Objects of type f1, f2, f3.)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1677195957,"post_id":75551047,"comment_id":133295630,"body_markdown":"@OldDogProgrammer I think they need to all be equal *and* be non-zero.","body":"@OldDogProgrammer I think they need to all be equal <i>and</i> be non-zero."}],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677211924,"creation_date":1677211924,"answer_id":75552565,"question_id":75551047,"body_markdown":"If you are using the Java version 8 or above, you can use Streams. Following is an example solution :\r\n\r\n```\r\nboolean allMatchAndNonZero = Stream\r\n    .of(f1,f2,f3)\r\n    .allMatch(f -&gt; f.getPlayer() != (byte)0 &amp;&amp; f.getPlayer() == f1.getPlayer());\r\n\r\n```","title":"Compare 4 values in Java","body":"<p>If you are using the Java version 8 or above, you can use Streams. Following is an example solution :</p>\n<pre><code>boolean allMatchAndNonZero = Stream\n    .of(f1,f2,f3)\n    .allMatch(f -&gt; f.getPlayer() != (byte)0 &amp;&amp; f.getPlayer() == f1.getPlayer());\n\n</code></pre>\n"}],"owner":{"display_name":"user21268963"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75552565,"answer_count":1,"score":0,"last_activity_date":1677211924,"creation_date":1677191918,"question_id":75551047,"body_markdown":"I was wondering, if there was a way one can simply do\r\n\r\n```\r\nf1.getPlayer()==f2.getPlayer()==f3.getPlayer()!=(byte)0\r\n```\r\n\r\nwithout getting an error for comparing byte with boolean.\r\nAll the functions return bytes.\r\n\r\n\r\nThe only option I could come up with was to compare `f1.getPlayer()` to all other objects, but that would be my backup solution if there is truly no other way.\r\n\r\nI know, that it would be way easier with arrays, but I wanted to try it without.","title":"Compare 4 values in Java","body":"<p>I was wondering, if there was a way one can simply do</p>\n<pre><code>f1.getPlayer()==f2.getPlayer()==f3.getPlayer()!=(byte)0\n</code></pre>\n<p>without getting an error for comparing byte with boolean.\nAll the functions return bytes.</p>\n<p>The only option I could come up with was to compare <code>f1.getPlayer()</code> to all other objects, but that would be my backup solution if there is truly no other way.</p>\n<p>I know, that it would be way easier with arrays, but I wanted to try it without.</p>\n"},{"tags":["java","mysql","jdbc","jruby"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677247868,"post_id":75552525,"comment_id":133305618,"body_markdown":"This likely has to do with order of initialization of `DriverManager`, and on which classpath / class loader the JDBC driver is actually provided. If `DriverManager` has been initialized **before** the JDBC driver is available on the classpath / provided by a class loader, then automatic driver loading will not have found the driver (because it wasn&#39;t available yet), and this is done only **once**, and initialization by explicitly loading the driver class (e.g. with Java&#39;s `Class.forName`, or by instantiating a driver like you do) is one of the few options left.","body":"This likely has to do with order of initialization of <code>DriverManager</code>, and on which classpath / class loader the JDBC driver is actually provided. If <code>DriverManager</code> has been initialized <b>before</b> the JDBC driver is available on the classpath / provided by a class loader, then automatic driver loading will not have found the driver (because it wasn&#39;t available yet), and this is done only <b>once</b>, and initialization by explicitly loading the driver class (e.g. with Java&#39;s <code>Class.forName</code>, or by instantiating a driver like you do) is one of the few options left."},{"owner":{"account_id":2440504,"reputation":910,"user_id":2129178,"accept_rate":0,"display_name":"Nicola Mingotti"},"score":0,"creation_date":1699050897,"post_id":75552525,"comment_id":136487314,"body_markdown":"same issue found with sqlite","body":"same issue found with sqlite"}],"owner":{"account_id":6152839,"reputation":47,"user_id":4796774,"display_name":"DBulgatz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677211533,"creation_date":1677211533,"question_id":75552525,"body_markdown":"I am trying to update a jruby application \r\n\r\n\r\nFROM java 1.8 \r\n\r\nTO Java 11. \r\n\r\nCannot get a simple jruby program to make a connection.  I wrote the same program in java, and it connects just fine, so I know that the issue is somehow in jruby.\r\n\r\n\r\n```\r\nrequire &#39;java&#39;\r\nrequire &#39;jdbc/mysql&#39;\r\n\r\n# Load the JDBC driver class\r\n\r\nJdbc::MySQL.load_driver\r\njdbc-mysql\r\n\r\n# Set up the JDBC connection parameters\r\n\r\nurl = &quot;jdbc:mysql://localhost/mydatabase?user=root&quot;\r\n\r\n# Connect to the database\r\nconn = java.sql.DriverManager.get_connection(url)`\r\n```\r\n\r\n```\r\nirb(main):027:0&gt; conn = java.sql.DriverManager.get_connection(url)\r\nTraceback (most recent call last):\r\n       16: from org.jruby.RubyKernel$INVOKER$s$rbCatch.call(org/jruby/RubyKernel$INVOKER$s$rbCatch.gen)\r\n       15: from org.jruby.RubyKernel.catch(org/jruby/RubyKernel.java:1237)\r\n       14: from org.jruby.RubyKernel$INVOKER$s$0$0$loop.call(org/jruby/RubyKernel$INVOKER$s$0$0$loop.gen)\r\n       13: from org.jruby.RubyKernel.loop(org/jruby/RubyKernel.java:1507)\r\n       12: from org.jruby.RubyKernel$INVOKER$s$0$3$eval.call(org/jruby/RubyKernel$INVOKER$s$0$3$eval.gen)\r\n       11: from org.jruby.RubyKernel.eval(org/jruby/RubyKernel.java:1091)\r\n       10: from org.jruby.RubyKernel.evalCommon(org/jruby/RubyKernel.java:1129)\r\n        9: from RUBY.evaluate((irb):27)\r\n        8: from org.jruby.javasupport.JavaMethod.invokeStaticDirect(org/jruby/javasupport/JavaMethod.java:369)\r\n        7: from org.jruby.javasupport.JavaMethod.invokeDirectWithExceptionHandling(org/jruby/javasupport/JavaMethod.java:457)\r\n        6: from java.lang.reflect.Method.invoke(java/lang/reflect/Method.java:566)\r\n        5: from jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(jdk/internal/reflect/DelegatingMethodAccessorImpl.java:43)\r\n        4: from jdk.internal.reflect.NativeMethodAccessorImpl.invoke(jdk/internal/reflect/NativeMethodAccessorImpl.java:62)\r\n        3: from jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        2: from java.sql.DriverManager.getConnection(java/sql/DriverManager.java:251)\r\n        1: from java.sql.DriverManager.getConnection(java/sql/DriverManager.java:702)\r\nJava::JavaSql::SQLException (No suitable driver found for jdbc:mysql://localhost/mydatabase?user=root)\r\n```\r\n\r\nThe issue seems to be that the [DriverManager](https://docs.oracle.com/javase/8/docs/api/java/sql/DriverManager.html) is not doing what the JavaDocs says it should.\r\n\r\nWhen the method getConnection is called, the DriverManager will attempt to locate a suitable driver from amongst those loaded at initialization and those loaded explicitly using the same classloader as the current applet or application.\r\n\r\nWhat did work, was explicitly creating a driver, and using the connect method.\r\n```\r\nrequire &#39;jdbc/mysql&#39;\r\n\r\nJdbc::MySQL.load_driver\r\n\r\nurl = &quot;jdbc:mysql://localhost/mydatabase&quot;\r\ndriver = Java::com.mysql.cj.jdbc.Driver.new\r\nprops = java.util.Properties.new\r\nprops.setProperty(&quot;user&quot;, &quot;root&quot;)\r\nprops.setProperty(&quot;password&quot;, &quot;&quot;)\r\n\r\nconn = driver.connect(url,props)\r\n```\r\n\r\nI also created a java program do directly test essentially the same code.  It worked fine with Java 11 (same stack).\r\n\r\n```\r\nimport java.sql.DriverManager;\r\n\r\nConnection conn = null;\r\n\r\nconn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/mydatabase?&quot; + &quot;user=root&quot;);\r\n```","title":"Does jruby have an issue with java.sql.DriverManager? No suitable driver found for jdbc:mysql://localhost/mydatabase","body":"<p>I am trying to update a jruby application</p>\n<p>FROM java 1.8</p>\n<p>TO Java 11.</p>\n<p>Cannot get a simple jruby program to make a connection.  I wrote the same program in java, and it connects just fine, so I know that the issue is somehow in jruby.</p>\n<pre><code>require 'java'\nrequire 'jdbc/mysql'\n\n# Load the JDBC driver class\n\nJdbc::MySQL.load_driver\njdbc-mysql\n\n# Set up the JDBC connection parameters\n\nurl = &quot;jdbc:mysql://localhost/mydatabase?user=root&quot;\n\n# Connect to the database\nconn = java.sql.DriverManager.get_connection(url)`\n</code></pre>\n<pre><code>irb(main):027:0&gt; conn = java.sql.DriverManager.get_connection(url)\nTraceback (most recent call last):\n       16: from org.jruby.RubyKernel$INVOKER$s$rbCatch.call(org/jruby/RubyKernel$INVOKER$s$rbCatch.gen)\n       15: from org.jruby.RubyKernel.catch(org/jruby/RubyKernel.java:1237)\n       14: from org.jruby.RubyKernel$INVOKER$s$0$0$loop.call(org/jruby/RubyKernel$INVOKER$s$0$0$loop.gen)\n       13: from org.jruby.RubyKernel.loop(org/jruby/RubyKernel.java:1507)\n       12: from org.jruby.RubyKernel$INVOKER$s$0$3$eval.call(org/jruby/RubyKernel$INVOKER$s$0$3$eval.gen)\n       11: from org.jruby.RubyKernel.eval(org/jruby/RubyKernel.java:1091)\n       10: from org.jruby.RubyKernel.evalCommon(org/jruby/RubyKernel.java:1129)\n        9: from RUBY.evaluate((irb):27)\n        8: from org.jruby.javasupport.JavaMethod.invokeStaticDirect(org/jruby/javasupport/JavaMethod.java:369)\n        7: from org.jruby.javasupport.JavaMethod.invokeDirectWithExceptionHandling(org/jruby/javasupport/JavaMethod.java:457)\n        6: from java.lang.reflect.Method.invoke(java/lang/reflect/Method.java:566)\n        5: from jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(jdk/internal/reflect/DelegatingMethodAccessorImpl.java:43)\n        4: from jdk.internal.reflect.NativeMethodAccessorImpl.invoke(jdk/internal/reflect/NativeMethodAccessorImpl.java:62)\n        3: from jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        2: from java.sql.DriverManager.getConnection(java/sql/DriverManager.java:251)\n        1: from java.sql.DriverManager.getConnection(java/sql/DriverManager.java:702)\nJava::JavaSql::SQLException (No suitable driver found for jdbc:mysql://localhost/mydatabase?user=root)\n</code></pre>\n<p>The issue seems to be that the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/DriverManager.html\" rel=\"nofollow noreferrer\">DriverManager</a> is not doing what the JavaDocs says it should.</p>\n<p>When the method getConnection is called, the DriverManager will attempt to locate a suitable driver from amongst those loaded at initialization and those loaded explicitly using the same classloader as the current applet or application.</p>\n<p>What did work, was explicitly creating a driver, and using the connect method.</p>\n<pre><code>require 'jdbc/mysql'\n\nJdbc::MySQL.load_driver\n\nurl = &quot;jdbc:mysql://localhost/mydatabase&quot;\ndriver = Java::com.mysql.cj.jdbc.Driver.new\nprops = java.util.Properties.new\nprops.setProperty(&quot;user&quot;, &quot;root&quot;)\nprops.setProperty(&quot;password&quot;, &quot;&quot;)\n\nconn = driver.connect(url,props)\n</code></pre>\n<p>I also created a java program do directly test essentially the same code.  It worked fine with Java 11 (same stack).</p>\n<pre><code>import java.sql.DriverManager;\n\nConnection conn = null;\n\nconn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/mydatabase?&quot; + &quot;user=root&quot;);\n</code></pre>\n"},{"tags":["java","spring","hibernate","h2","mysql-5.7"],"comments":[{"owner":{"account_id":4107477,"reputation":2096,"user_id":5411628,"accept_rate":33,"display_name":"nadavgam"},"score":0,"creation_date":1486296621,"post_id":39620317,"comment_id":71275849,"body_markdown":"did overcome the problem ? im also trying to do something similar and dont succeed","body":"did overcome the problem ? im also trying to do something similar and dont succeed"}],"answers":[{"tags":[],"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"down_vote_count":3,"up_vote_count":18,"is_accepted":true,"score":15,"last_activity_date":1576748049,"creation_date":1489497438,"answer_id":42787089,"question_id":39620317,"body_markdown":"JSON support was added to H2 after the question was asked, with version 1.4.200 (2019-10-14).\r\n\r\nHowever, you rarely need a JSON data type in a database. JSON essentially is just a potentially very long string, so you can use CLOB which is available on most databases.\r\n\r\nYou do need the JSON data type if you need an SQL function that operates on them, and then only if the database insists that its JSON functions operate on a JSON type instead of on a CLOB. Such functions tend to be database-dependent though.","title":"How to map a JSON column with H2, JPA, and Hibernate","body":"<p>JSON support was added to H2 after the question was asked, with version 1.4.200 (2019-10-14).</p>\n\n<p>However, you rarely need a JSON data type in a database. JSON essentially is just a potentially very long string, so you can use CLOB which is available on most databases.</p>\n\n<p>You do need the JSON data type if you need an SQL function that operates on them, and then only if the database insists that its JSON functions operate on a JSON type instead of on a CLOB. Such functions tend to be database-dependent though.</p>\n"},{"tags":[],"owner":{"account_id":6958127,"reputation":63,"user_id":5338527,"display_name":"Olivier Garand"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504806373,"creation_date":1504806373,"answer_id":46102351,"question_id":39620317,"body_markdown":"I have solved the problem using TEXT type in H2.\r\nOne must create a separate database script to create schema in H2 for tests and replace the JSON type by TEXT.\r\n\r\nIt is still a problem since if you use Json function in queries, you will not be able to test those while with H2.","title":"How to map a JSON column with H2, JPA, and Hibernate","body":"<p>I have solved the problem using TEXT type in H2.\nOne must create a separate database script to create schema in H2 for tests and replace the JSON type by TEXT.</p>\n\n<p>It is still a problem since if you use Json function in queries, you will not be able to test those while with H2.</p>\n"},{"tags":[],"owner":{"account_id":56332,"reputation":5994,"user_id":168735,"accept_rate":92,"display_name":"n00dle"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1528894254,"creation_date":1528894254,"answer_id":50837767,"question_id":39620317,"body_markdown":"I just came across this problem working with the `JSONB` column type - the binary version of the `JSON` type, which doesn&#39;t map to `TEXT`.\r\n\r\nFor future reference, you can define a custom type in H2 using `CREATE DOMAIN`, as follows:\r\n\r\n    CREATE domain IF NOT EXISTS jsonb AS other;\r\n\r\nThis seemed to work for me, and allowed me to successfully test my code against the entity.\r\n\r\nSource: https://objectpartners.com/2015/05/26/grails-postgresql-9-4-and-jsonb/","title":"How to map a JSON column with H2, JPA, and Hibernate","body":"<p>I just came across this problem working with the <code>JSONB</code> column type - the binary version of the <code>JSON</code> type, which doesn't map to <code>TEXT</code>.</p>\n\n<p>For future reference, you can define a custom type in H2 using <code>CREATE DOMAIN</code>, as follows:</p>\n\n<pre><code>CREATE domain IF NOT EXISTS jsonb AS other;\n</code></pre>\n\n<p>This seemed to work for me, and allowed me to successfully test my code against the entity.</p>\n\n<p>Source: <a href=\"https://objectpartners.com/2015/05/26/grails-postgresql-9-4-and-jsonb/\" rel=\"noreferrer\">https://objectpartners.com/2015/05/26/grails-postgresql-9-4-and-jsonb/</a></p>\n"},{"tags":[],"owner":{"account_id":212013,"reputation":166,"user_id":464570,"display_name":"Alex"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1550137169,"creation_date":1550137169,"answer_id":54687267,"question_id":39620317,"body_markdown":"H2 does not have the JSON data type.\r\n\r\nIn MySQL the JSON type is just an alias for the LONGTEXT data type so the actual data type for the column will be LONGTEXT.","title":"How to map a JSON column with H2, JPA, and Hibernate","body":"<p>H2 does not have the JSON data type.</p>\n\n<p>In MySQL the JSON type is just an alias for the LONGTEXT data type so the actual data type for the column will be LONGTEXT.</p>\n"},{"tags":[],"owner":{"account_id":3013496,"reputation":1803,"user_id":2556354,"accept_rate":62,"display_name":"madz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1570646354,"creation_date":1570646354,"answer_id":58310324,"question_id":39620317,"body_markdown":"In my case we were dealing with `PostgreSQL` `jsonb` type in production and `H2` for our tests. \r\n\r\nI could not test @n00dle &#39;s solution because apparently spring does not support executing a `SQL` script before `Hibernate`&#39;s `ddl-auto=update` for our tests so I used another way to solve this.\r\n\r\nHere is a [gist][1] for it.\r\n\r\nThe overall idea is to create two `package-info` files. \r\nOne for production and the other for tests and register different types (`JsonBinaryType.class` for production and `TextType.class` for tests) to handle them differently for `PostgreSQL` and `H2`\r\n\r\n  \r\n\r\n\r\n  [1]: https://gist.github.com/madz0/fad126864e234e93d7294809d7372a0d","title":"How to map a JSON column with H2, JPA, and Hibernate","body":"<p>In my case we were dealing with <code>PostgreSQL</code> <code>jsonb</code> type in production and <code>H2</code> for our tests. </p>\n\n<p>I could not test @n00dle 's solution because apparently spring does not support executing a <code>SQL</code> script before <code>Hibernate</code>'s <code>ddl-auto=update</code> for our tests so I used another way to solve this.</p>\n\n<p>Here is a <a href=\"https://gist.github.com/madz0/fad126864e234e93d7294809d7372a0d\" rel=\"noreferrer\">gist</a> for it.</p>\n\n<p>The overall idea is to create two <code>package-info</code> files. \nOne for production and the other for tests and register different types (<code>JsonBinaryType.class</code> for production and <code>TextType.class</code> for tests) to handle them differently for <code>PostgreSQL</code> and <code>H2</code></p>\n"},{"tags":[],"owner":{"account_id":3029163,"reputation":1026,"user_id":2568541,"display_name":"jchrbrt"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1583924957,"creation_date":1583924957,"answer_id":60634638,"question_id":39620317,"body_markdown":"A workaround is actually to create a custom column data type in H2 for the jsonb type, and put the query in the datasource url like this:\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb;INIT=create domain if not exists jsonb as text;MODE=PostgreSQL&quot;\r\n\r\nNow for tests and integration tests in particular, it would be preferable to use the same DB than your application, via [TestContainers][1] \r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://www.testcontainers.org/","title":"How to map a JSON column with H2, JPA, and Hibernate","body":"<p>A workaround is actually to create a custom column data type in H2 for the jsonb type, and put the query in the datasource url like this:</p>\n\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb;INIT=create domain if not exists jsonb as text;MODE=PostgreSQL\"\n</code></pre>\n\n<p>Now for tests and integration tests in particular, it would be preferable to use the same DB than your application, via <a href=\"https://www.testcontainers.org/\" rel=\"noreferrer\">TestContainers</a> </p>\n"},{"tags":[],"owner":{"account_id":93220,"reputation":3489,"user_id":255160,"accept_rate":50,"display_name":"Eduardo Pinheiro"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1584995763,"creation_date":1584995763,"answer_id":60821174,"question_id":39620317,"body_markdown":"My problem was with JSONB since H2 does not support it as was already mentioned. \r\n\r\nOne more problem is that when you insert a json, H2 transforms it into a [json object string][1] which makes jackson serialization fail. ex: &quot;{\\&quot;key\\&quot;: 3}&quot; instead of {&quot;key&quot;: 3} . One solution is to use FORMAT JSON when inserting the json, but then you need to have duplicate insert files if you are using flyway, for example.\r\n\r\nInspired by the [@madz][2] answer I came across with this solution:\r\n\r\n**Create a custom JsonbType (on production - e.g. main/java/com/app/types/JsonbType.java)**\r\n\r\n    import com.vladmihalcea.hibernate.type.json.JsonBinaryType;\r\n    \r\n    public class JsonbType extends JsonBinaryType {\r\n      private static final long serialVersionUID = 1L;\r\n    }\r\n\r\n\r\n**Create a custom JsonbType (on tests - e.g. test/java/com/app/types/JsonbType.java)**\r\n\r\n    import com.vladmihalcea.hibernate.type.json.JsonStringType;\r\n    \r\n    public class JsonbType extends JsonStringType {\r\n      private static final long serialVersionUID = 1L;\r\n      @Override\r\n      public String getName() {\r\n          return &quot;jsonb&quot;;\r\n      }\r\n    }\r\n\r\n\r\n**Create an alias type from JSONB to JSON only on tests (h2):**\r\n\r\n    -- only on H2 database\r\n    CREATE TYPE &quot;JSONB&quot; AS TEXT;\r\n\r\n note: I&#39;m using flyway which make it easy to do but you can follow [@jchrbrt][3] suggestion\r\n\r\n**Finally you declare the type on your entity model, as follows:** \r\n\r\n    import com.app.types.JsonbType;\r\n    \r\n    @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonbType.class)\r\n    @Entity(name = &quot;Translation&quot;)\r\n    @Table(name = &quot;Translation&quot;)\r\n    @Data\r\n    public class Translation {\r\n      @Type(type = &quot;jsonb&quot;)\r\n      @Column(name=&quot;translations&quot;)\r\n         private MySerializableCustomType translations; \r\n      }\r\n    }\r\n\r\nThat&#39;s it. I hope it helps someone.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/59677309/h2-database-json-field-hibernate-converter-exception\r\n  [2]: https://stackoverflow.com/a/58310324/255160\r\n  [3]: https://stackoverflow.com/a/60634638/255160","title":"How to map a JSON column with H2, JPA, and Hibernate","body":"<p>My problem was with JSONB since H2 does not support it as was already mentioned. </p>\n\n<p>One more problem is that when you insert a json, H2 transforms it into a <a href=\"https://stackoverflow.com/questions/59677309/h2-database-json-field-hibernate-converter-exception\">json object string</a> which makes jackson serialization fail. ex: \"{\\\"key\\\": 3}\" instead of {\"key\": 3} . One solution is to use FORMAT JSON when inserting the json, but then you need to have duplicate insert files if you are using flyway, for example.</p>\n\n<p>Inspired by the <a href=\"https://stackoverflow.com/a/58310324/255160\">@madz</a> answer I came across with this solution:</p>\n\n<p><strong>Create a custom JsonbType (on production - e.g. main/java/com/app/types/JsonbType.java)</strong></p>\n\n<pre><code>import com.vladmihalcea.hibernate.type.json.JsonBinaryType;\n\npublic class JsonbType extends JsonBinaryType {\n  private static final long serialVersionUID = 1L;\n}\n</code></pre>\n\n<p><strong>Create a custom JsonbType (on tests - e.g. test/java/com/app/types/JsonbType.java)</strong></p>\n\n<pre><code>import com.vladmihalcea.hibernate.type.json.JsonStringType;\n\npublic class JsonbType extends JsonStringType {\n  private static final long serialVersionUID = 1L;\n  @Override\n  public String getName() {\n      return \"jsonb\";\n  }\n}\n</code></pre>\n\n<p><strong>Create an alias type from JSONB to JSON only on tests (h2):</strong></p>\n\n<pre><code>-- only on H2 database\nCREATE TYPE \"JSONB\" AS TEXT;\n</code></pre>\n\n<p>note: I'm using flyway which make it easy to do but you can follow <a href=\"https://stackoverflow.com/a/60634638/255160\">@jchrbrt</a> suggestion</p>\n\n<p><strong>Finally you declare the type on your entity model, as follows:</strong> </p>\n\n<pre><code>import com.app.types.JsonbType;\n\n@TypeDef(name = \"jsonb\", typeClass = JsonbType.class)\n@Entity(name = \"Translation\")\n@Table(name = \"Translation\")\n@Data\npublic class Translation {\n  @Type(type = \"jsonb\")\n  @Column(name=\"translations\")\n     private MySerializableCustomType translations; \n  }\n}\n</code></pre>\n\n<p>That's it. I hope it helps someone.</p>\n"},{"tags":[],"owner":{"account_id":5425127,"reputation":133,"user_id":4317668,"display_name":"Elias J&#248;rgensen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585905700,"creation_date":1585556435,"answer_id":60926535,"question_id":39620317,"body_markdown":"I am in the same situation as [@madz][1], where we use Postgres in production and H2 for unit tests. In my case i found a bit more simple solution, i think.\r\nWe use Liquibase for database migrations, so here i made a conditional migration only to be run on H2, where i change the column type to H2&#39;s &quot;other&quot; type.\r\n\r\nWith the other type, H2 just stores it in the database and doesn&#39;t think twice about how the data is formatted etc. This does require however that you are not doing anything with the JSON directly in the database, and only in your application.\r\n\r\nMy migration looks like this:\r\n\r\n      # Use other type in H2, as jsonb is not supported\r\n      - changeSet:\r\n          id: 42\r\n          author: Elias J&#248;rgensen\r\n          dbms: h2\r\n          changes:\r\n            - modifyDataType:\r\n                tableName: myTableName\r\n                columnName: config\r\n                newDataType: other\r\n\r\nAlong with this, i added the following to my test datasource:\r\n\r\n    INIT=create domain if not exists jsonb as text;\r\n\r\n  [1]: https://stackoverflow.com/a/58310324/4317668","title":"How to map a JSON column with H2, JPA, and Hibernate","body":"<p>I am in the same situation as <a href=\"https://stackoverflow.com/a/58310324/4317668\">@madz</a>, where we use Postgres in production and H2 for unit tests. In my case i found a bit more simple solution, i think.\nWe use Liquibase for database migrations, so here i made a conditional migration only to be run on H2, where i change the column type to H2's \"other\" type.</p>\n\n<p>With the other type, H2 just stores it in the database and doesn't think twice about how the data is formatted etc. This does require however that you are not doing anything with the JSON directly in the database, and only in your application.</p>\n\n<p>My migration looks like this:</p>\n\n<pre><code>  # Use other type in H2, as jsonb is not supported\n  - changeSet:\n      id: 42\n      author: Elias Jrgensen\n      dbms: h2\n      changes:\n        - modifyDataType:\n            tableName: myTableName\n            columnName: config\n            newDataType: other\n</code></pre>\n\n<p>Along with this, i added the following to my test datasource:</p>\n\n<pre><code>INIT=create domain if not exists jsonb as text;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1044626,"reputation":1013,"user_id":1049899,"accept_rate":50,"display_name":"zjor"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1599661355,"creation_date":1599661355,"answer_id":63813698,"question_id":39620317,"body_markdown":"This is how I solved it in Spring context:\r\n\r\n1. Create `/src/test/resources/init.sql`\r\n```\r\nCREATE TYPE &quot;JSONB&quot; AS json;\r\n```\r\n\r\n2. Configure H2 datasource as follows `/src/test/resources/application-test.yml`\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: org.h2.Driver\r\n    url: jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;INIT=RUNSCRIPT FROM &#39;classpath:init.sql&#39;\r\n    username: sa\r\n    password: sa\r\n```\r\n\r\n[Source article][1]\r\n\r\n\r\n  [1]: https://medium.com/@zjor/support-of-jsonb-in-h2-test-dd5113c11baa","title":"How to map a JSON column with H2, JPA, and Hibernate","body":"<p>This is how I solved it in Spring context:</p>\n<ol>\n<li>Create <code>/src/test/resources/init.sql</code></li>\n</ol>\n<pre><code>CREATE TYPE &quot;JSONB&quot; AS json;\n</code></pre>\n<ol start=\"2\">\n<li>Configure H2 datasource as follows <code>/src/test/resources/application-test.yml</code></li>\n</ol>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.h2.Driver\n    url: jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;INIT=RUNSCRIPT FROM 'classpath:init.sql'\n    username: sa\n    password: sa\n</code></pre>\n<p><a href=\"https://medium.com/@zjor/support-of-jsonb-in-h2-test-dd5113c11baa\" rel=\"noreferrer\">Source article</a></p>\n"},{"tags":[],"owner":{"account_id":14836549,"reputation":21,"user_id":10714479,"display_name":"klinec"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599999204,"creation_date":1599999204,"answer_id":63870632,"question_id":39620317,"body_markdown":"Example with Kotlin + Spring + Hibernate + Postgres + jsonb column\r\n\r\nCreate the entity:\r\n```kotlin\r\n@Entity\r\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType::class)\r\nclass MyEntity(\r\n    @Type(type = &quot;jsonb&quot;)\r\n    @Column(columnDefinition = &quot;jsonb&quot;)\r\n    val myConfig: String,\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    val id: Long = 0,\r\n)\r\n```\r\nJsonBinaryType.class comes from https://github.com/vladmihalcea/hibernate-types\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.13&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nConfigure your H2 database in spring profile. The key line is this: `INIT=create domain if not exists jsonb as other`\r\n```\r\nspring:\r\n    profiles: h2\r\n\r\n    datasource:\r\n        driver-class-name: org.h2.Driver\r\n        url: jdbc:h2:mem:testdb;INIT=create domain if not exists jsonb as other;MODE=PostgreSQL;DB_CLOSE_DELAY=-1\r\n        username: sa\r\n        password: sa\r\n\r\nspring.jpa.hibernate.ddl-auto: create\r\n```\r\nWrite the test:\r\n```kotlin\r\n// Postgres test\r\n@SpringBootTest\r\nclass ExampleJsonbPostgres(@Autowired private val myEntityRepository: MyEntityRepository) {\r\n    @Test\r\n    fun `verify we can write and read jsonb`() {\r\n        val r = myEntityRepository.save(MyEntity(&quot;&quot;&quot;{&quot;hello&quot;: &quot;world&quot;}&quot;&quot;&quot;))\r\n        assertThat(myEntityRepository.findById(r.id).get().config).isEqualTo(&quot;&quot;&quot;{&quot;hello&quot;: &quot;world&quot;}&quot;&quot;&quot;)\r\n    }\r\n}\r\n\r\n// H2 test\r\n@ActiveProfiles(&quot;h2&quot;)\r\n@SpringBootTest\r\nclass ExampleJsonbH2(@Autowired private val myEntityRepository: MyEntityRepository) {\r\n    @Test\r\n    fun `verify we can write and read jsonb`() {\r\n        val r = myEntityRepository.save(MyEntity(&quot;&quot;&quot;{&quot;hello&quot;: &quot;world&quot;}&quot;&quot;&quot;))\r\n        assertThat(myEntityRepository.findById(r.id).get().config).isEqualTo(&quot;&quot;&quot;{&quot;hello&quot;: &quot;world&quot;}&quot;&quot;&quot;)\r\n    }\r\n}\r\n```\r\nAlternatively you can try to define custom type per database in hibernate XML as described here: https://stackoverflow.com/a/59753980/10714479","title":"How to map a JSON column with H2, JPA, and Hibernate","body":"<p>Example with Kotlin + Spring + Hibernate + Postgres + jsonb column</p>\n<p>Create the entity:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType::class)\nclass MyEntity(\n    @Type(type = &quot;jsonb&quot;)\n    @Column(columnDefinition = &quot;jsonb&quot;)\n    val myConfig: String,\n\n    @Id\n    @GeneratedValue\n    val id: Long = 0,\n)\n</code></pre>\n<p>JsonBinaryType.class comes from <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"nofollow noreferrer\">https://github.com/vladmihalcea/hibernate-types</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n    &lt;version&gt;2.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Configure your H2 database in spring profile. The key line is this: <code>INIT=create domain if not exists jsonb as other</code></p>\n<pre><code>spring:\n    profiles: h2\n\n    datasource:\n        driver-class-name: org.h2.Driver\n        url: jdbc:h2:mem:testdb;INIT=create domain if not exists jsonb as other;MODE=PostgreSQL;DB_CLOSE_DELAY=-1\n        username: sa\n        password: sa\n\nspring.jpa.hibernate.ddl-auto: create\n</code></pre>\n<p>Write the test:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Postgres test\n@SpringBootTest\nclass ExampleJsonbPostgres(@Autowired private val myEntityRepository: MyEntityRepository) {\n    @Test\n    fun `verify we can write and read jsonb`() {\n        val r = myEntityRepository.save(MyEntity(&quot;&quot;&quot;{&quot;hello&quot;: &quot;world&quot;}&quot;&quot;&quot;))\n        assertThat(myEntityRepository.findById(r.id).get().config).isEqualTo(&quot;&quot;&quot;{&quot;hello&quot;: &quot;world&quot;}&quot;&quot;&quot;)\n    }\n}\n\n// H2 test\n@ActiveProfiles(&quot;h2&quot;)\n@SpringBootTest\nclass ExampleJsonbH2(@Autowired private val myEntityRepository: MyEntityRepository) {\n    @Test\n    fun `verify we can write and read jsonb`() {\n        val r = myEntityRepository.save(MyEntity(&quot;&quot;&quot;{&quot;hello&quot;: &quot;world&quot;}&quot;&quot;&quot;))\n        assertThat(myEntityRepository.findById(r.id).get().config).isEqualTo(&quot;&quot;&quot;{&quot;hello&quot;: &quot;world&quot;}&quot;&quot;&quot;)\n    }\n}\n</code></pre>\n<p>Alternatively you can try to define custom type per database in hibernate XML as described here: <a href=\"https://stackoverflow.com/a/59753980/10714479\">https://stackoverflow.com/a/59753980/10714479</a></p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1677211243,"creation_date":1620634771,"answer_id":67467069,"question_id":39620317,"body_markdown":"Champagne time! &#127870;\r\n\r\nStarting with the version `2.11`, the [Hypersistence Utils project](https://github.com/vladmihalcea/hypersistence-utils) now provides a generic [`JsonType`](https://github.com/vladmihalcea/hypersistence-utils/blob/master/hypersistence-utils-hibernate-55/src/main/java/io/hypersistence/utils/hibernate/type/json/JsonType.java) that works auto-magically with:\r\n\r\n - Oracle, \r\n - SQL Server, \r\n - PostgreSQL, \r\n - MySQL, and \r\n - H2.\r\n\r\nOracle\r\n------\r\n\r\n    @Entity(name = &quot;Book&quot;)\r\n    @Table(name = &quot;book&quot;)\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\r\n    public class Book {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate Long id;\r\n    \r\n    \t@NaturalId\r\n    \t@Column(length = 15)\r\n    \tprivate String isbn;\r\n    \r\n    \t@Type(type = &quot;json&quot;)\r\n    \t@Column(columnDefinition = &quot;VARCHAR2(1000) CONSTRAINT IS_VALID_JSON CHECK (properties IS JSON)&quot;)\r\n    \tprivate Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n    }\r\n\r\nSQL Server\r\n----------\r\n\r\n    @Entity(name = &quot;Book&quot;)\r\n    @Table(name = &quot;book&quot;)\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\r\n    public class Book {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate Long id;\r\n    \r\n    \t@NaturalId\r\n    \t@Column(length = 15)\r\n    \tprivate String isbn;\r\n    \r\n    \t@Type(type = &quot;json&quot;)\r\n        @Column(columnDefinition = &quot;NVARCHAR(1000) CHECK(ISJSON(properties) = 1)&quot;)\r\n    \tprivate Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n    }\r\n\r\nPostgreSQL\r\n----------\r\n\r\n    @Entity(name = &quot;Book&quot;)\r\n    @Table(name = &quot;book&quot;)\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\r\n    public class Book {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate Long id;\r\n    \r\n    \t@NaturalId\r\n    \t@Column(length = 15)\r\n    \tprivate String isbn;\r\n    \r\n    \t@Type(type = &quot;json&quot;)\r\n        @Column(columnDefinition = &quot;jsonb&quot;)\r\n    \tprivate Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n    }\r\n\r\nMySQL\r\n-----\r\n\r\n    @Entity(name = &quot;Book&quot;)\r\n    @Table(name = &quot;book&quot;)\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\r\n    public class Book {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate Long id;\r\n    \r\n    \t@NaturalId\r\n    \t@Column(length = 15)\r\n    \tprivate String isbn;\r\n    \r\n    \t@Type(type = &quot;json&quot;)\r\n        @Column(columnDefinition = &quot;json&quot;)\r\n    \tprivate Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n    }\r\n\r\nH2\r\n--\r\n\r\n    @Entity(name = &quot;Book&quot;)\r\n    @Table(name = &quot;book&quot;)\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\r\n    public class Book {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate Long id;\r\n    \r\n    \t@NaturalId\r\n    \t@Column(length = 15)\r\n    \tprivate String isbn;\r\n    \r\n    \t@Type(type = &quot;json&quot;)\r\n    \t@Column(columnDefinition = &quot;json&quot;)\r\n    \tprivate Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n    }\r\n\r\nWorks like a charm!\r\n\r\nSo, no more hacks and workarounds, the `JsonType` will work no matter what DB you are using.\r\n\r\nIf you want to see it in action, check out [this test folder on GitHub](https://github.com/vladmihalcea/hypersistence-utils/tree/master/hypersistence-utils-hibernate-55/src/test/java/io/hypersistence/utils/hibernate/type/json/generic).\r\n\r\n","title":"How to map a JSON column with H2, JPA, and Hibernate","body":"<p>Champagne time! </p>\n<p>Starting with the version <code>2.11</code>, the <a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"noreferrer\">Hypersistence Utils project</a> now provides a generic <a href=\"https://github.com/vladmihalcea/hypersistence-utils/blob/master/hypersistence-utils-hibernate-55/src/main/java/io/hypersistence/utils/hibernate/type/json/JsonType.java\" rel=\"noreferrer\"><code>JsonType</code></a> that works auto-magically with:</p>\n<ul>\n<li>Oracle,</li>\n<li>SQL Server,</li>\n<li>PostgreSQL,</li>\n<li>MySQL, and</li>\n<li>H2.</li>\n</ul>\n<h2>Oracle</h2>\n<pre><code>@Entity(name = &quot;Book&quot;)\n@Table(name = &quot;book&quot;)\n@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\npublic class Book {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @NaturalId\n    @Column(length = 15)\n    private String isbn;\n\n    @Type(type = &quot;json&quot;)\n    @Column(columnDefinition = &quot;VARCHAR2(1000) CONSTRAINT IS_VALID_JSON CHECK (properties IS JSON)&quot;)\n    private Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n}\n</code></pre>\n<h2>SQL Server</h2>\n<pre><code>@Entity(name = &quot;Book&quot;)\n@Table(name = &quot;book&quot;)\n@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\npublic class Book {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @NaturalId\n    @Column(length = 15)\n    private String isbn;\n\n    @Type(type = &quot;json&quot;)\n    @Column(columnDefinition = &quot;NVARCHAR(1000) CHECK(ISJSON(properties) = 1)&quot;)\n    private Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n}\n</code></pre>\n<h2>PostgreSQL</h2>\n<pre><code>@Entity(name = &quot;Book&quot;)\n@Table(name = &quot;book&quot;)\n@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\npublic class Book {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @NaturalId\n    @Column(length = 15)\n    private String isbn;\n\n    @Type(type = &quot;json&quot;)\n    @Column(columnDefinition = &quot;jsonb&quot;)\n    private Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n}\n</code></pre>\n<h2>MySQL</h2>\n<pre><code>@Entity(name = &quot;Book&quot;)\n@Table(name = &quot;book&quot;)\n@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\npublic class Book {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @NaturalId\n    @Column(length = 15)\n    private String isbn;\n\n    @Type(type = &quot;json&quot;)\n    @Column(columnDefinition = &quot;json&quot;)\n    private Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n}\n</code></pre>\n<h2>H2</h2>\n<pre><code>@Entity(name = &quot;Book&quot;)\n@Table(name = &quot;book&quot;)\n@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\npublic class Book {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @NaturalId\n    @Column(length = 15)\n    private String isbn;\n\n    @Type(type = &quot;json&quot;)\n    @Column(columnDefinition = &quot;json&quot;)\n    private Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n}\n</code></pre>\n<p>Works like a charm!</p>\n<p>So, no more hacks and workarounds, the <code>JsonType</code> will work no matter what DB you are using.</p>\n<p>If you want to see it in action, check out <a href=\"https://github.com/vladmihalcea/hypersistence-utils/tree/master/hypersistence-utils-hibernate-55/src/test/java/io/hypersistence/utils/hibernate/type/json/generic\" rel=\"noreferrer\">this test folder on GitHub</a>.</p>\n"},{"tags":[],"owner":{"account_id":8756721,"reputation":1016,"user_id":6548090,"display_name":"Ilya Sazonov"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1620645946,"creation_date":1620645946,"answer_id":67469577,"question_id":39620317,"body_markdown":"The correct way of avoiding such things is using **liquibase** or **flywaydb** to evolve your schema and never ever allow Hibernate to create it.","title":"How to map a JSON column with H2, JPA, and Hibernate","body":"<p>The correct way of avoiding such things is using <strong>liquibase</strong> or <strong>flywaydb</strong> to evolve your schema and never ever allow Hibernate to create it.</p>\n"}],"owner":{"account_id":5132755,"reputation":563,"user_id":4112373,"display_name":"earandes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87408,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":42787089,"answer_count":12,"score":56,"last_activity_date":1677211243,"creation_date":1474470558,"question_id":39620317,"body_markdown":"I use in application MySQL 5.7 and I have JSON columns. When I try running my integration tests don&#39;t work because the H2 database can&#39;t create the table. This is the error:\r\n\r\n    2016-09-21 16:35:29.729 ERROR 10981 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000389: Unsuccessful: create table payment_transaction (id bigint generated by default as identity, creation_date timestamp not null, payload json, period integer, public_id varchar(255) not null, state varchar(255) not null, subscription_id_zuora varchar(255), type varchar(255) not null, user_id bigint not null, primary key (id))\r\n    2016-09-21 16:35:29.730 ERROR 10981 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : Unknown data type: &quot;JSON&quot;; SQL statement:\r\n\r\n\r\nThis is the entity class.\r\n\r\n    @Table(name = &quot;payment_transaction&quot;)\r\n    public class PaymentTransaction extends DomainObject implements Serializable {\r\n    \r\n        @Convert(converter = JpaPayloadConverter.class)\r\n        @Column(name = &quot;payload&quot;, insertable = true, updatable = true, nullable = true, columnDefinition = &quot;json&quot;)\r\n        private Payload payload;\r\n    \r\n        public Payload getPayload() {\r\n            return payload;\r\n        }\r\n    \r\n        public void setPayload(Payload payload) {\r\n            this.payload = payload;\r\n        }\r\n    }\r\n\r\nAnd the subclass:\r\n\r\n    public class Payload implements Serializable {\r\n    \r\n        private Long userId;\r\n        private SubscriptionType type;\r\n        private String paymentId;\r\n        private List&lt;String&gt; ratePlanId;\r\n        private Integer period;\r\n    \r\n        public Long getUserId() {\r\n            return userId;\r\n        }\r\n    \r\n        public void setUserId(Long userId) {\r\n            this.userId = userId;\r\n        }\r\n    \r\n        public SubscriptionType getType() {\r\n            return type;\r\n        }\r\n    \r\n        public void setType(SubscriptionType type) {\r\n            this.type = type;\r\n        }\r\n    \r\n        public String getPaymentId() {\r\n            return paymentId;\r\n        }\r\n    \r\n        public void setPaymentId(String paymentId) {\r\n            this.paymentId = paymentId;\r\n        }\r\n    \r\n        public List&lt;String&gt; getRatePlanId() {\r\n            return ratePlanId;\r\n        }\r\n    \r\n        public void setRatePlanId(List&lt;String&gt; ratePlanId) {\r\n            this.ratePlanId = ratePlanId;\r\n        }\r\n    \r\n        public Integer getPeriod() {\r\n            return period;\r\n        }\r\n    \r\n        public void setPeriod(Integer period) {\r\n            this.period = period;\r\n        }\r\n    \r\n    }\r\n\r\nAnd this converter for insert in database:\r\n\r\n    public class JpaPayloadConverter implements AttributeConverter&lt;Payload, String&gt; {\r\n    \r\n        // ObjectMapper is thread safe\r\n        private final static ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n        private Logger log = LoggerFactory.getLogger(getClass());\r\n    \r\n        @Override\r\n        public String convertToDatabaseColumn(Payload attribute) {\r\n            String jsonString = &quot;&quot;;\r\n            try {\r\n                log.debug(&quot;Start convertToDatabaseColumn&quot;);\r\n    \r\n                // convert list of POJO to json\r\n                jsonString = objectMapper.writeValueAsString(attribute);\r\n                log.debug(&quot;convertToDatabaseColumn&quot; + jsonString);\r\n    \r\n            } catch (JsonProcessingException ex) {\r\n                log.error(ex.getMessage());\r\n            }\r\n            return jsonString;\r\n        }\r\n    \r\n        @Override\r\n        public Payload convertToEntityAttribute(String dbData) {\r\n    \r\n            Payload payload = new Payload();\r\n            try {\r\n                log.debug(&quot;Start convertToEntityAttribute&quot;);\r\n    \r\n                // convert json to list of POJO\r\n                payload = objectMapper.readValue(dbData, Payload.class);\r\n                log.debug(&quot;JsonDocumentsConverter.convertToDatabaseColumn&quot; + payload);\r\n    \r\n            } catch (IOException ex) {\r\n                log.error(ex.getMessage());\r\n            }\r\n            return payload;\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"How to map a JSON column with H2, JPA, and Hibernate","body":"<p>I use in application MySQL 5.7 and I have JSON columns. When I try running my integration tests don't work because the H2 database can't create the table. This is the error:</p>\n\n<pre><code>2016-09-21 16:35:29.729 ERROR 10981 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000389: Unsuccessful: create table payment_transaction (id bigint generated by default as identity, creation_date timestamp not null, payload json, period integer, public_id varchar(255) not null, state varchar(255) not null, subscription_id_zuora varchar(255), type varchar(255) not null, user_id bigint not null, primary key (id))\n2016-09-21 16:35:29.730 ERROR 10981 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : Unknown data type: \"JSON\"; SQL statement:\n</code></pre>\n\n<p>This is the entity class.</p>\n\n<pre><code>@Table(name = \"payment_transaction\")\npublic class PaymentTransaction extends DomainObject implements Serializable {\n\n    @Convert(converter = JpaPayloadConverter.class)\n    @Column(name = \"payload\", insertable = true, updatable = true, nullable = true, columnDefinition = \"json\")\n    private Payload payload;\n\n    public Payload getPayload() {\n        return payload;\n    }\n\n    public void setPayload(Payload payload) {\n        this.payload = payload;\n    }\n}\n</code></pre>\n\n<p>And the subclass:</p>\n\n<pre><code>public class Payload implements Serializable {\n\n    private Long userId;\n    private SubscriptionType type;\n    private String paymentId;\n    private List&lt;String&gt; ratePlanId;\n    private Integer period;\n\n    public Long getUserId() {\n        return userId;\n    }\n\n    public void setUserId(Long userId) {\n        this.userId = userId;\n    }\n\n    public SubscriptionType getType() {\n        return type;\n    }\n\n    public void setType(SubscriptionType type) {\n        this.type = type;\n    }\n\n    public String getPaymentId() {\n        return paymentId;\n    }\n\n    public void setPaymentId(String paymentId) {\n        this.paymentId = paymentId;\n    }\n\n    public List&lt;String&gt; getRatePlanId() {\n        return ratePlanId;\n    }\n\n    public void setRatePlanId(List&lt;String&gt; ratePlanId) {\n        this.ratePlanId = ratePlanId;\n    }\n\n    public Integer getPeriod() {\n        return period;\n    }\n\n    public void setPeriod(Integer period) {\n        this.period = period;\n    }\n\n}\n</code></pre>\n\n<p>And this converter for insert in database:</p>\n\n<pre><code>public class JpaPayloadConverter implements AttributeConverter&lt;Payload, String&gt; {\n\n    // ObjectMapper is thread safe\n    private final static ObjectMapper objectMapper = new ObjectMapper();\n\n    private Logger log = LoggerFactory.getLogger(getClass());\n\n    @Override\n    public String convertToDatabaseColumn(Payload attribute) {\n        String jsonString = \"\";\n        try {\n            log.debug(\"Start convertToDatabaseColumn\");\n\n            // convert list of POJO to json\n            jsonString = objectMapper.writeValueAsString(attribute);\n            log.debug(\"convertToDatabaseColumn\" + jsonString);\n\n        } catch (JsonProcessingException ex) {\n            log.error(ex.getMessage());\n        }\n        return jsonString;\n    }\n\n    @Override\n    public Payload convertToEntityAttribute(String dbData) {\n\n        Payload payload = new Payload();\n        try {\n            log.debug(\"Start convertToEntityAttribute\");\n\n            // convert json to list of POJO\n            payload = objectMapper.readValue(dbData, Payload.class);\n            log.debug(\"JsonDocumentsConverter.convertToDatabaseColumn\" + payload);\n\n        } catch (IOException ex) {\n            log.error(ex.getMessage());\n        }\n        return payload;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa","many-to-many"],"answers":[{"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676647744,"creation_date":1676647744,"answer_id":75486230,"question_id":75454065,"body_markdown":"You can make use of  [@MapsId][1];\r\nPerhaps this is what you are tying to achieve.\r\n\r\n\r\n    public class TreeNode {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer treeNodeId;\r\n        @ManyToOne\r\n        @MapsId(&quot;treeIdentifier&quot;)\r\n        private Tree tree;\r\n        @ManyToOne\r\n        @MapsId(&quot;nodeIdentifier&quot;)\r\n        private Node node;\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/api/javax/persistence/MapsId.html","title":"ManyToMany Composite Keys in Both tables that create the ManyToMany Relation how to annotate them","body":"<p>You can make use of  <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/MapsId.html\" rel=\"nofollow noreferrer\">@MapsId</a>;\nPerhaps this is what you are tying to achieve.</p>\n<pre><code>public class TreeNode {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer treeNodeId;\n    @ManyToOne\n    @MapsId(&quot;treeIdentifier&quot;)\n    private Tree tree;\n    @ManyToOne\n    @MapsId(&quot;nodeIdentifier&quot;)\n    private Node node;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yldz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676659257,"creation_date":1676659257,"answer_id":75488159,"question_id":75454065,"body_markdown":"I would suggest to use a bridge entity and create `one-to-many` and `many-to-one` relationship between `Tree`, `TreeNode` and `Node` entities as shown below:\r\n\r\n***Tree:***\r\n\r\n```\r\n@Entity\r\npublic class Tree {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    // other fields, getter/setter, constructors, equals and hashCode methods ...\r\n\r\n    @OneToMany(mappedBy = &quot;tree&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;TreeNode&gt; treeNodes = new ArrayList&lt;&gt;();\r\n\r\n    public void addTreeNode(TreeNode treeNode) {\r\n        treeNodes.add(treeNode);\r\n        treeNode.setTree(this);\r\n    }\r\n\r\n    public void removeTreeNode(TreeNode treeNode) {\r\n        treeNodes.remove(treeNode);\r\n        treeNode.setTree(null);\r\n    }\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***TreeNode:***\r\n\r\n```\r\n@Entity\r\npublic class TreeNode {\r\n\r\n    @EmbeddedId\r\n    private TreeNodeId treeNodeId = new TreeNodeId();\r\n\r\n    // other fields, getter/setter, constructors, equals and hashCode methods ...\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;treeId&quot;)\r\n    @JoinColumn(name = &quot;tree_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Tree tree;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;nodeId&quot;)\r\n    @JoinColumn(name = &quot;node_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Node node;\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***TreeNodeId:***\r\n\r\n```\r\n@Embeddable\r\npublic class TreeNodeId implements Serializable {\r\n\r\n    @Column(name = &quot;tree_id&quot;, nullable = false)\r\n    private Long treeId;\r\n\r\n    @Column(name = &quot;node_id&quot;, nullable = false)\r\n    private Long nodeId;\r\n\r\n    // getter/setter, equals and hashCode methods ...\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***Node:***\r\n\r\n```\r\n@Entity\r\npublic class Node {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    // other fields, getter/setter, constructors, equals and hashCode methods ...\r\n\r\n    @OneToMany(mappedBy = &quot;node&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;TreeNode&gt; treeNodes = new HashSet&lt;&gt;();\r\n\r\n    public void addTreeNode(TreeNode treeNode) {\r\n        treeNodes.add(treeNode);\r\n        treeNode.setNode(this);\r\n    }\r\n\r\n    public void removeTreeNode(TreeNode treeNode) {\r\n        treeNodes.remove(treeNode);\r\n        treeNode.setNode(null);\r\n    }\r\n}\r\n```","title":"ManyToMany Composite Keys in Both tables that create the ManyToMany Relation how to annotate them","body":"<p>I would suggest to use a bridge entity and create <code>one-to-many</code> and <code>many-to-one</code> relationship between <code>Tree</code>, <code>TreeNode</code> and <code>Node</code> entities as shown below:</p>\n<p><em><strong>Tree:</strong></em></p>\n<pre><code>@Entity\npublic class Tree {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    // other fields, getter/setter, constructors, equals and hashCode methods ...\n\n    @OneToMany(mappedBy = &quot;tree&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;TreeNode&gt; treeNodes = new ArrayList&lt;&gt;();\n\n    public void addTreeNode(TreeNode treeNode) {\n        treeNodes.add(treeNode);\n        treeNode.setTree(this);\n    }\n\n    public void removeTreeNode(TreeNode treeNode) {\n        treeNodes.remove(treeNode);\n        treeNode.setTree(null);\n    }\n}\n</code></pre>\n<br/>\n<p><em><strong>TreeNode:</strong></em></p>\n<pre><code>@Entity\npublic class TreeNode {\n\n    @EmbeddedId\n    private TreeNodeId treeNodeId = new TreeNodeId();\n\n    // other fields, getter/setter, constructors, equals and hashCode methods ...\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;treeId&quot;)\n    @JoinColumn(name = &quot;tree_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Tree tree;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;nodeId&quot;)\n    @JoinColumn(name = &quot;node_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Node node;\n}\n</code></pre>\n<br/>\n<p><em><strong>TreeNodeId:</strong></em></p>\n<pre><code>@Embeddable\npublic class TreeNodeId implements Serializable {\n\n    @Column(name = &quot;tree_id&quot;, nullable = false)\n    private Long treeId;\n\n    @Column(name = &quot;node_id&quot;, nullable = false)\n    private Long nodeId;\n\n    // getter/setter, equals and hashCode methods ...\n}\n</code></pre>\n<br/>\n<p><em><strong>Node:</strong></em></p>\n<pre><code>@Entity\npublic class Node {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    // other fields, getter/setter, constructors, equals and hashCode methods ...\n\n    @OneToMany(mappedBy = &quot;node&quot;, cascade = CascadeType.ALL)\n    private Set&lt;TreeNode&gt; treeNodes = new HashSet&lt;&gt;();\n\n    public void addTreeNode(TreeNode treeNode) {\n        treeNodes.add(treeNode);\n        treeNode.setNode(this);\n    }\n\n    public void removeTreeNode(TreeNode treeNode) {\n        treeNodes.remove(treeNode);\n        treeNode.setNode(null);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5693972,"reputation":386,"user_id":4501049,"display_name":"Raynoceros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677210657,"creation_date":1677203787,"answer_id":75551976,"question_id":75454065,"body_markdown":"You can use the `@ManyToMany` annotation to establish the many-to-many relationship between the `Tree` and `Node` entities without using a bridge entity:\r\n\r\nTree:\r\n\r\n    @Entity\r\n    @Table(name = &quot;tree&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\r\n    public class Tree {\r\n        @EmbeddedId\r\n        private TreeIdentifier treeIdentifier;\r\n        private LocalDateTime creationDate;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;tree_node&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;tree_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;node_id&quot;)\r\n        )\r\n        private List&lt;Node&gt; nodes;\r\n    }\r\n\r\nNode:\r\n\r\n    @Entity\r\n    @Table(name = &quot;node&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class) \r\n    public class Node {\r\n        @EmbeddedId\r\n        private NodeIdentifier nodeIdentifier;\r\n        private Long nodePosition;\r\n    \r\n        @ManyToMany(mappedBy = &quot;nodes&quot;)\r\n        private List&lt;Tree&gt; trees;\r\n    }\r\n\r\nIn the `Tree` class, a `@ManyToMany` annotation to define the many-to-many relationship with the `Node` class. Specified the `@JoinTable` annotation to define the join table name and the join columns that link the `Tree` entity to the join table. The `inverseJoinColumns` attribute specifies the join columns that link the `Node` entity to the join table.\r\n\r\nIn the `Node` class, a `@ManyToMany` annotation with the `mappedBy` attribute, which tells `JPA` that the `nodes` field is the inverse side of the relationship and that the owning side is the `Tree` entity. This avoids creating a separate join entity to represent the many-to-many association.\r\n\r\nUpdate:\r\n\r\n    @Entity\r\n    @Table(name = &quot;tree_node&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\r\n    public class TreeNode {\r\n        @EmbeddedId\r\n        private TreeNodeId treeNodeId;\r\n        \r\n        @MapsId(&quot;treeId&quot;)\r\n        @ManyToOne\r\n        private Tree tree;\r\n        \r\n        @MapsId(&quot;nodeId&quot;)\r\n        @ManyToOne\r\n        private Node node;\r\n    }\r\n    \r\n    @Embeddable\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\r\n    public class TreeNodeId implements Serializable {\r\n        private String treeId;\r\n        private String nodeId;\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(treeId, nodeId);\r\n        }\r\n        \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (this == obj)\r\n                return true;\r\n            if (obj == null || getClass() != obj.getClass())\r\n                return false;\r\n            TreeNodeId that = (TreeNodeId) obj;\r\n            return Objects.equals(treeId, that.treeId) &amp;&amp; Objects.equals(nodeId, that.nodeId);\r\n        }\r\n    }\r\n\r\n`TreeNode` has a composite primary key `TreeNodeId` that consists of the primary keys of both `Tree` and `Node` entities. The `tree` and `node` associations are mapped using `@MapsId`, which tells `JPA` to use the same primary key as the `TreeNodeId`","title":"ManyToMany Composite Keys in Both tables that create the ManyToMany Relation how to annotate them","body":"<p>You can use the <code>@ManyToMany</code> annotation to establish the many-to-many relationship between the <code>Tree</code> and <code>Node</code> entities without using a bridge entity:</p>\n<p>Tree:</p>\n<pre><code>@Entity\n@Table(name = &quot;tree&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\npublic class Tree {\n    @EmbeddedId\n    private TreeIdentifier treeIdentifier;\n    private LocalDateTime creationDate;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;tree_node&quot;,\n            joinColumns = @JoinColumn(name = &quot;tree_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;node_id&quot;)\n    )\n    private List&lt;Node&gt; nodes;\n}\n</code></pre>\n<p>Node:</p>\n<pre><code>@Entity\n@Table(name = &quot;node&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class) \npublic class Node {\n    @EmbeddedId\n    private NodeIdentifier nodeIdentifier;\n    private Long nodePosition;\n\n    @ManyToMany(mappedBy = &quot;nodes&quot;)\n    private List&lt;Tree&gt; trees;\n}\n</code></pre>\n<p>In the <code>Tree</code> class, a <code>@ManyToMany</code> annotation to define the many-to-many relationship with the <code>Node</code> class. Specified the <code>@JoinTable</code> annotation to define the join table name and the join columns that link the <code>Tree</code> entity to the join table. The <code>inverseJoinColumns</code> attribute specifies the join columns that link the <code>Node</code> entity to the join table.</p>\n<p>In the <code>Node</code> class, a <code>@ManyToMany</code> annotation with the <code>mappedBy</code> attribute, which tells <code>JPA</code> that the <code>nodes</code> field is the inverse side of the relationship and that the owning side is the <code>Tree</code> entity. This avoids creating a separate join entity to represent the many-to-many association.</p>\n<p>Update:</p>\n<pre><code>@Entity\n@Table(name = &quot;tree_node&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\npublic class TreeNode {\n    @EmbeddedId\n    private TreeNodeId treeNodeId;\n    \n    @MapsId(&quot;treeId&quot;)\n    @ManyToOne\n    private Tree tree;\n    \n    @MapsId(&quot;nodeId&quot;)\n    @ManyToOne\n    private Node node;\n}\n\n@Embeddable\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\npublic class TreeNodeId implements Serializable {\n    private String treeId;\n    private String nodeId;\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(treeId, nodeId);\n    }\n    \n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null || getClass() != obj.getClass())\n            return false;\n        TreeNodeId that = (TreeNodeId) obj;\n        return Objects.equals(treeId, that.treeId) &amp;&amp; Objects.equals(nodeId, that.nodeId);\n    }\n}\n</code></pre>\n<p><code>TreeNode</code> has a composite primary key <code>TreeNodeId</code> that consists of the primary keys of both <code>Tree</code> and <code>Node</code> entities. The <code>tree</code> and <code>node</code> associations are mapped using <code>@MapsId</code>, which tells <code>JPA</code> to use the same primary key as the <code>TreeNodeId</code></p>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677210657,"creation_date":1676416006,"question_id":75454065,"body_markdown":"I have a many to many relation between Trees and Nodes: \r\n\r\n* Tree can have many nodes.\r\n* Node can be in many trees.\r\n\r\nI also have composite primary key in the Tree table and also in the Node table.\r\n\r\nSo my model classes look like so:\r\n\r\n**Tree**:\r\n\r\n    @Entity\r\n    @Table(name = &quot;tree&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\r\n    public class Tree {\r\n    \t@EmbeddedId\r\n    \tprivate TreeIdentifier treeIdentifier;\r\n    \tprivate LocalDateTime creationDate;\r\n    }\r\n\r\n**TreeIdentifier (this is the primary key of the Tree):**\r\n\r\n    @Embeddable\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\r\n    public class TreeIdentifier implements Serializable {\r\n    \r\n    \tprivate String treeId;\r\n    \tprivate String siteId;\r\n    \tprivate Integer prodVersion;\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn Objects.hash(prodVersion, siteId, treeId);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tTreeIdentifier other = (TreeIdentifier) obj;\r\n    \t\treturn Objects.equals(prodVersion, other.prodVersion) &amp;&amp; Objects.equals(siteId, other.siteId)\r\n    \t\t\t\t&amp;&amp; Objects.equals(treeId, other.treeId);\r\n    \t}\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    }\r\n\r\n\r\n**Node:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;node&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class) \r\n    public class Node {\r\n    \t@EmbeddedId\r\n    \tprivate NodeIdentifier nodeIdentifier;\r\n    \tprivate Long nodePosition;\r\n    }\r\n\r\n**NodeIdentifier (primary key of Node):**\r\n\r\n    @Embeddable\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\r\n    public class NodeIdentifier implements Serializable {\r\n    \r\n    \tprivate String nodeId;\r\n    \tprivate Integer nodeVersionId;\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn Objects.hash(nodeId, nodeVersionId);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tNodeIdentifier other = (NodeIdentifier) obj;\r\n    \t\treturn Objects.equals(nodeId, other.nodeId) &amp;&amp; Objects.equals(nodeVersionId, other.nodeVersionId);\r\n    \t}\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    }\r\n\r\nNow I am struggling to figure out how the intermediate table that surges because of this ManyToMany relation should look like in the code:\r\n\r\n**TreeNode**:\r\n\r\n    @Entity\r\n    @Table(name = &quot;tree_node&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\r\n    public class TreeNode {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Integer treeNodeId;\r\n    \tprivate Tree tree;\r\n    \tprivate Node node;\r\n    }\r\n\r\nI was following Baeldung guides and so far I managed to make it work with saving Tree and Node in the database but now for the intermediate table can not figure out how should I annotate the fields properly (also how should I annotate the Tree and Node class too?), can you help me?\r\n\r\nGuides I used: \r\n* https://www.baeldung.com/jpa-many-to-many\r\n* https://www.baeldung.com/jpa-composite-primary-keys","title":"ManyToMany Composite Keys in Both tables that create the ManyToMany Relation how to annotate them","body":"<p>I have a many to many relation between Trees and Nodes:</p>\n<ul>\n<li>Tree can have many nodes.</li>\n<li>Node can be in many trees.</li>\n</ul>\n<p>I also have composite primary key in the Tree table and also in the Node table.</p>\n<p>So my model classes look like so:</p>\n<p><strong>Tree</strong>:</p>\n<pre><code>@Entity\n@Table(name = &quot;tree&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\npublic class Tree {\n    @EmbeddedId\n    private TreeIdentifier treeIdentifier;\n    private LocalDateTime creationDate;\n}\n</code></pre>\n<p><strong>TreeIdentifier (this is the primary key of the Tree):</strong></p>\n<pre><code>@Embeddable\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\npublic class TreeIdentifier implements Serializable {\n\n    private String treeId;\n    private String siteId;\n    private Integer prodVersion;\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(prodVersion, siteId, treeId);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        TreeIdentifier other = (TreeIdentifier) obj;\n        return Objects.equals(prodVersion, other.prodVersion) &amp;&amp; Objects.equals(siteId, other.siteId)\n                &amp;&amp; Objects.equals(treeId, other.treeId);\n    }\n\n    private static final long serialVersionUID = 1L;\n}\n</code></pre>\n<p><strong>Node:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;node&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class) \npublic class Node {\n    @EmbeddedId\n    private NodeIdentifier nodeIdentifier;\n    private Long nodePosition;\n}\n</code></pre>\n<p><strong>NodeIdentifier (primary key of Node):</strong></p>\n<pre><code>@Embeddable\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\npublic class NodeIdentifier implements Serializable {\n\n    private String nodeId;\n    private Integer nodeVersionId;\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(nodeId, nodeVersionId);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        NodeIdentifier other = (NodeIdentifier) obj;\n        return Objects.equals(nodeId, other.nodeId) &amp;&amp; Objects.equals(nodeVersionId, other.nodeVersionId);\n    }\n\n    private static final long serialVersionUID = 1L;\n\n}\n</code></pre>\n<p>Now I am struggling to figure out how the intermediate table that surges because of this ManyToMany relation should look like in the code:</p>\n<p><strong>TreeNode</strong>:</p>\n<pre><code>@Entity\n@Table(name = &quot;tree_node&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\npublic class TreeNode {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer treeNodeId;\n    private Tree tree;\n    private Node node;\n}\n</code></pre>\n<p>I was following Baeldung guides and so far I managed to make it work with saving Tree and Node in the database but now for the intermediate table can not figure out how should I annotate the fields properly (also how should I annotate the Tree and Node class too?), can you help me?</p>\n<p>Guides I used:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/jpa-many-to-many\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-many-to-many</a></li>\n<li><a href=\"https://www.baeldung.com/jpa-composite-primary-keys\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-composite-primary-keys</a></li>\n</ul>\n"},{"tags":["java","spring-boot","apache-camel"],"comments":[{"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Matea"},"score":2,"creation_date":1677209457,"post_id":75552358,"comment_id":133297192,"body_markdown":"It seems that you didn&#39;t import `HmacGenerator` in your `OnboardingResponseRoute` class? So this isn&#39;t an Autowiring problem, but more like a general Java problem.","body":"It seems that you didn&#39;t import <code>HmacGenerator</code> in your <code>OnboardingResponseRoute</code> class? So this isn&#39;t an Autowiring problem, but more like a general Java problem."}],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677210117,"creation_date":1677210117,"answer_id":75552427,"question_id":75552358,"body_markdown":"please check if you added `@ComponentScan` in your main application file\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = { &quot;com.example.ftpintegration&quot; })\r\n    // ...\r\n\r\nand check if you have imported `HmacGenerator` in `OnboardingResponseRoute`:\r\n\r\n    import com.example.ftpintegration.HmacGenerator;","title":"Dependency Injection not working [Autowired Annotation]","body":"<p>please check if you added <code>@ComponentScan</code> in your main application file</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = { &quot;com.example.ftpintegration&quot; })\n// ...\n</code></pre>\n<p>and check if you have imported <code>HmacGenerator</code> in <code>OnboardingResponseRoute</code>:</p>\n<pre><code>import com.example.ftpintegration.HmacGenerator;\n</code></pre>\n"}],"owner":{"account_id":6769246,"reputation":2633,"user_id":5213120,"accept_rate":55,"display_name":"RRP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75552427,"answer_count":1,"score":0,"last_activity_date":1677210117,"creation_date":1677209215,"question_id":75552358,"body_markdown":"I am not sure why i am running into the following error\r\n\r\n```#9 29.22 [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project ftpintegration: Compilation failure: Compilation failure: \r\n#9 29.22 [ERROR] /src/main/java/com/nestwealth/ftpintegration/onboarding/response/OnboardingResponseRoute.java:[15,16] cannot find symbol\r\n#9 29.22 [ERROR]   symbol:   class HmacGenerator\r\n#9 29.22 [ERROR]   location: class com.nestwealth.ftpintegration.onboarding.response.OnboardingResponseRoute\r\n```\r\n\r\nI have class declared that needs to used in multiple places, which is defined as following\r\n\r\n**HmacGenerator.java**\r\n\r\n```\r\npackage com.example.ftpintegration;\r\n\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.security.InvalidKeyException;\r\nimport java.security.NoSuchAlgorithmException;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport javax.crypto.Mac;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.json.JSONObject;\r\n\r\n@Component\r\npublic class HmacGenerator {\r\n    \r\n    private String secretKey;\r\n\r\n    public HmacGenerator(@Value(&quot;{secret-key}&quot;) String secretKey){\r\n        this.secretKey = secretKey;\r\n    }\r\n\r\n    public String generateHmacKey (String sftpResponseObj){\r\n        log.warn(&quot;SFTP response: (&quot; + sftpResponseObj);\r\n        String encodingType = &quot;HmacSHA256&quot;;\r\n        JSONObject obj = new JSONObject(sftpResponseObj);\r\n        log.warn(&quot;Stringified SFTP response: (&quot; + obj.toString());\r\n\r\n        return &quot;test&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI am trying to consume the above method `generateHmacKey(...)` in the following class\r\n\r\n**OnboardingResponseRoute.java**\r\n\r\n```\r\npackage com.example.ftpintegration.onboarding.response;\r\n\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.builder.endpoint.EndpointRouteBuilder;\r\nimport org.apache.camel.processor.idempotent.jdbc.JdbcMessageIdRepository;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\n@Component\r\npublic class OnboardingResponseRoute extends EndpointRouteBuilder {\r\n\t\r\n\tprivate JdbcMessageIdRepository idempotentRepository;\r\n\r\n\t@Autowired\r\n\tpublic HmacGenerator hmacgenerator; //fails right here\r\n\t\r\n\tpublic OnboardingResponseRoute(JdbcMessageIdRepository sftpOnboardingProcessor) {\r\n\t\tthis.idempotentRepository = sftpOnboardingProcessor;\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic void configure() throws Exception {\r\n\t\tfrom(sftp(&quot;{{sftp.host}}:{{sftp.port}}/{{sftp.path}}&quot;)\r\n\t\t\t\t.username(&quot;{{sftp.user}}&quot;)\r\n\t\t\t\t.password(&quot;{{sftp.password}}&quot;)\r\n\t\t\t\t.recursive(false)\r\n\t\t\t\t.useUserKnownHostsFile(false)\r\n\t\t\t\t.delay(&quot;{{response.sftp.delay}}&quot;)\r\n\t\t\t\t.delete(false)\r\n\t\t\t\t.idempotent(true)\r\n\t\t\t\t.idempotentRepository(idempotentRepository)\r\n\t\t\t\t.advanced()\r\n\t\t\t\t\t.stepwise(false)\r\n\t\t\t\t\t.localWorkDirectory(&quot;{{sftp.tmp-directory}}&quot;))\r\n\t\t.setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\r\n\t\t.setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\r\n\t\t.setHeader(&quot;x-digest&quot;)\r\n\t\t\t.method(hmacgenerator, &quot;generateHmacKey(${body})&quot;)\r\n\t\t.log(&quot;Started copying file: ${header.CamelFileName}&quot;)\r\n\t\t.to(&quot;{{response.http.url}}/account-opening-response&quot;)\r\n\t\t.log(&quot;Done copying file: ${header.CamelFileName}&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMy config file looks like the following\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.nestwealth&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ftpintegration&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ftpintegration&lt;/name&gt;\r\n\t&lt;description&gt;SFTP to S3 Integration&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;camel-bean-starter&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;3.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;camel-ftp-starter&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;3.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;camel-aws2-s3-starter&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;3.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;camel-http-starter&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;3.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hibernate-types-55&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.14.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;3.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;camel-jpa-starter&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;3.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;camel-sql-starter&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;3.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t      &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;camel-endpointdsl&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;20220924&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n","title":"Dependency Injection not working [Autowired Annotation]","body":"<p>I am not sure why i am running into the following error</p>\n<pre><code>#9 29.22 [ERROR] /src/main/java/com/nestwealth/ftpintegration/onboarding/response/OnboardingResponseRoute.java:[15,16] cannot find symbol\n#9 29.22 [ERROR]   symbol:   class HmacGenerator\n#9 29.22 [ERROR]   location: class com.nestwealth.ftpintegration.onboarding.response.OnboardingResponseRoute\n</code></pre>\n<p>I have class declared that needs to used in multiple places, which is defined as following</p>\n<p><strong>HmacGenerator.java</strong></p>\n<pre><code>package com.example.ftpintegration;\n\nimport java.io.UnsupportedEncodingException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.json.JSONObject;\n\n@Component\npublic class HmacGenerator {\n    \n    private String secretKey;\n\n    public HmacGenerator(@Value(&quot;{secret-key}&quot;) String secretKey){\n        this.secretKey = secretKey;\n    }\n\n    public String generateHmacKey (String sftpResponseObj){\n        log.warn(&quot;SFTP response: (&quot; + sftpResponseObj);\n        String encodingType = &quot;HmacSHA256&quot;;\n        JSONObject obj = new JSONObject(sftpResponseObj);\n        log.warn(&quot;Stringified SFTP response: (&quot; + obj.toString());\n\n        return &quot;test&quot;;\n    }\n}\n\n</code></pre>\n<p>I am trying to consume the above method <code>generateHmacKey(...)</code> in the following class</p>\n<p><strong>OnboardingResponseRoute.java</strong></p>\n<pre><code>package com.example.ftpintegration.onboarding.response;\n\nimport org.apache.camel.Exchange;\nimport org.apache.camel.builder.endpoint.EndpointRouteBuilder;\nimport org.apache.camel.processor.idempotent.jdbc.JdbcMessageIdRepository;\nimport org.springframework.stereotype.Component;\nimport org.springframework.beans.factory.annotation.Autowired;\n\n@Component\npublic class OnboardingResponseRoute extends EndpointRouteBuilder {\n    \n    private JdbcMessageIdRepository idempotentRepository;\n\n    @Autowired\n    public HmacGenerator hmacgenerator; //fails right here\n    \n    public OnboardingResponseRoute(JdbcMessageIdRepository sftpOnboardingProcessor) {\n        this.idempotentRepository = sftpOnboardingProcessor;\n    }\n\n\n    @Override\n    public void configure() throws Exception {\n        from(sftp(&quot;{{sftp.host}}:{{sftp.port}}/{{sftp.path}}&quot;)\n                .username(&quot;{{sftp.user}}&quot;)\n                .password(&quot;{{sftp.password}}&quot;)\n                .recursive(false)\n                .useUserKnownHostsFile(false)\n                .delay(&quot;{{response.sftp.delay}}&quot;)\n                .delete(false)\n                .idempotent(true)\n                .idempotentRepository(idempotentRepository)\n                .advanced()\n                    .stepwise(false)\n                    .localWorkDirectory(&quot;{{sftp.tmp-directory}}&quot;))\n        .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\n        .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\n        .setHeader(&quot;x-digest&quot;)\n            .method(hmacgenerator, &quot;generateHmacKey(${body})&quot;)\n        .log(&quot;Started copying file: ${header.CamelFileName}&quot;)\n        .to(&quot;{{response.http.url}}/account-opening-response&quot;)\n        .log(&quot;Done copying file: ${header.CamelFileName}&quot;);\n    }\n\n}\n</code></pre>\n<p>My config file looks like the following</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.nestwealth&lt;/groupId&gt;\n    &lt;artifactId&gt;ftpintegration&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ftpintegration&lt;/name&gt;\n    &lt;description&gt;SFTP to S3 Integration&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-bean-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n          &lt;artifactId&gt;camel-ftp-starter&lt;/artifactId&gt;\n          &lt;version&gt;3.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n          &lt;artifactId&gt;camel-aws2-s3-starter&lt;/artifactId&gt;\n          &lt;version&gt;3.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n          &lt;artifactId&gt;camel-http-starter&lt;/artifactId&gt;\n          &lt;version&gt;3.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-types-55&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n          &lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\n          &lt;version&gt;3.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n          &lt;artifactId&gt;camel-jpa-starter&lt;/artifactId&gt;\n          &lt;version&gt;3.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n          &lt;artifactId&gt;camel-sql-starter&lt;/artifactId&gt;\n          &lt;version&gt;3.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n          &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n          &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n                            \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-endpointdsl&lt;/artifactId&gt;\n            &lt;version&gt;3.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20220924&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","jvm","jna"],"comments":[{"owner":{"account_id":2127644,"reputation":48132,"user_id":1889329,"accept_rate":71,"display_name":"IInspectable"},"score":1,"creation_date":1677157188,"post_id":75544987,"comment_id":133284624,"body_markdown":"A *&quot;Complete description of the problem&quot;* must include both the observed behavior as well as the expected behavior. Also, please post text as text, not images of text.","body":"A <i>&quot;Complete description of the problem&quot;</i> must include both the observed behavior as well as the expected behavior. Also, please post text as text, not images of text."},{"owner":{"account_id":14882293,"reputation":97,"user_id":11038944,"display_name":"Baris LaPaz"},"score":0,"creation_date":1677158993,"post_id":75544987,"comment_id":133285201,"body_markdown":"Sorry for image. expected behaviour is outputting 1 and sleeping for 60 sec. (Added this to post also)","body":"Sorry for image. expected behaviour is outputting 1 and sleeping for 60 sec. (Added this to post also)"}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677209389,"creation_date":1677173672,"answer_id":75548357,"question_id":75544987,"body_markdown":"The error occurs when JNA is extracting its native library to a temporary directory and uses the JDKs methods for creating a randomly named temporary file, which internally invokes the\r\nrandom number generator.\r\n\r\nHowever, the bug is not in JNA, it&#39;s in the JDK&#39;s `java.io.File.createTempFile()` method as shown in the stack trace.\r\n\r\nThe root problem is a bug in the JDK introduced in jdk8, [JDK-8066931][1]:\r\n&gt; When running a Java website on Azure you don&#39;t have access to the network interfaces. Since http://hg.openjdk.java.net/jdk8u/jdk8u20/jdk/rev/c6836440c427 the way SecureRandom works is to add the network addresses to the seed hash which causes the application to not work when deployed on Azure. Because no a lot of applications use the SecureRandom class they cannot be used as an Azure web site with the current JDK version.\r\n\r\nIt was fixed in JDK18 with better exception handling in [JDK-8275319][2].\r\n\r\nYour options to resolve this:\r\n 1. Upgrade to JDK 18 or newer. It does not look like the fix has been backported to earlier JDKs. \r\n 2. Pre-extract the JNA native library (jnidispatch) to a location of your choice and point JNA to it via `jna.boot.library.path` parameter, or put it in your system library path.  See the [&quot;Loading JNA&quot; section of the Overview][3].\r\n 3. Make sure you have at least one network interface.  \r\n\r\nAlternately you might experiment with newer versions of the JDK; while the underlying root cause may not have been fixed until JDK 18, there may have been other methods used in temporary file generation that worked around this known issue.  \r\n\r\nThe JDK 8 version you&#39;re using [was released nearly 3 years ago][4] and there have been 4 Oracle active support releases since then (up to 291) with security support versions up to 361 if you are constrained to using Oracle&#39;s JDK.\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8066931\r\n  [2]: https://bugs.openjdk.org/browse/JDK-8275319\r\n  [3]: http://java-native-access.github.io/jna/5.13.0/javadoc/overview-summary.html#loading\r\n  [4]: https://www.java.com/download/help/release_dates.html","title":"JNA does not work on safe mode without networking, GetIfTable failed","body":"<p>The error occurs when JNA is extracting its native library to a temporary directory and uses the JDKs methods for creating a randomly named temporary file, which internally invokes the\nrandom number generator.</p>\n<p>However, the bug is not in JNA, it's in the JDK's <code>java.io.File.createTempFile()</code> method as shown in the stack trace.</p>\n<p>The root problem is a bug in the JDK introduced in jdk8, <a href=\"https://bugs.openjdk.org/browse/JDK-8066931\" rel=\"nofollow noreferrer\">JDK-8066931</a>:</p>\n<blockquote>\n<p>When running a Java website on Azure you don't have access to the network interfaces. Since <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u20/jdk/rev/c6836440c427\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk8u/jdk8u20/jdk/rev/c6836440c427</a> the way SecureRandom works is to add the network addresses to the seed hash which causes the application to not work when deployed on Azure. Because no a lot of applications use the SecureRandom class they cannot be used as an Azure web site with the current JDK version.</p>\n</blockquote>\n<p>It was fixed in JDK18 with better exception handling in <a href=\"https://bugs.openjdk.org/browse/JDK-8275319\" rel=\"nofollow noreferrer\">JDK-8275319</a>.</p>\n<p>Your options to resolve this:</p>\n<ol>\n<li>Upgrade to JDK 18 or newer. It does not look like the fix has been backported to earlier JDKs.</li>\n<li>Pre-extract the JNA native library (jnidispatch) to a location of your choice and point JNA to it via <code>jna.boot.library.path</code> parameter, or put it in your system library path.  See the <a href=\"http://java-native-access.github.io/jna/5.13.0/javadoc/overview-summary.html#loading\" rel=\"nofollow noreferrer\">&quot;Loading JNA&quot; section of the Overview</a>.</li>\n<li>Make sure you have at least one network interface.</li>\n</ol>\n<p>Alternately you might experiment with newer versions of the JDK; while the underlying root cause may not have been fixed until JDK 18, there may have been other methods used in temporary file generation that worked around this known issue.</p>\n<p>The JDK 8 version you're using <a href=\"https://www.java.com/download/help/release_dates.html\" rel=\"nofollow noreferrer\">was released nearly 3 years ago</a> and there have been 4 Oracle active support releases since then (up to 291) with security support versions up to 361 if you are constrained to using Oracle's JDK.</p>\n"}],"owner":{"account_id":14882293,"reputation":97,"user_id":11038944,"display_name":"Baris LaPaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75548357,"answer_count":1,"score":1,"last_activity_date":1677209389,"creation_date":1677156095,"question_id":75544987,"body_markdown":"I created new Maven project on intellij. Added this code to main:\r\n```java\r\nimport com.sun.jna.Pointer;\r\nimport com.sun.jna.platform.win32.Advapi32;\r\nimport com.sun.jna.platform.win32.Winsvc;\r\npublic class Main {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        registerHandler();\r\n        System.out.println(1);\r\n        Thread.sleep(60000);\r\n    }\r\n    public static void registerHandler(){\r\n        Winsvc.SERVICE_STATUS_HANDLE service_status_handle = Advapi32.INSTANCE.RegisterServiceCtrlHandlerEx(&quot;hvldlpxpa&quot;, new Winsvc.HandlerEx() {\r\n            @Override\r\n            public int callback(int i, int i1, Pointer pointer, Pointer pointer1) {\r\n                return i;\r\n            }\r\n        }, Pointer.NULL);\r\n    }\r\n    public static void stopService(String[] args) throws Exception {\r\n        System.exit(0);\r\n    }\r\n}\r\n```\r\n\r\nMAVEN FILE:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n   &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jnaReg&lt;/artifactId&gt;\r\n   &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\r\n         &lt;version&gt;5.12.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n   &lt;build&gt;\r\n      &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;executions&gt;\r\n               &lt;execution&gt;\r\n                  &lt;phase&gt;package&lt;/phase&gt;\r\n                  &lt;goals&gt;\r\n                     &lt;goal&gt;single&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n               &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n               &lt;descriptorRefs&gt;\r\n                  &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n               &lt;/descriptorRefs&gt;\r\n               &lt;archive&gt;\r\n                  &lt;manifest&gt;\r\n                     &lt;mainClass&gt;Main&lt;/mainClass&gt;\r\n                  &lt;/manifest&gt;\r\n               &lt;/archive&gt;\r\n               &lt;finalName&gt;JNA&lt;/finalName&gt;\r\n            &lt;/configuration&gt;\r\n         &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n   &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nExecuted with:\r\n```ps\r\nsetlocal\r\nset JARS=&quot;C:\\Users\\bunsal\\Downloads\\JNA-jar-with-dependencies.jar&quot;\r\nset MAINCLASS=Main\r\n\r\njava.exe -cp %JARS% %MAINCLASS%\r\nendlocal\r\n```\r\n\r\nBooted into safe mode minimal. This error happens:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: IP Helper Library GetIfTable function failed\r\n        at java.net.NetworkInterface.getAll(Native Method)\r\n        at java.net.NetworkInterface.getNetworkInterfaces(NetworkInterface.java:355)\r\n        at sun.security.provider.SeedGenerator.addNetworkAdapterInfo(SeedGenerator.java:233)\r\n        at sun.security.provider.SeedGenerator.access$000(SeedGenerator.java:80)\r\n        at sun.security.provider.SeedGenerator$1.run(SeedGenerator.java:183)\r\n        at sun.security.provider.SeedGenerator$1.run(SeedGenerator.java:168)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at sun.security.provider.SeedGenerator.getSystemEntropy(SeedGenerator.java:168)\r\n        at sun.security.provider.SecureRandom$SeederHolder.&lt;clinit&gt;(SecureRandom.java:201)\r\n        at sun.security.provider.SecureRandom.engineNextBytes(SecureRandom.java:221)\r\n        at java.security.SecureRandom.nextBytes(SecureRandom.java:468)\r\n        at java.security.SecureRandom.next(SecureRandom.java:491)\r\n        at java.util.Random.nextLong(Random.java:424)\r\n        at java.io.File$TempDirectory.generateFile(File.java:1905)\r\n        at java.io.File.createTempFile(File.java:2010)\r\n        at com.sun.jna.Native.extractFromResourcePath(Native.java:1174)\r\n        at com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1036)\r\n        at com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:1015)\r\n        at com.sun.jna.Native.&lt;clinit&gt;(Native.java:221)\r\n        at com.sun.jna.platform.win32.Advapi32.&lt;clinit&gt;(Advapi32.java:70)\r\n        at Main.registerHandler(Main.java:11)\r\n        at Main.main(Main.java:6)\r\n\r\nIn safe mode with networking it works perfectly (outputs 1 and sleeps for 60 seconds). Winapi docs does not provide much help. I also searched on jna issues on GitHub.\r\n### Provide complete information about the problem\r\n\r\n1. Version of JNA and related jars 5.12.1\r\n\r\n2. Version and vendor of the Java virtual machine Oracle, 1.8.0_251\r\n\r\n3. Operating system Windows 10 Build 19041\r\n\r\n4. System architecture (CPU type, bitness of the JVM) 64 bit\r\n\r\n5. Complete description of the problem -&gt; Already discussed\r\n\r\n6. Steps to reproduce -&gt; Already discussed\r\n","title":"JNA does not work on safe mode without networking, GetIfTable failed","body":"<p>I created new Maven project on intellij. Added this code to main:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.jna.Pointer;\nimport com.sun.jna.platform.win32.Advapi32;\nimport com.sun.jna.platform.win32.Winsvc;\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        registerHandler();\n        System.out.println(1);\n        Thread.sleep(60000);\n    }\n    public static void registerHandler(){\n        Winsvc.SERVICE_STATUS_HANDLE service_status_handle = Advapi32.INSTANCE.RegisterServiceCtrlHandlerEx(&quot;hvldlpxpa&quot;, new Winsvc.HandlerEx() {\n            @Override\n            public int callback(int i, int i1, Pointer pointer, Pointer pointer1) {\n                return i;\n            }\n        }, Pointer.NULL);\n    }\n    public static void stopService(String[] args) throws Exception {\n        System.exit(0);\n    }\n}\n</code></pre>\n<p>MAVEN FILE:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;groupId&gt;org.example&lt;/groupId&gt;\n   &lt;artifactId&gt;jnaReg&lt;/artifactId&gt;\n   &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n         &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\n         &lt;version&gt;5.12.1&lt;/version&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;executions&gt;\n               &lt;execution&gt;\n                  &lt;phase&gt;package&lt;/phase&gt;\n                  &lt;goals&gt;\n                     &lt;goal&gt;single&lt;/goal&gt;\n                  &lt;/goals&gt;\n               &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n               &lt;descriptorRefs&gt;\n                  &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n               &lt;/descriptorRefs&gt;\n               &lt;archive&gt;\n                  &lt;manifest&gt;\n                     &lt;mainClass&gt;Main&lt;/mainClass&gt;\n                  &lt;/manifest&gt;\n               &lt;/archive&gt;\n               &lt;finalName&gt;JNA&lt;/finalName&gt;\n            &lt;/configuration&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Executed with:</p>\n<pre><code>setlocal\nset JARS=&quot;C:\\Users\\bunsal\\Downloads\\JNA-jar-with-dependencies.jar&quot;\nset MAINCLASS=Main\n\njava.exe -cp %JARS% %MAINCLASS%\nendlocal\n</code></pre>\n<p>Booted into safe mode minimal. This error happens:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: IP Helper Library GetIfTable function failed\n    at java.net.NetworkInterface.getAll(Native Method)\n    at java.net.NetworkInterface.getNetworkInterfaces(NetworkInterface.java:355)\n    at sun.security.provider.SeedGenerator.addNetworkAdapterInfo(SeedGenerator.java:233)\n    at sun.security.provider.SeedGenerator.access$000(SeedGenerator.java:80)\n    at sun.security.provider.SeedGenerator$1.run(SeedGenerator.java:183)\n    at sun.security.provider.SeedGenerator$1.run(SeedGenerator.java:168)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.security.provider.SeedGenerator.getSystemEntropy(SeedGenerator.java:168)\n    at sun.security.provider.SecureRandom$SeederHolder.&lt;clinit&gt;(SecureRandom.java:201)\n    at sun.security.provider.SecureRandom.engineNextBytes(SecureRandom.java:221)\n    at java.security.SecureRandom.nextBytes(SecureRandom.java:468)\n    at java.security.SecureRandom.next(SecureRandom.java:491)\n    at java.util.Random.nextLong(Random.java:424)\n    at java.io.File$TempDirectory.generateFile(File.java:1905)\n    at java.io.File.createTempFile(File.java:2010)\n    at com.sun.jna.Native.extractFromResourcePath(Native.java:1174)\n    at com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1036)\n    at com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:1015)\n    at com.sun.jna.Native.&lt;clinit&gt;(Native.java:221)\n    at com.sun.jna.platform.win32.Advapi32.&lt;clinit&gt;(Advapi32.java:70)\n    at Main.registerHandler(Main.java:11)\n    at Main.main(Main.java:6)\n</code></pre>\n<p>In safe mode with networking it works perfectly (outputs 1 and sleeps for 60 seconds). Winapi docs does not provide much help. I also searched on jna issues on GitHub.</p>\n<h3>Provide complete information about the problem</h3>\n<ol>\n<li><p>Version of JNA and related jars 5.12.1</p>\n</li>\n<li><p>Version and vendor of the Java virtual machine Oracle, 1.8.0_251</p>\n</li>\n<li><p>Operating system Windows 10 Build 19041</p>\n</li>\n<li><p>System architecture (CPU type, bitness of the JVM) 64 bit</p>\n</li>\n<li><p>Complete description of the problem -&gt; Already discussed</p>\n</li>\n<li><p>Steps to reproduce -&gt; Already discussed</p>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":18085962,"reputation":19,"user_id":15626126,"display_name":"Smetana Po Aktsii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677209247,"creation_date":1677209247,"answer_id":75552365,"question_id":75552333,"body_markdown":"    @NamedEntityGraph(name = &quot;CryptoCountWithCurrencyAndWallet&quot;,attributeNodes = {\r\n            @NamedAttributeNode(value = &quot;cryptoCurrency&quot;),\r\n            @NamedAttributeNode(value = &quot;cryptoWallet&quot;,subgraph = &quot;withWalletOwner&quot;)\r\n    },subgraphs = {\r\n            @NamedSubgraph(name = &quot;withWalletOwner&quot;,attributeNodes = {@NamedAttributeNode(&quot;walletOwner&quot;)})\r\n    })\r\n\r\nIn **CryptoCount** solved the problem","title":"Entity Graph does not work in Entity Layer but work in Repository Layer","body":"<pre><code>@NamedEntityGraph(name = &quot;CryptoCountWithCurrencyAndWallet&quot;,attributeNodes = {\n        @NamedAttributeNode(value = &quot;cryptoCurrency&quot;),\n        @NamedAttributeNode(value = &quot;cryptoWallet&quot;,subgraph = &quot;withWalletOwner&quot;)\n},subgraphs = {\n        @NamedSubgraph(name = &quot;withWalletOwner&quot;,attributeNodes = {@NamedAttributeNode(&quot;walletOwner&quot;)})\n})\n</code></pre>\n<p>In <strong>CryptoCount</strong> solved the problem</p>\n"}],"owner":{"account_id":18085962,"reputation":19,"user_id":15626126,"display_name":"Smetana Po Aktsii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75552365,"answer_count":1,"score":0,"last_activity_date":1677209247,"creation_date":1677208858,"question_id":75552333,"body_markdown":"I have a chain of entities **User** -&gt; **CryptoWallet** -&gt; **List&lt;**CryptoCount**&gt;**\r\n\r\n1. \r\n\r\n    public class User {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GenericGenerator(name = &quot;uuidFromIp&quot; , strategy = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;)\r\n        @GeneratedValue(generator = &quot;uuid_gen_strategy&quot;)\r\n        private UUID id;\r\n    \r\n        @Column(name = &quot;user_name&quot;)\r\n        private String userName;\r\n    \r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n    \r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;crypto_wallet_id&quot;)\r\n        private CryptoWallet cryptoWallet;\r\n    }\r\n\r\n2.\r\n \r\n\r\n    public class CryptoWallet {\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;balance&quot;)\r\n        private BigDecimal balance;\r\n    \r\n        @OneToMany(mappedBy = &quot;cryptoWallet&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;CryptoCount&gt; cryptoCounts;\r\n    \r\n        @OneToOne(mappedBy = &quot;cryptoWallet&quot;)\r\n        private User walletOwner;\r\n    }\r\n\r\n3.\r\n\r\n    public class CryptoCount {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;crypto_id&quot;)\r\n        private CryptoCurrency cryptoCurrency;\r\n    \r\n        @Column(name = &quot;count&quot;)\r\n        private BigDecimal countOfCrypto;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;crypto_wallet_id&quot;)\r\n        private CryptoWallet cryptoWallet;\r\n    }\r\n\r\nMy task is to load  All CryptoCount By CryptoWalletOwnerId in one request\r\n\r\nWhen i use next method in Repository Layer everything work correctly(with one query).\r\n\r\n    @EntityGraph(attributePaths = {&quot;cryptoCurrency&quot;,&quot;cryptoWallet&quot;,&quot;cryptoWallet.walletOwner&quot;})\r\n    List&lt;CryptoCount&gt; findAllByCryptoWalletWalletOwnerId(UUID id);\r\n\r\n**BUT**\r\n\r\nWhen I annotate **CryptoCount** like this:\r\n\r\n    @NamedEntityGraph(name = &quot;CryptoCountWithCurrencyAndWallet&quot;,attributeNodes = {\r\n            @NamedAttributeNode(value = &quot;cryptoCurrency&quot;),\r\n            @NamedAttributeNode(value = &quot;cryptoWallet&quot;)\r\n    })\r\nAnd CryptoWallet like this:\r\n\r\n    @NamedEntityGraph(name = &quot;WalletWithCryptoCountsAndWalletOwner&quot;, attributeNodes = {\r\n            @NamedAttributeNode(value = &quot;cryptoCounts&quot;),\r\n            @NamedAttributeNode(value = &quot;walletOwner&quot;,subgraph = &quot;UserWithWallet&quot;)\r\n    }, subgraphs = {\r\n            @NamedSubgraph(name = &quot;UserWithWallet&quot;, attributeNodes = @NamedAttributeNode(&quot;cryptoWallet&quot;))\r\n    })\r\n\r\nAnd also **User** like this:\r\n\r\n    @NamedEntityGraph(name = &quot;UserWithWallet&quot;,attributeNodes = {\r\n            @NamedAttributeNode(&quot;cryptoWallet&quot;)\r\n    },subgraphs = {\r\n            @NamedSubgraph(name = &quot;userWithWallet&quot;, attributeNodes = {@NamedAttributeNode(&quot;cryptoWallet&quot;)})\r\n    })\r\n\r\nAnd also use next method in Repository:\r\n\r\n    @EntityGraph(value = &quot;CryptoCountWithCurrencyAndWallet&quot;)\r\n        List&lt;CryptoCount&gt; findAllByCryptoWalletWalletOwnerId(UUID id);\r\n\r\nI get two database queries instead of one. Whats wrong with my code?\r\n","title":"Entity Graph does not work in Entity Layer but work in Repository Layer","body":"<p>I have a chain of entities <strong>User</strong> -&gt; <strong>CryptoWallet</strong> -&gt; <strong>List&lt;<strong>CryptoCount</strong>&gt;</strong></p>\n<p>1.</p>\n<pre><code>public class User {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GenericGenerator(name = &quot;uuidFromIp&quot; , strategy = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;)\n    @GeneratedValue(generator = &quot;uuid_gen_strategy&quot;)\n    private UUID id;\n\n    @Column(name = &quot;user_name&quot;)\n    private String userName;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;crypto_wallet_id&quot;)\n    private CryptoWallet cryptoWallet;\n}\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>public class CryptoWallet {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;balance&quot;)\n    private BigDecimal balance;\n\n    @OneToMany(mappedBy = &quot;cryptoWallet&quot;, cascade = CascadeType.ALL)\n    private List&lt;CryptoCount&gt; cryptoCounts;\n\n    @OneToOne(mappedBy = &quot;cryptoWallet&quot;)\n    private User walletOwner;\n}\n</code></pre>\n<ol start=\"3\">\n<li></li>\n</ol>\n<pre><code>public class CryptoCount {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;crypto_id&quot;)\n    private CryptoCurrency cryptoCurrency;\n\n    @Column(name = &quot;count&quot;)\n    private BigDecimal countOfCrypto;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;crypto_wallet_id&quot;)\n    private CryptoWallet cryptoWallet;\n}\n</code></pre>\n<p>My task is to load  All CryptoCount By CryptoWalletOwnerId in one request</p>\n<p>When i use next method in Repository Layer everything work correctly(with one query).</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;cryptoCurrency&quot;,&quot;cryptoWallet&quot;,&quot;cryptoWallet.walletOwner&quot;})\nList&lt;CryptoCount&gt; findAllByCryptoWalletWalletOwnerId(UUID id);\n</code></pre>\n<p><strong>BUT</strong></p>\n<p>When I annotate <strong>CryptoCount</strong> like this:</p>\n<pre><code>@NamedEntityGraph(name = &quot;CryptoCountWithCurrencyAndWallet&quot;,attributeNodes = {\n        @NamedAttributeNode(value = &quot;cryptoCurrency&quot;),\n        @NamedAttributeNode(value = &quot;cryptoWallet&quot;)\n})\n</code></pre>\n<p>And CryptoWallet like this:</p>\n<pre><code>@NamedEntityGraph(name = &quot;WalletWithCryptoCountsAndWalletOwner&quot;, attributeNodes = {\n        @NamedAttributeNode(value = &quot;cryptoCounts&quot;),\n        @NamedAttributeNode(value = &quot;walletOwner&quot;,subgraph = &quot;UserWithWallet&quot;)\n}, subgraphs = {\n        @NamedSubgraph(name = &quot;UserWithWallet&quot;, attributeNodes = @NamedAttributeNode(&quot;cryptoWallet&quot;))\n})\n</code></pre>\n<p>And also <strong>User</strong> like this:</p>\n<pre><code>@NamedEntityGraph(name = &quot;UserWithWallet&quot;,attributeNodes = {\n        @NamedAttributeNode(&quot;cryptoWallet&quot;)\n},subgraphs = {\n        @NamedSubgraph(name = &quot;userWithWallet&quot;, attributeNodes = {@NamedAttributeNode(&quot;cryptoWallet&quot;)})\n})\n</code></pre>\n<p>And also use next method in Repository:</p>\n<pre><code>@EntityGraph(value = &quot;CryptoCountWithCurrencyAndWallet&quot;)\n    List&lt;CryptoCount&gt; findAllByCryptoWalletWalletOwnerId(UUID id);\n</code></pre>\n<p>I get two database queries instead of one. Whats wrong with my code?</p>\n"},{"tags":["java","windows-10","vscode-extensions","citrix"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1635718847,"post_id":69715684,"comment_id":123363746,"body_markdown":"another similar error https://github.com/redhat-developer/vscode-java/issues/743#issuecomment-446738302 looks like you can give &quot;java.jdt.ls.vmargs&quot; parameter to jvm and dig up the real problem.","body":"another similar error <a href=\"https://github.com/redhat-developer/vscode-java/issues/743#issuecomment-446738302\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues/&hellip;</a> looks like you can give &quot;java.jdt.ls.vmargs&quot; parameter to jvm and dig up the real problem."}],"answers":[{"tags":[],"owner":{"account_id":20534694,"reputation":1,"user_id":15071084,"display_name":"tech kid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677208488,"creation_date":1677208488,"answer_id":75552303,"question_id":69715684,"body_markdown":"Don&#39;t Do Any thing\r\n\r\nFirst - \r\nUninstall all extensions\r\n\r\n***imp - Don&#39;t Uninstall the Language Extension***\r\n\r\nThen Restart The The Operating System ","title":"Citrix VDI Windows 10 - VS Code &gt; The Language Support for Java server crashed 5 times in the last 3 mintues","body":"<p>Don't Do Any thing</p>\n<p>First -\nUninstall all extensions</p>\n<p><em><strong>imp - Don't Uninstall the Language Extension</strong></em></p>\n<p>Then Restart The The Operating System</p>\n"}],"owner":{"account_id":23142850,"reputation":11,"user_id":17246052,"display_name":"CitrixAnalystNeedsHelp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677208488,"creation_date":1635203012,"question_id":69715684,"body_markdown":"I am having an issue analyzing an annoying issue with a Citrix Windows 10 VDI related to running any java code in VS Code.\r\n\r\nOS: Win 10 20H2\r\n\r\nVS Code 1.56.2\r\n\r\nJava JDK 16 (8 is also installed but 16 is set as primary)\r\n\r\nExtensions installed: Extension Pack for Java, Language support for java, maven for java, project manager for Java, Test runner for java\r\n\r\n[Extensions][1]\r\n\r\nThe issue only happens when a non-admin user attempts to run any java code. Admin-level users do not get this issue.\r\n\r\nsample code...\r\n\r\n    import java.util.scanner;\r\n\r\n    public class stuff{\r\n\r\n      public static void main(string[]args){\r\n        System.out.println(&quot;whatever else&quot;);\r\n        /* Scanner keyboard = new Scanner(System.in);\r\n        String junk = keyboard.next();\r\n        System.out.println(&quot;here it is&quot;+junk); */\r\n        System.out.println(&quot;wow.&quot;);\r\n      }\r\n    }\r\n\r\neven without running the code, the following error comes up:\r\n\r\n    The Language Support for Java crashed 5 times in the last 3 minutes. the server will not be restarted\r\n\r\nlogs:\r\n\r\n    {   message: &#39;WARNING: Using incubator modules: jdk.incubator.foreign, jdk.incubator.vector\\r\\n&#39;,\r\n    \r\n      level: &#39;info&#39;,\r\n    \r\n      timestamp: &#39;2021-10-25 15:39:02.151&#39;\r\n    \r\n    } {   message: &#39;The Language Support for Java server crashed and will restart.&#39;,\r\n    \r\n      level: &#39;error&#39;,\r\n    \r\n      timestamp: &#39;2021-10-25 15:39:05.387&#39; } {   message: &#39;[Info  - 3:39:05 p.m.] Connection to server got closed. Server will restart.&#39;,\r\n    \r\n      level: &#39;info&#39;,\r\n    \r\n      timestamp: &#39;2021-10-25 15:39:05.388&#39; }\r\n\r\n\r\nI have attempted to elevate the permissions on the VsCode install folder, but because the java extensions are per-user - I am unsure which folder needs to have the right elevated.\r\n\r\nany help would be appreciated \r\n\r\n  [1]: https://i.stack.imgur.com/gvRli.png","title":"Citrix VDI Windows 10 - VS Code &gt; The Language Support for Java server crashed 5 times in the last 3 mintues","body":"<p>I am having an issue analyzing an annoying issue with a Citrix Windows 10 VDI related to running any java code in VS Code.</p>\n<p>OS: Win 10 20H2</p>\n<p>VS Code 1.56.2</p>\n<p>Java JDK 16 (8 is also installed but 16 is set as primary)</p>\n<p>Extensions installed: Extension Pack for Java, Language support for java, maven for java, project manager for Java, Test runner for java</p>\n<p><a href=\"https://i.stack.imgur.com/gvRli.png\" rel=\"nofollow noreferrer\">Extensions</a></p>\n<p>The issue only happens when a non-admin user attempts to run any java code. Admin-level users do not get this issue.</p>\n<p>sample code...</p>\n<pre><code>import java.util.scanner;\n\npublic class stuff{\n\n  public static void main(string[]args){\n    System.out.println(&quot;whatever else&quot;);\n    /* Scanner keyboard = new Scanner(System.in);\n    String junk = keyboard.next();\n    System.out.println(&quot;here it is&quot;+junk); */\n    System.out.println(&quot;wow.&quot;);\n  }\n}\n</code></pre>\n<p>even without running the code, the following error comes up:</p>\n<pre><code>The Language Support for Java crashed 5 times in the last 3 minutes. the server will not be restarted\n</code></pre>\n<p>logs:</p>\n<pre><code>{   message: 'WARNING: Using incubator modules: jdk.incubator.foreign, jdk.incubator.vector\\r\\n',\n\n  level: 'info',\n\n  timestamp: '2021-10-25 15:39:02.151'\n\n} {   message: 'The Language Support for Java server crashed and will restart.',\n\n  level: 'error',\n\n  timestamp: '2021-10-25 15:39:05.387' } {   message: '[Info  - 3:39:05 p.m.] Connection to server got closed. Server will restart.',\n\n  level: 'info',\n\n  timestamp: '2021-10-25 15:39:05.388' }\n</code></pre>\n<p>I have attempted to elevate the permissions on the VsCode install folder, but because the java extensions are per-user - I am unsure which folder needs to have the right elevated.</p>\n<p>any help would be appreciated</p>\n"},{"tags":["java","string","compare","accent-insensitive"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1425391556,"post_id":28833797,"comment_id":45937092,"body_markdown":"Have you looked at [`Collator`](http://docs.oracle.com/javase/8/docs/api/java/text/Collator.html)?","body":"Have you looked at <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/Collator.html\" rel=\"nofollow noreferrer\"><code>Collator</code></a>?"},{"owner":{"account_id":2038814,"reputation":11606,"user_id":1820501,"display_name":"Florent Bayle"},"score":1,"creation_date":1425391808,"post_id":28833797,"comment_id":45937258,"body_markdown":"You can also have a look at https://stackoverflow.com/questions/1008802/converting-symbols-accent-letters-to-english-alphabet.","body":"You can also have a look at <a href=\"https://stackoverflow.com/questions/1008802/converting-symbols-accent-letters-to-english-alphabet\" title=\"converting symbols accent letters to english alphabet\">stackoverflow.com/questions/1008802/&hellip;</a>."},{"owner":{"account_id":474411,"reputation":1528,"user_id":884076,"accept_rate":63,"display_name":"mehdok"},"score":0,"creation_date":1500479303,"post_id":28833797,"comment_id":77358211,"body_markdown":"I have written a class for searching trough arabic texts by ignoring diacritic (NOT removing them). maybe you can get the idea or use it in some way.\n https://gist.github.com/mehdok/e6cd1dfccab0c75ac7a9536c6afac8ff","body":"I have written a class for searching trough arabic texts by ignoring diacritic (NOT removing them). maybe you can get the idea or use it in some way.  <a href=\"https://gist.github.com/mehdok/e6cd1dfccab0c75ac7a9536c6afac8ff\" rel=\"nofollow noreferrer\">gist.github.com/mehdok/e6cd1dfccab0c75ac7a9536c6afac8ff</a>"}],"answers":[{"tags":[],"owner":{"account_id":5108332,"reputation":216,"user_id":4095834,"display_name":"intrigus"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1425394400,"creation_date":1425394091,"answer_id":28834758,"question_id":28833797,"body_markdown":"There is no built in method to do this, so you have to build your own:\r\n\r\nA part of this is solution is from [here][1] : \r\nThis first splits all accented characters into their deAccented counterparts followed by their combining diacritics. Then you simply remove all combining diacritics.\r\nAlso see https://stackoverflow.com/a/1215117/4095834\r\n\r\nAnd then your equals method will look like this:\r\n\r\n    import java.text.Normalizer;\r\n    import java.text.Normalizer.Form;\r\n\r\n    public boolean equals(Object o) {\r\n\t\t// Code omitted\r\n\t\tif (yourField.equals(removeAccents(anotherField))) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static String removeAccents(String text) {\r\n\t\treturn text == null ? null : Normalizer.normalize(text, Form.NFD)\r\n\t\t\t\t.replaceAll(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;, &quot;&quot;);\r\n\t}\r\n\r\n\r\n  [1]: http://drillio.com/en/software/java/remove-accent-diacritic/ &quot;test&quot;","title":"Compare strings ignoring accented characters","body":"<p>There is no built in method to do this, so you have to build your own:</p>\n\n<p>A part of this is solution is from <a href=\"http://drillio.com/en/software/java/remove-accent-diacritic/\" rel=\"noreferrer\" title=\"test\">here</a> : \nThis first splits all accented characters into their deAccented counterparts followed by their combining diacritics. Then you simply remove all combining diacritics.\nAlso see <a href=\"https://stackoverflow.com/a/1215117/4095834\">https://stackoverflow.com/a/1215117/4095834</a></p>\n\n<p>And then your equals method will look like this:</p>\n\n<pre><code>import java.text.Normalizer;\nimport java.text.Normalizer.Form;\n\npublic boolean equals(Object o) {\n    // Code omitted\n    if (yourField.equals(removeAccents(anotherField))) {\n        return true;\n    }\n}\n\npublic static String removeAccents(String text) {\n    return text == null ? null : Normalizer.normalize(text, Form.NFD)\n            .replaceAll(\"\\\\p{InCombiningDiacriticalMarks}+\", \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4863414,"reputation":2171,"user_id":3922423,"accept_rate":76,"display_name":"Kennedy Oliveira"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1677207901,"creation_date":1425395023,"answer_id":28835098,"question_id":28833797,"body_markdown":"You can use java Collators for comparing the tests ignoring the accent **and case**, see a simple example:\r\n\r\n    import java.text.Collator;\r\n    \r\n    /**\r\n     * @author Kennedy\r\n     */\r\n    public class SimpleTest\r\n    {\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        String a = &quot;nocao&quot;;\r\n        String b = &quot;no&#231;&#227;o&quot;;\r\n    \r\n        final Collator instance = Collator.getInstance();\r\n    \r\n        // This strategy mean it&#39;ll ignore the accents and the case\r\n        instance.setStrength(Collator.PRIMARY);\r\n    \r\n        // Will print 0 because its EQUAL\r\n        System.out.println(instance.compare(a, b));\r\n      }\r\n    }\r\n\r\nDocumentation: [JavaDoc][1]\r\n\r\n**Be aware that this collator also ignores differences in case**, i.e. it also treats `&quot;NOCAO&quot;` as equal to `&quot;no&#231;&#227;o&quot;`. To create a collator that ignores accent differences but distingishes case, you might be able to use a [RuleBasedCollator](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/text/RuleBasedCollator.html)\r\n\r\nDo not confuse `Collator.setStrength()` with `Collator.setDecomposition()`. The `Collator` constants `PRIMARY`, `SECONDARY`, `TERTIARY` and `IDENTICAL` must only be used with `setStrength()`, while the constants `NO_DECOMPOSITION`, `CANONICAL_DECOMPOSITION` and `FULL_DECOMPOSITION` must only be used with `setDecomposition()`. (A previous version of this code mixed this up and only worked because `NO_DECOMPOSITION` and `PRIMARY` happen to have the [same integer value](https://docs.oracle.com/en/java/javase/18/docs/api/constant-values.html#java.text.Collator.IDENTICAL).)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/text/Collator.html","title":"Compare strings ignoring accented characters","body":"<p>You can use java Collators for comparing the tests ignoring the accent <strong>and case</strong>, see a simple example:</p>\n<pre><code>import java.text.Collator;\n\n/**\n * @author Kennedy\n */\npublic class SimpleTest\n{\n\n  public static void main(String[] args)\n  {\n    String a = &quot;nocao&quot;;\n    String b = &quot;noo&quot;;\n\n    final Collator instance = Collator.getInstance();\n\n    // This strategy mean it'll ignore the accents and the case\n    instance.setStrength(Collator.PRIMARY);\n\n    // Will print 0 because its EQUAL\n    System.out.println(instance.compare(a, b));\n  }\n}\n</code></pre>\n<p>Documentation: <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/text/Collator.html\" rel=\"nofollow noreferrer\">JavaDoc</a></p>\n<p><strong>Be aware that this collator also ignores differences in case</strong>, i.e. it also treats <code>&quot;NOCAO&quot;</code> as equal to <code>&quot;noo&quot;</code>. To create a collator that ignores accent differences but distingishes case, you might be able to use a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/text/RuleBasedCollator.html\" rel=\"nofollow noreferrer\">RuleBasedCollator</a></p>\n<p>Do not confuse <code>Collator.setStrength()</code> with <code>Collator.setDecomposition()</code>. The <code>Collator</code> constants <code>PRIMARY</code>, <code>SECONDARY</code>, <code>TERTIARY</code> and <code>IDENTICAL</code> must only be used with <code>setStrength()</code>, while the constants <code>NO_DECOMPOSITION</code>, <code>CANONICAL_DECOMPOSITION</code> and <code>FULL_DECOMPOSITION</code> must only be used with <code>setDecomposition()</code>. (A previous version of this code mixed this up and only worked because <code>NO_DECOMPOSITION</code> and <code>PRIMARY</code> happen to have the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/constant-values.html#java.text.Collator.IDENTICAL\" rel=\"nofollow noreferrer\">same integer value</a>.)</p>\n"}],"owner":{"account_id":2180706,"reputation":1076,"user_id":1930275,"accept_rate":64,"display_name":"alexandre1985"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26954,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"closed_date":1440665380,"accepted_answer_id":28835098,"answer_count":2,"score":23,"last_activity_date":1677207901,"creation_date":1425391477,"question_id":28833797,"body_markdown":"I would like to know if there is a method that compares 2 strings and ignores the accents making &quot;no&#231;&#227;o&quot; equal to &quot;nocao&quot;.\r\nit would be something like string1.methodCompareIgnoreAccent(string2);\r\n","title":"Compare strings ignoring accented characters","body":"<p>I would like to know if there is a method that compares 2 strings and ignores the accents making \"noo\" equal to \"nocao\".\nit would be something like string1.methodCompareIgnoreAccent(string2);</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677207724,"creation_date":1677148313,"answer_id":75543564,"question_id":75542745,"body_markdown":"**First Method: use `org.JSON`**\r\n\r\n`JSONObject` and `JSONArray` libraries are the right choice to solve your problem. You can build an object with `JSONObject.put(key, value)` and build an array with `JSONArray.put(value)`.\r\n```\r\npublic static void main(String[] args) {\r\n    JSONObject data = new JSONObject();\r\n    data.put(&quot;id&quot;, &quot;MESManufacturingTasksDefResp1&quot;);\r\n    data.put(&quot;type&quot;, &quot;MESManufacturingTasksDefResp&quot;);\r\n    \r\n    JSONArray attributes = new JSONArray();\r\n    \r\n    JSONObject attribute = new JSONObject();\r\n    attribute.put(&quot;name&quot;, &quot;publisherId&quot;);\r\n    attribute.put(&quot;type&quot;, &quot;Text&quot;);\r\n    attribute.put(&quot;value&quot;, &quot;MES&quot;);\r\n    attributes.put(attribute);\r\n    \r\n    attribute = new JSONObject();\r\n    attribute.put(&quot;name&quot;, &quot;manufacturingFacilityId&quot;);\r\n    attribute.put(&quot;type&quot;, &quot;Text&quot;);\r\n    attribute.put(&quot;value&quot;, &quot;warehouse_x&quot;);\r\n    attributes.put(attribute);\r\n    \r\n    attribute = new JSONObject();\r\n    attribute.put(&quot;name&quot;, &quot;manufacturingTasks&quot;);\r\n    attribute.put(&quot;type&quot;, &quot;ManufacturingTask&quot;);\r\n    \r\n    JSONArray value = new JSONArray();\r\n    JSONObject v = new JSONObject();\r\n    JSONObject sopDefs = new JSONObject();\r\n    sopDefs.put(&quot;id&quot;,&quot;sopId1&quot;);\r\n    sopDefs.put(&quot;name&quot;,&quot;sopName1&quot;);\r\n    \r\n    JSONArray manufacturingTaskDefs = new JSONArray();\r\n    JSONObject manufacturingTaskDef  = new JSONObject();\r\n    manufacturingTaskDef.put(&quot;id&quot;, &quot;rod_cap_extraction&quot;);\r\n    manufacturingTaskDef.put(&quot;name&quot;, &quot;rod_cap_extraction&quot;);\r\n    manufacturingTaskDefs.put(manufacturingTaskDef);\r\n    \r\n    sopDefs.put(&quot;manufacturingTaskDefs&quot;,manufacturingTaskDefs);\r\n    v.put(&quot;sopDefs&quot;, sopDefs);\r\n    value.put(v);\r\n    attribute.put(&quot;value&quot;, value);\r\n    attributes.put(attribute);\r\n    data.put(&quot;attributes&quot;, attributes);\r\n    \r\n    System.out.println(data.toString(4));\r\n}\r\n```\r\nThe output will be :\r\n```\r\n{\r\n    &quot;attributes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;publisherId&quot;,\r\n            &quot;type&quot;: &quot;Text&quot;,\r\n            &quot;value&quot;: &quot;MES&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;manufacturingFacilityId&quot;,\r\n            &quot;type&quot;: &quot;Text&quot;,\r\n            &quot;value&quot;: &quot;warehouse_x&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;manufacturingTasks&quot;,\r\n            &quot;type&quot;: &quot;ManufacturingTask&quot;,\r\n            &quot;value&quot;: [\r\n                {\r\n                    &quot;sopDefs&quot;: {\r\n                        &quot;manufacturingTaskDefs&quot;: [\r\n                            {\r\n                                &quot;name&quot;: &quot;rod_cap_extraction&quot;,\r\n                                &quot;id&quot;: &quot;rod_cap_extraction&quot;\r\n                            }\r\n                        ],\r\n                        &quot;name&quot;: &quot;sopName1&quot;,\r\n                        &quot;id&quot;: &quot;sopId1&quot;\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n    &quot;id&quot;: &quot;MESManufacturingTasksDefResp1&quot;,\r\n    &quot;type&quot;: &quot;MESManufacturingTasksDefResp&quot;\r\n}\r\n```\r\nLibrary source :\r\n1. https://mvnrepository.com/artifact/org.json/json\r\n2. https://repo1.maven.org/maven2/org/json/json/20220924/json-20220924.jar\r\n\r\n---\r\n\r\n**Second Method: Use `com.fasterxml.jackson`**\r\n\r\n`ObjectNode` and `ArrayNode` libraries also can solve your problem. First, you should define `ObjectMapper mapper = new ObjectMapper()`  as a mapper to create an object and array. You can build an object with `ObjectNode.put(key, value)` or `ObjectNode.set(key, value)` if the value is `ObjectNode` or `ArrayNode` and build an array with `ArrayNode.add(value)`.\r\n```\r\npublic static void main(String[] args) throws JsonProcessingException {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n    ObjectNode data = mapper.createObjectNode();\r\n    data.put(&quot;id&quot;, &quot;MESManufacturingTasksDefResp1&quot;);\r\n    data.put(&quot;type&quot;, &quot;MESManufacturingTasksDefResp&quot;);\r\n\r\n    ArrayNode attributes = mapper.createArrayNode();\r\n\r\n    ObjectNode attribute = mapper.createObjectNode();\r\n    attribute.put(&quot;name&quot;, &quot;publisherId&quot;);\r\n    attribute.put(&quot;type&quot;, &quot;Text&quot;);\r\n    attribute.put(&quot;value&quot;, &quot;MES&quot;);\r\n    attributes.add(attribute);\r\n\r\n    attribute = mapper.createObjectNode();\r\n    attribute.put(&quot;name&quot;, &quot;manufacturingFacilityId&quot;);\r\n    attribute.put(&quot;type&quot;, &quot;Text&quot;);\r\n    attribute.put(&quot;value&quot;, &quot;warehouse_x&quot;);\r\n    attributes.add(attribute);\r\n\r\n    attribute = mapper.createObjectNode();\r\n    attribute.put(&quot;name&quot;, &quot;manufacturingTasks&quot;);\r\n    attribute.put(&quot;type&quot;, &quot;ManufacturingTask&quot;);\r\n\r\n    ArrayNode value = mapper.createArrayNode();\r\n    ObjectNode v = mapper.createObjectNode();\r\n    ObjectNode sopDefs = mapper.createObjectNode();\r\n    sopDefs.put(&quot;id&quot;, &quot;sopId1&quot;);\r\n    sopDefs.put(&quot;name&quot;, &quot;sopName1&quot;);\r\n\r\n    ArrayNode manufacturingTaskDefs = mapper.createArrayNode();\r\n    ObjectNode manufacturingTaskDef = mapper.createObjectNode();\r\n    manufacturingTaskDef.put(&quot;id&quot;, &quot;rod_cap_extraction&quot;);\r\n    manufacturingTaskDef.put(&quot;name&quot;, &quot;rod_cap_extraction&quot;);\r\n    manufacturingTaskDefs.add(manufacturingTaskDef);\r\n\r\n    sopDefs.set(&quot;manufacturingTaskDefs&quot;, manufacturingTaskDefs);\r\n    v.set(&quot;sopDefs&quot;, sopDefs);\r\n    value.add(v);\r\n    attribute.set(&quot;value&quot;, value);\r\n    attributes.add(attribute);\r\n    data.set(&quot;attributes&quot;, attributes);\r\n\r\n    System.out.println(mapper.writeValueAsString(data));\r\n}\r\n```\r\nThe output will be :\r\n```\r\n{\r\n  &quot;id&quot; : &quot;MESManufacturingTasksDefResp1&quot;,\r\n  &quot;type&quot; : &quot;MESManufacturingTasksDefResp&quot;,\r\n  &quot;attributes&quot; : [ {\r\n    &quot;name&quot; : &quot;publisherId&quot;,\r\n    &quot;type&quot; : &quot;Text&quot;,\r\n    &quot;value&quot; : &quot;MES&quot;\r\n  }, {\r\n    &quot;name&quot; : &quot;manufacturingFacilityId&quot;,\r\n    &quot;type&quot; : &quot;Text&quot;,\r\n    &quot;value&quot; : &quot;warehouse_x&quot;\r\n  }, {\r\n    &quot;name&quot; : &quot;manufacturingTasks&quot;,\r\n    &quot;type&quot; : &quot;ManufacturingTask&quot;,\r\n    &quot;value&quot; : [ {\r\n      &quot;sopDefs&quot; : {\r\n        &quot;id&quot; : &quot;sopId1&quot;,\r\n        &quot;name&quot; : &quot;sopName1&quot;,\r\n        &quot;manufacturingTaskDefs&quot; : [ {\r\n          &quot;id&quot; : &quot;rod_cap_extraction&quot;,\r\n          &quot;name&quot; : &quot;rod_cap_extraction&quot;\r\n        } ]\r\n      }\r\n    } ]\r\n  } ]\r\n}\r\n```\r\nLibrary source :\r\n1. https://mvnrepository.com/artifact/com.fasterxml.jackson.core\r\n2. https://repo1.maven.org/maven2/com/fasterxml/jackson/core\r\n","title":"Nesting JSON in Java, Creating JSON","body":"<p><strong>First Method: use <code>org.JSON</code></strong></p>\n<p><code>JSONObject</code> and <code>JSONArray</code> libraries are the right choice to solve your problem. You can build an object with <code>JSONObject.put(key, value)</code> and build an array with <code>JSONArray.put(value)</code>.</p>\n<pre><code>public static void main(String[] args) {\n    JSONObject data = new JSONObject();\n    data.put(&quot;id&quot;, &quot;MESManufacturingTasksDefResp1&quot;);\n    data.put(&quot;type&quot;, &quot;MESManufacturingTasksDefResp&quot;);\n    \n    JSONArray attributes = new JSONArray();\n    \n    JSONObject attribute = new JSONObject();\n    attribute.put(&quot;name&quot;, &quot;publisherId&quot;);\n    attribute.put(&quot;type&quot;, &quot;Text&quot;);\n    attribute.put(&quot;value&quot;, &quot;MES&quot;);\n    attributes.put(attribute);\n    \n    attribute = new JSONObject();\n    attribute.put(&quot;name&quot;, &quot;manufacturingFacilityId&quot;);\n    attribute.put(&quot;type&quot;, &quot;Text&quot;);\n    attribute.put(&quot;value&quot;, &quot;warehouse_x&quot;);\n    attributes.put(attribute);\n    \n    attribute = new JSONObject();\n    attribute.put(&quot;name&quot;, &quot;manufacturingTasks&quot;);\n    attribute.put(&quot;type&quot;, &quot;ManufacturingTask&quot;);\n    \n    JSONArray value = new JSONArray();\n    JSONObject v = new JSONObject();\n    JSONObject sopDefs = new JSONObject();\n    sopDefs.put(&quot;id&quot;,&quot;sopId1&quot;);\n    sopDefs.put(&quot;name&quot;,&quot;sopName1&quot;);\n    \n    JSONArray manufacturingTaskDefs = new JSONArray();\n    JSONObject manufacturingTaskDef  = new JSONObject();\n    manufacturingTaskDef.put(&quot;id&quot;, &quot;rod_cap_extraction&quot;);\n    manufacturingTaskDef.put(&quot;name&quot;, &quot;rod_cap_extraction&quot;);\n    manufacturingTaskDefs.put(manufacturingTaskDef);\n    \n    sopDefs.put(&quot;manufacturingTaskDefs&quot;,manufacturingTaskDefs);\n    v.put(&quot;sopDefs&quot;, sopDefs);\n    value.put(v);\n    attribute.put(&quot;value&quot;, value);\n    attributes.put(attribute);\n    data.put(&quot;attributes&quot;, attributes);\n    \n    System.out.println(data.toString(4));\n}\n</code></pre>\n<p>The output will be :</p>\n<pre><code>{\n    &quot;attributes&quot;: [\n        {\n            &quot;name&quot;: &quot;publisherId&quot;,\n            &quot;type&quot;: &quot;Text&quot;,\n            &quot;value&quot;: &quot;MES&quot;\n        },\n        {\n            &quot;name&quot;: &quot;manufacturingFacilityId&quot;,\n            &quot;type&quot;: &quot;Text&quot;,\n            &quot;value&quot;: &quot;warehouse_x&quot;\n        },\n        {\n            &quot;name&quot;: &quot;manufacturingTasks&quot;,\n            &quot;type&quot;: &quot;ManufacturingTask&quot;,\n            &quot;value&quot;: [\n                {\n                    &quot;sopDefs&quot;: {\n                        &quot;manufacturingTaskDefs&quot;: [\n                            {\n                                &quot;name&quot;: &quot;rod_cap_extraction&quot;,\n                                &quot;id&quot;: &quot;rod_cap_extraction&quot;\n                            }\n                        ],\n                        &quot;name&quot;: &quot;sopName1&quot;,\n                        &quot;id&quot;: &quot;sopId1&quot;\n                    }\n                }\n            ]\n        }\n    ],\n    &quot;id&quot;: &quot;MESManufacturingTasksDefResp1&quot;,\n    &quot;type&quot;: &quot;MESManufacturingTasksDefResp&quot;\n}\n</code></pre>\n<p>Library source :</p>\n<ol>\n<li><a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.json/json</a></li>\n<li><a href=\"https://repo1.maven.org/maven2/org/json/json/20220924/json-20220924.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/json/json/20220924/json-20220924.jar</a></li>\n</ol>\n<hr />\n<p><strong>Second Method: Use <code>com.fasterxml.jackson</code></strong></p>\n<p><code>ObjectNode</code> and <code>ArrayNode</code> libraries also can solve your problem. First, you should define <code>ObjectMapper mapper = new ObjectMapper()</code>  as a mapper to create an object and array. You can build an object with <code>ObjectNode.put(key, value)</code> or <code>ObjectNode.set(key, value)</code> if the value is <code>ObjectNode</code> or <code>ArrayNode</code> and build an array with <code>ArrayNode.add(value)</code>.</p>\n<pre><code>public static void main(String[] args) throws JsonProcessingException {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.enable(SerializationFeature.INDENT_OUTPUT);\n\n    ObjectNode data = mapper.createObjectNode();\n    data.put(&quot;id&quot;, &quot;MESManufacturingTasksDefResp1&quot;);\n    data.put(&quot;type&quot;, &quot;MESManufacturingTasksDefResp&quot;);\n\n    ArrayNode attributes = mapper.createArrayNode();\n\n    ObjectNode attribute = mapper.createObjectNode();\n    attribute.put(&quot;name&quot;, &quot;publisherId&quot;);\n    attribute.put(&quot;type&quot;, &quot;Text&quot;);\n    attribute.put(&quot;value&quot;, &quot;MES&quot;);\n    attributes.add(attribute);\n\n    attribute = mapper.createObjectNode();\n    attribute.put(&quot;name&quot;, &quot;manufacturingFacilityId&quot;);\n    attribute.put(&quot;type&quot;, &quot;Text&quot;);\n    attribute.put(&quot;value&quot;, &quot;warehouse_x&quot;);\n    attributes.add(attribute);\n\n    attribute = mapper.createObjectNode();\n    attribute.put(&quot;name&quot;, &quot;manufacturingTasks&quot;);\n    attribute.put(&quot;type&quot;, &quot;ManufacturingTask&quot;);\n\n    ArrayNode value = mapper.createArrayNode();\n    ObjectNode v = mapper.createObjectNode();\n    ObjectNode sopDefs = mapper.createObjectNode();\n    sopDefs.put(&quot;id&quot;, &quot;sopId1&quot;);\n    sopDefs.put(&quot;name&quot;, &quot;sopName1&quot;);\n\n    ArrayNode manufacturingTaskDefs = mapper.createArrayNode();\n    ObjectNode manufacturingTaskDef = mapper.createObjectNode();\n    manufacturingTaskDef.put(&quot;id&quot;, &quot;rod_cap_extraction&quot;);\n    manufacturingTaskDef.put(&quot;name&quot;, &quot;rod_cap_extraction&quot;);\n    manufacturingTaskDefs.add(manufacturingTaskDef);\n\n    sopDefs.set(&quot;manufacturingTaskDefs&quot;, manufacturingTaskDefs);\n    v.set(&quot;sopDefs&quot;, sopDefs);\n    value.add(v);\n    attribute.set(&quot;value&quot;, value);\n    attributes.add(attribute);\n    data.set(&quot;attributes&quot;, attributes);\n\n    System.out.println(mapper.writeValueAsString(data));\n}\n</code></pre>\n<p>The output will be :</p>\n<pre><code>{\n  &quot;id&quot; : &quot;MESManufacturingTasksDefResp1&quot;,\n  &quot;type&quot; : &quot;MESManufacturingTasksDefResp&quot;,\n  &quot;attributes&quot; : [ {\n    &quot;name&quot; : &quot;publisherId&quot;,\n    &quot;type&quot; : &quot;Text&quot;,\n    &quot;value&quot; : &quot;MES&quot;\n  }, {\n    &quot;name&quot; : &quot;manufacturingFacilityId&quot;,\n    &quot;type&quot; : &quot;Text&quot;,\n    &quot;value&quot; : &quot;warehouse_x&quot;\n  }, {\n    &quot;name&quot; : &quot;manufacturingTasks&quot;,\n    &quot;type&quot; : &quot;ManufacturingTask&quot;,\n    &quot;value&quot; : [ {\n      &quot;sopDefs&quot; : {\n        &quot;id&quot; : &quot;sopId1&quot;,\n        &quot;name&quot; : &quot;sopName1&quot;,\n        &quot;manufacturingTaskDefs&quot; : [ {\n          &quot;id&quot; : &quot;rod_cap_extraction&quot;,\n          &quot;name&quot; : &quot;rod_cap_extraction&quot;\n        } ]\n      }\n    } ]\n  } ]\n}\n</code></pre>\n<p>Library source :</p>\n<ol>\n<li><a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.fasterxml.jackson.core</a></li>\n<li><a href=\"https://repo1.maven.org/maven2/com/fasterxml/jackson/core\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/fasterxml/jackson/core</a></li>\n</ol>\n"}],"owner":{"account_id":27428753,"reputation":7,"user_id":20925806,"display_name":"V.T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75543564,"answer_count":1,"score":0,"last_activity_date":1677207724,"creation_date":1677143853,"question_id":75542745,"body_markdown":"Here&#39;s the JSON I need, exactly this format:\r\n\r\n```\r\n{\r\n  &quot;id&quot;:&quot;MESManufacturingTasksDefResp1&quot;,\r\n  &quot;type&quot;:&quot;MESManufacturingTasksDefResp&quot;,\r\n  &quot;attributes&quot;:[\r\n    {\r\n      &quot;name&quot;:&quot;publisherId&quot;,\r\n      &quot;type&quot;:&quot;Text&quot;,\r\n      &quot;value&quot;:&quot;MES&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;:&quot;manufacturingFacilityId&quot;,\r\n      &quot;type&quot;: &quot;Text&quot;,\r\n      &quot;value&quot;: &quot;warehouse_x&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;:&quot;manufacturingTasks&quot;,\r\n      &quot;type&quot;: &quot;ManufacturingTask&quot;,\r\n      \r\n\r\n&quot;value&quot;:[{&quot;sopDefs&quot;:\r\n      {\r\n\r\n        &quot;id&quot;: &quot;sopId1&quot;,\r\n        &quot;name&quot;: &quot;sopName1&quot;,\r\n        &quot;manufacturingTaskDefs&quot;: [\r\n          {\r\n            &quot;id&quot;: &quot;rod_cap_extraction&quot;,\r\n            &quot;name&quot;: &quot;rod_cap_extraction&quot;\r\n          }\r\n        ]\r\n      }\r\n\r\n      }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n\r\n```\r\n\r\nHere is what I&#39;ve done so far:\r\n\r\n```\r\nstatic ArrayList&lt;AttDTO&gt; attributes5 = new ArrayList&lt;AttDTO&gt;();\r\n\r\nstatic ArrayList&lt;String&gt; value2 = new ArrayList&lt;String&gt;();\r\n\r\n// creating fifth entity\r\n\t\tBaseDTO obj5 = new BaseDTO(&quot;MESManufacturingTasksDefResp1&quot;,&quot;MESManufacturingTasksDefResp&quot;, attributes5);\r\n\t\tattributes5.add(new AttDTO(&quot;publisherId&quot;,&quot;Text&quot;,&quot;MES&quot;));\r\n\t\tattributes5.add(new AttDTO(&quot;manufacturingFacilityId&quot;,&quot;Text&quot;,&quot;warehouse_x&quot;));\r\n\t\tattributes5.add(new AttDTO(&quot;manufacturingTasks&quot;,&quot;ManufacturingTask&quot;, value2 ));\r\n\t\t//value2.add();\r\n\t\tObjectMapper mapper5 = new ObjectMapper();\r\n\t\tString json5 = mapper5.writeValueAsString(obj5);\r\n\t\tSystem.out.println(&quot;\\n&quot; + json5);\r\n```\r\nI have succeded in printing out everything until manufacturingTask as it was required. The element below in this array is impossible to comprehend how to be presented for me is at this time. Any ideas?\r\n\r\n&gt; &quot;value&quot;:[{&quot;sopDefs&quot;:\r\n&gt; \r\n&gt;       {\r\n&gt; \r\n&gt;         &quot;id&quot;: &quot;sopId1&quot;,\r\n&gt;         &quot;name&quot;: &quot;sopName1&quot;,\r\n&gt;         &quot;manufacturingTaskDefs&quot;: [\r\n&gt;           {\r\n&gt;             &quot;id&quot;: &quot;rod_cap_extraction&quot;,\r\n&gt;             &quot;name&quot;: &quot;rod_cap_extraction&quot;\r\n&gt;           }\r\n&gt;         ]\r\n&gt;       }","title":"Nesting JSON in Java, Creating JSON","body":"<p>Here's the JSON I need, exactly this format:</p>\n<pre><code>{\n  &quot;id&quot;:&quot;MESManufacturingTasksDefResp1&quot;,\n  &quot;type&quot;:&quot;MESManufacturingTasksDefResp&quot;,\n  &quot;attributes&quot;:[\n    {\n      &quot;name&quot;:&quot;publisherId&quot;,\n      &quot;type&quot;:&quot;Text&quot;,\n      &quot;value&quot;:&quot;MES&quot;\n    },\n    {\n      &quot;name&quot;:&quot;manufacturingFacilityId&quot;,\n      &quot;type&quot;: &quot;Text&quot;,\n      &quot;value&quot;: &quot;warehouse_x&quot;\n    },\n    {\n      &quot;name&quot;:&quot;manufacturingTasks&quot;,\n      &quot;type&quot;: &quot;ManufacturingTask&quot;,\n      \n\n&quot;value&quot;:[{&quot;sopDefs&quot;:\n      {\n\n        &quot;id&quot;: &quot;sopId1&quot;,\n        &quot;name&quot;: &quot;sopName1&quot;,\n        &quot;manufacturingTaskDefs&quot;: [\n          {\n            &quot;id&quot;: &quot;rod_cap_extraction&quot;,\n            &quot;name&quot;: &quot;rod_cap_extraction&quot;\n          }\n        ]\n      }\n\n      }\n      ]\n    }\n  ]\n}\n\n</code></pre>\n<p>Here is what I've done so far:</p>\n<pre><code>static ArrayList&lt;AttDTO&gt; attributes5 = new ArrayList&lt;AttDTO&gt;();\n\nstatic ArrayList&lt;String&gt; value2 = new ArrayList&lt;String&gt;();\n\n// creating fifth entity\n        BaseDTO obj5 = new BaseDTO(&quot;MESManufacturingTasksDefResp1&quot;,&quot;MESManufacturingTasksDefResp&quot;, attributes5);\n        attributes5.add(new AttDTO(&quot;publisherId&quot;,&quot;Text&quot;,&quot;MES&quot;));\n        attributes5.add(new AttDTO(&quot;manufacturingFacilityId&quot;,&quot;Text&quot;,&quot;warehouse_x&quot;));\n        attributes5.add(new AttDTO(&quot;manufacturingTasks&quot;,&quot;ManufacturingTask&quot;, value2 ));\n        //value2.add();\n        ObjectMapper mapper5 = new ObjectMapper();\n        String json5 = mapper5.writeValueAsString(obj5);\n        System.out.println(&quot;\\n&quot; + json5);\n</code></pre>\n<p>I have succeded in printing out everything until manufacturingTask as it was required. The element below in this array is impossible to comprehend how to be presented for me is at this time. Any ideas?</p>\n<blockquote>\n<p>&quot;value&quot;:[{&quot;sopDefs&quot;:</p>\n<pre><code>  {\n\n    &quot;id&quot;: &quot;sopId1&quot;,\n    &quot;name&quot;: &quot;sopName1&quot;,\n    &quot;manufacturingTaskDefs&quot;: [\n      {\n        &quot;id&quot;: &quot;rod_cap_extraction&quot;,\n        &quot;name&quot;: &quot;rod_cap_extraction&quot;\n      }\n    ]\n  }\n</code></pre>\n</blockquote>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1661259864,"post_id":73459066,"comment_id":129725305,"body_markdown":"There are no best practices, just good practices in context.","body":"There are no best practices, just good practices in context."},{"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"score":0,"creation_date":1661261355,"post_id":73459066,"comment_id":129725996,"body_markdown":"sorry my question is not up to standard @EJoshuaS-StandwithUkraine im asking in the best way i could :)","body":"sorry my question is not up to standard @EJoshuaS-StandwithUkraine im asking in the best way i could :)"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1661261828,"creation_date":1661259697,"answer_id":73459215,"question_id":73459066,"body_markdown":"It always starts with having the right data structure. If you want a user to be only allowed an action once, you need:\r\n\r\n1. To be able to identify the user, by signing them in with/to [Firebase Authentication][1].\r\n2. A data structure that allows checking if they&#39;ve taken the action before. That would typically be a map with the UID as the key, as that&#39;s the only way you can ensure uniqueness.\r\n\r\nSince you want to track upvotes and downvotes separately, that&#39;d be:\r\n```\r\nupvotes: {\r\n  &quot;uid1&quot;: true,\r\n  &quot;uid2&quot;: true\r\n},\r\ndownvotes: {\r\n  &quot;uid3&quot;: true\r\n}\r\n```\r\n\r\nNow the rest of your requirements are a bunch of [security rules]() on this structure.\r\n\r\n---\r\n\r\nFor example, **a user is allowed to cast a vote for themselves**, which would look like this:\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    ...\r\n    &quot;upvotes&quot;: {\r\n      &quot;$uid&quot;: {\r\n        &quot;.write&quot;: &quot;auth.uid === $uid&quot;\r\n      }\r\n    },\r\n    &quot;downvotes&quot;: {\r\n      &quot;$uid&quot;: {\r\n        &quot;.write&quot;: &quot;auth.uid === $uid&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\nNext up, **a user can only upvote *or* downvote, not both**, which is something like this:\r\n```\r\n&quot;upvotes&quot;: {\r\n  &quot;$uid&quot;: {\r\n    &quot;.write&quot;: &quot;auth.uid === $uid\r\n            &amp;&amp; !newData.parent().parent().child(&#39;downvotes&#39;).child(auth.uid).exists()&quot;\r\n  }\r\n},\r\n```\r\n\r\nAnd then of course the equivalent rule under `downvotes` too.\r\n\r\n---\r\n\r\nWith the above rules, a user can **cast an upvote** with this JSON patch (which you could build as a `Map` in Android):\r\n```\r\n{\r\n  &quot;upvotes/uid1&quot;: true\r\n}\r\n```\r\n\r\nA downvote would be:\r\n```\r\n{\r\n  &quot;downvotes/uid1&quot;: true\r\n}\r\n```\r\n\r\nBut that would get rejected if they&#39;d already upvoted, so you can switch their upvote to a downvote by doing this (single) write operation:\r\n\r\n```\r\n{\r\n  &quot;upvotes/uid1&quot;: null,\r\n  &quot;downvotes/uid1&quot;: true\r\n}\r\n```\r\n\r\nThe `null` here deletes their upvote, and the `true` writes the downvote, both happening as a single operation.\r\n\r\n\r\n---\r\n\r\n### Storing and securing the counters\r\n\r\n\r\nFinally that gets us to the counting that you asked about, which is a separate topic from uniqueness. Storing the count is optional now, as the information is already present in the number of UIDs. But it is a good optimization as without a stored counter, users would have to download all UID values to count them.\r\n\r\nSo the data structure becomes:\r\n\r\n```\r\nupvotes: {\r\n  &quot;uid1&quot;: true,\r\n  &quot;uid2&quot;: true\r\n},\r\nupvoteCount: 2,\r\ndownvotes: {\r\n  &quot;uid3&quot;: true\r\n},\r\ndownvoteCount: 1\r\n```\r\n\r\n\r\nNow that you have the data structure and we&#39;ve seen the transitions, it becomes a matter of ensuring that the change in count matches the vote being cast.\r\n\r\nFirst example of that is the upvote snippet we saw above: **you can increase the upvote count when you cast an upvote**. In rules\r\n```\r\n&quot;upvoteCount&quot;: {\r\n  &quot;.write&quot;: &quot;(\r\n              newData.val() = data.val() + 1\r\n              newData.parent().parent().child(&#39;upvotes&#39;).child(auth.uid).exists()\r\n             &amp;&amp; !data.parent().parent().child(&#39;upvotes&#39;).child(auth.uid).exists()\r\n            )&quot;\r\n}\r\n```\r\n\r\nI hope this expression makes sense if you read the definition above it: \r\n\r\n1. the user can only increase the upvote count by 1, \r\n2. and only if they added their UID to the `upvotes` list, \r\n3. and if it didn&#39;t exist there before\r\n\r\nYou&#39;ll similarly need to handle decreasing the upvote count if they remove their vote, and then also handle the downvotes counts. The rules for these are all similar, but separate.\r\n\r\nOnce you have that, the final step is to enhance the rules for `upvotes` and `downvotes` to also require that the user updates the count when they cast a vote. **When a user casts a vote, they also have to update the count**. So that&#39;d be the inverse of the rules we just saw:\r\n\r\n    &quot;upvotes&quot;: {\r\n      &quot;$uid&quot;: {\r\n        &quot;.write&quot;: &quot;auth.uid === $uid\r\n                &amp;&amp; newData.exists() \r\n                &amp;&amp; !data.exists()\r\n                &amp;&amp;  newData.parent().parent().child(&#39;upvoteCount&#39;).val() == \r\n                       data.parent().parent().child(&#39;upvoteCount&#39;).val() + 1\r\n      }\r\n    },\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/auth","title":"How to create a secure like counter in Firebase Realtime Database","body":"<p>It always starts with having the right data structure. If you want a user to be only allowed an action once, you need:</p>\n<ol>\n<li>To be able to identify the user, by signing them in with/to <a href=\"https://firebase.google.com/docs/auth\" rel=\"noreferrer\">Firebase Authentication</a>.</li>\n<li>A data structure that allows checking if they've taken the action before. That would typically be a map with the UID as the key, as that's the only way you can ensure uniqueness.</li>\n</ol>\n<p>Since you want to track upvotes and downvotes separately, that'd be:</p>\n<pre><code>upvotes: {\n  &quot;uid1&quot;: true,\n  &quot;uid2&quot;: true\n},\ndownvotes: {\n  &quot;uid3&quot;: true\n}\n</code></pre>\n<p>Now the rest of your requirements are a bunch of security rules on this structure.</p>\n<hr />\n<p>For example, <strong>a user is allowed to cast a vote for themselves</strong>, which would look like this:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    ...\n    &quot;upvotes&quot;: {\n      &quot;$uid&quot;: {\n        &quot;.write&quot;: &quot;auth.uid === $uid&quot;\n      }\n    },\n    &quot;downvotes&quot;: {\n      &quot;$uid&quot;: {\n        &quot;.write&quot;: &quot;auth.uid === $uid&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<hr />\n<p>Next up, <strong>a user can only upvote <em>or</em> downvote, not both</strong>, which is something like this:</p>\n<pre><code>&quot;upvotes&quot;: {\n  &quot;$uid&quot;: {\n    &quot;.write&quot;: &quot;auth.uid === $uid\n            &amp;&amp; !newData.parent().parent().child('downvotes').child(auth.uid).exists()&quot;\n  }\n},\n</code></pre>\n<p>And then of course the equivalent rule under <code>downvotes</code> too.</p>\n<hr />\n<p>With the above rules, a user can <strong>cast an upvote</strong> with this JSON patch (which you could build as a <code>Map</code> in Android):</p>\n<pre><code>{\n  &quot;upvotes/uid1&quot;: true\n}\n</code></pre>\n<p>A downvote would be:</p>\n<pre><code>{\n  &quot;downvotes/uid1&quot;: true\n}\n</code></pre>\n<p>But that would get rejected if they'd already upvoted, so you can switch their upvote to a downvote by doing this (single) write operation:</p>\n<pre><code>{\n  &quot;upvotes/uid1&quot;: null,\n  &quot;downvotes/uid1&quot;: true\n}\n</code></pre>\n<p>The <code>null</code> here deletes their upvote, and the <code>true</code> writes the downvote, both happening as a single operation.</p>\n<hr />\n<h3>Storing and securing the counters</h3>\n<p>Finally that gets us to the counting that you asked about, which is a separate topic from uniqueness. Storing the count is optional now, as the information is already present in the number of UIDs. But it is a good optimization as without a stored counter, users would have to download all UID values to count them.</p>\n<p>So the data structure becomes:</p>\n<pre><code>upvotes: {\n  &quot;uid1&quot;: true,\n  &quot;uid2&quot;: true\n},\nupvoteCount: 2,\ndownvotes: {\n  &quot;uid3&quot;: true\n},\ndownvoteCount: 1\n</code></pre>\n<p>Now that you have the data structure and we've seen the transitions, it becomes a matter of ensuring that the change in count matches the vote being cast.</p>\n<p>First example of that is the upvote snippet we saw above: <strong>you can increase the upvote count when you cast an upvote</strong>. In rules</p>\n<pre><code>&quot;upvoteCount&quot;: {\n  &quot;.write&quot;: &quot;(\n              newData.val() = data.val() + 1\n              newData.parent().parent().child('upvotes').child(auth.uid).exists()\n             &amp;&amp; !data.parent().parent().child('upvotes').child(auth.uid).exists()\n            )&quot;\n}\n</code></pre>\n<p>I hope this expression makes sense if you read the definition above it:</p>\n<ol>\n<li>the user can only increase the upvote count by 1,</li>\n<li>and only if they added their UID to the <code>upvotes</code> list,</li>\n<li>and if it didn't exist there before</li>\n</ol>\n<p>You'll similarly need to handle decreasing the upvote count if they remove their vote, and then also handle the downvotes counts. The rules for these are all similar, but separate.</p>\n<p>Once you have that, the final step is to enhance the rules for <code>upvotes</code> and <code>downvotes</code> to also require that the user updates the count when they cast a vote. <strong>When a user casts a vote, they also have to update the count</strong>. So that'd be the inverse of the rules we just saw:</p>\n<pre><code>&quot;upvotes&quot;: {\n  &quot;$uid&quot;: {\n    &quot;.write&quot;: &quot;auth.uid === $uid\n            &amp;&amp; newData.exists() \n            &amp;&amp; !data.exists()\n            &amp;&amp;  newData.parent().parent().child('upvoteCount').val() == \n                   data.parent().parent().child('upvoteCount').val() + 1\n  }\n},\n</code></pre>\n"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":73459215,"answer_count":1,"score":4,"last_activity_date":1677207109,"creation_date":1661259099,"question_id":73459066,"body_markdown":"I&#39;ve got a user node with in my database that stores any info about the user. Then in my app I have to image buttons:\r\n\r\n    mlike = root.findViewById(R.id.btn_like);\r\n    mdislike = root.findViewById(R.id.btn_dislike);\r\n    mlike.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n               likeStations();\r\n            }\r\n        });\r\n  \r\n     mdislike.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n               dislikeStations();\r\n            }\r\n        });\r\n\r\n    private void dislikeStations(){\r\n\r\n     db = FirebaseDatabase.getInstance();\r\n        ref = db.getReference().child(&quot;Users&quot;).child(user);\r\n\r\n        DatabaseReference likesRef = FirebaseDatabase.getInstance().getReference().child(&quot;STATIONS&quot;).child(station);\r\n        likesRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n\r\n                if (dataSnapshot.exists()) { \r\n    Boolean dislike_snapshot = dataSnapshot.child(&quot;downvote&quot;).getValue(Boolean.class);\r\n    likeref.child(&quot;downvote&quot;).setValue(+1)\r\n\r\n                }\r\n    }\r\n\r\nThen it&#39;s pretty much the same thing for the likeStations() method. What I&#39;d like to know is how to make sure they can only click the buttons once or if they click the like after clicking dislike it removes 1 from dislike before putting 1 on like.\r\n\r\nI know it will use the user node hence why I&#39;ve added it to the question.\r\n","title":"How to create a secure like counter in Firebase Realtime Database","body":"<p>I've got a user node with in my database that stores any info about the user. Then in my app I have to image buttons:</p>\n<pre><code>mlike = root.findViewById(R.id.btn_like);\nmdislike = root.findViewById(R.id.btn_dislike);\nmlike.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n           likeStations();\n        }\n    });\n\n mdislike.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n           dislikeStations();\n        }\n    });\n\nprivate void dislikeStations(){\n\n db = FirebaseDatabase.getInstance();\n    ref = db.getReference().child(&quot;Users&quot;).child(user);\n\n    DatabaseReference likesRef = FirebaseDatabase.getInstance().getReference().child(&quot;STATIONS&quot;).child(station);\n    likesRef.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n\n            if (dataSnapshot.exists()) { \nBoolean dislike_snapshot = dataSnapshot.child(&quot;downvote&quot;).getValue(Boolean.class);\nlikeref.child(&quot;downvote&quot;).setValue(+1)\n\n            }\n}\n</code></pre>\n<p>Then it's pretty much the same thing for the likeStations() method. What I'd like to know is how to make sure they can only click the buttons once or if they click the like after clicking dislike it removes 1 from dislike before putting 1 on like.</p>\n<p>I know it will use the user node hence why I've added it to the question.</p>\n"},{"tags":["java","visual-studio-code","code-server"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677205692,"creation_date":1677205692,"answer_id":75552116,"question_id":75543287,"body_markdown":"&gt; #### Manage dependencies for unmanaged folder\r\n&gt; If your project is an unmanaged folder without any build tools. You can manage the dependencies by clicking the + icon or the - icon on the **Referenced Libraries** node or the items under it, or you can just directly drag your jar libraries to the node `Referenced Libraries`\r\n\r\n   [![enter image description here][1]][1]\r\n\r\nSimple scripts can be imported directly. If it is a Java project, it is recommended to use build tools such as **Maven** to manage dependencies.\r\n\r\nhttps://code.visualstudio.com/docs/java/java-project#_dependency-management\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GkVO7.png","title":"How do i import jar files to Visual studio code?","body":"<blockquote>\n<h4>Manage dependencies for unmanaged folder</h4>\n<p>If your project is an unmanaged folder without any build tools. You can manage the dependencies by clicking the + icon or the - icon on the <strong>Referenced Libraries</strong> node or the items under it, or you can just directly drag your jar libraries to the node <code>Referenced Libraries</code></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/GkVO7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GkVO7.png\" alt=\"enter image description here\" /></a></p>\n<p>Simple scripts can be imported directly. If it is a Java project, it is recommended to use build tools such as <strong>Maven</strong> to manage dependencies.</p>\n<p><a href=\"https://code.visualstudio.com/docs/java/java-project#_dependency-management\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-project#_dependency-management</a></p>\n"}],"owner":{"account_id":27859105,"reputation":3,"user_id":21272012,"display_name":"Amrinder Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75552116,"answer_count":1,"score":0,"last_activity_date":1677205692,"creation_date":1677146785,"question_id":75543287,"body_markdown":"I followed everything written on the official website, but it doesnt seem to work.\r\n[enter image description here](https://i.stack.imgur.com/sUtVG.png)\r\n\r\n\r\nI also tried modifing the settings.json directly but that too didnt seem to work.\r\nDoes anyone know what the problem may be?","title":"How do i import jar files to Visual studio code?","body":"<p>I followed everything written on the official website, but it doesnt seem to work.\n<a href=\"https://i.stack.imgur.com/sUtVG.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I also tried modifing the settings.json directly but that too didnt seem to work.\nDoes anyone know what the problem may be?</p>\n"},{"tags":["java","solr","solrj"],"owner":{"account_id":16480533,"reputation":311,"user_id":11907420,"display_name":"Usman Sajid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677203826,"creation_date":1677203826,"question_id":75551979,"body_markdown":"I am working on a project in which I am using Apache Solr with the Java application. I want to execute the Bulk request on the Apache Solr so that multiple indexing or delete operations can be done in a single API call. I am unable to figure out how to achieve this in SolrJ java library. Previously on another project, I have worked on a Java application in which we were using Elasticsearch to store data. I remember that in that project we were using elasticsearch-rest-high-level-client library along with the elasticsearch java client in order to make Bulk requests. We used to call RestHighLevelClient class bulk method for this purpose. Can anyone tell me how to achieve the same thing in SolrJ library which is a Java client to communicate with the Apache Solr. ","title":"Execute a bulk request on the Apache Solr using Solrj java Library","body":"<p>I am working on a project in which I am using Apache Solr with the Java application. I want to execute the Bulk request on the Apache Solr so that multiple indexing or delete operations can be done in a single API call. I am unable to figure out how to achieve this in SolrJ java library. Previously on another project, I have worked on a Java application in which we were using Elasticsearch to store data. I remember that in that project we were using elasticsearch-rest-high-level-client library along with the elasticsearch java client in order to make Bulk requests. We used to call RestHighLevelClient class bulk method for this purpose. Can anyone tell me how to achieve the same thing in SolrJ library which is a Java client to communicate with the Apache Solr.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":0,"creation_date":1470056185,"post_id":38699306,"comment_id":64776746,"body_markdown":"Do you want to support drag&amp;drop to external applications or only inside your own?","body":"Do you want to support drag&amp;drop to external applications or only inside your own?"},{"owner":{"account_id":236896,"reputation":198,"user_id":504695,"display_name":"ryanlb1000"},"score":0,"creation_date":1470056232,"post_id":38699306,"comment_id":64776778,"body_markdown":"Only inside my application.","body":"Only inside my application."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1470063351,"post_id":38699306,"comment_id":64781614,"body_markdown":"It&#39;s pretty easy to test if the shift key is down when the drag is initiated (from within the application): the handler for `onDragDetected` takes a `MouseEvent`, which has an `isShiftDown()` method. That wouldn&#39;t allow the user to modify the behavior during the drag; I don&#39;t know how important that is to you. The easiest way to have a &quot;global&quot; test for the shift key is probably to use event filters on the (one for key pressed, one for key released) on the `Scene`.","body":"It&#39;s pretty easy to test if the shift key is down when the drag is initiated (from within the application): the handler for <code>onDragDetected</code> takes a <code>MouseEvent</code>, which has an <code>isShiftDown()</code> method. That wouldn&#39;t allow the user to modify the behavior during the drag; I don&#39;t know how important that is to you. The easiest way to have a &quot;global&quot; test for the shift key is probably to use event filters on the (one for key pressed, one for key released) on the <code>Scene</code>."},{"owner":{"account_id":236896,"reputation":198,"user_id":504695,"display_name":"ryanlb1000"},"score":0,"creation_date":1470063990,"post_id":38699306,"comment_id":64782003,"body_markdown":"@James_D Thanks, I had not considered checking at the start. The exact behavior isn&#39;t critical (probably), but it would be nice to be able to adjust modes during the drag. This happens today (only, the behavior is the inverse of what I&#39;d like). I&#39;ll be dragging (potentially) between two scenes (even two instances of the app). I wasn&#39;t sure if source or destination would be responding to key events (I assume I need the destination to). I admitted I haven&#39;t yet explored this avenue. It sounds like that will be the next step.","body":"@James_D Thanks, I had not considered checking at the start. The exact behavior isn&#39;t critical (probably), but it would be nice to be able to adjust modes during the drag. This happens today (only, the behavior is the inverse of what I&#39;d like). I&#39;ll be dragging (potentially) between two scenes (even two instances of the app). I wasn&#39;t sure if source or destination would be responding to key events (I assume I need the destination to). I admitted I haven&#39;t yet explored this avenue. It sounds like that will be the next step."},{"owner":{"account_id":236896,"reputation":198,"user_id":504695,"display_name":"ryanlb1000"},"score":1,"creation_date":1470071054,"post_id":38699306,"comment_id":64786379,"body_markdown":"To follow-up, I tried a key event filter, but the destination (the drop target) didn&#39;t get the events (the source did). This makes sense (to me), as it has the focus. I did consider that since I am receiving the events (at the source), and I control both sides, I could come up with a novel way to get that information to the destination. In the end, that seems like a road to far to travel for my needs. I did notice that default JavaFX does adjust to key presses, even across application instances, even on the instance in the background. So, it&#39;s possible, but perhaps not public / configurable.","body":"To follow-up, I tried a key event filter, but the destination (the drop target) didn&#39;t get the events (the source did). This makes sense (to me), as it has the focus. I did consider that since I am receiving the events (at the source), and I control both sides, I could come up with a novel way to get that information to the destination. In the end, that seems like a road to far to travel for my needs. I did notice that default JavaFX does adjust to key presses, even across application instances, even on the instance in the background. So, it&#39;s possible, but perhaps not public / configurable."},{"owner":{"account_id":1303014,"reputation":527,"user_id":1252561,"display_name":"Kay"},"score":0,"creation_date":1571162274,"post_id":38699306,"comment_id":103145739,"body_markdown":"Follow up years later w/ OpenJFX12: When you select TransferMode.COPY_OR_MOVE in onDragDetected, you can then add an onDragOver handler which will receive events with updated transfer modes in response to pressing Shift or Ctrl etc. during the drag.  But the default still seems to be COPY, and details depend on the OS. On Linux, holding Shift changes to MOVE.","body":"Follow up years later w/ OpenJFX12: When you select TransferMode.COPY_OR_MOVE in onDragDetected, you can then add an onDragOver handler which will receive events with updated transfer modes in response to pressing Shift or Ctrl etc. during the drag.  But the default still seems to be COPY, and details depend on the OS. On Linux, holding Shift changes to MOVE."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677203748,"creation_date":1677203748,"answer_id":75551974,"question_id":38699306,"body_markdown":"I had a need for this very thing.  Plenty of native applications already behave this way:  dragging is a move operation by default, and holding down a certain modifier key, whether before the drag or during the drag, changes the drag to a copy operation.  As of JavaFX 19, there still is no way to programmatically modify the transfer mode of a native platform drag-and-drop once its in progress. (By native platform drag-and-drop I mean a drag-and-drop started with [Node.startDragAndDrop](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/Node.html#startDragAndDrop(javafx.scene.input.TransferMode...)).)\r\n\r\nHowever, you mentioned in a comment that your drag-and-drop is only within your application.  This means you can forego the native platform functionality, and do it yourself with only a little more work, using a non-native JavaFX drag-and-drop which is started by [Node.startFullDrag](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/Node.html#startFullDrag()).\r\n\r\n(Why the JavaFX calls a native platform drag-and-drop just drag and drop and calls a non-native, JavaFX-implemented drag-and-drop full drag and drop is beyond me.  I had to read the javadocs several times before I was able to keep the nomenclature straight in my head.)\r\n\r\nWhile native platform drag-and-drop uses [DragEvents](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/input/DragEvent.html), the JavaFX-implemented drag-and-drop uses [MouseDragEvents](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/input/MouseDragEvent.html).  (This is apparently in keeping with the tradition of obfuscative terminology when it comes to drag-and-drop in JavaFX.)\r\n\r\nThe big challenge is finding the underlying systems drag-and-drop cursors:\r\n\r\n* [This comment](https://stackoverflow.com/questions/11553826/mac-cursor-folder#comment15280429_11553826) rightly points out the location of system cursors, including drag-and-drop cursors, on Macs.  Whether that information will hold true in the long term, I have no idea.  The good news is, the cursors appear to be ordinary .png files.  The bad news is, their hotspots are defined in [binary plist](https://opensource.apple.com/source/CF/CF-1153.18/CFBinaryPList.c.auto.html) files in the same directory as each .png file.\r\n* JavaFX for Linux uses Gnome/GTK, so it makes sense to use Gnome cursors.  They are in the `cursors` subdirectory of the active theme, as [Xcursor](https://linux.die.net/man/3/xcursor) image files;  for my code below, I used [GIMP](https://www.gimp.org/) to convert them to PNG files.  (I couldnt find any other tools capable of reading Xcursor files.)  Finding the current Gnome theme is a bit complex;  the full [icon theme spec](https://specifications.freedesktop.org/icon-theme-spec/icon-theme-spec-latest.html) depends on the [XDG base directory spec](https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html) and a command like `gsettings get org.gnome.desktop.interface gtk-theme` to find the current themes name.  Parsing Xcursor images in Java is not impossible, but I found it needed a nontrivial amount of code.\r\n* Windows drag-and-drop cursors [are buried in ole32.dll](https://stackoverflow.com/a/49487213/1831987).  A .dll file follows the [Portable Executable](https://learn.microsoft.com/en-us/windows/win32/debug/pe-format) format.  I found it fairly difficult to read the file using Java, as the relative offsets bases arent well explained (and the rest of the Internet seems even more confused than I was), but I did get there eventually.  Oh, and each cursors image data is a BMP/DIB which is missing the 14-byte header;  fortunately that is easy to synthesize.\r\n\r\nAnyway, here is an example using JavaFX-implemented drag-and-drop, without all of the work involved in finding the systems cursors:\r\n\r\n    import java.time.LocalTime;\r\n\r\n    import java.util.function.Predicate;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.Cursor;\r\n    import javafx.scene.ImageCursor;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.TilePane;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.input.KeyCode;\r\n    import javafx.scene.image.Image;\r\n\r\n    public class DragAndDropMoveByDefault\r\n    extends Application {\r\n        private Label sourceLabel;\r\n        private Label destLabel;\r\n\r\n        private boolean dragging;\r\n\r\n        private boolean copyModifierPressed;\r\n\r\n        private boolean overPossibleDropTarget;\r\n\r\n        private Cursor copyCursor;\r\n        private Cursor moveCursor;\r\n        private Cursor cannotDropCursor;\r\n\r\n        private KeyCode copyModifierKey;\r\n\r\n        @Override\r\n        public void start(Stage stage) {\r\n            boolean mac = System.getProperty(&quot;os.name&quot;).contains(&quot;Mac&quot;);\r\n            copyModifierKey = (mac ? KeyCode.ALT : KeyCode.CONTROL);\r\n            Predicate&lt;MouseEvent&gt; isCopyModifierDown =\r\n                e -&gt; (mac ? e.isAltDown() : e.isControlDown());\r\n\r\n            copyCursor = new ImageCursor(new Image(\r\n                getClass().getResource(&quot;dnd-copy.png&quot;).toString()));\r\n            moveCursor = new ImageCursor(new Image(\r\n                getClass().getResource(&quot;dnd-move.png&quot;).toString()));\r\n            cannotDropCursor = new ImageCursor(new Image(\r\n                getClass().getResource(&quot;dnd-none.png&quot;).toString()));\r\n\r\n            sourceLabel = new Label(LocalTime.now().toString());\r\n            destLabel = new Label(&quot; &quot;);\r\n\r\n            sourceLabel.setStyle(&quot;-fx-padding: 100; -fx-border-style: solid;&quot;);\r\n            destLabel.setStyle(&quot;-fx-padding: 100; -fx-border-style: solid;&quot;);\r\n\r\n            sourceLabel.setMaxWidth(Double.MAX_VALUE);\r\n            destLabel.setMaxWidth(Double.MAX_VALUE);\r\n\r\n            sourceLabel.setOnDragDetected(e -&gt; {\r\n                dragging = true;\r\n                overPossibleDropTarget = false;\r\n                copyModifierPressed = isCopyModifierDown.test(e);\r\n                sourceLabel.startFullDrag();\r\n                updateCursor();\r\n                e.consume();\r\n            });\r\n            destLabel.setOnMouseDragExited(e -&gt; {\r\n                overPossibleDropTarget = false;\r\n                updateCursor();\r\n                e.consume();\r\n            });\r\n            destLabel.setOnMouseDragEntered(e -&gt; {\r\n                copyModifierPressed = isCopyModifierDown.test(e);\r\n                overPossibleDropTarget = true;\r\n                updateCursor();\r\n                e.consume();\r\n            });\r\n            destLabel.setOnMouseDragOver(e -&gt; {\r\n                copyModifierPressed = isCopyModifierDown.test(e);\r\n                overPossibleDropTarget = true;\r\n                updateCursor();\r\n                e.consume();\r\n            });\r\n            destLabel.setOnMouseDragReleased(e -&gt; {\r\n                destLabel.setText(sourceLabel.getText());\r\n                if (!copyModifierPressed) {\r\n                    sourceLabel.setText(&quot;&quot;);\r\n                }\r\n                dragging = false;\r\n                updateCursor();\r\n                e.consume();\r\n            });\r\n\r\n            TilePane pane = new TilePane(12, 0, sourceLabel, destLabel);\r\n            pane.setPrefColumns(2);\r\n            pane.setPadding(new Insets(6));\r\n\r\n            Scene scene = new Scene(pane);\r\n\r\n            scene.setOnKeyPressed(e -&gt; {\r\n                if (dragging &amp;&amp; e.getCode() == copyModifierKey) {\r\n                    copyModifierPressed = true;\r\n                    updateCursor();\r\n                }\r\n            });\r\n            scene.setOnKeyReleased(e -&gt; {\r\n                if (dragging &amp;&amp; e.getCode() == copyModifierKey) {\r\n                    copyModifierPressed = false;\r\n                    updateCursor();\r\n                }\r\n            });\r\n\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Drag and Drop - Move by Default&quot;);\r\n            stage.show();\r\n        }\r\n\r\n        private void updateCursor() {\r\n            Cursor cursor;\r\n            if (dragging) {\r\n                if (overPossibleDropTarget) {\r\n                    cursor = (copyModifierPressed ? copyCursor : moveCursor);\r\n                } else {\r\n                    cursor = cannotDropCursor;\r\n                }\r\n            } else {\r\n                cursor = Cursor.DEFAULT;\r\n            }\r\n\r\n            sourceLabel.setCursor(cursor);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Application.launch(args);\r\n        }\r\n    }\r\n","title":"How to adjust or deviate from the default JavaFX transfer mode behavior","body":"<p>I had a need for this very thing.  Plenty of native applications already behave this way:  dragging is a move operation by default, and holding down a certain modifier key, whether before the drag or during the drag, changes the drag to a copy operation.  As of JavaFX 19, there still is no way to programmatically modify the transfer mode of a native platform drag-and-drop once its in progress. (By native platform drag-and-drop I mean a drag-and-drop started with <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/Node.html#startDragAndDrop(javafx.scene.input.TransferMode...)\" rel=\"nofollow noreferrer\">Node.startDragAndDrop</a>.)</p>\n<p>However, you mentioned in a comment that your drag-and-drop is only within your application.  This means you can forego the native platform functionality, and do it yourself with only a little more work, using a non-native JavaFX drag-and-drop which is started by <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/Node.html#startFullDrag()\" rel=\"nofollow noreferrer\">Node.startFullDrag</a>.</p>\n<p>(Why the JavaFX calls a native platform drag-and-drop just drag and drop and calls a non-native, JavaFX-implemented drag-and-drop full drag and drop is beyond me.  I had to read the javadocs several times before I was able to keep the nomenclature straight in my head.)</p>\n<p>While native platform drag-and-drop uses <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/input/DragEvent.html\" rel=\"nofollow noreferrer\">DragEvents</a>, the JavaFX-implemented drag-and-drop uses <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/input/MouseDragEvent.html\" rel=\"nofollow noreferrer\">MouseDragEvents</a>.  (This is apparently in keeping with the tradition of obfuscative terminology when it comes to drag-and-drop in JavaFX.)</p>\n<p>The big challenge is finding the underlying systems drag-and-drop cursors:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/11553826/mac-cursor-folder#comment15280429_11553826\">This comment</a> rightly points out the location of system cursors, including drag-and-drop cursors, on Macs.  Whether that information will hold true in the long term, I have no idea.  The good news is, the cursors appear to be ordinary .png files.  The bad news is, their hotspots are defined in <a href=\"https://opensource.apple.com/source/CF/CF-1153.18/CFBinaryPList.c.auto.html\" rel=\"nofollow noreferrer\">binary plist</a> files in the same directory as each .png file.</li>\n<li>JavaFX for Linux uses Gnome/GTK, so it makes sense to use Gnome cursors.  They are in the <code>cursors</code> subdirectory of the active theme, as <a href=\"https://linux.die.net/man/3/xcursor\" rel=\"nofollow noreferrer\">Xcursor</a> image files;  for my code below, I used <a href=\"https://www.gimp.org/\" rel=\"nofollow noreferrer\">GIMP</a> to convert them to PNG files.  (I couldnt find any other tools capable of reading Xcursor files.)  Finding the current Gnome theme is a bit complex;  the full <a href=\"https://specifications.freedesktop.org/icon-theme-spec/icon-theme-spec-latest.html\" rel=\"nofollow noreferrer\">icon theme spec</a> depends on the <a href=\"https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html\" rel=\"nofollow noreferrer\">XDG base directory spec</a> and a command like <code>gsettings get org.gnome.desktop.interface gtk-theme</code> to find the current themes name.  Parsing Xcursor images in Java is not impossible, but I found it needed a nontrivial amount of code.</li>\n<li>Windows drag-and-drop cursors <a href=\"https://stackoverflow.com/a/49487213/1831987\">are buried in ole32.dll</a>.  A .dll file follows the <a href=\"https://learn.microsoft.com/en-us/windows/win32/debug/pe-format\" rel=\"nofollow noreferrer\">Portable Executable</a> format.  I found it fairly difficult to read the file using Java, as the relative offsets bases arent well explained (and the rest of the Internet seems even more confused than I was), but I did get there eventually.  Oh, and each cursors image data is a BMP/DIB which is missing the 14-byte header;  fortunately that is easy to synthesize.</li>\n</ul>\n<p>Anyway, here is an example using JavaFX-implemented drag-and-drop, without all of the work involved in finding the systems cursors:</p>\n<pre><code>import java.time.LocalTime;\n\nimport java.util.function.Predicate;\n\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.Cursor;\nimport javafx.scene.ImageCursor;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.TilePane;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.image.Image;\n\npublic class DragAndDropMoveByDefault\nextends Application {\n    private Label sourceLabel;\n    private Label destLabel;\n\n    private boolean dragging;\n\n    private boolean copyModifierPressed;\n\n    private boolean overPossibleDropTarget;\n\n    private Cursor copyCursor;\n    private Cursor moveCursor;\n    private Cursor cannotDropCursor;\n\n    private KeyCode copyModifierKey;\n\n    @Override\n    public void start(Stage stage) {\n        boolean mac = System.getProperty(&quot;os.name&quot;).contains(&quot;Mac&quot;);\n        copyModifierKey = (mac ? KeyCode.ALT : KeyCode.CONTROL);\n        Predicate&lt;MouseEvent&gt; isCopyModifierDown =\n            e -&gt; (mac ? e.isAltDown() : e.isControlDown());\n\n        copyCursor = new ImageCursor(new Image(\n            getClass().getResource(&quot;dnd-copy.png&quot;).toString()));\n        moveCursor = new ImageCursor(new Image(\n            getClass().getResource(&quot;dnd-move.png&quot;).toString()));\n        cannotDropCursor = new ImageCursor(new Image(\n            getClass().getResource(&quot;dnd-none.png&quot;).toString()));\n\n        sourceLabel = new Label(LocalTime.now().toString());\n        destLabel = new Label(&quot; &quot;);\n\n        sourceLabel.setStyle(&quot;-fx-padding: 100; -fx-border-style: solid;&quot;);\n        destLabel.setStyle(&quot;-fx-padding: 100; -fx-border-style: solid;&quot;);\n\n        sourceLabel.setMaxWidth(Double.MAX_VALUE);\n        destLabel.setMaxWidth(Double.MAX_VALUE);\n\n        sourceLabel.setOnDragDetected(e -&gt; {\n            dragging = true;\n            overPossibleDropTarget = false;\n            copyModifierPressed = isCopyModifierDown.test(e);\n            sourceLabel.startFullDrag();\n            updateCursor();\n            e.consume();\n        });\n        destLabel.setOnMouseDragExited(e -&gt; {\n            overPossibleDropTarget = false;\n            updateCursor();\n            e.consume();\n        });\n        destLabel.setOnMouseDragEntered(e -&gt; {\n            copyModifierPressed = isCopyModifierDown.test(e);\n            overPossibleDropTarget = true;\n            updateCursor();\n            e.consume();\n        });\n        destLabel.setOnMouseDragOver(e -&gt; {\n            copyModifierPressed = isCopyModifierDown.test(e);\n            overPossibleDropTarget = true;\n            updateCursor();\n            e.consume();\n        });\n        destLabel.setOnMouseDragReleased(e -&gt; {\n            destLabel.setText(sourceLabel.getText());\n            if (!copyModifierPressed) {\n                sourceLabel.setText(&quot;&quot;);\n            }\n            dragging = false;\n            updateCursor();\n            e.consume();\n        });\n\n        TilePane pane = new TilePane(12, 0, sourceLabel, destLabel);\n        pane.setPrefColumns(2);\n        pane.setPadding(new Insets(6));\n\n        Scene scene = new Scene(pane);\n\n        scene.setOnKeyPressed(e -&gt; {\n            if (dragging &amp;&amp; e.getCode() == copyModifierKey) {\n                copyModifierPressed = true;\n                updateCursor();\n            }\n        });\n        scene.setOnKeyReleased(e -&gt; {\n            if (dragging &amp;&amp; e.getCode() == copyModifierKey) {\n                copyModifierPressed = false;\n                updateCursor();\n            }\n        });\n\n        stage.setScene(scene);\n        stage.setTitle(&quot;Drag and Drop - Move by Default&quot;);\n        stage.show();\n    }\n\n    private void updateCursor() {\n        Cursor cursor;\n        if (dragging) {\n            if (overPossibleDropTarget) {\n                cursor = (copyModifierPressed ? copyCursor : moveCursor);\n            } else {\n                cursor = cannotDropCursor;\n            }\n        } else {\n            cursor = Cursor.DEFAULT;\n        }\n\n        sourceLabel.setCursor(cursor);\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":236896,"reputation":198,"user_id":504695,"display_name":"ryanlb1000"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1677203748,"creation_date":1470055569,"question_id":38699306,"body_markdown":"I have successfully implemented Drag and Drop in JavaFX. Both the drag source and destination are happy to support both copy and move transfer modes, so I use `TransferMode.COPY_OR_MOVE` on both ends.\r\n\r\nIn this case, I believe JavaFX **correctly** defaults to using the copy transfer mode as the default. I base this correctness on a [UX question and answer][1], although it seems clear there may not be an absolute standard. JavaFX will switch to the move transfer mode if the SHIFT key is pressed.\r\n\r\nNonetheless, I would prefer *move* be the default and copy only be engaged via a key modifier. I have searched the web, and in the code, but I can find no way to adjust this default behavior. Does anyone know a way? I also tried using the individual transfer mode enums in case order matters, but that didn&#39;t work either.\r\n\r\nI have further considered attempting to capture a key event, and then simply either accept move or copy at the destination based on what modifier might be down. However, my concern is whether the destination will have the focus and whether the key event will propagate during a drag. I will try this approach, but decided to also ask if anyone here knew of an alternative (or even if perhaps the ability to change the default would come in Java 9). \r\n\r\nThanks!\r\n\r\n  [1]: https://ux.stackexchange.com/questions/83748/what-are-the-most-common-modifier-keys-for-dragging-objects-with-a-mouse","title":"How to adjust or deviate from the default JavaFX transfer mode behavior","body":"<p>I have successfully implemented Drag and Drop in JavaFX. Both the drag source and destination are happy to support both copy and move transfer modes, so I use <code>TransferMode.COPY_OR_MOVE</code> on both ends.</p>\n\n<p>In this case, I believe JavaFX <strong>correctly</strong> defaults to using the copy transfer mode as the default. I base this correctness on a <a href=\"https://ux.stackexchange.com/questions/83748/what-are-the-most-common-modifier-keys-for-dragging-objects-with-a-mouse\">UX question and answer</a>, although it seems clear there may not be an absolute standard. JavaFX will switch to the move transfer mode if the SHIFT key is pressed.</p>\n\n<p>Nonetheless, I would prefer <em>move</em> be the default and copy only be engaged via a key modifier. I have searched the web, and in the code, but I can find no way to adjust this default behavior. Does anyone know a way? I also tried using the individual transfer mode enums in case order matters, but that didn't work either.</p>\n\n<p>I have further considered attempting to capture a key event, and then simply either accept move or copy at the destination based on what modifier might be down. However, my concern is whether the destination will have the focus and whether the key event will propagate during a drag. I will try this approach, but decided to also ask if anyone here knew of an alternative (or even if perhaps the ability to change the default would come in Java 9). </p>\n\n<p>Thanks!</p>\n"},{"tags":["java","type-conversion","integer","bit-manipulation","byte"],"comments":[{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":2,"creation_date":1424252138,"post_id":28580029,"comment_id":45468491,"body_markdown":"Much better to use ByteBuffer.asIntBuffer","body":"Much better to use ByteBuffer.asIntBuffer"},{"owner":{"account_id":1073286,"reputation":904,"user_id":1072043,"accept_rate":61,"display_name":"jorne"},"score":0,"creation_date":1424252299,"post_id":28580029,"comment_id":45468583,"body_markdown":"This is not possible because the file also includes unsigned ints, booleans, ....","body":"This is not possible because the file also includes unsigned ints, booleans, ...."},{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":2,"creation_date":1424252591,"post_id":28580029,"comment_id":45468766,"body_markdown":"Then at least use ByteBuffer.getInt","body":"Then at least use ByteBuffer.getInt"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1424252840,"post_id":28580029,"comment_id":45468919,"body_markdown":"The code is poor - it&#39;s reinventing the wheel and might as well use a simple array..  Just put 4 bytes in then call getInt().","body":"The code is poor - it&#39;s reinventing the wheel and might as well use a simple array..  Just put 4 bytes in then call getInt()."}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1424253729,"creation_date":1424252411,"answer_id":28580238,"question_id":28580029,"body_markdown":"This reads four bytes from the underlying byte buffer and stitches them together into an `int` value like this:\r\n\r\n                            11111111 (first byte read)\r\n                    22222222         (second byte read)\r\n            33333333                 (third byte read)\r\n    44444444                         (fourth byte read)\r\n\r\nTo achieve that, a bitwise OR operation is performed on all subresults, where each subresult prepares one row in the above diagram. For example, the third row is prepared as\r\n\r\n    (0x00ff0000 &amp; (bb.get() &lt;&lt; 16))\r\n\r\nwhich does the following:\r\n\r\n1. read the byte:\r\n\r\n        xxxxxxxx\r\n1. expand the `byte` into an `int`:\r\n\r\n        000000000000000000000000xxxxxxxx        \r\n\r\n2. shift the bits to the left by 16 slots:\r\n\r\n        00000000xxxxxxxx0000000000000000\r\n\r\n3. finally, push this through an AND mask which lets only the `x` bits through. This is needed because `byte` is signed, so the conversion to `int` may actually result in the following:\r\n\r\n        111111111111111111111111xxxxxxxx\r\n\r\nThe code would perhaps be simpler if a constant AND-mask was performed *before* shifting:\r\n\r\n    (bb.get() &amp; 0xFF) &lt;&lt; 16\r\n\r\nThis is actually the standard idiom for Java in these bit-twiddling operations.\r\n\r\n----\r\n\r\nAlthough not an answer to the question you have asked, using the provided API would certainly be preferred (the `getInt` method). Your byte order is little endian, so you would just need to set it up:\r\n\r\n    bb.order(ByteOrder.LITTLE_ENDIAN);\r\n\r\nFor reference, this is the JDK&#39;s implementation of the same code:\r\n\r\n    static private int makeInt(byte b3, byte b2, byte b1, byte b0) {\r\n        return (((b3       ) &lt;&lt; 24) |\r\n                ((b2 &amp; 0xff) &lt;&lt; 16) |\r\n                ((b1 &amp; 0xff) &lt;&lt;  8) |\r\n                ((b0 &amp; 0xff)      ));\r\n    }\r\n","title":"Convert byte to int using bitwise operators","body":"<p>This reads four bytes from the underlying byte buffer and stitches them together into an <code>int</code> value like this:</p>\n\n<pre><code>                        11111111 (first byte read)\n                22222222         (second byte read)\n        33333333                 (third byte read)\n44444444                         (fourth byte read)\n</code></pre>\n\n<p>To achieve that, a bitwise OR operation is performed on all subresults, where each subresult prepares one row in the above diagram. For example, the third row is prepared as</p>\n\n<pre><code>(0x00ff0000 &amp; (bb.get() &lt;&lt; 16))\n</code></pre>\n\n<p>which does the following:</p>\n\n<ol>\n<li><p>read the byte:</p>\n\n<pre><code>xxxxxxxx\n</code></pre></li>\n<li><p>expand the <code>byte</code> into an <code>int</code>:</p>\n\n<pre><code>000000000000000000000000xxxxxxxx        \n</code></pre></li>\n<li><p>shift the bits to the left by 16 slots:</p>\n\n<pre><code>00000000xxxxxxxx0000000000000000\n</code></pre></li>\n<li><p>finally, push this through an AND mask which lets only the <code>x</code> bits through. This is needed because <code>byte</code> is signed, so the conversion to <code>int</code> may actually result in the following:</p>\n\n<pre><code>111111111111111111111111xxxxxxxx\n</code></pre></li>\n</ol>\n\n<p>The code would perhaps be simpler if a constant AND-mask was performed <em>before</em> shifting:</p>\n\n<pre><code>(bb.get() &amp; 0xFF) &lt;&lt; 16\n</code></pre>\n\n<p>This is actually the standard idiom for Java in these bit-twiddling operations.</p>\n\n<hr>\n\n<p>Although not an answer to the question you have asked, using the provided API would certainly be preferred (the <code>getInt</code> method). Your byte order is little endian, so you would just need to set it up:</p>\n\n<pre><code>bb.order(ByteOrder.LITTLE_ENDIAN);\n</code></pre>\n\n<p>For reference, this is the JDK's implementation of the same code:</p>\n\n<pre><code>static private int makeInt(byte b3, byte b2, byte b1, byte b0) {\n    return (((b3       ) &lt;&lt; 24) |\n            ((b2 &amp; 0xff) &lt;&lt; 16) |\n            ((b1 &amp; 0xff) &lt;&lt;  8) |\n            ((b0 &amp; 0xff)      ));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5179087,"reputation":3759,"user_id":4145291,"accept_rate":40,"display_name":"BarrySW19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424252907,"creation_date":1424252907,"answer_id":28580409,"question_id":28580029,"body_markdown":"Basically, it reads in four bytes, each of which is eight bits and it combines them together into an integer which is 32 bits. It does this by shifting each successive byte an extra 8 places to the left, so the first byte read is placed into the last (lowest order) 8 bits of the integer (0-7); the next byte goes into the next 8 bits (15-8), etc.\r\n\r\nIt would be a lot easier to use the actual functionality of the ByteBuffer to do this though:\r\n\r\n    bb.order(ByteOrder.LITTLE_ENDIAN); // Called once on the buffer\r\n    int intFromNextFourBytes = bb.getInt(); // Read the same value as your code.\r\n\r\n","title":"Convert byte to int using bitwise operators","body":"<p>Basically, it reads in four bytes, each of which is eight bits and it combines them together into an integer which is 32 bits. It does this by shifting each successive byte an extra 8 places to the left, so the first byte read is placed into the last (lowest order) 8 bits of the integer (0-7); the next byte goes into the next 8 bits (15-8), etc.</p>\n\n<p>It would be a lot easier to use the actual functionality of the ByteBuffer to do this though:</p>\n\n<pre><code>bb.order(ByteOrder.LITTLE_ENDIAN); // Called once on the buffer\nint intFromNextFourBytes = bb.getInt(); // Read the same value as your code.\n</code></pre>\n"}],"owner":{"account_id":1073286,"reputation":904,"user_id":1072043,"accept_rate":61,"display_name":"jorne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3096,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28580238,"answer_count":2,"score":1,"last_activity_date":1677203668,"creation_date":1424251756,"question_id":28580029,"body_markdown":"I&#39;m documenting some code in Java. The goal is to read and process an [OSRM file][1] which is a file containing hex codes. \r\n\r\nThe flow is as follows: Read in some byte to a `ByteBuffer` using a `FileChannel`. Once the buffer is filled, convert every byte to a signed integer. This is done using the bitwise `&amp;` operator and the signed left shift operator `&lt;&lt;`, and looks like this:\r\n\r\n    return  (0x000000ff &amp; (bb.get() &lt;&lt; 0)) |\r\n            (0x0000ff00 &amp; (bb.get() &lt;&lt; 8)) |\r\n            (0x00ff0000 &amp; (bb.get() &lt;&lt; 16)) |\r\n            (0xff000000 &amp; (bb.get() &lt;&lt; 24));\r\n\r\nWhere `bb` is of course the `ByteBuffer`.\r\n\r\nI have totally no clue how and why this code works, I Googled a bit and the closest thing I found was the following Stack Overflow question: [Converting Java method to C#: converting bytes to integers with bit shift operators][2].\r\n\r\nStill, I have no clue and I&#39;m wondering if someone could help me figure out this code snippet.\r\n\r\n  [1]: http://project-osrm.org/\r\n  [2]: https://stackoverflow.com/questions/6920993/converting-java-method-to-c-converting-bytes-to-integers-with-bit-shift-operat","title":"Convert byte to int using bitwise operators","body":"<p>I'm documenting some code in Java. The goal is to read and process an <a href=\"http://project-osrm.org/\" rel=\"nofollow noreferrer\">OSRM file</a> which is a file containing hex codes.</p>\n<p>The flow is as follows: Read in some byte to a <code>ByteBuffer</code> using a <code>FileChannel</code>. Once the buffer is filled, convert every byte to a signed integer. This is done using the bitwise <code>&amp;</code> operator and the signed left shift operator <code>&lt;&lt;</code>, and looks like this:</p>\n<pre><code>return  (0x000000ff &amp; (bb.get() &lt;&lt; 0)) |\n        (0x0000ff00 &amp; (bb.get() &lt;&lt; 8)) |\n        (0x00ff0000 &amp; (bb.get() &lt;&lt; 16)) |\n        (0xff000000 &amp; (bb.get() &lt;&lt; 24));\n</code></pre>\n<p>Where <code>bb</code> is of course the <code>ByteBuffer</code>.</p>\n<p>I have totally no clue how and why this code works, I Googled a bit and the closest thing I found was the following Stack Overflow question: <a href=\"https://stackoverflow.com/questions/6920993/converting-java-method-to-c-converting-bytes-to-integers-with-bit-shift-operat\">Converting Java method to C#: converting bytes to integers with bit shift operators</a>.</p>\n<p>Still, I have no clue and I'm wondering if someone could help me figure out this code snippet.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1677084069,"post_id":75535195,"comment_id":133268823,"body_markdown":"Where is `readOnlyAndLog`? Within the request? As a JVM parameter? In the application.properties file? Do you have access to the code that does the CRUD operations?","body":"Where is <code>readOnlyAndLog</code>? Within the request? As a JVM parameter? In the application.properties file? Do you have access to the code that does the CRUD operations?"},{"owner":{"account_id":27708886,"reputation":23,"user_id":21151953,"display_name":"webdudewithnoname"},"score":0,"creation_date":1677085312,"post_id":75535195,"comment_id":133269232,"body_markdown":"@JettoMart&#237;nez It should be placed in the applicaiton.properties file. No implementation yet, I was just looking for an idea or approach on this.","body":"@JettoMart&#237;nez It should be placed in the applicaiton.properties file. No implementation yet, I was just looking for an idea or approach on this."}],"answers":[{"tags":[],"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677134933,"creation_date":1677087325,"answer_id":75536286,"question_id":75535195,"body_markdown":"Use bean initialization depending on the property value.\r\n\r\nYou can create an interface `SubjectHandler` with the method \r\n`void handleSubject(Subject subj)`.\r\n\r\nThen define two implementation of this interface: `ReadOnlySubjectHandler` and `DatabaseSubjectHandler`. In the first one, implement the logic of checking subject &amp; logging and in another one put a logic of checking subject &amp; perform CRUD operation in database.\r\n\r\nThen you can use Spring annotation `@ConditionalOnProperty(name = &quot;readOnlyAndLog&quot;, havingValue = &quot;true/false&quot;)` and place it upon your implementation of interface.\r\n\r\nNext time you start an application Spring will create only one instance of `SubjectHandler` depending on what value `readOnlyAndLog` has.","title":"How to separate business logic if property is set to true in a way that the service would only log what CRUD operations will be executed","body":"<p>Use bean initialization depending on the property value.</p>\n<p>You can create an interface <code>SubjectHandler</code> with the method\n<code>void handleSubject(Subject subj)</code>.</p>\n<p>Then define two implementation of this interface: <code>ReadOnlySubjectHandler</code> and <code>DatabaseSubjectHandler</code>. In the first one, implement the logic of checking subject &amp; logging and in another one put a logic of checking subject &amp; perform CRUD operation in database.</p>\n<p>Then you can use Spring annotation <code>@ConditionalOnProperty(name = &quot;readOnlyAndLog&quot;, havingValue = &quot;true/false&quot;)</code> and place it upon your implementation of interface.</p>\n<p>Next time you start an application Spring will create only one instance of <code>SubjectHandler</code> depending on what value <code>readOnlyAndLog</code> has.</p>\n"},{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677202536,"creation_date":1677141809,"answer_id":75542392,"question_id":75535195,"body_markdown":"I tried to replicate your project, here is a possible solution.\r\n\r\nFirst, defining entity `Subject` with name being the unique identifier:\r\n\r\n    public class Subject {\r\n        @Id private String name;\r\n        @Column private String description;\r\n        @Column private BigDecimal price;\r\n    \r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (o == this)\r\n                return true;\r\n            if (!(o instanceof Subject)) {\r\n                return false;\r\n            }\r\n            Subject subject = (Subject) o;\r\n            return Objects.equals(name, subject.name);\r\n        }\r\n    }\r\nDefine `app.read-only-and-log` in `application.properties`:\r\n\r\n    app.read-only-and-log=false\r\n\r\nand using `@Value` to bind the value to `SubjectServImpl`:\r\n\r\n    @Value(&quot;${app.read-only-and-log}&quot;)\r\n    private Boolean readOnlyAndLog;\r\n\r\nwriting business logic in `SubjectServImpl`:\r\n\r\n    public void update(List&lt;Subject&gt; incoming) {\r\n        List&lt;Subject&gt; existing = subjectRepo.findAll();\r\n\r\n        // cross check incoming and existing\r\n        for (Subject i : incoming) {\r\n          if (existing.remove(i)) {\r\n            if (readOnlyAndLog)\r\n              log.info(i.getName() + &quot; is already defined in the DB&quot;);\r\n          } else {\r\n            if (readOnlyAndLog)\r\n              log.info(i.getName() + &quot; will be created&quot;);\r\n            else\r\n              subjectRepo.save(i);\r\n          }\r\n        }\r\n\r\n        if (readOnlyAndLog)\r\n          existing.forEach(e -&gt; log.info(e.getName() + &quot; will be deleted&quot;));\r\n        else\r\n          subjectRepo.deleteAll(existing);\r\n    }\r\n\r\nYou can try calling `subjectServ.update(subjects)` from your `SubjectController`, while changing the value of `app.read-only-and-log` in `application.properties` would switch the behavior of the service.\r\n\r\n\r\n\r\n**One side note on the business logic:**\r\nlooping through all existing rows in `SubjectRepo` at every call for update may not be a desired practice when your project grows larger in size.\r\n\r\nHope I can be of a little help.","title":"How to separate business logic if property is set to true in a way that the service would only log what CRUD operations will be executed","body":"<p>I tried to replicate your project, here is a possible solution.</p>\n<p>First, defining entity <code>Subject</code> with name being the unique identifier:</p>\n<pre><code>public class Subject {\n    @Id private String name;\n    @Column private String description;\n    @Column private BigDecimal price;\n\n\n    @Override\n    public boolean equals(Object o) {\n        if (o == this)\n            return true;\n        if (!(o instanceof Subject)) {\n            return false;\n        }\n        Subject subject = (Subject) o;\n        return Objects.equals(name, subject.name);\n    }\n}\n</code></pre>\n<p>Define <code>app.read-only-and-log</code> in <code>application.properties</code>:</p>\n<pre><code>app.read-only-and-log=false\n</code></pre>\n<p>and using <code>@Value</code> to bind the value to <code>SubjectServImpl</code>:</p>\n<pre><code>@Value(&quot;${app.read-only-and-log}&quot;)\nprivate Boolean readOnlyAndLog;\n</code></pre>\n<p>writing business logic in <code>SubjectServImpl</code>:</p>\n<pre><code>public void update(List&lt;Subject&gt; incoming) {\n    List&lt;Subject&gt; existing = subjectRepo.findAll();\n\n    // cross check incoming and existing\n    for (Subject i : incoming) {\n      if (existing.remove(i)) {\n        if (readOnlyAndLog)\n          log.info(i.getName() + &quot; is already defined in the DB&quot;);\n      } else {\n        if (readOnlyAndLog)\n          log.info(i.getName() + &quot; will be created&quot;);\n        else\n          subjectRepo.save(i);\n      }\n    }\n\n    if (readOnlyAndLog)\n      existing.forEach(e -&gt; log.info(e.getName() + &quot; will be deleted&quot;));\n    else\n      subjectRepo.deleteAll(existing);\n}\n</code></pre>\n<p>You can try calling <code>subjectServ.update(subjects)</code> from your <code>SubjectController</code>, while changing the value of <code>app.read-only-and-log</code> in <code>application.properties</code> would switch the behavior of the service.</p>\n<p><strong>One side note on the business logic:</strong>\nlooping through all existing rows in <code>SubjectRepo</code> at every call for update may not be a desired practice when your project grows larger in size.</p>\n<p>Hope I can be of a little help.</p>\n"}],"owner":{"account_id":27708886,"reputation":23,"user_id":21151953,"display_name":"webdudewithnoname"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75536286,"answer_count":2,"score":1,"last_activity_date":1677202536,"creation_date":1677081337,"question_id":75535195,"body_markdown":"I have a requirement where I need to create a service with some business logic in it that will determine which resources should be deleted and which should be created in a database.\r\nThe content of the resources is read from a JSON which is statically defined in the project root. Here is an example:\r\n\r\n```\r\n{\r\n  &quot;subjects&quot; : [\r\n    {\r\n      &quot;name&quot; : &quot;New-subject&quot;,\r\n      &quot;description&quot; : &quot;Math subject&quot;,\r\n      &quot;price&quot; : &quot;100&quot;\r\n    },\r\n    {\r\n      &quot;name&quot; : &quot;New-subject-2&quot;,\r\n      &quot;description&quot; : &quot;Chemistry subject&quot;,\r\n      &quot;price&quot; : &quot;120&quot;\r\n    },\r\n    {\r\n      &quot;name&quot; : &quot;Already-Existing-Subject&quot;,\r\n      &quot;description&quot; : &quot;Physics subject&quot;,\r\n      &quot;price&quot; : &quot;120&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nName is considered as a unique identifier, and after reading and mapping the JSON to my internal model, I need to determine which resources should be created, and accordingly create them, and which should be deleted i.e. are not defined in the JSON resources, but are present in the database.\r\n\r\nNow the requirement has a sub-task where it says: &quot;If the option readOnlyAndLog is enabled, the service should only go through the JSON resources, determine which actions should be performed, and log them without executing any create/delete operations in the database&quot;.\r\n\r\nSo with this option enabled, the output should be the following for example:\r\n\r\n```\r\nNew-subject will be created \r\nNew-subject2 will be created\r\nAlready-Existing-Subject is already defined in the DB\r\nSubject3 will be deleted\r\nSubject4 will be deleted\r\n.....\r\n```\r\n\r\n\r\n \r\n\r\nMy question now is how can I reuse the same service, but for these 2 different scenarios depending if the readOnlyAndLog is enabled or not? Whats the best practice for this kind of separation upon a service?","title":"How to separate business logic if property is set to true in a way that the service would only log what CRUD operations will be executed","body":"<p>I have a requirement where I need to create a service with some business logic in it that will determine which resources should be deleted and which should be created in a database.\nThe content of the resources is read from a JSON which is statically defined in the project root. Here is an example:</p>\n<pre><code>{\n  &quot;subjects&quot; : [\n    {\n      &quot;name&quot; : &quot;New-subject&quot;,\n      &quot;description&quot; : &quot;Math subject&quot;,\n      &quot;price&quot; : &quot;100&quot;\n    },\n    {\n      &quot;name&quot; : &quot;New-subject-2&quot;,\n      &quot;description&quot; : &quot;Chemistry subject&quot;,\n      &quot;price&quot; : &quot;120&quot;\n    },\n    {\n      &quot;name&quot; : &quot;Already-Existing-Subject&quot;,\n      &quot;description&quot; : &quot;Physics subject&quot;,\n      &quot;price&quot; : &quot;120&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Name is considered as a unique identifier, and after reading and mapping the JSON to my internal model, I need to determine which resources should be created, and accordingly create them, and which should be deleted i.e. are not defined in the JSON resources, but are present in the database.</p>\n<p>Now the requirement has a sub-task where it says: &quot;If the option readOnlyAndLog is enabled, the service should only go through the JSON resources, determine which actions should be performed, and log them without executing any create/delete operations in the database&quot;.</p>\n<p>So with this option enabled, the output should be the following for example:</p>\n<pre><code>New-subject will be created \nNew-subject2 will be created\nAlready-Existing-Subject is already defined in the DB\nSubject3 will be deleted\nSubject4 will be deleted\n.....\n</code></pre>\n<p>My question now is how can I reuse the same service, but for these 2 different scenarios depending if the readOnlyAndLog is enabled or not? Whats the best practice for this kind of separation upon a service?</p>\n"},{"tags":["java","groovy","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668106186,"creation_date":1668106186,"answer_id":74393989,"question_id":74380007,"body_markdown":"I think you want to start here:\r\n\r\nhttps://github.com/jenkinsci/job-dsl-plugin/blob/master/docs/Job-DSL-Commands.md#folder\r\n\r\nFolder is a method on the Pipeline DSL, but it requires you have Cloudbees plugins installed correctly to use (you might not have the environment setup correctly).  \r\n\r\nYes, it&#39;s a function call, and the curly brackets after are a Closure (ie think fat arrow functions like in javascript () =&gt; println(&#39;yeah!&#39;) ).  Groovy has powerful functionality around Closures, but it&#39;s very dynamic so it&#39;s hard to just bump around in IDE with code assist and figure things out.  You&#39;ll have to read the docs to figure most things out.  \r\n\r\nFor example description is going to be function too (without the parens), and the next literal is a parameter to it.  But, what object is it invoking that function on?  Well, that&#39;s where things get tricky.  It&#39;s probably Folder object, but it&#39;s either whatever the Closure&#39;s this points to or the delegate.  Groovy devs can annotate Closures and such so IDE&#39;s can provide assistance, but it doesn&#39;t always work out that every dev is prudent to properly annotate things.","title":"groovy issue with groovy.lang.MissingMethodException: No signature of method","body":"<p>I think you want to start here:</p>\n<p><a href=\"https://github.com/jenkinsci/job-dsl-plugin/blob/master/docs/Job-DSL-Commands.md#folder\" rel=\"nofollow noreferrer\">https://github.com/jenkinsci/job-dsl-plugin/blob/master/docs/Job-DSL-Commands.md#folder</a></p>\n<p>Folder is a method on the Pipeline DSL, but it requires you have Cloudbees plugins installed correctly to use (you might not have the environment setup correctly).</p>\n<p>Yes, it's a function call, and the curly brackets after are a Closure (ie think fat arrow functions like in javascript () =&gt; println('yeah!') ).  Groovy has powerful functionality around Closures, but it's very dynamic so it's hard to just bump around in IDE with code assist and figure things out.  You'll have to read the docs to figure most things out.</p>\n<p>For example description is going to be function too (without the parens), and the next literal is a parameter to it.  But, what object is it invoking that function on?  Well, that's where things get tricky.  It's probably Folder object, but it's either whatever the Closure's this points to or the delegate.  Groovy devs can annotate Closures and such so IDE's can provide assistance, but it doesn't always work out that every dev is prudent to properly annotate things.</p>\n"}],"owner":{"account_id":15779896,"reputation":63,"user_id":11386594,"display_name":"Allyssa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1050,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1677202208,"creation_date":1668020086,"question_id":74380007,"body_markdown":"```\r\n\r\n folder(&#39;AAAA&#39;){\r\n        description &quot;BBB&quot;\r\n    }\r\n\r\n```\r\n\r\n```     \r\npipelineJob(&quot;$CCCC&quot;){\r\n   parameters{\r\n                stringParam(&#39;branch&#39;,&#39;master&#39;)\r\n\r\n            }\r\n\r\n}\r\n```\r\n\r\nI am new in groovy and trying to handle legacy code, I encounter some code like this\r\n\r\nactually I don&#39;t know what is it stand for , is this mean a function  and  is folder and pipelineJob a default method?  or just a function name.\r\n\r\nI got those error message, but don&#39;t know where I can fix it \r\n\r\n```\r\nCaught: groovy.lang.MissingMethodException: No signature of method: seed.folder() is applicable for argument types: (String, seed$_run_closure1$_closure3) values: [AAA, seed$_run_closure1$_closure3@3f93e4a8]\r\nPossible solutions: collect(), find()\r\ngroovy.lang.MissingMethodException: No signature of method: seed.folder() is applicable for argument types: (String, seed$_run_closure1$_closure3) values: [AAA, seed$_run_closure1$_closure3@3f93e4a8]\r\nPossible solutions: collect(), find()\r\n        at seed$_run_closure1.doCall(seed.groovy:35)\r\n        at seed.run(seed.groovy:31)\r\n\r\n\r\n```","title":"groovy issue with groovy.lang.MissingMethodException: No signature of method","body":"<pre><code>\n folder('AAAA'){\n        description &quot;BBB&quot;\n    }\n\n</code></pre>\n<pre><code>pipelineJob(&quot;$CCCC&quot;){\n   parameters{\n                stringParam('branch','master')\n\n            }\n\n}\n</code></pre>\n<p>I am new in groovy and trying to handle legacy code, I encounter some code like this</p>\n<p>actually I don't know what is it stand for , is this mean a function  and  is folder and pipelineJob a default method?  or just a function name.</p>\n<p>I got those error message, but don't know where I can fix it</p>\n<pre><code>Caught: groovy.lang.MissingMethodException: No signature of method: seed.folder() is applicable for argument types: (String, seed$_run_closure1$_closure3) values: [AAA, seed$_run_closure1$_closure3@3f93e4a8]\nPossible solutions: collect(), find()\ngroovy.lang.MissingMethodException: No signature of method: seed.folder() is applicable for argument types: (String, seed$_run_closure1$_closure3) values: [AAA, seed$_run_closure1$_closure3@3f93e4a8]\nPossible solutions: collect(), find()\n        at seed$_run_closure1.doCall(seed.groovy:35)\n        at seed.run(seed.groovy:31)\n\n\n</code></pre>\n"},{"tags":["java","android","class","object","android-studio"],"comments":[{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":0,"creation_date":1457640170,"post_id":35926098,"comment_id":59510627,"body_markdown":"if `objectType` has no *context* related constraint, there isn&#39;t much difference","body":"if <code>objectType</code> has no <i>context</i> related constraint, there isn&#39;t much difference"},{"owner":{"account_id":2434212,"reputation":1143,"user_id":2124795,"accept_rate":86,"display_name":"DoubleBass"},"score":0,"creation_date":1457640193,"post_id":35926098,"comment_id":59510649,"body_markdown":"@Blackbelt I&#39;m new to all this so you may have to dumb it down for me, but what do you mean by context-related constraint?","body":"@Blackbelt I&#39;m new to all this so you may have to dumb it down for me, but what do you mean by context-related constraint?"},{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":0,"creation_date":1457640254,"post_id":35926098,"comment_id":59510690,"body_markdown":"does `objectType` relies on an object of type `Context`?","body":"does <code>objectType</code> relies on an object of type <code>Context</code>?"},{"owner":{"account_id":2434212,"reputation":1143,"user_id":2124795,"accept_rate":86,"display_name":"DoubleBass"},"score":0,"creation_date":1457640633,"post_id":35926098,"comment_id":59510936,"body_markdown":"@Blackbelt No, it&#39;s just a separate class / object type (such as one you might make yourself). Although how would it matter if it were a `Context`?","body":"@Blackbelt No, it&#39;s just a separate class / object type (such as one you might make yourself). Although how would it matter if it were a <code>Context</code>?"},{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":0,"creation_date":1457640734,"post_id":35926098,"comment_id":59510992,"body_markdown":"then it is more or less the same/","body":"then it is more or less the same/"}],"answers":[{"tags":[],"owner":{"account_id":413213,"reputation":35885,"user_id":786718,"accept_rate":87,"display_name":"DeeV"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1457640446,"creation_date":1457640446,"answer_id":35926202,"question_id":35926098,"body_markdown":"Functionally, nothing.  \r\n\r\nThe first one will be created when the Activity object is created (`new myClass()` is called).  The Android system does this at some point during creation.\r\n\r\nThe second one will be created when the system eventually calls `onCreate()`.  \r\n\r\nThe gotcha would be if you had an object that needs a `Context` in the constructor.  You could do this for example:\r\n\r\n    public class myClass extends AppCompatActivity {\r\n        private objectType object = new objectType(this);\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            //do stuff with object\r\n\r\nAnd the app will suddenly crash because you most likely will try to extract resources from the `Context` that don&#39;t exist yet. (Remember, the Activity isn&#39;t created at this point).\r\n\r\nSo, if your object does have to use `Context`, then you have to create it at or after `onCreate` is called. ","title":"Member object instantiation in onCreate vs. during declaration","body":"<p>Functionally, nothing.  </p>\n\n<p>The first one will be created when the Activity object is created (<code>new myClass()</code> is called).  The Android system does this at some point during creation.</p>\n\n<p>The second one will be created when the system eventually calls <code>onCreate()</code>.  </p>\n\n<p>The gotcha would be if you had an object that needs a <code>Context</code> in the constructor.  You could do this for example:</p>\n\n<pre><code>public class myClass extends AppCompatActivity {\n    private objectType object = new objectType(this);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        //do stuff with object\n</code></pre>\n\n<p>And the app will suddenly crash because you most likely will try to extract resources from the <code>Context</code> that don't exist yet. (Remember, the Activity isn't created at this point).</p>\n\n<p>So, if your object does have to use <code>Context</code>, then you have to create it at or after <code>onCreate</code> is called. </p>\n"},{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457640522,"creation_date":1457640522,"answer_id":35926232,"question_id":35926098,"body_markdown":"An Activity has a well defined lifecycle, as you probably know.  It does not always matter if you create new instances in the constructor vs. onCreate, but you would definitely prefer onCreate in these circumstances:\r\n\r\n 1. If the new object requires a valid Context, that is not available until onCreate().  You can&#39;t do this in the constructor.\r\n 2. If you wish to proactively release the resource as soon as you don&#39;t need it any more, onDestroy provides a nice analog to onCreate with respect to the activity lifecycle.  This may help objects be reclaimed faster than they would if they were created in the constructor and stored as &quot;final&quot;. While this is not strictly necessary, it makes it clear to the reader that you wish to do work following the lifecycle of the Activity, not just the with the object instance itself.\r\n","title":"Member object instantiation in onCreate vs. during declaration","body":"<p>An Activity has a well defined lifecycle, as you probably know.  It does not always matter if you create new instances in the constructor vs. onCreate, but you would definitely prefer onCreate in these circumstances:</p>\n\n<ol>\n<li>If the new object requires a valid Context, that is not available until onCreate().  You can't do this in the constructor.</li>\n<li>If you wish to proactively release the resource as soon as you don't need it any more, onDestroy provides a nice analog to onCreate with respect to the activity lifecycle.  This may help objects be reclaimed faster than they would if they were created in the constructor and stored as \"final\". While this is not strictly necessary, it makes it clear to the reader that you wish to do work following the lifecycle of the Activity, not just the with the object instance itself.</li>\n</ol>\n"}],"owner":{"account_id":2434212,"reputation":1143,"user_id":2124795,"accept_rate":86,"display_name":"DoubleBass"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1328,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":35926202,"answer_count":2,"score":5,"last_activity_date":1677201786,"creation_date":1457640060,"question_id":35926098,"body_markdown":"I am basically asking about the difference between these two approaches:\r\n\r\n    public class MyClass extends AppCompatActivity {\r\n        private ObjectType mObject = new ObjectType();\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            // do stuff with mObject\r\n\r\nand\r\n\r\n    public class MyClass extends AppCompatActivity {\r\n        private ObjectType mObject;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            mObject = new ObjectType();\r\n\r\nI hope I&#39;m being clear enough. I am struggling to understand when we&#39;d want to choose one versus the other.","title":"Member object instantiation in onCreate vs. during declaration","body":"<p>I am basically asking about the difference between these two approaches:</p>\n<pre><code>public class MyClass extends AppCompatActivity {\n    private ObjectType mObject = new ObjectType();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // do stuff with mObject\n</code></pre>\n<p>and</p>\n<pre><code>public class MyClass extends AppCompatActivity {\n    private ObjectType mObject;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        mObject = new ObjectType();\n</code></pre>\n<p>I hope I'm being clear enough. I am struggling to understand when we'd want to choose one versus the other.</p>\n"},{"tags":["java","postgresql","hibernate","jpa","transactions"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1677134883,"post_id":75541339,"comment_id":133278718,"body_markdown":"Transactions are typically managed using the `@Transactional` annotation in Spring/JPA","body":"Transactions are typically managed using the <code>@Transactional</code> annotation in Spring/JPA"},{"owner":{"account_id":1396943,"reputation":2013,"user_id":1326534,"accept_rate":62,"display_name":"marcotama"},"score":0,"creation_date":1677201308,"post_id":75541339,"comment_id":133296268,"body_markdown":"Yes. I need that annotation to cause a `BEGIN TRANSACTION` statement so Postgres knows to delay verifying the constraints. How do I do that, if it&#39;s even possible? I will edit the question to clarify.","body":"Yes. I need that annotation to cause a <code>BEGIN TRANSACTION</code> statement so Postgres knows to delay verifying the constraints. How do I do that, if it&#39;s even possible? I will edit the question to clarify."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1677219869,"post_id":75541339,"comment_id":133298374,"body_markdown":"Well, there is only way to start a transaction. So Spring (or the JDBC driver) will have to send a `BEGIN TRANSACTION` somehow.","body":"Well, there is only way to start a transaction. So Spring (or the JDBC driver) will have to send a <code>BEGIN TRANSACTION</code> somehow."},{"owner":{"account_id":1396943,"reputation":2013,"user_id":1326534,"accept_rate":62,"display_name":"marcotama"},"score":0,"creation_date":1677461085,"post_id":75541339,"comment_id":133336664,"body_markdown":"Do you know if this is possible? If you do, can you please share how to do it?","body":"Do you know if this is possible? If you do, can you please share how to do it?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1677480397,"post_id":75541339,"comment_id":133338723,"body_markdown":"`@Transactional` will handle that.","body":"<code>@Transactional</code> will handle that."}],"owner":{"account_id":1396943,"reputation":2013,"user_id":1326534,"accept_rate":62,"display_name":"marcotama"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677201405,"creation_date":1677134122,"question_id":75541339,"body_markdown":"I understand that JPA provides a layer of abstraction for transactions, and in the [docs][1] it says that\r\n\r\n&gt; the persistence provider is responsible for ensuring that all updates to the state of all entities in the persistence context which could potentially affect the result of the query are visible to the processing of the query.\r\n\r\nIt goes on to say that the mechanism for achieving this is not specified:\r\n\r\n&gt; The persistence provider implementation may achieve this by flushing those entities to the database or by some other means.\r\n\r\nI use Spring Boot, Hibernate and Postgres. Postgres allows specifying constraints, but these constraints can be relaxed in transactions, i.e. they are only checked at the end of a transaction.\r\n\r\nOf course, Postgres does not know about JPA/Hibernate transactions unless they explicitly issue a `BEGIN TRANSACTION` statement. In fact, I verified that if I do issue such statement, constraints are only checked at the end of the transaciton.\r\n\r\nI know that the way to manage transactions is to use `@Transactional`. My question is: is there a way to tell Spring or Hibernate to generate  `BEGIN TRANSACTION` and `COMMIT` SQL statements when I use `@Transactional`? It would be even better if I could do this with the JPA API.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/api/javax/persistence/FlushModeType.html","title":"Can I make JPA output a physical DB transaction via a SQL statement","body":"<p>I understand that JPA provides a layer of abstraction for transactions, and in the <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/FlushModeType.html\" rel=\"nofollow noreferrer\">docs</a> it says that</p>\n<blockquote>\n<p>the persistence provider is responsible for ensuring that all updates to the state of all entities in the persistence context which could potentially affect the result of the query are visible to the processing of the query.</p>\n</blockquote>\n<p>It goes on to say that the mechanism for achieving this is not specified:</p>\n<blockquote>\n<p>The persistence provider implementation may achieve this by flushing those entities to the database or by some other means.</p>\n</blockquote>\n<p>I use Spring Boot, Hibernate and Postgres. Postgres allows specifying constraints, but these constraints can be relaxed in transactions, i.e. they are only checked at the end of a transaction.</p>\n<p>Of course, Postgres does not know about JPA/Hibernate transactions unless they explicitly issue a <code>BEGIN TRANSACTION</code> statement. In fact, I verified that if I do issue such statement, constraints are only checked at the end of the transaciton.</p>\n<p>I know that the way to manage transactions is to use <code>@Transactional</code>. My question is: is there a way to tell Spring or Hibernate to generate  <code>BEGIN TRANSACTION</code> and <code>COMMIT</code> SQL statements when I use <code>@Transactional</code>? It would be even better if I could do this with the JPA API.</p>\n"},{"tags":["java","spring","filter"],"owner":{"account_id":18925974,"reputation":37,"user_id":13809107,"display_name":"Skul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677201135,"creation_date":1677201135,"question_id":75551790,"body_markdown":"My request body is in Camel-case\r\n```\r\n[\r\n  {\r\n    &quot;type&quot;: &quot;read&quot;,\r\n    &quot;userId&quot;: &quot;54198357&quot;,\r\n    &quot;book&quot;: {\r\n      &quot;Id&quot;: &quot;1974738&quot;,\r\n      &quot;accountId&quot;: &quot;133456&quot;,\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nMy service expects the request to be in Kebab-case in order to properly map values it into an object. Since I want to make my API flexible to understand both kebab-case as well as camel-case requests, I am implementing the OncePerRequestFilter to modify the request body to make the keys into kebab-case BEFORE request reaches the RestController. \r\n \r\nI am stuck on how to pass this modified request to the controller. Below is my code. Please help !!\r\n\r\n```\r\npublic class RequestMappingFilter extends OncePerRequestFilter {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(RequestMappingFilter.class);\r\n\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n        throws ServletException, IOException {\r\n\r\n        try {\r\n           \r\n            SimpleModule simpleModule = new SimpleModule();\r\n            simpleModule.addKeySerializer(String.class, new CamelCaseKeySerializer());\r\n\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.registerModule(simpleModule);\r\n\r\n            String requestBody = IOUtils.toString(request.getReader()); // request.getReader can ONLY be read once. \r\n\r\n            Books modifiedRequest = mapper.readValue( requestBody, Books.class);\r\n            \r\n            filterChain.doFilter(request, response); // todo figure out how to pass the modifiedRequest ??\r\n\r\n        } catch (Exception e) {\r\n            // Do something. \r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class CamelCaseKeySerializer extends JsonSerializer&lt;String&gt; {\r\n\r\n    @Override\r\n    public void serialize(String value, JsonGenerator gen, SerializerProvider serializers)\r\n        throws IOException, JsonProcessingException {\r\n        CaseFormat.LOWER_CAMEL.to(CaseFormat.LOWER_HYPHEN, value);\r\n    }\r\n}\r\n```\r\nRegistering filter\r\n```\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.addConverter(new StringToEventSubclassTypeConverter());\r\n    }\r\n\r\n    @Bean\r\n    public FilterRegistrationBean RequestMappingFilter() {\r\n        FilterRegistrationBean registration = new FilterRegistrationBean();\r\n        registration.setFilter(\r\n            new RequestMappingFilter());\r\n        registration.addUrlPatterns(&quot;/v1/read/books&quot;); // Filter only implemented for specified url\r\n        return registration;\r\n    }\r\n}\r\n```\r\n","title":"Setting modified request body back to HttpServletRequest using OncePerRequestFilter","body":"<p>My request body is in Camel-case</p>\n<pre><code>[\n  {\n    &quot;type&quot;: &quot;read&quot;,\n    &quot;userId&quot;: &quot;54198357&quot;,\n    &quot;book&quot;: {\n      &quot;Id&quot;: &quot;1974738&quot;,\n      &quot;accountId&quot;: &quot;133456&quot;,\n    }\n  }\n]\n</code></pre>\n<p>My service expects the request to be in Kebab-case in order to properly map values it into an object. Since I want to make my API flexible to understand both kebab-case as well as camel-case requests, I am implementing the OncePerRequestFilter to modify the request body to make the keys into kebab-case BEFORE request reaches the RestController.</p>\n<p>I am stuck on how to pass this modified request to the controller. Below is my code. Please help !!</p>\n<pre><code>public class RequestMappingFilter extends OncePerRequestFilter {\n    private static final Logger LOGGER = LoggerFactory.getLogger(RequestMappingFilter.class);\n\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n        throws ServletException, IOException {\n\n        try {\n           \n            SimpleModule simpleModule = new SimpleModule();\n            simpleModule.addKeySerializer(String.class, new CamelCaseKeySerializer());\n\n            ObjectMapper mapper = new ObjectMapper();\n            mapper.registerModule(simpleModule);\n\n            String requestBody = IOUtils.toString(request.getReader()); // request.getReader can ONLY be read once. \n\n            Books modifiedRequest = mapper.readValue( requestBody, Books.class);\n            \n            filterChain.doFilter(request, response); // todo figure out how to pass the modifiedRequest ??\n\n        } catch (Exception e) {\n            // Do something. \n        }\n    }\n}\n</code></pre>\n<pre><code>public class CamelCaseKeySerializer extends JsonSerializer&lt;String&gt; {\n\n    @Override\n    public void serialize(String value, JsonGenerator gen, SerializerProvider serializers)\n        throws IOException, JsonProcessingException {\n        CaseFormat.LOWER_CAMEL.to(CaseFormat.LOWER_HYPHEN, value);\n    }\n}\n</code></pre>\n<p>Registering filter</p>\n<pre><code>public class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new StringToEventSubclassTypeConverter());\n    }\n\n    @Bean\n    public FilterRegistrationBean RequestMappingFilter() {\n        FilterRegistrationBean registration = new FilterRegistrationBean();\n        registration.setFilter(\n            new RequestMappingFilter());\n        registration.addUrlPatterns(&quot;/v1/read/books&quot;); // Filter only implemented for specified url\n        return registration;\n    }\n}\n</code></pre>\n"},{"tags":["java","jackson","runtime-error"],"owner":{"account_id":6261096,"reputation":68,"user_id":4868249,"display_name":"Vir Gandhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677200467,"creation_date":1677200467,"question_id":75551752,"body_markdown":"We have 2 modules, one on server-side and one on client-side, using jackson dependencies (jackson-core, jackson-databind and jackson-annotations).\r\n\r\nInitially, both the modules were using jackson 2.6.0 version and there were no error. However, after version-up in server-side from 2.6.0 to 2.13.4, we started getting UnrecognizedPropertyException error from client-side.\r\n\r\n```\r\njava.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;status&quot; (class com.worksap.company.common.connection.rest.remote.client.AuthenticateClientResponse), not marked as ignorable (2 known properties: &quot;success&quot;, &quot;accessToken&quot;])\r\n```\r\n\r\nI understand I can use `@JsonIgnoreProperties` annotation in client-side module to get rid of that error, however I want to know why there were no errors when we were using 2.6.0 version.\r\n\r\nAnd at the same time, is there a way to avoid that error without changing the client-side module?\r\n\r\nThank you in advance.\r\n\r\n\r\n","title":"Jackson Databind UnrecognizedPropertyException after version-up","body":"<p>We have 2 modules, one on server-side and one on client-side, using jackson dependencies (jackson-core, jackson-databind and jackson-annotations).</p>\n<p>Initially, both the modules were using jackson 2.6.0 version and there were no error. However, after version-up in server-side from 2.6.0 to 2.13.4, we started getting UnrecognizedPropertyException error from client-side.</p>\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;status&quot; (class com.worksap.company.common.connection.rest.remote.client.AuthenticateClientResponse), not marked as ignorable (2 known properties: &quot;success&quot;, &quot;accessToken&quot;])\n</code></pre>\n<p>I understand I can use <code>@JsonIgnoreProperties</code> annotation in client-side module to get rid of that error, however I want to know why there were no errors when we were using 2.6.0 version.</p>\n<p>And at the same time, is there a way to avoid that error without changing the client-side module?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4562555,"reputation":1884,"user_id":3704475,"accept_rate":96,"display_name":"Amen Jlili"},"score":0,"creation_date":1424326997,"post_id":28599855,"comment_id":45505616,"body_markdown":"Just do an if no need to import the regex lib.","body":"Just do an if no need to import the regex lib."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1424327431,"post_id":28599855,"comment_id":45505787,"body_markdown":"Why&#39;d you use `&gt; -1` instead of `&gt;= 0`?","body":"Why&#39;d you use <code>&gt; -1</code> instead of <code>&gt;= 0</code>?"},{"owner":{"account_id":1075098,"reputation":499,"user_id":1073430,"accept_rate":64,"display_name":"MIM"},"score":0,"creation_date":1424329367,"post_id":28599855,"comment_id":45506502,"body_markdown":"All inputs are really informative, Thanks all for your inputs. I will go with simple &quot;if&quot; statement.","body":"All inputs are really informative, Thanks all for your inputs. I will go with simple &quot;if&quot; statement."}],"answers":[{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424327071,"creation_date":1424327071,"answer_id":28599891,"question_id":28599855,"body_markdown":"Number comparison is much efficient than String with regex comparison. By comparing number as a String is over complication.","title":"RegEx Vs If statement to validate number range","body":"<p>Number comparison is much efficient than String with regex comparison. By comparing number as a String is over complication.</p>\n"},{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424327176,"creation_date":1424327176,"answer_id":28599916,"question_id":28599855,"body_markdown":"You will probably use `String.matches()` for matching / checking. Which is *very inefficient*. It internally *compiles* the pattern, uses synchronization blah blah..\r\n\r\nSo , bottom line, avoid regexes wherever possible (Also, you will have to convert the number to a String and then use regex. What a waste of both *space* and *time*)\r\n\r\nPS : Also note that *mathematical operations* are always handled more efficiently across platforms. ","title":"RegEx Vs If statement to validate number range","body":"<p>You will probably use <code>String.matches()</code> for matching / checking. Which is <em>very inefficient</em>. It internally <em>compiles</em> the pattern, uses synchronization blah blah..</p>\n\n<p>So , bottom line, avoid regexes wherever possible (Also, you will have to convert the number to a String and then use regex. What a waste of both <em>space</em> and <em>time</em>)</p>\n\n<p>PS : Also note that <em>mathematical operations</em> are always handled more efficiently across platforms. </p>\n"},{"tags":[],"owner":{"account_id":4528276,"reputation":67276,"user_id":3679490,"accept_rate":81,"display_name":"vks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424327328,"creation_date":1424327328,"answer_id":28599946,"question_id":28599855,"body_markdown":"Your regex will get you partial matches when used with the following data:\r\n\r\n`-123`\r\n`+12`\r\n`!12`.\r\n\r\nSo its better to use `string comparison` to avoid unseen problems and to maintain a complex regex.See demo.\r\n\r\nhttps://regex101.com/r/mS3tQ7/11","title":"RegEx Vs If statement to validate number range","body":"<p>Your regex will get you partial matches when used with the following data:</p>\n\n<p><code>-123</code>\n<code>+12</code>\n<code>!12</code>.</p>\n\n<p>So its better to use <code>string comparison</code> to avoid unseen problems and to maintain a complex regex.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/mS3tQ7/11\" rel=\"nofollow\">https://regex101.com/r/mS3tQ7/11</a></p>\n"},{"tags":[],"owner":{"account_id":5278063,"reputation":2127,"user_id":4214287,"display_name":"Leet-Falcon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1424327432,"creation_date":1424327432,"answer_id":28599970,"question_id":28599855,"body_markdown":"I use a simple rule:  \r\nIf you can code without regexp and keep it simple - than do it without.  \r\nRegexps gives you a lot of power, but it can be tricky to master.  \r\nIn your case - the &quot;if&quot; code will run faster and will have much better readability.  \r\nA lot of times - regexps can amount to something which is very complex to understand and maintain as requirements change.\r\n","title":"RegEx Vs If statement to validate number range","body":"<p>I use a simple rule:<br>\nIf you can code without regexp and keep it simple - than do it without.<br>\nRegexps gives you a lot of power, but it can be tricky to master.<br>\nIn your case - the \"if\" code will run faster and will have much better readability.<br>\nA lot of times - regexps can amount to something which is very complex to understand and maintain as requirements change.</p>\n"},{"tags":[],"owner":{"account_id":4792902,"reputation":5097,"user_id":3871551,"accept_rate":50,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424328168,"creation_date":1424328168,"answer_id":28600140,"question_id":28599855,"body_markdown":"To keep it simple and easy to understand(w.r.t your problem) I would suggest to go for If statement. But for complex validations I would suggest using regex. The reason for this is also the same - to keep it simple and easy to understand. Why use 8-10 lines of if-then blocks when you can validate the same with concise 25-30 character regex pattern! And if you put that same pattern in a .config file, you can now change the behavior of your app without recompiling. It&#39;s less code doing more work in a flexible way.","title":"RegEx Vs If statement to validate number range","body":"<p>To keep it simple and easy to understand(w.r.t your problem) I would suggest to go for If statement. But for complex validations I would suggest using regex. The reason for this is also the same - to keep it simple and easy to understand. Why use 8-10 lines of if-then blocks when you can validate the same with concise 25-30 character regex pattern! And if you put that same pattern in a .config file, you can now change the behavior of your app without recompiling. It's less code doing more work in a flexible way.</p>\n"}],"owner":{"account_id":1075098,"reputation":499,"user_id":1073430,"accept_rate":64,"display_name":"MIM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1233,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1677200371,"creation_date":1424326915,"question_id":28599855,"body_markdown":"I have to validate a number falls within the range (0-255).\r\nI can do this with Regular expression or using if statement.\r\n\r\nRegEx:\r\n\r\n    \\b([0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\b\r\nOr\r\n\r\n    If(number&gt;-1 &amp;&amp; number &lt;=255)\r\n\r\nI want to know which one is better to use to validate number range.","title":"RegEx Vs If statement to validate number range","body":"<p>I have to validate a number falls within the range (0-255).\nI can do this with Regular expression or using if statement.</p>\n<p>RegEx:</p>\n<pre><code>\\b([0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\b\n</code></pre>\n<p>Or</p>\n<pre><code>If(number&gt;-1 &amp;&amp; number &lt;=255)\n</code></pre>\n<p>I want to know which one is better to use to validate number range.</p>\n"},{"tags":["java","gradle","hadoop","gradlew"],"comments":[{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":0,"creation_date":1677200155,"post_id":75551105,"comment_id":133296151,"body_markdown":"Please provide a minimal example of what you have tried.","body":"Please provide a minimal example of what you have tried."}],"owner":{"account_id":27863888,"reputation":1,"user_id":21275800,"display_name":"somethingsomething123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677197419,"creation_date":1677192531,"question_id":75551105,"body_markdown":"I&#39;m trying to upgrade in the gradle the version 5.3 of woodstox to 6.5 that is a transitive dependecy of the hadoop-client-runtime version 3.3.4 - vulnerabilities issues. All my tries wans&#39;t sucessful and it keeps downloading the wrong version\r\n\r\nI tried configurations.all.resolutionStrategy { force }, version { strictly } and also tried to constraints {} as stated in the docs https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html ( kotlin )","title":"Woodstox Transitive Dependency at Apache Hadoop Client Runtime","body":"<p>I'm trying to upgrade in the gradle the version 5.3 of woodstox to 6.5 that is a transitive dependecy of the hadoop-client-runtime version 3.3.4 - vulnerabilities issues. All my tries wans't sucessful and it keeps downloading the wrong version</p>\n<p>I tried configurations.all.resolutionStrategy { force }, version { strictly } and also tried to constraints {} as stated in the docs <a href=\"https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html</a> ( kotlin )</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1238107503,"creation_date":1238107503,"answer_id":687847,"question_id":687553,"body_markdown":"One specific which would be helpful in answering the question would be as opposed to what? Not doing the project, or doing it not using annotations? And if not using annotations, what are the alternatives?\r\n\r\nPersonally, I find excessive annotations unreadable, and many times too inflexible. Take a look at this for one method on a web service to implement a vendor required WSDL:\r\n\r\n        @WebMethod(action=QBWSBean.NS+&quot;receiveResponseXML&quot;)\r\n    @WebResult(name=&quot;receiveResponseXML&quot;+result,targetNamespace = QBWSBean.NS)\r\n    @TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)\r\n    public int receiveResponseXML(\r\n            @WebParam(name = &quot;ticket&quot;,targetNamespace = QBWSBean.NS) String ticket,\r\n            @WebParam(name = &quot;response&quot;,targetNamespace = QBWSBean.NS) String response,\r\n            @WebParam(name = &quot;hresult&quot;,targetNamespace = QBWSBean.NS) String hresult,\r\n            @WebParam(name = &quot;message&quot;,targetNamespace = QBWSBean.NS) String message) {\r\n\r\nI find that code highly unreadable. An XML configuration alternative isn&#39;t necessarily better, though.\r\n","title":"The drawbacks of annotation processing in Java?","body":"<p>One specific which would be helpful in answering the question would be as opposed to what? Not doing the project, or doing it not using annotations? And if not using annotations, what are the alternatives?</p>\n\n<p>Personally, I find excessive annotations unreadable, and many times too inflexible. Take a look at this for one method on a web service to implement a vendor required WSDL:</p>\n\n<pre><code>    @WebMethod(action=QBWSBean.NS+\"receiveResponseXML\")\n@WebResult(name=\"receiveResponseXML\"+result,targetNamespace = QBWSBean.NS)\n@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)\npublic int receiveResponseXML(\n        @WebParam(name = \"ticket\",targetNamespace = QBWSBean.NS) String ticket,\n        @WebParam(name = \"response\",targetNamespace = QBWSBean.NS) String response,\n        @WebParam(name = \"hresult\",targetNamespace = QBWSBean.NS) String hresult,\n        @WebParam(name = \"message\",targetNamespace = QBWSBean.NS) String message) {\n</code></pre>\n\n<p>I find that code highly unreadable. An XML configuration alternative isn't necessarily better, though.</p>\n"},{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1677196821,"creation_date":1238596608,"answer_id":705812,"question_id":687553,"body_markdown":"I created a set of JavaBean annotations to generate property getters/setters, delegation, and interface extraction (edit: removed link; no longer supported)\r\n\r\n**Testing**\r\n\r\nTesting them can be quite trying...\r\n\r\nI usually approach it by creating a project in eclipse with the test code and building it, then make a copy and turn off annotation processing.\r\n\r\nI can then use Eclipse to compare the &quot;active&quot; test project to the &quot;expected&quot; copy of the project.\r\n\r\nI don&#39;t have too many test cases yet (it&#39;s very tedious to generate so many combinations of attributes), but this is helping.\r\n\r\n\r\n**Build System**\r\n\r\nUsing annotations in a build system is actually very easy. Gradle makes this incredibly simple, and using it in eclipse is just a matter of making a plugin specifying the annotation processor extension and turning on annotation processing in projects that want to use it.\r\n\r\nI&#39;ve used annotation processing in a continuous build environment, building the annotations &amp; processor, then using it in the rest of the build. It&#39;s really pretty painless.\r\n\r\n**Processing Time**\r\n\r\nI haven&#39;t found this to be an issue - be careful of what you do in the processors. I generate a lot of code in mine and it runs fine. It&#39;s a little slower in ant.\r\n\r\nNote that Java6 processors can run a little faster because they are part of the normal compilation process. However, I&#39;ve had trouble getting them to work properly in a code generation capacity (I think much of the problem is eclipse&#39;s support and running multiple-phase compiles). For now, I stick with Java 5.\r\n\r\n**Error Processing**\r\n\r\nThis is one of the best-thought-through things in the annotation API. The API has a &quot;messenger&quot; object that handles all errors. Each IDE provides an implementation that converts this into appropriate error messages at the right location in the code.\r\n\r\nThe only eclipse-specific thing I did was to cast the processing environment object so I could check if it was bring run as a build or for editor reconciliation. If editing, I exit. Eventually I&#39;ll change this to just do error checking at edit time so it can report errors as you type. Be careful, though -- you need to keep it *really* fast for use during reconciliation or editing gets sluggish.\r\n\r\n**Code Generation Gotcha**\r\n\r\n[added a little more per comments]\r\n\r\nThe annotation processor specifications state that you are not allowed to modify the class that contains the annotation. I suspect this is to simplify the processing (further rounds do not need to include the annotated classes, preventing infinite update loops as well)\r\n\r\nYou *can* generate other classes, however, and they recommend that approach.\r\n\r\nI generate a superclass for all of the get/set methods and anything else I need to generate. I also have the processor verify that the annotated class extends the generated class. For example:\r\n\r\n    @Bean(...)\r\n    public class Foo extends FooGen\r\n\r\nI generate a class in the same package with the name of the annotated class plus &quot;Gen&quot; and verify that the annotated class is declared to extend it. \r\n\r\nI have seen someone use the compiler tree api to modify the annotated class -- this is against spec and I suspect they&#39;ll plug that hole at some point so it won&#39;t work.\r\n\r\nI would recommend generating a superclass.\r\n\r\n**Overall**\r\n\r\nI&#39;m *really* happy using annotation processors. Very well designed, especially looking at IDE/command-line build independence.\r\n\r\nFor now, I would recommend sticking with the Java5 annotation processors if you&#39;re doing code generation - you need to run a separate tool called apt to process them, then do the compilation.\r\n\r\nNote that the API for Java 5 and Java 6 annotation processors is different! The Java 6 processing API is better IMHO, but I just haven&#39;t had luck with java 6 processors doing what I need yet.\r\n\r\nWhen Java 7 comes out I&#39;ll give the new processing approach another shot.\r\n\r\nFeel free to email me if you have questions. (scott@javadude.com)\r\n\r\nHope this helps!","title":"The drawbacks of annotation processing in Java?","body":"<p>I created a set of JavaBean annotations to generate property getters/setters, delegation, and interface extraction (edit: removed link; no longer supported)</p>\n<p><strong>Testing</strong></p>\n<p>Testing them can be quite trying...</p>\n<p>I usually approach it by creating a project in eclipse with the test code and building it, then make a copy and turn off annotation processing.</p>\n<p>I can then use Eclipse to compare the &quot;active&quot; test project to the &quot;expected&quot; copy of the project.</p>\n<p>I don't have too many test cases yet (it's very tedious to generate so many combinations of attributes), but this is helping.</p>\n<p><strong>Build System</strong></p>\n<p>Using annotations in a build system is actually very easy. Gradle makes this incredibly simple, and using it in eclipse is just a matter of making a plugin specifying the annotation processor extension and turning on annotation processing in projects that want to use it.</p>\n<p>I've used annotation processing in a continuous build environment, building the annotations &amp; processor, then using it in the rest of the build. It's really pretty painless.</p>\n<p><strong>Processing Time</strong></p>\n<p>I haven't found this to be an issue - be careful of what you do in the processors. I generate a lot of code in mine and it runs fine. It's a little slower in ant.</p>\n<p>Note that Java6 processors can run a little faster because they are part of the normal compilation process. However, I've had trouble getting them to work properly in a code generation capacity (I think much of the problem is eclipse's support and running multiple-phase compiles). For now, I stick with Java 5.</p>\n<p><strong>Error Processing</strong></p>\n<p>This is one of the best-thought-through things in the annotation API. The API has a &quot;messenger&quot; object that handles all errors. Each IDE provides an implementation that converts this into appropriate error messages at the right location in the code.</p>\n<p>The only eclipse-specific thing I did was to cast the processing environment object so I could check if it was bring run as a build or for editor reconciliation. If editing, I exit. Eventually I'll change this to just do error checking at edit time so it can report errors as you type. Be careful, though -- you need to keep it <em>really</em> fast for use during reconciliation or editing gets sluggish.</p>\n<p><strong>Code Generation Gotcha</strong></p>\n<p>[added a little more per comments]</p>\n<p>The annotation processor specifications state that you are not allowed to modify the class that contains the annotation. I suspect this is to simplify the processing (further rounds do not need to include the annotated classes, preventing infinite update loops as well)</p>\n<p>You <em>can</em> generate other classes, however, and they recommend that approach.</p>\n<p>I generate a superclass for all of the get/set methods and anything else I need to generate. I also have the processor verify that the annotated class extends the generated class. For example:</p>\n<pre><code>@Bean(...)\npublic class Foo extends FooGen\n</code></pre>\n<p>I generate a class in the same package with the name of the annotated class plus &quot;Gen&quot; and verify that the annotated class is declared to extend it.</p>\n<p>I have seen someone use the compiler tree api to modify the annotated class -- this is against spec and I suspect they'll plug that hole at some point so it won't work.</p>\n<p>I would recommend generating a superclass.</p>\n<p><strong>Overall</strong></p>\n<p>I'm <em>really</em> happy using annotation processors. Very well designed, especially looking at IDE/command-line build independence.</p>\n<p>For now, I would recommend sticking with the Java5 annotation processors if you're doing code generation - you need to run a separate tool called apt to process them, then do the compilation.</p>\n<p>Note that the API for Java 5 and Java 6 annotation processors is different! The Java 6 processing API is better IMHO, but I just haven't had luck with java 6 processors doing what I need yet.</p>\n<p>When Java 7 comes out I'll give the new processing approach another shot.</p>\n<p>Feel free to email me if you have questions. (scott@javadude.com)</p>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1265231824,"creation_date":1265231824,"answer_id":2195522,"question_id":687553,"body_markdown":"I think if annotation processor then definitely use the Java 6 version of the API. That is the one which will be supported in the future. The Java 5 API was still in the in the non official com.sun.xyz namespace.\r\n\r\nI think we will see a lot more uses of the annotation processor API in the near future. For example Hibernate is developing a processor for the new JPA 2 query related static meta model functionality. They are also developing a processor for validating Bean Validation annotations. So annotation processing is here to stay.\r\n\r\nTool integration is ok. The latest versions of the mainstream IDEs contain options to configure the annotation processors and integrate them into the build process. The main stream build tools also support annotation processing where maven can still cause some grief. \r\n\r\nTesting I find a big problem though. All tests are indirect and somehow verify the end result of the annotation processing. I cannot write any simple unit tests which just assert simple methods working on TypeMirrors or other reflection based classes. The problem is that one cannot instantiate these type of classes outside the processors compilation cycle. I don&#39;t think that Sun had really testability in mind when designing the API.","title":"The drawbacks of annotation processing in Java?","body":"<p>I think if annotation processor then definitely use the Java 6 version of the API. That is the one which will be supported in the future. The Java 5 API was still in the in the non official com.sun.xyz namespace.</p>\n\n<p>I think we will see a lot more uses of the annotation processor API in the near future. For example Hibernate is developing a processor for the new JPA 2 query related static meta model functionality. They are also developing a processor for validating Bean Validation annotations. So annotation processing is here to stay.</p>\n\n<p>Tool integration is ok. The latest versions of the mainstream IDEs contain options to configure the annotation processors and integrate them into the build process. The main stream build tools also support annotation processing where maven can still cause some grief. </p>\n\n<p>Testing I find a big problem though. All tests are indirect and somehow verify the end result of the annotation processing. I cannot write any simple unit tests which just assert simple methods working on TypeMirrors or other reflection based classes. The problem is that one cannot instantiate these type of classes outside the processors compilation cycle. I don't think that Sun had really testability in mind when designing the API.</p>\n"}],"owner":{"account_id":2908,"reputation":125963,"user_id":4120,"accept_rate":80,"display_name":"Grundlefleck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14429,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":705812,"answer_count":3,"score":29,"last_activity_date":1677196821,"creation_date":1238101892,"question_id":687553,"body_markdown":"I am considering starting a project which is used to generate code in Java using annotations (I won&#39;t get into specifics, as it&#39;s not really relevant). I am wondering about the validity and usefulness  of the project, and something that has struck me is the dependence on the Annontation Processor Tool (apt).\r\n\r\nWhat I&#39;d like to know, as I can&#39;t speak from experience, is what are the drawbacks of using annotation processing in Java?\r\n\r\nThese could be anything, including the likes of:  \r\n    \r\n\r\n - it is hard to do TDD when writing the processor\r\n - it is difficult to include the processing on a build system\r\n - processing takes a long time, and it is very difficult to get it to run fast\r\n - using the annotations in an IDE requires a plugin for each, to get it to behave the same when reporting errors\r\n\r\nThese are just examples, not my opinion. I am in the process of researching if any of these are true (including asking this question ;-) )\r\n\r\nI am sure there must be drawbacks (for instance, [Qi4J][1] specifically list not using pre-processors as an advantage) but I don&#39;t have the experience with it to tell what they are.\r\n\r\nThe ony reasonable alternative to using annotation processing is probably to create plugins for the relevant IDEs to generate the code (it would be something vaguely similar to override/implement methods feature that would generate all the signatures without method bodies). However, that step would have to be repeated each time relevant parts of the code changes, annotation processing would not, as far as I can tell.\r\n\r\nIn regards to the example given with the invasive amount of annotations, I don&#39;t envision the use needing to be anything like that, maybe a handful for any given class. That wouldn&#39;t stop it being abused of course.\r\n\r\n  [1]: http://www.qi4j.org/","title":"The drawbacks of annotation processing in Java?","body":"<p>I am considering starting a project which is used to generate code in Java using annotations (I won't get into specifics, as it's not really relevant). I am wondering about the validity and usefulness  of the project, and something that has struck me is the dependence on the Annontation Processor Tool (apt).</p>\n\n<p>What I'd like to know, as I can't speak from experience, is what are the drawbacks of using annotation processing in Java?</p>\n\n<p>These could be anything, including the likes of:  </p>\n\n<ul>\n<li>it is hard to do TDD when writing the processor</li>\n<li>it is difficult to include the processing on a build system</li>\n<li>processing takes a long time, and it is very difficult to get it to run fast</li>\n<li>using the annotations in an IDE requires a plugin for each, to get it to behave the same when reporting errors</li>\n</ul>\n\n<p>These are just examples, not my opinion. I am in the process of researching if any of these are true (including asking this question ;-) )</p>\n\n<p>I am sure there must be drawbacks (for instance, <a href=\"http://www.qi4j.org/\" rel=\"nofollow noreferrer\">Qi4J</a> specifically list not using pre-processors as an advantage) but I don't have the experience with it to tell what they are.</p>\n\n<p>The ony reasonable alternative to using annotation processing is probably to create plugins for the relevant IDEs to generate the code (it would be something vaguely similar to override/implement methods feature that would generate all the signatures without method bodies). However, that step would have to be repeated each time relevant parts of the code changes, annotation processing would not, as far as I can tell.</p>\n\n<p>In regards to the example given with the invasive amount of annotations, I don't envision the use needing to be anything like that, maybe a handful for any given class. That wouldn't stop it being abused of course.</p>\n"},{"tags":["java","multithreading","hibernate","concurrency","synchronization"],"answers":[{"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1235416332,"creation_date":1235416332,"answer_id":578919,"question_id":578904,"body_markdown":"Static methods use the class as the object for locking, which is Utils.class for your example. So yes, it is OK.\r\n","title":"How do synchronized static methods work in Java and can I use it for loading Hibernate entities?","body":"<p>Static methods use the class as the object for locking, which is Utils.class for your example. So yes, it is OK.</p>\n"},{"tags":[],"owner":{"account_id":6713,"reputation":26308,"user_id":11413,"accept_rate":94,"display_name":"Ray Lu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1235416359,"creation_date":1235416359,"answer_id":578923,"question_id":578904,"body_markdown":"If it is something to do with the data in your database, why not utilize database isolation locking to achieve?\r\n\r\n","title":"How do synchronized static methods work in Java and can I use it for loading Hibernate entities?","body":"<p>If it is something to do with the data in your database, why not utilize database isolation locking to achieve?</p>\n"},{"tags":[],"owner":{"account_id":22779,"reputation":129011,"user_id":56541,"accept_rate":81,"display_name":"David Z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1235416381,"creation_date":1235416381,"answer_id":578924,"question_id":578904,"body_markdown":"To answer your question, yes it does: your `synchronized` method cannot be executed by more than one thread at a time.","title":"How do synchronized static methods work in Java and can I use it for loading Hibernate entities?","body":"<p>To answer your question, yes it does: your <code>synchronized</code> method cannot be executed by more than one thread at a time.</p>\n"},{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1235416763,"creation_date":1235416763,"answer_id":578949,"question_id":578904,"body_markdown":"Why do you want to enforce that only a single thread can access the DB at any one time? \r\n\r\n*It is the job of the database driver* to implement any necessary locking, assuming a `Connection` is only used by one thread at a time!\r\n\r\nMost likely, your database is perfectly capable of handling multiple, parallel access","title":"How do synchronized static methods work in Java and can I use it for loading Hibernate entities?","body":"<p>Why do you want to enforce that only a single thread can access the DB at any one time? </p>\n\n<p><em>It is the job of the database driver</em> to implement any necessary locking, assuming a <code>Connection</code> is only used by one thread at a time!</p>\n\n<p>Most likely, your database is perfectly capable of handling multiple, parallel access</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":137,"is_accepted":true,"score":137,"last_activity_date":1593846702,"creation_date":1235421350,"answer_id":579221,"question_id":578904,"body_markdown":"By using synchronized on a static method lock you will [synchronize the class methods and attributes][1] ( as opposed to instance methods and attributes )\r\n\r\nSo your assumption is correct. \r\n\r\n&gt;*I am wondering if making the method synchronized is the right approach to ensure thread-safety.*\r\n\r\nNot really. You should let your RDBMS do that work instead. They are good at this kind of stuff. \r\n\r\nThe only thing you will get by synchronizing the access to the database is to make your application terribly slow.  Further more, in the code you posted you&#39;re building a Session Factory each time, that way, your application will spend more time accessing the DB than performing the actual job. \r\n\r\nImagine the following scenario: \r\n\r\nClient A and B attempt to insert different information into record X of table T.\r\n\r\n\r\nWith your approach the only thing you&#39;re getting is to make sure one is called after the other, when this would happen anyway in the DB, because the RDBMS will prevent them from inserting half information from A and half from B at the same time. The result will be the same but only 5 times ( or more )  slower. \r\n\r\n\r\nProbably it could be better to take a look at the [&quot;Transactions and Concurrency&quot;][2] chapter in the Hibernate documentation.  Most of the times the problems you&#39;re trying to solve, have been solved already and a much better way. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/437620/java-synchronized-methods-lock-on-object-or-class/437627#437627\r\n  [2]: http://www.hibernate.org/hib_docs/v3/reference/en-US/html/transactions.html","title":"How do synchronized static methods work in Java and can I use it for loading Hibernate entities?","body":"<p>By using synchronized on a static method lock you will <a href=\"https://stackoverflow.com/questions/437620/java-synchronized-methods-lock-on-object-or-class/437627#437627\">synchronize the class methods and attributes</a> ( as opposed to instance methods and attributes )</p>\n<p>So your assumption is correct.</p>\n<blockquote>\n<p><em>I am wondering if making the method synchronized is the right approach to ensure thread-safety.</em></p>\n</blockquote>\n<p>Not really. You should let your RDBMS do that work instead. They are good at this kind of stuff.</p>\n<p>The only thing you will get by synchronizing the access to the database is to make your application terribly slow.  Further more, in the code you posted you're building a Session Factory each time, that way, your application will spend more time accessing the DB than performing the actual job.</p>\n<p>Imagine the following scenario:</p>\n<p>Client A and B attempt to insert different information into record X of table T.</p>\n<p>With your approach the only thing you're getting is to make sure one is called after the other, when this would happen anyway in the DB, because the RDBMS will prevent them from inserting half information from A and half from B at the same time. The result will be the same but only 5 times ( or more )  slower.</p>\n<p>Probably it could be better to take a look at the <a href=\"http://www.hibernate.org/hib_docs/v3/reference/en-US/html/transactions.html\" rel=\"nofollow noreferrer\">&quot;Transactions and Concurrency&quot;</a> chapter in the Hibernate documentation.  Most of the times the problems you're trying to solve, have been solved already and a much better way.</p>\n"},{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"down_vote_count":0,"up_vote_count":244,"is_accepted":false,"score":244,"last_activity_date":1677195573,"creation_date":1235493826,"answer_id":582500,"question_id":578904,"body_markdown":"To address the question more generally...\r\n\r\nKeep in mind that using synchronized on methods is really just shorthand (assume class is `SomeClass`):\r\n\r\n    synchronized static void foo() {\r\n        ...\r\n    }\r\n\r\nis the same as\r\n\r\n    static void foo() {\r\n        synchronized(SomeClass.class) {\r\n            ...\r\n        }\r\n    }\r\n\r\nand \r\n\r\n    synchronized void foo() {\r\n        ...\r\n    }\r\n\r\nis the same as\r\n\r\n    void foo() {\r\n        synchronized(this) {\r\n            ...\r\n        }\r\n    }\r\n\r\n\r\nYou can use any object as the lock. If you want to lock subsets of static methods, you can\r\n\r\n    class SomeClass {\r\n        private static final Object LOCK_1 = new Object() {};\r\n        private static final Object LOCK_2 = new Object() {};\r\n        static void foo() {\r\n            synchronized(LOCK_1) {...}\r\n        }\r\n        static void fee() {\r\n            synchronized(LOCK_1) {...}\r\n        }\r\n        static void fie() {\r\n            synchronized(LOCK_2) {...}\r\n        }\r\n        static void fo() {\r\n            synchronized(LOCK_2) {...}\r\n        }\r\n    }\r\n\r\n(for non-static methods, you would want to make the locks be non-static fields)","title":"How do synchronized static methods work in Java and can I use it for loading Hibernate entities?","body":"<p>To address the question more generally...</p>\n<p>Keep in mind that using synchronized on methods is really just shorthand (assume class is <code>SomeClass</code>):</p>\n<pre><code>synchronized static void foo() {\n    ...\n}\n</code></pre>\n<p>is the same as</p>\n<pre><code>static void foo() {\n    synchronized(SomeClass.class) {\n        ...\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>synchronized void foo() {\n    ...\n}\n</code></pre>\n<p>is the same as</p>\n<pre><code>void foo() {\n    synchronized(this) {\n        ...\n    }\n}\n</code></pre>\n<p>You can use any object as the lock. If you want to lock subsets of static methods, you can</p>\n<pre><code>class SomeClass {\n    private static final Object LOCK_1 = new Object() {};\n    private static final Object LOCK_2 = new Object() {};\n    static void foo() {\n        synchronized(LOCK_1) {...}\n    }\n    static void fee() {\n        synchronized(LOCK_1) {...}\n    }\n    static void fie() {\n        synchronized(LOCK_2) {...}\n    }\n    static void fo() {\n        synchronized(LOCK_2) {...}\n    }\n}\n</code></pre>\n<p>(for non-static methods, you would want to make the locks be non-static fields)</p>\n"},{"tags":[],"owner":{"account_id":368402,"reputation":151,"user_id":715198,"display_name":"prasad"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1677195643,"creation_date":1303216611,"answer_id":5716440,"question_id":578904,"body_markdown":"`static synchronized` means holding lock on the the class&#39;s `Class` object\r\nwhere as\r\n`synchronized` means holding lock on the class&#39; instance. That means, if you are accessing a non-static synchronized method in a thread (of execution) you still can access a static synchronized method using another thread. \r\n\r\nSo, accessing two same kind of methods(either two static or two non-static methods) at any point of time by more than a thread is not possible.","title":"How do synchronized static methods work in Java and can I use it for loading Hibernate entities?","body":"<p><code>static synchronized</code> means holding lock on the the class's <code>Class</code> object\nwhere as\n<code>synchronized</code> means holding lock on the class' instance. That means, if you are accessing a non-static synchronized method in a thread (of execution) you still can access a static synchronized method using another thread.</p>\n<p>So, accessing two same kind of methods(either two static or two non-static methods) at any point of time by more than a thread is not possible.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610289051,"creation_date":1585210104,"answer_id":60863084,"question_id":578904,"body_markdown":"How the `synchronized` Java keyword works\r\n-----------------------------------------\r\n\r\nWhen you add the `synchronized` keyword to a static method, the method can only be called by a single thread at a time.\r\n\r\nIn your case, every method call will:\r\n\r\n- create a new `SessionFactory`\r\n- create a new `Session`\r\n- fetch the entity\r\n- return the entity back to the caller\r\n\r\nHowever, these were your requirements:\r\n\r\n- I want this to prevent access to info to the same DB instance.\r\n-  preventing `getObjectById` being called for all classes when it is called by a particular class\r\n\r\nSo, even if the `getObjectById` method is thread-safe, the implementation is wrong.\r\n\r\n`SessionFactory` best practices\r\n-------------------------------\r\n\r\nThe `SessionFactory` is thread-safe, and it&#39;s a very expensive object to create as it needs to parse the entity classes and build the internal entity metamodel representation.\r\n\r\nSo, you shouldn&#39;t create the `SessionFactory` on every `getObjectById` method call.\r\n\r\nInstead, you should create a singleton instance for it.\r\n\r\n    private static final SessionFactory sessionFactory = new Configuration()\r\n        .configure()\r\n        .buildSessionFactory();\r\n\r\nThe `Session` should always be closed\r\n-------------------------------------\r\n\r\nYou didn&#39;t close the `Session` in a `finally` block, and this can leak database resources if an exception is thrown when loading the entity.\r\n\r\nAccording to the [`Session.load` method JavaDoc](https://docs.jboss.org/hibernate/orm/5.4/javadocs/org/hibernate/Session.html#load-java.lang.Class-java.io.Serializable-) might throw a `HibernateException` if the entity cannot be found in the database.\r\n\r\n&gt; You should not use this method to determine if an instance exists (use `get()` instead). Use this only to retrieve an instance that you assume exists, where non-existence would be an actual error.\r\n\r\nThat&#39;s why you need to use a `finally` block to close the `Session`, like this:\r\n\r\n    public static synchronized Object getObjectById (Class objclass, Long id) {    \r\n         Session session = null;\r\n         try {\r\n             session = sessionFactory.openSession();\r\n             return session.load(objclass, id);\r\n         } finally {\r\n             if(session != null) {\r\n                 session.close(); \r\n             }\r\n         }\r\n     }\r\n\r\nPreventing multi-thread access\r\n------------------------------\r\n\r\nIn your case, you wanted to make sure only one thread gets access to that particular entity.\r\n\r\nBut the `synchronized` keyword only prevents two threads from calling the `getObjectById` concurrently. If the two threads call this method one after the other, you will still have two threads using this entity.\r\n\r\nSo, if you want to lock a given database object so no other thread can modify it, then you need to use database locks.\r\n\r\nThe `synchronized` keyword only works in a single JVM. If you have multiple web nodes, this will not prevent multi-thread access across multiple JVMs.\r\n\r\nWhat you need to do is use [`LockModeType.PESSIMISTIC_READ` or `LockModeType.PESSIMISTIC_WRITE`](https://vladmihalcea.com/hibernate-locking-patterns-how-do-pessimistic_read-and-pessimistic_write-work/) while applying the changes to the DB, like this:\r\n\r\n\tSession session = null;\r\n\tEntityTransaction tx = null;\r\n\t\r\n\ttry {\r\n\t\tsession = sessionFactory.openSession();\r\n\t\t\r\n\t\ttx = session.getTransaction();\r\n\t\ttx.begin();\r\n\r\n\t\tPost post = session.find(\r\n\t\t\tPost.class, \r\n\t\t\tid, \r\n\t\t\tLockModeType.LockModeType.PESSIMISTIC_READ\r\n\t\t);\r\n\r\n\t\tpost.setTitle(&quot;High-Performance Java Perisstence&quot;);\r\n\r\n\t\ttx.commit();\r\n\t} catch(Exception e) {\r\n        LOGGER.error(&quot;Post entity could not be changed&quot;, e);\r\n        if(tx != null) {\r\n\t\t\ttx.rollback(); \r\n\t\t}\r\n    } finally {\r\n\t\tif(session != null) {\r\n\t\t\tsession.close(); \r\n\t\t}\r\n\t}\r\n\r\nSo, this is what I did:\r\n\r\n- I created a new `EntityTransaction` and started a new database transaction\r\n- I loaded the `Post` entity while holding a lock on the associated database record\r\n- I changed the `Post` entity and committed the transaction\r\n- In the case of an `Exception` being thrown, I rolled back the transaction","title":"How do synchronized static methods work in Java and can I use it for loading Hibernate entities?","body":"<h2>How the <code>synchronized</code> Java keyword works</h2>\n<p>When you add the <code>synchronized</code> keyword to a static method, the method can only be called by a single thread at a time.</p>\n<p>In your case, every method call will:</p>\n<ul>\n<li>create a new <code>SessionFactory</code></li>\n<li>create a new <code>Session</code></li>\n<li>fetch the entity</li>\n<li>return the entity back to the caller</li>\n</ul>\n<p>However, these were your requirements:</p>\n<ul>\n<li>I want this to prevent access to info to the same DB instance.</li>\n<li>preventing <code>getObjectById</code> being called for all classes when it is called by a particular class</li>\n</ul>\n<p>So, even if the <code>getObjectById</code> method is thread-safe, the implementation is wrong.</p>\n<h2><code>SessionFactory</code> best practices</h2>\n<p>The <code>SessionFactory</code> is thread-safe, and it's a very expensive object to create as it needs to parse the entity classes and build the internal entity metamodel representation.</p>\n<p>So, you shouldn't create the <code>SessionFactory</code> on every <code>getObjectById</code> method call.</p>\n<p>Instead, you should create a singleton instance for it.</p>\n<pre><code>private static final SessionFactory sessionFactory = new Configuration()\n    .configure()\n    .buildSessionFactory();\n</code></pre>\n<h2>The <code>Session</code> should always be closed</h2>\n<p>You didn't close the <code>Session</code> in a <code>finally</code> block, and this can leak database resources if an exception is thrown when loading the entity.</p>\n<p>According to the <a href=\"https://docs.jboss.org/hibernate/orm/5.4/javadocs/org/hibernate/Session.html#load-java.lang.Class-java.io.Serializable-\" rel=\"nofollow noreferrer\"><code>Session.load</code> method JavaDoc</a> might throw a <code>HibernateException</code> if the entity cannot be found in the database.</p>\n<blockquote>\n<p>You should not use this method to determine if an instance exists (use <code>get()</code> instead). Use this only to retrieve an instance that you assume exists, where non-existence would be an actual error.</p>\n</blockquote>\n<p>That's why you need to use a <code>finally</code> block to close the <code>Session</code>, like this:</p>\n<pre><code>public static synchronized Object getObjectById (Class objclass, Long id) {    \n     Session session = null;\n     try {\n         session = sessionFactory.openSession();\n         return session.load(objclass, id);\n     } finally {\n         if(session != null) {\n             session.close(); \n         }\n     }\n }\n</code></pre>\n<h2>Preventing multi-thread access</h2>\n<p>In your case, you wanted to make sure only one thread gets access to that particular entity.</p>\n<p>But the <code>synchronized</code> keyword only prevents two threads from calling the <code>getObjectById</code> concurrently. If the two threads call this method one after the other, you will still have two threads using this entity.</p>\n<p>So, if you want to lock a given database object so no other thread can modify it, then you need to use database locks.</p>\n<p>The <code>synchronized</code> keyword only works in a single JVM. If you have multiple web nodes, this will not prevent multi-thread access across multiple JVMs.</p>\n<p>What you need to do is use <a href=\"https://vladmihalcea.com/hibernate-locking-patterns-how-do-pessimistic_read-and-pessimistic_write-work/\" rel=\"nofollow noreferrer\"><code>LockModeType.PESSIMISTIC_READ</code> or <code>LockModeType.PESSIMISTIC_WRITE</code></a> while applying the changes to the DB, like this:</p>\n<pre><code>Session session = null;\nEntityTransaction tx = null;\n\ntry {\n    session = sessionFactory.openSession();\n    \n    tx = session.getTransaction();\n    tx.begin();\n\n    Post post = session.find(\n        Post.class, \n        id, \n        LockModeType.LockModeType.PESSIMISTIC_READ\n    );\n\n    post.setTitle(&quot;High-Performance Java Perisstence&quot;);\n\n    tx.commit();\n} catch(Exception e) {\n    LOGGER.error(&quot;Post entity could not be changed&quot;, e);\n    if(tx != null) {\n        tx.rollback(); \n    }\n} finally {\n    if(session != null) {\n        session.close(); \n    }\n}\n</code></pre>\n<p>So, this is what I did:</p>\n<ul>\n<li>I created a new <code>EntityTransaction</code> and started a new database transaction</li>\n<li>I loaded the <code>Post</code> entity while holding a lock on the associated database record</li>\n<li>I changed the <code>Post</code> entity and committed the transaction</li>\n<li>In the case of an <code>Exception</code> being thrown, I rolled back the transaction</li>\n</ul>\n"}],"owner":{"account_id":16970,"reputation":5674,"user_id":37519,"accept_rate":78,"display_name":"tomato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202563,"favorite_count":0,"down_vote_count":0,"up_vote_count":188,"accepted_answer_id":579221,"answer_count":8,"score":188,"last_activity_date":1677195643,"creation_date":1235416036,"question_id":578904,"body_markdown":"If I have a util class with static methods that will call Hibernate functions to accomplish basic data access. I am wondering if making the method `synchronized` is the right approach to ensure thread-safety.\r\n\r\nI want this to prevent access of info to the same DB instance. However, I&#39;m now sure if the following code are preventing `getObjectById` being called for all Classes when it is called by a particular class. \r\n\r\n    public class Utils {\r\n         public static synchronized Object getObjectById (Class objclass, Long id) {\r\n               // call hibernate class\r\n             Session session = new Configuration().configure().buildSessionFactory().openSession();\r\n             Object obj = session.load(objclass, id);\r\n             session.close();\r\n             return obj;\r\n         }\r\n\r\n         // other static methods\r\n    }","title":"How do synchronized static methods work in Java and can I use it for loading Hibernate entities?","body":"<p>If I have a util class with static methods that will call Hibernate functions to accomplish basic data access. I am wondering if making the method <code>synchronized</code> is the right approach to ensure thread-safety.</p>\n\n<p>I want this to prevent access of info to the same DB instance. However, I'm now sure if the following code are preventing <code>getObjectById</code> being called for all Classes when it is called by a particular class. </p>\n\n<pre><code>public class Utils {\n     public static synchronized Object getObjectById (Class objclass, Long id) {\n           // call hibernate class\n         Session session = new Configuration().configure().buildSessionFactory().openSession();\n         Object obj = session.load(objclass, id);\n         session.close();\n         return obj;\n     }\n\n     // other static methods\n}\n</code></pre>\n"},{"tags":["java","xml","annotations"],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677194244,"creation_date":1677160975,"question_id":75545848,"body_markdown":"\r\n\r\nIn my java 8 project:\r\n\r\n    import javax.validation.Valid;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.xml.bind.annotation.*;\r\n    \r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Network {\r\n        @NotNull\r\n        @Valid\r\n        private NetworkSupportedFeaturesSection networkSupportedFeaturesSection;\r\n    \r\n    }\r\n\r\nAs result in xml I get smt like this:\r\n\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\r\n       &lt;soap:Body&gt;\r\n             &lt;return&gt;\r\n                &lt;networkSupportedFeaturesSection&gt;\r\n                   &lt;some&gt;ENABLE&lt;/sme&gt;\r\n                &lt;networkSupportedFeaturesSection&gt;\r\n             &lt;/return&gt;\r\n          &lt;/ns2:getNetworkResponse&gt;\r\n       &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\n\r\nAs you can see it generate in xml property depend on varible name in java file. \r\n\r\n**networkSupportedFeaturesSection**\r\n\r\n\r\nBut I want to **set independent solution**. Never mind what variable name is in class. In the xml **must be always smt like this**:\r\n\r\n\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\r\n       &lt;soap:Body&gt;\r\n             &lt;return&gt;\r\n                &lt;mySpecifiName&gt;\r\n                   &lt;some&gt;ENABLE&lt;/sme&gt;\r\n                &lt;mySpecifiName&gt;\r\n             &lt;/return&gt;\r\n          &lt;/ns2:getNetworkResponse&gt;\r\n       &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nThis annotation `@XmlValue(&quot;mySpecifiName&quot;)`   not help","title":"Can&#39;t set constant property in xml","body":"<p>In my java 8 project:</p>\n<pre><code>import javax.validation.Valid;\nimport javax.validation.constraints.NotNull;\nimport javax.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Network {\n    @NotNull\n    @Valid\n    private NetworkSupportedFeaturesSection networkSupportedFeaturesSection;\n\n}\n</code></pre>\n<p>As result in xml I get smt like this:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\n   &lt;soap:Body&gt;\n         &lt;return&gt;\n            &lt;networkSupportedFeaturesSection&gt;\n               &lt;some&gt;ENABLE&lt;/sme&gt;\n            &lt;networkSupportedFeaturesSection&gt;\n         &lt;/return&gt;\n      &lt;/ns2:getNetworkResponse&gt;\n   &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>As you can see it generate in xml property depend on varible name in java file.</p>\n<p><strong>networkSupportedFeaturesSection</strong></p>\n<p>But I want to <strong>set independent solution</strong>. Never mind what variable name is in class. In the xml <strong>must be always smt like this</strong>:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\n   &lt;soap:Body&gt;\n         &lt;return&gt;\n            &lt;mySpecifiName&gt;\n               &lt;some&gt;ENABLE&lt;/sme&gt;\n            &lt;mySpecifiName&gt;\n         &lt;/return&gt;\n      &lt;/ns2:getNetworkResponse&gt;\n   &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>This annotation <code>@XmlValue(&quot;mySpecifiName&quot;)</code>   not help</p>\n"},{"tags":["java","spring","spring-security","graphql"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1677190926,"post_id":75550754,"comment_id":133294763,"body_markdown":"share your code.","body":"share your code."},{"owner":{"account_id":24911703,"reputation":71,"user_id":18781174,"display_name":"loredon"},"score":0,"creation_date":1677193956,"post_id":75550754,"comment_id":133295351,"body_markdown":"just did and i realized that appearently this does not work on service either, everytime a graphql request pops in, the autentication is always an annoymus user w/e i do . Even if i do @WithMockedUser or mock user details service and so on.","body":"just did and i realized that appearently this does not work on service either, everytime a graphql request pops in, the autentication is always an annoymus user w/e i do . Even if i do @WithMockedUser or mock user details service and so on."}],"owner":{"account_id":24911703,"reputation":71,"user_id":18781174,"display_name":"loredon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677193852,"creation_date":1677189617,"question_id":75550754,"body_markdown":"I really encountered a strange situation.\r\n\r\nWhen using graphql and having @PreAuthorize at controller layer , i will receive access denied every time even if i&#39;m testing and using @WithMockUser , but when changing the annotation to the service layer, suddenly everything works. Why?\r\n\r\n***Test:***\r\n\r\n   \r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @Import(TestSecurityConfig.class)\r\n    public class VehileControllerGraphQLIT implements TestBase {\r\n    \r\n        @Autowired\r\n        private GraphQLTestTemplate graphQLTestTemplate;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            var wm = new WireMockServer(options().port(8080));\r\n            wm.start();\r\n        }\r\n    \r\n        @Test\r\n        @WithMockUser(authorities = &quot;ADMIN&quot;)\r\n        public void getAllVehicles_success() throws IOException {\r\n    \r\n    \r\n    \r\n            var vehicle = TestBase.createVehicleDto();\r\n            List&lt;VehicleDto&gt; vehicles = Collections.singletonList(vehicle);\r\n    \r\n    \r\n            WireMock.stubFor(WireMock.get(ELASTICO_URL + &quot;/vehicles&quot;)\r\n                            .withQueryParam(&quot;page&quot;, WireMock.equalTo(&quot;0&quot;))\r\n                            .withQueryParam(&quot;size&quot;, WireMock.equalTo(&quot;10&quot;))\r\n                    .willReturn(WireMock.aResponse()\r\n                            .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                            .withBody(&quot;[{\\&quot;id\\&quot;:1,\\&quot;brand\\&quot;:\\&quot;Mercedes\\&quot;,\\&quot;model\\&quot;:\\&quot;E class\\&quot;}]&quot;)));\r\n    \r\n    \r\n            var response = graphQLTestTemplate.postForResource(&quot;graphql/getAllVehicles.graphql&quot;);\r\n            assertThat(response.isOk()).isTrue();\r\n            var vehicleList = response.get(&quot;$.data&quot;);\r\n            \r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n***Spring Config ( main )***\r\n\r\n   \r\n\r\n    @EnableWebSecurity\r\n    @RequiredArgsConstructor\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig {\r\n    \r\n        private final UserService userService;\r\n        private final JwtTokenFilter jwtTokenFilter;\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(HttpSecurity http,\r\n                                                           PasswordEncoder passwordEncoder) throws Exception {\r\n    \r\n            return http.getSharedObject(AuthenticationManagerBuilder.class)\r\n                    .userDetailsService(userService)\r\n                    .passwordEncoder(passwordEncoder)\r\n                    .and()\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain  securityFilterChain(HttpSecurity http) throws Exception {\r\n            // Enable CORS and disable CSRF\r\n            http = http.csrf().disable();\r\n    \r\n            // Set session management to stateless\r\n            http = http\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and();\r\n    \r\n            // Set unauthorized requests exception handler\r\n            http = http\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(\r\n                            (request, response, ex) -&gt; {\r\n                                response.sendError(\r\n                                        HttpServletResponse.SC_UNAUTHORIZED,\r\n                                        ex.getMessage()\r\n                                );\r\n                            }\r\n                    )\r\n                    .and();\r\n    \r\n            // Set permissions on endpoints\r\n            http.authorizeRequests()\r\n                    // Our public endpoints\r\n                    .antMatchers(&quot;/auth/register&quot;).permitAll()\r\n                    .antMatchers(&quot;/auth/login&quot;).permitAll()\r\n                    .antMatchers(&quot;/auth/initPasswordReset&quot;).permitAll()\r\n                    .antMatchers(&quot;/auth/resetPassword&quot;).permitAll()\r\n                    .antMatchers(&quot;/graphiql&quot;).permitAll()\r\n                    .antMatchers(&quot;/graphql&quot;).permitAll()\r\n                    // Our private endpoints\r\n                    .anyRequest().authenticated();\r\n    \r\n            // Add JWT token filter\r\n            http.addFilterBefore(\r\n                    jwtTokenFilter,\r\n                    UsernamePasswordAuthenticationFilter.class\r\n            );\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityContextLogoutHandler securityContextLogoutHandler() {\r\n            return new SecurityContextLogoutHandler();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n***Spring Config ( Test )*** \r\n\r\n  \r\n\r\n      @TestConfiguration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class TestSecurityConfig {\r\n    \r\n        @Autowired\r\n        private UserService userService;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http.csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/graphql&quot;).hasAnyAuthority()\r\n                    .anyRequest().permitAll()\r\n                    .and()\r\n                    .httpBasic();\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(HttpSecurity http,\r\n                                                           PasswordEncoder passwordEncoder) throws Exception {\r\n    \r\n            return http.getSharedObject(AuthenticationManagerBuilder.class)\r\n                    .userDetailsService(userService)\r\n                    .passwordEncoder(passwordEncoder)\r\n                    .and()\r\n                    .build();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n***Controller:***\r\n\r\n        @RequiredArgsConstructor\r\n    @RestController\r\n    @Validated\r\n    public class VehicleControllerGraphQl {\r\n    \r\n        private final CoreService coreService;\r\n        private final ElasticoService elasticoService;\r\n    \r\n        @QueryMapping()\r\n        public List&lt;VehicleDto&gt; getAllVehicles(@Argument(name = &quot;page&quot;) @DefaultValue(&quot;0&quot;) int page,\r\n                                               @Argument(name = &quot;size&quot;) @DefaultValue(&quot;10&quot;) int size) {\r\n            return elasticoService.getAllVehicles(page, size);\r\n        }\r\n    }\r\n\r\n***Schema Graphql:***\r\n\r\n   \r\n\r\n     type VehicleDto {\r\n        id: ID!\r\n        vin: String!\r\n        brand: String!\r\n        model: String!\r\n        generation: String!\r\n        colour: String!\r\n        productionDate: String!\r\n        km: String!\r\n        fuel: String!\r\n        power: Int!\r\n        cylindricalCapacity: Int!\r\n        transmission: TransmissionType!\r\n        traction: TractionType!\r\n        country: String!\r\n        firstRegistrationDate: String!\r\n        firstOwner: String!\r\n        accidentFree: Boolean!\r\n        tvaDeductible: Boolean!\r\n        createdAt: String!\r\n    }\r\n    \r\n    type AccountDto {\r\n        id: ID!\r\n        username: String\r\n        name: String\r\n        address: String\r\n        registrationNumber: String\r\n        phoneNumber: String\r\n        registeredSince: String\r\n    }\r\n    \r\n    input VehicleInput {\r\n        id: ID!\r\n        vin: String!\r\n        brand: String!\r\n        model: String!\r\n        generation: String!\r\n        colour: String!\r\n        productionDate: String!\r\n        km: String!\r\n        fuel: String!\r\n        power: Int!\r\n        cylindricalCapacity: Int!\r\n        transmission: TransmissionType!\r\n        traction: TractionType!\r\n        country: String!\r\n        firstRegistrationDate: String!\r\n        firstOwner: String!\r\n        accidentFree: Boolean!\r\n        tvaDeductible: Boolean!\r\n    }\r\n    \r\n    input AccountInput {\r\n        id: ID\r\n        username: String!\r\n        name: String!\r\n        address: String!\r\n        registrationNumber: String!\r\n        phoneNumber: String!\r\n    }\r\n    \r\n    input VehicleCriteriaInput {\r\n        brand: String\r\n        model: String\r\n        productionDate: String\r\n        fuel: String\r\n        transmission: TransmissionType\r\n        traction: TractionType\r\n        country: String\r\n        firstRegistrationDate: String\r\n    }\r\n    \r\n    enum TransmissionType {\r\n        AUTOMATIC\r\n        MANUAL\r\n    }\r\n    \r\n    enum TractionType {\r\n        FWD\r\n        RWD\r\n        AWD\r\n    }\r\n    \r\n    type User {\r\n        id: ID!\r\n        username: String!\r\n        role: Role!\r\n        mail: String!\r\n    }\r\n    \r\n    enum Role {\r\n        ROLE_ADMIN,\r\n        ROLE_STANDARD_USER\r\n    }\r\n    \r\n    input UserInput {\r\n        username: String!\r\n        role: Role!\r\n        password: String!\r\n        mail: String!\r\n    }\r\n    \r\n    input LoginCredentialsInput {\r\n        username: String\r\n        password: String\r\n    }\r\n    \r\n    input PasswordResetTokenInput {\r\n        token: String!\r\n        email: String!\r\n        newPassword: String!\r\n    }\r\n    \r\n    type Query {\r\n    \r\n        # User vehicle queries\r\n        getAllVehicles(page: Int, size: Int): [VehicleDto]!\r\n        searchVehiclesByTerm(term: String!, page: Int, size: Int): [VehicleDto]!\r\n        searchVehiclesByCriteria(vehicleCriteria: VehicleCriteriaInput!, page: Int, size: Int): [VehicleDto]!\r\n        getVehicle(vehicleId: ID!): VehicleDto\r\n        getOwnedVehiclesForAccount(accountId: ID!, page: Int, size: Int): [VehicleDto]!\r\n        getFavoriteVehiclesForAccount(accountId: ID!, page: Int, size: Int): [VehicleDto]!\r\n    \r\n        # User account queries\r\n        getAccount(accountId: ID!): AccountDto!\r\n    \r\n        # Auth queries\r\n        getUser(userId: ID!): User\r\n    }\r\n    \r\n    type Mutation {\r\n    \r\n        # User vehicle mutations\r\n        createVehicleForAccount(vehicle: VehicleInput!, accountId: ID!): VehicleDto\r\n        updateVehicle(vehicle: VehicleInput!, vehicleId: ID!): VehicleDto\r\n        deleteVehicleFromAccount(vehicleId: ID!, accountId: ID!): Boolean\r\n        addFavoriteVehicleForAccount(vehicleId: ID!, accountId: ID!): Boolean\r\n        deleteFavoriteVehicleFromAccount(vehicleId: ID!, accountId: ID!): Boolean\r\n    \r\n        # Admin vehicle mutations\r\n        updateAnyVehicleForAccount(vehicleDto: VehicleInput!, vehicleId: ID!): VehicleDto\r\n        deleteAnyVehicleFromAccount(vehicleId: ID!, accountId: ID!): Boolean\r\n    \r\n        # User account mutations\r\n        createAccount(accountDto: AccountInput!): AccountDto!\r\n        removeOwnAccount(accountId: ID!): Boolean\r\n        updateOwnAccount(accountDto: AccountInput!, accountId: ID!): AccountDto\r\n    \r\n        # Admin account mutation\r\n        updateAnyAccount(accountDto: AccountInput, accountId: ID!): AccountDto\r\n        removeAnyAccount(accountId: ID): Boolean\r\n    \r\n        # Auth mutations\r\n        register(userDto: UserInput!): String\r\n        login(loginCredentials: LoginCredentialsInput!): String\r\n        logout: Boolean\r\n        initPasswordReset(email: String!): Boolean\r\n        finishPasswordReset(passwordResetDto: PasswordResetTokenInput!):` Boolean\r\n        changeMail(mail: String!): Boolean\r\n        changePassword(newPasswordCredentials: LoginCredentialsInput!): Boolean``\r\n    }\r\n\r\n***Service***\r\n\r\n   \r\n\r\n     public class ElasticoService {\r\n    \r\n        private final ElasticoAdapter elasticoAdapter;\r\n    \r\n        @PreAuthorize(&quot;hasRole(&#39;ROLE_VEHICLE&#39;)&quot;)\r\n        public List&lt;VehicleDto&gt; getAllVehicles(int page, int size) {\r\n            return elasticoAdapter.getAllVehicles(page, size);\r\n        }\r\n\r\n\r\n\r\n! Appearently this does not work on service either, everytime a graphql request pops in, the autentication is always an annoymus user w/e i do . Even if i do @WithMockedUser or mock user details service and so on.\r\n\r\n\r\n\r\n\r\n\r\n","title":"GraphQL + PreAuthorize on Controllers","body":"<p>I really encountered a strange situation.</p>\n<p>When using graphql and having @PreAuthorize at controller layer , i will receive access denied every time even if i'm testing and using @WithMockUser , but when changing the annotation to the service layer, suddenly everything works. Why?</p>\n<p><em><strong>Test:</strong></em></p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@Import(TestSecurityConfig.class)\npublic class VehileControllerGraphQLIT implements TestBase {\n\n    @Autowired\n    private GraphQLTestTemplate graphQLTestTemplate;\n\n    @BeforeEach\n    void setUp() {\n        var wm = new WireMockServer(options().port(8080));\n        wm.start();\n    }\n\n    @Test\n    @WithMockUser(authorities = &quot;ADMIN&quot;)\n    public void getAllVehicles_success() throws IOException {\n\n\n\n        var vehicle = TestBase.createVehicleDto();\n        List&lt;VehicleDto&gt; vehicles = Collections.singletonList(vehicle);\n\n\n        WireMock.stubFor(WireMock.get(ELASTICO_URL + &quot;/vehicles&quot;)\n                        .withQueryParam(&quot;page&quot;, WireMock.equalTo(&quot;0&quot;))\n                        .withQueryParam(&quot;size&quot;, WireMock.equalTo(&quot;10&quot;))\n                .willReturn(WireMock.aResponse()\n                        .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                        .withBody(&quot;[{\\&quot;id\\&quot;:1,\\&quot;brand\\&quot;:\\&quot;Mercedes\\&quot;,\\&quot;model\\&quot;:\\&quot;E class\\&quot;}]&quot;)));\n\n\n        var response = graphQLTestTemplate.postForResource(&quot;graphql/getAllVehicles.graphql&quot;);\n        assertThat(response.isOk()).isTrue();\n        var vehicleList = response.get(&quot;$.data&quot;);\n        \n    }\n\n\n\n}\n</code></pre>\n<p><em><strong>Spring Config ( main )</strong></em></p>\n<pre><code>@EnableWebSecurity\n@RequiredArgsConstructor\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig {\n\n    private final UserService userService;\n    private final JwtTokenFilter jwtTokenFilter;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(HttpSecurity http,\n                                                       PasswordEncoder passwordEncoder) throws Exception {\n\n        return http.getSharedObject(AuthenticationManagerBuilder.class)\n                .userDetailsService(userService)\n                .passwordEncoder(passwordEncoder)\n                .and()\n                .build();\n    }\n\n    @Bean\n    public SecurityFilterChain  securityFilterChain(HttpSecurity http) throws Exception {\n        // Enable CORS and disable CSRF\n        http = http.csrf().disable();\n\n        // Set session management to stateless\n        http = http\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and();\n\n        // Set unauthorized requests exception handler\n        http = http\n                .exceptionHandling()\n                .authenticationEntryPoint(\n                        (request, response, ex) -&gt; {\n                            response.sendError(\n                                    HttpServletResponse.SC_UNAUTHORIZED,\n                                    ex.getMessage()\n                            );\n                        }\n                )\n                .and();\n\n        // Set permissions on endpoints\n        http.authorizeRequests()\n                // Our public endpoints\n                .antMatchers(&quot;/auth/register&quot;).permitAll()\n                .antMatchers(&quot;/auth/login&quot;).permitAll()\n                .antMatchers(&quot;/auth/initPasswordReset&quot;).permitAll()\n                .antMatchers(&quot;/auth/resetPassword&quot;).permitAll()\n                .antMatchers(&quot;/graphiql&quot;).permitAll()\n                .antMatchers(&quot;/graphql&quot;).permitAll()\n                // Our private endpoints\n                .anyRequest().authenticated();\n\n        // Add JWT token filter\n        http.addFilterBefore(\n                jwtTokenFilter,\n                UsernamePasswordAuthenticationFilter.class\n        );\n\n        return http.build();\n    }\n\n    @Bean\n    public SecurityContextLogoutHandler securityContextLogoutHandler() {\n        return new SecurityContextLogoutHandler();\n    }\n\n}\n</code></pre>\n<p><em><strong>Spring Config ( Test )</strong></em></p>\n<pre><code>  @TestConfiguration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class TestSecurityConfig {\n\n    @Autowired\n    private UserService userService;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/graphql&quot;).hasAnyAuthority()\n                .anyRequest().permitAll()\n                .and()\n                .httpBasic();\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(HttpSecurity http,\n                                                       PasswordEncoder passwordEncoder) throws Exception {\n\n        return http.getSharedObject(AuthenticationManagerBuilder.class)\n                .userDetailsService(userService)\n                .passwordEncoder(passwordEncoder)\n                .and()\n                .build();\n    }\n}\n</code></pre>\n<p><em><strong>Controller:</strong></em></p>\n<pre><code>    @RequiredArgsConstructor\n@RestController\n@Validated\npublic class VehicleControllerGraphQl {\n\n    private final CoreService coreService;\n    private final ElasticoService elasticoService;\n\n    @QueryMapping()\n    public List&lt;VehicleDto&gt; getAllVehicles(@Argument(name = &quot;page&quot;) @DefaultValue(&quot;0&quot;) int page,\n                                           @Argument(name = &quot;size&quot;) @DefaultValue(&quot;10&quot;) int size) {\n        return elasticoService.getAllVehicles(page, size);\n    }\n}\n</code></pre>\n<p><em><strong>Schema Graphql:</strong></em></p>\n<pre><code> type VehicleDto {\n    id: ID!\n    vin: String!\n    brand: String!\n    model: String!\n    generation: String!\n    colour: String!\n    productionDate: String!\n    km: String!\n    fuel: String!\n    power: Int!\n    cylindricalCapacity: Int!\n    transmission: TransmissionType!\n    traction: TractionType!\n    country: String!\n    firstRegistrationDate: String!\n    firstOwner: String!\n    accidentFree: Boolean!\n    tvaDeductible: Boolean!\n    createdAt: String!\n}\n\ntype AccountDto {\n    id: ID!\n    username: String\n    name: String\n    address: String\n    registrationNumber: String\n    phoneNumber: String\n    registeredSince: String\n}\n\ninput VehicleInput {\n    id: ID!\n    vin: String!\n    brand: String!\n    model: String!\n    generation: String!\n    colour: String!\n    productionDate: String!\n    km: String!\n    fuel: String!\n    power: Int!\n    cylindricalCapacity: Int!\n    transmission: TransmissionType!\n    traction: TractionType!\n    country: String!\n    firstRegistrationDate: String!\n    firstOwner: String!\n    accidentFree: Boolean!\n    tvaDeductible: Boolean!\n}\n\ninput AccountInput {\n    id: ID\n    username: String!\n    name: String!\n    address: String!\n    registrationNumber: String!\n    phoneNumber: String!\n}\n\ninput VehicleCriteriaInput {\n    brand: String\n    model: String\n    productionDate: String\n    fuel: String\n    transmission: TransmissionType\n    traction: TractionType\n    country: String\n    firstRegistrationDate: String\n}\n\nenum TransmissionType {\n    AUTOMATIC\n    MANUAL\n}\n\nenum TractionType {\n    FWD\n    RWD\n    AWD\n}\n\ntype User {\n    id: ID!\n    username: String!\n    role: Role!\n    mail: String!\n}\n\nenum Role {\n    ROLE_ADMIN,\n    ROLE_STANDARD_USER\n}\n\ninput UserInput {\n    username: String!\n    role: Role!\n    password: String!\n    mail: String!\n}\n\ninput LoginCredentialsInput {\n    username: String\n    password: String\n}\n\ninput PasswordResetTokenInput {\n    token: String!\n    email: String!\n    newPassword: String!\n}\n\ntype Query {\n\n    # User vehicle queries\n    getAllVehicles(page: Int, size: Int): [VehicleDto]!\n    searchVehiclesByTerm(term: String!, page: Int, size: Int): [VehicleDto]!\n    searchVehiclesByCriteria(vehicleCriteria: VehicleCriteriaInput!, page: Int, size: Int): [VehicleDto]!\n    getVehicle(vehicleId: ID!): VehicleDto\n    getOwnedVehiclesForAccount(accountId: ID!, page: Int, size: Int): [VehicleDto]!\n    getFavoriteVehiclesForAccount(accountId: ID!, page: Int, size: Int): [VehicleDto]!\n\n    # User account queries\n    getAccount(accountId: ID!): AccountDto!\n\n    # Auth queries\n    getUser(userId: ID!): User\n}\n\ntype Mutation {\n\n    # User vehicle mutations\n    createVehicleForAccount(vehicle: VehicleInput!, accountId: ID!): VehicleDto\n    updateVehicle(vehicle: VehicleInput!, vehicleId: ID!): VehicleDto\n    deleteVehicleFromAccount(vehicleId: ID!, accountId: ID!): Boolean\n    addFavoriteVehicleForAccount(vehicleId: ID!, accountId: ID!): Boolean\n    deleteFavoriteVehicleFromAccount(vehicleId: ID!, accountId: ID!): Boolean\n\n    # Admin vehicle mutations\n    updateAnyVehicleForAccount(vehicleDto: VehicleInput!, vehicleId: ID!): VehicleDto\n    deleteAnyVehicleFromAccount(vehicleId: ID!, accountId: ID!): Boolean\n\n    # User account mutations\n    createAccount(accountDto: AccountInput!): AccountDto!\n    removeOwnAccount(accountId: ID!): Boolean\n    updateOwnAccount(accountDto: AccountInput!, accountId: ID!): AccountDto\n\n    # Admin account mutation\n    updateAnyAccount(accountDto: AccountInput, accountId: ID!): AccountDto\n    removeAnyAccount(accountId: ID): Boolean\n\n    # Auth mutations\n    register(userDto: UserInput!): String\n    login(loginCredentials: LoginCredentialsInput!): String\n    logout: Boolean\n    initPasswordReset(email: String!): Boolean\n    finishPasswordReset(passwordResetDto: PasswordResetTokenInput!):` Boolean\n    changeMail(mail: String!): Boolean\n    changePassword(newPasswordCredentials: LoginCredentialsInput!): Boolean``\n}\n</code></pre>\n<p><em><strong>Service</strong></em></p>\n<pre><code> public class ElasticoService {\n\n    private final ElasticoAdapter elasticoAdapter;\n\n    @PreAuthorize(&quot;hasRole('ROLE_VEHICLE')&quot;)\n    public List&lt;VehicleDto&gt; getAllVehicles(int page, int size) {\n        return elasticoAdapter.getAllVehicles(page, size);\n    }\n</code></pre>\n<p>! Appearently this does not work on service either, everytime a graphql request pops in, the autentication is always an annoymus user w/e i do . Even if i do @WithMockedUser or mock user details service and so on.</p>\n"},{"tags":["java","enums","expandable"],"comments":[{"owner":{"account_id":471365,"reputation":6432,"user_id":879114,"accept_rate":89,"display_name":"Zavior"},"score":1,"creation_date":1380370883,"post_id":19066889,"comment_id":28181684,"body_markdown":"&quot;An enum type is a special data type that enables for a variable to be a set of predefined constants.&quot; It doesn&#39;t really sound like an enum anymore here :)","body":"&quot;An enum type is a special data type that enables for a variable to be a set of predefined constants.&quot; It doesn&#39;t really sound like an enum anymore here :)"},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":2,"creation_date":1380370957,"post_id":19066889,"comment_id":28181704,"body_markdown":"An enum is used to enumerate constants that are fixed and already well-known at compile time.  If you have data that is not already well-known to you at compile time (i.e., you don&#39;t know it all or expect it to change often) then an enum is not likely the best way to represent it.","body":"An enum is used to enumerate constants that are fixed and already well-known at compile time.  If you have data that is not already well-known to you at compile time (i.e., you don&#39;t know it all or expect it to change often) then an enum is not likely the best way to represent it."},{"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"score":2,"creation_date":1380370998,"post_id":19066889,"comment_id":28181714,"body_markdown":"This is hardly a use case for an `Enum`. Use a `Set` in combination with some class of your own instead.","body":"This is hardly a use case for an <code>Enum</code>. Use a <code>Set</code> in combination with some class of your own instead."},{"owner":{"account_id":2594765,"reputation":2859,"user_id":2248702,"accept_rate":57,"display_name":"user2248702"},"score":0,"creation_date":1380371020,"post_id":19066889,"comment_id":28181720,"body_markdown":"Is it possible to make an enum implement an interface and how would I do that with multiple enums?","body":"Is it possible to make an enum implement an interface and how would I do that with multiple enums?"},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":0,"creation_date":1380371042,"post_id":19066889,"comment_id":28181728,"body_markdown":"Yes, but different question.","body":"Yes, but different question."}],"answers":[{"tags":[],"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380371021,"creation_date":1380371021,"answer_id":19066922,"question_id":19066889,"body_markdown":"Java enums cannot be expanded/extended at runtime. They are more like constants. If you need extendable enums, maybe `enum` is not the right concept for you!\r\n\r\nConsider using a simple class that you instantiate at runtime.","title":"Expandable enum Java","body":"<p>Java enums cannot be expanded/extended at runtime. They are more like constants. If you need extendable enums, maybe <code>enum</code> is not the right concept for you!</p>\n\n<p>Consider using a simple class that you instantiate at runtime.</p>\n"},{"tags":[],"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380371495,"creation_date":1380371104,"answer_id":19066933,"question_id":19066889,"body_markdown":"If you can&#39;t know all values that needs to be there at compile time, I&#39;d just use strings. If you want to associate attributes or behaviors to it, you can use a map. This is fairly common in Java. Also in python, people use strings for enums.   \r\n\r\nJava 7 made switch statement work on strings, which IMO is a move to support this use of strings.  \r\n\r\nFor an example of such use in Java, see this:\r\nhttps://github.com/netty/netty/blob/master/example/src/main/java/io/netty/example/telnet/TelnetClientInitializer.java\r\n","title":"Expandable enum Java","body":"<p>If you can't know all values that needs to be there at compile time, I'd just use strings. If you want to associate attributes or behaviors to it, you can use a map. This is fairly common in Java. Also in python, people use strings for enums.   </p>\n\n<p>Java 7 made switch statement work on strings, which IMO is a move to support this use of strings.  </p>\n\n<p>For an example of such use in Java, see this:\n<a href=\"https://github.com/netty/netty/blob/master/example/src/main/java/io/netty/example/telnet/TelnetClientInitializer.java\" rel=\"nofollow\">https://github.com/netty/netty/blob/master/example/src/main/java/io/netty/example/telnet/TelnetClientInitializer.java</a></p>\n"},{"tags":[],"owner":{"account_id":1883267,"reputation":7504,"user_id":1702990,"display_name":"Sinkingpoint"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1380372151,"creation_date":1380371105,"answer_id":19066934,"question_id":19066889,"body_markdown":"Enums are supposed to be completely static enumerations, therefore you must be able to know the exact values the enum covers at compile time. \r\n\r\nYou could generate the java file at compile time allowing for a bit more flexibility over the values, although this would be rather over the top.\r\n\r\nYour best bet would be:\r\n\r\n1) To use a class, potentially with a set of predefined instances, so that new instance of said class can be created at runtime.\r\n\r\nor\r\n\r\n2) To create an interface that an enum containing the default values implements, allowing new instances to be created at runtime, whilst retaining some form of enum structure.","title":"Expandable enum Java","body":"<p>Enums are supposed to be completely static enumerations, therefore you must be able to know the exact values the enum covers at compile time. </p>\n\n<p>You could generate the java file at compile time allowing for a bit more flexibility over the values, although this would be rather over the top.</p>\n\n<p>Your best bet would be:</p>\n\n<p>1) To use a class, potentially with a set of predefined instances, so that new instance of said class can be created at runtime.</p>\n\n<p>or</p>\n\n<p>2) To create an interface that an enum containing the default values implements, allowing new instances to be created at runtime, whilst retaining some form of enum structure.</p>\n"},{"tags":[],"owner":{"account_id":308584,"reputation":5209,"user_id":620554,"accept_rate":40,"display_name":"Judge Mental"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381742954,"creation_date":1380371221,"answer_id":19066949,"question_id":19066889,"body_markdown":"Enumerations are fixed at compile time.   How exactly would you &quot;use the simplicity&quot;? You can&#39;t for example write a `switch` command using constants that are not known in advance. \r\n\r\nIf the point is to branch based on the type of something, you can use classical OO decomposition (create methods in every type in the list and let polymorphism select the correct branch) or use a HashMap from class objects to functional objects or strategy  implementations.","title":"Expandable enum Java","body":"<p>Enumerations are fixed at compile time.   How exactly would you \"use the simplicity\"? You can't for example write a <code>switch</code> command using constants that are not known in advance. </p>\n\n<p>If the point is to branch based on the type of something, you can use classical OO decomposition (create methods in every type in the list and let polymorphism select the correct branch) or use a HashMap from class objects to functional objects or strategy  implementations.</p>\n"},{"tags":[],"owner":{"account_id":7563249,"reputation":121,"user_id":5739881,"display_name":"Mohtasim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677193835,"creation_date":1677193835,"answer_id":75551234,"question_id":19066889,"body_markdown":"You can try ExpandableStringEnum. \r\nRef: [https://learn.microsoft.com/en-us/java/api/com.azure.core.util.expandablestringenum?view=azure-java-stable][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/java/api/com.azure.core.util.expandablestringenum?view=azure-java-stable\r\n\r\nIt has equals(object) to compare and values() which returns a collection&lt;T&gt; API as well using which you can enumerate. And you can instantiate a type in runtime as well. \r\n\r\nUsing fromString(String name, Class&lt;T&gt; clazz) API.\r\n\r\n    // Define an expandable string enum class\r\n    public final class Color extends ExpandableStringEnum&lt;Color&gt; {\r\n        public static final Color RED = fromString(&quot;Red&quot;, Color.class);\r\n        public static final Color GREEN = fromString(&quot;Green&quot;, Color.class);\r\n        public static final Color BLUE = fromString(&quot;Blue&quot;, Color.class);\r\n    }\r\n    \r\n    // Create an instance of an expandable string enum from a String value\r\n    Color color = Color.fromString(&quot;Red&quot;, Color.class);\r\n    \r\n    // Compare two instances of an expandable string enum\r\n    if (color == Color.RED) {\r\n        // do something\r\n    }\r\n\r\n","title":"Expandable enum Java","body":"<p>You can try ExpandableStringEnum.\nRef: <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.core.util.expandablestringenum?view=azure-java-stable\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/api/com.azure.core.util.expandablestringenum?view=azure-java-stable</a></p>\n<p>It has equals(object) to compare and values() which returns a collection API as well using which you can enumerate. And you can instantiate a type in runtime as well.</p>\n<p>Using fromString(String name, Class clazz) API.</p>\n<pre><code>// Define an expandable string enum class\npublic final class Color extends ExpandableStringEnum&lt;Color&gt; {\n    public static final Color RED = fromString(&quot;Red&quot;, Color.class);\n    public static final Color GREEN = fromString(&quot;Green&quot;, Color.class);\n    public static final Color BLUE = fromString(&quot;Blue&quot;, Color.class);\n}\n\n// Create an instance of an expandable string enum from a String value\nColor color = Color.fromString(&quot;Red&quot;, Color.class);\n\n// Compare two instances of an expandable string enum\nif (color == Color.RED) {\n    // do something\n}\n</code></pre>\n"}],"owner":{"account_id":2594765,"reputation":2859,"user_id":2248702,"accept_rate":57,"display_name":"user2248702"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1222,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19066934,"answer_count":5,"score":2,"last_activity_date":1677193835,"creation_date":1380370802,"question_id":19066889,"body_markdown":"I&#39;m making a program that has an enum that us used for a list of types but I want it to have the possibility of being expanded later at runtime and am not sure what is the best way to do this is. The only ways I have been able to think of are using arrays of classes in place of the enum which I don&#39;t want to do as I would loose the simplicity of the enum.","title":"Expandable enum Java","body":"<p>I'm making a program that has an enum that us used for a list of types but I want it to have the possibility of being expanded later at runtime and am not sure what is the best way to do this is. The only ways I have been able to think of are using arrays of classes in place of the enum which I don't want to do as I would loose the simplicity of the enum.</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","safaridriver"],"comments":[{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":0,"creation_date":1677191475,"post_id":75550885,"comment_id":133294876,"body_markdown":"What versions of Selenium and Safari do you have?","body":"What versions of Selenium and Safari do you have?"},{"owner":{"account_id":1068033,"reputation":179,"user_id":1068023,"accept_rate":33,"display_name":"Flash Jack From Gundagai"},"score":0,"creation_date":1677191610,"post_id":75550885,"comment_id":133294907,"body_markdown":"Safari version 16.1; selenium 4.8.1","body":"Safari version 16.1; selenium 4.8.1"},{"owner":{"account_id":117315,"reputation":3877,"user_id":307295,"display_name":"mvmn"},"score":0,"creation_date":1677191709,"post_id":75550885,"comment_id":133294923,"body_markdown":"And what about Selenium version?","body":"And what about Selenium version?"},{"owner":{"account_id":1068033,"reputation":179,"user_id":1068023,"accept_rate":33,"display_name":"Flash Jack From Gundagai"},"score":0,"creation_date":1677191913,"post_id":75550885,"comment_id":133294960,"body_markdown":"I am using selenium 4.8.1","body":"I am using selenium 4.8.1"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677193432,"creation_date":1677193432,"answer_id":75551198,"question_id":75550885,"body_markdown":"You were almost there. You simply have a couple of unwanted _`import`_ as:\r\n\r\n\timport org.openqa.selenium.remote.service.DriverService;\r\n\timport org.openqa.selenium.safari.SafariDriverService;\r\n\t\r\nRemove those unwanted imports to get rid of compilation errors, you will be good to go.","title":"Getting strange exception when using Selenium to operate a safari instance with SafariDriver() web driver","body":"<p>You were almost there. You simply have a couple of unwanted <em><code>import</code></em> as:</p>\n<pre><code>import org.openqa.selenium.remote.service.DriverService;\nimport org.openqa.selenium.safari.SafariDriverService;\n</code></pre>\n<p>Remove those unwanted imports to get rid of compilation errors, you will be good to go.</p>\n"}],"owner":{"account_id":1068033,"reputation":179,"user_id":1068023,"accept_rate":33,"display_name":"Flash Jack From Gundagai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677193432,"creation_date":1677190662,"question_id":75550885,"body_markdown":"I am new to using the SafariDriver() web driver with Selenium. and so in order to gain some experience\r\nI thought I would use the example code from:\r\n\r\n\\[https://www.browserstack.com/guide/run-selenium-tests-on-safari-using-safaridriver%5C\\]\r\n\r\nHowever this has not worked for me... here is the code I am attampting to execute..\r\n\r\n```\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.remote.service.DriverService;\r\nimport org.openqa.selenium.remote.service.DriverService.*;\r\nimport org.openqa.selenium.safari.SafariDriver;\r\nimport org.openqa.selenium.safari.SafariDriverService;\r\n\r\nimport java.io.IOException;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n\r\n// import org.openqa.selenium.Saf\r\n// I have not imported the following\r\n// import org.openqa.selenium.safari.SafariDriver;\r\n// because this does not provide me with the SafariDriver.\r\npublic class Test_SafariDemo\r\n{\r\n    // the purpose of this class is to test the Safari driver\r\n    // Written by Michael John Little\r\n    // Based on a Java program from...\r\n    // https://www.browserstack.com/guide/run-selenium-tests-on-safari-using-safaridriver\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        //create an instance of the Safari class\r\n        WebDriver drvr =new SafariDriver();\r\n\r\n        // lets Launch the Google website\r\n        drvr.navigate().to(&quot;http://www.google.com/&quot;);\r\n\r\n        // lets click on the search box and send a value\r\n        drvr.findElement(By.id(&quot;lst-ib&quot;)).sendKeys(&quot;BrowserStack&quot;);\r\n\r\n        // click the search button\r\n        drvr.findElement(By.name(&quot;btnK&quot;)).click();\r\n\r\n        // lets wait and display before we close the browser\r\n        drvr.manage().timeouts().implicitlyWait(50, TimeUnit.SECONDS);\r\n\r\n        //close the browser\r\n        drvr.close();\r\n\r\n    }// close public static void main(String[] args)\r\n\r\n\r\n} // public class Test_SafariDemo\r\n\r\n```\r\nWhen executed this code, I was expecting:\r\n\r\n1. a safari browser instance to occur\r\n2. Launch the Google web site and for it to perform a search.\r\n\r\nThis did not occur, and I got the following:\r\n\r\n```\r\n\r\nException in thread &quot;main&quot; java.lang.AbstractMethodError: \r\nReceiver class org.openqa.selenium.safari.SafariDriverService$Builder does not define or inherit \r\nan implementation of the resolved method &#39;abstract com.google.common.collect.ImmutableList createArgs()&#39; \r\nof abstract class org.openqa.selenium.remote.service.DriverService$Builder.\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:358)\r\n\tat org.openqa.selenium.safari.SafariDriverService.createDefaultService(SafariDriverService.java:75)\r\n\tat org.openqa.selenium.safari.SafariDriver.&lt;init&gt;(SafariDriver.java:60)\r\n\tat org.openqa.selenium.safari.SafariDriver.&lt;init&gt;(SafariDriver.java:49)\r\n\tat Test_SafariDemo.main(Test_SafariDemo.java:27)\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nIn addition I have also completed the following actions:\r\n\r\n1\\. Enabled the &#39;Allow Remote Automation&#39; checkbox on the Safari Developer menu.\r\n\r\n2\\. Executed the &#39; safaridriver --enable&#39; command\r\n\r\nThe error message, I do not fully understand what is means by...\r\n\r\n\r\n```\r\n\r\nReceiver class org.openqa.selenium.safari.SafariDriverService$Builder does not define or inherit \r\nan implementation of the resolved method &#39;abstract com.google.common.collect.ImmutableList createArgs()&#39; \r\nof abstract class org.openqa.selenium.remote.service.DriverService$Builder.\r\n\r\n```\r\n\r\n\r\nat the statement...\r\n\r\n`WebDriver drvr =new SafariDriver();`\r\n\r\nAny suggestions as to how I can resolve this issue?","title":"Getting strange exception when using Selenium to operate a safari instance with SafariDriver() web driver","body":"<p>I am new to using the SafariDriver() web driver with Selenium. and so in order to gain some experience\nI thought I would use the example code from:</p>\n<p>[https://www.browserstack.com/guide/run-selenium-tests-on-safari-using-safaridriver%5C]</p>\n<p>However this has not worked for me... here is the code I am attampting to execute..</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.remote.service.DriverService;\nimport org.openqa.selenium.remote.service.DriverService.*;\nimport org.openqa.selenium.safari.SafariDriver;\nimport org.openqa.selenium.safari.SafariDriverService;\n\nimport java.io.IOException;\nimport java.util.concurrent.TimeUnit;\n\n\n// import org.openqa.selenium.Saf\n// I have not imported the following\n// import org.openqa.selenium.safari.SafariDriver;\n// because this does not provide me with the SafariDriver.\npublic class Test_SafariDemo\n{\n    // the purpose of this class is to test the Safari driver\n    // Written by Michael John Little\n    // Based on a Java program from...\n    // https://www.browserstack.com/guide/run-selenium-tests-on-safari-using-safaridriver\n\n    public static void main(String[] args)\n    {\n        //create an instance of the Safari class\n        WebDriver drvr =new SafariDriver();\n\n        // lets Launch the Google website\n        drvr.navigate().to(&quot;http://www.google.com/&quot;);\n\n        // lets click on the search box and send a value\n        drvr.findElement(By.id(&quot;lst-ib&quot;)).sendKeys(&quot;BrowserStack&quot;);\n\n        // click the search button\n        drvr.findElement(By.name(&quot;btnK&quot;)).click();\n\n        // lets wait and display before we close the browser\n        drvr.manage().timeouts().implicitlyWait(50, TimeUnit.SECONDS);\n\n        //close the browser\n        drvr.close();\n\n    }// close public static void main(String[] args)\n\n\n} // public class Test_SafariDemo\n\n</code></pre>\n<p>When executed this code, I was expecting:</p>\n<ol>\n<li>a safari browser instance to occur</li>\n<li>Launch the Google web site and for it to perform a search.</li>\n</ol>\n<p>This did not occur, and I got the following:</p>\n<pre><code>\nException in thread &quot;main&quot; java.lang.AbstractMethodError: \nReceiver class org.openqa.selenium.safari.SafariDriverService$Builder does not define or inherit \nan implementation of the resolved method 'abstract com.google.common.collect.ImmutableList createArgs()' \nof abstract class org.openqa.selenium.remote.service.DriverService$Builder.\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:358)\n    at org.openqa.selenium.safari.SafariDriverService.createDefaultService(SafariDriverService.java:75)\n    at org.openqa.selenium.safari.SafariDriver.&lt;init&gt;(SafariDriver.java:60)\n    at org.openqa.selenium.safari.SafariDriver.&lt;init&gt;(SafariDriver.java:49)\n    at Test_SafariDemo.main(Test_SafariDemo.java:27)\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>In addition I have also completed the following actions:</p>\n<p>1. Enabled the 'Allow Remote Automation' checkbox on the Safari Developer menu.</p>\n<p>2. Executed the ' safaridriver --enable' command</p>\n<p>The error message, I do not fully understand what is means by...</p>\n<pre><code>\nReceiver class org.openqa.selenium.safari.SafariDriverService$Builder does not define or inherit \nan implementation of the resolved method 'abstract com.google.common.collect.ImmutableList createArgs()' \nof abstract class org.openqa.selenium.remote.service.DriverService$Builder.\n\n</code></pre>\n<p>at the statement...</p>\n<p><code>WebDriver drvr =new SafariDriver();</code></p>\n<p>Any suggestions as to how I can resolve this issue?</p>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1370891897,"creation_date":1370891897,"answer_id":17031158,"question_id":17031003,"body_markdown":"You have to set a *User Agent*:\r\n\r\n    Document doc = Jsoup.connect(url).timeout(30000).userAgent(&quot;Mozilla/17.0&quot;).get();\r\n\r\n*(Or others; best you choose a browser user agent)*\r\n\r\nElse you&#39;ll get blocked.\r\n\r\nPlease see also: https://stackoverflow.com/questions/15367765/jsoup-selectdivclass-rslt-prod-returns-null-when-it-shouldnt/15384490#15384490","title":"JSOUP throws url status 503 in Eclipse but URL works fine in browser","body":"<p>You have to set a <em>User Agent</em>:</p>\n\n<pre><code>Document doc = Jsoup.connect(url).timeout(30000).userAgent(\"Mozilla/17.0\").get();\n</code></pre>\n\n<p><em>(Or others; best you choose a browser user agent)</em></p>\n\n<p>Else you'll get blocked.</p>\n\n<p>Please see also: <a href=\"https://stackoverflow.com/questions/15367765/jsoup-selectdivclass-rslt-prod-returns-null-when-it-shouldnt/15384490#15384490\">Jsoup: select(div[class=rslt prod]) returns null when it shouldn&#39;t</a></p>\n"},{"tags":[],"owner":{"account_id":2588677,"reputation":662,"user_id":2243805,"accept_rate":69,"display_name":"faster2b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371052347,"creation_date":1371052347,"answer_id":17069958,"question_id":17031003,"body_markdown":"you can try\r\n\r\n    val ret=Jsoup.connect(url)\r\n      .userAgent(&quot;Mozilla/5.0 Chrome/26.0.1410.64 Safari/537.31&quot;)\r\n      .timeout(2*1000)\r\n      .followRedirects(true)\r\n      .maxBodySize(1024*1024*3)    //3Mb Max\r\n      //.ignoreContentType(true) //for download xml, json, etc\r\n      .get()\r\n\r\nit maybe works, maybe amazon.com need followRedirects set to true.","title":"JSOUP throws url status 503 in Eclipse but URL works fine in browser","body":"<p>you can try</p>\n\n<pre><code>val ret=Jsoup.connect(url)\n  .userAgent(\"Mozilla/5.0 Chrome/26.0.1410.64 Safari/537.31\")\n  .timeout(2*1000)\n  .followRedirects(true)\n  .maxBodySize(1024*1024*3)    //3Mb Max\n  //.ignoreContentType(true) //for download xml, json, etc\n  .get()\n</code></pre>\n\n<p>it maybe works, maybe amazon.com need followRedirects set to true.</p>\n"}],"owner":{"account_id":729888,"reputation":546,"user_id":683400,"accept_rate":46,"display_name":"babycakes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677193054,"creation_date":1370891224,"question_id":17031003,"body_markdown":"In particular, this is with the website amazon.com to be specific. I am receiving a 503 error for their domain, but I can successfully parse other domains.\r\n\r\nI am using the line \r\n\r\n    Document doc = Jsoup.connect(url).timeout(30000).get();\r\n\r\nto connect to the URL. ","title":"JSOUP throws url status 503 in Eclipse but URL works fine in browser","body":"<p>In particular, this is with the website amazon.com to be specific. I am receiving a 503 error for their domain, but I can successfully parse other domains.</p>\n\n<p>I am using the line </p>\n\n<pre><code>Document doc = Jsoup.connect(url).timeout(30000).get();\n</code></pre>\n\n<p>to connect to the URL. </p>\n"},{"tags":["java","tomcat","amazon-ec2"],"comments":[{"owner":{"account_id":257163,"reputation":1237,"user_id":538396,"accept_rate":95,"display_name":"Gilles Lesire"},"score":0,"creation_date":1392719757,"post_id":21163094,"comment_id":33076762,"body_markdown":"Is there a way perhaps to check if certain ports are open? Like in this case the :80 or :8080? Or isn&#39;t that sufficient to know that tomcat is up?","body":"Is there a way perhaps to check if certain ports are open? Like in this case the :80 or :8080? Or isn&#39;t that sufficient to know that tomcat is up?"},{"owner":{"account_id":257163,"reputation":1237,"user_id":538396,"accept_rate":95,"display_name":"Gilles Lesire"},"score":0,"creation_date":1545399502,"post_id":21163094,"comment_id":94617899,"body_markdown":"PS: I solved it by simply waiting 10 minutes after tomcat startup. Far from ideal, but it works.","body":"PS: I solved it by simply waiting 10 minutes after tomcat startup. Far from ideal, but it works."}],"answers":[{"tags":[],"owner":{"account_id":3619975,"reputation":1,"user_id":3018978,"display_name":"canturk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390850818,"creation_date":1390850818,"answer_id":21389825,"question_id":21163094,"body_markdown":"If you are ok with bleeding some of your application management to provisioning side, you can log into the instance from the EC2 provision code to check for tomcat process. This would be well synchronized with provisioning step as you can wait on instance status until it becomes running and gets public DNS.","title":"EC2 AWS Instance: Check if tomcat is running","body":"<p>If you are ok with bleeding some of your application management to provisioning side, you can log into the instance from the EC2 provision code to check for tomcat process. This would be well synchronized with provisioning step as you can wait on instance status until it becomes running and gets public DNS.</p>\n"}],"owner":{"account_id":257163,"reputation":1237,"user_id":538396,"accept_rate":95,"display_name":"Gilles Lesire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677192794,"creation_date":1389878769,"question_id":21163094,"body_markdown":"I&#39;m using amazon EC2 instances to run tomcat servers.\r\n\r\nI do this with java. I know how to start up an instance dynamically but the problem is that I have to wait to make webservice calls (the instances run a tomcat server which run an project with http services) till AFTER tomcat is running.\r\n\r\nIs there a way to request the Tomcat running state at the ec2 instance?\r\n\r\nSo my java project created a new EC2 instances with a certain AMI.\r\nI wait till that instance is booted and get the public DNS.\r\nThen I want to do some webservice calls to that EC2 instance. The problem is that I get a connection refused error if I request too fast and tomcat isn&#39;t running yet.","title":"EC2 AWS Instance: Check if tomcat is running","body":"<p>I'm using amazon EC2 instances to run tomcat servers.</p>\n\n<p>I do this with java. I know how to start up an instance dynamically but the problem is that I have to wait to make webservice calls (the instances run a tomcat server which run an project with http services) till AFTER tomcat is running.</p>\n\n<p>Is there a way to request the Tomcat running state at the ec2 instance?</p>\n\n<p>So my java project created a new EC2 instances with a certain AMI.\nI wait till that instance is booted and get the public DNS.\nThen I want to do some webservice calls to that EC2 instance. The problem is that I get a connection refused error if I request too fast and tomcat isn't running yet.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":324511,"reputation":4310,"user_id":645112,"display_name":"Wade Matveyenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376084935,"creation_date":1376084935,"answer_id":18156173,"question_id":18154140,"body_markdown":"With S3, the `KEY` should be the **entire** name that you want the object to have. In your case, it appears (I don&#39;t know for sure since you have not included that code) that `KEY = image/staging/file/GUID1234`. If you want the object to be named image/staging/file/GUID1234/test.jpeg, then you will need to set the value of `KEY` to be `image/staging/file/GUID1234/test.jpeg`","title":"AWS S3 key issue for uploaded file","body":"<p>With S3, the <code>KEY</code> should be the <strong>entire</strong> name that you want the object to have. In your case, it appears (I don't know for sure since you have not included that code) that <code>KEY = image/staging/file/GUID1234</code>. If you want the object to be named image/staging/file/GUID1234/test.jpeg, then you will need to set the value of <code>KEY</code> to be <code>image/staging/file/GUID1234/test.jpeg</code></p>\n"}],"owner":{"account_id":207732,"reputation":1691,"user_id":457776,"accept_rate":60,"display_name":"Shamik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677192785,"creation_date":1376076057,"question_id":18154140,"body_markdown":"I&#39;ve a question on S3 file key. I&#39;m uploading an image file with the key being the url of the image. Here&#39;s the code snippet.\r\n&lt;pre&gt;&lt;code&gt;\r\nAmazonS3 s3 = new AmazonS3Client(new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY));\r\nPutObjectRequest putObj = new PutObjectRequest(BUCKET, KEY, createInputStream(IMAGE_PATH), createMetadata(&quot;image/jpeg&quot;));\r\nputObj.setCannedAcl(CannedAccessControlList.PublicRead);\r\nPutObjectResult result = s3.putObject(putObj);\r\n&lt;/code&gt;&lt;/pre&gt;\r\nNow, here&#39;s a sample key : **image/staging/file/GUID1234**\r\n\r\nand the image name : **test.jpeg**\r\n\r\nNow, this is how it looks like in S3 after the upload.\r\n**TestBucket/image/staging/file/GUID1234**\r\n\r\nThere&#39;s no reference of the image name. The image url shows up as **http://TestBucket.s3.amazonaws.com/image/staging/file/GUID1234**\r\n\r\nAs you can see, there&#39;s no reference of the image name, though it shows up the image in the browser correctly. I need to embed this url in a html page, and it doesn&#39;t lool ok if the image name is missing.\r\n\r\nJust wondering, if there&#39;s a way to preserve the image name so that the url looks like **http://TestBucket.s3.amazonaws.com/image/staging/file/GUID1234/test.jpeg** \r\n\r\nAny pointer will be highly appreciated.\r\n\r\nThanks","title":"AWS S3 key issue for uploaded file","body":"<p>I've a question on S3 file key. I'm uploading an image file with the key being the url of the image. Here's the code snippet.</p>\n\n<pre><code>\nAmazonS3 s3 = new AmazonS3Client(new BasicAWSCredentials(ACCESS_KEY, SECRET_KEY));\nPutObjectRequest putObj = new PutObjectRequest(BUCKET, KEY, createInputStream(IMAGE_PATH), createMetadata(\"image/jpeg\"));\nputObj.setCannedAcl(CannedAccessControlList.PublicRead);\nPutObjectResult result = s3.putObject(putObj);\n</code></pre>\n\n<p>Now, here's a sample key : <strong>image/staging/file/GUID1234</strong></p>\n\n<p>and the image name : <strong>test.jpeg</strong></p>\n\n<p>Now, this is how it looks like in S3 after the upload.\n<strong>TestBucket/image/staging/file/GUID1234</strong></p>\n\n<p>There's no reference of the image name. The image url shows up as <strong><a href=\"http://TestBucket.s3.amazonaws.com/image/staging/file/GUID1234\" rel=\"nofollow\">http://TestBucket.s3.amazonaws.com/image/staging/file/GUID1234</a></strong></p>\n\n<p>As you can see, there's no reference of the image name, though it shows up the image in the browser correctly. I need to embed this url in a html page, and it doesn't lool ok if the image name is missing.</p>\n\n<p>Just wondering, if there's a way to preserve the image name so that the url looks like <strong><a href=\"http://TestBucket.s3.amazonaws.com/image/staging/file/GUID1234/test.jpeg\" rel=\"nofollow\">http://TestBucket.s3.amazonaws.com/image/staging/file/GUID1234/test.jpeg</a></strong> </p>\n\n<p>Any pointer will be highly appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","amazon-web-services","sdk"],"answers":[{"tags":[],"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1355268177,"creation_date":1355266817,"answer_id":13829945,"question_id":11090734,"body_markdown":"You can get the security group list with `describeSecurityGroup` on an `AmazonEC2` client object (whose instance is called `ec2` in my example).\r\n\r\n    public List&lt;SecurityGroup&gt; findAllSecurityGroups() {\r\n        DescribeSecurityGroupsRequest securityRequest = new DescribeSecurityGroupsRequest();\r\n        DescribeSecurityGroupsResult securityDescription = ec2.describeSecurityGroups(securityRequest);\r\n        return securityDescription.getSecurityGroups();\r\n    }\r\n\r\nOnce you&#39;ve a `securityGroup`, you can call `securityGroup.getIpPermissions()`, which gives you a `List&lt;IpPermission&gt;`.\r\n\r\nYou can check the [Javadoc][1] for details, in particular about [IpPermission][2].\r\n\r\nTo give you an idea, a `toString()` representation of the `IpPermission` rule allowing a server to be contacted on port 80 by any IP, is the following:\r\n\r\n    {IpProtocol: tcp, FromPort: 80, ToPort: 80, IpRanges: [0.0.0.0/0], }\r\n\r\n  [1]: http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/index.html\r\n  [2]: http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ec2/model/IpPermission.html\r\n\r\nIf you&#39;re interested only in a particular security group, you can use:\r\n\r\n    public SecurityGroup findOneSecurityGroupByName(String securityGroupName) {\r\n        DescribeSecurityGroupsRequest securityRequest = new DescribeSecurityGroupsRequest();\r\n        securityRequest.setGroupNames(Arrays.asList(securityGroupName));\r\n        DescribeSecurityGroupsResult securityDescription = ec2.describeSecurityGroups(securityRequest);\r\n        return securityDescription.getSecurityGroups().get(0);\r\n    }\r\n\r\nSome basic integration tests, that should work in any Amazon EC2 account.\r\n\r\n    @Test\r\n    public void findsAllSecurityGroups() {\r\n        assertThat(firewall.findAllSecurityGroups().size(), is(greaterThan(0)));\r\n    }\r\n\r\n    @Test\r\n    public void findsDefaultSecurityGroupByName() {\r\n        SecurityGroup defaultGroup = firewall.findOneSecurityGroupByName(&quot;default&quot;);\r\n        assertThat(defaultGroup.getGroupName(), is(equalTo(&quot;default&quot;)));\r\n    }\r\n\r\n    @Test(expected = AmazonServiceException.class)\r\n    public void throwsExceptionWhenfindingNonExistentSecurityGroup() {\r\n        firewall.findOneSecurityGroupByName(&quot;inexistent&quot;);\r\n    }\r\n\r\nWhere `firewall` is an instance of the class that contains `findOneSecurityGroupByName` and `findsAllSecurityGroups`.","title":"How to list the rules for a security group using AWS java SDK","body":"<p>You can get the security group list with <code>describeSecurityGroup</code> on an <code>AmazonEC2</code> client object (whose instance is called <code>ec2</code> in my example).</p>\n\n<pre><code>public List&lt;SecurityGroup&gt; findAllSecurityGroups() {\n    DescribeSecurityGroupsRequest securityRequest = new DescribeSecurityGroupsRequest();\n    DescribeSecurityGroupsResult securityDescription = ec2.describeSecurityGroups(securityRequest);\n    return securityDescription.getSecurityGroups();\n}\n</code></pre>\n\n<p>Once you've a <code>securityGroup</code>, you can call <code>securityGroup.getIpPermissions()</code>, which gives you a <code>List&lt;IpPermission&gt;</code>.</p>\n\n<p>You can check the <a href=\"http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/index.html\" rel=\"nofollow\">Javadoc</a> for details, in particular about <a href=\"http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ec2/model/IpPermission.html\" rel=\"nofollow\">IpPermission</a>.</p>\n\n<p>To give you an idea, a <code>toString()</code> representation of the <code>IpPermission</code> rule allowing a server to be contacted on port 80 by any IP, is the following:</p>\n\n<pre><code>{IpProtocol: tcp, FromPort: 80, ToPort: 80, IpRanges: [0.0.0.0/0], }\n</code></pre>\n\n<p>If you're interested only in a particular security group, you can use:</p>\n\n<pre><code>public SecurityGroup findOneSecurityGroupByName(String securityGroupName) {\n    DescribeSecurityGroupsRequest securityRequest = new DescribeSecurityGroupsRequest();\n    securityRequest.setGroupNames(Arrays.asList(securityGroupName));\n    DescribeSecurityGroupsResult securityDescription = ec2.describeSecurityGroups(securityRequest);\n    return securityDescription.getSecurityGroups().get(0);\n}\n</code></pre>\n\n<p>Some basic integration tests, that should work in any Amazon EC2 account.</p>\n\n<pre><code>@Test\npublic void findsAllSecurityGroups() {\n    assertThat(firewall.findAllSecurityGroups().size(), is(greaterThan(0)));\n}\n\n@Test\npublic void findsDefaultSecurityGroupByName() {\n    SecurityGroup defaultGroup = firewall.findOneSecurityGroupByName(\"default\");\n    assertThat(defaultGroup.getGroupName(), is(equalTo(\"default\")));\n}\n\n@Test(expected = AmazonServiceException.class)\npublic void throwsExceptionWhenfindingNonExistentSecurityGroup() {\n    firewall.findOneSecurityGroupByName(\"inexistent\");\n}\n</code></pre>\n\n<p>Where <code>firewall</code> is an instance of the class that contains <code>findOneSecurityGroupByName</code> and <code>findsAllSecurityGroups</code>.</p>\n"}],"owner":{"account_id":1432189,"reputation":77,"user_id":1354372,"display_name":"user1354372"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13829945,"answer_count":1,"score":0,"last_activity_date":1677192778,"creation_date":1340052255,"question_id":11090734,"body_markdown":"The motivation here is to create a way to query my AWS environment for a dump of the configuration, serialize it, and then be able to run the query again to see any relevant changes.\r\n\r\nI have the group identifiers from:\r\n\r\n\r\n    \tprivate List&lt;String&gt; getSecurityGroups(InstanceNetworkInterface netInt) {\r\n\t\tList&lt;String&gt; result = new Vector&lt;String&gt;();\r\n\t\t\r\n\t\tList&lt;GroupIdentifier&gt; groups = netInt.getGroups();\r\n\t\tfor(GroupIdentifier gi : groups) {\r\n\t\t\tresult.add(gi.getGroupName());\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}","title":"How to list the rules for a security group using AWS java SDK","body":"<p>The motivation here is to create a way to query my AWS environment for a dump of the configuration, serialize it, and then be able to run the query again to see any relevant changes.</p>\n\n<p>I have the group identifiers from:</p>\n\n<pre><code>    private List&lt;String&gt; getSecurityGroups(InstanceNetworkInterface netInt) {\n    List&lt;String&gt; result = new Vector&lt;String&gt;();\n\n    List&lt;GroupIdentifier&gt; groups = netInt.getGroups();\n    for(GroupIdentifier gi : groups) {\n        result.add(gi.getGroupName());\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":2748502,"reputation":2775,"user_id":2368378,"accept_rate":57,"display_name":"Tim Nuwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394647998,"creation_date":1394647998,"answer_id":22360299,"question_id":22360112,"body_markdown":"    new ListObjectsRequest().withBucketName(bucketName).withDelimiter(&quot;/&quot;);\r\n\r\nThey end with / as a delimeter so ^ worked..","title":"How do I get the root directory of an S3 bucket?","body":"<pre><code>new ListObjectsRequest().withBucketName(bucketName).withDelimiter(\"/\");\n</code></pre>\n\n<p>They end with / as a delimeter so ^ worked..</p>\n"}],"owner":{"account_id":2748502,"reputation":2775,"user_id":2368378,"accept_rate":57,"display_name":"Tim Nuwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677192769,"creation_date":1394647434,"question_id":22360112,"body_markdown":"If I specify the prefix as an empty string or null, it will not query back the root documents.\r\n\r\n    new ListObjectsRequest().withBucketName(bucketName).withPrefix(prefix);\r\n\r\n\r\n\r\n\r\nEDIT:\r\n\r\nIt would be interesting to know if there&#39;s a way to query back only folders that are 1 directory above.","title":"How do I get the root directory of an S3 bucket?","body":"<p>If I specify the prefix as an empty string or null, it will not query back the root documents.</p>\n\n<pre><code>new ListObjectsRequest().withBucketName(bucketName).withPrefix(prefix);\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>It would be interesting to know if there's a way to query back only folders that are 1 directory above.</p>\n"},{"tags":["java","amazon-s3","playframework"],"answers":[{"tags":[],"owner":{"account_id":1542133,"reputation":6307,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1470768342,"creation_date":1470768342,"answer_id":38858239,"question_id":38858008,"body_markdown":"S3 files are not available to the JVM as files, so you cannot use the normal Java File class.\r\n\r\nInstead, you use the AWS Java [SDK][1]. More specifically, you will use [AmazonS3Client][2].\r\n\r\nThe S3 model is pretty simple. You can create a limited number of &quot;buckets.&quot; In your case, you probably want to just create one bucket for use for storing temporary files, although the SDK does allow you to create and delete buckets whenever you want. Bucket names have to be globally unique.\r\n\r\nWithin a bucket, you can create as many objects (files) as you want. By convention, fakey folders are implemented by using &quot;/&quot; characters in the &quot;key&quot; (name) of the file. This convention is supported by some functions that allow you to operate on all files that have a certain prefix in their keys. In addition, the S3 Console presents these as folders.\r\n\r\nVersioning can be turned on for your bucket, in which case all versions of all files are maintained.\r\n\r\nThe SDK supports API calls for reading and writing files as well as accessing ancillary data such as create time, etc.\r\n\r\n\r\n  [1]: https://aws.amazon.com/documentation/sdk-for-java/\r\n  [2]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html","title":"Java: Create temporary path in Amazon S3 to create files inside","body":"<p>S3 files are not available to the JVM as files, so you cannot use the normal Java File class.</p>\n\n<p>Instead, you use the AWS Java <a href=\"https://aws.amazon.com/documentation/sdk-for-java/\" rel=\"nofollow\">SDK</a>. More specifically, you will use <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html\" rel=\"nofollow\">AmazonS3Client</a>.</p>\n\n<p>The S3 model is pretty simple. You can create a limited number of \"buckets.\" In your case, you probably want to just create one bucket for use for storing temporary files, although the SDK does allow you to create and delete buckets whenever you want. Bucket names have to be globally unique.</p>\n\n<p>Within a bucket, you can create as many objects (files) as you want. By convention, fakey folders are implemented by using \"/\" characters in the \"key\" (name) of the file. This convention is supported by some functions that allow you to operate on all files that have a certain prefix in their keys. In addition, the S3 Console presents these as folders.</p>\n\n<p>Versioning can be turned on for your bucket, in which case all versions of all files are maintained.</p>\n\n<p>The SDK supports API calls for reading and writing files as well as accessing ancillary data such as create time, etc.</p>\n"}],"owner":{"account_id":8933157,"reputation":15,"user_id":6665002,"display_name":"Mateus Barcelini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1942,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677192760,"creation_date":1470767495,"question_id":38858008,"body_markdown":"I need to create a temporary folder in Amazon S3 to create files, work on them and then delete them.\r\n\r\nHow do I create this temporary folder and read it to create the file?\r\n\r\n    File file = new File(&lt;&lt;TEMPORARY PATH AMAZON&gt;&gt; + reportName);","title":"Java: Create temporary path in Amazon S3 to create files inside","body":"<p>I need to create a temporary folder in Amazon S3 to create files, work on them and then delete them.</p>\n\n<p>How do I create this temporary folder and read it to create the file?</p>\n\n<pre><code>File file = new File(&lt;&lt;TEMPORARY PATH AMAZON&gt;&gt; + reportName);\n</code></pre>\n"},{"tags":["java","android","android-mediaplayer"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":3,"creation_date":1352438210,"post_id":13302462,"comment_id":18141284,"body_markdown":"It seems apk missing some of the required jar files. Make sure all required jars are inside lib folder.","body":"It seems apk missing some of the required jar files. Make sure all required jars are inside lib folder."},{"owner":{"account_id":2024849,"reputation":149,"user_id":1810162,"accept_rate":83,"display_name":"samuelebe"},"score":0,"creation_date":1352438646,"post_id":13302462,"comment_id":18141372,"body_markdown":"My android build version is 4.0.3 and min sdk version is 2.3.3. It is there and I have added amazon iap jar file as well.","body":"My android build version is 4.0.3 and min sdk version is 2.3.3. It is there and I have added amazon iap jar file as well."},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1352438767,"post_id":13302462,"comment_id":18141407,"body_markdown":"I would give a try by including that jar.","body":"I would give a try by including that jar."},{"owner":{"account_id":2024849,"reputation":149,"user_id":1810162,"accept_rate":83,"display_name":"samuelebe"},"score":0,"creation_date":1352438900,"post_id":13302462,"comment_id":18141435,"body_markdown":"@Nambari: which jar you are saying? amazon iap jar?, I have added that.","body":"@Nambari: which jar you are saying? amazon iap jar?, I have added that."},{"owner":{"account_id":2024849,"reputation":149,"user_id":1810162,"accept_rate":83,"display_name":"samuelebe"},"score":0,"creation_date":1352444808,"post_id":13302462,"comment_id":18142965,"body_markdown":"@Nambari: I have created libs folder in my project and added iap jar explicitly. It worked after that. However, It didn&#39;t worked if i added jar through build path(add external jar).","body":"@Nambari: I have created libs folder in my project and added iap jar explicitly. It worked after that. However, It didn&#39;t worked if i added jar through build path(add external jar)."}],"answers":[{"tags":[],"owner":{"account_id":905716,"reputation":344,"user_id":940680,"display_name":"snapix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352439536,"creation_date":1352439536,"answer_id":13302663,"question_id":13302462,"body_markdown":"After adding jar check it to be exported to.","title":"NoClassDefFoundError in onStart method - Android","body":"<p>After adding jar check it to be exported to.</p>\n"},{"tags":[],"owner":{"account_id":361651,"reputation":2516,"user_id":704374,"accept_rate":70,"display_name":"Akshay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1352440363,"creation_date":1352440363,"answer_id":13302825,"question_id":13302462,"body_markdown":"Try this.If you are using new `SDK` there is quite different way of adding library in the project.\r\n\r\n 1. Create folder named as `libs` in your project and place your library over there.\r\n 2. Right click on your project &gt; Build Path &gt; Add External Archives \r\n\r\nI hope this will resolve your issue.If you have already added the library by using add external library then try to follow the steps which I mention.  \r\n\r\n ","title":"NoClassDefFoundError in onStart method - Android","body":"<p>Try this.If you are using new <code>SDK</code> there is quite different way of adding library in the project.</p>\n\n<ol>\n<li>Create folder named as <code>libs</code> in your project and place your library over there.</li>\n<li>Right click on your project > Build Path > Add External Archives </li>\n</ol>\n\n<p>I hope this will resolve your issue.If you have already added the library by using add external library then try to follow the steps which I mention.  </p>\n"},{"tags":[],"owner":{"account_id":23258,"reputation":8975,"user_id":58146,"accept_rate":83,"display_name":"Andrey Tarantsov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383966125,"creation_date":1383966125,"answer_id":19871898,"question_id":13302462,"body_markdown":"Cleaning the project has resolved NoClassDefFoundError with the purchasing observer in my case; I guess .jar libraries are not always picked up automatically?","title":"NoClassDefFoundError in onStart method - Android","body":"<p>Cleaning the project has resolved NoClassDefFoundError with the purchasing observer in my case; I guess .jar libraries are not always picked up automatically?</p>\n"}],"owner":{"account_id":2024849,"reputation":149,"user_id":1810162,"accept_rate":83,"display_name":"samuelebe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13302825,"answer_count":3,"score":2,"last_activity_date":1677192752,"creation_date":1352438145,"question_id":13302462,"body_markdown":"I am implementing Amazon IAP into my Media player app. I have registered my observer as it was said in Amazon docs. But, when I ran the project it is throwing `NoClassDefFoundError`. \r\n\r\nThere is no compilation error in the project and the class is right there in the project with correct package name. Searched other forums but not able to solve the issue.\r\n\r\nAny help is greatly appreciated!!\r\n\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): FATAL EXCEPTION: main\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): java.lang.NoClassDefFoundError: com.songs.mysongs.PlaySongObserver\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat com.songs.mysongs.PlaySongActivity.onStart(PlaySongActivity.java:111)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1133)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat android.app.Activity.performStart(Activity.java:4639)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1972)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2024)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat android.app.ActivityThread.access$600(ActivityThread.java:126)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1159)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat android.os.Looper.loop(Looper.java:137)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat android.app.ActivityThread.main(ActivityThread.java:4479)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat java.lang.reflect.Method.invoke(Method.java:511)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)\r\n    11-08 21:02:07.399: E/AndroidRuntime(11667): \tat dalvik.system.NativeStart.main(Native Method)\r\n\r\n","title":"NoClassDefFoundError in onStart method - Android","body":"<p>I am implementing Amazon IAP into my Media player app. I have registered my observer as it was said in Amazon docs. But, when I ran the project it is throwing <code>NoClassDefFoundError</code>. </p>\n\n<p>There is no compilation error in the project and the class is right there in the project with correct package name. Searched other forums but not able to solve the issue.</p>\n\n<p>Any help is greatly appreciated!!</p>\n\n<pre><code>11-08 21:02:07.399: E/AndroidRuntime(11667): FATAL EXCEPTION: main\n11-08 21:02:07.399: E/AndroidRuntime(11667): java.lang.NoClassDefFoundError: com.songs.mysongs.PlaySongObserver\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at com.songs.mysongs.PlaySongActivity.onStart(PlaySongActivity.java:111)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1133)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at android.app.Activity.performStart(Activity.java:4639)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1972)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2024)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at android.app.ActivityThread.access$600(ActivityThread.java:126)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1159)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at android.os.Handler.dispatchMessage(Handler.java:99)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at android.os.Looper.loop(Looper.java:137)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at android.app.ActivityThread.main(ActivityThread.java:4479)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at java.lang.reflect.Method.invokeNative(Native Method)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at java.lang.reflect.Method.invoke(Method.java:511)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)\n11-08 21:02:07.399: E/AndroidRuntime(11667):    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348069387,"creation_date":1348069387,"answer_id":12498178,"question_id":12498108,"body_markdown":"You should make sure whether your IP address is allowed or not. For Amazon Services, you can restrict access using IP addresses too. I had the same issue.","title":"s3 putObject access denied","body":"<p>You should make sure whether your IP address is allowed or not. For Amazon Services, you can restrict access using IP addresses too. I had the same issue.</p>\n"},{"tags":[],"owner":{"account_id":1784240,"reputation":1082,"user_id":1626106,"accept_rate":100,"display_name":"LoveForDroid"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1348245661,"creation_date":1348245661,"answer_id":12534617,"question_id":12498108,"body_markdown":"I got the issue resolved. \r\nIt was not about firewall or permissions settings as I thought.\r\nI was trying to do putObject on bucket which I should have created before doing this.\r\nInspite of saying no bucket found AWS gives a message Access Denied, which is wierd.\r\n\r\nHope this helps someone.","title":"s3 putObject access denied","body":"<p>I got the issue resolved. \nIt was not about firewall or permissions settings as I thought.\nI was trying to do putObject on bucket which I should have created before doing this.\nInspite of saying no bucket found AWS gives a message Access Denied, which is wierd.</p>\n\n<p>Hope this helps someone.</p>\n"}],"owner":{"account_id":1784240,"reputation":1082,"user_id":1626106,"accept_rate":100,"display_name":"LoveForDroid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4372,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12534617,"answer_count":2,"score":3,"last_activity_date":1677192731,"creation_date":1348069169,"question_id":12498108,"body_markdown":"I have full permission to my s3 User login:\r\n\r\n    {\r\n      &quot;Statement&quot;: [\r\n        {\r\n          &quot;Effect&quot;: &quot;Allow&quot;,\r\n          &quot;Action&quot;: &quot;s3:*&quot;,\r\n          &quot;Resource&quot;: &quot;*&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nThere is no group policy attached to this user.\r\nBut when I give putObject() command from my java program, I receive Access Denied message.\r\nWhat can be the issue. As I told my user login has administrator access as well as AmazonS3FullAccess. Thanks for help in advance.\r\n\r\n","title":"s3 putObject access denied","body":"<p>I have full permission to my s3 User login:</p>\n\n<pre><code>{\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:*\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n</code></pre>\n\n<p>There is no group policy attached to this user.\nBut when I give putObject() command from my java program, I receive Access Denied message.\nWhat can be the issue. As I told my user login has administrator access as well as AmazonS3FullAccess. Thanks for help in advance.</p>\n"},{"tags":["java","amazon-s3","timestamp"],"answers":[{"tags":[],"owner":{"account_id":2896048,"reputation":699,"user_id":2483802,"accept_rate":40,"display_name":"PandaBearSoup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371571421,"creation_date":1371571421,"answer_id":17173708,"question_id":17173380,"body_markdown":"This would really be a suggestion for Amazon, I would post to their forums. Alternatively, you could write a simple program in Java which would add a timestamp corresponding to your last modified time to the file. After downloading back from Amazon you could run the app in reverse to retrieve that information. Hope this helps.","title":"How preserve and keep timestamp of original modified date for file when uploading to Amazon S3?","body":"<p>This would really be a suggestion for Amazon, I would post to their forums. Alternatively, you could write a simple program in Java which would add a timestamp corresponding to your last modified time to the file. After downloading back from Amazon you could run the app in reverse to retrieve that information. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":2848971,"reputation":1010,"user_id":2446562,"accept_rate":75,"display_name":"perpetual_check"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371785963,"creation_date":1371785963,"answer_id":17227327,"question_id":17173380,"body_markdown":"Remember, S3 isn&#39;t storing &quot;files&quot; as you think of them on a filesystem.  You&#39;re giving it a sequence of bytes for it to store.  The source of that data can be a file, but it could also be a random stream of data generated by any data source.  That data can have metadata.  One piece of metadata that comes back in the GET Object request is Last-Modified, and S3 decides this for you.\r\n\r\nBut there&#39;s no reason you can&#39;t add your own custom headers and preserve whatever metadata you&#39;d like:\r\n\r\nhttp://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPUT.html\r\n\r\nSpecifically see &quot;x-amz-meta-&quot;.  You can have something like x-amz-meta-what-i-think-last-modified-should-be","title":"How preserve and keep timestamp of original modified date for file when uploading to Amazon S3?","body":"<p>Remember, S3 isn't storing \"files\" as you think of them on a filesystem.  You're giving it a sequence of bytes for it to store.  The source of that data can be a file, but it could also be a random stream of data generated by any data source.  That data can have metadata.  One piece of metadata that comes back in the GET Object request is Last-Modified, and S3 decides this for you.</p>\n\n<p>But there's no reason you can't add your own custom headers and preserve whatever metadata you'd like:</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPUT.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPUT.html</a></p>\n\n<p>Specifically see \"x-amz-meta-\".  You can have something like x-amz-meta-what-i-think-last-modified-should-be</p>\n"}],"owner":{"account_id":973775,"reputation":331,"user_id":995702,"accept_rate":75,"display_name":"Marvado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4055,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677192718,"creation_date":1371570594,"question_id":17173380,"body_markdown":"Is there any way either in Java or using s3cmd to keep and preserve the modified date on the file as opposed to the LastModified Amazon sets with sysdate when you actually upload the file to S3 ?\r\n\r\nAmazon S3 seems to use the upload timestamp as the LastModified on the file, and not the original file date/timestamp. \r\n\r\nThanks. ","title":"How preserve and keep timestamp of original modified date for file when uploading to Amazon S3?","body":"<p>Is there any way either in Java or using s3cmd to keep and preserve the modified date on the file as opposed to the LastModified Amazon sets with sysdate when you actually upload the file to S3 ?</p>\n\n<p>Amazon S3 seems to use the upload timestamp as the LastModified on the file, and not the original file date/timestamp. </p>\n\n<p>Thanks. </p>\n"},{"tags":["java","c#","amazon-web-services"],"comments":[{"owner":{"account_id":405944,"reputation":313,"user_id":775150,"display_name":"svenv"},"score":0,"creation_date":1392115291,"post_id":21684516,"comment_id":32807736,"body_markdown":"Did you include the correct access key and secret?","body":"Did you include the correct access key and secret?"},{"owner":{"account_id":81112,"reputation":517,"user_id":228930,"accept_rate":53,"display_name":"collumbo"},"score":0,"creation_date":1392117961,"post_id":21684516,"comment_id":32809404,"body_markdown":"Hi, Yes Definitely.  The above ones are obviously not correct (I changed them for this post).  I get the exact same result even when using their Java Sample App, and using a brand new AWS Account freshly signing up for the service.  I am starting to believe there is a problem with the Signup button for Alexa AWIS specifically...","body":"Hi, Yes Definitely.  The above ones are obviously not correct (I changed them for this post).  I get the exact same result even when using their Java Sample App, and using a brand new AWS Account freshly signing up for the service.  I am starting to believe there is a problem with the Signup button for Alexa AWIS specifically..."},{"owner":{"account_id":405944,"reputation":313,"user_id":775150,"display_name":"svenv"},"score":0,"creation_date":1392120228,"post_id":21684516,"comment_id":32810725,"body_markdown":"Long shot but try putting a @ in front of your string literals; maybe there&#39;s a control character in the secret.","body":"Long shot but try putting a @ in front of your string literals; maybe there&#39;s a control character in the secret."},{"owner":{"account_id":81112,"reputation":517,"user_id":228930,"accept_rate":53,"display_name":"collumbo"},"score":0,"creation_date":1392194981,"post_id":21684516,"comment_id":32849259,"body_markdown":"Tried that one too ;-)   No difference.  Firmly believe it&#39;s an AWS problem at this stage. Will give the Node library and Python a go later on and I expect the same... will update this when I have an answer.  Thanks.","body":"Tried that one too ;-)   No difference.  Firmly believe it&#39;s an AWS problem at this stage. Will give the Node library and Python a go later on and I expect the same... will update this when I have an answer.  Thanks."}],"answers":[{"tags":[],"owner":{"account_id":2284477,"reputation":211,"user_id":2008838,"accept_rate":75,"display_name":"Umang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413984877,"creation_date":1413984877,"answer_id":26508739,"question_id":21684516,"body_markdown":"I received the same error via my php code even after the dysfunctional buttons bug was handled.  [See here][1]\r\n\r\n\r\nFor me the error was because of the IAM credentials that I was using which are still not compatible with AWIS and this hasn&#39;t been documented [here][2]. One should use root account details for AWIS. [See here][3]\r\n\r\n\r\n  [1]: https://forums.aws.amazon.com/thread.jspa?threadID=144190&amp;tstart=0\r\n  [2]: http://docs.aws.amazon.com/AlexaWebInfoService/latest/index.html?QUERY_QueryAuthenticationErrors.html\r\n  [3]: https://forums.aws.amazon.com/thread.jspa?messageID=548612&amp;#548612","title":"Amazon Alexa Web Service always gives 401","body":"<p>I received the same error via my php code even after the dysfunctional buttons bug was handled.  <a href=\"https://forums.aws.amazon.com/thread.jspa?threadID=144190&amp;tstart=0\" rel=\"nofollow\">See here</a></p>\n\n<p>For me the error was because of the IAM credentials that I was using which are still not compatible with AWIS and this hasn't been documented <a href=\"http://docs.aws.amazon.com/AlexaWebInfoService/latest/index.html?QUERY_QueryAuthenticationErrors.html\" rel=\"nofollow\">here</a>. One should use root account details for AWIS. <a href=\"https://forums.aws.amazon.com/thread.jspa?messageID=548612&amp;#548612\" rel=\"nofollow\">See here</a></p>\n"}],"owner":{"account_id":81112,"reputation":517,"user_id":228930,"accept_rate":53,"display_name":"collumbo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1805,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677192708,"creation_date":1392054953,"question_id":21684516,"body_markdown":"**Problem solved -- see Update 2 at end of description.  The below code is fine**\r\n\r\nTearing my hair out here... but here it goes:\r\n\r\nI am trying to hook into the Amazon Alexa API ([http://docs.aws.amazon.com/AlexaWebInfoService/latest/index.html?ApiReference_UrlInfoAction.html][1])  data from the API... I need to use C#.  \r\n\r\nI have updated this post below with Java Code I used to see if it&#39;s my code problem or AWIS problem.  \r\n\r\n\r\nRegarding the C#, the guy at the end of this post claims to have it working: [https://forums.aws.amazon.com/message.jspa?messageID=476573#476573][2]\r\n\r\nThis is the C# code that calls the class:\r\n\r\n      var awis = new AmazonAWIS\r\n                    {\r\n                        AWSAccessKeyId = &quot;ABCDRFGHIJKLMNOP&quot;,\r\n                        AWSSecret = &quot;GpC0PcXnnzG/TCpoi9r7RxBtqCzdKaHeEkq7Mfs6&quot;    \r\n                    };\r\n    \r\n      awis.UrlInfo(&quot;bbc.co.uk&quot;);\r\n\r\n\r\nAnd this is the class code taken directly from the link posted above... I have not changed it:\r\n\r\n    \r\n    public class AmazonAWIS\r\n    {\r\n        public string AWSAccessKeyId { get; set; }\r\n        public string AWSSecret { get; set; }\r\n\r\n        protected string GenerateSignature(string param)\r\n        {\r\n            var sign = &quot;GET\\n&quot; + &quot;awis.amazonaws.com&quot; + &quot;\\n/\\n&quot; + param;\r\n\r\n            // create the hash object\r\n            var shaiSignature = new HMACSHA256(Encoding.UTF8.GetBytes(AWSSecret));\r\n\r\n            // calculate the hash\r\n            var binSig = shaiSignature.ComputeHash(Encoding.UTF8.GetBytes(sign));\r\n\r\n            // convert to hex\r\n            var signature = Convert.ToBase64String(binSig);\r\n\r\n            return signature;\r\n        }\r\n\r\n        // this is one of the key problems with the Amazon code and C#.. C# by default returns excaped values in lower case\r\n        // for example %3a but Amazon expects them in upper case i.e. %3A, this function changes them to upper case..\r\n        //\r\n        public static string UpperCaseUrlEncode(string s)\r\n        {\r\n            char[] temp = HttpUtility.UrlEncode(s).ToCharArray();\r\n            for (int i = 0; i &lt; temp.Length - 2; i++)\r\n            {\r\n                if (temp[i] == &#39;%&#39;)\r\n                {\r\n                    temp[i + 1] = char.ToUpper(temp[i + 1]);\r\n                    temp[i + 2] = char.ToUpper(temp[i + 2]);\r\n                }\r\n            }\r\n            return new string(temp);\r\n        }\r\n\r\n        string GetQueryParams(string action, Dictionary&lt;string, string&gt; extra)\r\n        {\r\n            var time = DateTime.UtcNow;\r\n\r\n            // set the correct format for the date string\r\n            var timestamp = time.ToString(&quot;yyyy-MM-ddTHH:mm:ss.fffZ&quot;, System.Globalization.CultureInfo.InvariantCulture);\r\n\r\n            // create a sortable dict\r\n            var vals = new Dictionary&lt;string, string&gt;();\r\n\r\n            vals.Add(&quot;AWSAccessKeyId&quot;, AWSAccessKeyId);\r\n            vals.Add(&quot;Action&quot;, action);\r\n            vals.Add(&quot;ResponseGroup&quot;, &quot;Rank,ContactInfo,LinksInCount&quot;);\r\n            vals.Add(&quot;Timestamp&quot;, timestamp);\r\n            vals.Add(&quot;Count&quot;, &quot;10&quot;);\r\n            vals.Add(&quot;Start&quot;, &quot;1&quot;);\r\n            vals.Add(&quot;SignatureVersion&quot;, &quot;2&quot;);\r\n            vals.Add(&quot;SignatureMethod&quot;, &quot;HmacSHA256&quot;);\r\n\r\n            // add any extra values\r\n            foreach (var v in extra)\r\n            {\r\n                if (vals.ContainsKey(v.Key) == false)\r\n                    vals.Add(v.Key, v.Value);\r\n            }\r\n\r\n            // sort the values by ordinal.. important!\r\n            var sorted = vals.OrderBy(p =&gt; p.Key, StringComparer.Ordinal).ToArray();\r\n\r\n            var url = new StringBuilder();\r\n\r\n            foreach (var v in sorted)\r\n            {\r\n                if (url.Length &gt; 0)\r\n                    url.Append(&quot;&amp;&quot;);\r\n\r\n                url.Append(v.Key + &quot;=&quot; + UpperCaseUrlEncode(v.Value));\r\n            }\r\n\r\n            return url.ToString();\r\n        }\r\n\r\n        public void UrlInfo(string domain)\r\n        {\r\n            string request = &quot;UrlInfo&quot;;\r\n\r\n            // add the extra values\r\n            var extra = new Dictionary&lt;string, string&gt;();\r\n            extra.Add(&quot;Url&quot;, domain);\r\n\r\n            // run the request with amazon\r\n            try\r\n            {\r\n                var res = RunRequest(request, extra);\r\n\r\n                // process the results...\r\n                Console.WriteLine(res);\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                throw;\r\n            }\r\n        }\r\n\r\n        private string RunRequest(string request, Dictionary&lt;string, string&gt; extra)\r\n        {\r\n            // generate the query params\r\n            var queryParams = GetQueryParams(request, extra);\r\n\r\n            // calculate the signature\r\n            var sig = GenerateSignature(queryParams);\r\n\r\n            // generate the url\r\n            var url = new StringBuilder();\r\n            url.Append(&quot;http://awis.amazonaws.com?&quot;);\r\n            url.Append(queryParams);\r\n            url.Append(&quot;&amp;Signature=&quot; + UpperCaseUrlEncode(sig));\r\n\r\n            // get the request\r\n\r\n            var c = new WebClient();\r\n            var res = c.DownloadString(url.ToString());\r\n            return res;\r\n        }\r\n    }\r\n\r\n\r\nIt fails on the line:\r\n\r\n    var res = c.DownloadString(url.ToString());\r\n\r\n\r\nI always get a 401 Unauthorized... \r\n\r\nAny idea what I am doing wrong?\r\n\r\n\r\n**Update**\r\n\r\nI can reproduce this same problem with their Java Sample Application.  I have modified their app to just hard code the AWSAccessId and SecretKey, and I also don&#39;t use the sun.misc.BASE64Encoder which is in their app.\r\n\r\nThe exact code is below... again, If I grab the uri from the makeRequest(uri) statement, paste into Fiddler, I can see it&#39;s the same 401 response:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;Response&gt;&lt;Errors&gt;&lt;Error&gt;&lt;Code&gt;AuthFailure&lt;/Code&gt;&lt;Message&gt;AWS was not able to validate the provided access credentials&lt;/Message&gt;&lt;/Error&gt;&lt;/Errors&gt;&lt;RequestID&gt;ff8f1853-b816-47a0-2283-be9941e7f2a9&lt;/RequestID&gt;&lt;/Response&gt;\r\n\r\n \r\nAnd the code that caused the above (I have changed the accessKey and secretKey):\r\n\r\n    package urlinfo.com;\r\n    import javax.crypto.Mac;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    import java.net.URLEncoder;\r\n    import java.security.SignatureException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.*;\r\n\r\n    /**\r\n    * Makes a request to the Alexa Web Information Service UrlInfo action.\r\n    */\r\n    public class UrlInfo {\r\n\r\n    private static final String ACTION_NAME = &quot;UrlInfo&quot;;\r\n    private static final String RESPONSE_GROUP_NAME = &quot;Rank,ContactInfo,LinksInCount&quot;;\r\n    private static final String SERVICE_HOST = &quot;awis.amazonaws.com&quot;;\r\n    private static final String AWS_BASE_URL = &quot;http://&quot; + SERVICE_HOST + &quot;/?&quot;;\r\n    private static final String HASH_ALGORITHM = &quot;HmacSHA256&quot;;\r\n\r\n    private static final String DATEFORMAT_AWS = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;;\r\n\r\n    private String accessKeyId;\r\n    private String secretAccessKey;\r\n    private String site;\r\n\r\n    public UrlInfo(String accessKeyId, String secretAccessKey, String site) {\r\n        this.accessKeyId = accessKeyId;\r\n        this.secretAccessKey = secretAccessKey;\r\n        this.site = site;\r\n    }\r\n\r\n    /**\r\n     * Generates a timestamp for use with AWS request signing\r\n     *\r\n     * @param date current date\r\n     * @return timestamp\r\n     */\r\n    protected static String getTimestampFromLocalTime(Date date) {\r\n        SimpleDateFormat format = new SimpleDateFormat(DATEFORMAT_AWS);\r\n        format.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n        return format.format(date);\r\n    }\r\n\r\n    /**\r\n     * Computes RFC 2104-compliant HMAC signature.\r\n     *\r\n     * @param data The data to be signed.\r\n     * @return The base64-encoded RFC 2104-compliant HMAC signature.\r\n     * @throws java.security.SignatureException\r\n     *          when signature generation fails\r\n     */\r\n    protected String generateSignature(String data)\r\n            throws java.security.SignatureException {\r\n        String result;\r\n        try {\r\n            // get a hash key from the raw key bytes\r\n            SecretKeySpec signingKey = new SecretKeySpec(\r\n                    secretAccessKey.getBytes(), HASH_ALGORITHM);\r\n\r\n            // get a hasher instance and initialize with the signing key\r\n            Mac mac = Mac.getInstance(HASH_ALGORITHM);\r\n            mac.init(signingKey);\r\n\r\n            // compute the hmac on input data bytes\r\n            byte[] rawHmac = mac.doFinal(data.getBytes());\r\n\r\n            // base64-encode the hmac\r\n            // result = Encoding.EncodeBase64(rawHmac);\r\n            // result = new BASE64Encoder().encode(rawHmac);\r\n            result = javax.xml.bind.DatatypeConverter.printBase64Binary(rawHmac);\r\n\r\n        } catch (Exception e) {\r\n            throw new SignatureException(&quot;Failed to generate HMAC : &quot;\r\n                    + e.getMessage());\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Makes a request to the specified Url and return the results as a String\r\n     *\r\n     * @param requestUrl url to make request to\r\n     * @return the XML document as a String\r\n     * @throws IOException\r\n     */\r\n    public static String makeRequest(String requestUrl) throws IOException {\r\n        URL url = new URL(requestUrl);\r\n        URLConnection conn = url.openConnection();\r\n        InputStream in = conn.getInputStream();\r\n\r\n        // Read the response\r\n        StringBuffer sb = new StringBuffer();\r\n        int c;\r\n        int lastChar = 0;\r\n        while ((c = in.read()) != -1) {\r\n            if (c == &#39;&lt;&#39; &amp;&amp; (lastChar == &#39;&gt;&#39;))\r\n                sb.append(&#39;\\n&#39;);\r\n            sb.append((char) c);\r\n            lastChar = c;\r\n        }\r\n        in.close();\r\n        return sb.toString();\r\n    }\r\n\r\n\r\n    /**\r\n     * Builds the query string\r\n     */\r\n    protected String buildQuery()\r\n            throws UnsupportedEncodingException {\r\n        String timestamp = getTimestampFromLocalTime(Calendar.getInstance().getTime());\r\n\r\n        Map&lt;String, String&gt; queryParams = new TreeMap&lt;String, String&gt;();\r\n        queryParams.put(&quot;Action&quot;, ACTION_NAME);\r\n        queryParams.put(&quot;ResponseGroup&quot;, RESPONSE_GROUP_NAME);\r\n        queryParams.put(&quot;AWSAccessKeyId&quot;, accessKeyId);\r\n        queryParams.put(&quot;Timestamp&quot;, timestamp);\r\n        queryParams.put(&quot;Url&quot;, site);\r\n        queryParams.put(&quot;SignatureVersion&quot;, &quot;2&quot;);\r\n        queryParams.put(&quot;SignatureMethod&quot;, HASH_ALGORITHM);\r\n\r\n        String query = &quot;&quot;;\r\n        boolean first = true;\r\n        for (String name : queryParams.keySet()) {\r\n            if (first)\r\n                first = false;\r\n            else\r\n                query += &quot;&amp;&quot;;\r\n\r\n            query += name + &quot;=&quot; + URLEncoder.encode(queryParams.get(name), &quot;UTF-8&quot;);\r\n        }\r\n\r\n        return query;\r\n    }\r\n\r\n    /**\r\n     * Makes a request to the Alexa Web Information Service UrlInfo action\r\n     */\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        String accessKey = &quot;REMOVED&quot;;\r\n        String secretKey = &quot;REMOVED&quot;;\r\n        // String site = args[2];\r\n        String site = &quot;www.google.com&quot;;\r\n\r\n        UrlInfo urlInfo = new UrlInfo(accessKey, secretKey, site);\r\n\r\n        String query = urlInfo.buildQuery();\r\n\r\n        String toSign = &quot;GET\\n&quot; + SERVICE_HOST + &quot;\\n/\\n&quot; + query;\r\n\r\n        System.out.println(&quot;String to sign:\\n&quot; + toSign + &quot;\\n&quot;);\r\n\r\n        String signature = urlInfo.generateSignature(toSign);\r\n\r\n        String uri = AWS_BASE_URL + query + &quot;&amp;Signature=&quot; +\r\n                URLEncoder.encode(signature, &quot;UTF-8&quot;);\r\n\r\n        System.out.println(&quot;Making request to:\\n&quot;);\r\n        System.out.println(uri + &quot;\\n&quot;);\r\n\r\n        // Make the Request\r\n\r\n        String xmlResponse = makeRequest(uri);\r\n\r\n        // Print out the XML Response\r\n\r\n        System.out.println(&quot;Response:\\n&quot;);\r\n        System.out.println(xmlResponse);\r\n      }\r\n    }\r\n\r\n\r\n**UPDATE 2:** \r\n\r\nNo problem with this code.  The problem was with the AWIS Sign up button.  Use the one at the bottom of the page... not the one at the top (which is what most people would click).  Amazon confirmed that the top button is not working currently.\r\n\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AlexaWebInfoService/latest/index.html?ApiReference_UrlInfoAction.html\r\n  [2]: https://forums.aws.amazon.com/message.jspa?messageID=476573#476573","title":"Amazon Alexa Web Service always gives 401","body":"<p><strong>Problem solved -- see Update 2 at end of description.  The below code is fine</strong></p>\n\n<p>Tearing my hair out here... but here it goes:</p>\n\n<p>I am trying to hook into the Amazon Alexa API (<a href=\"http://docs.aws.amazon.com/AlexaWebInfoService/latest/index.html?ApiReference_UrlInfoAction.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AlexaWebInfoService/latest/index.html?ApiReference_UrlInfoAction.html</a>)  data from the API... I need to use C#.  </p>\n\n<p>I have updated this post below with Java Code I used to see if it's my code problem or AWIS problem.  </p>\n\n<p>Regarding the C#, the guy at the end of this post claims to have it working: <a href=\"https://forums.aws.amazon.com/message.jspa?messageID=476573#476573\" rel=\"nofollow\">https://forums.aws.amazon.com/message.jspa?messageID=476573#476573</a></p>\n\n<p>This is the C# code that calls the class:</p>\n\n<pre><code>  var awis = new AmazonAWIS\n                {\n                    AWSAccessKeyId = \"ABCDRFGHIJKLMNOP\",\n                    AWSSecret = \"GpC0PcXnnzG/TCpoi9r7RxBtqCzdKaHeEkq7Mfs6\"    \n                };\n\n  awis.UrlInfo(\"bbc.co.uk\");\n</code></pre>\n\n<p>And this is the class code taken directly from the link posted above... I have not changed it:</p>\n\n<pre><code>public class AmazonAWIS\n{\n    public string AWSAccessKeyId { get; set; }\n    public string AWSSecret { get; set; }\n\n    protected string GenerateSignature(string param)\n    {\n        var sign = \"GET\\n\" + \"awis.amazonaws.com\" + \"\\n/\\n\" + param;\n\n        // create the hash object\n        var shaiSignature = new HMACSHA256(Encoding.UTF8.GetBytes(AWSSecret));\n\n        // calculate the hash\n        var binSig = shaiSignature.ComputeHash(Encoding.UTF8.GetBytes(sign));\n\n        // convert to hex\n        var signature = Convert.ToBase64String(binSig);\n\n        return signature;\n    }\n\n    // this is one of the key problems with the Amazon code and C#.. C# by default returns excaped values in lower case\n    // for example %3a but Amazon expects them in upper case i.e. %3A, this function changes them to upper case..\n    //\n    public static string UpperCaseUrlEncode(string s)\n    {\n        char[] temp = HttpUtility.UrlEncode(s).ToCharArray();\n        for (int i = 0; i &lt; temp.Length - 2; i++)\n        {\n            if (temp[i] == '%')\n            {\n                temp[i + 1] = char.ToUpper(temp[i + 1]);\n                temp[i + 2] = char.ToUpper(temp[i + 2]);\n            }\n        }\n        return new string(temp);\n    }\n\n    string GetQueryParams(string action, Dictionary&lt;string, string&gt; extra)\n    {\n        var time = DateTime.UtcNow;\n\n        // set the correct format for the date string\n        var timestamp = time.ToString(\"yyyy-MM-ddTHH:mm:ss.fffZ\", System.Globalization.CultureInfo.InvariantCulture);\n\n        // create a sortable dict\n        var vals = new Dictionary&lt;string, string&gt;();\n\n        vals.Add(\"AWSAccessKeyId\", AWSAccessKeyId);\n        vals.Add(\"Action\", action);\n        vals.Add(\"ResponseGroup\", \"Rank,ContactInfo,LinksInCount\");\n        vals.Add(\"Timestamp\", timestamp);\n        vals.Add(\"Count\", \"10\");\n        vals.Add(\"Start\", \"1\");\n        vals.Add(\"SignatureVersion\", \"2\");\n        vals.Add(\"SignatureMethod\", \"HmacSHA256\");\n\n        // add any extra values\n        foreach (var v in extra)\n        {\n            if (vals.ContainsKey(v.Key) == false)\n                vals.Add(v.Key, v.Value);\n        }\n\n        // sort the values by ordinal.. important!\n        var sorted = vals.OrderBy(p =&gt; p.Key, StringComparer.Ordinal).ToArray();\n\n        var url = new StringBuilder();\n\n        foreach (var v in sorted)\n        {\n            if (url.Length &gt; 0)\n                url.Append(\"&amp;\");\n\n            url.Append(v.Key + \"=\" + UpperCaseUrlEncode(v.Value));\n        }\n\n        return url.ToString();\n    }\n\n    public void UrlInfo(string domain)\n    {\n        string request = \"UrlInfo\";\n\n        // add the extra values\n        var extra = new Dictionary&lt;string, string&gt;();\n        extra.Add(\"Url\", domain);\n\n        // run the request with amazon\n        try\n        {\n            var res = RunRequest(request, extra);\n\n            // process the results...\n            Console.WriteLine(res);\n        }\n        catch (Exception ex)\n        {\n            throw;\n        }\n    }\n\n    private string RunRequest(string request, Dictionary&lt;string, string&gt; extra)\n    {\n        // generate the query params\n        var queryParams = GetQueryParams(request, extra);\n\n        // calculate the signature\n        var sig = GenerateSignature(queryParams);\n\n        // generate the url\n        var url = new StringBuilder();\n        url.Append(\"http://awis.amazonaws.com?\");\n        url.Append(queryParams);\n        url.Append(\"&amp;Signature=\" + UpperCaseUrlEncode(sig));\n\n        // get the request\n\n        var c = new WebClient();\n        var res = c.DownloadString(url.ToString());\n        return res;\n    }\n}\n</code></pre>\n\n<p>It fails on the line:</p>\n\n<pre><code>var res = c.DownloadString(url.ToString());\n</code></pre>\n\n<p>I always get a 401 Unauthorized... </p>\n\n<p>Any idea what I am doing wrong?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I can reproduce this same problem with their Java Sample Application.  I have modified their app to just hard code the AWSAccessId and SecretKey, and I also don't use the sun.misc.BASE64Encoder which is in their app.</p>\n\n<p>The exact code is below... again, If I grab the uri from the makeRequest(uri) statement, paste into Fiddler, I can see it's the same 401 response:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n</code></pre>\n\n<p><Code>AuthFailure</Code>AWS was not able to validate the provided access credentialsff8f1853-b816-47a0-2283-be9941e7f2a9</p>\n\n<p>And the code that caused the above (I have changed the accessKey and secretKey):</p>\n\n<pre><code>package urlinfo.com;\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.net.URLEncoder;\nimport java.security.SignatureException;\nimport java.text.SimpleDateFormat;\nimport java.util.*;\n\n/**\n* Makes a request to the Alexa Web Information Service UrlInfo action.\n*/\npublic class UrlInfo {\n\nprivate static final String ACTION_NAME = \"UrlInfo\";\nprivate static final String RESPONSE_GROUP_NAME = \"Rank,ContactInfo,LinksInCount\";\nprivate static final String SERVICE_HOST = \"awis.amazonaws.com\";\nprivate static final String AWS_BASE_URL = \"http://\" + SERVICE_HOST + \"/?\";\nprivate static final String HASH_ALGORITHM = \"HmacSHA256\";\n\nprivate static final String DATEFORMAT_AWS = \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\";\n\nprivate String accessKeyId;\nprivate String secretAccessKey;\nprivate String site;\n\npublic UrlInfo(String accessKeyId, String secretAccessKey, String site) {\n    this.accessKeyId = accessKeyId;\n    this.secretAccessKey = secretAccessKey;\n    this.site = site;\n}\n\n/**\n * Generates a timestamp for use with AWS request signing\n *\n * @param date current date\n * @return timestamp\n */\nprotected static String getTimestampFromLocalTime(Date date) {\n    SimpleDateFormat format = new SimpleDateFormat(DATEFORMAT_AWS);\n    format.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\n    return format.format(date);\n}\n\n/**\n * Computes RFC 2104-compliant HMAC signature.\n *\n * @param data The data to be signed.\n * @return The base64-encoded RFC 2104-compliant HMAC signature.\n * @throws java.security.SignatureException\n *          when signature generation fails\n */\nprotected String generateSignature(String data)\n        throws java.security.SignatureException {\n    String result;\n    try {\n        // get a hash key from the raw key bytes\n        SecretKeySpec signingKey = new SecretKeySpec(\n                secretAccessKey.getBytes(), HASH_ALGORITHM);\n\n        // get a hasher instance and initialize with the signing key\n        Mac mac = Mac.getInstance(HASH_ALGORITHM);\n        mac.init(signingKey);\n\n        // compute the hmac on input data bytes\n        byte[] rawHmac = mac.doFinal(data.getBytes());\n\n        // base64-encode the hmac\n        // result = Encoding.EncodeBase64(rawHmac);\n        // result = new BASE64Encoder().encode(rawHmac);\n        result = javax.xml.bind.DatatypeConverter.printBase64Binary(rawHmac);\n\n    } catch (Exception e) {\n        throw new SignatureException(\"Failed to generate HMAC : \"\n                + e.getMessage());\n    }\n    return result;\n}\n\n/**\n * Makes a request to the specified Url and return the results as a String\n *\n * @param requestUrl url to make request to\n * @return the XML document as a String\n * @throws IOException\n */\npublic static String makeRequest(String requestUrl) throws IOException {\n    URL url = new URL(requestUrl);\n    URLConnection conn = url.openConnection();\n    InputStream in = conn.getInputStream();\n\n    // Read the response\n    StringBuffer sb = new StringBuffer();\n    int c;\n    int lastChar = 0;\n    while ((c = in.read()) != -1) {\n        if (c == '&lt;' &amp;&amp; (lastChar == '&gt;'))\n            sb.append('\\n');\n        sb.append((char) c);\n        lastChar = c;\n    }\n    in.close();\n    return sb.toString();\n}\n\n\n/**\n * Builds the query string\n */\nprotected String buildQuery()\n        throws UnsupportedEncodingException {\n    String timestamp = getTimestampFromLocalTime(Calendar.getInstance().getTime());\n\n    Map&lt;String, String&gt; queryParams = new TreeMap&lt;String, String&gt;();\n    queryParams.put(\"Action\", ACTION_NAME);\n    queryParams.put(\"ResponseGroup\", RESPONSE_GROUP_NAME);\n    queryParams.put(\"AWSAccessKeyId\", accessKeyId);\n    queryParams.put(\"Timestamp\", timestamp);\n    queryParams.put(\"Url\", site);\n    queryParams.put(\"SignatureVersion\", \"2\");\n    queryParams.put(\"SignatureMethod\", HASH_ALGORITHM);\n\n    String query = \"\";\n    boolean first = true;\n    for (String name : queryParams.keySet()) {\n        if (first)\n            first = false;\n        else\n            query += \"&amp;\";\n\n        query += name + \"=\" + URLEncoder.encode(queryParams.get(name), \"UTF-8\");\n    }\n\n    return query;\n}\n\n/**\n * Makes a request to the Alexa Web Information Service UrlInfo action\n */\npublic static void main(String[] args) throws Exception {\n\n    String accessKey = \"REMOVED\";\n    String secretKey = \"REMOVED\";\n    // String site = args[2];\n    String site = \"www.google.com\";\n\n    UrlInfo urlInfo = new UrlInfo(accessKey, secretKey, site);\n\n    String query = urlInfo.buildQuery();\n\n    String toSign = \"GET\\n\" + SERVICE_HOST + \"\\n/\\n\" + query;\n\n    System.out.println(\"String to sign:\\n\" + toSign + \"\\n\");\n\n    String signature = urlInfo.generateSignature(toSign);\n\n    String uri = AWS_BASE_URL + query + \"&amp;Signature=\" +\n            URLEncoder.encode(signature, \"UTF-8\");\n\n    System.out.println(\"Making request to:\\n\");\n    System.out.println(uri + \"\\n\");\n\n    // Make the Request\n\n    String xmlResponse = makeRequest(uri);\n\n    // Print out the XML Response\n\n    System.out.println(\"Response:\\n\");\n    System.out.println(xmlResponse);\n  }\n}\n</code></pre>\n\n<p><strong>UPDATE 2:</strong> </p>\n\n<p>No problem with this code.  The problem was with the AWIS Sign up button.  Use the one at the bottom of the page... not the one at the top (which is what most people would click).  Amazon confirmed that the top button is not working currently.</p>\n"},{"tags":["java","amazon-web-services","amazon-product-api"],"owner":{"account_id":11901135,"reputation":165,"user_id":8828911,"accept_rate":25,"display_name":"Amit Asaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1677192689,"creation_date":1511974586,"question_id":47557925,"body_markdown":"I know you could determine if a product is eligible for FREE 2-day shipping via Prime by using attribute `&quot;IsEligibleForPrime&quot;` (see [this thread][1] for details) However I&#39;m wondering if it&#39;s also possible to determine if a product is eligible for FREE 1-Day shipping via Prime?\r\n\r\nAlso while I&#39;m asking, is it possible to determine the (guaranteed) delivery date of a product? Based on my analysis, you could have two products shipped via 2 day Prime and one of them will arrive 4 days later and the other 3 days later (this information is supplied to the customer when you add item to shopping cart on Amazon.com and proceed to checkout. My question is: is this information available via API?)\r\n\r\nThanks!\r\n\r\n  [1]: https://stackoverflow.com/questions/23530977/how-do-i-tell-if-a-product-is-prime-eligible-in-the-amazon-product-advertising-a","title":"Determine if Product is Eligible for 1-Day Prime via Amazon Product API?","body":"<p>I know you could determine if a product is eligible for FREE 2-day shipping via Prime by using attribute <code>\"IsEligibleForPrime\"</code> (see <a href=\"https://stackoverflow.com/questions/23530977/how-do-i-tell-if-a-product-is-prime-eligible-in-the-amazon-product-advertising-a\">this thread</a> for details) However I'm wondering if it's also possible to determine if a product is eligible for FREE 1-Day shipping via Prime?</p>\n\n<p>Also while I'm asking, is it possible to determine the (guaranteed) delivery date of a product? Based on my analysis, you could have two products shipped via 2 day Prime and one of them will arrive 4 days later and the other 3 days later (this information is supplied to the customer when you add item to shopping cart on Amazon.com and proceed to checkout. My question is: is this information available via API?)</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"score":3,"creation_date":1344313033,"post_id":11839190,"comment_id":15743278,"body_markdown":"Please don&#39;t include commented code.","body":"Please don&#39;t include commented code."},{"owner":{"account_id":225474,"reputation":4101,"user_id":485971,"display_name":"irrelephant"},"score":3,"creation_date":1344313139,"post_id":11839190,"comment_id":15743295,"body_markdown":"Also, you should really get into the habit of indenting consistently; it&#39;ll save you lots of time debugging.","body":"Also, you should really get into the habit of indenting consistently; it&#39;ll save you lots of time debugging."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1344313341,"post_id":11839190,"comment_id":15743333,"body_markdown":"You&#39;re not even adding an `ActionListener` to listen for when a file is chosen.","body":"You&#39;re not even adding an <code>ActionListener</code> to listen for when a file is chosen."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1345030183,"post_id":11839190,"comment_id":15951909,"body_markdown":"Please don&#39;t use DataInputStream if you want to read text, its more confusing than useful.","body":"Please don&#39;t use DataInputStream if you want to read text, its more confusing than useful."}],"answers":[{"tags":[],"owner":{"account_id":1165929,"reputation":7226,"user_id":1144248,"accept_rate":78,"display_name":"Alex Coleman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344313335,"creation_date":1344313335,"answer_id":11839231,"question_id":11839190,"body_markdown":"The reason you can&#39;t use .doc is because .doc files are formatted, and as such, have some things your code would have to parse to read from them.\r\n\r\nAs far as the weird printing goes, you read the code twice before you even get to printing it (each time you call .readLine, it moves the scanner to the next line). Try the following code:\r\n\r\n    ArrayList&lt;String&gt;list =new ArrayList&lt;String&gt; ();\r\n    String currentLine;\r\n    while ((currentLine = br.readLine()) != null) {\r\n        list.add(currentLine);\r\n        System.out.println(currentLine);\r\n    } br.close() ;\r\n    }\r\nThat will keep track of the current line in a variable, rather than repeatedly moving the scanner to the next line. The other issue was it will be null, not &quot; &quot;, when the end of the file is reached","title":"how to read next line in .txt file","body":"<p>The reason you can't use .doc is because .doc files are formatted, and as such, have some things your code would have to parse to read from them.</p>\n\n<p>As far as the weird printing goes, you read the code twice before you even get to printing it (each time you call .readLine, it moves the scanner to the next line). Try the following code:</p>\n\n<pre><code>ArrayList&lt;String&gt;list =new ArrayList&lt;String&gt; ();\nString currentLine;\nwhile ((currentLine = br.readLine()) != null) {\n    list.add(currentLine);\n    System.out.println(currentLine);\n} br.close() ;\n}\n</code></pre>\n\n<p>That will keep track of the current line in a variable, rather than repeatedly moving the scanner to the next line. The other issue was it will be null, not \" \", when the end of the file is reached</p>\n"},{"tags":[],"owner":{"account_id":49683,"reputation":9264,"user_id":148059,"display_name":"atk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1344327892,"creation_date":1344313591,"answer_id":11839255,"question_id":11839190,"body_markdown":"Per the bufferedreader api: \r\n\r\n&gt; **public String readLine()\r\n&gt;                 throws IOException**\r\n&gt;\r\n&gt; Reads a line of text. A line is considered to be terminated by any one of a line feed (&#39;\\n&#39;), a\r\n&gt; carriage return (&#39;\\r&#39;), or a carriage return followed immediately by a\r\n&gt; linefeed. \r\n&gt; \r\n&gt; **Returns**: A String containing the contents of the line, not including\r\n&gt; any line-termination characters, or null if the end of the stream has\r\n&gt; been reached  \r\n&gt;\r\n&gt; **Throws**:  IOException - If an I/O error occurs\r\n\r\nNote that your code is making a few errors:\r\n\r\n1) it is calling readline() once to check a return value and again to use the return value.  The first call (in the while condition) removes the current value from the buffer, so your are dropping every other line.\r\n\r\n2) you are using the wrong comparison to see if there&#39;s data remaining.  x != y, where both x and y are objects, checks for pointer equality - is the memroy location where x is allocated the same as the memory location where y is allocated.  what you really want is to store the value in a variable.\r\n\r\nFor example:\r\n\r\n    BufferedReader in = ...;\r\n    String s = in.readLine();\r\n    while(s!=null){\r\n        ...\r\n        s = in.readLine();\r\n    }","title":"how to read next line in .txt file","body":"<p>Per the bufferedreader api: </p>\n\n<blockquote>\n  <p><strong>public String readLine()\n                  throws IOException</strong></p>\n  \n  <p>Reads a line of text. A line is considered to be terminated by any one of a line feed ('\\n'), a\n  carriage return ('\\r'), or a carriage return followed immediately by a\n  linefeed. </p>\n  \n  <p><strong>Returns</strong>: A String containing the contents of the line, not including\n  any line-termination characters, or null if the end of the stream has\n  been reached  </p>\n  \n  <p><strong>Throws</strong>:  IOException - If an I/O error occurs</p>\n</blockquote>\n\n<p>Note that your code is making a few errors:</p>\n\n<p>1) it is calling readline() once to check a return value and again to use the return value.  The first call (in the while condition) removes the current value from the buffer, so your are dropping every other line.</p>\n\n<p>2) you are using the wrong comparison to see if there's data remaining.  x != y, where both x and y are objects, checks for pointer equality - is the memroy location where x is allocated the same as the memory location where y is allocated.  what you really want is to store the value in a variable.</p>\n\n<p>For example:</p>\n\n<pre><code>BufferedReader in = ...;\nString s = in.readLine();\nwhile(s!=null){\n    ...\n    s = in.readLine();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5295682,"reputation":379,"user_id":4226914,"display_name":"KIBOU Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493303781,"creation_date":1493303781,"answer_id":43660852,"question_id":11839190,"body_markdown":"A classic BufferedReader to read content from a file.\r\nthis our file to read with Java:\r\n\r\nThis is the content to write into file\r\n\r\nThis is the content to write into file\r\n\r\n    package com.stackoverflow;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    public class ReadFile{\r\n    \r\n    \tprivate static final String FILENAME = &quot;D:\\\\test\\\\filename.txt&quot;;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tBufferedReader br = null;\r\n    \t\tFileReader fr = null;\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\tfr = new FileReader(FILENAME);\r\n    \t\t\tbr = new BufferedReader(fr);\r\n    \r\n    \t\t\tString sCurrentLine;\r\n    \r\n    \t\t\tbr = new BufferedReader(new FileReader(FILENAME));\r\n    \r\n    \t\t\twhile ((sCurrentLine = br.readLine()) != null) {\r\n    \t\t\t\tSystem.out.println(sCurrentLine);\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (IOException e) {\r\n    \r\n    \t\t\te.printStackTrace();\r\n    \r\n    \t\t} finally {\r\n    \r\n    \t\t\ttry {\r\n    \r\n    \t\t\t\tif (br != null)\r\n    \t\t\t\t\tbr.close();\r\n    \r\n    \t\t\t\tif (fr != null)\r\n    \t\t\t\t\tfr.close();\r\n    \r\n    \t\t\t} catch (IOException ex) {\r\n    \r\n    \t\t\t\tex.printStackTrace();\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nOutput :\r\n\r\nThis is the content to write into file\r\n\r\nThis is the content to write into file","title":"how to read next line in .txt file","body":"<p>A classic BufferedReader to read content from a file.\nthis our file to read with Java:</p>\n\n<p>This is the content to write into file</p>\n\n<p>This is the content to write into file</p>\n\n<pre><code>package com.stackoverflow;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class ReadFile{\n\n    private static final String FILENAME = \"D:\\\\test\\\\filename.txt\";\n\n    public static void main(String[] args) {\n\n        BufferedReader br = null;\n        FileReader fr = null;\n\n        try {\n\n            fr = new FileReader(FILENAME);\n            br = new BufferedReader(fr);\n\n            String sCurrentLine;\n\n            br = new BufferedReader(new FileReader(FILENAME));\n\n            while ((sCurrentLine = br.readLine()) != null) {\n                System.out.println(sCurrentLine);\n            }\n\n        } catch (IOException e) {\n\n            e.printStackTrace();\n\n        } finally {\n\n            try {\n\n                if (br != null)\n                    br.close();\n\n                if (fr != null)\n                    fr.close();\n\n            } catch (IOException ex) {\n\n                ex.printStackTrace();\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Output :</p>\n\n<p>This is the content to write into file</p>\n\n<p>This is the content to write into file</p>\n"}],"owner":{"account_id":1673668,"reputation":51,"user_id":1539618,"accept_rate":33,"display_name":"hello"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23110,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":11839255,"answer_count":3,"score":0,"last_activity_date":1677192635,"creation_date":1344312931,"question_id":11839190,"body_markdown":"may i know why i am unable to read next line in a .txt file when i upload it.\r\nit happens to all the .txt file that i try to upload and then system.out.println() with.\r\nin my text file it contains : cats,dogs,monkey ( each in one line ) .. but the value out put is: \r\n\r\n    [Monkey][Monkey, null][Monkey, null, null][Monkey, null, null, null][Monkey, null, null, null, null][Monkey, null, null, null, null, null][Monkey, null, null, null, null, null, null]\r\n\r\nneeds help on this. \r\nthank you.\r\n\r\nand wondering why i can read .txt file and not .doc. need advise on this as well. \r\n  \r\n    \r\n    import java.awt.List;\r\n    import java.io.*;  \r\n    import java.util.ArrayList;\r\n    \r\n    import javax.imageio.IIOException;\r\n    import javax.swing.JFileChooser;\r\n    \r\n    public class searchforCapitalLetter {\r\n    \r\n    \t public static void main(String[] args) throws IOException{  \r\n    \t\t \r\n    \t\t\r\n    \t      try {  \r\n    \t        \t\r\n    \t        \t// file chooser\r\n    \t      \t  JFileChooser chooser=new  JFileChooser();\r\n    \t  \t    int returnVal = chooser.showOpenDialog(null);{\r\n    \t  \t    if(returnVal == JFileChooser.APPROVE_OPTION)\r\n    \t\r\n    \t  \t    {   File f = chooser.getSelectedFile();}\r\n                FileInputStream fin = new FileInputStream(chooser.getSelectedFile());\r\n                DataInputStream din = new DataInputStream(fin);    \r\n           BufferedReader br = new BufferedReader(new InputStreamReader(din)); \r\n           \r\n        ArrayList&lt;String&gt;list =new ArrayList&lt;String&gt; ();\r\n \r\n        if ((br.readLine()) != null) {\r\n        while (br.readLine() != &quot; &quot;) {\r\n        \tlist.add(br.readLine());\r\n        \tSystem.out.print (list);\r\n        } br.close() ;\r\n        }//closes if statement\r\n    \t } // closes method dialog\r\n    \t\t\t\t} // closes try method\r\n    \t      \r\n    \t     catch (FileNotFoundException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}     // closes catch method\r\n    \t        } // closes method body\r\n    \t \r\n    } // closes class method\r\n    \t\r\n    \r\n    ","title":"how to read next line in .txt file","body":"<p>may i know why i am unable to read next line in a .txt file when i upload it.\nit happens to all the .txt file that i try to upload and then system.out.println() with.\nin my text file it contains : cats,dogs,monkey ( each in one line ) .. but the value out put is: </p>\n\n<pre><code>[Monkey][Monkey, null][Monkey, null, null][Monkey, null, null, null][Monkey, null, null, null, null][Monkey, null, null, null, null, null][Monkey, null, null, null, null, null, null]\n</code></pre>\n\n<p>needs help on this. \nthank you.</p>\n\n<p>and wondering why i can read .txt file and not .doc. need advise on this as well. </p>\n\n<pre><code>import java.awt.List;\nimport java.io.*;  \nimport java.util.ArrayList;\n\nimport javax.imageio.IIOException;\nimport javax.swing.JFileChooser;\n\npublic class searchforCapitalLetter {\n\n     public static void main(String[] args) throws IOException{  \n\n\n          try {  \n\n                // file chooser\n              JFileChooser chooser=new  JFileChooser();\n            int returnVal = chooser.showOpenDialog(null);{\n            if(returnVal == JFileChooser.APPROVE_OPTION)\n\n            {   File f = chooser.getSelectedFile();}\n            FileInputStream fin = new FileInputStream(chooser.getSelectedFile());\n            DataInputStream din = new DataInputStream(fin);    \n       BufferedReader br = new BufferedReader(new InputStreamReader(din)); \n\n    ArrayList&lt;String&gt;list =new ArrayList&lt;String&gt; ();\n\n    if ((br.readLine()) != null) {\n    while (br.readLine() != \" \") {\n        list.add(br.readLine());\n        System.out.print (list);\n    } br.close() ;\n    }//closes if statement\n     } // closes method dialog\n                } // closes try method\n\n         catch (FileNotFoundException e) {\n                    e.printStackTrace();\n                }     // closes catch method\n            } // closes method body\n\n} // closes class method\n</code></pre>\n"},{"tags":["java","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":1909819,"reputation":3548,"user_id":1723946,"accept_rate":52,"display_name":"Erben Mo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426272198,"creation_date":1426272198,"answer_id":29039700,"question_id":29029638,"body_markdown":"In your application, can one state be in multiple countries? If not then there is no need to make the countryId a rangeKey. Something like this should work:\r\n\r\n    @DynamoDBHashKey\r\n    private String stateId;\r\n\r\n    // attributes    \r\n    private String countryId;\r\n    \r\n    private String stateCode;\r\n    \r\n    private String stateName;\r\n    \r\n    private Long isActive;\r\n\r\nGiven a stateId, you can find the countryId it belongs to from your &quot;cd_state2&quot; table.\r\n\r\nOn the other hand, I would recommend using the schema like this:\r\n\r\n    HashKey: countryId\r\n    RangeKey: stateId\r\n    Attributes: stateCode, stateName, isActive\r\n\r\nThen build a GSI on top of this table:\r\n\r\n    HashKey: stateId\r\n\r\nSo assuming the stateId is unique across country, given a State you can find its Country by doing a GET on the GSI table. Also, given a countryId, you can find all the states in it by query the base table.\r\n\r\n","title":"Relations between dynamo db tables","body":"<p>In your application, can one state be in multiple countries? If not then there is no need to make the countryId a rangeKey. Something like this should work:</p>\n\n<pre><code>@DynamoDBHashKey\nprivate String stateId;\n\n// attributes    \nprivate String countryId;\n\nprivate String stateCode;\n\nprivate String stateName;\n\nprivate Long isActive;\n</code></pre>\n\n<p>Given a stateId, you can find the countryId it belongs to from your \"cd_state2\" table.</p>\n\n<p>On the other hand, I would recommend using the schema like this:</p>\n\n<pre><code>HashKey: countryId\nRangeKey: stateId\nAttributes: stateCode, stateName, isActive\n</code></pre>\n\n<p>Then build a GSI on top of this table:</p>\n\n<pre><code>HashKey: stateId\n</code></pre>\n\n<p>So assuming the stateId is unique across country, given a State you can find its Country by doing a GET on the GSI table. Also, given a countryId, you can find all the states in it by query the base table.</p>\n"}],"owner":{"account_id":2200659,"reputation":357,"user_id":1945143,"display_name":"Maheshbabu Jammula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677192623,"creation_date":1426241649,"question_id":29029638,"body_markdown":"I have two tables named Country and State.\r\nHow to get country information through mapping relation.\r\nHere is my code:\r\n\r\n\r\n\r\ntables:\r\n------------\r\n\r\n\r\n\r\n    @DynamoDBTable(tableName = &quot;cd_country2&quot;)\r\n    public class Country implements Serializable {\r\n    \tprivate static final long serialVersionUID = 5698425418072128936L;\r\n\r\n    \t@DynamoDBAutoGeneratedKey\r\n    \t@DynamoDBHashKey\r\n    \tprivate String countryId;\r\n\r\n    \tprivate String countryCode;\r\n    \tprivate String countryName;\r\n    \tprivate Long isActive;\r\n    }\r\n\r\n-----\r\n\r\n    @DynamoDBTable(tableName = &quot;cd_state2&quot;)\r\n    public class State implements Serializable {\r\n\r\n    \tprivate static final long serialVersionUID = -7289597915417184960L;\r\n\r\n    \t@DynamoDBAutoGeneratedKey\r\n    \t@DynamoDBHashKey\r\n    \tprivate String stateId;\r\n    \t\r\n    \t@DynamoDBRangeKey\r\n    \tprivate String countryId;\r\n\r\n    \tprivate String stateCode;\r\n\r\n    \tprivate String stateName;\r\n\r\n    \tprivate Long isActive;\r\n    }\r\n\r\n","title":"Relations between dynamo db tables","body":"<p>I have two tables named Country and State.\nHow to get country information through mapping relation.\nHere is my code:</p>\n\n<h2>tables:</h2>\n\n<pre><code>@DynamoDBTable(tableName = \"cd_country2\")\npublic class Country implements Serializable {\n    private static final long serialVersionUID = 5698425418072128936L;\n\n    @DynamoDBAutoGeneratedKey\n    @DynamoDBHashKey\n    private String countryId;\n\n    private String countryCode;\n    private String countryName;\n    private Long isActive;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@DynamoDBTable(tableName = \"cd_state2\")\npublic class State implements Serializable {\n\n    private static final long serialVersionUID = -7289597915417184960L;\n\n    @DynamoDBAutoGeneratedKey\n    @DynamoDBHashKey\n    private String stateId;\n\n    @DynamoDBRangeKey\n    private String countryId;\n\n    private String stateCode;\n\n    private String stateName;\n\n    private Long isActive;\n}\n</code></pre>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"score":0,"creation_date":1344755533,"post_id":11920377,"comment_id":15872895,"body_markdown":"tell me if the idea of doing `grep &quot;keyword&quot; s3://bucketname/*.*` did not come to your mind? :)","body":"tell me if the idea of doing <code>grep &quot;keyword&quot; s3:&#47;&#47;bucketname&#47;*.*</code> did not come to your mind? :)"},{"owner":{"account_id":1673668,"reputation":51,"user_id":1539618,"accept_rate":33,"display_name":"hello"},"score":0,"creation_date":1344755807,"post_id":11920377,"comment_id":15872931,"body_markdown":"can you further explain this to me ? sorry.","body":"can you further explain this to me ? sorry."}],"answers":[{"tags":[],"owner":{"display_name":"user846969"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378237471,"creation_date":1378237471,"answer_id":18600270,"question_id":11920377,"body_markdown":"Your files in Amazon S3 can be made public and then accessed using HttpURLConnection, as in:\r\n\r\n\t\timport java.io.*;\r\n\t\timport java.net.HttpURLConnection;\r\n\t\timport java.net.URL;\r\n\r\n\t\tclass Download\r\n\t\t {public static void main (String args[])\r\n\t\t   {String u = &quot;http://s3.amazonaws.com/Bucket/path/file.data&quot;;\r\n\t\t\tString d = download(u);\r\n\t\t\tSystem.err.println(&quot;Download &quot;+u+&quot;=\\n&quot;+d);\r\n\t\t   }\r\n\r\n\t\t  public static String download(String u)\r\n\t\t   {final int B = 1024*1024; \r\n\t\t\t\r\n\t\t\ttry \r\n\t\t\t {final URL url = new URL(u);\r\n\t\t\t  final HttpURLConnection c = (HttpURLConnection)url.openConnection();\r\n\t\t\t  c.connect();\r\n\t\t\t  final int r = c.getResponseCode(); \r\n\t\t\t  if (r != 200) \r\n\t\t\t   {System.err.println(&quot;Got response code &quot;+r+&quot;, expected 200, cannot download &quot;+u);\r\n\t\t\t\treturn null;\r\n\t\t\t   }\r\n\t\t\t  System.err.println(&quot;Content length=&quot;+c.getContentLength());\r\n\t\t\t\t  \r\n\t\t\t  final InputStream i = new BufferedInputStream(url.openStream(), B);\r\n\t\t\t  final byte data[] = new byte[B];\r\n\t\t\t  String o = &quot;&quot;;\r\n\r\n\t\t\t  for(int n = i.read(data); n != -1; n = i.read(data))\r\n\t\t\t   {o += new String(data, 0, n);\r\n\t\t\t   }\r\n\r\n\t\t\t  i.close();\r\n\t\t\t  return o;\r\n\t\t\t }\r\n\t\t\tcatch (Exception e) \r\n\t\t\t {System.err.println(&quot;Cannot download &quot;+u+&quot; due to &quot;+e);\r\n\t\t\t }\r\n\t\t\treturn null;\r\n\t\t   }\r\n         }\r\n\r\nIf you are unable to make these files public you will have to go the more complex route of using Amazon IAM to create a user, assign the user privileges, generate a key/secret combination and then use the Amazon AWS SDK for Java documented at &lt;http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html&gt;. Please post back here if you need help with that route.","title":"how to check for word in text file store in amazon s3 cloud storage against user input?","body":"<p>Your files in Amazon S3 can be made public and then accessed using HttpURLConnection, as in:</p>\n\n<pre><code>    import java.io.*;\n    import java.net.HttpURLConnection;\n    import java.net.URL;\n\n    class Download\n     {public static void main (String args[])\n       {String u = \"http://s3.amazonaws.com/Bucket/path/file.data\";\n        String d = download(u);\n        System.err.println(\"Download \"+u+\"=\\n\"+d);\n       }\n\n      public static String download(String u)\n       {final int B = 1024*1024; \n\n        try \n         {final URL url = new URL(u);\n          final HttpURLConnection c = (HttpURLConnection)url.openConnection();\n          c.connect();\n          final int r = c.getResponseCode(); \n          if (r != 200) \n           {System.err.println(\"Got response code \"+r+\", expected 200, cannot download \"+u);\n            return null;\n           }\n          System.err.println(\"Content length=\"+c.getContentLength());\n\n          final InputStream i = new BufferedInputStream(url.openStream(), B);\n          final byte data[] = new byte[B];\n          String o = \"\";\n\n          for(int n = i.read(data); n != -1; n = i.read(data))\n           {o += new String(data, 0, n);\n           }\n\n          i.close();\n          return o;\n         }\n        catch (Exception e) \n         {System.err.println(\"Cannot download \"+u+\" due to \"+e);\n         }\n        return null;\n       }\n     }\n</code></pre>\n\n<p>If you are unable to make these files public you will have to go the more complex route of using Amazon IAM to create a user, assign the user privileges, generate a key/secret combination and then use the Amazon AWS SDK for Java documented at <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html</a>. Please post back here if you need help with that route.</p>\n"},{"tags":[],"owner":{"account_id":1624766,"reputation":627,"user_id":1500545,"display_name":"melchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393490932,"creation_date":1393490932,"answer_id":22063331,"question_id":11920377,"body_markdown":"checkout [cloudbash.sh][1] - not just grep, any linux tools for your data on S3.\r\n\r\n\r\n  [1]: http://cloudbash.sh","title":"how to check for word in text file store in amazon s3 cloud storage against user input?","body":"<p>checkout <a href=\"http://cloudbash.sh\" rel=\"nofollow\">cloudbash.sh</a> - not just grep, any linux tools for your data on S3.</p>\n"}],"owner":{"account_id":1673668,"reputation":51,"user_id":1539618,"accept_rate":33,"display_name":"hello"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677192612,"creation_date":1344755349,"question_id":11920377,"body_markdown":"How do i match words in text file that is store in amazon s3 cloud storage, against user input in search bar, and then download the specific file?","title":"how to check for word in text file store in amazon s3 cloud storage against user input?","body":"<p>How do i match words in text file that is store in amazon s3 cloud storage, against user input in search bar, and then download the specific file?</p>\n"},{"tags":["java","amazon-web-services"],"answers":[{"tags":[],"owner":{"display_name":"user846969"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378236006,"creation_date":1378236006,"answer_id":18599864,"question_id":15160725,"body_markdown":"Use IAM under Amazon Web Services. You will essentially: create a user, give the user appropriate permissions, create an access key and secret for that user, use this key/secret combination in your code.","title":"how to set permissions to a single file in a bucket for amazon aws using java","body":"<p>Use IAM under Amazon Web Services. You will essentially: create a user, give the user appropriate permissions, create an access key and secret for that user, use this key/secret combination in your code.</p>\n"}],"owner":{"account_id":2128586,"reputation":11,"user_id":1890012,"display_name":"ronypal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677192602,"creation_date":1362150132,"question_id":15160725,"body_markdown":"I have setup a bucket and an object key under it, using grantree. How do we set the permissions to a specific user? I tried acl.grantPermission(new CanonicalGrantee(&quot;example canonicaluserid&quot;), Permission.ReadAcp);\r\n","title":"how to set permissions to a single file in a bucket for amazon aws using java","body":"<p>I have setup a bucket and an object key under it, using grantree. How do we set the permissions to a specific user? I tried acl.grantPermission(new CanonicalGrantee(\"example canonicaluserid\"), Permission.ReadAcp);</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":1514365,"reputation":6553,"user_id":1415732,"accept_rate":50,"display_name":"Alden"},"score":1,"creation_date":1398012234,"post_id":23184813,"comment_id":35459770,"body_markdown":"You need to use the multipart API, see [this SO post](http://stackoverflow.com/a/8881939/1415732)","body":"You need to use the multipart API, see <a href=\"http://stackoverflow.com/a/8881939/1415732\">this SO post</a>"},{"owner":{"account_id":3290025,"reputation":496,"user_id":2768546,"accept_rate":30,"display_name":"Avis"},"score":0,"creation_date":1398168360,"post_id":23184813,"comment_id":35520058,"body_markdown":"Hi Alden, Thanks for you quick reply, I&#39;ve doubt, If I make use of this API to upload stream data, wouldn&#39;t it cause performance issues. Looks like it was designed to upload files which are very big in size but in my case I planning to buffer 1024 bytes(as the data comes in from another process) every time and upload it.  Is it okay to use in my case? Please suggest  or else Is there a way to open a http file handle remotely and manage in my code? Please Let me know. Thanks in advance.","body":"Hi Alden, Thanks for you quick reply, I&#39;ve doubt, If I make use of this API to upload stream data, wouldn&#39;t it cause performance issues. Looks like it was designed to upload files which are very big in size but in my case I planning to buffer 1024 bytes(as the data comes in from another process) every time and upload it.  Is it okay to use in my case? Please suggest  or else Is there a way to open a http file handle remotely and manage in my code? Please Let me know. Thanks in advance."},{"owner":{"account_id":3290025,"reputation":496,"user_id":2768546,"accept_rate":30,"display_name":"Avis"},"score":0,"creation_date":1398425888,"post_id":23184813,"comment_id":35653485,"body_markdown":"Can anyone tried uploading streams to S3 ?  If yes , please help me with the procedure. I understand that we can do using AWS SDKs but it seems like  some limitation with Multipart upload APIs (min 5MB of stream data is required) but In my case I want to upload 1024 Bytes as and when the I receive stream. Appreciate your help!","body":"Can anyone tried uploading streams to S3 ?  If yes , please help me with the procedure. I understand that we can do using AWS SDKs but it seems like  some limitation with Multipart upload APIs (min 5MB of stream data is required) but In my case I want to upload 1024 Bytes as and when the I receive stream. Appreciate your help!"},{"owner":{"account_id":1514365,"reputation":6553,"user_id":1415732,"accept_rate":50,"display_name":"Alden"},"score":0,"creation_date":1398432121,"post_id":23184813,"comment_id":35657920,"body_markdown":"If you&#39;re only dealing with 1024 bytes, you could string join your lines with `\\n` and then make one `putObject` call with everything","body":"If you&#39;re only dealing with 1024 bytes, you could string join your lines with <code>\\n</code> and then make one <code>putObject</code> call with everything"},{"owner":{"account_id":14671483,"reputation":126,"user_id":10595853,"display_name":"SBD"},"score":0,"creation_date":1642445500,"post_id":23184813,"comment_id":125067782,"body_markdown":"Hi Avis, what was your final solution then ?","body":"Hi Avis, what was your final solution then ?"}],"answers":[{"tags":[],"owner":{"account_id":7584212,"reputation":29,"user_id":5753940,"display_name":"Fez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1510354483,"creation_date":1510354483,"answer_id":47232370,"question_id":23184813,"body_markdown":"Noticed that this is a question 3 years ago, now you could use AWS Kinesis Firehose to achieve this easily, you could simply write that string into firehose and firehose will help you aggregate by time or size, and then deliver to S3.","title":"Is there a way to Continuously write streams(line-by-line) in S3","body":"<p>Noticed that this is a question 3 years ago, now you could use AWS Kinesis Firehose to achieve this easily, you could simply write that string into firehose and firehose will help you aggregate by time or size, and then deliver to S3.</p>\n"}],"owner":{"account_id":3290025,"reputation":496,"user_id":2768546,"accept_rate":30,"display_name":"Avis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3240,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677192537,"creation_date":1398011257,"question_id":23184813,"body_markdown":"Can Anyone please suggest me the way or sample code to write data (line-by-line)  into S3.\r\n\r\nIts like a stream coming in to some file, as soon as my program receives each line, it has to be written in S3.\r\nSo I need only one buckets for that and one file in s3. \r\n\r\nSample input :\r\n\r\n    String lines[] = [&quot;This is first line&quot;,&quot;This is Second line&quot;, &quot;This is Third Line&quot;]\r\n    \r\n    s3 Initialization,...etc\r\n    itererator i = lines;  \r\n    while (i.hasnext())\r\n    {\r\n        s3Service.putObject(testBucket, i); // Write each line in S3\r\n    }\r\n\r\nPlease check the flow and suggest me with code sample.\r\n\r\nVery much appreciated...\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is there a way to Continuously write streams(line-by-line) in S3","body":"<p>Can Anyone please suggest me the way or sample code to write data (line-by-line)  into S3.</p>\n\n<p>Its like a stream coming in to some file, as soon as my program receives each line, it has to be written in S3.\nSo I need only one buckets for that and one file in s3. </p>\n\n<p>Sample input :</p>\n\n<pre><code>String lines[] = [\"This is first line\",\"This is Second line\", \"This is Third Line\"]\n\ns3 Initialization,...etc\nitererator i = lines;  \nwhile (i.hasnext())\n{\n    s3Service.putObject(testBucket, i); // Write each line in S3\n}\n</code></pre>\n\n<p>Please check the flow and suggest me with code sample.</p>\n\n<p>Very much appreciated...</p>\n"},{"tags":["java","amazon-s3","upload"],"comments":[{"owner":{"account_id":956406,"reputation":8592,"user_id":981616,"accept_rate":87,"display_name":"uday"},"score":0,"creation_date":1327693711,"post_id":9039086,"comment_id":11338794,"body_markdown":"I dont think we have a provision to do that. Since S3 is just the Simple DB Storage. I doesnt really see through your code &amp; have a tracker where the file has previosly ended like that.","body":"I dont think we have a provision to do that. Since S3 is just the Simple DB Storage. I doesnt really see through your code &amp; have a tracker where the file has previosly ended like that."},{"owner":{"account_id":111110,"reputation":40021,"user_id":293686,"accept_rate":89,"display_name":"Maur&#237;cio Linhares"},"score":0,"creation_date":1327694000,"post_id":9039086,"comment_id":11338889,"body_markdown":"I&#39;m not looking for a tracker, I know exactly what bytes were added to the file, what I&#39;m looking for is a call that allows me to tell S3 **hey, add these bytes starting at X on this file you already have**, like I would do on the partial/resumable uploads.","body":"I&#39;m not looking for a tracker, I know exactly what bytes were added to the file, what I&#39;m looking for is a call that allows me to tell S3 <b>hey, add these bytes starting at X on this file you already have</b>, like I would do on the partial/resumable uploads."}],"answers":[{"tags":[],"owner":{"account_id":1198545,"reputation":259,"user_id":1169728,"display_name":"Wes Pearce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327696139,"creation_date":1327696139,"answer_id":9039631,"question_id":9039086,"body_markdown":"You might need to look into something like rsync if this is something you&#39;re going to do regularly. Rsync keeps track of changes made to files and keeps them synced between servers. Here at work, we use a wrapper for rsync called [duplicity][1], which allows us to backup files to S3, and only uploads the difference between changed files.\r\n\r\nIt all depends on what your specific needs are, however.\r\n\r\n\r\n  [1]: http://duplicity.nongnu.org/","title":"Is it possible to updade only a piece of a file that was already uploaded to S3?","body":"<p>You might need to look into something like rsync if this is something you're going to do regularly. Rsync keeps track of changes made to files and keeps them synced between servers. Here at work, we use a wrapper for rsync called <a href=\"http://duplicity.nongnu.org/\" rel=\"nofollow\">duplicity</a>, which allows us to backup files to S3, and only uploads the difference between changed files.</p>\n\n<p>It all depends on what your specific needs are, however.</p>\n"},{"tags":[],"owner":{"account_id":55758,"reputation":2434,"user_id":167036,"display_name":"S3 Browser Team"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1328028244,"creation_date":1328028244,"answer_id":9083377,"question_id":9039086,"body_markdown":"Currently S3 API doesn&#39;t allow you to upload changed parts (i.e. to patch the file). You need to reupload the whole file.\r\n\r\nAnother option could be to use your own file format to keep file as a set of chunks. But this makes it incompatible with other s3 clients.","title":"Is it possible to updade only a piece of a file that was already uploaded to S3?","body":"<p>Currently S3 API doesn't allow you to upload changed parts (i.e. to patch the file). You need to reupload the whole file.</p>\n\n<p>Another option could be to use your own file format to keep file as a set of chunks. But this makes it incompatible with other s3 clients.</p>\n"}],"owner":{"account_id":111110,"reputation":40021,"user_id":293686,"accept_rate":89,"display_name":"Maur&#237;cio Linhares"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9083377,"answer_count":2,"score":3,"last_activity_date":1677192526,"creation_date":1327693324,"question_id":9039086,"body_markdown":"Imagine I did upload a 50mb file to S3.\r\n\r\nAfter uploading it completely, the file was changed, by adding 5mb of data to it. Now the file is 55mb.\r\n\r\nIs it possible for me to upload only these 5mb that were added to S3 or do I always have to re-upload the whole file?\r\n\r\nPossibly something like a PUT method that would accept a content-range so I could update just this specific range of bytes.","title":"Is it possible to updade only a piece of a file that was already uploaded to S3?","body":"<p>Imagine I did upload a 50mb file to S3.</p>\n\n<p>After uploading it completely, the file was changed, by adding 5mb of data to it. Now the file is 55mb.</p>\n\n<p>Is it possible for me to upload only these 5mb that were added to S3 or do I always have to re-upload the whole file?</p>\n\n<p>Possibly something like a PUT method that would accept a content-range so I could update just this specific range of bytes.</p>\n"},{"tags":["java","android","amazon-web-services"],"answers":[{"tags":[],"owner":{"account_id":9781198,"reputation":29,"user_id":7249185,"display_name":"Ryan Naccarato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482199101,"creation_date":1482199101,"answer_id":41233794,"question_id":40781235,"body_markdown":"You need to use the button click callback to pull in the user password.  As your code is written now, the password will be set to an empty string (or whatever is in the EditText field at the time of creation).\r\n\r\nStart with this:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_change_password);\r\n        final EditText password = (EditText) findViewById(R.id.newPassword);\r\n        Button submit = (Button) findViewById(R.id.submit);\r\n        submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String pass = password.getText().toString();\r\n            }\r\n        });\r\n    }\r\n\r\nOnce you have the button click action setup, create a class instance that overrides the authenticationChallenge method. Pass that class to the appropriate AWS class for authentication.  Something like this:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_change_password);\r\n        final EditText password = (EditText) findViewById(R.id.newPassword);\r\n        Button submit = (Button) findViewById(R.id.submit);\r\n        submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String pass = password.getText().toString();\r\n                AuthenticationHandler h = new AuthenticationHandler() {\r\n                    @Override\r\n                    public void onSuccess(CognitoUserSession cognitoUserSession, CognitoDevice cognitoDevice) { }\r\n                    @Override\r\n                    public void getAuthenticationDetails(AuthenticationContinuation authenticationContinuation, String s) { }\r\n                    @Override\r\n                    public void getMFACode(MultiFactorAuthenticationContinuation multiFactorAuthenticationContinuation) { }\r\n                    @Override\r\n                    public void authenticationChallenge(ChallengeContinuation continuation) {\r\n                        if (&quot;NEW_PASSWORD_REQUIRED&quot;.equals(continuation.getChallengeName())) {\r\n                            NewPasswordContinuation newPasswordContinuation = (NewPasswordContinuation) continuation;\r\n                            newPasswordContinuation.setPassword(pass);\r\n                            continuation.continueTask();\r\n                        }\r\n                    }\r\n                    @Override\r\n                    public void onFailure(Exception e) { }\r\n                };\r\n                CognitoUserPool pool = new CognitoUserPool(getApplicationContext(), &quot;poolId&quot;, &quot;clientId&quot;, &quot;clientSecret&quot;, Regions.US_WEST_2);\r\n                pool.getUser(&quot;userId&quot;).getSession(h);\r\n            }\r\n        });\r\n    }","title":"AWS cognito new password continuation - Android","body":"<p>You need to use the button click callback to pull in the user password.  As your code is written now, the password will be set to an empty string (or whatever is in the EditText field at the time of creation).</p>\n\n<p>Start with this:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_change_password);\n    final EditText password = (EditText) findViewById(R.id.newPassword);\n    Button submit = (Button) findViewById(R.id.submit);\n    submit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String pass = password.getText().toString();\n        }\n    });\n}\n</code></pre>\n\n<p>Once you have the button click action setup, create a class instance that overrides the authenticationChallenge method. Pass that class to the appropriate AWS class for authentication.  Something like this:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_change_password);\n    final EditText password = (EditText) findViewById(R.id.newPassword);\n    Button submit = (Button) findViewById(R.id.submit);\n    submit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String pass = password.getText().toString();\n            AuthenticationHandler h = new AuthenticationHandler() {\n                @Override\n                public void onSuccess(CognitoUserSession cognitoUserSession, CognitoDevice cognitoDevice) { }\n                @Override\n                public void getAuthenticationDetails(AuthenticationContinuation authenticationContinuation, String s) { }\n                @Override\n                public void getMFACode(MultiFactorAuthenticationContinuation multiFactorAuthenticationContinuation) { }\n                @Override\n                public void authenticationChallenge(ChallengeContinuation continuation) {\n                    if (\"NEW_PASSWORD_REQUIRED\".equals(continuation.getChallengeName())) {\n                        NewPasswordContinuation newPasswordContinuation = (NewPasswordContinuation) continuation;\n                        newPasswordContinuation.setPassword(pass);\n                        continuation.continueTask();\n                    }\n                }\n                @Override\n                public void onFailure(Exception e) { }\n            };\n            CognitoUserPool pool = new CognitoUserPool(getApplicationContext(), \"poolId\", \"clientId\", \"clientSecret\", Regions.US_WEST_2);\n            pool.getUser(\"userId\").getSession(h);\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":9712708,"reputation":31,"user_id":7204023,"display_name":"Android-er"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1225,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677192513,"creation_date":1479975925,"question_id":40781235,"body_markdown":"Hoping someone can help me on this, i&#39;ve been trying at it for days.I&#39;m building an Android app and integrating Amazon Cognito login. \r\nI am wanting to create users as admin only in Amazon Cognito using the admin panel. When doing so, one requirement is that users change their password. Within the CognitoUserPoolSignInProvider which is an anonymous class, in order to authenticate users with new passwords i have the following code in the anonymous class:\r\n\r\n\t@Override\r\n\t    public void authenticationChallenge(final ChallengeContinuation continuation) {\r\n\r\n\t        if (&quot;NEW_PASSWORD_REQUIRED&quot;.equals(continuation.getChallengeName())) {\r\n\t        \tNewPasswordContinuation newPasswordContinuation = (NewPasswordContinuation) continuation;\r\n\t            newPasswordContinuation.setPassword(&quot;users new password goes here&quot;);\r\n\t            continuation.continueTask();\r\n\t        }\r\n\r\n\t    }\r\n\r\nI have a separate Activity class called `ChangePassword`. This links to a User Interface and gets the input in an edit text box from the user.\r\n\r\n \t@Override\r\n\t    protected void onCreate(Bundle savedInstanceState) {\r\n\t        super.onCreate(savedInstanceState);\r\n\t        setContentView(R.layout.activity_change_password);\r\n\r\n\r\n\t        password = (EditText) findViewById(R.id.newPassword);\r\n\t        submit = (Button) findViewById(R.id.submit);\r\n\r\n\t        String pass = password.getText().toString();\r\n\r\nHow do i get the users input into the anonymous class to set the new password?\r\nAny help is much appreciated","title":"AWS cognito new password continuation - Android","body":"<p>Hoping someone can help me on this, i've been trying at it for days.I'm building an Android app and integrating Amazon Cognito login. \nI am wanting to create users as admin only in Amazon Cognito using the admin panel. When doing so, one requirement is that users change their password. Within the CognitoUserPoolSignInProvider which is an anonymous class, in order to authenticate users with new passwords i have the following code in the anonymous class:</p>\n\n<pre><code>@Override\n    public void authenticationChallenge(final ChallengeContinuation continuation) {\n\n        if (\"NEW_PASSWORD_REQUIRED\".equals(continuation.getChallengeName())) {\n            NewPasswordContinuation newPasswordContinuation = (NewPasswordContinuation) continuation;\n            newPasswordContinuation.setPassword(\"users new password goes here\");\n            continuation.continueTask();\n        }\n\n    }\n</code></pre>\n\n<p>I have a separate Activity class called <code>ChangePassword</code>. This links to a User Interface and gets the input in an edit text box from the user.</p>\n\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_change_password);\n\n\n        password = (EditText) findViewById(R.id.newPassword);\n        submit = (Button) findViewById(R.id.submit);\n\n        String pass = password.getText().toString();\n</code></pre>\n\n<p>How do i get the users input into the anonymous class to set the new password?\nAny help is much appreciated</p>\n"},{"tags":["java","json","amazon-web-services"],"comments":[{"owner":{"account_id":333224,"reputation":3616,"user_id":658976,"accept_rate":59,"display_name":"Jisson"},"score":0,"creation_date":1342618958,"post_id":11542665,"comment_id":15262306,"body_markdown":"I want to include html tags in json, But at the closing tags I got an escape slash may be added by the json library.","body":"I want to include html tags in json, But at the closing tags I got an escape slash may be added by the json library."},{"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"score":0,"creation_date":1342619002,"post_id":11542665,"comment_id":15262329,"body_markdown":"I&#39;m asking about the code you posted on the question, because it isn&#39;t java right?","body":"I&#39;m asking about the code you posted on the question, because it isn&#39;t java right?"},{"owner":{"account_id":333224,"reputation":3616,"user_id":658976,"accept_rate":59,"display_name":"Jisson"},"score":0,"creation_date":1342619118,"post_id":11542665,"comment_id":15262390,"body_markdown":"@Francisco Spaeth I use java code and amazonaws eclipse toolkit","body":"@Francisco Spaeth I use java code and amazonaws eclipse toolkit"},{"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"score":0,"creation_date":1342619414,"post_id":11542665,"comment_id":15262559,"body_markdown":"I asked because it isn&#39;t a valid Java code, `string` isn&#39;t a known type, and if you don&#39;t add the `;` at the end of the line you will not finish the sentence.","body":"I asked because it isn&#39;t a valid Java code, <code>string</code> isn&#39;t a known type, and if you don&#39;t add the <code>;</code> at the end of the line you will not finish the sentence."},{"owner":{"account_id":333224,"reputation":3616,"user_id":658976,"accept_rate":59,"display_name":"Jisson"},"score":0,"creation_date":1342619507,"post_id":11542665,"comment_id":15262626,"body_markdown":"@Francisco Spaeth its only sample","body":"@Francisco Spaeth its only sample"},{"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"score":0,"creation_date":1342619606,"post_id":11542665,"comment_id":15262685,"body_markdown":"I see, maybe the answer I gave could help you then.","body":"I see, maybe the answer I gave could help you then."}],"answers":[{"tags":[],"owner":{"account_id":173867,"reputation":716,"user_id":402845,"display_name":"xori"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344520670,"creation_date":1342618635,"answer_id":11542723,"question_id":11542665,"body_markdown":"If I&#39;m understanding you correctly, why not just do \r\n\r\n    result = result.replace(&quot;\\\\&quot;,&quot;&quot;);\r\n\r\n**EDIT:**\r\nOkay, then why not do this:\r\n\r\n    boldHtmlCloseTag = &quot;&lt;&amp;frasl;b&gt;&quot;;\r\nThat should still be legal JSON.","title":"remove unwanted &#39; \\&#39; from json values with html tags , generated using amazonaws json toolkit","body":"<p>If I'm understanding you correctly, why not just do </p>\n\n<pre><code>result = result.replace(\"\\\\\",\"\");\n</code></pre>\n\n<p><strong>EDIT:</strong>\nOkay, then why not do this:</p>\n\n<pre><code>boldHtmlCloseTag = \"&lt;&amp;frasl;b&gt;\";\n</code></pre>\n\n<p>That should still be legal JSON.</p>\n"},{"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342619318,"creation_date":1342619318,"answer_id":11542931,"question_id":11542665,"body_markdown":"The problem doesn&#39;t seems there. I suppose the value containing the tags you load from somewhere else, and there the value is stored with this escape char.\r\n\r\nI conclude this because:\r\n\r\n 1. the sample given is not java, what makes me feel that you just wrote a pseudo sample for this issue;\r\n 2. the amazon json API doesn&#39;t comment anything about escape chars, and implementation is according API (I checked it).\r\n\r\nSo, please check from where you get the information and if there isn&#39;t stored with the wrong value.","title":"remove unwanted &#39; \\&#39; from json values with html tags , generated using amazonaws json toolkit","body":"<p>The problem doesn't seems there. I suppose the value containing the tags you load from somewhere else, and there the value is stored with this escape char.</p>\n\n<p>I conclude this because:</p>\n\n<ol>\n<li>the sample given is not java, what makes me feel that you just wrote a pseudo sample for this issue;</li>\n<li>the amazon json API doesn't comment anything about escape chars, and implementation is according API (I checked it).</li>\n</ol>\n\n<p>So, please check from where you get the information and if there isn't stored with the wrong value.</p>\n"},{"tags":[],"owner":{"account_id":1769061,"reputation":534,"user_id":1614270,"accept_rate":57,"display_name":"Gowtham Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387276759,"creation_date":1387276759,"answer_id":20631916,"question_id":11542665,"body_markdown":"  \r\nTry this one !\r\n\r\n\r\n    result = result.replace(&quot;\\\\\\\\&quot;,&quot;&quot;);","title":"remove unwanted &#39; \\&#39; from json values with html tags , generated using amazonaws json toolkit","body":"<p>Try this one !</p>\n\n<pre><code>result = result.replace(\"\\\\\\\\\",\"\");\n</code></pre>\n"}],"owner":{"account_id":333224,"reputation":3616,"user_id":658976,"accept_rate":59,"display_name":"Jisson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677192502,"creation_date":1342618459,"question_id":11542665,"body_markdown":"I use amazonaws library[com.amazonaws.util.json] (java)  for generate json .\r\n  I use something as follows\r\n\r\n        private static final String boldHtmlOpenTag = &quot;&lt;b&gt;&quot;;\r\n\tprivate static final String boldHtmlCloseTag = &quot;&lt;/b&gt;&quot;;\r\n\tprivate static final String italicsHtmlOpenTag = &quot;&lt;i&gt;&quot;;\r\n\tprivate static final String italicsHtmlCloseTag = &quot;&lt;/i&gt;&quot;;\r\n        String result = boldHtmlOpenTag + &quot;hello&quot; + boldHtmlCloseTag;\r\n        jsonobj.put(&quot;test&quot;,result);\r\n\r\n I get the response as `{&quot;test&quot; : &lt;b&gt; hello&lt;\\/b&gt;}`.\r\n I need output as without the `\\`.\r\nThanks in advance.","title":"remove unwanted &#39; \\&#39; from json values with html tags , generated using amazonaws json toolkit","body":"<p>I use amazonaws library[com.amazonaws.util.json] (java)  for generate json .\n  I use something as follows</p>\n\n<pre><code>    private static final String boldHtmlOpenTag = \"&lt;b&gt;\";\nprivate static final String boldHtmlCloseTag = \"&lt;/b&gt;\";\nprivate static final String italicsHtmlOpenTag = \"&lt;i&gt;\";\nprivate static final String italicsHtmlCloseTag = \"&lt;/i&gt;\";\n    String result = boldHtmlOpenTag + \"hello\" + boldHtmlCloseTag;\n    jsonobj.put(\"test\",result);\n</code></pre>\n\n<p>I get the response as <code>{\"test\" : &lt;b&gt; hello&lt;\\/b&gt;}</code>.\n I need output as without the <code>\\</code>.\nThanks in advance.</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"score":1,"creation_date":1334915888,"post_id":10243935,"comment_id":13165150,"body_markdown":"Looks to me that you are looking like Document Management Sytem. I have used this before.. which has inbuilt api&#39;s to fetch the data and search on documents and open source as well.\nhttp://www.alfresco.com/","body":"Looks to me that you are looking like Document Management Sytem. I have used this before.. which has inbuilt api&#39;s to fetch the data and search on documents and open source as well. <a href=\"http://www.alfresco.com/\" rel=\"nofollow noreferrer\">alfresco.com</a>"},{"owner":{"account_id":1421652,"reputation":571,"user_id":1346212,"display_name":"kodlan"},"score":0,"creation_date":1334916295,"post_id":10243935,"comment_id":13165326,"body_markdown":"Yeah, I thought about alfresco, but I guess that would be an overkill for me. Too heavy to just store images with ratings and tags.","body":"Yeah, I thought about alfresco, but I guess that would be an overkill for me. Too heavy to just store images with ratings and tags."},{"owner":{"account_id":1421652,"reputation":571,"user_id":1346212,"display_name":"kodlan"},"score":0,"creation_date":1334916360,"post_id":10243935,"comment_id":13165348,"body_markdown":"Is there any &quot;image-tagging&quot; wrapper for Solr?","body":"Is there any &quot;image-tagging&quot; wrapper for Solr?"},{"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"score":0,"creation_date":1334916673,"post_id":10243935,"comment_id":13165457,"body_markdown":"From Solr 1.4 there is an image-tagging feature, I found some information googling around.","body":"From Solr 1.4 there is an image-tagging feature, I found some information googling around."},{"owner":{"account_id":1421652,"reputation":571,"user_id":1346212,"display_name":"kodlan"},"score":0,"creation_date":1334917781,"post_id":10243935,"comment_id":13165875,"body_markdown":"I&#39;ve googled too, but I still I have no idea how to configure all that.. (","body":"I&#39;ve googled too, but I still I have no idea how to configure all that.. ("}],"answers":[{"tags":[],"owner":{"display_name":"user846969"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1378240214,"creation_date":1378240214,"answer_id":18600943,"question_id":10243935,"body_markdown":"I think S3 and JSON can continue to work well for you without the trouble of going to a full relational database system. \r\n\r\nIf you imagine your solution in relational form, you can translate it into an S3 representation by mapping tables to directories in S3, rows to individual files in S3 and column values within each row as a JSON structure stored in that file. Storing small amounts of data in each &quot;row&quot; = S3 file allows you to update the data easily. As transfers to S3 either succeed or fail entirely, your updates will remain consistent.\r\n\r\nTo discover how many rows you have in a table, you would use the S3 list capability to list files with the common prefix for that table.\r\n\r\nThe S3 console enables you to see and explore your file structures.\r\n\r\nSecurity can be provided by Amazon IAM.\r\n\r\nAutomated backup can be done by using lifecycle rules to copy to Amazon Glacier.\r\n\r\nIf you use this approach you get a lot of relational like capabilities but without the additional expense and complexity of running an EC2 server or of using Amazon RDS.\r\n\r\nFinally, programming all this is simple, as you have the tools in place already from your previous work. I suspect that you will have a package like this to perform all the necessary operations on S3:\r\n\r\n\t\t//---------------------------------------------------------------------     \r\n\t\t// Amazon S3\r\n\t\t//---------------------------------------------------------------------     \r\n\t\t\tclass S3 extends AmazonS3Client\r\n\t\t\t {final String bucket;\r\n\t\t\t  S3(String u, String p, String Bucket)\r\n\t\t\t   {super(new BasicAWSCredentials(u, p));\r\n\t\t\t\tbucket = Bucket;\r\n\t\t\t   }\r\n\t\t\t  boolean put(String k, String v)      \r\n\t\t\t   {try \r\n\t\t\t\t {final ByteArrayInputStream b = new ByteArrayInputStream(v.toString().getBytes());\r\n\t\t\t\t  putObject(bucket, k, b, new ObjectMetadata());\r\n\t\t\t\t  setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be here to allow change to reduced redundancy\r\n\t\t\t\t  changeObjectStorageClass(bucket, k, StorageClass.ReducedRedundancy);\r\n\t\t\t\t  setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be repeated because it is now a new object again\r\n\t\t\t\t  return true; \r\n\t\t\t\t }\r\n\t\t\t\tcatch(Exception e) {log(&quot;Cannot put &quot;+bucket+&quot;/&quot;+k+&quot; to S3 because &quot;+e);}\r\n\t\t\t\treturn false; \r\n\t\t\t   }\r\n\t\t\t  String get(String k) \r\n\t\t\t   {try \r\n\t\t\t\t {final S3Object f = getObject(bucket, k);\r\n\t\t\t\t  final BufferedInputStream i = new BufferedInputStream(f.getObjectContent());  \r\n\t\t\t\t  final StringBuilder s = new StringBuilder(); \r\n\t\t\t\t  final byte[]b = new byte[1024];\r\n\t\t\t\t  for(int n = i.read(b); n != -1; n = i.read(b)) {s.append(new String(b, 0, n));}\r\n\t\t\t\t  return s.toString(); \r\n\t\t\t\t }\r\n\t\t\t\tcatch(Exception e) {log(&quot;Cannot get &quot;+bucket+&quot;/&quot;+k+&quot; from S3 because &quot;+e);}\r\n\t\t\t\treturn null; \r\n\t\t\t   }\r\n\t\t\t  String[]list(String d) \r\n\t\t\t   {try \r\n\t\t\t\t {final ObjectListing l = listObjects(bucket, d);\r\n\t\t\t\t  final List&lt;S3ObjectSummary&gt; L = l.getObjectSummaries(); \r\n\t\t\t\t  final int n = L.size();\r\n\t\t\t\t  final String[]s = new String[n];  \r\n\t\t\t\t  for(int i = 0; i &lt; n; ++i)\r\n\t\t\t\t   {final S3ObjectSummary k = L.get(i);\r\n\t\t\t\t\ts[i] = k.getKey();\r\n\t\t\t\t   } \r\n\t\t\t\t  return s; \r\n\t\t\t\t }\r\n\t\t\t\tcatch(Exception e) {log(&quot;Cannot list &quot;+bucket+&quot;/&quot;+d+&quot; on S3 because &quot;+e);}\r\n\t\t\t\treturn new String[]{}; \r\n\t\t\t   }\r\n\t\t\t }\r\n\t\t   }\r\n\r\n   ","title":"Webservices to image hosting on S3?","body":"<p>I think S3 and JSON can continue to work well for you without the trouble of going to a full relational database system. </p>\n\n<p>If you imagine your solution in relational form, you can translate it into an S3 representation by mapping tables to directories in S3, rows to individual files in S3 and column values within each row as a JSON structure stored in that file. Storing small amounts of data in each \"row\" = S3 file allows you to update the data easily. As transfers to S3 either succeed or fail entirely, your updates will remain consistent.</p>\n\n<p>To discover how many rows you have in a table, you would use the S3 list capability to list files with the common prefix for that table.</p>\n\n<p>The S3 console enables you to see and explore your file structures.</p>\n\n<p>Security can be provided by Amazon IAM.</p>\n\n<p>Automated backup can be done by using lifecycle rules to copy to Amazon Glacier.</p>\n\n<p>If you use this approach you get a lot of relational like capabilities but without the additional expense and complexity of running an EC2 server or of using Amazon RDS.</p>\n\n<p>Finally, programming all this is simple, as you have the tools in place already from your previous work. I suspect that you will have a package like this to perform all the necessary operations on S3:</p>\n\n<pre><code>    //---------------------------------------------------------------------     \n    // Amazon S3\n    //---------------------------------------------------------------------     \n        class S3 extends AmazonS3Client\n         {final String bucket;\n          S3(String u, String p, String Bucket)\n           {super(new BasicAWSCredentials(u, p));\n            bucket = Bucket;\n           }\n          boolean put(String k, String v)      \n           {try \n             {final ByteArrayInputStream b = new ByteArrayInputStream(v.toString().getBytes());\n              putObject(bucket, k, b, new ObjectMetadata());\n              setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be here to allow change to reduced redundancy\n              changeObjectStorageClass(bucket, k, StorageClass.ReducedRedundancy);\n              setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be repeated because it is now a new object again\n              return true; \n             }\n            catch(Exception e) {log(\"Cannot put \"+bucket+\"/\"+k+\" to S3 because \"+e);}\n            return false; \n           }\n          String get(String k) \n           {try \n             {final S3Object f = getObject(bucket, k);\n              final BufferedInputStream i = new BufferedInputStream(f.getObjectContent());  \n              final StringBuilder s = new StringBuilder(); \n              final byte[]b = new byte[1024];\n              for(int n = i.read(b); n != -1; n = i.read(b)) {s.append(new String(b, 0, n));}\n              return s.toString(); \n             }\n            catch(Exception e) {log(\"Cannot get \"+bucket+\"/\"+k+\" from S3 because \"+e);}\n            return null; \n           }\n          String[]list(String d) \n           {try \n             {final ObjectListing l = listObjects(bucket, d);\n              final List&lt;S3ObjectSummary&gt; L = l.getObjectSummaries(); \n              final int n = L.size();\n              final String[]s = new String[n];  \n              for(int i = 0; i &lt; n; ++i)\n               {final S3ObjectSummary k = L.get(i);\n                s[i] = k.getKey();\n               } \n              return s; \n             }\n            catch(Exception e) {log(\"Cannot list \"+bucket+\"/\"+d+\" on S3 because \"+e);}\n            return new String[]{}; \n           }\n         }\n       }\n</code></pre>\n"}],"owner":{"account_id":1421652,"reputation":571,"user_id":1346212,"display_name":"kodlan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18600943,"answer_count":1,"score":0,"last_activity_date":1677192458,"creation_date":1334915596,"question_id":10243935,"body_markdown":"I use Amazon S3 to store images used in my other Java applications. Recently I had to update my apps to introduce functionality like categories, tags and so on. For now this was resolved as JSON configs stored in S3. Those are fetched by other applications and used as some kind of DB replacement :).\r\n\r\nOther improvements like ratings and user feedbacks are still to be done. So moving to DB + backend with some webservices is next logical step. In first place I haven&#39;t used something like EC2 instance because of additional costs and maintenance issues.\r\n\r\nI need some recommendations how to implement this with min time and effort. So basic requirements are: - image are stored on s3 - web service provides methods to fetch category list, list of links to s3 for images in category, methods to update some image ratings, and possibly in future a method to resize image to provided dimentions.\r\n\r\nMy thoughts are: - Use s3 as its already there. - add some Java hosting to run mentioned webservice (I don&#39;t like the idea of using EC2 as requires much more time for configuration that I&#39;m willing to spend, maybe I&#39;m wrong here). - use &quot;plain&quot; javaee or some light frameworks to get most of hardware.\r\n\r\nI also considered using some image hosting service, but I haven&#39;t found something simmilar. Or maybe there is some opensource solutions that can be used for image hosting.\r\n\r\nAny thoughts on this would be highly appreciated, cause this is just driving me nuts when trying to decide how this should be implemented.\r\n\r\nThanks!\r\n","title":"Webservices to image hosting on S3?","body":"<p>I use Amazon S3 to store images used in my other Java applications. Recently I had to update my apps to introduce functionality like categories, tags and so on. For now this was resolved as JSON configs stored in S3. Those are fetched by other applications and used as some kind of DB replacement :).</p>\n\n<p>Other improvements like ratings and user feedbacks are still to be done. So moving to DB + backend with some webservices is next logical step. In first place I haven't used something like EC2 instance because of additional costs and maintenance issues.</p>\n\n<p>I need some recommendations how to implement this with min time and effort. So basic requirements are: - image are stored on s3 - web service provides methods to fetch category list, list of links to s3 for images in category, methods to update some image ratings, and possibly in future a method to resize image to provided dimentions.</p>\n\n<p>My thoughts are: - Use s3 as its already there. - add some Java hosting to run mentioned webservice (I don't like the idea of using EC2 as requires much more time for configuration that I'm willing to spend, maybe I'm wrong here). - use \"plain\" javaee or some light frameworks to get most of hardware.</p>\n\n<p>I also considered using some image hosting service, but I haven't found something simmilar. Or maybe there is some opensource solutions that can be used for image hosting.</p>\n\n<p>Any thoughts on this would be highly appreciated, cause this is just driving me nuts when trying to decide how this should be implemented.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1343011338,"post_id":11605742,"comment_id":15364013,"body_markdown":"Are you trying to *read* multiple lines or *insert* multiple lines? Your title says one thing, your question another.","body":"Are you trying to <i>read</i> multiple lines or <i>insert</i> multiple lines? Your title says one thing, your question another."},{"owner":{"account_id":1673668,"reputation":51,"user_id":1539618,"accept_rate":33,"display_name":"hello"},"score":0,"creation_date":1343011403,"post_id":11605742,"comment_id":15364023,"body_markdown":"i&#39;m trying to insert multiple lines into the file, yeah. sorry!","body":"i&#39;m trying to insert multiple lines into the file, yeah. sorry!"}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343010515,"creation_date":1343010515,"answer_id":11605763,"question_id":11605742,"body_markdown":"you have a do/while loop where you are losing a line each time you loop.  also, the second block is _not_ inside the while, it is after the while loop.  due to your odd formatting, that may not be obvious to you.","title":"how do i read multiple line into text file when i download it?","body":"<p>you have a do/while loop where you are losing a line each time you loop.  also, the second block is <em>not</em> inside the while, it is after the while loop.  due to your odd formatting, that may not be obvious to you.</p>\n"}],"owner":{"account_id":1673668,"reputation":51,"user_id":1539618,"accept_rate":33,"display_name":"hello"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677192420,"creation_date":1343010304,"question_id":11605742,"body_markdown":"I&#39;m having a problem trying to insert multiple lines into a textfile when I download it into my local drive. How can I do that?\r\n\r\n\r\n    public class downloads3 {\r\n    \tprivate static String bucketName = &quot;testfyp&quot;;\r\n    \tprivate static String key        = &quot;pig.txt&quot;;\r\n    \tprivate static String test2;\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException {\r\n            AmazonS3 s3Client = new AmazonS3Client(new PropertiesCredentials(\r\n            \t\tdownloads3.class.getResourceAsStream(\r\n                    \t\t&quot;AwsCredentials.properties&quot;)));\r\n            try {\r\n                System.out.println(&quot;Downloading an object&quot;);\r\n                S3Object s3object = s3Client.getObject(new GetObjectRequest(bucketName, key));\r\n                System.out.println(&quot;Content-Type: &quot;  + \r\n                \t\ts3object.getObjectMetadata().getContentType());\r\n                displayTextInputStream(s3object.getObjectContent());\r\n                \r\n               // Get a range of bytes from an object.\r\n                \r\n                GetObjectRequest rangeObjectRequest = new GetObjectRequest(\r\n                \t\tbucketName, key);\r\n                rangeObjectRequest.setRange(0, 10);\r\n                S3Object objectPortion = s3Client.getObject(rangeObjectRequest);\r\n                \r\n                System.out.println(&quot;Printing bytes retrieved.&quot;);\r\n                displayTextInputStream(objectPortion.getObjectContent());\r\n                \r\n                FileWriter fw = new FileWriter(&quot;C:/Users/L31305/Desktop/&quot; + key + &quot;.txt&quot;);\r\n                // String test =\r\n                // String test3 = s3object.getObjectContent();\r\n                fw.write(test2);\r\n                fw.close();\r\n            } catch (AmazonServiceException ase) {\r\n            \tase.printStackTrace();\r\n                System.out.println(&quot;Caught an AmazonServiceException, which&quot; +\r\n                \t\t&quot; means your request made it &quot; +\r\n                        &quot;to Amazon S3, but was rejected with an error response&quot; +\r\n                        &quot; for some reason.&quot;);\r\n                System.out.println(&quot;Error Message:    &quot; + ase.getMessage());\r\n                System.out.println(&quot;HTTP Status Code: &quot; + ase.getStatusCode());\r\n                System.out.println(&quot;AWS Error Code:   &quot; + ase.getErrorCode());\r\n                System.out.println(&quot;Error Type:       &quot; + ase.getErrorType());\r\n                System.out.println(&quot;Request ID:       &quot; + ase.getRequestId());\r\n            } catch (AmazonClientException ace) {\r\n                System.out.println(&quot;Caught an AmazonClientException, which means&quot;+\r\n                \t\t&quot; the client encountered &quot; +\r\n                        &quot;an internal error while trying to &quot; +\r\n                        &quot;communicate with S3, &quot; +\r\n                        &quot;such as not being able to access the network.&quot;);\r\n                System.out.println(&quot;Error Message: &quot; + ace.getMessage());\r\n            }\r\n        }\r\n    \r\n        private static void displayTextInputStream(InputStream input) throws IOException {\r\n        \t// Read one text line at a time and display.\r\n        \t\r\n            BufferedReader reader = new BufferedReader(new \r\n            \t\tInputStreamReader(input));\r\n    \r\n            Scanner sc = new Scanner(System.in);\r\n            String line;\r\n    \r\n            do{\r\n                line = reader.readLine();\r\n                test2 = line;\r\n       \r\n                System.out.println(&quot;    &quot; + line);\r\n            }\r\n            while (reader.readLine() != null); {\r\n                test2 += line;\r\n    \t        System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"how do i read multiple line into text file when i download it?","body":"<p>I'm having a problem trying to insert multiple lines into a textfile when I download it into my local drive. How can I do that?</p>\n\n<pre><code>public class downloads3 {\n    private static String bucketName = \"testfyp\";\n    private static String key        = \"pig.txt\";\n    private static String test2;\n\n    public static void main(String[] args) throws IOException {\n        AmazonS3 s3Client = new AmazonS3Client(new PropertiesCredentials(\n                downloads3.class.getResourceAsStream(\n                        \"AwsCredentials.properties\")));\n        try {\n            System.out.println(\"Downloading an object\");\n            S3Object s3object = s3Client.getObject(new GetObjectRequest(bucketName, key));\n            System.out.println(\"Content-Type: \"  + \n                    s3object.getObjectMetadata().getContentType());\n            displayTextInputStream(s3object.getObjectContent());\n\n           // Get a range of bytes from an object.\n\n            GetObjectRequest rangeObjectRequest = new GetObjectRequest(\n                    bucketName, key);\n            rangeObjectRequest.setRange(0, 10);\n            S3Object objectPortion = s3Client.getObject(rangeObjectRequest);\n\n            System.out.println(\"Printing bytes retrieved.\");\n            displayTextInputStream(objectPortion.getObjectContent());\n\n            FileWriter fw = new FileWriter(\"C:/Users/L31305/Desktop/\" + key + \".txt\");\n            // String test =\n            // String test3 = s3object.getObjectContent();\n            fw.write(test2);\n            fw.close();\n        } catch (AmazonServiceException ase) {\n            ase.printStackTrace();\n            System.out.println(\"Caught an AmazonServiceException, which\" +\n                    \" means your request made it \" +\n                    \"to Amazon S3, but was rejected with an error response\" +\n                    \" for some reason.\");\n            System.out.println(\"Error Message:    \" + ase.getMessage());\n            System.out.println(\"HTTP Status Code: \" + ase.getStatusCode());\n            System.out.println(\"AWS Error Code:   \" + ase.getErrorCode());\n            System.out.println(\"Error Type:       \" + ase.getErrorType());\n            System.out.println(\"Request ID:       \" + ase.getRequestId());\n        } catch (AmazonClientException ace) {\n            System.out.println(\"Caught an AmazonClientException, which means\"+\n                    \" the client encountered \" +\n                    \"an internal error while trying to \" +\n                    \"communicate with S3, \" +\n                    \"such as not being able to access the network.\");\n            System.out.println(\"Error Message: \" + ace.getMessage());\n        }\n    }\n\n    private static void displayTextInputStream(InputStream input) throws IOException {\n        // Read one text line at a time and display.\n\n        BufferedReader reader = new BufferedReader(new \n                InputStreamReader(input));\n\n        Scanner sc = new Scanner(System.in);\n        String line;\n\n        do{\n            line = reader.readLine();\n            test2 = line;\n\n            System.out.println(\"    \" + line);\n        }\n        while (reader.readLine() != null); {\n            test2 += line;\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","amazon-appstore"],"answers":[{"tags":[],"owner":{"account_id":214939,"reputation":18275,"user_id":469220,"accept_rate":75,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415104822,"creation_date":1415104822,"answer_id":26735388,"question_id":26732847,"body_markdown":"Could you not simply keep the version name in the Amazon format (possibly moving it upwards from what you currently have for Google Play)? As far as I know, Play is pretty lenient with version naming.\r\n\r\nAs for maintaining separate schemes, the [Gradle Plugin for Android](http://tools.android.com/tech-docs/new-build-system/user-guide) supports multiple flavors, where you can customize everything, from version names to actual code, so you could for example avoid showing Play links in the Amazon app and the other way around, as well as potentially using different ad networks etc. I don&#39;t know what a migration path would be for this though. Gradle supports generating Eclipse projects so you might be able to continue using it.","title":"Howto maintain an app for publishing to google and amazon store","body":"<p>Could you not simply keep the version name in the Amazon format (possibly moving it upwards from what you currently have for Google Play)? As far as I know, Play is pretty lenient with version naming.</p>\n\n<p>As for maintaining separate schemes, the <a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide\" rel=\"nofollow\">Gradle Plugin for Android</a> supports multiple flavors, where you can customize everything, from version names to actual code, so you could for example avoid showing Play links in the Amazon app and the other way around, as well as potentially using different ad networks etc. I don't know what a migration path would be for this though. Gradle supports generating Eclipse projects so you might be able to continue using it.</p>\n"}],"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677192407,"creation_date":1415096896,"question_id":26732847,"body_markdown":"I have an app already published to google play store. I like to publish it also to the amazon store. I read about the perrequisite to have a special format (4 numbers with dot) in the versionname.\r\n\r\nHow do I maintain an app (in one eclipse project) to support both stores.\r\nFor example : Do I have to change the Versionname or is there any trick ? What else to do ?","title":"Howto maintain an app for publishing to google and amazon store","body":"<p>I have an app already published to google play store. I like to publish it also to the amazon store. I read about the perrequisite to have a special format (4 numbers with dot) in the versionname.</p>\n\n<p>How do I maintain an app (in one eclipse project) to support both stores.\nFor example : Do I have to change the Versionname or is there any trick ? What else to do ?</p>\n"},{"tags":["java","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":943758,"reputation":5238,"user_id":971423,"accept_rate":44,"display_name":"Welsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1380507213,"creation_date":1380036302,"answer_id":18985728,"question_id":18985518,"body_markdown":"It&#39;s because you are putting the contents of the Zip File into a new File.\r\n\r\nYou could try something like:\r\n\r\n\r\n    public void unzipFile(String zipFile, String outputFolder){\r\n        try {\r\n            byte[] buffer = new byte[1024];\r\n\r\n    \t    File folder = new File(outputFolder);\r\n            if(!folder.exists()){\r\n    \t        folder.mkdir();\r\n               }\r\n\r\n            ZipInputStream zis = new ZipInputStream(new FileInputStream(zipFile));\r\n            ZipEntry ze = zis.getNextEntry();\r\n\r\n       \t    while(ze!=null){\r\n                String fileName = ze.getName();\r\n                File newFile = new File(outputFolder + File.separator + fileName);\r\n \r\n                //create all non exists folders\r\n                //else you will hit FileNotFoundException for compressed folder\r\n                new File(newFile.getParent()).mkdirs();\r\n                FileOutputStream fos = new FileOutputStream(newFile);             \r\n \r\n                int len;\r\n                while ((len = zis.read(buffer)) &gt; 0) {\r\n      \t            fos.write(buffer, 0, len);\r\n                }\r\n\r\n                fos.close();\r\n                newFile.setLastModified(ze.getTime());\r\n                ze = zis.getNextEntry();\r\n            }\r\n \r\n            zis.closeEntry();\r\n            zis.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nPulled from: http://www.mkyong.com/java/how-to-decompress-files-from-a-zip-file/ With Modifications to add Modified Time.","title":"Download ZIP from Amazon S3 does not preserve timestamp when extracting in Java","body":"<p>It's because you are putting the contents of the Zip File into a new File.</p>\n\n<p>You could try something like:</p>\n\n<pre><code>public void unzipFile(String zipFile, String outputFolder){\n    try {\n        byte[] buffer = new byte[1024];\n\n        File folder = new File(outputFolder);\n        if(!folder.exists()){\n            folder.mkdir();\n           }\n\n        ZipInputStream zis = new ZipInputStream(new FileInputStream(zipFile));\n        ZipEntry ze = zis.getNextEntry();\n\n        while(ze!=null){\n            String fileName = ze.getName();\n            File newFile = new File(outputFolder + File.separator + fileName);\n\n            //create all non exists folders\n            //else you will hit FileNotFoundException for compressed folder\n            new File(newFile.getParent()).mkdirs();\n            FileOutputStream fos = new FileOutputStream(newFile);             \n\n            int len;\n            while ((len = zis.read(buffer)) &gt; 0) {\n                fos.write(buffer, 0, len);\n            }\n\n            fos.close();\n            newFile.setLastModified(ze.getTime());\n            ze = zis.getNextEntry();\n        }\n\n        zis.closeEntry();\n        zis.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Pulled from: <a href=\"http://www.mkyong.com/java/how-to-decompress-files-from-a-zip-file/\" rel=\"nofollow\">http://www.mkyong.com/java/how-to-decompress-files-from-a-zip-file/</a> With Modifications to add Modified Time.</p>\n"}],"owner":{"account_id":973775,"reputation":331,"user_id":995702,"accept_rate":75,"display_name":"Marvado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18985728,"answer_count":1,"score":1,"last_activity_date":1677192382,"creation_date":1380035784,"question_id":18985518,"body_markdown":"When I download a ZIP file from Amazon S3 and extract it using Java, it does not preserve the original timestamp of the file inside the ZIP.\r\nWhy? Here&#39;s the uncompress Java code:\r\n\r\n    public void unzipFile(String zipFile, String newFile) {\r\n        try {\r\n            FileInputStream fis = new FileInputStream(zipFile);\r\n            BufferedInputStream bis = new BufferedInputStream(fis);\r\n            ZipInputStream zis = new ZipInputStream(bis);\r\n            FileOutputStream fos = new FileOutputStream(newFile);\r\n            final byte[] buffer = new byte[1024];\r\n            int len = 0;\r\n            while ((len = zis.read(buffer)) != -1) {\r\n                fos.write(buffer, 0, len);\r\n            }\r\n            //close resources\r\n            fos.close();\r\n            zis.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nBasically, I want the timestamp of the file inside of the zip file, say file X has JAN-01-2010 to be preserved. But file X&#39;s is overwridden with the timestamp of the ZIP file, which has SEP-20-2013.\r\n\r\n","title":"Download ZIP from Amazon S3 does not preserve timestamp when extracting in Java","body":"<p>When I download a ZIP file from Amazon S3 and extract it using Java, it does not preserve the original timestamp of the file inside the ZIP.\nWhy? Here's the uncompress Java code:</p>\n\n<pre><code>public void unzipFile(String zipFile, String newFile) {\n    try {\n        FileInputStream fis = new FileInputStream(zipFile);\n        BufferedInputStream bis = new BufferedInputStream(fis);\n        ZipInputStream zis = new ZipInputStream(bis);\n        FileOutputStream fos = new FileOutputStream(newFile);\n        final byte[] buffer = new byte[1024];\n        int len = 0;\n        while ((len = zis.read(buffer)) != -1) {\n            fos.write(buffer, 0, len);\n        }\n        //close resources\n        fos.close();\n        zis.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Basically, I want the timestamp of the file inside of the zip file, say file X has JAN-01-2010 to be preserved. But file X's is overwridden with the timestamp of the ZIP file, which has SEP-20-2013.</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1474400948,"post_id":11572451,"comment_id":66513708,"body_markdown":"how to get file in a folder `S3Object s3object = sClient.getObject(new GetObjectRequest(&quot;/&quot;+bucketName, &quot;/images/&quot; + fileName));` i tried alot","body":"how to get file in a folder <code>S3Object s3object = sClient.getObject(new GetObjectRequest(&quot;&#47;&quot;+bucketName, &quot;&#47;images&#47;&quot; + fileName));</code> i tried alot"}],"answers":[{"tags":[],"owner":{"account_id":880433,"reputation":2228,"user_id":1151902,"accept_rate":30,"display_name":"Tej Kiran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342764658,"creation_date":1342764658,"answer_id":11573766,"question_id":11572451,"body_markdown":"Make sure the your key which you are using in the code has as it is in the bucket. Remember Amazon S3 keys are case insensitive, means it might be that your key name has some different cases like upper or lower.\r\n\r\nCheck and try again.\r\n\r\n\r\n ","title":"Key for download bucket in Amazon S3 using Java","body":"<p>Make sure the your key which you are using in the code has as it is in the bucket. Remember Amazon S3 keys are case insensitive, means it might be that your key name has some different cases like upper or lower.</p>\n\n<p>Check and try again.</p>\n"},{"tags":[],"owner":{"account_id":2094980,"reputation":359,"user_id":1863973,"display_name":"Literally Illiterate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381997297,"creation_date":1381996522,"answer_id":19421121,"question_id":11572451,"body_markdown":"&quot;Key&quot; in Amazon S3 bucket is the file name you want to download.\r\n\r\nIn you case:\r\n\r\n    private static String key        = &quot;__________________________________&quot;; //will be file name/ file path to that file in Amazon Bucket.","title":"Key for download bucket in Amazon S3 using Java","body":"<p>\"Key\" in Amazon S3 bucket is the file name you want to download.</p>\n\n<p>In you case:</p>\n\n<pre><code>private static String key        = \"__________________________________\"; //will be file name/ file path to that file in Amazon Bucket.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":337459,"reputation":917,"user_id":665744,"accept_rate":100,"display_name":"8bitme"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391421010,"creation_date":1391421010,"answer_id":21524059,"question_id":11572451,"body_markdown":"I had a similar issue to this. My access key, secret, bucket, endpoint and path were correct. \r\n\r\nIt turns out that the issue for me was that the file I was pointing to in S3 did not exist hence the 404 error.","title":"Key for download bucket in Amazon S3 using Java","body":"<p>I had a similar issue to this. My access key, secret, bucket, endpoint and path were correct. </p>\n\n<p>It turns out that the issue for me was that the file I was pointing to in S3 did not exist hence the 404 error.</p>\n"},{"tags":[],"owner":{"account_id":1307258,"reputation":431,"user_id":1255983,"display_name":"Boboman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400537936,"creation_date":1400537936,"answer_id":23748111,"question_id":11572451,"body_markdown":"As other people pointed out a **key** is a **unique identifier** for an object (file/folder etc) stored on S3.\r\n\r\nSee http://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html#CoreConcepts for more information on nomenclature and conceptual designs.\r\n\r\n**Note:** If you are trying to upload a file and then immediately do a getObjectRequest, sometimes (most times) there is a delay and would cause a 404 NoSuchKey, so you need to account for that scenario in your design.\r\n\r\nA &#39;key&#39; is **NOT** the credentials used for the request.  You would get a ***401 Unauthorized*** if this was the case.  A 404 is indicative of having proper authentication credentials set up.\r\n\r\nA key can be considered as a filename (or foldername for that matter).  This can be any arbitrary value but most people prefer to mock a file-system structure by using forward slashes (even the Amazon S3 console does this, and has create folder buttons etc.)\r\n\r\nIf you have access to the console, dig through your buckets and make sure all the key prefixes or &#39;parent directories&#39; exist, including the bucket or &#39;root folder&#39;.","title":"Key for download bucket in Amazon S3 using Java","body":"<p>As other people pointed out a <strong>key</strong> is a <strong>unique identifier</strong> for an object (file/folder etc) stored on S3.</p>\n\n<p>See <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html#CoreConcepts\" rel=\"nofollow\">http://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html#CoreConcepts</a> for more information on nomenclature and conceptual designs.</p>\n\n<p><strong>Note:</strong> If you are trying to upload a file and then immediately do a getObjectRequest, sometimes (most times) there is a delay and would cause a 404 NoSuchKey, so you need to account for that scenario in your design.</p>\n\n<p>A 'key' is <strong>NOT</strong> the credentials used for the request.  You would get a <strong><em>401 Unauthorized</em></strong> if this was the case.  A 404 is indicative of having proper authentication credentials set up.</p>\n\n<p>A key can be considered as a filename (or foldername for that matter).  This can be any arbitrary value but most people prefer to mock a file-system structure by using forward slashes (even the Amazon S3 console does this, and has create folder buttons etc.)</p>\n\n<p>If you have access to the console, dig through your buckets and make sure all the key prefixes or 'parent directories' exist, including the bucket or 'root folder'.</p>\n"}],"owner":{"account_id":1673668,"reputation":51,"user_id":1539618,"accept_rate":33,"display_name":"hello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9738,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1677192358,"creation_date":1342754863,"question_id":11572451,"body_markdown":"    public class downloads3 {\r\n    \tprivate static String bucketName = &quot;s3-upload-sdk-sample-akiaj6ufcgzvw7yukypa&quot;;\r\n    \t**private static String key        = &quot;__________________________________&quot;;**\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException {\r\n            AmazonS3 s3Client = new AmazonS3Client(new PropertiesCredentials(\r\n            \t\tdownloads3.class.getResourceAsStream(\r\n                    \t\t&quot;AwsCredentials.properties&quot;)));\r\n            try {\r\n                System.out.println(&quot;Downloading an object&quot;);\r\n                S3Object s3object = s3Client.getObject(new GetObjectRequest(\r\n                \t\tbucketName, key));\r\n                System.out.println(&quot;Content-Type: &quot;  + \r\n                \t\ts3object.getObjectMetadata().getContentType());\r\n                displayTextInputStream(s3object.getObjectContent());\r\n                \r\n               // Get a range of bytes from an object.\r\n                \r\n                GetObjectRequest rangeObjectRequest = new GetObjectRequest(\r\n                \t\tbucketName, key);\r\n                rangeObjectRequest.setRange(0, 10);\r\n                S3Object objectPortion = s3Client.getObject(rangeObjectRequest);\r\n                \r\n                System.out.println(&quot;Printing bytes retrieved.&quot;);\r\n                displayTextInputStream(objectPortion.getObjectContent());\r\n                \r\n            } catch (AmazonServiceException ase) {\r\n                System.out.println(&quot;Caught an AmazonServiceException, which&quot; +\r\n                \t\t&quot; means your request made it &quot; +\r\n                        &quot;to Amazon S3, but was rejected with an error response&quot; +\r\n                        &quot; for some reason.&quot;);\r\n                System.out.println(&quot;Error Message:    &quot; + ase.getMessage());\r\n                System.out.println(&quot;HTTP Status Code: &quot; + ase.getStatusCode());\r\n                System.out.println(&quot;AWS Error Code:   &quot; + ase.getErrorCode());\r\n                System.out.println(&quot;Error Type:       &quot; + ase.getErrorType());\r\n                System.out.println(&quot;Request ID:       &quot; + ase.getRequestId());\r\n            } catch (AmazonClientException ace) {\r\n                System.out.println(&quot;Caught an AmazonClientException, which means&quot;+\r\n                \t\t&quot; the client encountered &quot; +\r\n                        &quot;an internal error while trying to &quot; +\r\n                        &quot;communicate with S3, &quot; +\r\n                        &quot;such as not being able to access the network.&quot;);\r\n                System.out.println(&quot;Error Message: &quot; + ace.getMessage());\r\n            }\r\n        }\r\n    \r\n        private static void displayTextInputStream(InputStream input)\r\n        throws IOException {\r\n        \t// Read one text line at a time and display.\r\n            BufferedReader reader = new BufferedReader(new \r\n            \t\tInputStreamReader(input));\r\n            while (true) {\r\n                String line = reader.readLine();\r\n                if (line == null) break;\r\n    \r\n                System.out.println(&quot;    &quot; + line);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n\r\nI&#39;m trying to download objects from an Amazon S3 bucket using Java. But it doesn&#39;t seem to work and keeps giving me the error shown below. What is the correct key to be input? The access key or the secret key?\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Downloading an object\r\n    Caught an AmazonServiceException, which means your request made it to Amazon S3, but was rejected with an error response for some reason.\r\n    Error Message:    The specified key does not exist.\r\n    HTTP Status Code: 404\r\n    AWS Error Code:   NoSuchKey\r\n    Error Type:       Client\r\n    Request ID:       F9548FC068DB1646","title":"Key for download bucket in Amazon S3 using Java","body":"<pre><code>public class downloads3 {\n    private static String bucketName = \"s3-upload-sdk-sample-akiaj6ufcgzvw7yukypa\";\n    **private static String key        = \"__________________________________\";**\n\n    public static void main(String[] args) throws IOException {\n        AmazonS3 s3Client = new AmazonS3Client(new PropertiesCredentials(\n                downloads3.class.getResourceAsStream(\n                        \"AwsCredentials.properties\")));\n        try {\n            System.out.println(\"Downloading an object\");\n            S3Object s3object = s3Client.getObject(new GetObjectRequest(\n                    bucketName, key));\n            System.out.println(\"Content-Type: \"  + \n                    s3object.getObjectMetadata().getContentType());\n            displayTextInputStream(s3object.getObjectContent());\n\n           // Get a range of bytes from an object.\n\n            GetObjectRequest rangeObjectRequest = new GetObjectRequest(\n                    bucketName, key);\n            rangeObjectRequest.setRange(0, 10);\n            S3Object objectPortion = s3Client.getObject(rangeObjectRequest);\n\n            System.out.println(\"Printing bytes retrieved.\");\n            displayTextInputStream(objectPortion.getObjectContent());\n\n        } catch (AmazonServiceException ase) {\n            System.out.println(\"Caught an AmazonServiceException, which\" +\n                    \" means your request made it \" +\n                    \"to Amazon S3, but was rejected with an error response\" +\n                    \" for some reason.\");\n            System.out.println(\"Error Message:    \" + ase.getMessage());\n            System.out.println(\"HTTP Status Code: \" + ase.getStatusCode());\n            System.out.println(\"AWS Error Code:   \" + ase.getErrorCode());\n            System.out.println(\"Error Type:       \" + ase.getErrorType());\n            System.out.println(\"Request ID:       \" + ase.getRequestId());\n        } catch (AmazonClientException ace) {\n            System.out.println(\"Caught an AmazonClientException, which means\"+\n                    \" the client encountered \" +\n                    \"an internal error while trying to \" +\n                    \"communicate with S3, \" +\n                    \"such as not being able to access the network.\");\n            System.out.println(\"Error Message: \" + ace.getMessage());\n        }\n    }\n\n    private static void displayTextInputStream(InputStream input)\n    throws IOException {\n        // Read one text line at a time and display.\n        BufferedReader reader = new BufferedReader(new \n                InputStreamReader(input));\n        while (true) {\n            String line = reader.readLine();\n            if (line == null) break;\n\n            System.out.println(\"    \" + line);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n\n<p>I'm trying to download objects from an Amazon S3 bucket using Java. But it doesn't seem to work and keeps giving me the error shown below. What is the correct key to be input? The access key or the secret key?</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Downloading an object\nCaught an AmazonServiceException, which means your request made it to Amazon S3, but was rejected with an error response for some reason.\nError Message:    The specified key does not exist.\nHTTP Status Code: 404\nAWS Error Code:   NoSuchKey\nError Type:       Client\nRequest ID:       F9548FC068DB1646\n</code></pre>\n"},{"tags":["java","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":286189,"reputation":63,"user_id":585317,"display_name":"AndrasK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1339686344,"creation_date":1339686344,"answer_id":11036012,"question_id":11036010,"body_markdown":"For whatever reason, the main issue is that I had declared s3 as `AmazonS3Client s3`. It should have looked like:\r\n\r\n    AmazonS3 s3 = new AmazonS3Client(propertiesFile);\r\n\r\nJust in case anyone else runs into this problem.","title":"Amazon S3 Java API Only Downloads 50 Objects","body":"<p>For whatever reason, the main issue is that I had declared s3 as <code>AmazonS3Client s3</code>. It should have looked like:</p>\n\n<pre><code>AmazonS3 s3 = new AmazonS3Client(propertiesFile);\n</code></pre>\n\n<p>Just in case anyone else runs into this problem.</p>\n"},{"tags":[],"owner":{"account_id":880433,"reputation":2228,"user_id":1151902,"accept_rate":30,"display_name":"Tej Kiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340171743,"creation_date":1340171743,"answer_id":11113582,"question_id":11036010,"body_markdown":"Hopefully while you may callling getObject to download it, you are not closing the InputStream. which is optioned by calling getObject(); you have to close InputStream after dealing with each object.\r\n\r\n\r\n\r\nmore details read it : http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject(com.amazonaws.services.s3.model.GetObjectRequest)\r\n\r\n\r\nThanks","title":"Amazon S3 Java API Only Downloads 50 Objects","body":"<p>Hopefully while you may callling getObject to download it, you are not closing the InputStream. which is optioned by calling getObject(); you have to close InputStream after dealing with each object.</p>\n\n<p>more details read it : <a href=\"http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject(com.amazonaws.services.s3.model.GetObjectRequest\" rel=\"nofollow\">http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject(com.amazonaws.services.s3.model.GetObjectRequest</a>)</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":1885080,"reputation":981,"user_id":1704462,"display_name":"pangiole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401971630,"creation_date":1401971630,"answer_id":24060362,"question_id":11036010,"body_markdown":"For Scala developers, here it is recursive function to execute a ***full scan and map*** of the contents of an AmazonS3 bucket using the official [AWS SDK for Java][1]\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    import com.amazonaws.services.s3.AmazonS3Client\r\n    import com.amazonaws.services.s3.model.{S3ObjectSummary, ObjectListing, GetObjectRequest}\r\n    import scala.collection.JavaConversions.{collectionAsScalaIterable =&gt; asScala}\r\n    \r\n    def map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T) = {\r\n    \r\n      def scan(acc:List[T], listing:ObjectListing): List[T] = {\r\n        val summaries = asScala[S3ObjectSummary](listing.getObjectSummaries())\r\n        val mapped = (for (summary &lt;- summaries) yield f(summary)).toList\r\n    \r\n        if (!listing.isTruncated) mapped.toList\r\n        else scan(acc ::: mapped, s3.listNextBatchOfObjects(listing))\r\n      }\r\n    \r\n      scan(List(), s3.listObjects(bucket, prefix))\r\n    }\r\n    \r\n\r\n\r\nTo invoke the above curried ``map()`` function, simply pass the already constructed (and properly initialized) AmazonS3Client object (refer to the official [AWS SDK for Java API Reference][2]), the bucket name and the prefix name in the first parameter list. Also pass the function ``f()`` you want to apply to map each object summary in the second parameter list.\r\n\r\nFor example\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    val tuple = map(s3, bucket, prefix)(s =&gt; (s.getKey, s.getOwner, s.getSize))\r\n\r\nwill return the full list of ``(key, owner, size)`` tuples in that bucket/prefix\r\n\r\nor\r\n\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    val totalSize = map(s3, &quot;bucket&quot;, &quot;prefix&quot;)(s =&gt; s.getSize).sum\r\n\r\nwill return the total size of its content (note the additional `sum()` folding function applied at the end of the expression ;-)\r\n\r\nYou can combine ``map()`` with many other functions as you would normally approach by [Monads in Functional Programming][3]\r\n\r\n\r\n  [1]: http://aws.amazon.com/sdkforjava/\r\n  [2]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\r\n  [3]: http://en.wikipedia.org/wiki/Monad_%28functional_programming%29","title":"Amazon S3 Java API Only Downloads 50 Objects","body":"<p>For Scala developers, here it is recursive function to execute a <strong><em>full scan and map</em></strong> of the contents of an AmazonS3 bucket using the official <a href=\"http://aws.amazon.com/sdkforjava/\" rel=\"nofollow\">AWS SDK for Java</a></p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>import com.amazonaws.services.s3.AmazonS3Client\nimport com.amazonaws.services.s3.model.{S3ObjectSummary, ObjectListing, GetObjectRequest}\nimport scala.collection.JavaConversions.{collectionAsScalaIterable =&gt; asScala}\n\ndef map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T) = {\n\n  def scan(acc:List[T], listing:ObjectListing): List[T] = {\n    val summaries = asScala[S3ObjectSummary](listing.getObjectSummaries())\n    val mapped = (for (summary &lt;- summaries) yield f(summary)).toList\n\n    if (!listing.isTruncated) mapped.toList\n    else scan(acc ::: mapped, s3.listNextBatchOfObjects(listing))\n  }\n\n  scan(List(), s3.listObjects(bucket, prefix))\n}\n</code></pre>\n\n<p>To invoke the above curried <code>map()</code> function, simply pass the already constructed (and properly initialized) AmazonS3Client object (refer to the official <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\" rel=\"nofollow\">AWS SDK for Java API Reference</a>), the bucket name and the prefix name in the first parameter list. Also pass the function <code>f()</code> you want to apply to map each object summary in the second parameter list.</p>\n\n<p>For example</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val tuple = map(s3, bucket, prefix)(s =&gt; (s.getKey, s.getOwner, s.getSize))\n</code></pre>\n\n<p>will return the full list of <code>(key, owner, size)</code> tuples in that bucket/prefix</p>\n\n<p>or</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val totalSize = map(s3, \"bucket\", \"prefix\")(s =&gt; s.getSize).sum\n</code></pre>\n\n<p>will return the total size of its content (note the additional <code>sum()</code> folding function applied at the end of the expression ;-)</p>\n\n<p>You can combine <code>map()</code> with many other functions as you would normally approach by <a href=\"http://en.wikipedia.org/wiki/Monad_%28functional_programming%29\" rel=\"nofollow\">Monads in Functional Programming</a></p>\n"}],"owner":{"account_id":286189,"reputation":63,"user_id":585317,"display_name":"AndrasK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1677192346,"creation_date":1339686344,"question_id":11036010,"body_markdown":"This was giving me a major head-ache, so I thought I&#39;d post the easy solution.\r\nMy issue was that when using the Java API for Amazon&#39;s S3, I could only download 50 objects before it would mysteriously time out. The code looked something like this:\r\n\r\n    int counter = 0;\r\n    AmazonS3Client s3 = new AmazonS3Client(propertiesFile);\r\n    while(objectList.isTruncated()){\r\n    for(S3ObjectSummary objectSummary : objectList.getObjectSummaries()){\r\n        System.out.println(++counter);\r\n        S3Object object = s3.getObject(new GetObjectRequest(bucketName, objectSummary.getKey()));\r\n    //do stuff\r\n    }\r\n    }\r\n\r\nIt would run and process everything fine for exactly 50 objects, and then time out.","title":"Amazon S3 Java API Only Downloads 50 Objects","body":"<p>This was giving me a major head-ache, so I thought I'd post the easy solution.\nMy issue was that when using the Java API for Amazon's S3, I could only download 50 objects before it would mysteriously time out. The code looked something like this:</p>\n\n<pre><code>int counter = 0;\nAmazonS3Client s3 = new AmazonS3Client(propertiesFile);\nwhile(objectList.isTruncated()){\nfor(S3ObjectSummary objectSummary : objectList.getObjectSummaries()){\n    System.out.println(++counter);\n    S3Object object = s3.getObject(new GetObjectRequest(bucketName, objectSummary.getKey()));\n//do stuff\n}\n}\n</code></pre>\n\n<p>It would run and process everything fine for exactly 50 objects, and then time out.</p>\n"},{"tags":["java","amazon-mws"],"answers":[{"tags":[],"owner":{"account_id":2399146,"reputation":6802,"user_id":2097290,"display_name":"Hazzit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426849522,"creation_date":1426849522,"answer_id":29165055,"question_id":29137476,"body_markdown":"Did you do number 3 on the [Quick Start][1] list for the Java MWS library? It seems the service endpoint is not configured.\r\n\r\n\r\n  [1]: https://developer.amazonservices.com/doc/products/products/v20111001/java.html","title":"Amazon AWS Java - list orders throws exception","body":"<p>Did you do number 3 on the <a href=\"https://developer.amazonservices.com/doc/products/products/v20111001/java.html\" rel=\"nofollow\">Quick Start</a> list for the Java MWS library? It seems the service endpoint is not configured.</p>\n"},{"tags":[],"owner":{"account_id":6769124,"reputation":278,"user_id":5213039,"display_name":"Dave Patrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586243406,"creation_date":1454359973,"answer_id":35140109,"question_id":29137476,"body_markdown":"I received this exception because my `ServiceURL` wasn&#39;t set right.\r\n\r\nTo fix, I set the `ServiceURL` to https://mws.amazonservices.com","title":"Amazon AWS Java - list orders throws exception","body":"<p>I received this exception because my <code>ServiceURL</code> wasn't set right.</p>\n\n<p>To fix, I set the <code>ServiceURL</code> to <a href=\"https://mws.amazonservices.com\" rel=\"nofollow noreferrer\">https://mws.amazonservices.com</a></p>\n"}],"owner":{"account_id":4362154,"reputation":3923,"user_id":3558874,"accept_rate":61,"display_name":"pez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677192334,"creation_date":1426741097,"question_id":29137476,"body_markdown":"I&#39;m trying to get orders from Amazon MWS, and I&#39;ve started by simply copying `ListOrdersSample.java` in the client library samples. Below is the code, and the `StringIndexOutOfBounds` exception it throws. I&#39;m not sure why this is happening. Amazon&#39;s documentation is very sparse and searching online yields very little results. \r\n\r\nCan anyone help? Thank you in advance!\r\n\r\n    public class GetOrderList \r\n    {\r\n        private static final String mAccessKeyID = &quot;accessKeyID&quot;;\r\n        private static final String mSecretAccessKey = &quot;secretAccessKey&quot;;\r\n        private static final String mMerchantID = &quot;merchantID&quot;;\r\n        private static final String mMarketplaceID = &quot;marketplaceID&quot;;\r\n    \r\n         /**\r\n         * Call the service, log response and exceptions.\r\n         */\r\n        public static ListOrdersResponse invokeListOrders(\r\n                MarketplaceWebServiceOrders client, \r\n                ListOrdersRequest request) \r\n        {\r\n            try \r\n            {\r\n                // Call the service.\r\n                // Line 44\r\n                ListOrdersResponse response = client.listOrders(request);\r\n                ResponseHeaderMetadata rhmd = response.getResponseHeaderMetadata();\r\n            \r\n                // We recommend logging every the request id and timestamp of every call.\r\n                System.out.println(&quot;Response:&quot;);\r\n                System.out.println(&quot;RequestId: &quot;+rhmd.getRequestId());\r\n                System.out.println(&quot;Timestamp: &quot;+rhmd.getTimestamp());\r\n                String responseXml = response.toXML();\r\n                System.out.println(responseXml);\r\n                return response;\r\n            } \r\n            catch (MarketplaceWebServiceOrdersException ex) \r\n            {\r\n                // Exception properties are important for diagnostics.\r\n                System.out.println(&quot;Service Exception:&quot;);\r\n                ResponseHeaderMetadata rhmd = ex.getResponseHeaderMetadata();\r\n            \r\n                if(rhmd != null) \r\n                {\r\n                    System.out.println(&quot;RequestId: &quot;+rhmd.getRequestId());\r\n                    System.out.println(&quot;Timestamp: &quot;+rhmd.getTimestamp());\r\n                }\r\n            \r\n                System.out.println(&quot;Message: &quot;+ex.getMessage());\r\n                System.out.println(&quot;StatusCode: &quot;+ex.getStatusCode());\r\n                System.out.println(&quot;ErrorCode: &quot;+ex.getErrorCode());\r\n                System.out.println(&quot;ErrorType: &quot;+ex.getErrorType());\r\n                throw ex;\r\n            }\r\n        }\r\n\r\n        /**\r\n         *  Command line entry point.\r\n         */\r\n        public static void main(String[] args) \r\n        {\r\n            // Get a client connection.\r\n            // Make sure you&#39;ve set the variables in MarketplaceWebServiceOrdersSampleConfig.\r\n            MarketplaceWebServiceOrdersClient client = MarketplaceWebServiceOrdersSampleConfig.getClient();\r\n\r\n            // Create a request.\r\n            ListOrdersRequest request = new ListOrdersRequest();\r\n\r\n            request.setSellerId(mMerchantID);\r\n        \r\n            // Not sure if this is correct\r\n            request.setMWSAuthToken(mAccessKeyID);\r\n        \r\n            XMLGregorianCalendar createdAfter = MwsUtl.getDTF().newXMLGregorianCalendar();\r\n            request.setCreatedAfter(createdAfter);\r\n        \r\n            XMLGregorianCalendar createdBefore = MwsUtl.getDTF().newXMLGregorianCalendar();\r\n            request.setCreatedBefore(createdBefore);\r\n        \r\n            XMLGregorianCalendar lastUpdatedAfter = MwsUtl.getDTF().newXMLGregorianCalendar();\r\n            request.setLastUpdatedAfter(lastUpdatedAfter);\r\n        \r\n            XMLGregorianCalendar lastUpdatedBefore = MwsUtl.getDTF().newXMLGregorianCalendar();\r\n            request.setLastUpdatedBefore(lastUpdatedBefore);\r\n        \r\n            List&lt;String&gt; orderStatus = new ArrayList&lt;String&gt;();\r\n            request.setOrderStatus(orderStatus);\r\n        \r\n            List&lt;String&gt; marketplaceId = new ArrayList&lt;String&gt;();\r\n            request.setMarketplaceId(marketplaceId);\r\n        \r\n            List&lt;String&gt; fulfillmentChannel = new ArrayList&lt;String&gt;();\r\n            request.setFulfillmentChannel(fulfillmentChannel);\r\n        \r\n            List&lt;String&gt; paymentMethod = new ArrayList&lt;String&gt;();\r\n            request.setPaymentMethod(paymentMethod);\r\n        \r\n            String buyerEmail = &quot;example&quot;;\r\n            request.setBuyerEmail(buyerEmail);\r\n        \r\n            String sellerOrderId = &quot;example&quot;;\r\n            request.setSellerOrderId(sellerOrderId);\r\n        \r\n            Integer maxResultsPerPage = 100;\r\n            request.setMaxResultsPerPage(maxResultsPerPage);\r\n        \r\n            List&lt;String&gt; tfmShipmentStatus = new ArrayList&lt;String&gt;();\r\n            request.setTFMShipmentStatus(tfmShipmentStatus);\r\n\r\n            // Make the call.\r\n            // Line 129\r\n            invokeListOrders(client, request);\r\n        }\r\n    }\r\n\r\n\r\n    Service Exception:\r\n    Message: null\r\n    StatusCode: 0\r\n    ErrorCode: null\r\n    Exception in thread &quot;main&quot; com.amazonservices.mws.orders._2013_09_01.MarketplaceWebServiceOrdersException\r\n    ErrorType: null\r\n\tat com.amazonservices.mws.orders._2013_09_01.MarketplaceWebServiceOrdersClient$RequestType.wrapException(MarketplaceWebServiceOrdersClient.java:143)\r\n\tat com.amazonservices.mws.client.MwsConnection.call(MwsConnection.java:429)\r\n\tat com.amazonservices.mws.orders._2013_09_01.MarketplaceWebServiceOrdersClient.listOrders(MarketplaceWebServiceOrdersClient.java:87)\r\n\tat test.GetOrderList.invokeListOrders(GetOrderList.java:44)\r\n\tat test.GetOrderList.main(GetOrderList.java:129)\r\n    Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\r\n\tat java.lang.String.substring(String.java:1955)\r\n\tat com.amazonservices.mws.client.MwsConnection$ServiceEndpoint.&lt;init&gt;(MwsConnection.java:102)\r\n\tat com.amazonservices.mws.client.MwsConnection.getServiceEndpoint(MwsConnection.java:398)\r\n\tat com.amazonservices.mws.client.MwsConnection.newCall(MwsConnection.java:687)\r\n\tat com.amazonservices.mws.client.MwsConnection.call(MwsConnection.java:420)\r\n\t... 3 more","title":"Amazon AWS Java - list orders throws exception","body":"<p>I'm trying to get orders from Amazon MWS, and I've started by simply copying <code>ListOrdersSample.java</code> in the client library samples. Below is the code, and the <code>StringIndexOutOfBounds</code> exception it throws. I'm not sure why this is happening. Amazon's documentation is very sparse and searching online yields very little results. </p>\n\n<p>Can anyone help? Thank you in advance!</p>\n\n<pre><code>public class GetOrderList \n{\n    private static final String mAccessKeyID = \"accessKeyID\";\n    private static final String mSecretAccessKey = \"secretAccessKey\";\n    private static final String mMerchantID = \"merchantID\";\n    private static final String mMarketplaceID = \"marketplaceID\";\n\n     /**\n     * Call the service, log response and exceptions.\n     */\n    public static ListOrdersResponse invokeListOrders(\n            MarketplaceWebServiceOrders client, \n            ListOrdersRequest request) \n    {\n        try \n        {\n            // Call the service.\n            // Line 44\n            ListOrdersResponse response = client.listOrders(request);\n            ResponseHeaderMetadata rhmd = response.getResponseHeaderMetadata();\n\n            // We recommend logging every the request id and timestamp of every call.\n            System.out.println(\"Response:\");\n            System.out.println(\"RequestId: \"+rhmd.getRequestId());\n            System.out.println(\"Timestamp: \"+rhmd.getTimestamp());\n            String responseXml = response.toXML();\n            System.out.println(responseXml);\n            return response;\n        } \n        catch (MarketplaceWebServiceOrdersException ex) \n        {\n            // Exception properties are important for diagnostics.\n            System.out.println(\"Service Exception:\");\n            ResponseHeaderMetadata rhmd = ex.getResponseHeaderMetadata();\n\n            if(rhmd != null) \n            {\n                System.out.println(\"RequestId: \"+rhmd.getRequestId());\n                System.out.println(\"Timestamp: \"+rhmd.getTimestamp());\n            }\n\n            System.out.println(\"Message: \"+ex.getMessage());\n            System.out.println(\"StatusCode: \"+ex.getStatusCode());\n            System.out.println(\"ErrorCode: \"+ex.getErrorCode());\n            System.out.println(\"ErrorType: \"+ex.getErrorType());\n            throw ex;\n        }\n    }\n\n    /**\n     *  Command line entry point.\n     */\n    public static void main(String[] args) \n    {\n        // Get a client connection.\n        // Make sure you've set the variables in MarketplaceWebServiceOrdersSampleConfig.\n        MarketplaceWebServiceOrdersClient client = MarketplaceWebServiceOrdersSampleConfig.getClient();\n\n        // Create a request.\n        ListOrdersRequest request = new ListOrdersRequest();\n\n        request.setSellerId(mMerchantID);\n\n        // Not sure if this is correct\n        request.setMWSAuthToken(mAccessKeyID);\n\n        XMLGregorianCalendar createdAfter = MwsUtl.getDTF().newXMLGregorianCalendar();\n        request.setCreatedAfter(createdAfter);\n\n        XMLGregorianCalendar createdBefore = MwsUtl.getDTF().newXMLGregorianCalendar();\n        request.setCreatedBefore(createdBefore);\n\n        XMLGregorianCalendar lastUpdatedAfter = MwsUtl.getDTF().newXMLGregorianCalendar();\n        request.setLastUpdatedAfter(lastUpdatedAfter);\n\n        XMLGregorianCalendar lastUpdatedBefore = MwsUtl.getDTF().newXMLGregorianCalendar();\n        request.setLastUpdatedBefore(lastUpdatedBefore);\n\n        List&lt;String&gt; orderStatus = new ArrayList&lt;String&gt;();\n        request.setOrderStatus(orderStatus);\n\n        List&lt;String&gt; marketplaceId = new ArrayList&lt;String&gt;();\n        request.setMarketplaceId(marketplaceId);\n\n        List&lt;String&gt; fulfillmentChannel = new ArrayList&lt;String&gt;();\n        request.setFulfillmentChannel(fulfillmentChannel);\n\n        List&lt;String&gt; paymentMethod = new ArrayList&lt;String&gt;();\n        request.setPaymentMethod(paymentMethod);\n\n        String buyerEmail = \"example\";\n        request.setBuyerEmail(buyerEmail);\n\n        String sellerOrderId = \"example\";\n        request.setSellerOrderId(sellerOrderId);\n\n        Integer maxResultsPerPage = 100;\n        request.setMaxResultsPerPage(maxResultsPerPage);\n\n        List&lt;String&gt; tfmShipmentStatus = new ArrayList&lt;String&gt;();\n        request.setTFMShipmentStatus(tfmShipmentStatus);\n\n        // Make the call.\n        // Line 129\n        invokeListOrders(client, request);\n    }\n}\n\n\nService Exception:\nMessage: null\nStatusCode: 0\nErrorCode: null\nException in thread \"main\" com.amazonservices.mws.orders._2013_09_01.MarketplaceWebServiceOrdersException\nErrorType: null\nat com.amazonservices.mws.orders._2013_09_01.MarketplaceWebServiceOrdersClient$RequestType.wrapException(MarketplaceWebServiceOrdersClient.java:143)\nat com.amazonservices.mws.client.MwsConnection.call(MwsConnection.java:429)\nat com.amazonservices.mws.orders._2013_09_01.MarketplaceWebServiceOrdersClient.listOrders(MarketplaceWebServiceOrdersClient.java:87)\nat test.GetOrderList.invokeListOrders(GetOrderList.java:44)\nat test.GetOrderList.main(GetOrderList.java:129)\nCaused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\nat java.lang.String.substring(String.java:1955)\nat com.amazonservices.mws.client.MwsConnection$ServiceEndpoint.&lt;init&gt;(MwsConnection.java:102)\nat com.amazonservices.mws.client.MwsConnection.getServiceEndpoint(MwsConnection.java:398)\nat com.amazonservices.mws.client.MwsConnection.newCall(MwsConnection.java:687)\nat com.amazonservices.mws.client.MwsConnection.call(MwsConnection.java:420)\n... 3 more\n</code></pre>\n"},{"tags":["java","amazon-ec2"],"answers":[{"tags":[],"owner":{"account_id":415426,"reputation":19183,"user_id":790224,"display_name":"datasage"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374589490,"creation_date":1374589490,"answer_id":17813008,"question_id":17811992,"body_markdown":"You should be able to get the current instance id by sending a request to: `http://169.254.169.254/latest/meta-data/instance-id`. This only works within ec2. With this you can access quite a bit of information about the instance. However, tags do not appear to be included.\r\n\r\nYou should be able to take the instance id along with the correct authentication to get the instance tags. If you are going to run this on an instance, you may want to provide an IAM user with limited access instead of a user which has access to everything in case the instance is compromised.","title":"In java, how can I get an Amazon EC2 Instance to see its own tags?","body":"<p>You should be able to get the current instance id by sending a request to: <code>http://169.254.169.254/latest/meta-data/instance-id</code>. This only works within ec2. With this you can access quite a bit of information about the instance. However, tags do not appear to be included.</p>\n\n<p>You should be able to take the instance id along with the correct authentication to get the instance tags. If you are going to run this on an instance, you may want to provide an IAM user with limited access instead of a user which has access to everything in case the instance is compromised.</p>\n"},{"tags":[],"owner":{"account_id":1321719,"reputation":6696,"user_id":1267409,"accept_rate":80,"display_name":"jpschroeder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376422158,"creation_date":1376421321,"answer_id":18217301,"question_id":17811992,"body_markdown":"While using user-data may be the simplest solution, the OP was asking specifically about the tagging, and unfortunately amazon hasn&#39;t made this as easy as it could be. However, It can be done. You want to use a combination of 2 amazon services.\r\n\r\n1. First you need to retrieve the Instance ID. This can be achieved by hitting the URL from within your instance:\r\n\r\n    `http://169.254.169.254/latest/meta-data/instance-id`\r\n\r\n2. Once you have the resource ID, you&#39;ll want to use Amazon&#39;s EC2 API to access the tags. Since you said you&#39;re using Java, I would suggest the Using the [AWS SDK amazon makes available][1]. Within this SDK you&#39;ll find a method called `describeTags` ([documentation][2]). You can use a Resource ID as one of the filters to get the specific tags to your instance. Supported filters are\r\n\r\n        tag key\r\n        resource-id\r\n        resource-type\r\n\r\n\r\nI suggest doing this retrieval at boot using something like cloud-init and caching the tags on your server for use later if necessary.\r\n\r\n  [1]: http://aws.amazon.com/sdkforjava/\r\n  [2]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html","title":"In java, how can I get an Amazon EC2 Instance to see its own tags?","body":"<p>While using user-data may be the simplest solution, the OP was asking specifically about the tagging, and unfortunately amazon hasn't made this as easy as it could be. However, It can be done. You want to use a combination of 2 amazon services.</p>\n\n<ol>\n<li><p>First you need to retrieve the Instance ID. This can be achieved by hitting the URL from within your instance:</p>\n\n<p><code>http://169.254.169.254/latest/meta-data/instance-id</code></p></li>\n<li><p>Once you have the resource ID, you'll want to use Amazon's EC2 API to access the tags. Since you said you're using Java, I would suggest the Using the <a href=\"http://aws.amazon.com/sdkforjava/\" rel=\"nofollow\">AWS SDK amazon makes available</a>. Within this SDK you'll find a method called <code>describeTags</code> (<a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\" rel=\"nofollow\">documentation</a>). You can use a Resource ID as one of the filters to get the specific tags to your instance. Supported filters are</p>\n\n<pre><code>tag key\nresource-id\nresource-type\n</code></pre></li>\n</ol>\n\n<p>I suggest doing this retrieval at boot using something like cloud-init and caching the tags on your server for use later if necessary.</p>\n"},{"tags":[],"owner":{"account_id":1598883,"reputation":803,"user_id":1480364,"display_name":"Vlad Sankin"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1499386804,"creation_date":1499386804,"answer_id":44960686,"question_id":17811992,"body_markdown":"This should help you get started...\r\n\r\n    String instanceId = EC2MetadataUtils.getInstanceId();\r\n    AmazonEC2 client = AmazonEC2ClientBuilder.standard()\r\n        .withCredentials(new DefaultAWSCredentialsProviderChain())\r\n        .build();\r\n    DescribeTagsRequest req = new DescribeTagsRequest()\r\n        .withFilters(new Filter(&quot;resource-id&quot;, Collections.singletonList(instanceId)));\r\n    DescribeTagsResult describeTagsResult = client.describeTags(req);\r\n    List&lt;TagDescription&gt; tags = describeTagsResult.getTags()","title":"In java, how can I get an Amazon EC2 Instance to see its own tags?","body":"<p>This should help you get started...</p>\n\n<pre><code>String instanceId = EC2MetadataUtils.getInstanceId();\nAmazonEC2 client = AmazonEC2ClientBuilder.standard()\n    .withCredentials(new DefaultAWSCredentialsProviderChain())\n    .build();\nDescribeTagsRequest req = new DescribeTagsRequest()\n    .withFilters(new Filter(\"resource-id\", Collections.singletonList(instanceId)));\nDescribeTagsResult describeTagsResult = client.describeTags(req);\nList&lt;TagDescription&gt; tags = describeTagsResult.getTags()\n</code></pre>\n"}],"owner":{"account_id":2860205,"reputation":768,"user_id":2455627,"accept_rate":50,"display_name":"Gordon Allocman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3669,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1677192315,"creation_date":1374586994,"question_id":17811992,"body_markdown":"So I have a java program running within an Amazon EC2 instance. Is there a way to programatically get its own tags? I have tried instantiating a new AmazonEC2Client to us the describeTags() function but it only gives me null. Any help would be appreciated thank you.\r\n\r\nEdit: To make things clearer, the instances are going to be unmanned worker machines spun up to solely do some computations","title":"In java, how can I get an Amazon EC2 Instance to see its own tags?","body":"<p>So I have a java program running within an Amazon EC2 instance. Is there a way to programatically get its own tags? I have tried instantiating a new AmazonEC2Client to us the describeTags() function but it only gives me null. Any help would be appreciated thank you.</p>\n\n<p>Edit: To make things clearer, the instances are going to be unmanned worker machines spun up to solely do some computations</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":6125952,"reputation":51,"user_id":4777948,"display_name":"learn java"},"score":0,"creation_date":1434086421,"post_id":30795320,"comment_id":49640612,"body_markdown":"Its not an error, but i guess this is not correct way of authenticating endpoint...","body":"Its not an error, but i guess this is not correct way of authenticating endpoint..."},{"owner":{"account_id":1203524,"reputation":385,"user_id":1173714,"display_name":"Kerim Karaca"},"score":0,"creation_date":1476353976,"post_id":30795320,"comment_id":67313398,"body_markdown":"I&#39;m experiencing a similar issue. I&#39;m setting my local minio S3 endpoint but s3 client still tries to connect some AWS endpoint and fails to connect.","body":"I&#39;m experiencing a similar issue. I&#39;m setting my local minio S3 endpoint but s3 client still tries to connect some AWS endpoint and fails to connect."},{"owner":{"account_id":2605293,"reputation":1052,"user_id":2256566,"display_name":"Dinesh Patil"},"score":0,"creation_date":1510556608,"post_id":30795320,"comment_id":81467998,"body_markdown":"I am able to authenticate the above way. Are you getting any exception or error?","body":"I am able to authenticate the above way. Are you getting any exception or error?"}],"answers":[{"tags":[],"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434086808,"creation_date":1434086808,"answer_id":30795843,"question_id":30795320,"body_markdown":"An endpoint is an Amazon supplied value.\r\n\r\n[http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html][1]\r\n\r\nE.g. **s3.amazonaws.com** for US Standard.  \r\n\r\nOr s3-**&amp;lt;region&amp;gt;**.amazonaws.com, E.g. **s3-eu-west-1.amazonaws.com**\r\n\r\nYou are using an incorrect endpoint.  Plus in most situations you want to set the Amazon Region, not the endpoint specifically.  See [http://docs.aws.amazon.com/AmazonS3/latest/dev/create-bucket-get-location-example.html][2] for an example.\r\n\r\nWith your Account credentials, Region and Bucket name, Amazon S3 API has all it needs to find your files.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html\r\n  [2]: http://docs.aws.amazon.com/AmazonS3/latest/dev/create-bucket-get-location-example.html","title":"How to authenticate amazon s3 endpoint in java","body":"<p>An endpoint is an Amazon supplied value.</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html</a></p>\n\n<p>E.g. <strong>s3.amazonaws.com</strong> for US Standard.  </p>\n\n<p>Or s3-<strong>&lt;region&gt;</strong>.amazonaws.com, E.g. <strong>s3-eu-west-1.amazonaws.com</strong></p>\n\n<p>You are using an incorrect endpoint.  Plus in most situations you want to set the Amazon Region, not the endpoint specifically.  See <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/create-bucket-get-location-example.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AmazonS3/latest/dev/create-bucket-get-location-example.html</a> for an example.</p>\n\n<p>With your Account credentials, Region and Bucket name, Amazon S3 API has all it needs to find your files.</p>\n"}],"owner":{"account_id":6125952,"reputation":51,"user_id":4777948,"display_name":"learn java"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6936,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677192295,"creation_date":1434083350,"question_id":30795320,"body_markdown":"I&#39;ve amazon aws s3 endpoint, access key and secret key, i want to validate my endpoint using these key in java, can someone help how to test my endpoint if you can share some sample code will be very helpful.\r\n\r\nThanks\r\n\r\nI tried the below code but its not authenticating:\r\n\r\n    public class AmazonS3Example\r\n    {\r\n      private static final String SUFFIX = &quot;/&quot;;\r\n      \r\n      public static void main(String[] args)\r\n      {\r\n        AWSCredentials credentials = new BasicAWSCredentials(\r\n                &quot;YourAccessKeyID&quot;,\r\n                &quot;YourSecretAccessKey&quot;);\r\n        AmazonS3 s3client = new AmazonS3Client(credentials);\r\n        s3client.setEndpoint(&quot;http://someendpoing.com&quot;);\r\n      }\r\n    }","title":"How to authenticate amazon s3 endpoint in java","body":"<p>I've amazon aws s3 endpoint, access key and secret key, i want to validate my endpoint using these key in java, can someone help how to test my endpoint if you can share some sample code will be very helpful.</p>\n\n<p>Thanks</p>\n\n<p>I tried the below code but its not authenticating:</p>\n\n<pre><code>public class AmazonS3Example\n{\n  private static final String SUFFIX = \"/\";\n\n  public static void main(String[] args)\n  {\n    AWSCredentials credentials = new BasicAWSCredentials(\n            \"YourAccessKeyID\",\n            \"YourSecretAccessKey\");\n    AmazonS3 s3client = new AmazonS3Client(credentials);\n    s3client.setEndpoint(\"http://someendpoing.com\");\n  }\n}\n</code></pre>\n"},{"tags":["java","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1316031885,"creation_date":1316031885,"answer_id":7422552,"question_id":7422412,"body_markdown":"For the 3rd point:\r\n\r\n- Grab &lt;a href=&quot;http://jets3t.s3.amazonaws.com/downloads.html&quot;&gt;jets3t&lt;/a&gt;\r\n- It&#39;s tutorial is simple. Here&#39;s a snippet I&#39;m using:\r\n\r\n        S3Object fileObject = new S3Object(path);\r\n        fileObject.setDataInputStream(is);\r\n        s3service.putObject(bucketName, fileObject);\r\n\r\nFor the previous two points - [look at this question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2422468/how-to-upload-files-in-jsp-servlet/2424824#2424824","title":"Java image upload stored in Amazon S3","body":"<p>For the 3rd point:</p>\n\n<ul>\n<li>Grab <a href=\"http://jets3t.s3.amazonaws.com/downloads.html\" rel=\"nofollow noreferrer\">jets3t</a></li>\n<li><p>It's tutorial is simple. Here's a snippet I'm using:</p>\n\n<pre><code>S3Object fileObject = new S3Object(path);\nfileObject.setDataInputStream(is);\ns3service.putObject(bucketName, fileObject);\n</code></pre></li>\n</ul>\n\n<p>For the previous two points - <a href=\"https://stackoverflow.com/questions/2422468/how-to-upload-files-in-jsp-servlet/2424824#2424824\">look at this question</a></p>\n"},{"tags":[],"owner":{"account_id":1137990,"reputation":11,"user_id":1122638,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325234607,"creation_date":1325234607,"answer_id":8677694,"question_id":7422412,"body_markdown":"Recommend you to use [html amazon API][1] to do this. Streaming is a bit complex and in most cases you do not need it.\r\n\r\n\r\n  [1]: http://aws.amazon.com/articles/1434","title":"Java image upload stored in Amazon S3","body":"<p>Recommend you to use <a href=\"http://aws.amazon.com/articles/1434\" rel=\"nofollow\">html amazon API</a> to do this. Streaming is a bit complex and in most cases you do not need it.</p>\n"},{"tags":[],"owner":{"account_id":1290379,"reputation":2877,"user_id":1242601,"accept_rate":73,"display_name":"Koray G&#252;cl&#252;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358851487,"creation_date":1358851487,"answer_id":14456719,"question_id":7422412,"body_markdown":"You can also use a simple form to uploda the file to the S3 Bucket. Look at this example http://aws.amazon.com/articles/1434 \r\n\r\nExample form:\r\n\r\n    &lt;html&gt; \r\n      &lt;head&gt;\r\n        &lt;title&gt;S3 POST Form&lt;/title&gt; \r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n      &lt;/head&gt;\r\n\r\n      &lt;body&gt; \r\n        &lt;form action=&quot;https://s3-bucket.s3.amazonaws.com/&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n          &lt;input type=&quot;hidden&quot; name=&quot;key&quot; value=&quot;uploads/${filename}&quot;&gt;\r\n          &lt;input type=&quot;hidden&quot; name=&quot;AWSAccessKeyId&quot; value=&quot;YOUR_AWS_ACCESS_KEY&quot;&gt; \r\n          &lt;input type=&quot;hidden&quot; name=&quot;acl&quot; value=&quot;private&quot;&gt; \r\n          &lt;input type=&quot;hidden&quot; name=&quot;success_action_redirect&quot; value=&quot;http://localhost/&quot;&gt;\r\n          &lt;input type=&quot;hidden&quot; name=&quot;policy&quot; value=&quot;YOUR_POLICY_DOCUMENT_BASE64_ENCODED&quot;&gt;\r\n          &lt;input type=&quot;hidden&quot; name=&quot;signature&quot; value=&quot;YOUR_CALCULATED_SIGNATURE&quot;&gt;\r\n          &lt;input type=&quot;hidden&quot; name=&quot;Content-Type&quot; value=&quot;image/jpeg&quot;&gt;\r\n          &lt;!-- Include any additional input fields here --&gt;\r\n\r\n          File to upload to S3: \r\n          &lt;input name=&quot;file&quot; type=&quot;file&quot;&gt; \r\n          &lt;br&gt; \r\n          &lt;input type=&quot;submit&quot; value=&quot;Upload File to S3&quot;&gt; \r\n        &lt;/form&gt; \r\n      &lt;/body&gt;\r\n    &lt;/html&gt;","title":"Java image upload stored in Amazon S3","body":"<p>You can also use a simple form to uploda the file to the S3 Bucket. Look at this example <a href=\"http://aws.amazon.com/articles/1434\" rel=\"nofollow\">http://aws.amazon.com/articles/1434</a> </p>\n\n<p>Example form:</p>\n\n<pre><code>&lt;html&gt; \n  &lt;head&gt;\n    &lt;title&gt;S3 POST Form&lt;/title&gt; \n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt; \n    &lt;form action=\"https://s3-bucket.s3.amazonaws.com/\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n      &lt;input type=\"hidden\" name=\"key\" value=\"uploads/${filename}\"&gt;\n      &lt;input type=\"hidden\" name=\"AWSAccessKeyId\" value=\"YOUR_AWS_ACCESS_KEY\"&gt; \n      &lt;input type=\"hidden\" name=\"acl\" value=\"private\"&gt; \n      &lt;input type=\"hidden\" name=\"success_action_redirect\" value=\"http://localhost/\"&gt;\n      &lt;input type=\"hidden\" name=\"policy\" value=\"YOUR_POLICY_DOCUMENT_BASE64_ENCODED\"&gt;\n      &lt;input type=\"hidden\" name=\"signature\" value=\"YOUR_CALCULATED_SIGNATURE\"&gt;\n      &lt;input type=\"hidden\" name=\"Content-Type\" value=\"image/jpeg\"&gt;\n      &lt;!-- Include any additional input fields here --&gt;\n\n      File to upload to S3: \n      &lt;input name=\"file\" type=\"file\"&gt; \n      &lt;br&gt; \n      &lt;input type=\"submit\" value=\"Upload File to S3\"&gt; \n    &lt;/form&gt; \n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":911789,"reputation":39,"user_id":945455,"display_name":"Stamford"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8218,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1677192285,"creation_date":1316031282,"question_id":7422412,"body_markdown":"Having trouble finding some examples showing how I can use Java to allow users to upload an image to Amazon S3.\r\n\r\nThe flow is:\r\n\r\n1. User is on HTML form with file input form element.\r\n\r\n2. This form submits the selected image to a Servlet.\r\n\r\n3. This Servlet processes the image and stores it in S3.\r\n\r\nAnyone know of any good links/tutorials that outline sample code to perform this?","title":"Java image upload stored in Amazon S3","body":"<p>Having trouble finding some examples showing how I can use Java to allow users to upload an image to Amazon S3.</p>\n\n<p>The flow is:</p>\n\n<ol>\n<li><p>User is on HTML form with file input form element.</p></li>\n<li><p>This form submits the selected image to a Servlet.</p></li>\n<li><p>This Servlet processes the image and stores it in S3.</p></li>\n</ol>\n\n<p>Anyone know of any good links/tutorials that outline sample code to perform this?</p>\n"},{"tags":["java","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":4192935,"reputation":347,"user_id":3435107,"accept_rate":50,"display_name":"amanda fouts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1395191749,"creation_date":1395191749,"answer_id":22494350,"question_id":22315336,"body_markdown":"The easiest way for PHP is the AWS SDK for PHP - Google it.\r\n\r\nHere are PHP examples of all of the properties you can receive:\r\nhttp://docs.aws.amazon.com/aws-sdk-php/latest/class-Aws.S3.S3Client.html\r\n\r\nsome include getBucket, getObjectACL, list files, list buckets, etc\r\n\r\n\r\nYou can also use the command line awscli here:\r\nhttp://aws.amazon.com/cli/","title":"How could I get file size, time and md5 from amazon s3?","body":"<p>The easiest way for PHP is the AWS SDK for PHP - Google it.</p>\n\n<p>Here are PHP examples of all of the properties you can receive:\n<a href=\"http://docs.aws.amazon.com/aws-sdk-php/latest/class-Aws.S3.S3Client.html\" rel=\"nofollow\">http://docs.aws.amazon.com/aws-sdk-php/latest/class-Aws.S3.S3Client.html</a></p>\n\n<p>some include getBucket, getObjectACL, list files, list buckets, etc</p>\n\n<p>You can also use the command line awscli here:\n<a href=\"http://aws.amazon.com/cli/\" rel=\"nofollow\">http://aws.amazon.com/cli/</a></p>\n"},{"tags":[],"owner":{"account_id":59818,"reputation":2298,"user_id":178882,"accept_rate":24,"display_name":"andrebruton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592332605,"creation_date":1592332605,"answer_id":62415388,"question_id":22315336,"body_markdown":"Here is an example for AWS PHP Ver 3\r\n\r\n    //Get file size\r\n\t$s3 = new S3Client([\r\n\t\t\t&#39;region&#39; =&gt; REGION,\r\n\t\t\t&#39;version&#39; =&gt; &#39;2006-03-01&#39;,\r\n\t\t\t&#39;credentials&#39; =&gt; [\r\n\t\t\t\t&#39;key&#39;    =&gt; AWS_KEY,\r\n\t\t\t\t&#39;secret&#39; =&gt; AWS_SECRET_KEY,\r\n\t\t\t],\r\n\t]);\r\n\r\n\t$result = $s3-&gt;getObject([\r\n\t  &#39;Bucket&#39;  =&gt; BUCKET, \r\n\t\t&#39;Key&#39;   =&gt; $files_name\r\n\t]);\r\n\t$files_size = $result[&#39;ContentLength&#39;];\r\n\t echo &quot;Size: &quot; .  $files_size . &quot;&lt;br&gt;&quot;;\r\n\r\n\r\n","title":"How could I get file size, time and md5 from amazon s3?","body":"<p>Here is an example for AWS PHP Ver 3</p>\n\n<pre><code>//Get file size\n$s3 = new S3Client([\n        'region' =&gt; REGION,\n        'version' =&gt; '2006-03-01',\n        'credentials' =&gt; [\n            'key'    =&gt; AWS_KEY,\n            'secret' =&gt; AWS_SECRET_KEY,\n        ],\n]);\n\n$result = $s3-&gt;getObject([\n  'Bucket'  =&gt; BUCKET, \n    'Key'   =&gt; $files_name\n]);\n$files_size = $result['ContentLength'];\n echo \"Size: \" .  $files_size . \"&lt;br&gt;\";\n</code></pre>\n"}],"owner":{"account_id":1334871,"reputation":2178,"user_id":1277865,"accept_rate":79,"display_name":"thecr0w"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22494350,"answer_count":2,"score":0,"last_activity_date":1677192261,"creation_date":1394505255,"question_id":22315336,"body_markdown":"I wanna get a file&#39;s properties stored in amazon s3, is it easy to do that using api or php?","title":"How could I get file size, time and md5 from amazon s3?","body":"<p>I wanna get a file's properties stored in amazon s3, is it easy to do that using api or php?</p>\n"},{"tags":["java","android","android-studio","google-play","google-play-console"],"owner":{"account_id":27471919,"reputation":47,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677191695,"creation_date":1677191695,"question_id":75551010,"body_markdown":"I am trying to make my app pass the families policy requirements in order to be able to publish my app on the google play store. I am not sure if I have added all the required code for the families policy approval or if the problem is something outside of the code as my app as recently been rejected due to families policy issues. The following code is the only code that I have added for the families policy approval for ads:\r\n\r\n    RequestConfiguration requestConfiguration = MobileAds.getRequestConfiguration()\r\n                .toBuilder()\r\n                .setTagForChildDirectedTreatment(\r\n                        RequestConfiguration.TAG_FOR_CHILD_DIRECTED_TREATMENT_TRUE)\r\n                .setMaxAdContentRating(RequestConfiguration.MAX_AD_CONTENT_RATING_G)\r\n                .build();\r\n        MobileAds.setRequestConfiguration(requestConfiguration);\r\n\r\n\r\nIs this code enough or do I need to add something else to my app to make it be approved? I have added ad open ads, interstitial ads and banner ads to my app and external links to my app such as private polices, my app page and rating section of the app page, is this code enough to approve of all these things in my app?","title":"What code do I need to add to my app in android studio for my app to pass the families policy requirements?","body":"<p>I am trying to make my app pass the families policy requirements in order to be able to publish my app on the google play store. I am not sure if I have added all the required code for the families policy approval or if the problem is something outside of the code as my app as recently been rejected due to families policy issues. The following code is the only code that I have added for the families policy approval for ads:</p>\n<pre><code>RequestConfiguration requestConfiguration = MobileAds.getRequestConfiguration()\n            .toBuilder()\n            .setTagForChildDirectedTreatment(\n                    RequestConfiguration.TAG_FOR_CHILD_DIRECTED_TREATMENT_TRUE)\n            .setMaxAdContentRating(RequestConfiguration.MAX_AD_CONTENT_RATING_G)\n            .build();\n    MobileAds.setRequestConfiguration(requestConfiguration);\n</code></pre>\n<p>Is this code enough or do I need to add something else to my app to make it be approved? I have added ad open ads, interstitial ads and banner ads to my app and external links to my app such as private polices, my app page and rating section of the app page, is this code enough to approve of all these things in my app?</p>\n"},{"tags":["java","amazon-s3"],"owner":{"account_id":8486120,"reputation":128,"user_id":6364177,"display_name":"Houssam Rafiki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677191622,"creation_date":1654255871,"question_id":72488957,"body_markdown":"I have versioning enabled in my bucket, and when I update only metadata of a s3 object using CopyObjectRequest S3 create me a new version of the file with the new metadata, but I don&#39;t want this.\r\nHow can I just edit metadata without creating a new version and without disabling versioning ?\r\n\r\nI am using S3 Java 2 sdk\r\n\r\n```\r\nCopyObjectRequest request = CopyObjectRequest.builder()\r\n        .sourceBucket(&quot;myBucketName&quot;)\r\n        .sourceKey(&quot;myObjectKey&quot;)\r\n        .destinationBucket(&quot;myBucketName&quot;)\r\n        .destinationKey(&quot;myObjectKey&quot;)\r\n        .metadata(newMetadata)\r\n        .metadataDirective(MetadataDirective.REPLACE)\r\n        .build();\r\n```","title":"S3 java client update object metadata without creating a new version","body":"<p>I have versioning enabled in my bucket, and when I update only metadata of a s3 object using CopyObjectRequest S3 create me a new version of the file with the new metadata, but I don't want this.\nHow can I just edit metadata without creating a new version and without disabling versioning ?</p>\n<p>I am using S3 Java 2 sdk</p>\n<pre><code>CopyObjectRequest request = CopyObjectRequest.builder()\n        .sourceBucket(&quot;myBucketName&quot;)\n        .sourceKey(&quot;myObjectKey&quot;)\n        .destinationBucket(&quot;myBucketName&quot;)\n        .destinationKey(&quot;myObjectKey&quot;)\n        .metadata(newMetadata)\n        .metadataDirective(MetadataDirective.REPLACE)\n        .build();\n</code></pre>\n"},{"tags":["java","spring-boot","maven","lombok"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677223092,"post_id":75551000,"comment_id":133298946,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":24906425,"reputation":1,"user_id":18776436,"display_name":"babycoder97"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677191614,"creation_date":1677191614,"question_id":75551000,"body_markdown":"Lombok has always worked fine for me on vs code until yesterday I suddenly got a bunch of errors related to lombok and when I looked at my main model I saw that the package lombok didn&#39;t exist. When updating the version in the dependencies and running mvn clean install and mvn install my builds were successes.\r\n\r\nI already have the lombok extension installed and checked my pom.xml file to see if the version number and everything else matched. I reverted back to a previous version of my code in case I typed something that messed with lombok but the error still remained. I even uninstalled and reinstalled lombok extension and cleaned my workspace and restarted vs code multiple times.","title":"Package lombok does not exist in VS Code using Maven","body":"<p>Lombok has always worked fine for me on vs code until yesterday I suddenly got a bunch of errors related to lombok and when I looked at my main model I saw that the package lombok didn't exist. When updating the version in the dependencies and running mvn clean install and mvn install my builds were successes.</p>\n<p>I already have the lombok extension installed and checked my pom.xml file to see if the version number and everything else matched. I reverted back to a previous version of my code in case I typed something that messed with lombok but the error still remained. I even uninstalled and reinstalled lombok extension and cleaned my workspace and restarted vs code multiple times.</p>\n"},{"tags":["java","maven","dll"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1401816902,"post_id":24011527,"comment_id":37026852,"body_markdown":"maven-shade-plugin is intended to shade jar files which are zip like archives and that is what the error shows. Apart from that you can&#39;t. You can package your dll into a simple jar file which should solve the problem.","body":"maven-shade-plugin is intended to shade jar files which are zip like archives and that is what the error shows. Apart from that you can&#39;t. You can package your dll into a simple jar file which should solve the problem."},{"owner":{"account_id":2372918,"reputation":4836,"user_id":2077101,"accept_rate":64,"display_name":"James Watkins"},"score":0,"creation_date":1426381645,"post_id":24011527,"comment_id":46349432,"body_markdown":"@khmarbaise it might be useful if you explain how to do that.","body":"@khmarbaise it might be useful if you explain how to do that."},{"owner":{"account_id":3048712,"reputation":4198,"user_id":2583765,"accept_rate":75,"display_name":"birgersp"},"score":0,"creation_date":1467183182,"post_id":24011527,"comment_id":63619882,"body_markdown":"Having the exact same problem as OP, I&#39;d really like to know how to solve this one.","body":"Having the exact same problem as OP, I&#39;d really like to know how to solve this one."}],"answers":[{"tags":[],"owner":{"account_id":7536425,"reputation":195,"user_id":5722548,"display_name":"gigili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555575973,"creation_date":1555570598,"answer_id":55740618,"question_id":24011527,"body_markdown":"this solution worked for my JavaFX-OpenCV project\r\n\r\n 1. package your project without `DLL` files.\r\n 2. copy and paste your `DLL` files in the jar file directory.\r\n 3. now you can run your application because all `DLL` files are now on the classpath of your jar application.\r\n\r\nyour directory should be like this :  \r\n/target/application.jar  \r\n/target/your_DLL_files.dll","title":"Maven shade plugin Packaging DLL","body":"<p>this solution worked for my JavaFX-OpenCV project</p>\n\n<ol>\n<li>package your project without <code>DLL</code> files.</li>\n<li>copy and paste your <code>DLL</code> files in the jar file directory.</li>\n<li>now you can run your application because all <code>DLL</code> files are now on the classpath of your jar application.</li>\n</ol>\n\n<p>your directory should be like this :<br>\n/target/application.jar<br>\n/target/your_DLL_files.dll</p>\n"},{"tags":[],"owner":{"account_id":4261297,"reputation":36,"user_id":15863651,"display_name":"itamarc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627677737,"creation_date":1627677737,"answer_id":68596900,"question_id":24011527,"body_markdown":"Maybe what you need is to package differently. Make the shaded jar with all java classes and libraries you use and then package this jar and the DLL together in a Zip file to be released. For this you can use the `maven-assembly-plugin` with a descriptor for your zip, like this:\r\n\r\nIn your `pom.xml`:\r\n\r\n```xml\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                    &lt;descriptors&gt;\r\n                        &lt;descriptor&gt;zip.xml&lt;/descriptor&gt;\r\n                    &lt;/descriptors&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nIn `zip.xml` file:\r\n\r\n```xml\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.0&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.0 http://maven.apache.org/xsd/assembly-2.1.0.xsd&quot;&gt;\r\n        &lt;id&gt;release&lt;/id&gt;\r\n        &lt;formats&gt;\r\n            &lt;format&gt;zip&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n        &lt;fileSets&gt;\r\n            &lt;fileSet&gt;\r\n                &lt;directory&gt;target&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;myapp.jar&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n            &lt;/fileSet&gt;\r\n        &lt;/fileSets&gt;\r\n        &lt;files&gt;\r\n            &lt;file&gt;\r\n                &lt;source&gt;your.dll&lt;/source&gt;\r\n                &lt;fileMode&gt;0644&lt;/fileMode&gt;\r\n            &lt;/file&gt;\r\n        &lt;/files&gt;\r\n    &lt;/assembly&gt;\r\n```\r\n\r\nThat way you have all you need to release in this zip. I don&#39;t know if that&#39;s the best solution, but maybe it solves the problem for your use case.","title":"Maven shade plugin Packaging DLL","body":"<p>Maybe what you need is to package differently. Make the shaded jar with all java classes and libraries you use and then package this jar and the DLL together in a Zip file to be released. For this you can use the <code>maven-assembly-plugin</code> with a descriptor for your zip, like this:</p>\n<p>In your <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                    &lt;descriptors&gt;\n                        &lt;descriptor&gt;zip.xml&lt;/descriptor&gt;\n                    &lt;/descriptors&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>In <code>zip.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.0&quot;\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n              xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.0 http://maven.apache.org/xsd/assembly-2.1.0.xsd&quot;&gt;\n        &lt;id&gt;release&lt;/id&gt;\n        &lt;formats&gt;\n            &lt;format&gt;zip&lt;/format&gt;\n        &lt;/formats&gt;\n        &lt;fileSets&gt;\n            &lt;fileSet&gt;\n                &lt;directory&gt;target&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;myapp.jar&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;/fileSet&gt;\n        &lt;/fileSets&gt;\n        &lt;files&gt;\n            &lt;file&gt;\n                &lt;source&gt;your.dll&lt;/source&gt;\n                &lt;fileMode&gt;0644&lt;/fileMode&gt;\n            &lt;/file&gt;\n        &lt;/files&gt;\n    &lt;/assembly&gt;\n</code></pre>\n<p>That way you have all you need to release in this zip. I don't know if that's the best solution, but maybe it solves the problem for your use case.</p>\n"},{"tags":[],"owner":{"account_id":4100807,"reputation":56,"user_id":3366405,"display_name":"user3366405"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677191478,"creation_date":1677191478,"answer_id":75550982,"question_id":24011527,"body_markdown":"Also being new to Maven, it took me a while to solve a similar problem. This answer may help others.\r\n\r\nUsing com.microsoft.sqlserver:mssql-jdbc_auth with mssql-jdbc_auth-10.2.3.x64.dll as a dependency.\r\n\r\nFortunately the dll is a separate artifact from the mssql jdbc jar.\r\n\r\nTo stop the shade plugin trying to open the dll as a zip file....\r\n```\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.4&lt;/version&gt;\r\n      &lt;executions&gt;\r\n  \t  &lt;execution&gt;\r\n\t      &lt;phase&gt;package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;shade&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;artifactSet&gt;\r\n              &lt;excludes&gt;\r\n                &lt;exclude&gt;com.microsoft.sqlserver:mssql-jdbc_auth&lt;/exclude&gt;\r\n              &lt;/excludes&gt;\r\n            &lt;/artifactSet&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n     &lt;/plugin&gt;\r\n```\r\n\r\nand then to put the dll into the same directory as the shaded jar file\r\n```\r\n  \t&lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.2&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n            &lt;includeArtifactIds&gt;mssql-jdbc_auth&lt;/includeArtifactIds&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n```\r\n\r\n","title":"Maven shade plugin Packaging DLL","body":"<p>Also being new to Maven, it took me a while to solve a similar problem. This answer may help others.</p>\n<p>Using com.microsoft.sqlserver:mssql-jdbc_auth with mssql-jdbc_auth-10.2.3.x64.dll as a dependency.</p>\n<p>Fortunately the dll is a separate artifact from the mssql jdbc jar.</p>\n<p>To stop the shade plugin trying to open the dll as a zip file....</p>\n<pre><code>    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.2.4&lt;/version&gt;\n      &lt;executions&gt;\n      &lt;execution&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;shade&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;artifactSet&gt;\n              &lt;excludes&gt;\n                &lt;exclude&gt;com.microsoft.sqlserver:mssql-jdbc_auth&lt;/exclude&gt;\n              &lt;/excludes&gt;\n            &lt;/artifactSet&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n     &lt;/plugin&gt;\n</code></pre>\n<p>and then to put the dll into the same directory as the shaded jar file</p>\n<pre><code>    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.1.2&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;copy-dependencies&lt;/id&gt;\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n            &lt;includeArtifactIds&gt;mssql-jdbc_auth&lt;/includeArtifactIds&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1090931,"reputation":2195,"user_id":1085586,"accept_rate":32,"display_name":"Panciz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1433,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1677191478,"creation_date":1401787508,"question_id":24011527,"body_markdown":"I have to add to my project a JNI module.\r\n\r\nI install the module in Maven as two different artifact: the jar library:\r\n\r\n    mvn install:install-file -DgroupId=com.test -DartifactId=ssa -Dversion=1.0 -Dpackaging=jar -Dfile=ssa.jar\r\n\r\nand the runtime library with the DLL\r\n\r\n    mvn install:install-file -DgroupId=com.sirio -Dpackaging=ddl -DartifactId=ssa-runtime -classifier=windows-x86 -Dversion=1.0 -Dfile=SSADll.dll\r\n\r\nIn my maven project I add these dependecies:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ssa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ssa-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;classifier&gt;windows-${arch}&lt;/classifier&gt;\r\n\t\t\t&lt;type&gt;dll&lt;/type&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nMy problem is when I run the shade plugin goal to create a jar with dependencies, I get error:\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project ....: Error creating shaded jar: error in opening zip file sirio\\ssa-runtime\\1.0\\ssa-runtime-1.0-windows-x86.dll \r\n\r\n\r\nHow can I tell the shade plugin to do not unpack the dll?\r\n\r\n\r\n\r\n","title":"Maven shade plugin Packaging DLL","body":"<p>I have to add to my project a JNI module.</p>\n\n<p>I install the module in Maven as two different artifact: the jar library:</p>\n\n<pre><code>mvn install:install-file -DgroupId=com.test -DartifactId=ssa -Dversion=1.0 -Dpackaging=jar -Dfile=ssa.jar\n</code></pre>\n\n<p>and the runtime library with the DLL</p>\n\n<pre><code>mvn install:install-file -DgroupId=com.sirio -Dpackaging=ddl -DartifactId=ssa-runtime -classifier=windows-x86 -Dversion=1.0 -Dfile=SSADll.dll\n</code></pre>\n\n<p>In my maven project I add these dependecies:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\n        &lt;artifactId&gt;ssa&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\n        &lt;artifactId&gt;ssa-runtime&lt;/artifactId&gt;\n        &lt;classifier&gt;windows-${arch}&lt;/classifier&gt;\n        &lt;type&gt;dll&lt;/type&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>My problem is when I run the shade plugin goal to create a jar with dependencies, I get error:</p>\n\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project ....: Error creating shaded jar: error in opening zip file sirio\\ssa-runtime\\1.0\\ssa-runtime-1.0-windows-x86.dll \n</code></pre>\n\n<p>How can I tell the shade plugin to do not unpack the dll?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1677063072,"post_id":75526941,"comment_id":133261936,"body_markdown":"Systempath is very outdated. Using Maven completely offline is not recommended and will usually not work properly. If you are inside a company, use a Nexus/Artifactory server to proxy the outside world (so that your computer does not need an internet connection).","body":"Systempath is very outdated. Using Maven completely offline is not recommended and will usually not work properly. If you are inside a company, use a Nexus/Artifactory server to proxy the outside world (so that your computer does not need an internet connection)."},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1677075203,"post_id":75526941,"comment_id":133265657,"body_markdown":"When maven build is going on, its downloads the dependencies into the `.m2` home folder and further build will first try to load from that `m2` home or local repository and if not found, it will go for either central or remote repository in search of dependencies.\n\nhttps://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\n\nIf you want `3`-rd party jar to load the project, which are not hosted in `maven` central, here is the guide for the same.","body":"When maven build is going on, its downloads the dependencies into the <code>.m2</code> home folder and further build will first try to load from that <code>m2</code> home or local repository and if not found, it will go for either central or remote repository in search of dependencies.  <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-3rd-party-jars-local.html</a>  If you want <code>3</code>-rd party jar to load the project, which are not hosted in <code>maven</code> central, here is the guide for the same."},{"owner":{"account_id":4725131,"reputation":767,"user_id":3822038,"accept_rate":67,"display_name":"echo"},"score":0,"creation_date":1677265429,"post_id":75526941,"comment_id":133310394,"body_markdown":"thanks, so so long as I have the jar already in /Users/username/.m2/repository/ folder after the first maven build, I would be able to use maven build offline without pom xml change since it will look for the local jar first before trying to go to maven central?","body":"thanks, so so long as I have the jar already in /Users/username/.m2/repository/ folder after the first maven build, I would be able to use maven build offline without pom xml change since it will look for the local jar first before trying to go to maven central?"},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1677411112,"post_id":75526941,"comment_id":133328778,"body_markdown":"@echo, also you can [install your project into Maven local repository](https://mkyong.com/maven/how-to-install-your-project-into-maven-local-repository/) as one of existing options.","body":"@echo, also you can <a href=\"https://mkyong.com/maven/how-to-install-your-project-into-maven-local-repository/\" rel=\"nofollow noreferrer\">install your project into Maven local repository</a> as one of existing options."},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1677618832,"post_id":75526941,"comment_id":133373112,"body_markdown":"@echo, the build time while loading the project with same dependency, it loads faster than before\n\ncoming to the question that you specified, to load the jar from the .m2 repository, I think you just need to specify the groupId and artifectId in the dependencies section of the pom file, if maven can see the dependency it will automatically load.\n\nOr else you can install the 3rd party jar using the command available in the link which I shared earlier","body":"@echo, the build time while loading the project with same dependency, it loads faster than before  coming to the question that you specified, to load the jar from the .m2 repository, I think you just need to specify the groupId and artifectId in the dependencies section of the pom file, if maven can see the dependency it will automatically load.  Or else you can install the 3rd party jar using the command available in the link which I shared earlier"}],"owner":{"account_id":4725131,"reputation":767,"user_id":3822038,"accept_rate":67,"display_name":"echo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677191375,"creation_date":1677022646,"question_id":75526941,"body_markdown":"I am trying to use `Maven` offline and I created a local maven repo according to this blog:\r\n\r\nhttp://jojovedder.blogspot.com/2009/04/running-maven-offline-using-local.html \r\n\r\nand after `Maven` install my dependencies from online once I am able to locate a folder with all the `jar` files in their respective default sub folder path. \r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.code&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;kaptcha&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t&lt;systemPath&gt;/Users/username/.m2/repository/kaptcha/kaptcha/2.3/kaptcha.jar&lt;/systemPath&gt;\r\n\t&lt;/dependency&gt;\r\n    \r\n\r\nas an example, now in order to refer my `jar` from local offline `Maven` repo, I have to open a explorer and manually find the path and put them in the `systempath` tag in `pom.xml` for each dependency. \r\n\r\nIs there a faster way to do that for multiple dependencies?\r\n\r\n I am using just the default folder path for each of the packages that `Maven` downloads to its local repo folder, but some times it is:\r\n\r\n`packagename/packagename/version/packagename-version.jar`, \r\n\r\nand other times it is:\r\n\r\n    packagename/subpackagename/version/packagename-version.jar \r\n\r\nsuch as:\r\n\r\n`/Users/username/.m2/repository/cglib/cglib-nodep/3.2.4/cglib-nodep-3.2.4.jar`\r\n \r\nso it is taking forever to go through them by hand. \r\n\r\nAny suggestion appreciated, thanks!","title":"How to auto populate system path for default maven local repo for pom.xml?","body":"<p>I am trying to use <code>Maven</code> offline and I created a local maven repo according to this blog:</p>\n<p><a href=\"http://jojovedder.blogspot.com/2009/04/running-maven-offline-using-local.html\" rel=\"nofollow noreferrer\">http://jojovedder.blogspot.com/2009/04/running-maven-offline-using-local.html</a></p>\n<p>and after <code>Maven</code> install my dependencies from online once I am able to locate a folder with all the <code>jar</code> files in their respective default sub folder path.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code&lt;/groupId&gt;\n    &lt;artifactId&gt;kaptcha&lt;/artifactId&gt;\n    &lt;version&gt;2.3&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;/Users/username/.m2/repository/kaptcha/kaptcha/2.3/kaptcha.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>as an example, now in order to refer my <code>jar</code> from local offline <code>Maven</code> repo, I have to open a explorer and manually find the path and put them in the <code>systempath</code> tag in <code>pom.xml</code> for each dependency.</p>\n<p>Is there a faster way to do that for multiple dependencies?</p>\n<p>I am using just the default folder path for each of the packages that <code>Maven</code> downloads to its local repo folder, but some times it is:</p>\n<p><code>packagename/packagename/version/packagename-version.jar</code>,</p>\n<p>and other times it is:</p>\n<pre><code>packagename/subpackagename/version/packagename-version.jar \n</code></pre>\n<p>such as:</p>\n<p><code>/Users/username/.m2/repository/cglib/cglib-nodep/3.2.4/cglib-nodep-3.2.4.jar</code></p>\n<p>so it is taking forever to go through them by hand.</p>\n<p>Any suggestion appreciated, thanks!</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","aws-lambda"],"comments":[{"owner":{"account_id":23401113,"reputation":1486,"user_id":17464257,"display_name":"Alex Chadyuk"},"score":0,"creation_date":1677186644,"post_id":75550326,"comment_id":133293841,"body_markdown":"Could you share CloudWatch logs?","body":"Could you share CloudWatch logs?"}],"answers":[{"tags":[],"owner":{"account_id":4620098,"reputation":430,"user_id":3745425,"accept_rate":42,"display_name":"rleffler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677190831,"creation_date":1677190831,"answer_id":75550910,"question_id":75550326,"body_markdown":"When you recieve your batch, you can add each message from the batch to an sqs queue.  Create another lambda that consumes that queue (you can do this with an SQS trigger), with a batch size of 1.  This way your consumer lambda will only process one file.  You can make it scale to process all of them in parallel this way as well, which might be better for you depending on your situation.","title":"AWS - Run a lambda for each s3 event","body":"<p>When you recieve your batch, you can add each message from the batch to an sqs queue.  Create another lambda that consumes that queue (you can do this with an SQS trigger), with a batch size of 1.  This way your consumer lambda will only process one file.  You can make it scale to process all of them in parallel this way as well, which might be better for you depending on your situation.</p>\n"}],"owner":{"account_id":7172262,"reputation":11,"user_id":5479373,"display_name":"Laurent NAVET"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677190831,"creation_date":1677186377,"question_id":75550326,"body_markdown":"I have a batch that parses an XMl file and inserts it into the database. \r\nThe batch is in Spring-Batch Java.\r\nWhen I drop a file on an S3, a trigger launches a lambda that executes my batch (S3 event).\r\n\r\nThe parsing of an XML takes about 5 minutes (Lambda limit to 15 minutes is perfect), the problem is that at the end of the processing SpringBatch stops and will not be able to process new XML.\r\n\r\nMy problem: I can have several files that are dropped a few seconds apart and I would like each s3 event to launch a new lambda.\r\n\r\nDo you know how I can do this? ","title":"AWS - Run a lambda for each s3 event","body":"<p>I have a batch that parses an XMl file and inserts it into the database.\nThe batch is in Spring-Batch Java.\nWhen I drop a file on an S3, a trigger launches a lambda that executes my batch (S3 event).</p>\n<p>The parsing of an XML takes about 5 minutes (Lambda limit to 15 minutes is perfect), the problem is that at the end of the processing SpringBatch stops and will not be able to process new XML.</p>\n<p>My problem: I can have several files that are dropped a few seconds apart and I would like each s3 event to launch a new lambda.</p>\n<p>Do you know how I can do this?</p>\n"},{"tags":["java","apache-kafka","apache-zookeeper","fips"],"answers":[{"tags":[],"owner":{"account_id":7212275,"reputation":765,"user_id":5505900,"accept_rate":40,"display_name":"Tushar H"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1595835121,"creation_date":1595835121,"answer_id":63110650,"question_id":61884243,"body_markdown":"OK, I got this working with below setup\r\n\r\n**Java:** 11.0.7\r\n\r\n**BCFIPS:** bc-fips-1.0.2.jar\r\n\r\nAdd the bcfips jar in kafka lib directory: **&lt;-kafka-root-directory-&gt;/libs/bc-fips-1.0.2.jar**\r\n\r\nAnd start the kafka server, it will load bcfips jar.","title":"Kafka fips: BCFIPS not working with upgrade to JAVA11","body":"<p>OK, I got this working with below setup</p>\n<p><strong>Java:</strong> 11.0.7</p>\n<p><strong>BCFIPS:</strong> bc-fips-1.0.2.jar</p>\n<p>Add the bcfips jar in kafka lib directory: <strong>&lt;-kafka-root-directory-&gt;/libs/bc-fips-1.0.2.jar</strong></p>\n<p>And start the kafka server, it will load bcfips jar.</p>\n"}],"owner":{"account_id":7212275,"reputation":765,"user_id":5505900,"accept_rate":40,"display_name":"Tushar H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63110650,"answer_count":1,"score":1,"last_activity_date":1677190749,"creation_date":1589868140,"question_id":61884243,"body_markdown":"I have a kafka cluster running in FIPS mode with below configuration.\r\n\r\n    Brokers: 3, Zookeeper Nodes: 3\r\n    Kafka: 2.0.0, Scala: 2.12\r\n    Zookeeper: 3.4.14\r\n    Java - 8\r\n    bc-fips - 1.0.1\r\n\r\nThis cluster is running fine and is in a healthy state.\r\n\r\n\r\nCurrently we have upgraded Kafka(2.4.0) and Java(11) versions, after which FIPS cluster is unable to load bc-fips library and start kafka. New cluster configuration:\r\n\r\n    Brokers: 3, Zookeeper Nodes: 3\r\n    Kafka: 2.4.0, Scala: 2.12\r\n    Zookeeper: 3.4.14\r\n    Java - 11\r\n    bc-fips - 1.0.2\r\n\r\nWith the analysis so far, the problem seems to be with **loading bc-fips jar** with new JAVA version(11), as java doc says:\r\n\r\n - JDK9 onwards the support for adding external jars via **jre/lib/ext** is removed.\r\n - The ability to pass extra parameters to the Security Providers on load time is removed\r\n\r\n\r\nSo when I am starting the kafka service its failing with below error:\r\n\r\n```[2020-05-18 11:59:39,644] ERROR [KafkaServer id=48] Fatal error during KafkaServer startup. Prepare to shutdown (kafka.server.KafkaServer)\r\norg.apache.kafka.common.KafkaException: org.apache.kafka.common.KafkaException: java.security.NoSuchAlgorithmException: DEFAULT SecureRandom not available\r\n\tat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:158)\r\n\tat org.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:146)\r\n\tat org.apache.kafka.common.network.ChannelBuilders.serverChannelBuilder(ChannelBuilders.java:85)\r\n\tat kafka.network.Processor.&lt;init&gt;(SocketServer.scala:753)\r\n\tat kafka.network.SocketServer.newProcessor(SocketServer.scala:394)\r\n\tat kafka.network.SocketServer.$anonfun$addDataPlaneProcessors$1(SocketServer.scala:279)\r\n\tat scala.collection.immutable.Range.foreach$mVc$sp(Range.scala:158)\r\n\tat kafka.network.SocketServer.addDataPlaneProcessors(SocketServer.scala:278)\r\n\tat kafka.network.SocketServer.$anonfun$createDataPlaneAcceptorsAndProcessors$1(SocketServer.scala:241)\r\n\tat kafka.network.SocketServer.$anonfun$createDataPlaneAcceptorsAndProcessors$1$adapted(SocketServer.scala:238)\r\n\tat scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n\tat scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n\tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n\tat kafka.network.SocketServer.createDataPlaneAcceptorsAndProcessors(SocketServer.scala:238)\r\n\tat kafka.network.SocketServer.startup(SocketServer.scala:121)\r\n\tat kafka.server.KafkaServer.startup(KafkaServer.scala:263)\r\n\tat kafka.server.KafkaServerStartable.startup(KafkaServerStartable.scala:44)\r\n\tat kafka.Kafka$.main(Kafka.scala:84)\r\n\tat kafka.Kafka.main(Kafka.scala)\r\nCaused by: org.apache.kafka.common.KafkaException: java.security.NoSuchAlgorithmException: DEFAULT SecureRandom not available\r\n\tat org.apache.kafka.common.security.ssl.SslEngineBuilder.createSecureRandom(SslEngineBuilder.java:126)\r\n\tat org.apache.kafka.common.security.ssl.SslEngineBuilder.&lt;init&gt;(SslEngineBuilder.java:86)\r\n\tat org.apache.kafka.common.security.ssl.SslFactory.configure(SslFactory.java:95)\r\n\tat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:154)\r\n\t... 18 more\r\nCaused by: java.security.NoSuchAlgorithmException: DEFAULT SecureRandom not available\r\n\tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\r\n\tat java.base/java.security.SecureRandom.getInstance(SecureRandom.java:364)\r\n\tat org.apache.kafka.common.security.ssl.SslEngineBuilder.createSecureRandom(SslEngineBuilder.java:124)\r\n\t... 21 more\r\n[2020-05-18 11:59:39,646] INFO [KafkaServer id=48] shutting down (kafka.server.KafkaServer)\r\n```\r\n\r\n\r\n**Note**: As said above the same configuration works with java-8.\r\n\r\n\r\nAny help would be really appreciated.","title":"Kafka fips: BCFIPS not working with upgrade to JAVA11","body":"<p>I have a kafka cluster running in FIPS mode with below configuration.</p>\n\n<pre><code>Brokers: 3, Zookeeper Nodes: 3\nKafka: 2.0.0, Scala: 2.12\nZookeeper: 3.4.14\nJava - 8\nbc-fips - 1.0.1\n</code></pre>\n\n<p>This cluster is running fine and is in a healthy state.</p>\n\n<p>Currently we have upgraded Kafka(2.4.0) and Java(11) versions, after which FIPS cluster is unable to load bc-fips library and start kafka. New cluster configuration:</p>\n\n<pre><code>Brokers: 3, Zookeeper Nodes: 3\nKafka: 2.4.0, Scala: 2.12\nZookeeper: 3.4.14\nJava - 11\nbc-fips - 1.0.2\n</code></pre>\n\n<p>With the analysis so far, the problem seems to be with <strong>loading bc-fips jar</strong> with new JAVA version(11), as java doc says:</p>\n\n<ul>\n<li>JDK9 onwards the support for adding external jars via <strong>jre/lib/ext</strong> is removed.</li>\n<li>The ability to pass extra parameters to the Security Providers on load time is removed</li>\n</ul>\n\n<p>So when I am starting the kafka service its failing with below error:</p>\n\n<pre><code>org.apache.kafka.common.KafkaException: org.apache.kafka.common.KafkaException: java.security.NoSuchAlgorithmException: DEFAULT SecureRandom not available\n    at org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:158)\n    at org.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:146)\n    at org.apache.kafka.common.network.ChannelBuilders.serverChannelBuilder(ChannelBuilders.java:85)\n    at kafka.network.Processor.&lt;init&gt;(SocketServer.scala:753)\n    at kafka.network.SocketServer.newProcessor(SocketServer.scala:394)\n    at kafka.network.SocketServer.$anonfun$addDataPlaneProcessors$1(SocketServer.scala:279)\n    at scala.collection.immutable.Range.foreach$mVc$sp(Range.scala:158)\n    at kafka.network.SocketServer.addDataPlaneProcessors(SocketServer.scala:278)\n    at kafka.network.SocketServer.$anonfun$createDataPlaneAcceptorsAndProcessors$1(SocketServer.scala:241)\n    at kafka.network.SocketServer.$anonfun$createDataPlaneAcceptorsAndProcessors$1$adapted(SocketServer.scala:238)\n    at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\n    at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\n    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\n    at kafka.network.SocketServer.createDataPlaneAcceptorsAndProcessors(SocketServer.scala:238)\n    at kafka.network.SocketServer.startup(SocketServer.scala:121)\n    at kafka.server.KafkaServer.startup(KafkaServer.scala:263)\n    at kafka.server.KafkaServerStartable.startup(KafkaServerStartable.scala:44)\n    at kafka.Kafka$.main(Kafka.scala:84)\n    at kafka.Kafka.main(Kafka.scala)\nCaused by: org.apache.kafka.common.KafkaException: java.security.NoSuchAlgorithmException: DEFAULT SecureRandom not available\n    at org.apache.kafka.common.security.ssl.SslEngineBuilder.createSecureRandom(SslEngineBuilder.java:126)\n    at org.apache.kafka.common.security.ssl.SslEngineBuilder.&lt;init&gt;(SslEngineBuilder.java:86)\n    at org.apache.kafka.common.security.ssl.SslFactory.configure(SslFactory.java:95)\n    at org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:154)\n    ... 18 more\nCaused by: java.security.NoSuchAlgorithmException: DEFAULT SecureRandom not available\n    at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\n    at java.base/java.security.SecureRandom.getInstance(SecureRandom.java:364)\n    at org.apache.kafka.common.security.ssl.SslEngineBuilder.createSecureRandom(SslEngineBuilder.java:124)\n    ... 21 more\n[2020-05-18 11:59:39,646] INFO [KafkaServer id=48] shutting down (kafka.server.KafkaServer)\n</code></pre>\n\n<p><strong>Note</strong>: As said above the same configuration works with java-8.</p>\n\n<p>Any help would be really appreciated.</p>\n"},{"tags":["java","google-custom-search"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1359251599,"post_id":14543555,"comment_id":20286013,"body_markdown":"according to the doc you linked to, the values should be &quot;d1&quot; and &quot;m1&quot;.","body":"according to the doc you linked to, the values should be &quot;d1&quot; and &quot;m1&quot;."}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1677189954,"creation_date":1359251720,"answer_id":14543678,"question_id":14543555,"body_markdown":"On the [Using REST to Invoke the API][1] you can find information about `dateRestrict` parameter. Notes about parameter: Restricts results to URLs based on date. Supported values include:\r\n\r\n - d[number]: requests results from the specified number of past days.\r\n - w[number]: requests results from the specified number of past weeks.\r\n - m[number]: requests results from the specified number of past months.\r\n - y[number]: requests results from the specified number of past years.\r\n\r\nExample usage should look like this:\r\n\r\n    String parameters = &quot;&amp;dateRestrict=d20&quot;;\r\nor\r\n\r\n    String parameters = &quot;&amp;dateRestrict=y1&quot;;\r\n\r\nI think, you can play with [APIs Explorer for this method][2] for better understanding this parameter.\r\n\r\nAlso see:\r\n\r\n - [Looking for Urgent solution regarding Google custom search API with\r\n   Date-restrict parameter][3]\r\n\r\n\r\n  [1]: https://developers.google.com/custom-search/v1/using_rest#st_params\r\n  [2]: https://developers.google.com/apis-explorer/#p/customsearch/v1/search.cse.list\r\n  [3]: http://productforums.google.com/forum/#!msg/customsearch/QoEQco_ejyU/Fhfxw9OPEqAJ","title":"How to use &quot;dateRestrict&quot; parameter in Custom Search API","body":"<p>On the <a href=\"https://developers.google.com/custom-search/v1/using_rest#st_params\" rel=\"nofollow noreferrer\">Using REST to Invoke the API</a> you can find information about <code>dateRestrict</code> parameter. Notes about parameter: Restricts results to URLs based on date. Supported values include:</p>\n<ul>\n<li>d[number]: requests results from the specified number of past days.</li>\n<li>w[number]: requests results from the specified number of past weeks.</li>\n<li>m[number]: requests results from the specified number of past months.</li>\n<li>y[number]: requests results from the specified number of past years.</li>\n</ul>\n<p>Example usage should look like this:</p>\n<pre><code>String parameters = &quot;&amp;dateRestrict=d20&quot;;\n</code></pre>\n<p>or</p>\n<pre><code>String parameters = &quot;&amp;dateRestrict=y1&quot;;\n</code></pre>\n<p>I think, you can play with <a href=\"https://developers.google.com/apis-explorer/#p/customsearch/v1/search.cse.list\" rel=\"nofollow noreferrer\">APIs Explorer for this method</a> for better understanding this parameter.</p>\n<p>Also see:</p>\n<ul>\n<li><a href=\"http://productforums.google.com/forum/#!msg/customsearch/QoEQco_ejyU/Fhfxw9OPEqAJ\" rel=\"nofollow noreferrer\">Looking for Urgent solution regarding Google custom search API with\nDate-restrict parameter</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6857326,"reputation":31,"user_id":8093148,"display_name":"Sarthak Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549899660,"creation_date":1496941367,"answer_id":44441717,"question_id":14543555,"body_markdown":"I was trying the same thing, and `dateRestrict` for an absolute time range didn&#39;t seem to work. The pages that were not in the date range also appeared. The workaround I found is to use the `sort` feature. The query will look something like this:\r\n\r\n    (q=&#39;search_term&#39; , cx=&#39;search_engine_id&#39;, sort = &#39;date:r:yyyymmdd:yyyymmdd&#39;)\r\n\r\nThe `sort` feature allows us to sort and filter the date of the results to the time range specified.\r\n","title":"How to use &quot;dateRestrict&quot; parameter in Custom Search API","body":"<p>I was trying the same thing, and <code>dateRestrict</code> for an absolute time range didn't seem to work. The pages that were not in the date range also appeared. The workaround I found is to use the <code>sort</code> feature. The query will look something like this:</p>\n\n<pre><code>(q='search_term' , cx='search_engine_id', sort = 'date:r:yyyymmdd:yyyymmdd')\n</code></pre>\n\n<p>The <code>sort</code> feature allows us to sort and filter the date of the results to the time range specified.</p>\n"},{"tags":[],"owner":{"account_id":13503359,"reputation":68,"user_id":12314600,"display_name":"Taksh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644674272,"creation_date":1644674272,"answer_id":71092480,"question_id":14543555,"body_markdown":"I know question asked for this awhile ago, I had the same problem.\r\n\r\nUse `dateRestrict=d1` instead of `dateRestrict=d[1]`\r\n\r\nThe documentation made that a bit confusing. `[]` is used to show number as placeholder.","title":"How to use &quot;dateRestrict&quot; parameter in Custom Search API","body":"<p>I know question asked for this awhile ago, I had the same problem.</p>\n<p>Use <code>dateRestrict=d1</code> instead of <code>dateRestrict=d[1]</code></p>\n<p>The documentation made that a bit confusing. <code>[]</code> is used to show number as placeholder.</p>\n"}],"owner":{"account_id":2163836,"reputation":5528,"user_id":1917363,"accept_rate":90,"display_name":"applecrusher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5907,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":14543678,"answer_count":3,"score":7,"last_activity_date":1677189954,"creation_date":1359250459,"question_id":14543555,"body_markdown":"I am trying to modify some java code which uses the Google API. One of the features I have not been able to get is the dateRestrict. Information about this can be found here: \r\n&lt;a href=&quot;https://developers.google.com/custom-search/v1/using_rest#query-params&quot;&gt;\r\nGoogleAPI\r\n&lt;/a&gt;\r\n\r\nTo implement this I attach the following string after my query. It is properly connected with the full URL because other parameters work with it. \r\n\r\n`String parameters = &quot;&amp;dateRestrict=2012-01-01&quot;;`\r\n\r\nI have also tried 1d and 1m but those don&#39;t work either as parameters\r\n\r\nIf someone could show me of an example of dateRestrict I would greatly appreciate it. I just don&#39;t understand how they mean to use it in the API. Thank you. \r\n\r\n\r\n  [1]: http://","title":"How to use &quot;dateRestrict&quot; parameter in Custom Search API","body":"<p>I am trying to modify some java code which uses the Google API. One of the features I have not been able to get is the dateRestrict. Information about this can be found here: \n<a href=\"https://developers.google.com/custom-search/v1/using_rest#query-params\" rel=\"noreferrer\">\nGoogleAPI\n</a></p>\n\n<p>To implement this I attach the following string after my query. It is properly connected with the full URL because other parameters work with it. </p>\n\n<p><code>String parameters = \"&amp;dateRestrict=2012-01-01\";</code></p>\n\n<p>I have also tried 1d and 1m but those don't work either as parameters</p>\n\n<p>If someone could show me of an example of dateRestrict I would greatly appreciate it. I just don't understand how they mean to use it in the API. Thank you. </p>\n"},{"tags":["java","spring-boot","rest","resttemplate","response-entity"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1677152877,"post_id":75544272,"comment_id":133283348,"body_markdown":"Your resulting object seems to have a nested result-field, i.e. `&quot;results&quot;: {&quot;results&quot;: null}` while what you want is to receive an instance of Content in the results-field. I don&#39;t think your post shows the &quot;Result&quot; class, but I&#39;m assuming that a solution would be to replace the object with Content. So change the field in AssistenzaResponse from `Results results` to `Content results`","body":"Your resulting object seems to have a nested result-field, i.e. <code>&quot;results&quot;: {&quot;results&quot;: null}</code> while what you want is to receive an instance of Content in the results-field. I don&#39;t think your post shows the &quot;Result&quot; class, but I&#39;m assuming that a solution would be to replace the object with Content. So change the field in AssistenzaResponse from <code>Results results</code> to <code>Content results</code>"},{"owner":{"account_id":12206304,"reputation":169,"user_id":8909313,"display_name":"G.Guvenal"},"score":0,"creation_date":1677153437,"post_id":75544272,"comment_id":133283524,"body_markdown":"Please share Results class with us. When i see your response json, your Results class must has Content content;","body":"Please share Results class with us. When i see your response json, your Results class must has Content content;"},{"owner":{"account_id":21636928,"reputation":15,"user_id":15959884,"display_name":"Michele Raso"},"score":0,"creation_date":1677154441,"post_id":75544272,"comment_id":133283784,"body_markdown":"I added it to the original post","body":"I added it to the original post"},{"owner":{"account_id":12206304,"reputation":169,"user_id":8909313,"display_name":"G.Guvenal"},"score":0,"creation_date":1677155123,"post_id":75544272,"comment_id":133283980,"body_markdown":"Could your try to add private for Content, Meta, Results fields.( **private Content content;** ) Because you use lombok and as far as i know lombok does not generate getter-setter method for default modifier. Without public getter-setter methods mappers does not work.","body":"Could your try to add private for Content, Meta, Results fields.( <b>private Content content;</b> ) Because you use lombok and as far as i know lombok does not generate getter-setter method for default modifier. Without public getter-setter methods mappers does not work."}],"answers":[{"tags":[],"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677162977,"creation_date":1677162977,"answer_id":75546264,"question_id":75544272,"body_markdown":"The problem is that the structure of the JSON response you are receiving does not match the structure of the AssistenzaResponse class you are using for deserialization. Therefore, RestTemplate cannot correctly convert the JSON response into an AssistenzaResponse object.\r\n\r\nYou can fix this by changing the AssistenzaResponse class to match the structure of the JSON response you are receiving. In your case, you need to add one more level of nesting to the AssistenzaResponse class. This can be done, for example, as follows:\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class AssistenzaResponse {\r\n        private boolean success;\r\n        private String error;\r\n        private Results results;\r\n    \r\n        @Getter\r\n        @Setter\r\n        @NoArgsConstructor\r\n        public static class Results {\r\n            private Content content;\r\n    \r\n            @Getter\r\n            @Setter\r\n            @NoArgsConstructor\r\n            public static class Content {\r\n                private String name;\r\n                private String html;\r\n                private Meta meta;\r\n                private float duration;\r\n                private float statusCode;\r\n                private boolean success;\r\n                private String error;\r\n    \r\n                @Getter\r\n                @Setter\r\n                @NoArgsConstructor\r\n                public static class Meta {\r\n                    private String src;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nYou can then use AssistenzaResponse instead of String when calling RestTemplate.exchange() like you did before:\r\n\r\n    ResponseEntity&lt;AssistenzaResponse&gt; response = restTemplate.exchange(url, HttpMethod.POST, entity, AssistenzaResponse.class);\r\n    return response.getBody();\r\n\r\nThe RestTemplate should now properly convert the JSON response into an AssistenzaResponse object. Try it!\r\n\r\n","title":"RestTemplate Post and response ( JSON ) Spring boot","body":"<p>The problem is that the structure of the JSON response you are receiving does not match the structure of the AssistenzaResponse class you are using for deserialization. Therefore, RestTemplate cannot correctly convert the JSON response into an AssistenzaResponse object.</p>\n<p>You can fix this by changing the AssistenzaResponse class to match the structure of the JSON response you are receiving. In your case, you need to add one more level of nesting to the AssistenzaResponse class. This can be done, for example, as follows:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class AssistenzaResponse {\n    private boolean success;\n    private String error;\n    private Results results;\n\n    @Getter\n    @Setter\n    @NoArgsConstructor\n    public static class Results {\n        private Content content;\n\n        @Getter\n        @Setter\n        @NoArgsConstructor\n        public static class Content {\n            private String name;\n            private String html;\n            private Meta meta;\n            private float duration;\n            private float statusCode;\n            private boolean success;\n            private String error;\n\n            @Getter\n            @Setter\n            @NoArgsConstructor\n            public static class Meta {\n                private String src;\n            }\n        }\n    }\n}\n</code></pre>\n<p>You can then use AssistenzaResponse instead of String when calling RestTemplate.exchange() like you did before:</p>\n<pre><code>ResponseEntity&lt;AssistenzaResponse&gt; response = restTemplate.exchange(url, HttpMethod.POST, entity, AssistenzaResponse.class);\nreturn response.getBody();\n</code></pre>\n<p>The RestTemplate should now properly convert the JSON response into an AssistenzaResponse object. Try it!</p>\n"}],"owner":{"account_id":21636928,"reputation":15,"user_id":15959884,"display_name":"Michele Raso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75546264,"answer_count":1,"score":0,"last_activity_date":1677189817,"creation_date":1677152077,"question_id":75544272,"body_markdown":"I am implementing a post with `restTemplate`, with body an object representing a fields of a `json` and I would like the answer with an `object` representing the `json` fields of the answer itself.\r\n\r\nFor example, the `json` is this:\r\n```\r\n{\r\n    &quot;content&quot;: {\r\n        &quot;name&quot;: &quot;support-callmebackmodals-view_web&quot;,\r\n        &quot;data&quot;: {\r\n            &quot;channel&quot;: &quot;web&quot;,\r\n            &quot;productName&quot;: &quot;book&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe class that represents it is this:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Request {\r\n    Con ContentObject;\r\n}\r\n```\r\n\r\n`ConClass` contains &quot;content&quot; of `json`, content contains name and `DataClass` ecc.\r\n\r\nThe response translated into object I created is:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@ToString\r\npublic class AssistenzaResponse {\r\n    \r\n    private boolean success;\r\n    private String error;\r\n    Results results;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Results {\r\n\r\n    Content content;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Content {\r\n    Meta meta;\r\n    private String name;\r\n    private String html;\r\n    private float duration;\r\n    private float statusCode;\r\n    private boolean success;\r\n    private String error;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Meta {\r\n    private String src;\r\n}\r\n```\r\n\r\nMy `service` is this:\r\n```\r\n@Service\r\npublic class AssistenzaService {\r\n    public AssistenzaResponse getUno() throws IOException {\r\n\r\n        String url = &quot;https://support.aasdt/batch&quot;;\r\n\r\n\r\n        org.apache.http.client.HttpClient client = HttpClientBuilder.create().build();\r\n\r\n        Request request1 = new Request();\r\n        Con con = new Con();\r\n        con.setName(&quot;support-callmebackmodals-view_web&quot;);\r\n\r\n        Data data = new Data();\r\n        data.setChannel(&quot;web&quot;);\r\n        data.setProductName(&quot;LibrettoMinori&quot;);\r\n        con.setData(data);\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        request1.setContentObject(con);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        headers.set(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        HttpEntity&lt;Request&gt; entity = new HttpEntity&lt;&gt;(request1, headers);\r\n\r\n        try {\r\n            ResponseEntity&lt;AssistenzaResponse&gt; response = restTemplate.exchange(url, HttpMethod.POST, entity, AssistenzaResponse.class);\r\n\r\n            return response.getBody();\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nBut the answer is not what I expect, because it returns:\r\n```\r\n{\r\n    &quot;success&quot;: true,\r\n    &quot;error&quot;: null,\r\n    &quot;results&quot;: {\r\n        &quot;results&quot;: null\r\n    }\r\n}\r\n```\r\n\r\nInstead if I use:        \r\n```\r\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url,HttpMethod.POST, entity, String.class);         \r\n```\r\n\r\nThe response is correct and it is: \r\n\r\n```\r\n{\r\n    &quot;success&quot;: true,\r\n    &quot;error&quot;: null,\r\n    &quot;results&quot;: {\r\n        &quot;content&quot;: {\r\n            &quot;name&quot;: &quot;support-callmebackmodals-view_web&quot;,\r\n            &quot;html&quot;: &quot;&quot;,\r\n            &quot;meta&quot;: {\r\n                &quot;src&quot;: &quot;/support/client.js&quot;\r\n            },\r\n            &quot;duration&quot;: 7.694401,\r\n            &quot;statusCode&quot;: 200,\r\n            &quot;success&quot;: true,\r\n            &quot;error&quot;: null\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhy don&#39;t I get the exact answer using the answer object I created? \r\n\r\nBut if I use the string it works?\r\n\r\nI expect that the `json` answer will not be returned as `String`, but as my `Response` object, I tried to use also `postForObject` and `postForEntity`.","title":"RestTemplate Post and response ( JSON ) Spring boot","body":"<p>I am implementing a post with <code>restTemplate</code>, with body an object representing a fields of a <code>json</code> and I would like the answer with an <code>object</code> representing the <code>json</code> fields of the answer itself.</p>\n<p>For example, the <code>json</code> is this:</p>\n<pre><code>{\n    &quot;content&quot;: {\n        &quot;name&quot;: &quot;support-callmebackmodals-view_web&quot;,\n        &quot;data&quot;: {\n            &quot;channel&quot;: &quot;web&quot;,\n            &quot;productName&quot;: &quot;book&quot;\n        }\n    }\n}\n</code></pre>\n<p>The class that represents it is this:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class Request {\n    Con ContentObject;\n}\n</code></pre>\n<p><code>ConClass</code> contains &quot;content&quot; of <code>json</code>, content contains name and <code>DataClass</code> ecc.</p>\n<p>The response translated into object I created is:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@ToString\npublic class AssistenzaResponse {\n    \n    private boolean success;\n    private String error;\n    Results results;\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Results {\n\n    Content content;\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Content {\n    Meta meta;\n    private String name;\n    private String html;\n    private float duration;\n    private float statusCode;\n    private boolean success;\n    private String error;\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Meta {\n    private String src;\n}\n</code></pre>\n<p>My <code>service</code> is this:</p>\n<pre><code>@Service\npublic class AssistenzaService {\n    public AssistenzaResponse getUno() throws IOException {\n\n        String url = &quot;https://support.aasdt/batch&quot;;\n\n\n        org.apache.http.client.HttpClient client = HttpClientBuilder.create().build();\n\n        Request request1 = new Request();\n        Con con = new Con();\n        con.setName(&quot;support-callmebackmodals-view_web&quot;);\n\n        Data data = new Data();\n        data.setChannel(&quot;web&quot;);\n        data.setProductName(&quot;LibrettoMinori&quot;);\n        con.setData(data);\n        RestTemplate restTemplate = new RestTemplate();\n        request1.setContentObject(con);\n        HttpHeaders headers = new HttpHeaders();\n        headers.set(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        headers.set(&quot;Accept&quot;, &quot;application/json&quot;);\n        HttpEntity&lt;Request&gt; entity = new HttpEntity&lt;&gt;(request1, headers);\n\n        try {\n            ResponseEntity&lt;AssistenzaResponse&gt; response = restTemplate.exchange(url, HttpMethod.POST, entity, AssistenzaResponse.class);\n\n            return response.getBody();\n\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>But the answer is not what I expect, because it returns:</p>\n<pre><code>{\n    &quot;success&quot;: true,\n    &quot;error&quot;: null,\n    &quot;results&quot;: {\n        &quot;results&quot;: null\n    }\n}\n</code></pre>\n<p>Instead if I use:</p>\n<pre><code>ResponseEntity&lt;String&gt; response = restTemplate.exchange(url,HttpMethod.POST, entity, String.class);         \n</code></pre>\n<p>The response is correct and it is:</p>\n<pre><code>{\n    &quot;success&quot;: true,\n    &quot;error&quot;: null,\n    &quot;results&quot;: {\n        &quot;content&quot;: {\n            &quot;name&quot;: &quot;support-callmebackmodals-view_web&quot;,\n            &quot;html&quot;: &quot;&quot;,\n            &quot;meta&quot;: {\n                &quot;src&quot;: &quot;/support/client.js&quot;\n            },\n            &quot;duration&quot;: 7.694401,\n            &quot;statusCode&quot;: 200,\n            &quot;success&quot;: true,\n            &quot;error&quot;: null\n        }\n    }\n}\n</code></pre>\n<p>Why don't I get the exact answer using the answer object I created?</p>\n<p>But if I use the string it works?</p>\n<p>I expect that the <code>json</code> answer will not be returned as <code>String</code>, but as my <code>Response</code> object, I tried to use also <code>postForObject</code> and <code>postForEntity</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1677189133,"post_id":75550623,"comment_id":133294386,"body_markdown":"Please explain and show the details of your question and your problem. If you haven&#39;t yet gone through the [ask], how would be a great time to do so.","body":"Please explain and show the details of your question and your problem. If you haven&#39;t yet gone through the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, how would be a great time to do so."}],"answers":[{"tags":[],"owner":{"account_id":73312,"reputation":5791,"user_id":211197,"display_name":"maksimov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677189746,"creation_date":1677189746,"answer_id":75550773,"question_id":75550623,"body_markdown":"[Gradle][1] is a build tool. If you clear the cache, Gradle should be able to rebuild it from scratch the next time you build your project. One way to clear the cache is to delete everything under `C:\\Users\\user\\.gradle\\caches`.\r\n\r\n\r\n  [1]: https://gradle.org/","title":"How Can I download this file: values.xml","body":"<p><a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">Gradle</a> is a build tool. If you clear the cache, Gradle should be able to rebuild it from scratch the next time you build your project. One way to clear the cache is to delete everything under <code>C:\\Users\\user\\.gradle\\caches</code>.</p>\n"}],"owner":{"account_id":19404814,"reputation":21,"user_id":14190516,"display_name":"mahmoud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75550773,"answer_count":1,"score":0,"last_activity_date":1677189746,"creation_date":1677188634,"question_id":75550623,"body_markdown":"the file in this directory:\r\nC:\\Users\\user\\.gradle\\caches\\transforms-2\\files-2.1\\3a4beccd096fd786f5bb4c1e46d3cf34\\material-1.8.0\\res\\values\r\n\r\nI made some change to this file by mistake so I need to download the original one, can you tell me how can download it?\r\nthank you \r\n\r\n I made search for that but could not find it.","title":"How Can I download this file: values.xml","body":"<p>the file in this directory:\nC:\\Users\\user.gradle\\caches\\transforms-2\\files-2.1\\3a4beccd096fd786f5bb4c1e46d3cf34\\material-1.8.0\\res\\values</p>\n<p>I made some change to this file by mistake so I need to download the original one, can you tell me how can download it?\nthank you</p>\n<p>I made search for that but could not find it.</p>\n"},{"tags":["java","http-status-code-500"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":2,"creation_date":1677187532,"post_id":75550203,"comment_id":133294032,"body_markdown":"The Apache `commons-io` library you are using is pretty primitive. I would try a different library like [HttpClient](https://hc.apache.org/httpcomponents-client-5.2.x/index.html)","body":"The Apache <code>commons-io</code> library you are using is pretty primitive. I would try a different library like <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/index.html\" rel=\"nofollow noreferrer\">HttpClient</a>"}],"answers":[{"tags":[],"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677189040,"creation_date":1677189040,"answer_id":75550682,"question_id":75550203,"body_markdown":"thanks for your comment (@egeorge) I used the [HttpClient][1] library and got exactly what I wanted.\r\n\r\nCode:\r\n\r\n        String pageUrl = &quot;https://www.hafen-hamburg.de/en/vessels/klein-erna/&quot;;\r\n        HttpClient client = HttpClient.newHttpClient();\r\n        HttpRequest request = HttpRequest.newBuilder().uri(URI.create(pageUrl)).build();\r\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n        System.out.println(response.body());\r\n\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-5.2.x/index.html","title":"How to download the content of the page despite the Error 500?","body":"<p>thanks for your comment (@egeorge) I used the <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/index.html\" rel=\"nofollow noreferrer\">HttpClient</a> library and got exactly what I wanted.</p>\n<p>Code:</p>\n<pre><code>    String pageUrl = &quot;https://www.hafen-hamburg.de/en/vessels/klein-erna/&quot;;\n    HttpClient client = HttpClient.newHttpClient();\n    HttpRequest request = HttpRequest.newBuilder().uri(URI.create(pageUrl)).build();\n    HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n    System.out.println(response.body());\n</code></pre>\n"}],"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75550682,"answer_count":1,"score":0,"last_activity_date":1677189040,"creation_date":1677185507,"question_id":75550203,"body_markdown":"I want to download the content of the page: \r\n[https://www.hafen-hamburg.de/en/vessels/klein-erna/][1]. In my code and DevTools I can see that I&#39;m getting a 500 error:\r\n\r\n[![Statuscode 500][2]][2]\r\n\r\nbut I can also clearly see in the browser that the page has been loaded. How can I download the content of the page despite this error?\r\n\r\nMy code:\r\n\r\n        String pageUrl = &quot;https://www.hafen-hamburg.de/en/vessels/klein-erna/&quot;;\r\n        URL url = new URL(pageUrl);\r\n        String content = IOUtils.toString(url, StandardCharsets.UTF_8);\r\n\r\n\r\n  [1]: https://www.hafen-hamburg.de/en/vessels/klein-erna/\r\n  [2]: https://i.stack.imgur.com/AJEJe.png","title":"How to download the content of the page despite the Error 500?","body":"<p>I want to download the content of the page:\n<a href=\"https://www.hafen-hamburg.de/en/vessels/klein-erna/\" rel=\"nofollow noreferrer\">https://www.hafen-hamburg.de/en/vessels/klein-erna/</a>. In my code and DevTools I can see that I'm getting a 500 error:</p>\n<p><a href=\"https://i.stack.imgur.com/AJEJe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AJEJe.png\" alt=\"Statuscode 500\" /></a></p>\n<p>but I can also clearly see in the browser that the page has been loaded. How can I download the content of the page despite this error?</p>\n<p>My code:</p>\n<pre><code>    String pageUrl = &quot;https://www.hafen-hamburg.de/en/vessels/klein-erna/&quot;;\n    URL url = new URL(pageUrl);\n    String content = IOUtils.toString(url, StandardCharsets.UTF_8);\n</code></pre>\n"},{"tags":["javascript","java","string","adobe","tofixed"],"owner":{"account_id":27864140,"reputation":11,"user_id":21276002,"display_name":"Vader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677188144,"creation_date":1677187744,"question_id":75550491,"body_markdown":"*Original code:\r\n\r\n    //CONVERTED VIA ATOMX: thisComp()\r\n    //No Decimals, No Comma Separator.\r\n    \r\n    v = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Main Value&quot;)(&quot;ADBE Slider Control-0001&quot;);\r\n    n = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Decimals&quot;)(&quot;ADBE Slider Control-0001&quot;);\r\n    thisComp.layer(&quot;prefix&quot;).text.sourceText +(easeOut(time,inPoint,inPoint+1.1,0,v)).toFixed((1)*n)+ thisComp.layer(&quot;suffix&quot;).text.sourceText;\r\n\r\n-------------------------------------------------------------------------------------------------------------\r\n*Modified Code\r\n\r\n    //CONVERTED VIA ATOMX: thisComp()\r\n    //Comma Separator with Decimals\r\n    \r\n    v = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Main Value&quot;)(&quot;ADBE Slider Control-0001&quot;);\r\n    n = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Decimals&quot;)(&quot;ADBE Slider Control-0001&quot;);\r\n    thisComp.layer(&quot;prefix&quot;).text.sourceText +(easeOut(time,inPoint,inPoint+1.1,0,v)).toLocaleString()+ thisComp.layer(&quot;suffix&quot;).text.sourceText;\r\n\r\n\r\n\r\nI would like to alter the code above to show the main value with comma and no decimals.\r\n\r\n\r\nI subscribed to SonDuckFilm where I can download and modify their designs using After Effects.\r\n\r\nHowever, I got stuck trying to modify their code to show the value with only comma separator and no decimals.\r\n","title":"Add Comma Separator, and remove Decimals","body":"<p>*Original code:</p>\n<pre><code>//CONVERTED VIA ATOMX: thisComp()\n//No Decimals, No Comma Separator.\n\nv = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Main Value&quot;)(&quot;ADBE Slider Control-0001&quot;);\nn = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Decimals&quot;)(&quot;ADBE Slider Control-0001&quot;);\nthisComp.layer(&quot;prefix&quot;).text.sourceText +(easeOut(time,inPoint,inPoint+1.1,0,v)).toFixed((1)*n)+ thisComp.layer(&quot;suffix&quot;).text.sourceText;\n</code></pre>\n<hr />\n<p>*Modified Code</p>\n<pre><code>//CONVERTED VIA ATOMX: thisComp()\n//Comma Separator with Decimals\n\nv = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Main Value&quot;)(&quot;ADBE Slider Control-0001&quot;);\nn = thisComp.layer(&quot;Controls 2&quot;).effect(&quot;Decimals&quot;)(&quot;ADBE Slider Control-0001&quot;);\nthisComp.layer(&quot;prefix&quot;).text.sourceText +(easeOut(time,inPoint,inPoint+1.1,0,v)).toLocaleString()+ thisComp.layer(&quot;suffix&quot;).text.sourceText;\n</code></pre>\n<p>I would like to alter the code above to show the main value with comma and no decimals.</p>\n<p>I subscribed to SonDuckFilm where I can download and modify their designs using After Effects.</p>\n<p>However, I got stuck trying to modify their code to show the value with only comma separator and no decimals.</p>\n"},{"tags":["java","selenium","firefox","geckodriver"],"comments":[{"owner":{"account_id":9962584,"reputation":935,"user_id":7371353,"display_name":"acikojevic"},"score":0,"creation_date":1486417562,"post_id":42076497,"comment_id":71327215,"body_markdown":"What FF version are you using, is it really v5 or just a typo?","body":"What FF version are you using, is it really v5 or just a typo?"},{"owner":{"account_id":1668388,"reputation":3316,"user_id":1535349,"accept_rate":45,"display_name":"kroe761"},"score":0,"creation_date":1486418343,"post_id":42076497,"comment_id":71327600,"body_markdown":"haha...51.  Edited.","body":"haha...51.  Edited."},{"owner":{"account_id":4150363,"reputation":1083,"user_id":3403011,"accept_rate":100,"display_name":"Thibstars"},"score":0,"creation_date":1486542271,"post_id":42076497,"comment_id":71384924,"body_markdown":"As I understand you are using [WebDriverManager](https://github.com/bonigarcia/webdrivermanager). I quickly read through the readme and it seems like you don&#39;t need to override the `gecko-driver` system property. So try removing `System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/usr/local/bin/geckodriver&quot;);`.","body":"As I understand you are using <a href=\"https://github.com/bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">WebDriverManager</a>. I quickly read through the readme and it seems like you don&#39;t need to override the <code>gecko-driver</code> system property. So try removing <code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;&#47;usr&#47;local&#47;bin&#47;geckodriver&quot;);</code>."}],"answers":[{"tags":[],"owner":{"account_id":10050954,"reputation":134,"user_id":7574493,"display_name":"Dharam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493039667,"creation_date":1487600751,"answer_id":42347093,"question_id":42076497,"body_markdown":"I think the Geckodriver path is the problem.\r\n\r\nTry to specify like below.\r\n\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;D:\\\\Jar&#39;s\\\\geckodriver-v0.11.1-win64\\\\geckodriver.exe&quot;);\r\n\r\nPlease let me know if it work.\r\n","title":"Cannot Launch Firefox using GeckoDriver","body":"<p>I think the Geckodriver path is the problem.</p>\n\n<p>Try to specify like below.</p>\n\n<pre><code>System.setProperty(\"webdriver.gecko.driver\",\"D:\\\\Jar's\\\\geckodriver-v0.11.1-win64\\\\geckodriver.exe\");\n</code></pre>\n\n<p>Please let me know if it work.</p>\n"},{"tags":[],"owner":{"account_id":4113546,"reputation":29,"user_id":3375783,"display_name":"manam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489447162,"creation_date":1489441259,"answer_id":42773923,"question_id":42076497,"body_markdown":"Finally I found out the problem, check if you have webdriver GeckoDriver verion v15? Becuse for linux only 64bit exists, 32bit is missing, so if you have 32bit it will not work. I installed version 14, 32bit and it works just fine.","title":"Cannot Launch Firefox using GeckoDriver","body":"<p>Finally I found out the problem, check if you have webdriver GeckoDriver verion v15? Becuse for linux only 64bit exists, 32bit is missing, so if you have 32bit it will not work. I installed version 14, 32bit and it works just fine.</p>\n"},{"tags":[],"owner":{"account_id":3810609,"reputation":31,"user_id":3161591,"display_name":"Sally"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493033166,"creation_date":1493023965,"answer_id":43583670,"question_id":42076497,"body_markdown":"try this \r\n\r\n    System.setProperty(&quot;webdriver.firefox.bin&quot;, &quot;C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe&quot;);\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\geckodriver.exe&quot;);        \t \r\n    driver = new FirefoxDriver();\r\n\r\nDon&#39;t forget to download `geckodriver` and put it in the path you want. \r\nI put it directly in `C:\\` drive\r\n\r\n","title":"Cannot Launch Firefox using GeckoDriver","body":"<p>try this </p>\n\n<pre><code>System.setProperty(\"webdriver.firefox.bin\", \"C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe\");\nSystem.setProperty(\"webdriver.gecko.driver\",\"C:\\\\geckodriver.exe\");          \ndriver = new FirefoxDriver();\n</code></pre>\n\n<p>Don't forget to download <code>geckodriver</code> and put it in the path you want. \nI put it directly in <code>C:\\</code> drive</p>\n"}],"owner":{"account_id":1668388,"reputation":3316,"user_id":1535349,"accept_rate":45,"display_name":"kroe761"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2139,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1677188031,"creation_date":1486412143,"question_id":42076497,"body_markdown":"I am running Firefox 51 on my Mac and Selenium 3.0.1, and no matter what I try I cannot get Firefox to work with my selenium code.  I added GeckoDriver to `/usr/local/bin` **and** added System properties line, but it keep getting `connection refused.`. Here is my code:\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import io.github.bonigarcia.wdm.FirefoxDriverManager;\r\n\r\n\tpublic WebDriver getDriver() throws MalformedURLException {\t\t\r\n\t\tFirefoxDriverManager.getInstance().setup();\r\n\t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/usr/local/bin/geckodriver&quot;);\r\n\t\tdriver = new FirefoxDriver();\r\n        // Tests here\r\n    }\r\n\r\nHere are the error logs:\r\n\r\n    Usage:\r\n        /usr/local/bin/geckodriver [OPTIONS]\r\n    /usr/local/bin/geckodriver: Unknown option --port=30325\r\n    Feb 06, 2017 1:59:11 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Attempting bi-dialect session, assuming Postel&#39;s Law holds true on the remote end\r\n    FAILED CONFIGURATION: @BeforeTest Before\r\n    org.openqa.selenium.WebDriverException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:30325 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\r\n    Build info: version: &#39;3.0.1&#39;, revision: &#39;1969d75&#39;, time: &#39;2016-10-18 09:49:13 -0700&#39;\r\n    System info: host: &#39;Kevins-MacBook-Pro.local&#39;, ip: &#39;192.168.0.26&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;10.12.3&#39;, java.version: &#39;1.8.0_121&#39;\r\n    Driver info: driver.version: FirefoxDriver\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:91)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:601)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:241)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:128)\r\n    \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:259)\r\n    \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:247)\r\n    \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:242)\r\n    \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:238)\r\n    \tat org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:127)\r\n    \tat com.kirklands.automation.ecom.Base.getDriver(Base.java:29)\r\n    \tat com.kirklands.automation.ecom.tests.TestBase.Before(TestBase.java:16)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)\r\n    \tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:564)\r\n    \tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)\r\n    \tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)\r\n    \tat org.testng.TestRunner.beforeRun(TestRunner.java:641)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:609)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:240)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1198)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1123)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:132)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:236)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:81)\r\n    Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:30325 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:158)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n    \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n    \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n    \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\r\n    \tat org.openqa.selenium.remote.internal.ApacheHttpClient.fallBackExecute(ApacheHttpClient.java:142)\r\n    \tat org.openqa.selenium.remote.internal.ApacheHttpClient.execute(ApacheHttpClient.java:88)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:108)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:64)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:141)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:82)\r\n    \t... 32 more\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:589)\r\n    \tat org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:74)\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:141)\r\n    \t... 47 more\r\n\r\n    SKIPPED CONFIGURATION: @AfterTest After\r\n\r\nIt&#39;s worth nothing that Chrome is working just fine (which is also at  `/usr/local/bin/chromedriver` if I were to use `ChromeDriverManager.`. So I don&#39;t know what&#39;s going on here.  ","title":"Cannot Launch Firefox using GeckoDriver","body":"<p>I am running Firefox 51 on my Mac and Selenium 3.0.1, and no matter what I try I cannot get Firefox to work with my selenium code.  I added GeckoDriver to <code>/usr/local/bin</code> <strong>and</strong> added System properties line, but it keep getting <code>connection refused.</code>. Here is my code:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport io.github.bonigarcia.wdm.FirefoxDriverManager;\n\npublic WebDriver getDriver() throws MalformedURLException {     \n    FirefoxDriverManager.getInstance().setup();\n    System.setProperty(\"webdriver.gecko.driver\", \"/usr/local/bin/geckodriver\");\n    driver = new FirefoxDriver();\n    // Tests here\n}\n</code></pre>\n\n<p>Here are the error logs:</p>\n\n<pre><code>Usage:\n    /usr/local/bin/geckodriver [OPTIONS]\n/usr/local/bin/geckodriver: Unknown option --port=30325\nFeb 06, 2017 1:59:11 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Attempting bi-dialect session, assuming Postel's Law holds true on the remote end\nFAILED CONFIGURATION: @BeforeTest Before\norg.openqa.selenium.WebDriverException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:30325 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nBuild info: version: '3.0.1', revision: '1969d75', time: '2016-10-18 09:49:13 -0700'\nSystem info: host: 'Kevins-MacBook-Pro.local', ip: '192.168.0.26', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.12.3', java.version: '1.8.0_121'\nDriver info: driver.version: FirefoxDriver\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:91)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:601)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:241)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:128)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:259)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:247)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:242)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:238)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:127)\n    at com.kirklands.automation.ecom.Base.getDriver(Base.java:29)\n    at com.kirklands.automation.ecom.tests.TestBase.Before(TestBase.java:16)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:564)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:138)\n    at org.testng.TestRunner.beforeRun(TestRunner.java:641)\n    at org.testng.TestRunner.run(TestRunner.java:609)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:240)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1198)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1123)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:132)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:236)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:81)\nCaused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:30325 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:158)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:71)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n    at org.openqa.selenium.remote.internal.ApacheHttpClient.fallBackExecute(ApacheHttpClient.java:142)\n    at org.openqa.selenium.remote.internal.ApacheHttpClient.execute(ApacheHttpClient.java:88)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:108)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:64)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:141)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:82)\n    ... 32 more\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:589)\n    at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:74)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:141)\n    ... 47 more\n\nSKIPPED CONFIGURATION: @AfterTest After\n</code></pre>\n\n<p>It's worth nothing that Chrome is working just fine (which is also at  <code>/usr/local/bin/chromedriver</code> if I were to use <code>ChromeDriverManager.</code>. So I don't know what's going on here.  </p>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677262907,"post_id":75550500,"comment_id":133309782,"body_markdown":"Can you include a small example of the output (HTML, omit all the `class=...` attributes) you expect as a code block (not image)? Also, is the model one which you have inherited or one which you designed? I don&#39;t understand a few things about it: 1) why is an object called a List (`KrankheitenListe`) when it really is a singular object? 2) Why do you need the class `KrankheitenDate` when it seems that a `private LocalDate date` member variable would be sufficient (I don&#39;t understand why it has to cross-reference both `KrankheitenListe` and `Ges Krankheiten`).","body":"Can you include a small example of the output (HTML, omit all the <code>class=...</code> attributes) you expect as a code block (not image)? Also, is the model one which you have inherited or one which you designed? I don&#39;t understand a few things about it: 1) why is an object called a List (<code>KrankheitenListe</code>) when it really is a singular object? 2) Why do you need the class <code>KrankheitenDate</code> when it seems that a <code>private LocalDate date</code> member variable would be sufficient (I don&#39;t understand why it has to cross-reference both <code>KrankheitenListe</code> and <code>Ges Krankheiten</code>)."}],"owner":{"account_id":21836117,"reputation":3,"user_id":16130345,"display_name":"Glutarios66"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677188012,"creation_date":1677187774,"question_id":75550500,"body_markdown":"can someone check what im missing. Even though the date from KrankheitenDate is stored in DB the input doesnt show up on the html. I think my th:value is fault \r\n[MySQL Database][1]\r\n\r\n```\r\nThymeleaf Code\r\n&lt;div class=&quot;mb-3&quot;&gt;\r\n            &lt;label class=&quot;form-label col-md-2&quot;&gt;Krankheiten:&lt;/label&gt;\r\n            &lt;ul class=&quot;list-group&quot;&gt;\r\n                &lt;li class=&quot;list-group-item&quot; th:each=&quot;krankheiten, iterStat : ${krankheitenListe}&quot;&gt;\r\n               &lt;!-- &lt;li th:each=&quot;geschlecht : ${T(com.BachelorProjekt.TeckelApp.Enums.Geschlecht).values()}&quot;&gt;  --&gt;\r\n                    &lt;div class=&quot;form-check&quot;&gt;\r\n                        &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; name=&quot;krankheiten&quot; id=&quot;krankheiten&quot;\r\n                            th:value=&quot;${krankheiten.id}&quot; th:field=&quot;*{krankheitenDates[__${iterStat.index}__].krankheitenListe}&quot; th:id=&quot;${&#39;krankheiten&#39; + iterStat.count}&quot;&gt;\r\n                        &lt;label class=&quot;form-check-label&quot; th:for=&quot;${&#39;krankheiten&#39; + iterStat.count}&quot; th:text=&quot;${krankheiten}&quot;&gt;&lt;/label&gt;\r\n                    &lt;/div&gt;&lt;!--th:checked=&quot;${#lists.contains(teckel?.ernaehrung?.futter,futter)}&quot;--&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;input th:if=&quot;${!iterStat.last &amp;&amp; iterStat.index &lt; krankheitenListe.size() - 2}&quot; th:field=&quot;*{krankheitenDates[__${iterStat.index}__].date}&quot; th:value=&quot;${krankheiten.krankheitenDate}&quot; type=&quot;date&quot; class=&quot;form-control&quot; th:text=&quot;${#temporals.format(localDate, &#39;dd-MM-yyyy&#39;)}&quot;&gt;\r\n                      &lt;!--  &lt;input type=&quot;date&quot; class=&quot;form-control&quot; th:field=&quot;*{krankheitenListe[__${iterStat.index}__].krankheitenDate}&quot; th:value=&quot;${krankheiten.krankheitenDate}&quot;&gt; --&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/li&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/div&gt;\r\n```\r\nGesKrankheiten.java\r\n```\r\n@Entity\r\n@Table\r\npublic class GesKrankheiten {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name=&quot;gesKrankheiten_impungen&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;gesKrankheiten_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;impfungen_id&quot;))\r\n    private List&lt;Impfungen&gt; impfungen = new ArrayList&lt;&gt;();//enumCheckBox\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;gesKrankheiten&quot;)\r\n    /*@JoinTable(name=&quot;gesKrankheiten_krankheiten&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;gesKrankheiten_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;krankheitenDates_id&quot;))*/\r\n    private List&lt;KrankheitenDate&gt; krankheitenDates = new ArrayList&lt;&gt;();//enumCheckBox\r\n\r\n```\r\n\r\nKrankheitenDate.java\r\n```\r\n@Entity\r\n@Table\r\npublic class KrankheitenDate {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @OneToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;fk_krankheitenListe_id&quot;)\r\n    private KrankheitenListe krankheitenListe;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;fk_gesKrankheiten_id&quot;)\r\n    private GesKrankheiten gesKrankheiten;\r\n\r\n    private LocalDate date;\r\n\r\n```\r\nKrankheitenList.java\r\n```\r\n@Entity\r\n@Table\r\npublic class KrankheitenListe {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    private Krankheiten krankheiten;\r\n\r\n    @OneToOne(mappedBy = &quot;krankheitenListe&quot;)\r\n    private KrankheitenDate krankheitenDate;\r\n\r\n```\r\n\r\nController.java\r\n```\r\n    @GetMapping(&quot;/eintraege3/{id}&quot;)\r\n    public ModelAndView eintraege3(Model model, @PathVariable(&quot;id&quot;) Integer id) {\r\n        ModelAndView mv = new ModelAndView();\r\n        Teckel teckel = teckelService.getTeckelbyId(id);\r\n        GesKrankheiten gesKrankheiten;\r\n        List&lt;KrankheitenListe&gt; krankheitenListe = gesKrankheitenService.getKrankheitenListe();\r\n\r\n        /*if(!krankheitenListe.isEmpty() &amp;&amp; krankheitenListe != null) {\r\n            for (KrankheitenListe krankheitenListe1 : krankheitenListe) {\r\n                for(KrankheitenDate krankheitenDate : krankheitenDates){\r\n                    krankheitenListe1.setKrankheitenDate(krankheitenDate);\r\n                }\r\n            }\r\n        }\r\n\r\n         */\r\n        List&lt;Impfungen&gt; impfungenListe = gesKrankheitenService.getImpfungen();\r\n        if (teckel.getGesKrankheiten() == null) {\r\n            gesKrankheiten = new GesKrankheiten();\r\n            gesKrankheitenService.save(gesKrankheiten);\r\n            teckel.setGesKrankheiten(gesKrankheiten);\r\n        } else {\r\n            gesKrankheiten = teckel.getGesKrankheiten();\r\n        }\r\n        model.addAttribute(&quot;gesKrankheiten&quot;, gesKrankheiten);\r\n        model.addAttribute(&quot;krankheitenListe&quot;, krankheitenListe);\r\n        model.addAttribute(&quot;impfungenListe&quot;, impfungenListe);\r\n        teckelService.save(teckel);\r\n        model.addAttribute(&quot;teckel&quot;, teckel);\r\n        mv.setViewName(&quot;/krankheiten&quot;);\r\n        return mv;\r\n    }\r\n```\r\n\r\n\r\n\r\nI tried replacing the th:value but didnt work. If someone knows a better structure for this just tell me\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4XTMc.jpg","title":"Thymeleaf display error Date Input not showing","body":"<p>can someone check what im missing. Even though the date from KrankheitenDate is stored in DB the input doesnt show up on the html. I think my th:value is fault\n<a href=\"https://i.stack.imgur.com/4XTMc.jpg\" rel=\"nofollow noreferrer\">MySQL Database</a></p>\n<pre><code>Thymeleaf Code\n&lt;div class=&quot;mb-3&quot;&gt;\n            &lt;label class=&quot;form-label col-md-2&quot;&gt;Krankheiten:&lt;/label&gt;\n            &lt;ul class=&quot;list-group&quot;&gt;\n                &lt;li class=&quot;list-group-item&quot; th:each=&quot;krankheiten, iterStat : ${krankheitenListe}&quot;&gt;\n               &lt;!-- &lt;li th:each=&quot;geschlecht : ${T(com.BachelorProjekt.TeckelApp.Enums.Geschlecht).values()}&quot;&gt;  --&gt;\n                    &lt;div class=&quot;form-check&quot;&gt;\n                        &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; name=&quot;krankheiten&quot; id=&quot;krankheiten&quot;\n                            th:value=&quot;${krankheiten.id}&quot; th:field=&quot;*{krankheitenDates[__${iterStat.index}__].krankheitenListe}&quot; th:id=&quot;${'krankheiten' + iterStat.count}&quot;&gt;\n                        &lt;label class=&quot;form-check-label&quot; th:for=&quot;${'krankheiten' + iterStat.count}&quot; th:text=&quot;${krankheiten}&quot;&gt;&lt;/label&gt;\n                    &lt;/div&gt;&lt;!--th:checked=&quot;${#lists.contains(teckel?.ernaehrung?.futter,futter)}&quot;--&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;input th:if=&quot;${!iterStat.last &amp;&amp; iterStat.index &lt; krankheitenListe.size() - 2}&quot; th:field=&quot;*{krankheitenDates[__${iterStat.index}__].date}&quot; th:value=&quot;${krankheiten.krankheitenDate}&quot; type=&quot;date&quot; class=&quot;form-control&quot; th:text=&quot;${#temporals.format(localDate, 'dd-MM-yyyy')}&quot;&gt;\n                      &lt;!--  &lt;input type=&quot;date&quot; class=&quot;form-control&quot; th:field=&quot;*{krankheitenListe[__${iterStat.index}__].krankheitenDate}&quot; th:value=&quot;${krankheiten.krankheitenDate}&quot;&gt; --&gt;\n                    &lt;/div&gt;\n                &lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n</code></pre>\n<p>GesKrankheiten.java</p>\n<pre><code>@Entity\n@Table\npublic class GesKrankheiten {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private Integer id;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name=&quot;gesKrankheiten_impungen&quot;,\n            joinColumns = @JoinColumn(name = &quot;gesKrankheiten_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;impfungen_id&quot;))\n    private List&lt;Impfungen&gt; impfungen = new ArrayList&lt;&gt;();//enumCheckBox\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;gesKrankheiten&quot;)\n    /*@JoinTable(name=&quot;gesKrankheiten_krankheiten&quot;,\n            joinColumns = @JoinColumn(name = &quot;gesKrankheiten_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;krankheitenDates_id&quot;))*/\n    private List&lt;KrankheitenDate&gt; krankheitenDates = new ArrayList&lt;&gt;();//enumCheckBox\n\n</code></pre>\n<p>KrankheitenDate.java</p>\n<pre><code>@Entity\n@Table\npublic class KrankheitenDate {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private Integer id;\n\n    @OneToOne(cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;fk_krankheitenListe_id&quot;)\n    private KrankheitenListe krankheitenListe;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;fk_gesKrankheiten_id&quot;)\n    private GesKrankheiten gesKrankheiten;\n\n    private LocalDate date;\n\n</code></pre>\n<p>KrankheitenList.java</p>\n<pre><code>@Entity\n@Table\npublic class KrankheitenListe {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private Integer id;\n\n    private Krankheiten krankheiten;\n\n    @OneToOne(mappedBy = &quot;krankheitenListe&quot;)\n    private KrankheitenDate krankheitenDate;\n\n</code></pre>\n<p>Controller.java</p>\n<pre><code>    @GetMapping(&quot;/eintraege3/{id}&quot;)\n    public ModelAndView eintraege3(Model model, @PathVariable(&quot;id&quot;) Integer id) {\n        ModelAndView mv = new ModelAndView();\n        Teckel teckel = teckelService.getTeckelbyId(id);\n        GesKrankheiten gesKrankheiten;\n        List&lt;KrankheitenListe&gt; krankheitenListe = gesKrankheitenService.getKrankheitenListe();\n\n        /*if(!krankheitenListe.isEmpty() &amp;&amp; krankheitenListe != null) {\n            for (KrankheitenListe krankheitenListe1 : krankheitenListe) {\n                for(KrankheitenDate krankheitenDate : krankheitenDates){\n                    krankheitenListe1.setKrankheitenDate(krankheitenDate);\n                }\n            }\n        }\n\n         */\n        List&lt;Impfungen&gt; impfungenListe = gesKrankheitenService.getImpfungen();\n        if (teckel.getGesKrankheiten() == null) {\n            gesKrankheiten = new GesKrankheiten();\n            gesKrankheitenService.save(gesKrankheiten);\n            teckel.setGesKrankheiten(gesKrankheiten);\n        } else {\n            gesKrankheiten = teckel.getGesKrankheiten();\n        }\n        model.addAttribute(&quot;gesKrankheiten&quot;, gesKrankheiten);\n        model.addAttribute(&quot;krankheitenListe&quot;, krankheitenListe);\n        model.addAttribute(&quot;impfungenListe&quot;, impfungenListe);\n        teckelService.save(teckel);\n        model.addAttribute(&quot;teckel&quot;, teckel);\n        mv.setViewName(&quot;/krankheiten&quot;);\n        return mv;\n    }\n</code></pre>\n<p>I tried replacing the th:value but didnt work. If someone knows a better structure for this just tell me</p>\n"},{"tags":["java","spring-kafka"],"comments":[{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1677203526,"post_id":75550011,"comment_id":133296533,"body_markdown":"Allow me a stupid question: what happens if you completely comment out yout whole method `processBatch`? Just to prove that it is really *this* method which activates the Kafka listener on this particular topic? (@GaryRussell: &quot;Something else must be configuring a listener&quot;)","body":"Allow me a stupid question: what happens if you completely comment out yout whole method <code>processBatch</code>? Just to prove that it is really <i>this</i> method which activates the Kafka listener on this particular topic? (@GaryRussell: &quot;Something else must be configuring a listener&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677187759,"creation_date":1677186163,"answer_id":75550298,"question_id":75550011,"body_markdown":"Something else must be configuring a listener; this works as expected for me...\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class So75550011Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So75550011Application.class, args);\r\n\t}\r\n\r\n}\r\n\r\n@Configuration\r\n@Profile(&quot;foo&quot;)\r\nclass Listener {\r\n\r\n\t@KafkaListener(id = &quot;so75550011&quot;, topics = &quot;so75550011&quot;)\r\n\tvoid listen(String in) {\r\n\t\tSystem.out.println(in);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nInitially, I thought it might be because it is in a `@Configuration` class (really meant for bean definitions) instead of `@Component`, but no, it works as expected for me.\r\n\r\nIf you can&#39;t figure it out, post an [MCRE](https://stackoverflow.com/help/minimal-reproducible-example) that exhibits the behavior.\r\n\r\n__EDIT__\r\n\r\nThis has one active listener and one inactive; works fine...\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class So75550011Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So75550011Application.class, args).close();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic NewTopic topic() {\r\n\t\treturn TopicBuilder.name(&quot;so75550011other&quot;).partitions(1).replicas(1).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner runner(KafkaListenerEndpointRegistry registry) {\r\n\t\treturn args -&gt; {\r\n\t\t\tSystem.out.println(registry.getListenerContainerIds());\r\n\t\t\tThread.sleep(5000);\r\n\t\t};\r\n\t}\r\n\r\n}\r\n\r\n@Configuration\r\n@Profile(&quot;foo&quot;)\r\nclass Listener {\r\n\r\n\t@KafkaListener(id = &quot;so75550011&quot;, topics = &quot;so75550011&quot;)\r\n\tvoid listen(String in) {\r\n\t\tSystem.out.println(in);\r\n\t}\r\n\r\n}\r\n\r\n@Component\r\nclass OtherListener {\r\n\r\n\t@KafkaListener(id = &quot;so75550011other&quot;, topics = &quot;so75550011other&quot;)\r\n\tvoid listen(String in) {\r\n\t\tSystem.out.println(in);\r\n\t}\r\n\r\n}\r\n```\r\n```\r\n[so75550011other]\r\n```\r\n\r\nOnly the other listener is registered.","title":"@KafkaListener throwing error for missing topic even though class level profile not activated","body":"<p>Something else must be configuring a listener; this works as expected for me...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So75550011Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So75550011Application.class, args);\n    }\n\n}\n\n@Configuration\n@Profile(&quot;foo&quot;)\nclass Listener {\n\n    @KafkaListener(id = &quot;so75550011&quot;, topics = &quot;so75550011&quot;)\n    void listen(String in) {\n        System.out.println(in);\n    }\n\n}\n</code></pre>\n<p>Initially, I thought it might be because it is in a <code>@Configuration</code> class (really meant for bean definitions) instead of <code>@Component</code>, but no, it works as expected for me.</p>\n<p>If you can't figure it out, post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCRE</a> that exhibits the behavior.</p>\n<p><strong>EDIT</strong></p>\n<p>This has one active listener and one inactive; works fine...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So75550011Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So75550011Application.class, args).close();\n    }\n\n    @Bean\n    public NewTopic topic() {\n        return TopicBuilder.name(&quot;so75550011other&quot;).partitions(1).replicas(1).build();\n    }\n\n    @Bean\n    ApplicationRunner runner(KafkaListenerEndpointRegistry registry) {\n        return args -&gt; {\n            System.out.println(registry.getListenerContainerIds());\n            Thread.sleep(5000);\n        };\n    }\n\n}\n\n@Configuration\n@Profile(&quot;foo&quot;)\nclass Listener {\n\n    @KafkaListener(id = &quot;so75550011&quot;, topics = &quot;so75550011&quot;)\n    void listen(String in) {\n        System.out.println(in);\n    }\n\n}\n\n@Component\nclass OtherListener {\n\n    @KafkaListener(id = &quot;so75550011other&quot;, topics = &quot;so75550011other&quot;)\n    void listen(String in) {\n        System.out.println(in);\n    }\n\n}\n</code></pre>\n<pre><code>[so75550011other]\n</code></pre>\n<p>Only the other listener is registered.</p>\n"}],"owner":{"account_id":6421976,"reputation":180,"user_id":4978460,"accept_rate":40,"display_name":"futevolei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677187759,"creation_date":1677184219,"question_id":75550011,"body_markdown":"We have a configuration class with a profile of &quot;foo&quot;.  It has a kafka listener as below:\r\n\r\n    @Configuration\r\n    @Profile(&quot;foo&quot;)\r\n    public class AListener {\r\n\r\n         @KafkaListener(topics = &quot;my.kafka.topic&quot;, autoStartup = &quot;${kafka.listeners.auto.startup:true}&quot;)\r\n    public void processBatch(List&lt;ConsumerRecord&lt;String, byte[]&gt;&gt; records) {\r\n    //do stuff\r\n\r\nWhen the app starts up without foo profile active I see a kafka error in the logs complaining that my.kafka.topic does not exist (which is true but thats neither here nor there) which indicates that the listener container is being created regardless of profile.  Is this expected?  Is something else besides spring managing the listener?\r\n\r\n","title":"@KafkaListener throwing error for missing topic even though class level profile not activated","body":"<p>We have a configuration class with a profile of &quot;foo&quot;.  It has a kafka listener as below:</p>\n<pre><code>@Configuration\n@Profile(&quot;foo&quot;)\npublic class AListener {\n\n     @KafkaListener(topics = &quot;my.kafka.topic&quot;, autoStartup = &quot;${kafka.listeners.auto.startup:true}&quot;)\npublic void processBatch(List&lt;ConsumerRecord&lt;String, byte[]&gt;&gt; records) {\n//do stuff\n</code></pre>\n<p>When the app starts up without foo profile active I see a kafka error in the logs complaining that my.kafka.topic does not exist (which is true but thats neither here nor there) which indicates that the listener container is being created regardless of profile.  Is this expected?  Is something else besides spring managing the listener?</p>\n"},{"tags":["java","java-security","java-security-manager"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1677117708,"post_id":75539595,"comment_id":133276528,"body_markdown":"&quot;None of my attempts so far have worked&quot; - how do you know that? What does &quot;not work&quot; mean?","body":"&quot;None of my attempts so far have worked&quot; - how do you know that? What does &quot;not work&quot; mean?"},{"owner":{"account_id":27855836,"reputation":23,"user_id":21269336,"display_name":"8Sence W"},"score":0,"creation_date":1677128060,"post_id":75539595,"comment_id":133277693,"body_markdown":"The program completed successfully, if it worked it should&#39;ve displayed a NoPermissionException.","body":"The program completed successfully, if it worked it should&#39;ve displayed a NoPermissionException."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677147949,"post_id":75539595,"comment_id":133281998,"body_markdown":"I&#39;m not sure why this isn&#39;t working for you, but I&#39;ll point out that `SecurityManager` is [deprecated for removal as of Java 17](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityManager.html), partly because it has never been able to provide guaranteed protection against malicious code. The rationale is detailed in [JEP 411](https://openjdk.org/jeps/411). Even though it should work in Java 8, this is a dead end road and I would recommend looking for another approach. Something like Linux containers (i.e., Docker or similar) might provide a better solution.","body":"I&#39;m not sure why this isn&#39;t working for you, but I&#39;ll point out that <code>SecurityManager</code> is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityManager.html\" rel=\"nofollow noreferrer\">deprecated for removal as of Java 17</a>, partly because it has never been able to provide guaranteed protection against malicious code. The rationale is detailed in <a href=\"https://openjdk.org/jeps/411\" rel=\"nofollow noreferrer\">JEP 411</a>. Even though it should work in Java 8, this is a dead end road and I would recommend looking for another approach. Something like Linux containers (i.e., Docker or similar) might provide a better solution."}],"answers":[{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677187484,"creation_date":1677187484,"answer_id":75550459,"question_id":75539595,"body_markdown":"You don&#39;t pass any VM parameters to enable a security manager.\r\n\r\nYour current command line is:\r\n\r\n    java -jar HelloWorld.jar -Djava.security.manager -Djava.security.policy=...\r\n\r\nThis means, `-Djava.security.manager -Djava.security.policy=...` are passed as program arguments, not as VM arguments.\r\n\r\nVM arguments have to appear before the `-jar file` or `classname`.  \r\nArguments after that are treated as program arguments and passed as `args` to the main method.\r\n\r\nTo fix that, use\r\n\r\n    Launcher\\files\\azul-1.8.9_345\\bin\\java.exe -Djava.security.manager -Djava.security.policy=C:\\Users\\User\\Desktop\\policy.policy -jar HelloWorld.jar\r\n\r\n---\r\n\r\nThen the format of your policy file is not correct.  \r\nInside `&quot;`, ``\\`` needs to be escaped with `\\\\`.\r\n\r\nAlso, the codebase does not use relative file names, instead file URLs.\r\n\r\nSo, the policy file should look like this:\r\n\r\n    grant codebase &quot;file:/C:/Users/User/Desktop/HelloWorld.jar&quot; {\r\n        permission java.io.FilePermission &quot;C:\\\\Users\\\\User\\\\Desktop\\\\-&quot;, &quot;read&quot;;\r\n    };\r\n\r\nIf your policy file contains errors, it might simply not be used, making debugging difficult.","title":"How to use Java Policy files","body":"<p>You don't pass any VM parameters to enable a security manager.</p>\n<p>Your current command line is:</p>\n<pre><code>java -jar HelloWorld.jar -Djava.security.manager -Djava.security.policy=...\n</code></pre>\n<p>This means, <code>-Djava.security.manager -Djava.security.policy=...</code> are passed as program arguments, not as VM arguments.</p>\n<p>VM arguments have to appear before the <code>-jar file</code> or <code>classname</code>.<br />\nArguments after that are treated as program arguments and passed as <code>args</code> to the main method.</p>\n<p>To fix that, use</p>\n<pre><code>Launcher\\files\\azul-1.8.9_345\\bin\\java.exe -Djava.security.manager -Djava.security.policy=C:\\Users\\User\\Desktop\\policy.policy -jar HelloWorld.jar\n</code></pre>\n<hr />\n<p>Then the format of your policy file is not correct.<br />\nInside <code>&quot;</code>, <code>\\</code> needs to be escaped with <code>\\\\</code>.</p>\n<p>Also, the codebase does not use relative file names, instead file URLs.</p>\n<p>So, the policy file should look like this:</p>\n<pre><code>grant codebase &quot;file:/C:/Users/User/Desktop/HelloWorld.jar&quot; {\n    permission java.io.FilePermission &quot;C:\\\\Users\\\\User\\\\Desktop\\\\-&quot;, &quot;read&quot;;\n};\n</code></pre>\n<p>If your policy file contains errors, it might simply not be used, making debugging difficult.</p>\n"}],"owner":{"account_id":27855836,"reputation":23,"user_id":21269336,"display_name":"8Sence W"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75550459,"answer_count":1,"score":2,"last_activity_date":1677187484,"creation_date":1677113319,"question_id":75539595,"body_markdown":"I&#39;m the owner of a platform which allows anyone to upload their own products (jar files), I&#39;m looking to secure the platform using java policy files.\r\n\r\nI&#39;m using JRE azul-1.8.9_345,\r\n\r\nI&#39;m testing with this program,\r\n\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        String url = &quot;http://www.java2s.com/Code/JarDownload/test/test.jar.zip&quot;;\r\n\r\n        try {\r\n            download(url, &quot;C:\\\\Users\\\\User\\\\Desktop\\\\Test.jar&quot;);\r\n        } catch (IOException exception) {\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void download(String urlStr, String file) throws IOException{\r\n        URL url = new URL(urlStr);\r\n        BufferedInputStream bis = new BufferedInputStream(url.openStream());\r\n        FileOutputStream fis = new FileOutputStream(file);\r\n        byte[] buffer = new byte[1024];\r\n        int count=0;\r\n        while((count = bis.read(buffer,0,1024)) != -1)\r\n        {\r\n            fis.write(buffer, 0, count);\r\n        }\r\n        fis.close();\r\n        bis.close();\r\n    }\r\n```\r\n\r\nI would like to use policy files to prevent this program from running, \r\n\r\nNone of my attempts so far have worked, I&#39;m starting to wonder this might be a unsupported feature, and it might not work anymore.\r\n\r\nThis is my policy\r\n\r\n```\r\ngrant CodeBase &quot;file:HelloWorld.jar&quot; {\r\n    permission java.io.FilePermission &quot;C:\\Users\\User\\Desktop\\&quot;, &quot;read&quot;;\r\n};\r\n```\r\n\r\nI&#39;ve tried using other permissions but they seem to do nothing as well, I appreciate the help.\r\n\r\nCould someone layout, why this doesn&#39;t work?, why I need to specify the file?, even though given when I run the jar, where to find a list of permissions and their arguments? (permission java.io.ExamplePermission (args), (args))\r\n\r\n```\r\nLauncher\\files\\azul-1.8.9_345\\bin\\java.exe -jar HelloWorld.jar -Djava.security.manager -Djava.security.policy=C:\\Users\\User\\Desktop\\policy.policy\r\n```\r\n  \r\n\r\nI&#39;ve attempted using other permissions, they didn&#39;t effect the program either.","title":"How to use Java Policy files","body":"<p>I'm the owner of a platform which allows anyone to upload their own products (jar files), I'm looking to secure the platform using java policy files.</p>\n<p>I'm using JRE azul-1.8.9_345,</p>\n<p>I'm testing with this program,</p>\n<pre><code>    public static void main(String[] args) {\n        String url = &quot;http://www.java2s.com/Code/JarDownload/test/test.jar.zip&quot;;\n\n        try {\n            download(url, &quot;C:\\\\Users\\\\User\\\\Desktop\\\\Test.jar&quot;);\n        } catch (IOException exception) {\n            exception.printStackTrace();\n        }\n    }\n\n    private static void download(String urlStr, String file) throws IOException{\n        URL url = new URL(urlStr);\n        BufferedInputStream bis = new BufferedInputStream(url.openStream());\n        FileOutputStream fis = new FileOutputStream(file);\n        byte[] buffer = new byte[1024];\n        int count=0;\n        while((count = bis.read(buffer,0,1024)) != -1)\n        {\n            fis.write(buffer, 0, count);\n        }\n        fis.close();\n        bis.close();\n    }\n</code></pre>\n<p>I would like to use policy files to prevent this program from running,</p>\n<p>None of my attempts so far have worked, I'm starting to wonder this might be a unsupported feature, and it might not work anymore.</p>\n<p>This is my policy</p>\n<pre><code>grant CodeBase &quot;file:HelloWorld.jar&quot; {\n    permission java.io.FilePermission &quot;C:\\Users\\User\\Desktop\\&quot;, &quot;read&quot;;\n};\n</code></pre>\n<p>I've tried using other permissions but they seem to do nothing as well, I appreciate the help.</p>\n<p>Could someone layout, why this doesn't work?, why I need to specify the file?, even though given when I run the jar, where to find a list of permissions and their arguments? (permission java.io.ExamplePermission (args), (args))</p>\n<pre><code>Launcher\\files\\azul-1.8.9_345\\bin\\java.exe -jar HelloWorld.jar -Djava.security.manager -Djava.security.policy=C:\\Users\\User\\Desktop\\policy.policy\n</code></pre>\n<p>I've attempted using other permissions, they didn't effect the program either.</p>\n"},{"tags":["java","android","ffmpeg"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1677188116,"post_id":75550398,"comment_id":133294169,"body_markdown":"Please edit your title to reflect the actual issue.","body":"Please edit your title to reflect the actual issue."}],"owner":{"account_id":27864151,"reputation":1,"user_id":21276011,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677187437,"creation_date":1677186929,"question_id":75550398,"body_markdown":"I&#39;m working with the ffmpeg library to convert mp4 video files to mp3 audio files.\r\nHere is my code:\r\n\r\n```\r\npackage com.exer;\r\n\r\n\r\nimport android.app.Activity;\r\nimport android.app.ProgressDialog;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.widget.Toast;\r\nimport com.github.hiteshsondhi88.libffmpeg.ExecuteBinaryResponseHandler;\r\nimport com.github.hiteshsondhi88.libffmpeg.FFmpeg;\r\nimport com.github.hiteshsondhi88.libffmpeg.FFmpegLoadBinaryResponseHandler;\r\n\r\npublic class MainActivity extends Activity {\r\n\t\r\n\tFFmpeg ffmpeg;\r\n\tprivate ProgressDialog progressDialog;\r\n\t\r\n\t\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\t\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tsetUp();\r\n\t\t\tString[] command = {\r\n\t\t\t\t&quot;-i&quot;, getPaths()+&quot;/dir/input.mp4&quot;, &quot;-vn&quot;, getPaths()+&quot;/dir/output.mp3&quot;\r\n\t\t\t};\r\n\t\t\t//convert(&quot;ffmpeg -i input.mp4 -vn output.mp3&quot;);\r\n\t\t\tconvert(command);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tToast.makeText(getApplicationContext(), e.getCause().toString(), Toast.LENGTH_SHORT).show();\r\n\t\t}\r\n    }\r\n\t\r\n\t\r\n\tpublic void setUp() throws Exception {\r\n\t\t\r\n\t\tif(ffmpeg == null) {\r\n\t\t\t\r\n\t\t\tffmpeg = FFmpeg.getInstance(this);\r\n\t\t\tffmpeg.loadBinary(new FFmpegLoadBinaryResponseHandler(){\r\n\t\t\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onFailure() {\r\n\t\t\t\tToast.makeText(getApplicationContext(), &quot;failed to load library&quot;, Toast.LENGTH_SHORT).show();\t\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onSuccess() {\r\n\t\t\t\tToast.makeText(getApplicationContext(), &quot;loaded!&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onStart() {\r\n\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onFinish() {\r\n\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tprivate void convert(String[] cmd) throws Exception {\r\n\t\t\r\n\t\tffmpeg.execute(cmd, new ExecuteBinaryResponseHandler(){\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onFailure(String message){\r\n\t\t\t\tsuper.onFailure(message);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onFinish(){\r\n\t\t\t\tsuper.onFinish();\r\n\t\t\t\tToast.makeText(getApplicationContext(), &quot;finished!&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onStart(){\r\n\t\t\t\tsuper.onStart();\r\n\t\t\t\tToast.makeText(getApplicationContext(), &quot;start conversion...&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onProgress(String message){\r\n\t\t\t\tsuper.onProgress(message);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\r\n\t}\r\n\t\r\n\tprivate String getPaths() {\r\n\t\treturn Environment.getExternalStorageDirectory().getPath();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nWhen I run the app, the Toast messages are shown:\r\n\r\n`loaded!`\r\n`start converting...`\r\n`finished!` as I write them in the functions,  apart that nothing else happens the file is not converted what&#39;s wrong?\r\n\r\nHere my manifest file:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.exer&quot;\r\n    android:versionCode=&quot;1&quot;\r\n\tandroid:versionName=&quot;1.0&quot;&gt;\r\n    \r\n    &lt;uses-sdk android:minSdkVersion=&quot;24&quot; android:targetSdkVersion=&quot;31&quot;/&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.WTITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried to delete the specified file on the phone to see what erros I might got, but still those three Toasts.","title":"How to fix the problem I&#39;m having with FFmpeg?","body":"<p>I'm working with the ffmpeg library to convert mp4 video files to mp3 audio files.\nHere is my code:</p>\n<pre><code>package com.exer;\n\n\nimport android.app.Activity;\nimport android.app.ProgressDialog;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.widget.Toast;\nimport com.github.hiteshsondhi88.libffmpeg.ExecuteBinaryResponseHandler;\nimport com.github.hiteshsondhi88.libffmpeg.FFmpeg;\nimport com.github.hiteshsondhi88.libffmpeg.FFmpegLoadBinaryResponseHandler;\n\npublic class MainActivity extends Activity {\n    \n    FFmpeg ffmpeg;\n    private ProgressDialog progressDialog;\n    \n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    \n        \n        \n        try {\n            setUp();\n            String[] command = {\n                &quot;-i&quot;, getPaths()+&quot;/dir/input.mp4&quot;, &quot;-vn&quot;, getPaths()+&quot;/dir/output.mp3&quot;\n            };\n            //convert(&quot;ffmpeg -i input.mp4 -vn output.mp3&quot;);\n            convert(command);\n            \n        } catch (Exception e) {\n            Toast.makeText(getApplicationContext(), e.getCause().toString(), Toast.LENGTH_SHORT).show();\n        }\n    }\n    \n    \n    public void setUp() throws Exception {\n        \n        if(ffmpeg == null) {\n            \n            ffmpeg = FFmpeg.getInstance(this);\n            ffmpeg.loadBinary(new FFmpegLoadBinaryResponseHandler(){\n                    \n            @Override\n            public void onFailure() {\n                Toast.makeText(getApplicationContext(), &quot;failed to load library&quot;, Toast.LENGTH_SHORT).show();   \n            }\n                    \n            @Override\n            public void onSuccess() {\n                Toast.makeText(getApplicationContext(), &quot;loaded!&quot;, Toast.LENGTH_SHORT).show();\n            }\n                    \n            @Override\n            public void onStart() {\n                        \n            }\n                    \n            @Override\n            public void onFinish() {\n                        \n            }\n                    \n                    \n            });\n            \n        }\n        \n    }\n    \n    \n    private void convert(String[] cmd) throws Exception {\n        \n        ffmpeg.execute(cmd, new ExecuteBinaryResponseHandler(){\n            \n            @Override\n            public void onFailure(String message){\n                super.onFailure(message);\n            }\n            \n            @Override\n            public void onFinish(){\n                super.onFinish();\n                Toast.makeText(getApplicationContext(), &quot;finished!&quot;, Toast.LENGTH_SHORT).show();\n            }\n            \n            @Override\n            public void onStart(){\n                super.onStart();\n                Toast.makeText(getApplicationContext(), &quot;start conversion...&quot;, Toast.LENGTH_SHORT).show();\n            }\n            \n            @Override\n            public void onProgress(String message){\n                super.onProgress(message);\n            }\n        });\n        \n    \n    }\n    \n    private String getPaths() {\n        return Environment.getExternalStorageDirectory().getPath();\n    }\n    \n}\n</code></pre>\n<p>When I run the app, the Toast messages are shown:</p>\n<p><code>loaded!</code>\n<code>start converting...</code>\n<code>finished!</code> as I write them in the functions,  apart that nothing else happens the file is not converted what's wrong?</p>\n<p>Here my manifest file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.exer&quot;\n    android:versionCode=&quot;1&quot;\n    android:versionName=&quot;1.0&quot;&gt;\n    \n    &lt;uses-sdk android:minSdkVersion=&quot;24&quot; android:targetSdkVersion=&quot;31&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WTITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I've tried to delete the specified file on the phone to see what erros I might got, but still those three Toasts.</p>\n"},{"tags":["java","timer","variable-initialization"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677188848,"post_id":75550153,"comment_id":133294327,"body_markdown":"You really should only have a single `Timer`.  This then drives all other updates (including user inputs).  The &quot;cause&quot; of your error is the fact that, within the context of the `ActionListener` `beeTimer` is undefined (more or less).  In this type of case, you should be using `ActionEvent#getSource`, which returns an `Object` instance representing the source of the action.  You could then cast it to `Timer` and interact with the `Timer` from there, but read the first part of the comment","body":"You really should only have a single <code>Timer</code>.  This then drives all other updates (including user inputs).  The &quot;cause&quot; of your error is the fact that, within the context of the <code>ActionListener</code> <code>beeTimer</code> is undefined (more or less).  In this type of case, you should be using <code>ActionEvent#getSource</code>, which returns an <code>Object</code> instance representing the source of the action.  You could then cast it to <code>Timer</code> and interact with the <code>Timer</code> from there, but read the first part of the comment"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677187199,"creation_date":1677187199,"answer_id":75550428,"question_id":75550153,"body_markdown":"For your game do not use swing labels or buttons at all.\r\nInstead, create one component (derived from e.g. JPanel) and override the paintComponent() method.\r\n\r\nUse Swing Timers to trigger &#39;automatic&#39; actions, use Mouse and Keyboard Events to trigger user triggered actions. Calculate the state, then use repaint() to tell Swing it needs to render the component. Swing will do it as soon as it &#39;feels like&#39;.\r\n\r\nFor more hints/libraries just use the correct StackOverflow search:\r\nhttps://stackoverflow.com/search?q=java+game+programming","title":"Is there a way in Java to make labels move without user influence?","body":"<p>For your game do not use swing labels or buttons at all.\nInstead, create one component (derived from e.g. JPanel) and override the paintComponent() method.</p>\n<p>Use Swing Timers to trigger 'automatic' actions, use Mouse and Keyboard Events to trigger user triggered actions. Calculate the state, then use repaint() to tell Swing it needs to render the component. Swing will do it as soon as it 'feels like'.</p>\n<p>For more hints/libraries just use the correct StackOverflow search:\n<a href=\"https://stackoverflow.com/search?q=java+game+programming\">https://stackoverflow.com/search?q=java+game+programming</a></p>\n"}],"owner":{"account_id":26967963,"reputation":3,"user_id":20534453,"display_name":"jajuub"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75550428,"answer_count":1,"score":0,"last_activity_date":1677187199,"creation_date":1677185158,"question_id":75550153,"body_markdown":"I am trying to develop an application where the user moves a can back and forth on the bottom of the screen to try to catch bees as they fall. I have successfullly gotten the can movement working, but I am stuck on the bees&#39; movement. In my current phase, I have a single bee imported that I want to fall from the top of the screen to the bottom, but it just stays at the top of the screen when it runs. I get an error here:\r\n\r\n`beeTimer.stop();`\r\n\r\nThe error message: The local variable beeTimer may not have been initialized\r\n\r\nHere is where it was initialized:\r\n\r\n\r\n```\r\ntry {\r\n            Timer beeTimer = new Timer(500, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    System.out.println(&quot;bee movin!&quot;);\r\n                    beeY[0] += beeSpeed;\r\n                    beeLabel.setLocation(beeX, beeY[0]);\r\n\r\n                    if (beeY[0] + 106 &gt; (frame.getContentPane().getHeight() - 200)) {\r\n                        beeTimer.stop();\r\n                    }\r\n                }           \r\n            });\r\n            beeTimer.start();\r\n        } finally{}\r\n\r\n```\r\n\r\n\r\nand here is my entire code up to now:\r\n\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.imageio.ImageIO;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.swing.*;\r\nimport java.awt.Dimension;\r\nimport java.awt.Point;\r\nimport java.awt.Toolkit;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.MouseEvent;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.Timer;\r\n\r\n//let the can be draggable by the mouse\r\nclass DraggableLabel extends JLabel implements MouseListener, MouseMotionListener {\r\n    private Point mouseOffset;\r\n\r\n    public DraggableLabel(ImageIcon icon) {\r\n        super(icon);\r\n        addMouseListener(this);\r\n        addMouseMotionListener(this);\r\n    }\r\n\r\n    public void mousePressed(MouseEvent e) {\r\n        mouseOffset = e.getPoint();\r\n    }\r\n\r\n    public void mouseDragged(MouseEvent e) {\r\n        Point newMousePos = e.getLocationOnScreen();\r\n        newMousePos.translate(-mouseOffset.x, -(newMousePos.y - getLocation().y));\r\n        setLocation(newMousePos);\r\n    }\r\n\r\n    // The following methods are not needed for dragging, but must be implemented because we implement the MouseListener and MouseMotionListener interfaces.\r\n    public void mouseClicked(MouseEvent e) {}\r\n    public void mouseEntered(MouseEvent e) {}\r\n    public void mouseExited(MouseEvent e) {}\r\n    public void mouseReleased(MouseEvent e) {}\r\n    public void mouseMoved(MouseEvent e) {}\r\n}\r\n\r\nclass App{\r\n    public static void main(String[] args){\r\n        //declare the frame, or window of the game\r\n        JFrame frame = new JFrame(&quot;Game&quot;);\r\n\r\n        //declare the image variables\r\n        ImageIcon can = null;\r\n        ImageIcon bee = null;\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n\r\n        //load the can image file\r\n        try {\r\n            File canFile = new File(&quot;assets/can.png&quot;);\r\n            BufferedImage originalCan = ImageIO.read(canFile);\r\n            if (originalCan == null) {\r\n                throw new IOException(&quot;Unable to read image file: &quot; + canFile.getName());\r\n            }\r\n\r\n            int canWidth = 75;\r\n            int canHeight = 136; \r\n            Image icon = originalCan.getScaledInstance(canWidth, canHeight, Image.SCALE_SMOOTH);\r\n\r\n            can = new ImageIcon(icon);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //load the bee image file\r\n        try {\r\n            File beeFile = new File(&quot;assets/bee.png&quot;);\r\n            BufferedImage originalBee = ImageIO.read(beeFile);\r\n            if (originalBee == null) {\r\n                throw new IOException(&quot;Unable to read image file: &quot; + beeFile.getName());\r\n            }\r\n\r\n            int beeWidth = 40;\r\n            int beeHeight = 61; \r\n            Image icon = originalBee.getScaledInstance(beeWidth, beeHeight, Image.SCALE_SMOOTH);\r\n\r\n            bee = new ImageIcon(icon);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //import the bee image\r\n        Image beeImage = bee.getImage();\r\n        ImageIcon beeFall = new ImageIcon(beeImage);\r\n        JLabel beeLabel = new JLabel(beeFall);\r\n        \r\n        //set bee spawn location\r\n        int beeX = (screenSize.width - bee.getIconWidth()) / 2;\r\n        final int[] beeY = {0};\r\n        beeLabel.setBounds(beeX, beeY[0], 60, 106);\r\n        frame.getContentPane().add(beeLabel);\r\n\r\n        //bee falling behavior\r\n        int beeSpeed = 5;\r\n        try {\r\n            Timer beeTimer = new Timer(500, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    System.out.println(&quot;bee movin!&quot;);\r\n                    beeY[0] += beeSpeed;\r\n                    beeLabel.setLocation(beeX, beeY[0]);\r\n\r\n                    if (beeY[0] + 106 &gt; (frame.getContentPane().getHeight() - 200)) {\r\n                        beeTimer.stop();\r\n                    }\r\n                }           \r\n            });\r\n            beeTimer.start();\r\n        } finally{}\r\n\r\n        //import the can image as draggable\r\n        DraggableLabel label = new DraggableLabel(can);\r\n        frame.getContentPane().setLayout(null);\r\n        label.setSize(can.getIconWidth(), can.getIconHeight());\r\n        frame.getContentPane().add(label);\r\n\r\n        // Position can in the center horizontally and just above the bottom vertically\r\n        int x = (screenSize.width - can.getIconWidth()) / 2;\r\n        int y = screenSize.height - can.getIconHeight() - 175; // 50 pixels above the bottom\r\n        label.setLocation(x, y);\r\n\r\n        //make frame visible\r\n        frame.setExtendedState(Frame.MAXIMIZED_BOTH);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n        }\r\n}\r\n```\r\n\r\nAny suggestions would be greatly appreciated!\r\n","title":"Is there a way in Java to make labels move without user influence?","body":"<p>I am trying to develop an application where the user moves a can back and forth on the bottom of the screen to try to catch bees as they fall. I have successfullly gotten the can movement working, but I am stuck on the bees' movement. In my current phase, I have a single bee imported that I want to fall from the top of the screen to the bottom, but it just stays at the top of the screen when it runs. I get an error here:</p>\n<p><code>beeTimer.stop();</code></p>\n<p>The error message: The local variable beeTimer may not have been initialized</p>\n<p>Here is where it was initialized:</p>\n<pre><code>try {\n            Timer beeTimer = new Timer(500, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.out.println(&quot;bee movin!&quot;);\n                    beeY[0] += beeSpeed;\n                    beeLabel.setLocation(beeX, beeY[0]);\n\n                    if (beeY[0] + 106 &gt; (frame.getContentPane().getHeight() - 200)) {\n                        beeTimer.stop();\n                    }\n                }           \n            });\n            beeTimer.start();\n        } finally{}\n\n</code></pre>\n<p>and here is my entire code up to now:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.swing.*;\nimport java.awt.Dimension;\nimport java.awt.Point;\nimport java.awt.Toolkit;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseEvent;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.Timer;\n\n//let the can be draggable by the mouse\nclass DraggableLabel extends JLabel implements MouseListener, MouseMotionListener {\n    private Point mouseOffset;\n\n    public DraggableLabel(ImageIcon icon) {\n        super(icon);\n        addMouseListener(this);\n        addMouseMotionListener(this);\n    }\n\n    public void mousePressed(MouseEvent e) {\n        mouseOffset = e.getPoint();\n    }\n\n    public void mouseDragged(MouseEvent e) {\n        Point newMousePos = e.getLocationOnScreen();\n        newMousePos.translate(-mouseOffset.x, -(newMousePos.y - getLocation().y));\n        setLocation(newMousePos);\n    }\n\n    // The following methods are not needed for dragging, but must be implemented because we implement the MouseListener and MouseMotionListener interfaces.\n    public void mouseClicked(MouseEvent e) {}\n    public void mouseEntered(MouseEvent e) {}\n    public void mouseExited(MouseEvent e) {}\n    public void mouseReleased(MouseEvent e) {}\n    public void mouseMoved(MouseEvent e) {}\n}\n\nclass App{\n    public static void main(String[] args){\n        //declare the frame, or window of the game\n        JFrame frame = new JFrame(&quot;Game&quot;);\n\n        //declare the image variables\n        ImageIcon can = null;\n        ImageIcon bee = null;\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n\n        //load the can image file\n        try {\n            File canFile = new File(&quot;assets/can.png&quot;);\n            BufferedImage originalCan = ImageIO.read(canFile);\n            if (originalCan == null) {\n                throw new IOException(&quot;Unable to read image file: &quot; + canFile.getName());\n            }\n\n            int canWidth = 75;\n            int canHeight = 136; \n            Image icon = originalCan.getScaledInstance(canWidth, canHeight, Image.SCALE_SMOOTH);\n\n            can = new ImageIcon(icon);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        //load the bee image file\n        try {\n            File beeFile = new File(&quot;assets/bee.png&quot;);\n            BufferedImage originalBee = ImageIO.read(beeFile);\n            if (originalBee == null) {\n                throw new IOException(&quot;Unable to read image file: &quot; + beeFile.getName());\n            }\n\n            int beeWidth = 40;\n            int beeHeight = 61; \n            Image icon = originalBee.getScaledInstance(beeWidth, beeHeight, Image.SCALE_SMOOTH);\n\n            bee = new ImageIcon(icon);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        //import the bee image\n        Image beeImage = bee.getImage();\n        ImageIcon beeFall = new ImageIcon(beeImage);\n        JLabel beeLabel = new JLabel(beeFall);\n        \n        //set bee spawn location\n        int beeX = (screenSize.width - bee.getIconWidth()) / 2;\n        final int[] beeY = {0};\n        beeLabel.setBounds(beeX, beeY[0], 60, 106);\n        frame.getContentPane().add(beeLabel);\n\n        //bee falling behavior\n        int beeSpeed = 5;\n        try {\n            Timer beeTimer = new Timer(500, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.out.println(&quot;bee movin!&quot;);\n                    beeY[0] += beeSpeed;\n                    beeLabel.setLocation(beeX, beeY[0]);\n\n                    if (beeY[0] + 106 &gt; (frame.getContentPane().getHeight() - 200)) {\n                        beeTimer.stop();\n                    }\n                }           \n            });\n            beeTimer.start();\n        } finally{}\n\n        //import the can image as draggable\n        DraggableLabel label = new DraggableLabel(can);\n        frame.getContentPane().setLayout(null);\n        label.setSize(can.getIconWidth(), can.getIconHeight());\n        frame.getContentPane().add(label);\n\n        // Position can in the center horizontally and just above the bottom vertically\n        int x = (screenSize.width - can.getIconWidth()) / 2;\n        int y = screenSize.height - can.getIconHeight() - 175; // 50 pixels above the bottom\n        label.setLocation(x, y);\n\n        //make frame visible\n        frame.setExtendedState(Frame.MAXIMIZED_BOTH);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        }\n}\n</code></pre>\n<p>Any suggestions would be greatly appreciated!</p>\n"},{"tags":["java","maven","junit","pom.xml"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1677080309,"post_id":75534700,"comment_id":133267504,"body_markdown":"Have you tried configuring the surefire plugin? See suggestions in https://stackoverflow.com/questions/55303837/problem-running-tests-with-enabled-preview-features-in-surefire-and-failsafe and https://stackoverflow.com/questions/61044079/maven-surefire-plugin-not-using-enable-preview-mode","body":"Have you tried configuring the surefire plugin? See suggestions in <a href=\"https://stackoverflow.com/questions/55303837/problem-running-tests-with-enabled-preview-features-in-surefire-and-failsafe\" title=\"problem running tests with enabled preview features in surefire and failsafe\">stackoverflow.com/questions/55303837/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/61044079/maven-surefire-plugin-not-using-enable-preview-mode\" title=\"maven surefire plugin not using enable preview mode\">stackoverflow.com/questions/61044079/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677186947,"creation_date":1677085810,"answer_id":75536031,"question_id":75534700,"body_markdown":"First you should upgrade the plugin version to the most recent version 3.10.1 as well as for maven-surefire-plugin (3.0.0-M9):\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;compilerArgs&gt;\r\n              &lt;compilerArg&gt;--enable-preview&lt;/compilerArg&gt;\r\n            &lt;/compilerArgs&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\n* Documentation for [maven-surefire-plugin][1] and also explicit the docs for [args.][2]\r\n* Documentation for the [maven-compiler-plugin][3] and also explict the reference for [compilerArgs.][4]\r\n\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/\r\n  [2]: https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine\r\n  [3]: https://maven.apache.org/plugins/maven-compiler-plugin/\r\n  [4]: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#compilerArgs","title":"Enable-preview with maven and junit","body":"<p>First you should upgrade the plugin version to the most recent version 3.10.1 as well as for maven-surefire-plugin (3.0.0-M9):</p>\n\n<pre><code>    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;compilerArgs&gt;\n          &lt;compilerArg&gt;--enable-preview&lt;/compilerArg&gt;\n        &lt;/compilerArgs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>Documentation for <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/\" rel=\"nofollow noreferrer\">maven-surefire-plugin</a> and also explicit the docs for <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine\" rel=\"nofollow noreferrer\">args.</a></li>\n<li>Documentation for the <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/\" rel=\"nofollow noreferrer\">maven-compiler-plugin</a> and also explict the reference for <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#compilerArgs\" rel=\"nofollow noreferrer\">compilerArgs.</a></li>\n</ul>\n"}],"owner":{"account_id":19529,"reputation":31885,"user_id":45843,"accept_rate":91,"display_name":"rwallace"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677186947,"creation_date":1677078835,"question_id":75534700,"body_markdown":"I&#39;m writing some Java code using pattern-matching switch, which requires `--enable-preview` to be set in several contexts (compiler, runtime, IDE). At this point, I&#39;ve got all except one of them: unit tests.\r\n\r\nI have these in `pom.xml`:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;18&lt;/source&gt;\r\n          &lt;target&gt;18&lt;/target&gt;\r\n          &lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.13.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand Maven successfully enables preview for the compiler, but not the unit tests. How do I enable it for junit?","title":"Enable-preview with maven and junit","body":"<p>I'm writing some Java code using pattern-matching switch, which requires <code>--enable-preview</code> to be set in several contexts (compiler, runtime, IDE). At this point, I've got all except one of them: unit tests.</p>\n<p>I have these in <code>pom.xml</code>:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;18&lt;/source&gt;\n      &lt;target&gt;18&lt;/target&gt;\n      &lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;4.13.2&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and Maven successfully enables preview for the compiler, but not the unit tests. How do I enable it for junit?</p>\n"},{"tags":["java","model-view-controller","spring","wicket"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1234482973,"creation_date":1234482973,"answer_id":544122,"question_id":544049,"body_markdown":"Spring is more all-encompassing than Wicket.\r\n\r\nWicket is a Java web UI framework.  Spring has one as well, along with modules for persistence, remoting, security, messaging, etc.\r\n\r\nSpring is built on dependency injection and AOP.  Wicket has neither.\r\n\r\nI have not used it, but it&#39;s supposed to be simple.  I can&#39;t say whether Spring is easier or harder.\r\n\r\nYou can use Spring to good advantage in a lot of situations besides web applications.\r\n\r\n","title":"What are the advantages of Apache Wicket?","body":"<p>Spring is more all-encompassing than Wicket.</p>\n\n<p>Wicket is a Java web UI framework.  Spring has one as well, along with modules for persistence, remoting, security, messaging, etc.</p>\n\n<p>Spring is built on dependency injection and AOP.  Wicket has neither.</p>\n\n<p>I have not used it, but it's supposed to be simple.  I can't say whether Spring is easier or harder.</p>\n\n<p>You can use Spring to good advantage in a lot of situations besides web applications.</p>\n"},{"tags":[],"owner":{"account_id":19697,"reputation":16105,"user_id":46375,"accept_rate":100,"display_name":"whaley"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1234489840,"creation_date":1234489840,"answer_id":544431,"question_id":544049,"body_markdown":"Advantages that often get touted in circles I frequent are:\r\n\r\n 1.  Your html can be fully xhtml compliant - there is a VERY nice separation of presentation and logic in that the only thing your presentation/html layer needs to know about wicket are wicketid attributes in standard html tags.  This is wonderful for the html/css/javascript client side guy on your team who does little to no actual java work. No other java based web framework can claim this, afaik.\r\n 2. No xml config for anything wicket specific - everything can be done in source and very little needs to be done to the standard web.xml for your .war\r\n 3. component based development is pretty easy to grok - especially if you have a non web background (e.g. a swing programmer).  it encourages reuse quite a bit more than mvc does, imo.  ","title":"What are the advantages of Apache Wicket?","body":"<p>Advantages that often get touted in circles I frequent are:</p>\n\n<ol>\n<li>Your html can be fully xhtml compliant - there is a VERY nice separation of presentation and logic in that the only thing your presentation/html layer needs to know about wicket are wicketid attributes in standard html tags.  This is wonderful for the html/css/javascript client side guy on your team who does little to no actual java work. No other java based web framework can claim this, afaik.</li>\n<li>No xml config for anything wicket specific - everything can be done in source and very little needs to be done to the standard web.xml for your .war</li>\n<li>component based development is pretty easy to grok - especially if you have a non web background (e.g. a swing programmer).  it encourages reuse quite a bit more than mvc does, imo.  </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":31324,"reputation":34658,"user_id":85931,"accept_rate":57,"display_name":"tpdi"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1238864072,"creation_date":1238864072,"answer_id":717394,"question_id":544049,"body_markdown":"Spring&#39;s more than Spring MVC. You can (and probably should) use Spring *with* Wicket.","title":"What are the advantages of Apache Wicket?","body":"<p>Spring's more than Spring MVC. You can (and probably should) use Spring <em>with</em> Wicket.</p>\n"},{"tags":[],"owner":{"account_id":199833,"reputation":1718,"user_id":445367,"display_name":"Eelco"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1250186137,"creation_date":1250186137,"answer_id":1273593,"question_id":544049,"body_markdown":"You can read about the advantages of using Wicket in the free first chapter of Wicket In Action: http://www.manning.com/dashorst/\r\n\r\nIn short, Wicket is a great framework when the application you&#39;re developing is relatively complex, you want it to be maintainable, being able to scale the team and take advantage of reuse. Object oriented programming proved to be a very useful paradigm for programming UIs, but unfortunately, most Java frameworks for developing web applications, including Spring MVC, only support a very procedural programming model where they tag the term MVC on to make it sound cool (but in fact, since the granularity they support are request/ response roundtrips rather than self contained widgets, MVC is really misleading).\r\n\r\nThe DI part of Spring is great, and is something you can easily use together with Wicket.","title":"What are the advantages of Apache Wicket?","body":"<p>You can read about the advantages of using Wicket in the free first chapter of Wicket In Action: <a href=\"http://www.manning.com/dashorst/\" rel=\"noreferrer\">http://www.manning.com/dashorst/</a></p>\n\n<p>In short, Wicket is a great framework when the application you're developing is relatively complex, you want it to be maintainable, being able to scale the team and take advantage of reuse. Object oriented programming proved to be a very useful paradigm for programming UIs, but unfortunately, most Java frameworks for developing web applications, including Spring MVC, only support a very procedural programming model where they tag the term MVC on to make it sound cool (but in fact, since the granularity they support are request/ response roundtrips rather than self contained widgets, MVC is really misleading).</p>\n\n<p>The DI part of Spring is great, and is something you can easily use together with Wicket.</p>\n"},{"tags":[],"owner":{"account_id":94225,"reputation":2029,"user_id":257364,"accept_rate":0,"display_name":"Volksman"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1677186809,"creation_date":1277418751,"answer_id":3114396,"question_id":544049,"body_markdown":"Wicket rocks!\r\n\r\nSpring (which has a UI module called Spring MVC) just seems to be a mega, &#39;do everything, including the kitchen sink&#39;, type of framework which made it appear huge and unwieldy to me when I started to evaluate Spring (and Spring MVC). Today Spring doesn&#39;t seem to me to be focussed on any one thing. Originally I think it was simply a dependency injection framework but it quickly grew to try to be all things to all people and the simplicity was lost.\r\n\r\nThe books I read on Spring had examples that contained way too much XML config. Errors in XML config files are a lot harder to debug and fix than errors in java code which you can single step through with your debugger.\r\n\r\nWhat&#39;s wrong with declaring stuff in Java code instead of XML anyway? Since when did someone decree that everything should be declared in XML anyway? If you like swimming in a sea of complex XML config files then go with Spring. If you like getting work done and being productive then go with Wicket.\r\n\r\nWicket is very focussed on being the best Java based UI framework for web app development. It doesn&#39;t try to lock you into any particular dependency injection framework or any particular persistence framework (use it with JDO/JPA, DataNucleus, Hibernate, whatever). \r\n\r\nIt&#39;s focus is clearly on UI but you can use any dependency injection framework you like (you don&#39;t have to use Spring&#39;s DI with it but you can if you want). We even use our own DI (http://www.expojo.com) with Wicket and all is funky.\r\n\r\n**Update**\r\n\r\nI was recently working on a Spring project and had to come up to speed with it and everything I had suspected about Spring in my initial evaluation was true but there were many more surprises that made it much, much worse than I had imagined.\r\n\r\nWith annotations littered through the code the start up time of Spring based app compared to the same app before being &quot;Spring enabled&quot; was well more than tripled.\r\n\r\nDebugging by single stepping through &quot;your&quot; code is a nightmare whenever you traverse a line of code that has been &quot;AOPed&quot; by Spring&#39;s AOP which seems to reach its tentacles into virtually every class. What looks like it should be a single step into a line of your code leads to a hyperjump into a 37 level deep labyrinth of AOPed, Spring framework code.\r\n\r\nThis happens for almost everything - not the least any ORM (eg. Hibernate/JPA, DataNucleus/JPA) related methods. If you&#39;re wondering why apps run slower with Spring/Hibernate compared to non AOPed calls to an ORM like DataNucleus then those 37 deep &quot;implicit&quot; AOPed calls should give you some hint...\r\n\r\nOh and the potential for &quot;gotchas&quot; is next level. Try using &#39;synchronized&#39; on an Spring transactional annotation and see how &#39;synchronized&#39; it actually is! Scary!\r\n\r\nI understand Spring&#39;s popularity (although appears to be waning lately): because a lot of people don&#39;t think - they just blindly use tech because they assume it&#39;s great because other people are using it. That was never a good assumption - remember EJBs??? (Worse tech ever but every job ad back in the day required EJB &quot;skills&quot;)","title":"What are the advantages of Apache Wicket?","body":"<p>Wicket rocks!</p>\n<p>Spring (which has a UI module called Spring MVC) just seems to be a mega, 'do everything, including the kitchen sink', type of framework which made it appear huge and unwieldy to me when I started to evaluate Spring (and Spring MVC). Today Spring doesn't seem to me to be focussed on any one thing. Originally I think it was simply a dependency injection framework but it quickly grew to try to be all things to all people and the simplicity was lost.</p>\n<p>The books I read on Spring had examples that contained way too much XML config. Errors in XML config files are a lot harder to debug and fix than errors in java code which you can single step through with your debugger.</p>\n<p>What's wrong with declaring stuff in Java code instead of XML anyway? Since when did someone decree that everything should be declared in XML anyway? If you like swimming in a sea of complex XML config files then go with Spring. If you like getting work done and being productive then go with Wicket.</p>\n<p>Wicket is very focussed on being the best Java based UI framework for web app development. It doesn't try to lock you into any particular dependency injection framework or any particular persistence framework (use it with JDO/JPA, DataNucleus, Hibernate, whatever).</p>\n<p>It's focus is clearly on UI but you can use any dependency injection framework you like (you don't have to use Spring's DI with it but you can if you want). We even use our own DI (<a href=\"http://www.expojo.com\" rel=\"nofollow noreferrer\">http://www.expojo.com</a>) with Wicket and all is funky.</p>\n<p><strong>Update</strong></p>\n<p>I was recently working on a Spring project and had to come up to speed with it and everything I had suspected about Spring in my initial evaluation was true but there were many more surprises that made it much, much worse than I had imagined.</p>\n<p>With annotations littered through the code the start up time of Spring based app compared to the same app before being &quot;Spring enabled&quot; was well more than tripled.</p>\n<p>Debugging by single stepping through &quot;your&quot; code is a nightmare whenever you traverse a line of code that has been &quot;AOPed&quot; by Spring's AOP which seems to reach its tentacles into virtually every class. What looks like it should be a single step into a line of your code leads to a hyperjump into a 37 level deep labyrinth of AOPed, Spring framework code.</p>\n<p>This happens for almost everything - not the least any ORM (eg. Hibernate/JPA, DataNucleus/JPA) related methods. If you're wondering why apps run slower with Spring/Hibernate compared to non AOPed calls to an ORM like DataNucleus then those 37 deep &quot;implicit&quot; AOPed calls should give you some hint...</p>\n<p>Oh and the potential for &quot;gotchas&quot; is next level. Try using 'synchronized' on an Spring transactional annotation and see how 'synchronized' it actually is! Scary!</p>\n<p>I understand Spring's popularity (although appears to be waning lately): because a lot of people don't think - they just blindly use tech because they assume it's great because other people are using it. That was never a good assumption - remember EJBs??? (Worse tech ever but every job ad back in the day required EJB &quot;skills&quot;)</p>\n"},{"tags":[],"owner":{"account_id":172968,"reputation":519,"user_id":401352,"display_name":"Sheng Chien"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1287685009,"creation_date":1286913537,"answer_id":3918508,"question_id":544049,"body_markdown":"Some advantages of Wicket I like:\r\n\r\n1. Simplicity - Learning curve is small especially if you are from Swing school.\r\n2. Clean Separation of Concerns - Web designer does not need to know much about the codes.\r\n3. Ease of Deployment.\r\n\r\n [Here is my blog to show hello world codes in Wicket][1]\r\n\r\n\r\n  [1]: http://shengchien.blogspot.com/2009/10/wicket-in-iphone-development.html","title":"What are the advantages of Apache Wicket?","body":"<p>Some advantages of Wicket I like:</p>\n\n<ol>\n<li>Simplicity - Learning curve is small especially if you are from Swing school.</li>\n<li>Clean Separation of Concerns - Web designer does not need to know much about the codes.</li>\n<li><p>Ease of Deployment.</p>\n\n<p><a href=\"http://shengchien.blogspot.com/2009/10/wicket-in-iphone-development.html\" rel=\"nofollow\">Here is my blog to show hello world codes in Wicket</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28504,"reputation":3781,"user_id":76205,"accept_rate":72,"display_name":"Andrew Fielden"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1310640912,"creation_date":1310640912,"answer_id":6692082,"question_id":544049,"body_markdown":"I agree with the answers provided so far. What hasn&#39;t been mentioned are the following points, which are a consequence of Wicket&#39;s approach of web application development focussed on Java code:-\r\n\r\n - Wicket development does not involve writing JSPs.\r\n - AJAX components can be developed without involving the writing of Javascript.\r\n\r\nI haven&#39;t come across any other framework which takes this Java-centric approach. All the others I&#39;ve used (Struts, Spring) involve JSP development.\r\n\r\nFor me a big advantage of Wicket is the focus on Java, and availablity of rich development environment tools like Eclipse. Also the very clean separation of business logic from presentation aspects of the application.","title":"What are the advantages of Apache Wicket?","body":"<p>I agree with the answers provided so far. What hasn't been mentioned are the following points, which are a consequence of Wicket's approach of web application development focussed on Java code:-</p>\n\n<ul>\n<li>Wicket development does not involve writing JSPs.</li>\n<li>AJAX components can be developed without involving the writing of Javascript.</li>\n</ul>\n\n<p>I haven't come across any other framework which takes this Java-centric approach. All the others I've used (Struts, Spring) involve JSP development.</p>\n\n<p>For me a big advantage of Wicket is the focus on Java, and availablity of rich development environment tools like Eclipse. Also the very clean separation of business logic from presentation aspects of the application.</p>\n"},{"tags":[],"owner":{"account_id":911800,"reputation":41,"user_id":945464,"display_name":"Frank Silbermann"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1316031606,"creation_date":1316031606,"answer_id":7422476,"question_id":544049,"body_markdown":"Spring gives you the MVC design pattern only at the page level -- a very coarse level of granularity indeed.  Wicket, in contrast, gives you the MVC design pattern at the individual component level (much as Swing offers for fat client programming).  With Spring MVC, all of a form&#39;s data is global to the entire front servlet, so there is not much opportunity for information hiding, loose coupling, or tight cohesion.  With Wicket, your display logic can be much more modular -- the data managed by componentA need not be visible to the code for componentB.\r\n\r\nThe smaller level of granularity makes it much easier to reuse display code across a number of different web pages or even across web applications.\r\n\r\nAlso, because component configuration is done in Java rather than XML, they can be configured on-the-fly at run-time, making for much greater power and flexibility (as contrasted with most other component-oriented frameworks such as ASP.NET Web Forms or Java Server Faces). ","title":"What are the advantages of Apache Wicket?","body":"<p>Spring gives you the MVC design pattern only at the page level -- a very coarse level of granularity indeed.  Wicket, in contrast, gives you the MVC design pattern at the individual component level (much as Swing offers for fat client programming).  With Spring MVC, all of a form's data is global to the entire front servlet, so there is not much opportunity for information hiding, loose coupling, or tight cohesion.  With Wicket, your display logic can be much more modular -- the data managed by componentA need not be visible to the code for componentB.</p>\n\n<p>The smaller level of granularity makes it much easier to reuse display code across a number of different web pages or even across web applications.</p>\n\n<p>Also, because component configuration is done in Java rather than XML, they can be configured on-the-fly at run-time, making for much greater power and flexibility (as contrasted with most other component-oriented frameworks such as ASP.NET Web Forms or Java Server Faces). </p>\n"},{"tags":[],"owner":{"account_id":2157072,"reputation":3397,"user_id":1912032,"accept_rate":86,"display_name":"code_fish"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1387446860,"creation_date":1356516581,"answer_id":14039026,"question_id":544049,"body_markdown":"Here are some features of apache wicket:\r\n\r\n \r\n\r\n**POJO Component Model**\r\n\r\nPages and Components in Wicket are real Java objects that support encapsulation, inheritance and events.\r\n\r\n**Ease of Development**\r\n\r\nBecause Wicket is Java and HTML, you can leverage what you know about Java or your favorite HTML editor to write Wicket applications.\r\n\r\n**Separation of Concerns**\r\n\r\nWicket does not mix markup with Java code and adds no special syntax to your markup files. The worlds of HTML and Java are parallel and associated only by Wicket ids, which are attributes in HTML and Component properties in Java. Since Wicket HTML is just HTML and Wicket Java is just Java, coders and designers can work independently to a large degree and without relying on any special tools.\r\n\r\n**Secure**\r\n\r\nWicket is secure by default. URLs do not expose sensitive information and all component paths are session-relative. Explicit steps must be taken to share information between sessions. Furthermore URL encryption allows highly secure web sites.\r\n\r\n**Transparent, Scalable Clustering Support**\r\n\r\nAll Wicket applications will work on a cluster automatically and without additional work. Once bottlenecks are understood, Wicket enables tuning of page state replication. The next version of Wicket will support client-side models for zero-state scalability.\r\n\r\n**Transparent Back Button Support**\r\n\r\nWicket supports configurable page version management. When users submit a form or follow a link from a page they accessed with the back button in their browser, Wicket is able to revert the page object to the state it was in when the page was originally rendered. This means you can write web applications that support the back button with very little work.\r\n\r\n**Multi-tab and multi-window support**\r\n\r\nWicket provides an easy way to write application that supports multi-window and multi-tab usage allowing developer to react properly when users open new browser window or tab\r\n\r\n**Reusable Components**\r\n\r\nReusable components in Wicket are particularly easy to create. Not only can you extend existing components with the Java extends keyword, but you can also create Panel components which associate a group of components as a reusable unit.\r\n\r\n**Simple, Flexible, Localizable Form Validation**\r\n\r\nIt is trivial to write and use validators in Wicket. It is also quite easy to customize and localize the display and content of validation error messages.\r\n\r\n**Typesafe Sessions**\r\n\r\nWicket eliminates the need to manage HttpSession attributes by hand. Page and component objects are transparently stored in the session and your application can create a custom session subclass with typesafe properties as well. All objects stored in the session can automatically participate in clustering replication.\r\n\r\n**Factory Customizable**\r\n\r\nWicket is very extensible. Most operations are customizable through factories or factory methods.\r\n\r\n**Detachable Models**\r\n\r\nModel objects in Wicket can be very lightweight in terms of memory and network use in a cluster. When a model is used, it can attach, populating itself with information from persistent storage. When the model is no longer in use, transient information can be reset, reducing the size of the object.\r\n\r\n**Border Components**\r\n\r\nWicket Border components enable the decoration of pages in a reusable fashion. This is especially useful for inheritance of common navigational structures or layout.\r\n\r\n**Support for All Basic HTML Features**\r\n\r\nWicket supports image tags, links, forms and everything else that youre used to using in your web application development.\r\n\r\n**Programmatic Manipulation of Attributes**\r\n\r\nWicket Components can programmatically change any HTML tag attribute.\r\n\r\n**Automatic Conversions**\r\n\r\nOnce a Form validates, the model can be updated using Wicket converters. Most ordinary conversions are built-in and it is easy to write new converters.\r\n\r\n**Dynamic Images**\r\n\r\nWicket makes image use, sharing and generation very easy. Dynamic images can be created by simply implementing a paint method.\r\n\r\n**Pageable ListView**\r\n\r\nListViews in Wicket are extremely powerful. You can nest any kind of component in a ListView row, even other ListViews. PageableListView supports navigation links for the large lists.\r\n\r\n**Tree Component**\r\n\r\nOut of the box tree component for navigating and selecting nodes.\r\n\r\n**Localization**\r\n\r\nHTML pages, images and resource strings can all be localized.","title":"What are the advantages of Apache Wicket?","body":"<p>Here are some features of apache wicket:</p>\n\n<p><strong>POJO Component Model</strong></p>\n\n<p>Pages and Components in Wicket are real Java objects that support encapsulation, inheritance and events.</p>\n\n<p><strong>Ease of Development</strong></p>\n\n<p>Because Wicket is Java and HTML, you can leverage what you know about Java or your favorite HTML editor to write Wicket applications.</p>\n\n<p><strong>Separation of Concerns</strong></p>\n\n<p>Wicket does not mix markup with Java code and adds no special syntax to your markup files. The worlds of HTML and Java are parallel and associated only by Wicket ids, which are attributes in HTML and Component properties in Java. Since Wicket HTML is just HTML and Wicket Java is just Java, coders and designers can work independently to a large degree and without relying on any special tools.</p>\n\n<p><strong>Secure</strong></p>\n\n<p>Wicket is secure by default. URLs do not expose sensitive information and all component paths are session-relative. Explicit steps must be taken to share information between sessions. Furthermore URL encryption allows highly secure web sites.</p>\n\n<p><strong>Transparent, Scalable Clustering Support</strong></p>\n\n<p>All Wicket applications will work on a cluster automatically and without additional work. Once bottlenecks are understood, Wicket enables tuning of page state replication. The next version of Wicket will support client-side models for zero-state scalability.</p>\n\n<p><strong>Transparent Back Button Support</strong></p>\n\n<p>Wicket supports configurable page version management. When users submit a form or follow a link from a page they accessed with the back button in their browser, Wicket is able to revert the page object to the state it was in when the page was originally rendered. This means you can write web applications that support the back button with very little work.</p>\n\n<p><strong>Multi-tab and multi-window support</strong></p>\n\n<p>Wicket provides an easy way to write application that supports multi-window and multi-tab usage allowing developer to react properly when users open new browser window or tab</p>\n\n<p><strong>Reusable Components</strong></p>\n\n<p>Reusable components in Wicket are particularly easy to create. Not only can you extend existing components with the Java extends keyword, but you can also create Panel components which associate a group of components as a reusable unit.</p>\n\n<p><strong>Simple, Flexible, Localizable Form Validation</strong></p>\n\n<p>It is trivial to write and use validators in Wicket. It is also quite easy to customize and localize the display and content of validation error messages.</p>\n\n<p><strong>Typesafe Sessions</strong></p>\n\n<p>Wicket eliminates the need to manage HttpSession attributes by hand. Page and component objects are transparently stored in the session and your application can create a custom session subclass with typesafe properties as well. All objects stored in the session can automatically participate in clustering replication.</p>\n\n<p><strong>Factory Customizable</strong></p>\n\n<p>Wicket is very extensible. Most operations are customizable through factories or factory methods.</p>\n\n<p><strong>Detachable Models</strong></p>\n\n<p>Model objects in Wicket can be very lightweight in terms of memory and network use in a cluster. When a model is used, it can attach, populating itself with information from persistent storage. When the model is no longer in use, transient information can be reset, reducing the size of the object.</p>\n\n<p><strong>Border Components</strong></p>\n\n<p>Wicket Border components enable the decoration of pages in a reusable fashion. This is especially useful for inheritance of common navigational structures or layout.</p>\n\n<p><strong>Support for All Basic HTML Features</strong></p>\n\n<p>Wicket supports image tags, links, forms and everything else that youre used to using in your web application development.</p>\n\n<p><strong>Programmatic Manipulation of Attributes</strong></p>\n\n<p>Wicket Components can programmatically change any HTML tag attribute.</p>\n\n<p><strong>Automatic Conversions</strong></p>\n\n<p>Once a Form validates, the model can be updated using Wicket converters. Most ordinary conversions are built-in and it is easy to write new converters.</p>\n\n<p><strong>Dynamic Images</strong></p>\n\n<p>Wicket makes image use, sharing and generation very easy. Dynamic images can be created by simply implementing a paint method.</p>\n\n<p><strong>Pageable ListView</strong></p>\n\n<p>ListViews in Wicket are extremely powerful. You can nest any kind of component in a ListView row, even other ListViews. PageableListView supports navigation links for the large lists.</p>\n\n<p><strong>Tree Component</strong></p>\n\n<p>Out of the box tree component for navigating and selecting nodes.</p>\n\n<p><strong>Localization</strong></p>\n\n<p>HTML pages, images and resource strings can all be localized.</p>\n"},{"tags":[],"owner":{"account_id":238932,"reputation":829,"user_id":508178,"display_name":"Kamran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358942320,"creation_date":1358942320,"answer_id":14479191,"question_id":544049,"body_markdown":"One other advantage of Wicket over other popular java web frameworks is that it allows you to create modular and extensible web applications. This is particularly useful when you are designing a web based product, which you intend to extend by adding extra functionality and pages in the form of plugins at deploy time, and eliminating the impact on the core functionality/source of your product. Here is a very good article on it.\r\n\r\n[http://www.infoq.com/articles/modular-wicket][1]\r\n\r\n\r\n  [1]: http://www.infoq.com/articles/modular-wicket","title":"What are the advantages of Apache Wicket?","body":"<p>One other advantage of Wicket over other popular java web frameworks is that it allows you to create modular and extensible web applications. This is particularly useful when you are designing a web based product, which you intend to extend by adding extra functionality and pages in the form of plugins at deploy time, and eliminating the impact on the core functionality/source of your product. Here is a very good article on it.</p>\n\n<p><a href=\"http://www.infoq.com/articles/modular-wicket\" rel=\"nofollow\">http://www.infoq.com/articles/modular-wicket</a></p>\n"}],"owner":{"account_id":15531,"reputation":10186,"user_id":32892,"accept_rate":85,"display_name":"dtc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11420,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"closed_date":1375869426,"accepted_answer_id":544431,"answer_count":10,"score":22,"last_activity_date":1677186809,"creation_date":1234481891,"question_id":544049,"body_markdown":"I&#39;m not a Java developer so I might get some terms wrong... but.\r\n\r\nAn application I integrate with is moving from Spring to Wicket.  While it should not affect my integration with it I got to wondering why they would do this?\r\n\r\nFrom what I know Spring is the more popular framework.  I know nothing about it except it&#39;s popular.  I did read the Wicket page and Wicket seems really simple and straightforward.\r\n\r\nWhat are some of the advantages of Wicket?\r\n\r\nIt seems to me that changing your entire framework would be some work so I wonder if Wicket offers something that Spring does not?\r\n\r\n","title":"What are the advantages of Apache Wicket?","body":"<p>I'm not a Java developer so I might get some terms wrong... but.</p>\n\n<p>An application I integrate with is moving from Spring to Wicket.  While it should not affect my integration with it I got to wondering why they would do this?</p>\n\n<p>From what I know Spring is the more popular framework.  I know nothing about it except it's popular.  I did read the Wicket page and Wicket seems really simple and straightforward.</p>\n\n<p>What are some of the advantages of Wicket?</p>\n\n<p>It seems to me that changing your entire framework would be some work so I wonder if Wicket offers something that Spring does not?</p>\n"},{"tags":["java","maven","junit"],"comments":[{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":2,"creation_date":1676298039,"post_id":75436950,"comment_id":133103428,"body_markdown":"from my experience, copying application.properties to /test/resources folder is a common practice. Nothing wrong with it.","body":"from my experience, copying application.properties to /test/resources folder is a common practice. Nothing wrong with it."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1676298449,"post_id":75436950,"comment_id":133103584,"body_markdown":"I assume &quot;application&quot; and &quot;folder2&quot; are Maven modules or even standalone projects. If so, make sure that the module/project under &quot;folder2&quot; *depends on* the module/project under &quot;application&quot;. Posting the relevant parts of your Maven configuration might help getting a more specific answer. The folder structure above, if not a typo, is strange for Maven, i.e. no `src` folder and `test` under `main`.","body":"I assume &quot;application&quot; and &quot;folder2&quot; are Maven modules or even standalone projects. If so, make sure that the module/project under &quot;folder2&quot; <i>depends on</i> the module/project under &quot;application&quot;. Posting the relevant parts of your Maven configuration might help getting a more specific answer. The folder structure above, if not a typo, is strange for Maven, i.e. no <code>src</code> folder and <code>test</code> under <code>main</code>."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676300852,"post_id":75436950,"comment_id":133104462,"body_markdown":"Property files should be located in `src/main/resources/&lt;OptionalPackage&gt;` for production code and for test code in `src/test/resources/&lt;OptionalPackage&gt;` ...there should be no folder `folder2` there...","body":"Property files should be located in <code>src&#47;main&#47;resources&#47;&lt;OptionalPackage&gt;</code> for production code and for test code in <code>src&#47;test&#47;resources&#47;&lt;OptionalPackage&gt;</code> ...there should be no folder <code>folder2</code> there..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676313784,"post_id":75436950,"comment_id":133108613,"body_markdown":"@gneginskiy That&#39;s simply wrong. It shows that the basic concepts of Maven have not been understood.","body":"@gneginskiy That&#39;s simply wrong. It shows that the basic concepts of Maven have not been understood."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1677186749,"creation_date":1676314689,"answer_id":75440151,"question_id":75436950,"body_markdown":"The basic setup for any kind of project in Maven is first to follow the default directory layout which looks like the following:\r\n\r\n\r\n    .\r\n    |-- pom.xml\r\n    `-- src\r\n        |-- main\r\n        |   |-- java\r\n        |   `-- resources\r\n        `-- test\r\n            |-- java\r\n            `-- resources\r\n\r\n\r\nIn the `src/main/java/&lt;packageName&gt;` you put your production classes (`*.java`) and the property files have to go into `src/main/resources` (for example `application.properties`.\r\n\r\nThe unit- tests and or integration test classes will belong into `src/test/java/&lt;packageName&gt;/` . Unit test should be named like `*Test.java` while integration tests should be named like `*IT.java`.. \r\nIf you have particular property files for testing only they belong into `src/test/resources` directory.\r\n\r\nTo have particular configurations for your tests can simply achieved by using the multi-document yaml file in your test resources (`src/test/resources/application.yaml`):\r\n\r\n\r\n&lt;!-- language:language-yaml --&gt;\r\n\r\n    ---\r\n    spring:\r\n      profiles:\r\n        active: xtest\r\n    ....\r\n\r\n\r\nThe parts after profile can be used to do particular configuration for your test setup...which can be activated via `@ActiveProfiles(&quot;xtest&quot;)`  within your tests...\r\nOr you can also name a different file `test-application.properties` and use `@TestPropertySource(&quot;classpath:test-application.properties&quot;)` in your test instead (`src/test/resources/test-application.properties`).\r\n\r\n\r\nIt&#39;s technically doable to filter resource files which can be achieved via using filtering. Most of the time related to spring boot resources (application.properties/application.yaml) is make no sense (rare case excluded).\r\n\r\nResource filtering: \r\n * https://maven.apache.org/guides/getting-started/index.html#How_do_I_filter_resource_files\r\n * https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\r\n\r\n\r\n","title":"how to access to a property file in other folder from unit test","body":"<p>The basic setup for any kind of project in Maven is first to follow the default directory layout which looks like the following:</p>\n<pre><code>.\n|-- pom.xml\n`-- src\n    |-- main\n    |   |-- java\n    |   `-- resources\n    `-- test\n        |-- java\n        `-- resources\n</code></pre>\n<p>In the <code>src/main/java/&lt;packageName&gt;</code> you put your production classes (<code>*.java</code>) and the property files have to go into <code>src/main/resources</code> (for example <code>application.properties</code>.</p>\n<p>The unit- tests and or integration test classes will belong into <code>src/test/java/&lt;packageName&gt;/</code> . Unit test should be named like <code>*Test.java</code> while integration tests should be named like <code>*IT.java</code>..\nIf you have particular property files for testing only they belong into <code>src/test/resources</code> directory.</p>\n<p>To have particular configurations for your tests can simply achieved by using the multi-document yaml file in your test resources (<code>src/test/resources/application.yaml</code>):</p>\n\n<pre><code>---\nspring:\n  profiles:\n    active: xtest\n....\n</code></pre>\n<p>The parts after profile can be used to do particular configuration for your test setup...which can be activated via <code>@ActiveProfiles(&quot;xtest&quot;)</code>  within your tests...\nOr you can also name a different file <code>test-application.properties</code> and use <code>@TestPropertySource(&quot;classpath:test-application.properties&quot;)</code> in your test instead (<code>src/test/resources/test-application.properties</code>).</p>\n<p>It's technically doable to filter resource files which can be achieved via using filtering. Most of the time related to spring boot resources (application.properties/application.yaml) is make no sense (rare case excluded).</p>\n<p>Resource filtering:</p>\n<ul>\n<li><a href=\"https://maven.apache.org/guides/getting-started/index.html#How_do_I_filter_resource_files\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/getting-started/index.html#How_do_I_filter_resource_files</a></li>\n<li><a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html</a></li>\n</ul>\n"}],"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75440151,"answer_count":1,"score":1,"last_activity_date":1677186749,"creation_date":1676297277,"question_id":75436950,"body_markdown":"I&#39;m facing an error when launching my test, the problem is properties file.\r\n\r\nthis property file is in my application resource folder and I&#39;m in &quot;folder2&quot; test folder.\r\n\r\n    --application\r\n      --src\r\n        --main\r\n          --resources\r\n            --application.properties\r\n    --folder2\r\n      --main\r\n        --test\r\n          --path.to.package\r\n            --ClassWithTest.java\r\n\r\nhow can access to this application.propeties file?\r\n\r\nI have this in my ClassWithTest:\r\n\r\n    @TestPropertySource(&quot;classpath:application.properties&quot;)\r\n\r\nthat only works if I copy the file into my Resources under folder2,but this is not what I need to do.\r\n\r\nI&#39;m using Java and it is a maven project","title":"how to access to a property file in other folder from unit test","body":"<p>I'm facing an error when launching my test, the problem is properties file.</p>\n<p>this property file is in my application resource folder and I'm in &quot;folder2&quot; test folder.</p>\n<pre><code>--application\n  --src\n    --main\n      --resources\n        --application.properties\n--folder2\n  --main\n    --test\n      --path.to.package\n        --ClassWithTest.java\n</code></pre>\n<p>how can access to this application.propeties file?</p>\n<p>I have this in my ClassWithTest:</p>\n<pre><code>@TestPropertySource(&quot;classpath:application.properties&quot;)\n</code></pre>\n<p>that only works if I copy the file into my Resources under folder2,but this is not what I need to do.</p>\n<p>I'm using Java and it is a maven project</p>\n"},{"tags":["java","rest","elasticsearch","elasticsearch-high-level-restclient","elasticsearch-rest-client"],"owner":{"account_id":3896512,"reputation":193,"user_id":3225404,"display_name":"lia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677186682,"creation_date":1677186682,"question_id":75550362,"body_markdown":"I&#39;m using elasticsearch rest-high-level-client version 7.13 in java\r\nbut randomly some of the requests (read/write) encounter this error! \r\nI&#39;ve checked the memory usage and it&#39;s between 20% - 40% and **have not** OutOfMemoryError\r\n\r\n[![enter image description here][1]][1]      \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U7aYB.png","title":"RuntimeException: Request cannot be executed; I/O reactor status: STOPPED in Elasticsearch","body":"<p>I'm using elasticsearch rest-high-level-client version 7.13 in java\nbut randomly some of the requests (read/write) encounter this error!\nI've checked the memory usage and it's between 20% - 40% and <strong>have not</strong> OutOfMemoryError</p>\n<p><a href=\"https://i.stack.imgur.com/U7aYB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U7aYB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":1022492,"reputation":1055,"user_id":1032484,"display_name":"andy"},"score":0,"creation_date":1677173976,"post_id":75548344,"comment_id":133290424,"body_markdown":"Did you consider to use spring boot? It provides a maven plugin, that can create executable jars which contain all the needed dependencies: https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\nIt even can start a web server if needed. \nAnd here is the documentation of the spring-boot-maven-plugin: https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins.html#build-tool-plugins.maven","body":"Did you consider to use spring boot? It provides a maven plugin, that can create executable jars which contain all the needed dependencies: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> It even can start a web server if needed.  And here is the documentation of the spring-boot-maven-plugin: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins.html#build-tool-plugins.maven\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677186628,"creation_date":1677186195,"answer_id":75550304,"question_id":75548344,"body_markdown":"You can use Maven to create an uber-jar that contains all the classes.\r\nYou can as well ask Maven to download the dependencies for your.\r\n\r\nWhat I usually do is to generate the jar the same as you do, but then automatically download all the dependencies into a lib folder.\r\nTo make running the jar as easy as `java -jar ...` I have Maven even add the classpath into the manifest.\r\nThe only drawback is that you now need to distribute the jar and it&#39;s libs in exactly this directory structure.\r\nThe advantage is that any signed jar will preserve it&#39;s signature and thus validity.\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;${project.build.directory}/dist&lt;/outputDirectory&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;${mainclass}&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/dist/lib&lt;/outputDirectory&gt;\r\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n                            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n                            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n","title":"Java: run jar with dependencies","body":"<p>You can use Maven to create an uber-jar that contains all the classes.\nYou can as well ask Maven to download the dependencies for your.</p>\n<p>What I usually do is to generate the jar the same as you do, but then automatically download all the dependencies into a lib folder.\nTo make running the jar as easy as <code>java -jar ...</code> I have Maven even add the classpath into the manifest.\nThe only drawback is that you now need to distribute the jar and it's libs in exactly this directory structure.\nThe advantage is that any signed jar will preserve it's signature and thus validity.</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/dist&lt;/outputDirectory&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib&lt;/classpathPrefix&gt;\n                        &lt;mainClass&gt;${mainclass}&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/dist/lib&lt;/outputDirectory&gt;\n                        &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                        &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n                        &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7388280,"reputation":438,"user_id":5622596,"display_name":"jspek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677186318,"creation_date":1677186318,"answer_id":75550318,"question_id":75548344,"body_markdown":"If you want to include the jar with dependencies you could add the following \r\n\r\n```\r\n&lt;plugin&gt;\r\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n          &lt;manifest&gt;\r\n            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n          &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n        &lt;descriptorRefs&gt;\r\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n        &lt;/descriptorRefs&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n```\r\n\r\nJust replace fully.qualified.MainClass in \r\n`&lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;`\r\nwith which ever class has main\r\n\r\nTo Build it you can run\r\n`mvn clean compile assembly:single`\r\n\r\nSee https://stackoverflow.com/a/574650/5622596  for more details. \r\n\r\nAs to how to run a jar one possible way is to run the following \r\n`java -jar NameOfJar.jar`\r\nJust replace `NameOfJar.jar` with whichever jar you created","title":"Java: run jar with dependencies","body":"<p>If you want to include the jar with dependencies you could add the following</p>\n<pre><code>&lt;plugin&gt;\n      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>Just replace fully.qualified.MainClass in\n<code>&lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;</code>\nwith which ever class has main</p>\n<p>To Build it you can run\n<code>mvn clean compile assembly:single</code></p>\n<p>See <a href=\"https://stackoverflow.com/a/574650/5622596\">https://stackoverflow.com/a/574650/5622596</a>  for more details.</p>\n<p>As to how to run a jar one possible way is to run the following\n<code>java -jar NameOfJar.jar</code>\nJust replace <code>NameOfJar.jar</code> with whichever jar you created</p>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75550304,"answer_count":2,"score":0,"last_activity_date":1677186628,"creation_date":1677173641,"question_id":75548344,"body_markdown":"I&#39;ve packaged my mvn project.\r\n\r\nAfter that, my `jar` files only contains my hand coded classes:\r\n\r\n```\r\nMETA-INF/\r\nMETA-INF/MANIFEST.MF\r\nme/\r\nme/jeusdi/\r\nme/jeusdi/slab/\r\nme/jeusdi/slab/MyService.class\r\nme/jeusdi/slab/App.class\r\nme/jeusdi/slab/MyConfig.class\r\nme/jeusdi/slab/MyServiceImpl.class\r\nMETA-INF/maven/\r\nMETA-INF/maven/me.jeusdi.slab/\r\nMETA-INF/maven/me.jeusdi.slab/slab/\r\nMETA-INF/maven/me.jeusdi.slab/slab/pom.xml\r\nMETA-INF/maven/me.jeusdi.slab/slab/pom.properties\r\n```\r\n\r\nNevertheless, I need declared maven dependencies:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;me.jeusdi.slab&lt;/groupId&gt;\r\n  &lt;artifactId&gt;slab&lt;/artifactId&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;slab&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;kafka.streams.version&gt;3.4.0&lt;/kafka.streams.version&gt;\r\n    &lt;spring.version&gt;6.0.5&lt;/spring.version&gt;\r\n\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\r\n        &lt;version&gt;${kafka.streams.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Spring Core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Spring Context --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nWhy `spring-core` dependency is not present into my jar.\r\n\r\nI need to run my jar. Currently, I&#39;m using:\r\n\r\n    java -cp target/slab-1.0-SNAPSHOT.jar App\r\n\r\nAny ideas about how to embed or locate my dependencies and run my application?\r\n","title":"Java: run jar with dependencies","body":"<p>I've packaged my mvn project.</p>\n<p>After that, my <code>jar</code> files only contains my hand coded classes:</p>\n<pre><code>META-INF/\nMETA-INF/MANIFEST.MF\nme/\nme/jeusdi/\nme/jeusdi/slab/\nme/jeusdi/slab/MyService.class\nme/jeusdi/slab/App.class\nme/jeusdi/slab/MyConfig.class\nme/jeusdi/slab/MyServiceImpl.class\nMETA-INF/maven/\nMETA-INF/maven/me.jeusdi.slab/\nMETA-INF/maven/me.jeusdi.slab/slab/\nMETA-INF/maven/me.jeusdi.slab/slab/pom.xml\nMETA-INF/maven/me.jeusdi.slab/slab/pom.properties\n</code></pre>\n<p>Nevertheless, I need declared maven dependencies:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;me.jeusdi.slab&lt;/groupId&gt;\n  &lt;artifactId&gt;slab&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;slab&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;kafka.streams.version&gt;3.4.0&lt;/kafka.streams.version&gt;\n    &lt;spring.version&gt;6.0.5&lt;/spring.version&gt;\n\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\n        &lt;version&gt;${kafka.streams.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Context --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Why <code>spring-core</code> dependency is not present into my jar.</p>\n<p>I need to run my jar. Currently, I'm using:</p>\n<pre><code>java -cp target/slab-1.0-SNAPSHOT.jar App\n</code></pre>\n<p>Any ideas about how to embed or locate my dependencies and run my application?</p>\n"},{"tags":["java","math","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1677183172,"post_id":75549676,"comment_id":133292966,"body_markdown":"It depends how you have things set up. I think the way I would set this up, I wouldnt even need to make that conversion.","body":"It depends how you have things set up. I think the way I would set this up, I wouldnt even need to make that conversion."},{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":0,"creation_date":1677183575,"post_id":75549676,"comment_id":133293089,"body_markdown":"you can retrieve that data  from pick result  . do you want a hint ?","body":"you can retrieve that data  from pick result  . do you want a hint ?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1677183792,"post_id":75549676,"comment_id":133293141,"body_markdown":"It would seem that `HashMap&lt;Tile, Point&gt; board;` would be more useful.  Also, the points could be a field member of a tile and you would not need to maintain a map at all, the board could just be a list of tiles, and the list could be ordered by point coordinates using a comparator if needed and there is some natural ordering here.  Just some thoughts, there are many ways to implement this.","body":"It would seem that <code>HashMap&lt;Tile, Point&gt; board;</code> would be more useful.  Also, the points could be a field member of a tile and you would not need to maintain a map at all, the board could just be a list of tiles, and the list could be ordered by point coordinates using a comparator if needed and there is some natural ordering here.  Just some thoughts, there are many ways to implement this."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1677184599,"post_id":75549676,"comment_id":133293329,"body_markdown":"Specifically, given the size of each hexagon and the hexagon board coordinates you showed, you can easily figure out where to draw the hexagon. The only reason I can see that youd want to go from pixel coordinates to the hexagon is if you needed to process user mouse clicks. But if you render each hexagon with a `Polygon`, you can just register mouse handlers directly with each `Polygon`, and youd never need to do that calculation. At any rate, the answer to this depends greatly on the implementation you choose, which you havent shown in the question.","body":"Specifically, given the size of each hexagon and the hexagon board coordinates you showed, you can easily figure out where to draw the hexagon. The only reason I can see that youd want to go from pixel coordinates to the hexagon is if you needed to process user mouse clicks. But if you render each hexagon with a <code>Polygon</code>, you can just register mouse handlers directly with each <code>Polygon</code>, and youd never need to do that calculation. At any rate, the answer to this depends greatly on the implementation you choose, which you havent shown in the question."},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1677199919,"post_id":75549676,"comment_id":133296115,"body_markdown":"@James_D I can&#39;t quite figure out where to draw the hexagon :(. So let&#39;s say if I was given the point (1,0) I can easily convert that to (100,0), (2,0) -&gt; (200,0), (-1,0) -&gt; (-100,0)... but when it comes to points like (2,-1) how do I convert that?","body":"@James_D I can&#39;t quite figure out where to draw the hexagon :(. So let&#39;s say if I was given the point (1,0) I can easily convert that to (100,0), (2,0) -&gt; (200,0), (-1,0) -&gt; (-100,0)... but when it comes to points like (2,-1) how do I convert that?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1677255216,"post_id":75549676,"comment_id":133307816,"body_markdown":"Given your layout, you can figure the coordinates of hexagon (x,y+1) relative to hexagon (x,y) using basic trigonometry. As you&#39;ve pointed out, hexagon (x+k,y) is just k*100 to the right of hexagon (x,y). From there it&#39;s trivial to figure out a formula for the position of hexagon (x,y).","body":"Given your layout, you can figure the coordinates of hexagon (x,y+1) relative to hexagon (x,y) using basic trigonometry. As you&#39;ve pointed out, hexagon (x+k,y) is just k*100 to the right of hexagon (x,y). From there it&#39;s trivial to figure out a formula for the position of hexagon (x,y)."}],"answers":[{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677186399,"creation_date":1677186399,"answer_id":75550330,"question_id":75549676,"body_markdown":"**Storing coordinates as field**\r\n\r\nIn this approach `Hexagon`  instances have two integers wich represent coords . Any hexagon will print x and y as stage tittle like so :\r\n\r\n[![hexagon javafx][1]][1]\r\n\r\nThis is a single javafx app you can try \r\n\r\n**App.java**\r\n\r\n    public class App extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        double HexagonRadius = 100;\r\n\r\n        Hexagon hexagon1 = new Hexagon(1, 2, HexagonRadius, Color.CADETBLUE);\r\n\r\n        Hexagon hexagon2 = new Hexagon(1, 0, HexagonRadius, Color.MEDIUMPURPLE);\r\n        hexagon2.setTranslateY(hexagon1.getOffsetY() * 2);\r\n\r\n        Hexagon hexagon3 = new Hexagon(1, 1, HexagonRadius, Color.MEDIUMSEAGREEN);\r\n        hexagon3.setTranslateY(-hexagon1.getOffsetY() * 2);\r\n\r\n        Hexagon hexagon4 = new Hexagon(0, 0, HexagonRadius, Color.CORNFLOWERBLUE);\r\n        hexagon4.setTranslateY(-hexagon1.getOffsetY());\r\n        hexagon4.setTranslateX(hexagon1.getOffsetX());\r\n\r\n        Hexagon hexagon5 = new Hexagon(2, 2, HexagonRadius, Color.YELLOW);\r\n        hexagon5.setTranslateY(-hexagon1.getOffsetY());\r\n        hexagon5.setTranslateX(-hexagon1.getOffsetX());\r\n\r\n        Hexagon hexagon6 = new Hexagon(2, 0, HexagonRadius, Color.ORANGE);\r\n        hexagon6.setTranslateY(hexagon1.getOffsetY());\r\n        hexagon6.setTranslateX(-hexagon1.getOffsetX());\r\n\r\n        Hexagon hexagon7 = new Hexagon(2, 3, HexagonRadius, Color.SKYBLUE);\r\n        hexagon7.setTranslateY(hexagon1.getOffsetY());\r\n        hexagon7.setTranslateX(hexagon1.getOffsetX());\r\n\r\n        Group hexagonsGroup\r\n                = new Group(hexagon1, hexagon2, hexagon3, hexagon4, hexagon5, hexagon6, hexagon7);\r\n\r\n        StackPane stackPane = new StackPane(hexagonsGroup);\r\n\r\n        var scene = new Scene(stackPane, 640, 480);\r\n        scene.setFill(Color.ANTIQUEWHITE);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public final class Hexagon extends Group {\r\n\r\n        private Polygon polygon;\r\n        private final double radius;\r\n        private final double radianStep = (2 * Math.PI) / 6;\r\n\r\n        private final int x;\r\n        private final int y;\r\n\r\n        private final double offsetY;\r\n        private final double offsetX;\r\n\r\n        public int getX() {\r\n            return x;\r\n        }\r\n\r\n        public int getY() {\r\n            return y;\r\n        }\r\n\r\n        public Hexagon(int x, int y, double radius, Paint color) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.radius = radius;\r\n            makeHexagon(radius, color);\r\n            offsetY = calculateApothem();\r\n\r\n            offsetX = radius * 1.5;\r\n            changeTittle();\r\n\r\n        }\r\n\r\n        private void makeHexagon(double radius, Paint color) {\r\n            polygon = new Polygon();\r\n            this.getChildren().add(polygon);\r\n            polygon.setFill(color);\r\n            polygon.setStroke(Color.WHITESMOKE);\r\n            polygon.setEffect(new DropShadow(10, Color.BLACK));\r\n            polygon.setStrokeWidth(10);\r\n            polygon.setStrokeType(StrokeType.INSIDE);\r\n\r\n            for (int i = 0; i &lt; 6; i++) {\r\n                double angle = radianStep * i;\r\n\r\n                polygon.getPoints().add(Math.cos(angle) * radius / 1.1);\r\n                polygon.getPoints().add(Math.sin(angle) * radius / 1.1);\r\n\r\n            }\r\n        }\r\n\r\n        public void changeTittle() {\r\n\r\n            polygon.setOnMouseClicked(e -&gt; {\r\n                Stage stage = (Stage) this.getScene().getWindow();\r\n                stage.setTitle(&quot;cordinate =&quot; + x + &quot;,&quot; + y);\r\n            });\r\n\r\n        }\r\n\r\n        public double getOffsetY() {\r\n            return offsetY;\r\n        }\r\n\r\n        public double getOffsetX() {\r\n            return offsetX;\r\n        }\r\n\r\n        private double calculateApothem() {\r\n            System.out.println(Math.tan(radianStep) * radius);\r\n            return (Math.tan(radianStep) * radius) / 2;\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/muzYg.gif","title":"Convert my coordinate to actual JavaFx coordinate","body":"<p><strong>Storing coordinates as field</strong></p>\n<p>In this approach <code>Hexagon</code>  instances have two integers wich represent coords . Any hexagon will print x and y as stage tittle like so :</p>\n<p><a href=\"https://i.stack.imgur.com/muzYg.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/muzYg.gif\" alt=\"hexagon javafx\" /></a></p>\n<p>This is a single javafx app you can try</p>\n<p><strong>App.java</strong></p>\n<pre><code>public class App extends Application {\n\n@Override\npublic void start(Stage stage) {\n\n    double HexagonRadius = 100;\n\n    Hexagon hexagon1 = new Hexagon(1, 2, HexagonRadius, Color.CADETBLUE);\n\n    Hexagon hexagon2 = new Hexagon(1, 0, HexagonRadius, Color.MEDIUMPURPLE);\n    hexagon2.setTranslateY(hexagon1.getOffsetY() * 2);\n\n    Hexagon hexagon3 = new Hexagon(1, 1, HexagonRadius, Color.MEDIUMSEAGREEN);\n    hexagon3.setTranslateY(-hexagon1.getOffsetY() * 2);\n\n    Hexagon hexagon4 = new Hexagon(0, 0, HexagonRadius, Color.CORNFLOWERBLUE);\n    hexagon4.setTranslateY(-hexagon1.getOffsetY());\n    hexagon4.setTranslateX(hexagon1.getOffsetX());\n\n    Hexagon hexagon5 = new Hexagon(2, 2, HexagonRadius, Color.YELLOW);\n    hexagon5.setTranslateY(-hexagon1.getOffsetY());\n    hexagon5.setTranslateX(-hexagon1.getOffsetX());\n\n    Hexagon hexagon6 = new Hexagon(2, 0, HexagonRadius, Color.ORANGE);\n    hexagon6.setTranslateY(hexagon1.getOffsetY());\n    hexagon6.setTranslateX(-hexagon1.getOffsetX());\n\n    Hexagon hexagon7 = new Hexagon(2, 3, HexagonRadius, Color.SKYBLUE);\n    hexagon7.setTranslateY(hexagon1.getOffsetY());\n    hexagon7.setTranslateX(hexagon1.getOffsetX());\n\n    Group hexagonsGroup\n            = new Group(hexagon1, hexagon2, hexagon3, hexagon4, hexagon5, hexagon6, hexagon7);\n\n    StackPane stackPane = new StackPane(hexagonsGroup);\n\n    var scene = new Scene(stackPane, 640, 480);\n    scene.setFill(Color.ANTIQUEWHITE);\n    stage.setScene(scene);\n    stage.show();\n}\n\npublic final class Hexagon extends Group {\n\n    private Polygon polygon;\n    private final double radius;\n    private final double radianStep = (2 * Math.PI) / 6;\n\n    private final int x;\n    private final int y;\n\n    private final double offsetY;\n    private final double offsetX;\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public Hexagon(int x, int y, double radius, Paint color) {\n        this.x = x;\n        this.y = y;\n        this.radius = radius;\n        makeHexagon(radius, color);\n        offsetY = calculateApothem();\n\n        offsetX = radius * 1.5;\n        changeTittle();\n\n    }\n\n    private void makeHexagon(double radius, Paint color) {\n        polygon = new Polygon();\n        this.getChildren().add(polygon);\n        polygon.setFill(color);\n        polygon.setStroke(Color.WHITESMOKE);\n        polygon.setEffect(new DropShadow(10, Color.BLACK));\n        polygon.setStrokeWidth(10);\n        polygon.setStrokeType(StrokeType.INSIDE);\n\n        for (int i = 0; i &lt; 6; i++) {\n            double angle = radianStep * i;\n\n            polygon.getPoints().add(Math.cos(angle) * radius / 1.1);\n            polygon.getPoints().add(Math.sin(angle) * radius / 1.1);\n\n        }\n    }\n\n    public void changeTittle() {\n\n        polygon.setOnMouseClicked(e -&gt; {\n            Stage stage = (Stage) this.getScene().getWindow();\n            stage.setTitle(&quot;cordinate =&quot; + x + &quot;,&quot; + y);\n        });\n\n    }\n\n    public double getOffsetY() {\n        return offsetY;\n    }\n\n    public double getOffsetX() {\n        return offsetX;\n    }\n\n    private double calculateApothem() {\n        System.out.println(Math.tan(radianStep) * radius);\n        return (Math.tan(radianStep) * radius) / 2;\n\n    }\n\n}\n\npublic static void main(String[] args) {\n    launch();\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677186399,"creation_date":1677181905,"question_id":75549676,"body_markdown":"I&#39;m trying to build a game called [Cascadia](https://www.alderac.com/wp-content/uploads/2021/08/Cascadia-Rules.pdf). Since every tile is a hexagon, to represent it I used a hashmap to store the point(coordinate) and the tile.\r\n\r\n`HashMap&lt;Point, Tile&gt; board;`\r\n\r\nThe point follows this [structure](https://i.stack.imgur.com/1xdLT.png).\r\n\r\nEach tile is a width of 100 pixels.\r\nexample of a [tile](https://i.stack.imgur.com/ZlrqA.png).\r\n\r\nThe problem is how do I convert those points that I used in my hashmap and convert it into the actual coordinate on my scene?\r\n\r\nI have no problem with the tiles going left or right since I can just add or subtract 100(pixels). ","title":"Convert my coordinate to actual JavaFx coordinate","body":"<p>I'm trying to build a game called <a href=\"https://www.alderac.com/wp-content/uploads/2021/08/Cascadia-Rules.pdf\" rel=\"nofollow noreferrer\">Cascadia</a>. Since every tile is a hexagon, to represent it I used a hashmap to store the point(coordinate) and the tile.</p>\n<p><code>HashMap&lt;Point, Tile&gt; board;</code></p>\n<p>The point follows this <a href=\"https://i.stack.imgur.com/1xdLT.png\" rel=\"nofollow noreferrer\">structure</a>.</p>\n<p>Each tile is a width of 100 pixels.\nexample of a <a href=\"https://i.stack.imgur.com/ZlrqA.png\" rel=\"nofollow noreferrer\">tile</a>.</p>\n<p>The problem is how do I convert those points that I used in my hashmap and convert it into the actual coordinate on my scene?</p>\n<p>I have no problem with the tiles going left or right since I can just add or subtract 100(pixels).</p>\n"},{"tags":["java","webcam","webcam-capture"],"comments":[{"owner":{"account_id":27787290,"reputation":1,"user_id":21214473,"display_name":"Thorium1717"},"score":0,"creation_date":1677262986,"post_id":75550301,"comment_id":133309807,"body_markdown":"I have changed up my plans and will be changing a bunch more libraries and won&#39;t be using Webcam-Capture anymore. I will keep this post up in case anybody needs help in the future, hopefully someone will answer this question later anyway.","body":"I have changed up my plans and will be changing a bunch more libraries and won&#39;t be using Webcam-Capture anymore. I will keep this post up in case anybody needs help in the future, hopefully someone will answer this question later anyway."}],"owner":{"account_id":27787290,"reputation":1,"user_id":21214473,"display_name":"Thorium1717"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677186173,"creation_date":1677186173,"question_id":75550301,"body_markdown":"I am a junior programmer working on a personal project that requires me accessing a webcam in a java file. I found sarxos&#39;s webcam-capture and have downloaded it into my project folder.\r\nWhen I run my main class: \r\n\r\n    import com.github.sarxos.webcam.Webcam;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    \r\n    import com.github.sarxos.webcam.WebcamExceptionHandler;\r\n    import com.github.sarxos.webcam.WebcamException; \r\n    \r\n    \r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException{ \r\n            System.out.println(&quot;Start Pictures&quot;); \r\n    \r\n            Webcam webcam = Webcam.getDefault();\r\n    \r\n            if (webcam != null) {\r\n                System.out.println(&quot;Webcam: &quot; + webcam.getName());\r\n            } else {\r\n                System.out.println(&quot;No webcam detected&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nIt gives me an error: \r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n        The method getDefault() from the type Webcam refers to the missing type WebcamException\r\n\r\n        at Main.main(Main.java:28)\r\n```\r\n\r\nI have tried running their example class that does the same thing and comes with the library: \r\n\r\n```\r\n\r\n\r\nimport com.github.sarxos.webcam.Webcam;\r\n\r\npublic class DetectWebcamExample {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tWebcam webcam = Webcam.getDefault();\r\n\t\tif (webcam != null) {\r\n\t\t\tSystem.out.println(&quot;Webcam: &quot; + webcam.getName());\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;No webcam detected&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nbut it throws the same error \r\n\r\nI have tried everything I can think of. If anyone else has run into this issue how did you solve it.   \r\nAlso, if you have any suggestions for other webcam libraries that have worked for you on windows, could you please share them with me. ","title":"Error: missing type WebcamException when I try to run Webcam.getDefault()","body":"<p>I am a junior programmer working on a personal project that requires me accessing a webcam in a java file. I found sarxos's webcam-capture and have downloaded it into my project folder.\nWhen I run my main class:</p>\n<pre><code>import com.github.sarxos.webcam.Webcam;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\n\nimport com.github.sarxos.webcam.WebcamExceptionHandler;\nimport com.github.sarxos.webcam.WebcamException; \n\n\n\npublic class Main {\n    public static void main(String[] args) throws IOException{ \n        System.out.println(&quot;Start Pictures&quot;); \n\n        Webcam webcam = Webcam.getDefault();\n\n        if (webcam != null) {\n            System.out.println(&quot;Webcam: &quot; + webcam.getName());\n        } else {\n            System.out.println(&quot;No webcam detected&quot;);\n        }\n    }\n}\n</code></pre>\n<p>It gives me an error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n        The method getDefault() from the type Webcam refers to the missing type WebcamException\n\n        at Main.main(Main.java:28)\n</code></pre>\n<p>I have tried running their example class that does the same thing and comes with the library:</p>\n<pre><code>\n\nimport com.github.sarxos.webcam.Webcam;\n\npublic class DetectWebcamExample {\n\n    public static void main(String[] args) {\n        Webcam webcam = Webcam.getDefault();\n        if (webcam != null) {\n            System.out.println(&quot;Webcam: &quot; + webcam.getName());\n        } else {\n            System.out.println(&quot;No webcam detected&quot;);\n        }\n    }\n}\n</code></pre>\n<p>but it throws the same error</p>\n<p>I have tried everything I can think of. If anyone else has run into this issue how did you solve it.<br />\nAlso, if you have any suggestions for other webcam libraries that have worked for you on windows, could you please share them with me.</p>\n"},{"tags":["java","android","smali"],"comments":[{"owner":{"account_id":189621,"reputation":39951,"user_id":429063,"display_name":"Chris Stratton"},"score":0,"creation_date":1399475821,"post_id":23521442,"comment_id":36079293,"body_markdown":"You are looking at the under-the-hood implementation of an object-oriented design pattern where the first argument often specifies the subject object, so among other things, I believe the difference in the first argument means the first call is acting on a different object (probably held in an instance field) while the second is acting on itself.","body":"You are looking at the under-the-hood implementation of an object-oriented design pattern where the first argument often specifies the subject object, so among other things, I believe the difference in the first argument means the first call is acting on a different object (probably held in an instance field) while the second is acting on itself."},{"owner":{"account_id":1289694,"reputation":141,"user_id":1242015,"accept_rate":75,"display_name":"yi2ng2"},"score":0,"creation_date":1399476726,"post_id":23521442,"comment_id":36080062,"body_markdown":"Hi Chris, thank you for your promptly reply. So, can I understand this way: both &quot;invokes&quot; are invoking the same method (same class), provided they are passing different objects as arguements?","body":"Hi Chris, thank you for your promptly reply. So, can I understand this way: both &quot;invokes&quot; are invoking the same method (same class), provided they are passing different objects as arguements?"}],"answers":[{"tags":[],"owner":{"account_id":252759,"reputation":19874,"user_id":531021,"display_name":"JesusFreke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1399490028,"creation_date":1399490028,"answer_id":23526336,"question_id":23521442,"body_markdown":"invoke-virtual performs a virtual table lookup using the vtable associated with the target object&#39;s class (i.e. the actual runtime type of the first argument).\r\n\r\nHowever, invoke-super is slightly different. It performs a vtable lookup using the superclass of the class containing the method being executed. In particular, note that the vtable lookup does not use or depend on the runtime type of the target object.\r\n\r\nIn your example, the invoke-virtual instruction is being called on the result of\r\n \r\n    iget-object v2, p0, Lcom/sds/android/ttpod/app/modules/skin/view/SeekBarExpansion$a;-&gt;b:Landroid/graphics/drawable/Drawable;\r\n\r\nAt this point, the actual method that is called depends on the actual type of v2, which could be any subclass of Drawable.\r\n\r\nThe invoke-super instruction is being called on the p0 register, which likely contains the &quot;this&quot; reference for the current object. However, the runtime type of p0 doesn&#39;t actually matter. The invoke-super instruction will always call Drawable&#39;s implementation of setBounds, regardless of the runtime type of p0.","title":".smali invoke-virtual &amp; invoke-super","body":"<p>invoke-virtual performs a virtual table lookup using the vtable associated with the target object's class (i.e. the actual runtime type of the first argument).</p>\n\n<p>However, invoke-super is slightly different. It performs a vtable lookup using the superclass of the class containing the method being executed. In particular, note that the vtable lookup does not use or depend on the runtime type of the target object.</p>\n\n<p>In your example, the invoke-virtual instruction is being called on the result of</p>\n\n<pre><code>iget-object v2, p0, Lcom/sds/android/ttpod/app/modules/skin/view/SeekBarExpansion$a;-&gt;b:Landroid/graphics/drawable/Drawable;\n</code></pre>\n\n<p>At this point, the actual method that is called depends on the actual type of v2, which could be any subclass of Drawable.</p>\n\n<p>The invoke-super instruction is being called on the p0 register, which likely contains the \"this\" reference for the current object. However, the runtime type of p0 doesn't actually matter. The invoke-super instruction will always call Drawable's implementation of setBounds, regardless of the runtime type of p0.</p>\n"}],"owner":{"account_id":1289694,"reputation":141,"user_id":1242015,"accept_rate":75,"display_name":"yi2ng2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6972,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23526336,"answer_count":1,"score":1,"last_activity_date":1677185979,"creation_date":1399474995,"question_id":23521442,"body_markdown":"I am trying to generate a call graph based on .smali file. However, I encountered a confusing case as follow:\r\n\r\n```smali\r\n.super Landroid/graphics/drawable/Drawable;\r\n.source &quot;SBarExp.java&quot;\r\n\r\n.method public final setBounds(Landroid/graphics/Rect;)V\r\n  .line 514\r\n  iget-object v2, p0, Lcom/sds/android/ttpod/app/modules/skin/view/SeekBarExpansion$a;-&gt;b:Landroid/graphics/drawable/Drawable;\r\n  invoke-virtual {v2, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V\r\n  .line 515\r\n  invoke-super {p0, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V\r\n.end method\r\n```\r\n\r\nBased on my understanding, `invoke-super` simply means it is going to call a parent method, so \r\n\r\n`invoke-super {p0, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V`\r\ncan be interpreted as `Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V` ?\r\n\r\nIf yes, I would like to know if `invoke-virtual {v2, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V` is the same as `invoke-super {p0, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V`?\r\n\r\nIf not, what is the difference? If yes, why is it invoking the same method twice (using different ways)?\r\n\r\nPlease help, many thanks!","title":".smali invoke-virtual &amp; invoke-super","body":"<p>I am trying to generate a call graph based on .smali file. However, I encountered a confusing case as follow:</p>\n<pre><code>.super Landroid/graphics/drawable/Drawable;\n.source &quot;SBarExp.java&quot;\n\n.method public final setBounds(Landroid/graphics/Rect;)V\n  .line 514\n  iget-object v2, p0, Lcom/sds/android/ttpod/app/modules/skin/view/SeekBarExpansion$a;-&gt;b:Landroid/graphics/drawable/Drawable;\n  invoke-virtual {v2, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V\n  .line 515\n  invoke-super {p0, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V\n.end method\n</code></pre>\n<p>Based on my understanding, <code>invoke-super</code> simply means it is going to call a parent method, so</p>\n<p><code>invoke-super {p0, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V</code>\ncan be interpreted as <code>Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V</code> ?</p>\n<p>If yes, I would like to know if <code>invoke-virtual {v2, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V</code> is the same as <code>invoke-super {p0, p1, v0, p3, v1}, Landroid/graphics/drawable/Drawable;-&gt;setBounds(IIII)V</code>?</p>\n<p>If not, what is the difference? If yes, why is it invoking the same method twice (using different ways)?</p>\n<p>Please help, many thanks!</p>\n"},{"tags":["java","rest","jackson","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":9169487,"reputation":71,"user_id":6817637,"display_name":"Sidharta Noleto"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1473545020,"creation_date":1473545020,"answer_id":39431006,"question_id":38757946,"body_markdown":"I had the same problem recently using SpringMVC and Jackson!\r\n\r\nIn Spring, when you explicit configure your endpoint to consume only `application/x-www-form-urlencoded` requests Spring is able to serialize into your POJO classes but it does not use Jackson because it isn&#39;t JSON. \r\n\r\nSo, in order to get those Jackson annotations working using your POJO, you&#39;ll have to:\r\n\r\n 1. Get your data as a map\r\n 2. Parse your data map with Jackson&#39;s ObjectMapper\r\n\r\nIn my case, with Spring I could resolve this problem with the following code:\r\n\r\n    @RequestMapping(\r\n            value = &quot;/rest/sth&quot;,\r\n            method = RequestMethod.POST\r\n    )\r\n    public ResponseEntity&lt;String&gt; create(@RequestBody MultiValueMap paramMap) { ... }\r\n\r\nWhen you remove the &quot;consumes&quot; attribute from `@RequestMapping` annotation you have to use `@RequestBody` or else Spring won&#39;t be able to identify your map as a valid parameter.\r\n\r\nOne thing that you&#39;ll probably notice is that `MultiValueMap` is not a regular map. Each element value is a `LinkedList` because http form data can repeat values and therefore those values would be added to that linked list.\r\n\r\n With that in mind, here is a simple code to get the first element and create another map to convert to your POJO:\r\n\r\n        HashMap&lt;String, Object&gt; newMap = new HashMap&lt;&gt;();\r\n        Arrays.asList(new String[]{&quot;my_name&quot;, &quot;my_phone&quot;})\r\n                .forEach( k -&gt; newMap.put(k, ((List&lt;?&gt;) paramMap.get(k)).get(0)));\r\n\r\n        MyRequest myrequest = new ObjectMapper().convertValue(newMap, MyRequest.class);\r\n\r\nI hope it can help you how it helped me :)\r\n","title":"@JsonProperty not working for Content-Type : application/x-www-form-urlencoded","body":"<p>I had the same problem recently using SpringMVC and Jackson!</p>\n\n<p>In Spring, when you explicit configure your endpoint to consume only <code>application/x-www-form-urlencoded</code> requests Spring is able to serialize into your POJO classes but it does not use Jackson because it isn't JSON. </p>\n\n<p>So, in order to get those Jackson annotations working using your POJO, you'll have to:</p>\n\n<ol>\n<li>Get your data as a map</li>\n<li>Parse your data map with Jackson's ObjectMapper</li>\n</ol>\n\n<p>In my case, with Spring I could resolve this problem with the following code:</p>\n\n<pre><code>@RequestMapping(\n        value = \"/rest/sth\",\n        method = RequestMethod.POST\n)\npublic ResponseEntity&lt;String&gt; create(@RequestBody MultiValueMap paramMap) { ... }\n</code></pre>\n\n<p>When you remove the \"consumes\" attribute from <code>@RequestMapping</code> annotation you have to use <code>@RequestBody</code> or else Spring won't be able to identify your map as a valid parameter.</p>\n\n<p>One thing that you'll probably notice is that <code>MultiValueMap</code> is not a regular map. Each element value is a <code>LinkedList</code> because http form data can repeat values and therefore those values would be added to that linked list.</p>\n\n<p>With that in mind, here is a simple code to get the first element and create another map to convert to your POJO:</p>\n\n<pre><code>    HashMap&lt;String, Object&gt; newMap = new HashMap&lt;&gt;();\n    Arrays.asList(new String[]{\"my_name\", \"my_phone\"})\n            .forEach( k -&gt; newMap.put(k, ((List&lt;?&gt;) paramMap.get(k)).get(0)));\n\n    MyRequest myrequest = new ObjectMapper().convertValue(newMap, MyRequest.class);\n</code></pre>\n\n<p>I hope it can help you how it helped me :)</p>\n"},{"tags":[],"owner":{"account_id":3142653,"reputation":829,"user_id":2657814,"display_name":"Abdelhafid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508418099,"creation_date":1508418099,"answer_id":46830525,"question_id":38757946,"body_markdown":"I think that the very simple solution, is to have a setter related to the variables with &quot;_&quot;.\r\n\r\n    public class MyRequest {\r\n\r\n        @JsonProperty(&quot;my_name&quot;)\r\n        private String myName;\r\n\r\n        @JsonProperty(&quot;my_phone&quot;)\r\n        private String myPhone;\r\n\r\n        //Getters and Setters of myName and myPhone.\r\n\r\n        //Setters for application/x-www-form-urlencoded\r\n        public void setMy_name(String name) {\r\n            setMyName(name);\r\n        }\r\n        ......\r\n    }\r\n\r\nThere are more solutions. See the [link][1].\r\n\r\n\r\n  [1]: https://afitnerd.com/2017/05/24/what-if-spring-boot-handled-forms-like-json/","title":"@JsonProperty not working for Content-Type : application/x-www-form-urlencoded","body":"<p>I think that the very simple solution, is to have a setter related to the variables with \"_\".</p>\n\n<pre><code>public class MyRequest {\n\n    @JsonProperty(\"my_name\")\n    private String myName;\n\n    @JsonProperty(\"my_phone\")\n    private String myPhone;\n\n    //Getters and Setters of myName and myPhone.\n\n    //Setters for application/x-www-form-urlencoded\n    public void setMy_name(String name) {\n        setMyName(name);\n    }\n    ......\n}\n</code></pre>\n\n<p>There are more solutions. See the <a href=\"https://afitnerd.com/2017/05/24/what-if-spring-boot-handled-forms-like-json/\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":18589330,"reputation":81,"user_id":13546911,"display_name":"LittleOnes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648784115,"creation_date":1648784115,"answer_id":71701493,"question_id":38757946,"body_markdown":"Maybe you should use \r\n`@FormProperty(&quot;my_name&quot;)` instead of \r\n`@JsonProperty(&quot;my_name&quot;)` \r\nfor x-www-form-urlencoded encoding as JSON.\r\n\r\nhere&#39;s the similar question:\r\nhttps://github.com/micronaut-projects/micronaut-core/issues/1853#issuecomment-662915261","title":"@JsonProperty not working for Content-Type : application/x-www-form-urlencoded","body":"<p>Maybe you should use\n<code>@FormProperty(&quot;my_name&quot;)</code> instead of\n<code>@JsonProperty(&quot;my_name&quot;)</code>\nfor x-www-form-urlencoded encoding as JSON.</p>\n<p>here's the similar question:\n<a href=\"https://github.com/micronaut-projects/micronaut-core/issues/1853#issuecomment-662915261\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-core/issues/1853#issuecomment-662915261</a></p>\n"}],"owner":{"account_id":2411984,"reputation":1607,"user_id":2106862,"accept_rate":42,"display_name":"Vineet Singla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8090,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1677185167,"creation_date":1470280711,"question_id":38757946,"body_markdown":"The REST API takes input content type : application/x-www-form-urlencoded, when it is mapped to a Java Object, like\r\n\r\n  \r\n\r\n     public class MyRequest {\r\n        \r\n        @JsonProperty(&quot;my_name&quot;)\r\n        private String myName;\r\n        \r\n        @JsonProperty(&quot;my_phone&quot;)\r\n        private String myPhone;\r\n        \r\n        //Getters and Setters of myName and myPhone.\r\n        \r\n        }\r\n\r\nIn form input request, I am setting values of my_name and my_phone but the MyRequest object comes with myName and myPhone as null.\r\n\r\nI am using Jackson-annotations 2.3 jar\r\n\r\nAny Suggestions what may be wrong ?\r\n","title":"@JsonProperty not working for Content-Type : application/x-www-form-urlencoded","body":"<p>The REST API takes input content type : application/x-www-form-urlencoded, when it is mapped to a Java Object, like</p>\n\n<pre><code> public class MyRequest {\n\n    @JsonProperty(\"my_name\")\n    private String myName;\n\n    @JsonProperty(\"my_phone\")\n    private String myPhone;\n\n    //Getters and Setters of myName and myPhone.\n\n    }\n</code></pre>\n\n<p>In form input request, I am setting values of my_name and my_phone but the MyRequest object comes with myName and myPhone as null.</p>\n\n<p>I am using Jackson-annotations 2.3 jar</p>\n\n<p>Any Suggestions what may be wrong ?</p>\n"},{"tags":["java","android","file","share","sharing"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1651830643,"post_id":72139453,"comment_id":127462383,"body_markdown":"Why is the exported tag false?","body":"Why is the exported tag false?"},{"owner":{"account_id":24897733,"reputation":21,"user_id":18768786,"display_name":"Lorenzo "},"score":0,"creation_date":1651831072,"post_id":72139453,"comment_id":127462547,"body_markdown":"From documentation: Set the android:exported attribute to false; the FileProvider does not need to be public.","body":"From documentation: Set the android:exported attribute to false; the FileProvider does not need to be public."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1651831120,"post_id":72139453,"comment_id":127462558,"body_markdown":"ok. But, I doubt a bit on `intentShare.setType(&quot;text/*&quot;);`. Might be I am wrong","body":"ok. But, I doubt a bit on <code>intentShare.setType(&quot;text&#47;*&quot;);</code>. Might be I am wrong"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1651831717,"post_id":72139453,"comment_id":127462783,"body_markdown":"`The permissions that I require in the Activity:` You do not need that permission for getFilesDir().","body":"<code>The permissions that I require in the Activity:</code> You do not need that permission for getFilesDir()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1651831846,"post_id":72139453,"comment_id":127462826,"body_markdown":"Try without the chooser.","body":"Try without the chooser."}],"answers":[{"tags":[],"owner":{"account_id":15980042,"reputation":274,"user_id":11531910,"display_name":"Mahdi Iranmanesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651831178,"creation_date":1651831178,"answer_id":72139631,"question_id":72139453,"body_markdown":"you must grant uri permission before starting intentShare ,\r\nlike this code:\r\n\r\n```\r\ncontext.grantUriPermission(\r\n                &quot;your.package.name&quot;,\r\n                contentUri,\r\n                Intent.FLAG_GRANT_WRITE_URI_PERMISSION or Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n            )\r\n```\r\n","title":"Share file .txt Android","body":"<p>you must grant uri permission before starting intentShare ,\nlike this code:</p>\n<pre><code>context.grantUriPermission(\n                &quot;your.package.name&quot;,\n                contentUri,\n                Intent.FLAG_GRANT_WRITE_URI_PERMISSION or Intent.FLAG_GRANT_READ_URI_PERMISSION\n            )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12966828,"reputation":11,"user_id":9374040,"display_name":"Vladyslav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677184855,"creation_date":1677184855,"answer_id":75550107,"question_id":72139453,"body_markdown":"I had the same problem and spent a lot of time on it. But the solution was not in the code. \r\nOn my Xiaomi device, the &quot;MIUI optimisation&quot; setting was disabled. It is located at the bottom of the developer&#39;s options. After I enabled it, file sharing started to work perfectly.","title":"Share file .txt Android","body":"<p>I had the same problem and spent a lot of time on it. But the solution was not in the code.\nOn my Xiaomi device, the &quot;MIUI optimisation&quot; setting was disabled. It is located at the bottom of the developer's options. After I enabled it, file sharing started to work perfectly.</p>\n"}],"owner":{"account_id":24897733,"reputation":21,"user_id":18768786,"display_name":"Lorenzo "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677184855,"creation_date":1651830371,"question_id":72139453,"body_markdown":"I&#39;m trying to share a .txt file to another app (gmail for example) but I have some problems. I decided to use the file provider. When I select gmail among the apps to share the file with, the app returns me the &quot;Couldn&#39;t attach file&quot; toast.\r\n\r\n\r\nI write the file txt in internal memory with this method:\r\n\r\n    public void esportaTxt(Graph graph, int id){\r\n            final String FILE_NAME = id + &quot;_TXT&quot; + &quot;.txt&quot;;\r\n            List&lt;Zona&gt; zone = new ArrayList&lt;&gt;();\r\n            Iterator&lt;Zona&gt; iterator = graph.vertexSet().iterator();\r\n    \r\n            zone = fromIteratorToArrayZone(iterator);\r\n    \r\n            File fileOutputFolder = new File(context.getFilesDir(), &quot;fileOutput&quot;); //cartella in cui salvare i file da condividere\r\n    \r\n            FileOutputStream fileOutputStream = null;\r\n            try {\r\n                fileOutputFolder.mkdirs(); //crea la cartella se non esiste\r\n                File file = new File(fileOutputFolder, FILE_NAME); //il file da salvare\r\n    \r\n                fileOutputStream = new FileOutputStream(file);\r\n    \r\n                for(int i = 0; i &lt; zone.size(); i++){\r\n                    fileOutputStream.write((i + 1 + &quot;) &quot; + zone.get(i).getNome() + &quot;\\n&quot;).getBytes());\r\n    \r\n                    Iterator&lt;Oggetto&gt; iteratoreOggetti = zone.get(i).getListaOggetti().iterator();\r\n                    while (iteratoreOggetti.hasNext()){\r\n                        fileOutputStream.write((&quot;   - &quot; + iteratoreOggetti.next().getNome() + &quot;\\n&quot;).getBytes());\r\n                    }\r\n                }\r\n    \r\n                contentUri = FileProvider.getUriForFile(context, &quot;com.example.eculturetool.fileprovider&quot;, file);\r\n    \r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if(fileOutputStream != null){\r\n                    try {\r\n                        fileOutputStream.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nI share the file txt with the following method:\r\n\r\n    public void shareFileTxt(int id){\r\n            String fileName = id + &quot;_TXT.txt&quot;;\r\n            String stringFile = context.getFilesDir() +  &quot;/fileOutput&quot; +  File.separator + fileName;\r\n    \r\n            File file = new File(stringFile);\r\n            contentUri = FileProvider.getUriForFile(context, &quot;com.example.eculturetool.fileprovider&quot;, file);\r\n    \r\n            if(!file.exists()){\r\n                Toast.makeText(context, &quot;Il file non esiste!&quot;, Toast.LENGTH_LONG).show();\r\n                return;\r\n            }\r\n    \r\n    \r\n            Intent intentShare = new Intent(Intent.ACTION_SEND);\r\n            intentShare.setType(&quot;text/*&quot;);\r\n            intentShare.putExtra(Intent.EXTRA_SUBJECT, &quot;Subject Here&quot;); //per condividere con email app\r\n            intentShare.putExtra(Intent.EXTRA_STREAM, contentUri);\r\n            intentShare.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n            context.startActivity(Intent.createChooser(intentShare, &quot;Condividi file&quot;));\r\n        }\r\n\r\n\r\nThe permissions that I require in the Activity:\r\n\r\n    ActivityCompat.requestPermissions(this, new String[]{READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE}, PERMISSION_GRANTED);\r\n            StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\r\n            StrictMode.setVmPolicy(builder.build());\r\n\r\n\r\nProvider in android manifest:\r\n\r\n    &lt;provider\r\n                android:name=&quot;androidx.core.content.FileProvider&quot;\r\n                android:authorities=&quot;com.example.eculturetool.fileprovider&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:grantUriPermissions=&quot;true&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                    android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n            &lt;/provider&gt;\r\n\r\n\r\nThe screen of Gmail\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XdRmT.png","title":"Share file .txt Android","body":"<p>I'm trying to share a .txt file to another app (gmail for example) but I have some problems. I decided to use the file provider. When I select gmail among the apps to share the file with, the app returns me the &quot;Couldn't attach file&quot; toast.</p>\n<p>I write the file txt in internal memory with this method:</p>\n<pre><code>public void esportaTxt(Graph graph, int id){\n        final String FILE_NAME = id + &quot;_TXT&quot; + &quot;.txt&quot;;\n        List&lt;Zona&gt; zone = new ArrayList&lt;&gt;();\n        Iterator&lt;Zona&gt; iterator = graph.vertexSet().iterator();\n\n        zone = fromIteratorToArrayZone(iterator);\n\n        File fileOutputFolder = new File(context.getFilesDir(), &quot;fileOutput&quot;); //cartella in cui salvare i file da condividere\n\n        FileOutputStream fileOutputStream = null;\n        try {\n            fileOutputFolder.mkdirs(); //crea la cartella se non esiste\n            File file = new File(fileOutputFolder, FILE_NAME); //il file da salvare\n\n            fileOutputStream = new FileOutputStream(file);\n\n            for(int i = 0; i &lt; zone.size(); i++){\n                fileOutputStream.write((i + 1 + &quot;) &quot; + zone.get(i).getNome() + &quot;\\n&quot;).getBytes());\n\n                Iterator&lt;Oggetto&gt; iteratoreOggetti = zone.get(i).getListaOggetti().iterator();\n                while (iteratoreOggetti.hasNext()){\n                    fileOutputStream.write((&quot;   - &quot; + iteratoreOggetti.next().getNome() + &quot;\\n&quot;).getBytes());\n                }\n            }\n\n            contentUri = FileProvider.getUriForFile(context, &quot;com.example.eculturetool.fileprovider&quot;, file);\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if(fileOutputStream != null){\n                try {\n                    fileOutputStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>I share the file txt with the following method:</p>\n<pre><code>public void shareFileTxt(int id){\n        String fileName = id + &quot;_TXT.txt&quot;;\n        String stringFile = context.getFilesDir() +  &quot;/fileOutput&quot; +  File.separator + fileName;\n\n        File file = new File(stringFile);\n        contentUri = FileProvider.getUriForFile(context, &quot;com.example.eculturetool.fileprovider&quot;, file);\n\n        if(!file.exists()){\n            Toast.makeText(context, &quot;Il file non esiste!&quot;, Toast.LENGTH_LONG).show();\n            return;\n        }\n\n\n        Intent intentShare = new Intent(Intent.ACTION_SEND);\n        intentShare.setType(&quot;text/*&quot;);\n        intentShare.putExtra(Intent.EXTRA_SUBJECT, &quot;Subject Here&quot;); //per condividere con email app\n        intentShare.putExtra(Intent.EXTRA_STREAM, contentUri);\n        intentShare.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n        context.startActivity(Intent.createChooser(intentShare, &quot;Condividi file&quot;));\n    }\n</code></pre>\n<p>The permissions that I require in the Activity:</p>\n<pre><code>ActivityCompat.requestPermissions(this, new String[]{READ_EXTERNAL_STORAGE, WRITE_EXTERNAL_STORAGE}, PERMISSION_GRANTED);\n        StrictMode.VmPolicy.Builder builder = new StrictMode.VmPolicy.Builder();\n        StrictMode.setVmPolicy(builder.build());\n</code></pre>\n<p>Provider in android manifest:</p>\n<pre><code>&lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.example.eculturetool.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\n        &lt;/provider&gt;\n</code></pre>\n<p>The screen of Gmail\n<img src=\"https://i.stack.imgur.com/XdRmT.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","postgresql","ssl","jdbc"],"comments":[{"owner":{"account_id":4616597,"reputation":353,"user_id":3742898,"display_name":"user3742898"},"score":0,"creation_date":1677191442,"post_id":75550099,"comment_id":133294867,"body_markdown":"It turns out that if I add an alias of &quot;user&quot; (not the name of the user.  Literally &quot;user&quot;) to the cert in the pkcs12 file, it works.  That can _not_ be the intended solution.","body":"It turns out that if I add an alias of &quot;user&quot; (not the name of the user.  Literally &quot;user&quot;) to the cert in the pkcs12 file, it works.  That can <i>not</i> be the intended solution."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1677195157,"post_id":75550099,"comment_id":133295526,"body_markdown":"What does &#39;adding an alias of &quot;user&quot;&#39; look like, in terms of openssl commands.  Or whatever tool is being used.","body":"What does &#39;adding an alias of &quot;user&quot;&#39; look like, in terms of openssl commands.  Or whatever tool is being used."},{"owner":{"account_id":4616597,"reputation":353,"user_id":3742898,"display_name":"user3742898"},"score":0,"creation_date":1677604620,"post_id":75550099,"comment_id":133369452,"body_markdown":"`openssl pkcs12 -export -out ssl_cert_with_user_username.p12 -in cert.pem -name user -inkey cert.key -passout pass:changeit`\n\nyields\n\n`openssl pkcs12 -info -in local/nss1/2023-02-14/ssl_cert_with_user_username.p12 | grep friendly`\n    friendlyName: user","body":"<code>openssl pkcs12 -export -out ssl_cert_with_user_username.p12 -in cert.pem -name user -inkey cert.key -passout pass:changeit</code>  yields  <code>openssl pkcs12 -info -in local&#47;nss1&#47;2023-02-14&#47;ssl_cert_with_user_username.p12 | grep friendly</code>     friendlyName: user"},{"owner":{"account_id":50479,"reputation":431,"user_id":150600,"display_name":"iboisver"},"score":0,"creation_date":1702151556,"post_id":75550099,"comment_id":136862755,"body_markdown":"I was also having a problem connecting, different exception `org.postgresql.util.PSQLException: FATAL: connection requires a valid client certificate`. Adding `-name user` to `openssl pkcs12 -export` seems to solve the issue. To be fair, docs [here](https://jdbc.postgresql.org/documentation/use/) actually mention this. For some reason though I need to provide both `sslcert` and `sslkey`, where sslkey is the PKCS 12 file.","body":"I was also having a problem connecting, different exception <code>org.postgresql.util.PSQLException: FATAL: connection requires a valid client certificate</code>. Adding <code>-name user</code> to <code>openssl pkcs12 -export</code> seems to solve the issue. To be fair, docs <a href=\"https://jdbc.postgresql.org/documentation/use/\" rel=\"nofollow noreferrer\">here</a> actually mention this. For some reason though I need to provide both <code>sslcert</code> and <code>sslkey</code>, where sslkey is the PKCS 12 file."}],"owner":{"account_id":4616597,"reputation":353,"user_id":3742898,"display_name":"user3742898"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677184781,"creation_date":1677184781,"question_id":75550099,"body_markdown":"I&#39;m trying to use client cert in a pkcs12 file for postgres JDBC auth, but it&#39;s not working for me.  I&#39;ve tried a variety of versions of the driver &gt;= 42.2.9.  Some of them provide different stack traces, but I think they boil down to the same thing.\r\n\r\nPer [the doc](https://jdbc.postgresql.org/documentation/ssl/)\r\n\r\n&gt; As of version 42.2.9 PKCS-12 is also supported. In this archive format the client key and the client certificate are in one file, which needs to be set with the sslkey parameter. For the PKCS-12 format to be recognized, the file extension must be .p12 (supported since 42.2.9) or .pfx (since 42.2.16). (In this case the sslcert parameter is ignored.)\r\n\r\nI even extracted the pems from the pkcs12 file (there&#39;s a chain of certs up to and including the CA, as well as the key for the leaf cert), created a chain cert pem file, and a pkcs8 file for the key, and _that_ works fine.  I then created a new p12 file from the pem &amp; pkcs8 files, and that doesn&#39;t work either.\r\n\r\nI&#39;ve also created a properties file, and passed that into the `getConnection`, and I get the same error.\r\n\r\nThe code below (edited for brevity) yields the output below that.\r\n\r\nMy gut tells me that there&#39;s some kind of encoding issue, but I can&#39;t find doc on what pkcs12 encodings are accepted by the postgres driver (I also created a p12 file using &quot;-descert&quot;, same result).  Another idea is that I may need some jar on the classpath at runtime, but I also can&#39;t find doc on that.\r\n\r\n\r\nAny ideas?  Thank you.\r\n\r\n\r\n```\r\n    log.info(&quot;the all-args-in-the-uri uri is {}&quot;, uri);\r\n    try (Connection conn = DriverManager.getConnection(uri)) {\r\n    } catch (Exception e) {\r\n        log.error(&quot;problem with query-args based appoach&quot;, e);\r\n    }\r\n```\r\n\r\n\r\n```\r\n13:59:36.411 [main] INFO  com.company_name.app_name.App - the all-args-in-the-uri uri is jdbc:postgresql://hostname.net:5432/db_name?sslmode=verify-ca&amp;sslpassword=company_name&amp;sslkey=/Users/user_name/git/certDbApp/local/nss1/2023-02-14/ssl_cert.p12&amp;sslcert=/Users/user_name/git/certDbApp/local/nss1/2023-02-14/ssl_cert.p12&amp;ssl=true&amp;user=app_name-prod_readonly&amp;sslrootcert=/Users/user_name/git/certDbApp/local/nss1/2023-02-14/canonical_ca_roots.pem\r\n13:59:37.568 [main] ERROR com.company_name.app_name.App - problem with query-args based appoach\r\norg.postgresql.util.PSQLException: Could not find a java cryptographic algorithm: X.509 CertificateFactory not available.\r\n\tat org.postgresql.ssl.PKCS12KeyManager.getCertificateChain(PKCS12KeyManager.java:116) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.ssl.PKCS12KeyManager.chooseClientAlias(PKCS12KeyManager.java:77) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat java.base/sun.security.ssl.AbstractKeyManagerWrapper.chooseClientAlias(SSLContextImpl.java:1744) ~[na:na]\r\n\tat java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:231) ~[na:na]\r\n\tat java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:206) ~[na:na]\r\n\tat java.base/sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:90) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1081) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1102) ~[na:na]\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436) ~[na:na]\r\n\tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1011) ~[na:na]\r\n\tat java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:874) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[na:na]\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443) ~[na:na]\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421) ~[na:na]\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:183) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1416) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:456) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427) ~[na:na]\r\n\tat org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:40) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:441) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:135) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:211) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:458) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat org.postgresql.Driver.connect(Driver.java:260) ~[postgresql-42.2.9.jar:42.2.9]\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677) ~[java.sql:na]\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251) ~[java.sql:na]\r\n\tat com.company_name.app_name.App.testUriBased(App.java:265) ~[classes/:na]\r\n\tat com.company_name.app_name.App.main(App.java:69) ~[classes/:na]\r\nCaused by: java.lang.NullPointerException: null\r\n\tat org.postgresql.ssl.PKCS12KeyManager.getCertificateChain(PKCS12KeyManager.java:109) ~[postgresql-42.2.9.jar:42.2.9]\r\n\t... 32 common frames omitted\r\n13:59:37.568 [main] INFO  com.company_name.app_name.App - \r\n```","title":"pkcs12 client cert file for postgres jdbc","body":"<p>I'm trying to use client cert in a pkcs12 file for postgres JDBC auth, but it's not working for me.  I've tried a variety of versions of the driver &gt;= 42.2.9.  Some of them provide different stack traces, but I think they boil down to the same thing.</p>\n<p>Per <a href=\"https://jdbc.postgresql.org/documentation/ssl/\" rel=\"nofollow noreferrer\">the doc</a></p>\n<blockquote>\n<p>As of version 42.2.9 PKCS-12 is also supported. In this archive format the client key and the client certificate are in one file, which needs to be set with the sslkey parameter. For the PKCS-12 format to be recognized, the file extension must be .p12 (supported since 42.2.9) or .pfx (since 42.2.16). (In this case the sslcert parameter is ignored.)</p>\n</blockquote>\n<p>I even extracted the pems from the pkcs12 file (there's a chain of certs up to and including the CA, as well as the key for the leaf cert), created a chain cert pem file, and a pkcs8 file for the key, and <em>that</em> works fine.  I then created a new p12 file from the pem &amp; pkcs8 files, and that doesn't work either.</p>\n<p>I've also created a properties file, and passed that into the <code>getConnection</code>, and I get the same error.</p>\n<p>The code below (edited for brevity) yields the output below that.</p>\n<p>My gut tells me that there's some kind of encoding issue, but I can't find doc on what pkcs12 encodings are accepted by the postgres driver (I also created a p12 file using &quot;-descert&quot;, same result).  Another idea is that I may need some jar on the classpath at runtime, but I also can't find doc on that.</p>\n<p>Any ideas?  Thank you.</p>\n<pre><code>    log.info(&quot;the all-args-in-the-uri uri is {}&quot;, uri);\n    try (Connection conn = DriverManager.getConnection(uri)) {\n    } catch (Exception e) {\n        log.error(&quot;problem with query-args based appoach&quot;, e);\n    }\n</code></pre>\n<pre><code>13:59:36.411 [main] INFO  com.company_name.app_name.App - the all-args-in-the-uri uri is jdbc:postgresql://hostname.net:5432/db_name?sslmode=verify-ca&amp;sslpassword=company_name&amp;sslkey=/Users/user_name/git/certDbApp/local/nss1/2023-02-14/ssl_cert.p12&amp;sslcert=/Users/user_name/git/certDbApp/local/nss1/2023-02-14/ssl_cert.p12&amp;ssl=true&amp;user=app_name-prod_readonly&amp;sslrootcert=/Users/user_name/git/certDbApp/local/nss1/2023-02-14/canonical_ca_roots.pem\n13:59:37.568 [main] ERROR com.company_name.app_name.App - problem with query-args based appoach\norg.postgresql.util.PSQLException: Could not find a java cryptographic algorithm: X.509 CertificateFactory not available.\n    at org.postgresql.ssl.PKCS12KeyManager.getCertificateChain(PKCS12KeyManager.java:116) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.ssl.PKCS12KeyManager.chooseClientAlias(PKCS12KeyManager.java:77) ~[postgresql-42.2.9.jar:42.2.9]\n    at java.base/sun.security.ssl.AbstractKeyManagerWrapper.chooseClientAlias(SSLContextImpl.java:1744) ~[na:na]\n    at java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createClientPossession(X509Authentication.java:231) ~[na:na]\n    at java.base/sun.security.ssl.X509Authentication$X509PossessionGenerator.createPossession(X509Authentication.java:206) ~[na:na]\n    at java.base/sun.security.ssl.X509Authentication.createPossession(X509Authentication.java:90) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.choosePossession(CertificateMessage.java:1081) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.onProduceCertificate(CertificateMessage.java:1102) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateProducer.produce(CertificateMessage.java:958) ~[na:na]\n    at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436) ~[na:na]\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.onConsumeFinished(Finished.java:1011) ~[na:na]\n    at java.base/sun.security.ssl.Finished$T13FinishedConsumer.consume(Finished.java:874) ~[na:na]\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[na:na]\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443) ~[na:na]\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:183) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1416) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:456) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:427) ~[na:na]\n    at org.postgresql.ssl.MakeSSL.convert(MakeSSL.java:40) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:441) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:135) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:211) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.Driver.makeConnection(Driver.java:458) ~[postgresql-42.2.9.jar:42.2.9]\n    at org.postgresql.Driver.connect(Driver.java:260) ~[postgresql-42.2.9.jar:42.2.9]\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677) ~[java.sql:na]\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:251) ~[java.sql:na]\n    at com.company_name.app_name.App.testUriBased(App.java:265) ~[classes/:na]\n    at com.company_name.app_name.App.main(App.java:69) ~[classes/:na]\nCaused by: java.lang.NullPointerException: null\n    at org.postgresql.ssl.PKCS12KeyManager.getCertificateChain(PKCS12KeyManager.java:109) ~[postgresql-42.2.9.jar:42.2.9]\n    ... 32 common frames omitted\n13:59:37.568 [main] INFO  com.company_name.app_name.App - \n</code></pre>\n"},{"tags":["java","amazon-web-services","ssl"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1474593208,"post_id":39650898,"comment_id":66605400,"body_markdown":"You are invoking it how?","body":"You are invoking it how?"},{"owner":{"account_id":6597541,"reputation":778,"user_id":5096800,"display_name":"riversun"},"score":0,"creation_date":1474945382,"post_id":39650898,"comment_id":66728481,"body_markdown":"BCFKS for bouncy castle? If you want to use default type of ks,`KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());`","body":"BCFKS for bouncy castle? If you want to use default type of ks,<code>KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());</code>"},{"owner":{"account_id":69843,"reputation":10240,"user_id":203018,"accept_rate":84,"display_name":"yogsma"},"score":0,"creation_date":1474992369,"post_id":39650898,"comment_id":66756217,"body_markdown":"Yes BCFKS for bouncy castle","body":"Yes BCFKS for bouncy castle"},{"owner":{"account_id":379775,"reputation":536,"user_id":733367,"accept_rate":100,"display_name":"sadiq.ali"},"score":0,"creation_date":1475261107,"post_id":39650898,"comment_id":66888989,"body_markdown":"Try to print all the trust managers and see if you have more than one. The first one seems to be `DummyX509TrustManager`.","body":"Try to print all the trust managers and see if you have more than one. The first one seems to be <code>DummyX509TrustManager</code>."},{"owner":{"account_id":4232566,"reputation":1533,"user_id":3464596,"display_name":"Hrabosch"},"score":0,"creation_date":1475492512,"post_id":39650898,"comment_id":66949694,"body_markdown":"Did you try to set provider to Security if it is null? And if it is null, then  `Security.addProvider(new YourProvider());`?","body":"Did you try to set provider to Security if it is null? And if it is null, then  <code>Security.addProvider(new YourProvider());</code>?"},{"owner":{"account_id":2426636,"reputation":2581,"user_id":2118422,"accept_rate":18,"display_name":"Rahul Munjal"},"score":0,"creation_date":1480430446,"post_id":39650898,"comment_id":68952686,"body_markdown":"I am facing the same issue. Can you share me your updated AWS S3 client creation code on my email id (er.rahulmunjal@gmail.com) ?","body":"I am facing the same issue. Can you share me your updated AWS S3 client creation code on my email id (er.rahulmunjal@gmail.com) ?"}],"answers":[{"tags":[],"owner":{"account_id":69843,"reputation":10240,"user_id":203018,"accept_rate":84,"display_name":"yogsma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1475503605,"creation_date":1475503605,"answer_id":39833595,"question_id":39650898,"body_markdown":"This was resolved when we moved the AWS-client initialization to a place after setting the trust store password. In my code, I was creating AWS-Client too early. ","title":"No X509TrustManager Implementation available","body":"<p>This was resolved when we moved the AWS-client initialization to a place after setting the trust store password. In my code, I was creating AWS-Client too early. </p>\n"},{"tags":[],"owner":{"account_id":1093328,"reputation":41,"user_id":1087459,"display_name":"ramysram"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520326599,"creation_date":1520326599,"answer_id":49126837,"question_id":39650898,"body_markdown":"After debuggging for several hours, it turned out to be a corrupted keystore in my case. Check if you can list the contents of the keystore using the keytool command.","title":"No X509TrustManager Implementation available","body":"<p>After debuggging for several hours, it turned out to be a corrupted keystore in my case. Check if you can list the contents of the keystore using the keytool command.</p>\n"},{"tags":[],"owner":{"account_id":6949511,"reputation":959,"user_id":5332575,"accept_rate":29,"display_name":"Arjun Kalidas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677184773,"creation_date":1677184773,"answer_id":75550097,"question_id":39650898,"body_markdown":"In my case, I was invoking a SOAP service that needed SSL authentication before my truststore was built. So the service call didn&#39;t have a certificate or at least a fully formed one and that caused the service invocation to fail with this error.\r\n\r\nWhen I moved the spring initialization first, then trust store building, and finally service call, that fixed it. To create a certificate, you can do the following:\r\n\r\n \r\n\r\n    KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n    trustStore.load(null, null);\r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    \r\n    FileInputStream fis = null;\r\n    FileOutputStream fos = null;\r\n    \r\n    fis = new FileInputStream(&lt;your cert file&gt;);\r\n    X509Certificate certificate = (X509Certificate)cf.generateCertificate(fis);\r\n    fis.close();\r\n    \r\n    trustStore.setCertificateEntry(&lt;cert name/alias&gt;, certificate);\r\n    fos = new FileOutputStream(&lt;path of the file to write to&gt;);\r\n    // &quot;changeit&quot; is the default password that is used.\r\n    trustStore.store(fos, &quot;changeit&quot;.toCharArray());\r\n    fos.close();\r\n\r\nIf it is PKCS12 that you want, replace it in the place of JKS.\r\n","title":"No X509TrustManager Implementation available","body":"<p>In my case, I was invoking a SOAP service that needed SSL authentication before my truststore was built. So the service call didn't have a certificate or at least a fully formed one and that caused the service invocation to fail with this error.</p>\n<p>When I moved the spring initialization first, then trust store building, and finally service call, that fixed it. To create a certificate, you can do the following:</p>\n<pre><code>KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\ntrustStore.load(null, null);\nCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n\nFileInputStream fis = null;\nFileOutputStream fos = null;\n\nfis = new FileInputStream(&lt;your cert file&gt;);\nX509Certificate certificate = (X509Certificate)cf.generateCertificate(fis);\nfis.close();\n\ntrustStore.setCertificateEntry(&lt;cert name/alias&gt;, certificate);\nfos = new FileOutputStream(&lt;path of the file to write to&gt;);\n// &quot;changeit&quot; is the default password that is used.\ntrustStore.store(fos, &quot;changeit&quot;.toCharArray());\nfos.close();\n</code></pre>\n<p>If it is PKCS12 that you want, replace it in the place of JKS.</p>\n"}],"owner":{"account_id":69843,"reputation":10240,"user_id":203018,"accept_rate":84,"display_name":"yogsma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28063,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":39833595,"answer_count":3,"score":14,"last_activity_date":1677184773,"creation_date":1474591372,"question_id":39650898,"body_markdown":"I am invoking an AWS API, I keep running into following error \r\n\r\n    Exception in thread &quot;main&quot; com.amazonaws.AmazonClientException: Unable to execute HTTP request: java.security.cert.CertificateException: No X509TrustManager implementation available\r\n           at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:709)\r\n           at com.amazonaws.http.AmazonHttpClient.doExecute(AmazonHttpClient.java:449)\r\n           at com.amazonaws.http.AmazonHttpClient.executeWithTimer(AmazonHttpClient.java:411)\r\n           at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:360)\r\n           at com.amazonaws.services.kms.AWSKMSClient.doInvoke(AWSKMSClient.java:2723)\r\n           at com.amazonaws.services.kms.AWSKMSClient.invoke(AWSKMSClient.java:2693)\r\n           at com.amazonaws.services.kms.AWSKMSClient.generateDataKey(AWSKMSClient.java:1488)\r\n           at com.infor.aws.KMSTest.createDEK(KMSTest.java:217)\r\n           at com.infor.aws.KMSTest.main(KMSTest.java:144)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No X509TrustManager implementation available\r\n           at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n           at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1949)\r\n           at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)\r\n           at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)\r\n           at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1509)\r\n           at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)\r\n           at sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\r\n           at sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\r\n           at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)\r\n           at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\r\n           at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\r\n           at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\r\n           at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:394)\r\n           at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:353)\r\n           at com.amazonaws.http.conn.ssl.SdkTLSSocketFactory.connectSocket(SdkTLSSocketFactory.java:132)\r\n           at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:141)\r\n           at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n           at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n           at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n           at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n           at java.lang.reflect.Method.invoke(Method.java:498)\r\n           at com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76)\r\n           at com.amazonaws.http.conn.$Proxy2.connect(Unknown Source)\r\n           at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n           at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n           at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n           at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n           at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n           at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\r\n           at com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72)\r\n           at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:854)\r\n           at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:697)\r\n           ... 8 more\r\n    Caused by: java.security.cert.CertificateException: No X509TrustManager implementation available\r\n           at sun.security.ssl.DummyX509TrustManager.checkServerTrusted(SSLContextImpl.java:1119)\r\n           at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1491)\r\n           ... 35 more\r\n\r\nI have gone through multiple threads here on Stackoverflow and added all the required truststore, truststoretype system properties. This [thread][1] I have tried. But nothing is working. Has anyone come across this ? I am invoking it like below \r\n\r\n    TrustManagerFactory tmf = TrustManagerFactory\r\n                                       .getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n                               \r\n    KeyStore ks  = KeyStore.getInstance(&quot;BCFKS&quot;);\r\n    ks.load(new FileInputStream(&quot;&lt;jre-home&gt;\\\\\\\\lib\\\\\\\\security\\\\\\\\cacerts&quot;), &quot;changeit&quot;.toCharArray());\r\n    tmf.init(ks);\r\n                               \r\n     // Get hold of the trust manager\r\n    X509TrustManager x509Tm = null;\r\n    for (TrustManager tm : tmf.getTrustManagers()) {\r\n         if (tm instanceof X509TrustManager) {\r\n              x509Tm = (X509TrustManager) tm;\r\n              break;\r\n         }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24856560/no-x509trustmanager-implementation-available-htmlunit\r\n\r\n","title":"No X509TrustManager Implementation available","body":"<p>I am invoking an AWS API, I keep running into following error </p>\n\n<pre><code>Exception in thread \"main\" com.amazonaws.AmazonClientException: Unable to execute HTTP request: java.security.cert.CertificateException: No X509TrustManager implementation available\n       at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:709)\n       at com.amazonaws.http.AmazonHttpClient.doExecute(AmazonHttpClient.java:449)\n       at com.amazonaws.http.AmazonHttpClient.executeWithTimer(AmazonHttpClient.java:411)\n       at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:360)\n       at com.amazonaws.services.kms.AWSKMSClient.doInvoke(AWSKMSClient.java:2723)\n       at com.amazonaws.services.kms.AWSKMSClient.invoke(AWSKMSClient.java:2693)\n       at com.amazonaws.services.kms.AWSKMSClient.generateDataKey(AWSKMSClient.java:1488)\n       at com.infor.aws.KMSTest.createDEK(KMSTest.java:217)\n       at com.infor.aws.KMSTest.main(KMSTest.java:144)\nCaused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No X509TrustManager implementation available\n       at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n       at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1949)\n       at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)\n       at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)\n       at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1509)\n       at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:216)\n       at sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\n       at sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\n       at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)\n       at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\n       at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\n       at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\n       at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:394)\n       at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:353)\n       at com.amazonaws.http.conn.ssl.SdkTLSSocketFactory.connectSocket(SdkTLSSocketFactory.java:132)\n       at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:141)\n       at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n       at java.lang.reflect.Method.invoke(Method.java:498)\n       at com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76)\n       at com.amazonaws.http.conn.$Proxy2.connect(Unknown Source)\n       at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n       at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n       at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n       at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n       at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n       at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n       at com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72)\n       at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:854)\n       at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:697)\n       ... 8 more\nCaused by: java.security.cert.CertificateException: No X509TrustManager implementation available\n       at sun.security.ssl.DummyX509TrustManager.checkServerTrusted(SSLContextImpl.java:1119)\n       at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1491)\n       ... 35 more\n</code></pre>\n\n<p>I have gone through multiple threads here on Stackoverflow and added all the required truststore, truststoretype system properties. This <a href=\"https://stackoverflow.com/questions/24856560/no-x509trustmanager-implementation-available-htmlunit\">thread</a> I have tried. But nothing is working. Has anyone come across this ? I am invoking it like below </p>\n\n<pre><code>TrustManagerFactory tmf = TrustManagerFactory\n                                   .getInstance(TrustManagerFactory.getDefaultAlgorithm());\n\nKeyStore ks  = KeyStore.getInstance(\"BCFKS\");\nks.load(new FileInputStream(\"&lt;jre-home&gt;\\\\\\\\lib\\\\\\\\security\\\\\\\\cacerts\"), \"changeit\".toCharArray());\ntmf.init(ks);\n\n // Get hold of the trust manager\nX509TrustManager x509Tm = null;\nfor (TrustManager tm : tmf.getTrustManagers()) {\n     if (tm instanceof X509TrustManager) {\n          x509Tm = (X509TrustManager) tm;\n          break;\n     }\n}\n</code></pre>\n"},{"tags":["java","android","vonage"],"owner":{"account_id":3342403,"reputation":1476,"user_id":2808371,"accept_rate":64,"display_name":"an0o0nym"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677184645,"creation_date":1677184645,"question_id":75550070,"body_markdown":"I am trying to send a message using nexmo Java SDK.\r\n\r\nI do everything as suggested in nexmo documentation on how to [send a message](https://developer.vonage.com/en/tutorials/in-app-messaging/send-message/java):\r\n\r\n```Java\r\nconversation.sendMessage(NexmoMessage.fromText(text), new NexmoRequestListener&lt;Void&gt;() {\r\n    @Override\r\n    public void onError(@NonNull NexmoApiError error) {\r\n        Log.d(&quot;DEBUG&quot;, &quot;sendMessage onError&quot; + error);\r\n    }\r\n\r\n    @Override\r\n    public void onSuccess(@Nullable Void result) {\r\n        Log.d(&quot;DEBUG&quot;, &quot;sendMessage onSuccess&quot;);\r\n\r\n    }\r\n});\r\n```\r\n\r\nThis all works fine. Messages are getting through. \r\n\r\nMy question is how do I get the `result.id` on successfull response?\r\n\r\nI can see that `conversation.sendMessage` creates POST request to `beta/conversations/{conversation_id}/events` API endpoints which is [documented](https://developer.vonage.com/en/api/conversation#createEvent-responses) to return `id` in response body. But the result is of type `Void` so I get nothing back in result.\r\n\r\nHow can I override this particular method in SDK to get the full response body rather than `null`? Is there any other way to get the ID other than overriding that `sendMessage` method?","title":"Vonage/Nexmo get event ID for conversation.sendMessage","body":"<p>I am trying to send a message using nexmo Java SDK.</p>\n<p>I do everything as suggested in nexmo documentation on how to <a href=\"https://developer.vonage.com/en/tutorials/in-app-messaging/send-message/java\" rel=\"nofollow noreferrer\">send a message</a>:</p>\n<pre><code>conversation.sendMessage(NexmoMessage.fromText(text), new NexmoRequestListener&lt;Void&gt;() {\n    @Override\n    public void onError(@NonNull NexmoApiError error) {\n        Log.d(&quot;DEBUG&quot;, &quot;sendMessage onError&quot; + error);\n    }\n\n    @Override\n    public void onSuccess(@Nullable Void result) {\n        Log.d(&quot;DEBUG&quot;, &quot;sendMessage onSuccess&quot;);\n\n    }\n});\n</code></pre>\n<p>This all works fine. Messages are getting through.</p>\n<p>My question is how do I get the <code>result.id</code> on successfull response?</p>\n<p>I can see that <code>conversation.sendMessage</code> creates POST request to <code>beta/conversations/{conversation_id}/events</code> API endpoints which is <a href=\"https://developer.vonage.com/en/api/conversation#createEvent-responses\" rel=\"nofollow noreferrer\">documented</a> to return <code>id</code> in response body. But the result is of type <code>Void</code> so I get nothing back in result.</p>\n<p>How can I override this particular method in SDK to get the full response body rather than <code>null</code>? Is there any other way to get the ID other than overriding that <code>sendMessage</code> method?</p>\n"},{"tags":["java","excel","cucumber","testng"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1677201784,"post_id":75550055,"comment_id":133296327,"body_markdown":"No one can help you right now because you didn&#39;t explain your problem with sufficient detail for someone to reproduce it. Please have a look at https://stackoverflow.com/help/how-to-ask and https://stackoverflow.com/help/minimal-reproducible-example.","body":"No one can help you right now because you didn&#39;t explain your problem with sufficient detail for someone to reproduce it. Please have a look at <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>."}],"owner":{"account_id":27863835,"reputation":1,"user_id":21275758,"display_name":"Mukesh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677184586,"creation_date":1677184586,"question_id":75550055,"body_markdown":"getting on running codes with Test Data factory which getting data from excel sheet.\r\nError:\r\n1. Use deprecated reflection to load ObjectFactory.(after execution from cucumber feature)\r\n\r\n2.ArrayIndexOutOfBoundException(after execution from runner class-testNg)\r\n \r\n\r\nHow to fix the issue\r\n\r\nusing excel sheet in scenario outline with TestNg","title":"Error on conversion from TestNg....Deprecated reflection to load ObjectFactory","body":"<p>getting on running codes with Test Data factory which getting data from excel sheet.\nError:</p>\n<ol>\n<li>Use deprecated reflection to load ObjectFactory.(after execution from cucumber feature)</li>\n</ol>\n<p>2.ArrayIndexOutOfBoundException(after execution from runner class-testNg)</p>\n<p>How to fix the issue</p>\n<p>using excel sheet in scenario outline with TestNg</p>\n"},{"tags":["java","spring","security","password-hash","checkmarx"],"comments":[{"owner":{"account_id":5439142,"reputation":2507,"user_id":4327668,"display_name":"securecodeninja"},"score":1,"creation_date":1617855747,"post_id":66966544,"comment_id":118425848,"body_markdown":"your code should have worked. My theory is that Checkmarx is not able to traverse to your helper method ChecksumHelper.getFileChecksum and create a data flow. Definitely not ideal, but try moving the body of your helper method out into the main code where there is a checksum validation","body":"your code should have worked. My theory is that Checkmarx is not able to traverse to your helper method ChecksumHelper.getFileChecksum and create a data flow. Definitely not ideal, but try moving the body of your helper method out into the main code where there is a checksum validation"},{"owner":{"account_id":16623198,"reputation":31,"user_id":12012910,"display_name":"Sohil"},"score":0,"creation_date":1618549508,"post_id":66966544,"comment_id":118639556,"body_markdown":"Thanks, @RomanCanlas I tried it out but it didn&#39;t work still facing the same issue","body":"Thanks, @RomanCanlas I tried it out but it didn&#39;t work still facing the same issue"}],"owner":{"account_id":16623198,"reputation":31,"user_id":12012910,"display_name":"Sohil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677184535,"creation_date":1617703236,"question_id":66966544,"body_markdown":"I am trying to load some library &quot;.so&quot; / &quot;.dll&quot; files using below code \r\n\r\n    System.load(&quot;some file&quot;);\r\n\r\nthen after performing Static application security testing (SAST) using **checkmarx** tool\r\nit is complaining Download of Code Without Integrity Check issue.\r\n\r\nthen I tried to fix the **Download of Code Without Integrity Check** SAST issue using checksum\r\n\r\nI generated a library file checksum using a sha-512 algorithm and kept it in a String constant\r\n\r\n     public static final String TRUSTED_SHA512 = &quot;12af30d9ffc1cdd85d21e73c8c81b7c379a9b4ab2ea5676cd9d232788e2b44fbab876796104f37d0f6a5f7bc5f97eb3663e432785b94039b5320bbfac3d19516&quot;;\r\n\r\nnow before loading the file, I am computing hash again with the same algorithm and checking it against String constant **TRUSTED_SHA512**\r\n\r\n     MessageDigest md = MessageDigest.getInstance(&quot;SHA-512&quot;);\r\n            String sha512ofQrcToolsWrapper = ChecksumHelper.getFileChecksum(md,temp);\r\n            if(sha512ofQrcToolsWrapper.equalsIgnoreCase(ServiceConstants.TRUSTED_SHA512_OF_QRCTOOLSWRAPPER)) {\r\n                System.load(temp.getAbsolutePath());\r\n            }else{\r\n                throw new Exception(&quot;failed to load windows dll file : Checksum mismatched&quot;);\r\n            }\r\n\r\nNow checkmarx tool is giving **one more issue Use of a one-way hash without a salt**\r\nthen i updated message digest with static salt value. The\r\nreason behind using fix salt value instead of random value is that we want to compute same hash at runtime to check with the one already there in constant\r\n\r\n     public static String getFileChecksum(MessageDigest digest, File file) throws IOException, NoSuchAlgorithmException {\r\n        //Get file input stream for reading the file content\r\n        FileInputStream fis = new FileInputStream(file);\r\n\r\n        //Create byte array to read data in chunks\r\n        byte[] byteArray = new byte[1024];\r\n        int bytesCount = 0;\r\n\r\n        //Read file data and update in message digest\r\n        while ((bytesCount = fis.read(byteArray)) != -1) {\r\n            digest.update(byteArray, 0, bytesCount);\r\n        }\r\n\r\n        //Static salt value\r\n        digest.update(getSalt());\r\n        \r\n        //close the stream; We don&#39;t need it now.\r\n        fis.close();\r\n\r\n        //Get the hash&#39;s bytes\r\n        byte[] bytes = digest.digest();\r\n\r\n        //This bytes[] has bytes in decimal format;\r\n        //Convert it to hexadecimal format\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; bytes.length; i++) {\r\n            sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\r\n        }\r\n\r\n        //return complete hash\r\n        return sb.toString();\r\n    }\r\n\r\nNOTE &quot;getSalt() method is returning byte array with fixed values&quot;\r\n\r\nStill, checkmarx SAST is complaining both the issues\r\n1) Download of code without Integrity check\r\n2) Use of a one-way hash without a salt\r\n\r\nplease provide solution to fix these issues. let me know if anything else needed to clarify.\r\n\r\nThanks in advance","title":"Use of a one-way hash without a salt while fixing Download of code without Integrity check issue Checkmarx","body":"<p>I am trying to load some library &quot;.so&quot; / &quot;.dll&quot; files using below code</p>\n<pre><code>System.load(&quot;some file&quot;);\n</code></pre>\n<p>then after performing Static application security testing (SAST) using <strong>checkmarx</strong> tool\nit is complaining Download of Code Without Integrity Check issue.</p>\n<p>then I tried to fix the <strong>Download of Code Without Integrity Check</strong> SAST issue using checksum</p>\n<p>I generated a library file checksum using a sha-512 algorithm and kept it in a String constant</p>\n<pre><code> public static final String TRUSTED_SHA512 = &quot;12af30d9ffc1cdd85d21e73c8c81b7c379a9b4ab2ea5676cd9d232788e2b44fbab876796104f37d0f6a5f7bc5f97eb3663e432785b94039b5320bbfac3d19516&quot;;\n</code></pre>\n<p>now before loading the file, I am computing hash again with the same algorithm and checking it against String constant <strong>TRUSTED_SHA512</strong></p>\n<pre><code> MessageDigest md = MessageDigest.getInstance(&quot;SHA-512&quot;);\n        String sha512ofQrcToolsWrapper = ChecksumHelper.getFileChecksum(md,temp);\n        if(sha512ofQrcToolsWrapper.equalsIgnoreCase(ServiceConstants.TRUSTED_SHA512_OF_QRCTOOLSWRAPPER)) {\n            System.load(temp.getAbsolutePath());\n        }else{\n            throw new Exception(&quot;failed to load windows dll file : Checksum mismatched&quot;);\n        }\n</code></pre>\n<p>Now checkmarx tool is giving <strong>one more issue Use of a one-way hash without a salt</strong>\nthen i updated message digest with static salt value. The\nreason behind using fix salt value instead of random value is that we want to compute same hash at runtime to check with the one already there in constant</p>\n<pre><code> public static String getFileChecksum(MessageDigest digest, File file) throws IOException, NoSuchAlgorithmException {\n    //Get file input stream for reading the file content\n    FileInputStream fis = new FileInputStream(file);\n\n    //Create byte array to read data in chunks\n    byte[] byteArray = new byte[1024];\n    int bytesCount = 0;\n\n    //Read file data and update in message digest\n    while ((bytesCount = fis.read(byteArray)) != -1) {\n        digest.update(byteArray, 0, bytesCount);\n    }\n\n    //Static salt value\n    digest.update(getSalt());\n    \n    //close the stream; We don't need it now.\n    fis.close();\n\n    //Get the hash's bytes\n    byte[] bytes = digest.digest();\n\n    //This bytes[] has bytes in decimal format;\n    //Convert it to hexadecimal format\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; bytes.length; i++) {\n        sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\n    }\n\n    //return complete hash\n    return sb.toString();\n}\n</code></pre>\n<p>NOTE &quot;getSalt() method is returning byte array with fixed values&quot;</p>\n<p>Still, checkmarx SAST is complaining both the issues</p>\n<ol>\n<li>Download of code without Integrity check</li>\n<li>Use of a one-way hash without a salt</li>\n</ol>\n<p>please provide solution to fix these issues. let me know if anything else needed to clarify.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","cmake","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1677170012,"post_id":75546614,"comment_id":133289145,"body_markdown":"The error explicitly states that you&#39;re trying to link with an x86_64 library, so yes, that is the problem.","body":"The error explicitly states that you&#39;re trying to link with an x86_64 library, so yes, that is the problem."},{"owner":{"account_id":17626393,"reputation":3,"user_id":12791362,"display_name":"Damon Yuan"},"score":0,"creation_date":1677259296,"post_id":75546614,"comment_id":133308906,"body_markdown":"yes, that the reason....","body":"yes, that the reason...."}],"owner":{"account_id":17626393,"reputation":3,"user_id":12791362,"display_name":"Damon Yuan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677183711,"creation_date":1677164700,"question_id":75546614,"body_markdown":"I am trying to do some exploration with Java JNI in Mac M1, while got caught by some exceptions,\r\n\r\nusing `cmake --build build` to build the project\r\n\r\n```\r\n[ 20%] Building Java objects for sbmcprj.jar\r\n[ 40%] Generating CMakeFiles/sbmcprj.dir/java_class_filelist\r\n[ 60%] Creating Java archive sbmcprj.jar\r\n[ 60%] Built target sbmcprj\r\n[ 80%] Building CXX object CMakeFiles/sbmc.dir/native/com_damonyuan_jni_HelloWorldJNI.cpp.o\r\n[100%] Linking CXX shared module libsbmc.dylib\r\nld: warning: ignoring file /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/lib/server/libjvm.dylib, building for macOS-arm64 but attempting to link with file built for macOS-x86_64\r\nld: warning: ignoring file /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/lib/libjawt.dylib, building for macOS-arm64 but attempting to link with file built for macOS-x86_64\r\n[100%] Built target sbmc\r\n```\r\n\r\nit gives the warning that `building for macOS-arm64 but attempting to link with file built for macOS-x86_64`, and once run the JNI project,\r\n\r\n```\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java -Djava.library.path=/Users/damonyuan/Desktop/sbmc-jni/native -classpath /Users/damonyuan/Desktop/sbmc-jni/target/classes com.damonyuan.jni.HelloWorldJNI\r\nerror: null\r\n/Users/damonyuan/Desktop/sbmc-jni/native\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;void com.damonyuan.jni.HelloWorldJNI.sayHello()&#39;\r\n\tat com.damonyuan.jni.HelloWorldJNI.sayHello(Native Method)\r\n\tat com.damonyuan.jni.HelloWorldJNI.main(HelloWorldJNI.java:15)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nthe exception as above is thrown.\r\n\r\nThe whole testing code is [here](https://github.com/damonYuan/jni-test), could anyone help tell me how to make it run?\r\n\r\nI have tried to google and different combination of params in cmake config, while in vain.\r\n\r\n\r\n\r\nOne thing I havent verify is that the jre installed is for x86 architecture or m1, will check and update later.\r\n\r\nSecondly in Mac its clang that takes effect, g++ is just a alias as clang, its also suspicious.","title":"Java 8/11 JNI on Mac M1 &quot;building for macOS-arm64 but attempting to link with file built for macOS-x86_64&quot;","body":"<p>I am trying to do some exploration with Java JNI in Mac M1, while got caught by some exceptions,</p>\n<p>using <code>cmake --build build</code> to build the project</p>\n<pre><code>[ 20%] Building Java objects for sbmcprj.jar\n[ 40%] Generating CMakeFiles/sbmcprj.dir/java_class_filelist\n[ 60%] Creating Java archive sbmcprj.jar\n[ 60%] Built target sbmcprj\n[ 80%] Building CXX object CMakeFiles/sbmc.dir/native/com_damonyuan_jni_HelloWorldJNI.cpp.o\n[100%] Linking CXX shared module libsbmc.dylib\nld: warning: ignoring file /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/lib/server/libjvm.dylib, building for macOS-arm64 but attempting to link with file built for macOS-x86_64\nld: warning: ignoring file /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/lib/libjawt.dylib, building for macOS-arm64 but attempting to link with file built for macOS-x86_64\n[100%] Built target sbmc\n</code></pre>\n<p>it gives the warning that <code>building for macOS-arm64 but attempting to link with file built for macOS-x86_64</code>, and once run the JNI project,</p>\n<pre><code>/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java -Djava.library.path=/Users/damonyuan/Desktop/sbmc-jni/native -classpath /Users/damonyuan/Desktop/sbmc-jni/target/classes com.damonyuan.jni.HelloWorldJNI\nerror: null\n/Users/damonyuan/Desktop/sbmc-jni/native\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: 'void com.damonyuan.jni.HelloWorldJNI.sayHello()'\n    at com.damonyuan.jni.HelloWorldJNI.sayHello(Native Method)\n    at com.damonyuan.jni.HelloWorldJNI.main(HelloWorldJNI.java:15)\n\nProcess finished with exit code 1\n</code></pre>\n<p>the exception as above is thrown.</p>\n<p>The whole testing code is <a href=\"https://github.com/damonYuan/jni-test\" rel=\"nofollow noreferrer\">here</a>, could anyone help tell me how to make it run?</p>\n<p>I have tried to google and different combination of params in cmake config, while in vain.</p>\n<p></p>\n<p>One thing I havent verify is that the jre installed is for x86 architecture or m1, will check and update later.</p>\n<p>Secondly in Mac its clang that takes effect, g++ is just a alias as clang, its also suspicious.</p>\n"},{"tags":["java","jpa-2.0","transient"],"comments":[{"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1475669827,"post_id":13874528,"comment_id":67034001,"body_markdown":"See also excellent comparation discussion: http://stackoverflow.com/questions/594597/hibernate-annotations-which-is-better-field-or-property-access","body":"See also excellent comparation discussion: <a href=\"http://stackoverflow.com/questions/594597/hibernate-annotations-which-is-better-field-or-property-access\" title=\"hibernate annotations which is better field or property access\">stackoverflow.com/questions/594597/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":558023,"reputation":17978,"user_id":920607,"accept_rate":89,"display_name":"Piotr Nowicki"},"down_vote_count":0,"up_vote_count":97,"is_accepted":true,"score":97,"last_activity_date":1677183230,"creation_date":1355472978,"answer_id":13874900,"question_id":13874528,"body_markdown":"By default the access type is defined by the place where you put your mapping annotations. If you put them on the field - it will be [`AccessType.FIELD`](http://docs.oracle.com/javaee/6/api/javax/persistence/AccessType.html#FIELD), if you put them on the getters - it will be [`AccessType.PROPERTY`](http://docs.oracle.com/javaee/6/api/javax/persistence/AccessType.html#PROPERTY).\r\n\r\nSometimes you might want to annotate not fields but properties (e.g. because you want to have some arbitrary logic in the getter or because you prefer it that way.) In such situation you must define a getter and annotate it as `AccessType.PROPERTY`.\r\n\r\nAs far as I remember, if you specify either `AccessType.FIELD` or `AccessType.PROPERTY` on any of the entity fields / methods you must specify the default behaviour for the whole class. And that&#39;s why you need to have `AccessType.FIELD` on the class level (despite that `AccessType.FIELD` is the default value.)\r\n\r\nNow, if you wouldn&#39;t have `@Transient` on the `phnnumber` field, the JPA would provide you with a 3 columns table: \r\n\r\n* id, \r\n* phnnumber,\r\n* getphnnumber. \r\n\r\nThat&#39;s because it would use `AccessType.FIELD` for all of the entity fields (`id` and `phnnumber`) and, at the same time, it&#39;d use `AccessType.PROPERTY` for your getter (`getPhnnumber()`).  \r\nYou&#39;ll end with phone number mapped twice in the database.\r\n\r\nTherefore, the `@Transient` annotation is required - it means that the entity won&#39;t store the value of the **field** in the underlying storage but the value returned by your **getter**.","title":"What is the purpose of AccessType.FIELD, AccessType.PROPERTY and @Access","body":"<p>By default the access type is defined by the place where you put your mapping annotations. If you put them on the field - it will be <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/AccessType.html#FIELD\" rel=\"nofollow noreferrer\"><code>AccessType.FIELD</code></a>, if you put them on the getters - it will be <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/AccessType.html#PROPERTY\" rel=\"nofollow noreferrer\"><code>AccessType.PROPERTY</code></a>.</p>\n<p>Sometimes you might want to annotate not fields but properties (e.g. because you want to have some arbitrary logic in the getter or because you prefer it that way.) In such situation you must define a getter and annotate it as <code>AccessType.PROPERTY</code>.</p>\n<p>As far as I remember, if you specify either <code>AccessType.FIELD</code> or <code>AccessType.PROPERTY</code> on any of the entity fields / methods you must specify the default behaviour for the whole class. And that's why you need to have <code>AccessType.FIELD</code> on the class level (despite that <code>AccessType.FIELD</code> is the default value.)</p>\n<p>Now, if you wouldn't have <code>@Transient</code> on the <code>phnnumber</code> field, the JPA would provide you with a 3 columns table:</p>\n<ul>\n<li>id,</li>\n<li>phnnumber,</li>\n<li>getphnnumber.</li>\n</ul>\n<p>That's because it would use <code>AccessType.FIELD</code> for all of the entity fields (<code>id</code> and <code>phnnumber</code>) and, at the same time, it'd use <code>AccessType.PROPERTY</code> for your getter (<code>getPhnnumber()</code>).<br />\nYou'll end with phone number mapped twice in the database.</p>\n<p>Therefore, the <code>@Transient</code> annotation is required - it means that the entity won't store the value of the <strong>field</strong> in the underlying storage but the value returned by your <strong>getter</strong>.</p>\n"}],"owner":{"account_id":1778502,"reputation":913,"user_id":1621777,"accept_rate":17,"display_name":"Ashish Bansal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74137,"favorite_count":0,"down_vote_count":2,"up_vote_count":74,"accepted_answer_id":13874900,"answer_count":1,"score":72,"last_activity_date":1677183230,"creation_date":1355470834,"question_id":13874528,"body_markdown":"I just want to know what is the difference between all these annotations. Why are we using these... means they have no effect especially field level and property level.\r\n\r\nAnd what is the purpose of using mixed level annotation like:\r\n\r\n    @Entity\r\n    @Access(AccessType.FIELD)\r\n    class Employee {\r\n        // why their is a field level access \r\n        private int id;\r\n     \r\n        // whats the purpose of transient here\r\n        @Transient                               \r\n        private String phnnumber;\r\n     \r\n        // why its a property level access\r\n        @Access(AccessType.property)             \r\n        public String getPhnnumber() {\r\n            return &quot;1234556&quot;;\r\n        }\r\n\r\n    }\r\n\r\n\r\nwhat exactly this class says?","title":"What is the purpose of AccessType.FIELD, AccessType.PROPERTY and @Access","body":"<p>I just want to know what is the difference between all these annotations. Why are we using these... means they have no effect especially field level and property level.</p>\n\n<p>And what is the purpose of using mixed level annotation like:</p>\n\n<pre><code>@Entity\n@Access(AccessType.FIELD)\nclass Employee {\n    // why their is a field level access \n    private int id;\n\n    // whats the purpose of transient here\n    @Transient                               \n    private String phnnumber;\n\n    // why its a property level access\n    @Access(AccessType.property)             \n    public String getPhnnumber() {\n        return \"1234556\";\n    }\n\n}\n</code></pre>\n\n<p>what exactly this class says?</p>\n"},{"tags":["java","hadoop","mapreduce","parquet"],"comments":[{"owner":{"account_id":3262791,"reputation":5531,"user_id":2748004,"accept_rate":50,"display_name":"Gyanendra Dwivedi"},"score":0,"creation_date":1519931070,"post_id":49025524,"comment_id":85118407,"body_markdown":"Added the possible reason and how you may handle it. Hope it help.","body":"Added the possible reason and how you may handle it. Hope it help."},{"owner":{"account_id":3262791,"reputation":5531,"user_id":2748004,"accept_rate":50,"display_name":"Gyanendra Dwivedi"},"score":0,"creation_date":1519942946,"post_id":49025524,"comment_id":85124307,"body_markdown":"Kindly consider upvoting, if the answer has solved your problem.","body":"Kindly consider upvoting, if the answer has solved your problem."}],"answers":[{"tags":[],"owner":{"account_id":3262791,"reputation":5531,"user_id":2748004,"accept_rate":50,"display_name":"Gyanendra Dwivedi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1519844858,"creation_date":1519842366,"answer_id":49036212,"question_id":49025524,"body_markdown":"Its a Runtime Exception `java.lang.RuntimeException`; which basically indicates that the code is buggy.\r\n\r\nThe `public String getValueToString(int fieldIndex, int index)` method internally calls `getValue(int fieldIndex, int index)` method.\r\nThe implementation of `getValue(...)` is as below\r\n\r\n     private Object getValue(int fieldIndex, int index) {\r\n        List&lt;Object&gt; list;\r\n        try {\r\n          list = data[fieldIndex];\r\n        } catch (IndexOutOfBoundsException e) {\r\n          throw new RuntimeException(&quot;not found &quot; + fieldIndex + &quot;(&quot; + schema.getFieldName(fieldIndex) + &quot;) in group:\\n&quot; + this);\r\n        }\r\n        try {\r\n          return list.get(index);\r\n        } catch (IndexOutOfBoundsException e) {\r\n          throw new RuntimeException(&quot;not found &quot; + fieldIndex + &quot;(&quot; + schema.getFieldName(fieldIndex) + &quot;) element number &quot; + index + &quot; in group:\\n&quot; + this);\r\n        }\r\n      }\r\n\r\nHere, if the `fieldIndex` or the `index` does not exist it throws `IndexOutOfBoundsException`, which is re-thrown as `RuntimeException`.\r\n\r\nWhat I may suggest that rather than calling the `getValueToString(...)` directly, the existence of the field must be checked.\r\n\r\nSince all the fields are optional in your dataset, finding it with a fixed `fieldIndex`  is not reliable. In this case, just assume it exists and let it fail with `try-catch` block to detect absence and then set a default value:\r\n\r\n    try{\r\n        distance = value.getFloat(&quot;trip_distance&quot;, 0);\r\n    }catch(RuntimeException e){\r\n          distance = 0;\r\n    }","title":"Parquet file optional field does not exist","body":"<p>Its a Runtime Exception <code>java.lang.RuntimeException</code>; which basically indicates that the code is buggy.</p>\n\n<p>The <code>public String getValueToString(int fieldIndex, int index)</code> method internally calls <code>getValue(int fieldIndex, int index)</code> method.\nThe implementation of <code>getValue(...)</code> is as below</p>\n\n<pre><code> private Object getValue(int fieldIndex, int index) {\n    List&lt;Object&gt; list;\n    try {\n      list = data[fieldIndex];\n    } catch (IndexOutOfBoundsException e) {\n      throw new RuntimeException(\"not found \" + fieldIndex + \"(\" + schema.getFieldName(fieldIndex) + \") in group:\\n\" + this);\n    }\n    try {\n      return list.get(index);\n    } catch (IndexOutOfBoundsException e) {\n      throw new RuntimeException(\"not found \" + fieldIndex + \"(\" + schema.getFieldName(fieldIndex) + \") element number \" + index + \" in group:\\n\" + this);\n    }\n  }\n</code></pre>\n\n<p>Here, if the <code>fieldIndex</code> or the <code>index</code> does not exist it throws <code>IndexOutOfBoundsException</code>, which is re-thrown as <code>RuntimeException</code>.</p>\n\n<p>What I may suggest that rather than calling the <code>getValueToString(...)</code> directly, the existence of the field must be checked.</p>\n\n<p>Since all the fields are optional in your dataset, finding it with a fixed <code>fieldIndex</code>  is not reliable. In this case, just assume it exists and let it fail with <code>try-catch</code> block to detect absence and then set a default value:</p>\n\n<pre><code>try{\n    distance = value.getFloat(\"trip_distance\", 0);\n}catch(RuntimeException e){\n      distance = 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1346012,"reputation":21,"user_id":8521771,"display_name":"user8521771"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677182645,"creation_date":1677182645,"answer_id":75549786,"question_id":49025524,"body_markdown":"You should be able to type cast value object to SimpleGroup, use getFieldRepetitionCount to get the size of the value, if it&#39;s 0, then the value is null. \r\n\r\n    import org.apache.parquet.example.data.simple.SimpleGroup;\r\n    \r\n    ...\r\n    SimpleGroup sgValue = (SimpleGroup) value;\r\n    \r\n    if (sgValue.getFieldRepetitionCount(20) != 0) { //the trip_distance field\r\n            distance = value.getFloat(&quot;trip_distance&quot;, 0);\r\n    } else {\r\n            distance = 0;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Parquet file optional field does not exist","body":"<p>You should be able to type cast value object to SimpleGroup, use getFieldRepetitionCount to get the size of the value, if it's 0, then the value is null.</p>\n<pre><code>import org.apache.parquet.example.data.simple.SimpleGroup;\n\n...\nSimpleGroup sgValue = (SimpleGroup) value;\n\nif (sgValue.getFieldRepetitionCount(20) != 0) { //the trip_distance field\n        distance = value.getFloat(&quot;trip_distance&quot;, 0);\n} else {\n        distance = 0;\n}\n</code></pre>\n"}],"owner":{"account_id":12998583,"reputation":81,"user_id":9395375,"display_name":"rafik_bougacha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49036212,"answer_count":2,"score":1,"last_activity_date":1677182645,"creation_date":1519808328,"question_id":49025524,"body_markdown":"I am new in working with parquet files, I want to develop a mapreduce job that reads many input parquet files with the following shcema: \r\n\r\n    {\r\n      optional int96 dropoff_datetime;\r\n      optional float dropoff_latitude;\r\n      optional float dropoff_longitude;\r\n      optional int32 dropoff_taxizone_id;\r\n      optional float ehail_fee;\r\n      optional float extra;\r\n      optional float fare_amount;\r\n      optional float improvement_surcharge;\r\n      optional float mta_tax;\r\n      optional int32 passenger_count;\r\n      optional binary payment_type (UTF8);\r\n      optional int96 pickup_datetime;\r\n      optional float pickup_latitude;\r\n      optional float pickup_longitude;\r\n      optional int32 pickup_taxizone_id;\r\n      optional int32 rate_code_id;\r\n      optional binary store_and_fwd_flag (UTF8);\r\n      optional float tip_amount;\r\n      optional float tolls_amount;\r\n      optional float total_amount;\r\n      optional float trip_distance;\r\n      optional binary trip_type (UTF8);\r\n      optional binary vendor_id (UTF8);\r\n      required int64 trip_id;\r\n    }\r\nThe aim of my job is to compute the average speed of trips for each hour a day, so I need to extract all trip distances and pickup and dropoff times to compute the duration and then the speed, however I get errors when the field `trip_distance` does not exist: here is a part from the stack trace: \r\n\r\n    18/02/28 03:19:01 INFO mapreduce.Job:  map 2% reduce 0%\r\n    18/02/28 03:19:10 INFO mapreduce.Job: Task Id : attempt_1519722054260_0016_m_000011_2, Status : FAILED\r\n    Error: java.lang.RuntimeException: not found 20(trip_distance) element number 0 in group:\r\n    dropoff_datetime: Int96Value{Binary{12 constant bytes, [0, 0, 0, 0, 0, 0, 0, 0, -116, 61, 37, 0]}}\r\n    payment_type: &quot;&quot;\r\n    pickup_datetime: Int96Value{Binary{12 constant bytes, [0, 120, 66, 9, 78, 72, 0, 0, 3, 125, 37, 0]}}\r\n    pickup_latitude: 40.7565\r\n    pickup_longitude: -73.9781\r\n    pickup_taxizone_id: 161\r\n    store_and_fwd_flag: &quot;&quot;\r\n    trip_type: &quot;uber&quot;\r\n    vendor_id: &quot;&quot;\r\n    trip_id: 4776003633207\r\n    \r\n    \tat org.apache.parquet.example.data.simple.SimpleGroup.getValue(SimpleGroup.java:97)\r\n    \tat org.apache.parquet.example.data.simple.SimpleGroup.getValueToString(SimpleGroup.java:119)\r\n    \tat ParquetAssignmentSpeedAverageHours$ParquetMap.map(ParquetAssignmentSpeedAverageHours.java:48)\r\n    \tat ParquetAssignmentSpeedAverageHours$ParquetMap.map(ParquetAssignmentSpeedAverageHours.java:37)\r\n    \tat org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:146)\r\n    \tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:787)\r\n    \tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\r\n    \tat org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:170)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1866)\r\n    \tat org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:164)\r\n\r\nand this is my mapper class:\r\n\r\n    public static class ParquetMap extends Mapper&lt;Text, Group, IntWritable, DoubleWritable&gt; {\r\n\t\tprivate DoubleWritable one = new DoubleWritable(1);\r\n\t\tprivate IntWritable time = new IntWritable();\r\n\t\tprivate DoubleWritable result = new DoubleWritable();\r\n\t\t@Override\r\n\t\tpublic void map(Text key, Group value, Context context) throws IOException, InterruptedException {\r\n\t\t\tdouble duration;\r\n\t\t\tdouble distance;\r\n\t\t\tdouble speed;\r\n\t\t\tBinary pickupTimestamp = value.getInt96(&quot;pickup_datetime&quot;, 0);\r\n\t\t\tBinary dropoffTimestamp = value.getInt96(&quot;dropoff_datetime&quot;, 0);\r\n\t\t\tif (value.getValueToString(20, 0) != null) { //the trip_distance field\r\n\t\t\t\tdistance = value.getFloat(&quot;trip_distance&quot;, 0);\r\n\t\t\t} else {\r\n\t\t\t\tdistance = 0;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tif (!pickupTimestamp.equals(dropoffTimestamp)) {\r\n\t\t\t\t\tduration = ((double)(getTimestampMillis(dropoffTimestamp) - getTimestampMillis(pickupTimestamp))/3600000);\r\n\t\t\t\t\tspeed = (float) (distance / duration);\r\n\t\t\t\t\tresult.set((speed));\r\n\t\t\t\t\tCalendar cal = Calendar.getInstance();\r\n\t\t\t\t\tcal.setTimeInMillis(getTimestampMillis(pickupTimestamp));\r\n\t\t\t\t\ttime.set(cal.get(Calendar.HOUR_OF_DAY));\r\n\t\t\t\t\tcontext.write(time, result);\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nAny one can help please ? \r\nThanks, ","title":"Parquet file optional field does not exist","body":"<p>I am new in working with parquet files, I want to develop a mapreduce job that reads many input parquet files with the following shcema: </p>\n\n<pre><code>{\n  optional int96 dropoff_datetime;\n  optional float dropoff_latitude;\n  optional float dropoff_longitude;\n  optional int32 dropoff_taxizone_id;\n  optional float ehail_fee;\n  optional float extra;\n  optional float fare_amount;\n  optional float improvement_surcharge;\n  optional float mta_tax;\n  optional int32 passenger_count;\n  optional binary payment_type (UTF8);\n  optional int96 pickup_datetime;\n  optional float pickup_latitude;\n  optional float pickup_longitude;\n  optional int32 pickup_taxizone_id;\n  optional int32 rate_code_id;\n  optional binary store_and_fwd_flag (UTF8);\n  optional float tip_amount;\n  optional float tolls_amount;\n  optional float total_amount;\n  optional float trip_distance;\n  optional binary trip_type (UTF8);\n  optional binary vendor_id (UTF8);\n  required int64 trip_id;\n}\n</code></pre>\n\n<p>The aim of my job is to compute the average speed of trips for each hour a day, so I need to extract all trip distances and pickup and dropoff times to compute the duration and then the speed, however I get errors when the field <code>trip_distance</code> does not exist: here is a part from the stack trace: </p>\n\n<pre><code>18/02/28 03:19:01 INFO mapreduce.Job:  map 2% reduce 0%\n18/02/28 03:19:10 INFO mapreduce.Job: Task Id : attempt_1519722054260_0016_m_000011_2, Status : FAILED\nError: java.lang.RuntimeException: not found 20(trip_distance) element number 0 in group:\ndropoff_datetime: Int96Value{Binary{12 constant bytes, [0, 0, 0, 0, 0, 0, 0, 0, -116, 61, 37, 0]}}\npayment_type: \"\"\npickup_datetime: Int96Value{Binary{12 constant bytes, [0, 120, 66, 9, 78, 72, 0, 0, 3, 125, 37, 0]}}\npickup_latitude: 40.7565\npickup_longitude: -73.9781\npickup_taxizone_id: 161\nstore_and_fwd_flag: \"\"\ntrip_type: \"uber\"\nvendor_id: \"\"\ntrip_id: 4776003633207\n\n    at org.apache.parquet.example.data.simple.SimpleGroup.getValue(SimpleGroup.java:97)\n    at org.apache.parquet.example.data.simple.SimpleGroup.getValueToString(SimpleGroup.java:119)\n    at ParquetAssignmentSpeedAverageHours$ParquetMap.map(ParquetAssignmentSpeedAverageHours.java:48)\n    at ParquetAssignmentSpeedAverageHours$ParquetMap.map(ParquetAssignmentSpeedAverageHours.java:37)\n    at org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:146)\n    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:787)\n    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)\n    at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:170)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1866)\n    at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:164)\n</code></pre>\n\n<p>and this is my mapper class:</p>\n\n<pre><code>public static class ParquetMap extends Mapper&lt;Text, Group, IntWritable, DoubleWritable&gt; {\n    private DoubleWritable one = new DoubleWritable(1);\n    private IntWritable time = new IntWritable();\n    private DoubleWritable result = new DoubleWritable();\n    @Override\n    public void map(Text key, Group value, Context context) throws IOException, InterruptedException {\n        double duration;\n        double distance;\n        double speed;\n        Binary pickupTimestamp = value.getInt96(\"pickup_datetime\", 0);\n        Binary dropoffTimestamp = value.getInt96(\"dropoff_datetime\", 0);\n        if (value.getValueToString(20, 0) != null) { //the trip_distance field\n            distance = value.getFloat(\"trip_distance\", 0);\n        } else {\n            distance = 0;\n        }\n        try {\n            if (!pickupTimestamp.equals(dropoffTimestamp)) {\n                duration = ((double)(getTimestampMillis(dropoffTimestamp) - getTimestampMillis(pickupTimestamp))/3600000);\n                speed = (float) (distance / duration);\n                result.set((speed));\n                Calendar cal = Calendar.getInstance();\n                cal.setTimeInMillis(getTimestampMillis(pickupTimestamp));\n                time.set(cal.get(Calendar.HOUR_OF_DAY));\n                context.write(time, result);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Any one can help please ? \nThanks, </p>\n"},{"tags":["java","mysql","database","netbeans"],"comments":[{"owner":{"account_id":3296047,"reputation":452,"user_id":2773289,"display_name":"user2773289"},"score":1,"creation_date":1677179990,"post_id":75548451,"comment_id":133292126,"body_markdown":"Does ComputerA/MySQL allow remote connections?","body":"Does ComputerA/MySQL allow remote connections?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677180937,"post_id":75548451,"comment_id":133292353,"body_markdown":"Are both machines on the same LAN or are they completely independent? If the latter, then A will have to be set up such that its MySql service can be routed to through a public facing address. If the former, then the situation is simpler","body":"Are both machines on the same LAN or are they completely independent? If the latter, then A will have to be set up such that its MySql service can be routed to through a public facing address. If the former, then the situation is simpler"}],"answers":[{"tags":[],"owner":{"account_id":27486633,"reputation":150,"user_id":20972787,"display_name":"JustaNobody"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677182437,"creation_date":1677182437,"answer_id":75549754,"question_id":75548451,"body_markdown":"I believe you can access it using your localhost ip. you will have to connect the wifi hotspot of second device from the first device. \nonce connected you will have to fight the ip address. if you are on windows you can use ipconfig. Then instead of localhost you will have to use the ip address as well as the port. \nI had done this with apache and MySQL. if you are using only MySQL then some changes may have to be made.","title":"Connecting local MySQL database linked to Java project into another computer","body":"<p>I believe you can access it using your localhost ip. you will have to connect the wifi hotspot of second device from the first device.\nonce connected you will have to fight the ip address. if you are on windows you can use ipconfig. Then instead of localhost you will have to use the ip address as well as the port.\nI had done this with apache and MySQL. if you are using only MySQL then some changes may have to be made.</p>\n"}],"owner":{"account_id":22606935,"reputation":3,"user_id":16787724,"display_name":"netbeansnewbie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677182437,"creation_date":1677174235,"question_id":75548451,"body_markdown":"I have a Java project with a local MySQL database linked to it. It has a login page with stored login details in the database. Let&#39;s say this is stored in Computer A. I have made this project into an executable jar file. How can I open the jar file in computer B  if the database was created locally in Computer A? \r\n\r\nIs it possible to link the database from Computer A to Computer B?\r\n\r\nThank you!","title":"Connecting local MySQL database linked to Java project into another computer","body":"<p>I have a Java project with a local MySQL database linked to it. It has a login page with stored login details in the database. Let's say this is stored in Computer A. I have made this project into an executable jar file. How can I open the jar file in computer B  if the database was created locally in Computer A?</p>\n<p>Is it possible to link the database from Computer A to Computer B?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring","security","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"down_vote_count":15,"up_vote_count":75,"is_accepted":true,"score":60,"last_activity_date":1640090096,"creation_date":1461704685,"answer_id":36875726,"question_id":36795894,"body_markdown":"I have an application with the same requirement and to solve it I basically restricted Spring Security to a given ant match patter (using `antMatcher`) as follows:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\thttp\r\n        .antMatcher(&quot;/api/**&quot;)\r\n        .authorizeRequests() //\r\n\t\t    .anyRequest().authenticated() //\r\n\t\t\t.and()\r\n\t    .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\r\n\r\nYou can read it as follows: for `http` only invoke these configurations on requests matching the ant pattern `/api/**` authorizing `any request` to `authenticated` users `and` `add filter` `authenticationTokenFilterBean()` `before` `UsernamePasswordAuthenticationFilter`. For all others requests this configuration has no effect.","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p>I have an application with the same requirement and to solve it I basically restricted Spring Security to a given ant match patter (using <code>antMatcher</code>) as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .antMatcher(&quot;/api/**&quot;)\n    .authorizeRequests() //\n        .anyRequest().authenticated() //\n        .and()\n    .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\n</code></pre>\n<p>You can read it as follows: for <code>http</code> only invoke these configurations on requests matching the ant pattern <code>/api/**</code> authorizing <code>any request</code> to <code>authenticated</code> users <code>and</code> <code>add filter</code> <code>authenticationTokenFilterBean()</code> <code>before</code> <code>UsernamePasswordAuthenticationFilter</code>. For all others requests this configuration has no effect.</p>\n"},{"tags":[],"owner":{"account_id":1543875,"reputation":733,"user_id":1437886,"accept_rate":44,"display_name":"Qualaelay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602384059,"creation_date":1534951687,"answer_id":51970232,"question_id":36795894,"body_markdown":"If you use the\r\n\r\n```\r\n.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n```\r\n\r\nYou can define in the constructor the specific path it will apply to:\r\n\r\n\r\n\r\n    public class JwtAuthenticationFilter extends AbstractAuthenticationProcessingFilter {\r\n    \r\n        public JwtAuthenticationFilter(AuthenticationManager authenticationManager) {\r\n            super(&quot;/api/**&quot;);\r\n            this.setAuthenticationManager(authenticationManager);\r\n        }\r\n    \r\n        @Override\r\n        protected boolean requiresAuthentication(HttpServletRequest request, HttpServletResponse response) {\r\n            return super.requiresAuthentication(request, response);\r\n        }\r\n\r\n\r\n\r\nThe `requiresAuthentication` method will be used to know if that endpoint needs authentication.\r\n","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p>If you use the</p>\n<pre><code>.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n</code></pre>\n<p>You can define in the constructor the specific path it will apply to:</p>\n<pre><code>public class JwtAuthenticationFilter extends AbstractAuthenticationProcessingFilter {\n\n    public JwtAuthenticationFilter(AuthenticationManager authenticationManager) {\n        super(&quot;/api/**&quot;);\n        this.setAuthenticationManager(authenticationManager);\n    }\n\n    @Override\n    protected boolean requiresAuthentication(HttpServletRequest request, HttpServletResponse response) {\n        return super.requiresAuthentication(request, response);\n    }\n</code></pre>\n<p>The <code>requiresAuthentication</code> method will be used to know if that endpoint needs authentication.</p>\n"},{"tags":[],"owner":{"account_id":5015739,"reputation":626,"user_id":4030649,"display_name":"Shengfeng Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555972408,"creation_date":1551247078,"answer_id":54898946,"question_id":36795894,"body_markdown":"I think I&#39;ve found a way to solve it. I have `JwtTokenAuthenticationProcessingFilter` which is an `AbstractAuthenticationProcessingFilter`. I want it to authenticate request if there is token in the head but do not block the request if failed. All you need is to rewrite the ***doFilter*** and invoke the **`chain.doFilter`** no matter what the authentication result is(invoking unsuccessfulAuthentication is optional). Here is part of my code.\r\n\r\n    public class JwtTokenAuthenticationProcessingFilter extends AbstractAuthenticationProcessingFilter {\r\n    \r\n        private final TokenExtractor tokenExtractor;\r\n    \r\n        @Autowired\r\n        public JwtTokenAuthenticationProcessingFilter(TokenExtractor tokenExtractor, RequestMatcher matcher) {\r\n            super(matcher);\r\n            this.tokenExtractor = tokenExtractor;\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException,\r\n                ServletException {\r\n            HttpServletRequest request = (HttpServletRequest) req;\r\n            HttpServletResponse response = (HttpServletResponse) res;\r\n            if (!this.requiresAuthentication(request, response)) {\r\n                chain.doFilter(request, response);\r\n            } else {\r\n                if (this.logger.isDebugEnabled()) {\r\n                    this.logger.debug(&quot;Request is to process authentication&quot;);\r\n                }\r\n    \r\n                boolean success = true;\r\n    \r\n                Authentication authResult = null;\r\n                try {\r\n                    authResult = this.attemptAuthentication(request, response);\r\n                } catch (InternalAuthenticationServiceException var8) {\r\n                    this.logger.error(&quot;An internal error occurred while trying to authenticate the user.&quot;, var8);\r\n                    success = false;\r\n                } catch (AuthenticationException var9) {\r\n                    success = false;\r\n                }\r\n    \r\n    \r\n                if (success &amp;&amp; null != authResult) {\r\n                    this.successfulAuthentication(request, response, chain, authResult);\r\n                }\r\n    \r\n                // Please ensure that chain.doFilter(request, response) is invoked upon successful authentication. You want\r\n                // processing of the request to advance to the next filter, because very last one filter\r\n                // FilterSecurityInterceptor#doFilter is responsible to actually invoke method in your controller that is\r\n                // handling requested API resource.\r\n                chain.doFilter(request, response);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\r\n                throws AuthenticationException {\r\n            String tokenPayload = request.getHeader(WebSecurityConfig.AUTHENTICATION_HEADER_NAME);\r\n            RawAccessJwtToken token = new RawAccessJwtToken(tokenExtractor.extract(tokenPayload));\r\n            return getAuthenticationManager().authenticate(new JwtAuthenticationToken(token));\r\n        }\r\n    \r\n        @Override\r\n        protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\r\n                                                Authentication authResult) throws IOException, ServletException {\r\n            SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n            context.setAuthentication(authResult);\r\n            SecurityContextHolder.setContext(context);\r\n        }\r\n    }\r\n\r\n**Update at Apr 22**\r\n\r\nTo register the filter, just add the following code to the WebSecurityConfig\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final JwtAuthenticationProvider mJwtAuthenticationProvider;\r\n    \r\n        @Autowired\r\n        public WebSecurityConfig(JwtAuthenticationProvider jwtAuthenticationProvider) {\r\n            this.mJwtAuthenticationProvider = jwtAuthenticationProvider;\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            // When multiple authentication providers are defined, the providers will be queried in the order theyre\r\n            // declared.\r\n            auth.authenticationProvider(mJwtAuthenticationProvider);\r\n        }\r\n    }\r\n\r\nIn the code, I only revealed the critical part about adding the filter. \r\nAll this implementation was inspired by [this site][1]. Give credit to the author Vladimir Stankovic for his detail explanation.\r\n\r\n\r\n  [1]: http://www.svlada.com/jwt-token-authentication-with-spring-boot/#jwt-authentication","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p>I think I've found a way to solve it. I have <code>JwtTokenAuthenticationProcessingFilter</code> which is an <code>AbstractAuthenticationProcessingFilter</code>. I want it to authenticate request if there is token in the head but do not block the request if failed. All you need is to rewrite the <strong><em>doFilter</em></strong> and invoke the <strong><code>chain.doFilter</code></strong> no matter what the authentication result is(invoking unsuccessfulAuthentication is optional). Here is part of my code.</p>\n\n<pre><code>public class JwtTokenAuthenticationProcessingFilter extends AbstractAuthenticationProcessingFilter {\n\n    private final TokenExtractor tokenExtractor;\n\n    @Autowired\n    public JwtTokenAuthenticationProcessingFilter(TokenExtractor tokenExtractor, RequestMatcher matcher) {\n        super(matcher);\n        this.tokenExtractor = tokenExtractor;\n    }\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException,\n            ServletException {\n        HttpServletRequest request = (HttpServletRequest) req;\n        HttpServletResponse response = (HttpServletResponse) res;\n        if (!this.requiresAuthentication(request, response)) {\n            chain.doFilter(request, response);\n        } else {\n            if (this.logger.isDebugEnabled()) {\n                this.logger.debug(\"Request is to process authentication\");\n            }\n\n            boolean success = true;\n\n            Authentication authResult = null;\n            try {\n                authResult = this.attemptAuthentication(request, response);\n            } catch (InternalAuthenticationServiceException var8) {\n                this.logger.error(\"An internal error occurred while trying to authenticate the user.\", var8);\n                success = false;\n            } catch (AuthenticationException var9) {\n                success = false;\n            }\n\n\n            if (success &amp;&amp; null != authResult) {\n                this.successfulAuthentication(request, response, chain, authResult);\n            }\n\n            // Please ensure that chain.doFilter(request, response) is invoked upon successful authentication. You want\n            // processing of the request to advance to the next filter, because very last one filter\n            // FilterSecurityInterceptor#doFilter is responsible to actually invoke method in your controller that is\n            // handling requested API resource.\n            chain.doFilter(request, response);\n        }\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\n            throws AuthenticationException {\n        String tokenPayload = request.getHeader(WebSecurityConfig.AUTHENTICATION_HEADER_NAME);\n        RawAccessJwtToken token = new RawAccessJwtToken(tokenExtractor.extract(tokenPayload));\n        return getAuthenticationManager().authenticate(new JwtAuthenticationToken(token));\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\n                                            Authentication authResult) throws IOException, ServletException {\n        SecurityContext context = SecurityContextHolder.createEmptyContext();\n        context.setAuthentication(authResult);\n        SecurityContextHolder.setContext(context);\n    }\n}\n</code></pre>\n\n<p><strong>Update at Apr 22</strong></p>\n\n<p>To register the filter, just add the following code to the WebSecurityConfig</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final JwtAuthenticationProvider mJwtAuthenticationProvider;\n\n    @Autowired\n    public WebSecurityConfig(JwtAuthenticationProvider jwtAuthenticationProvider) {\n        this.mJwtAuthenticationProvider = jwtAuthenticationProvider;\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        // When multiple authentication providers are defined, the providers will be queried in the order theyre\n        // declared.\n        auth.authenticationProvider(mJwtAuthenticationProvider);\n    }\n}\n</code></pre>\n\n<p>In the code, I only revealed the critical part about adding the filter. \nAll this implementation was inspired by <a href=\"http://www.svlada.com/jwt-token-authentication-with-spring-boot/#jwt-authentication\" rel=\"nofollow noreferrer\">this site</a>. Give credit to the author Vladimir Stankovic for his detail explanation.</p>\n"},{"tags":[],"owner":{"account_id":94283,"reputation":8803,"user_id":257501,"accept_rate":74,"display_name":"Saa ijak"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1572694321,"creation_date":1572694321,"answer_id":58670637,"question_id":36795894,"body_markdown":"`GenericFilterBean` has a following method :\r\n\r\n\r\n\r\n    /**\r\n    \t * Can be overridden in subclasses for custom filtering control,\r\n    \t * returning {@code true} to avoid filtering of the given request.\r\n    \t * &lt;p&gt;The default implementation always returns {@code false}.\r\n    \t * @param request current HTTP request\r\n    \t * @return whether the given request should &lt;i&gt;not&lt;/i&gt; be filtered\r\n    \t * @throws ServletException in case of errors\r\n    \t */\r\n    \tprotected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n    \t\treturn false;\r\n    \t}\r\n\r\nSo in your filter that extends `GenericFilterBean` you can override that method and implement logic to run the filter only on the routes that you would like.","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p><code>GenericFilterBean</code> has a following method :</p>\n\n<pre><code>/**\n     * Can be overridden in subclasses for custom filtering control,\n     * returning {@code true} to avoid filtering of the given request.\n     * &lt;p&gt;The default implementation always returns {@code false}.\n     * @param request current HTTP request\n     * @return whether the given request should &lt;i&gt;not&lt;/i&gt; be filtered\n     * @throws ServletException in case of errors\n     */\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n        return false;\n    }\n</code></pre>\n\n<p>So in your filter that extends <code>GenericFilterBean</code> you can override that method and implement logic to run the filter only on the routes that you would like.</p>\n"},{"tags":[],"owner":{"account_id":11233980,"reputation":99,"user_id":8240897,"display_name":"Arpa Mukherjee"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1598460768,"creation_date":1598460768,"answer_id":63602255,"question_id":36795894,"body_markdown":"My Requirement was to exclude the endpoint matching /api/auth/**, to achieve the same I have configured my WebSecurityConfig spring configuration component as follows:   \r\n\r\n \r\n\r\n    \r\n    /**\r\n     * The purpose of this method is to exclude the URL&#39;s specific to Login, Swagger UI and static files.\r\n     * Any URL that should be excluded from the Spring security chain should be added to the ignore list in this\r\n     * method only\r\n     */\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n    \tweb.ignoring().antMatchers(&quot;/api/auth/**&quot;,&quot;/v2/api-docs&quot;, \r\n    \t\t\t&quot;/configuration/ui&quot;, \r\n    \t\t\t&quot;/swagger-resources&quot;, \r\n    \t\t\t&quot;/configuration/security&quot;,\r\n    \t\t\t&quot;/swagger-ui.html&quot;, \r\n    \t\t\t&quot;/webjars/**&quot;,\r\n    \t\t\t&quot;/favicon.ico&quot;,\r\n                &quot;/**/*.png&quot;,\r\n                &quot;/**/*.gif&quot;,\r\n                &quot;/**/*.svg&quot;,\r\n                &quot;/**/*.jpg&quot;,\r\n                &quot;/**/*.html&quot;,\r\n                &quot;/**/*.css&quot;,\r\n                &quot;/**/*.js&quot;);\r\n    }\r\n \r\n\r\n       /**\r\n    \t * The purpose of this method is to define the HTTP configuration that defines how an HTTP request is \r\n    \t * going to be treated by the Spring Security chain. All the request URL&#39;s (excluding the URL&#39;s added\r\n    \t * in WebSecurity configuration ignore list) matching this configuration have to pass through the\r\n    \t * custom Spring security filter defined in this method\r\n    \t */\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.csrf().disable()\r\n    \t\t.cors().disable()\r\n    \t\t.authorizeRequests()\r\n    \t\t.anyRequest()\r\n    \t\t.authenticated()\r\n    \t\t.and()\r\n    \t\t.exceptionHandling()\r\n    \t\t.authenticationEntryPoint(unauthorizedHandler)\r\n    \t\t.and()\r\n    \t\t.sessionManagement()\r\n    \t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n    \t\t.and()\r\n    \t\t.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\r\n    \t}\r\n\r\n    /**\r\n     * The purpose of this method is to create a new instance of JWTAuthenticationFilter\r\n     * and return the same from the method body. It must be ensured that this filter should\r\n     * not be configured as a Spring bean or registered into the Spring Application context\r\n     * failing which the below filter shall be registered as a default web filter, and thus\r\n     * all the URL&#39;s even the excluded ones shall be intercepted by the below filter\r\n     */\r\n    public JWTAuthenticationFilter authenticationTokenFilterBean() {\r\n        return new JWTAuthenticationFilter();\r\n    }\r\n\r\n\r\n","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p>My Requirement was to exclude the endpoint matching /api/auth/**, to achieve the same I have configured my WebSecurityConfig spring configuration component as follows:</p>\n<pre><code>/**\n * The purpose of this method is to exclude the URL's specific to Login, Swagger UI and static files.\n * Any URL that should be excluded from the Spring security chain should be added to the ignore list in this\n * method only\n */\n@Override\npublic void configure(WebSecurity web) throws Exception {\n    web.ignoring().antMatchers(&quot;/api/auth/**&quot;,&quot;/v2/api-docs&quot;, \n            &quot;/configuration/ui&quot;, \n            &quot;/swagger-resources&quot;, \n            &quot;/configuration/security&quot;,\n            &quot;/swagger-ui.html&quot;, \n            &quot;/webjars/**&quot;,\n            &quot;/favicon.ico&quot;,\n            &quot;/**/*.png&quot;,\n            &quot;/**/*.gif&quot;,\n            &quot;/**/*.svg&quot;,\n            &quot;/**/*.jpg&quot;,\n            &quot;/**/*.html&quot;,\n            &quot;/**/*.css&quot;,\n            &quot;/**/*.js&quot;);\n}\n\n\n   /**\n     * The purpose of this method is to define the HTTP configuration that defines how an HTTP request is \n     * going to be treated by the Spring Security chain. All the request URL's (excluding the URL's added\n     * in WebSecurity configuration ignore list) matching this configuration have to pass through the\n     * custom Spring security filter defined in this method\n     */\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n        .cors().disable()\n        .authorizeRequests()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .exceptionHandling()\n        .authenticationEntryPoint(unauthorizedHandler)\n        .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n/**\n * The purpose of this method is to create a new instance of JWTAuthenticationFilter\n * and return the same from the method body. It must be ensured that this filter should\n * not be configured as a Spring bean or registered into the Spring Application context\n * failing which the below filter shall be registered as a default web filter, and thus\n * all the URL's even the excluded ones shall be intercepted by the below filter\n */\npublic JWTAuthenticationFilter authenticationTokenFilterBean() {\n    return new JWTAuthenticationFilter();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12212238,"reputation":2370,"user_id":8913704,"accept_rate":100,"display_name":"Artem"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1677181744,"creation_date":1674552552,"answer_id":75219552,"question_id":36795894,"body_markdown":"We recently updated to Spring Boot 3.0.0 which uses Spring Security 6.0.0 and ran into a similar issue when a filter was applied to all requests, although the `authorizeHttpRequests()` was used with specific paths defined.\r\n\r\nTurned out, if you want the `HttpSecurity` to be configured for a specific path, you need to use `securityMatcher()` at the beginning.\r\n\r\nSo it will be something like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    private SecurityFilterChain configureFilterChain(HttpSecurity http, String pattern, String... roles) throws Exception {\r\n        return http\r\n                   .securityMatcher(pattern)\r\n                   .authorizeHttpRequests(auth -&gt; auth.requestMatchers(AntPathRequestMatcher.antMatcher(pattern)).hasAnyRole(roles))\r\n                   .addFilterBefore(new TokenFilter(), UsernamePasswordAuthenticationFilter.class)\r\n                   .sessionManagement()\r\n                       .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                       .and()\r\n                   .exceptionHandling()\r\n                       .authenticationEntryPoint(new AuthenticationEntryPointImpl())\r\n                       .accessDeniedHandler(new AccessDeniedHandlerImpl())\r\n                       .and()\r\n                   .csrf().disable()\r\n                   .build();\r\n    }\r\n\r\nSo in this case, `TokenFilter` will be applied to only requests which have this `pattern`.","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p>We recently updated to Spring Boot 3.0.0 which uses Spring Security 6.0.0 and ran into a similar issue when a filter was applied to all requests, although the <code>authorizeHttpRequests()</code> was used with specific paths defined.</p>\n<p>Turned out, if you want the <code>HttpSecurity</code> to be configured for a specific path, you need to use <code>securityMatcher()</code> at the beginning.</p>\n<p>So it will be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private SecurityFilterChain configureFilterChain(HttpSecurity http, String pattern, String... roles) throws Exception {\n    return http\n               .securityMatcher(pattern)\n               .authorizeHttpRequests(auth -&gt; auth.requestMatchers(AntPathRequestMatcher.antMatcher(pattern)).hasAnyRole(roles))\n               .addFilterBefore(new TokenFilter(), UsernamePasswordAuthenticationFilter.class)\n               .sessionManagement()\n                   .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                   .and()\n               .exceptionHandling()\n                   .authenticationEntryPoint(new AuthenticationEntryPointImpl())\n                   .accessDeniedHandler(new AccessDeniedHandlerImpl())\n                   .and()\n               .csrf().disable()\n               .build();\n}\n</code></pre>\n<p>So in this case, <code>TokenFilter</code> will be applied to only requests which have this <code>pattern</code>.</p>\n"}],"owner":{"account_id":4108001,"reputation":1482,"user_id":3371414,"accept_rate":77,"display_name":"Bravo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103678,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":36875726,"answer_count":6,"score":60,"last_activity_date":1677181744,"creation_date":1461333697,"question_id":36795894,"body_markdown":"I have the following Spring Security configuration:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    httpSecurity\r\n            .csrf().disable()\r\n            .exceptionHandling()\r\n                .authenticationEntryPoint(unauthorizedHandler)\r\n                .and()\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/api/**&quot;).fullyAuthenticated()\r\n                .and()\r\n            .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\r\n\r\nThe `authenticationTokenFilterBean()` is applied even on endpoints that do not match `/api/**` expression. I also tried adding the following configuration code:\r\n\r\n    @Override\r\n    public void configure(WebSecurity webSecurity) {\r\n        webSecurity.ignoring().antMatchers(&quot;/some_endpoint&quot;);\r\n    }\r\n\r\nbut this still did not solve my problem. How can I tell Spring Security to apply filters only on endpoints that match the secured URI expression? ","title":"How to apply Spring Security filter only on secured endpoints?","body":"<p>I have the following Spring Security configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>httpSecurity\n        .csrf().disable()\n        .exceptionHandling()\n            .authenticationEntryPoint(unauthorizedHandler)\n            .and()\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n        .authorizeRequests()\n            .antMatchers(&quot;/api/**&quot;).fullyAuthenticated()\n            .and()\n        .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\n</code></pre>\n<p>The <code>authenticationTokenFilterBean()</code> is applied even on endpoints that do not match <code>/api/**</code> expression. I also tried adding the following configuration code:</p>\n<pre><code>@Override\npublic void configure(WebSecurity webSecurity) {\n    webSecurity.ignoring().antMatchers(&quot;/some_endpoint&quot;);\n}\n</code></pre>\n<p>but this still did not solve my problem. How can I tell Spring Security to apply filters only on endpoints that match the secured URI expression?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1677169329,"post_id":75547029,"comment_id":133288925,"body_markdown":"You have `if (false)` instead of something like `if (answer1.equals(&quot;...&quot;))`.","body":"You have <code>if (false)</code> instead of something like <code>if (answer1.equals(&quot;...&quot;))</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1677171057,"post_id":75547029,"comment_id":133289495,"body_markdown":"`if` evaluates a boolean (true or false) expression. In your case `false` evaluates to... `false`, so it runs the `else`. You need to actually evaluate `answer1` in some form.","body":"<code>if</code> evaluates a boolean (true or false) expression. In your case <code>false</code> evaluates to... <code>false</code>, so it runs the <code>else</code>. You need to actually evaluate <code>answer1</code> in some form."}],"owner":{"account_id":27861766,"reputation":1,"user_id":21274155,"display_name":"jihoon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677179916,"creation_date":1677166657,"question_id":75547029,"body_markdown":"When I try to run the program, it would always show &quot;Your answer is Wrong&quot; regardless of the answer.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class ICTPETA {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n    Scanner input = new Scanner (System.in);\r\n    \r\n    System.out.print(&quot;Name: &quot;);\r\n    String name = input.nextLine();\r\n    \r\n    System.out.print(&quot;Date: &quot;);\r\n    String date = input.nextLine();\r\n    \r\n    System.out.println (&quot;A. True or False&quot;);\r\n    System.out.println (&quot;Directions: Read each statement carefully. If the statement is correct, type True. Otherwise, type False&quot;);\r\n    \r\n    String answer1 = &quot;&quot;;\r\n    \r\n    System.out.println (&quot;1. Can an identifier have spaces?&quot;);\r\n    answer1 = input.nextLine();\r\n    \r\n    if (false)\r\n    {\r\n    \tSystem.out.println(&quot;Your answer is Correct!&quot;);\r\n    }\r\n    \r\n    else\r\n    {\r\n    \tSystem.out.println(&quot;Your answer is Wrong&quot;);\r\n    }\r\n    \r\n\t}\r\n\r\n}\r\n```","title":"How to resolve unknown error on if, else statement in Eclipse IDE?","body":"<p>When I try to run the program, it would always show &quot;Your answer is Wrong&quot; regardless of the answer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ICTPETA {\n\n    public static void main(String[] args) {\n        \n    Scanner input = new Scanner (System.in);\n    \n    System.out.print(&quot;Name: &quot;);\n    String name = input.nextLine();\n    \n    System.out.print(&quot;Date: &quot;);\n    String date = input.nextLine();\n    \n    System.out.println (&quot;A. True or False&quot;);\n    System.out.println (&quot;Directions: Read each statement carefully. If the statement is correct, type True. Otherwise, type False&quot;);\n    \n    String answer1 = &quot;&quot;;\n    \n    System.out.println (&quot;1. Can an identifier have spaces?&quot;);\n    answer1 = input.nextLine();\n    \n    if (false)\n    {\n        System.out.println(&quot;Your answer is Correct!&quot;);\n    }\n    \n    else\n    {\n        System.out.println(&quot;Your answer is Wrong&quot;);\n    }\n    \n    }\n\n}\n</code></pre>\n"},{"tags":["java","serialization","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":7314864,"reputation":819,"user_id":5572869,"display_name":"aBnormaLz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548668736,"creation_date":1548668736,"answer_id":54399196,"question_id":54398975,"body_markdown":"You should use `@JsonProperty` (`com.fasterxml.jackson.annotation.JsonProperty`) instead of Gson&#39;s `@SerializedName` like\r\n\r\n    public class BusinessClusterData {\r\n        @JsonProperty(&quot;data&quot;)\r\n        List&lt;BusinessClusterContent&gt; businessClusterContentList;\r\n        Long count;\r\n    }\r\n\r\nAlso i think you should make `BusinessClusterData` a static class, since it&#39;s not dependent on an instance of the `DataResponse`","title":"How to deserialize nested list with RestTemplate?","body":"<p>You should use <code>@JsonProperty</code> (<code>com.fasterxml.jackson.annotation.JsonProperty</code>) instead of Gson's <code>@SerializedName</code> like</p>\n\n<pre><code>public class BusinessClusterData {\n    @JsonProperty(\"data\")\n    List&lt;BusinessClusterContent&gt; businessClusterContentList;\n    Long count;\n}\n</code></pre>\n\n<p>Also i think you should make <code>BusinessClusterData</code> a static class, since it's not dependent on an instance of the <code>DataResponse</code></p>\n"},{"tags":[],"owner":{"account_id":4189559,"reputation":59,"user_id":3851980,"display_name":"user3851980"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677179718,"creation_date":1677179718,"answer_id":75549364,"question_id":54398975,"body_markdown":"It works with @JsonProperty (com.fasterxml.jackson.annotation.JsonProperty):\r\n\r\n    public class DataResponse&lt;T&gt;\r\n    {\r\n        protected Long code;\r\n        ...\r\n        @JsonProperty(&quot;data&quot;)\r\n        protected List&lt;T&gt; list;\r\n    }\r\n\r\nDeserialization sample:\r\n\r\n    ParameterizedTypeReference&lt;ResultList&lt;BusinessClusterData&gt;&gt; typeRef = new ParameterizedTypeReference&lt;ResultList&lt;BusinessClusterData&gt;&gt;() {};\r\n\tResponseEntity&lt;ResultList&lt;BusinessClusterData&gt;&gt; response = new RestTemplate().exchange(uri, HttpMethod.GET, entity, typeRef);","title":"How to deserialize nested list with RestTemplate?","body":"<p>It works with @JsonProperty (com.fasterxml.jackson.annotation.JsonProperty):</p>\n<pre><code>public class DataResponse&lt;T&gt;\n{\n    protected Long code;\n    ...\n    @JsonProperty(&quot;data&quot;)\n    protected List&lt;T&gt; list;\n}\n</code></pre>\n<p>Deserialization sample:</p>\n<pre><code>ParameterizedTypeReference&lt;ResultList&lt;BusinessClusterData&gt;&gt; typeRef = new ParameterizedTypeReference&lt;ResultList&lt;BusinessClusterData&gt;&gt;() {};\nResponseEntity&lt;ResultList&lt;BusinessClusterData&gt;&gt; response = new RestTemplate().exchange(uri, HttpMethod.GET, entity, typeRef);\n</code></pre>\n"}],"owner":{"account_id":1509821,"reputation":35,"user_id":1412228,"display_name":"Ryder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54399196,"answer_count":2,"score":2,"last_activity_date":1677179718,"creation_date":1548667947,"question_id":54398975,"body_markdown":"I have a response which was get from calling RestTemplate. I have a problem in deserializing the response to the target class. I can get &quot;code&quot; and &quot;message&quot;, but I can not get data as a list.\r\nHere is the my response class and RestTemplate call.\r\n\r\n    public class DataResponse {\r\n        Long code;\r\n        String message;\r\n        BusinessClusterData data;\r\n        public class BusinessClusterData {\r\n            @SerializedName(&quot;data&quot;)\r\n            List&lt;BusinessClusterContent&gt; businessClusterContentList;\r\n            Long count;\r\n        }\r\n    }\r\n    ResponseEntity&lt;DataResponse&gt; response = \r\n            restTemplate.exchange(url, HttpMethod.GET, entity, DataResponse.class);\r\n\r\nHere is the response.\r\n\r\n    {\r\n        &quot;code&quot;: 0,\r\n        &quot;message&quot;: &quot;ok&quot;,\r\n        &quot;data&quot;: {\r\n            &quot;data&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;test_name&quot;,\r\n                &quot;host&quot;: &quot;test_host&quot;,\r\n                &quot;segInfo&quot;: [\r\n                {\r\n                    &quot;state&quot;: &quot;applyed&quot;,\r\n                    &quot;formId&quot;: 42158\r\n                }\r\n            ]}\r\n          ],\r\n        &quot;count&quot;: 1\r\n      }\r\n    }\r\n\r\n","title":"How to deserialize nested list with RestTemplate?","body":"<p>I have a response which was get from calling RestTemplate. I have a problem in deserializing the response to the target class. I can get \"code\" and \"message\", but I can not get data as a list.\nHere is the my response class and RestTemplate call.</p>\n\n<pre><code>public class DataResponse {\n    Long code;\n    String message;\n    BusinessClusterData data;\n    public class BusinessClusterData {\n        @SerializedName(\"data\")\n        List&lt;BusinessClusterContent&gt; businessClusterContentList;\n        Long count;\n    }\n}\nResponseEntity&lt;DataResponse&gt; response = \n        restTemplate.exchange(url, HttpMethod.GET, entity, DataResponse.class);\n</code></pre>\n\n<p>Here is the response.</p>\n\n<pre><code>{\n    \"code\": 0,\n    \"message\": \"ok\",\n    \"data\": {\n        \"data\": [\n        {\n            \"name\": \"test_name\",\n            \"host\": \"test_host\",\n            \"segInfo\": [\n            {\n                \"state\": \"applyed\",\n                \"formId\": 42158\n            }\n        ]}\n      ],\n    \"count\": 1\n  }\n}\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9370,"page":622,"page_size":100}
