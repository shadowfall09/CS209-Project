{"items":[{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686012584,"post_id":76410630,"comment_id":134737993,"body_markdown":"1)  You say that you are trying to install Eclipse 2019-09, but the installer seems to have chosen jee-2022-09 as the default installation directory.  That implies that you have not downloaded the 2019-09 installer!  2) Don&#39;t use Java 10.  Seriously.  It is end-of-life.  If you *have to* use an old version of Java, use Java 8 or Java 11 ... and make sure you have the latest patch release available.","body":"1)  You say that you are trying to install Eclipse 2019-09, but the installer seems to have chosen jee-2022-09 as the default installation directory.  That implies that you have not downloaded the 2019-09 installer!  2) Don&#39;t use Java 10.  Seriously.  It is end-of-life.  If you <i>have to</i> use an old version of Java, use Java 8 or Java 11 ... and make sure you have the latest patch release available."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1686030692,"post_id":76410630,"comment_id":134739380,"body_markdown":"Choose the recommended external JRE 17.0.7 to be installed as part of Eclipse to run Eclipse. Independent from that, configure the Java VMs you want to use in your project in _Window &gt; Preferences: Java &gt; Installed JREs_.","body":"Choose the recommended external JRE 17.0.7 to be installed as part of Eclipse to run Eclipse. Independent from that, configure the Java VMs you want to use in your project in <i>Window &gt; Preferences: Java &gt; Installed JREs</i>."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686010560,"creation_date":1686010560,"answer_id":76410700,"question_id":76410630,"body_markdown":"[Eclipse 4.25 (2022-09) requires a JVM 17 or greater][1] to execute Eclipse. After Eclipse is installed and launched you can select other versions of the JVM to build and execute your projects.\r\n \r\n\r\n\r\n  [1]: https://wiki.eclipse.org/Eclipse/Installation#Eclipse_4.25_.282022-09.29","title":"Cannot select java vm when installing eclipse","body":"<p><a href=\"https://wiki.eclipse.org/Eclipse/Installation#Eclipse_4.25_.282022-09.29\" rel=\"nofollow noreferrer\">Eclipse 4.25 (2022-09) requires a JVM 17 or greater</a> to execute Eclipse. After Eclipse is installed and launched you can select other versions of the JVM to build and execute your projects.</p>\n"}],"owner":{"account_id":22291795,"reputation":1,"user_id":16518547,"display_name":"주정석"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686010560,"creation_date":1686008929,"question_id":76410630,"body_markdown":"I am trying to install Eclipse 2019-09 version, but it wanted me to Select a Java 17 64 Bit VM while I want to use Java 10 in system.\r\n\r\n![screenshot][1]\r\n\r\nI tried to click jdk 10-0-2 at the system location but it did not recognized, so i went to Eclipse download page to see if 2019-09 if it is compatible with java10 and it says it is ok if i use higher version than java8. Next I opened cmd and input `-javac version` to if it is successfully installed and it worked so I don&#39;t know what the problem is.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XfTTF.png","title":"Cannot select java vm when installing eclipse","body":"<p>I am trying to install Eclipse 2019-09 version, but it wanted me to Select a Java 17 64 Bit VM while I want to use Java 10 in system.</p>\n<p><img src=\"https://i.stack.imgur.com/XfTTF.png\" alt=\"screenshot\" /></p>\n<p>I tried to click jdk 10-0-2 at the system location but it did not recognized, so i went to Eclipse download page to see if 2019-09 if it is compatible with java10 and it says it is ok if i use higher version than java8. Next I opened cmd and input <code>-javac version</code> to if it is successfully installed and it worked so I don't know what the problem is.</p>\n"},{"tags":["java","maven","log4j","multi-release-jar"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1538629858,"post_id":52632802,"comment_id":92211225,"body_markdown":"First why doing some exclusions in maven-compiler plugin? Does not make sense...And wha is the error message ?","body":"First why doing some exclusions in maven-compiler plugin? Does not make sense...And wha is the error message ?"},{"owner":{"account_id":6224088,"reputation":157,"user_id":6169235,"accept_rate":38,"display_name":"Eltorrooo"},"score":1,"creation_date":1538663818,"post_id":52632802,"comment_id":92230651,"body_markdown":"it gives a warning at RUNTIME `sun.reflect.Reflection.getCallerClass is not supported, this might affect performance`, in java11+ they removed that `sun.reflect.*` and log4j has an implementation using `StackWalker`\nit compiles fine but it is just getting the wrong implementation.","body":"it gives a warning at RUNTIME <code>sun.reflect.Reflection.getCallerClass is not supported, this might affect performance</code>, in java11+ they removed that <code>sun.reflect.*</code> and log4j has an implementation using <code>StackWalker</code> it compiles fine but it is just getting the wrong implementation."},{"owner":{"account_id":1580802,"reputation":3558,"user_id":1466233,"accept_rate":94,"display_name":"Victor"},"score":0,"creation_date":1550540053,"post_id":52632802,"comment_id":96296750,"body_markdown":"Same issue, any solution ?","body":"Same issue, any solution ?"},{"owner":{"account_id":6224088,"reputation":157,"user_id":6169235,"accept_rate":38,"display_name":"Eltorrooo"},"score":1,"creation_date":1550767954,"post_id":52632802,"comment_id":96401332,"body_markdown":"@Victor it is a bug in jdk 10 and 11, it will be fixed in jdk 12, but the fix can be ported to jdk 11\nyou can fix it by using java 9 or you can just copy the classes under your src directory (monkey patching)","body":"@Victor it is a bug in jdk 10 and 11, it will be fixed in jdk 12, but the fix can be ported to jdk 11 you can fix it by using java 9 or you can just copy the classes under your src directory (monkey patching)"}],"answers":[{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655710722,"creation_date":1655710722,"answer_id":72683696,"question_id":52632802,"body_markdown":"For me I had to update my `maven-plugin-enforcer` version from `3.0.0` to `3.0.0-M3`, as stated here: https://github.com/jhipster/generator-jhipster/issues/16318#issuecomment-989489090","title":"cannot get log4j-api-java9","body":"<p>For me I had to update my <code>maven-plugin-enforcer</code> version from <code>3.0.0</code> to <code>3.0.0-M3</code>, as stated here: <a href=\"https://github.com/jhipster/generator-jhipster/issues/16318#issuecomment-989489090\" rel=\"nofollow noreferrer\">https://github.com/jhipster/generator-jhipster/issues/16318#issuecomment-989489090</a></p>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686010422,"creation_date":1686010422,"answer_id":76410692,"question_id":52632802,"body_markdown":"There doesn&#39;t seem to be separate `org.apache.logging.log4j:log4j-api-java9` artifact. Instead, Log4j publishes `org.apache.logging.log4j:log4j-api` as a multi-release JAR (see [JEP 238][1]), containing both the old Log4. classes and the Java 9+ Log4j classes. See [`LOG4J2-2537`: Log4j 2 Performance issue with Java 11][2] for more back-story.\r\n\r\nIdeally you want to use an environment that recognizes multi-release JARs. I&#39;m not sure which environment this question originally referenced, but from comments it may have been old plugins that have since been upgraded.\r\n\r\nHowever if you&#39;re on a platform such as AWS Lambda which doesn&#39;t support multi-release JARs, I&#39;ve found a workaround by adding the following to your Maven Shade Plugin `&lt;configuration&gt;` section to copy over the Java 9+ version of the relevant Log4J classes, which apparently don&#39;t even look for `sun.reflect.Reflection.getCallerClass`, thus avoiding the warning related to that class being missing:\r\n\r\n```xml\r\n&lt;relocations&gt;\r\n  &lt;relocation&gt;\r\n    &lt;pattern&gt;META-INF/versions/9/org/apache/logging/log4j/&lt;/pattern&gt;\r\n    &lt;shadedPattern&gt;org/apache/logging/log4j/&lt;/shadedPattern&gt;\r\n  &lt;/relocation&gt;\r\n&lt;/relocations&gt;\r\n```\r\n\r\nSee [my other answer][3] for more discussion.\r\n\r\nHowever it is much preferred to update your environment, if possible, to support multi-release JARs.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/238\r\n  [2]: https://issues.apache.org/jira/browse/LOG4J2-2537\r\n  [3]: https://stackoverflow.com/a/76410649","title":"cannot get log4j-api-java9","body":"<p>There doesn't seem to be separate <code>org.apache.logging.log4j:log4j-api-java9</code> artifact. Instead, Log4j publishes <code>org.apache.logging.log4j:log4j-api</code> as a multi-release JAR (see <a href=\"https://openjdk.org/jeps/238\" rel=\"nofollow noreferrer\">JEP 238</a>), containing both the old Log4. classes and the Java 9+ Log4j classes. See <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2537\" rel=\"nofollow noreferrer\"><code>LOG4J2-2537</code>: Log4j 2 Performance issue with Java 11</a> for more back-story.</p>\n<p>Ideally you want to use an environment that recognizes multi-release JARs. I'm not sure which environment this question originally referenced, but from comments it may have been old plugins that have since been upgraded.</p>\n<p>However if you're on a platform such as AWS Lambda which doesn't support multi-release JARs, I've found a workaround by adding the following to your Maven Shade Plugin <code>&lt;configuration&gt;</code> section to copy over the Java 9+ version of the relevant Log4J classes, which apparently don't even look for <code>sun.reflect.Reflection.getCallerClass</code>, thus avoiding the warning related to that class being missing:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;relocations&gt;\n  &lt;relocation&gt;\n    &lt;pattern&gt;META-INF/versions/9/org/apache/logging/log4j/&lt;/pattern&gt;\n    &lt;shadedPattern&gt;org/apache/logging/log4j/&lt;/shadedPattern&gt;\n  &lt;/relocation&gt;\n&lt;/relocations&gt;\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/a/76410649\">my other answer</a> for more discussion.</p>\n<p>However it is much preferred to update your environment, if possible, to support multi-release JARs.</p>\n"}],"owner":{"account_id":6224088,"reputation":157,"user_id":6169235,"accept_rate":38,"display_name":"Eltorrooo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2292,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1686010422,"creation_date":1538588441,"question_id":52632802,"body_markdown":"I&#39;m building my project with Java11 and maven my pom look like this and i&#39;m trying to get the right log4j-api for my project\r\n\r\nlog4j-api is since 2.9 a multi-release jar with support of java9+ and older java versions\r\n\r\nIn my project i still not able to log4j-api-java9\r\nhttps://github.com/apache/logging-log4j2/tree/master/log4j-api-java9\r\n\r\nmy pom looks like this\r\n\r\n\r\n        ...\r\n        &lt;properties&gt;\r\n                &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n                &lt;vertx.version&gt;3.5.3&lt;/vertx.version&gt;\r\n                &lt;log4j.version&gt;2.11.1&lt;/log4j.version&gt;\r\n                &lt;async-http-client.version&gt;2.5.2&lt;/async-http-client.version&gt;\r\n                &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n        &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                    &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      ...\r\n      ...\r\n    &lt;dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n           ...\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;default-testCompile&lt;/id&gt;\r\n                            &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;testExcludes&gt;\r\n                                    &lt;exclude&gt;**/*IT.java&lt;/exclude&gt;\r\n                                &lt;/testExcludes&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n     &lt;plugins&gt;\r\n    &lt;build&gt;\r\n\r\nusing this is also hopeless\r\n\r\n    &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-api-java9&lt;/artifactId&gt;\r\n                    &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"cannot get log4j-api-java9","body":"<p>I'm building my project with Java11 and maven my pom look like this and i'm trying to get the right log4j-api for my project</p>\n\n<p>log4j-api is since 2.9 a multi-release jar with support of java9+ and older java versions</p>\n\n<p>In my project i still not able to log4j-api-java9\n<a href=\"https://github.com/apache/logging-log4j2/tree/master/log4j-api-java9\" rel=\"nofollow noreferrer\">https://github.com/apache/logging-log4j2/tree/master/log4j-api-java9</a></p>\n\n<p>my pom looks like this</p>\n\n<pre><code>    ...\n    &lt;properties&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n            &lt;vertx.version&gt;3.5.3&lt;/vertx.version&gt;\n            &lt;log4j.version&gt;2.11.1&lt;/log4j.version&gt;\n            &lt;async-http-client.version&gt;2.5.2&lt;/async-http-client.version&gt;\n            &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  ...\n  ...\n&lt;dependencies&gt;\n\n    &lt;build&gt;\n       ...\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-testCompile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;testExcludes&gt;\n                                &lt;exclude&gt;**/*IT.java&lt;/exclude&gt;\n                            &lt;/testExcludes&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n &lt;plugins&gt;\n&lt;build&gt;\n</code></pre>\n\n<p>using this is also hopeless</p>\n\n<pre><code>&lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-api-java9&lt;/artifactId&gt;\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka","confluent-cloud"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1685970386,"post_id":76403219,"comment_id":134730952,"body_markdown":"Typo? `spring.kafka.bootstrap-servers`, without `properties` and with a hyphen https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka","body":"Typo? <code>spring.kafka.bootstrap-servers</code>, without <code>properties</code> and with a hyphen <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":159123,"reputation":2161,"user_id":378214,"accept_rate":75,"display_name":"Bagira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686010043,"creation_date":1686010043,"answer_id":76410674,"question_id":76403219,"body_markdown":"I figured out the problem. \r\n\r\nProblem is spring boot refuses to pick this information from application.properties. I need to inject all the information in Producerfactory bean only then it works. I also tried removing Producerfactory bean altogether thinking there might be a conflict but getting rid of Producerfactory bean also does not help. \r\n\r\nSo here is my updated code for Producerfactory\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n\r\n      //Defining these propeties in application.propeties only does not work. Need to create a Producerfactory bean and inject all these properties. Only then it works.\r\n      return new DefaultKafkaProducerFactory&lt;String, String&gt;(Map.of(\r\n              AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootStrapServer,\r\n              AdminClientConfig.RETRIES_CONFIG, 0,\r\n              ProducerConfig.BUFFER_MEMORY_CONFIG, 33554432,\r\n              ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\r\n              ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\r\n              CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, securityProtocol,\r\n              SaslConfigs.SASL_MECHANISM, saslMechanism,\r\n              SaslConfigs.SASL_JAAS_CONFIG, saslJAAS\r\n      ));\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n      return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n\r\nI have no idea why spring boot would do this.","title":"Bootstrap broker disconnected: Not able to connect to kafka","body":"<p>I figured out the problem.</p>\n<p>Problem is spring boot refuses to pick this information from application.properties. I need to inject all the information in Producerfactory bean only then it works. I also tried removing Producerfactory bean altogether thinking there might be a conflict but getting rid of Producerfactory bean also does not help.</p>\n<p>So here is my updated code for Producerfactory</p>\n<pre><code>@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n\n  //Defining these propeties in application.propeties only does not work. Need to create a Producerfactory bean and inject all these properties. Only then it works.\n  return new DefaultKafkaProducerFactory&lt;String, String&gt;(Map.of(\n          AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootStrapServer,\n          AdminClientConfig.RETRIES_CONFIG, 0,\n          ProducerConfig.BUFFER_MEMORY_CONFIG, 33554432,\n          ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\n          ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\n          CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, securityProtocol,\n          SaslConfigs.SASL_MECHANISM, saslMechanism,\n          SaslConfigs.SASL_JAAS_CONFIG, saslJAAS\n  ));\n}\n\n@Bean\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n  return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n</code></pre>\n<p>I have no idea why spring boot would do this.</p>\n"}],"owner":{"account_id":159123,"reputation":2161,"user_id":378214,"accept_rate":75,"display_name":"Bagira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686010043,"creation_date":1685932460,"question_id":76403219,"body_markdown":"I have created a kafka cluster on confluent Cloud but I am unable to connect to it. When I run producer, I get following error:\r\n\r\n&gt; [Producer clientId=producer-1] Node -1 disconnected.\r\n&gt; 2023-06-05T06:09:20.826+05:30  INFO 25324 --- [ad | producer-1]\r\n&gt; org.apache.kafka.clients.NetworkClient   : [Producer\r\n&gt; clientId=producer-1] Cancelled in-flight API_VERSIONS request with\r\n&gt; correlation id 189 due to node -1 being disconnected (elapsed time\r\n&gt; since creation: 253ms, elapsed time since send: 253ms, request\r\n&gt; timeout: 30000ms) 2023-06-05T06:09:20.827+05:30  WARN 25324 --- [ad |\r\n&gt; producer-1] org.apache.kafka.clients.NetworkClient   : [Producer\r\n&gt; clientId=producer-1] Bootstrap broker &lt;server-address&gt; (id: -1 rack:\r\n&gt; null) disconnected\r\n\r\nI tried created a new cluster but result is same. I am using spring boot to connect to cluster.\r\n\r\nHere is the configuration:\r\n\r\n&gt; spring.kafka.properties.sasl.mechanism=PLAIN\r\n&gt; spring.kafka.properties.bootstrap.servers=broker-address-here:9092\r\n&gt; spring.kafka.properties.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule\r\n&gt; required username=&#39;api-key-here&#39;\r\n&gt; password=&#39;api-secret-here&#39;;\r\n&gt; spring.kafka.properties.security.protocol=SASL_SSL\r\n&gt; spring.kafka.properties.session.timeout.ms=45000\r\n\r\nHere are Spring boot beans:\r\n\r\n    @Configuration\r\n    public class KafkaConfiguration {\r\n      \r\n        @Value(&quot;${spring.kafka.properties.bootstrap.servers}&quot;)\r\n        private String bootStrapServer;\r\n    \r\n        @Bean\r\n        public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n    \r\n          return new DefaultKafkaProducerFactory&lt;String, String&gt;(Map.of(\r\n                  AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootStrapServer,\r\n                  AdminClientConfig.RETRIES_CONFIG, 0,\r\n                  ProducerConfig.BUFFER_MEMORY_CONFIG, 33554432,\r\n                  ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\r\n                  ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class\r\n          ));\r\n        }\r\n    \r\n        @Bean\r\n        public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n          return new KafkaTemplate&lt;&gt;(producerFactory());\r\n        }\r\n    }\r\n\r\nHere is my controller which tries to send message to cluster:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/produce&quot;)\r\n    public final class LogProducer {\r\n    \r\n        @Autowired \r\n        private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n     \r\n        private static final String TOPIC = &quot;logs&quot;;\r\n     \r\n        // Publish messages using the GetMapping\r\n        @PostMapping(&quot;/logs/v1&quot;)\r\n        public String publishMessage()\r\n        {\r\n     \r\n            // Sending the message\r\n            kafkaTemplate.send(TOPIC, &quot;sample log message&quot;);\r\n     \r\n            return &quot;Published Successfully&quot;;\r\n        }    \r\n    }\r\n\r\nAny suggestions, what am I doing wrong?","title":"Bootstrap broker disconnected: Not able to connect to kafka","body":"<p>I have created a kafka cluster on confluent Cloud but I am unable to connect to it. When I run producer, I get following error:</p>\n<blockquote>\n<p>[Producer clientId=producer-1] Node -1 disconnected.\n2023-06-05T06:09:20.826+05:30  INFO 25324 --- [ad | producer-1]\norg.apache.kafka.clients.NetworkClient   : [Producer\nclientId=producer-1] Cancelled in-flight API_VERSIONS request with\ncorrelation id 189 due to node -1 being disconnected (elapsed time\nsince creation: 253ms, elapsed time since send: 253ms, request\ntimeout: 30000ms) 2023-06-05T06:09:20.827+05:30  WARN 25324 --- [ad |\nproducer-1] org.apache.kafka.clients.NetworkClient   : [Producer\nclientId=producer-1] Bootstrap broker  (id: -1 rack:\nnull) disconnected</p>\n</blockquote>\n<p>I tried created a new cluster but result is same. I am using spring boot to connect to cluster.</p>\n<p>Here is the configuration:</p>\n<blockquote>\n<p>spring.kafka.properties.sasl.mechanism=PLAIN\nspring.kafka.properties.bootstrap.servers=broker-address-here:9092\nspring.kafka.properties.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule\nrequired username='api-key-here'\npassword='api-secret-here';\nspring.kafka.properties.security.protocol=SASL_SSL\nspring.kafka.properties.session.timeout.ms=45000</p>\n</blockquote>\n<p>Here are Spring boot beans:</p>\n<pre><code>@Configuration\npublic class KafkaConfiguration {\n  \n    @Value(&quot;${spring.kafka.properties.bootstrap.servers}&quot;)\n    private String bootStrapServer;\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n\n      return new DefaultKafkaProducerFactory&lt;String, String&gt;(Map.of(\n              AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootStrapServer,\n              AdminClientConfig.RETRIES_CONFIG, 0,\n              ProducerConfig.BUFFER_MEMORY_CONFIG, 33554432,\n              ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\n              ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class\n      ));\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n      return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n</code></pre>\n<p>Here is my controller which tries to send message to cluster:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/produce&quot;)\npublic final class LogProducer {\n\n    @Autowired \n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n \n    private static final String TOPIC = &quot;logs&quot;;\n \n    // Publish messages using the GetMapping\n    @PostMapping(&quot;/logs/v1&quot;)\n    public String publishMessage()\n    {\n \n        // Sending the message\n        kafkaTemplate.send(TOPIC, &quot;sample log message&quot;);\n \n        return &quot;Published Successfully&quot;;\n    }    \n}\n</code></pre>\n<p>Any suggestions, what am I doing wrong?</p>\n"},{"tags":["java","generics","kotlin","extends"],"answers":[{"comments":[{"owner":{"account_id":8049104,"reputation":648,"user_id":6114891,"accept_rate":69,"display_name":"Jonathan"},"score":1,"creation_date":1565117935,"post_id":53070321,"comment_id":101249097,"body_markdown":"This is really helpful, thanks. Marking the subclass `internal` also resolves `public subclass exposes its public/*package*/ supertype [type name]`","body":"This is really helpful, thanks. Marking the subclass <code>internal</code> also resolves <code>public subclass exposes its public&#47;*package*&#47; supertype [type name]</code>"},{"owner":{"account_id":210389,"reputation":4552,"user_id":461982,"display_name":"Abandoned Cart"},"score":0,"creation_date":1643516373,"post_id":53070321,"comment_id":125359269,"body_markdown":"The easiest way I have found to think of it is that Kotlin is a separate package, but with the same name. That means a class in Java needs to be a public class for Kotlin to see it. Kotlin, on the other hand, is better at being backwards compatible.","body":"The easiest way I have found to think of it is that Kotlin is a separate package, but with the same name. That means a class in Java needs to be a public class for Kotlin to see it. Kotlin, on the other hand, is better at being backwards compatible."}],"tags":[],"owner":{"account_id":14295595,"reputation":6668,"user_id":10326373,"display_name":"Yoni Gibbs"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1540922647,"creation_date":1540922647,"answer_id":53070321,"question_id":53029320,"body_markdown":"I presume that by &quot;package public&quot; you meant &quot;package private&quot;? In your example, `FooBuilder.FooSettings` has no visibility modifier so uses the Java default of package private. Assuming that&#39;s what you meant...\r\n\r\nYou will be able to access the package private class, `FooSettings`, in your Kotlin code, but only if you put that Kotlin code in a package matching the one where `FooSettings` is declared.\r\n\r\nYou&#39;ll still get the same compilation error, but that&#39;s not because you can&#39;t access the type: it&#39;s because you&#39;re trying to use it in a context which is more visible than the type&#39;s declaration. i.e. you&#39;re trying to take a package private type and use it as part of a public method&#39;s signature, which isn&#39;t allowed. To get round that problem you need to mark your Kotlin class as `internal`.\r\n\r\nIt&#39;s might also be worth mentioning that `internal` for Kotlin means it&#39;s visible in that **module**, not in that **package**. This is all explained in more detail [here][1].\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/visibility-modifiers.html","title":"Kotlin Error : &#39;public&#39; function exposes its &#39;public/*package*/&#39; return type argument","body":"<p>I presume that by \"package public\" you meant \"package private\"? In your example, <code>FooBuilder.FooSettings</code> has no visibility modifier so uses the Java default of package private. Assuming that's what you meant...</p>\n\n<p>You will be able to access the package private class, <code>FooSettings</code>, in your Kotlin code, but only if you put that Kotlin code in a package matching the one where <code>FooSettings</code> is declared.</p>\n\n<p>You'll still get the same compilation error, but that's not because you can't access the type: it's because you're trying to use it in a context which is more visible than the type's declaration. i.e. you're trying to take a package private type and use it as part of a public method's signature, which isn't allowed. To get round that problem you need to mark your Kotlin class as <code>internal</code>.</p>\n\n<p>It's might also be worth mentioning that <code>internal</code> for Kotlin means it's visible in that <strong>module</strong>, not in that <strong>package</strong>. This is all explained in more detail <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":11762528,"reputation":4100,"user_id":8608146,"display_name":"Phani Rithvij"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596906503,"creation_date":1596906503,"answer_id":63318125,"question_id":53029320,"body_markdown":"In my case, I was getting this error because I was importing a kotlin class variable from another java file which raised because of the auto conversion from java to kotlin by Android Studio.\r\n\r\nI was able to fix it by changing all the references of the variable in the java file to its setters and getters.\r\n\r\neg:\r\n\r\n```kt\r\n// kotlin file\r\ninternal open class BubbleBaseLayout : FrameLayout {\r\n    var windowManager: WindowManager? = null\r\n    lateinit var viewParams: WindowManager.LayoutParams\r\n    // defined here\r\n    var layoutCoordinator: BubblesLayoutCoordinator? = null\r\n    \r\n    // ...\r\n}\r\n```\r\n\r\n```java\r\n// Java file\r\n    // This variable\r\n    if (layoutCoordinator != null) { ... }\r\n```\r\n\r\nNeeds to be changed to\r\n\r\n```\r\n// layoutCoordinator to getlayoutCoordinator everywhere\r\n    if(getlayoutCoordinator() != null){ ... }\r\n```","title":"Kotlin Error : &#39;public&#39; function exposes its &#39;public/*package*/&#39; return type argument","body":"<p>In my case, I was getting this error because I was importing a kotlin class variable from another java file which raised because of the auto conversion from java to kotlin by Android Studio.</p>\n<p>I was able to fix it by changing all the references of the variable in the java file to its setters and getters.</p>\n<p>eg:</p>\n<pre><code>// kotlin file\ninternal open class BubbleBaseLayout : FrameLayout {\n    var windowManager: WindowManager? = null\n    lateinit var viewParams: WindowManager.LayoutParams\n    // defined here\n    var layoutCoordinator: BubblesLayoutCoordinator? = null\n    \n    // ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Java file\n    // This variable\n    if (layoutCoordinator != null) { ... }\n</code></pre>\n<p>Needs to be changed to</p>\n<pre><code>// layoutCoordinator to getlayoutCoordinator everywhere\n    if(getlayoutCoordinator() != null){ ... }\n</code></pre>\n"}],"owner":{"account_id":14635143,"reputation":227,"user_id":10569563,"display_name":"Zuerst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15623,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":53070321,"answer_count":2,"score":22,"last_activity_date":1686009850,"creation_date":1540712047,"question_id":53029320,"body_markdown":"I am new to Kotlin and trying out to write some project using the language.\r\nI am using Java library and extending a class from the library in my project and I am seeing this error message.\r\n\r\n    &#39;public&#39; function exposes its &#39;public/*package*/&#39; return type argument FooSettings\r\n\r\nI understand what the problem is, but I am not sure how to fix it in Kotlin since I am still trying get familiar with Kotlin.\r\nI can see that Kotlin is being smart and only trying to return of type that extends `FooSettings`. However the problem is `FooSettings` is package public only which means that I cannot access if in my Kotlin project.\r\n\r\nI did some research about Kotlin generics and use of `in` or `out` but I wasn&#39;t able to fix the problem.\r\n\r\nIs there any work around that I can do in my Kotlin project to fix the error I am seeing?\r\n\r\nCode snippet\r\n-----\r\n\r\n**This is sample of Java library class:**\r\nNote, I have no way to changing the implementation of the library. I must use this Library and extend it in Kotlin.\r\n\r\nIt seems odd to me that the java library is written such a way and expect it to be overridden but that is question for another day. \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public abstract class ClassA {\r\n        public List&lt;FooBuilder&lt;?&gt;&gt; getBuilder(Foo foo) {\r\n            return Collections.emptyList();\r\n        }\r\n    }\r\n\r\n    public class Foo {\r\n    }\r\n\r\n    public abstract class FooBuilder&lt;U extends FooBuilder.FooSettings&gt; {\r\n        // implementation of Class\r\n        abstract static class FooSettings {\r\n            // implementation of Class\r\n        }\r\n    }\r\n\r\n**Normally Java classes would override the method like such:**\r\n\r\n    import java.util.List;\r\n\r\n    public class MyJavaClassA extends ClassA {\r\n        @Override public List&lt;FooBuilder&lt;?&gt;&gt; getBuilder(final Foo foo) {\r\n            // implementation\r\n        }\r\n    }\r\n\r\n**But I am trying to write in Kotlin such that it looks like**: Reminder that this Kotlin is depending on the Java library and does not have access to package public classes.\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    class MyKotlinClassA : ClassA() {\r\n        override fun getBuilder(foo: Foo): MutableList&lt;FooBuilder&lt;*&gt;&gt; {\r\n            // implementation\r\n        }\r\n    }\r\n\r\nThis causes error\r\n\r\n    &#39;public&#39; function exposes its &#39;public/*package*/&#39; return type argument FooSettings","title":"Kotlin Error : &#39;public&#39; function exposes its &#39;public/*package*/&#39; return type argument","body":"<p>I am new to Kotlin and trying out to write some project using the language.\nI am using Java library and extending a class from the library in my project and I am seeing this error message.</p>\n<pre><code>'public' function exposes its 'public/*package*/' return type argument FooSettings\n</code></pre>\n<p>I understand what the problem is, but I am not sure how to fix it in Kotlin since I am still trying get familiar with Kotlin.\nI can see that Kotlin is being smart and only trying to return of type that extends <code>FooSettings</code>. However the problem is <code>FooSettings</code> is package public only which means that I cannot access if in my Kotlin project.</p>\n<p>I did some research about Kotlin generics and use of <code>in</code> or <code>out</code> but I wasn't able to fix the problem.</p>\n<p>Is there any work around that I can do in my Kotlin project to fix the error I am seeing?</p>\n<h2>Code snippet</h2>\n<p><strong>This is sample of Java library class:</strong>\nNote, I have no way to changing the implementation of the library. I must use this Library and extend it in Kotlin.</p>\n<p>It seems odd to me that the java library is written such a way and expect it to be overridden but that is question for another day.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Collections;\nimport java.util.List;\n\npublic abstract class ClassA {\n    public List&lt;FooBuilder&lt;?&gt;&gt; getBuilder(Foo foo) {\n        return Collections.emptyList();\n    }\n}\n\npublic class Foo {\n}\n\npublic abstract class FooBuilder&lt;U extends FooBuilder.FooSettings&gt; {\n    // implementation of Class\n    abstract static class FooSettings {\n        // implementation of Class\n    }\n}\n</code></pre>\n<p><strong>Normally Java classes would override the method like such:</strong></p>\n<pre><code>import java.util.List;\n\npublic class MyJavaClassA extends ClassA {\n    @Override public List&lt;FooBuilder&lt;?&gt;&gt; getBuilder(final Foo foo) {\n        // implementation\n    }\n}\n</code></pre>\n<p><strong>But I am trying to write in Kotlin such that it looks like</strong>: Reminder that this Kotlin is depending on the Java library and does not have access to package public classes.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyKotlinClassA : ClassA() {\n    override fun getBuilder(foo: Foo): MutableList&lt;FooBuilder&lt;*&gt;&gt; {\n        // implementation\n    }\n}\n</code></pre>\n<p>This causes error</p>\n<pre><code>'public' function exposes its 'public/*package*/' return type argument FooSettings\n</code></pre>\n"},{"tags":["java","while-loop","java.util.scanner"],"comments":[{"owner":{"account_id":5603010,"reputation":984,"user_id":4438634,"accept_rate":39,"display_name":"Ziad Halabi"},"score":0,"creation_date":1427778235,"post_id":29360889,"comment_id":46905707,"body_markdown":"can u post the whole code so I can test it?","body":"can u post the whole code so I can test it?"},{"owner":{"account_id":4843113,"reputation":3664,"user_id":3907612,"accept_rate":91,"display_name":"Yantraguru"},"score":0,"creation_date":1427779185,"post_id":29360889,"comment_id":46906018,"body_markdown":"yes post the complete code. Difficult to guess. But I think whats happening is totalRain += monthRain; is not in loop and thats the reason all months are not considered","body":"yes post the complete code. Difficult to guess. But I think whats happening is totalRain += monthRain; is not in loop and thats the reason all months are not considered"},{"owner":{"account_id":6026469,"reputation":9,"user_id":4731994,"accept_rate":100,"display_name":"LizzySmit"},"score":0,"creation_date":1427780536,"post_id":29360889,"comment_id":46906511,"body_markdown":"@Kognizant how would I go about putting it in the loop?","body":"@Kognizant how would I go about putting it in the loop?"},{"owner":{"account_id":4843113,"reputation":3664,"user_id":3907612,"accept_rate":91,"display_name":"Yantraguru"},"score":0,"creation_date":1427780775,"post_id":29360889,"comment_id":46906600,"body_markdown":"actually Ziad has already shown how to put it inside the loop","body":"actually Ziad has already shown how to put it inside the loop"}],"answers":[{"comments":[{"owner":{"account_id":6026469,"reputation":9,"user_id":4731994,"accept_rate":100,"display_name":"LizzySmit"},"score":0,"creation_date":1427779647,"post_id":29361052,"comment_id":46906206,"body_markdown":"I&#39;m still getting the same problem when using your code, it says it only rained one inch in 2 years.","body":"I&#39;m still getting the same problem when using your code, it says it only rained one inch in 2 years."},{"owner":{"account_id":5603010,"reputation":984,"user_id":4438634,"accept_rate":39,"display_name":"Ziad Halabi"},"score":0,"creation_date":1427779776,"post_id":29361052,"comment_id":46906242,"body_markdown":"I fixed something in the System.out.println, the first one should be &quot;Total Rain&quot;. What input are you using?","body":"I fixed something in the System.out.println, the first one should be &quot;Total Rain&quot;. What input are you using?"},{"owner":{"account_id":5603010,"reputation":984,"user_id":4438634,"accept_rate":39,"display_name":"Ziad Halabi"},"score":0,"creation_date":1427780036,"post_id":29361052,"comment_id":46906333,"body_markdown":"If you execute the code now and input 1 for all months, you will get Total rain = 12, and average rain = 1","body":"If you execute the code now and input 1 for all months, you will get Total rain = 12, and average rain = 1"},{"owner":{"account_id":6026469,"reputation":9,"user_id":4731994,"accept_rate":100,"display_name":"LizzySmit"},"score":0,"creation_date":1427780241,"post_id":29361052,"comment_id":46906416,"body_markdown":"Sorry that was stupid I was using 2 years and randomizing the numbers. For my assignment the years and rainfall have to be variable, in that any amount of years over 1 is acceptable and any amount of rainfall greater than 0 is acceptable.","body":"Sorry that was stupid I was using 2 years and randomizing the numbers. For my assignment the years and rainfall have to be variable, in that any amount of years over 1 is acceptable and any amount of rainfall greater than 0 is acceptable."},{"owner":{"account_id":5603010,"reputation":984,"user_id":4438634,"accept_rate":39,"display_name":"Ziad Halabi"},"score":0,"creation_date":1427780427,"post_id":29361052,"comment_id":46906476,"body_markdown":"Run my code. The program expects the user to input rain quantity for 12 months. Now input 1 for month1year1, 1 for month2year1, and same for the rest 10 months. As a result the total rain is 12 since you inputted 1*12 and average rain is the total/num_of_month which is 12/12 = 1. So your average rain per month is 1 inch which is correct.","body":"Run my code. The program expects the user to input rain quantity for 12 months. Now input 1 for month1year1, 1 for month2year1, and same for the rest 10 months. As a result the total rain is 12 since you inputted 1*12 and average rain is the total/num_of_month which is 12/12 = 1. So your average rain per month is 1 inch which is correct."},{"owner":{"account_id":6026469,"reputation":9,"user_id":4731994,"accept_rate":100,"display_name":"LizzySmit"},"score":0,"creation_date":1427780749,"post_id":29361052,"comment_id":46906591,"body_markdown":"I ran your code and it does work beautifully. However I need it to work for more than one year.","body":"I ran your code and it does work beautifully. However I need it to work for more than one year."},{"owner":{"account_id":5603010,"reputation":984,"user_id":4438634,"accept_rate":39,"display_name":"Ziad Halabi"},"score":0,"creation_date":1427780858,"post_id":29361052,"comment_id":46906635,"body_markdown":"You can change the year and it will still work. Just integrate my code with your code where the user inputs the number of years.","body":"You can change the year and it will still work. Just integrate my code with your code where the user inputs the number of years."},{"owner":{"account_id":6026469,"reputation":9,"user_id":4731994,"accept_rate":100,"display_name":"LizzySmit"},"score":0,"creation_date":1427782225,"post_id":29361052,"comment_id":46907256,"body_markdown":"That worked quite well once I actually put it all together. sorry I was being dense","body":"That worked quite well once I actually put it all together. sorry I was being dense"},{"owner":{"account_id":5603010,"reputation":984,"user_id":4438634,"accept_rate":39,"display_name":"Ziad Halabi"},"score":0,"creation_date":1427782587,"post_id":29361052,"comment_id":46907415,"body_markdown":"You&#39;re welcome. That is because I started testing it before you posted the whole code. You said my solution worked and now you upvoted the other solution that was later posted.","body":"You&#39;re welcome. That is because I started testing it before you posted the whole code. You said my solution worked and now you upvoted the other solution that was later posted."}],"tags":[],"owner":{"account_id":5603010,"reputation":984,"user_id":4438634,"accept_rate":39,"display_name":"Ziad Halabi"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427780064,"creation_date":1427778960,"answer_id":29361052,"question_id":29360889,"body_markdown":"What you can do is add to the total of Rain each time the user inputs a month rain. Then you can do the average once he finishes inputting data.\r\n\r\n`import java.util.Scanner;\r\npublic class test {\r\n\r\n\tpublic static void main(String[]args){\r\n\t\tdouble monthRain=0;\r\n\t\tdouble totalRain=0;\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n\t\tint years = 1;\r\n\t\tint NUM_MONTHS = 12;\r\n\t\tSystem.out.println(&quot;Enter the rainfall, in inches, for each month. &quot;);\r\n\t\tfor(int y = 1; y &lt;= years; y++){\r\n\t\t\tfor(int m = 1; m &lt;= NUM_MONTHS; m++){\r\n\r\n\t\t\t\tSystem.out.print(&quot;Year&quot; + y + &quot;month&quot; + m + &quot;: &quot;);\r\n\t\t\t\tmonthRain = keyboard.nextDouble(); \r\n\t\t\t\ttotalRain+=monthRain;\r\n\t\t\t}\r\n\t\t}\r\n\t\tint totalMonth = years*NUM_MONTHS;\r\n\t\tSystem.out.println(&quot;\\nNumber of months: &quot; + totalMonth );\r\n\t\tSystem.out.println(&quot;Total Rain: &quot;+totalRain+&quot; inches&quot;);\r\n\t\tdouble average = totalRain / totalMonth;\r\n\t\tSystem.out.println(&quot;Average monthly rainfall: &quot; + average + &quot; inches&quot;);\r\n\r\n\t}\r\n\r\n}\r\n`","title":"when executing program, extra input command causes logical errors java","body":"<p>What you can do is add to the total of Rain each time the user inputs a month rain. Then you can do the average once he finishes inputting data.</p>\n\n<p>`import java.util.Scanner;\npublic class test {</p>\n\n<pre><code>public static void main(String[]args){\n    double monthRain=0;\n    double totalRain=0;\n    Scanner keyboard = new Scanner(System.in);\n    int years = 1;\n    int NUM_MONTHS = 12;\n    System.out.println(\"Enter the rainfall, in inches, for each month. \");\n    for(int y = 1; y &lt;= years; y++){\n        for(int m = 1; m &lt;= NUM_MONTHS; m++){\n\n            System.out.print(\"Year\" + y + \"month\" + m + \": \");\n            monthRain = keyboard.nextDouble(); \n            totalRain+=monthRain;\n        }\n    }\n    int totalMonth = years*NUM_MONTHS;\n    System.out.println(\"\\nNumber of months: \" + totalMonth );\n    System.out.println(\"Total Rain: \"+totalRain+\" inches\");\n    double average = totalRain / totalMonth;\n    System.out.println(\"Average monthly rainfall: \" + average + \" inches\");\n\n}\n</code></pre>\n\n<p>}\n`</p>\n"},{"comments":[{"owner":{"account_id":6026469,"reputation":9,"user_id":4731994,"accept_rate":100,"display_name":"LizzySmit"},"score":0,"creation_date":1427782188,"post_id":29361523,"comment_id":46907238,"body_markdown":"There was a brace missing in the final code, but that was taken care of when I integrated it. Thank you very much, that worked perfectly","body":"There was a brace missing in the final code, but that was taken care of when I integrated it. Thank you very much, that worked perfectly"}],"tags":[],"owner":{"account_id":1327847,"reputation":5665,"user_id":1272318,"accept_rate":48,"display_name":"Touchstone"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1427781300,"creation_date":1427781300,"answer_id":29361523,"question_id":29360889,"body_markdown":"You were using unnecessary braces. Moreover, some logical flaws were also present in your code. I have fixed your code. Please refer the following code:\r\n\r\n    import java.util.Scanner; //for Scanner class\r\n\r\n    public class AverageRainfall {\r\n\t public static void main(String[] args) {\r\n\t\tfinal int NUM_MONTHS = 12; // Months per year\r\n\t\tint years; // Number of years\r\n\t\tdouble monthRain=0; // Rain for a month\r\n\t\tdouble totalRain = 0; // Rainfall accumulator\r\n\t\tdouble average; // Average rainfall\r\n\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n\r\n\t\tSystem.out.print(&quot;Enter the number of years: &quot;);\r\n\t\tyears = keyboard.nextInt();\r\n\r\n\t\twhile (years &lt; 1) {\r\n\t\t\tSystem.out.print(&quot;Invalid. Enter 1 or greater: &quot;);\r\n\t\t\tyears = keyboard.nextInt();\r\n\t\t\r\n\t\t}\r\n\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter the rainfall, in inches, for each month. &quot;);\r\n\t\tfor (int y = 1; y &lt;= years; y++) {\r\n\r\n\t\t\tfor (int m = 1; m &lt;= NUM_MONTHS; m++) {\r\n\r\n\t\t\t\tSystem.out.print(&quot;Year&quot; + y + &quot;month&quot; + m + &quot;: &quot;);\r\n\t\t\t\tmonthRain = keyboard.nextDouble();\r\n\t\t\t\t\t\r\n\t\t\t\twhile (monthRain &lt; 0) {\r\n\t\t\t\t\tSystem.out.print(&quot;Invalid. Enter 0 or greater: &quot;);\r\n\t\t\t\t\tmonthRain = keyboard.nextDouble();\r\n\t\t\t\t}\r\n\t\t\t\ttotalRain += monthRain;\r\n\t\t\t}\t\r\n\t\t}\t\r\n\t\t\r\n\r\n\t\t\r\n\t\t\r\n\r\n\t\taverage = totalRain / (years * NUM_MONTHS);\r\n\r\n\t\tSystem.out.println(&quot;\\nNumber of months: &quot; + (years * NUM_MONTHS));\r\n\t\tSystem.out.println(&quot;Total rainfall: &quot; + totalRain + &quot; inches&quot;);\r\n\t\tSystem.out.println(&quot;Average monthly rainfall: &quot; + average\r\n\t\t\t\t\t+ &quot; inches&quot;);\r\n\t\t\r\n\t }\r\n    }","title":"when executing program, extra input command causes logical errors java","body":"<p>You were using unnecessary braces. Moreover, some logical flaws were also present in your code. I have fixed your code. Please refer the following code:</p>\n\n<pre><code>import java.util.Scanner; //for Scanner class\n\npublic class AverageRainfall {\n public static void main(String[] args) {\n    final int NUM_MONTHS = 12; // Months per year\n    int years; // Number of years\n    double monthRain=0; // Rain for a month\n    double totalRain = 0; // Rainfall accumulator\n    double average; // Average rainfall\n\n    Scanner keyboard = new Scanner(System.in);\n\n    System.out.print(\"Enter the number of years: \");\n    years = keyboard.nextInt();\n\n    while (years &lt; 1) {\n        System.out.print(\"Invalid. Enter 1 or greater: \");\n        years = keyboard.nextInt();\n\n    }\n\n\n    System.out.println(\"Enter the rainfall, in inches, for each month. \");\n    for (int y = 1; y &lt;= years; y++) {\n\n        for (int m = 1; m &lt;= NUM_MONTHS; m++) {\n\n            System.out.print(\"Year\" + y + \"month\" + m + \": \");\n            monthRain = keyboard.nextDouble();\n\n            while (monthRain &lt; 0) {\n                System.out.print(\"Invalid. Enter 0 or greater: \");\n                monthRain = keyboard.nextDouble();\n            }\n            totalRain += monthRain;\n        }   \n    }   \n\n\n\n\n\n    average = totalRain / (years * NUM_MONTHS);\n\n    System.out.println(\"\\nNumber of months: \" + (years * NUM_MONTHS));\n    System.out.println(\"Total rainfall: \" + totalRain + \" inches\");\n    System.out.println(\"Average monthly rainfall: \" + average\n                + \" inches\");\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":6026469,"reputation":9,"user_id":4731994,"accept_rate":100,"display_name":"LizzySmit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29361523,"answer_count":2,"score":0,"last_activity_date":1686009840,"creation_date":1427777907,"question_id":29360889,"body_markdown":"I am trying to execute a program called AverageRainfall. Most of the input works well (my while statement at the beginning is fine), but there are multiple months under the variable monthRain, and the while statement for monthRain is not functioning with the various months, only the initial input command, which is serving no purpose. \r\n\r\nETA: Posting entire code for testing\r\n\r\n      import java.util.Scanner; //for Scanner class\r\n\r\n      public class AverageRainfall\r\n      {\r\n      public static void main(String[] args)\r\n      {\r\n         final int NUM_MONTHS = 12;\t\t//Months per year\r\n         int years;\t\t\t\t\t    //Number of years\r\n         double monthRain;\t\t\t\t\t//Rain for a month\r\n         double totalRain = 0;\t\t\t\t//Rainfall accumulator\r\n         double average;\t\t\t\t\t//Average rainfall\r\n      \r\n         Scanner keyboard = new Scanner(System.in);\r\n      \r\n         {\r\n         System.out.print(&quot;Enter the number of years: &quot;);\r\n         years = keyboard.nextInt();\r\n      \r\n         while (years &lt; 1)\r\n            {\r\n            System.out.print(&quot;Invalid. Enter 1 or greater: &quot;);\r\n            years = keyboard.nextInt();\r\n            }\r\n         }\r\n      \r\n          { \r\n             System.out.println(&quot;Enter the rainfall, in inches, for each month. &quot;);\r\n             monthRain = keyboard.nextDouble();\r\n         \r\n             for(int y = 1; y &lt;= years; y++){\r\n         \r\n               for(int m = 1; m &lt;= NUM_MONTHS; m++){\r\n           \r\n           System.out.print(&quot;Year&quot; + y + &quot;month&quot; + m + &quot;: &quot;);\r\n           monthRain = keyboard.nextDouble(); \r\n           }\r\n           }\r\n           while (monthRain &lt; 0)\r\n          {\r\n             System.out.print(&quot;Invalid. Enter 0 or greater: &quot;);\r\n             monthRain = keyboard.nextDouble();\r\n          }\r\n          }  \r\n        \r\n           {\r\n            totalRain += monthRain;\r\n        \r\n            average = totalRain / (years * NUM_MONTHS);\r\n        \r\n            System.out.println(&quot;\\nNumber of months: &quot; + (years * NUM_MONTHS) );\r\n            System.out.println(&quot;Total rainfall: &quot; + totalRain + &quot; inches&quot;);\r\n            System.out.println(&quot;Average monthly rainfall: &quot; + average + &quot; inches&quot;);\r\n           }\r\n        }\r\n    }\r\n\r\n\r\nThis is the entire code.","title":"when executing program, extra input command causes logical errors java","body":"<p>I am trying to execute a program called AverageRainfall. Most of the input works well (my while statement at the beginning is fine), but there are multiple months under the variable monthRain, and the while statement for monthRain is not functioning with the various months, only the initial input command, which is serving no purpose. </p>\n\n<p>ETA: Posting entire code for testing</p>\n\n<pre><code>  import java.util.Scanner; //for Scanner class\n\n  public class AverageRainfall\n  {\n  public static void main(String[] args)\n  {\n     final int NUM_MONTHS = 12;     //Months per year\n     int years;                     //Number of years\n     double monthRain;                  //Rain for a month\n     double totalRain = 0;              //Rainfall accumulator\n     double average;                    //Average rainfall\n\n     Scanner keyboard = new Scanner(System.in);\n\n     {\n     System.out.print(\"Enter the number of years: \");\n     years = keyboard.nextInt();\n\n     while (years &lt; 1)\n        {\n        System.out.print(\"Invalid. Enter 1 or greater: \");\n        years = keyboard.nextInt();\n        }\n     }\n\n      { \n         System.out.println(\"Enter the rainfall, in inches, for each month. \");\n         monthRain = keyboard.nextDouble();\n\n         for(int y = 1; y &lt;= years; y++){\n\n           for(int m = 1; m &lt;= NUM_MONTHS; m++){\n\n       System.out.print(\"Year\" + y + \"month\" + m + \": \");\n       monthRain = keyboard.nextDouble(); \n       }\n       }\n       while (monthRain &lt; 0)\n      {\n         System.out.print(\"Invalid. Enter 0 or greater: \");\n         monthRain = keyboard.nextDouble();\n      }\n      }  \n\n       {\n        totalRain += monthRain;\n\n        average = totalRain / (years * NUM_MONTHS);\n\n        System.out.println(\"\\nNumber of months: \" + (years * NUM_MONTHS) );\n        System.out.println(\"Total rainfall: \" + totalRain + \" inches\");\n        System.out.println(\"Average monthly rainfall: \" + average + \" inches\");\n       }\n    }\n}\n</code></pre>\n\n<p>This is the entire code.</p>\n"},{"tags":["java","eclipse","darkmode","sts"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1685883718,"post_id":76400222,"comment_id":134720262,"body_markdown":"The darkes theme plugin patches Eclipse via loadtime weaving which can cause issues and slow down Eclipse (the vendor of this plugin tries to cheat the open source license of Eclipse by doing so). If you don&#39;t like the built-in themes, there are other dark themes that are more ergonomic and don&#39;t do this.","body":"The darkes theme plugin patches Eclipse via loadtime weaving which can cause issues and slow down Eclipse (the vendor of this plugin tries to cheat the open source license of Eclipse by doing so). If you don&#39;t like the built-in themes, there are other dark themes that are more ergonomic and don&#39;t do this."}],"owner":{"account_id":16843971,"reputation":11,"user_id":12178652,"display_name":"Prajwal Makanwar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686009564,"creation_date":1685878952,"question_id":76400222,"body_markdown":"```\r\nAn error occurred while collecting items to be installed\r\nsession context was:(profile=DefaultProfile, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for 810cecf8ba271008.\r\nOK\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for 810cecf8ba271008.\r\nOK\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for 70b824d9a6b4ae29.\r\nOK\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for 70b824d9a6b4ae29.\r\nOK\r\n```\r\nI&#39;ve tried restarting &amp; updating sts to but getting same error ","title":"getting error while installing darkest theme in sts","body":"<pre><code>An error occurred while collecting items to be installed\nsession context was:(profile=DefaultProfile, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for 810cecf8ba271008.\nOK\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for 810cecf8ba271008.\nOK\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for 70b824d9a6b4ae29.\nOK\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for 70b824d9a6b4ae29.\nOK\n</code></pre>\n<p>I've tried restarting &amp; updating sts to but getting same error</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1685928013,"post_id":76402983,"comment_id":134724761,"body_markdown":"Wondering what that is and why it has to be a &quot;negative&quot;.    -lastNegativeDiscountedCashFlow     Also it would be done safer with circular brackets to define the precedence order of the calculations.","body":"Wondering what that is and why it has to be a &quot;negative&quot;.    -lastNegativeDiscountedCashFlow     Also it would be done safer with circular brackets to define the precedence order of the calculations."},{"owner":{"account_id":11235646,"reputation":919,"user_id":8241951,"display_name":"Byte Ninja"},"score":0,"creation_date":1685928593,"post_id":76402983,"comment_id":134724803,"body_markdown":"The method `calculateDiscountedPaybackPeriod` return type in signature is `double` but you return `int` at the end of method!","body":"The method <code>calculateDiscountedPaybackPeriod</code> return type in signature is <code>double</code> but you return <code>int</code> at the end of method!"},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1685929078,"post_id":76402983,"comment_id":134724842,"body_markdown":"are you calling your method with the correct values? you provide a calculateDiscountedPaybackPeriod() with 3 params, but you call it with 2 params. I assume you have an overload with 2 params that provides a default value that may be different from the test case initialInvestment?","body":"are you calling your method with the correct values? you provide a calculateDiscountedPaybackPeriod() with 3 params, but you call it with 2 params. I assume you have an overload with 2 params that provides a default value that may be different from the test case initialInvestment?"},{"owner":{"account_id":12717944,"reputation":1,"user_id":9239335,"display_name":"B_N"},"score":0,"creation_date":1685932824,"post_id":76402983,"comment_id":134725132,"body_markdown":"@SamuelMarchant its to determine the fractional part of the &quot;period&quot; when the cumulative discounted cash flow becomes positive. also, i tried wrapping it in brackets nothing worked.","body":"@SamuelMarchant its to determine the fractional part of the &quot;period&quot; when the cumulative discounted cash flow becomes positive. also, i tried wrapping it in brackets nothing worked."},{"owner":{"account_id":12717944,"reputation":1,"user_id":9239335,"display_name":"B_N"},"score":0,"creation_date":1685932901,"post_id":76402983,"comment_id":134725136,"body_markdown":"@HosseinTaghizad I changed the return type to double return (double) period. but no change.","body":"@HosseinTaghizad I changed the return type to double return (double) period. but no change."},{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1685936769,"post_id":76402983,"comment_id":134725387,"body_markdown":"Do you pass the `initialInvestment` to the `calculateDiscountedPaybackPeriod` method? Can&#39;t see it in the test method.","body":"Do you pass the <code>initialInvestment</code> to the <code>calculateDiscountedPaybackPeriod</code> method? Can&#39;t see it in the test method."},{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1685980441,"post_id":76402983,"comment_id":134733491,"body_markdown":"In your method `calculateDiscountedPaybackPeriod`, the contents of the if statement never executes since the `period &lt; cashFlows.size()` condition always evaluates to `false`. If you closely look on the while loop above, you can see the exits when `period` is greater than or equal to `cashFlows.size()`. Which means by the time the if statement is executed, `period` is already greater than or equals to `cashFlows.size()`.","body":"In your method <code>calculateDiscountedPaybackPeriod</code>, the contents of the if statement never executes since the <code>period &lt; cashFlows.size()</code> condition always evaluates to <code>false</code>. If you closely look on the while loop above, you can see the exits when <code>period</code> is greater than or equal to <code>cashFlows.size()</code>. Which means by the time the if statement is executed, <code>period</code> is already greater than or equals to <code>cashFlows.size()</code>."}],"answers":[{"tags":[],"owner":{"account_id":11235646,"reputation":919,"user_id":8241951,"display_name":"Byte Ninja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685987390,"creation_date":1685987390,"answer_id":76408855,"question_id":76402983,"body_markdown":"Try this implementation of method *calculateDiscountedPaybackPeriod()*. It takes *initial investment*, *discount rate*, and *cash flow list* as input and returns Discounted Payback Period (DPP).\r\n\r\n    public static double calculateDiscountedPaybackPeriod(double initialInvestment, double discountRate, List&lt;Double&gt; cashFlows) {\r\n        cashFlows.add(0, -initialInvestment);\r\n        List&lt;Double&gt; PV = new ArrayList&lt;&gt;();    //Present Value\r\n        List&lt;Double&gt; DCF = new ArrayList&lt;&gt;();   //Discounted Cash Flow\r\n        List&lt;Double&gt; CCF = new ArrayList&lt;&gt;();   //Cumulative Discounted Cash Flow\r\n        CCF.add(0, -initialInvestment);\r\n        int x = 0;    //x is the last time period where CCF was negative\r\n        double y = 0; //y is the absolute value of the CCF at the end of period X\r\n        for (int j = 0; j &lt; cashFlows.size(); j++) {\r\n            PV.add(j, 1 / Math.pow((1 + discountRate), j));\r\n            DCF.add(j, cashFlows.get(j) * PV.get(j));\r\n            CCF.add(j, DCF.stream().mapToDouble(Double::doubleValue).sum());\r\n            if (CCF.get(j) &gt; 0) {\r\n                x = j - 1;\r\n                y = Math.abs(CCF.get(x));\r\n            }\r\n        }\r\n        double z = DCF.get(x + 1);  //z is the value of the DCF in the next period after x\r\n        return x + y / z;     //The Discounted Payback Period (DPP) is x + y/z\r\n    }\r\n\r\nCalling it with\r\n\r\n    public static void main(String[] args) {\r\n\r\n        double initialInvestment = 10000.0;\r\n        double discountRate = .05;\r\n        List&lt;Double&gt; cashFlows = Stream.of(1000.0, 2000.0, 3000.0, 4000.0, 5000.0).collect(Collectors.toList());\r\n        double DDP = DiscountedPaybackPeriod.calculateDiscountedPaybackPeriod(initialInvestment, discountRate, cashFlows);\r\n        System.out.println(DDP);\r\n    }\r\n\r\nretuned `DDP = 4.344911875`","title":"Discounted payback period: java formula","body":"<p>Try this implementation of method <em>calculateDiscountedPaybackPeriod()</em>. It takes <em>initial investment</em>, <em>discount rate</em>, and <em>cash flow list</em> as input and returns Discounted Payback Period (DPP).</p>\n<pre><code>public static double calculateDiscountedPaybackPeriod(double initialInvestment, double discountRate, List&lt;Double&gt; cashFlows) {\n    cashFlows.add(0, -initialInvestment);\n    List&lt;Double&gt; PV = new ArrayList&lt;&gt;();    //Present Value\n    List&lt;Double&gt; DCF = new ArrayList&lt;&gt;();   //Discounted Cash Flow\n    List&lt;Double&gt; CCF = new ArrayList&lt;&gt;();   //Cumulative Discounted Cash Flow\n    CCF.add(0, -initialInvestment);\n    int x = 0;    //x is the last time period where CCF was negative\n    double y = 0; //y is the absolute value of the CCF at the end of period X\n    for (int j = 0; j &lt; cashFlows.size(); j++) {\n        PV.add(j, 1 / Math.pow((1 + discountRate), j));\n        DCF.add(j, cashFlows.get(j) * PV.get(j));\n        CCF.add(j, DCF.stream().mapToDouble(Double::doubleValue).sum());\n        if (CCF.get(j) &gt; 0) {\n            x = j - 1;\n            y = Math.abs(CCF.get(x));\n        }\n    }\n    double z = DCF.get(x + 1);  //z is the value of the DCF in the next period after x\n    return x + y / z;     //The Discounted Payback Period (DPP) is x + y/z\n}\n</code></pre>\n<p>Calling it with</p>\n<pre><code>public static void main(String[] args) {\n\n    double initialInvestment = 10000.0;\n    double discountRate = .05;\n    List&lt;Double&gt; cashFlows = Stream.of(1000.0, 2000.0, 3000.0, 4000.0, 5000.0).collect(Collectors.toList());\n    double DDP = DiscountedPaybackPeriod.calculateDiscountedPaybackPeriod(initialInvestment, discountRate, cashFlows);\n    System.out.println(DDP);\n}\n</code></pre>\n<p>retuned <code>DDP = 4.344911875</code></p>\n"}],"owner":{"account_id":12717944,"reputation":1,"user_id":9239335,"display_name":"B_N"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686009388,"creation_date":1685926192,"question_id":76402983,"body_markdown":"I am trying to calculate the discounted payback period using this but it keeps failing the test: \r\n```\r\n//test method \r\n@Test\r\npublic void testCalculateDiscountedPaybackPeriod() {\r\n    double initialInvestment = 10000.0;\r\n    List&lt;Double&gt; cashFlows = Arrays.asList(1000.0, 2000.0, 3000.0, 4000.0, 5000.0);\r\n    double discountRate = 5.0;\r\n    double expResult = 4.37; \r\n    double result = calculations.calculateDiscountedPaybackPeriod(cashFlows, discountRate);\r\n    assertEquals(expResult, result, 0.01); \r\n}\r\n//calculateDiscountedPaybackPeriod method: \r\n public static double calculateDiscountedPaybackPeriod(Double initialInvestment, List&lt;Double&gt; cashFlows, double discountRate) {\r\n    double cumulativeDiscountedCashFlow = -initialInvestment;\r\n    int period = 0;\r\n    while (cumulativeDiscountedCashFlow &lt; 0 &amp;&amp; period &lt; cashFlows.size()) {\r\n        cumulativeDiscountedCashFlow += (cashFlows.get(period) / Math.pow(1 + discountRate, period));\r\n        period++;\r\n    }\r\n    if (period &gt; 0 &amp;&amp; period &lt; cashFlows.size()) {\r\n        double lastNegativeDiscountedCashFlow = cumulativeDiscountedCashFlow - (cashFlows.get(period - 1) / Math.pow(1 + discountRate, period - 1));\r\n        double fraction = -lastNegativeDiscountedCashFlow / (cashFlows.get(period) / Math.pow(1 + discountRate, period));\r\n        period += fraction;\r\n    }\r\n    return period;\r\n}\r\n\r\n```\r\n\r\n\r\nSo instead of giving 4.37, the answer its giving is 5. How do I correct the main method so that test can pass? ","title":"Discounted payback period: java formula","body":"<p>I am trying to calculate the discounted payback period using this but it keeps failing the test:</p>\n<pre><code>//test method \n@Test\npublic void testCalculateDiscountedPaybackPeriod() {\n    double initialInvestment = 10000.0;\n    List&lt;Double&gt; cashFlows = Arrays.asList(1000.0, 2000.0, 3000.0, 4000.0, 5000.0);\n    double discountRate = 5.0;\n    double expResult = 4.37; \n    double result = calculations.calculateDiscountedPaybackPeriod(cashFlows, discountRate);\n    assertEquals(expResult, result, 0.01); \n}\n//calculateDiscountedPaybackPeriod method: \n public static double calculateDiscountedPaybackPeriod(Double initialInvestment, List&lt;Double&gt; cashFlows, double discountRate) {\n    double cumulativeDiscountedCashFlow = -initialInvestment;\n    int period = 0;\n    while (cumulativeDiscountedCashFlow &lt; 0 &amp;&amp; period &lt; cashFlows.size()) {\n        cumulativeDiscountedCashFlow += (cashFlows.get(period) / Math.pow(1 + discountRate, period));\n        period++;\n    }\n    if (period &gt; 0 &amp;&amp; period &lt; cashFlows.size()) {\n        double lastNegativeDiscountedCashFlow = cumulativeDiscountedCashFlow - (cashFlows.get(period - 1) / Math.pow(1 + discountRate, period - 1));\n        double fraction = -lastNegativeDiscountedCashFlow / (cashFlows.get(period) / Math.pow(1 + discountRate, period));\n        period += fraction;\n    }\n    return period;\n}\n\n</code></pre>\n<p>So instead of giving 4.37, the answer its giving is 5. How do I correct the main method so that test can pass?</p>\n"},{"tags":["java","android","openai-api","socket-timeout-exception"],"comments":[{"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"score":0,"creation_date":1684174590,"post_id":76256469,"comment_id":134475726,"body_markdown":"As per TheoKanning openAi documentation you can pass timeout as OkHttpClient client = defaultClient(token, timeout) or   OpenAiService service = new OpenAiService(myKey, 30); //  The default value is 10 seconds, so you can set it to a higher value, such as 30 seconds","body":"As per TheoKanning openAi documentation you can pass timeout as OkHttpClient client = defaultClient(token, timeout) or   OpenAiService service = new OpenAiService(myKey, 30); //  The default value is 10 seconds, so you can set it to a higher value, such as 30 seconds"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684174645,"post_id":76256469,"comment_id":134475735,"body_markdown":"The SocketTimeOut is optional and is designed to close connections that don&#39;t have data transmission for a certain time. You can increase it to multiple minutes or simply disable it by setting it to 0.","body":"The SocketTimeOut is optional and is designed to close connections that don&#39;t have data transmission for a certain time. You can increase it to multiple minutes or simply disable it by setting it to 0."},{"owner":{"account_id":191004,"reputation":5556,"user_id":431296,"display_name":"Stan Kurdziel"},"score":0,"creation_date":1686012504,"post_id":76256469,"comment_id":134737985,"body_markdown":"Ask ChatGPT?   ;-)","body":"Ask ChatGPT?   ;-)"}],"answers":[{"tags":[],"owner":{"account_id":228633,"reputation":3657,"user_id":491066,"accept_rate":38,"display_name":"paiego"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686008525,"creation_date":1686008525,"answer_id":76410609,"question_id":76256469,"body_markdown":"The second parameter to OpenAiService is the timeout specified as Duration. Here is 60 seconds.\r\n\r\n    OpenAiService api = new OpenAiService(OPENAI_API_KEY, Duration.ofSeconds(60));","title":"How do I stop java.net.SocketTimeoutException: timeout whilst using the ChatGPT API for my Android app?","body":"<p>The second parameter to OpenAiService is the timeout specified as Duration. Here is 60 seconds.</p>\n<pre><code>OpenAiService api = new OpenAiService(OPENAI_API_KEY, Duration.ofSeconds(60));\n</code></pre>\n"}],"owner":{"account_id":20198137,"reputation":29,"user_id":14814581,"display_name":"TYG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686008525,"creation_date":1684170898,"question_id":76256469,"body_markdown":"I have the issue where whenever I attempt to get a response from the [ChatGPT Java API by Theo Kanning][1], I get the error message ```java.net.SocketTimeoutException: timeout``` after waiting ~10 seconds. I was wondering if there is a way to extend the limit, as all of the responses I&#39;ve seen before regarding this error code mention ```OkHttp``` which I am not using, or editing ```CONTEXT.XML``` which I cannot find in my project files.\r\n\r\nThe code:\r\n```\r\n// [rest of function, does not include Socket class]\r\nThread thread = new Thread(new Runnable() {\r\n  @Override\r\n  public void run() {\r\n    try {\r\n      String response = queryGPT();\r\n      System.out.println(response);\r\n    } catch (Exception e) {\r\n      System.out.println(&quot;There was an error: &quot;+e);\r\n    }\r\n  }\r\n});\r\nthread.start();\r\n```\r\n\r\n```\r\nqueryGPT() {\r\n  String query = myQuery;\r\n  OpenAiService service = new OpenAiService(myKey);\r\n  CompletionRequest request = CompletionRequest.builder()\r\n    .prompt(myQuery)\r\n    .model(&quot;text-davinci-003&quot;)\r\n    .temperature(0.5)\r\n    .maxTokens(1500)\r\n    .frequencyPenalty(0.0)\r\n    .presencePenalty(0.0)\r\n    .bestOf(1)\r\n    .echo(false)\r\n    .build();\r\n  List&lt;CompletionChoice&gt; response = service.createCompletion(request).getChoices();\r\n  return response.get(0).getText();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/TheoKanning/openai-java","title":"How do I stop java.net.SocketTimeoutException: timeout whilst using the ChatGPT API for my Android app?","body":"<p>I have the issue where whenever I attempt to get a response from the <a href=\"https://github.com/TheoKanning/openai-java\" rel=\"nofollow noreferrer\">ChatGPT Java API by Theo Kanning</a>, I get the error message <code>java.net.SocketTimeoutException: timeout</code> after waiting ~10 seconds. I was wondering if there is a way to extend the limit, as all of the responses I've seen before regarding this error code mention <code>OkHttp</code> which I am not using, or editing <code>CONTEXT.XML</code> which I cannot find in my project files.</p>\n<p>The code:</p>\n<pre><code>// [rest of function, does not include Socket class]\nThread thread = new Thread(new Runnable() {\n  @Override\n  public void run() {\n    try {\n      String response = queryGPT();\n      System.out.println(response);\n    } catch (Exception e) {\n      System.out.println(&quot;There was an error: &quot;+e);\n    }\n  }\n});\nthread.start();\n</code></pre>\n<pre><code>queryGPT() {\n  String query = myQuery;\n  OpenAiService service = new OpenAiService(myKey);\n  CompletionRequest request = CompletionRequest.builder()\n    .prompt(myQuery)\n    .model(&quot;text-davinci-003&quot;)\n    .temperature(0.5)\n    .maxTokens(1500)\n    .frequencyPenalty(0.0)\n    .presencePenalty(0.0)\n    .bestOf(1)\n    .echo(false)\n    .build();\n  List&lt;CompletionChoice&gt; response = service.createCompletion(request).getChoices();\n  return response.get(0).getText();\n}\n</code></pre>\n"},{"tags":["java","reflection","annotations"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1682427590,"post_id":76086589,"comment_id":134210795,"body_markdown":"Does it throw exceptions (that you then ignore)? If yes, what are they?","body":"Does it throw exceptions (that you then ignore)? If yes, what are they?"},{"owner":{"account_id":8473468,"reputation":1,"user_id":8276787,"display_name":"clincks"},"score":0,"creation_date":1686005888,"post_id":76086589,"comment_id":134737485,"body_markdown":"It returns NoSuchMethodException. (See my comment bellow). Thanks for your help.","body":"It returns NoSuchMethodException. (See my comment bellow). Thanks for your help."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686007993,"post_id":76086589,"comment_id":134737655,"body_markdown":"No, it *throws* `NoSuchMethodException`.","body":"No, it <i>throws</i> <code>NoSuchMethodException</code>."}],"answers":[{"comments":[{"owner":{"account_id":8473468,"reputation":1,"user_id":8276787,"display_name":"clincks"},"score":0,"creation_date":1686005938,"post_id":76086622,"comment_id":134737489,"body_markdown":"I added a comment by mistake in the wrong place. Please read bellow. Thanks","body":"I added a comment by mistake in the wrong place. Please read bellow. Thanks"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682275247,"creation_date":1682275247,"answer_id":76086622,"question_id":76086589,"body_markdown":"catching exceptions and ignoring them, then, when things don&#39;t work, running to Stack Overflow is rather obviously a very bad plan. Don&#39;t suppress exceptions unless you know __precisely__ how and why they occur.\r\n\r\nreflection&#39;s `.getMethod()` method __requires__ that you specify the precise method parameter types in addition to the name; in java terms, a method&#39;s full name is not _just_ the actual method name, it&#39;s the name AND the parameter types.\r\n\r\n`.getDeclaredMethod(&quot;myMethod&quot;, String.class, int.class, double.class)` finds that method. You can then ask for that annotation and you&#39;ll find it.\r\n\r\n`.getDeclaredMethod(&quot;myMethod&quot;);` doesn&#39;t find anything.\r\n\r\n","title":"Reflection not working as expected - NoSuchMethodException","body":"<p>catching exceptions and ignoring them, then, when things don't work, running to Stack Overflow is rather obviously a very bad plan. Don't suppress exceptions unless you know <strong>precisely</strong> how and why they occur.</p>\n<p>reflection's <code>.getMethod()</code> method <strong>requires</strong> that you specify the precise method parameter types in addition to the name; in java terms, a method's full name is not <em>just</em> the actual method name, it's the name AND the parameter types.</p>\n<p><code>.getDeclaredMethod(&quot;myMethod&quot;, String.class, int.class, double.class)</code> finds that method. You can then ask for that annotation and you'll find it.</p>\n<p><code>.getDeclaredMethod(&quot;myMethod&quot;);</code> doesn't find anything.</p>\n"}],"owner":{"account_id":8473468,"reputation":1,"user_id":8276787,"display_name":"clincks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686007908,"creation_date":1682274835,"question_id":76086589,"body_markdown":"I try to get statistics on method execution using an annotation on my code.\r\n\r\nHere is the code for the annotation:\r\n\r\n```\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\nimport java.lang.reflect.Method;\r\nimport java.util.function.Supplier;\r\n\r\nimport com.codahale.metrics.MetricRegistry;\r\nimport com.codahale.metrics.Timer;\r\n\r\npublic class StatsMethodCall {\r\n\t\r\n\t@Retention(RetentionPolicy.RUNTIME)\r\n\t@Target(ElementType.METHOD)\r\n\tpublic @interface Stats {\r\n\t}\r\n\t\r\n\tpublic static class StatsRegistry {\r\n\t\tprivate MetricRegistry metricRegistry;\r\n\r\n\t\tpublic StatsRegistry(final MetricRegistry metricRegistry) {\r\n\t\t\tthis.metricRegistry = metricRegistry;\r\n\t\t}\r\n\r\n\t\tpublic void addInvocation(final String methodName, final long duration) {\r\n\t\t\tTimer timer = metricRegistry.timer(methodName);\r\n\t\t\ttimer.update(duration, java.util.concurrent.TimeUnit.MILLISECONDS);\r\n\t\t}\r\n\r\n\t\tpublic Timer getTimer(final String methodName) {\r\n\t\t\treturn metricRegistry.timer(methodName);\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * Get the statistics based on the method name in the Stack.\r\n\t * This is a work around because it doesn&#39;t require the @Stats Annotation. \r\n\t * Check Method statsMethod2.\r\n\t * @param &lt;T&gt;\r\n\t * @param method\r\n\t * @param statsRegistry\r\n\t * @return\r\n\t */\r\n\tpublic static &lt;T&gt; T statsMethod(final Supplier&lt;T&gt; method, final StatsRegistry statsRegistry) {\r\n\t\tfinal String methodName = Thread.currentThread().getStackTrace()[2].getMethodName();\r\n\t\tT result;\r\n\t\tfinal Timer.Context timerContext = statsRegistry.getTimer(methodName).time();\r\n\t\ttry {\r\n\t\t\tresult = method.get();\r\n\t\t} finally {\r\n\t\t\ttimerContext.stop();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\t/**\r\n\t * Get the statistics based on the method with @Stats Annotation.\r\n\t * Doesn&#39;t work has expected\r\n\t * @param &lt;T&gt;\r\n\t * @param method\r\n\t * @param statsRegistry\r\n\t * @return\r\n\t */\r\n\tpublic static &lt;T&gt; T statsMethod2(final Supplier&lt;T&gt; method, final StatsRegistry statsRegistry) {\r\n\t\tString methodName = null;\r\n\t\tfor (final StackTraceElement element : Thread.currentThread().getStackTrace()) {\r\n\t\t\ttry {\r\n\t\t\t\tfinal Method m = Class.forName(element.getClassName()).getDeclaredMethod(element.getMethodName());\r\n\t\t\t\tif (m.getAnnotation(Stats.class) != null) {\r\n\t\t\t\t\tmethodName = m.getName();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t} catch (final ClassNotFoundException | NoSuchMethodException e) {\r\n\t\t\t\t// do nothing\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (methodName == null) {\r\n\t\t\tthrow new IllegalStateException(&quot;Cannot find method annotated with @&quot; + Stats.class.getSimpleName());\r\n\t\t}\r\n\r\n\t\tT result;\r\n\t\tfinal Timer.Context timerContext = statsRegistry.getTimer(methodName).time();\r\n\t\ttry {\r\n\t\t\tresult = method.get();\r\n\t\t} finally {\r\n\t\t\ttimerContext.stop();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n```\r\nAnd I try to test the code with JUnit\r\n\r\n\r\n```\r\n\r\nimport java.util.function.Supplier;\r\n\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport com.codahale.metrics.MetricRegistry;\r\nimport com.codahale.metrics.Timer;\r\n\r\nclass StatsMethodCallTest {\r\n\r\n\tstatic MetricRegistry metricRegistry = new MetricRegistry();\r\n\tstatic StatsRegistry registry = new StatsRegistry(metricRegistry);\r\n\tstatic MyClass myClass = new MyClass();\r\n\t\r\n\r\n\tpublic static class MyClass {\r\n\t\t@Stats\r\n\t\tpublic String myMethod(final String arg1, final int arg2, final double arg3) {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(10);\r\n\t\t\t} catch (final InterruptedException ie) {\r\n\t\t\t\tie.printStackTrace();\r\n\t\t\t}\r\n\t\t\tfinal String result = &quot;Hello &quot; + arg1 + &quot; &quot; + arg2 + &quot; &quot; + arg3;\r\n\t\t\tSystem.out.println(result);\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\n\t@BeforeAll\r\n\tstatic void setUpBeforeClass() throws Exception {\r\n\t\tmetricRegistry = new MetricRegistry();\r\n\t\tregistry = new StatsRegistry(metricRegistry);\r\n\t}\r\n\r\n\t@AfterAll\r\n\tstatic void tearDownAfterClass() throws Exception {\r\n\t}\r\n\r\n\t@BeforeEach\r\n\tvoid setUp() throws Exception {\r\n\t\t\r\n\t}\r\n\r\n\t@AfterEach\r\n\tvoid tearDown() throws Exception {\r\n\t}\r\n\r\n\t/**\r\n\t * Workaround - I&#39;m not fan of this\r\n\t */\r\n\t@Test\r\n\tfinal void test() {\r\n\t\t\r\n\t\tfor(int i =0; i &lt;100; i++) {\r\n\t\t\t//Here is the correct call\r\n\t\t\tStatsMethodCall.statsMethod(() -&gt; myClass.myMethod(&quot;foo&quot;, 42, 3.14), registry);\r\n\t\t}\r\n\t\t\r\n\t\t//I tried without Lambda Expression just in case it was related to this\r\n\t\tfor(int i = 0; i &lt; 100; i++) {\r\n\t\t\tStatsMethodCall.statsMethod(new Supplier&lt;Object&gt;() {\r\n        @Override\r\n        public Object get() {\r\n            return myClass.myMethod(&quot;foo&quot;, 42, 3.14);\r\n        }\r\n\t\t\t}, registry);\r\n\t\t}\t\t\r\n\t\t\r\n\t\t//This works but is weird code\r\n\t\tTimer timer = registry.getTimer(&quot;test&quot;);\r\n\t\tSystem.out.println(&quot;Invocation count: &quot; + timer.getCount());\r\n\t\tSystem.out.println(&quot;Min duration: &quot; + timer.getSnapshot().getMin());\r\n\t\tSystem.out.println(&quot;Max duration: &quot; + timer.getSnapshot().getMax());\r\n\t\tSystem.out.println(&quot;Avg duration: &quot; + timer.getSnapshot().getMean());\r\n\t\t\r\n\t\t//This doesn&#39;t work\r\n\t\tTimer timer2 = registry.getTimer(MyClass.class.getDeclaredMethods()[0].getName());\r\n\t\tSystem.out.println(&quot;Invocation count: &quot; + timer2.getCount());\r\n\t\tSystem.out.println(&quot;Min duration: &quot; + timer2.getSnapshot().getMin());\r\n\t\tSystem.out.println(&quot;Max duration: &quot; + timer2.getSnapshot().getMax());\r\n\t\tSystem.out.println(&quot;Avg duration: &quot; + timer2.getSnapshot().getMean());\r\n\t}\r\n\t\r\n\t/**\r\n\t * This is how I would like it works\r\n\t * Note: I&#39;m calling statsMethod2 here !\r\n\t */\r\n\t@Test\r\n\tfinal void test2() {\r\n\t\t\r\n\t\tfor(int i =0; i &lt;100; i++) {\r\n\t\t\t//Here is the correct call\r\n\t\t\tStatsMethodCall.statsMethod2(() -&gt; myClass.myMethod(&quot;foo&quot;, 42, 3.14), registry);\r\n\t\t}\r\n\t\t\t\t\r\n\t\tTimer timer = registry.getTimer(MyClass.class.getDeclaredMethods()[0].getName());\r\n\t\tSystem.out.println(&quot;Invocation count: &quot; + timer.getCount());\r\n\t\tSystem.out.println(&quot;Min duration: &quot; + timer.getSnapshot().getMin());\r\n\t\tSystem.out.println(&quot;Max duration: &quot; + timer.getSnapshot().getMax());\r\n\t\tSystem.out.println(&quot;Avg duration: &quot; + timer.getSnapshot().getMean());\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nHelp and explanation highly appreciated.\r\n\r\nThanks\r\nKind regards\r\n\r\n\r\nI expect that the Java Reflexion ill find the method with an anntation @Stats.\r\n\r\nBut there is no such method with @Stats annotation in the stack\r\nVery strange","title":"Reflection not working as expected - NoSuchMethodException","body":"<p>I try to get statistics on method execution using an annotation on my code.</p>\n<p>Here is the code for the annotation:</p>\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\nimport java.lang.reflect.Method;\nimport java.util.function.Supplier;\n\nimport com.codahale.metrics.MetricRegistry;\nimport com.codahale.metrics.Timer;\n\npublic class StatsMethodCall {\n    \n    @Retention(RetentionPolicy.RUNTIME)\n    @Target(ElementType.METHOD)\n    public @interface Stats {\n    }\n    \n    public static class StatsRegistry {\n        private MetricRegistry metricRegistry;\n\n        public StatsRegistry(final MetricRegistry metricRegistry) {\n            this.metricRegistry = metricRegistry;\n        }\n\n        public void addInvocation(final String methodName, final long duration) {\n            Timer timer = metricRegistry.timer(methodName);\n            timer.update(duration, java.util.concurrent.TimeUnit.MILLISECONDS);\n        }\n\n        public Timer getTimer(final String methodName) {\n            return metricRegistry.timer(methodName);\n        }\n    }\n    /**\n     * Get the statistics based on the method name in the Stack.\n     * This is a work around because it doesn't require the @Stats Annotation. \n     * Check Method statsMethod2.\n     * @param &lt;T&gt;\n     * @param method\n     * @param statsRegistry\n     * @return\n     */\n    public static &lt;T&gt; T statsMethod(final Supplier&lt;T&gt; method, final StatsRegistry statsRegistry) {\n        final String methodName = Thread.currentThread().getStackTrace()[2].getMethodName();\n        T result;\n        final Timer.Context timerContext = statsRegistry.getTimer(methodName).time();\n        try {\n            result = method.get();\n        } finally {\n            timerContext.stop();\n        }\n        return result;\n    }\n    /**\n     * Get the statistics based on the method with @Stats Annotation.\n     * Doesn't work has expected\n     * @param &lt;T&gt;\n     * @param method\n     * @param statsRegistry\n     * @return\n     */\n    public static &lt;T&gt; T statsMethod2(final Supplier&lt;T&gt; method, final StatsRegistry statsRegistry) {\n        String methodName = null;\n        for (final StackTraceElement element : Thread.currentThread().getStackTrace()) {\n            try {\n                final Method m = Class.forName(element.getClassName()).getDeclaredMethod(element.getMethodName());\n                if (m.getAnnotation(Stats.class) != null) {\n                    methodName = m.getName();\n                    break;\n                }\n            } catch (final ClassNotFoundException | NoSuchMethodException e) {\n                // do nothing\n            }\n        }\n        if (methodName == null) {\n            throw new IllegalStateException(&quot;Cannot find method annotated with @&quot; + Stats.class.getSimpleName());\n        }\n\n        T result;\n        final Timer.Context timerContext = statsRegistry.getTimer(methodName).time();\n        try {\n            result = method.get();\n        } finally {\n            timerContext.stop();\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>And I try to test the code with JUnit</p>\n<pre><code>\nimport java.util.function.Supplier;\n\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport com.codahale.metrics.MetricRegistry;\nimport com.codahale.metrics.Timer;\n\nclass StatsMethodCallTest {\n\n    static MetricRegistry metricRegistry = new MetricRegistry();\n    static StatsRegistry registry = new StatsRegistry(metricRegistry);\n    static MyClass myClass = new MyClass();\n    \n\n    public static class MyClass {\n        @Stats\n        public String myMethod(final String arg1, final int arg2, final double arg3) {\n            try {\n                Thread.sleep(10);\n            } catch (final InterruptedException ie) {\n                ie.printStackTrace();\n            }\n            final String result = &quot;Hello &quot; + arg1 + &quot; &quot; + arg2 + &quot; &quot; + arg3;\n            System.out.println(result);\n            return result;\n        }\n    }\n\n    @BeforeAll\n    static void setUpBeforeClass() throws Exception {\n        metricRegistry = new MetricRegistry();\n        registry = new StatsRegistry(metricRegistry);\n    }\n\n    @AfterAll\n    static void tearDownAfterClass() throws Exception {\n    }\n\n    @BeforeEach\n    void setUp() throws Exception {\n        \n    }\n\n    @AfterEach\n    void tearDown() throws Exception {\n    }\n\n    /**\n     * Workaround - I'm not fan of this\n     */\n    @Test\n    final void test() {\n        \n        for(int i =0; i &lt;100; i++) {\n            //Here is the correct call\n            StatsMethodCall.statsMethod(() -&gt; myClass.myMethod(&quot;foo&quot;, 42, 3.14), registry);\n        }\n        \n        //I tried without Lambda Expression just in case it was related to this\n        for(int i = 0; i &lt; 100; i++) {\n            StatsMethodCall.statsMethod(new Supplier&lt;Object&gt;() {\n        @Override\n        public Object get() {\n            return myClass.myMethod(&quot;foo&quot;, 42, 3.14);\n        }\n            }, registry);\n        }       \n        \n        //This works but is weird code\n        Timer timer = registry.getTimer(&quot;test&quot;);\n        System.out.println(&quot;Invocation count: &quot; + timer.getCount());\n        System.out.println(&quot;Min duration: &quot; + timer.getSnapshot().getMin());\n        System.out.println(&quot;Max duration: &quot; + timer.getSnapshot().getMax());\n        System.out.println(&quot;Avg duration: &quot; + timer.getSnapshot().getMean());\n        \n        //This doesn't work\n        Timer timer2 = registry.getTimer(MyClass.class.getDeclaredMethods()[0].getName());\n        System.out.println(&quot;Invocation count: &quot; + timer2.getCount());\n        System.out.println(&quot;Min duration: &quot; + timer2.getSnapshot().getMin());\n        System.out.println(&quot;Max duration: &quot; + timer2.getSnapshot().getMax());\n        System.out.println(&quot;Avg duration: &quot; + timer2.getSnapshot().getMean());\n    }\n    \n    /**\n     * This is how I would like it works\n     * Note: I'm calling statsMethod2 here !\n     */\n    @Test\n    final void test2() {\n        \n        for(int i =0; i &lt;100; i++) {\n            //Here is the correct call\n            StatsMethodCall.statsMethod2(() -&gt; myClass.myMethod(&quot;foo&quot;, 42, 3.14), registry);\n        }\n                \n        Timer timer = registry.getTimer(MyClass.class.getDeclaredMethods()[0].getName());\n        System.out.println(&quot;Invocation count: &quot; + timer.getCount());\n        System.out.println(&quot;Min duration: &quot; + timer.getSnapshot().getMin());\n        System.out.println(&quot;Max duration: &quot; + timer.getSnapshot().getMax());\n        System.out.println(&quot;Avg duration: &quot; + timer.getSnapshot().getMean());\n    }\n\n}\n\n</code></pre>\n<p>Help and explanation highly appreciated.</p>\n<p>Thanks\nKind regards</p>\n<p>I expect that the Java Reflexion ill find the method with an anntation @Stats.</p>\n<p>But there is no such method with @Stats annotation in the stack\nVery strange</p>\n"},{"tags":["java","spring","spring-boot","spring-framework-beans","spring-context"],"owner":{"account_id":3185615,"reputation":396,"user_id":2691300,"accept_rate":50,"display_name":"Suyash Khandwe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686006759,"creation_date":1686004797,"question_id":76410418,"body_markdown":"# Background\r\n\r\nI came across a piece of code that looks something like this -\r\n\r\n```java\r\npublic class TestClass {\r\n\r\n    @Profile(&quot;profile&quot;)\r\n    @Bean(name = &quot;beanMethodName&quot;) //I know this is not an accurate way of adding qualifier\r\n    public Function&lt;String, String&gt; beanMethodName(final String arg) {\r\n        // Do something\r\n    }\r\n\r\n    @Profile(&quot;!profile&quot;)\r\n    @Bean(name = &quot;beanMethodName&quot;)\r\n    public Function&lt;String, String&gt; beanMethodName(final String arg1, final String arg2) {\r\n        // Do something\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow, when I start this Spring application for **profile = test**, then the Bean \r\n**beanMethodName** never gets created.\r\n\r\n# Root Cause \r\nThe reason why this happens is how Spring decides which beans to create and which ones to skip.\r\nThe following code block exists in **ConfigurationClassBeanDefinitionReader** - \r\n\r\n```java\r\n// Do we need to mark the bean as skipped by its condition?\r\nif (this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN)) {\r\n\tconfigClass.skippedBeanMethods.add(methodName);\r\n\treturn;\r\n}\r\nif (configClass.skippedBeanMethods.contains(methodName)) {\r\n\treturn;\r\n}\r\n```\r\nRef - \r\n- [Spring Framework 5.1.x](https://github.com/spring-projects/spring-framework/blob/5.1.x/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java#L180-L187)\r\n- [Spring Framework 6.0.x](https://github.com/spring-projects/spring-framework/blob/6.0.x/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java#L182-L189)\r\n- [Spring Framework main](https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java#L182-L189)\r\n\r\nThe first check for `this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN)` results in **TRUE** since the Condition for `Profile` doesn&#39;t match. The ```Bean Method Name``` is added to the `skippedBeanMethods`. The second ```Bean Method Name``` check for `this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN)` results in **FALSE**, but later in the second ```if...``` block the bean registration is skipped again since the ```Bean Method Name``` is present in `skippedBeanMethods`\r\n\r\n\r\n# The Problem / Question\r\n\r\nThe current code block forces the developers to use a separate method name for the bean even if it can probably be an override for a different profile. \r\n\r\nI&#39;ve read in some places that the order of beans defined in the **Configuration** can help, but that still means that it would fail in the other profile where the non-matching-profile bean comes first.\r\n\r\n### Question\r\n\r\nWhy can&#39;t the code be modified to be something like this?\r\n```java\r\n// Do we need to mark the bean as skipped by its condition?\r\nboolean shouldSkip = this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN);\r\nif (configClass.skippedBeanMethods.contains(methodName) &amp;&amp; shouldSkip) {\r\n\treturn;\r\n} else if (shouldSkip) {\r\n\tconfigClass.skippedBeanMethods.add(methodName);\r\n\treturn;\r\n}\r\n```\r\n\r\nThis decouples the ```Bean Method Name``` from the **skippedBeanMethods** check.\r\n\r\n- If a ```Bean Method Name``` is present in the `skippedBeanMethods` **AND** for the Condition evaluator results in ```shouldSkip(..)``` returning **TRUE**, then the bean is skipped.\r\n- If a ```Bean Method Name``` is not present in the `skippedBeanMethods` **AND** for the Condition evaluator results in ```shouldSkip(..)``` returning **TRUE**, then the bean is skipped and it is added to the `skippedBeanMethods`.\r\n- In all other cases, it would still allow bean registration.\r\n\r\nIn other words, the bean registration will be skipped **if and only if** a Condition Evaluator results in ```shouldSkip(..)``` returning **TRUE** for the ```Bean Method Name```.\r\n\r\n### Note\r\n- I understand that the issue here can be resolved by using a different ```Bean Method Name``` or by using appropriate `Qualifier`.\r\n- What I am trying to understand is why can&#39;t the bean registration be decoupled from the ```Bean Method Names```?\r\n\r\n\r\n","title":"Why does Spring Framework consider method names only for deciding if a bean can be skipped?","body":"<h1>Background</h1>\n<p>I came across a piece of code that looks something like this -</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass {\n\n    @Profile(&quot;profile&quot;)\n    @Bean(name = &quot;beanMethodName&quot;) //I know this is not an accurate way of adding qualifier\n    public Function&lt;String, String&gt; beanMethodName(final String arg) {\n        // Do something\n    }\n\n    @Profile(&quot;!profile&quot;)\n    @Bean(name = &quot;beanMethodName&quot;)\n    public Function&lt;String, String&gt; beanMethodName(final String arg1, final String arg2) {\n        // Do something\n    }\n\n}\n</code></pre>\n<p>Now, when I start this Spring application for <strong>profile = test</strong>, then the Bean\n<strong>beanMethodName</strong> never gets created.</p>\n<h1>Root Cause</h1>\n<p>The reason why this happens is how Spring decides which beans to create and which ones to skip.\nThe following code block exists in <strong>ConfigurationClassBeanDefinitionReader</strong> -</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Do we need to mark the bean as skipped by its condition?\nif (this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN)) {\n    configClass.skippedBeanMethods.add(methodName);\n    return;\n}\nif (configClass.skippedBeanMethods.contains(methodName)) {\n    return;\n}\n</code></pre>\n<p>Ref -</p>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-framework/blob/5.1.x/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java#L180-L187\" rel=\"nofollow noreferrer\">Spring Framework 5.1.x</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-framework/blob/6.0.x/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java#L182-L189\" rel=\"nofollow noreferrer\">Spring Framework 6.0.x</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java#L182-L189\" rel=\"nofollow noreferrer\">Spring Framework main</a></li>\n</ul>\n<p>The first check for <code>this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN)</code> results in <strong>TRUE</strong> since the Condition for <code>Profile</code> doesn't match. The <code>Bean Method Name</code> is added to the <code>skippedBeanMethods</code>. The second <code>Bean Method Name</code> check for <code>this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN)</code> results in <strong>FALSE</strong>, but later in the second <code>if...</code> block the bean registration is skipped again since the <code>Bean Method Name</code> is present in <code>skippedBeanMethods</code></p>\n<h1>The Problem / Question</h1>\n<p>The current code block forces the developers to use a separate method name for the bean even if it can probably be an override for a different profile.</p>\n<p>I've read in some places that the order of beans defined in the <strong>Configuration</strong> can help, but that still means that it would fail in the other profile where the non-matching-profile bean comes first.</p>\n<h3>Question</h3>\n<p>Why can't the code be modified to be something like this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Do we need to mark the bean as skipped by its condition?\nboolean shouldSkip = this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN);\nif (configClass.skippedBeanMethods.contains(methodName) &amp;&amp; shouldSkip) {\n    return;\n} else if (shouldSkip) {\n    configClass.skippedBeanMethods.add(methodName);\n    return;\n}\n</code></pre>\n<p>This decouples the <code>Bean Method Name</code> from the <strong>skippedBeanMethods</strong> check.</p>\n<ul>\n<li>If a <code>Bean Method Name</code> is present in the <code>skippedBeanMethods</code> <strong>AND</strong> for the Condition evaluator results in <code>shouldSkip(..)</code> returning <strong>TRUE</strong>, then the bean is skipped.</li>\n<li>If a <code>Bean Method Name</code> is not present in the <code>skippedBeanMethods</code> <strong>AND</strong> for the Condition evaluator results in <code>shouldSkip(..)</code> returning <strong>TRUE</strong>, then the bean is skipped and it is added to the <code>skippedBeanMethods</code>.</li>\n<li>In all other cases, it would still allow bean registration.</li>\n</ul>\n<p>In other words, the bean registration will be skipped <strong>if and only if</strong> a Condition Evaluator results in <code>shouldSkip(..)</code> returning <strong>TRUE</strong> for the <code>Bean Method Name</code>.</p>\n<h3>Note</h3>\n<ul>\n<li>I understand that the issue here can be resolved by using a different <code>Bean Method Name</code> or by using appropriate <code>Qualifier</code>.</li>\n<li>What I am trying to understand is why can't the bean registration be decoupled from the <code>Bean Method Names</code>?</li>\n</ul>\n"},{"tags":["java","reactjs","maven","spring-boot","maven-resources-plugin"],"answers":[{"comments":[{"owner":{"account_id":1763375,"reputation":581,"user_id":1609846,"accept_rate":36,"display_name":"SudeepShakya"},"score":0,"creation_date":1551867431,"post_id":55019434,"comment_id":96794656,"body_markdown":"can u give it in Maven ?","body":"can u give it in Maven ?"},{"owner":{"account_id":43866,"reputation":159112,"user_id":128421,"accept_rate":50,"display_name":"the Tin Man"},"score":0,"creation_date":1686006425,"post_id":55019434,"comment_id":134737535,"body_markdown":"Please read &quot;[answer]&quot; and &quot;[Explaining entirely code-based answers](https://meta.stackoverflow.com/q/392712/128421)&quot;. It helps more if you supply an explanation why this is the preferred solution and explain how it works. We want to educate, not just provide code.","body":"Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>&quot; and &quot;<a href=\"https://meta.stackoverflow.com/q/392712/128421\">Explaining entirely code-based answers</a>&quot;. It helps more if you supply an explanation why this is the preferred solution and explain how it works. We want to educate, not just provide code."}],"tags":[],"owner":{"account_id":15310564,"reputation":100,"user_id":11045993,"display_name":"Daniel Prosianikov"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1686006476,"creation_date":1551863846,"answer_id":55019434,"question_id":55019291,"body_markdown":"For similar task it makes sense to use Gradle instead of Maven. The tasks are much more flexible.\r\n\r\nFor example:\r\n\r\n    task buildFE(type: Exec) {\r\n         workingDir &#39;../../FrontEnd&#39;\r\n         commandLine &#39;buildFE.bat&#39;\r\n    }\r\n    \r\n    task CopyJava {\r\n      copy{\r\n        from &#39;../OpenJDK&#39;\r\n        into &#39;../../Release/OpenJDK&#39;\r\n      }\r\n    }","title":"Maven &lt;executions&gt; and npm build","body":"<p>For similar task it makes sense to use Gradle instead of Maven. The tasks are much more flexible.</p>\n<p>For example:</p>\n<pre><code>task buildFE(type: Exec) {\n     workingDir '../../FrontEnd'\n     commandLine 'buildFE.bat'\n}\n\ntask CopyJava {\n  copy{\n    from '../OpenJDK'\n    into '../../Release/OpenJDK'\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1763375,"reputation":581,"user_id":1609846,"accept_rate":36,"display_name":"SudeepShakya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1515,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686006476,"creation_date":1551863328,"question_id":55019291,"body_markdown":"I have a `hybrid application` : `Spring Boot and ReactJS.`\r\nWhile r`unning/building/generating WAR`, I have set the `pom.xml` to copy the `npm run build` generated files from `dist` folder to `template`(spring) folder.\r\nBut while running `mvn clean install`, file are copied before the `npm run build` command and then the `npm run build` and WAR is generated. That&#39;swhy the frontend files are stale.\r\n\r\nMy `pom.xml` example is :\r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;prepare-package&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/classes/public&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/src/main/resources/templates&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;resources&gt;\r\n    \t\t\t\t\t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;directory&gt;${basedir}/dist&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n    \t\t\t\t\t\t\t&lt;/resources&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;prepare-package2&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/src/main/resources/static&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;resources&gt;\r\n    \t\t\t\t\t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;directory&gt;${basedir}/dist/static&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n    \t\t\t\t\t\t\t&lt;/resources&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.6&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;install node and npm&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;nodeVersion&gt;v11.10.0&lt;/nodeVersion&gt;\r\n    \t\t\t\t\t\t\t&lt;npmVersion&gt;6.7.0&lt;/npmVersion&gt;\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\t\t\t\t\t\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;npm install&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;arguments&gt;run build&lt;/arguments&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;!-- &lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;test&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;yarn&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;arguments&gt;test&lt;/arguments&gt;\r\n    \t\t\t\t\t\t\t&lt;environmentVariables&gt;\r\n    \t\t\t\t\t\t\t\t&lt;CI&gt;true&lt;/CI&gt;\r\n    \t\t\t\t\t\t\t&lt;/environmentVariables&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt; --&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\nHow do I configure so that the files are copied after `npm run build` ?\r\n","title":"Maven &lt;executions&gt; and npm build","body":"<p>I have a <code>hybrid application</code> : <code>Spring Boot and ReactJS.</code>\nWhile r<code>unning/building/generating WAR</code>, I have set the <code>pom.xml</code> to copy the <code>npm run build</code> generated files from <code>dist</code> folder to <code>template</code>(spring) folder.\nBut while running <code>mvn clean install</code>, file are copied before the <code>npm run build</code> command and then the <code>npm run build</code> and WAR is generated. That'swhy the frontend files are stale.</p>\n\n<p>My <code>pom.xml</code> example is :</p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare-package&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${basedir}/target/classes/public&lt;/outputDirectory&gt;\n                            &lt;outputDirectory&gt;${basedir}/src/main/resources/templates&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;${basedir}/dist&lt;/directory&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare-package2&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${basedir}/src/main/resources/static&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;${basedir}/dist/static&lt;/directory&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install node and npm&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;v11.10.0&lt;/nodeVersion&gt;\n                            &lt;npmVersion&gt;6.7.0&lt;/npmVersion&gt;                          \n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;                    \n                    &lt;execution&gt;\n                        &lt;id&gt;npm install&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- &lt;execution&gt;\n                        &lt;id&gt;test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;yarn&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;test&lt;/arguments&gt;\n                            &lt;environmentVariables&gt;\n                                &lt;CI&gt;true&lt;/CI&gt;\n                            &lt;/environmentVariables&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt; --&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>How do I configure so that the files are copied after <code>npm run build</code> ?</p>\n"},{"tags":["java","android","android-studio","java-home"],"comments":[{"owner":{"account_id":27529599,"reputation":823,"user_id":21008344,"display_name":"Taimoor Sikander"},"score":0,"creation_date":1673765029,"post_id":75120204,"comment_id":132568375,"body_markdown":"If someone faces this error after the Android Studio update to Android Studio Electric Eel | 2022.1.1 then simply follow the following steps:\n\nGo To the android studio directory (Default C:\\Program Files\\Android\\Android Studio) remove jre folder run cmd as administrator\n\ncd C:\\Program Files\\Android\\Android Studio mklink /D &quot;jre&quot; &quot;jbr&quot; Thanks to this link","body":"If someone faces this error after the Android Studio update to Android Studio Electric Eel | 2022.1.1 then simply follow the following steps:  Go To the android studio directory (Default C:\\Program Files\\Android\\Android Studio) remove jre folder run cmd as administrator  cd C:\\Program Files\\Android\\Android Studio mklink /D &quot;jre&quot; &quot;jbr&quot; Thanks to this link"}],"answers":[{"comments":[{"owner":{"account_id":6530181,"reputation":119,"user_id":5051546,"display_name":"Senghani Maulik"},"score":1,"creation_date":1674541660,"post_id":75123410,"comment_id":132730191,"body_markdown":"thank you , its worked can you please explain what is happening behind the scenes!","body":"thank you , its worked can you please explain what is happening behind the scenes!"},{"owner":{"account_id":6468880,"reputation":119,"user_id":5664068,"display_name":"Takshak Rajput"},"score":0,"creation_date":1675774204,"post_id":75123410,"comment_id":132997297,"body_markdown":"As Android Studio comes with JBR (JetBrains Runtime), a bundled JDK basically. The &#39;jbr&#39; directory contains it. As in the above error it has failed to find the java.exe in jre folder. So he is creating a symbolic link between the two folder using &#39;mklink&#39;, that way when the build process tries to find the java.exe in jre folder, it point to the actual location of the file which is inside the &#39;jbr&#39; folder. Like a shortcut launcher icon.","body":"As Android Studio comes with JBR (JetBrains Runtime), a bundled JDK basically. The &#39;jbr&#39; directory contains it. As in the above error it has failed to find the java.exe in jre folder. So he is creating a symbolic link between the two folder using &#39;mklink&#39;, that way when the build process tries to find the java.exe in jre folder, it point to the actual location of the file which is inside the &#39;jbr&#39; folder. Like a shortcut launcher icon."},{"owner":{"account_id":9593749,"reputation":2641,"user_id":7123641,"accept_rate":100,"display_name":"under"},"score":5,"creation_date":1676410067,"post_id":75123410,"comment_id":133130877,"body_markdown":"This breaks future patching of Android Studio","body":"This breaks future patching of Android Studio"},{"owner":{"account_id":15963470,"reputation":442,"user_id":11519826,"display_name":"Pavel Shirokov"},"score":0,"creation_date":1679251567,"post_id":75123410,"comment_id":133683831,"body_markdown":"You will not be able to update Android Studio after deleting the jre folder.","body":"You will not be able to update Android Studio after deleting the jre folder."},{"owner":{"account_id":4939181,"reputation":99,"user_id":3976440,"display_name":"Javier Diaz"},"score":0,"creation_date":1683693383,"post_id":75123410,"comment_id":134403832,"body_markdown":"Worked for me on Android Studio Flamingo | 2022.2.1 Patch 1","body":"Worked for me on Android Studio Flamingo | 2022.2.1 Patch 1"}],"tags":[],"owner":{"account_id":27529599,"reputation":823,"user_id":21008344,"display_name":"Taimoor Sikander"},"comment_count":5,"down_vote_count":2,"up_vote_count":32,"is_accepted":true,"score":30,"last_activity_date":1673765417,"creation_date":1673765323,"answer_id":75123410,"question_id":75120204,"body_markdown":"SOLVED:\r\n\r\nFor Windows \r\n\r\nGo To the android studio directory \r\n\r\n(Default C:\\Program Files\\Android\\Android Studio) \r\n\r\nremove jre folder \r\n\r\nrun cmd as administrator\r\n\r\n``` \r\ncd C:\\Program Files\\Android\\Android Studio\r\nmklink /D &quot;jre&quot; &quot;jbr&quot;\r\n``` ","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p>SOLVED:</p>\n<p>For Windows</p>\n<p>Go To the android studio directory</p>\n<p>(Default C:\\Program Files\\Android\\Android Studio)</p>\n<p>remove jre folder</p>\n<p>run cmd as administrator</p>\n<pre><code>cd C:\\Program Files\\Android\\Android Studio\nmklink /D &quot;jre&quot; &quot;jbr&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26729828,"reputation":37,"user_id":20332387,"display_name":"jazzfree1213"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1674071336,"creation_date":1674071294,"answer_id":75164561,"question_id":75120204,"body_markdown":"THANKS a LOT. You solve my problem. Only to note that you have to remove all the folders inside C:\\Program Files\\Android\\Android Studio\\jre  by hand\r\n\r\n-1. run cmd as administrator\r\n\r\n0. *cd &quot;C:\\Program Files\\Android\\Android Studio\\&quot;*\r\n1. remove first files from all subfolders of jre  &gt;  *del /s .\\jre*\r\n2. remove jre folder &gt;  *rmdir /s .\\jre*\r\n3. make link to jbr folder containing *bin\\java.exe* named as jre  &gt; *mklink /D &quot;jre&quot; &quot;jbr&quot;*\r\n\r\nThanks","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p>THANKS a LOT. You solve my problem. Only to note that you have to remove all the folders inside C:\\Program Files\\Android\\Android Studio\\jre  by hand</p>\n<p>-1. run cmd as administrator</p>\n<ol start=\"0\">\n<li><em>cd &quot;C:\\Program Files\\Android\\Android Studio&quot;</em></li>\n<li>remove first files from all subfolders of jre  &gt;  <em>del /s .\\jre</em></li>\n<li>remove jre folder &gt;  <em>rmdir /s .\\jre</em></li>\n<li>make link to jbr folder containing <em>bin\\java.exe</em> named as jre  &gt; <em>mklink /D &quot;jre&quot; &quot;jbr&quot;</em></li>\n</ol>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":10162317,"reputation":234,"user_id":7505376,"display_name":"Crain"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674732792,"creation_date":1674652197,"answer_id":75234456,"question_id":75120204,"body_markdown":"These two steps were enough for me:\r\n\r\n1. Set JAVA_HOME to ...\\Android\\AndroidStudio\\jbr\r\n2. Rename or delete ...\\Android\\AndroidStudio\\jar","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p>These two steps were enough for me:</p>\n<ol>\n<li>Set JAVA_HOME to ...\\Android\\AndroidStudio\\jbr</li>\n<li>Rename or delete ...\\Android\\AndroidStudio\\jar</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7201810,"reputation":168,"user_id":5498788,"display_name":"llfbandit"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677065231,"creation_date":1677065231,"answer_id":75532087,"question_id":75120204,"body_markdown":"This is an issue with gradle cache mecanism.\r\n\r\nYou need to locate `.gradle/daemon/&lt;version&gt;/registry.bin` file and delete it.\r\n\r\n*Note: you can delete all the `daemon` sub-folders.*\r\n\r\nYou can now compile your project with your JAHA_HOME environment variable as Gradle will regenerate those.","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p>This is an issue with gradle cache mecanism.</p>\n<p>You need to locate <code>.gradle/daemon/&lt;version&gt;/registry.bin</code> file and delete it.</p>\n<p><em>Note: you can delete all the <code>daemon</code> sub-folders.</em></p>\n<p>You can now compile your project with your JAHA_HOME environment variable as Gradle will regenerate those.</p>\n"},{"tags":[],"owner":{"account_id":10858233,"reputation":763,"user_id":7983864,"display_name":"Shahood ul Hassan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677130442,"creation_date":1677130442,"answer_id":75540928,"question_id":75120204,"body_markdown":"1. Delete the folder: `C:\\Program Files\\Android\\Android Studio\\jre`\r\n\r\n2. Restart Android Studio\r\n\r\nIt solves the issue!","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<ol>\n<li><p>Delete the folder: <code>C:\\Program Files\\Android\\Android Studio\\jre</code></p>\n</li>\n<li><p>Restart Android Studio</p>\n</li>\n</ol>\n<p>It solves the issue!</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1677985460,"post_id":75598555,"comment_id":133444820,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75598555/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27904345,"reputation":21,"user_id":21307895,"display_name":"Puguh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678158519,"creation_date":1677630231,"answer_id":75598555,"question_id":75120204,"body_markdown":"Accepted question will break future Android Studio patch.\r\nSolution for this question is so simple, just delete folder .gradle in your %USER_HOME% (C:/Users/your_user).\r\nMake sure you close Android Studio and all Java.exe process before delete .gradle folder.\r\n\r\nEdit:\r\nUpgrade to Flutter 3.7.6 and this bug will be solved. \r\nIt can be checked here:\r\nhttps://github.com/flutter/flutter/wiki/Hotfixes-to-the-Stable-Channel","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p>Accepted question will break future Android Studio patch.\nSolution for this question is so simple, just delete folder .gradle in your %USER_HOME% (C:/Users/your_user).\nMake sure you close Android Studio and all Java.exe process before delete .gradle folder.</p>\n<p>Edit:\nUpgrade to Flutter 3.7.6 and this bug will be solved.\nIt can be checked here:\n<a href=\"https://github.com/flutter/flutter/wiki/Hotfixes-to-the-Stable-Channel\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/wiki/Hotfixes-to-the-Stable-Channel</a></p>\n"},{"tags":[],"owner":{"account_id":20761416,"reputation":290,"user_id":15246498,"display_name":"regenin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686006200,"creation_date":1686006200,"answer_id":76410493,"question_id":75120204,"body_markdown":"Copy everything in the **jbr** folder `C:\\Program Files\\Android\\Android Studio\\jbr` than =&gt; put it in **jre** folder `C:\\Program Files\\Android\\Android Studio\\jre` and approve the modification of files.\r\n\r\nThe above mentioned methods work but prevent android studio from updating.\r\n\r\nHowever, since Android studio **updates** will break the **jre** folder again, if you get an error after the update, you will have to repeat the same process.\r\n\r\n\r\n\r\n","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p>Copy everything in the <strong>jbr</strong> folder <code>C:\\Program Files\\Android\\Android Studio\\jbr</code> than =&gt; put it in <strong>jre</strong> folder <code>C:\\Program Files\\Android\\Android Studio\\jre</code> and approve the modification of files.</p>\n<p>The above mentioned methods work but prevent android studio from updating.</p>\n<p>However, since Android studio <strong>updates</strong> will break the <strong>jre</strong> folder again, if you get an error after the update, you will have to repeat the same process.</p>\n"}],"owner":{"account_id":27529599,"reputation":823,"user_id":21008344,"display_name":"Taimoor Sikander"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4965,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75123410,"answer_count":7,"score":5,"last_activity_date":1686006200,"creation_date":1673719755,"question_id":75120204,"body_markdown":"**Android Studio Electric Eel** - The supplied javaHome seems invalid. I cannot find the Java executable. Tried location: `C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe` \r\n\r\nThe error occurs after upgrading my Android Studio to Electric Eel,  the latest version. I tried multiple solutions to this problem, but nothing worked. \r\nMy JAVA_HOME and ANDROID_HOME variables are set. I even tried to reinstall Java JDK-19 and reinstalled the Android Studio, but I still have the same issue.\r\n\r\nI even tried to reinstall Java JDK-19 and reinstalled Android Studio, but I still have the same issue.","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p><strong>Android Studio Electric Eel</strong> - The supplied javaHome seems invalid. I cannot find the Java executable. Tried location: <code>C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe</code></p>\n<p>The error occurs after upgrading my Android Studio to Electric Eel,  the latest version. I tried multiple solutions to this problem, but nothing worked.\nMy JAVA_HOME and ANDROID_HOME variables are set. I even tried to reinstall Java JDK-19 and reinstalled the Android Studio, but I still have the same issue.</p>\n<p>I even tried to reinstall Java JDK-19 and reinstalled Android Studio, but I still have the same issue.</p>\n"},{"tags":["java","opencv","feature-detection","sift"],"comments":[{"owner":{"account_id":2785811,"reputation":4258,"user_id":2397253,"accept_rate":84,"display_name":"oarfish"},"score":0,"creation_date":1467211718,"post_id":38102849,"comment_id":63639915,"body_markdown":"You cannot necessarily drop in one Detector in place of another without adjusting its parameters accordingly. If the kaze detector gives you fewer features then you need to tune its parameters. It has a threshold e.g. which can be set to a lower value. Also the detector is not always &quot;better&quot;, but certainly always faster. But yes, in my experience the quality of keypoints should be at least on par with SIFT.","body":"You cannot necessarily drop in one Detector in place of another without adjusting its parameters accordingly. If the kaze detector gives you fewer features then you need to tune its parameters. It has a threshold e.g. which can be set to a lower value. Also the detector is not always &quot;better&quot;, but certainly always faster. But yes, in my experience the quality of keypoints should be at least on par with SIFT."},{"owner":{"account_id":2481501,"reputation":1002,"user_id":2160887,"accept_rate":19,"display_name":"seriousgeek"},"score":0,"creation_date":1467212595,"post_id":38102849,"comment_id":63640579,"body_markdown":"@oarfish But i guess there is no direct way to calibrate the parameters in Java. Is the threshold by default set to a higher value for AKAZE?","body":"@oarfish But i guess there is no direct way to calibrate the parameters in Java. Is the threshold by default set to a higher value for AKAZE?"},{"owner":{"account_id":2785811,"reputation":4258,"user_id":2397253,"accept_rate":84,"display_name":"oarfish"},"score":0,"creation_date":1467213618,"post_id":38102849,"comment_id":63641285,"body_markdown":"Possibly, I do not know the Java API , but it would be fairly useless if no parameters could be configured. The thresholds of the two detectors may not have thee meaning, so it you can&#39;t really compare them directly. I don&#39;t recall what they mean exactly.","body":"Possibly, I do not know the Java API , but it would be fairly useless if no parameters could be configured. The thresholds of the two detectors may not have thee meaning, so it you can&#39;t really compare them directly. I don&#39;t recall what they mean exactly."}],"answers":[{"tags":[],"owner":{"account_id":261970,"reputation":14545,"user_id":546509,"accept_rate":70,"display_name":"Ethan Allen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686004247,"creation_date":1686004247,"answer_id":76410375,"question_id":38102849,"body_markdown":"This IEEE analysis paper shows that SIFT performs better than KAZE and AKAZE.\r\n\r\nhttps://ieeexplore.ieee.org/document/8346440\r\n\r\n&gt; AKAZE generally detects more features than KAZE.\r\n&gt; \r\n&gt; KAZE detected least number of feature-points.\r\n\r\nand\r\n\r\n&gt; SIFT is found to be the most accurate feature-detector-descriptor for\r\n&gt; scale, rotation and affine variations (overall).\r\n&gt; \r\n&gt; BRISK is at second position with respect to the accuracy for scale and\r\n&gt; rotation changes.\r\n&gt; \r\n&gt; AKAZE&#39;s accuracy is comparable to BRISK for image rotations and scale\r\n&gt; variations in the range of 40% to 400%. Beyond this range its accuracy\r\n&gt; decreases.\r\n\r\nand\r\n\r\n&gt; The overall accuracy of SIFT and BRISK is found to be highest for all\r\n&gt; types of geometric transformations and SIFT is concluded as the most\r\n&gt; accurate algorithm.\r\n\r\nI suggest if you&#39;re looking for overall accuracy and higher feature points, stick with SIFT if computational cost is not a factor.\r\n\r\nApologies for answering this 7 years after you posted the question.","title":"AKAZE not producing good results compared to SIFT in openCV Java","body":"<p>This IEEE analysis paper shows that SIFT performs better than KAZE and AKAZE.</p>\n<p><a href=\"https://ieeexplore.ieee.org/document/8346440\" rel=\"nofollow noreferrer\">https://ieeexplore.ieee.org/document/8346440</a></p>\n<blockquote>\n<p>AKAZE generally detects more features than KAZE.</p>\n<p>KAZE detected least number of feature-points.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>SIFT is found to be the most accurate feature-detector-descriptor for\nscale, rotation and affine variations (overall).</p>\n<p>BRISK is at second position with respect to the accuracy for scale and\nrotation changes.</p>\n<p>AKAZE's accuracy is comparable to BRISK for image rotations and scale\nvariations in the range of 40% to 400%. Beyond this range its accuracy\ndecreases.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>The overall accuracy of SIFT and BRISK is found to be highest for all\ntypes of geometric transformations and SIFT is concluded as the most\naccurate algorithm.</p>\n</blockquote>\n<p>I suggest if you're looking for overall accuracy and higher feature points, stick with SIFT if computational cost is not a factor.</p>\n<p>Apologies for answering this 7 years after you posted the question.</p>\n"}],"owner":{"account_id":2481501,"reputation":1002,"user_id":2160887,"accept_rate":19,"display_name":"seriousgeek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686004247,"creation_date":1467211157,"question_id":38102849,"body_markdown":"I&#39;m new to the world of computer vision and presently I&#39;m working on a project to compare two images to see if there is a match. I have read that AKAZE performs better compared to SIFT, but I have found otherwise. I&#39;m using the Java implementation of openCV and I find that SIFT produces better feature points and thereby better matches as compared to AKAZE. Following is the code I use for detecting keypoints, computing descriptors and finding matches:\r\n\r\n         MatOfKeyPoint objectKeyPoints1 = new MatOfKeyPoint();\r\n          MatOfKeyPoint objectKeyPoints2 = new MatOfKeyPoint();\r\n\r\n          FeatureDetector featureDetector1 = FeatureDetector.create(FeatureDetector.SIFT);\r\n          FeatureDetector featureDetector2 = FeatureDetector.create(FeatureDetector.SIFT);\r\n\r\n          featureDetector1.detect(image1, objectKeyPoints1);\r\n          featureDetector2.detect(image2, objectKeyPoints2);\r\n\r\n          DescriptorExtractor descriptorExtractor = DescriptorExtractor.create(DescriptorExtractor.SIFT);\r\n\r\n          MatOfKeyPoint objectDescriptors1 = new MatOfKeyPoint();\r\n          descriptorExtractor.compute(image1, objectKeyPoints1, objectDescriptors1);\r\n\r\n          MatOfKeyPoint objectDescriptors2 = new MatOfKeyPoint();\r\n          descriptorExtractor.compute(image2, objectKeyPoints2, objectDescriptors2);\r\n          MatOfDMatch mtd=new MatOfDMatch();\r\n\r\n          DescriptorMatcher descriptorMatcher = DescriptorMatcher.create(DescriptorMatcher.BRUTEFORCE)\r\n          descriptorMatcher.match(objectDescriptors1,objectDescriptors2 , mtd);\r\n\r\nThe code is the same for AKAZE as well, just that I substitute SIFT with AKAZE in the code. Out of 900 keypoints I get around 178 matches for SIFT but just 10-20 matches for AKAZE.\r\n\r\nCould you help me in identifying what could be a probable cause of this issue? Could this be anything related to the Java wrapper for openCV?\r\n\r\nThanks","title":"AKAZE not producing good results compared to SIFT in openCV Java","body":"<p>I'm new to the world of computer vision and presently I'm working on a project to compare two images to see if there is a match. I have read that AKAZE performs better compared to SIFT, but I have found otherwise. I'm using the Java implementation of openCV and I find that SIFT produces better feature points and thereby better matches as compared to AKAZE. Following is the code I use for detecting keypoints, computing descriptors and finding matches:</p>\n\n<pre><code>     MatOfKeyPoint objectKeyPoints1 = new MatOfKeyPoint();\n      MatOfKeyPoint objectKeyPoints2 = new MatOfKeyPoint();\n\n      FeatureDetector featureDetector1 = FeatureDetector.create(FeatureDetector.SIFT);\n      FeatureDetector featureDetector2 = FeatureDetector.create(FeatureDetector.SIFT);\n\n      featureDetector1.detect(image1, objectKeyPoints1);\n      featureDetector2.detect(image2, objectKeyPoints2);\n\n      DescriptorExtractor descriptorExtractor = DescriptorExtractor.create(DescriptorExtractor.SIFT);\n\n      MatOfKeyPoint objectDescriptors1 = new MatOfKeyPoint();\n      descriptorExtractor.compute(image1, objectKeyPoints1, objectDescriptors1);\n\n      MatOfKeyPoint objectDescriptors2 = new MatOfKeyPoint();\n      descriptorExtractor.compute(image2, objectKeyPoints2, objectDescriptors2);\n      MatOfDMatch mtd=new MatOfDMatch();\n\n      DescriptorMatcher descriptorMatcher = DescriptorMatcher.create(DescriptorMatcher.BRUTEFORCE)\n      descriptorMatcher.match(objectDescriptors1,objectDescriptors2 , mtd);\n</code></pre>\n\n<p>The code is the same for AKAZE as well, just that I substitute SIFT with AKAZE in the code. Out of 900 keypoints I get around 178 matches for SIFT but just 10-20 matches for AKAZE.</p>\n\n<p>Could you help me in identifying what could be a probable cause of this issue? Could this be anything related to the Java wrapper for openCV?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","apache-beam","google-cloud-pubsub"],"comments":[{"owner":{"account_id":4952656,"reputation":71,"user_id":3986151,"display_name":"GradviusMars"},"score":0,"creation_date":1685631948,"post_id":76334100,"comment_id":134690406,"body_markdown":"For anyone who may come across this in future, I am still unsure on the use of TestPubsub but in the end changed my approach and used TestStream instead to simulate an unbounded source to then test other processing steps.","body":"For anyone who may come across this in future, I am still unsure on the use of TestPubsub but in the end changed my approach and used TestStream instead to simulate an unbounded source to then test other processing steps."}],"answers":[{"tags":[],"owner":{"account_id":25595958,"reputation":1,"user_id":19371728,"display_name":"Poala Astrid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686003769,"creation_date":1686003769,"answer_id":76410346,"question_id":76334100,"body_markdown":"According to @GradviusMars, instead of TestPubsub class, [TestStream](https://beam.apache.org/releases/javadoc/2.1.0/org/apache/beam/sdk/testing/TestStream.html) has been used to simulate an unbounded source to then test other processing steps. \r\n\r\nPosting this as a Community Wiki for the benefit of the community that might encounter this use case in the future. Please edit this if enhancement for the answer is needed.","title":"How can I use Apache Beam TestPubSub for unit testing","body":"<p>According to @GradviusMars, instead of TestPubsub class, <a href=\"https://beam.apache.org/releases/javadoc/2.1.0/org/apache/beam/sdk/testing/TestStream.html\" rel=\"nofollow noreferrer\">TestStream</a> has been used to simulate an unbounded source to then test other processing steps.</p>\n<p>Posting this as a Community Wiki for the benefit of the community that might encounter this use case in the future. Please edit this if enhancement for the answer is needed.</p>\n"}],"owner":{"account_id":4952656,"reputation":71,"user_id":3986151,"display_name":"GradviusMars"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686003769,"creation_date":1685029381,"question_id":76334100,"body_markdown":"I am trying to unit test a Java Apache Beam pipeline. I wanted to try and use the org.apache.beam.sdk.io.gcp.pubsub.TestPubsub class (https://beam.apache.org/releases/javadoc/2.7.0/org/apache/beam/sdk/io/gcp/pubsub/TestPubsub.html) as it looks like it will enable topics to be created and destroyed within tests.\r\n\r\nI am however unsure how this works, is it going to create an in memory pub sub instance for my tests? Or does it require me to either have a project connected to it or the pubsub emulator running in my local environment? Has anyone had any experience with using this and would they be able to provide me with any guidance/examples of how they have used it?\r\n\r\nI ask this because at the moment I have a rule defined (detailed below) and when running my test it breaks while initialising the rule with the exception &quot;com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: User not authorized to perform this action.&quot;.\r\n\r\n```\r\n@Rule\r\npublic TestPubsub testPubsub = TestPubsub.create();\r\n```","title":"How can I use Apache Beam TestPubSub for unit testing","body":"<p>I am trying to unit test a Java Apache Beam pipeline. I wanted to try and use the org.apache.beam.sdk.io.gcp.pubsub.TestPubsub class (<a href=\"https://beam.apache.org/releases/javadoc/2.7.0/org/apache/beam/sdk/io/gcp/pubsub/TestPubsub.html\" rel=\"nofollow noreferrer\">https://beam.apache.org/releases/javadoc/2.7.0/org/apache/beam/sdk/io/gcp/pubsub/TestPubsub.html</a>) as it looks like it will enable topics to be created and destroyed within tests.</p>\n<p>I am however unsure how this works, is it going to create an in memory pub sub instance for my tests? Or does it require me to either have a project connected to it or the pubsub emulator running in my local environment? Has anyone had any experience with using this and would they be able to provide me with any guidance/examples of how they have used it?</p>\n<p>I ask this because at the moment I have a rule defined (detailed below) and when running my test it breaks while initialising the rule with the exception &quot;com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: User not authorized to perform this action.&quot;.</p>\n<pre><code>@Rule\npublic TestPubsub testPubsub = TestPubsub.create();\n</code></pre>\n"},{"tags":["java","maven","apache-camel"],"owner":{"account_id":17590424,"reputation":91,"user_id":12762415,"display_name":"kan zied"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686002842,"creation_date":1685460923,"question_id":76366450,"body_markdown":"i migrate from camel 2.23.4 to camel 3.14.7,\r\ni fixed many errors folowing camel documentation of migration \r\nbut i keep getting this error when i lunch my back end application :\r\n\r\n```\r\njava.lang.NoClassDefFoundError: org/apache/camel/impl/transformer/TransformerKey\r\n Caused by: \r\njava.lang.ClassNotFoundException: org.apache.camel.impl.transformer.TransformerKey\r\n```\r\nAfter searching on internet, it seems this package  `org.apache.camel.impl.transformer.TransformerKey` is inside camel-base-engine dependency, so i added in my pom.xml:\r\n\r\n\r\n```xml\r\n&lt;artifactId&gt;camel-base-engine&lt;/artifactId&gt;\r\n``` \r\n\r\nMy [back-end-log][1]\r\n\r\nMy [main pom.xml][2]\r\n\r\nMy [back end pom.xml][3]\r\n\r\n\r\n  [1]: https://easyupload.io/dbaqke\r\n  [2]: https://easyupload.io/816z22\r\n  [3]: https://easyupload.io/8jecdk","title":"java.lang.ClassNotFoundException: org.apache.camel.impl.transformer.TransformerKey","body":"<p>i migrate from camel 2.23.4 to camel 3.14.7,\ni fixed many errors folowing camel documentation of migration\nbut i keep getting this error when i lunch my back end application :</p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/camel/impl/transformer/TransformerKey\n Caused by: \njava.lang.ClassNotFoundException: org.apache.camel.impl.transformer.TransformerKey\n</code></pre>\n<p>After searching on internet, it seems this package  <code>org.apache.camel.impl.transformer.TransformerKey</code> is inside camel-base-engine dependency, so i added in my pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;artifactId&gt;camel-base-engine&lt;/artifactId&gt;\n</code></pre>\n<p>My <a href=\"https://easyupload.io/dbaqke\" rel=\"nofollow noreferrer\">back-end-log</a></p>\n<p>My <a href=\"https://easyupload.io/816z22\" rel=\"nofollow noreferrer\">main pom.xml</a></p>\n<p>My <a href=\"https://easyupload.io/8jecdk\" rel=\"nofollow noreferrer\">back end pom.xml</a></p>\n"},{"tags":["java","io","actionlistener"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1423988849,"post_id":28524268,"comment_id":45364638,"body_markdown":"what you want to do with prev and next button? do you have critera to be maintained?","body":"what you want to do with prev and next button? do you have critera to be maintained?"},{"owner":{"account_id":5764578,"reputation":13,"user_id":4549907,"accept_rate":88,"display_name":"Spark Speedy"},"score":0,"creation_date":1423988920,"post_id":28524268,"comment_id":45364648,"body_markdown":"I simply wanna load the data in file data.csv which is created in the code and load. I want next and prev button to move through the record\n@almasshaikh","body":"I simply wanna load the data in file data.csv which is created in the code and load. I want next and prev button to move through the record @almasshaikh"}],"answers":[{"comments":[{"owner":{"account_id":5764578,"reputation":13,"user_id":4549907,"accept_rate":88,"display_name":"Spark Speedy"},"score":0,"creation_date":1423989444,"post_id":28524315,"comment_id":45364747,"body_markdown":"could you please show mw the code here as I am a newbie to java","body":"could you please show mw the code here as I am a newbie to java"}],"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1423989169,"creation_date":1423989169,"answer_id":28524315,"question_id":28524268,"body_markdown":"Use List to store the data, so when your data look like say:\r\n\r\n    a.csv - b.csv - c.csv\r\n\r\nSo when you are reading b.csv, sp using listIterator, iterating to previous could be done using `iterator.previous()` i.e. reading a.csv while `iterator.next()` will lead you reading next file (forward) i.e. c.csv.\r\n\r\nWhich means you could make use of dequeue which maintains previous and next entry in the list.","title":"Coding the Next and Previous button","body":"<p>Use List to store the data, so when your data look like say:</p>\n\n<pre><code>a.csv - b.csv - c.csv\n</code></pre>\n\n<p>So when you are reading b.csv, sp using listIterator, iterating to previous could be done using <code>iterator.previous()</code> i.e. reading a.csv while <code>iterator.next()</code> will lead you reading next file (forward) i.e. c.csv.</p>\n\n<p>Which means you could make use of dequeue which maintains previous and next entry in the list.</p>\n"}],"owner":{"account_id":5764578,"reputation":13,"user_id":4549907,"accept_rate":88,"display_name":"Spark Speedy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3575,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":28524315,"answer_count":1,"score":-1,"last_activity_date":1686002510,"creation_date":1423988670,"question_id":28524268,"body_markdown":"I want to code for the next and previous buttons. I have made the action listener but do not know how to code for next and previous buttons.\r\n\r\nMy code is as follows:\r\n\r\n    public class panel extends OrderSystem {\r\n\r\n        final JTextField items;\r\n        final JTextField number;\r\n        final JTextField cost;\r\n        final JTextField amount;\r\n            \r\n        public panel() {\r\n\r\n            JFrame myFrame = new JFrame();   \r\n            myFrame.setLayout( new FlowLayout() );\r\n\r\n            myFrame.setTitle(&quot;GUI Demo - ISTE-121&quot;);\r\n            myFrame.pack();\r\n            myFrame.setLocation(600,300);\r\n            myFrame.setSize(400,200);\r\n            myFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            myFrame.setVisible(true);\r\n            \r\n            JPanel order = new JPanel();{\r\n                order.setLayout(new GridLayout(5,5,2,2));\r\n            \r\n                myFrame.add(order, BorderLayout.CENTER);\r\n        \r\n                order.add(new JLabel(&quot;Item no:&quot;, SwingConstants.RIGHT));\r\n                order.add(items = new JTextField(3));\r\n            \r\n                order.add(new JLabel(&quot;Number of:&quot;, SwingConstants.RIGHT));\r\n                order.add(number = new JTextField(3));\r\n         \r\n                order.add(new JLabel(&quot;Cost&quot;, SwingConstants.RIGHT));\r\n                order.add(cost = new JTextField(3));\r\n         \r\n                order.add(new JLabel(&quot;Amount owed:&quot;, SwingConstants.RIGHT));\r\n                order.add(amount = new JTextField(10));\r\n                amount.setEditable(false);\r\n            \r\n                JPanel buttons = new JPanel();\r\n                buttons.setLayout(new GridLayout(1,1,2,2));\r\n            \r\n                myFrame.add(buttons ,BorderLayout.CENTER);\r\n            \r\n                JButton calculate;\r\n                buttons.add(calculate=new JButton(&quot;Calculate&quot;));\r\n           \r\n                calculate.addActionListener(new ActionListener() \r\n                    {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) \r\n                        {\r\n                            // TODO Auto-generated method stub\r\n                            double cost1 = new Double(cost.getText().trim()).doubleValue();\r\n                            double number1 = new Double(number.getText().trim()).doubleValue();\r\n             \r\n                            double result =  cost1*number1;\r\n                            amount.setText(String.valueOf(result));   \r\n            \r\n                        }\r\n              \r\n                    });\r\n           \r\n                JButton save;\r\n                buttons.add(save = new JButton(&quot;Save&quot;));\r\n           \r\n                save.addActionListener(new ActionListener()\r\n                    {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) { \r\n            \r\n\r\n               \r\n                            try{\r\n               \r\n                                // Assume default encoding.\r\n                                FileWriter fw = new FileWriter(&quot;data.csv&quot;,true);\r\n                                BufferedWriter bufferedWriter = new BufferedWriter(fw);\r\n                           \r\n                       \r\n                                bufferedWriter.write(&quot;\\r\\n&quot;);\r\n\r\n                                bufferedWriter.write(&quot;\\&quot;ItemCode:\\&quot;&quot;+&quot;\\&quot;&quot;+ items.getText() +&quot;\\&quot;&quot;+&quot;,&quot;);\r\n                                bufferedWriter.write(&quot;\\&quot;ItemNumber:\\&quot;&quot;+&quot;\\&quot;&quot;+number.getText()+&quot;\\&quot;&quot;+&quot;,&quot;);\r\n                                bufferedWriter.write(&quot;\\&quot;ItemCost:\\&quot;&quot;+&quot;\\&quot;&quot;+cost.getText()+&quot;\\&quot;&quot;+&quot;,&quot;);\r\n                                bufferedWriter.write(&quot;\\&quot;AmountOwned:\\&quot;&quot;+&quot;\\&quot;&quot;+amount.getText()+&quot;\\&quot;&quot;+&quot;,&quot;);\r\n\r\n                                bufferedWriter.close();\r\n\r\n\r\n                            }  \r\n                    \r\n                            catch(IOException ex) {\r\n                                System.out.println(\r\n                                                   &quot;Error writing to file &#39;&quot;\r\n                                                   +  &quot;&#39;&quot;);\r\n                                // Or we could just do this:\r\n                                // ex.printStackTrace();\r\n                            }\r\n                        }}   \r\n                    );\r\n\r\n            \r\n         \r\n                JButton clear;\r\n                buttons.add(clear=new JButton(&quot;Clear&quot;));\r\n         \r\n                clear.addActionListener(new ActionListener() {\r\n                \r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            // TODO Auto-generated method stub\r\n                            items.setText(null);\r\n                            number.setText(null);\r\n                            cost.setText(null);\r\n                            amount.setText(null);\r\n                        }});\r\n         \r\n                JButton exit;\r\n                buttons.add(exit= new JButton(&quot;Exit&quot;));\r\n         \r\n                exit.addActionListener(new ActionListener()\r\n                    {\r\n\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) \r\n                        {\r\n                            // TODO Auto-generated method stub\r\n                            System.exit(0);\r\n              \r\n                        }\r\n         \r\n          \r\n                    });\r\n            }\r\n            JPanel button = new JPanel();\r\n            {\r\n                button.setLayout(new GridLayout(5,5,2,2));\r\n                myFrame.add(button ,BorderLayout.SOUTH);\r\n\r\n              \r\n                JButton load;\r\n                button.add(load=new JButton(&quot;Load&quot;));\r\n              \r\n                load.addActionListener(new ActionListener() \r\n                    {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) \r\n                        {\r\n                            // TODO Auto-generated method stub\r\n                            try { \r\n                     \r\n                                String csvFile = &quot;Documents/workspace/samp/data.csv&quot;;\r\n\r\n                                //create BufferedReader to read csv file\r\n                                BufferedReader br = new BufferedReader(new FileReader(&quot;data.csv&quot;));\r\n                                String line = &quot;&quot;;\r\n                                StringTokenizer st = null;\r\n\r\n                                int lineNumber = 0; \r\n                                int tokenNumber = 0;\r\n\r\n                                //read comma separated file line by line\r\n                                while ((line = br.readLine()) != null) {\r\n                                    lineNumber++;\r\n\r\n                                    //use comma as token separator\r\n                                    st = new StringTokenizer(line, &quot;,&quot;);\r\n\r\n                                    while (st.hasMoreTokens()) {\r\n                                        tokenNumber++;\r\n\r\n                                        //display csv values\r\n                                        System.out.print(st.nextToken() + &quot;  &quot;);\r\n                                    }\r\n\r\n                                    System.out.println();\r\n\r\n                                    //reset token number\r\n                                    tokenNumber = 0;\r\n                                }\r\n\r\n                            } catch (Exception e1) {\r\n                                System.err.println(&quot;CSV file cannot be read : &quot; + e1);\r\n                            }\r\n                        }\r\n                    }\r\n                 \r\n                    );\r\n                  \r\n                JButton next;\r\n                button.add(next=new JButton(&quot;Next&gt;&quot;));\r\n                 \r\n                next.addActionListener(new ActionListener() \r\n                    {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) \r\n                        {\r\n                            // TODO Auto-generated method stub\r\n                        }\r\n                    \r\n                    });\r\n\r\n                JButton prev;\r\n                button.add(prev=new JButton(&quot;&lt;Prev&quot;));\r\n                    \r\n                prev.addActionListener(new ActionListener() \r\n                    {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) \r\n                        {\r\n                            // TODO Auto-generated method stub\r\n                        }\r\n                       \r\n                    });\r\n            \r\n            }\r\n        }\r\n    }\r\n","title":"Coding the Next and Previous button","body":"<p>I want to code for the next and previous buttons. I have made the action listener but do not know how to code for next and previous buttons.</p>\n\n<p>My code is as follows:</p>\n\n<pre><code>public class panel extends OrderSystem {\n\n    final JTextField items;\n    final JTextField number;\n    final JTextField cost;\n    final JTextField amount;\n\n    public panel() {\n\n        JFrame myFrame = new JFrame();   \n        myFrame.setLayout( new FlowLayout() );\n\n        myFrame.setTitle(\"GUI Demo - ISTE-121\");\n        myFrame.pack();\n        myFrame.setLocation(600,300);\n        myFrame.setSize(400,200);\n        myFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        myFrame.setVisible(true);\n\n        JPanel order = new JPanel();{\n            order.setLayout(new GridLayout(5,5,2,2));\n\n            myFrame.add(order, BorderLayout.CENTER);\n\n            order.add(new JLabel(\"Item no:\", SwingConstants.RIGHT));\n            order.add(items = new JTextField(3));\n\n            order.add(new JLabel(\"Number of:\", SwingConstants.RIGHT));\n            order.add(number = new JTextField(3));\n\n            order.add(new JLabel(\"Cost\", SwingConstants.RIGHT));\n            order.add(cost = new JTextField(3));\n\n            order.add(new JLabel(\"Amount owed:\", SwingConstants.RIGHT));\n            order.add(amount = new JTextField(10));\n            amount.setEditable(false);\n\n            JPanel buttons = new JPanel();\n            buttons.setLayout(new GridLayout(1,1,2,2));\n\n            myFrame.add(buttons ,BorderLayout.CENTER);\n\n            JButton calculate;\n            buttons.add(calculate=new JButton(\"Calculate\"));\n\n            calculate.addActionListener(new ActionListener() \n                {\n                    @Override\n                    public void actionPerformed(ActionEvent e) \n                    {\n                        // TODO Auto-generated method stub\n                        double cost1 = new Double(cost.getText().trim()).doubleValue();\n                        double number1 = new Double(number.getText().trim()).doubleValue();\n\n                        double result =  cost1*number1;\n                        amount.setText(String.valueOf(result));   \n\n                    }\n\n                });\n\n            JButton save;\n            buttons.add(save = new JButton(\"Save\"));\n\n            save.addActionListener(new ActionListener()\n                {\n                    @Override\n                    public void actionPerformed(ActionEvent e) { \n\n\n\n                        try{\n\n                            // Assume default encoding.\n                            FileWriter fw = new FileWriter(\"data.csv\",true);\n                            BufferedWriter bufferedWriter = new BufferedWriter(fw);\n\n\n                            bufferedWriter.write(\"\\r\\n\");\n\n                            bufferedWriter.write(\"\\\"ItemCode:\\\"\"+\"\\\"\"+ items.getText() +\"\\\"\"+\",\");\n                            bufferedWriter.write(\"\\\"ItemNumber:\\\"\"+\"\\\"\"+number.getText()+\"\\\"\"+\",\");\n                            bufferedWriter.write(\"\\\"ItemCost:\\\"\"+\"\\\"\"+cost.getText()+\"\\\"\"+\",\");\n                            bufferedWriter.write(\"\\\"AmountOwned:\\\"\"+\"\\\"\"+amount.getText()+\"\\\"\"+\",\");\n\n                            bufferedWriter.close();\n\n\n                        }  \n\n                        catch(IOException ex) {\n                            System.out.println(\n                                               \"Error writing to file '\"\n                                               +  \"'\");\n                            // Or we could just do this:\n                            // ex.printStackTrace();\n                        }\n                    }}   \n                );\n\n\n\n            JButton clear;\n            buttons.add(clear=new JButton(\"Clear\"));\n\n            clear.addActionListener(new ActionListener() {\n\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        // TODO Auto-generated method stub\n                        items.setText(null);\n                        number.setText(null);\n                        cost.setText(null);\n                        amount.setText(null);\n                    }});\n\n            JButton exit;\n            buttons.add(exit= new JButton(\"Exit\"));\n\n            exit.addActionListener(new ActionListener()\n                {\n\n                    @Override\n                    public void actionPerformed(ActionEvent e) \n                    {\n                        // TODO Auto-generated method stub\n                        System.exit(0);\n\n                    }\n\n\n                });\n        }\n        JPanel button = new JPanel();\n        {\n            button.setLayout(new GridLayout(5,5,2,2));\n            myFrame.add(button ,BorderLayout.SOUTH);\n\n\n            JButton load;\n            button.add(load=new JButton(\"Load\"));\n\n            load.addActionListener(new ActionListener() \n                {\n                    @Override\n                    public void actionPerformed(ActionEvent e) \n                    {\n                        // TODO Auto-generated method stub\n                        try { \n\n                            String csvFile = \"Documents/workspace/samp/data.csv\";\n\n                            //create BufferedReader to read csv file\n                            BufferedReader br = new BufferedReader(new FileReader(\"data.csv\"));\n                            String line = \"\";\n                            StringTokenizer st = null;\n\n                            int lineNumber = 0; \n                            int tokenNumber = 0;\n\n                            //read comma separated file line by line\n                            while ((line = br.readLine()) != null) {\n                                lineNumber++;\n\n                                //use comma as token separator\n                                st = new StringTokenizer(line, \",\");\n\n                                while (st.hasMoreTokens()) {\n                                    tokenNumber++;\n\n                                    //display csv values\n                                    System.out.print(st.nextToken() + \"  \");\n                                }\n\n                                System.out.println();\n\n                                //reset token number\n                                tokenNumber = 0;\n                            }\n\n                        } catch (Exception e1) {\n                            System.err.println(\"CSV file cannot be read : \" + e1);\n                        }\n                    }\n                }\n\n                );\n\n            JButton next;\n            button.add(next=new JButton(\"Next&gt;\"));\n\n            next.addActionListener(new ActionListener() \n                {\n                    @Override\n                    public void actionPerformed(ActionEvent e) \n                    {\n                        // TODO Auto-generated method stub\n                    }\n\n                });\n\n            JButton prev;\n            button.add(prev=new JButton(\"&lt;Prev\"));\n\n            prev.addActionListener(new ActionListener() \n                {\n                    @Override\n                    public void actionPerformed(ActionEvent e) \n                    {\n                        // TODO Auto-generated method stub\n                    }\n\n                });\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","list","collections","iterator"],"answers":[{"comments":[{"owner":{"account_id":7327084,"reputation":9738,"user_id":5581182,"accept_rate":88,"display_name":"Thor"},"score":0,"creation_date":1457926319,"post_id":35979083,"comment_id":59612200,"body_markdown":"so what the tutorial meant is that if I call next() and then call previous(), the same element would be returned, is that correct? The wording of the tutorial is a bit too simple for my liking sometimes.","body":"so what the tutorial meant is that if I call next() and then call previous(), the same element would be returned, is that correct? The wording of the tutorial is a bit too simple for my liking sometimes."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1457926117,"creation_date":1457926117,"answer_id":35979083,"question_id":35979026,"body_markdown":"&gt; The first call to previous returns the same element as the last call to next. Could someone explain it in a bit more detail?\r\n\r\nIf you say `.next()` and then `.previous()`, you get the same instance because of the internal position of the `Iterator`. Otherwise, consecutive calls to `.next()` would return the *same* **instance**.\r\n\r\n    a b c\r\n      ^\r\n\r\n`.next()` gives `b`, but moves the pointer to `c`\r\n\r\n    a b c\r\n        ^\r\n\r\nso `.previous()` then yields `b`.","title":"How does the first call to previous returns the same element as the last call to next?","body":"<blockquote>\n  <p>The first call to previous returns the same element as the last call to next. Could someone explain it in a bit more detail?</p>\n</blockquote>\n\n<p>If you say <code>.next()</code> and then <code>.previous()</code>, you get the same instance because of the internal position of the <code>Iterator</code>. Otherwise, consecutive calls to <code>.next()</code> would return the <em>same</em> <strong>instance</strong>.</p>\n\n<pre><code>a b c\n  ^\n</code></pre>\n\n<p><code>.next()</code> gives <code>b</code>, but moves the pointer to <code>c</code></p>\n\n<pre><code>a b c\n    ^\n</code></pre>\n\n<p>so <code>.previous()</code> then yields <code>b</code>.</p>\n"},{"comments":[{"owner":{"account_id":7327084,"reputation":9738,"user_id":5581182,"accept_rate":88,"display_name":"Thor"},"score":0,"creation_date":1457926448,"post_id":35979084,"comment_id":59612228,"body_markdown":"Elliott Frisch mentioned below that the pointer points to element themselves, however, you have mentioned that cursor points between elements. Are pointer and cursor the same or they are referring to two different concept?","body":"Elliott Frisch mentioned below that the pointer points to element themselves, however, you have mentioned that cursor points between elements. Are pointer and cursor the same or they are referring to two different concept?"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1457926570,"post_id":35979084,"comment_id":59612268,"body_markdown":"I am providing a mental model that you can use to predict the behavior.  An `Iterator`&#39;s definition specifies nothing about how it works internally, how it maintains a &quot;pointer&quot; to an element.  My description is an abstraction that captures the behavior of the interface accurately without reference to what is going on &quot;under the covers&quot;.  The important point is that an `Iterator` behaves as if the cursor stops between elements. If you think about it that way, the behavior of `next` and `previous` makes sense. This is a useful lesson in the difference between an interface and an implementation.","body":"I am providing a mental model that you can use to predict the behavior.  An <code>Iterator</code>&#39;s definition specifies nothing about how it works internally, how it maintains a &quot;pointer&quot; to an element.  My description is an abstraction that captures the behavior of the interface accurately without reference to what is going on &quot;under the covers&quot;.  The important point is that an <code>Iterator</code> behaves as if the cursor stops between elements. If you think about it that way, the behavior of <code>next</code> and <code>previous</code> makes sense. This is a useful lesson in the difference between an interface and an implementation."},{"owner":{"account_id":7327084,"reputation":9738,"user_id":5581182,"accept_rate":88,"display_name":"Thor"},"score":0,"creation_date":1457926704,"post_id":35979084,"comment_id":59612299,"body_markdown":"ok, so the cursor you have mentioned is part of an mental model used to understand the concept. The pointer is part of how Java implement iterator internally? I hope I got this right","body":"ok, so the cursor you have mentioned is part of an mental model used to understand the concept. The pointer is part of how Java implement iterator internally? I hope I got this right"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1457926833,"post_id":35979084,"comment_id":59612333,"body_markdown":"100% correct. With an interface you care only about the behavior, not its implementation, since different collections will have different implementations for their iterators.","body":"100% correct. With an interface you care only about the behavior, not its implementation, since different collections will have different implementations for their iterators."}],"tags":[],"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457926119,"creation_date":1457926119,"answer_id":35979084,"question_id":35979026,"body_markdown":"It&#39;s very simple if you change your mental model. The &quot;cursor&quot; for `next` and `previous` rests _between_ elements. When you call `next` or `previous` it moves one element and returns the element it passed over.\r\n\r\nIt starts out _before_ the first element.  The call to `next` returns the element it passes over (the first one) and the cursor stops between the first and second element (elements 0 and 1).\r\n\r\nCalling `next` at this point returns the second element and leaves the cursor between the second and third element. If instead you called `previous`, the cursor would back up over the first element and return it, coming to rest before the first element again.","title":"How does the first call to previous returns the same element as the last call to next?","body":"<p>It's very simple if you change your mental model. The \"cursor\" for <code>next</code> and <code>previous</code> rests <em>between</em> elements. When you call <code>next</code> or <code>previous</code> it moves one element and returns the element it passed over.</p>\n\n<p>It starts out <em>before</em> the first element.  The call to <code>next</code> returns the element it passes over (the first one) and the cursor stops between the first and second element (elements 0 and 1).</p>\n\n<p>Calling <code>next</code> at this point returns the second element and leaves the cursor between the second and third element. If instead you called <code>previous</code>, the cursor would back up over the first element and return it, coming to rest before the first element again.</p>\n"},{"tags":[],"owner":{"account_id":2105298,"reputation":16079,"user_id":1871769,"accept_rate":60,"display_name":"Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457926367,"creation_date":1457926367,"answer_id":35979116,"question_id":35979026,"body_markdown":"`list.previous` returns the previous element in the list and moves the cursor position backwards.Note that alternating calls to next and previous will return the same element repeatedly.\r\n\r\n    ListIterator&lt;Object&gt; iterator = (ListIterator&lt;Object&gt;) myList.iterator();\r\n    \t\twhile (iterator.hasNext()) {\r\n    \t\t\tObject o = iterator.next();\r\n    \t\t\tObject secondObject = iterator.previous();\r\n    \t\t\to == secondObject; // ALways\r\n    \t\t}","title":"How does the first call to previous returns the same element as the last call to next?","body":"<p><code>list.previous</code> returns the previous element in the list and moves the cursor position backwards.Note that alternating calls to next and previous will return the same element repeatedly.</p>\n\n<pre><code>ListIterator&lt;Object&gt; iterator = (ListIterator&lt;Object&gt;) myList.iterator();\n        while (iterator.hasNext()) {\n            Object o = iterator.next();\n            Object secondObject = iterator.previous();\n            o == secondObject; // ALways\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2524791,"reputation":3884,"user_id":2194364,"accept_rate":77,"display_name":"Raghu K Nair"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457926961,"creation_date":1457926961,"answer_id":35979187,"question_id":35979026,"body_markdown":"Hope this example will clear your doubt\r\n\r\n    List&lt;Integer&gt; colls = Arrays.asList(new Integer[]{1,2,3,4,5,6,7,8,9,10});\r\n    \r\n    ListIterator&lt;Integer&gt; iterator = colls.listIterator();\r\n    iterator.next();\r\n    System.out.println(&quot;Last Call to next &quot; + iterator.next());\r\n    System.out.println(&quot;First Call to previous  &quot; + iterator.previous());        ","title":"How does the first call to previous returns the same element as the last call to next?","body":"<p>Hope this example will clear your doubt</p>\n\n<pre><code>List&lt;Integer&gt; colls = Arrays.asList(new Integer[]{1,2,3,4,5,6,7,8,9,10});\n\nListIterator&lt;Integer&gt; iterator = colls.listIterator();\niterator.next();\nSystem.out.println(\"Last Call to next \" + iterator.next());\nSystem.out.println(\"First Call to previous  \" + iterator.previous());        \n</code></pre>\n"}],"owner":{"account_id":7327084,"reputation":9738,"user_id":5581182,"accept_rate":88,"display_name":"Thor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35979083,"answer_count":4,"score":3,"last_activity_date":1686002379,"creation_date":1457925623,"question_id":35979026,"body_markdown":"I&#39;m reading [Java Tutorial Oracle][1] on List interface and have encountered the following statement:\r\n\r\n&gt; Calls to next and previous can be intermixed, but you have to be a bit\r\n&gt; careful. The first call to previous returns the same element as the\r\n&gt; last call to next.\r\n\r\nI&#39;m struggling to get my head around the phrase: The first call to previous returns the same element as the last call to next. Could someone explain it in a bit more detail?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html","title":"How does the first call to previous returns the same element as the last call to next?","body":"<p>I'm reading <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\" rel=\"nofollow noreferrer\">Java Tutorial Oracle</a> on List interface and have encountered the following statement:</p>\n\n<blockquote>\n  <p>Calls to next and previous can be intermixed, but you have to be a bit\n  careful. The first call to previous returns the same element as the\n  last call to next.</p>\n</blockquote>\n\n<p>I'm struggling to get my head around the phrase: The first call to previous returns the same element as the last call to next. Could someone explain it in a bit more detail?</p>\n"},{"tags":["java","java.util.logging"],"comments":[{"owner":{"account_id":2024182,"reputation":2960,"user_id":1809671,"accept_rate":100,"display_name":"Mirco"},"score":0,"creation_date":1365428423,"post_id":15880629,"comment_id":22608765,"body_markdown":"Consider Log4J http://logging.apache.org/log4j/2.x/","body":"Consider Log4J <a href=\"http://logging.apache.org/log4j/2.x/\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x</a>"},{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":1,"creation_date":1415796619,"post_id":15880629,"comment_id":42329140,"body_markdown":"@verbose-mode Why? java util logging does all that is required and and is simpler to use. As far as I see it your suggestion breaks the KISS (Keep it Simple S…) principle.","body":"@verbose-mode Why? java util logging does all that is required and and is simpler to use. As far as I see it your suggestion breaks the KISS (Keep it Simple S…) principle."}],"answers":[{"comments":[{"owner":{"account_id":4405100,"reputation":1990,"user_id":3589749,"accept_rate":67,"display_name":"abhishek ringsia"},"score":2,"creation_date":1524727312,"post_id":15881018,"comment_id":87090191,"body_markdown":"logger.info(&quot;Logging with  id  {} and cache : {} &quot; ,id,cache );","body":"logger.info(&quot;Logging with  id  {} and cache : {} &quot; ,id,cache );"},{"owner":{"account_id":2380565,"reputation":165,"user_id":2082681,"display_name":"havryliuk"},"score":1,"creation_date":1672748327,"post_id":15881018,"comment_id":132340453,"body_markdown":"This answer is correct. I have achieved the same by using `java.util.logging.Logger`&#39;s method `public void log(Level level, String msg, Object params[])`. You just need to number the placeholders in the message like `{0}`, `{1}`, etc. and pass an array of parameters like shown above `new Object[] {parameter1, parameter2}`.","body":"This answer is correct. I have achieved the same by using <code>java.util.logging.Logger</code>&#39;s method <code>public void log(Level level, String msg, Object params[])</code>. You just need to number the placeholders in the message like <code>{0}</code>, <code>{1}</code>, etc. and pass an array of parameters like shown above <code>new Object[] {parameter1, parameter2}</code>."}],"tags":[],"owner":{"account_id":2231483,"reputation":743,"user_id":1968918,"display_name":"Rohit"},"comment_count":2,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1365429735,"creation_date":1365429412,"answer_id":15881018,"question_id":15880629,"body_markdown":"I assume you need the log format in the below format\r\nFINE,Message1,object.GetValue(),Message2,1,Message3,2\r\n\r\nYou need to create an output message format\r\n\r\n    logger.log(Level.INFO, &quot;{0},{1},{2},{3},{4},{5}&quot;,new Object[]{Message1,object.getValue(),Message2,1,Message3,2});\r\n\r\nNow you need to create a custom formatter which by extending Formatter class\r\n\r\n    public class DataFormatter extends Formatter {\r\n\r\n\t@Override\r\n\tpublic synchronized String format(LogRecord record) {\r\n\t\tString formattedMessage = formatMessage(record);\r\n\t\tString throwable = &quot;&quot;;\r\n\t\tString outputFormat = &quot;%1$s, %2$s \\n %3$s&quot;; //Also adding for logging exceptions\r\n        if (record.getThrown() != null) {\r\n            StringWriter sw = new StringWriter();\r\n            PrintWriter pw = new PrintWriter(sw);\r\n            pw.println();\r\n            record.getThrown().printStackTrace(pw);\r\n            pw.close();\r\n            throwable = sw.toString();\r\n        }\r\n        return String.format(outputFormat,record.getLevel().getName(),formattedMessage,throwable);\r\n\t}\r\n    }\r\nNow set the newly created formatter\r\n\r\n        for(int i=0;i&lt;logger.getHandlers().length;i++)\r\n\t\t\tlogger.getHandlers()[i].setFormatter(new DataFormatter());","title":"Logging with multiple parameters","body":"<p>I assume you need the log format in the below format\nFINE,Message1,object.GetValue(),Message2,1,Message3,2</p>\n\n<p>You need to create an output message format</p>\n\n<pre><code>logger.log(Level.INFO, \"{0},{1},{2},{3},{4},{5}\",new Object[]{Message1,object.getValue(),Message2,1,Message3,2});\n</code></pre>\n\n<p>Now you need to create a custom formatter which by extending Formatter class</p>\n\n<pre><code>public class DataFormatter extends Formatter {\n\n@Override\npublic synchronized String format(LogRecord record) {\n    String formattedMessage = formatMessage(record);\n    String throwable = \"\";\n    String outputFormat = \"%1$s, %2$s \\n %3$s\"; //Also adding for logging exceptions\n    if (record.getThrown() != null) {\n        StringWriter sw = new StringWriter();\n        PrintWriter pw = new PrintWriter(sw);\n        pw.println();\n        record.getThrown().printStackTrace(pw);\n        pw.close();\n        throwable = sw.toString();\n    }\n    return String.format(outputFormat,record.getLevel().getName(),formattedMessage,throwable);\n}\n}\n</code></pre>\n\n<p>Now set the newly created formatter</p>\n\n<pre><code>    for(int i=0;i&lt;logger.getHandlers().length;i++)\n        logger.getHandlers()[i].setFormatter(new DataFormatter());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1110258,"reputation":537,"user_id":1100859,"accept_rate":67,"display_name":"Breina"},"score":2,"creation_date":1572865173,"post_id":38073371,"comment_id":103681330,"body_markdown":"Disadvantage of this is that parameter formatting cannot be applied when they are inserted through `String.format` rather than `java.util.logging.Logger` itself.","body":"Disadvantage of this is that parameter formatting cannot be applied when they are inserted through <code>String.format</code> rather than <code>java.util.logging.Logger</code> itself."}],"tags":[],"owner":{"account_id":4738839,"reputation":1329,"user_id":3832347,"display_name":"Ben Steinert"},"comment_count":1,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1467109744,"creation_date":1467108843,"answer_id":38073371,"question_id":15880629,"body_markdown":"It&#39;s a quite old topic, anyhow, my two cents, because I also prefer to use java.util.logging.Logger` in my projects where sufficient.\r\n\r\nLambdas make this boilerplate Formatter extension for multiple custom parameters more or less obsolete, unless you benefit from its application-wide reuse. In (my) simple scenarios, log messages are tailored to the code part where it is inserted, so `String.format()` is usually much easier and more flexible. \r\n\r\n**Before Java 8** and lambdas, the `Formatter` was the only possibility to postpone the message construction. The only *alternative* was, to construct the message to log in advance before the `loggable` check based on the Level took place.  \r\n**With Java 8 lambdas**, the String formatting can be postponed to after the `loggable` check, but still with access to the original method context. The only small downside is, that all accessed fields need to be final, due to the lambda restrictions.\r\n\r\nHere a fairly simple snippet:\r\n\r\n    final String val1 = &quot;lambda expression log message&quot;;\r\n    final Level level = Level.INFO;\r\n    Logger.getGlobal().log(level, () -&gt; \r\n            String.format(&quot;Hello, I&#39;m a %s, evaluated after %s loggable check.&quot;, val1, level)\r\n    );\r\n    Logger.getGlobal().log(level, new RuntimeException(), () -&gt; \r\n            String.format(&quot;Hello, I&#39;m a %s with a stack trace, evaluated after %s loggable check.&quot;, val1, level)\r\n    );\r\n\r\n\r\nHope this helps some of you who also want to use the built-in logging :-)\r\n  \r\nCheers Ben\r\n\r\n            ","title":"Logging with multiple parameters","body":"<p>It's a quite old topic, anyhow, my two cents, because I also prefer to use java.util.logging.Logger` in my projects where sufficient.</p>\n\n<p>Lambdas make this boilerplate Formatter extension for multiple custom parameters more or less obsolete, unless you benefit from its application-wide reuse. In (my) simple scenarios, log messages are tailored to the code part where it is inserted, so <code>String.format()</code> is usually much easier and more flexible. </p>\n\n<p><strong>Before Java 8</strong> and lambdas, the <code>Formatter</code> was the only possibility to postpone the message construction. The only <em>alternative</em> was, to construct the message to log in advance before the <code>loggable</code> check based on the Level took place.<br>\n<strong>With Java 8 lambdas</strong>, the String formatting can be postponed to after the <code>loggable</code> check, but still with access to the original method context. The only small downside is, that all accessed fields need to be final, due to the lambda restrictions.</p>\n\n<p>Here a fairly simple snippet:</p>\n\n<pre><code>final String val1 = \"lambda expression log message\";\nfinal Level level = Level.INFO;\nLogger.getGlobal().log(level, () -&gt; \n        String.format(\"Hello, I'm a %s, evaluated after %s loggable check.\", val1, level)\n);\nLogger.getGlobal().log(level, new RuntimeException(), () -&gt; \n        String.format(\"Hello, I'm a %s with a stack trace, evaluated after %s loggable check.\", val1, level)\n);\n</code></pre>\n\n<p>Hope this helps some of you who also want to use the built-in logging :-)</p>\n\n<p>Cheers Ben</p>\n"},{"comments":[{"owner":{"account_id":6097915,"reputation":1388,"user_id":4758148,"accept_rate":31,"display_name":"hafiz ali"},"score":1,"creation_date":1578393533,"post_id":51613020,"comment_id":105415522,"body_markdown":"has there anything changed, it doesnt work for me.\n\ne.g:    LOGGER.info(&quot;Nothing found in db for A with a : {} and b : {}&quot;,target, file.getName());","body":"has there anything changed, it doesnt work for me.  e.g:    LOGGER.info(&quot;Nothing found in db for A with a : {} and b : {}&quot;,target, file.getName());"},{"owner":{"account_id":6097915,"reputation":1388,"user_id":4758148,"accept_rate":31,"display_name":"hafiz ali"},"score":1,"creation_date":1578393616,"post_id":51613020,"comment_id":105415571,"body_markdown":"this works: \n    LOGGER.log(Level.INFO,&quot;Added file  to the target: {0}&quot;, target);\n\nbut not with multiple params","body":"this works:      LOGGER.log(Level.INFO,&quot;Added file  to the target: {0}&quot;, target);  but not with multiple params"},{"owner":{"account_id":2047736,"reputation":2932,"user_id":1827453,"accept_rate":69,"display_name":"Panu Haaramo"},"score":21,"creation_date":1584868909,"post_id":51613020,"comment_id":107566327,"body_markdown":"Question was about `java.util.logging`.","body":"Question was about <code>java.util.logging</code>."}],"tags":[],"owner":{"account_id":2662065,"reputation":1292,"user_id":2301494,"display_name":"Sanchi Girotra"},"comment_count":3,"down_vote_count":4,"up_vote_count":40,"is_accepted":false,"score":36,"last_activity_date":1599146048,"creation_date":1533038732,"answer_id":51613020,"question_id":15880629,"body_markdown":"We used below code while using slf4j logger -\r\n\r\n    logger.error(&quot;Error while finding A from DB. a : {} and b : {}&quot;, a, b);\r\n    logger.info(&quot;Nothing found in db for A with a : {} and b : {}&quot;, a, b);\r\n\r\n","title":"Logging with multiple parameters","body":"<p>We used below code while using slf4j logger -</p>\n<pre><code>logger.error(&quot;Error while finding A from DB. a : {} and b : {}&quot;, a, b);\nlogger.info(&quot;Nothing found in db for A with a : {} and b : {}&quot;, a, b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686001831,"creation_date":1686001831,"answer_id":76410217,"question_id":15880629,"body_markdown":"A simple example that works for me:\r\n\r\n    Logger logger = java.util.logging.Logger.getLogger(&quot;MyLogger&quot;);\r\n    logger.log(java.util.logging.Level.INFO, &quot;Test {0}, {1}&quot;, new Object[]{2, 3});\r\n\r\nResult:\r\n\r\n    INFO: Test 2, 3","title":"Logging with multiple parameters","body":"<p>A simple example that works for me:</p>\n<pre><code>Logger logger = java.util.logging.Logger.getLogger(&quot;MyLogger&quot;);\nlogger.log(java.util.logging.Level.INFO, &quot;Test {0}, {1}&quot;, new Object[]{2, 3});\n</code></pre>\n<p>Result:</p>\n<pre><code>INFO: Test 2, 3\n</code></pre>\n"}],"owner":{"account_id":2515194,"reputation":431,"user_id":2186796,"accept_rate":0,"display_name":"Gash87"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168978,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"answer_count":4,"score":41,"last_activity_date":1686001831,"creation_date":1365428382,"question_id":15880629,"body_markdown":"I am currently working on a program wherein, I must write all output to a log file. \r\n\r\nI need to write a log method, that should give an output with a level, a message, an object value, another message, an integer value, another message and another integer value, in the same order as I have specified. I can&#39;t seem to find a log method that does this. I am using `Java.util.logging`. Is this possible?","title":"Logging with multiple parameters","body":"<p>I am currently working on a program wherein, I must write all output to a log file. </p>\n\n<p>I need to write a log method, that should give an output with a level, a message, an object value, another message, an integer value, another message and another integer value, in the same order as I have specified. I can't seem to find a log method that does this. I am using <code>Java.util.logging</code>. Is this possible?</p>\n"},{"tags":["java","string","stringbuilder"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1685989408,"post_id":76409040,"comment_id":134735143,"body_markdown":"It&#39;s easier to do with a String: `url = url.replaceAll(&quot;&amp;password=[^&amp;]+&quot;, &quot;&amp;password=######&quot;);`. Or if that semicolon is intended, make it `[^;]`.","body":"It&#39;s easier to do with a String: <code>url = url.replaceAll(&quot;&amp;password=[^&amp;]+&quot;, &quot;&amp;password=######&quot;);</code>. Or if that semicolon is intended, make it <code>[^;]</code>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1685989449,"post_id":76409040,"comment_id":134735154,"body_markdown":"Is _StringBuilder_ a requirement?  You could also just use a _String_.","body":"Is <i>StringBuilder</i> a requirement?  You could also just use a <i>String</i>."},{"owner":{"account_id":2396896,"reputation":173,"user_id":2095535,"accept_rate":67,"display_name":"Luiz Ricardo Cardoso"},"score":0,"creation_date":1685989752,"post_id":76409040,"comment_id":134735213,"body_markdown":"this solved my problem, thanks","body":"this solved my problem, thanks"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1686007002,"post_id":76409040,"comment_id":134737580,"body_markdown":"Must the length of the mask equal the length of the plaintext password? Note: recommend not because it would give away password length info.","body":"Must the length of the mask equal the length of the plaintext password? Note: recommend not because it would give away password length info."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686001683,"creation_date":1685989983,"answer_id":76409135,"question_id":76409040,"body_markdown":"As a note, _StringBuilder_ is not required here&amp;mdash;you could just use basic string concatenation.\r\n\r\n```java\r\nString string = &quot;https://hlg-gateway.odsus.com.br/token?grant_type=password&amp;username=cards-app&amp;password=cards-app;&quot;;\r\nStringBuilder stringBuilder = new StringBuilder(string);\r\nint indexOfA = string.indexOf(&quot;&amp;password=&quot;);\r\nindexOfA = string.indexOf(&#39;=&#39;, indexOfA);\r\nint indexOfB = string.indexOf(&#39;;&#39;, indexOfA);\r\nString mask = &quot;#&quot;.repeat(indexOfB - indexOfA - 1);\r\nstringBuilder.replace(indexOfA, indexOfB, mask);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nhttps://hlg-gateway.odsus.com.br/token?grant_type=password&amp;username=cards-app&amp;password=#########;\r\n```\r\n\r\nAnd, without the _StringBuilder_, you could use the following concatenation&amp;mdash;in place of the _replace_ method call.\r\n\r\n```java\r\nstring = string.substring(0, indexOfA + 1) + mask + string.substring(indexOfB);\r\n```","title":"ensure removal of password at end of string using StringBuilder with java","body":"<p>As a note, <em>StringBuilder</em> is not required here—you could just use basic string concatenation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;https://hlg-gateway.odsus.com.br/token?grant_type=password&amp;username=cards-app&amp;password=cards-app;&quot;;\nStringBuilder stringBuilder = new StringBuilder(string);\nint indexOfA = string.indexOf(&quot;&amp;password=&quot;);\nindexOfA = string.indexOf('=', indexOfA);\nint indexOfB = string.indexOf(';', indexOfA);\nString mask = &quot;#&quot;.repeat(indexOfB - indexOfA - 1);\nstringBuilder.replace(indexOfA, indexOfB, mask);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>https://hlg-gateway.odsus.com.br/token?grant_type=password&amp;username=cards-app&amp;password=#########;\n</code></pre>\n<p>And, without the <em>StringBuilder</em>, you could use the following concatenation—in place of the <em>replace</em> method call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>string = string.substring(0, indexOfA + 1) + mask + string.substring(indexOfB);\n</code></pre>\n"}],"owner":{"account_id":2396896,"reputation":173,"user_id":2095535,"accept_rate":67,"display_name":"Luiz Ricardo Cardoso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76409135,"answer_count":1,"score":-1,"last_activity_date":1686001683,"creation_date":1685989170,"question_id":76409040,"body_markdown":"I need to ensure that always at the end of this string when there is a password, from there it leaves the password masked and does not display.\r\n\r\nRemembering that in the end, the value cannot always be `cards-app`, it can be a different value, I need to mask the end of this string from `&amp;password=` in order to mask the password.\r\n\r\n\r\nHow can I do this for sure using StringBuilder?\r\n----------------------------------------------\r\n\r\nEx.: \r\n\r\nhttps://hlg-gateway.odsus.com.br/token?grant_type=password&amp;username=cards-app&amp;password=cards-app;\r\n\r\nexpected output:\r\n\r\nhttps://hlg-gateway.odsus.com.br/token?grant_type=password&amp;username=cards-app&amp;password=######;\r\n\r\n\r\n**This information is displayed in the log, I just want to make sure the end of the string is masked to not display the password.**\r\n\r\n","title":"ensure removal of password at end of string using StringBuilder with java","body":"<p>I need to ensure that always at the end of this string when there is a password, from there it leaves the password masked and does not display.</p>\n<p>Remembering that in the end, the value cannot always be <code>cards-app</code>, it can be a different value, I need to mask the end of this string from <code>&amp;password=</code> in order to mask the password.</p>\n<h2>How can I do this for sure using StringBuilder?</h2>\n<p>Ex.:</p>\n<p><a href=\"https://hlg-gateway.odsus.com.br/token?grant_type=password&amp;username=cards-app&amp;password=cards-app;\" rel=\"nofollow noreferrer\">https://hlg-gateway.odsus.com.br/token?grant_type=password&amp;username=cards-app&amp;password=cards-app;</a></p>\n<p>expected output:</p>\n<p><a href=\"https://hlg-gateway.odsus.com.br/token?grant_type=password&amp;username=cards-app&amp;password=######;\" rel=\"nofollow noreferrer\">https://hlg-gateway.odsus.com.br/token?grant_type=password&amp;username=cards-app&amp;password=######;</a></p>\n<p><strong>This information is displayed in the log, I just want to make sure the end of the string is masked to not display the password.</strong></p>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1685983029,"post_id":76408384,"comment_id":134734027,"body_markdown":"Due to a [moderator/volunteer strike](https://meta.stackexchange.com/questions/389811/moderator-strike-stack-overflow-inc-cannot-consistently-ignore-mistreat-and?r=Saves_AllUserSaves) I will not be performing any content curation on this question.","body":"Due to a <a href=\"https://meta.stackexchange.com/questions/389811/moderator-strike-stack-overflow-inc-cannot-consistently-ignore-mistreat-and?r=Saves_AllUserSaves\">moderator/volunteer strike</a> I will not be performing any content curation on this question."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1685985855,"post_id":76408384,"comment_id":134734530,"body_markdown":"How do you assemble your jar? The answer depends on plugin that you use. Anyway, probably you have to specify ${project.name}-${project.version}.jar as an output artefact file name","body":"How do you assemble your jar? The answer depends on plugin that you use. Anyway, probably you have to specify ${project.name}-${project.version}.jar as an output artefact file name"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685984654,"creation_date":1685984654,"answer_id":76408590,"question_id":76408384,"body_markdown":"The version of the artifact has a dedicated element in the pom.xml file. In your case use this:\r\n\r\n    &lt;artifactId&gt;app&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;","title":"Can I name final jar file with version included after building an artifact?","body":"<p>The version of the artifact has a dedicated element in the pom.xml file. In your case use this:</p>\n<pre><code>&lt;artifactId&gt;app&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;version&gt;1.0.0&lt;/version&gt;\n</code></pre>\n"}],"owner":{"account_id":12967767,"reputation":23,"user_id":9374652,"display_name":"Wiggle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686001605,"creation_date":1685982753,"question_id":76408384,"body_markdown":"I use maven and I&#39;m getting my jar from building an artifact, and I&#39;m in a need of jar file to looking like &quot;app-1.0.0.jar&quot;\r\n\r\nhow can I do this?\r\n\r\nthank you!","title":"Can I name final jar file with version included after building an artifact?","body":"<p>I use maven and I'm getting my jar from building an artifact, and I'm in a need of jar file to looking like &quot;app-1.0.0.jar&quot;</p>\n<p>how can I do this?</p>\n<p>thank you!</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1686001280,"post_id":76410155,"comment_id":134736981,"body_markdown":"Try typing `7,7` -- locale is a thing. Use `{}` because Java is not Python, and you will always print `Congratulations` (regardless of the value of `average`).","body":"Try typing <code>7,7</code> -- locale is a thing. Use <code>{}</code> because Java is not Python, and you will always print <code>Congratulations</code> (regardless of the value of <code>average</code>)."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1686003835,"post_id":76410155,"comment_id":134737292,"body_markdown":"Your if statement needs {}.  And when reading from the console, don&#39;t close the scanner.","body":"Your if statement needs {}.  And when reading from the console, don&#39;t close the scanner."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1686010644,"post_id":76410155,"comment_id":134737855,"body_markdown":"You are not having a problem with Eclipse. You are having a problem with the Java language. Eclipse is just an IDE.","body":"You are not having a problem with Eclipse. You are having a problem with the Java language. Eclipse is just an IDE."}],"owner":{"account_id":28711085,"reputation":1,"user_id":21986569,"display_name":"Fillypper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686001012,"creation_date":1686001012,"question_id":76410155,"body_markdown":"I&#39;m new in java/eclipse so i&#39;m learning some basic stuff rn,\r\n\r\nThis error appear when i&#39;m tryna to type a numbet with ., so if i put 7, 8, 9 ,10... its going right.\r\n\r\nBut it go wrong when i&#39;m put numbers with . like 7.1, 8.8\r\n\r\nMy code\r\n\r\n```\r\npackage controle;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class If {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Type the average: &quot;);\r\n\t\tdouble average = input.nextDouble();\r\n\t\t\r\n\t\tif(average &gt;= 7.0)\r\n\t\t\tSystem.out.println(&quot;approved&quot;);\r\n\t\t\tSystem.out.println(&quot;Congratulations&quot;);\r\n\t\t\r\n\t\tinput.close();\r\n\t}\r\n\r\n}\r\n```\r\n[![This is the error](https://i.stack.imgur.com/iKjyP.png)](https://i.stack.imgur.com/iKjyP.png)\r\n\r\ni didn&#39;t understand what happened, cuz its looks right\r\n\r\n","title":"Issue with Conditional Control Statements in Eclipse","body":"<p>I'm new in java/eclipse so i'm learning some basic stuff rn,</p>\n<p>This error appear when i'm tryna to type a numbet with ., so if i put 7, 8, 9 ,10... its going right.</p>\n<p>But it go wrong when i'm put numbers with . like 7.1, 8.8</p>\n<p>My code</p>\n<pre><code>package controle;\n\nimport java.util.Scanner;\n\npublic class If {\n    \n    public static void main(String[] args) {\n        \n        Scanner input = new Scanner(System.in);\n        \n        System.out.print(&quot;Type the average: &quot;);\n        double average = input.nextDouble();\n        \n        if(average &gt;= 7.0)\n            System.out.println(&quot;approved&quot;);\n            System.out.println(&quot;Congratulations&quot;);\n        \n        input.close();\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iKjyP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iKjyP.png\" alt=\"This is the error\" /></a></p>\n<p>i didn't understand what happened, cuz its looks right</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1686000860,"post_id":76410113,"comment_id":134736912,"body_markdown":"`Map.Entry e1` is your problem — that&#39;s a raw type, which means all the generics get resolved to Object. (There&#39;s probably a duplicate somewhere on this site, but I don&#39;t have time to search for it right now. :) )","body":"<code>Map.Entry e1</code> is your problem — that&#39;s a raw type, which means all the generics get resolved to Object. (There&#39;s probably a duplicate somewhere on this site, but I don&#39;t have time to search for it right now. :) )"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1686000834,"creation_date":1686000834,"answer_id":76410138,"question_id":76410113,"body_markdown":"You&#39;re using raw `Map.Entry` for `e1` and `e2`. Change it like,\r\n\r\n\tPriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt; pq = new PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt;(k,\r\n\t\t\t(Map.Entry&lt;Integer, Integer&gt; e1, Map.Entry&lt;Integer, Integer&gt; e2) -&gt; {\r\n\t\t\t\tInteger e1Val = e1.getValue();\r\n\t\t\t\tInteger e2Val = e2.getValue();\r\n\t\t\t\treturn e1Val - e2Val;\r\n\t\t\t});\r\n\r\nOr just remove the type hint for `e1` and `e2`.\r\n\r\n\tPriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt; pq = new PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt;(k, (e1, e2) -&gt; {\r\n\t\tInteger e1Val = e1.getValue();\r\n\t\tInteger e2Val = e2.getValue();\r\n\t\treturn e1Val - e2Val;\r\n\t});\r\n\r\n","title":"Java Map.Entry getValue() is returning an Object even though it should be an Integer","body":"<p>You're using raw <code>Map.Entry</code> for <code>e1</code> and <code>e2</code>. Change it like,</p>\n<pre><code>PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt; pq = new PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt;(k,\n        (Map.Entry&lt;Integer, Integer&gt; e1, Map.Entry&lt;Integer, Integer&gt; e2) -&gt; {\n            Integer e1Val = e1.getValue();\n            Integer e2Val = e2.getValue();\n            return e1Val - e2Val;\n        });\n</code></pre>\n<p>Or just remove the type hint for <code>e1</code> and <code>e2</code>.</p>\n<pre><code>PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt; pq = new PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt;(k, (e1, e2) -&gt; {\n    Integer e1Val = e1.getValue();\n    Integer e2Val = e2.getValue();\n    return e1Val - e2Val;\n});\n</code></pre>\n"}],"owner":{"account_id":1491934,"reputation":1837,"user_id":1398834,"accept_rate":13,"display_name":"FlameDra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1686000799,"accepted_answer_id":76410138,"answer_count":1,"score":-1,"last_activity_date":1686000834,"creation_date":1686000567,"question_id":76410113,"body_markdown":"I&#39;m trying to solve https://leetcode.com/problems/top-k-frequent-elements/ and have decided to use a PriorityQueue to store values of Map.Entry&lt;Integer, Integer&gt;. I have the following code:\r\n\r\n    class Solution {\r\n        public int[] topKFrequent(int[] nums, int k) {\r\n    \r\n            HashMap&lt;Integer, Integer&gt; countMap = new HashMap&lt;Integer, Integer&gt;();\r\n    \r\n            for (int num : nums) {\r\n                countMap.put(num, countMap.getOrDefault(num, 0) + 1);\r\n            }\r\n    \r\n            PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt; pq = new PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt;(k, (Map.Entry e1, Map.Entry e2) -&gt; {\r\n                Integer e1Val = e1.getValue();\r\n                Integer e2Val = e2.getValue();\r\n                return e1Val - e2Val;\r\n            });\r\n    \r\n            for (var entry : countMap.entrySet()) {\r\n                pq.add(entry);\r\n            }\r\n    \r\n            return null;\r\n            \r\n        }\r\n    }\r\n\r\n\r\nI am trying to have a custom comparator in my PriorityQueue which uses the value of the Map.Entry&lt;Integer, Integer&gt; to do the sorting.\r\n\r\nHowever, I get the following error:\r\n\r\n    Line 15: error: incompatible types: Object cannot be converted to Integer\r\n                Integer e1Val = e1.getValue();\r\n                                           ^\r\n    Line 16: error: incompatible types: Object cannot be converted to Integer\r\n                Integer e2Val = e2.getValue();\r\n                                           ^\r\n    2 errors\r\n\r\nWhy is it saying that my Map.Entry getValue() is an Object when it is actually an Integer?","title":"Java Map.Entry getValue() is returning an Object even though it should be an Integer","body":"<p>I'm trying to solve <a href=\"https://leetcode.com/problems/top-k-frequent-elements/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/top-k-frequent-elements/</a> and have decided to use a PriorityQueue to store values of Map.Entry&lt;Integer, Integer&gt;. I have the following code:</p>\n<pre><code>class Solution {\n    public int[] topKFrequent(int[] nums, int k) {\n\n        HashMap&lt;Integer, Integer&gt; countMap = new HashMap&lt;Integer, Integer&gt;();\n\n        for (int num : nums) {\n            countMap.put(num, countMap.getOrDefault(num, 0) + 1);\n        }\n\n        PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt; pq = new PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt;(k, (Map.Entry e1, Map.Entry e2) -&gt; {\n            Integer e1Val = e1.getValue();\n            Integer e2Val = e2.getValue();\n            return e1Val - e2Val;\n        });\n\n        for (var entry : countMap.entrySet()) {\n            pq.add(entry);\n        }\n\n        return null;\n        \n    }\n}\n</code></pre>\n<p>I am trying to have a custom comparator in my PriorityQueue which uses the value of the Map.Entry&lt;Integer, Integer&gt; to do the sorting.</p>\n<p>However, I get the following error:</p>\n<pre><code>Line 15: error: incompatible types: Object cannot be converted to Integer\n            Integer e1Val = e1.getValue();\n                                       ^\nLine 16: error: incompatible types: Object cannot be converted to Integer\n            Integer e2Val = e2.getValue();\n                                       ^\n2 errors\n</code></pre>\n<p>Why is it saying that my Map.Entry getValue() is an Object when it is actually an Integer?</p>\n"},{"tags":["java","sockets","spring-boot","retrofit2"],"comments":[{"owner":{"account_id":2451696,"reputation":1833,"user_id":2137817,"accept_rate":45,"display_name":"user2137817"},"score":0,"creation_date":1509094449,"post_id":41287247,"comment_id":80889491,"body_markdown":"The solution I found is to use Curl, it works, but never got it to work with retrofit","body":"The solution I found is to use Curl, it works, but never got it to work with retrofit"}],"answers":[{"tags":[],"owner":{"account_id":8033352,"reputation":1134,"user_id":6057426,"display_name":"Muhamed Krasniqi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525346433,"creation_date":1525341380,"answer_id":50152130,"question_id":41287247,"body_markdown":"In my case, I was sending an object using *retrofit* and receiving the same object with the id value of an insert into the database.\r\n\r\nThe problem was that I have added two properties in my server side class, but I forgot to add those two properties in my client class (we know the two classes of exchanging data must be the same with the same properties) and I got the \r\n\r\n&gt; socket timeout exception: connection was reset\r\n\r\nHope this helps somebody","title":"Retrofit Https call give Connection reset","body":"<p>In my case, I was sending an object using <em>retrofit</em> and receiving the same object with the id value of an insert into the database.</p>\n\n<p>The problem was that I have added two properties in my server side class, but I forgot to add those two properties in my client class (we know the two classes of exchanging data must be the same with the same properties) and I got the </p>\n\n<blockquote>\n  <p>socket timeout exception: connection was reset</p>\n</blockquote>\n\n<p>Hope this helps somebody</p>\n"},{"comments":[{"owner":{"account_id":3908906,"reputation":6842,"user_id":3248593,"accept_rate":52,"display_name":"Morteza Rastgoo"},"score":0,"creation_date":1612094656,"post_id":54311391,"comment_id":116653821,"body_markdown":"This is true. But notice that some guys are adding Network config(https://developer.android.com/training/articles/security-config)  to Force HTTP over the HTTPS and causing this issue.","body":"This is true. But notice that some guys are adding Network config(<a href=\"https://developer.android.com/training/articles/security-config\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/security-conf&zwnj;&#8203;ig</a>)  to Force HTTP over the HTTPS and causing this issue."}],"tags":[],"owner":{"account_id":14069609,"reputation":169,"user_id":10163448,"display_name":"Adekola Akano"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1548170521,"creation_date":1548170521,"answer_id":54311391,"question_id":41287247,"body_markdown":"Change your url to HTTPS. It works for me","title":"Retrofit Https call give Connection reset","body":"<p>Change your url to HTTPS. It works for me</p>\n"},{"tags":[],"owner":{"account_id":6230151,"reputation":41,"user_id":4847186,"display_name":"Akanni David Seun"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548991049,"creation_date":1548991049,"answer_id":54472389,"question_id":41287247,"body_markdown":"Changing the url from http to https fixed the issue for me.\r\nI was using http://testthesms.000webhostapp.com/...... instead of https://testthesms.000webhostapp.com.....\r\nThough some other request went through the http.","title":"Retrofit Https call give Connection reset","body":"<p>Changing the url from http to https fixed the issue for me.\nI was using <a href=\"http://testthesms.000webhostapp.com/\" rel=\"nofollow noreferrer\">http://testthesms.000webhostapp.com/</a>...... instead of <a href=\"https://testthesms.000webhostapp.com\" rel=\"nofollow noreferrer\">https://testthesms.000webhostapp.com</a>.....\nThough some other request went through the http.</p>\n"},{"comments":[{"owner":{"account_id":3908906,"reputation":6842,"user_id":3248593,"accept_rate":52,"display_name":"Morteza Rastgoo"},"score":0,"creation_date":1612094541,"post_id":58058233,"comment_id":116653785,"body_markdown":"This answer needs very much attention from those companies that force the android developers to support older API Versions forever! (In this case API &lt; 21)\nhttps://developer.android.com/training/articles/security-config","body":"This answer needs very much attention from those companies that force the android developers to support older API Versions forever! (In this case API &lt; 21) <a href=\"https://developer.android.com/training/articles/security-config\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/security-config</a>"}],"tags":[],"owner":{"account_id":2658600,"reputation":61,"user_id":2298787,"display_name":"Luis"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569226538,"creation_date":1569226538,"answer_id":58058233,"question_id":41287247,"body_markdown":"In my case, very similar like yours, it was problem with TLS protocol level.\r\n\r\nThe server was closing connections because don&#39;t accept protocols under TLS 1.2. And my retrofit client was running under Java 7 which uses TLS 1.1 by default, so server always reject all the connections.\r\n\r\nThe solution was to set TLS 1.2 as default protocol for Java VM client connections. The problem is fixed automatically is you change to Java 1.8+","title":"Retrofit Https call give Connection reset","body":"<p>In my case, very similar like yours, it was problem with TLS protocol level.</p>\n\n<p>The server was closing connections because don't accept protocols under TLS 1.2. And my retrofit client was running under Java 7 which uses TLS 1.1 by default, so server always reject all the connections.</p>\n\n<p>The solution was to set TLS 1.2 as default protocol for Java VM client connections. The problem is fixed automatically is you change to Java 1.8+</p>\n"},{"tags":[],"owner":{"account_id":3193335,"reputation":111,"user_id":12420532,"display_name":"kvardekkvar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686000384,"creation_date":1686000384,"answer_id":76410105,"question_id":41287247,"body_markdown":"In my case, retrofit variable was not declared static.\r\nSo I changed \r\n\r\n    protected Retrofit retrofit = RetrofitBuilder.getRetrofit();\r\n\r\nTo\r\n\r\n    protected static Retrofit retrofit = RetrofitBuilder.getRetrofit();\r\nand now the error&#39;s gone.","title":"Retrofit Https call give Connection reset","body":"<p>In my case, retrofit variable was not declared static.\nSo I changed</p>\n<pre><code>protected Retrofit retrofit = RetrofitBuilder.getRetrofit();\n</code></pre>\n<p>To</p>\n<pre><code>protected static Retrofit retrofit = RetrofitBuilder.getRetrofit();\n</code></pre>\n<p>and now the error's gone.</p>\n"}],"owner":{"account_id":2451696,"reputation":1833,"user_id":2137817,"accept_rate":45,"display_name":"user2137817"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8412,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1686000384,"creation_date":1482422683,"question_id":41287247,"body_markdown":"I&#39;m trying to use `retrofit` in my `spring boot` project to access a `https` call, but every time I run it, it gives \r\n\r\n    java.net.SocketException: Connection reset\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:209) ~[na:1.8.0_102]\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_102]\r\n    \tat sun.security.ssl.InputRecord.readFully(InputRecord.java:465) ~[na:1.8.0_102]\r\n    \tat sun.security.ssl.InputRecord.read(InputRecord.java:503) ~[na:1.8.0_102]\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973) ~[na:1.8.0_102]\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375) ~[na:1.8.0_102]\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403) ~[na:1.8.0_102]\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387) ~[na:1.8.0_102]\r\n    \tat okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:242) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:200) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.connection.RealConnection.buildConnection(RealConnection.java:174) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.connection.RealConnection.connect(RealConnection.java:114) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:196) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:132) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:101) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:179) ~[okhttp-3.5.0.jar:na]\r\n    \tat okhttp3.RealCall.execute(RealCall.java:63) ~[okhttp-3.5.0.jar:na]\r\n    \tat retrofit2.OkHttpCall.execute(OkHttpCall.java:174) ~[retrofit-2.1.0.jar:na]\r\n\r\nMy implementation is the following:\r\n\r\n    public static final Retrofit retrofit = new Retrofit.Builder().baseUrl(Utils.BASE_URL)\r\n    \t\t\t.client(new OkHttpClient().newBuilder().retryOnConnectionFailure(true).connectTimeout(15, TimeUnit.SECONDS)\r\n    \t\t\t\t\t.readTimeout(50, TimeUnit.SECONDS).build())\r\n    \t\t\t.addConverterFactory(GsonConverterFactory.create()).build();\r\n\r\n\r\nand the call:\r\n\r\n    Service service = service.retrofit.create(Service.class);\r\n    Call&lt;myObject&gt; call = service.callService();\r\n    call.execute().body();\r\n\r\n**UPDATE**\r\nI added `-Djavax.net.debug=ssl:handshake:verbose` to my `jvm` and I got the following output:\r\n\r\n    Ignoring unavailable cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\r\n    Ignoring unavailable cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA\r\n    Ignoring unavailable cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\r\n    Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\r\n    Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\r\n    Ignoring unavailable cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\r\n    Ignoring unavailable cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA\r\n    Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\r\n    Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\r\n    Ignoring unavailable cipher suite: TLS_RSA_WITH_AES_256_GCM_SHA384\r\n    Ignoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\r\n    Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\n    Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA\r\n    Ignoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\r\n    Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\n    Ignoring unavailable cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\n    Ignoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\r\n    Ignoring unavailable cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\n    Ignoring unavailable cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA\r\n    Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\r\n    Ignoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\r\n    Allow unsafe renegotiation: false\r\n    Allow legacy hello messages: true\r\n    Is initial handshake: true\r\n    Is secure renegotiation: false\r\n    Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLSv1\r\n    Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLSv1\r\n    Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLSv1.1\r\n    Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLSv1.1\r\n    %% No cached client session\r\n    *** ClientHello, TLSv1.2\r\n    RandomCookie:  GMT: 1482447462 bytes = { 90, 39, 6, 215, 111, 143, 240, 128, 196, 112, 178, 59, 97, 245, 196, 32, 59, 178, 217, 232, 1, 178, 221, 33, 93, 26, 143, 120 }\r\n    Session ID:  {}\r\n    Cipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA]\r\n    Compression Methods:  { 0 }\r\n    Extension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\r\n    Extension ec_point_formats, formats: [uncompressed]\r\n    Extension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA256withDSA, SHA224withECDSA, SHA224withRSA, SHA224withDSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA\r\n    Extension server_name, server_name: [type=host_name (0), value=api-test]\r\n    Extension renegotiation_info, renegotiated_connection: &lt;empty&gt;\r\n    ***\r\n    http-nio-8080-exec-1, WRITE: TLSv1.2 Handshake, length = 189\r\n    http-nio-8080-exec-1, handling exception: java.net.SocketException: Connection reset\r\n    http-nio-8080-exec-1, SEND TLSv1.2 ALERT:  fatal, description = unexpected_message\r\n    http-nio-8080-exec-1, WRITE: TLSv1.2 Alert, length = 2\r\n    http-nio-8080-exec-1, Exception sending alert: java.net.SocketException: Broken pipe\r\n    http-nio-8080-exec-1, called closeSocket()\r\n    http-nio-8080-exec-1, called close()\r\n    http-nio-8080-exec-1, called closeInternal(true)","title":"Retrofit Https call give Connection reset","body":"<p>I'm trying to use <code>retrofit</code> in my <code>spring boot</code> project to access a <code>https</code> call, but every time I run it, it gives </p>\n\n<pre><code>java.net.SocketException: Connection reset\n    at java.net.SocketInputStream.read(SocketInputStream.java:209) ~[na:1.8.0_102]\n    at java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_102]\n    at sun.security.ssl.InputRecord.readFully(InputRecord.java:465) ~[na:1.8.0_102]\n    at sun.security.ssl.InputRecord.read(InputRecord.java:503) ~[na:1.8.0_102]\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973) ~[na:1.8.0_102]\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375) ~[na:1.8.0_102]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403) ~[na:1.8.0_102]\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387) ~[na:1.8.0_102]\n    at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:242) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:200) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.connection.RealConnection.buildConnection(RealConnection.java:174) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:114) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:196) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:132) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:101) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:179) ~[okhttp-3.5.0.jar:na]\n    at okhttp3.RealCall.execute(RealCall.java:63) ~[okhttp-3.5.0.jar:na]\n    at retrofit2.OkHttpCall.execute(OkHttpCall.java:174) ~[retrofit-2.1.0.jar:na]\n</code></pre>\n\n<p>My implementation is the following:</p>\n\n<pre><code>public static final Retrofit retrofit = new Retrofit.Builder().baseUrl(Utils.BASE_URL)\n            .client(new OkHttpClient().newBuilder().retryOnConnectionFailure(true).connectTimeout(15, TimeUnit.SECONDS)\n                    .readTimeout(50, TimeUnit.SECONDS).build())\n            .addConverterFactory(GsonConverterFactory.create()).build();\n</code></pre>\n\n<p>and the call:</p>\n\n<pre><code>Service service = service.retrofit.create(Service.class);\nCall&lt;myObject&gt; call = service.callService();\ncall.execute().body();\n</code></pre>\n\n<p><strong>UPDATE</strong>\nI added <code>-Djavax.net.debug=ssl:handshake:verbose</code> to my <code>jvm</code> and I got the following output:</p>\n\n<pre><code>Ignoring unavailable cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\nIgnoring unavailable cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA\nIgnoring unavailable cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\nIgnoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\nIgnoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\nIgnoring unavailable cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\nIgnoring unavailable cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA\nIgnoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\nIgnoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\nIgnoring unavailable cipher suite: TLS_RSA_WITH_AES_256_GCM_SHA384\nIgnoring unavailable cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\nIgnoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\nIgnoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA\nIgnoring unavailable cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\nIgnoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\nIgnoring unavailable cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\nIgnoring unavailable cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\nIgnoring unavailable cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\nIgnoring unavailable cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA\nIgnoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\nIgnoring unavailable cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\nAllow unsafe renegotiation: false\nAllow legacy hello messages: true\nIs initial handshake: true\nIs secure renegotiation: false\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLSv1\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLSv1\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLSv1.1\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLSv1.1\n%% No cached client session\n*** ClientHello, TLSv1.2\nRandomCookie:  GMT: 1482447462 bytes = { 90, 39, 6, 215, 111, 143, 240, 128, 196, 112, 178, 59, 97, 245, 196, 32, 59, 178, 217, 232, 1, 178, 221, 33, 93, 26, 143, 120 }\nSession ID:  {}\nCipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA]\nCompression Methods:  { 0 }\nExtension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\nExtension ec_point_formats, formats: [uncompressed]\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA256withDSA, SHA224withECDSA, SHA224withRSA, SHA224withDSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA\nExtension server_name, server_name: [type=host_name (0), value=api-test]\nExtension renegotiation_info, renegotiated_connection: &lt;empty&gt;\n***\nhttp-nio-8080-exec-1, WRITE: TLSv1.2 Handshake, length = 189\nhttp-nio-8080-exec-1, handling exception: java.net.SocketException: Connection reset\nhttp-nio-8080-exec-1, SEND TLSv1.2 ALERT:  fatal, description = unexpected_message\nhttp-nio-8080-exec-1, WRITE: TLSv1.2 Alert, length = 2\nhttp-nio-8080-exec-1, Exception sending alert: java.net.SocketException: Broken pipe\nhttp-nio-8080-exec-1, called closeSocket()\nhttp-nio-8080-exec-1, called close()\nhttp-nio-8080-exec-1, called closeInternal(true)\n</code></pre>\n"},{"tags":["javascript","java","typescript"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1686000204,"post_id":76410090,"comment_id":134736824,"body_markdown":"ChatGPT is good at writing tampermonkey scripts.","body":"ChatGPT is good at writing tampermonkey scripts."}],"owner":{"account_id":28760226,"reputation":11,"user_id":22026296,"display_name":"Drake"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686000180,"creation_date":1686000144,"question_id":76410090,"body_markdown":"Is there a way I can create a tampermonkey script that Shows live data in table which is fetched from another website.\r\n\r\nSay, X website has C and B items and it keeps updating.\r\n\r\nI want Y website to show a small table with the following information from X website. It&#39;ll refresh every 5 seconds.\r\n\r\n| Column C | Column B |\r\n| -------- | -------- |\r\n| Items    | Items   |\r\n| item&#39;s   | items   |\r\n\r\n\r\nI tried to search for this but nothing seems to work","title":"Is there a Code for Displaying table with live items count on the page using tampermoneky","body":"<p>Is there a way I can create a tampermonkey script that Shows live data in table which is fetched from another website.</p>\n<p>Say, X website has C and B items and it keeps updating.</p>\n<p>I want Y website to show a small table with the following information from X website. It'll refresh every 5 seconds.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Column C</th>\n<th>Column B</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Items</td>\n<td>Items</td>\n</tr>\n<tr>\n<td>item's</td>\n<td>items</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I tried to search for this but nothing seems to work</p>\n"},{"tags":["java","kotlin","reflection","jvm"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1686001685,"post_id":76410059,"comment_id":134737044,"body_markdown":"If you need the value of the `modifiers` field, use its public accessor: `getModifiers()`. If you want to change the modifiers, use a java agent to change the bytecode before it is loaded.","body":"If you need the value of the <code>modifiers</code> field, use its public accessor: <code>getModifiers()</code>. If you want to change the modifiers, use a java agent to change the bytecode before it is loaded."}],"owner":{"account_id":11940959,"reputation":5,"user_id":8737784,"display_name":"maxy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685999898,"answer_count":0,"score":0,"last_activity_date":1685999984,"creation_date":1685999706,"question_id":76410059,"body_markdown":"When trying to get the `modifiers` field from the `Field` class reflectively, I get a `NoSuchFieldException`. And when printing out a list of the declared fields I get an empty array.\r\n\r\n\r\n```\r\n try {\r\n        modifiersField = Field.class.getDeclaredField(&quot;modifiers&quot;);\r\n        modifiersField.setAccessible(true);\r\n } catch (NoSuchFieldException e) {\r\n        throw new RuntimeException(e + Arrays.toString(Arrays.stream(Field.class.getDeclaredFields()).map(Field::getName).toArray()));\r\n }\r\n```\r\n\r\nOutput: `java.lang.RuntimeException: java.lang.NoSuchFieldException: modifiers[]`\r\n\r\n\r\n\r\nTried updating Java, Tried doing it in Kotlin. To no avail.","title":"Field.class.getDeclaredFields() is returning an empty array","body":"<p>When trying to get the <code>modifiers</code> field from the <code>Field</code> class reflectively, I get a <code>NoSuchFieldException</code>. And when printing out a list of the declared fields I get an empty array.</p>\n<pre><code> try {\n        modifiersField = Field.class.getDeclaredField(&quot;modifiers&quot;);\n        modifiersField.setAccessible(true);\n } catch (NoSuchFieldException e) {\n        throw new RuntimeException(e + Arrays.toString(Arrays.stream(Field.class.getDeclaredFields()).map(Field::getName).toArray()));\n }\n</code></pre>\n<p>Output: <code>java.lang.RuntimeException: java.lang.NoSuchFieldException: modifiers[]</code></p>\n<p>Tried updating Java, Tried doing it in Kotlin. To no avail.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":1,"creation_date":1685996128,"post_id":76409048,"comment_id":134736249,"body_markdown":"But that&#39;s not what the question was about...","body":"But that&#39;s not what the question was about..."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1685998755,"post_id":76409048,"comment_id":134736609,"body_markdown":"@parsecer My bad. Hopefully I&#39;ve clarified the answer.","body":"@parsecer My bad. Hopefully I&#39;ve clarified the answer."}],"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685998606,"creation_date":1685989240,"answer_id":76409048,"question_id":76408739,"body_markdown":"Spring resolves that dependency injection because:\r\n1. `@Bean` method name is the default bean name.\r\n[Baeldung][1]: \r\n\r\n&gt; when we use the @Bean annotation on a method, Spring uses the method\r\n&gt; name as a bean name.\r\n\r\n2. If no qualifier is specified and multiple beans of a same class are available, Spring `@Autowire` falls back to parameter name as a qualifier.\r\n[Baeldung][2] (see example after quote):\r\n&gt; Spring uses the bean&#39;s name as a default qualifier value\r\n\r\n[official docs][3]:\r\n\r\n&gt; For a fallback match, the bean name is considered a default qualifier\r\n&gt; value. Thus, you can define the bean with an id of main instead of the\r\n&gt; nested qualifier element, leading to the same matching result.\r\n\r\nThus, to resolve `@Autowired public Bear(String bearName)` Spring looks up for a bean named `bearName`, which is present due to defining function naming. Likewise for catName.\r\n\r\n  [1]: https://www.baeldung.com/spring-bean-names\r\n  [2]: https://www.baeldung.com/spring-autowire\r\n  [3]: https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/autowired-qualifiers.html","title":"Spring Bean annotation: why only one Qualifier is needed for several beans of the same type","body":"<p>Spring resolves that dependency injection because:</p>\n<ol>\n<li><code>@Bean</code> method name is the default bean name.\n<a href=\"https://www.baeldung.com/spring-bean-names\" rel=\"nofollow noreferrer\">Baeldung</a>:</li>\n</ol>\n<blockquote>\n<p>when we use the @Bean annotation on a method, Spring uses the method\nname as a bean name.</p>\n</blockquote>\n<ol start=\"2\">\n<li>If no qualifier is specified and multiple beans of a same class are available, Spring <code>@Autowire</code> falls back to parameter name as a qualifier.\n<a href=\"https://www.baeldung.com/spring-autowire\" rel=\"nofollow noreferrer\">Baeldung</a> (see example after quote):</li>\n</ol>\n<blockquote>\n<p>Spring uses the bean's name as a default qualifier value</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/reference/core/beans/annotation-config/autowired-qualifiers.html\" rel=\"nofollow noreferrer\">official docs</a>:</p>\n<blockquote>\n<p>For a fallback match, the bean name is considered a default qualifier\nvalue. Thus, you can define the bean with an id of main instead of the\nnested qualifier element, leading to the same matching result.</p>\n</blockquote>\n<p>Thus, to resolve <code>@Autowired public Bear(String bearName)</code> Spring looks up for a bean named <code>bearName</code>, which is present due to defining function naming. Likewise for catName.</p>\n"},{"tags":[],"owner":{"account_id":7336268,"reputation":4279,"user_id":5587542,"display_name":"Valerio Vaudi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685998655,"creation_date":1685997970,"answer_id":76409891,"question_id":76408739,"body_markdown":"Motivation around is about how Spring resolves the dependency injection.\r\n\r\nSpring can resolve via type, name or explicit qualifier. Since all three beans are Strings, the only way for SprinfFramework can resolve the dependency injection is via name or @Qualifier \r\n\r\nthat&#39;s way you have to put the @Qualifier otherwise you can evaluate to refactor your class and change dogNameop to dogName like below:\r\n\r\n    @Component\r\n    public class Dog {\r\n    \r\n        @Autowired\r\n        public String dogName;\r\n    \r\n        public Dog()  {\r\n            \r\n        }\r\n        \r\n         public Dog(String dogName) {\r\n            this.dogName = dogName;\r\n        }\r\n    \r\n        public String getDogName() {\r\n            return dogName;\r\n        }\r\n    \r\n        public void setDogName(String dogName) {\r\n            this.dogName = dogName;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Spring Bean annotation: why only one Qualifier is needed for several beans of the same type","body":"<p>Motivation around is about how Spring resolves the dependency injection.</p>\n<p>Spring can resolve via type, name or explicit qualifier. Since all three beans are Strings, the only way for SprinfFramework can resolve the dependency injection is via name or @Qualifier</p>\n<p>that's way you have to put the @Qualifier otherwise you can evaluate to refactor your class and change dogNameop to dogName like below:</p>\n<pre><code>@Component\npublic class Dog {\n\n    @Autowired\n    public String dogName;\n\n    public Dog()  {\n        \n    }\n    \n     public Dog(String dogName) {\n        this.dogName = dogName;\n    }\n\n    public String getDogName() {\n        return dogName;\n    }\n\n    public void setDogName(String dogName) {\n        this.dogName = dogName;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4620550,"reputation":1723,"user_id":3748178,"accept_rate":22,"display_name":"Salathiel Genese"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685999219,"creation_date":1685999219,"answer_id":76410013,"question_id":76408739,"body_markdown":"1. You are `@Autowire`&#39;ing a `String`\r\n\r\n    So, in your application context, there are three beans with that type.\r\n\r\n2. Spring got to choose, since you&#39;re injecting a single bean, but without qualifiers, there is nothing more Spring can do to narrow down the search.\r\n\r\n    End of the story: error.\r\n\r\n&gt; **NOTE:** If you wanted all beans of type `String`, you could `@Autowire` on a `List&lt;String&gt;`, then decide for yourself which one suits your need.","title":"Spring Bean annotation: why only one Qualifier is needed for several beans of the same type","body":"<ol>\n<li><p>You are <code>@Autowire</code>'ing a <code>String</code></p>\n<p>So, in your application context, there are three beans with that type.</p>\n</li>\n<li><p>Spring got to choose, since you're injecting a single bean, but without qualifiers, there is nothing more Spring can do to narrow down the search.</p>\n<p>End of the story: error.</p>\n</li>\n</ol>\n<blockquote>\n<p><strong>NOTE:</strong> If you wanted all beans of type <code>String</code>, you could <code>@Autowire</code> on a <code>List&lt;String&gt;</code>, then decide for yourself which one suits your need.</p>\n</blockquote>\n"}],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1685999219,"creation_date":1685986032,"question_id":76408739,"body_markdown":"**Dog.java**:\r\n```\r\n@Component\r\npublic class Dog {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;dogName&quot;)\r\n    public String dogNameop;\r\n\r\n    public Dog()  {\r\n        \r\n    }\r\n    \r\n     public Dog(String dogNameop) {\r\n        this.dogNameop = dogNameop;\r\n    }\r\n\r\n    public String getDogNameop() {\r\n        return dogNameop;\r\n    }\r\n\r\n    public void setDogNameop(String dogNameop) {\r\n        this.dogNameop = dogNameop;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Cat.java**:\r\n\r\n```\r\n@Component\r\npublic class Cat {\r\n    private String catName;\r\n    \r\n    public Cat()  {\r\n        \r\n    }\r\n\r\n    @Autowired\r\n    public Cat(String catName) {\r\n        this.catName = catName;\r\n    }\r\n\r\n    public String getCatName() {\r\n        return catName;\r\n    }\r\n\r\n    public void setCatName(String catName) {\r\n        this.catName = catName;\r\n    }\r\n}\r\n```\r\n**Bear.java**:\r\n```\r\n@Component\r\npublic class Bear {\r\n    private String  bearName;\r\n\r\n    public Bear()  {\r\n        \r\n    }\r\n    \r\n    @Autowired\r\n    public Bear(String bearName) {\r\n        this.bearName = bearName;\r\n    }\r\n\r\n    public String getBearName() {\r\n        return bearName;\r\n    }\r\n\r\n    public void setBearName(String bearName) {\r\n        this.bearName = bearName;\r\n    }\r\n}\r\n```\r\n**Config.java**:\r\n```\r\n@Configuration\r\npublic class Config {\r\n    @Bean\r\n    String dogName()  {\r\n        return &quot;oof&quot;;\r\n    }\r\n    \r\n    @Bean\r\n    String catName()  {\r\n        return &quot;catto&quot;;\r\n    }\r\n\r\n    @Bean\r\n    String bearName()  {\r\n        return &quot;bear&quot;;\r\n    }\r\n}\r\n```\r\n\r\n**DemoApplication.java**:\r\n\r\n```\r\n@SpringBootApplication(exclude = {SecurityAutoConfiguration.class})\r\npublic class DemoApplication {\r\n\t \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\t\r\n \r\n\r\n \t@Bean\r\n\tCommandLineRunner commandLineRunner(Dog dog, Cat cat, Bear bear)  {\r\n\t\treturn args -&gt;  {\r\n \t\t\tSystem.out.println(dog.dogNameop);\r\n\t\t\tSystem.out.println(cat.getCatName());\r\n\t\t\tSystem.out.println(bear.getBearName());\r\n\t\t};\r\n\t} \r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\noof\r\ncatto\r\nbear\r\n```\r\n\r\nIf I remove `@Qualifier(&quot;dogName&quot;)` from `Dog.java`, I get the error:\r\n\r\n```\r\nField dogNameop in com.example.demo.Dog required a single bean, but 3 were found:\r\n```\r\n\r\nHowever with only one qualifier it manages to correctly assign the fields in `Cat` and `Bear` classes. How? I would expect that each class: `Dog`, `Cat`, and `Bear` would require a `@Qualifier` inside.\r\n\r\n**EDIT**:\r\n\r\nChanging the field name in `Cat` from `catName` to `catNameHm` makes the error to appear again (independently chaning `bearName` in `Bear` class to `bearNameOh` also triggers the error).\r\n\r\nSo it looks like once a single `@Qualifier` is applied it makes Spring to always apply autowiring of type `String` by the name of the field - in all classes, rather than just the class that has `@Qualifier` annotation?\r\n\r\n","title":"Spring Bean annotation: why only one Qualifier is needed for several beans of the same type","body":"<p><strong>Dog.java</strong>:</p>\n<pre><code>@Component\npublic class Dog {\n\n    @Autowired\n    @Qualifier(&quot;dogName&quot;)\n    public String dogNameop;\n\n    public Dog()  {\n        \n    }\n    \n     public Dog(String dogNameop) {\n        this.dogNameop = dogNameop;\n    }\n\n    public String getDogNameop() {\n        return dogNameop;\n    }\n\n    public void setDogNameop(String dogNameop) {\n        this.dogNameop = dogNameop;\n    }\n}\n\n</code></pre>\n<p><strong>Cat.java</strong>:</p>\n<pre><code>@Component\npublic class Cat {\n    private String catName;\n    \n    public Cat()  {\n        \n    }\n\n    @Autowired\n    public Cat(String catName) {\n        this.catName = catName;\n    }\n\n    public String getCatName() {\n        return catName;\n    }\n\n    public void setCatName(String catName) {\n        this.catName = catName;\n    }\n}\n</code></pre>\n<p><strong>Bear.java</strong>:</p>\n<pre><code>@Component\npublic class Bear {\n    private String  bearName;\n\n    public Bear()  {\n        \n    }\n    \n    @Autowired\n    public Bear(String bearName) {\n        this.bearName = bearName;\n    }\n\n    public String getBearName() {\n        return bearName;\n    }\n\n    public void setBearName(String bearName) {\n        this.bearName = bearName;\n    }\n}\n</code></pre>\n<p><strong>Config.java</strong>:</p>\n<pre><code>@Configuration\npublic class Config {\n    @Bean\n    String dogName()  {\n        return &quot;oof&quot;;\n    }\n    \n    @Bean\n    String catName()  {\n        return &quot;catto&quot;;\n    }\n\n    @Bean\n    String bearName()  {\n        return &quot;bear&quot;;\n    }\n}\n</code></pre>\n<p><strong>DemoApplication.java</strong>:</p>\n<pre><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class})\npublic class DemoApplication {\n     \n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n    \n \n\n    @Bean\n    CommandLineRunner commandLineRunner(Dog dog, Cat cat, Bear bear)  {\n        return args -&gt;  {\n            System.out.println(dog.dogNameop);\n            System.out.println(cat.getCatName());\n            System.out.println(bear.getBearName());\n        };\n    } \n}\n</code></pre>\n<p>Output:</p>\n<pre><code>oof\ncatto\nbear\n</code></pre>\n<p>If I remove <code>@Qualifier(&quot;dogName&quot;)</code> from <code>Dog.java</code>, I get the error:</p>\n<pre><code>Field dogNameop in com.example.demo.Dog required a single bean, but 3 were found:\n</code></pre>\n<p>However with only one qualifier it manages to correctly assign the fields in <code>Cat</code> and <code>Bear</code> classes. How? I would expect that each class: <code>Dog</code>, <code>Cat</code>, and <code>Bear</code> would require a <code>@Qualifier</code> inside.</p>\n<p><strong>EDIT</strong>:</p>\n<p>Changing the field name in <code>Cat</code> from <code>catName</code> to <code>catNameHm</code> makes the error to appear again (independently chaning <code>bearName</code> in <code>Bear</code> class to <code>bearNameOh</code> also triggers the error).</p>\n<p>So it looks like once a single <code>@Qualifier</code> is applied it makes Spring to always apply autowiring of type <code>String</code> by the name of the field - in all classes, rather than just the class that has <code>@Qualifier</code> annotation?</p>\n"},{"tags":["java","single-sign-on","cas","apereo"],"comments":[{"owner":{"account_id":1656067,"reputation":496,"user_id":1525602,"display_name":"Petr Bodn&#225;r"},"score":0,"creation_date":1685871009,"post_id":76188342,"comment_id":134719003,"body_markdown":"I wonder what you mean by &quot;freezing&quot;. Isn&#39;t it just that the Initializr app is running in the terminal and waiting to be stopped by ctrl-c?","body":"I wonder what you mean by &quot;freezing&quot;. Isn&#39;t it just that the Initializr app is running in the terminal and waiting to be stopped by ctrl-c?"}],"answers":[{"tags":[],"owner":{"account_id":1656067,"reputation":496,"user_id":1525602,"display_name":"Petr Bodn&#225;r"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685871300,"creation_date":1685870819,"answer_id":76399709,"question_id":76188342,"body_markdown":"&gt; after that i tried curl $INITIALIZR_URL/starter.zip -o cas.zip but idk what to do next.\r\n\r\nThis means you&#39;ve got a CAS WAR Overlay project stored in the generated `cas.zip` file. All you need to do now is to:\r\n\r\n1. Unpack the `cas.zip` file to a folder of your choice.\r\n1. For building and running the resulting CAS application, follow the instructions in the extracted `README.md` file. In essence, you can try to do for example:\r\n\r\n   Build the application (`cas.war`):\r\n\r\n   ```bat\r\n   gradlew clean build\r\n   ```\r\n\r\n   Run the built application (provided you chose &quot;Executable&quot; deployment type, which is the default):\r\n\r\n   ```bat\r\n   java -jar build/libs/cas.war\r\n   ```\r\n\r\nRegarding the **CAS Initializr** application, you don&#39;t actually need to build and run it yourself, provided that it is available at https://casinit.herokuapp.com (or https://casinit.herokuapp.com/ui for a clickable UI).\r\n\r\nWhen generating the overlay project via Initializr, don&#39;t forget to choose the desired **version** of CAS (e.g. the latest non-snapshot version can be recommended). Besides others, you can also select additional **modules** (dependencies) which you expect to use in your CAS application (e.g. `support-ldap` for authenticating users against LDAP / AD) - they will be automatically added to the correct place in the generated `build.gradle` file. Then you just need to update corresponding CAS configuration file(s) to setup the behavior of the concrete modules used (e.g. the URL to your LDAP server).\r\n\r\nLater on, when you need to add another module, you can either do this by directly modifying the extracted `build.gradle` file by following the [CAS documentation](https://apereo.github.io/cas/), or use the Initializr once again to generate the correct `build.gradle` and possibly other files for you.","title":"Running Apereo CAS on win 10","body":"<blockquote>\n<p>after that i tried curl $INITIALIZR_URL/starter.zip -o cas.zip but idk what to do next.</p>\n</blockquote>\n<p>This means you've got a CAS WAR Overlay project stored in the generated <code>cas.zip</code> file. All you need to do now is to:</p>\n<ol>\n<li><p>Unpack the <code>cas.zip</code> file to a folder of your choice.</p>\n</li>\n<li><p>For building and running the resulting CAS application, follow the instructions in the extracted <code>README.md</code> file. In essence, you can try to do for example:</p>\n<p>Build the application (<code>cas.war</code>):</p>\n<pre><code>gradlew clean build\n</code></pre>\n<p>Run the built application (provided you chose &quot;Executable&quot; deployment type, which is the default):</p>\n<pre><code>java -jar build/libs/cas.war\n</code></pre>\n</li>\n</ol>\n<p>Regarding the <strong>CAS Initializr</strong> application, you don't actually need to build and run it yourself, provided that it is available at <a href=\"https://casinit.herokuapp.com\" rel=\"nofollow noreferrer\">https://casinit.herokuapp.com</a> (or <a href=\"https://casinit.herokuapp.com/ui\" rel=\"nofollow noreferrer\">https://casinit.herokuapp.com/ui</a> for a clickable UI).</p>\n<p>When generating the overlay project via Initializr, don't forget to choose the desired <strong>version</strong> of CAS (e.g. the latest non-snapshot version can be recommended). Besides others, you can also select additional <strong>modules</strong> (dependencies) which you expect to use in your CAS application (e.g. <code>support-ldap</code> for authenticating users against LDAP / AD) - they will be automatically added to the correct place in the generated <code>build.gradle</code> file. Then you just need to update corresponding CAS configuration file(s) to setup the behavior of the concrete modules used (e.g. the URL to your LDAP server).</p>\n<p>Later on, when you need to add another module, you can either do this by directly modifying the extracted <code>build.gradle</code> file by following the <a href=\"https://apereo.github.io/cas/\" rel=\"nofollow noreferrer\">CAS documentation</a>, or use the Initializr once again to generate the correct <code>build.gradle</code> and possibly other files for you.</p>\n"}],"owner":{"account_id":11174310,"reputation":1,"user_id":8200385,"display_name":"Magasvazn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685999108,"creation_date":1683368163,"question_id":76188342,"body_markdown":"I&#39;ve just built and ran CAS init. According to below guide and I can see UI at localhost:8080/ui. But now I don&#39;t know what should I do for next steps to implement a SSO server. I am new to this subject. I have installed JDK 11, Apache Tomcat and running CAS init, on Win 10.\r\n\r\nI used these commands respectively:\r\n\r\n    gradlew clean build\r\n    gradlew bootRun\r\n\r\nRunning froze at 96%, but I can access localhost:8080 and its UI. I don&#39;t know why it&#39;s freezing. \r\n\r\nAfter that I tried `curl $INITIALIZR_URL/starter.zip -o cas.zip` but I don&#39;t know what to do next.\r\n\r\nAll I&#39;ve done is from below guide:\r\n\r\nhttps://github.com/apereo/cas-initializr\r\n","title":"Running Apereo CAS on win 10","body":"<p>I've just built and ran CAS init. According to below guide and I can see UI at localhost:8080/ui. But now I don't know what should I do for next steps to implement a SSO server. I am new to this subject. I have installed JDK 11, Apache Tomcat and running CAS init, on Win 10.</p>\n<p>I used these commands respectively:</p>\n<pre><code>gradlew clean build\ngradlew bootRun\n</code></pre>\n<p>Running froze at 96%, but I can access localhost:8080 and its UI. I don't know why it's freezing.</p>\n<p>After that I tried <code>curl $INITIALIZR_URL/starter.zip -o cas.zip</code> but I don't know what to do next.</p>\n<p>All I've done is from below guide:</p>\n<p><a href=\"https://github.com/apereo/cas-initializr\" rel=\"nofollow noreferrer\">https://github.com/apereo/cas-initializr</a></p>\n"},{"tags":["java","mysql","entity-framework","hibernate","jpa"],"comments":[{"owner":{"account_id":4182164,"reputation":3507,"user_id":3426853,"accept_rate":33,"display_name":"Minjun Yu"},"score":0,"creation_date":1477970144,"post_id":40353605,"comment_id":67961410,"body_markdown":"Mind updating your question with the two table structures? It looks like there is also something wrong with your entity mapping and annotations. &quot;mappedBy&quot; is supposed to be used in the non-owner of the relationship but you used it in the owner of the relationship, which has a `@joinColumn`.","body":"Mind updating your question with the two table structures? It looks like there is also something wrong with your entity mapping and annotations. &quot;mappedBy&quot; is supposed to be used in the non-owner of the relationship but you used it in the owner of the relationship, which has a <code>@joinColumn</code>."},{"owner":{"account_id":3932680,"reputation":172,"user_id":3250494,"accept_rate":100,"display_name":"Freddie"},"score":0,"creation_date":1477970874,"post_id":40353605,"comment_id":67961537,"body_markdown":"Hi Minjun Yu.  I&#39;ve updated my question with the table definitions.  I removed mappedBy from the owner side also.","body":"Hi Minjun Yu.  I&#39;ve updated my question with the table definitions.  I removed mappedBy from the owner side also."}],"answers":[{"comments":[{"owner":{"account_id":3932680,"reputation":172,"user_id":3250494,"accept_rate":100,"display_name":"Freddie"},"score":0,"creation_date":1478042891,"post_id":40353949,"comment_id":67993929,"body_markdown":"The problem was that I had *.hbm.xml files for my Entities and Hibernate was ignoring my annotated classes.  After I cleaned that up, I was able to get it working with your suggestion.  Regarding my database design, categories are more like tags, so an Item can have multiple categories.  Thank you for taking the time to look at this.","body":"The problem was that I had *.hbm.xml files for my Entities and Hibernate was ignoring my annotated classes.  After I cleaned that up, I was able to get it working with your suggestion.  Regarding my database design, categories are more like tags, so an Item can have multiple categories.  Thank you for taking the time to look at this."},{"owner":{"account_id":4182164,"reputation":3507,"user_id":3426853,"accept_rate":33,"display_name":"Minjun Yu"},"score":0,"creation_date":1478055542,"post_id":40353949,"comment_id":67996929,"body_markdown":"You are welcome. Like I said, you design supports item having multiple categories/tags, but one category/tag **cannot** be applied to different items. Is that what you intended?","body":"You are welcome. Like I said, you design supports item having multiple categories/tags, but one category/tag <b>cannot</b> be applied to different items. Is that what you intended?"},{"owner":{"account_id":3932680,"reputation":172,"user_id":3250494,"accept_rate":100,"display_name":"Freddie"},"score":0,"creation_date":1478062528,"post_id":40353949,"comment_id":67998481,"body_markdown":"Yup, that&#39;s how it&#39;s intended.","body":"Yup, that&#39;s how it&#39;s intended."}],"tags":[],"owner":{"account_id":4182164,"reputation":3507,"user_id":3426853,"accept_rate":33,"display_name":"Minjun Yu"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1685998655,"creation_date":1477972628,"answer_id":40353949,"question_id":40353605,"body_markdown":"## I have to break your problem down to two parts  \r\n\r\n### First - let&#39;s talk about your database schema design.\r\nAccording to your schema, `item` and `item_category` has a **one-to-many** relationship meaning an item can **have/be-assigned-to** different categories but different items cannot **have/be-assigned-to** the same category.  \r\n\r\nThat is totally fine **if it is indeed your business requirement**, I mention it because it does not make sense to me and this circumstance rarely happens.\r\n\r\nIf what you want is that a category can have multiple items and vice versa, `item`and `item_category` must be a **many-to-many** relationship. There should be a **join table** additionally.  \r\n  \r\n### Second - let&#39;s say the schema don&#39;t change  \r\n  \r\n`ItemCategory` is the owner of the relationship because it has a foreign key `item_id` refering to `item` table. So the ItemCategoy should look **roughly** like this:  \r\n\r\n    @Entity\r\n    @Table(name = &quot;item_category&quot;)\r\n    public class ItemCategory {\r\n    \r\n      @Id\r\n      private Integer categoryId;\r\n\r\n      private Store store;\r\n    \r\n      @ManyToOne\r\n      @JoinColumn(name=&quot;item_id&quot;, /*cascade = ...*/)\r\n      private Item item;\r\n\r\n      private String categoryName;\r\n    \r\n      /* Getters and Setters */\r\n    }\r\n\r\nYour `Item` entity will be **roughly** like this:  \r\n\r\n    @Entity\r\n    @Table(name = &quot;item&quot;, catalog = &quot;myshchema&quot;)\r\n    public class Item implements java.io.Serializable {\r\n    \r\n      @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, orphanRemoval = true, mappedBy=&quot;item&quot;)\r\n      private Set&lt;ItemCategory&gt; categories; //`mappedBy`used here because this entity is not the owner of the relationship according to what mentioned above\r\n    \r\n      /* Getters and Setters and other fields*/\r\n    }  \r\nTo remove all the child entities(`ItemCategory`) from `Item` , simply  \r\n\r\n`em.remove(item);`  \r\n\r\nThe `orphanRemoval` is `true`, deleting the parent, the children will be deleted as well.\r\n","title":"HIbernate Can&#39;t delete Entity with foreign key. Foreign key gets set to null","body":"<h2>I have to break your problem down to two parts</h2>\n<h3>First - let's talk about your database schema design.</h3>\n<p>According to your schema, <code>item</code> and <code>item_category</code> has a <strong>one-to-many</strong> relationship meaning an item can <strong>have/be-assigned-to</strong> different categories but different items cannot <strong>have/be-assigned-to</strong> the same category.</p>\n<p>That is totally fine <strong>if it is indeed your business requirement</strong>, I mention it because it does not make sense to me and this circumstance rarely happens.</p>\n<p>If what you want is that a category can have multiple items and vice versa, <code>item</code>and <code>item_category</code> must be a <strong>many-to-many</strong> relationship. There should be a <strong>join table</strong> additionally.</p>\n<h3>Second - let's say the schema don't change</h3>\n<p><code>ItemCategory</code> is the owner of the relationship because it has a foreign key <code>item_id</code> refering to <code>item</code> table. So the ItemCategoy should look <strong>roughly</strong> like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;item_category&quot;)\npublic class ItemCategory {\n\n  @Id\n  private Integer categoryId;\n\n  private Store store;\n\n  @ManyToOne\n  @JoinColumn(name=&quot;item_id&quot;, /*cascade = ...*/)\n  private Item item;\n\n  private String categoryName;\n\n  /* Getters and Setters */\n}\n</code></pre>\n<p>Your <code>Item</code> entity will be <strong>roughly</strong> like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;item&quot;, catalog = &quot;myshchema&quot;)\npublic class Item implements java.io.Serializable {\n\n  @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, orphanRemoval = true, mappedBy=&quot;item&quot;)\n  private Set&lt;ItemCategory&gt; categories; //`mappedBy`used here because this entity is not the owner of the relationship according to what mentioned above\n\n  /* Getters and Setters and other fields*/\n}  \n</code></pre>\n<p>To remove all the child entities(<code>ItemCategory</code>) from <code>Item</code> , simply</p>\n<p><code>em.remove(item);</code></p>\n<p>The <code>orphanRemoval</code> is <code>true</code>, deleting the parent, the children will be deleted as well.</p>\n"},{"comments":[{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":1,"creation_date":1604598670,"post_id":40354044,"comment_id":114402692,"body_markdown":"why is category a child? My logic tells me it should be a parent class...","body":"why is category a child? My logic tells me it should be a parent class..."}],"tags":[],"owner":{"account_id":6207928,"reputation":2802,"user_id":4835230,"accept_rate":40,"display_name":"Khuzi"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1477973538,"creation_date":1477973538,"answer_id":40354044,"question_id":40353605,"body_markdown":"In Hibernate, you need to decide who is owning the relationship. If you have the parent side (ItemCategory) owning the relationship, you will find insertion/deletion of Item+ ItemCategory will involve update of item_id in ItemCategory table (which is what I observed from your exception). In most case it is not preferable. We usually let the children own the relationship. This is done by using mappedBy\r\n\r\n(pseudo-code)\r\n\r\n    class Item {\r\n      //...\r\n    \r\n      @OneToMany(mappedBy = &quot;item&quot;, cascade=ALL, orphanRemoval=true)\r\n      private Set&lt;ItemCategory&gt; categories;\r\n    }\r\n    \r\n    class ItemCategory {\r\n      //...\r\n    \r\n      @ManyToOne\r\n      @JoinColumn(name=&quot;item_id&quot;)\r\n      Item item;\r\n    }\r\n\r\nThe trick here is mappedBy","title":"HIbernate Can&#39;t delete Entity with foreign key. Foreign key gets set to null","body":"<p>In Hibernate, you need to decide who is owning the relationship. If you have the parent side (ItemCategory) owning the relationship, you will find insertion/deletion of Item+ ItemCategory will involve update of item_id in ItemCategory table (which is what I observed from your exception). In most case it is not preferable. We usually let the children own the relationship. This is done by using mappedBy</p>\n\n<p>(pseudo-code)</p>\n\n<pre><code>class Item {\n  //...\n\n  @OneToMany(mappedBy = \"item\", cascade=ALL, orphanRemoval=true)\n  private Set&lt;ItemCategory&gt; categories;\n}\n\nclass ItemCategory {\n  //...\n\n  @ManyToOne\n  @JoinColumn(name=\"item_id\")\n  Item item;\n}\n</code></pre>\n\n<p>The trick here is mappedBy</p>\n"}],"owner":{"account_id":3932680,"reputation":172,"user_id":3250494,"accept_rate":100,"display_name":"Freddie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33690,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":40353949,"answer_count":2,"score":12,"last_activity_date":1685998655,"creation_date":1477969727,"question_id":40353605,"body_markdown":"This question has been asked in many forms here but none of the solutions seem to work for me. I&#39;m trying to delete the parent entity and I want all of the child entities to also be deleted.\r\n\r\nMy entities:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;item&quot;, catalog = &quot;myshchema&quot;)\r\n    public class Item implements java.io.Serializable {\r\n    \r\n    @JoinColumn(name = &quot;item_id&quot;, insertable = false, updatable = false, nullable = false)\r\n\t@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, orphanRemoval = true)\r\n\tprivate Set&lt;ItemCategory&gt; categories;\r\n\r\n    /* Getters and Setters and other fields*/\r\n    }\r\n\r\nTable for Item:\r\n\r\n    CREATE TABLE `item` (\r\n    `item_id` int(11) NOT NULL AUTO_INCREMENT,\r\n    `store_id` int(11) NOT NULL,\r\n    PRIMARY KEY (`item_id`),\r\n    UNIQUE KEY `item_id_UNIQUE` (`item_id`),\r\n    KEY `FK_ITEM_STORE_ID_idx` (`store_id`),\r\n    CONSTRAINT `FK_ITEM_STORE_ID` FOREIGN KEY (`store_id`) REFERENCES `store`   (`store_id`) ON DELETE NO ACTION ON UPDATE NO ACTION\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=84 DEFAULT CHARSET=utf8;\r\n\r\n\r\n\r\nAnd my other entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;item_category&quot;, catalog = &quot;myschema&quot;)\r\n    @IdClass(ItemCategoryIndex.class)\r\n    public class ItemCategory implements java.io.Serializable {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;category_id&quot;, unique = true, nullable = false, insertable = false, updatable = false)\r\n\tprivate Integer categoryId;\r\n\t@Id\r\n\tprivate Store store;\r\n\t@Id\r\n\tprivate Item item;\r\n\t@Id\r\n\tprivate String categoryName;\r\n\r\n    /* Getters and Setters */\r\n    }\r\n\r\n\r\nTable for ItemCategory:\r\n\r\n    CREATE TABLE `item_category` (\r\n    `category_id` int(11) NOT NULL AUTO_INCREMENT,\r\n    `store_id` int(11) NOT NULL,\r\n    `item_id` int(11) NOT NULL,\r\n    `category_name` varchar(45) NOT NULL,\r\n    PRIMARY KEY (`category_id`),\r\n    UNIQUE KEY `category_id_UNIQUE` (`category_id`),\r\n    UNIQUE KEY `IDX_UNIQUE_STORE_CATEGORY`     (`store_id`,`item_id`,`category_name`) USING BTREE,\r\n    KEY `FK_CATEGORY_STORE_ID_idx` (`store_id`),\r\n    KEY `FK_ITEM_CATEGORY_ID_idx` (`item_id`),\r\n    CONSTRAINT `FK_CATEGORY_STORE_ID` FOREIGN KEY (`store_id`) REFERENCES     `store` (`store_id`) ON DELETE NO ACTION ON UPDATE NO ACTION,\r\n    CONSTRAINT `FK_ITEM_CATEGORY_ID` FOREIGN KEY (`item_id`) REFERENCES `item`     (`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=162 DEFAULT CHARSET=utf8;\r\n\r\n\r\nI try to delete the item like this:  \r\n\r\n    Item item = entityManager.find(Item.class, idList.get(i));\r\n    entityManager.remove(item);\r\n\r\nMy logs show that Hibernate is trying to set the primary key for ItemCategory to null: \r\n\r\n    Hibernate: update myschema.item_category set item_id=null where item_id=?\r\n    ERROR o.h.e.jdbc.spi.SqlExceptionHelper.logExceptions 146 - Column &#39;item_id&#39; cannot be null\r\n\r\nI even tried looping through the child records and deleting them manually, but Hibernate still issues this update to null query.  What am I doing wrong?","title":"HIbernate Can&#39;t delete Entity with foreign key. Foreign key gets set to null","body":"<p>This question has been asked in many forms here but none of the solutions seem to work for me. I'm trying to delete the parent entity and I want all of the child entities to also be deleted.</p>\n\n<p>My entities:</p>\n\n<pre><code>@Entity\n@Table(name = \"item\", catalog = \"myshchema\")\npublic class Item implements java.io.Serializable {\n\n@JoinColumn(name = \"item_id\", insertable = false, updatable = false, nullable = false)\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER, orphanRemoval = true)\nprivate Set&lt;ItemCategory&gt; categories;\n\n/* Getters and Setters and other fields*/\n}\n</code></pre>\n\n<p>Table for Item:</p>\n\n<pre><code>CREATE TABLE `item` (\n`item_id` int(11) NOT NULL AUTO_INCREMENT,\n`store_id` int(11) NOT NULL,\nPRIMARY KEY (`item_id`),\nUNIQUE KEY `item_id_UNIQUE` (`item_id`),\nKEY `FK_ITEM_STORE_ID_idx` (`store_id`),\nCONSTRAINT `FK_ITEM_STORE_ID` FOREIGN KEY (`store_id`) REFERENCES `store`   (`store_id`) ON DELETE NO ACTION ON UPDATE NO ACTION\n) ENGINE=InnoDB AUTO_INCREMENT=84 DEFAULT CHARSET=utf8;\n</code></pre>\n\n<p>And my other entity</p>\n\n<pre><code>@Entity\n@Table(name = \"item_category\", catalog = \"myschema\")\n@IdClass(ItemCategoryIndex.class)\npublic class ItemCategory implements java.io.Serializable {\n\n@Id\n@Column(name = \"category_id\", unique = true, nullable = false, insertable = false, updatable = false)\nprivate Integer categoryId;\n@Id\nprivate Store store;\n@Id\nprivate Item item;\n@Id\nprivate String categoryName;\n\n/* Getters and Setters */\n}\n</code></pre>\n\n<p>Table for ItemCategory:</p>\n\n<pre><code>CREATE TABLE `item_category` (\n`category_id` int(11) NOT NULL AUTO_INCREMENT,\n`store_id` int(11) NOT NULL,\n`item_id` int(11) NOT NULL,\n`category_name` varchar(45) NOT NULL,\nPRIMARY KEY (`category_id`),\nUNIQUE KEY `category_id_UNIQUE` (`category_id`),\nUNIQUE KEY `IDX_UNIQUE_STORE_CATEGORY`     (`store_id`,`item_id`,`category_name`) USING BTREE,\nKEY `FK_CATEGORY_STORE_ID_idx` (`store_id`),\nKEY `FK_ITEM_CATEGORY_ID_idx` (`item_id`),\nCONSTRAINT `FK_CATEGORY_STORE_ID` FOREIGN KEY (`store_id`) REFERENCES     `store` (`store_id`) ON DELETE NO ACTION ON UPDATE NO ACTION,\nCONSTRAINT `FK_ITEM_CATEGORY_ID` FOREIGN KEY (`item_id`) REFERENCES `item`     (`item_id`) ON DELETE CASCADE ON UPDATE NO ACTION\n) ENGINE=InnoDB AUTO_INCREMENT=162 DEFAULT CHARSET=utf8;\n</code></pre>\n\n<p>I try to delete the item like this:  </p>\n\n<pre><code>Item item = entityManager.find(Item.class, idList.get(i));\nentityManager.remove(item);\n</code></pre>\n\n<p>My logs show that Hibernate is trying to set the primary key for ItemCategory to null: </p>\n\n<pre><code>Hibernate: update myschema.item_category set item_id=null where item_id=?\nERROR o.h.e.jdbc.spi.SqlExceptionHelper.logExceptions 146 - Column 'item_id' cannot be null\n</code></pre>\n\n<p>I even tried looping through the child records and deleting them manually, but Hibernate still issues this update to null query.  What am I doing wrong?</p>\n"},{"tags":["java","android","bluetooth","android-bluetooth"],"comments":[{"owner":{"account_id":3289988,"reputation":1268,"user_id":2768515,"accept_rate":50,"display_name":"Chetan Gaikwad"},"score":0,"creation_date":1642165690,"post_id":70704363,"comment_id":125004698,"body_markdown":"I have written a blog explaining the complete communication process.\nCheck if this helps \nhttps://gaikwadchetan93.medium.com/developing-an-android-bluetooth-terminal-3933763200c6","body":"I have written a blog explaining the complete communication process. Check if this helps  <a href=\"https://gaikwadchetan93.medium.com/developing-an-android-bluetooth-terminal-3933763200c6\" rel=\"nofollow noreferrer\">gaikwadchetan93.medium.com/&hellip;</a>"}],"owner":{"account_id":3740221,"reputation":83,"user_id":3110138,"display_name":"David"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1685997722,"creation_date":1642116711,"question_id":70704363,"body_markdown":"My Android app talks to my own ECG device. Everything runs perfectly fine when using an old (now discontinued) Kyocera E6560 phone that was running Android 5.5. I&#39;ve recently purchased 8 different phones, running more recent versions of Android. All the new phones transfer SPP data 7 times slower than my old Kyocera phone. I can&#39;t find any new phones that can run as fast as the E6560.\r\n\r\nI&#39;ve narrowed down the speed decrease to the read() function. When I create a socket like:\r\n\r\n    bluetoothSocket = bluetoothDevice.createRfcommSocketToServiceRecord(UUID_SPP);\r\n    bluetoothSocket.connect();\r\n    inputStream = bluetoothSocket.getInputStream();\r\n\r\nthen the following line takes about 7 times longer with newer phones:\r\n\r\n    byte[] data = new byte[1024];\r\n    int dataSize = inputStream.read(data);\r\n\r\nAny ideas why this is or what further steps I can take in debugging this?","title":"Bluetooth SPP slower with newer version of Android","body":"<p>My Android app talks to my own ECG device. Everything runs perfectly fine when using an old (now discontinued) Kyocera E6560 phone that was running Android 5.5. I've recently purchased 8 different phones, running more recent versions of Android. All the new phones transfer SPP data 7 times slower than my old Kyocera phone. I can't find any new phones that can run as fast as the E6560.</p>\n<p>I've narrowed down the speed decrease to the read() function. When I create a socket like:</p>\n<pre><code>bluetoothSocket = bluetoothDevice.createRfcommSocketToServiceRecord(UUID_SPP);\nbluetoothSocket.connect();\ninputStream = bluetoothSocket.getInputStream();\n</code></pre>\n<p>then the following line takes about 7 times longer with newer phones:</p>\n<pre><code>byte[] data = new byte[1024];\nint dataSize = inputStream.read(data);\n</code></pre>\n<p>Any ideas why this is or what further steps I can take in debugging this?</p>\n"},{"tags":["java","netflix-eureka","spring-cloud-netflix","wiremock","feign"],"comments":[{"owner":{"account_id":9181659,"reputation":1756,"user_id":6825250,"display_name":"Sergey Bespalov"},"score":0,"creation_date":1474510968,"post_id":39465990,"comment_id":66563716,"body_markdown":"I tried to offer an answer for you but I understand that most likely your goal is not really good. If you talk about integration tests, then you don&#39;t need to mock `BarClient` logic. if you do so then your test will be Unit test, not integration. And if it is a Unit test then you can mock `BarClient` simple with Mokito, without http requests at all. I don&#39;t understand why do you need http request?","body":"I tried to offer an answer for you but I understand that most likely your goal is not really good. If you talk about integration tests, then you don&#39;t need to mock <code>BarClient</code> logic. if you do so then your test will be Unit test, not integration. And if it is a Unit test then you can mock <code>BarClient</code> simple with Mokito, without http requests at all. I don&#39;t understand why do you need http request?"},{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":5,"creation_date":1474522304,"post_id":39465990,"comment_id":66566712,"body_markdown":"I don&#39;t want to build integration tests that integrate multiple micro services. When I say integration test, I mean testing the integration of all technical layers in `FooService`, as opposed to unit tests that test only one class and replace the rest with mocks or stubs.","body":"I don&#39;t want to build integration tests that integrate multiple micro services. When I say integration test, I mean testing the integration of all technical layers in <code>FooService</code>, as opposed to unit tests that test only one class and replace the rest with mocks or stubs."},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1474977900,"post_id":39465990,"comment_id":66745743,"body_markdown":"Have you looked at [RestClientTest](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-autoconfigured-rest-client) and it&#39;s `MockRestServiceServer` in Spring Boot 1.4?","body":"Have you looked at <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-autoconfigured-rest-client\" rel=\"nofollow noreferrer\">RestClientTest</a> and it&#39;s <code>MockRestServiceServer</code> in Spring Boot 1.4?"},{"owner":{"account_id":2494093,"reputation":796,"user_id":2170968,"accept_rate":71,"display_name":"Raipe"},"score":0,"creation_date":1497277534,"post_id":39465990,"comment_id":75997407,"body_markdown":"Did you find a way to do this? I am trying to accomplish same. Running the microservice with all external dependencies (e.g. Eureka server) mocked out-of-process.","body":"Did you find a way to do this? I am trying to accomplish same. Running the microservice with all external dependencies (e.g. Eureka server) mocked out-of-process."},{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":0,"creation_date":1497277663,"post_id":39465990,"comment_id":75997511,"body_markdown":"As you can see in my answer below, I switched to RestTemplate.","body":"As you can see in my answer below, I switched to RestTemplate."}],"answers":[{"comments":[{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":0,"creation_date":1474522532,"post_id":39607498,"comment_id":66566787,"body_markdown":"Hey Sergey thanks for your answer! Adding a eureka registry to my service sounds good, but how can I add my fake `BarService` to it? Considering your second suggestion, replacing `BarClient` with a Mockito, yes I also want to do that, but that&#39;s for the unit test. I also want to have an integration test that involves the real feign magic.","body":"Hey Sergey thanks for your answer! Adding a eureka registry to my service sounds good, but how can I add my fake <code>BarService</code> to it? Considering your second suggestion, replacing <code>BarClient</code> with a Mockito, yes I also want to do that, but that&#39;s for the unit test. I also want to have an integration test that involves the real feign magic."}],"tags":[],"owner":{"account_id":9181659,"reputation":1756,"user_id":6825250,"display_name":"Sergey Bespalov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474447309,"creation_date":1474431634,"answer_id":39607498,"question_id":39465990,"body_markdown":"Probably there is no way to make WireMock comunicate directly with Eureka Server, but you can use other variants to configure test environment that you need.\r\n \r\n 1. In test environment you can deploy Eureka Service Registry under standalone Jetty servlet container and all the annotations will work like they do in real production environment. \r\n 2. If you don&#39;t want to use real `BarClient` endpoint logic, and integration test is only about real `http` transport layer, then you can use Mockito for `BarClient` endpoint stub.\r\n \r\nI suppose that in order to implement 1 and 2 using Spring-Boot, you will need to make two separate applications for a test environment. One for Eureka Service Registry under Jetty and another for `BarClient` endpoint stub under Jetty too. \r\n\r\nAnother solution is to manually configure Jetty and Eureka in test application context. I think that this is a better way but in such case you must to understand what `@EnableEurekaServer` and `@EnableDiscoveryClient` annotations do with Spring application context.","title":"How to Integration Test spring-cloud-netflix &amp; Feign, using WireMock","body":"<p>Probably there is no way to make WireMock comunicate directly with Eureka Server, but you can use other variants to configure test environment that you need.</p>\n\n<ol>\n<li>In test environment you can deploy Eureka Service Registry under standalone Jetty servlet container and all the annotations will work like they do in real production environment. </li>\n<li>If you don't want to use real <code>BarClient</code> endpoint logic, and integration test is only about real <code>http</code> transport layer, then you can use Mockito for <code>BarClient</code> endpoint stub.</li>\n</ol>\n\n<p>I suppose that in order to implement 1 and 2 using Spring-Boot, you will need to make two separate applications for a test environment. One for Eureka Service Registry under Jetty and another for <code>BarClient</code> endpoint stub under Jetty too. </p>\n\n<p>Another solution is to manually configure Jetty and Eureka in test application context. I think that this is a better way but in such case you must to understand what <code>@EnableEurekaServer</code> and <code>@EnableDiscoveryClient</code> annotations do with Spring application context.</p>\n"},{"comments":[{"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"score":2,"creation_date":1515579130,"post_id":42017219,"comment_id":83349678,"body_markdown":"But this doesn&#39;t use Feign, sure, it&#39;s valid if you use RestTemplate, but the question asks about Feign with SpringBoot. People use Feign because it&#39;s nicer than RestTemplate...","body":"But this doesn&#39;t use Feign, sure, it&#39;s valid if you use RestTemplate, but the question asks about Feign with SpringBoot. People use Feign because it&#39;s nicer than RestTemplate..."},{"owner":{"account_id":2524596,"reputation":523,"user_id":2194201,"display_name":"haggisandchips"},"score":4,"creation_date":1524644292,"post_id":42017219,"comment_id":87050723,"body_markdown":"This does not answer the original question. You have completely changed your strategy meaning the original question is not applicable to you but it is still a valid question (and is exactly what I am am trying to do) and this is NOT the answer to it.","body":"This does not answer the original question. You have completely changed your strategy meaning the original question is not applicable to you but it is still a valid question (and is exactly what I am am trying to do) and this is NOT the answer to it."},{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":0,"creation_date":1524645016,"post_id":42017219,"comment_id":87051141,"body_markdown":"@haggisandchips Whatever. For me it solves the problem :)","body":"@haggisandchips Whatever. For me it solves the problem :)"},{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":0,"creation_date":1526321980,"post_id":42017219,"comment_id":87689437,"body_markdown":"Really don&#39;t get it why everybody so hates my answer. This was my question, after all. And this is my solution which worked perfectly for me at the time. Anyway, I don&#39;t use spring-cloud at all any more because the whole thing is kind of crap and unstable","body":"Really don&#39;t get it why everybody so hates my answer. This was my question, after all. And this is my solution which worked perfectly for me at the time. Anyway, I don&#39;t use spring-cloud at all any more because the whole thing is kind of crap and unstable"},{"owner":{"account_id":5857874,"reputation":976,"user_id":4614579,"accept_rate":17,"display_name":"Martijn Hiemstra"},"score":0,"creation_date":1549113636,"post_id":42017219,"comment_id":95792410,"body_markdown":"Perhaps if you just answered the question then people would upvote. By the way if you use discovery services then RestTemplate are a really bad solution because they aren&#39;t discovery aware out of the box.","body":"Perhaps if you just answered the question then people would upvote. By the way if you use discovery services then RestTemplate are a really bad solution because they aren&#39;t discovery aware out of the box."}],"tags":[],"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"comment_count":5,"down_vote_count":14,"up_vote_count":5,"is_accepted":true,"score":-9,"last_activity_date":1486098807,"creation_date":1486098807,"answer_id":42017219,"question_id":39465990,"body_markdown":"Use Spring&#39;s RestTemplate instead of feign. RestTemplate is also able to resolve service names via eureka, so you can do something like this:\r\n\r\n    @Component\r\n    public class SomeService {\r\n       @Autowired\r\n       RestTemplate restTemplate;\r\n\r\n       public String doSomething() {\r\n         try {\r\n           restTemplate.postForEntity(&quot;http://my-service/some/url&quot;, \r\n                                      new BazzleRequest(...), \r\n                                      Void.class);\r\n           return &quot;so bazzle my eyes dazzle&quot;;\r\n         } catch(HttpStatusCodeException e) {\r\n           return &quot;Not bazzle today!&quot;;\r\n         }\r\n       }\r\n    }\r\n\r\nThis is way easier testable with Wiremock than feign.","title":"How to Integration Test spring-cloud-netflix &amp; Feign, using WireMock","body":"<p>Use Spring's RestTemplate instead of feign. RestTemplate is also able to resolve service names via eureka, so you can do something like this:</p>\n\n<pre><code>@Component\npublic class SomeService {\n   @Autowired\n   RestTemplate restTemplate;\n\n   public String doSomething() {\n     try {\n       restTemplate.postForEntity(\"http://my-service/some/url\", \n                                  new BazzleRequest(...), \n                                  Void.class);\n       return \"so bazzle my eyes dazzle\";\n     } catch(HttpStatusCodeException e) {\n       return \"Not bazzle today!\";\n     }\n   }\n}\n</code></pre>\n\n<p>This is way easier testable with Wiremock than feign.</p>\n"},{"comments":[{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":0,"creation_date":1502632620,"post_id":45643183,"comment_id":78279908,"body_markdown":"Hey, thanks for your answer! Does this involve Eureka? What is the google.url?","body":"Hey, thanks for your answer! Does this involve Eureka? What is the google.url?"},{"owner":{"account_id":287433,"reputation":401,"user_id":587239,"display_name":"Alexander"},"score":0,"creation_date":1502708112,"post_id":45643183,"comment_id":78303094,"body_markdown":"Hello! &#39;google.url&#39; is an arbitrary property name to hold the dependee&#39;s  service url (google homepage in this example). Eureka is not taken into consideration. Came to this solution trying to override application.properties value.","body":"Hello! &#39;google.url&#39; is an arbitrary property name to hold the dependee&#39;s  service url (google homepage in this example). Eureka is not taken into consideration. Came to this solution trying to override application.properties value."},{"owner":{"account_id":9489110,"reputation":2186,"user_id":7054574,"display_name":"Anddo"},"score":0,"creation_date":1635772510,"post_id":45643183,"comment_id":123375421,"body_markdown":"TestPropertySourceUtils is great tip. Thank you. I wish I could find it in the official documentation somehow.","body":"TestPropertySourceUtils is great tip. Thank you. I wish I could find it in the official documentation somehow."}],"tags":[],"owner":{"account_id":287433,"reputation":401,"user_id":587239,"display_name":"Alexander"},"comment_count":3,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1502482867,"creation_date":1502482867,"answer_id":45643183,"question_id":39465990,"body_markdown":"Here is an example how to do the wiring of Feign and WireMock with random port (based on [Spring-Boot github][1] answer). \r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(properties = &quot;google.url=http://google.com&quot;) // emulate application.properties\r\n    @ContextConfiguration(initializers = PortTest.RandomPortInitializer.class)\r\n    @EnableFeignClients(clients = PortTest.Google.class)\r\n    public class PortTest {\r\n    \r\n        @ClassRule\r\n        public static WireMockClassRule wireMockRule = new WireMockClassRule(\r\n            wireMockConfig().dynamicPort()\r\n        );\r\n    \r\n        @FeignClient(name = &quot;google&quot;, url = &quot;${google.url}&quot;)\r\n        public interface Google {    \r\n            @RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\r\n            String request();\r\n        }\r\n    \r\n        @Autowired\r\n        public Google google;\r\n    \r\n        @Test\r\n        public void testName() throws Exception {\r\n            stubFor(get(urlEqualTo(&quot;/&quot;))\r\n                    .willReturn(aResponse()\r\n                            .withStatus(HttpStatus.OK.value())\r\n                            .withBody(&quot;Hello&quot;)));\r\n    \r\n            assertEquals(&quot;Hello&quot;, google.request());\r\n        }\r\n    \r\n    \r\n        public static class RandomPortInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n            @Override\r\n            public void initialize(ConfigurableApplicationContext applicationContext) {\r\n\r\n                // If the next statement is commented out, \r\n                // Feign will go to google.com instead of localhost\r\n                TestPropertySourceUtils\r\n                    .addInlinedPropertiesToEnvironment(applicationContext,\r\n                        &quot;google.url=&quot; + &quot;http://localhost:&quot; + wireMockRule.port()\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n[Alternatively][2] you can try playing with `System.setProperty()` in `@BeforeClass` method of your test.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/7759#issuecomment-269363307\r\n  [2]: https://stackoverflow.com/a/37211355/587239","title":"How to Integration Test spring-cloud-netflix &amp; Feign, using WireMock","body":"<p>Here is an example how to do the wiring of Feign and WireMock with random port (based on <a href=\"https://github.com/spring-projects/spring-boot/issues/7759#issuecomment-269363307\" rel=\"noreferrer\">Spring-Boot github</a> answer). </p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(properties = \"google.url=http://google.com\") // emulate application.properties\n@ContextConfiguration(initializers = PortTest.RandomPortInitializer.class)\n@EnableFeignClients(clients = PortTest.Google.class)\npublic class PortTest {\n\n    @ClassRule\n    public static WireMockClassRule wireMockRule = new WireMockClassRule(\n        wireMockConfig().dynamicPort()\n    );\n\n    @FeignClient(name = \"google\", url = \"${google.url}\")\n    public interface Google {    \n        @RequestMapping(method = RequestMethod.GET, value = \"/\")\n        String request();\n    }\n\n    @Autowired\n    public Google google;\n\n    @Test\n    public void testName() throws Exception {\n        stubFor(get(urlEqualTo(\"/\"))\n                .willReturn(aResponse()\n                        .withStatus(HttpStatus.OK.value())\n                        .withBody(\"Hello\")));\n\n        assertEquals(\"Hello\", google.request());\n    }\n\n\n    public static class RandomPortInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n        @Override\n        public void initialize(ConfigurableApplicationContext applicationContext) {\n\n            // If the next statement is commented out, \n            // Feign will go to google.com instead of localhost\n            TestPropertySourceUtils\n                .addInlinedPropertiesToEnvironment(applicationContext,\n                    \"google.url=\" + \"http://localhost:\" + wireMockRule.port()\n            );\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/37211355/587239\">Alternatively</a> you can try playing with <code>System.setProperty()</code> in <code>@BeforeClass</code> method of your test.</p>\n"},{"comments":[{"owner":{"account_id":2524596,"reputation":523,"user_id":2194201,"display_name":"haggisandchips"},"score":0,"creation_date":1524644546,"post_id":47583600,"comment_id":87050870,"body_markdown":"Note that this approach relies on Hystrix being disabled by default otherwise the fallback might be used in live. Spring Cloud Dalston introduced the required opt-in approach but prior to that Hystrix would be enabled by default.","body":"Note that this approach relies on Hystrix being disabled by default otherwise the fallback might be used in live. Spring Cloud Dalston introduced the required opt-in approach but prior to that Hystrix would be enabled by default."},{"owner":{"account_id":2524596,"reputation":523,"user_id":2194201,"display_name":"haggisandchips"},"score":0,"creation_date":1524644658,"post_id":47583600,"comment_id":87050932,"body_markdown":"This should be the accepted answer with the proviso that it does not test the deserialization.","body":"This should be the accepted answer with the proviso that it does not test the deserialization."},{"owner":{"account_id":2509947,"reputation":728,"user_id":2182670,"display_name":"Piyush"},"score":0,"creation_date":1550163121,"post_id":47583600,"comment_id":96178257,"body_markdown":"Worked perfectly for me. Couple of things to note: \\nIf you are using JUnit 4.11 or higher, add this: `@Rule\n    public WireMockClassRule instanceRule = wiremock `","body":"Worked perfectly for me. Couple of things to note: \\nIf you are using JUnit 4.11 or higher, add this: <code>@Rule     public WireMockClassRule instanceRule = wiremock </code>"},{"owner":{"account_id":2509947,"reputation":728,"user_id":2182670,"display_name":"Piyush"},"score":1,"creation_date":1550163550,"post_id":47583600,"comment_id":96178521,"body_markdown":"Also, if you are testing a Spring Boot 2 application, u want to depend on `com.github.tomakehurst:wiremock-jre8:2.21.0`","body":"Also, if you are testing a Spring Boot 2 application, u want to depend on <code>com.github.tomakehurst:wiremock-jre8:2.21.0</code>"}],"tags":[],"owner":{"account_id":3238625,"reputation":1945,"user_id":2732177,"display_name":"mladzo"},"comment_count":4,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1512082241,"creation_date":1512080454,"answer_id":47583600,"question_id":39465990,"body_markdown":"Here is an example of using WireMock to test SpringBoot configuration with Feign client and Hystrix fallback.\r\n\r\nIf you are using Eureka as a server discovery, you need to disable it by setting a property `&quot;eureka.client.enabled=false&quot;`.\r\n\r\nFirst, we need to enable the Feign/Hystrix configuration for our application: \r\n\r\n    @SpringBootApplication\r\n    @EnableFeignClients\r\n    @EnableCircuitBreaker\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\n    @FeignClient(\r\n            name = &quot;bookstore-server&quot;,\r\n            fallback = BookClientFallback.class,\r\n            qualifier = &quot;bookClient&quot;\r\n    )\r\n    public interface BookClient {\r\n\r\n        @RequestMapping(method = RequestMethod.GET, path = &quot;/book/{id}&quot;)\r\n        Book findById(@PathVariable(&quot;id&quot;) String id);\r\n    }\r\n\r\n    @Component\r\n    public class BookClientFallback implements BookClient {\r\n\r\n        @Override\r\n        public Book findById(String id) {\r\n            return Book.builder().id(&quot;fallback-id&quot;).title(&quot;default&quot;).isbn(&quot;default&quot;).build();\r\n        }\r\n    }\r\n    \r\nPlease note that we are specifying a fallback class for the Feign client. Fallback class will be called every time Feign client call fails (e.g. connection timeout).\r\n\r\nIn order for tests to work, we need to configure the Ribbon loadbalancer (will be used internally by Feign client when sending http request):\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(properties = {\r\n            &quot;feign.hystrix.enabled=true&quot;\r\n    })\r\n    @ContextConfiguration(classes = {BookClientTest.LocalRibbonClientConfiguration.class})\r\n    public class BookClientTest {\r\n\r\n        @Autowired\r\n        public BookClient bookClient;\r\n\r\n        @ClassRule\r\n        public static WireMockClassRule wiremock = new WireMockClassRule(\r\n                wireMockConfig().dynamicPort()));\r\n\r\n        @Before\r\n        public void setup() throws IOException {\r\n            stubFor(get(urlEqualTo(&quot;/book/12345&quot;))\r\n                    .willReturn(aResponse()\r\n                            .withStatus(HttpStatus.OK.value())\r\n                            .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON)\r\n                            .withBody(StreamUtils.copyToString(getClass().getClassLoader().getResourceAsStream(&quot;fixtures/book.json&quot;), Charset.defaultCharset()))));\r\n        }\r\n\r\n        @Test\r\n        public void testFindById() {\r\n            Book result = bookClient.findById(&quot;12345&quot;);\r\n\r\n            assertNotNull(&quot;should not be null&quot;, result);\r\n            assertThat(result.getId(), is(&quot;12345&quot;));\r\n        }\r\n\r\n        @Test\r\n        public void testFindByIdFallback() {\r\n            stubFor(get(urlEqualTo(&quot;/book/12345&quot;))\r\n                    .willReturn(aResponse().withFixedDelay(60000)));\r\n\r\n            Book result = bookClient.findById(&quot;12345&quot;);\r\n\r\n            assertNotNull(&quot;should not be null&quot;, result);\r\n            assertThat(result.getId(), is(&quot;fallback-id&quot;));\r\n        }\r\n\r\n        @TestConfiguration\r\n        public static class LocalRibbonClientConfiguration {\r\n            @Bean\r\n            public ServerList&lt;Server&gt; ribbonServerList() {\r\n                return new StaticServerList&lt;&gt;(new Server(&quot;localhost&quot;, wiremock.port()));\r\n            }\r\n        }\r\n    }\r\n\r\nRibbon server list need to match the url (host and port) of our WireMock configuration.","title":"How to Integration Test spring-cloud-netflix &amp; Feign, using WireMock","body":"<p>Here is an example of using WireMock to test SpringBoot configuration with Feign client and Hystrix fallback.</p>\n\n<p>If you are using Eureka as a server discovery, you need to disable it by setting a property <code>\"eureka.client.enabled=false\"</code>.</p>\n\n<p>First, we need to enable the Feign/Hystrix configuration for our application: </p>\n\n<pre><code>@SpringBootApplication\n@EnableFeignClients\n@EnableCircuitBreaker\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n\n@FeignClient(\n        name = \"bookstore-server\",\n        fallback = BookClientFallback.class,\n        qualifier = \"bookClient\"\n)\npublic interface BookClient {\n\n    @RequestMapping(method = RequestMethod.GET, path = \"/book/{id}\")\n    Book findById(@PathVariable(\"id\") String id);\n}\n\n@Component\npublic class BookClientFallback implements BookClient {\n\n    @Override\n    public Book findById(String id) {\n        return Book.builder().id(\"fallback-id\").title(\"default\").isbn(\"default\").build();\n    }\n}\n</code></pre>\n\n<p>Please note that we are specifying a fallback class for the Feign client. Fallback class will be called every time Feign client call fails (e.g. connection timeout).</p>\n\n<p>In order for tests to work, we need to configure the Ribbon loadbalancer (will be used internally by Feign client when sending http request):</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(properties = {\n        \"feign.hystrix.enabled=true\"\n})\n@ContextConfiguration(classes = {BookClientTest.LocalRibbonClientConfiguration.class})\npublic class BookClientTest {\n\n    @Autowired\n    public BookClient bookClient;\n\n    @ClassRule\n    public static WireMockClassRule wiremock = new WireMockClassRule(\n            wireMockConfig().dynamicPort()));\n\n    @Before\n    public void setup() throws IOException {\n        stubFor(get(urlEqualTo(\"/book/12345\"))\n                .willReturn(aResponse()\n                        .withStatus(HttpStatus.OK.value())\n                        .withHeader(\"Content-Type\", MediaType.APPLICATION_JSON)\n                        .withBody(StreamUtils.copyToString(getClass().getClassLoader().getResourceAsStream(\"fixtures/book.json\"), Charset.defaultCharset()))));\n    }\n\n    @Test\n    public void testFindById() {\n        Book result = bookClient.findById(\"12345\");\n\n        assertNotNull(\"should not be null\", result);\n        assertThat(result.getId(), is(\"12345\"));\n    }\n\n    @Test\n    public void testFindByIdFallback() {\n        stubFor(get(urlEqualTo(\"/book/12345\"))\n                .willReturn(aResponse().withFixedDelay(60000)));\n\n        Book result = bookClient.findById(\"12345\");\n\n        assertNotNull(\"should not be null\", result);\n        assertThat(result.getId(), is(\"fallback-id\"));\n    }\n\n    @TestConfiguration\n    public static class LocalRibbonClientConfiguration {\n        @Bean\n        public ServerList&lt;Server&gt; ribbonServerList() {\n            return new StaticServerList&lt;&gt;(new Server(\"localhost\", wiremock.port()));\n        }\n    }\n}\n</code></pre>\n\n<p>Ribbon server list need to match the url (host and port) of our WireMock configuration.</p>\n"},{"tags":[],"owner":{"account_id":10213481,"reputation":318,"user_id":7539894,"display_name":"humbaba"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1512128018,"creation_date":1512128018,"answer_id":47592480,"question_id":39465990,"body_markdown":"There used to be basically two options for doing integration tests for microservices applications:\r\n\r\n 1. Deployment of services to a test environment and make end-to-end\r\n    tests  \r\n 2. Mocking other microservices\r\n\r\nFirst option has the obvious disadvantage of the hassle of deploying all the dependencies (other services, databases, etc) as well. In addition, it is slow and hard to debug.\r\n\r\nSecond option is faster and has less hassle but it is easy to end up with stubs that behave differently than the reality in time, due to possible code changes. So it is possible to have successful tests but failing app when deployed to prod.\r\n\r\nA better solution would be using consumer driven contract verification, so that you will make sure that provider service&#39;s API is compliant with the consumer calls. For this purpose, Spring developers can use [Spring Cloud Contract][1]. For other environments, there is a framework called [PACT][2]. Both can be used with Feign clients as well. [Here][3] is an example with PACT.\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-contract/\r\n  [2]: https://docs.pact.io/\r\n  [3]: https://reflectoring.io/consumer-driven-contracts-with-pact-feign-spring-data-rest/","title":"How to Integration Test spring-cloud-netflix &amp; Feign, using WireMock","body":"<p>There used to be basically two options for doing integration tests for microservices applications:</p>\n\n<ol>\n<li>Deployment of services to a test environment and make end-to-end\ntests  </li>\n<li>Mocking other microservices</li>\n</ol>\n\n<p>First option has the obvious disadvantage of the hassle of deploying all the dependencies (other services, databases, etc) as well. In addition, it is slow and hard to debug.</p>\n\n<p>Second option is faster and has less hassle but it is easy to end up with stubs that behave differently than the reality in time, due to possible code changes. So it is possible to have successful tests but failing app when deployed to prod.</p>\n\n<p>A better solution would be using consumer driven contract verification, so that you will make sure that provider service's API is compliant with the consumer calls. For this purpose, Spring developers can use <a href=\"https://cloud.spring.io/spring-cloud-contract/\" rel=\"noreferrer\">Spring Cloud Contract</a>. For other environments, there is a framework called <a href=\"https://docs.pact.io/\" rel=\"noreferrer\">PACT</a>. Both can be used with Feign clients as well. <a href=\"https://reflectoring.io/consumer-driven-contracts-with-pact-feign-spring-data-rest/\" rel=\"noreferrer\">Here</a> is an example with PACT.</p>\n"},{"tags":[],"owner":{"account_id":4674639,"reputation":137,"user_id":3785413,"display_name":"Siva Tharun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580808793,"creation_date":1580808793,"answer_id":60054385,"question_id":39465990,"body_markdown":"I personally prefer [mockServer][1] to stub any restful API, it is easy to use and is similar to [wiremock][2], but is very powerful compared to the latter.\r\n\r\nI have attached the sample code written with groovy/spock for stubbing a GET restful call with mockServer.\r\n\r\n First autowire the mockServer instance in test class\r\n\r\n    @Autowired\r\n    private static ClientAndServer mockServer\r\n       \r\nstart the mockServer instance from the setupSpec() method, this method is similar to junit method annotated with *@BeforeClass*.\r\n   \r\n   \r\n\r\n    def setupSpec() {\r\n         mockServer = ClientAndServer.startClientAndServer(8080)\r\n       }\r\n\r\ndefine the required stub in the corresponding unit test\r\n   \r\n\r\n    def &quot;test case&quot;() {\r\n     given:\r\n           new MockServerClient(&quot;localhost&quot;,8080).when(HttpRequest.request().withMethod(&quot;GET&quot;).withPath(&quot;/test/api&quot;).withQueryStringParameters(Parameter.param(&quot;param1&quot;, &quot;param1_value&quot;), Parameter.param(&quot;param2&quot;, &quot;param2_value&quot;))).respond(HttpResponse.response().withStatusCode(HttpStatus.OK.value()).withBody(&quot;{ message: &#39;sample response&#39; }&quot;))\r\n    \r\n     when:\r\n     //your code\r\n     then:\r\n     //your code\r\n    }\r\n\r\n after the execution of test cases, stop the mock server\r\n \r\n\r\n    def cleanupSpec() {\r\n         mockServer.stop()\r\n    } \r\n\r\n \r\n\r\n  [1]: https://www.mock-server.com/\r\n  [2]: http://wiremock.org/\r\n\r\n","title":"How to Integration Test spring-cloud-netflix &amp; Feign, using WireMock","body":"<p>I personally prefer <a href=\"https://www.mock-server.com/\" rel=\"nofollow noreferrer\">mockServer</a> to stub any restful API, it is easy to use and is similar to <a href=\"http://wiremock.org/\" rel=\"nofollow noreferrer\">wiremock</a>, but is very powerful compared to the latter.</p>\n\n<p>I have attached the sample code written with groovy/spock for stubbing a GET restful call with mockServer.</p>\n\n<p>First autowire the mockServer instance in test class</p>\n\n<pre><code>@Autowired\nprivate static ClientAndServer mockServer\n</code></pre>\n\n<p>start the mockServer instance from the setupSpec() method, this method is similar to junit method annotated with <em>@BeforeClass</em>.</p>\n\n<pre><code>def setupSpec() {\n     mockServer = ClientAndServer.startClientAndServer(8080)\n   }\n</code></pre>\n\n<p>define the required stub in the corresponding unit test</p>\n\n<pre><code>def \"test case\"() {\n given:\n       new MockServerClient(\"localhost\",8080).when(HttpRequest.request().withMethod(\"GET\").withPath(\"/test/api\").withQueryStringParameters(Parameter.param(\"param1\", \"param1_value\"), Parameter.param(\"param2\", \"param2_value\"))).respond(HttpResponse.response().withStatusCode(HttpStatus.OK.value()).withBody(\"{ message: 'sample response' }\"))\n\n when:\n //your code\n then:\n //your code\n}\n</code></pre>\n\n<p>after the execution of test cases, stop the mock server</p>\n\n<pre><code>def cleanupSpec() {\n     mockServer.stop()\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3414783,"reputation":3286,"user_id":2863995,"accept_rate":57,"display_name":"Arnold Galovics"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638635961,"creation_date":1638635961,"answer_id":70227569,"question_id":39465990,"body_markdown":"I think this is a very interesting yet underrated topic, how to verify your communication channels in a microservice environment. It&#39;s literally essential to make sure your channels are working as expected but still, I see tons of projects spending time on testing their Feign clients.\r\n\r\nMost of the folks have already answered how to do minimal testing for your Feign clients but let&#39;s take it to the next level.\r\n\r\nTesting the plain Feign client, the request mapping/response mapping/query mapping/etc is just one tiny part of the picture. In a microservice environment you gotta take care of service resiliency as well, like client-side load balancing, circuit breaking and so on.\r\n\r\nSince it&#39;s 2021 and Spring Cloud marked Hystrix and Ribbon deprecated, it&#39;s time to look at Resilience4J.\r\n\r\nI won&#39;t put the code here cause it would be probably too much to read but I&#39;ll give you some links to one of my GitHub projects.\r\n\r\n- Here&#39;s a Feign client configuration with Resilience4J for circuit breaking and using time limiters: [FeignConfiguration][1]\r\n- Here&#39;s a CircuitBreaker test: [CircuitBreakerTest][2]\r\n- Here&#39;s a TimeLimiter test: [TimeLimiterTest][3]\r\n- Here&#39;s a client side load balancing test: [LoadBalancingTest][4]\r\n\r\nAlso, this might be a bit much too understand without further explanation yet I can&#39;t do it in a single stackoverflow answer, so you can check out a couple of [my articles][5] as well as my course on Feign: [Mastering microservice communication with Spring Cloud Feign][6]\r\n\r\n\r\n  [1]: https://github.com/galovics/mastering-feign-practice/blob/spring-feign/online-store-service/src/main/java/com/arnoldgalovics/online/store/service/external/config/FeignConfiguration.java\r\n  [2]: https://github.com/galovics/mastering-feign-practice/blob/spring-feign/online-store-service/src/test/java/com/arnoldgalovics/online/store/service/CircuitBreakerTest.java\r\n  [3]: https://github.com/galovics/mastering-feign-practice/blob/spring-feign/online-store-service/src/test/java/com/arnoldgalovics/online/store/service/TimeLimiterTest.java\r\n  [4]: https://github.com/galovics/mastering-feign-practice/blob/spring-feign/online-store-service/src/test/java/com/arnoldgalovics/online/store/service/LoadBalancingTest.java\r\n  [5]: https://arnoldgalovics.com/tag/feign/?utm_source=stackoverflow&amp;utm_medium=post&amp;utm_campaign=tag-feign\r\n  [6]: https://www.udemy.com/course/mastering-microservice-communication-with-spring-cloud-feign/?referralCode=437693FE520ABDF6F4E3","title":"How to Integration Test spring-cloud-netflix &amp; Feign, using WireMock","body":"<p>I think this is a very interesting yet underrated topic, how to verify your communication channels in a microservice environment. It's literally essential to make sure your channels are working as expected but still, I see tons of projects spending time on testing their Feign clients.</p>\n<p>Most of the folks have already answered how to do minimal testing for your Feign clients but let's take it to the next level.</p>\n<p>Testing the plain Feign client, the request mapping/response mapping/query mapping/etc is just one tiny part of the picture. In a microservice environment you gotta take care of service resiliency as well, like client-side load balancing, circuit breaking and so on.</p>\n<p>Since it's 2021 and Spring Cloud marked Hystrix and Ribbon deprecated, it's time to look at Resilience4J.</p>\n<p>I won't put the code here cause it would be probably too much to read but I'll give you some links to one of my GitHub projects.</p>\n<ul>\n<li>Here's a Feign client configuration with Resilience4J for circuit breaking and using time limiters: <a href=\"https://github.com/galovics/mastering-feign-practice/blob/spring-feign/online-store-service/src/main/java/com/arnoldgalovics/online/store/service/external/config/FeignConfiguration.java\" rel=\"nofollow noreferrer\">FeignConfiguration</a></li>\n<li>Here's a CircuitBreaker test: <a href=\"https://github.com/galovics/mastering-feign-practice/blob/spring-feign/online-store-service/src/test/java/com/arnoldgalovics/online/store/service/CircuitBreakerTest.java\" rel=\"nofollow noreferrer\">CircuitBreakerTest</a></li>\n<li>Here's a TimeLimiter test: <a href=\"https://github.com/galovics/mastering-feign-practice/blob/spring-feign/online-store-service/src/test/java/com/arnoldgalovics/online/store/service/TimeLimiterTest.java\" rel=\"nofollow noreferrer\">TimeLimiterTest</a></li>\n<li>Here's a client side load balancing test: <a href=\"https://github.com/galovics/mastering-feign-practice/blob/spring-feign/online-store-service/src/test/java/com/arnoldgalovics/online/store/service/LoadBalancingTest.java\" rel=\"nofollow noreferrer\">LoadBalancingTest</a></li>\n</ul>\n<p>Also, this might be a bit much too understand without further explanation yet I can't do it in a single stackoverflow answer, so you can check out a couple of <a href=\"https://arnoldgalovics.com/tag/feign/?utm_source=stackoverflow&amp;utm_medium=post&amp;utm_campaign=tag-feign\" rel=\"nofollow noreferrer\">my articles</a> as well as my course on Feign: <a href=\"https://www.udemy.com/course/mastering-microservice-communication-with-spring-cloud-feign/?referralCode=437693FE520ABDF6F4E3\" rel=\"nofollow noreferrer\">Mastering microservice communication with Spring Cloud Feign</a></p>\n"}],"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42150,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":42017219,"answer_count":7,"score":28,"last_activity_date":1685997540,"creation_date":1473757045,"question_id":39465990,"body_markdown":"I use Spring-Cloud-Netflix for communication between micro services. Let&#39;s say I have two services, Foo and Bar, and Foo consumes one of Bar&#39;s REST endpoints. I use an interface annotated with `@FeignClient`:\r\n\r\n    @FeignClient\r\n    public interface BarClient {\r\n      @RequestMapping(value = &quot;/some/url&quot;, method = &quot;POST&quot;)\r\n      void bazzle(@RequestBody BazzleRequest);\r\n    }\r\n\r\nThen I have a service class `SomeService` in Foo, which calls the `BarClient`.\r\n\r\n    @Component\r\n    public class SomeService {\r\n        @Autowired\r\n        BarClient barClient;\r\n\r\n        public String doSomething() {\r\n          try {\r\n            barClient.bazzle(new BazzleRequest(...));\r\n            return &quot;so bazzle my eyes dazzle&quot;;\r\n          } catch(FeignException e) {\r\n            return &quot;Not bazzle today!&quot;;\r\n          }\r\n\r\n        }\r\n    }\r\n\r\nNow, to make sure the communication between services works, I want to build a test that fires a real HTTP request against a *fake* Bar server, using `WireMock`. The test should make sure that feign correctly decodes the service response and reports it to `SomeService`.\r\n\r\n    public class SomeServiceIntegrationTest {\r\n\r\n        @Autowired SomeService someService;\r\n\r\n        @Test\r\n        public void shouldSucceed() {\r\n          stubFor(get(urlEqualTo(&quot;/some/url&quot;))\r\n            .willReturn(aResponse()\r\n                .withStatus(204);\r\n\r\n          String result = someService.doSomething();\r\n\r\n          assertThat(result, is(&quot;so bazzle my eyes dazzle&quot;));\r\n        }\r\n\r\n        @Test\r\n        public void shouldFail() {\r\n          stubFor(get(urlEqualTo(&quot;/some/url&quot;))\r\n            .willReturn(aResponse()\r\n                .withStatus(404);\r\n\r\n          String result = someService.doSomething();\r\n\r\n          assertThat(result, is(&quot;Not bazzle today!&quot;));\r\n        }\r\n    }\r\n\r\n**How can I successfully inject such a `WireMock` server into Eureka, so that Feign is able to find it and communicate with it?**\r\n\r\n","title":"How to Integration Test spring-cloud-netflix &amp; Feign, using WireMock","body":"<p>I use Spring-Cloud-Netflix for communication between micro services. Let's say I have two services, Foo and Bar, and Foo consumes one of Bar's REST endpoints. I use an interface annotated with <code>@FeignClient</code>:</p>\n<pre><code>@FeignClient\npublic interface BarClient {\n  @RequestMapping(value = &quot;/some/url&quot;, method = &quot;POST&quot;)\n  void bazzle(@RequestBody BazzleRequest);\n}\n</code></pre>\n<p>Then I have a service class <code>SomeService</code> in Foo, which calls the <code>BarClient</code>.</p>\n<pre><code>@Component\npublic class SomeService {\n    @Autowired\n    BarClient barClient;\n\n    public String doSomething() {\n      try {\n        barClient.bazzle(new BazzleRequest(...));\n        return &quot;so bazzle my eyes dazzle&quot;;\n      } catch(FeignException e) {\n        return &quot;Not bazzle today!&quot;;\n      }\n\n    }\n}\n</code></pre>\n<p>Now, to make sure the communication between services works, I want to build a test that fires a real HTTP request against a <em>fake</em> Bar server, using <code>WireMock</code>. The test should make sure that feign correctly decodes the service response and reports it to <code>SomeService</code>.</p>\n<pre><code>public class SomeServiceIntegrationTest {\n\n    @Autowired SomeService someService;\n\n    @Test\n    public void shouldSucceed() {\n      stubFor(get(urlEqualTo(&quot;/some/url&quot;))\n        .willReturn(aResponse()\n            .withStatus(204);\n\n      String result = someService.doSomething();\n\n      assertThat(result, is(&quot;so bazzle my eyes dazzle&quot;));\n    }\n\n    @Test\n    public void shouldFail() {\n      stubFor(get(urlEqualTo(&quot;/some/url&quot;))\n        .willReturn(aResponse()\n            .withStatus(404);\n\n      String result = someService.doSomething();\n\n      assertThat(result, is(&quot;Not bazzle today!&quot;));\n    }\n}\n</code></pre>\n<p><strong>How can I successfully inject such a <code>WireMock</code> server into Eureka, so that Feign is able to find it and communicate with it?</strong></p>\n"},{"tags":["java","spring-boot","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":22662201,"reputation":55,"user_id":16835140,"display_name":"ChaabFI"},"score":0,"creation_date":1630847604,"post_id":69063566,"comment_id":122061726,"body_markdown":"Thank you very much, this is very insightful I appreciate your explanation","body":"Thank you very much, this is very insightful I appreciate your explanation"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1630848222,"post_id":69063566,"comment_id":122061872,"body_markdown":"@ChaabFI you can always upvote if you find answer helpful ;)","body":"@ChaabFI you can always upvote if you find answer helpful ;)"}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1630846397,"creation_date":1630846397,"answer_id":69063566,"question_id":69063472,"body_markdown":"Well annotation scanning for Spring does not include the package repository so it does not scan the `@Repository` to add it as a spring bean. You ned to also define\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;controller&quot;,&quot;service&quot;,&quot;model&quot;, &quot;repository&quot;})\r\n\r\nReason for that is that the default package that spring scanns is the `com.firstproject.myfirstproject` where the `MyFirstProjectApplication.claass` exists which defines the main method that starts the spring boot application.\r\n\r\nConsidering that all other packages are outside of that package you need to define them manualy with `scanBasePackages` in order for spring to get inside those other packages like service, repository and scan for annotations and make neccessary actions.","title":"How to fix this issue &quot;Consider defining a bean of type &#39;repository.InterfaceName&#39; in your configuration.&quot;","body":"<p>Well annotation scanning for Spring does not include the package repository so it does not scan the <code>@Repository</code> to add it as a spring bean. You ned to also define</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;controller&quot;,&quot;service&quot;,&quot;model&quot;, &quot;repository&quot;})\n</code></pre>\n<p>Reason for that is that the default package that spring scanns is the <code>com.firstproject.myfirstproject</code> where the <code>MyFirstProjectApplication.claass</code> exists which defines the main method that starts the spring boot application.</p>\n<p>Considering that all other packages are outside of that package you need to define them manualy with <code>scanBasePackages</code> in order for spring to get inside those other packages like service, repository and scan for annotations and make neccessary actions.</p>\n"},{"comments":[{"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"score":0,"creation_date":1685997406,"post_id":69063570,"comment_id":134736439,"body_markdown":"I have the same problem, but beans are in maven dependencies (jar)\nHow can workaroud Spring Injection ?\nSome Service bean can&#39;t found repository class for injection.\n\n**@SpringBootApplication(scanBasePackages = {&quot;sak.spring.repositories&quot;, &quot;sak.spring.services&quot;,&quot;sak.spring.entities&quot;})**\nsak.spring is a DAO project Spring Boot, added to actual projet by **&lt;dependency&gt;** maven\n\nThank U.","body":"I have the same problem, but beans are in maven dependencies (jar) How can workaroud Spring Injection ? Some Service bean can&#39;t found repository class for injection.  <b>@SpringBootApplication(scanBasePackages = {&quot;sak.spring.repositories&quot;, &quot;sak.spring.services&quot;,&quot;sak.spring.entities&quot;})</b> sak.spring is a DAO project Spring Boot, added to actual projet by <b>&lt;dependency&gt;</b> maven  Thank U."}],"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1630846744,"creation_date":1630846428,"answer_id":69063570,"question_id":69063472,"body_markdown":"Move the packages `controller`, `repository`, `model` and `service` to `com.firstproject.myfirstproject`. With this you may get rid of `scanBasePackages = {&quot;controller&quot;,&quot;service&quot;,&quot;model&quot;}` and use only `@SpringBootApplication` as follows:\r\n\r\n```java\r\npackage com.firstproject.myfirstproject;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class MyFirstProjectApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyFirstProjectApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\n`@SpringBootApplication` encapsulates `@Configuration`, `@EnableAutoConfiguration`, and `@ComponentScan` annotations with their default attributes. The default value for `@ComponentScan` means that all the sub packages on the package the `@ComponentScan` is used are scanned. That is why it is usually a good practice to include the main class in the base package of the project. ","title":"How to fix this issue &quot;Consider defining a bean of type &#39;repository.InterfaceName&#39; in your configuration.&quot;","body":"<p>Move the packages <code>controller</code>, <code>repository</code>, <code>model</code> and <code>service</code> to <code>com.firstproject.myfirstproject</code>. With this you may get rid of <code>scanBasePackages = {&quot;controller&quot;,&quot;service&quot;,&quot;model&quot;}</code> and use only <code>@SpringBootApplication</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.firstproject.myfirstproject;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class MyFirstProjectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyFirstProjectApplication.class, args);\n    }\n}\n</code></pre>\n<p><code>@SpringBootApplication</code> encapsulates <code>@Configuration</code>, <code>@EnableAutoConfiguration</code>, and <code>@ComponentScan</code> annotations with their default attributes. The default value for <code>@ComponentScan</code> means that all the sub packages on the package the <code>@ComponentScan</code> is used are scanned. That is why it is usually a good practice to include the main class in the base package of the project.</p>\n"}],"owner":{"account_id":22662201,"reputation":55,"user_id":16835140,"display_name":"ChaabFI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20185,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69063570,"answer_count":2,"score":2,"last_activity_date":1685997335,"creation_date":1630845638,"question_id":69063472,"body_markdown":"I am using IntelliJ to learn spring boot and I encountered this issue when running the code\r\n\r\n```log\r\n2021-09-05 12:55:48.665 ERROR 10396 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in service.EmployeeService required a bean of type &#39;repository.EmployeeRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;repository.EmployeeRepository&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nthe project files tree looks like this: \r\n\r\n```\r\n├── HELP.md\r\n├── mvnw\r\n├── mvnw.cmd\r\n├── my-first-project.iml\r\n├── pom.xml\r\n├── src\r\n│&#160;&#160; ├── main\r\n│&#160;&#160; │&#160;&#160; ├── java\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160; ├── com\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160; │&#160;&#160; └── firstproject\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160; │&#160;&#160;     └── myfirstproject\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160; │&#160;&#160;         └── MyFirstProjectApplication.java\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160; ├── controller\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160; │&#160;&#160; └── EmployeeController.java\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160; ├── model\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160; │&#160;&#160; └── Employee.java\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160; ├── repository\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160; │&#160;&#160; └── EmployeeRepository.java\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160; └── service\r\n│&#160;&#160; │&#160;&#160; │&#160;&#160;     └── EmployeeService.java\r\n│&#160;&#160; │&#160;&#160; └── resources\r\n│&#160;&#160; │&#160;&#160;     ├── application.properties\r\n│&#160;&#160; │&#160;&#160;     ├── static\r\n│&#160;&#160; │&#160;&#160;     └── templates\r\n│&#160;&#160; └── test\r\n│&#160;&#160;     └── java\r\n│&#160;&#160;         └── com\r\n│&#160;&#160;             └── firstproject\r\n│&#160;&#160;                 └── myfirstproject\r\n│&#160;&#160;                     └── MyFirstProjectApplicationTests.java\r\n└── target\r\n    ├── classes\r\n    │&#160;&#160; ├── application.properties\r\n    │&#160;&#160; ├── com\r\n    │&#160;&#160; │&#160;&#160; └── firstproject\r\n    │&#160;&#160; │&#160;&#160;     └── myfirstproject\r\n    │&#160;&#160; │&#160;&#160;         └── MyFirstProjectApplication.class\r\n    │&#160;&#160; ├── controller\r\n    │&#160;&#160; │&#160;&#160; └── EmployeeController.class\r\n    │&#160;&#160; ├── model\r\n    │&#160;&#160; │&#160;&#160; └── Employee.class\r\n    │&#160;&#160; ├── repository\r\n    │&#160;&#160; │&#160;&#160; └── EmployeeRepository.class\r\n    │&#160;&#160; └── service\r\n    │&#160;&#160;     └── EmployeeService.class\r\n    ├── generated-sources\r\n    │&#160;&#160; └── annotations\r\n    ├── generated-test-sources\r\n    │&#160;&#160; └── test-annotations\r\n    └── test-classes\r\n        └── com\r\n            └── firstproject\r\n                └── myfirstproject\r\n                    └── MyFirstProjectApplicationTests.class\r\n\r\n```\r\nEmployeeController: \r\n```java\r\npackage controller;\r\n\r\nimport model.Employee;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport service.EmployeeService;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1/employee&quot;)\r\npublic class EmployeeController {\r\n\r\n    private final EmployeeService employeeService;\r\n\r\n    @Autowired\r\n    public EmployeeController(EmployeeService employeeService) {\r\n\r\n        this.employeeService = employeeService;\r\n    }\r\n    @GetMapping\r\n    public List&lt;Employee&gt; getEmployee(){\r\n        return employeeService.getEmployee();\r\n    }\r\n}\r\n```\r\nEmployeeService :\r\n\r\n```java\r\npackage service;\r\n\r\nimport model.Employee;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport repository.EmployeeRepository;\r\n\r\nimport java.util.List;\r\n\r\n\r\n@Service\r\npublic class EmployeeService {\r\n\r\n    final EmployeeRepository employeeRepository;\r\n    @Autowired\r\n    public EmployeeService(EmployeeRepository employeeRepository) {\r\n        this.employeeRepository = employeeRepository;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;Employee&gt; getEmployee(){\r\n\r\n        return employeeRepository.findAll();\r\n    }\r\n\r\n}\r\n```\r\n\r\nEmployee :\r\n```java\r\npackage model;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDate;\r\n@Entity\r\n@Table\r\npublic class Employee {\r\n    @Id\r\n    @SequenceGenerator(name = &quot;emp_sequence&quot;,\r\n    sequenceName = &quot;emp_sequence&quot;,\r\n    allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;emp_sequence&quot;)\r\n    private Long id;\r\n    private String name;\r\n    private String email;\r\n    private LocalDate dob;\r\n    private Float salary;\r\n\r\n    public Employee() {\r\n    } ...\\\\Getters and Setters\r\n```\r\nEmployeeRepository :\r\n```java\r\npackage repository;\r\n\r\nimport model.Employee;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee,Long&gt; {\r\n\r\n}\r\n```\r\nMyFirstProjectApplication:\r\n```java\r\npackage com.firstproject.myfirstproject;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n\r\n\r\n@SpringBootApplication(scanBasePackages = {&quot;repository&quot;,&quot;controller&quot;,&quot;service&quot;,&quot;model&quot;})\r\n//I added scanBasePackages = {&quot;repository&quot;,&quot;controller&quot;,&quot;service&quot;,&quot;model&quot;} because i hade the same problem with other packages and it solved it except for repository\r\npublic class MyFirstProjectApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyFirstProjectApplication.class, args);\r\n    }\r\n\r\n}\r\n\r\n```\r\nthe application properties :\r\n```properties\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/employee\r\nspring.datasource.username=postgres\r\nspring.datasource.password=*********\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.open-in-view=false\r\n```\r\nAnd Finaly the pom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.firstproject&lt;/groupId&gt;\r\n    &lt;artifactId&gt;my-first-project&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;my-first-project&lt;/name&gt;\r\n    &lt;description&gt;my-first-project&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nI am using:\r\n\r\n - java 11  \r\n - spring boot (v2.5.4) \r\n - Intellij IDEA 2021.2.1 ultimate edition\r\n\r\nI had the same problem with other packages but adding `@SpringBootApplication(scanBasePackages = {&quot;controller&quot;,&quot;service&quot;,&quot;model&quot;})` solved the issue for them.","title":"How to fix this issue &quot;Consider defining a bean of type &#39;repository.InterfaceName&#39; in your configuration.&quot;","body":"<p>I am using IntelliJ to learn spring boot and I encountered this issue when running the code</p>\n<pre><code>2021-09-05 12:55:48.665 ERROR 10396 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in service.EmployeeService required a bean of type 'repository.EmployeeRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'repository.EmployeeRepository' in your configuration.\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>the project files tree looks like this:</p>\n<pre><code>├── HELP.md\n├── mvnw\n├── mvnw.cmd\n├── my-first-project.iml\n├── pom.xml\n├── src\n│   ├── main\n│   │   ├── java\n│   │   │   ├── com\n│   │   │   │   └── firstproject\n│   │   │   │       └── myfirstproject\n│   │   │   │           └── MyFirstProjectApplication.java\n│   │   │   ├── controller\n│   │   │   │   └── EmployeeController.java\n│   │   │   ├── model\n│   │   │   │   └── Employee.java\n│   │   │   ├── repository\n│   │   │   │   └── EmployeeRepository.java\n│   │   │   └── service\n│   │   │       └── EmployeeService.java\n│   │   └── resources\n│   │       ├── application.properties\n│   │       ├── static\n│   │       └── templates\n│   └── test\n│       └── java\n│           └── com\n│               └── firstproject\n│                   └── myfirstproject\n│                       └── MyFirstProjectApplicationTests.java\n└── target\n    ├── classes\n    │   ├── application.properties\n    │   ├── com\n    │   │   └── firstproject\n    │   │       └── myfirstproject\n    │   │           └── MyFirstProjectApplication.class\n    │   ├── controller\n    │   │   └── EmployeeController.class\n    │   ├── model\n    │   │   └── Employee.class\n    │   ├── repository\n    │   │   └── EmployeeRepository.class\n    │   └── service\n    │       └── EmployeeService.class\n    ├── generated-sources\n    │   └── annotations\n    ├── generated-test-sources\n    │   └── test-annotations\n    └── test-classes\n        └── com\n            └── firstproject\n                └── myfirstproject\n                    └── MyFirstProjectApplicationTests.class\n\n</code></pre>\n<p>EmployeeController:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package controller;\n\nimport model.Employee;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport service.EmployeeService;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(path = &quot;/api/v1/employee&quot;)\npublic class EmployeeController {\n\n    private final EmployeeService employeeService;\n\n    @Autowired\n    public EmployeeController(EmployeeService employeeService) {\n\n        this.employeeService = employeeService;\n    }\n    @GetMapping\n    public List&lt;Employee&gt; getEmployee(){\n        return employeeService.getEmployee();\n    }\n}\n</code></pre>\n<p>EmployeeService :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package service;\n\nimport model.Employee;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport repository.EmployeeRepository;\n\nimport java.util.List;\n\n\n@Service\npublic class EmployeeService {\n\n    final EmployeeRepository employeeRepository;\n    @Autowired\n    public EmployeeService(EmployeeRepository employeeRepository) {\n        this.employeeRepository = employeeRepository;\n    }\n\n    @GetMapping\n    public List&lt;Employee&gt; getEmployee(){\n\n        return employeeRepository.findAll();\n    }\n\n}\n</code></pre>\n<p>Employee :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package model;\n\nimport javax.persistence.*;\nimport java.time.LocalDate;\n@Entity\n@Table\npublic class Employee {\n    @Id\n    @SequenceGenerator(name = &quot;emp_sequence&quot;,\n    sequenceName = &quot;emp_sequence&quot;,\n    allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE,\n            generator = &quot;emp_sequence&quot;)\n    private Long id;\n    private String name;\n    private String email;\n    private LocalDate dob;\n    private Float salary;\n\n    public Employee() {\n    } ...\\\\Getters and Setters\n</code></pre>\n<p>EmployeeRepository :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package repository;\n\nimport model.Employee;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee,Long&gt; {\n\n}\n</code></pre>\n<p>MyFirstProjectApplication:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.firstproject.myfirstproject;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n\n@SpringBootApplication(scanBasePackages = {&quot;repository&quot;,&quot;controller&quot;,&quot;service&quot;,&quot;model&quot;})\n//I added scanBasePackages = {&quot;repository&quot;,&quot;controller&quot;,&quot;service&quot;,&quot;model&quot;} because i hade the same problem with other packages and it solved it except for repository\npublic class MyFirstProjectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyFirstProjectApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>the application properties :</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/employee\nspring.datasource.username=postgres\nspring.datasource.password=*********\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.open-in-view=false\n</code></pre>\n<p>And Finaly the pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.firstproject&lt;/groupId&gt;\n    &lt;artifactId&gt;my-first-project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;my-first-project&lt;/name&gt;\n    &lt;description&gt;my-first-project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I am using:</p>\n<ul>\n<li>java 11</li>\n<li>spring boot (v2.5.4)</li>\n<li>Intellij IDEA 2021.2.1 ultimate edition</li>\n</ul>\n<p>I had the same problem with other packages but adding <code>@SpringBootApplication(scanBasePackages = {&quot;controller&quot;,&quot;service&quot;,&quot;model&quot;})</code> solved the issue for them.</p>\n"},{"tags":["java","amazon-web-services","java-8","amazon-elastic-beanstalk"],"comments":[{"owner":{"account_id":231844,"reputation":15747,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"score":0,"creation_date":1524255691,"post_id":49946738,"comment_id":86914884,"body_markdown":"&quot; I defined the XMX and XMS environment variables&quot; -&gt; Where? It&#39;s supposed to be in Configuration-&gt;Software (if done via console). https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/environments-cfg-softwaresettings.html. Why not just add values to Procfile instead of variables?","body":"&quot; I defined the XMX and XMS environment variables&quot; -&gt; Where? It&#39;s supposed to be in Configuration-&gt;Software (if done via console). <a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/environments-cfg-softwaresettings.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/elasticbeanstalk/latest/dg/&hellip;</a>. Why not just add values to Procfile instead of variables?"},{"owner":{"account_id":4751617,"reputation":168,"user_id":3841517,"display_name":"Jacob"},"score":0,"creation_date":1524283790,"post_id":49946738,"comment_id":86921049,"body_markdown":"To declare environment variables you need to use env prior to your `java` call, but if you need JVM parameters use -D with said variables.","body":"To declare environment variables you need to use env prior to your <code>java</code> call, but if you need JVM parameters use -D with said variables."}],"answers":[{"tags":[],"owner":{"account_id":13408674,"reputation":21,"user_id":9675950,"display_name":"Figueroa Mauricio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1524854933,"creation_date":1524854933,"answer_id":50068597,"question_id":49946738,"body_markdown":"The solution is to execute a script in the procfile, in that script it reads the environment variables, I still think something is doing wrong, but it works\r\n\r\nProcfile:\r\n&gt; web: ./run.sh\r\n\r\nScript run.sh\r\n\r\n&gt;  exec java $JAVA_OPTS  -jar app.jar\r\n\r\nJAVA_OPTS: environment variable defined in instance\r\n\r\nGood Luck!\r\n\r\n\r\n\r\n\r\n","title":"Read variables of Amazon Elastic Beanstalk environment from the Procfile","body":"<p>The solution is to execute a script in the procfile, in that script it reads the environment variables, I still think something is doing wrong, but it works</p>\n\n<p>Procfile:</p>\n\n<blockquote>\n  <p>web: ./run.sh</p>\n</blockquote>\n\n<p>Script run.sh</p>\n\n<blockquote>\n  <p>exec java $JAVA_OPTS  -jar app.jar</p>\n</blockquote>\n\n<p>JAVA_OPTS: environment variable defined in instance</p>\n\n<p>Good Luck!</p>\n"},{"tags":[],"owner":{"account_id":3332209,"reputation":38091,"user_id":2800876,"accept_rate":88,"display_name":"Zags"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685997149,"creation_date":1685997149,"answer_id":76409814,"question_id":49946738,"body_markdown":"Procfiles can read from Elastic Beanstalk environment variables (at least as of AWS Linux 2 based platforms).  Just include them like you would in bash, like so:\r\n\r\n    web: command -opt1 $ENV_VAR -opt2 $ENV_VAR2\r\n\r\nIf you want to see your bash variables while ssh-ed in to the instance, you need to source your environment variable file in bash first:\r\n\r\n    # Load environment variables into bash\r\n    set -a; source &lt;(sudo cat /opt/elasticbeanstalk/deployment/env)\r\n    # Now you can see your environment variables for debugging\r\n    echo #ENV_VAR\r\n","title":"Read variables of Amazon Elastic Beanstalk environment from the Procfile","body":"<p>Procfiles can read from Elastic Beanstalk environment variables (at least as of AWS Linux 2 based platforms).  Just include them like you would in bash, like so:</p>\n<pre><code>web: command -opt1 $ENV_VAR -opt2 $ENV_VAR2\n</code></pre>\n<p>If you want to see your bash variables while ssh-ed in to the instance, you need to source your environment variable file in bash first:</p>\n<pre><code># Load environment variables into bash\nset -a; source &lt;(sudo cat /opt/elasticbeanstalk/deployment/env)\n# Now you can see your environment variables for debugging\necho #ENV_VAR\n</code></pre>\n"}],"owner":{"account_id":13408674,"reputation":21,"user_id":9675950,"display_name":"Figueroa Mauricio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50068597,"answer_count":2,"score":1,"last_activity_date":1685997149,"creation_date":1524244566,"question_id":49946738,"body_markdown":"The problem is about the configuration params that the application needs to be executed in the JVM.  I defined the `XMX` and `XMS` environment variables but when deployed `procfile` can&#39;t read these variables.\r\n\r\n\r\n`Procfile`:\r\n&gt;  web: java $XMS $XMX  -jar application.jar\r\n\r\n \r\nIf I connect by `ssh` to the instance, I can&#39;t see my variables `$ XMX` and `$ XMS`.\r\n\r\nWhat am I doing wrong? Or is there a better way to do it?\r\n\r\n","title":"Read variables of Amazon Elastic Beanstalk environment from the Procfile","body":"<p>The problem is about the configuration params that the application needs to be executed in the JVM.  I defined the <code>XMX</code> and <code>XMS</code> environment variables but when deployed <code>procfile</code> can't read these variables.</p>\n\n<p><code>Procfile</code>:</p>\n\n<blockquote>\n  <p>web: java $XMS $XMX  -jar application.jar</p>\n</blockquote>\n\n<p>If I connect by <code>ssh</code> to the instance, I can't see my variables <code>$ XMX</code> and <code>$ XMS</code>.</p>\n\n<p>What am I doing wrong? Or is there a better way to do it?</p>\n"},{"tags":["java","colors","jframe","jcombobox"],"owner":{"account_id":28758553,"reputation":1,"user_id":22025012,"display_name":"Nana De Banana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685997062,"creation_date":1685982608,"question_id":76408368,"body_markdown":"I am creating a small java game for a school project. I am using some components of JFrame; JPanels, JLabels, JComboBoxs.\r\n\r\nImage of my JComboBox:\r\n\r\n[![https://i.stack.imgur.com/7W3wJ.png][1]][1]\r\n\r\nI want to change the blue-ish colour of the JComboBox to another colour (Brown). How can I go about doing this?\r\n\r\nI have tried changing the background and the foreground of the JComboBox itself but I cannot seem to get it to work. The foreground makes the text change and the background changes the already brown colour.\r\nHere is my entire JComboBox code:\r\n\r\n```\r\nraceStatsComboBox = new javax.swing.JComboBox&lt;&gt;();\r\nraceStatsComboBox.setModel(new DefaultComboBoxModel&lt;&gt;(new String[] { &quot;GOBLIN&quot;, &quot;OGRE&quot;, &quot;ORC&quot; }));\r\nraceStatsComboBox.setBounds(75, 120, 300, 80);\r\nraceStatsComboBox.setFont(new Font(bodyFont, Font.BOLD, 25));\r\n//HERE IS WHERE I DEAL WITH THE FOREGROUND AND BACKGROUND\r\nraceStatsComboBox.setBackground(new Color(121, 92, 50));\r\nraceStatsComboBox.setForeground(Color.WHITE);\r\nraceStatsComboBox.setBorder(new MatteBorder(10, 10, 10, 10, new Color(58, 31, 4)));\r\nraceStatsComboBox.setOpaque(true);\r\n((JLabel)raceStatsComboBox.getRenderer()).setHorizontalAlignment(JLabel.CENTER);\r\nraceStatsComboBox.addActionListener(new ActionListener() {\r\n    public void actionPerformed(ActionEvent evt) {\r\n        raceSelector(evt);\r\n              }\r\n        });\r\nmainPanel.add(raceStatsComboBox);\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7W3wJ.png","title":"How to change the background colour of the inside of a JComboBox","body":"<p>I am creating a small java game for a school project. I am using some components of JFrame; JPanels, JLabels, JComboBoxs.</p>\n<p>Image of my JComboBox:</p>\n<p><a href=\"https://i.stack.imgur.com/7W3wJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7W3wJ.png\" alt=\"https://i.stack.imgur.com/7W3wJ.png\" /></a></p>\n<p>I want to change the blue-ish colour of the JComboBox to another colour (Brown). How can I go about doing this?</p>\n<p>I have tried changing the background and the foreground of the JComboBox itself but I cannot seem to get it to work. The foreground makes the text change and the background changes the already brown colour.\nHere is my entire JComboBox code:</p>\n<pre><code>raceStatsComboBox = new javax.swing.JComboBox&lt;&gt;();\nraceStatsComboBox.setModel(new DefaultComboBoxModel&lt;&gt;(new String[] { &quot;GOBLIN&quot;, &quot;OGRE&quot;, &quot;ORC&quot; }));\nraceStatsComboBox.setBounds(75, 120, 300, 80);\nraceStatsComboBox.setFont(new Font(bodyFont, Font.BOLD, 25));\n//HERE IS WHERE I DEAL WITH THE FOREGROUND AND BACKGROUND\nraceStatsComboBox.setBackground(new Color(121, 92, 50));\nraceStatsComboBox.setForeground(Color.WHITE);\nraceStatsComboBox.setBorder(new MatteBorder(10, 10, 10, 10, new Color(58, 31, 4)));\nraceStatsComboBox.setOpaque(true);\n((JLabel)raceStatsComboBox.getRenderer()).setHorizontalAlignment(JLabel.CENTER);\nraceStatsComboBox.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent evt) {\n        raceSelector(evt);\n              }\n        });\nmainPanel.add(raceStatsComboBox);\n</code></pre>\n"},{"tags":["java","httpclient"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1336771343,"post_id":10558791,"comment_id":13666540,"body_markdown":"I don&#39;t think it is something with client code. May be destination server is too busy in handling responses?","body":"I don&#39;t think it is something with client code. May be destination server is too busy in handling responses?"},{"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"score":1,"creation_date":1336771762,"post_id":10558791,"comment_id":13666656,"body_markdown":"I tried fiddler to bombard the destination server but it worked fine. I even tried to execute the same steps to reproduce the error using fiddler, but no luck!","body":"I tried fiddler to bombard the destination server but it worked fine. I even tried to execute the same steps to reproduce the error using fiddler, but no luck!"},{"owner":{"account_id":81630,"reputation":8522,"user_id":230055,"accept_rate":67,"display_name":"Shawn"},"score":0,"creation_date":1336772445,"post_id":10558791,"comment_id":13666850,"body_markdown":"What kind of web server is running the service, and during the 10-15 minute wait is the service getting other requests, or is the service idle?","body":"What kind of web server is running the service, and during the 10-15 minute wait is the service getting other requests, or is the service idle?"},{"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"score":0,"creation_date":1336772728,"post_id":10558791,"comment_id":13666919,"body_markdown":"Tomcat. No its a mock service atm and it&#39;s not receiving anything else but my calls.","body":"Tomcat. No its a mock service atm and it&#39;s not receiving anything else but my calls."},{"owner":{"account_id":10692592,"reputation":369,"user_id":7870928,"display_name":"Sagar Kharab"},"score":0,"creation_date":1572159950,"post_id":10558791,"comment_id":103469883,"body_markdown":"I am getting this error as well but in a wrapper of ResourceAccessException.","body":"I am getting this error as well but in a wrapper of ResourceAccessException."}],"answers":[{"comments":[{"owner":{"account_id":1317232,"reputation":3875,"user_id":1263837,"accept_rate":11,"display_name":"Kundan Atre"},"score":0,"creation_date":1463405863,"post_id":10600762,"comment_id":62037759,"body_markdown":"I&#39;m using HTTTPClient 4.5.1 , here for two continuous retry server failed respond but third time succeed, so why does it not connect in first attempt even i kept time 1 minute as metioned.","body":"I&#39;m using HTTTPClient 4.5.1 , here for two continuous retry server failed respond but third time succeed, so why does it not connect in first attempt even i kept time 1 minute as metioned."},{"owner":{"account_id":4421966,"reputation":170,"user_id":3601615,"accept_rate":62,"display_name":"Ales"},"score":0,"creation_date":1495542210,"post_id":10600762,"comment_id":75287932,"body_markdown":"@oleg ,What is the difference between idle and expired connections?","body":"@oleg ,What is the difference between idle and expired connections?"},{"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"score":1,"creation_date":1495609510,"post_id":10600762,"comment_id":75319370,"body_markdown":"Some connections may have expiration time beyond which they should be considered no longer valid / re-usable. Idle connections are perfectly valid and re-usable but momentarily being unused.","body":"Some connections may have expiration time beyond which they should be considered no longer valid / re-usable. Idle connections are perfectly valid and re-usable but momentarily being unused."},{"owner":{"account_id":1657205,"reputation":1900,"user_id":1526421,"accept_rate":73,"display_name":"avmohan"},"score":0,"creation_date":1501760553,"post_id":10600762,"comment_id":77926694,"body_markdown":"Is it safe to catch this NoHttpResponseException and perform a retry?","body":"Is it safe to catch this NoHttpResponseException and perform a retry?"},{"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"score":2,"creation_date":1501840574,"post_id":10600762,"comment_id":77968090,"body_markdown":"It depends on many factors. It _should_ be safe for safe and idempotent methods as long as the server conforms to the HTTP spec with regards to method safety and idempotency.","body":"It depends on many factors. It <i>should</i> be safe for safe and idempotent methods as long as the server conforms to the HTTP spec with regards to method safety and idempotency."},{"owner":{"account_id":7529236,"reputation":2430,"user_id":5718107,"display_name":"Fan Jin"},"score":0,"creation_date":1542336578,"post_id":10600762,"comment_id":93541439,"body_markdown":"I have a monitor thread which sweeps all idle and expired connections every 5 seconds. I&#39;m getting an info type `NoHttpResponseException` from time to time, although the request worked fine after 1 or 2 retries. Is there a way to ignore the info type `NoHttpResponseException` from the log since the code works fine?","body":"I have a monitor thread which sweeps all idle and expired connections every 5 seconds. I&#39;m getting an info type <code>NoHttpResponseException</code> from time to time, although the request worked fine after 1 or 2 retries. Is there a way to ignore the info type <code>NoHttpResponseException</code> from the log since the code works fine?"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":3,"creation_date":1544982908,"post_id":10600762,"comment_id":94458264,"body_markdown":"Using one minute timeout as recommended here was exactly the problem cause in my case: apache client talking to local jetty server. AFAIK by default, jetty closes connections after 30 seconds of inactivity. Setting `connectionManager.setValidateAfterInactivity(500)`, i.e., half a second solved my problem. I guess, a few seconds would do equally well, but I don&#39;t care.","body":"Using one minute timeout as recommended here was exactly the problem cause in my case: apache client talking to local jetty server. AFAIK by default, jetty closes connections after 30 seconds of inactivity. Setting <code>connectionManager.setValidateAfterInactivity(500)</code>, i.e., half a second solved my problem. I guess, a few seconds would do equally well, but I don&#39;t care."},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":1,"creation_date":1545053849,"post_id":10600762,"comment_id":94480972,"body_markdown":"We&#39;re getting this error, but: we can see the request gets to the server, but the client apparently doesn&#39;t get the response, since we get the `NoHttpResponseException`. If the connection was indeed stale, as you state, then how could the server get the request to begin with?\n\nCan anybody explain this scenario? Would cleaning up stale connections fix this?","body":"We&#39;re getting this error, but: we can see the request gets to the server, but the client apparently doesn&#39;t get the response, since we get the <code>NoHttpResponseException</code>. If the connection was indeed stale, as you state, then how could the server get the request to begin with?  Can anybody explain this scenario? Would cleaning up stale connections fix this?"},{"owner":{"account_id":17629418,"reputation":111,"user_id":12793815,"display_name":"nuclear_party"},"score":0,"creation_date":1666803582,"post_id":10600762,"comment_id":131024231,"body_markdown":"solution link does not work anymore, please update","body":"solution link does not work anymore, please update"}],"tags":[],"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"comment_count":9,"down_vote_count":0,"up_vote_count":151,"is_accepted":true,"score":151,"last_activity_date":1667390644,"creation_date":1337085275,"answer_id":10600762,"question_id":10558791,"body_markdown":"Most likely persistent connections that are kept alive by the connection manager become stale. That is, the target server shuts down the connection on its end without HttpClient being able to react to that event, while the connection is being idle, thus rendering the connection half-closed or &#39;stale&#39;. Usually this is not a problem. HttpClient employs several techniques to verify connection validity upon its lease from the pool. Even if the stale connection check is disabled and a stale connection is used to transmit a request message the request execution usually fails in the write operation with SocketException and gets automatically retried. However under some circumstances the write operation can terminate without an exception and the subsequent read operation returns -1 (end of stream). In this case HttpClient has no other choice but to assume the request succeeded but the server failed to respond most likely due to an unexpected error on the server side.\r\n\r\nThe simplest way to remedy the situation is to evict expired connections and connections that have been idle longer than, say, 1 minute from the pool after a period of inactivity. For details please see the [`2.5. Connection eviction policy`][1] of the HttpClient 4.5 tutorial.\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-4.5.x/current/tutorial/html/connmgmt.html","title":"Apache HttpClient Interim Error: NoHttpResponseException","body":"<p>Most likely persistent connections that are kept alive by the connection manager become stale. That is, the target server shuts down the connection on its end without HttpClient being able to react to that event, while the connection is being idle, thus rendering the connection half-closed or 'stale'. Usually this is not a problem. HttpClient employs several techniques to verify connection validity upon its lease from the pool. Even if the stale connection check is disabled and a stale connection is used to transmit a request message the request execution usually fails in the write operation with SocketException and gets automatically retried. However under some circumstances the write operation can terminate without an exception and the subsequent read operation returns -1 (end of stream). In this case HttpClient has no other choice but to assume the request succeeded but the server failed to respond most likely due to an unexpected error on the server side.</p>\n<p>The simplest way to remedy the situation is to evict expired connections and connections that have been idle longer than, say, 1 minute from the pool after a period of inactivity. For details please see the <a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/current/tutorial/html/connmgmt.html\" rel=\"noreferrer\"><code>2.5. Connection eviction policy</code></a> of the HttpClient 4.5 tutorial.</p>\n"},{"comments":[{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":4,"creation_date":1511884012,"post_id":37680026,"comment_id":82027866,"body_markdown":"Given that the original question specifies a POST, is a retry handler the right approach here?","body":"Given that the original question specifies a POST, is a retry handler the right approach here?"},{"owner":{"account_id":436243,"reputation":10300,"user_id":823282,"accept_rate":88,"display_name":"activedecay"},"score":2,"creation_date":1523051208,"post_id":37680026,"comment_id":86416356,"body_markdown":"Are you asking if a POST is safe to retry? As a design principle, a PUT is idempotent. Retrying a POST may have unintended consequences. Then again, not all PUTs are written idempotently.","body":"Are you asking if a POST is safe to retry? As a design principle, a PUT is idempotent. Retrying a POST may have unintended consequences. Then again, not all PUTs are written idempotently."},{"owner":{"account_id":1914142,"reputation":4739,"user_id":1727132,"accept_rate":100,"display_name":"Jehy"},"score":0,"creation_date":1523164324,"post_id":37680026,"comment_id":86442403,"body_markdown":"It is almost perfectly safe to retry POST request with the method I provided - because it handles and retries only NoHttpResponseException which is much more possisible due to client side rather then server side.","body":"It is almost perfectly safe to retry POST request with the method I provided - because it handles and retries only NoHttpResponseException which is much more possisible due to client side rather then server side."},{"owner":{"account_id":339026,"reputation":1063,"user_id":668244,"display_name":"Lyrkan"},"score":15,"creation_date":1544088425,"post_id":37680026,"comment_id":94154788,"body_markdown":"@Jehy It&#39;s not perfectly safe at all... NoHttpResponseException means that the client didn&#39;t get a response, not that the server didn&#39;t get and/or processed the request","body":"@Jehy It&#39;s not perfectly safe at all... NoHttpResponseException means that the client didn&#39;t get a response, not that the server didn&#39;t get and/or processed the request"},{"owner":{"account_id":467627,"reputation":5922,"user_id":873139,"accept_rate":64,"display_name":"Aubergine"},"score":0,"creation_date":1581434299,"post_id":37680026,"comment_id":106427323,"body_markdown":"the safety could be ensured by implementation, if content parts are re-used during key/identity creation, server could spit out 400 recognizing that the entry was already created.","body":"the safety could be ensured by implementation, if content parts are re-used during key/identity creation, server could spit out 400 recognizing that the entry was already created."}],"tags":[],"owner":{"account_id":1914142,"reputation":4739,"user_id":1727132,"accept_rate":100,"display_name":"Jehy"},"comment_count":5,"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1465304130,"creation_date":1465304130,"answer_id":37680026,"question_id":10558791,"body_markdown":"Accepted answer is right but lacks solution. To avoid this error, you can add setHttpRequestRetryHandler (or setRetryHandler for apache components 4.4) for your HTTP client like in [this answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10680629/1727132","title":"Apache HttpClient Interim Error: NoHttpResponseException","body":"<p>Accepted answer is right but lacks solution. To avoid this error, you can add setHttpRequestRetryHandler (or setRetryHandler for apache components 4.4) for your HTTP client like in <a href=\"https://stackoverflow.com/a/10680629/1727132\">this answer</a>.</p>\n"},{"comments":[{"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"score":21,"creation_date":1519667185,"post_id":47769536,"comment_id":84993637,"body_markdown":"I am using 4.5.3 version, but still getting **NoHttpResponseException**. In my case, I am getting this Exception in every 4th or 5th continuous request not in the 1st request. Any idea what might be the reason in my case?","body":"I am using 4.5.3 version, but still getting <b>NoHttpResponseException</b>. In my case, I am getting this Exception in every 4th or 5th continuous request not in the 1st request. Any idea what might be the reason in my case?"},{"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"score":1,"creation_date":1575906499,"post_id":47769536,"comment_id":104714327,"body_markdown":"@SahilChhabra Same scenario at my side. Were you able find any solution to your problem?","body":"@SahilChhabra Same scenario at my side. Were you able find any solution to your problem?"}],"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1513072097,"creation_date":1513072097,"answer_id":47769536,"question_id":10558791,"body_markdown":"HttpClient 4.4 suffered from a bug in this area relating to validating possibly stale connections before returning to the requestor. It *didn&#39;t* validate whether a connection was stale, and this then results in an immediate `NoHttpResponseException`.\r\n\r\nThis issue was resolved in HttpClient 4.4.1. See [this JIRA][1] and the [release notes][2]\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/HTTPCLIENT-1609\r\n  [2]: https://archive.apache.org/dist/httpcomponents/httpclient/RELEASE_NOTES-4.5.x.txt","title":"Apache HttpClient Interim Error: NoHttpResponseException","body":"<p>HttpClient 4.4 suffered from a bug in this area relating to validating possibly stale connections before returning to the requestor. It <em>didn't</em> validate whether a connection was stale, and this then results in an immediate <code>NoHttpResponseException</code>.</p>\n\n<p>This issue was resolved in HttpClient 4.4.1. See <a href=\"https://issues.apache.org/jira/browse/HTTPCLIENT-1609\" rel=\"noreferrer\">this JIRA</a> and the <a href=\"https://archive.apache.org/dist/httpcomponents/httpclient/RELEASE_NOTES-4.5.x.txt\" rel=\"noreferrer\">release notes</a></p>\n"},{"comments":[{"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"score":0,"creation_date":1519667220,"post_id":47847908,"comment_id":84993654,"body_markdown":"In my case, I am getting this Exception in every 4th or 5th continuous request not in the 1st request. Any idea what might be the reason in my case?","body":"In my case, I am getting this Exception in every 4th or 5th continuous request not in the 1st request. Any idea what might be the reason in my case?"},{"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"score":0,"creation_date":1559554257,"post_id":47847908,"comment_id":99443851,"body_markdown":"+1 Good, detailed answer, but... IMHO it&#39;s rather a workaround for the Apache HttpClient faulty behavior. The proper solution would be to switch to a library that is able to gracefully recover from a stale connection (e.g. OkHttp).","body":"+1 Good, detailed answer, but... IMHO it&#39;s rather a workaround for the Apache HttpClient faulty behavior. The proper solution would be to switch to a library that is able to gracefully recover from a stale connection (e.g. OkHttp)."}],"tags":[],"owner":{"account_id":464010,"reputation":3905,"user_id":867248,"display_name":"Berthier Lemieux"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1535656456,"creation_date":1513442923,"answer_id":47847908,"question_id":10558791,"body_markdown":"Nowadays, most HTTP connections are [considered persistent unless declared otherwise][2]. However, to save server ressources the connection is rarely kept open forever, the default connection timeout for many servers is rather short, for example 5 seconds for the Apache httpd 2.2 and above. \r\n\r\nThe `org.apache.http.NoHttpResponseException` error comes most likely from one persistent connection that was closed by the server. \r\n\r\nIt&#39;s possible to set the maximum time to keep unused connections open in the Apache Http client pool, in milliseconds.\r\n\r\nWith Spring Boot, one way to achieve this:\r\n   \r\n    public class RestTemplateCustomizers {\r\n        static public class MaxConnectionTimeCustomizer implements RestTemplateCustomizer {\r\n\r\n            @Override\r\n            public void customize(RestTemplate restTemplate) {\r\n                HttpClient httpClient = HttpClientBuilder\r\n                    .create()\r\n                    .setConnectionTimeToLive(1000, TimeUnit.MILLISECONDS)\r\n                    .build();\r\n\r\n                restTemplate.setRequestFactory(\r\n                    new HttpComponentsClientHttpRequestFactory(httpClient));\r\n            }\r\n        }\r\n    }\r\n\r\n    // In your service that uses a RestTemplate\r\n    public MyRestService(RestTemplateBuilder builder ) {\r\n        restTemplate = builder\r\n             .customizers(new RestTemplateCustomizers.MaxConnectionTimeCustomizer())\r\n             .build();\r\n    }\r\n\r\n  [2]: https://en.wikipedia.org/wiki/HTTP_persistent_connection","title":"Apache HttpClient Interim Error: NoHttpResponseException","body":"<p>Nowadays, most HTTP connections are <a href=\"https://en.wikipedia.org/wiki/HTTP_persistent_connection\" rel=\"nofollow noreferrer\">considered persistent unless declared otherwise</a>. However, to save server ressources the connection is rarely kept open forever, the default connection timeout for many servers is rather short, for example 5 seconds for the Apache httpd 2.2 and above. </p>\n\n<p>The <code>org.apache.http.NoHttpResponseException</code> error comes most likely from one persistent connection that was closed by the server. </p>\n\n<p>It's possible to set the maximum time to keep unused connections open in the Apache Http client pool, in milliseconds.</p>\n\n<p>With Spring Boot, one way to achieve this:</p>\n\n<pre><code>public class RestTemplateCustomizers {\n    static public class MaxConnectionTimeCustomizer implements RestTemplateCustomizer {\n\n        @Override\n        public void customize(RestTemplate restTemplate) {\n            HttpClient httpClient = HttpClientBuilder\n                .create()\n                .setConnectionTimeToLive(1000, TimeUnit.MILLISECONDS)\n                .build();\n\n            restTemplate.setRequestFactory(\n                new HttpComponentsClientHttpRequestFactory(httpClient));\n        }\n    }\n}\n\n// In your service that uses a RestTemplate\npublic MyRestService(RestTemplateBuilder builder ) {\n    restTemplate = builder\n         .customizers(new RestTemplateCustomizers.MaxConnectionTimeCustomizer())\n         .build();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10463908,"reputation":1211,"user_id":7785738,"display_name":"Artem Ptushkin"},"score":0,"creation_date":1567697413,"post_id":55658243,"comment_id":102049065,"body_markdown":"you helped me a lot with your comment. I had the same issue as this but with Spring Cloud Zuul 1.3.2.RELEASE and under the high load\n\nMy solution was to copy-paste `org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter` and remove `disableContentCompression` call\n\nI didn&#39;t change the dependency version because there is quite a mess with jars","body":"you helped me a lot with your comment. I had the same issue as this but with Spring Cloud Zuul 1.3.2.RELEASE and under the high load  My solution was to copy-paste <code>org.springframework.cloud.netflix.zuul.filters.route.SimpleH&zwnj;&#8203;ostRoutingFilter</code> and remove <code>disableContentCompression</code> call  I didn&#39;t change the dependency version because there is quite a mess with jars"}],"tags":[],"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555097049,"creation_date":1555097049,"answer_id":55658243,"question_id":10558791,"body_markdown":"This can happen if `disableContentCompression()` is set on a pooling manager assigned to your HttpClient, and the target server is trying to use gzip compression.","title":"Apache HttpClient Interim Error: NoHttpResponseException","body":"<p>This can happen if <code>disableContentCompression()</code> is set on a pooling manager assigned to your HttpClient, and the target server is trying to use gzip compression.</p>\n"},{"tags":[],"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1559556304,"creation_date":1559556304,"answer_id":56425077,"question_id":10558791,"body_markdown":"Although accepted answer is right, but IMHO is just a workaround. \r\n\r\nTo be clear: it&#39;s a perfectly normal situation that a persistent connection may become stale. But unfortunately it&#39;s very bad when the HTTP client library cannot handle it properly.\r\n\r\nSince this faulty behavior in Apache HttpClient was not fixed for many years, I definitely would prefer to switch to a library that can easily recover from a stale connection problem, e.g. OkHttp.\r\n\r\nWhy?\r\n\r\n 1. OkHttp pools http connections by default.\r\n 2. It gracefully recovers from situations when http connection becomes stale and request cannot be retried due to being not idempotent (e.g. POST). I cannot say it about Apache HttpClient (mentioned `NoHttpResponseException`).\r\n 3. Supports HTTP/2.0 from early drafts and beta versions.\r\n\r\nWhen I switched to OkHttp, my problems with `NoHttpResponseException` disappeared forever.\r\n","title":"Apache HttpClient Interim Error: NoHttpResponseException","body":"<p>Although accepted answer is right, but IMHO is just a workaround. </p>\n\n<p>To be clear: it's a perfectly normal situation that a persistent connection may become stale. But unfortunately it's very bad when the HTTP client library cannot handle it properly.</p>\n\n<p>Since this faulty behavior in Apache HttpClient was not fixed for many years, I definitely would prefer to switch to a library that can easily recover from a stale connection problem, e.g. OkHttp.</p>\n\n<p>Why?</p>\n\n<ol>\n<li>OkHttp pools http connections by default.</li>\n<li>It gracefully recovers from situations when http connection becomes stale and request cannot be retried due to being not idempotent (e.g. POST). I cannot say it about Apache HttpClient (mentioned <code>NoHttpResponseException</code>).</li>\n<li>Supports HTTP/2.0 from early drafts and beta versions.</li>\n</ol>\n\n<p>When I switched to OkHttp, my problems with <code>NoHttpResponseException</code> disappeared forever.</p>\n"},{"tags":[],"owner":{"account_id":5242675,"reputation":2011,"user_id":4189294,"accept_rate":17,"display_name":"Chandrahasan"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1569926034,"creation_date":1569926034,"answer_id":58182985,"question_id":10558791,"body_markdown":"I have faced same issue, I resolved by adding &quot;connection: close&quot; as extention,\r\n\r\nStep 1: create a new class **ConnectionCloseExtension**\r\n\r\n    import com.github.tomakehurst.wiremock.common.FileSource;\r\n    import com.github.tomakehurst.wiremock.extension.Parameters;\r\n    import com.github.tomakehurst.wiremock.extension.ResponseTransformer;\r\n    import com.github.tomakehurst.wiremock.http.HttpHeader;\r\n    import com.github.tomakehurst.wiremock.http.HttpHeaders;\r\n    import com.github.tomakehurst.wiremock.http.Request;\r\n    import com.github.tomakehurst.wiremock.http.Response;\r\n    \r\n    public class ConnectionCloseExtension extends ResponseTransformer {\r\n      @Override\r\n      public Response transform(Request request, Response response, FileSource files, Parameters parameters) {\r\n        return Response.Builder\r\n            .like(response)\r\n            .headers(HttpHeaders.copyOf(response.getHeaders())\r\n                .plus(new HttpHeader(&quot;Connection&quot;, &quot;Close&quot;)))\r\n            .build();\r\n      }\r\n    \r\n      @Override\r\n      public String getName() {\r\n        return &quot;ConnectionCloseExtension&quot;;\r\n      }\r\n    }\r\n\r\nStep 2: set extension class in wireMockServer like below,\r\n\r\n    final WireMockServer wireMockServer = new WireMockServer(options()\r\n                    .extensions(ConnectionCloseExtension.class)\r\n                    .port(httpPort));","title":"Apache HttpClient Interim Error: NoHttpResponseException","body":"<p>I have faced same issue, I resolved by adding \"connection: close\" as extention,</p>\n\n<p>Step 1: create a new class <strong>ConnectionCloseExtension</strong></p>\n\n<pre><code>import com.github.tomakehurst.wiremock.common.FileSource;\nimport com.github.tomakehurst.wiremock.extension.Parameters;\nimport com.github.tomakehurst.wiremock.extension.ResponseTransformer;\nimport com.github.tomakehurst.wiremock.http.HttpHeader;\nimport com.github.tomakehurst.wiremock.http.HttpHeaders;\nimport com.github.tomakehurst.wiremock.http.Request;\nimport com.github.tomakehurst.wiremock.http.Response;\n\npublic class ConnectionCloseExtension extends ResponseTransformer {\n  @Override\n  public Response transform(Request request, Response response, FileSource files, Parameters parameters) {\n    return Response.Builder\n        .like(response)\n        .headers(HttpHeaders.copyOf(response.getHeaders())\n            .plus(new HttpHeader(\"Connection\", \"Close\")))\n        .build();\n  }\n\n  @Override\n  public String getName() {\n    return \"ConnectionCloseExtension\";\n  }\n}\n</code></pre>\n\n<p>Step 2: set extension class in wireMockServer like below,</p>\n\n<pre><code>final WireMockServer wireMockServer = new WireMockServer(options()\n                .extensions(ConnectionCloseExtension.class)\n                .port(httpPort));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5043537,"reputation":121,"user_id":4050226,"display_name":"Anti-g"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1573117915,"creation_date":1573117915,"answer_id":58745361,"question_id":10558791,"body_markdown":"**Solution**: change the ReuseStrategy to never\r\n\r\nSince this problem is very complex and there are so many different factors which can fail I was happy to find this solution in another post: https://stackoverflow.com/questions/29006222/how-to-solve-org-apache-http-nohttpresponseexception#\r\n\r\nNever reuse connections:\r\nconfigure in org.apache.http.impl.client.AbstractHttpClient:\r\n\r\n```\r\nhttpClient.setReuseStrategy(new NoConnectionReuseStrategy());\r\n```\r\n\r\nThe same can be configured on a org.apache.http.impl.client.HttpClientBuilder builder:\r\n```\r\nbuilder.setConnectionReuseStrategy(new NoConnectionReuseStrategy());\r\n```","title":"Apache HttpClient Interim Error: NoHttpResponseException","body":"<p><strong>Solution</strong>: change the ReuseStrategy to never</p>\n\n<p>Since this problem is very complex and there are so many different factors which can fail I was happy to find this solution in another post: <a href=\"https://stackoverflow.com/questions/29006222/how-to-solve-org-apache-http-nohttpresponseexception#\">How to solve org.apache.http.NoHttpResponseException</a></p>\n\n<p>Never reuse connections:\nconfigure in org.apache.http.impl.client.AbstractHttpClient:</p>\n\n<pre><code>httpClient.setReuseStrategy(new NoConnectionReuseStrategy());\n</code></pre>\n\n<p>The same can be configured on a org.apache.http.impl.client.HttpClientBuilder builder:</p>\n\n<pre><code>builder.setConnectionReuseStrategy(new NoConnectionReuseStrategy());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13078218,"reputation":11,"user_id":9449560,"display_name":"Alok Sahoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645016958,"creation_date":1645001290,"answer_id":71138652,"question_id":10558791,"body_markdown":"Use `PoolingHttpClientConnectionManager` instead of `BasicHttpClientConnectionManager`\r\n\r\n`BasicHttpClientConnectionManager` will make an effort to reuse the connection for subsequent requests with the same route. It will, however, close the existing connection and re-open it for the given route.\r\n\r\n","title":"Apache HttpClient Interim Error: NoHttpResponseException","body":"<p>Use <code>PoolingHttpClientConnectionManager</code> instead of <code>BasicHttpClientConnectionManager</code></p>\n<p><code>BasicHttpClientConnectionManager</code> will make an effort to reuse the connection for subsequent requests with the same route. It will, however, close the existing connection and re-open it for the given route.</p>\n"},{"comments":[{"owner":{"account_id":13164735,"reputation":1844,"user_id":9509346,"display_name":"dpapadopoulos"},"score":0,"creation_date":1686150761,"post_id":76409797,"comment_id":134760466,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/34502448)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/34502448\">From Review</a>"}],"tags":[],"owner":{"account_id":25344974,"reputation":96,"user_id":19162802,"display_name":"Trevor Arnold"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685996989,"creation_date":1685996989,"answer_id":76409797,"question_id":10558791,"body_markdown":"So I had this problem when my http server was running in a Docker container. I tried a few different things based on some research, but the solution went away when I deleted my container and rebuilt the image from the Dockerfile. Something must have been holding on to that port somehow even thought I tried deleting my container and rebuilding it already... the problem has not occurred again since completely rebuilding the image itself. \r\nI wanted to post this in the event that someone else runs into this issue running their http server in a container and I hope it prevents them from losing the hours I lost... ","title":"Apache HttpClient Interim Error: NoHttpResponseException","body":"<p>So I had this problem when my http server was running in a Docker container. I tried a few different things based on some research, but the solution went away when I deleted my container and rebuilt the image from the Dockerfile. Something must have been holding on to that port somehow even thought I tried deleting my container and rebuilding it already... the problem has not occurred again since completely rebuilding the image itself.\nI wanted to post this in the event that someone else runs into this issue running their http server in a container and I hope it prevents them from losing the hours I lost...</p>\n"}],"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218697,"favorite_count":0,"down_vote_count":0,"up_vote_count":103,"accepted_answer_id":10600762,"answer_count":10,"score":103,"last_activity_date":1685996989,"creation_date":1336771177,"question_id":10558791,"body_markdown":"I have a webservice which is accepting a POST method with XML. It is working fine then at some random occasion, it fails to communicate to the server throwing IOException with message `The target server failed to respond`. The subsequent calls work fine. \r\n\r\nIt happens mostly, when i make some calls and then leave my application idle for like 10-15 min. the first call which I make after that returns this error. \r\n\r\nI tried couple of things ... \r\n\r\nI setup the retry handler like\r\n\t\t\t\r\n\r\n    HttpRequestRetryHandler retryHandler = new HttpRequestRetryHandler() {\r\n\t\t\t\t\r\n\t\t\t\tpublic boolean retryRequest(IOException e, int retryCount, HttpContext httpCtx) {\r\n\t\t\t\t\tif (retryCount &gt;= 3){\r\n\t\t\t\t\t\tLogger.warn(CALLER, &quot;Maximum tries reached, exception would be thrown to outer block&quot;);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (e instanceof org.apache.http.NoHttpResponseException){\r\n\t\t\t\t\t\tLogger.warn(CALLER, &quot;No response from server on &quot;+retryCount+&quot; call&quot;);\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\thttpPost.getParams().setParameter(HttpMethodParams.RETRY_HANDLER, retryHandler);\r\n\r\nbut this retry never got called. (yes I am using right instanceof clause). While debugging this class never being called. \r\n\r\nI even tried setting up `HttpProtocolParams.setUseExpectContinue(httpClient.getParams(), false);` but no use. Can someone suggest what I can do now? \r\n\r\n\r\n**IMPORTANT**\r\nBesides figuring out why I am getting the exception, one of the important concerns I have is why isn&#39;t the retryhandler working here? ","title":"Apache HttpClient Interim Error: NoHttpResponseException","body":"<p>I have a webservice which is accepting a POST method with XML. It is working fine then at some random occasion, it fails to communicate to the server throwing IOException with message <code>The target server failed to respond</code>. The subsequent calls work fine. </p>\n\n<p>It happens mostly, when i make some calls and then leave my application idle for like 10-15 min. the first call which I make after that returns this error. </p>\n\n<p>I tried couple of things ... </p>\n\n<p>I setup the retry handler like</p>\n\n<pre><code>HttpRequestRetryHandler retryHandler = new HttpRequestRetryHandler() {\n\n            public boolean retryRequest(IOException e, int retryCount, HttpContext httpCtx) {\n                if (retryCount &gt;= 3){\n                    Logger.warn(CALLER, \"Maximum tries reached, exception would be thrown to outer block\");\n                    return false;\n                }\n                if (e instanceof org.apache.http.NoHttpResponseException){\n                    Logger.warn(CALLER, \"No response from server on \"+retryCount+\" call\");\n                    return true;\n                }\n                return false;\n            }\n        };\n\n        httpPost.getParams().setParameter(HttpMethodParams.RETRY_HANDLER, retryHandler);\n</code></pre>\n\n<p>but this retry never got called. (yes I am using right instanceof clause). While debugging this class never being called. </p>\n\n<p>I even tried setting up <code>HttpProtocolParams.setUseExpectContinue(httpClient.getParams(), false);</code> but no use. Can someone suggest what I can do now? </p>\n\n<p><strong>IMPORTANT</strong>\nBesides figuring out why I am getting the exception, one of the important concerns I have is why isn't the retryhandler working here? </p>\n"},{"tags":["java","ms-access","iterator"],"comments":[{"owner":{"account_id":4435975,"reputation":499,"user_id":3611826,"display_name":"Filip Kov&#225;č"},"score":0,"creation_date":1471856674,"post_id":39075254,"comment_id":65498510,"body_markdown":"count is variable that count numbers of rows, rs.next() go to the next row in your resultset if exists. Next time use google for this, it&#39;s pretty easy question and google will find you a lot of tutorials with that.","body":"count is variable that count numbers of rows, rs.next() go to the next row in your resultset if exists. Next time use google for this, it&#39;s pretty easy question and google will find you a lot of tutorials with that."},{"owner":{"account_id":1816748,"reputation":577,"user_id":1651693,"accept_rate":100,"display_name":"Nickname0222022022"},"score":0,"creation_date":1471856730,"post_id":39075254,"comment_id":65498554,"body_markdown":"Did you try documentation before asking question https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next() ?","body":"Did you try documentation before asking question <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/sql/&hellip;</a> ?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1471856888,"post_id":39075254,"comment_id":65498666,"body_markdown":"`next()` gets the next row, or returns `false` is there isn&#39;t any.  `count` counts the number of rows.  The code is as simple as it looks.","body":"<code>next()</code> gets the next row, or returns <code>false</code> is there isn&#39;t any.  <code>count</code> counts the number of rows.  The code is as simple as it looks."}],"answers":[{"comments":[{"owner":{"account_id":9029097,"reputation":87,"user_id":6727403,"accept_rate":75,"display_name":"Swager"},"score":0,"creation_date":1471856865,"post_id":39075297,"comment_id":65498647,"body_markdown":"it means that you are trying to say that it is basically moving cursor forward in ms access table?","body":"it means that you are trying to say that it is basically moving cursor forward in ms access table?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1471856904,"post_id":39075297,"comment_id":65498681,"body_markdown":"No. In the resultset.","body":"No. In the resultset."},{"owner":{"account_id":6844168,"reputation":264,"user_id":5263499,"display_name":"Gopidoss"},"score":0,"creation_date":1471857725,"post_id":39075297,"comment_id":65499207,"body_markdown":"It better to assign to a Boolean variable rather than using it straightly in boolean statements. \n\nboolean rowExists = rs.next();\n\nrowExists can be used in multiple places wherever you need but rs.next() can&#39;t be used since it&#39;s moving forward always.","body":"It better to assign to a Boolean variable rather than using it straightly in boolean statements.   boolean rowExists = rs.next();  rowExists can be used in multiple places wherever you need but rs.next() can&#39;t be used since it&#39;s moving forward always."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1471858175,"post_id":39075297,"comment_id":65499494,"body_markdown":"@Gopidoss There&#39;s no &quot;it&#39;s better to assign&quot; rule. In this particular case, the `count` *and* the `while` are useless. It&#39;s not &quot;better&quot; in any way.","body":"@Gopidoss There&#39;s no &quot;it&#39;s better to assign&quot; rule. In this particular case, the <code>count</code> <i>and</i> the <code>while</code> are useless. It&#39;s not &quot;better&quot; in any way."},{"owner":{"account_id":6844168,"reputation":264,"user_id":5263499,"display_name":"Gopidoss"},"score":0,"creation_date":1471868658,"post_id":39075297,"comment_id":65506429,"body_markdown":"Agreed @Kayaman, My point is if the existence of row needs to solve multiple use cases then I would suggest to hold it in a boolean container (rowExists) rather direclty use it in &#39;Equality Operators&#39; since it&#39;s moves the cursor forward one row from its current position. \nboolean rowExists = lotteryLogRs.next();\n\nwhile (proceed) {\n\tif (rowExists) {\n\t\t//do something\n\t} \n........\nbreak;\n........\n}\n.......\n.......\n\n// Add remaining\nif (rowExists) {\n\t//do something\n}","body":"Agreed @Kayaman, My point is if the existence of row needs to solve multiple use cases then I would suggest to hold it in a boolean container (rowExists) rather direclty use it in &#39;Equality Operators&#39; since it&#39;s moves the cursor forward one row from its current position.  boolean rowExists = lotteryLogRs.next();  while (proceed) { \tif (rowExists) { \t\t//do something \t}  ........ break; ........ } ....... .......  // Add remaining if (rowExists) { \t//do something }"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1471868765,"post_id":39075297,"comment_id":65506504,"body_markdown":"@Gopidoss Of course then you&#39;ll have to. But in this case you don&#39;t need to, and it only makes the code more unclear.","body":"@Gopidoss Of course then you&#39;ll have to. But in this case you don&#39;t need to, and it only makes the code more unclear."}],"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1471856547,"creation_date":1471856547,"answer_id":39075297,"question_id":39075254,"body_markdown":"It moves (or tries to, returning a boolean telling whether it succeeded or not) the resultset cursor forward. The `count` variable is useless, since you can just write `if(rs.next())` to determine which message is shown.","title":"why we use next() method in java?","body":"<p>It moves (or tries to, returning a boolean telling whether it succeeded or not) the resultset cursor forward. The <code>count</code> variable is useless, since you can just write <code>if(rs.next())</code> to determine which message is shown.</p>\n"}],"owner":{"account_id":9029097,"reputation":87,"user_id":6727403,"accept_rate":75,"display_name":"Swager"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1471857075,"accepted_answer_id":39075297,"answer_count":1,"score":-5,"last_activity_date":1685996578,"creation_date":1471856457,"question_id":39075254,"body_markdown":"Here is the code\r\n \r\n\r\n    Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n    Connection conn=DriverManager.getConnection(&quot;jdbc:ucanaccess://C:\\\\Users\\\\MUHAMMAD SHAHAB\\\\STUD1.accdb&quot;);\r\n     \r\n    Statement st = conn.createStatement();\r\n    String sql=&quot;select Username,Password from SUN where Username=&#39;&quot;+user+&quot;&#39;and Password=&#39;&quot;+pass+&quot;&#39;&quot;;\r\n    ResultSet rs=st.executeQuery(sql);\r\n     \r\n    int count=0;\r\n    while(rs.next()) {\r\n        count=count+1;\r\n    }\r\n    if(count&gt;0) {\r\n         JOptionPane.showMessageDialog(null, &quot;Access granted&quot;);\r\n    } else if(count&lt;1) {\r\n         JOptionPane.showMessageDialog(null,&quot;User Not Found\\nAccess is Denied&quot;);\r\n    }\r\n\r\nI am creating a user verification system in Java and I have connected my program with MS Access. I have inserted some records in the fields of table `SUN` in MS Access and it is working properly. But I just want to know the working of  `next()` method and `count` variable in my program.","title":"why we use next() method in java?","body":"<p>Here is the code</p>\n\n<pre><code>Class.forName(\"net.ucanaccess.jdbc.UcanaccessDriver\");\nConnection conn=DriverManager.getConnection(\"jdbc:ucanaccess://C:\\\\Users\\\\MUHAMMAD SHAHAB\\\\STUD1.accdb\");\n\nStatement st = conn.createStatement();\nString sql=\"select Username,Password from SUN where Username='\"+user+\"'and Password='\"+pass+\"'\";\nResultSet rs=st.executeQuery(sql);\n\nint count=0;\nwhile(rs.next()) {\n    count=count+1;\n}\nif(count&gt;0) {\n     JOptionPane.showMessageDialog(null, \"Access granted\");\n} else if(count&lt;1) {\n     JOptionPane.showMessageDialog(null,\"User Not Found\\nAccess is Denied\");\n}\n</code></pre>\n\n<p>I am creating a user verification system in Java and I have connected my program with MS Access. I have inserted some records in the fields of table <code>SUN</code> in MS Access and it is working properly. But I just want to know the working of  <code>next()</code> method and <code>count</code> variable in my program.</p>\n"},{"tags":["java","class","object","arraylist","iterator"],"comments":[{"owner":{"account_id":7762365,"reputation":1289,"user_id":5874723,"accept_rate":83,"display_name":"Philipp"},"score":0,"creation_date":1458794027,"post_id":36193002,"comment_id":60020896,"body_markdown":"How can `tiles` include all the tiles if it is `List&lt;String&gt; tiles = new ArrayList&lt;String&gt;()`. Shouldn&#39;t it be `List&lt;Tile&gt; tiles = new ArrayList&lt;Tile&gt;();`? If you change tiles to be that you can simple do for(Tile tile: files) { tile.setColor(color); } or whatever you have to do.","body":"How can <code>tiles</code> include all the tiles if it is <code>List&lt;String&gt; tiles = new ArrayList&lt;String&gt;()</code>. Shouldn&#39;t it be <code>List&lt;Tile&gt; tiles = new ArrayList&lt;Tile&gt;();</code>? If you change tiles to be that you can simple do for(Tile tile: files) { tile.setColor(color); } or whatever you have to do."}],"answers":[{"comments":[{"owner":{"account_id":8091452,"reputation":35,"user_id":6097246,"display_name":"evgeni mironov"},"score":0,"creation_date":1458792132,"post_id":36193031,"comment_id":60020456,"body_markdown":"I thought about iterator, but I how do i access setColor() with iterator , because I need to set a tile to a color","body":"I thought about iterator, but I how do i access setColor() with iterator , because I need to set a tile to a color"}],"tags":[],"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458791836,"creation_date":1458791836,"answer_id":36193031,"question_id":36193002,"body_markdown":"You need to implement Iterable, [source][1], then you&#39;ll be able to use your class in a &quot;for-each-loop&quot;.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html","title":"How to create Next() method in an Object class","body":"<p>You need to implement Iterable, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"nofollow\">source</a>, then you'll be able to use your class in a \"for-each-loop\".</p>\n"},{"comments":[{"owner":{"account_id":8091452,"reputation":35,"user_id":6097246,"display_name":"evgeni mironov"},"score":0,"creation_date":1458793240,"post_id":36193138,"comment_id":60020722,"body_markdown":"What If I want to access at the same setColor() method from tile, how do I use it with the iterator? tileIterator.setColor() wouldnt work","body":"What If I want to access at the same setColor() method from tile, how do I use it with the iterator? tileIterator.setColor() wouldnt work"},{"owner":{"account_id":7726317,"reputation":506,"user_id":5850835,"accept_rate":50,"display_name":"Thush-Fdo"},"score":0,"creation_date":1458793738,"post_id":36193138,"comment_id":60020828,"body_markdown":"@evgeni-mironov: Try the edit section and see. You should add you tiles objects to the List using tiles.add(your_tile_object)","body":"@evgeni-mironov: Try the edit section and see. You should add you tiles objects to the List using tiles.add(your_tile_object)"},{"owner":{"account_id":8091452,"reputation":35,"user_id":6097246,"display_name":"evgeni mironov"},"score":0,"creation_date":1458794529,"post_id":36193138,"comment_id":60021014,"body_markdown":"the Tiles was actually already a type &lt;Tile&gt;, my bad about that, your way works. Thanks a lot for the help","body":"the Tiles was actually already a type &lt;Tile&gt;, my bad about that, your way works. Thanks a lot for the help"}],"tags":[],"owner":{"account_id":7726317,"reputation":506,"user_id":5850835,"accept_rate":50,"display_name":"Thush-Fdo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458805909,"creation_date":1458792562,"answer_id":36193138,"question_id":36193002,"body_markdown":"You simply put it in to an iterator.\r\n\r\n        Iterator&lt;Tile&gt; tileIterator= tiles.iterator();\r\n\t\twhile (tileIterator.hasNext()) {\r\n\t\t\tSystem.out.println(tileIterator.next());\r\n\t\t}\r\n\r\n**Edit**\r\n\r\nChange your \r\n\r\n        List&lt;String&gt; tiles = new ArrayList&lt;String&gt; \r\n\r\nto\r\n\r\n        List&lt;Tile&gt; tiles = new ArrayList&lt;Tile&gt;();\r\n\r\nThen add the &quot;tiles&quot; items to this list. Then use below code\r\n\r\n       Iterator&lt;Tile&gt; tileIterator = tiles.iterator();\r\n\r\n        Tile t;\r\n        while (tileIterator.hasNext()) {\r\n            t = tileIterator.next();\r\n            System.out.println(t.getColor().toString());\r\n            t.setColor(your_color);\r\n            System.out.println(t.getColor().toString());\r\n        }\r\n\r\n**Note**\r\n\r\nOnce you get the tile object to t you can use any method in the class Tile by using the t object.","title":"How to create Next() method in an Object class","body":"<p>You simply put it in to an iterator.</p>\n\n<pre><code>    Iterator&lt;Tile&gt; tileIterator= tiles.iterator();\n    while (tileIterator.hasNext()) {\n        System.out.println(tileIterator.next());\n    }\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>Change your </p>\n\n<pre><code>    List&lt;String&gt; tiles = new ArrayList&lt;String&gt; \n</code></pre>\n\n<p>to</p>\n\n<pre><code>    List&lt;Tile&gt; tiles = new ArrayList&lt;Tile&gt;();\n</code></pre>\n\n<p>Then add the \"tiles\" items to this list. Then use below code</p>\n\n<pre><code>   Iterator&lt;Tile&gt; tileIterator = tiles.iterator();\n\n    Tile t;\n    while (tileIterator.hasNext()) {\n        t = tileIterator.next();\n        System.out.println(t.getColor().toString());\n        t.setColor(your_color);\n        System.out.println(t.getColor().toString());\n    }\n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>Once you get the tile object to t you can use any method in the class Tile by using the t object.</p>\n"},{"tags":[],"owner":{"account_id":4352529,"reputation":562,"user_id":3552348,"accept_rate":25,"display_name":"Narendran Solai Sridharan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1458793857,"creation_date":1458793857,"answer_id":36193325,"question_id":36193002,"body_markdown":"For loop also does the required as the below code,\r\n\r\n    List&lt;Tile&gt; tiles = new ArrayList&lt;Tile&gt;();\r\n    Iterator&lt;Tile&gt; tileIterator= tiles.iterator();\r\n    while (tileIterator.hasNext()) {\r\n         Tile tile = tileIterator.next();\r\n         tile.setColor(&quot;green&quot;);\r\n    }","title":"How to create Next() method in an Object class","body":"<p>For loop also does the required as the below code,</p>\n\n<pre><code>List&lt;Tile&gt; tiles = new ArrayList&lt;Tile&gt;();\nIterator&lt;Tile&gt; tileIterator= tiles.iterator();\nwhile (tileIterator.hasNext()) {\n     Tile tile = tileIterator.next();\n     tile.setColor(\"green\");\n}\n</code></pre>\n"}],"owner":{"account_id":8091452,"reputation":35,"user_id":6097246,"display_name":"evgeni mironov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36193325,"answer_count":3,"score":0,"last_activity_date":1685996546,"creation_date":1458791688,"question_id":36193002,"body_markdown":"I have a class called `Tile` that has the follow methods:\r\n\r\n    public Tile(Shape tile, Color color, int position), getTile(),\r\n`setTile(), getColor(), setColor(), getPosition(), setPosition()`\r\n\r\nNow using `for(Tile item: tiles)` I want to  have a `item.Next()` that will move to the next index.\r\n\r\nBtw `tiles` is `List&lt;Tile&gt; tiles = new ArrayList&lt;Tile&gt;` contains all the tiles, color and position.\r\n\r\nSo my question is how do I implement `Next()` in the `Tile` class? I can&#39;t do `item++` since its of type `Tile`, etc.\r\n\r\nThanks for the help.\r\n\r\nNote my `Tile` class and `ArrayList tiles` is located in different files\r\n\r\n\r\n","title":"How to create Next() method in an Object class","body":"<p>I have a class called <code>Tile</code> that has the follow methods:</p>\n\n<pre><code>public Tile(Shape tile, Color color, int position), getTile(),\n</code></pre>\n\n<p><code>setTile(), getColor(), setColor(), getPosition(), setPosition()</code></p>\n\n<p>Now using <code>for(Tile item: tiles)</code> I want to  have a <code>item.Next()</code> that will move to the next index.</p>\n\n<p>Btw <code>tiles</code> is <code>List&lt;Tile&gt; tiles = new ArrayList&lt;Tile&gt;</code> contains all the tiles, color and position.</p>\n\n<p>So my question is how do I implement <code>Next()</code> in the <code>Tile</code> class? I can't do <code>item++</code> since its of type <code>Tile</code>, etc.</p>\n\n<p>Thanks for the help.</p>\n\n<p>Note my <code>Tile</code> class and <code>ArrayList tiles</code> is located in different files</p>\n"},{"tags":["java","arrays","java.util.scanner","dna-sequence"],"comments":[{"owner":{"account_id":1399354,"reputation":32465,"user_id":2344584,"accept_rate":83,"display_name":"Stefano Sanfilippo"},"score":0,"creation_date":1390341978,"post_id":21269802,"comment_id":32048141,"body_markdown":"@DavidWallace Yeah, I figured it out now...","body":"@DavidWallace Yeah, I figured it out now..."},{"owner":{"account_id":1399354,"reputation":32465,"user_id":2344584,"accept_rate":83,"display_name":"Stefano Sanfilippo"},"score":0,"creation_date":1390342094,"post_id":21269802,"comment_id":32048195,"body_markdown":"Since this is a school project, I think you should try harder and accomplish the goal by yourself. But here is a tip: keep the number of `A` of the current string and the current string itself in two variables; if the next string has more `A` than what you put in the variable, then update. Same for other letters.","body":"Since this is a school project, I think you should try harder and accomplish the goal by yourself. But here is a tip: keep the number of <code>A</code> of the current string and the current string itself in two variables; if the next string has more <code>A</code> than what you put in the variable, then update. Same for other letters."}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390342176,"creation_date":1390342176,"answer_id":21270094,"question_id":21269802,"body_markdown":"What you could do is write a class that stores the data for just one of the four bases - \r\n\r\n- the letter that represents that base, \r\n- the total count so far, \r\n- the line that so far has the most number of that base (and what that number is)\r\n- the line that so far has the least number of that base (and what that number is).\r\n\r\nInstantiate four of these (you&#39;ll want to pass the letter in the constructor).  \r\n\r\nThen write a method in that class that takes a line of text as a parameter, and updates all the fields of the class according to that line.  You&#39;ll also want some methods to display the fields of the class.  Lastly, have nested loops in your `main` method (or some other method) that pass each line of text to each of the objects in turn.\r\n\r\nI&#39;m not going to write your code for you, though.  Stack Overflow doesn&#39;t pay me enough.","title":"How to get the low and high counts of characters from a string?","body":"<p>What you could do is write a class that stores the data for just one of the four bases - </p>\n\n<ul>\n<li>the letter that represents that base, </li>\n<li>the total count so far, </li>\n<li>the line that so far has the most number of that base (and what that number is)</li>\n<li>the line that so far has the least number of that base (and what that number is).</li>\n</ul>\n\n<p>Instantiate four of these (you'll want to pass the letter in the constructor).  </p>\n\n<p>Then write a method in that class that takes a line of text as a parameter, and updates all the fields of the class according to that line.  You'll also want some methods to display the fields of the class.  Lastly, have nested loops in your <code>main</code> method (or some other method) that pass each line of text to each of the objects in turn.</p>\n\n<p>I'm not going to write your code for you, though.  Stack Overflow doesn't pay me enough.</p>\n"},{"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1390345386,"post_id":21270394,"comment_id":32049510,"body_markdown":"This is good, but it only solves part of the problem.  We also need to know the text of the line with the most and least number of each letter.","body":"This is good, but it only solves part of the problem.  We also need to know the text of the line with the most and least number of each letter."},{"owner":{"account_id":1849487,"reputation":548,"user_id":1676347,"display_name":"Alex Goja"},"score":0,"creation_date":1390522780,"post_id":21270394,"comment_id":32139997,"body_markdown":"what if we extend the size of the processArr by 2 with the same format, so instead of having processArr with indexes from 0 to 4 we have from 0 to 6. I will explain why, I hope it will make sense. So we use a variable indexOfMaxOccurence and numberOfMaxOccurence. We make the assumption that in entry 5 of the processArr we will store the indexOfMaxOccurrence (which will be between 0 to 4) and in entry 6 we store the numberOfMaxOccurrences. Now we have both the numberOfMaxOccurrences and the index where the numberOfMaxOccurrences occurred which can be used to get the text.","body":"what if we extend the size of the processArr by 2 with the same format, so instead of having processArr with indexes from 0 to 4 we have from 0 to 6. I will explain why, I hope it will make sense. So we use a variable indexOfMaxOccurence and numberOfMaxOccurence. We make the assumption that in entry 5 of the processArr we will store the indexOfMaxOccurrence (which will be between 0 to 4) and in entry 6 we store the numberOfMaxOccurrences. Now we have both the numberOfMaxOccurrences and the index where the numberOfMaxOccurrences occurred which can be used to get the text."}],"tags":[],"owner":{"account_id":1849487,"reputation":548,"user_id":1676347,"display_name":"Alex Goja"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390343745,"creation_date":1390343316,"answer_id":21270394,"question_id":21269802,"body_markdown":"I might be overthinking this, but here I go. My initial thought would be to store each line of input into an array list using hasNextLine() instead of hasNext(). This way you would end up with an array ArrayList&lt;String&gt; arrInput with the following contents = {&quot;A&quot;,&quot;CC&quot;,&quot;AATA&quot;,&quot;GGG&quot;,&quot;TTT&quot;}. Now you create an array, let&#39;s say processArray that has the same size to your arrInput. Each entry of the processArray has another array of length 4 (assuming that only letters A,C,T,G can occur in the input) which will store the numbers of A&#39;s, C&#39;s, T&#39;s or G&#39;s for each line of input. I&#39;ve attached a graphical representation of the concept, but again, like I said before I think I&#39;m overthinking this.![enter image description here][1]\r\n \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/un0XU.jpg","title":"How to get the low and high counts of characters from a string?","body":"<p>I might be overthinking this, but here I go. My initial thought would be to store each line of input into an array list using hasNextLine() instead of hasNext(). This way you would end up with an array ArrayList arrInput with the following contents = {\"A\",\"CC\",\"AATA\",\"GGG\",\"TTT\"}. Now you create an array, let's say processArray that has the same size to your arrInput. Each entry of the processArray has another array of length 4 (assuming that only letters A,C,T,G can occur in the input) which will store the numbers of A's, C's, T's or G's for each line of input. I've attached a graphical representation of the concept, but again, like I said before I think I'm overthinking this.<img src=\"https://i.stack.imgur.com/un0XU.jpg\" alt=\"enter image description here\"></p>\n"}],"owner":{"account_id":3879917,"reputation":5,"user_id":3212766,"accept_rate":40,"display_name":"user3212766"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685996500,"creation_date":1390340968,"question_id":21269802,"body_markdown":"So I am having trouble with the second part of this project. I have the below code which gives counts for each entry, but I do not know how to get the highs and lows...Thanks in advance!\r\n\r\nA1Adept\r\n\r\nThis program should process the input as A1Novice does, but in addition to producing the counts, it should also keep track of the DNA strand with the smallest and largest number of each of the nucleobases and print those strands to the output. So, given the following input:\r\n\r\n    A \r\n    CC \r\n    AATA \r\n    GGG\r\n    TTT\r\n    end\r\n\r\nThe program should produce the following output:\r\n\r\n&gt;A count: 4  \r\nC count: 2  \r\nG count: 3  \r\nT count: 4  \r\nLow A count: A  \r\nHigh A count: AATA  \r\nLow C count: CC  \r\nHigh C count: CC  \r\nLow G count: GGG  \r\nHigh G count: GGG  \r\nLow T count: AATA  \r\nHigh T count: TTT  \r\n\r\n    package a1;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class A1Novice {\r\n\t    public static void main(String[] args){\r\n\t\t    Scanner s = new Scanner(System.in);\r\n\t\t    System.out.println(&quot;Enter nucleobases: (enter end when done)&quot;);\r\n\t\t    process(s);\r\n\t    }\r\n\r\n\t    public static void process(Scanner s){\r\n\t\t    int a = 0, c = 0, g = 0, t = 0;\r\n\t\t    while(s.hasNext()){\r\n\t\t\t    String id = s.next();\r\n\t\t\t    if(id.equalsIgnoreCase(&quot;end&quot;)){\r\n\t\t\t\t    break;\r\n\t\t\t    }\r\n\t\t\t    for(int i = 0; i &lt; id.length(); i++){\r\n\t\t\t\t    char singleChar = id.charAt(i);\r\n\t\t\t\t    if (singleChar==&#39;A&#39; || singleChar==&#39;a&#39;){\r\n\t\t\t\t   \t    a++;\r\n\t\t\t\t    }\r\n\t\t\t\t    else if(singleChar==&#39;C&#39; || singleChar==&#39;c&#39;){\r\n\t\t\t\t\t    c++;\r\n\t\t\t\t    }\r\n\t\t\t\t    else if(singleChar==&#39;G&#39; || singleChar==&#39;g&#39;){\r\n\t\t\t\t\t    g++;\r\n\t\t\t\t    }\r\n\t\t\t\t    else if(singleChar==&#39;T&#39; || singleChar==&#39;t&#39;){\r\n\t\t\t\t\t    t++;\r\n\t\t\t\t    }\r\n\r\n\t\t\t    }\r\n\t\t    }  \r\n\t\t    System.out.println(&quot;A count: &quot; + a);\r\n\t\t    System.out.println(&quot;C count: &quot; + c);\r\n\t\t    System.out.println(&quot;G count: &quot; + g);\r\n\t\t    System.out.println(&quot;T count: &quot; + t);\r\n\t    }\r\n    }\r\n\r\n","title":"How to get the low and high counts of characters from a string?","body":"<p>So I am having trouble with the second part of this project. I have the below code which gives counts for each entry, but I do not know how to get the highs and lows...Thanks in advance!</p>\n\n<p>A1Adept</p>\n\n<p>This program should process the input as A1Novice does, but in addition to producing the counts, it should also keep track of the DNA strand with the smallest and largest number of each of the nucleobases and print those strands to the output. So, given the following input:</p>\n\n<pre><code>A \nCC \nAATA \nGGG\nTTT\nend\n</code></pre>\n\n<p>The program should produce the following output:</p>\n\n<blockquote>\n  <p>A count: 4<br>\n  C count: 2<br>\n  G count: 3<br>\n  T count: 4<br>\n  Low A count: A<br>\n  High A count: AATA<br>\n  Low C count: CC<br>\n  High C count: CC<br>\n  Low G count: GGG<br>\n  High G count: GGG<br>\n  Low T count: AATA<br>\n  High T count: TTT  </p>\n</blockquote>\n\n<pre><code>package a1;\n\nimport java.util.Scanner;\n\npublic class A1Novice {\n    public static void main(String[] args){\n        Scanner s = new Scanner(System.in);\n        System.out.println(\"Enter nucleobases: (enter end when done)\");\n        process(s);\n    }\n\n    public static void process(Scanner s){\n        int a = 0, c = 0, g = 0, t = 0;\n        while(s.hasNext()){\n            String id = s.next();\n            if(id.equalsIgnoreCase(\"end\")){\n                break;\n            }\n            for(int i = 0; i &lt; id.length(); i++){\n                char singleChar = id.charAt(i);\n                if (singleChar=='A' || singleChar=='a'){\n                    a++;\n                }\n                else if(singleChar=='C' || singleChar=='c'){\n                    c++;\n                }\n                else if(singleChar=='G' || singleChar=='g'){\n                    g++;\n                }\n                else if(singleChar=='T' || singleChar=='t'){\n                    t++;\n                }\n\n            }\n        }  \n        System.out.println(\"A count: \" + a);\n        System.out.println(\"C count: \" + c);\n        System.out.println(\"G count: \" + g);\n        System.out.println(\"T count: \" + t);\n    }\n}\n</code></pre>\n"},{"tags":["java","string","double"],"comments":[{"owner":{"account_id":3881522,"reputation":15423,"user_id":3213868,"display_name":"ooga"},"score":0,"creation_date":1399437438,"post_id":23508727,"comment_id":36055526,"body_markdown":"That just might depend on the language.","body":"That just might depend on the language."}],"answers":[{"comments":[{"owner":{"account_id":3808611,"reputation":385,"user_id":3160253,"accept_rate":93,"display_name":"Anton James"},"score":0,"creation_date":1399453417,"post_id":23508872,"comment_id":36063274,"body_markdown":"Hi thanks this worked well but, how would I put this doub into an array instead of printing it this is where I am stuck now cheers thanks","body":"Hi thanks this worked well but, how would I put this doub into an array instead of printing it this is where I am stuck now cheers thanks"},{"owner":{"account_id":4361333,"reputation":473,"user_id":3558312,"display_name":"Moiety Design"},"score":0,"creation_date":1400021551,"post_id":23508872,"comment_id":36308936,"body_markdown":"Before the `while` loop use `ArrayList doubArray = new ArrayList();` and then within the loop add `doubArray.add(doub)` below the definition of `doub`. That will have the values in an ArrayList rather than an Array which should work better","body":"Before the <code>while</code> loop use <code>ArrayList doubArray = new ArrayList();</code> and then within the loop add <code>doubArray.add(doub)</code> below the definition of <code>doub</code>. That will have the values in an ArrayList rather than an Array which should work better"}],"tags":[],"owner":{"account_id":4361333,"reputation":473,"user_id":3558312,"display_name":"Moiety Design"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1399437714,"creation_date":1399437714,"answer_id":23508872,"question_id":23508727,"body_markdown":"The following code should isolate every number which is not perfectly divisible by 1 within the string, printing them separately:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        String text = &quot;&quot;; // string was too long to fit here for tidiness\r\n        Matcher search = Pattern.compile(&quot;(?!=\\\\d\\\\.\\\\d\\\\.)([\\\\d.]+)&quot;).matcher(text);\r\n        while (search.find())\r\n        {\r\n            double doub = Double.parseDouble(search.group(1));\r\n            if (doub mod 1 != 0)\r\n            {\r\n                System.out.println(doub);\r\n            }\r\n        }\r\n    }","title":"Best way to convert string with doubles and characters into just doubles in Java","body":"<p>The following code should isolate every number which is not perfectly divisible by 1 within the string, printing them separately:</p>\n\n<pre><code>public static void main(String[] args)\n{\n    String text = \"\"; // string was too long to fit here for tidiness\n    Matcher search = Pattern.compile(\"(?!=\\\\d\\\\.\\\\d\\\\.)([\\\\d.]+)\").matcher(text);\n    while (search.find())\n    {\n        double doub = Double.parseDouble(search.group(1));\n        if (doub mod 1 != 0)\n        {\n            System.out.println(doub);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3808611,"reputation":385,"user_id":3160253,"accept_rate":93,"display_name":"Anton James"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":23508872,"answer_count":1,"score":-2,"last_activity_date":1685996487,"creation_date":1399436755,"question_id":23508727,"body_markdown":"Forgive me if I&#39;m already asking a question that has been answered but I&#39;m not sure of the best way to do this being a beginner.\r\n\r\nI have a string like the following, What would be the best way to convert this string so that I only have the doubles 3.4134388041,0.63117288 etc and I discard the rest?\r\n\r\nThanks!\r\n\r\n    Shading:Building:Detailed,\r\n        39,                      !- Name\r\n        ,                        !- Transmittance Schedule Name\r\n        4,                       !- Number of Vertices\r\n        3.4134388041,            !- Vertex 1 X-coordinate {m}\r\n        0.63117288,              !- Vertex 1 Y-coordinate {m}\r\n        2.2012378517,            !- Vertex 1 Z-coordinate {m}\r\n        3.4134388041,            !- Vertex 2 X-coordinate {m}\r\n        10.01517288,             !- Vertex 2 Y-coordinate {m}\r\n        2.2012378517,            !- Vertex 2 Z-coordinate {m}\r\n        2.9134388041,            !- Vertex 3 X-coordinate {m}\r\n        10.01517288,             !- Vertex 3 Y-coordinate {m}\r\n        2.2012378517,            !- Vertex 3 Z-coordinate {m}\r\n        2.9134388041,            !- Vertex 4 X-coordinate {m}\r\n        0.63117288,              !- Vertex 4 Y-coordinate {m}\r\n        2.2012378517;            !- Vertex 4 Z-coordinate {m}","title":"Best way to convert string with doubles and characters into just doubles in Java","body":"<p>Forgive me if I'm already asking a question that has been answered but I'm not sure of the best way to do this being a beginner.</p>\n\n<p>I have a string like the following, What would be the best way to convert this string so that I only have the doubles 3.4134388041,0.63117288 etc and I discard the rest?</p>\n\n<p>Thanks!</p>\n\n<pre><code>Shading:Building:Detailed,\n    39,                      !- Name\n    ,                        !- Transmittance Schedule Name\n    4,                       !- Number of Vertices\n    3.4134388041,            !- Vertex 1 X-coordinate {m}\n    0.63117288,              !- Vertex 1 Y-coordinate {m}\n    2.2012378517,            !- Vertex 1 Z-coordinate {m}\n    3.4134388041,            !- Vertex 2 X-coordinate {m}\n    10.01517288,             !- Vertex 2 Y-coordinate {m}\n    2.2012378517,            !- Vertex 2 Z-coordinate {m}\n    2.9134388041,            !- Vertex 3 X-coordinate {m}\n    10.01517288,             !- Vertex 3 Y-coordinate {m}\n    2.2012378517,            !- Vertex 3 Z-coordinate {m}\n    2.9134388041,            !- Vertex 4 X-coordinate {m}\n    0.63117288,              !- Vertex 4 Y-coordinate {m}\n    2.2012378517;            !- Vertex 4 Z-coordinate {m}\n</code></pre>\n"},{"tags":["java","swing","jfilechooser","column-width"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1685996194,"post_id":76405410,"comment_id":134736264,"body_markdown":"Check out: https://stackoverflow.com/a/74070636/131872 for an example that shows how to access the JTable used by the file chooser. Once you have access to the JTable you can access the TableColumns and set your desired width.","body":"Check out: <a href=\"https://stackoverflow.com/a/74070636/131872\">stackoverflow.com/a/74070636/131872</a> for an example that shows how to access the JTable used by the file chooser. Once you have access to the JTable you can access the TableColumns and set your desired width."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":1,"creation_date":1686028565,"post_id":76405410,"comment_id":134739170,"body_markdown":"@camickr thank you, this is the &#39;kick&#39; I needed.","body":"@camickr thank you, this is the &#39;kick&#39; I needed."}],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686028589,"answer_count":0,"score":0,"last_activity_date":1685996213,"creation_date":1685960042,"question_id":76405410,"body_markdown":"I&#39;ve JFileChooser:\r\n\r\n    public static JFileChooser bakFileChooser() {\r\n    \tJFileChooser fileChooser = new JFileChooser();\r\n        fileChooser.setDialogTitle(&quot;Vyber BAK soubor&quot;);\r\n        if (dataSource.equalsIgnoreCase(localdbInstanceName)) {\r\n        \tfileChooser.setCurrentDirectory(new File(localdbDataPath));\r\n        }\r\n        else {\r\n        \tConnection connection = connectionMap.get(dataSource);\r\n        \tFile backupDir = SqlServerBackupManager.getSqlServerBackupDir(connection);\r\n        \tfileChooser.setCurrentDirectory(backupDir);\r\n        }\r\n        fileChooser.getActionMap().get(&quot;viewTypeDetails&quot;).actionPerformed(null);\r\n        fileChooser.setFileSelectionMode(JFileChooser.FILES_AND_DIRECTORIES);\r\n        fileChooser.addChoosableFileFilter(new FileNameExtensionFilter(&quot;*.bak&quot;, &quot;bak&quot;));\r\n        fileChooser.setAcceptAllFileFilterUsed(true);\r\n        fileChooser.setPreferredSize(preferredDimension);    \r\n        return fileChooser;\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt works fine. The only ugly think is too low column width after directory is opened (or changed). User has to manualy adjust first column width to see full file/dir names.\r\n\r\nHow can I adjust the column width automaticaly after directory is opened / changed?\r\n\r\nOr how to set fixed column width?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/56zoC.png","title":"JFileChooser - adjust columns width","body":"<p>I've JFileChooser:</p>\n<pre><code>public static JFileChooser bakFileChooser() {\n    JFileChooser fileChooser = new JFileChooser();\n    fileChooser.setDialogTitle(&quot;Vyber BAK soubor&quot;);\n    if (dataSource.equalsIgnoreCase(localdbInstanceName)) {\n        fileChooser.setCurrentDirectory(new File(localdbDataPath));\n    }\n    else {\n        Connection connection = connectionMap.get(dataSource);\n        File backupDir = SqlServerBackupManager.getSqlServerBackupDir(connection);\n        fileChooser.setCurrentDirectory(backupDir);\n    }\n    fileChooser.getActionMap().get(&quot;viewTypeDetails&quot;).actionPerformed(null);\n    fileChooser.setFileSelectionMode(JFileChooser.FILES_AND_DIRECTORIES);\n    fileChooser.addChoosableFileFilter(new FileNameExtensionFilter(&quot;*.bak&quot;, &quot;bak&quot;));\n    fileChooser.setAcceptAllFileFilterUsed(true);\n    fileChooser.setPreferredSize(preferredDimension);    \n    return fileChooser;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/56zoC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/56zoC.png\" alt=\"enter image description here\" /></a></p>\n<p>It works fine. The only ugly think is too low column width after directory is opened (or changed). User has to manualy adjust first column width to see full file/dir names.</p>\n<p>How can I adjust the column width automaticaly after directory is opened / changed?</p>\n<p>Or how to set fixed column width?</p>\n"},{"tags":["java","iterator","java.util.scanner","dna-sequence"],"comments":[{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":0,"creation_date":1390155716,"post_id":21220718,"comment_id":31960855,"body_markdown":"possible duplicate of [How do I compare strings in Java?](http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":3041017,"reputation":7139,"user_id":2578042,"accept_rate":80,"display_name":"ZekeDroid"},"score":0,"creation_date":1390155754,"post_id":21220718,"comment_id":31960874,"body_markdown":"Yeah you want to use the .equals method","body":"Yeah you want to use the .equals method"},{"owner":{"account_id":1273208,"reputation":104432,"user_id":1229023,"accept_rate":71,"display_name":"raina77ow"},"score":2,"creation_date":1390155754,"post_id":21220718,"comment_id":31960875,"body_markdown":"Cache the result of `j.next()` in some variable, then check for its value instead.","body":"Cache the result of <code>j.next()</code> in some variable, then check for its value instead."},{"owner":{"account_id":873362,"reputation":13856,"user_id":923720,"display_name":"Darkhogg"},"score":0,"creation_date":1390155783,"post_id":21220718,"comment_id":31960892,"body_markdown":"@DennisMeng Not a duplicate, but useful link.","body":"@DennisMeng Not a duplicate, but useful link."},{"owner":{"account_id":3041017,"reputation":7139,"user_id":2578042,"accept_rate":80,"display_name":"ZekeDroid"},"score":0,"creation_date":1390155785,"post_id":21220718,"comment_id":31960894,"body_markdown":"also, yes, j.next() will remove an element so here you&#39;re removing 4 elements per loop just to see if they are equal","body":"also, yes, j.next() will remove an element so here you&#39;re removing 4 elements per loop just to see if they are equal"},{"owner":{"account_id":931282,"reputation":13327,"user_id":961125,"accept_rate":83,"display_name":"Sashi Kant"},"score":0,"creation_date":1390155795,"post_id":21220718,"comment_id":31960899,"body_markdown":"There is no need to use next() in the if check","body":"There is no need to use next() in the if check"},{"owner":{"display_name":"user2509848"},"score":0,"creation_date":1390155802,"post_id":21220718,"comment_id":31960900,"body_markdown":"How about `String tmp = j.next()`, then compare `tmp`.","body":"How about <code>String tmp = j.next()</code>, then compare <code>tmp</code>."},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":0,"creation_date":1390155942,"post_id":21220718,"comment_id":31960958,"body_markdown":"@Darkhogg Ah yeah, I see the other issue here now. Granted, the problem he&#39;s going to hit *after* that *is* a dupe.","body":"@Darkhogg Ah yeah, I see the other issue here now. Granted, the problem he&#39;s going to hit <i>after</i> that <i>is</i> a dupe."},{"owner":{"account_id":3879917,"reputation":5,"user_id":3212766,"accept_rate":40,"display_name":"user3212766"},"score":0,"creation_date":1390169191,"post_id":21220718,"comment_id":31965385,"body_markdown":"Thanks guys! So I am using the if/else solution with j.next() assigned to a variable and using the .equals method instead of ==. After I enter input the program still crashes, I ran debugging and there seems to be a problem with `String val = j.next();`... any ideas?","body":"Thanks guys! So I am using the if/else solution with j.next() assigned to a variable and using the .equals method instead of ==. After I enter input the program still crashes, I ran debugging and there seems to be a problem with <code>String val = j.next();</code>... any ideas?"},{"owner":{"account_id":3879917,"reputation":5,"user_id":3212766,"accept_rate":40,"display_name":"user3212766"},"score":0,"creation_date":1390170752,"post_id":21220718,"comment_id":31965924,"body_markdown":"@DennisMeng What is the other issue you mentioned earlier?","body":"@DennisMeng What is the other issue you mentioned earlier?"},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":0,"creation_date":1390187600,"post_id":21220718,"comment_id":31969721,"body_markdown":"I was referring to the string comparison, but it looks like you&#39;ve got that part already. As for the crashing that you&#39;re getting now, `Scanner j = new Scanner(input)` is *definitely* not what you want. Go back over your `main`, there&#39;s still at least two issues I see.","body":"I was referring to the string comparison, but it looks like you&#39;ve got that part already. As for the crashing that you&#39;re getting now, <code>Scanner j = new Scanner(input)</code> is <i>definitely</i> not what you want. Go back over your <code>main</code>, there&#39;s still at least two issues I see."},{"owner":{"account_id":3879917,"reputation":5,"user_id":3212766,"accept_rate":40,"display_name":"user3212766"},"score":0,"creation_date":1390241143,"post_id":21220718,"comment_id":31997178,"body_markdown":"Oh okay, I think I understand. Would System.In work better?","body":"Oh okay, I think I understand. Would System.In work better?"}],"answers":[{"comments":[{"owner":{"account_id":1178561,"reputation":5401,"user_id":1153988,"display_name":"C.Champagne"},"score":2,"creation_date":1390156377,"post_id":21220746,"comment_id":31961116,"body_markdown":"Using `==` to compare strings is a bad idea because you onlly compare references, not the value of the string itself!","body":"Using <code>==</code> to compare strings is a bad idea because you onlly compare references, not the value of the string itself!"},{"owner":{"account_id":542404,"reputation":1735,"user_id":911228,"display_name":"kmera"},"score":0,"creation_date":1390156438,"post_id":21220746,"comment_id":31961135,"body_markdown":"yes you are right of course! didnt look at that. I edited my sample.","body":"yes you are right of course! didnt look at that. I edited my sample."}],"tags":[],"owner":{"account_id":542404,"reputation":1735,"user_id":911228,"display_name":"kmera"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1390156474,"creation_date":1390155786,"answer_id":21220746,"question_id":21220718,"body_markdown":"Put it in a local variable.\r\n\r\n     String next = j.next();\r\n\r\nand use that in your if statements. Otherwise you will advance the iterator in every check.\r\n\r\nHere is what it should look like:\r\n\r\n    public static void process(Scanner j, String input){\r\n        int a = 0, c = 0, g = 0, t = 0;\r\n        \r\n        while(j.hasNext()){\r\n            String n = j.next();\r\n            if (n.equals(&quot;A&quot;)){\r\n                a++;\r\n            }\r\n            else if(n.equals(&quot;C&quot;)){\r\n                c++;\r\n            }\r\n            else if(n.equals(&quot;G&quot;)){\r\n                g++;\r\n            }\r\n            else if(n.equals(&quot;T&quot;)){\r\n                t++;\r\n            }\r\n            else{\r\n                ...\r\n            }\r\n         }\r\n\r\n    }\r\n\r\nPlus, do not use == to compare Strings. The == operator will check if it is the same object instance, but not whether the content is equal. Use the `equals` method instead.","title":"Using next() in the parameter of if/else statement","body":"<p>Put it in a local variable.</p>\n\n<pre><code> String next = j.next();\n</code></pre>\n\n<p>and use that in your if statements. Otherwise you will advance the iterator in every check.</p>\n\n<p>Here is what it should look like:</p>\n\n<pre><code>public static void process(Scanner j, String input){\n    int a = 0, c = 0, g = 0, t = 0;\n\n    while(j.hasNext()){\n        String n = j.next();\n        if (n.equals(\"A\")){\n            a++;\n        }\n        else if(n.equals(\"C\")){\n            c++;\n        }\n        else if(n.equals(\"G\")){\n            g++;\n        }\n        else if(n.equals(\"T\")){\n            t++;\n        }\n        else{\n            ...\n        }\n     }\n\n}\n</code></pre>\n\n<p>Plus, do not use == to compare Strings. The == operator will check if it is the same object instance, but not whether the content is equal. Use the <code>equals</code> method instead.</p>\n"},{"tags":[],"owner":{"account_id":3041017,"reputation":7139,"user_id":2578042,"accept_rate":80,"display_name":"ZekeDroid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390155854,"creation_date":1390155854,"answer_id":21220766,"question_id":21220718,"body_markdown":"The j.next() on an iterator will essentially go on to the next loop so you&#39;re making 4 loops on every loop.","title":"Using next() in the parameter of if/else statement","body":"<p>The j.next() on an iterator will essentially go on to the next loop so you're making 4 loops on every loop.</p>\n"},{"comments":[{"owner":{"account_id":1178561,"reputation":5401,"user_id":1153988,"display_name":"C.Champagne"},"score":0,"creation_date":1390156681,"post_id":21220830,"comment_id":31961227,"body_markdown":"No, as it was written k-mera&#39;s answer was not correct but yours is ... (only in Java 7 however)! Furthermore, it is more readable.","body":"No, as it was written k-mera&#39;s answer was not correct but yours is ... (only in Java 7 however)! Furthermore, it is more readable."},{"owner":{"account_id":3856259,"reputation":716,"user_id":3195113,"display_name":"aljipa"},"score":0,"creation_date":1390157435,"post_id":21220830,"comment_id":31961507,"body_markdown":"Uh, it seems he already edited and I didn&#39;t notice. I think readability is not as important as more asymptomatically faster algorithm, some would doubt that a switch with lots of breaks is more readable. As for Java 7, Scanner wasn&#39;t there until Java 5 too :)","body":"Uh, it seems he already edited and I didn&#39;t notice. I think readability is not as important as more asymptomatically faster algorithm, some would doubt that a switch with lots of breaks is more readable. As for Java 7, Scanner wasn&#39;t there until Java 5 too :)"},{"owner":{"account_id":1178561,"reputation":5401,"user_id":1153988,"display_name":"C.Champagne"},"score":0,"creation_date":1390157494,"post_id":21220830,"comment_id":31961547,"body_markdown":"I had put a comment on his answer.","body":"I had put a comment on his answer."}],"tags":[],"owner":{"account_id":3856259,"reputation":716,"user_id":3195113,"display_name":"aljipa"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390156608,"creation_date":1390156209,"answer_id":21220830,"question_id":21220718,"body_markdown":"k-mera&#39;s answer is correct, but consider using switch since it&#39;s asymptomatically more effective:\r\n\r\n    public static void process( Scanner j, String input ) {\r\n\t int a = 0, c = 0, g = 0, t = 0;\r\n\t String ch;\r\n\t while( j.hasNext() ) {\r\n\t     switch( ch = j.next() ) {\r\n\t         case &quot;A&quot;:\r\n\t              a++;\r\n\t              break;\r\n\t\t case &quot;C&quot;:\r\n\t\t      c++;\r\n\t\t      break;\r\n\t\t case &quot;G&quot;:\r\n\t\t      g++;\r\n\t\t      break;\r\n\t\t case &quot;T&quot;:\r\n\t\t      t++;\r\n\t\t      break;\r\n\t         default:\r\n\t              System.out.println(&quot;A count: &quot; + a);\r\n\t              System.out.println(&quot;C count: &quot; + c);\r\n\t              System.out.println(&quot;G count: &quot; + g);\r\n\t              System.out.println(&quot;T count: &quot; + t);\r\n\t              return;\r\n\t         }\r\n\t     }\r\n\t}\r\n\r\nAdditionally I&#39;d rather use simple ( char ) System.in.read() if you need to read char by char there&#39;s no need in polluting your heap with redundant String instances which is exactly what Scanner.next() does ___unless___ you don&#39;t  tokenise the input in a custom way.","title":"Using next() in the parameter of if/else statement","body":"<p>k-mera's answer is correct, but consider using switch since it's asymptomatically more effective:</p>\n\n<pre><code>public static void process( Scanner j, String input ) {\n int a = 0, c = 0, g = 0, t = 0;\n String ch;\n while( j.hasNext() ) {\n     switch( ch = j.next() ) {\n         case \"A\":\n              a++;\n              break;\n     case \"C\":\n          c++;\n          break;\n     case \"G\":\n          g++;\n          break;\n     case \"T\":\n          t++;\n          break;\n         default:\n              System.out.println(\"A count: \" + a);\n              System.out.println(\"C count: \" + c);\n              System.out.println(\"G count: \" + g);\n              System.out.println(\"T count: \" + t);\n              return;\n         }\n     }\n}\n</code></pre>\n\n<p>Additionally I'd rather use simple ( char ) System.in.read() if you need to read char by char there's no need in polluting your heap with redundant String instances which is exactly what Scanner.next() does <strong><em>unless</em></strong> you don't  tokenise the input in a custom way.</p>\n"},{"comments":[{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":0,"creation_date":1390156332,"post_id":21220834,"comment_id":31961096,"body_markdown":"In Java 7, you can also use a switch statement instead.","body":"In Java 7, you can also use a switch statement instead."},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":0,"creation_date":1390157040,"post_id":21220834,"comment_id":31961363,"body_markdown":"It doesn&#39;t hurt to add it in anyway (so that your answer stands alone). Generally, what I do when I add extra info is acknowledge the person in the answer (since they *did* bring it up first).","body":"It doesn&#39;t hurt to add it in anyway (so that your answer stands alone). Generally, what I do when I add extra info is acknowledge the person in the answer (since they <i>did</i> bring it up first)."}],"tags":[],"owner":{"account_id":1178561,"reputation":5401,"user_id":1153988,"display_name":"C.Champagne"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1390157186,"creation_date":1390156216,"answer_id":21220834,"question_id":21220718,"body_markdown":"As already written you have to put your next element in a local variable.\r\n\r\nThis is not enough however: please never use `==` to compare strings. Use String&#39;s method `equals`instead or even `equalsIgnoreCase`.\r\n\r\nYou should use something like :\r\n\r\n    String val = j.next();\r\n    if(val.equals(&quot;A&quot;)){ // you could use val.equalsIgnoreCase(&quot;A&quot;) to be case insensitive\r\n        ...\r\n    } else if (val.equals(&quot;B&quot;)){\r\n        ...\r\n\r\nAs suggested in aljipa&#39;s answer, you you to use a switch. If you want your test to be case insensitive can can also write something like:\r\n\r\n    String val = j.next();\r\n    switch (val.toUpperCase()) {\r\n        case &quot;A&quot;:\r\n            a++;\r\n            break;\r\n        case &quot;B&quot;:\r\n            ...\r\n \r\n","title":"Using next() in the parameter of if/else statement","body":"<p>As already written you have to put your next element in a local variable.</p>\n\n<p>This is not enough however: please never use <code>==</code> to compare strings. Use String's method <code>equals</code>instead or even <code>equalsIgnoreCase</code>.</p>\n\n<p>You should use something like :</p>\n\n<pre><code>String val = j.next();\nif(val.equals(\"A\")){ // you could use val.equalsIgnoreCase(\"A\") to be case insensitive\n    ...\n} else if (val.equals(\"B\")){\n    ...\n</code></pre>\n\n<p>As suggested in aljipa's answer, you you to use a switch. If you want your test to be case insensitive can can also write something like:</p>\n\n<pre><code>String val = j.next();\nswitch (val.toUpperCase()) {\n    case \"A\":\n        a++;\n        break;\n    case \"B\":\n        ...\n</code></pre>\n"}],"owner":{"account_id":3879917,"reputation":5,"user_id":3212766,"accept_rate":40,"display_name":"user3212766"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21220834,"answer_count":4,"score":0,"last_activity_date":1685996186,"creation_date":1390155636,"question_id":21220718,"body_markdown":"So I am pretty sure I am using next and hasNext incorrectly... I am attempting to input a string of ACGT characters and then count the individual resulting letters. Thanks in advance.\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class A1Novice {\r\n\t    public static void main(String[] args){\r\n\t\t    String input = &quot;&quot;;\r\n\t\t    Scanner s = new Scanner(System.in);\r\n\t\t    Scanner j = new Scanner(input);\r\n\t\t    System.out.println(&quot;Enter nucleobases (enter end when done)&quot;);\r\n\t\t    while(true){\r\n\t\t\t    input = s.next() + input;\r\n\t\t\t    if(s.next().contains(&quot;end&quot;)){\r\n\t\t\t\t    break;\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t    process(j, input);\t\r\n\t    }\r\n\r\n\t    public static void process(Scanner j, String input){\r\n\t\t    int a = 0, c = 0, g = 0, t = 0;\r\n\t\t    while(j.hasNext()){\r\n\t\t\t    if (j.next()==&quot;A&quot;){\r\n\t\t\t\t    a++;\r\n\t\t\t    }\r\n\t\t\t    else if(j.next()==&quot;C&quot;){\r\n\t\t\t\t    c++;\r\n\t\t\t    }\r\n\t\t\t    else if(j.next()==&quot;G&quot;){\r\n\t\t\t\t    g++;\r\n\t\t\t    }\r\n\t\t\t    else if(j.next()==&quot;T&quot;){\r\n\t\t\t\t    t++;\r\n\t\t\t    }\r\n\t\t\t    else{\r\n\t\t\t\t    System.out.println(&quot;A count: &quot; + a);\r\n\t\t\t\t    System.out.println(&quot;C count: &quot; + c);\r\n\t\t\t\t    System.out.println(&quot;G count: &quot; + g);\r\n\t\t\t\t    System.out.println(&quot;T count: &quot; + t);\r\n\t\t\t\t    break;\r\n\t\t      \t    }\r\n\t\t     }\r\n\t\t\r\n  \t    }\r\n    }\r\n\r\n","title":"Using next() in the parameter of if/else statement","body":"<p>So I am pretty sure I am using next and hasNext incorrectly... I am attempting to input a string of ACGT characters and then count the individual resulting letters. Thanks in advance.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class A1Novice {\n    public static void main(String[] args){\n        String input = \"\";\n        Scanner s = new Scanner(System.in);\n        Scanner j = new Scanner(input);\n        System.out.println(\"Enter nucleobases (enter end when done)\");\n        while(true){\n            input = s.next() + input;\n            if(s.next().contains(\"end\")){\n                break;\n            }\n        }\n        process(j, input);  \n    }\n\n    public static void process(Scanner j, String input){\n        int a = 0, c = 0, g = 0, t = 0;\n        while(j.hasNext()){\n            if (j.next()==\"A\"){\n                a++;\n            }\n            else if(j.next()==\"C\"){\n                c++;\n            }\n            else if(j.next()==\"G\"){\n                g++;\n            }\n            else if(j.next()==\"T\"){\n                t++;\n            }\n            else{\n                System.out.println(\"A count: \" + a);\n                System.out.println(\"C count: \" + c);\n                System.out.println(\"G count: \" + g);\n                System.out.println(\"T count: \" + t);\n                break;\n                }\n         }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","iterator","applet","concurrentmodification","remove-method"],"answers":[{"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1377292341,"post_id":18411796,"comment_id":27046406,"body_markdown":"`Iterator.remove()` is used to remove item from Collection your are iterating using `Iterator`.\nfor your comment the right exception is `UnsupportedOperationException`","body":"<code>Iterator.remove()</code> is used to remove item from Collection your are iterating using <code>Iterator</code>. for your comment the right exception is <code>UnsupportedOperationException</code>"},{"owner":{"account_id":2554005,"reputation":4023,"user_id":2216414,"accept_rate":67,"display_name":"Cristian Meneses"},"score":0,"creation_date":1377293134,"post_id":18411796,"comment_id":27046714,"body_markdown":"You are both right, but you must remember that `ConcurrentModificationException` is unchecked, and if you check the `LinkedList` source code, you will find the throw on the `remove()` method","body":"You are both right, but you must remember that <code>ConcurrentModificationException</code> is unchecked, and if you check the <code>LinkedList</code> source code, you will find the throw on the <code>remove()</code> method"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":2,"creation_date":1377293859,"post_id":18411796,"comment_id":27046997,"body_markdown":"from LinkedList javadoc: The iterators returned by this class&#39;s iterator and listIterator methods are fail-fast: if the list is structurally modified at any time after the iterator is created, in any way except through the Iterator&#39;s own remove or add methods, the iterator will throw a ConcurrentModificationException. \nYou CAN do a `Iterator.remove()` from a backed-to-`LinkedList` iterator, but you will have a `ConcurrentModificationException` if someone modify `LinkedList` from extern.","body":"from LinkedList javadoc: The iterators returned by this class&#39;s iterator and listIterator methods are fail-fast: if the list is structurally modified at any time after the iterator is created, in any way except through the Iterator&#39;s own remove or add methods, the iterator will throw a ConcurrentModificationException.  You CAN do a <code>Iterator.remove()</code> from a backed-to-<code>LinkedList</code> iterator, but you will have a <code>ConcurrentModificationException</code> if someone modify <code>LinkedList</code> from extern."},{"owner":{"account_id":3124410,"reputation":72,"user_id":2643557,"accept_rate":57,"display_name":"Tom Skiba"},"score":0,"creation_date":1377330320,"post_id":18411796,"comment_id":27053617,"body_markdown":"Ok guys, if you wondering i have found my mistake. it was in wile loop, where i was calling initiation for locatables and thats why array was modifying too fast, now i put method call just before the for loop with interactios. :) Thank you.","body":"Ok guys, if you wondering i have found my mistake. it was in wile loop, where i was calling initiation for locatables and thats why array was modifying too fast, now i put method call just before the for loop with interactios. :) Thank you."}],"tags":[],"owner":{"account_id":2554005,"reputation":4023,"user_id":2216414,"accept_rate":67,"display_name":"Cristian Meneses"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1377291738,"creation_date":1377291738,"answer_id":18411796,"question_id":18411583,"body_markdown":"You cannot remove objects from a list/map while you are iterating them. That&#39;s the cause of the `ConcurrentModificationException`\r\n\r\n           i.remove();\r\n\r\nIf you will draw all the Locatable elements, and then clear the collection, maybe you should draw them all first, and then clear the collection, instead of removing them on the fly.\r\n\r\n    for (Iterator i = locatablesArray.listIterator(); i.hasNext();) {\r\n                   Locatable l = (Locatable) i.next(); \r\n                   l.draw(g);\r\n    }\r\n    \r\n    // Clear everything from the list\r\n    locatablesArray.clear();\r\n\r\n","title":"Java applet throws error in remove object from Iterator array","body":"<p>You cannot remove objects from a list/map while you are iterating them. That's the cause of the <code>ConcurrentModificationException</code></p>\n\n<pre><code>       i.remove();\n</code></pre>\n\n<p>If you will draw all the Locatable elements, and then clear the collection, maybe you should draw them all first, and then clear the collection, instead of removing them on the fly.</p>\n\n<pre><code>for (Iterator i = locatablesArray.listIterator(); i.hasNext();) {\n               Locatable l = (Locatable) i.next(); \n               l.draw(g);\n}\n\n// Clear everything from the list\nlocatablesArray.clear();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":765426,"reputation":336,"user_id":784975,"accept_rate":20,"display_name":"NormR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377291993,"creation_date":1377291993,"answer_id":18411845,"question_id":18411583,"body_markdown":"&gt;java.util.ConcurrentModificationException\r\nAnother approach is to use a for loop through the locatablesArray starting at the end vs the beginning.  That way any elements that are removed won&#39;t change the location of elements of the array that are yet to be scanned.","title":"Java applet throws error in remove object from Iterator array","body":"<blockquote>\n  <p>java.util.ConcurrentModificationException\n  Another approach is to use a for loop through the locatablesArray starting at the end vs the beginning.  That way any elements that are removed won't change the location of elements of the array that are yet to be scanned.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1377293394,"creation_date":1377293394,"answer_id":18412172,"question_id":18411583,"body_markdown":"Maybe when you call `repaint()` in `run()`, `paint()` is queued to EDT and called as soon as possible; while iterating `locatablesArray` a call to `initLocatables2()` in `run()` is done another time and the re-init of `locatablesArray` in the same time the code of `paint()` will produce the error.&lt;br/&gt;\r\nMy advice is to separate init operation in a specific init section and call it once, the run your main loop.\r\n\r\nJust another thing: why are you init a `Iterator` (class field `itrLocatables`) in `initLocatables2()`? Use iterator when needed if possible.&lt;br/&gt;\r\n\r\nHope to be clear, English is not my native language.","title":"Java applet throws error in remove object from Iterator array","body":"<p>Maybe when you call <code>repaint()</code> in <code>run()</code>, <code>paint()</code> is queued to EDT and called as soon as possible; while iterating <code>locatablesArray</code> a call to <code>initLocatables2()</code> in <code>run()</code> is done another time and the re-init of <code>locatablesArray</code> in the same time the code of <code>paint()</code> will produce the error.<br/>\nMy advice is to separate init operation in a specific init section and call it once, the run your main loop.</p>\n\n<p>Just another thing: why are you init a <code>Iterator</code> (class field <code>itrLocatables</code>) in <code>initLocatables2()</code>? Use iterator when needed if possible.<br/></p>\n\n<p>Hope to be clear, English is not my native language.</p>\n"}],"owner":{"account_id":3124410,"reputation":72,"user_id":2643557,"accept_rate":57,"display_name":"Tom Skiba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":18412172,"answer_count":3,"score":-1,"last_activity_date":1685996172,"creation_date":1377290852,"question_id":18411583,"body_markdown":"Welcome, i am programming a simple RPG game in java applet. It is getting more and more complicated and many errors are thrown to my face. Today i have problem with `.remove();` method.\r\n\r\n    Exception in thread &quot;AWT-EventQueue-1&quot; java.util.ConcurrentModificationException\r\n    \tat java.util.ArrayList$Itr.checkForComodification(Unknown Source)\r\n    \tat java.util.ArrayList$Itr.remove(Unknown Source)\r\n    \tat rpg.main.paint(main.java:365)\r\n    \tat rpg.main.update(main.java:331)\r\n    \tat sun.awt.RepaintArea.updateComponent(Unknown Source)\r\n    \tat sun.awt.RepaintArea.paint(Unknown Source)\r\n    \tat sun.awt.windows.WComponentPeer.handleEvent(Unknown Source)\r\n    \tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.Component.dispatchEvent(Unknown Source)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n    \tat java.awt.EventQueue.access$200(Unknown Source)\r\n    \tat java.awt.EventQueue$3.run(Unknown Source)\r\n    \tat java.awt.EventQueue$3.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n    \tat java.awt.EventQueue$4.run(Unknown Source)\r\n    \tat java.awt.EventQueue$4.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\r\n    \tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n    \tat java.awt.EventDispatchThread.run(Unknown Source)\r\n    \r\nThat&#39;s how error log looks like. Code of program:\r\n\r\n[main.java][1]\r\n\r\n\r\n  [1]: http://skibba.strefa.pl/code/main.java\r\nAs we can see error appears in paint methid in the end of program, but i dont know maybe it is caused by wrong initiation in the beginning of program?\r\n\r\n    public void initLocatables()\r\n    public void initLocatables2()\r\n\r\nAnd i have to admit that they are called in main while loop in run method.\r\nThese is place where error apears, and below in comment i have included previous method that has also thrown error, both in `remove();`\r\n\r\n    for (Iterator i = locatablesArray.listIterator(); i.hasNext();) {\r\n    \t\t\t   Locatable l = (Locatable) i.next(); \r\n    \t\t\t   l.draw(g);\r\n    \t\t\t   i.remove();\r\n    \t\t\t}\r\n    /*while(itrLocatables.hasNext())\r\n    {\r\n    \tLocatable l = itrLocatables.next();\r\n    \tl.draw(g);\r\n    \tl.remove();\r\n    }*/\r\n\r\nThank you for any reply.","title":"Java applet throws error in remove object from Iterator array","body":"<p>Welcome, i am programming a simple RPG game in java applet. It is getting more and more complicated and many errors are thrown to my face. Today i have problem with <code>.remove();</code> method.</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-1\" java.util.ConcurrentModificationException\n    at java.util.ArrayList$Itr.checkForComodification(Unknown Source)\n    at java.util.ArrayList$Itr.remove(Unknown Source)\n    at rpg.main.paint(main.java:365)\n    at rpg.main.update(main.java:331)\n    at sun.awt.RepaintArea.updateComponent(Unknown Source)\n    at sun.awt.RepaintArea.paint(Unknown Source)\n    at sun.awt.windows.WComponentPeer.handleEvent(Unknown Source)\n    at java.awt.Component.dispatchEventImpl(Unknown Source)\n    at java.awt.Container.dispatchEventImpl(Unknown Source)\n    at java.awt.Component.dispatchEvent(Unknown Source)\n    at java.awt.EventQueue.dispatchEventImpl(Unknown Source)\n    at java.awt.EventQueue.access$200(Unknown Source)\n    at java.awt.EventQueue$3.run(Unknown Source)\n    at java.awt.EventQueue$3.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n    at java.awt.EventQueue$4.run(Unknown Source)\n    at java.awt.EventQueue$4.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)\n    at java.awt.EventQueue.dispatchEvent(Unknown Source)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)\n    at java.awt.EventDispatchThread.run(Unknown Source)\n</code></pre>\n\n<p>That's how error log looks like. Code of program:</p>\n\n<p><a href=\"http://skibba.strefa.pl/code/main.java\" rel=\"nofollow\">main.java</a></p>\n\n<p>As we can see error appears in paint methid in the end of program, but i dont know maybe it is caused by wrong initiation in the beginning of program?</p>\n\n<pre><code>public void initLocatables()\npublic void initLocatables2()\n</code></pre>\n\n<p>And i have to admit that they are called in main while loop in run method.\nThese is place where error apears, and below in comment i have included previous method that has also thrown error, both in <code>remove();</code></p>\n\n<pre><code>for (Iterator i = locatablesArray.listIterator(); i.hasNext();) {\n               Locatable l = (Locatable) i.next(); \n               l.draw(g);\n               i.remove();\n            }\n/*while(itrLocatables.hasNext())\n{\n    Locatable l = itrLocatables.next();\n    l.draw(g);\n    l.remove();\n}*/\n</code></pre>\n\n<p>Thank you for any reply.</p>\n"},{"tags":["java","android","exception","ioexception"],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327763238,"creation_date":1327762522,"answer_id":9046172,"question_id":9045990,"body_markdown":"That&#39;s what checked exceptions mean: you must either catch them, or declare them thrown.\r\n\r\n`onCreate` is being overridden and must adhere to the original method&#39;s declaration, so either catching them, or doing that part of the work in another method that catches them, is your only option.\r\n\r\nSee [JLS 11 Exceptions][1], specifically [JLS 11.2.3 Exception Checking][2], for details.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/exceptions.html\r\n  [2]: http://java.sun.com/docs/books/jls/third_edition/html/exceptions.html#11.2.3","title":"Do I have to include catch blocks in Java when calling a method that throws exceptions?","body":"<p>That's what checked exceptions mean: you must either catch them, or declare them thrown.</p>\n\n<p><code>onCreate</code> is being overridden and must adhere to the original method's declaration, so either catching them, or doing that part of the work in another method that catches them, is your only option.</p>\n\n<p>See <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/exceptions.html\" rel=\"nofollow\">JLS 11 Exceptions</a>, specifically <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/exceptions.html#11.2.3\" rel=\"nofollow\">JLS 11.2.3 Exception Checking</a>, for details.</p>\n"},{"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1327763171,"post_id":9046182,"comment_id":11349107,"body_markdown":"You cannot arbitrarily add `throws` declarations to overridden functions; this will not work for `onCreate`.","body":"You cannot arbitrarily add <code>throws</code> declarations to overridden functions; this will not work for <code>onCreate</code>."}],"tags":[],"owner":{"account_id":230645,"reputation":12347,"user_id":494373,"accept_rate":67,"display_name":"Rob Agar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327763256,"creation_date":1327762580,"answer_id":9046182,"question_id":9045990,"body_markdown":"In Java you have to either catch exceptions or declare the fact that calling the method might result in an exception, like so: \r\n\r\n    public void onSomethingOtherThanCreate(Bundle savedInstanceState) \r\n      throws IOException, XmlPullParserException\r\n    {\r\n       // your code without any try/catch\r\n    } \r\n\r\n(`Error` and `RuntimeException` exceptions which can happen any time do not need to be declared in this way.) ","title":"Do I have to include catch blocks in Java when calling a method that throws exceptions?","body":"<p>In Java you have to either catch exceptions or declare the fact that calling the method might result in an exception, like so: </p>\n\n<pre><code>public void onSomethingOtherThanCreate(Bundle savedInstanceState) \n  throws IOException, XmlPullParserException\n{\n   // your code without any try/catch\n} \n</code></pre>\n\n<p>(<code>Error</code> and <code>RuntimeException</code> exceptions which can happen any time do not need to be declared in this way.) </p>\n"},{"tags":[],"owner":{"account_id":251145,"reputation":19211,"user_id":528313,"accept_rate":85,"display_name":"Vincenzo Pii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327762757,"creation_date":1327762757,"answer_id":9046200,"question_id":9045990,"body_markdown":"It&#39;s not Eclipse, it&#39;s Java!\r\n\r\nIn a method, code which throws exceptions must reside inside a `try-catch` block unless the `throws` clause for the unhanded exception is used in the method declaration itself.","title":"Do I have to include catch blocks in Java when calling a method that throws exceptions?","body":"<p>It's not Eclipse, it's Java!</p>\n\n<p>In a method, code which throws exceptions must reside inside a <code>try-catch</code> block unless the <code>throws</code> clause for the unhanded exception is used in the method declaration itself.</p>\n"},{"tags":[],"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327765095,"creation_date":1327765095,"answer_id":9046476,"question_id":9045990,"body_markdown":"If your complaint is that you have to type *two* catch clauses, it is possible to catch them all in a single clause, \r\n   \r\n\r\n    catch (Exception e) {\r\n          // dostuff here\r\n       }\r\n\r\nHowever, unless all you plan to do is print a stack trace or log the exception, this practice is frowned upon.  In the long run it will make the code harder to debug and maintain.\r\n\r\nJava 7 allows you to [catch multiple exceptions in a single clause](http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html), but Android doesn&#39;t yet support Java 7.","title":"Do I have to include catch blocks in Java when calling a method that throws exceptions?","body":"<p>If your complaint is that you have to type <em>two</em> catch clauses, it is possible to catch them all in a single clause, </p>\n\n<pre><code>catch (Exception e) {\n      // dostuff here\n   }\n</code></pre>\n\n<p>However, unless all you plan to do is print a stack trace or log the exception, this practice is frowned upon.  In the long run it will make the code harder to debug and maintain.</p>\n\n<p>Java 7 allows you to <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html\" rel=\"nofollow\">catch multiple exceptions in a single clause</a>, but Android doesn't yet support Java 7.</p>\n"},{"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1327768053,"post_id":9046523,"comment_id":11350044,"body_markdown":"I&#39;m not in the habit of downvoting answers, particularly detailed ones, but this is *way* too much information for what is ultimately a very simple question. More words != better answer. It&#39;s nothing personal, I just don&#39;t feel all the extra verbiage helps explain.","body":"I&#39;m not in the habit of downvoting answers, particularly detailed ones, but this is <i>way</i> too much information for what is ultimately a very simple question. More words != better answer. It&#39;s nothing personal, I just don&#39;t feel all the extra verbiage helps explain."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1327768403,"post_id":9046523,"comment_id":11350115,"body_markdown":"(If it didn&#39;t push what I consider to be better answers to below the fold I wouldn&#39;t have bothered.)","body":"(If it didn&#39;t push what I consider to be better answers to below the fold I wouldn&#39;t have bothered.)"},{"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"score":0,"creation_date":1327807881,"post_id":9046523,"comment_id":11355915,"body_markdown":"Actually it&#39;s really very long, but some of your codes inspired me and i found what made me confused.in fact, i dont know xrp.next() throws the two exception and i must catch them when i invoke the function. Maybe everyone here is trying to tell me the truth, but it&#39;s you inspire me.Thanks. and also thank @DaveNewton, for your enthusiastic :)","body":"Actually it&#39;s really very long, but some of your codes inspired me and i found what made me confused.in fact, i dont know xrp.next() throws the two exception and i must catch them when i invoke the function. Maybe everyone here is trying to tell me the truth, but it&#39;s you inspire me.Thanks. and also thank @DaveNewton, for your enthusiastic :)"}],"tags":[],"owner":{"account_id":422206,"reputation":19220,"user_id":800848,"accept_rate":53,"display_name":"Muhammad Nabeel Arif"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1327767483,"creation_date":1327765464,"answer_id":9046523,"question_id":9045990,"body_markdown":"**Exception Handling ways:**&lt;br /&gt;\r\nWe can handle a &#39;problem statement&#39; (Problem Statement is any statement which can throw an exception) in two ways.\r\n\r\n - Enclose the statement in `try-catch` block.\r\n - Append a `throws` clause in the method header.\r\n\r\n**Handling Exception in Overridden Methods:**&lt;br /&gt;\r\nIf you are overriding a method in child class. Then you cannot append extra throws clause in its signature. In your case `onCreate` is a method in parent class, which is overridden in child class hence we can not append throws clause in it header. So you have to enclose any &#39;Problem Statements&#39; within `onCreate` method in try-catch blocks.\r\n\r\n**Examples:**&lt;br /&gt;\r\nEnclose the statement in `try-catch` block.\r\n  \r\n\r\n    public void myMethod(){\r\n    \t\ttry{\r\n    \t\t\t// Problem Statement\r\n    \t\t}catch(IllegalAccessException e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}catch(NullPointerException e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\nAppend a `throws` clause in the method header.\r\n\t\r\n\r\n    public void myMethod()\r\n    \t\tthrows IllegalAccessException, NullPointerException{\r\n    \t\t\t// Problem Statement\r\n    \t}\r\n\r\n**Examples Overridden Methods:**&lt;br /&gt;\r\n**Valid throws clause:** A throws clause in overridden method is valid if    it is also in parent&#39;smethod.\r\n\r\n    public class Parent {\r\n    \tpublic int method() \r\n    \t\tthrows IllegalAccessException,NullPointerException, Exception {\r\n    \t\treturn 0;\r\n    \t}\r\n    }\r\n    public class child extends Parent {\r\n        // throws is part of method because parent method\r\n        // have throws clause\r\n    \t@Override\r\n    \tpublic int method() \r\n    \t\tthrows IllegalAccessException, NullPointerException,\r\n    \t\t\tException {\r\n                //Problem Statement\r\n    \t\treturn super.method();\r\n    \t}\r\n    }\r\n\r\n**Invalid throws clause:** A throws clause in overridden method is invalid if it is not present in parent&#39;s method.\r\n\r\n    public class Parent {\r\n    \tpublic int method(){\r\n    \t\treturn 0;\r\n    \t}\r\n    }\r\n\r\n    public class child extends Parent {\r\n        //**Error:** We can not append throws clause in the method because\r\n        // parent method do not have a throws clause\r\n    \t@Override\r\n    \tpublic int method() \r\n    \t\tthrows IllegalAccessException, NullPointerException,\r\n    \t\t\tException {\r\n                //Problem Statement\r\n    \t\treturn super.method();\r\n    \t}\r\n    }\r\nSo we have to modify our child class&#39;s method and remove `throws` clause as parent method do not contain throws clause in this particular situation. We have to handle exception through `try-catch` block.\r\n\r\n    public class child extends Parent {\r\n        //**Error:** We can not append throws clause in the method because\r\n        // parent method do not have a throws clause\r\n    \t@Override\r\n    \tpublic int method() {\r\n    \t\ttry{\r\n    \t\t\t// Problem Statement\r\n    \t\t}catch(IllegalAccessException e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}catch(NullPointerException e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n","title":"Do I have to include catch blocks in Java when calling a method that throws exceptions?","body":"<p><strong>Exception Handling ways:</strong><br />\nWe can handle a 'problem statement' (Problem Statement is any statement which can throw an exception) in two ways.</p>\n\n<ul>\n<li>Enclose the statement in <code>try-catch</code> block.</li>\n<li>Append a <code>throws</code> clause in the method header.</li>\n</ul>\n\n<p><strong>Handling Exception in Overridden Methods:</strong><br />\nIf you are overriding a method in child class. Then you cannot append extra throws clause in its signature. In your case <code>onCreate</code> is a method in parent class, which is overridden in child class hence we can not append throws clause in it header. So you have to enclose any 'Problem Statements' within <code>onCreate</code> method in try-catch blocks.</p>\n\n<p><strong>Examples:</strong><br />\nEnclose the statement in <code>try-catch</code> block.</p>\n\n<pre><code>public void myMethod(){\n        try{\n            // Problem Statement\n        }catch(IllegalAccessException e){\n            e.printStackTrace();\n        }catch(NullPointerException e){\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>Append a <code>throws</code> clause in the method header.</p>\n\n<pre><code>public void myMethod()\n        throws IllegalAccessException, NullPointerException{\n            // Problem Statement\n    }\n</code></pre>\n\n<p><strong>Examples Overridden Methods:</strong><br />\n<strong>Valid throws clause:</strong> A throws clause in overridden method is valid if    it is also in parent'smethod.</p>\n\n<pre><code>public class Parent {\n    public int method() \n        throws IllegalAccessException,NullPointerException, Exception {\n        return 0;\n    }\n}\npublic class child extends Parent {\n    // throws is part of method because parent method\n    // have throws clause\n    @Override\n    public int method() \n        throws IllegalAccessException, NullPointerException,\n            Exception {\n            //Problem Statement\n        return super.method();\n    }\n}\n</code></pre>\n\n<p><strong>Invalid throws clause:</strong> A throws clause in overridden method is invalid if it is not present in parent's method.</p>\n\n<pre><code>public class Parent {\n    public int method(){\n        return 0;\n    }\n}\n\npublic class child extends Parent {\n    //**Error:** We can not append throws clause in the method because\n    // parent method do not have a throws clause\n    @Override\n    public int method() \n        throws IllegalAccessException, NullPointerException,\n            Exception {\n            //Problem Statement\n        return super.method();\n    }\n}\n</code></pre>\n\n<p>So we have to modify our child class's method and remove <code>throws</code> clause as parent method do not contain throws clause in this particular situation. We have to handle exception through <code>try-catch</code> block.</p>\n\n<pre><code>public class child extends Parent {\n    //**Error:** We can not append throws clause in the method because\n    // parent method do not have a throws clause\n    @Override\n    public int method() {\n        try{\n            // Problem Statement\n        }catch(IllegalAccessException e){\n            e.printStackTrace();\n        }catch(NullPointerException e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9046523,"answer_count":5,"score":1,"last_activity_date":1685996142,"creation_date":1327760981,"question_id":9045990,"body_markdown":"i create an android application. and typed some codes just like :\r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n    ...\r\n    XmlResourceParser xrp = getResources().getXml(R.xml.OneXml);   &lt;==OneXml is a custom xml file in folder res/xml\r\n    ...\r\n    try {\r\n        ....\r\n        xrp.next();\r\n        .... \r\n    } catch(IOException e) {\r\n        \te.printStackTrace();\r\n    } catch(XmlPullParserException e) {\r\n\t        e.printStackTrace();\r\n    } \r\n    ...\r\ni found that i can neither delete `catch(IOException e)` nor `catch(XmlPullParserException e)`, when i try to delete one of them, Eclipse marks an error at `xrp.next()` and tells me that ***Unhandled exception type IOException*** or ***Unhandled exception type XmlPullParserException***, so must i add the two `catch`? why does Eclipse ask me to add two `catch` compulsively? Can&#39;t the code be compiled successfully without the two `catch`?","title":"Do I have to include catch blocks in Java when calling a method that throws exceptions?","body":"<p>i create an android application. and typed some codes just like :</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n...\nXmlResourceParser xrp = getResources().getXml(R.xml.OneXml);   &lt;==OneXml is a custom xml file in folder res/xml\n...\ntry {\n    ....\n    xrp.next();\n    .... \n} catch(IOException e) {\n        e.printStackTrace();\n} catch(XmlPullParserException e) {\n        e.printStackTrace();\n} \n...\n</code></pre>\n\n<p>i found that i can neither delete <code>catch(IOException e)</code> nor <code>catch(XmlPullParserException e)</code>, when i try to delete one of them, Eclipse marks an error at <code>xrp.next()</code> and tells me that <strong><em>Unhandled exception type IOException</em></strong> or <strong><em>Unhandled exception type XmlPullParserException</em></strong>, so must i add the two <code>catch</code>? why does Eclipse ask me to add two <code>catch</code> compulsively? Can't the code be compiled successfully without the two <code>catch</code>?</p>\n"},{"tags":["java","spring","spock","applicationcontext"],"comments":[{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1686008459,"post_id":30841795,"comment_id":134737692,"body_markdown":"Possible duplicate of prior https://stackoverflow.com/questions/24405727/integration-test-with-spring-boot-and-spock","body":"Possible duplicate of prior <a href=\"https://stackoverflow.com/questions/24405727/integration-test-with-spring-boot-and-spock\" title=\"integration test with spring boot and spock\">stackoverflow.com/questions/24405727/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1060328,"reputation":1340,"user_id":1062103,"accept_rate":86,"display_name":"Lesya Makhova"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1434365294,"creation_date":1434365294,"answer_id":30843247,"question_id":30841795,"body_markdown":"Was solved by:\r\n\r\n    @ContextConfiguration(loader = SpringApplicationContextLoader.class, classes = Application.class)\r\n    @WebAppConfiguration\r\n    @IntegrationTest\r\n\r\nand usage of RestTemplate \r\n\r\n[as in this question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26654842/spring-boot-and-spock-integration-test?rq=1","title":"How to configure Spock test to load Spring Context (for @Autowired)?","body":"<p>Was solved by:</p>\n\n<pre><code>@ContextConfiguration(loader = SpringApplicationContextLoader.class, classes = Application.class)\n@WebAppConfiguration\n@IntegrationTest\n</code></pre>\n\n<p>and usage of RestTemplate </p>\n\n<p><a href=\"https://stackoverflow.com/questions/26654842/spring-boot-and-spock-integration-test?rq=1\">as in this question</a></p>\n"},{"comments":[{"owner":{"account_id":7010328,"reputation":397,"user_id":5373457,"display_name":"Дмитрий Кулешов"},"score":0,"creation_date":1507620984,"post_id":46588805,"comment_id":80270525,"body_markdown":"could you please add some notes about using Spring (not SpringBoot)?","body":"could you please add some notes about using Spring (not SpringBoot)?"},{"owner":{"account_id":256360,"reputation":33466,"user_id":537031,"accept_rate":97,"display_name":"Igor"},"score":0,"creation_date":1507660633,"post_id":46588805,"comment_id":80295814,"body_markdown":"@ДмитрийКулешов The latter two annotations are not specific to Spring Boot.  I think the first one could be replaced with something like &quot;@RunWith&quot; but I&#39;m not sure as I&#39;ve only ever used these with Spring Boot.  What are you specifically trying to do?","body":"@ДмитрийКулешов The latter two annotations are not specific to Spring Boot.  I think the first one could be replaced with something like &quot;@RunWith&quot; but I&#39;m not sure as I&#39;ve only ever used these with Spring Boot.  What are you specifically trying to do?"}],"tags":[],"owner":{"account_id":256360,"reputation":33466,"user_id":537031,"accept_rate":97,"display_name":"Igor"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1507660336,"creation_date":1507215527,"answer_id":46588805,"question_id":30841795,"body_markdown":"Expanding on this since the bounty wanted some elaboration: Spring doesn&#39;t wire up beans by default in unit tests.  That&#39;s why those annotations are needed.  I&#39;ll try to break them down a little bit:\r\n\r\n - [@IntegrationTest][1] (which is now deprecated in favor of [@SpringBootTest][2] ) from the docs:\r\n\r\n&gt;   - Uses SpringBootContextLoader as the default ContextLoader when no specific @ContextConfiguration(loader=...) is defined.\r\n&gt;   - Automatically searches for a @SpringBootConfiguration when nested @Configuration is not used, and no explicit classes are specified.\r\n\r\n - [@WebAppConfiguration][3] adds the application context, and must be used with...\r\n - [@ContextConfiguration][4] actually determines how to load the &quot;class-level&quot; metadata.\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.4.x/api/org/springframework/boot/test/IntegrationTest.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/web/WebAppConfiguration.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ContextConfiguration.html\r\n\r\nWithout these annotations, Spring doesn&#39;t wire up the beans necessary for your test configuration.  This is partially for performance reasons (most tests don&#39;t need the context configured).   ","title":"How to configure Spock test to load Spring Context (for @Autowired)?","body":"<p>Expanding on this since the bounty wanted some elaboration: Spring doesn't wire up beans by default in unit tests.  That's why those annotations are needed.  I'll try to break them down a little bit:</p>\n\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/1.4.x/api/org/springframework/boot/test/IntegrationTest.html\" rel=\"noreferrer\">@IntegrationTest</a> (which is now deprecated in favor of <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\" rel=\"noreferrer\">@SpringBootTest</a> ) from the docs:</li>\n</ul>\n\n<blockquote>\n  <ul>\n  <li>Uses SpringBootContextLoader as the default ContextLoader when no specific @ContextConfiguration(loader=...) is defined.</li>\n  <li>Automatically searches for a @SpringBootConfiguration when nested @Configuration is not used, and no explicit classes are specified.</li>\n  </ul>\n</blockquote>\n\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/web/WebAppConfiguration.html\" rel=\"noreferrer\">@WebAppConfiguration</a> adds the application context, and must be used with...</li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ContextConfiguration.html\" rel=\"noreferrer\">@ContextConfiguration</a> actually determines how to load the \"class-level\" metadata.</li>\n</ul>\n\n<p>Without these annotations, Spring doesn't wire up the beans necessary for your test configuration.  This is partially for performance reasons (most tests don't need the context configured).   </p>\n"}],"owner":{"account_id":1060328,"reputation":1340,"user_id":1062103,"accept_rate":86,"display_name":"Lesya Makhova"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10805,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":30843247,"answer_count":2,"score":9,"last_activity_date":1685996119,"creation_date":1434360786,"question_id":30841795,"body_markdown":"I have such `Application` class:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    @ImportResource(&quot;classpath:applicationContext.xml&quot;)\r\n    @EnableJpaRepositories(&quot;ibd.jpa&quot;)\r\n    public class Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n    }\r\n\r\nI also have this `UserService` class (it is discovered by  `@EnableJpaRepositories(&quot;ibd.jpa&quot;)`):\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/user&quot;)\r\n    public class UserService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @RequestMapping(method = RequestMethod.POST)\r\n    public User createUser(@RequestParam String login, @RequestParam String password){\r\n        return userRepository.save(new User(login,password));\r\n    } \r\n\r\nAnd I try to test in this `UserService`:\r\n\r\n    @ContextConfiguration\r\n    class UserServiceTest extends Specification {\r\n\r\n    @Autowired\r\n    def UserService userService\r\n\r\n \r\n    def &quot;if User not exists 404 status in response sent and corresponding message shown&quot;() {\r\n        when: &#39;rest account url is hit&#39;\r\n        MockMvc mockMvc = standaloneSetup(userService).build()\r\n            def response = mockMvc.perform(get(&#39;/user?login=wrongusername&amp;password=wrongPassword&#39;)).andReturn().response\r\n        then:\r\n            response.status == NOT_FOUND.value()\r\n            response.errorMessage == &quot;Login or password is not correct&quot;\r\n\r\n    }\r\n\r\n\r\nBut the issue is:\r\n**UserService in test is `null` - it doesn&#39;t get successfully `@Autowired`; that shows that the Spring Context didn&#39;t load.  How can I configure for successful Autowiring?**","title":"How to configure Spock test to load Spring Context (for @Autowired)?","body":"<p>I have such <code>Application</code> class:</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan\n@ImportResource(&quot;classpath:applicationContext.xml&quot;)\n@EnableJpaRepositories(&quot;ibd.jpa&quot;)\npublic class Application {\n\npublic static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n}\n}\n</code></pre>\n<p>I also have this <code>UserService</code> class (it is discovered by  <code>@EnableJpaRepositories(&quot;ibd.jpa&quot;)</code>):</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class UserService {\n\n@Autowired\nprivate UserRepository userRepository;\n\n@RequestMapping(method = RequestMethod.POST)\npublic User createUser(@RequestParam String login, @RequestParam String password){\n    return userRepository.save(new User(login,password));\n} \n</code></pre>\n<p>And I try to test in this <code>UserService</code>:</p>\n<pre><code>@ContextConfiguration\nclass UserServiceTest extends Specification {\n\n@Autowired\ndef UserService userService\n\n\ndef &quot;if User not exists 404 status in response sent and corresponding message shown&quot;() {\n    when: 'rest account url is hit'\n    MockMvc mockMvc = standaloneSetup(userService).build()\n        def response = mockMvc.perform(get('/user?login=wrongusername&amp;password=wrongPassword')).andReturn().response\n    then:\n        response.status == NOT_FOUND.value()\n        response.errorMessage == &quot;Login or password is not correct&quot;\n\n}\n</code></pre>\n<p>But the issue is:\n<strong>UserService in test is <code>null</code> - it doesn't get successfully <code>@Autowired</code>; that shows that the Spring Context didn't load.  How can I configure for successful Autowiring?</strong></p>\n"},{"tags":["java","android","androidx"],"owner":{"account_id":21116516,"reputation":520,"user_id":15523510,"display_name":"KiraHoneybee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685996109,"creation_date":1685996109,"question_id":76409715,"body_markdown":"I tried to upgrade my android annotations to:\r\n```\r\n    implementation &quot;androidx.annotation:annotation:1.6.0&quot;\r\n```\r\n...but now these three imports fail:\r\n```\r\nimport androidx.annotation.Keep;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.StringRes;\r\n```\r\n\r\nWhat&#39;s the new way to implement these?  I need @Keep to make sure the java classes exist for my native code to call them.\r\n\r\n(Note: The official Google documents pretend nothing has changed and everything&#39;s fine)\r\n\r\n(Note2: Falling back to annotation:1.5.0 works, but what&#39;s the new solution?)\r\n\r\n\r\n","title":"What happened to Androidx.annotation.keep, and what&#39;s the new solution?","body":"<p>I tried to upgrade my android annotations to:</p>\n<pre><code>    implementation &quot;androidx.annotation:annotation:1.6.0&quot;\n</code></pre>\n<p>...but now these three imports fail:</p>\n<pre><code>import androidx.annotation.Keep;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.StringRes;\n</code></pre>\n<p>What's the new way to implement these?  I need @Keep to make sure the java classes exist for my native code to call them.</p>\n<p>(Note: The official Google documents pretend nothing has changed and everything's fine)</p>\n<p>(Note2: Falling back to annotation:1.5.0 works, but what's the new solution?)</p>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1388829049,"post_id":20919364,"comment_id":31407163,"body_markdown":"Gah! Try using names that actually mean something. `l1` is a list, but `l2` is an iterator? Not a good idea.","body":"Gah! Try using names that actually mean something. <code>l1</code> is a list, but <code>l2</code> is an iterator? Not a good idea."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1388829141,"post_id":20919364,"comment_id":31407196,"body_markdown":"Your current code wouldn&#39;t even compile, due to using `hasnext` instead of `hasNext`. Please post *real* code which demonstrates the problem.","body":"Your current code wouldn&#39;t even compile, due to using <code>hasnext</code> instead of <code>hasNext</code>. Please post <i>real</i> code which demonstrates the problem."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1388829238,"post_id":20919364,"comment_id":31407216,"body_markdown":"And you have `l2.Next()` rather than `l2.next()` (it should be all lower-case). Java is case sensitive.","body":"And you have <code>l2.Next()</code> rather than <code>l2.next()</code> (it should be all lower-case). Java is case sensitive."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":1,"creation_date":1388829303,"post_id":20919364,"comment_id":31407239,"body_markdown":"@T.J.Crowder `l2.next()` is fine.","body":"@T.J.Crowder <code>l2.next()</code> is fine."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1388829330,"post_id":20919364,"comment_id":31407246,"body_markdown":"@ZouZou: It was `l2.Next()` before the OP edited it (just as it was `l2.hasnext()`). (My comment was poorly-worded, it was only vaguely clear if you saw that the OP had `l2.Next()` in their code. I&#39;ve reworded it a bit.)","body":"@ZouZou: It was <code>l2.Next()</code> before the OP edited it (just as it was <code>l2.hasnext()</code>). (My comment was poorly-worded, it was only vaguely clear if you saw that the OP had <code>l2.Next()</code> in their code. I&#39;ve reworded it a bit.)"}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388829447,"creation_date":1388829120,"answer_id":20919408,"question_id":20919364,"body_markdown":"You&#39;re getting the mod exception because you&#39;re modifying the list *after* getting the iterator but *before* calling a method on the iterator. You&#39;re getting the iterator, then adding to the list (e.g., *modifying* it), then trying to use the iterator.\r\n\r\nTwo things:\r\n\r\n1. Put your\r\n\r\n        Iterator&lt;Integer&gt; l2=l1.iterator();\r\n\r\n    line *after* the input loop.\r\n\r\n2. Use `l1.add`, not `l3.add`, and do away with `l3` entirely. There&#39;s no reason (in this code) to use a `ListIterator` just to add to the list.","title":"Iterator has an issue in working with next function","body":"<p>You're getting the mod exception because you're modifying the list <em>after</em> getting the iterator but <em>before</em> calling a method on the iterator. You're getting the iterator, then adding to the list (e.g., <em>modifying</em> it), then trying to use the iterator.</p>\n\n<p>Two things:</p>\n\n<ol>\n<li><p>Put your</p>\n\n<pre><code>Iterator&lt;Integer&gt; l2=l1.iterator();\n</code></pre>\n\n<p>line <em>after</em> the input loop.</p></li>\n<li><p>Use <code>l1.add</code>, not <code>l3.add</code>, and do away with <code>l3</code> entirely. There's no reason (in this code) to use a <code>ListIterator</code> just to add to the list.</p></li>\n</ol>\n"}],"owner":{"display_name":"user2494741"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685996033,"creation_date":1388828808,"question_id":20919364,"body_markdown":"I have written the code below but I can&#39;t understand why it gives  `java.util.ConcurrentModificationException`.\r\n\r\nCan any one please help me?\r\n\r\n\r\n    static LinkedList&lt;Integer&gt; l1 = new LinkedList&lt;Integer&gt;(); \r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tScanner ob= new Scanner(System.in);\r\n                Iterator&lt;Integer&gt; l2=l1.iterator();\r\n\t\tListIterator&lt;Integer&gt; l3=l1.listIterator();\r\n\t\t\r\n\t\twhile(true)\r\n\t\t{\r\n                        System.out.println(&quot;Enter number (press 0 to exit the loop: &quot;);\r\n\t\t\tint number=ob.nextInt();\r\n\t\t\tif(number == 0)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;****&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tl3.add(number);\r\n\t\t}\r\n                while(l2.hasNext())\r\n                    System.out.println(l2.next());\r\n                \r\n\t}","title":"Iterator has an issue in working with next function","body":"<p>I have written the code below but I can't understand why it gives  <code>java.util.ConcurrentModificationException</code>.</p>\n<p>Can any one please help me?</p>\n<pre><code>static LinkedList&lt;Integer&gt; l1 = new LinkedList&lt;Integer&gt;(); \npublic static void main(String[] args) \n{\n    Scanner ob= new Scanner(System.in);\n            Iterator&lt;Integer&gt; l2=l1.iterator();\n    ListIterator&lt;Integer&gt; l3=l1.listIterator();\n    \n    while(true)\n    {\n                    System.out.println(&quot;Enter number (press 0 to exit the loop: &quot;);\n        int number=ob.nextInt();\n        if(number == 0)\n        {\n            System.out.println(&quot;****&quot;);\n            break;\n        }\n        l3.add(number);\n    }\n            while(l2.hasNext())\n                System.out.println(l2.next());\n            \n}\n</code></pre>\n"},{"tags":["java","image","button"],"answers":[{"comments":[{"owner":{"account_id":1542883,"reputation":91,"user_id":1437095,"accept_rate":60,"display_name":"Teo Roxy"},"score":0,"creation_date":1338900628,"post_id":10897394,"comment_id":14206455,"body_markdown":"No,i don&#39;t want to enumerate theme.For example : if i&#39;m in picture folder and i select an image to view in application ,when i press next to go automatically to the next image from picture folder.Hope you understand.Thank you.","body":"No,i don&#39;t want to enumerate theme.For example : if i&#39;m in picture folder and i select an image to view in application ,when i press next to go automatically to the next image from picture folder.Hope you understand.Thank you."},{"owner":{"account_id":1540423,"reputation":1062,"user_id":1435234,"display_name":"Kamran Amini"},"score":0,"creation_date":1338901353,"post_id":10897394,"comment_id":14206818,"body_markdown":"I try to understand ;) I think there is no library or framework which does that for you. I mean you have to write it yourself. Even you want to use a ready component which can load the next image for you, some one has written this phase.","body":"I try to understand ;) I think there is no library or framework which does that for you. I mean you have to write it yourself. Even you want to use a ready component which can load the next image for you, some one has written this phase."},{"owner":{"account_id":6173227,"reputation":154,"user_id":4810942,"display_name":"digwig"},"score":1,"creation_date":1433614296,"post_id":10897394,"comment_id":49431770,"body_markdown":"This answer was useless, unbelievable it got 2 upvotes.","body":"This answer was useless, unbelievable it got 2 upvotes."}],"tags":[],"owner":{"account_id":1540423,"reputation":1062,"user_id":1435234,"display_name":"Kamran Amini"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338899649,"creation_date":1338899649,"answer_id":10897394,"question_id":10897332,"body_markdown":"You have to enumerate images in the directory you are browsing in. When the user selects the file, you should keep a list of all images from that directory in order to retrieve them when user click the next button. As well you can get the file list whenever the user clicks the next button.","title":"Java - How to get Next Image By Button press","body":"<p>You have to enumerate images in the directory you are browsing in. When the user selects the file, you should keep a list of all images from that directory in order to retrieve them when user click the next button. As well you can get the file list whenever the user clicks the next button.</p>\n"},{"comments":[{"owner":{"account_id":1542883,"reputation":91,"user_id":1437095,"accept_rate":60,"display_name":"Teo Roxy"},"score":0,"creation_date":1338900837,"post_id":10897396,"comment_id":14206552,"body_markdown":"I sounds kind of complicated since i&#39;m pretty new to netbeans and java.If you can guide me somehow step by step i will be very grateful.Thank You.","body":"I sounds kind of complicated since i&#39;m pretty new to netbeans and java.If you can guide me somehow step by step i will be very grateful.Thank You."},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1338901441,"post_id":10897396,"comment_id":14206867,"body_markdown":"@TeoRoxy: I have provided a step by step guide. You should be able to find plenty of tutorials online to do what I have said there for guidance.","body":"@TeoRoxy: I have provided a step by step guide. You should be able to find plenty of tutorials online to do what I have said there for guidance."},{"owner":{"account_id":6173227,"reputation":154,"user_id":4810942,"display_name":"digwig"},"score":0,"creation_date":1433614202,"post_id":10897396,"comment_id":49431740,"body_markdown":"npinti, that wasn&#39;t a step by step guide, you&#39;re answer was very unhelpful.","body":"npinti, that wasn&#39;t a step by step guide, you&#39;re answer was very unhelpful."}],"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338901412,"creation_date":1338899665,"answer_id":10897396,"question_id":10897332,"body_markdown":"I am assuming that you want the next image, if possible in the same directory you chose in your first code excerpt. What you could do is that once the user has chosen the image, you could use Apache&#39;s [FileUtils][1] to get the extension of files. If the file is a `JPG`, `JPEG`, `PNG`, etc you could load it&#39;s location in a List of strings. \r\n\r\nThis will give you a list of picture paths. You could then use the buttons to traverse the list. Once the button is pressed, you move to the next item, load the image and render it.\r\n\r\nEDIT: This is how I would go about it step by step:\r\n\r\n 1. Create a global variable of type List&lt;String&gt;.\r\n 2. Create a global variable which will act as a counter;\r\n 3. In your `jButton1ActionPerformed` method:\r\n    -  Get the parent directory of the file that the user has chosen;\r\n    -  Use Apache&#39;s `FileUtil` class to get the extension of the file names. If the file name is an image, such as `PNG`, `JPG`, etc, add it (the path of that file) to your list.\r\n 4. In you `jButton2ActionPerformed`, increment the counter (if the counter is not smaller than the size of your list, re-initialize it to 0, so as to avoid `OutOfBoundsExceptions`) and load the the file denoted by the counter using similar logic to your `jButton1ActionPerformed` method.\r\n\r\n  [1]: http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html","title":"Java - How to get Next Image By Button press","body":"<p>I am assuming that you want the next image, if possible in the same directory you chose in your first code excerpt. What you could do is that once the user has chosen the image, you could use Apache's <a href=\"http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html\" rel=\"nofollow\">FileUtils</a> to get the extension of files. If the file is a <code>JPG</code>, <code>JPEG</code>, <code>PNG</code>, etc you could load it's location in a List of strings. </p>\n\n<p>This will give you a list of picture paths. You could then use the buttons to traverse the list. Once the button is pressed, you move to the next item, load the image and render it.</p>\n\n<p>EDIT: This is how I would go about it step by step:</p>\n\n<ol>\n<li>Create a global variable of type List.</li>\n<li>Create a global variable which will act as a counter;</li>\n<li>In your <code>jButton1ActionPerformed</code> method:\n<ul>\n<li>Get the parent directory of the file that the user has chosen;</li>\n<li>Use Apache's <code>FileUtil</code> class to get the extension of the file names. If the file name is an image, such as <code>PNG</code>, <code>JPG</code>, etc, add it (the path of that file) to your list.</li>\n</ul></li>\n<li>In you <code>jButton2ActionPerformed</code>, increment the counter (if the counter is not smaller than the size of your list, re-initialize it to 0, so as to avoid <code>OutOfBoundsExceptions</code>) and load the the file denoted by the counter using similar logic to your <code>jButton1ActionPerformed</code> method.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338899719,"creation_date":1338899719,"answer_id":10897409,"question_id":10897332,"body_markdown":"- Get the parent file if the current image (`File.getParent()`). \r\n- Use one of the `File.list..()` methods to get the image files.\r\n- Sort them into some order that means &#39;next&#39; to the user.\r\n- Iterate that connection until you find the current `File` then display the next one after that.","title":"Java - How to get Next Image By Button press","body":"<ul>\n<li>Get the parent file if the current image (<code>File.getParent()</code>). </li>\n<li>Use one of the <code>File.list..()</code> methods to get the image files.</li>\n<li>Sort them into some order that means 'next' to the user.</li>\n<li>Iterate that connection until you find the current <code>File</code> then display the next one after that.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1542883,"reputation":91,"user_id":1437095,"accept_rate":60,"display_name":"Teo Roxy"},"score":0,"creation_date":1338903702,"post_id":10897600,"comment_id":14207861,"body_markdown":"I&#39;ve tried using your code but i get some errors.For example at:","body":"I&#39;ve tried using your code but i get some errors.For example at:"}],"tags":[],"owner":{"account_id":242731,"reputation":951,"user_id":514457,"accept_rate":50,"display_name":"Dieter Rehbein"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338900504,"creation_date":1338900504,"answer_id":10897600,"question_id":10897332,"body_markdown":"maybe something like this:\r\n\r\n    private File allFiles;\r\n    private int currentIndex;\r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n\r\n        JFileChooser fileChooser = new JFileChooser();\r\n        int result = fileChooser.showOpenDialog(null);\r\n        if ( result == JFileChooser.APPROVE_OPTION ){\r\n                currentFile = fileChooser.getSelectedFile();\r\n                String Ruta = currentFile.getAbsolutePath();\r\n                jTextField1.setText(Ruta);\r\n                allFiles = currentFile.getParent().listFiles(); // maybe you need a filter to include image files only....\r\n                \r\n                currentIndex = indexOf(allFiles, currentFile);\r\n                \r\n               Icon icon = new ImageIcon(Ruta);\r\n                    jLabel2.setIcon(icon);\r\n                    JOptionPane.showMessageDialog(this,&quot;You chose to open this file: &quot; + fileChooser.getSelectedFile().getName());  \r\n        }\r\n}\r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\r\n        if (currentIndex+1 &lt; allFiles.length) {\r\n            jtextField1.setText(allFiles[++currentIndex]);\r\n        }\r\n    }\r\n\r\n    private int indexOf(File[] files, File f) {\r\n        for (int i=0; i+1 &lt; files.length; i++)  {\r\n           if (files[i].equals(f)) {\r\n              return i;\r\n           } \r\n        }\r\n        return -1;\r\n    }\r\n","title":"Java - How to get Next Image By Button press","body":"<p>maybe something like this:</p>\n\n<pre><code>private File allFiles;\nprivate int currentIndex;\n\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n\n    JFileChooser fileChooser = new JFileChooser();\n    int result = fileChooser.showOpenDialog(null);\n    if ( result == JFileChooser.APPROVE_OPTION ){\n            currentFile = fileChooser.getSelectedFile();\n            String Ruta = currentFile.getAbsolutePath();\n            jTextField1.setText(Ruta);\n            allFiles = currentFile.getParent().listFiles(); // maybe you need a filter to include image files only....\n\n            currentIndex = indexOf(allFiles, currentFile);\n\n           Icon icon = new ImageIcon(Ruta);\n                jLabel2.setIcon(icon);\n                JOptionPane.showMessageDialog(this,\"You chose to open this file: \" + fileChooser.getSelectedFile().getName());  \n    }\n</code></pre>\n\n<p>}</p>\n\n<pre><code>private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\n    if (currentIndex+1 &lt; allFiles.length) {\n        jtextField1.setText(allFiles[++currentIndex]);\n    }\n}\n\nprivate int indexOf(File[] files, File f) {\n    for (int i=0; i+1 &lt; files.length; i++)  {\n       if (files[i].equals(f)) {\n          return i;\n       } \n    }\n    return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":1542883,"reputation":91,"user_id":1437095,"accept_rate":60,"display_name":"Teo Roxy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1685995983,"creation_date":1338899394,"question_id":10897332,"body_markdown":" I&#39;ve managed to add an image into a JPanel in netbeans and display it.I wonder how to get to the next one,by pressing a button.\r\n\r\nI&#39;ve added the image using this code:\r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent  evt){                                         \r\n        // TODO add your handling code here:\r\n        JFileChooser fileChooser = new JFileChooser();\r\n        int result = fileChooser.showOpenDialog(null);\r\n        if ( result == JFileChooser.APPROVE_OPTION ){\r\n             String Ruta = fileChooser.getSelectedFile().getAbsolutePath();\r\n             jTextField1.setText(Ruta);\r\n             Icon icon = new ImageIcon(Ruta);\r\n             jLabel2.setIcon(icon);\r\n             JOptionPane.showMessageDialog(this,&quot;You chose to open this file: &quot; + \r\n                        fileChooser.getSelectedFile().getName());  \r\n        } \r\n    }\r\n\r\n\r\nAnd when i press a button called &quot;jButton2&quot; to get the next image,without manually selecting it again from folder.\r\n\r\nFor example:\r\n\r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt){                                         \r\n         // TODO add your handling code here:       \r\n    } \r\n                          ","title":"Java - How to get Next Image By Button press","body":"<p>I've managed to add an image into a JPanel in netbeans and display it.I wonder how to get to the next one,by pressing a button.</p>\n<p>I've added the image using this code:</p>\n<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent  evt){                                         \n    // TODO add your handling code here:\n    JFileChooser fileChooser = new JFileChooser();\n    int result = fileChooser.showOpenDialog(null);\n    if ( result == JFileChooser.APPROVE_OPTION ){\n         String Ruta = fileChooser.getSelectedFile().getAbsolutePath();\n         jTextField1.setText(Ruta);\n         Icon icon = new ImageIcon(Ruta);\n         jLabel2.setIcon(icon);\n         JOptionPane.showMessageDialog(this,&quot;You chose to open this file: &quot; + \n                    fileChooser.getSelectedFile().getName());  \n    } \n}\n</code></pre>\n<p>And when i press a button called &quot;jButton2&quot; to get the next image,without manually selecting it again from folder.</p>\n<p>For example:</p>\n<pre><code>private void jButton2ActionPerformed(java.awt.event.ActionEvent evt){                                         \n     // TODO add your handling code here:       \n} \n                      \n</code></pre>\n"},{"tags":["java","while-loop","file-io","java.util.scanner"],"answers":[{"comments":[{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1460327608,"post_id":36536229,"comment_id":60676240,"body_markdown":"Please just vote to close as typo or select one of the hundreds of duplicates.","body":"Please just vote to close as typo or select one of the hundreds of duplicates."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1460326994,"creation_date":1460326994,"answer_id":36536229,"question_id":36536211,"body_markdown":"&gt;  this is problem because people aren&#39;t using Scanner.next() to move the pointer but I believe that I am doing that\r\n\r\nYou would be using `Scanner.next()`, except the `;` terminates the loop body. Remove it. Change\r\n\r\n    while(fileReader.hasNext());\r\n    {\r\n        currentWord = fileReader.next();\r\n        stringArrList.add(currentWord);\r\n    }\r\n\r\nto\r\n\r\n    while(fileReader.hasNext()) // &lt;-- no semicolon\r\n    {\r\n        currentWord = fileReader.next();\r\n        stringArrList.add(currentWord);\r\n    }","title":"Why am I getting an infinite loop when I use Scanner.hasNext() in a while loop?","body":"<blockquote>\n  <p>this is problem because people aren't using Scanner.next() to move the pointer but I believe that I am doing that</p>\n</blockquote>\n\n<p>You would be using <code>Scanner.next()</code>, except the <code>;</code> terminates the loop body. Remove it. Change</p>\n\n<pre><code>while(fileReader.hasNext());\n{\n    currentWord = fileReader.next();\n    stringArrList.add(currentWord);\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>while(fileReader.hasNext()) // &lt;-- no semicolon\n{\n    currentWord = fileReader.next();\n    stringArrList.add(currentWord);\n}\n</code></pre>\n"}],"owner":{"account_id":8221150,"reputation":1,"user_id":6185612,"display_name":"Jason Smith"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1460330163,"answer_count":1,"score":-2,"last_activity_date":1685995937,"creation_date":1460326900,"question_id":36536211,"body_markdown":"I am new to Java. I am trying to iterate through a file and write each string into an ArrayList. To do this I have code that looks like this:\r\n\r\n    public static void main(String[]args)throws IOException\r\n\t{\r\n\t\tFile customerData = new File(&quot;accountData.txt&quot;);\r\n\t\tScanner fileReader = new Scanner(customerData);\r\n\t\tArrayList&lt;String&gt; stringArrList = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\tString currentWord = &quot;&quot;;\r\n\t\tSystem.out.println(&quot;About to enter while loop&quot;);\t\r\n\t\t\t\r\n\t\twhile(fileReader.hasNext());\r\n\t\t{\r\n\t\t\tcurrentWord = fileReader.next();\r\n\t\t\tstringArrList.add(currentWord);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;We have exited the while loop&quot;);\r\n    }\r\nHowever, this code gets stuck in an infinite loop for some reason. Even if I put a print statment as the first line in the while block it doesn&#39;t execute. \r\n\r\nThe accountData.txt file is arranged like so:\r\n\r\n    String String String String String\r\n    String String String String String\r\n    ...\r\nI&#39;ve read all over and read that often times this is problem because people aren&#39;t using Scanner.next() to move the pointer but I believe that I am doing that. I have no idea what is going wrong.\r\n\r\nThanks for the help!","title":"Why am I getting an infinite loop when I use Scanner.hasNext() in a while loop?","body":"<p>I am new to Java. I am trying to iterate through a file and write each string into an ArrayList. To do this I have code that looks like this:</p>\n\n<pre><code>public static void main(String[]args)throws IOException\n{\n    File customerData = new File(\"accountData.txt\");\n    Scanner fileReader = new Scanner(customerData);\n    ArrayList&lt;String&gt; stringArrList = new ArrayList&lt;String&gt;();\n\n    String currentWord = \"\";\n    System.out.println(\"About to enter while loop\");    \n\n    while(fileReader.hasNext());\n    {\n        currentWord = fileReader.next();\n        stringArrList.add(currentWord);\n    }\n    System.out.println(\"We have exited the while loop\");\n}\n</code></pre>\n\n<p>However, this code gets stuck in an infinite loop for some reason. Even if I put a print statment as the first line in the while block it doesn't execute. </p>\n\n<p>The accountData.txt file is arranged like so:</p>\n\n<pre><code>String String String String String\nString String String String String\n...\n</code></pre>\n\n<p>I've read all over and read that often times this is problem because people aren't using Scanner.next() to move the pointer but I believe that I am doing that. I have no idea what is going wrong.</p>\n\n<p>Thanks for the help!</p>\n"},{"tags":["python","java","tensorflow","intellij-idea","java-11"],"comments":[{"owner":{"account_id":6014413,"reputation":21,"user_id":4723798,"display_name":"furkan brgl"},"score":0,"creation_date":1686155213,"post_id":76409665,"comment_id":134761430,"body_markdown":"So if anyone wonders about the answer, apparently running TensorFlow on an m1 Mac is a lit tricky because of the architecture, so I did not want to mess with it and just switched to Windows, and it runs perfectly with no additional effort.","body":"So if anyone wonders about the answer, apparently running TensorFlow on an m1 Mac is a lit tricky because of the architecture, so I did not want to mess with it and just switched to Windows, and it runs perfectly with no additional effort."}],"owner":{"account_id":6014413,"reputation":21,"user_id":4723798,"display_name":"furkan brgl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685995517,"creation_date":1685995517,"question_id":76409665,"body_markdown":"I am using Intellij and JAVA 11  to run \r\n\r\n    System.out.println(&quot;Hello TensorFlow &quot; + TensorFlow.version());\r\n\r\nDependencies \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.tensorflow&lt;/groupId&gt;\r\n        &lt;artifactId&gt;libtensorflow&lt;/artifactId&gt;\r\n        &lt;version&gt;1.15.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.tensorflow&lt;/groupId&gt;\r\n        &lt;artifactId&gt;libtensorflow_jni&lt;/artifactId&gt;\r\n        &lt;version&gt;1.15.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nError \r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Cannot find TensorFlow native library for OS: darwin, architecture: aarch64. See https://github.com/tensorflow/tensorflow/tree/master/tensorflow/java/README.md for possible solutions (such as building the library from source). Additional information on attempts to find the native library can be obtained by adding org.tensorflow.NativeLibrary.DEBUG=1 to the system properties of the JVM.\r\n    \tat org.tensorflow.NativeLibrary.load(NativeLibrary.java:77)\r\n    \tat org.tensorflow.TensorFlow.init(TensorFlow.java:66)\r\n    \tat org.tensorflow.TensorFlow.&lt;clinit&gt;(TensorFlow.java:70)\r\n    \tat org.tensorflowtest2.App.main(App.java:12)\r\n\r\nHave not figure it out the problem. \r\n\r\nAlso Mac Terminal \r\n\r\n    % python\r\n    Python 3.10.9 (main, Mar  1 2023, 12:20:14) [Clang 14.0.6 ] on darwin\r\n\r\n    print(tf.__version__)\r\n    2.12.0\r\n\r\n","title":"Tensorflow native library issiue on m1 MAC","body":"<p>I am using Intellij and JAVA 11  to run</p>\n<pre><code>System.out.println(&quot;Hello TensorFlow &quot; + TensorFlow.version());\n</code></pre>\n<p>Dependencies</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.tensorflow&lt;/groupId&gt;\n    &lt;artifactId&gt;libtensorflow&lt;/artifactId&gt;\n    &lt;version&gt;1.15.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.tensorflow&lt;/groupId&gt;\n    &lt;artifactId&gt;libtensorflow_jni&lt;/artifactId&gt;\n    &lt;version&gt;1.15.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Cannot find TensorFlow native library for OS: darwin, architecture: aarch64. See https://github.com/tensorflow/tensorflow/tree/master/tensorflow/java/README.md for possible solutions (such as building the library from source). Additional information on attempts to find the native library can be obtained by adding org.tensorflow.NativeLibrary.DEBUG=1 to the system properties of the JVM.\n    at org.tensorflow.NativeLibrary.load(NativeLibrary.java:77)\n    at org.tensorflow.TensorFlow.init(TensorFlow.java:66)\n    at org.tensorflow.TensorFlow.&lt;clinit&gt;(TensorFlow.java:70)\n    at org.tensorflowtest2.App.main(App.java:12)\n</code></pre>\n<p>Have not figure it out the problem.</p>\n<p>Also Mac Terminal</p>\n<pre><code>% python\nPython 3.10.9 (main, Mar  1 2023, 12:20:14) [Clang 14.0.6 ] on darwin\n\nprint(tf.__version__)\n2.12.0\n</code></pre>\n"},{"tags":["java","groovy","gradle","spring-boot","spock"],"comments":[{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1686008418,"post_id":24405727,"comment_id":134737690,"body_markdown":"I confidently give the benefit of the doubt that indeed, &quot;with Spock the application doesn&#39;t start&quot;.  It would be slightly helpful to update here, what detail it is exactly, that reflects that the app didn&#39;t start:  Does something initialize null?  Is there some expected logging (maybe by Spring) or output, that does not print by the end of the test run?","body":"I confidently give the benefit of the doubt that indeed, &quot;with Spock the application doesn&#39;t start&quot;.  It would be slightly helpful to update here, what detail it is exactly, that reflects that the app didn&#39;t start:  Does something initialize null?  Is there some expected logging (maybe by Spring) or output, that does not print by the end of the test run?"}],"answers":[{"comments":[{"owner":{"account_id":300087,"reputation":3815,"user_id":607038,"accept_rate":64,"display_name":"kuceram"},"score":0,"creation_date":1403714978,"post_id":24412145,"comment_id":37769089,"body_markdown":"Interesting, am pretty sure I was trying this before and it didn&#39;t work... but anyway, thanks!","body":"Interesting, am pretty sure I was trying this before and it didn&#39;t work... but anyway, thanks!"},{"owner":{"account_id":1397052,"reputation":4689,"user_id":1326627,"accept_rate":72,"display_name":"Luis Mu&#241;iz"},"score":0,"creation_date":1404983541,"post_id":24412145,"comment_id":38251388,"body_markdown":"Is there a flag to provide the VM when launching integration tests? I have copied this configuration and my app is not starting. Am I right in deducing that MyServer is the class having the Configuration and EnableAutoConfiguration annotations?","body":"Is there a flag to provide the VM when launching integration tests? I have copied this configuration and my app is not starting. Am I right in deducing that MyServer is the class having the Configuration and EnableAutoConfiguration annotations?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":2,"creation_date":1404985177,"post_id":24412145,"comment_id":38252481,"body_markdown":"No flags should be necessary and your deduction about MyServer is correct. You can read more about @ContextConfiguration here: http://docs.spring.io/spring/docs/4.0.x/spring-framework-reference/htmlsingle/#integration-testing-annotations-spring. Have you got spock-spring on the classpath?","body":"No flags should be necessary and your deduction about MyServer is correct. You can read more about @ContextConfiguration here: <a href=\"http://docs.spring.io/spring/docs/4.0.x/spring-framework-reference/htmlsingle/#integration-testing-annotations-spring\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/4.0.x/spring-framework-reference/&zwnj;&#8203;&hellip;</a>. Have you got spock-spring on the classpath?"},{"owner":{"account_id":1397052,"reputation":4689,"user_id":1326627,"accept_rate":72,"display_name":"Luis Mu&#241;iz"},"score":3,"creation_date":1404986124,"post_id":24412145,"comment_id":38253077,"body_markdown":"Hi @AndyWilkinson I was just coming back to let people know that spock-spring was necessary in the classpath, and I saw your response. Thanks man!","body":"Hi @AndyWilkinson I was just coming back to let people know that spock-spring was necessary in the classpath, and I saw your response. Thanks man!"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1404986628,"post_id":24412145,"comment_id":38253398,"body_markdown":"I&#39;ve updated my answer to make it clearer. I&#39;ve also opened an issue (https://github.com/spring-projects/spring-boot/issues/1234) to update the relevant section of the Spring Boot documentation (http://docs.spring.io/spring-boot/docs/1.1.4.RELEASE/reference/htmlsingle/#boot-features-testing-spring-boot-applications-with-spock)","body":"I&#39;ve updated my answer to make it clearer. I&#39;ve also opened an issue (<a href=\"https://github.com/spring-projects/spring-boot/issues/1234\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/1234</a>) to update the relevant section of the Spring Boot documentation (<a href=\"http://docs.spring.io/spring-boot/docs/1.1.4.RELEASE/reference/htmlsingle/#boot-features-testing-spring-boot-applications-with-spock\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.1.4.RELEASE/reference/&hellip;</a>)"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":5,"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1404986555,"creation_date":1403708297,"answer_id":24412145,"question_id":24405727,"body_markdown":"The problem is that Spock Spring is looking for Spring&#39;s `@ContextConfiguration` annotation and doesn&#39;t manage to find it. Strictly speaking `MyTestSpec` _is_ annotated with `@ContextConfiguration` as it&#39;s a meta-annotation on `@SpringApplicationConfiguration` but Spock Spring doesn&#39;t consider meta-annotations as part of its search. There&#39;s an [issue](https://code.google.com/p/spock/issues/detail?id=349) to address this limitation. In the meantime you can work around it.\r\n\r\nAll that `@SpringApplicationConfiguration` is doing  is customising `@ContextConfiguration` with a Boot-specific context loader. This means that you can achieve the same effect by using an appropriately configured `@ContextConfiguration` annotation instead:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @ContextConfiguration(loader = SpringApplicationContextLoader.class, classes = MyServer.class)\r\n    @WebAppConfiguration\r\n    @IntegrationTest\r\n    class MyTestSpec extends Specification {\r\n        …\r\n    }\r\n\r\n**Update:** Just to make sure it&#39;s clear (and based on the comments, it wasn&#39;t), for this to work you need to have `org.spockframework:spock-spring` on the classpath.","title":"How to start Spring Boot app in Spock Integration Test","body":"<p>The problem is that Spock Spring is looking for Spring's <code>@ContextConfiguration</code> annotation and doesn't manage to find it. Strictly speaking <code>MyTestSpec</code> <em>is</em> annotated with <code>@ContextConfiguration</code> as it's a meta-annotation on <code>@SpringApplicationConfiguration</code> but Spock Spring doesn't consider meta-annotations as part of its search. There's an <a href=\"https://code.google.com/p/spock/issues/detail?id=349\" rel=\"noreferrer\">issue</a> to address this limitation. In the meantime you can work around it.</p>\n\n<p>All that <code>@SpringApplicationConfiguration</code> is doing  is customising <code>@ContextConfiguration</code> with a Boot-specific context loader. This means that you can achieve the same effect by using an appropriately configured <code>@ContextConfiguration</code> annotation instead:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ContextConfiguration(loader = SpringApplicationContextLoader.class, classes = MyServer.class)\n@WebAppConfiguration\n@IntegrationTest\nclass MyTestSpec extends Specification {\n    …\n}\n</code></pre>\n\n<p><strong>Update:</strong> Just to make sure it's clear (and based on the comments, it wasn't), for this to work you need to have <code>org.spockframework:spock-spring</code> on the classpath.</p>\n"},{"tags":[],"owner":{"account_id":3079719,"reputation":777,"user_id":2608229,"display_name":"ignacio.suay"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1485194087,"creation_date":1485194087,"answer_id":41812611,"question_id":24405727,"body_markdown":"In the new Spring Boot version (1.4) instead of using:\r\n\r\n    @SpringApplicationConfiguration(classes = MyServer.class)\r\n    @WebAppConfiguration\r\n    @IntegrationTest\r\n\r\nYou could use \r\n\r\n    @SpringBootTest(classes = MyServer.class)\r\n\r\n and you will be able to start the application context and set any dependency. \r\n\r\nfor further information, please have a look to this example:\r\nhttp://ignaciosuay.com/how-to-do-integration-tests-with-spring-boot-and-spock/\r\n\r\n","title":"How to start Spring Boot app in Spock Integration Test","body":"<p>In the new Spring Boot version (1.4) instead of using:</p>\n\n<pre><code>@SpringApplicationConfiguration(classes = MyServer.class)\n@WebAppConfiguration\n@IntegrationTest\n</code></pre>\n\n<p>You could use </p>\n\n<pre><code>@SpringBootTest(classes = MyServer.class)\n</code></pre>\n\n<p>and you will be able to start the application context and set any dependency. </p>\n\n<p>for further information, please have a look to this example:\n<a href=\"http://ignaciosuay.com/how-to-do-integration-tests-with-spring-boot-and-spock/\" rel=\"noreferrer\">http://ignaciosuay.com/how-to-do-integration-tests-with-spring-boot-and-spock/</a></p>\n"},{"comments":[{"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"score":0,"creation_date":1506595794,"post_id":43480494,"comment_id":79889343,"body_markdown":"TestConfiguration can be used to define additional beans or\n customizations for a test, mocking is only one of many use cases. You can  simply use spring @MockBean to mock using Mockito....","body":"TestConfiguration can be used to define additional beans or  customizations for a test, mocking is only one of many use cases. You can  simply use spring @MockBean to mock using Mockito...."},{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":0,"creation_date":1506611275,"post_id":43480494,"comment_id":79900032,"body_markdown":"@MariuszS This question is about Spock. It would be considered a pretty bad code smell to use Mockito in conjunction with Spock. Spock has mocking build into it.  At the time of this answer, `@MockBean` didn&#39;t support Spock Mocks.","body":"@MariuszS This question is about Spock. It would be considered a pretty bad code smell to use Mockito in conjunction with Spock. Spock has mocking build into it.  At the time of this answer, <code>@MockBean</code> didn&#39;t support Spock Mocks."}],"tags":[],"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1537892715,"creation_date":1492543089,"answer_id":43480494,"question_id":24405727,"body_markdown":"Ideally you&#39;ll use Spring Boot 1.4+ and Spock 1.1+. \r\n\r\nSpring Boot added a lot of useful annotations.  In addition to that `@SpringBootTest` that @ignacio.suay mentioned, they also added `@TestConfiguration` which is useful if you want to use Spring mocks in your integration tests instead of Mockito.\r\n\r\nIf you combine `@TestConfiguration` with the new Spock `DetachedMockFactory`, then you have all of the components you&#39;ll need to inject Spock Mocks into your Spring context.\r\n\r\nI have a blog post with sample code here: [Spring Integration Testing with Spock Mocks][1].\r\n\r\nThe quick and dirty is this\r\n\r\n    @SpringBootTest\r\n    class MyIntegrationTest extends Specification {\r\n     \r\n      @Autowired ExternalRankingService externalRankingServiceMock\r\n     \r\n      def &quot;GetRank&quot;() {\r\n        when:\r\n        classUnderTest.getRankFor(&#39;Bob&#39;)\r\n     \r\n        then:\r\n        1 * externalRankingServiceMock.fetchRank(&#39;Bob&#39;) &gt;&gt; 5\r\n    \r\n      }\r\n    \r\n      @TestConfiguration\r\n      static class Config {\r\n        private DetachedMockFactory factory = new DetachedMockFactory()\r\n     \r\n        @Bean\r\n        ExternalRankingService externalRankingService() {\r\n          factory.Mock(ExternalRankingService)\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n**UPDATE**\r\nThere is [a PR][2] to get more native support in Spock for injecting Spock Mocks into the Spring context for integration testing. The new `@SpringBean` and `@SpringSpy` would be like the `@MockBean` and `@SpyBean` annotations\r\n\r\n**UPDATE**\r\nSpock 1.2 should now include these changes.  Until the documentation is updated, here is a [preview of the Spock 1.2 Annotations for Spring Integration Testing][3] .\r\n\r\n\r\n  [1]: https://objectpartners.com/2017/04/18/spring-integration-testing-with-spock-mocks/\r\n  [2]: https://github.com/spockframework/spock/pull/796\r\n  [3]: https://objectpartners.com/2018/06/14/spock-1-2-annotations-for-spring-integration-testing/","title":"How to start Spring Boot app in Spock Integration Test","body":"<p>Ideally you'll use Spring Boot 1.4+ and Spock 1.1+. </p>\n\n<p>Spring Boot added a lot of useful annotations.  In addition to that <code>@SpringBootTest</code> that @ignacio.suay mentioned, they also added <code>@TestConfiguration</code> which is useful if you want to use Spring mocks in your integration tests instead of Mockito.</p>\n\n<p>If you combine <code>@TestConfiguration</code> with the new Spock <code>DetachedMockFactory</code>, then you have all of the components you'll need to inject Spock Mocks into your Spring context.</p>\n\n<p>I have a blog post with sample code here: <a href=\"https://objectpartners.com/2017/04/18/spring-integration-testing-with-spock-mocks/\" rel=\"nofollow noreferrer\">Spring Integration Testing with Spock Mocks</a>.</p>\n\n<p>The quick and dirty is this</p>\n\n<pre><code>@SpringBootTest\nclass MyIntegrationTest extends Specification {\n\n  @Autowired ExternalRankingService externalRankingServiceMock\n\n  def \"GetRank\"() {\n    when:\n    classUnderTest.getRankFor('Bob')\n\n    then:\n    1 * externalRankingServiceMock.fetchRank('Bob') &gt;&gt; 5\n\n  }\n\n  @TestConfiguration\n  static class Config {\n    private DetachedMockFactory factory = new DetachedMockFactory()\n\n    @Bean\n    ExternalRankingService externalRankingService() {\n      factory.Mock(ExternalRankingService)\n    }\n  }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong>\nThere is <a href=\"https://github.com/spockframework/spock/pull/796\" rel=\"nofollow noreferrer\">a PR</a> to get more native support in Spock for injecting Spock Mocks into the Spring context for integration testing. The new <code>@SpringBean</code> and <code>@SpringSpy</code> would be like the <code>@MockBean</code> and <code>@SpyBean</code> annotations</p>\n\n<p><strong>UPDATE</strong>\nSpock 1.2 should now include these changes.  Until the documentation is updated, here is a <a href=\"https://objectpartners.com/2018/06/14/spock-1-2-annotations-for-spring-integration-testing/\" rel=\"nofollow noreferrer\">preview of the Spock 1.2 Annotations for Spring Integration Testing</a> .</p>\n"},{"tags":[],"owner":{"account_id":2156100,"reputation":11279,"user_id":1911306,"accept_rate":83,"display_name":"Marcin Szymczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497855226,"creation_date":1497855226,"answer_id":44624014,"question_id":24405727,"body_markdown":"Here is a setup which starts up boot applicaiton and then runs spock tests:\r\n    \r\n    class HelloControllerSpec extends Specification {\r\n\r\n    @Shared\r\n    @AutoCleanup\r\n    ConfigurableApplicationContext context\r\n\r\n    void setupSpec() {\r\n        Future future = Executors\r\n                .newSingleThreadExecutor().submit(\r\n                new Callable() {\r\n                    @Override\r\n                    public ConfigurableApplicationContext call() throws Exception {\r\n                        return (ConfigurableApplicationContext) SpringApplication\r\n                                .run(Application.class)\r\n                    }\r\n                })\r\n        context = future.get(60, TimeUnit.SECONDS)\r\n    }\r\n\r\n    void &quot;should return pong from /ping&quot;() {\r\n        when:\r\n        ResponseEntity entity = new RestTemplate().getForEntity(&quot;http://localhost:8080/ping&quot;, String.class)\r\n\r\n        then:\r\n        entity.statusCode == HttpStatus.OK\r\n        entity.body == &#39;pong&#39;\r\n    }\r\n    }\r\n\r\nAnd remember to add dependencies to spock and groovy inside `build.gradle`\r\n\r\n    dependencies {\r\n        // other dependencies\r\n        testCompile &quot;org.codehaus.groovy:groovy-all:2.2.0&quot;\r\n        testCompile &quot;org.spockframework:spock-core:0.7-groovy-2.0&quot;\r\n    }","title":"How to start Spring Boot app in Spock Integration Test","body":"<p>Here is a setup which starts up boot applicaiton and then runs spock tests:</p>\n\n<pre><code>class HelloControllerSpec extends Specification {\n\n@Shared\n@AutoCleanup\nConfigurableApplicationContext context\n\nvoid setupSpec() {\n    Future future = Executors\n            .newSingleThreadExecutor().submit(\n            new Callable() {\n                @Override\n                public ConfigurableApplicationContext call() throws Exception {\n                    return (ConfigurableApplicationContext) SpringApplication\n                            .run(Application.class)\n                }\n            })\n    context = future.get(60, TimeUnit.SECONDS)\n}\n\nvoid \"should return pong from /ping\"() {\n    when:\n    ResponseEntity entity = new RestTemplate().getForEntity(\"http://localhost:8080/ping\", String.class)\n\n    then:\n    entity.statusCode == HttpStatus.OK\n    entity.body == 'pong'\n}\n}\n</code></pre>\n\n<p>And remember to add dependencies to spock and groovy inside <code>build.gradle</code></p>\n\n<pre><code>dependencies {\n    // other dependencies\n    testCompile \"org.codehaus.groovy:groovy-all:2.2.0\"\n    testCompile \"org.spockframework:spock-core:0.7-groovy-2.0\"\n}\n</code></pre>\n"}],"owner":{"account_id":300087,"reputation":3815,"user_id":607038,"accept_rate":64,"display_name":"kuceram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39842,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":24412145,"answer_count":4,"score":42,"last_activity_date":1685995489,"creation_date":1403690689,"question_id":24405727,"body_markdown":"What is the best way to run an integration test (e.g., [`@IntegrationTest`][1]) with Spock? I would like to bootstrap the whole Spring Boot application and execute some HTTP calls to test the whole functionality.\r\n\r\n*Spring Boot app starts in this working JUnit test (first the app runs and then the tests execute)*:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = MyServer.class)\r\n    @WebAppConfiguration\r\n    @IntegrationTest\r\n    class MyTest {\r\n       RestTemplate template = new TestRestTemplate();\r\n    \r\n       @Test\r\n       public void testDataRoutingWebSocketToHttp() {\r\n          def a = template.getForEntity(&quot;http://localhost:8080&quot;, String.class)\r\n          println a\r\n       }\r\n    }\r\n\r\n**But with Spock the application doesn&#39;t start (how can I get it to start?):**\r\n\r\n    @SpringApplicationConfiguration(classes = MyServer.class)\r\n    @WebAppConfiguration\r\n    @IntegrationTest\r\n    class MyTestSpec extends Specification {\r\n    \r\n       RestTemplate template = new TestRestTemplate();\r\n    \r\n       def &quot;Do my test&quot;() {\r\n          setup:\r\n          def a = template.getForEntity(&quot;http://localhost:8080&quot;, String.class)\r\n    \r\n          expect:\r\n          println a\r\n       }\r\n    }\r\n\r\nFor Spock, of course, I have specified the proper dependencies in my Gradle build file:\r\n\r\n    ...\r\n    dependencies {\r\n       testCompile &#39;org.spockframework:spock-core:0.7-groovy-2.0&#39;\r\n       testCompile &#39;org.spockframework:spock-spring:0.7-groovy-2.0&#39;\r\n    }\r\n    ...\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/1.1.0.BUILD-SNAPSHOT/api/org/springframework/boot/test/IntegrationTest.html","title":"How to start Spring Boot app in Spock Integration Test","body":"<p>What is the best way to run an integration test (e.g., <a href=\"http://docs.spring.io/spring-boot/docs/1.1.0.BUILD-SNAPSHOT/api/org/springframework/boot/test/IntegrationTest.html\" rel=\"nofollow noreferrer\"><code>@IntegrationTest</code></a>) with Spock? I would like to bootstrap the whole Spring Boot application and execute some HTTP calls to test the whole functionality.</p>\n<p><em>Spring Boot app starts in this working JUnit test (first the app runs and then the tests execute)</em>:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = MyServer.class)\n@WebAppConfiguration\n@IntegrationTest\nclass MyTest {\n   RestTemplate template = new TestRestTemplate();\n\n   @Test\n   public void testDataRoutingWebSocketToHttp() {\n      def a = template.getForEntity(&quot;http://localhost:8080&quot;, String.class)\n      println a\n   }\n}\n</code></pre>\n<p><strong>But with Spock the application doesn't start (how can I get it to start?):</strong></p>\n<pre><code>@SpringApplicationConfiguration(classes = MyServer.class)\n@WebAppConfiguration\n@IntegrationTest\nclass MyTestSpec extends Specification {\n\n   RestTemplate template = new TestRestTemplate();\n\n   def &quot;Do my test&quot;() {\n      setup:\n      def a = template.getForEntity(&quot;http://localhost:8080&quot;, String.class)\n\n      expect:\n      println a\n   }\n}\n</code></pre>\n<p>For Spock, of course, I have specified the proper dependencies in my Gradle build file:</p>\n<pre><code>...\ndependencies {\n   testCompile 'org.spockframework:spock-core:0.7-groovy-2.0'\n   testCompile 'org.spockframework:spock-spring:0.7-groovy-2.0'\n}\n...\n</code></pre>\n"},{"tags":["java","logging","slf4j","apache-commons-logging"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1480559728,"post_id":40901546,"comment_id":69016962,"body_markdown":"The SLF4J `Logger` class has [methods](http://www.slf4j.org/api/org/slf4j/Logger.html#method_summary) that take the replacement arguments, e.g. `debug(String format, Object... arguments)`. The Commons Logging `Log` class has no such [methods](https://commons.apache.org/proper/commons-logging/apidocs/org/apache/commons/logging/Log.html#method_summary). Without a method for supplying the values, how did you envision it would work? It doesn&#39;t. It can&#39;t. Down-voting for lack of research, since a simple look at the API would have given you the answer.","body":"The SLF4J <code>Logger</code> class has <a href=\"http://www.slf4j.org/api/org/slf4j/Logger.html#method_summary\" rel=\"nofollow noreferrer\">methods</a> that take the replacement arguments, e.g. <code>debug(String format, Object... arguments)</code>. The Commons Logging <code>Log</code> class has no such <a href=\"https://commons.apache.org/proper/commons-logging/apidocs/org/apache/commons/logging/Log.html#method_summary\" rel=\"nofollow noreferrer\">methods</a>. Without a method for supplying the values, how did you envision it would work? It doesn&#39;t. It can&#39;t. Down-voting for lack of research, since a simple look at the API would have given you the answer."},{"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":1,"creation_date":1480566260,"post_id":40901546,"comment_id":69018551,"body_markdown":"`since a simple look at the API would have given you the answer` - personally I thought that every **modern** logging framework supports this more or less. And lack of such functionallity is very confusing. That is the reason to ask.","body":"<code>since a simple look at the API would have given you the answer</code> - personally I thought that every <b>modern</b> logging framework supports this more or less. And lack of such functionallity is very confusing. That is the reason to ask."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1480621826,"post_id":40901546,"comment_id":69050545,"body_markdown":"Commons Logging != modern framework","body":"Commons Logging != modern framework"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685995288,"creation_date":1608287717,"answer_id":65355473,"question_id":40901546,"body_markdown":"No, it (i.e. Apache commons logging) does not support placeholders. If you need to dynamically produce a string (an expensive operation due to memory allocations), wrap the logging invocation in a condition:\r\n\r\n&gt;  Performance is often a logging concern. By examining the appropriate property, a component can avoid expensive operations (producing information to be logged).\r\n&gt;\r\n&gt; For example,\r\n&gt;\r\n&gt;     if (log.isDebugEnabled()) {\r\n&gt;         ... do something expensive ...\r\n&gt;         log.debug(theResult);\r\n&gt;     }\r\n&gt;\r\n&gt; — [&lt;https://commons.apache.org/proper/commons-logging/apidocs/org/apache/commons/logging/Log.html&gt;]\r\n ","title":"Does apache commons logging supports placeholders?","body":"<p>No, it (i.e. Apache commons logging) does not support placeholders. If you need to dynamically produce a string (an expensive operation due to memory allocations), wrap the logging invocation in a condition:</p>\n<blockquote>\n<p>Performance is often a logging concern. By examining the appropriate property, a component can avoid expensive operations (producing information to be logged).</p>\n<p>For example,</p>\n<pre><code>if (log.isDebugEnabled()) {\n    ... do something expensive ...\n    log.debug(theResult);\n}\n</code></pre>\n<p>— [<a href=\"https://commons.apache.org/proper/commons-logging/apidocs/org/apache/commons/logging/Log.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-logging/apidocs/org/apache/commons/logging/Log.html</a>]</p>\n</blockquote>\n"}],"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2052,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":1,"score":10,"last_activity_date":1685995288,"creation_date":1480558576,"question_id":40901546,"body_markdown":"[Here][1] is a user guide about `apache commons logging`, but it has no examples about placeholders. [Slf4j][2] can replace `{}` according to log level, e.g. it does not call `toString` and does not replace `{}` when log level is not enabled. Does apache commons logging supports this functionality?\r\n\r\n  [1]: https://commons.apache.org/proper/commons-logging/guide.html\r\n  [2]: http://www.slf4j.org/manual.html#typical_usage","title":"Does apache commons logging supports placeholders?","body":"<p><a href=\"https://commons.apache.org/proper/commons-logging/guide.html\" rel=\"nofollow noreferrer\">Here</a> is a user guide about <code>apache commons logging</code>, but it has no examples about placeholders. <a href=\"http://www.slf4j.org/manual.html#typical_usage\" rel=\"nofollow noreferrer\">Slf4j</a> can replace <code>{}</code> according to log level, e.g. it does not call <code>toString</code> and does not replace <code>{}</code> when log level is not enabled. Does apache commons logging supports this functionality?</p>\n"},{"tags":["java","reflection","handlerinterceptor"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1685443077,"post_id":76363685,"comment_id":134657215,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76363685/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28701230,"reputation":1,"user_id":21978372,"display_name":"near"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685440841,"creation_date":1685440841,"answer_id":76363685,"question_id":76356038,"body_markdown":"Never mind, I won&#39;t use this method anymore, seems like spring dont want annotation fields value been modified at the runtime. i use spring environment to parse dynamic placeholder to solve the problem.","title":"how to edit method annotation attributes on runtime in springboot project?","body":"<p>Never mind, I won't use this method anymore, seems like spring dont want annotation fields value been modified at the runtime. i use spring environment to parse dynamic placeholder to solve the problem.</p>\n"}],"owner":{"account_id":28701230,"reputation":1,"user_id":21978372,"display_name":"near"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685995104,"creation_date":1685351531,"question_id":76356038,"body_markdown":"How to edit the method annotation attributes on runtime in springboot project?\r\nI&#39;ve known there&#39;s a way to edit by using reflection like `invocationHandler.getClass().getDeclaredField(&quot;memberValues&quot;);` but in the newer springboot environment it doesn&#39;t work, cause the `invocationHandler` that I got is not the instance of `AnnotationInvocationHandler` but the instance of `SynthesizedMergedAnnotationInvocationHandler`. In `SynthesizedMergedAnnotationInvocationHandler` I can&#39;t find the method that let me change the value of the annotation fields on the fly.\r\n\r\nI&#39;m trying to reused the way that worked in old version just like： \r\n\r\n\r\n```\r\nInvocationHandler invocationHandler = Proxy.getInvocationHandler(rateLimit);\r\nField field = invocationHandler.getClass().getDeclaredField(&quot;memberValues&quot;);\r\nfield.setAccessible(true);\r\nMap params = (Map)field.get(invocationHandler);\r\nparams.put(&quot;fields1&quot;,xxx);\r\n```\r\n\r\nbut there&#39;s no fields called `memberValues`\r\n\r\n","title":"how to edit method annotation attributes on runtime in springboot project?","body":"<p>How to edit the method annotation attributes on runtime in springboot project?\nI've known there's a way to edit by using reflection like <code>invocationHandler.getClass().getDeclaredField(&quot;memberValues&quot;);</code> but in the newer springboot environment it doesn't work, cause the <code>invocationHandler</code> that I got is not the instance of <code>AnnotationInvocationHandler</code> but the instance of <code>SynthesizedMergedAnnotationInvocationHandler</code>. In <code>SynthesizedMergedAnnotationInvocationHandler</code> I can't find the method that let me change the value of the annotation fields on the fly.</p>\n<p>I'm trying to reused the way that worked in old version just like：</p>\n<pre><code>InvocationHandler invocationHandler = Proxy.getInvocationHandler(rateLimit);\nField field = invocationHandler.getClass().getDeclaredField(&quot;memberValues&quot;);\nfield.setAccessible(true);\nMap params = (Map)field.get(invocationHandler);\nparams.put(&quot;fields1&quot;,xxx);\n</code></pre>\n<p>but there's no fields called <code>memberValues</code></p>\n"},{"tags":["java","spring-webflux","reactive-programming","reactive"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1685699188,"post_id":76388769,"comment_id":134700749,"body_markdown":"Can you provide a code sample ? What your calls look like ? Your use-case looks like it can be managed by *flatMap*. If you want the pipeline to return both results, you can : `method1.flatMap(result1 -&gt; method2(result1.pkey()).map(result2 -&gt; Tuples.of(result1, result2))`","body":"Can you provide a code sample ? What your calls look like ? Your use-case looks like it can be managed by <i>flatMap</i>. If you want the pipeline to return both results, you can : <code>method1.flatMap(result1 -&gt; method2(result1.pkey()).map(result2 -&gt; Tuples.of(result1, result2))</code>"}],"answers":[{"comments":[{"owner":{"account_id":25836931,"reputation":25,"user_id":19573182,"display_name":"Sujoy"},"score":1,"creation_date":1686045861,"post_id":76391245,"comment_id":134742211,"body_markdown":"Thans a lot @Yevhenii Semenov , it worked properly.","body":"Thans a lot @Yevhenii Semenov , it worked properly."}],"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685717715,"creation_date":1685717715,"answer_id":76391245,"question_id":76388769,"body_markdown":"You can easily do it using the `map` or `flatMap` operator, depending on what type of repository you have - reactive or not reactive.\r\n\r\nHere is examples for both cases:\r\n\r\n```java\r\npublic class YourService {\r\n    private final YourRepository repository;\r\n    private final YourReactiveRepository reactiveRepository;\r\n\r\n    void doAction() {\r\n        Mono.fromCallable(() -&gt; repository.saveToMainTable(&quot;main data&quot;))\r\n            .map(mainTableId -&gt; repository.saveToSecondaryTable(mainTableId, &quot;secondary data&quot;))\r\n            .subscribeOn(Schedulers.boundedElastic())\r\n            .subscribe();\r\n    }\r\n\r\n    void doActionWithReactiveRepository() {\r\n        reactiveRepository.saveToMainTable(&quot;main data&quot;)\r\n            .flatMap(mainTableId -&gt; reactiveRepository.saveToSecondaryTable(mainTableId, &quot;secondary data&quot;))\r\n            .subscribe();\r\n    }\r\n\r\n    interface YourRepository {\r\n        int saveToMainTable(String someData);\r\n        boolean saveToSecondaryTable(int mainTableId, String someData);\r\n    }\r\n\r\n    interface YourReactiveRepository {\r\n        Mono&lt;Integer&gt; saveToMainTable(String someData);\r\n        Mono&lt;Boolean&gt; saveToSecondaryTable(int mainTableId, String someData);\r\n    }\r\n}\r\n```\r\n\r\nYou can read more [about map here][1] and [about flatMap here][2]\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-\r\n  [2]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMap-java.util.function.Function-","title":"Call Different Method in reactive pipeline","body":"<p>You can easily do it using the <code>map</code> or <code>flatMap</code> operator, depending on what type of repository you have - reactive or not reactive.</p>\n<p>Here is examples for both cases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourService {\n    private final YourRepository repository;\n    private final YourReactiveRepository reactiveRepository;\n\n    void doAction() {\n        Mono.fromCallable(() -&gt; repository.saveToMainTable(&quot;main data&quot;))\n            .map(mainTableId -&gt; repository.saveToSecondaryTable(mainTableId, &quot;secondary data&quot;))\n            .subscribeOn(Schedulers.boundedElastic())\n            .subscribe();\n    }\n\n    void doActionWithReactiveRepository() {\n        reactiveRepository.saveToMainTable(&quot;main data&quot;)\n            .flatMap(mainTableId -&gt; reactiveRepository.saveToSecondaryTable(mainTableId, &quot;secondary data&quot;))\n            .subscribe();\n    }\n\n    interface YourRepository {\n        int saveToMainTable(String someData);\n        boolean saveToSecondaryTable(int mainTableId, String someData);\n    }\n\n    interface YourReactiveRepository {\n        Mono&lt;Integer&gt; saveToMainTable(String someData);\n        Mono&lt;Boolean&gt; saveToSecondaryTable(int mainTableId, String someData);\n    }\n}\n</code></pre>\n<p>You can read more <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">about map here</a> and <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\">about flatMap here</a></p>\n"},{"comments":[{"owner":{"account_id":25836931,"reputation":25,"user_id":19573182,"display_name":"Sujoy"},"score":0,"creation_date":1686040605,"post_id":76409604,"comment_id":134741026,"body_markdown":"my problem is not on map and flatmap level. in the call chain of two method , one method output will be the input of other method in a stream operation.","body":"my problem is not on map and flatmap level. in the call chain of two method , one method output will be the input of other method in a stream operation."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686042581,"post_id":76409604,"comment_id":134741446,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76409604/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28759342,"reputation":11,"user_id":22025617,"display_name":"migueljacuinde"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685994844,"creation_date":1685994844,"answer_id":76409604,"question_id":76388769,"body_markdown":"If you are going to be returning only one element in a new stream, you can use map but if you are going to return multiple elements, each as new streams, you can use flatmap. \r\n\r\nHere is a helpful video that is easy to understand: [map vs flatmap][1]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=CwvlS3ViGFQ","title":"Call Different Method in reactive pipeline","body":"<p>If you are going to be returning only one element in a new stream, you can use map but if you are going to return multiple elements, each as new streams, you can use flatmap.</p>\n<p>Here is a helpful video that is easy to understand: <a href=\"https://www.youtube.com/watch?v=CwvlS3ViGFQ\" rel=\"nofollow noreferrer\">map vs flatmap</a></p>\n"}],"owner":{"account_id":25836931,"reputation":25,"user_id":19573182,"display_name":"Sujoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76391245,"answer_count":2,"score":0,"last_activity_date":1685994844,"creation_date":1685697374,"question_id":76388769,"body_markdown":"I have a use case where I have to call two different methods in a reactive pipeline Java 8 on a post-API call. \r\n\r\n1st Method: \r\nwill insert data in a master table and will return the pk of that table insertion.\r\n \r\n2nd Method:\r\nthis method will insert data in the mapping table which will use the pk received from 1st method. \r\n\r\nI try to do that Mono.zip, but that did not work as Zip is calling both methods simultaneously and is not able to pass method 1 output to 2nd method input.   ","title":"Call Different Method in reactive pipeline","body":"<p>I have a use case where I have to call two different methods in a reactive pipeline Java 8 on a post-API call.</p>\n<p>1st Method:\nwill insert data in a master table and will return the pk of that table insertion.</p>\n<p>2nd Method:\nthis method will insert data in the mapping table which will use the pk received from 1st method.</p>\n<p>I try to do that Mono.zip, but that did not work as Zip is calling both methods simultaneously and is not able to pass method 1 output to 2nd method input.</p>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678694878,"post_id":75719276,"comment_id":133576283,"body_markdown":"why do you have more than one configuration class? Either way, try by adding the @EnableBatchProcessing annotation on that JobConfig class.","body":"why do you have more than one configuration class? Either way, try by adding the @EnableBatchProcessing annotation on that JobConfig class."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1678696646,"post_id":75719276,"comment_id":133576652,"body_markdown":"you are relying on Spring autoconfiguration to create those beans for you, but you are either not invoking autoconfiguration (with annotations as Stultuske mentioned) or you are overriding the configuration with your own @Configuration class.","body":"you are relying on Spring autoconfiguration to create those beans for you, but you are either not invoking autoconfiguration (with annotations as Stultuske mentioned) or you are overriding the configuration with your own @Configuration class."},{"owner":{"account_id":16963771,"reputation":521,"user_id":12270243,"display_name":"Damonio"},"score":0,"creation_date":1693237536,"post_id":75719276,"comment_id":135730797,"body_markdown":"Can you specify what spring boot and spring batch version are you using.\nThere is a migration guide that can help you here:\nhttps://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide","body":"Can you specify what spring boot and spring batch version are you using. There is a migration guide that can help you here: <a href=\"https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-batch/wiki/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678828250,"creation_date":1678828250,"answer_id":75738427,"question_id":75719276,"body_markdown":"You should either move `@EnableBatchProcessing` on the `JobConfig` class, or add `@Import(BatchConfig.class)` on the `JobConfig` class.\r\n\r\n","title":"Field jobBuilderFactory in com.* required a bean of type &#39;JobBuilderFactory&#39; that could not be found","body":"<p>You should either move <code>@EnableBatchProcessing</code> on the <code>JobConfig</code> class, or add <code>@Import(BatchConfig.class)</code> on the <code>JobConfig</code> class.</p>\n"},{"comments":[{"owner":{"account_id":16963771,"reputation":521,"user_id":12270243,"display_name":"Damonio"},"score":0,"creation_date":1692886665,"post_id":76384379,"comment_id":135687415,"body_markdown":"He never mentioned what spring version is using, It would help to explain that the jobBuilderFactory has been deprecated in Spring 3 and that&#39;s why he has to downgrade his version, also spring 2.7.x is going to end it&#39;s support soon, so downgrading should not be the de-facto solution.","body":"He never mentioned what spring version is using, It would help to explain that the jobBuilderFactory has been deprecated in Spring 3 and that&#39;s why he has to downgrade his version, also spring 2.7.x is going to end it&#39;s support soon, so downgrading should not be the de-facto solution."}],"tags":[],"owner":{"account_id":14072437,"reputation":1,"user_id":10165623,"display_name":"Prasanjeet Chakravarty"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685994727,"creation_date":1685640893,"answer_id":76384379,"question_id":75719276,"body_markdown":"You need to change your spring `spring-boot-starter-parent` version.\r\nI just changed spring boot parent version and it works fine for me\r\n&lt;version&gt;3.1.0&lt;/version&gt; to &lt;version&gt;2.7.6&lt;/version&gt;.\r\n\r\n","title":"Field jobBuilderFactory in com.* required a bean of type &#39;JobBuilderFactory&#39; that could not be found","body":"<p>You need to change your spring <code>spring-boot-starter-parent</code> version.\nI just changed spring boot parent version and it works fine for me\n3.1.0 to 2.7.6.</p>\n"}],"owner":{"account_id":23121662,"reputation":1,"user_id":17228105,"display_name":"Akash Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2086,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685994727,"creation_date":1678694438,"question_id":75719276,"body_markdown":"```\r\npackage com.batch.springBatch.config;\r\n\r\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\nimport org.springframework.batch.item.data.RepositoryItemWriter;\r\nimport org.springframework.batch.item.file.FlatFileItemReader;\r\nimport org.springframework.batch.item.file.LineMapper;\r\nimport org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper;\r\nimport org.springframework.batch.item.file.mapping.DefaultLineMapper;\r\nimport org.springframework.batch.item.file.transform.DelimitedLineTokenizer;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.io.ClassPathResource;\r\n\r\nimport com.batch.springBatch.entity.Employee;\r\nimport com.batch.springBatch.repository.EmployeRespository;\r\n\r\n\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class BatchConfig {\r\n\r\n\t@Value(&quot;${app.batch.file.name}&quot;)\r\n\tprivate String fileName;\r\n\r\n\t@Value(&quot;${app.batch.file.isHeader}&quot;)\r\n\tprivate String isHeaderPresent;\r\n\r\n\t@Value(&quot;${app.batch.file.headers.include}&quot;)\r\n\tprivate String[] fieldNames;\r\n\r\n\t@Value(&quot;${app.batch.file.headers.index}&quot;)\r\n\tprivate int[] fieldIndex;\r\n\r\n\t@Autowired\r\n\tprivate EmployeRespository employeRespository;\r\n\r\n\t@Bean\r\n\tpublic FlatFileItemReader&lt;Employee&gt; reader() {\r\n\t\t\r\n\t\tFlatFileItemReader&lt;Employee&gt; dataReader = new FlatFileItemReader&lt;&gt;();\r\n\t\tdataReader.setResource(new ClassPathResource(fileName));\r\n\t\tdataReader.setLineMapper(getLineMapper());\r\n\t\tif (isHeaderPresent.equalsIgnoreCase(&quot;Y&quot;)) {\r\n\t\t\tdataReader.setLinesToSkip(1);// skipping Header\r\n\t\t}\r\n\t\treturn dataReader;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic LineMapper&lt;Employee&gt; getLineMapper() {\r\n\r\n\t\tDefaultLineMapper&lt;Employee&gt; dataLineMapper = new DefaultLineMapper&lt;&gt;();\r\n\r\n\t\tDelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n\t\tlineTokenizer.setDelimiter(&quot;,&quot;);\r\n\t\t// lineTokenizer.setStrict(true);//by default it is true\r\n\t\tlineTokenizer.setNames(fieldNames);\r\n\t\tlineTokenizer.setIncludedFields(fieldIndex);\r\n\r\n\t\tBeanWrapperFieldSetMapper&lt;Employee&gt; fieldSetter = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n\t\tfieldSetter.setTargetType(Employee.class);\r\n\r\n\t\tdataLineMapper.setLineTokenizer(lineTokenizer);\r\n\t\tdataLineMapper.setFieldSetMapper(fieldSetter);\r\n\r\n\t\treturn dataLineMapper;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic EmployeItemProcessor processor() {\r\n\t\treturn new EmployeItemProcessor();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic RepositoryItemWriter&lt;Employee&gt; writer() {\r\n\r\n\t\tRepositoryItemWriter&lt;Employee&gt; dataWriter = new RepositoryItemWriter&lt;&gt;();\r\n\t\tdataWriter.setRepository(employeRespository);\r\n\t\tdataWriter.setMethodName(&quot;save&quot;);\r\n\r\n\t\treturn dataWriter;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npackage com.batch.springBatch.config;\r\n\r\nimport org.springframework.batch.core.Job;\r\nimport org.springframework.batch.core.Step;\r\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.batch.item.ItemProcessor;\r\nimport org.springframework.batch.item.ItemReader;\r\nimport org.springframework.batch.item.ItemWriter;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport com.batch.springBatch.entity.Employee;\r\n\r\n@Configuration\r\npublic class JobConfig {\r\n\r\n\t@Value(&quot;${app.batch.step.name}&quot;)\r\n\tprivate String batchStepName;\r\n\r\n\t@Value(&quot;${app.batch.chunk.size}&quot;)\r\n\tprivate int chunkSize;\r\n\r\n\t@Value(&quot;${app.batch.job.name}&quot;)\r\n\tprivate String jobName;\r\n\r\n\t@Autowired\r\n\tprivate JobBuilderFactory jobBuilderFactory;\r\n\t@Autowired\r\n\tprivate StepBuilderFactory stepBuilderFactory;\r\n\t@Autowired\r\n\tprivate ItemReader&lt;Employee&gt; reader;\r\n\t@Autowired\r\n\tprivate ItemProcessor&lt;Employee, Employee&gt; processor;\r\n\t@Autowired\r\n\tItemWriter&lt;Employee&gt; writer;\r\n\r\n\t@Bean\r\n\tpublic Step step1() {\r\n\t\treturn this.stepBuilderFactory.get(batchStepName).&lt;Employee, Employee&gt;chunk(chunkSize).reader(reader).processor(processor).writer(writer).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Job runJob() {\r\n\t\treturn this.jobBuilderFactory.get(jobName).flow(step1()).end().build();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n&gt; Getting below error\r\n&gt;\r\n&gt; ```\r\n&gt; ***************************\r\n&gt; APPLICATION FAILED TO START\r\n&gt; ***************************\r\n&gt; \r\n&gt; Description:\r\n&gt; \r\n&gt; Field jobBuilderFactory in com.batch.springBatch.config.JobConfig required a bean of type &#39;org.springframework.batch.core.configuration.annotation.JobBuilderFactory&#39; that could not be found.\r\n&gt; \r\n&gt; The injection point has the following annotations:\r\n&gt; \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type &#39;org.springframework.batch.core.configuration.annotation.JobBuilderFactory&#39; in your configuration.\r\n&gt; ```\r\n\r\nHey developers. I am trying to read data from csv file and write it to mysql db but there are some issue in  my configuration file it seems. I tried giving @ComponentScan with my base config package name but didn&#39;t work. I thought it is because of the depreciated JobBuilderFactory &amp; StepBuilderFactory but not very much clear on that. Could you please help me out of the scenario. My source code and console can be seen above.","title":"Field jobBuilderFactory in com.* required a bean of type &#39;JobBuilderFactory&#39; that could not be found","body":"<pre><code>package com.batch.springBatch.config;\n\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.item.data.RepositoryItemWriter;\nimport org.springframework.batch.item.file.FlatFileItemReader;\nimport org.springframework.batch.item.file.LineMapper;\nimport org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper;\nimport org.springframework.batch.item.file.mapping.DefaultLineMapper;\nimport org.springframework.batch.item.file.transform.DelimitedLineTokenizer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\n\nimport com.batch.springBatch.entity.Employee;\nimport com.batch.springBatch.repository.EmployeRespository;\n\n\n@Configuration\n@EnableBatchProcessing\npublic class BatchConfig {\n\n    @Value(&quot;${app.batch.file.name}&quot;)\n    private String fileName;\n\n    @Value(&quot;${app.batch.file.isHeader}&quot;)\n    private String isHeaderPresent;\n\n    @Value(&quot;${app.batch.file.headers.include}&quot;)\n    private String[] fieldNames;\n\n    @Value(&quot;${app.batch.file.headers.index}&quot;)\n    private int[] fieldIndex;\n\n    @Autowired\n    private EmployeRespository employeRespository;\n\n    @Bean\n    public FlatFileItemReader&lt;Employee&gt; reader() {\n        \n        FlatFileItemReader&lt;Employee&gt; dataReader = new FlatFileItemReader&lt;&gt;();\n        dataReader.setResource(new ClassPathResource(fileName));\n        dataReader.setLineMapper(getLineMapper());\n        if (isHeaderPresent.equalsIgnoreCase(&quot;Y&quot;)) {\n            dataReader.setLinesToSkip(1);// skipping Header\n        }\n        return dataReader;\n    }\n\n    @Bean\n    public LineMapper&lt;Employee&gt; getLineMapper() {\n\n        DefaultLineMapper&lt;Employee&gt; dataLineMapper = new DefaultLineMapper&lt;&gt;();\n\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n        lineTokenizer.setDelimiter(&quot;,&quot;);\n        // lineTokenizer.setStrict(true);//by default it is true\n        lineTokenizer.setNames(fieldNames);\n        lineTokenizer.setIncludedFields(fieldIndex);\n\n        BeanWrapperFieldSetMapper&lt;Employee&gt; fieldSetter = new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetter.setTargetType(Employee.class);\n\n        dataLineMapper.setLineTokenizer(lineTokenizer);\n        dataLineMapper.setFieldSetMapper(fieldSetter);\n\n        return dataLineMapper;\n    }\n\n    @Bean\n    public EmployeItemProcessor processor() {\n        return new EmployeItemProcessor();\n    }\n\n    @Bean\n    public RepositoryItemWriter&lt;Employee&gt; writer() {\n\n        RepositoryItemWriter&lt;Employee&gt; dataWriter = new RepositoryItemWriter&lt;&gt;();\n        dataWriter.setRepository(employeRespository);\n        dataWriter.setMethodName(&quot;save&quot;);\n\n        return dataWriter;\n    }\n}\n</code></pre>\n<pre><code>package com.batch.springBatch.config;\n\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.item.ItemProcessor;\nimport org.springframework.batch.item.ItemReader;\nimport org.springframework.batch.item.ItemWriter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport com.batch.springBatch.entity.Employee;\n\n@Configuration\npublic class JobConfig {\n\n    @Value(&quot;${app.batch.step.name}&quot;)\n    private String batchStepName;\n\n    @Value(&quot;${app.batch.chunk.size}&quot;)\n    private int chunkSize;\n\n    @Value(&quot;${app.batch.job.name}&quot;)\n    private String jobName;\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n    @Autowired\n    private ItemReader&lt;Employee&gt; reader;\n    @Autowired\n    private ItemProcessor&lt;Employee, Employee&gt; processor;\n    @Autowired\n    ItemWriter&lt;Employee&gt; writer;\n\n    @Bean\n    public Step step1() {\n        return this.stepBuilderFactory.get(batchStepName).&lt;Employee, Employee&gt;chunk(chunkSize).reader(reader).processor(processor).writer(writer).build();\n    }\n\n    @Bean\n    public Job runJob() {\n        return this.jobBuilderFactory.get(jobName).flow(step1()).end().build();\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>Getting below error</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField jobBuilderFactory in com.batch.springBatch.config.JobConfig required a bean of type 'org.springframework.batch.core.configuration.annotation.JobBuilderFactory' that could not be found.\n\nThe injection point has the following annotations:\n  - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.batch.core.configuration.annotation.JobBuilderFactory' in your configuration.\n</code></pre>\n</blockquote>\n<p>Hey developers. I am trying to read data from csv file and write it to mysql db but there are some issue in  my configuration file it seems. I tried giving @ComponentScan with my base config package name but didn't work. I thought it is because of the depreciated JobBuilderFactory &amp; StepBuilderFactory but not very much clear on that. Could you please help me out of the scenario. My source code and console can be seen above.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685989022,"post_id":76408577,"comment_id":134735064,"body_markdown":"If you are using Spring - https://stackoverflow.com/questions/48879578/spring-kafka-get-assigned-partitions","body":"If you are using Spring - <a href=\"https://stackoverflow.com/questions/48879578/spring-kafka-get-assigned-partitions\" title=\"spring kafka get assigned partitions\">stackoverflow.com/questions/48879578/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685989349,"post_id":76408577,"comment_id":134735132,"body_markdown":"I don&#39;t know what you want me to edit. You&#39;re welcome to [edit] your post to show a [mcve]","body":"I don&#39;t know what you want me to edit. You&#39;re welcome to <a href=\"https://stackoverflow.com/posts/76408577/edit\">edit</a> your post to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685989442,"post_id":76408577,"comment_id":134735151,"body_markdown":"Besides, if the partition is not assigned at all, then `myPartitionInfo` should not include it... Please clarify where that variable comes from","body":"Besides, if the partition is not assigned at all, then <code>myPartitionInfo</code> should not include it... Please clarify where that variable comes from"},{"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"score":0,"creation_date":1685989735,"post_id":76408577,"comment_id":134735208,"body_markdown":"@OneCricketeer List&lt;PartitionInfo&gt; myPartitionInfo = consumer.partitionsFor(..); like this","body":"@OneCricketeer List&lt;PartitionInfo&gt; myPartitionInfo = consumer.partitionsFor(..); like this"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685989918,"post_id":76408577,"comment_id":134735247,"body_markdown":"What is wrong with `consumer.assignment()` or using `ConsumerRebalanceListener.onPartitionsAssigned` function?","body":"What is wrong with <code>consumer.assignment()</code> or using <code>ConsumerRebalanceListener.onPartitionsAssigned</code> function?"},{"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"score":0,"creation_date":1685990050,"post_id":76408577,"comment_id":134735275,"body_markdown":"@OneCricketeer i am not sure of how to use consumer.assignment() function to find if the partition is assigned or not. Can you give an example? That will be really great","body":"@OneCricketeer i am not sure of how to use consumer.assignment() function to find if the partition is assigned or not. Can you give an example? That will be really great"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685994213,"post_id":76408577,"comment_id":134735946,"body_markdown":"Rather than using `consumer.partitionsFor()`, use `consumer.assignment()`. It returns the **currently assigned** partitions. What&#39;s the issue?","body":"Rather than using <code>consumer.partitionsFor()</code>, use <code>consumer.assignment()</code>. It returns the <b>currently assigned</b> partitions. What&#39;s the issue?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685994491,"creation_date":1685994491,"answer_id":76409580,"question_id":76408577,"body_markdown":"You&#39;ve already answered your own question. Use `consumer.assignment()`\r\n\r\n```\r\n// Data to check\r\nString topic = &quot;...&quot;;\r\nint partition = 0;\r\n\r\n// Check it\r\nboolean isAssigned = consumer.assignment()\r\n  .stream()\r\n  .anyMatch(tp -&gt; tp.topic().equals(topic) &amp;&amp; tp.partition() == partition)\r\n```\r\n\r\nOtherwise, in your consumer poll loop, you also have acesss to the partition that each record comes from, and can check there.","title":"How to check a partition is assigned in Kafka","body":"<p>You've already answered your own question. Use <code>consumer.assignment()</code></p>\n<pre><code>// Data to check\nString topic = &quot;...&quot;;\nint partition = 0;\n\n// Check it\nboolean isAssigned = consumer.assignment()\n  .stream()\n  .anyMatch(tp -&gt; tp.topic().equals(topic) &amp;&amp; tp.partition() == partition)\n</code></pre>\n<p>Otherwise, in your consumer poll loop, you also have acesss to the partition that each record comes from, and can check there.</p>\n"}],"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76409580,"answer_count":1,"score":0,"last_activity_date":1685994588,"creation_date":1685984587,"question_id":76408577,"body_markdown":"I am trying to find out a way of checking if a partition is assigned before I do something on  that partition. We know the way to find if the consumer is assigned or not by checking \r\n \r\n     consumer.assignment().isEmpty\r\n\r\nBut how I will do it to the partitions, my code is below \r\n\r\n    List&lt;PartitionInfo&gt; myPartitionInfo = consumer.partitionsFor(..);\r\n    mypartitionInfo.stream() \r\n       // before coming to this map i need to check if this partition is assigned\r\n       .map(part-&gt;new TopicPartition(subTopicName,part.partition()))\r\n       .......;\r\n                 \r\n                     \r\n\r\nIs there any way i can do that? please suggest. ","title":"How to check a partition is assigned in Kafka","body":"<p>I am trying to find out a way of checking if a partition is assigned before I do something on  that partition. We know the way to find if the consumer is assigned or not by checking</p>\n<pre><code> consumer.assignment().isEmpty\n</code></pre>\n<p>But how I will do it to the partitions, my code is below</p>\n<pre><code>List&lt;PartitionInfo&gt; myPartitionInfo = consumer.partitionsFor(..);\nmypartitionInfo.stream() \n   // before coming to this map i need to check if this partition is assigned\n   .map(part-&gt;new TopicPartition(subTopicName,part.partition()))\n   .......;\n             \n                 \n</code></pre>\n<p>Is there any way i can do that? please suggest.</p>\n"},{"tags":["java","spring","spring-cloud-feign","openfeign"],"answers":[{"comments":[{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1661001950,"post_id":70091681,"comment_id":129669533,"body_markdown":"But `myClient` is null. How will it work","body":"But <code>myClient</code> is null. How will it work"},{"owner":{"account_id":2202350,"reputation":551,"user_id":3737196,"display_name":"amay"},"score":0,"creation_date":1661279995,"post_id":70091681,"comment_id":129733287,"body_markdown":"Did you autowire it?","body":"Did you autowire it?"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1661280711,"post_id":70091681,"comment_id":129733543,"body_markdown":"I was using `@ExtendWith(SpringExtension)` which did not work so changed the code to use `@RunWith(SpringRunner.class)`. Then it worked fine.","body":"I was using <code>@ExtendWith(SpringExtension)</code> which did not work so changed the code to use <code>@RunWith(SpringRunner.class)</code>. Then it worked fine."},{"owner":{"account_id":294084,"reputation":977,"user_id":597767,"accept_rate":75,"display_name":"Doradus"},"score":0,"creation_date":1668771480,"post_id":70091681,"comment_id":131492917,"body_markdown":"Useful info, but doesn&#39;t answer the question, which was &quot;How can autowire MyClient?&quot;","body":"Useful info, but doesn&#39;t answer the question, which was &quot;How can autowire MyClient?&quot;"},{"owner":{"account_id":2202350,"reputation":551,"user_id":3737196,"display_name":"amay"},"score":0,"creation_date":1669930591,"post_id":70091681,"comment_id":131761317,"body_markdown":"@Doradus Normal `@Autowire` annotation should work.","body":"@Doradus Normal <code>@Autowire</code> annotation should work."},{"owner":{"account_id":294084,"reputation":977,"user_id":597767,"accept_rate":75,"display_name":"Doradus"},"score":1,"creation_date":1669990301,"post_id":70091681,"comment_id":131774912,"body_markdown":"The original question used `@Autowired` and did not work.","body":"The original question used <code>@Autowired</code> and did not work."},{"owner":{"account_id":2202350,"reputation":551,"user_id":3737196,"display_name":"amay"},"score":0,"creation_date":1670003714,"post_id":70091681,"comment_id":131779417,"body_markdown":"If you use `@RunWith(SpringRunner.class)` on your test, autowire should work. The client will not be null, and we&#39;re anyway stubbing the response for the methods.","body":"If you use <code>@RunWith(SpringRunner.class)</code> on your test, autowire should work. The client will not be null, and we&#39;re anyway stubbing the response for the methods."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1685070749,"post_id":70091681,"comment_id":134613092,"body_markdown":"Does anyone have suggestions on how to get this to work with `Spock`/`Groovy` testing?","body":"Does anyone have suggestions on how to get this to work with <code>Spock</code>/<code>Groovy</code> testing?"}],"tags":[],"owner":{"account_id":2202350,"reputation":551,"user_id":3737196,"display_name":"amay"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637736162,"creation_date":1637736162,"answer_id":70091681,"question_id":68453529,"body_markdown":"The method that has worked for me so far while trying to test Feign Clients is stubbing the response via wiremock. You would need to add dependency for wiremock. \r\n```\r\ntestImplementation &#39;org.springframework.cloud:spring-cloud-contract-wiremock&#39;\r\n```\r\nThen you would need to annotate as\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(properties = &quot;feign.clients.my.url=http://localhost:${wiremock.server.port}&quot;)\r\n@AutoConfigureWireMock(port = 0)\r\n```\r\nAnd then stub using wiremock.\r\n```\r\nstubFor(post(urlPathMatching(&quot;/v1/users/([a-zA-Z0-9-]*)&quot;)).willReturn(aResponse().withStatus(200).withHeader(&quot;content-type&quot;, &quot;application/json&quot;).withBody(&quot;{\\&quot;code\\&quot;:200,\\&quot;status\\&quot;:\\&quot;success\\&quot;})));\r\n```\r\nwhere `([a-zA-Z0-9-]*)` is regex for {userId} assuming it is alphanumeric.\r\n\r\nAnd then, of course, assert.\r\n```\r\nStatusResponse myResponse = myClient.getStatus(&quot;&quot;, &quot;tidTestSample&quot;, &quot;4626745161770145&quot;);\r\nAssert.assertNotNull(myResponse);\r\n```","title":"How to Autowire FeignClient into Test Class","body":"<p>The method that has worked for me so far while trying to test Feign Clients is stubbing the response via wiremock. You would need to add dependency for wiremock.</p>\n<pre><code>testImplementation 'org.springframework.cloud:spring-cloud-contract-wiremock'\n</code></pre>\n<p>Then you would need to annotate as</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(properties = &quot;feign.clients.my.url=http://localhost:${wiremock.server.port}&quot;)\n@AutoConfigureWireMock(port = 0)\n</code></pre>\n<p>And then stub using wiremock.</p>\n<pre><code>stubFor(post(urlPathMatching(&quot;/v1/users/([a-zA-Z0-9-]*)&quot;)).willReturn(aResponse().withStatus(200).withHeader(&quot;content-type&quot;, &quot;application/json&quot;).withBody(&quot;{\\&quot;code\\&quot;:200,\\&quot;status\\&quot;:\\&quot;success\\&quot;})));\n</code></pre>\n<p>where <code>([a-zA-Z0-9-]*)</code> is regex for {userId} assuming it is alphanumeric.</p>\n<p>And then, of course, assert.</p>\n<pre><code>StatusResponse myResponse = myClient.getStatus(&quot;&quot;, &quot;tidTestSample&quot;, &quot;4626745161770145&quot;);\nAssert.assertNotNull(myResponse);\n</code></pre>\n"}],"owner":{"account_id":3849657,"reputation":389,"user_id":3190140,"accept_rate":38,"display_name":"KerenSi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10078,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1685994164,"creation_date":1626777790,"question_id":68453529,"body_markdown":"I&#39;ve written a `FeignClient` and I would like to test that it works using a unit test. (For my case, integration tests is not the right approach for the current development stage). \r\n\r\nIn my test, the FeignClient is not initialized (`null`): I receive a `NullPointerException` while running the test. \r\n\r\n**How can I successfully Autowire a `FeignClient`?**\r\n\r\n*Feign client*:\r\n\r\n    package com.myapp.clients;\r\n    \r\n    import com.myapp.model.StatusResponse;\r\n    import org.springframework.cloud.openfeign.FeignClient;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestHeader;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    \r\n    @FeignClient(name=&quot;myClient&quot;, url=&quot;${feign.clients.my.url}&quot;)\r\n    public interface myClient {\r\n    \r\n        @RequestMapping(method= RequestMethod.GET, value=&quot;/v1/users/{userId}&quot;)\r\n        StatusResponse getStatus(\r\n                @RequestHeader(value = &quot;Auth&quot;, required = true) String authorizationHeader,\r\n                @RequestHeader(value = &quot;my_tid&quot;, required = true) String tid,\r\n                @PathVariable(&quot;userId&quot;) String userId);\r\n    \r\n    }\r\n\r\n*Tests*:\r\n\r\n    package com.myapp.clients;\r\n    \r\n    import com.intuit.secfraudshared.step.broker.model.StatusResponse;\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    public class MyClientTest {\r\n    \r\n        @Autowired\r\n        MyClient myClient;\r\n        \r\n        @Test\r\n        public void testmyClient_status200() {\r\n    \r\n            StatusResponse myResponse = myClient.getStatus(&quot;&quot;, &quot;tidTestSample&quot;, &quot;4626745161770145&quot;);\r\n            Assert.assertNotNull(iusResponse);\r\n        }\r\n    }\r\n\r\n**How can Autowire MyClient?**","title":"How to Autowire FeignClient into Test Class","body":"<p>I've written a <code>FeignClient</code> and I would like to test that it works using a unit test. (For my case, integration tests is not the right approach for the current development stage).</p>\n<p>In my test, the FeignClient is not initialized (<code>null</code>): I receive a <code>NullPointerException</code> while running the test.</p>\n<p><strong>How can I successfully Autowire a <code>FeignClient</code>?</strong></p>\n<p><em>Feign client</em>:</p>\n<pre><code>package com.myapp.clients;\n\nimport com.myapp.model.StatusResponse;\nimport org.springframework.cloud.openfeign.FeignClient;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestHeader;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\n@FeignClient(name=&quot;myClient&quot;, url=&quot;${feign.clients.my.url}&quot;)\npublic interface myClient {\n\n    @RequestMapping(method= RequestMethod.GET, value=&quot;/v1/users/{userId}&quot;)\n    StatusResponse getStatus(\n            @RequestHeader(value = &quot;Auth&quot;, required = true) String authorizationHeader,\n            @RequestHeader(value = &quot;my_tid&quot;, required = true) String tid,\n            @PathVariable(&quot;userId&quot;) String userId);\n\n}\n</code></pre>\n<p><em>Tests</em>:</p>\n<pre><code>package com.myapp.clients;\n\nimport com.intuit.secfraudshared.step.broker.model.StatusResponse;\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic class MyClientTest {\n\n    @Autowired\n    MyClient myClient;\n    \n    @Test\n    public void testmyClient_status200() {\n\n        StatusResponse myResponse = myClient.getStatus(&quot;&quot;, &quot;tidTestSample&quot;, &quot;4626745161770145&quot;);\n        Assert.assertNotNull(iusResponse);\n    }\n}\n</code></pre>\n<p><strong>How can Autowire MyClient?</strong></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1459692000,"post_id":36386295,"comment_id":60389427,"body_markdown":"Marked as duplicate based on the only sentence with a question-mark.","body":"Marked as duplicate based on the only sentence with a question-mark."},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1459692573,"post_id":36386295,"comment_id":60389630,"body_markdown":"http://stackoverflow.com/questions/12108118/what-do-the-angle-brackets-mean-in-this-interface-definition","body":"<a href=\"http://stackoverflow.com/questions/12108118/what-do-the-angle-brackets-mean-in-this-interface-definition\" title=\"what do the angle brackets mean in this interface definition\">stackoverflow.com/questions/12108118/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1459694459,"creation_date":1459694459,"answer_id":36386817,"question_id":36386295,"body_markdown":"What is a static method? A Method that works on the class, and not a specific instance. The generic parameter ```T``` in the class signature ```public class SomeClass&lt;T&gt;``` is only available for a specific instance (hence ```non-static type T```). e.g. ```SomeClass&lt;String&gt;``` where the ```[T = String]```. \r\n\r\nBy including ```&lt;T&gt;``` in the method signature of ```public static &lt;T&gt;SomeClass&lt;T&gt; newInstance(Class&lt;T&gt; clazz)```. You&#39;re saying that; for this method, there is a generic type argument ```T```. This ```T``` is separate from the ```T``` in the class signature. So it might as well be ```C``` i.e. ```public static &lt;C&gt; SomeClass&lt;C&gt; newInstance(Class&lt;C&gt; clazz)```. Or something completely different. \r\n\r\nBut if you don&#39;t include ```&lt;T&gt;``` with the method, the compiler thinks you&#39;re trying to use the ```T``` in the class signature. Which is illegal.","title":"(Generics)Cannot make a static reference to the non-static type T","body":"<p>What is a static method? A Method that works on the class, and not a specific instance. The generic parameter <code>T</code> in the class signature <code>public class SomeClass&lt;T&gt;</code> is only available for a specific instance (hence <code>non-static type T</code>). e.g. <code>SomeClass&lt;String&gt;</code> where the <code>[T = String]</code>. </p>\n\n<p>By including <code>&lt;T&gt;</code> in the method signature of <code>public static &lt;T&gt;SomeClass&lt;T&gt; newInstance(Class&lt;T&gt; clazz)</code>. You're saying that; for this method, there is a generic type argument <code>T</code>. This <code>T</code> is separate from the <code>T</code> in the class signature. So it might as well be <code>C</code> i.e. <code>public static &lt;C&gt; SomeClass&lt;C&gt; newInstance(Class&lt;C&gt; clazz)</code>. Or something completely different. </p>\n\n<p>But if you don't include <code>&lt;T&gt;</code> with the method, the compiler thinks you're trying to use the <code>T</code> in the class signature. Which is illegal.</p>\n"},{"tags":[],"owner":{"account_id":2745991,"reputation":1440,"user_id":2366397,"display_name":"igor.zh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620678565,"creation_date":1620678565,"answer_id":67477312,"question_id":36386295,"body_markdown":"In my opinion, the question is very interesting, it addresses several distinct issues and deserves more than one answer, although that one might be perfectly correct. \r\n\r\n&gt; why do i need the &lt;T&gt; in front of the SomeClass&lt;T&gt; [Otherwise] there will be an ... error ... Cannot make a static reference to the non-static type T\r\n\r\nThe usage of static members, methods and fields, in a generic class [has certain restrictions][1], see a section &quot;Cannot Declare Static Fields Whose Types are Type Parameters&quot;. Although the section discusses fields, not methods, one could extend the reasoning to the methods as well. Indeed, if we agree that the declaration\r\n\r\n     private static T foo = null;\r\nmakes no sense because the compiler couldn&#39;t create an instance-independent variable `foo` as the generic class could be parameterized with any type (Remember that Java Generic is not C++ Template, and due to the type erasure of the former there is one and only one (per a class loader) instance of a generic class in a runtime), then why something like \r\n\r\n    public static T get() {\r\n    \treturn null;\r\n    }\r\nshould make more sense?\r\n\r\nSecond, when you declare generic type `T` in your `SomeClass` and then in `newInstance` method, you in fact **hide** the first `T` with the second one, and both are unrelated to each other. The type hiding is more obvious for non-static types. In the example \r\n\t\r\n\r\n    class Foo&lt;T&gt; {\r\n    \t&lt;T&gt; T get(){ // a warning &quot;The type parameter T is hiding the type T&quot; \r\n    \t\treturn null;\r\n    \t}\r\n    }\r\nthe second `T`, declared in a method, **hides** the first one, declared for the class, and that&#39;s where you receive a warning `The type parameter T is hiding the type T`.  To eliminate the warning, you have to replace `T` in the method with another type variable, e.g. `Z`, so that distinction between the two becomes obvious.\r\n\r\n    class Foo&lt;T&gt; {\r\n        &lt;Z&gt; Z get(){ // no warning, T and Z are different type variables\r\n            return null;\r\n        }\r\n    }\r\nIn a case of static method, the compiler does not issue a warning (probably because it thinks that for static things the hiding is assumed?), but the type hiding exists in this case as well. In the example you brought you managed to successfully cheat the Java Generic machinery (congrats :) ), but if we imagine the following scenario (I slightly refactored the semantic of your example to, let say, more traditional one)\r\n\r\n    static class Factory &lt;T extends Number&gt; { \r\n\t    private T t;\r\n\t\r\n\t    public static &lt;T&gt; T getInstance(){\r\n\t\t    return null;\r\n\t    }\r\n\t\r\n\t    public T get(){\r\n\t\t    return t;\r\n\t    }\r\n    }\r\n, the both lines will compile \r\n\r\n    Number n1 = longFactory.get();\r\n    Number n2 = Factory.getInstance();\r\n, but you lose type safety on the second, so that the line \r\n    \r\n    String s1 = longFactory.get(); // fails to compile with &quot;Type mismatch: cannot convert from Long to String&quot; error message \r\nfails, which is perfectly fine, but the line\r\n\r\n    String s2 = longFactory.getInstance(); // compiles only with a warning &quot;static method should be accessed in a static way&quot;\r\nwhich is not fine and is not what you&#39;d expect if you miss the point of type parameter hiding.\r\n\r\n(Under the hood, `T longFactory.get()` _type-erases_ to `Number longFactory.get()`, while `static &lt;T&gt; T getInstance()`  _type-erases_ to `static Object getInstance()`, e.g.\r\n\r\n\r\n    System.out.println(Factory.class.getMethod(&quot;getInstance&quot;).getReturnType().getSimpleName());  // prints &quot;Object&quot;\r\n\tSystem.out.println(Factory.class.getMethod(&quot;get&quot;).getReturnType().getSimpleName()); // prints &quot;Number&quot;\r\n\r\n but [Type Erasure][2] is another story)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"(Generics)Cannot make a static reference to the non-static type T","body":"<p>In my opinion, the question is very interesting, it addresses several distinct issues and deserves more than one answer, although that one might be perfectly correct.</p>\n<blockquote>\n<p>why do i need the  in front of the SomeClass [Otherwise] there will be an ... error ... Cannot make a static reference to the non-static type T</p>\n</blockquote>\n<p>The usage of static members, methods and fields, in a generic class <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html\" rel=\"nofollow noreferrer\">has certain restrictions</a>, see a section &quot;Cannot Declare Static Fields Whose Types are Type Parameters&quot;. Although the section discusses fields, not methods, one could extend the reasoning to the methods as well. Indeed, if we agree that the declaration</p>\n<pre><code> private static T foo = null;\n</code></pre>\n<p>makes no sense because the compiler couldn't create an instance-independent variable <code>foo</code> as the generic class could be parameterized with any type (Remember that Java Generic is not C++ Template, and due to the type erasure of the former there is one and only one (per a class loader) instance of a generic class in a runtime), then why something like</p>\n<pre><code>public static T get() {\n    return null;\n}\n</code></pre>\n<p>should make more sense?</p>\n<p>Second, when you declare generic type <code>T</code> in your <code>SomeClass</code> and then in <code>newInstance</code> method, you in fact <strong>hide</strong> the first <code>T</code> with the second one, and both are unrelated to each other. The type hiding is more obvious for non-static types. In the example</p>\n<pre><code>class Foo&lt;T&gt; {\n    &lt;T&gt; T get(){ // a warning &quot;The type parameter T is hiding the type T&quot; \n        return null;\n    }\n}\n</code></pre>\n<p>the second <code>T</code>, declared in a method, <strong>hides</strong> the first one, declared for the class, and that's where you receive a warning <code>The type parameter T is hiding the type T</code>.  To eliminate the warning, you have to replace <code>T</code> in the method with another type variable, e.g. <code>Z</code>, so that distinction between the two becomes obvious.</p>\n<pre><code>class Foo&lt;T&gt; {\n    &lt;Z&gt; Z get(){ // no warning, T and Z are different type variables\n        return null;\n    }\n}\n</code></pre>\n<p>In a case of static method, the compiler does not issue a warning (probably because it thinks that for static things the hiding is assumed?), but the type hiding exists in this case as well. In the example you brought you managed to successfully cheat the Java Generic machinery (congrats :) ), but if we imagine the following scenario (I slightly refactored the semantic of your example to, let say, more traditional one)</p>\n<pre><code>static class Factory &lt;T extends Number&gt; { \n    private T t;\n\n    public static &lt;T&gt; T getInstance(){\n        return null;\n    }\n\n    public T get(){\n        return t;\n    }\n}\n</code></pre>\n<p>, the both lines will compile</p>\n<pre><code>Number n1 = longFactory.get();\nNumber n2 = Factory.getInstance();\n</code></pre>\n<p>, but you lose type safety on the second, so that the line</p>\n<pre><code>String s1 = longFactory.get(); // fails to compile with &quot;Type mismatch: cannot convert from Long to String&quot; error message \n</code></pre>\n<p>fails, which is perfectly fine, but the line</p>\n<pre><code>String s2 = longFactory.getInstance(); // compiles only with a warning &quot;static method should be accessed in a static way&quot;\n</code></pre>\n<p>which is not fine and is not what you'd expect if you miss the point of type parameter hiding.</p>\n<p>(Under the hood, <code>T longFactory.get()</code> <em>type-erases</em> to <code>Number longFactory.get()</code>, while <code>static &lt;T&gt; T getInstance()</code>  <em>type-erases</em> to <code>static Object getInstance()</code>, e.g.</p>\n<pre><code>System.out.println(Factory.class.getMethod(&quot;getInstance&quot;).getReturnType().getSimpleName());  // prints &quot;Object&quot;\nSystem.out.println(Factory.class.getMethod(&quot;get&quot;).getReturnType().getSimpleName()); // prints &quot;Number&quot;\n</code></pre>\n<p>but <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">Type Erasure</a> is another story)</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1686005494,"post_id":76409539,"comment_id":134737452,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76409539/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26552876,"reputation":31,"user_id":20181931,"display_name":"Subhajit Khasnobish"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685993962,"creation_date":1685993962,"answer_id":76409539,"question_id":36386295,"body_markdown":"user provides a generic type at runtime, so a class cannot understand what is generic.","title":"(Generics)Cannot make a static reference to the non-static type T","body":"<p>user provides a generic type at runtime, so a class cannot understand what is generic.</p>\n"}],"owner":{"account_id":7077223,"reputation":492,"user_id":5416766,"accept_rate":75,"display_name":"securenova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23485,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":36386817,"answer_count":3,"score":11,"last_activity_date":1685993962,"creation_date":1459691823,"question_id":36386295,"body_markdown":"running the Demo class will invoke a static method newInstance in SomeClass to call the constructor and printing hello\r\n\r\ndefining a method will include a return type + method name with arguments\r\n\r\nthe return type for newInstance is &lt;&lt;T&gt;T&gt;SomeClass&lt;&lt;T&gt;T&gt; seems weird to me\r\nsince my class is called SomeClass&lt;&lt;T&gt;T&gt; instead of &lt;&lt;T&gt;T&gt;SomeClass&lt;&lt;T&gt;T&gt; \r\n\r\n&gt; why do i need the &lt;&lt;T&gt;T&gt; in front of the SomeClass&lt;&lt;T&gt;T&gt; ?\r\n&gt; it seems that if I don&#39;t include it there will be an common error\r\n&gt; called Cannot make a static reference to the non-static type T\r\n\r\nanother thing to point out is that I can put many spaces between &lt;&lt;T&gt;T&gt; and SomeClass&lt;&lt;T&gt;T&gt; so it doesn&#39;t seem like they need to be together.\r\n\r\n   \r\n\r\n    public class SomeClass&lt;T&gt; {\r\n\t\r\n\t    public static &lt;T&gt;SomeClass&lt;T&gt; newInstance(Class&lt;T&gt; clazz){\r\n\t\t    return new SomeClass&lt;T&gt;(clazz);\r\n\t    }\r\n \r\n\t    private SomeClass(Class&lt;T&gt; clazz){\r\n\t\t    System.out.println(&quot;hello&quot;);\r\n\t    }\r\n    }\r\n\r\n    public class Demo {\r\n\r\n\t    public static void main(String args[])\r\n\t    {\r\n\t\t    SomeClass&lt;String&gt; instance = SomeClass.newInstance(String.class);\r\n\t    }\r\n    }\r\n","title":"(Generics)Cannot make a static reference to the non-static type T","body":"<p>running the Demo class will invoke a static method newInstance in SomeClass to call the constructor and printing hello</p>\n\n<p>defining a method will include a return type + method name with arguments</p>\n\n<p>the return type for newInstance is &lt;T>SomeClass&lt;T> seems weird to me\nsince my class is called SomeClass&lt;T> instead of &lt;T>SomeClass&lt;T> </p>\n\n<blockquote>\n  <p>why do i need the &lt;T> in front of the SomeClass&lt;T> ?\n  it seems that if I don't include it there will be an common error\n  called Cannot make a static reference to the non-static type T</p>\n</blockquote>\n\n<p>another thing to point out is that I can put many spaces between &lt;T> and SomeClass&lt;T> so it doesn't seem like they need to be together.</p>\n\n<pre><code>public class SomeClass&lt;T&gt; {\n\n    public static &lt;T&gt;SomeClass&lt;T&gt; newInstance(Class&lt;T&gt; clazz){\n        return new SomeClass&lt;T&gt;(clazz);\n    }\n\n    private SomeClass(Class&lt;T&gt; clazz){\n        System.out.println(\"hello\");\n    }\n}\n\npublic class Demo {\n\n    public static void main(String args[])\n    {\n        SomeClass&lt;String&gt; instance = SomeClass.newInstance(String.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"owner":{"account_id":28758603,"reputation":31,"user_id":22025046,"display_name":"bwatson310"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1685993335,"creation_date":1685982730,"question_id":76408382,"body_markdown":"When using @ElementCollection with Set&lt;String&gt; = SetOf() I get org.hibernate.NotYetImplementedFor6Exception: Only support for basic-valued, entity-valued and embedded model-parts have been implemented : NewName  [PluralAttribute]\r\n\r\nThis worked before upgrading to hibernate 6","title":"Issues with @ElementCollection In Hibernate 6","body":"<p>When using @ElementCollection with Set = SetOf() I get org.hibernate.NotYetImplementedFor6Exception: Only support for basic-valued, entity-valued and embedded model-parts have been implemented : NewName  [PluralAttribute]</p>\n<p>This worked before upgrading to hibernate 6</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":12561968,"reputation":5864,"user_id":9139384,"display_name":"Yennefer"},"score":0,"creation_date":1686253085,"post_id":76409410,"comment_id":134777451,"body_markdown":"Moderators at strike https://meta.stackexchange.com/questions/389811/moderation-strike-stack-overflow-inc-cannot-consistently-ignore-mistreat-an - so I also will not do **any** (further) content/curation-related action here","body":"Moderators at strike <a href=\"https://meta.stackexchange.com/questions/389811/moderation-strike-stack-overflow-inc-cannot-consistently-ignore-mistreat-an\" title=\"moderation strike stack overflow inc cannot consistently ignore mistreat an\">meta.stackexchange.com/questions/389811/&hellip;</a> - so I also will not do <b>any</b> (further) content/curation-related action here"}],"owner":{"account_id":8049179,"reputation":147,"user_id":6068362,"display_name":"Ragas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685992679,"creation_date":1685992679,"question_id":76409410,"body_markdown":"Getting weblogic.application.ModuleException: java.lang.ClassNotFoundException: **jakarta.persistence.EntityManagerFactory** exception when deploying war file on weblogic server[12.2.1.4]\r\n\r\nThe same war file gets deployed without any issues on tomcat server manually and also within spring tool suite.\r\n\r\nUsing:- JDK 8.\r\n1. Spring Boot - 2.7.11\r\n2. Hibernate - 5.6.15.Final\r\n3. Hibernate Validator - 6.2.5.Final\r\n4. Spring Boot Starter Data JPA - 2.7.11\r\n\r\nNote: pom.xml has dependency for persistence api coming from two jars:\r\n1. javax.persistence.api[2.2] - hibernate core - 5.6.15.Final\r\n2. jakarta.persistence.api[2.2.3] - spring boot starter data jpa","title":"Getting weblogic.application.ModuleException: java.lang.ClassNotFoundException: jakarta.persistence.EntityManagerFactory exception","body":"<p>Getting weblogic.application.ModuleException: java.lang.ClassNotFoundException: <strong>jakarta.persistence.EntityManagerFactory</strong> exception when deploying war file on weblogic server[12.2.1.4]</p>\n<p>The same war file gets deployed without any issues on tomcat server manually and also within spring tool suite.</p>\n<p>Using:- JDK 8.</p>\n<ol>\n<li>Spring Boot - 2.7.11</li>\n<li>Hibernate - 5.6.15.Final</li>\n<li>Hibernate Validator - 6.2.5.Final</li>\n<li>Spring Boot Starter Data JPA - 2.7.11</li>\n</ol>\n<p>Note: pom.xml has dependency for persistence api coming from two jars:</p>\n<ol>\n<li>javax.persistence.api[2.2] - hibernate core - 5.6.15.Final</li>\n<li>jakarta.persistence.api[2.2.3] - spring boot starter data jpa</li>\n</ol>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1685983962,"post_id":76408303,"comment_id":134734202,"body_markdown":"i don&#39;t it is `{(a.1,l1), (a.2,l2),(b.1,l3), (b.2,l4)}` in format of `Map&lt;String, List&gt;`","body":"i don&#39;t it is <code>{(a.1,l1), (a.2,l2),(b.1,l3), (b.2,l4)}</code> in format of <code>Map&lt;String, List&gt;</code>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1685984048,"post_id":76408303,"comment_id":134734217,"body_markdown":"Using streams, specifically?","body":"Using streams, specifically?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1685987529,"post_id":76408303,"comment_id":134734818,"body_markdown":"If `l1` is a list, shouldn&#39;t the result be a List of List? Or do you want to combine the lists with the same prefix?","body":"If <code>l1</code> is a list, shouldn&#39;t the result be a List of List? Or do you want to combine the lists with the same prefix?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1685988650,"post_id":76408303,"comment_id":134734999,"body_markdown":"Also, what type of list is it? I hope you&#39;re not using a raw `List`.","body":"Also, what type of list is it? I hope you&#39;re not using a raw <code>List</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686039166,"post_id":76408303,"comment_id":134740749,"body_markdown":"When you want to create a map, you have to *collect* into a map. This has nothing to do with the `map` operation.","body":"When you want to create a map, you have to <i>collect</i> into a map. This has nothing to do with the <code>map</code> operation."}],"answers":[{"tags":[],"owner":{"account_id":22929532,"reputation":58,"user_id":17064082,"display_name":"Jack Lam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685984422,"creation_date":1685984422,"answer_id":76408566,"question_id":76408303,"body_markdown":"Try this imperative approach:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Map&lt;String, List&lt;String&gt;&gt; originalMap = new HashMap&lt;&gt;();\r\n        originalMap.put(&quot;a.1&quot;,Arrays.asList(&quot;l1&quot;));\r\n        originalMap.put(&quot;a.2&quot;,Arrays.asList(&quot;l2&quot;));\r\n        originalMap.put(&quot;b.1&quot;,Arrays.asList(&quot;l3&quot;));\r\n        originalMap.put(&quot;b.2&quot;,Arrays.asList(&quot;l4&quot;));\r\n\r\n        Map&lt;String,List&lt;String&gt;&gt; newMap = new HashMap&lt;&gt;();\r\n\r\n        for (Map.Entry&lt;String,List&lt;String&gt;&gt; entry: originalMap.entrySet()){\r\n            String newKey = entry.getKey().split(&quot;\\\\.&quot;)[0];\r\n            if(!newMap.containsKey(newKey)){\r\n                newMap.put(newKey,new ArrayList&lt;&gt;());\r\n            }\r\n            newMap.get(newKey).addAll(entry.getValue());\r\n        }\r\n        System.out.println(newMap);\r\n    }\r\n```\r\nResult:\r\n[![result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AQyld.png","title":"Group Values of map with same prefix entry key","body":"<p>Try this imperative approach:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Map&lt;String, List&lt;String&gt;&gt; originalMap = new HashMap&lt;&gt;();\n        originalMap.put(&quot;a.1&quot;,Arrays.asList(&quot;l1&quot;));\n        originalMap.put(&quot;a.2&quot;,Arrays.asList(&quot;l2&quot;));\n        originalMap.put(&quot;b.1&quot;,Arrays.asList(&quot;l3&quot;));\n        originalMap.put(&quot;b.2&quot;,Arrays.asList(&quot;l4&quot;));\n\n        Map&lt;String,List&lt;String&gt;&gt; newMap = new HashMap&lt;&gt;();\n\n        for (Map.Entry&lt;String,List&lt;String&gt;&gt; entry: originalMap.entrySet()){\n            String newKey = entry.getKey().split(&quot;\\\\.&quot;)[0];\n            if(!newMap.containsKey(newKey)){\n                newMap.put(newKey,new ArrayList&lt;&gt;());\n            }\n            newMap.get(newKey).addAll(entry.getValue());\n        }\n        System.out.println(newMap);\n    }\n</code></pre>\n<p>Result:\n<a href=\"https://i.stack.imgur.com/AQyld.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQyld.png\" alt=\"result\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685986699,"creation_date":1685986699,"answer_id":76408803,"question_id":76408303,"body_markdown":"If this task does not require _streams_, you can use the following.\r\n\r\nTraverse the original map, checking if the new map contains the _prefix_ key.  \r\nThen, either add the list to the new map list, or create a new map entry.\r\n\r\n```java\r\nMap&lt;String, List&lt;List&gt;&gt; parse(Map&lt;String, List&gt; mapA) {\r\n    Map&lt;String, List&lt;List&gt;&gt; mapB = new HashMap&lt;&gt;();\r\n    String prefix;\r\n    List&lt;List&gt; lists;\r\n    for (Map.Entry&lt;String, List&gt; entry : mapA.entrySet()) {\r\n        prefix = prefix(entry.getKey());\r\n        if (mapB.containsKey(prefix))\r\n            mapB.get(prefix).add(entry.getValue());\r\n        else {\r\n            lists = new ArrayList&lt;&gt;();\r\n            lists.add(entry.getValue());\r\n            mapB.put(prefix, lists);\r\n        }\r\n    }\r\n    return mapB;\r\n}\r\n```\r\n\r\nAdditionally, I created a method here, to substring the _prefix_ from the _key_.  \r\nIn which, I presume may be more complicated than a single substring.\r\n\r\n```java\r\nString prefix(String string) {\r\n    /* a.01, a.02, b.01, etc. */\r\n    return string.substring(0, string.indexOf(&#39;.&#39;));\r\n}\r\n```\r\n\r\nHere is an example of an input and output.\r\n\r\n```java\r\nMap&lt;String, List&gt; mapA = new HashMap&lt;&gt;();\r\nmapA.put(&quot;a.01&quot;, List.of(1, 2, 3, 4));\r\nmapA.put(&quot;a.02&quot;, List.of(5, 6, 7, 8));\r\nmapA.put(&quot;b.01&quot;, List.of(9, 0, 1, 2));\r\nmapA.put(&quot;b.02&quot;, List.of(3, 4, 5, 6));\r\n\r\nMap&lt;String, List&lt;List&gt;&gt; mapB = parse(mapA);\r\nSystem.out.println(mapB);\r\n```\r\n\r\n```none\r\n{a=[[1, 2, 3, 4], [5, 6, 7, 8]], b=[[9, 0, 1, 2], [3, 4, 5, 6]]}\r\n```","title":"Group Values of map with same prefix entry key","body":"<p>If this task does not require <em>streams</em>, you can use the following.</p>\n<p>Traverse the original map, checking if the new map contains the <em>prefix</em> key.<br />\nThen, either add the list to the new map list, or create a new map entry.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;List&gt;&gt; parse(Map&lt;String, List&gt; mapA) {\n    Map&lt;String, List&lt;List&gt;&gt; mapB = new HashMap&lt;&gt;();\n    String prefix;\n    List&lt;List&gt; lists;\n    for (Map.Entry&lt;String, List&gt; entry : mapA.entrySet()) {\n        prefix = prefix(entry.getKey());\n        if (mapB.containsKey(prefix))\n            mapB.get(prefix).add(entry.getValue());\n        else {\n            lists = new ArrayList&lt;&gt;();\n            lists.add(entry.getValue());\n            mapB.put(prefix, lists);\n        }\n    }\n    return mapB;\n}\n</code></pre>\n<p>Additionally, I created a method here, to substring the <em>prefix</em> from the <em>key</em>.<br />\nIn which, I presume may be more complicated than a single substring.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String prefix(String string) {\n    /* a.01, a.02, b.01, etc. */\n    return string.substring(0, string.indexOf('.'));\n}\n</code></pre>\n<p>Here is an example of an input and output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&gt; mapA = new HashMap&lt;&gt;();\nmapA.put(&quot;a.01&quot;, List.of(1, 2, 3, 4));\nmapA.put(&quot;a.02&quot;, List.of(5, 6, 7, 8));\nmapA.put(&quot;b.01&quot;, List.of(9, 0, 1, 2));\nmapA.put(&quot;b.02&quot;, List.of(3, 4, 5, 6));\n\nMap&lt;String, List&lt;List&gt;&gt; mapB = parse(mapA);\nSystem.out.println(mapB);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>{a=[[1, 2, 3, 4], [5, 6, 7, 8]], b=[[9, 0, 1, 2], [3, 4, 5, 6]]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685992535,"creation_date":1685992535,"answer_id":76409397,"question_id":76408303,"body_markdown":"If you want to do it stream-wise you can use a mapping function as part of a collection operation. This will enable a multimap to be created with your simplified and reduced key, with the original values of that key (type `List&lt;string&gt;`) collected into an enclosing `List&lt;List&lt;String&gt;&gt;`:\r\n\r\n    import java.util.stream.*;\r\n    import static java.util.stream.Collectors.*;\r\n    import java.util.*;\r\n    \r\n    public class Grouping {\r\n        public static void main(String[] args) {\r\n            try {\r\n                List&lt;String&gt; l1 = List.of(&quot;foo&quot;, &quot;bar&quot;);\r\n                List&lt;String&gt; l2 = List.of(&quot;goo&quot;, &quot;car&quot;);\r\n                List&lt;String&gt; l3 = List.of(&quot;boo&quot;, &quot;par&quot;);\r\n                List&lt;String&gt; l4 = List.of(&quot;loo&quot;, &quot;tar&quot;);\r\n    \r\n                Map&lt;String, List&lt;String&gt;&gt; mapped = Map.of(\r\n                        &quot;a.1&quot;, l1,\r\n                        &quot;a.2&quot;, l2,\r\n                        &quot;b.1&quot;, l3,\r\n                        &quot;b.2&quot;, l4);\r\n    \r\n                Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt; grouped = mapped.entrySet().\r\n                    stream().\r\n                    collect(groupingBy(e -&gt;e.getKey().substring(0, 1), mapping(e -&gt;e.getValue(), toList())));\r\n                System.out.println(grouped);\r\n            }\r\n            catch(Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nThe output being:\r\n\r\n    {a=[[foo, bar], [goo, car]], b=[[boo, par], [loo, tar]]}\r\n\r\n","title":"Group Values of map with same prefix entry key","body":"<p>If you want to do it stream-wise you can use a mapping function as part of a collection operation. This will enable a multimap to be created with your simplified and reduced key, with the original values of that key (type <code>List&lt;string&gt;</code>) collected into an enclosing <code>List&lt;List&lt;String&gt;&gt;</code>:</p>\n<pre><code>import java.util.stream.*;\nimport static java.util.stream.Collectors.*;\nimport java.util.*;\n\npublic class Grouping {\n    public static void main(String[] args) {\n        try {\n            List&lt;String&gt; l1 = List.of(&quot;foo&quot;, &quot;bar&quot;);\n            List&lt;String&gt; l2 = List.of(&quot;goo&quot;, &quot;car&quot;);\n            List&lt;String&gt; l3 = List.of(&quot;boo&quot;, &quot;par&quot;);\n            List&lt;String&gt; l4 = List.of(&quot;loo&quot;, &quot;tar&quot;);\n\n            Map&lt;String, List&lt;String&gt;&gt; mapped = Map.of(\n                    &quot;a.1&quot;, l1,\n                    &quot;a.2&quot;, l2,\n                    &quot;b.1&quot;, l3,\n                    &quot;b.2&quot;, l4);\n\n            Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt; grouped = mapped.entrySet().\n                stream().\n                collect(groupingBy(e -&gt;e.getKey().substring(0, 1), mapping(e -&gt;e.getValue(), toList())));\n            System.out.println(grouped);\n        }\n        catch(Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The output being:</p>\n<pre><code>{a=[[foo, bar], [goo, car]], b=[[boo, par], [loo, tar]]}\n</code></pre>\n"}],"owner":{"account_id":1196041,"reputation":711,"user_id":1167753,"accept_rate":50,"display_name":"user1167753"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76409397,"answer_count":3,"score":1,"last_activity_date":1685992535,"creation_date":1685982104,"question_id":76408303,"body_markdown":"I have hash map which contains strings like a.01, a.02, b.01, b.02 and a list as value. \r\n\r\nNow I would like to create a new map and put there as a key the prefix of the keys (like a, b,.. etc) and as value the content of the lists of the elements with similar prefix. \r\n\r\n    Example: group lists of prefix a and b \r\n    input: Map&lt;String, List&gt; input = {(a.1,l1), (a.2,l2),(b.1,l3), (b.2,l4)}\r\n    Output: Map&lt;String, List&gt; output = {(a,{l1,l2}), (b,{l3,l4})}\r\n\r\n\r\nI tried the following but it is not working\r\n\r\n    public static Set&lt;String&gt; prefixName(final Map&lt;String, List&gt; names, final String prefix) {\r\n    \t    return names.entrySet().stream()\r\n    \t        .filter(entry -&gt; entry.getKey().startsWith(prefix)).map(entry -&gt; prefix);\r\n    \t}","title":"Group Values of map with same prefix entry key","body":"<p>I have hash map which contains strings like a.01, a.02, b.01, b.02 and a list as value.</p>\n<p>Now I would like to create a new map and put there as a key the prefix of the keys (like a, b,.. etc) and as value the content of the lists of the elements with similar prefix.</p>\n<pre><code>Example: group lists of prefix a and b \ninput: Map&lt;String, List&gt; input = {(a.1,l1), (a.2,l2),(b.1,l3), (b.2,l4)}\nOutput: Map&lt;String, List&gt; output = {(a,{l1,l2}), (b,{l3,l4})}\n</code></pre>\n<p>I tried the following but it is not working</p>\n<pre><code>public static Set&lt;String&gt; prefixName(final Map&lt;String, List&gt; names, final String prefix) {\n        return names.entrySet().stream()\n            .filter(entry -&gt; entry.getKey().startsWith(prefix)).map(entry -&gt; prefix);\n    }\n</code></pre>\n"},{"tags":["java","maven","automation","artifactory"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1685992448,"post_id":76409377,"comment_id":134735645,"body_markdown":"You must be working on converting an Ant project from 10+ years ago into a Maven project. I also assume all the `&lt;artifact&gt;-&lt;version&gt;.jar` files are in a `lib/` directory? This can definitely be a time-consuming process; hunting down the appropriate artifacts. Sometime attempting to locate these artifacts will not be successful. Keep that in mind. You may just have to include the dependency as a local dependency or upload it to a custom Maven repo. I would compare the JAR that you have to the one you eventually pull-down to make sure it&#39;s the same. Check the class file timestamps.","body":"You must be working on converting an Ant project from 10+ years ago into a Maven project. I also assume all the <code>&lt;artifact&gt;-&lt;version&gt;.jar</code> files are in a <code>lib&#47;</code> directory? This can definitely be a time-consuming process; hunting down the appropriate artifacts. Sometime attempting to locate these artifacts will not be successful. Keep that in mind. You may just have to include the dependency as a local dependency or upload it to a custom Maven repo. I would compare the JAR that you have to the one you eventually pull-down to make sure it&#39;s the same. Check the class file timestamps."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1685992626,"post_id":76409377,"comment_id":134735686,"body_markdown":"Also, [JD-GUI](https://java-decompiler.github.io/) is a nice tool to explore Java archive files. You can even view the decompiled source code and compare the contents of each JAR.","body":"Also, <a href=\"https://java-decompiler.github.io/\" rel=\"nofollow noreferrer\">JD-GUI</a> is a nice tool to explore Java archive files. You can even view the decompiled source code and compare the contents of each JAR."},{"owner":{"account_id":6588799,"reputation":2536,"user_id":5090758,"accept_rate":46,"display_name":"William Rosenbloom"},"score":0,"creation_date":1685992695,"post_id":76409377,"comment_id":134735698,"body_markdown":"It&#39;s even worse. I am trying to build new plugins into an old Ant project with a `lib/` directory. I am working on a custom Gradle task to detect incompatible/missing dependencies for the plugin.","body":"It&#39;s even worse. I am trying to build new plugins into an old Ant project with a <code>lib&#47;</code> directory. I am working on a custom Gradle task to detect incompatible/missing dependencies for the plugin."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1685995404,"post_id":76409377,"comment_id":134736149,"body_markdown":"I can recommend to look into the examples https://github.com/apache/maven-indexer/tree/maven-indexer-7.0.2/indexer-examples of the maven-indexer project ... https://maven.apache.org/maven-indexer/ also there is this: https://github.com/mthmulders/mcs","body":"I can recommend to look into the examples <a href=\"https://github.com/apache/maven-indexer/tree/maven-indexer-7.0.2/indexer-examples\" rel=\"nofollow noreferrer\">github.com/apache/maven-indexer/tree/maven-indexer-7.0.2/&hellip;</a> of the maven-indexer project ... <a href=\"https://maven.apache.org/maven-indexer/\" rel=\"nofollow noreferrer\">maven.apache.org/maven-indexer</a> also there is this: <a href=\"https://github.com/mthmulders/mcs\" rel=\"nofollow noreferrer\">github.com/mthmulders/mcs</a>"}],"owner":{"account_id":6588799,"reputation":2536,"user_id":5090758,"accept_rate":46,"display_name":"William Rosenbloom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685992274,"creation_date":1685992274,"question_id":76409377,"body_markdown":"I have a directory that contains maven artifacts. Some of the artifacts have a `pom.properties` file that I can use to fully resolve their GAV. Most don&#39;t. All the artifacts are named as `&lt;artifact&gt;-&lt;version&gt;.jar`.\r\n\r\nI want to make a spreadsheet of maven coordinates for each jar. I have made a little python function that can derive the artifact name and version from the filenames.\r\n\r\n    import re\r\n\r\n    REGEX_A = re.compile(r&#39;^([\\w\\.-]+?)-(\\d+\\.\\d+[\\w\\.-]*)\\.jar$&#39;)\r\n    REGEX_B = re.compile(r&#39;^(.+?)-([\\w\\.]+)\\.jar$&#39;)\r\n\r\n    # Returns (artifact, version) tuple\r\n    def parse_filename(basename):\r\n        m = REGEX_A.fullmatch(basename)\r\n        if m is None:\r\n            m = REGEX_B.fullmatch(basename)\r\n        if m is not None:\r\n            return m.group(1), m.group(2)\r\n        # last resort: return unversioned basename without extension\r\n        return basename[:len(basename)-4], None\r\n\r\nI can use these artifact/version pairs to lookup artifacts on Maven repo websites, but the process is tedious. How can I automatically lookup the artifact and version without going through a &lt;strike&gt;website&lt;/strike&gt; browser?\r\n\r\nI found Apache has a [Maven Search API][1] java library. It is not well documented. I&#39;m not even sure if it&#39;s what I&#39;m looking for. Further, I can&#39;t find information about the actual API behind it. I could go into their source code to reverse engineer it but I&#39;m hoping there&#39;s an easier solution.\r\n        \r\n\r\n\r\n  [1]: https://maven.apache.org/maven-indexer/search-api/","title":"How to automatically search maven repositories?","body":"<p>I have a directory that contains maven artifacts. Some of the artifacts have a <code>pom.properties</code> file that I can use to fully resolve their GAV. Most don't. All the artifacts are named as <code>&lt;artifact&gt;-&lt;version&gt;.jar</code>.</p>\n<p>I want to make a spreadsheet of maven coordinates for each jar. I have made a little python function that can derive the artifact name and version from the filenames.</p>\n<pre><code>import re\n\nREGEX_A = re.compile(r'^([\\w\\.-]+?)-(\\d+\\.\\d+[\\w\\.-]*)\\.jar$')\nREGEX_B = re.compile(r'^(.+?)-([\\w\\.]+)\\.jar$')\n\n# Returns (artifact, version) tuple\ndef parse_filename(basename):\n    m = REGEX_A.fullmatch(basename)\n    if m is None:\n        m = REGEX_B.fullmatch(basename)\n    if m is not None:\n        return m.group(1), m.group(2)\n    # last resort: return unversioned basename without extension\n    return basename[:len(basename)-4], None\n</code></pre>\n<p>I can use these artifact/version pairs to lookup artifacts on Maven repo websites, but the process is tedious. How can I automatically lookup the artifact and version without going through a <strike>website</strike> browser?</p>\n<p>I found Apache has a <a href=\"https://maven.apache.org/maven-indexer/search-api/\" rel=\"nofollow noreferrer\">Maven Search API</a> java library. It is not well documented. I'm not even sure if it's what I'm looking for. Further, I can't find information about the actual API behind it. I could go into their source code to reverse engineer it but I'm hoping there's an easier solution.</p>\n"},{"tags":["java","oop","interface"],"comments":[{"owner":{"account_id":7350228,"reputation":549,"user_id":5596684,"accept_rate":50,"display_name":"cr1pto"},"score":0,"creation_date":1588482784,"post_id":9446893,"comment_id":108910449,"body_markdown":"In c#, you can use an interface to implement a *property*, which behaves similar to a getter/setter method in java, but is frequently treated like a class member.","body":"In c#, you can use an interface to implement a <i>property</i>, which behaves similar to a getter/setter method in java, but is frequently treated like a class member."}],"answers":[{"comments":[{"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"score":1,"creation_date":1355733566,"post_id":9446909,"comment_id":19171802,"body_markdown":"I saw this only for j2me where is Java 1.3","body":"I saw this only for j2me where is Java 1.3"},{"owner":{"account_id":1977090,"reputation":8845,"user_id":1774643,"accept_rate":70,"display_name":"Georgian"},"score":1,"creation_date":1388997672,"post_id":9446909,"comment_id":31457807,"body_markdown":"Why would you say that interfaces with constants are avoided?","body":"Why would you say that interfaces with constants are avoided?"},{"owner":{"account_id":7405841,"reputation":897,"user_id":5634808,"display_name":"Amos Kosgei"},"score":4,"creation_date":1540633335,"post_id":9446909,"comment_id":92943540,"body_markdown":"Answering for , &quot;Why would you say that interfaces with constants are avoided&quot; , because designwise its not good practise, if you want to define constants, simply create an Enum class and define them there, its more logical and neat. In my opinion it does not make sense to implement an interface to make use of the constants, thats bloated code.","body":"Answering for , &quot;Why would you say that interfaces with constants are avoided&quot; , because designwise its not good practise, if you want to define constants, simply create an Enum class and define them there, its more logical and neat. In my opinion it does not make sense to implement an interface to make use of the constants, thats bloated code."},{"owner":{"account_id":10714452,"reputation":5430,"user_id":7885651,"display_name":"Muhammed Ozdogan"},"score":0,"creation_date":1580923401,"post_id":9446909,"comment_id":106260341,"body_markdown":"Could you share any reference? Doc url maybe.","body":"Could you share any reference? Doc url maybe."},{"owner":{"account_id":2837945,"reputation":959,"user_id":2438177,"accept_rate":72,"display_name":"FraK"},"score":2,"creation_date":1595857076,"post_id":9446909,"comment_id":111611021,"body_markdown":"@MuhammedOzdogan , you can see item 22: &quot;Use interfaces only to define types&quot; of &quot;Effective Java&quot; : &quot;The constant interface pattern is a poor use of interfaces. That a class uses\nsome constants internally is an implementation detail. Implementing a constant\ninterface causes this implementation detail to leak into the class’s exported API.&quot;","body":"@MuhammedOzdogan , you can see item 22: &quot;Use interfaces only to define types&quot; of &quot;Effective Java&quot; : &quot;The constant interface pattern is a poor use of interfaces. That a class uses some constants internally is an implementation detail. Implementing a constant interface causes this implementation detail to leak into the class’s exported API.&quot;"},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1654531673,"post_id":9446909,"comment_id":128107279,"body_markdown":"defaults change everything... not that defaults were a bad idea..., they were a necessity.\nprivate constants inside an interface would make it possible to define preestablished default states.\nAn example would be myFunction = UnaryOperator.identity(), could now be inferred with myFunction.isIdentity(), by having a private static final Function&lt;T, T&gt; privateIdentity;... and then default boolean isIdentity() {return this == privateIdentity;} \n\nAll types of default behaviors are characterized by a constant used/unused parameter, that the client should not care about.","body":"defaults change everything... not that defaults were a bad idea..., they were a necessity. private constants inside an interface would make it possible to define preestablished default states. An example would be myFunction = UnaryOperator.identity(), could now be inferred with myFunction.isIdentity(), by having a private static final Function&lt;T, T&gt; privateIdentity;... and then default boolean isIdentity() {return this == privateIdentity;}   All types of default behaviors are characterized by a constant used/unused parameter, that the client should not care about."}],"tags":[],"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"comment_count":6,"down_vote_count":1,"up_vote_count":111,"is_accepted":true,"score":110,"last_activity_date":1414428394,"creation_date":1330195363,"answer_id":9446909,"question_id":9446893,"body_markdown":"All fields in interface are `public static final`, i.e. they are constants.\r\n\r\nIt is generally recommended to avoid such interfaces, but sometimes you can find an interface that has no methods and is used only to contain list of constant values.","title":"Fields in interfaces","body":"<p>All fields in interface are <code>public static final</code>, i.e. they are constants.</p>\n\n<p>It is generally recommended to avoid such interfaces, but sometimes you can find an interface that has no methods and is used only to contain list of constant values.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1330195956,"creation_date":1330195956,"answer_id":9447013,"question_id":9446893,"body_markdown":"What if that interface refers to constants? Wouldn&#39;t it be natural to declare them in the interface?\r\n\r\n    interface IdFinder {\r\n        Serializable UNSAVED = new Serializable() {};\r\n\r\n        /** @returns the given entity&#39;s persistent identity, \r\n                     or {@link UNSAVED} if it hasn&#39;t been saved yet, \r\n                     or null if o is a value object that hasn&#39;t a \r\n                     persistent identity of its own.\r\n         */\r\n        Serializable getId(Object o);\r\n    }","title":"Fields in interfaces","body":"<p>What if that interface refers to constants? Wouldn't it be natural to declare them in the interface?</p>\n\n<pre><code>interface IdFinder {\n    Serializable UNSAVED = new Serializable() {};\n\n    /** @returns the given entity's persistent identity, \n                 or {@link UNSAVED} if it hasn't been saved yet, \n                 or null if o is a value object that hasn't a \n                 persistent identity of its own.\n     */\n    Serializable getId(Object o);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":470405,"reputation":536,"user_id":877591,"display_name":"jlemos"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1330196687,"creation_date":1330196687,"answer_id":9447111,"question_id":9446893,"body_markdown":"Yes, you can have constant fields in interfaces, but you are right when you say that &quot;it seems contrary to what an interface is supposed to do&quot;, as it is not a good practice. Why would you want to have all your classes that implement an interface with the same constants? You could simply have them in the class that uses them, or if you really need to export them somehow, have them in a separate class utiliy like this:\r\n\r\n    public class Constants {\r\n        private Constants() { }\r\n\r\n        public static final int ZERO = 0;\r\n        public static final int SOME_COMPLEX_NUM = 2124132L;\r\n        ...\r\n    }\r\n\r\nYou also have enums, if you need to represent a set of constant fields with some meaning. I do not see any &quot;use case&quot; where you would actually need constants in an interface. But could be wrong :)","title":"Fields in interfaces","body":"<p>Yes, you can have constant fields in interfaces, but you are right when you say that \"it seems contrary to what an interface is supposed to do\", as it is not a good practice. Why would you want to have all your classes that implement an interface with the same constants? You could simply have them in the class that uses them, or if you really need to export them somehow, have them in a separate class utiliy like this:</p>\n\n<pre><code>public class Constants {\n    private Constants() { }\n\n    public static final int ZERO = 0;\n    public static final int SOME_COMPLEX_NUM = 2124132L;\n    ...\n}\n</code></pre>\n\n<p>You also have enums, if you need to represent a set of constant fields with some meaning. I do not see any \"use case\" where you would actually need constants in an interface. But could be wrong :)</p>\n"},{"comments":[{"owner":{"account_id":20847162,"reputation":894,"user_id":15312420,"display_name":"Mehdi Charife"},"score":0,"creation_date":1695499666,"post_id":9447324,"comment_id":136033591,"body_markdown":"*&quot;.g. interface &quot;programmer&quot; can have constant WORK_HOURS set to &quot;8&quot;* A programmer might be jobless or a hobbyist. Work hours is not an inherent property of the programmer. Instead, it&#39;s a property of the job they occupy. The information about the work hours should belong in a `Job` class, which could be implemented by `Worker`.","body":"<i>&quot;.g. interface &quot;programmer&quot; can have constant WORK_HOURS set to &quot;8&quot;</i> A programmer might be jobless or a hobbyist. Work hours is not an inherent property of the programmer. Instead, it&#39;s a property of the job they occupy. The information about the work hours should belong in a <code>Job</code> class, which could be implemented by <code>Worker</code>."}],"tags":[],"owner":{"account_id":151783,"reputation":27742,"user_id":365872,"accept_rate":91,"display_name":"ffriend"},"comment_count":1,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1330198311,"creation_date":1330198311,"answer_id":9447324,"question_id":9446893,"body_markdown":"First of all, there&#39;s difference between **OOP paradigm** and **OOP implementation in Java**, so same words may mean a bit different things. \r\n\r\nIn OOP the paradigm interface is what **you can do with the object** (or what **object can do for you**). Any object can have several interfaces and thus play different roles. For example, someone may work as a programmer and be able to create programs, but at the same time he may be a husband and father and thus be able to pay the bills for his family and take care of children. Here &quot;programmer&quot;, &quot;husband&quot; and &quot;father&quot; are interfaces, and a person is an object that implements them. Note, that interfaces do not imply presence of any specific features (fields) for implementing object, just actions that this object should be able to perform. \r\n\r\nJava more or less follows this idea, but as any paradigm implementation has its own features. Java allows describing methods, that is actions that the implementing object should be able to perform, but not any implementation details, thus, nothing about object fields or private methods. \r\n\r\nBut what about **constants** (`public final static` fields)? Are they part of implementation or interface. It could be both. E.g. interface &quot;programmer&quot; can have constant `WORK_HOURS` set to &quot;8&quot;. Thus Java allows you to describe constants in interfaces too. \r\n\r\nNote, that Java only helps you to make good OOP design, but it doesn&#39;t strongly require it. In particular, not all public methods of an object should exist in interface too. For example, getter and setter methods are normally public, but in fact they are the **part of implementation**, not interface, and thus it&#39;s worth not to bring them into interface. \r\n\r\n(Please also note, that most things I described here are about mainstream OOP like in Java, but there are also other kinds of OOP such as prototype-based one, in particular implemented in JavaScript). ","title":"Fields in interfaces","body":"<p>First of all, there's difference between <strong>OOP paradigm</strong> and <strong>OOP implementation in Java</strong>, so same words may mean a bit different things. </p>\n\n<p>In OOP the paradigm interface is what <strong>you can do with the object</strong> (or what <strong>object can do for you</strong>). Any object can have several interfaces and thus play different roles. For example, someone may work as a programmer and be able to create programs, but at the same time he may be a husband and father and thus be able to pay the bills for his family and take care of children. Here \"programmer\", \"husband\" and \"father\" are interfaces, and a person is an object that implements them. Note, that interfaces do not imply presence of any specific features (fields) for implementing object, just actions that this object should be able to perform. </p>\n\n<p>Java more or less follows this idea, but as any paradigm implementation has its own features. Java allows describing methods, that is actions that the implementing object should be able to perform, but not any implementation details, thus, nothing about object fields or private methods. </p>\n\n<p>But what about <strong>constants</strong> (<code>public final static</code> fields)? Are they part of implementation or interface. It could be both. E.g. interface \"programmer\" can have constant <code>WORK_HOURS</code> set to \"8\". Thus Java allows you to describe constants in interfaces too. </p>\n\n<p>Note, that Java only helps you to make good OOP design, but it doesn't strongly require it. In particular, not all public methods of an object should exist in interface too. For example, getter and setter methods are normally public, but in fact they are the <strong>part of implementation</strong>, not interface, and thus it's worth not to bring them into interface. </p>\n\n<p>(Please also note, that most things I described here are about mainstream OOP like in Java, but there are also other kinds of OOP such as prototype-based one, in particular implemented in JavaScript). </p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686005418,"post_id":76407485,"comment_id":134737444,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76407485/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18509144,"reputation":1,"user_id":13484794,"display_name":"Sebastian F."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685991748,"creation_date":1685975464,"answer_id":76407485,"question_id":9446893,"body_markdown":"While other answers explain the theory, I just wanted to give you a &#39;production&#39; example of an interface that has fields - you can find it in &lt;code&gt;javax.servlet.ServletContext&lt;/code&gt;. &lt;br/&gt;\r\nThere is such field:&lt;br/&gt;\r\n```java\r\n  /**\r\n   * The name of the ServletContext attribute that holds the temporary file\r\n   * location for the web application.\r\n   */\r\n  public static final String TEMPDIR = &quot;javax.servlet.context.tempdir&quot;;\r\n```","title":"Fields in interfaces","body":"<p>While other answers explain the theory, I just wanted to give you a 'production' example of an interface that has fields - you can find it in <code>javax.servlet.ServletContext</code>. <br/>\nThere is such field:<br/></p>\n<pre class=\"lang-java prettyprint-override\"><code>  /**\n   * The name of the ServletContext attribute that holds the temporary file\n   * location for the web application.\n   */\n  public static final String TEMPDIR = &quot;javax.servlet.context.tempdir&quot;;\n</code></pre>\n"}],"owner":{"account_id":1140701,"reputation":3189,"user_id":1124703,"accept_rate":100,"display_name":"Sal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137490,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":9446909,"answer_count":5,"score":89,"last_activity_date":1685991748,"creation_date":1330195232,"question_id":9446893,"body_markdown":"I have a basic question in Java, but it&#39;s a general question in OOP. Why do interfaces allow fields to be set? Doesn&#39;t that run contrary to what an interface is supposed to do? \r\n\r\nThe way I made sense of it, an interface is what in English would be an adjective. So, if my class implements the interfaces Runnable and Serializable, I&#39;m ensuring the user that my class will satisfy the conditions to be Runnable and Seriablizable. However, that would mean interfaces are &quot;stateless&quot;, but they are allowed to have fields in Java...\r\n\r\nAm I missing something?","title":"Fields in interfaces","body":"<p>I have a basic question in Java, but it's a general question in OOP. Why do interfaces allow fields to be set? Doesn't that run contrary to what an interface is supposed to do? </p>\n\n<p>The way I made sense of it, an interface is what in English would be an adjective. So, if my class implements the interfaces Runnable and Serializable, I'm ensuring the user that my class will satisfy the conditions to be Runnable and Seriablizable. However, that would mean interfaces are \"stateless\", but they are allowed to have fields in Java...</p>\n\n<p>Am I missing something?</p>\n"},{"tags":["java","spring","caching","redisson"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685992036,"post_id":76409258,"comment_id":134735576,"body_markdown":"capture several threadumps or profile the application then analyze what is using CPU.","body":"capture several threadumps or profile the application then analyze what is using CPU."},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685993047,"post_id":76409258,"comment_id":134735752,"body_markdown":"Did you try with the default number of nettyThreads and threads ? And yes, follow @aled advice.","body":"Did you try with the default number of nettyThreads and threads ? And yes, follow @aled advice."},{"owner":{"account_id":2814933,"reputation":2695,"user_id":2420280,"accept_rate":54,"display_name":"Osama Jetawe"},"score":0,"creation_date":1685993233,"post_id":76409258,"comment_id":134735784,"body_markdown":"Thank you @SebPerp and @ aled for your feedback, does large number of  nettyThreads and threads impact CPU utilization , I&#39;m using AWS EC2 with type **m6g.2xlarge**","body":"Thank you @SebPerp and @ aled for your feedback, does large number of  nettyThreads and threads impact CPU utilization , I&#39;m using AWS EC2 with type <b>m6g.2xlarge</b>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685994514,"post_id":76409258,"comment_id":134736004,"body_markdown":"Too many things impact CPU usage. Impossible to say without captured information from the execution. Just looking at a single configuration value doesn&#39;t provide enough information.","body":"Too many things impact CPU usage. Impossible to say without captured information from the execution. Just looking at a single configuration value doesn&#39;t provide enough information."}],"owner":{"account_id":2814933,"reputation":2695,"user_id":2420280,"accept_rate":54,"display_name":"Osama Jetawe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685991374,"creation_date":1685991374,"question_id":76409258,"body_markdown":"I&#39;m setting up a Redis cache layer using **AWS Elasticache Redis** version **7.0.7** over **spring** framework \r\n\r\nI&#39;m usign Java Redisson client version **3.16.0** and java version **1.8** \r\n\r\nBelow is my Redisson client configurations\r\n\r\n    final Config redissonConfig = new Config();\r\n\tredissonConfig.setNettyThreads(256);\r\n\tredissonConfig.setThreads(128);\r\n\tredissonConfig.useClusterServers()\r\n\t\t\t.setKeepAlive(true)\r\n\t\t\t.setConnectTimeout(5000)\r\n\t\t\t.setRetryAttempts(1)\r\n\t\t\t.setRetryInterval(50)\r\n\t\t\t.setPingConnectionInterval(10000)\r\n\t\t\t.setDnsMonitoringInterval(20000)\r\n\t\t\t.addNodeAddress(redisAddress);\r\n\tRedissonClient client = Redisson.create(redissonConfig);\r\n\treturn client;\r\n\r\nI&#39;m caching the method using **@cacheable** annotation \r\n\r\nHowever after deploying this change I can see the **CPU utilization reached to 90%** with increase 60%.\r\n\r\ntaking into consideration that I have set number of **NettyThreads** to **256**  and **Threads** to **128** .\r\n\r\nAny recommendation to solve the high CPU utilization\r\n\r\nThanks","title":"Java Redisson CPU utilization 90%","body":"<p>I'm setting up a Redis cache layer using <strong>AWS Elasticache Redis</strong> version <strong>7.0.7</strong> over <strong>spring</strong> framework</p>\n<p>I'm usign Java Redisson client version <strong>3.16.0</strong> and java version <strong>1.8</strong></p>\n<p>Below is my Redisson client configurations</p>\n<pre><code>final Config redissonConfig = new Config();\nredissonConfig.setNettyThreads(256);\nredissonConfig.setThreads(128);\nredissonConfig.useClusterServers()\n        .setKeepAlive(true)\n        .setConnectTimeout(5000)\n        .setRetryAttempts(1)\n        .setRetryInterval(50)\n        .setPingConnectionInterval(10000)\n        .setDnsMonitoringInterval(20000)\n        .addNodeAddress(redisAddress);\nRedissonClient client = Redisson.create(redissonConfig);\nreturn client;\n</code></pre>\n<p>I'm caching the method using <strong>@cacheable</strong> annotation</p>\n<p>However after deploying this change I can see the <strong>CPU utilization reached to 90%</strong> with increase 60%.</p>\n<p>taking into consideration that I have set number of <strong>NettyThreads</strong> to <strong>256</strong>  and <strong>Threads</strong> to <strong>128</strong> .</p>\n<p>Any recommendation to solve the high CPU utilization</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","jwk"],"answers":[{"tags":[],"owner":{"account_id":3034977,"reputation":1178,"user_id":2573297,"accept_rate":64,"display_name":"PT_C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685990270,"creation_date":1685990270,"answer_id":76409165,"question_id":76333547,"body_markdown":"I was deploying 2 apps with 2 different Spring profiles (dev vs development) which was breaking each app and preventing them from being deployed together.\r\n\r\nTLDR: Active Spring Profiles should match across apps\r\n\r\n**app1**\r\n\r\n./system-property=spring.profiles.active:add(value=&quot;development&quot;) \r\n\r\n**app2**\r\n\r\n./system-property=spring.profiles.active:add(value=&quot;development&quot;) \r\n","title":"Spring - jwkSet throwing null pointer","body":"<p>I was deploying 2 apps with 2 different Spring profiles (dev vs development) which was breaking each app and preventing them from being deployed together.</p>\n<p>TLDR: Active Spring Profiles should match across apps</p>\n<p><strong>app1</strong></p>\n<p>./system-property=spring.profiles.active:add(value=&quot;development&quot;)</p>\n<p><strong>app2</strong></p>\n<p>./system-property=spring.profiles.active:add(value=&quot;development&quot;)</p>\n"}],"owner":{"account_id":3034977,"reputation":1178,"user_id":2573297,"accept_rate":64,"display_name":"PT_C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685990270,"creation_date":1685025792,"question_id":76333547,"body_markdown":"I&#39;ve got two apps deployed to a jboss7 server, a springboot oauth app (app1) and an api app (app2) that uses the token it generates. Both apps deploy and run fine, however when I deploy app2 and app1 is already running, app1 will fail to instantiate the jwk controller.\r\n\r\nRe-deploying app1 fixes the issue. But deploying app2 consistently breaks app1 with the same error.\r\n\r\nIs there additional config needed when deploying a spring oauth app to jboss?\r\n\r\n\r\nhttps://www.baeldung.com/spring-security-oauth2-jws-jwk\r\n\r\n\r\n**Error**\r\n\r\n    Caused by: java.lang.RuntimeException: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jwkSetController&#39;: Unsatisfied dependency expressed through field &#39;jwkSet&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jwkSet&#39; defined in class path resource [oauth/config/OAuth2Conf.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.nimbusds.jose.jwk.JWKSet]: Factory method &#39;jwkSet&#39; threw exception; nested exception is java.lang.NullPointerException\r\n\r\n\r\n**Code**\r\n\r\n    @Bean\r\n      public JWKSet jwkSet() {\r\n        RSAKey.Builder builder = new RSAKey.Builder((RSAPublicKey) keyPair().getPublic())\r\n                .keyUse(KeyUse.SIGNATURE)\r\n                .algorithm(JWSAlgorithm.RS256)\r\n                .keyID(JWK_KID);\r\n        return new JWKSet(builder.build());\r\n      }\r\n\r\n\r\n\r\n","title":"Spring - jwkSet throwing null pointer","body":"<p>I've got two apps deployed to a jboss7 server, a springboot oauth app (app1) and an api app (app2) that uses the token it generates. Both apps deploy and run fine, however when I deploy app2 and app1 is already running, app1 will fail to instantiate the jwk controller.</p>\n<p>Re-deploying app1 fixes the issue. But deploying app2 consistently breaks app1 with the same error.</p>\n<p>Is there additional config needed when deploying a spring oauth app to jboss?</p>\n<p><a href=\"https://www.baeldung.com/spring-security-oauth2-jws-jwk\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-oauth2-jws-jwk</a></p>\n<p><strong>Error</strong></p>\n<pre><code>Caused by: java.lang.RuntimeException: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwkSetController': Unsatisfied dependency expressed through field 'jwkSet'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwkSet' defined in class path resource [oauth/config/OAuth2Conf.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.nimbusds.jose.jwk.JWKSet]: Factory method 'jwkSet' threw exception; nested exception is java.lang.NullPointerException\n</code></pre>\n<p><strong>Code</strong></p>\n<pre><code>@Bean\n  public JWKSet jwkSet() {\n    RSAKey.Builder builder = new RSAKey.Builder((RSAPublicKey) keyPair().getPublic())\n            .keyUse(KeyUse.SIGNATURE)\n            .algorithm(JWSAlgorithm.RS256)\n            .keyID(JWK_KID);\n    return new JWKSet(builder.build());\n  }\n</code></pre>\n"},{"tags":["java","lambda","java-8","functional-programming","java-stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":8,"creation_date":1552127438,"post_id":55076338,"comment_id":96899416,"body_markdown":"It is a common misconception that everything will &quot;become more elegant&quot; when you use streams. This code right now is perfectly fine, you should not replace _every_ for loop in your code to use streams.","body":"It is a common misconception that everything will &quot;become more elegant&quot; when you use streams. This code right now is perfectly fine, you should not replace <i>every</i> for loop in your code to use streams."},{"owner":{"account_id":9635091,"reputation":12808,"user_id":7151494,"display_name":"Fureeish"},"score":0,"creation_date":1552127542,"post_id":55076338,"comment_id":96899437,"body_markdown":"You might be interested in [chars()](https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#chars--) method from String.","body":"You might be interested in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html#chars--\" rel=\"nofollow noreferrer\">chars()</a> method from String."},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1552164864,"post_id":55076338,"comment_id":96909396,"body_markdown":"You should as well note that your stream version and your initial Java 7 solution won’t do the same. In the first version you have an early exit if `!matches(stack.pop(), c)`. This is gone in the stream version.","body":"You should as well note that your stream version and your initial Java 7 solution won’t do the same. In the first version you have an early exit if <code>!matches(stack.pop(), c)</code>. This is gone in the stream version."},{"owner":{"account_id":2297644,"reputation":911,"user_id":2018737,"accept_rate":80,"display_name":"theyCallMeJun"},"score":0,"creation_date":1552177421,"post_id":55076338,"comment_id":96912268,"body_markdown":"@dpr Yes both versions produce the same result but go about it differently. I reckon though that the Java 8 would be slower because it has to go through all items in the list. This is because you can&#39;t have `break` or `return` using `forEach`. However, in the end `stack.isEmpty()` can either be true or false. I have decided to use the Java 7 version.","body":"@dpr Yes both versions produce the same result but go about it differently. I reckon though that the Java 8 would be slower because it has to go through all items in the list. This is because you can&#39;t have <code>break</code> or <code>return</code> using <code>forEach</code>. However, in the end <code>stack.isEmpty()</code> can either be true or false. I have decided to use the Java 7 version."},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1552203052,"post_id":55076338,"comment_id":96916119,"body_markdown":"Upvote for not converting to streams.","body":"Upvote for not converting to streams."},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1552292393,"post_id":55076338,"comment_id":96938495,"body_markdown":"Is `matches` doing anything apart from performing some checks?","body":"Is <code>matches</code> doing anything apart from performing some checks?"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1552293170,"post_id":55076338,"comment_id":96938816,"body_markdown":"Additionally to the early exit, the stream version will fail, if the first character of the expression `a[0]` fails the `isOpenToken` check. With the Java7 version nothing will be done as the stack is empty. The stream version will throw an `EmptyStackException` as calling `stack.pop()` on an empty stack is not allowed.","body":"Additionally to the early exit, the stream version will fail, if the first character of the expression <code>a[0]</code> fails the <code>isOpenToken</code> check. With the Java7 version nothing will be done as the stack is empty. The stream version will throw an <code>EmptyStackException</code> as calling <code>stack.pop()</code> on an empty stack is not allowed."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1552307354,"post_id":55076338,"comment_id":96946484,"body_markdown":"You could use `return expression.chars().allMatch(c -&gt; isOpenToken(c) &amp;&amp; stack.add(c) || matches(stack.removeLast(), c));` if you change the uses of `char`/`Character` to `int`/`Integer`, however, that’s not the intended usage of the Stream API.","body":"You could use <code>return expression.chars().allMatch(c -&gt; isOpenToken(c) &amp;&amp; stack.add(c) || matches(stack.removeLast(), c));</code> if you change the uses of <code>char</code>/<code>Character</code> to <code>int</code>/<code>Integer</code>, however, that’s not the intended usage of the Stream API."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1552305800,"post_id":55076463,"comment_id":96945663,"body_markdown":"It would make more sense to use `expression.chars()` to get an `IntStream` over the chars without copying everything into an array first.","body":"It would make more sense to use <code>expression.chars()</code> to get an <code>IntStream</code> over the chars without copying everything into an array first."}],"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552127957,"creation_date":1552127957,"answer_id":55076463,"question_id":55076338,"body_markdown":"Not much, that can be done here, streams are great for mapping, filtering, aggregating, collecting... Here you only have side effects for every element. You might wanna use some of functional goodness of streams by applying mapping:\r\n\r\n    IntStream.range(0, a.length).map(i -&gt; a[i]).forEach(el -&gt; {\r\n        if (isOpenToken(el)) {\r\n            stack.push(el);\r\n        } else {\r\n            matches(stack.pop(), el);\r\n        }\r\n    });","title":"Using if-else condition in Java 8 using streams and lambda","body":"<p>Not much, that can be done here, streams are great for mapping, filtering, aggregating, collecting... Here you only have side effects for every element. You might wanna use some of functional goodness of streams by applying mapping:</p>\n\n<pre><code>IntStream.range(0, a.length).map(i -&gt; a[i]).forEach(el -&gt; {\n    if (isOpenToken(el)) {\n        stack.push(el);\n    } else {\n        matches(stack.pop(), el);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":2297644,"reputation":911,"user_id":2018737,"accept_rate":80,"display_name":"theyCallMeJun"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":876,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1685989406,"creation_date":1552127066,"question_id":55076338,"body_markdown":"I have read this post [https://stackoverflow.com/questions/38021061/how-to-use-if-else-logic-in-java-8-stream-foreach][1]\r\n\r\nThe whole point of Java 8 is to write more elegant, readable and concise code.\r\nI rewrote this execute method utilizing Java 8 Streams and Lambda but what i end up with doesn&#39;t look any different from the Java 7 version.\r\n\r\n    private static boolean execute(String expression) {\r\n        Deque&lt;Character&gt; stack = new ArrayDeque&lt;&gt;();\r\n        for (char c : expression.toCharArray()) {\r\n            if (isOpenToken(c)) {\r\n                stack.push(c);\r\n            } else if (stack.isEmpty() || !matches(stack.pop(), c)) {\r\n                return false;\r\n            }\r\n        }\r\n        return stack.isEmpty();\r\n    }\r\n\r\nThis is what the method looks like now in Java 8\r\n\r\n    private static boolean execute(String expression) {\r\n        char[] a = expression.toCharArray();\r\n        Deque&lt;Character&gt; stack = new ArrayDeque&lt;&gt;();\r\n        IntStream.range(0, a.length).forEach(i -&gt; {\r\n            if (isOpenToken(a[i])) {\r\n                stack.push(a[i]);\r\n            } else {\r\n                matches(stack.pop(), a[i]);\r\n            }\r\n        });\r\n        return stack.isEmpty();\r\n    }\r\n\r\nIs there a more elegant way of doing this in Java 8?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38021061/how-to-use-if-else-logic-in-java-8-stream-foreach","title":"Using if-else condition in Java 8 using streams and lambda","body":"<p>I have read this post <a href=\"https://stackoverflow.com/questions/38021061/how-to-use-if-else-logic-in-java-8-stream-foreach\">How to use if-else logic in Java 8 stream forEach</a></p>\n\n<p>The whole point of Java 8 is to write more elegant, readable and concise code.\nI rewrote this execute method utilizing Java 8 Streams and Lambda but what i end up with doesn't look any different from the Java 7 version.</p>\n\n<pre><code>private static boolean execute(String expression) {\n    Deque&lt;Character&gt; stack = new ArrayDeque&lt;&gt;();\n    for (char c : expression.toCharArray()) {\n        if (isOpenToken(c)) {\n            stack.push(c);\n        } else if (stack.isEmpty() || !matches(stack.pop(), c)) {\n            return false;\n        }\n    }\n    return stack.isEmpty();\n}\n</code></pre>\n\n<p>This is what the method looks like now in Java 8</p>\n\n<pre><code>private static boolean execute(String expression) {\n    char[] a = expression.toCharArray();\n    Deque&lt;Character&gt; stack = new ArrayDeque&lt;&gt;();\n    IntStream.range(0, a.length).forEach(i -&gt; {\n        if (isOpenToken(a[i])) {\n            stack.push(a[i]);\n        } else {\n            matches(stack.pop(), a[i]);\n        }\n    });\n    return stack.isEmpty();\n}\n</code></pre>\n\n<p>Is there a more elegant way of doing this in Java 8?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"owner":{"account_id":14718612,"reputation":1,"user_id":10629907,"display_name":"Piotr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685989391,"creation_date":1685989302,"question_id":76409059,"body_markdown":"I&#39;ve updated my project from spring-boot:2.5.14 to spring-boot:2.7.11. (For reference the spring-webmvc was 5.3.20 before and is 5.3.27 now).This has caused one of my error handling responses to break. What&#39;s interesting is that all 4xx still work fine, except for 404.\r\n\r\nFor my error handling, I&#39;m extending the `ResponseEntityExceptionHandler `that looks like this:\r\n\r\n```\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@ControllerAdvice\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class RestExceptionControllerAdvice extends ResponseEntityExceptionHandler {\r\n  //other fields and methods...\r\n  @Override\r\n  protected ResponseEntity&lt;Object&gt; handleExceptionInternal(Exception ex, @Nullable Object body, \r\n      HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n    if (status.is4xxClientError()) {\r\n      return getResponseParametersEntity(status, CustomStatus.REQUEST_NOT_ACCEPTED, \r\n          request.getLocale());\r\n    }\r\n    return super.handleExceptionInternal(ex, body, headers, status, request);\r\n  }\r\n```\r\n\r\nI do have `spring.mvc.throw-exception-if-no-handler-found=true` in my application.properties.\r\n\r\nThe problem within Spring that I was able to identify is that previously I was getting a NoHandlerException because that getHanlder function in DispatcherServlet was getting 4 handlers and returning a null since none of them matched:[4 handlers](https://i.stack.imgur.com/rMk0I.png)\r\n\r\nNow, after the update, there are 6 of them and the SimpleUrlHandlerMapping gets returned instead of the null and the exception isn&#39;t thrown:[6 handlers](https://i.stack.imgur.com/QbL63.png)\r\n\r\nHow can I make my RestExceptionControllerAdvice handle the 404 like it did before?\r\n\r\nI&#39;ve tried searching for a solution but some seem outdated and some seem to point out that the `spring.mvc.throw-exception-if-no-handler-found=true` is missing which in my case it&#39;s not. Also, what differs in my case is that this has worked in v 2.5.14 and now in 2.7.11 isn&#39;t.","title":"Spring ResponseEntityExceptionHandler doesn&#39;t catch 404 error after an update","body":"<p>I've updated my project from spring-boot:2.5.14 to spring-boot:2.7.11. (For reference the spring-webmvc was 5.3.20 before and is 5.3.27 now).This has caused one of my error handling responses to break. What's interesting is that all 4xx still work fine, except for 404.</p>\n<p>For my error handling, I'm extending the <code>ResponseEntityExceptionHandler </code>that looks like this:</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\n@ControllerAdvice\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class RestExceptionControllerAdvice extends ResponseEntityExceptionHandler {\n  //other fields and methods...\n  @Override\n  protected ResponseEntity&lt;Object&gt; handleExceptionInternal(Exception ex, @Nullable Object body, \n      HttpHeaders headers, HttpStatus status, WebRequest request) {\n    if (status.is4xxClientError()) {\n      return getResponseParametersEntity(status, CustomStatus.REQUEST_NOT_ACCEPTED, \n          request.getLocale());\n    }\n    return super.handleExceptionInternal(ex, body, headers, status, request);\n  }\n</code></pre>\n<p>I do have <code>spring.mvc.throw-exception-if-no-handler-found=true</code> in my application.properties.</p>\n<p>The problem within Spring that I was able to identify is that previously I was getting a NoHandlerException because that getHanlder function in DispatcherServlet was getting 4 handlers and returning a null since none of them matched:<a href=\"https://i.stack.imgur.com/rMk0I.png\" rel=\"nofollow noreferrer\">4 handlers</a></p>\n<p>Now, after the update, there are 6 of them and the SimpleUrlHandlerMapping gets returned instead of the null and the exception isn't thrown:<a href=\"https://i.stack.imgur.com/QbL63.png\" rel=\"nofollow noreferrer\">6 handlers</a></p>\n<p>How can I make my RestExceptionControllerAdvice handle the 404 like it did before?</p>\n<p>I've tried searching for a solution but some seem outdated and some seem to point out that the <code>spring.mvc.throw-exception-if-no-handler-found=true</code> is missing which in my case it's not. Also, what differs in my case is that this has worked in v 2.5.14 and now in 2.7.11 isn't.</p>\n"},{"tags":["java","performance","jvm","bytebuffer","jmh"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1669907372,"post_id":74643829,"comment_id":131753768,"body_markdown":"Rather than describe the setup of your benchmark in words, can&#39;t you just provide the benchmark? It sounds like you&#39;ve set it up correctly but it&#39;s very easy to get wrong. I don&#39;t see how anyone could reasonably help with this without reimplementing what you&#39;ve already done.","body":"Rather than describe the setup of your benchmark in words, can&#39;t you just provide the benchmark? It sounds like you&#39;ve set it up correctly but it&#39;s very easy to get wrong. I don&#39;t see how anyone could reasonably help with this without reimplementing what you&#39;ve already done."},{"owner":{"account_id":1847544,"reputation":3950,"user_id":1674940,"accept_rate":100,"display_name":"byteit101"},"score":0,"creation_date":1669908267,"post_id":74643829,"comment_id":131754150,"body_markdown":"Alas the corpus is proprietary. I will see if I can create some generative corpus or other","body":"Alas the corpus is proprietary. I will see if I can create some generative corpus or other"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1669908457,"post_id":74643829,"comment_id":131754218,"body_markdown":"Well if the specific input matters and you can&#39;t provide it then the best you&#39;ll get from someone here would be baseless speculation. Let&#39;s hope the specific input doesn&#39;t matter.","body":"Well if the specific input matters and you can&#39;t provide it then the best you&#39;ll get from someone here would be baseless speculation. Let&#39;s hope the specific input doesn&#39;t matter."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669968951,"post_id":74643829,"comment_id":131767910,"body_markdown":"You didn’t show the `ByteBuffer` based loop. Your API is different, so the code must be different. And how do you process ~5GiB with a byte array that can have at most 2GiB?","body":"You didn’t show the <code>ByteBuffer</code> based loop. Your API is different, so the code must be different. And how do you process ~5GiB with a byte array that can have at most 2GiB?"},{"owner":{"account_id":1847544,"reputation":3950,"user_id":1674940,"accept_rate":100,"display_name":"byteit101"},"score":0,"creation_date":1670227741,"post_id":74643829,"comment_id":131818441,"body_markdown":"@Holger The corpus is ~5G, but each member of the corpus is processed separately, thus only a few megabytes are required for each.","body":"@Holger The corpus is ~5G, but each member of the corpus is processed separately, thus only a few megabytes are required for each."},{"owner":{"account_id":1847544,"reputation":3950,"user_id":1674940,"accept_rate":100,"display_name":"byteit101"},"score":0,"creation_date":1670227842,"post_id":74643829,"comment_id":131818473,"body_markdown":"@Michael I&#39;ve attached a link to a gist with all 5 files required to run this, including a corpus generator","body":"@Michael I&#39;ve attached a link to a gist with all 5 files required to run this, including a corpus generator"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670839907,"post_id":74643829,"comment_id":131958089,"body_markdown":"The JIT compiler likes smaller methods. So, it’s probably not surprising that removing code or eliminating redundancy improves performance. For real life cases (where the code is not unused), you probably have to split behemoth methods into smaller methods to improve performance.","body":"The JIT compiler likes smaller methods. So, it’s probably not surprising that removing code or eliminating redundancy improves performance. For real life cases (where the code is not unused), you probably have to split behemoth methods into smaller methods to improve performance."},{"owner":{"account_id":1847544,"reputation":3950,"user_id":1674940,"accept_rate":100,"display_name":"byteit101"},"score":0,"creation_date":1670953964,"post_id":74643829,"comment_id":131990765,"body_markdown":"@Holger Indeed I tested that with my original code (~4x the size) with each case or loop a method, and those were even worse perf","body":"@Holger Indeed I tested that with my original code (~4x the size) with each case or loop a method, and those were even worse perf"}],"answers":[{"comments":[{"owner":{"account_id":1847544,"reputation":3950,"user_id":1674940,"accept_rate":100,"display_name":"byteit101"},"score":0,"creation_date":1686422706,"post_id":76409070,"comment_id":134797716,"body_markdown":"This is a good find, but using my original benchmark (removing var &amp; other java 17 features) I find that jdk 1.8 is 15% faster for arrays, jdk 11 is 20% faster for arrays, and jdk 17 is 30% faster for arrays. However, the total time also decreased on all three options","body":"This is a good find, but using my original benchmark (removing var &amp; other java 17 features) I find that jdk 1.8 is 15% faster for arrays, jdk 11 is 20% faster for arrays, and jdk 17 is 30% faster for arrays. However, the total time also decreased on all three options"}],"tags":[],"owner":{"account_id":17294251,"reputation":21,"user_id":12525267,"display_name":"Stef"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685989352,"creation_date":1685989352,"answer_id":76409070,"question_id":74643829,"body_markdown":"I think there is a regression with Java 17. I&#39;m using a lib which processes a String. Several times new copies through #String.Split or #String.getBytes are being created. So I tried out an alternative implementation with ByteBuffer. \r\n\r\nWith Java 11 this solution is round about 30% faster then the original String based version.\r\n\r\n    time: 129 vs 180 ns/op\r\n    gc.alloc.rate: 2931 vs 3861 MB/sec\r\n    gc.count: 300 vs 323\r\n    gc.time: 172 vs 178 ms\r\n\r\nWith Java 17 it changed. The ByteBuffer version deteriorated, the String version improved.\r\n\r\n    time: 143 vs 146 ns/op\r\n    gc.alloc.rate: 2889 vs 4781 MB/sec\r\n    gc.count: 426 vs 586\r\n    gc.time: 240 vs 305 ms\r\n\r\nEven gc.count and gc.time increased.","title":"How to make ByteBuffer as efficient as direct byte[] access after JIT has warmed up?","body":"<p>I think there is a regression with Java 17. I'm using a lib which processes a String. Several times new copies through #String.Split or #String.getBytes are being created. So I tried out an alternative implementation with ByteBuffer.</p>\n<p>With Java 11 this solution is round about 30% faster then the original String based version.</p>\n<pre><code>time: 129 vs 180 ns/op\ngc.alloc.rate: 2931 vs 3861 MB/sec\ngc.count: 300 vs 323\ngc.time: 172 vs 178 ms\n</code></pre>\n<p>With Java 17 it changed. The ByteBuffer version deteriorated, the String version improved.</p>\n<pre><code>time: 143 vs 146 ns/op\ngc.alloc.rate: 2889 vs 4781 MB/sec\ngc.count: 426 vs 586\ngc.time: 240 vs 305 ms\n</code></pre>\n<p>Even gc.count and gc.time increased.</p>\n"}],"owner":{"account_id":1847544,"reputation":3950,"user_id":1674940,"accept_rate":100,"display_name":"byteit101"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1685989352,"creation_date":1669906320,"question_id":74643829,"body_markdown":"I am trying to optimize a simple decompression routine, and came across this weird performance quirk that I can&#39;t seem to find much information on: Manually implemented trivial byte buffers are 10%-20% faster than the built in byte buffers (heap &amp; mapped) for trivial operations (read one byte, read n bytes, is it end of stream)\r\n\r\nI tested 3 APIs:\r\n * Methods on `ByteBuffer.wrap(byte[])`\r\n * Raw byte[] accesses\r\n * Methods on trivial wrapper of byte accesses that (mostly) mirrors the ByteBuffer API\r\n \r\nThe trivial wrapper:\r\n\r\n    class TestBuf {\r\n        private final byte[] ary;\r\n        private int pos = 0;\r\n\r\n        public TestBuf(ByteBuffer buffer) {  // ctor #1\r\n            ary = new byte[buffer.remaining()];\r\n            buffer.get(ary);\r\n        }\r\n        \r\n        public TestBuf(byte[] inAry) { // ctor #2\r\n            ary = inAry;\r\n        }\r\n\r\n        public int readUByte() { return ary[pos++] &amp; 0xFF; }\r\n\r\n        public boolean hasRemaining() { return pos &lt; ary.length; }\r\n\r\n        public void get(byte[] out, int offset, int length) {\r\n            System.arraycopy(ary, pos, out, offset, length);\r\n            pos += length;\r\n        }\r\n    }\r\n \r\nThe stripped-down core of my main loop is roughly a pattern of:\r\n\r\n\twhile (buffer.hasRemaining()) {\r\n\t\tint op = buffer.readUByte();\r\n\t\tif (op == 1) {\r\n\t\t\tint size = buffer.readUByte();\r\n\t\t    buffer.get(outputArray, outputPos, size);\r\n\t\t    outputPos += size;\r\n\t\t} // ...\r\n\t}\r\n\r\nI tested the following combos:\r\n\r\n * `native-array`: Passing `byte[]` to a `byte[]`-accepting method (no copies)\r\n * `native-testbuf`: Passing `byte[]` to a method that wrapped it in a `TestBuf` (no copies, ctor #2)\r\n * `native-buffer`: Passing `ByteBuffer.wrap(byte[])` to a ByteBuffer-accepting method (no copies)\r\n * `buffer-array`: Passing `ByteBuffer.wrap(byte[])` to a method that extracted the ByteBuffer to an array\r\n * `buffer-testbuf`: Passing `ByteBuffer.wrap(byte[])` to a method that extracted the ByteBuffer to an array in `TestBuf` (ctor #1)\r\n\r\nI used JMH (blackholing each outputArray), and tested Java 17 on OpenJDK and GraalVM with a decompression corpus of ~5GiB preloaded into RAM, containing ~150,000 items averaging in size from 2KiB to 15MiB. Each corpus took ~10sec to decompress, and the JMH runs had proper warmup and iterations. I did strip the tests down the the minimal necessary non-array code, but even benchmarking the original code this came, from the difference is nearly the same percentage (ie. I don&#39;t think there is much else beyond the buffer/array acesses controlling the performance of my original code)\r\n\r\nAcross several computers the results were a bit jittery, but relatively consistent:\r\n\r\n * GraalVM was usually slower than OpenJDK by about 10-15% (this surprised me) though the order and relative performance generally stayed the same as OpenJDK\r\n * `native-array` and `native-testbuf` were the fastest options, tying within the margin of error (and under 0.5%) thanks to the optimizer (9.3s/corpus)\r\n * `native-buffer` was always the slowest option. This was always 17-22% slower than the fastest `native-array`/`native-testbuf` (11.4s/corpus)\r\n * `buffer-array` and `buffer-testbuf` were in the middle of the pack within about 1% of each other, but about 4-7% slower than `native-array`. However, despite the additional array copy they incurred, they were always significantly faster than `native-buffer` by about 15-17%. (9.7s/corpus)\r\n \r\nTwo of these results surprised me the most:\r\n * That a wrapped byte array being used via the ByteBuffer API (`native-buffer`) is so slow compared to a custom simple ByteBuffer-like wrapper (`native-testbuf`)\r\n * That making a whole copy of an array (`buffer-*`) is still so much faster than using the `ByteBuffer.wrap` object (`native-buffer`)\r\n \r\nI&#39;ve tried looking around for information on what I might be doing wrong, but most of the performance questions are about native memory and `MappedByteBuffers`, whereas I am using `HeapByteBuffers`, as far as I can tell. Why are `HeapByteBuffers` so slow compared to my re-implementation for trivial read access? Is there some way I can use `HeapByteBuffers` more efficiently? Does that also apply for `MappedByteBuffer`?\r\n\r\n\r\n**Update**: I&#39;ve posted the full benchmark, corpus generator, and algorithms at https://gist.github.com/byteit101/84a3ab8f292de404e122562c7008c133 Note that while trying to get the corpus generator to work, I discovered that my 24-bit number was causing a performance penalty, so added a `buffer-bufer` target, where copying a buffer to a new buffer and using the new buffer is faster than using the origianl buffer after the 24-bit number.\r\n\r\nOne run on one of my machines with the generated corpus:\r\n\r\n```\r\nBenchmark                  Mode  Cnt  Score   Error  Units\r\nSOBench.t1_native_array      ss   60  0.891 &#177; 0.018   s/op\r\nSOBench.t2_buffer_testbuf    ss   60  0.899 &#177; 0.024   s/op\r\nSOBench.t3_buffer_buffer     ss   60  0.935 &#177; 0.024   s/op\r\nSOBench.t4_native_buffer     ss   60  1.099 &#177; 0.024   s/op\r\n```\r\n\r\nSome more recent observations: deleting unused code (see comments in gist) makes ByteBuffer as fast as a native array, as does slight tweaks (changing bitmask conditionals for logical comparisons), so my current theory is that it&#39;s some inlining cache miss with something offset related too\r\n","title":"How to make ByteBuffer as efficient as direct byte[] access after JIT has warmed up?","body":"<p>I am trying to optimize a simple decompression routine, and came across this weird performance quirk that I can't seem to find much information on: Manually implemented trivial byte buffers are 10%-20% faster than the built in byte buffers (heap &amp; mapped) for trivial operations (read one byte, read n bytes, is it end of stream)</p>\n<p>I tested 3 APIs:</p>\n<ul>\n<li>Methods on <code>ByteBuffer.wrap(byte[])</code></li>\n<li>Raw byte[] accesses</li>\n<li>Methods on trivial wrapper of byte accesses that (mostly) mirrors the ByteBuffer API</li>\n</ul>\n<p>The trivial wrapper:</p>\n<pre><code>class TestBuf {\n    private final byte[] ary;\n    private int pos = 0;\n\n    public TestBuf(ByteBuffer buffer) {  // ctor #1\n        ary = new byte[buffer.remaining()];\n        buffer.get(ary);\n    }\n    \n    public TestBuf(byte[] inAry) { // ctor #2\n        ary = inAry;\n    }\n\n    public int readUByte() { return ary[pos++] &amp; 0xFF; }\n\n    public boolean hasRemaining() { return pos &lt; ary.length; }\n\n    public void get(byte[] out, int offset, int length) {\n        System.arraycopy(ary, pos, out, offset, length);\n        pos += length;\n    }\n}\n</code></pre>\n<p>The stripped-down core of my main loop is roughly a pattern of:</p>\n<pre><code>while (buffer.hasRemaining()) {\n    int op = buffer.readUByte();\n    if (op == 1) {\n        int size = buffer.readUByte();\n        buffer.get(outputArray, outputPos, size);\n        outputPos += size;\n    } // ...\n}\n</code></pre>\n<p>I tested the following combos:</p>\n<ul>\n<li><code>native-array</code>: Passing <code>byte[]</code> to a <code>byte[]</code>-accepting method (no copies)</li>\n<li><code>native-testbuf</code>: Passing <code>byte[]</code> to a method that wrapped it in a <code>TestBuf</code> (no copies, ctor #2)</li>\n<li><code>native-buffer</code>: Passing <code>ByteBuffer.wrap(byte[])</code> to a ByteBuffer-accepting method (no copies)</li>\n<li><code>buffer-array</code>: Passing <code>ByteBuffer.wrap(byte[])</code> to a method that extracted the ByteBuffer to an array</li>\n<li><code>buffer-testbuf</code>: Passing <code>ByteBuffer.wrap(byte[])</code> to a method that extracted the ByteBuffer to an array in <code>TestBuf</code> (ctor #1)</li>\n</ul>\n<p>I used JMH (blackholing each outputArray), and tested Java 17 on OpenJDK and GraalVM with a decompression corpus of ~5GiB preloaded into RAM, containing ~150,000 items averaging in size from 2KiB to 15MiB. Each corpus took ~10sec to decompress, and the JMH runs had proper warmup and iterations. I did strip the tests down the the minimal necessary non-array code, but even benchmarking the original code this came, from the difference is nearly the same percentage (ie. I don't think there is much else beyond the buffer/array acesses controlling the performance of my original code)</p>\n<p>Across several computers the results were a bit jittery, but relatively consistent:</p>\n<ul>\n<li>GraalVM was usually slower than OpenJDK by about 10-15% (this surprised me) though the order and relative performance generally stayed the same as OpenJDK</li>\n<li><code>native-array</code> and <code>native-testbuf</code> were the fastest options, tying within the margin of error (and under 0.5%) thanks to the optimizer (9.3s/corpus)</li>\n<li><code>native-buffer</code> was always the slowest option. This was always 17-22% slower than the fastest <code>native-array</code>/<code>native-testbuf</code> (11.4s/corpus)</li>\n<li><code>buffer-array</code> and <code>buffer-testbuf</code> were in the middle of the pack within about 1% of each other, but about 4-7% slower than <code>native-array</code>. However, despite the additional array copy they incurred, they were always significantly faster than <code>native-buffer</code> by about 15-17%. (9.7s/corpus)</li>\n</ul>\n<p>Two of these results surprised me the most:</p>\n<ul>\n<li>That a wrapped byte array being used via the ByteBuffer API (<code>native-buffer</code>) is so slow compared to a custom simple ByteBuffer-like wrapper (<code>native-testbuf</code>)</li>\n<li>That making a whole copy of an array (<code>buffer-*</code>) is still so much faster than using the <code>ByteBuffer.wrap</code> object (<code>native-buffer</code>)</li>\n</ul>\n<p>I've tried looking around for information on what I might be doing wrong, but most of the performance questions are about native memory and <code>MappedByteBuffers</code>, whereas I am using <code>HeapByteBuffers</code>, as far as I can tell. Why are <code>HeapByteBuffers</code> so slow compared to my re-implementation for trivial read access? Is there some way I can use <code>HeapByteBuffers</code> more efficiently? Does that also apply for <code>MappedByteBuffer</code>?</p>\n<p><strong>Update</strong>: I've posted the full benchmark, corpus generator, and algorithms at <a href=\"https://gist.github.com/byteit101/84a3ab8f292de404e122562c7008c133\" rel=\"nofollow noreferrer\">https://gist.github.com/byteit101/84a3ab8f292de404e122562c7008c133</a> Note that while trying to get the corpus generator to work, I discovered that my 24-bit number was causing a performance penalty, so added a <code>buffer-bufer</code> target, where copying a buffer to a new buffer and using the new buffer is faster than using the origianl buffer after the 24-bit number.</p>\n<p>One run on one of my machines with the generated corpus:</p>\n<pre><code>Benchmark                  Mode  Cnt  Score   Error  Units\nSOBench.t1_native_array      ss   60  0.891 ± 0.018   s/op\nSOBench.t2_buffer_testbuf    ss   60  0.899 ± 0.024   s/op\nSOBench.t3_buffer_buffer     ss   60  0.935 ± 0.024   s/op\nSOBench.t4_native_buffer     ss   60  1.099 ± 0.024   s/op\n</code></pre>\n<p>Some more recent observations: deleting unused code (see comments in gist) makes ByteBuffer as fast as a native array, as does slight tweaks (changing bitmask conditionals for logical comparisons), so my current theory is that it's some inlining cache miss with something offset related too</p>\n"},{"tags":["java","android"],"owner":{"display_name":"user20898355"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685989117,"creation_date":1685989117,"question_id":76409036,"body_markdown":"Here is my android application code where what I need is when I click on floating button then it will automatically took screenshot and store it but when I click on button then my application will crash.\r\n\r\n`sample.java`\r\n\r\n    package com.example.certificate;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Context;\r\n    import android.graphics.Bitmap;\r\n    import android.graphics.Canvas;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.os.Handler;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class Sample extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_sample);\r\n            FloatingActionButton fab = findViewById(R.id.fab);\r\n    //        View view = inflater.inflate(R.layout.activity_sample);\r\n            fab.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n    \r\n                    Bitmap screenshot = captureScreenshot();\r\n    \r\n                    try {\r\n                        // Save the bitmap to a file\r\n                        String fileName = &quot;screenshot.png&quot;;\r\n                        File screenshotFile = new File(Environment.getExternalStorageDirectory(), fileName);\r\n                        FileOutputStream outputStream = new FileOutputStream(screenshotFile);\r\n                        screenshot.compress(Bitmap.CompressFormat.PNG, 90, outputStream);\r\n                        outputStream.flush();\r\n                        outputStream.close();\r\n                        Toast.makeText(Sample.this, &quot;Screenshot saved&quot;, Toast.LENGTH_SHORT).show();\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                        Toast.makeText(Sample.this, &quot;Failed to save screenshot&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    //                getScreen();\r\n    \r\n                    Toast.makeText(Sample.this, &quot;Hello&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n        }\r\n        private Bitmap captureScreenshot() {\r\n            // Inflate the layout file\r\n            View view = getLayoutInflater().inflate(R.layout.activity_sample, null);\r\n    \r\n            // Create a bitmap with the same dimensions as the view\r\n            Bitmap screenshot = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);\r\n    \r\n            // Create a canvas with the bitmap\r\n            Canvas canvas = new Canvas(screenshot);\r\n            view.draw(canvas);\r\n            Toast.makeText(this, &quot;Capture Screenshots&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n            return screenshot;\r\n        }\r\n    \r\n        public static void saveScreenshot(Context context, View view, String filename) {\r\n            // Get the size of the view\r\n            int width = view.getWidth();\r\n            int height = view.getHeight();\r\n    \r\n            // Create a bitmap to hold the screenshot\r\n            Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n    \r\n            // Create a canvas to draw the view onto the bitmap\r\n            Canvas canvas = new Canvas(bitmap);\r\n    \r\n            // Draw the view onto the canvas\r\n            view.draw(canvas);\r\n    \r\n            // Save the bitmap to a file\r\n            FileOutputStream fos = null;\r\n            try {\r\n                fos = new FileOutputStream(filename);\r\n                bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n                fos.flush();\r\n                fos.close();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n`activity_sample.xml`\r\n\r\n  \r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            tools:context=&quot;.Sample&quot;\r\n            android:id=&quot;@+id/lid&quot;&gt;\r\n            &lt;include layout=&quot;@layout/certificateui&quot; /&gt;\r\n        \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    `certificateui.xml`\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#E91E63&quot;&gt;\r\n    \r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;400dp&quot;\r\n            android:layout_height=&quot;174dp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/constraintLayout&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.454&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;1.0&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView2&quot;\r\n                android:layout_width=&quot;155dp&quot;\r\n                android:layout_height=&quot;138dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.502&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n                tools:srcCompat=&quot;@tools:sample/avatars&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/constraintLayout&quot;\r\n            android:layout_width=&quot;429dp&quot;\r\n            android:layout_height=&quot;460dp&quot;\r\n            android:background=&quot;@drawable/bottom_layout&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView5&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;28dp&quot;\r\n                android:fontFamily=&quot;sans-serif-black&quot;\r\n                android:text=&quot;Rahul Raj &quot;\r\n                android:textSize=&quot;48sp&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/textView7&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView7&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;52dp&quot;\r\n                android:fontFamily=&quot;sans-serif-medium&quot;\r\n                android:text=&quot;On Completed Level 3&quot;\r\n                android:textSize=&quot;24sp&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/textView3&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView8&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;16dp&quot;\r\n                android:text=&quot;+919825296591&quot;\r\n                android:textSize=&quot;24sp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;28dp&quot;\r\n                android:fontFamily=&quot;sans-serif-medium&quot;\r\n                android:text=&quot;Congratulations&#129395;&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView3&quot;\r\n                android:layout_width=&quot;295dp&quot;\r\n                android:layout_height=&quot;92dp&quot;\r\n                android:layout_marginBottom=&quot;36dp&quot;\r\n                android:text=&quot;Near Sanskar Deep school, Lajamani Chowk, Surat.-394101&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/textView8&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.504&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n    \r\n            &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n                android:id=&quot;@+id/fab&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;16dp&quot;\r\n                android:layout_marginBottom=&quot;28dp&quot;\r\n                android:src=&quot;@drawable/ic_launcher_background&quot;\r\n    \r\n                app:layout_anchorGravity=&quot;bottom|end&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.994&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView4&quot;\r\n            android:layout_width=&quot;377dp&quot;\r\n            android:layout_height=&quot;105dp&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:srcCompat=&quot;@drawable/logo&quot; /&gt;\r\n    \r\n    \r\n        &lt;!-- Your other layout views --&gt;\r\n    \r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n`drawable/bottom_layout.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item&gt;\r\n            &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n                &lt;solid android:color=&quot;#E5FCFB&quot;/&gt;\r\n                &lt;corners  android:radius=&quot;50dp&quot;/&gt;\r\n    \r\n            &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n    &lt;/selector&gt;\r\n`AndroidManifest.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot; &gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    \r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Certificate&quot;\r\n            tools:targetApi=&quot;31&quot;\r\n            android:requestLegacyExternalStorage=&quot;true&quot;&gt;\r\n    \r\n    \r\n            &lt;activity\r\n                android:name=&quot;.Sample&quot;\r\n                android:exported=&quot;false&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;.activity_certificate&quot;\r\n                android:exported=&quot;false&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nHere is how application looks like :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I try to run it then it will crash automatically even if I gave permission for accessing file then also it will not able to save screenshot \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gu5oh.png","title":"cannot able to capture screenshot of layout file in android","body":"<p>Here is my android application code where what I need is when I click on floating button then it will automatically took screenshot and store it but when I click on button then my application will crash.</p>\n<p><code>sample.java</code></p>\n<pre><code>package com.example.certificate;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Context;\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.os.Handler;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class Sample extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sample);\n        FloatingActionButton fab = findViewById(R.id.fab);\n//        View view = inflater.inflate(R.layout.activity_sample);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n\n                Bitmap screenshot = captureScreenshot();\n\n                try {\n                    // Save the bitmap to a file\n                    String fileName = &quot;screenshot.png&quot;;\n                    File screenshotFile = new File(Environment.getExternalStorageDirectory(), fileName);\n                    FileOutputStream outputStream = new FileOutputStream(screenshotFile);\n                    screenshot.compress(Bitmap.CompressFormat.PNG, 90, outputStream);\n                    outputStream.flush();\n                    outputStream.close();\n                    Toast.makeText(Sample.this, &quot;Screenshot saved&quot;, Toast.LENGTH_SHORT).show();\n                } catch (Exception e) {\n                    e.printStackTrace();\n                    Toast.makeText(Sample.this, &quot;Failed to save screenshot&quot;, Toast.LENGTH_SHORT).show();\n                }\n//                getScreen();\n\n                Toast.makeText(Sample.this, &quot;Hello&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n    }\n    private Bitmap captureScreenshot() {\n        // Inflate the layout file\n        View view = getLayoutInflater().inflate(R.layout.activity_sample, null);\n\n        // Create a bitmap with the same dimensions as the view\n        Bitmap screenshot = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);\n\n        // Create a canvas with the bitmap\n        Canvas canvas = new Canvas(screenshot);\n        view.draw(canvas);\n        Toast.makeText(this, &quot;Capture Screenshots&quot;, Toast.LENGTH_SHORT).show();\n\n        return screenshot;\n    }\n\n    public static void saveScreenshot(Context context, View view, String filename) {\n        // Get the size of the view\n        int width = view.getWidth();\n        int height = view.getHeight();\n\n        // Create a bitmap to hold the screenshot\n        Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n\n        // Create a canvas to draw the view onto the bitmap\n        Canvas canvas = new Canvas(bitmap);\n\n        // Draw the view onto the canvas\n        view.draw(canvas);\n\n        // Save the bitmap to a file\n        FileOutputStream fos = null;\n        try {\n            fos = new FileOutputStream(filename);\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\n            fos.flush();\n            fos.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n\n}\n</code></pre>\n<p><code>activity_sample.xml</code></p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:context=&quot;.Sample&quot;\n        android:id=&quot;@+id/lid&quot;&gt;\n        &lt;include layout=&quot;@layout/certificateui&quot; /&gt;\n    \n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n`certificateui.xml`\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#E91E63&quot;&gt;\n\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;400dp&quot;\n        android:layout_height=&quot;174dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/constraintLayout&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.454&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView2&quot;\n            android:layout_width=&quot;155dp&quot;\n            android:layout_height=&quot;138dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.502&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;1.0&quot;\n            tools:srcCompat=&quot;@tools:sample/avatars&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraintLayout&quot;\n        android:layout_width=&quot;429dp&quot;\n        android:layout_height=&quot;460dp&quot;\n        android:background=&quot;@drawable/bottom_layout&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView5&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;28dp&quot;\n            android:fontFamily=&quot;sans-serif-black&quot;\n            android:text=&quot;Rahul Raj &quot;\n            android:textSize=&quot;48sp&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/textView7&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot;\n            app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView7&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;52dp&quot;\n            android:fontFamily=&quot;sans-serif-medium&quot;\n            android:text=&quot;On Completed Level 3&quot;\n            android:textSize=&quot;24sp&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/textView3&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView8&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;16dp&quot;\n            android:text=&quot;+919825296591&quot;\n            android:textSize=&quot;24sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;28dp&quot;\n            android:fontFamily=&quot;sans-serif-medium&quot;\n            android:text=&quot;Congratulations🥳&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView3&quot;\n            android:layout_width=&quot;295dp&quot;\n            android:layout_height=&quot;92dp&quot;\n            android:layout_marginBottom=&quot;36dp&quot;\n            android:text=&quot;Near Sanskar Deep school, Lajamani Chowk, Surat.-394101&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/textView8&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.504&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=&quot;@+id/fab&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;16dp&quot;\n            android:layout_marginBottom=&quot;28dp&quot;\n            android:src=&quot;@drawable/ic_launcher_background&quot;\n\n            app:layout_anchorGravity=&quot;bottom|end&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.994&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView4&quot;\n        android:layout_width=&quot;377dp&quot;\n        android:layout_height=&quot;105dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/logo&quot; /&gt;\n\n\n    &lt;!-- Your other layout views --&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><code>drawable/bottom_layout.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item&gt;\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\n            &lt;solid android:color=&quot;#E5FCFB&quot;/&gt;\n            &lt;corners  android:radius=&quot;50dp&quot;/&gt;\n\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/selector&gt;\n</code></pre>\n<p><code>AndroidManifest.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot; &gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Certificate&quot;\n        tools:targetApi=&quot;31&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;&gt;\n\n\n        &lt;activity\n            android:name=&quot;.Sample&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.activity_certificate&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Here is how application looks like :</p>\n<p><a href=\"https://i.stack.imgur.com/Gu5oh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gu5oh.png\" alt=\"enter image description here\" /></a></p>\n<p>When I try to run it then it will crash automatically even if I gave permission for accessing file then also it will not able to save screenshot</p>\n"},{"tags":["java","apache-kafka","apache-beam"],"owner":{"account_id":6973249,"reputation":411,"user_id":5348803,"accept_rate":33,"display_name":"developer2015"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685989059,"creation_date":1685982319,"question_id":76408331,"body_markdown":"I am trying to consume records from kafka and write them to BigQuery , also following the online documentation found here https://beam.apache.org/documentation/io/built-in/google-bigquery/\r\n\r\nMost of the examples posted here are with PCollection, I have Ptransform in my code \r\n\r\nAny idea if we can use the writeQuery on PTransofrm or a way to convert PTransform to PCollection \r\n\r\nCode for consuming records from kafa is below \r\n\r\n```\r\npublic class BeamConsoleConsumer {\r\n\r\n  public static void main(String[] args) throws IOException {\r\n\r\n      String tableSpec = &quot;project-id.kafka.sample&quot;;\r\n\r\n    PipelineOptions options = PipelineOptionsFactory.create();\r\n    Pipeline pipeline = Pipeline.create(options);\r\n    Schema schema =\r\n        new Schema.Parser()\r\n            .parse(new File(&quot;schema.avsc&quot;));\r\n\r\n    PTransform&lt;PBegin, PCollection&lt;KafkaRecord&lt;GenericRecord, GenericRecord&gt;&gt;&gt; input =\r\n        KafkaIO.&lt;GenericRecord, GenericRecord&gt;read()\r\n            .withBootstrapServers(\r\n                &quot;kafak-server-url&quot;)\r\n            .withTopic(&quot;sample-topis&quot;) // use\r\n            // withTopics(List&lt;String&gt;) to read from multiple topics.\r\n            .withKeyDeserializer(\r\n                ConfluentSchemaRegistryDeserializerProvider.of(\r\n                    &quot;schema-registry-key-deserializer&quot;))\r\n            .withValueDeserializer(\r\n                ConfluentSchemaRegistryDeserializerProvider.of(\r\n                    &quot;schema-registry-value-deserializer&quot;))\r\n            .withConsumerConfigUpdates(\r\n                ImmutableMap.of(\r\n                    ConsumerConfig.GROUP_ID_CONFIG,\r\n                    &quot;sample-group-id&quot;,\r\n                    CommonClientConfigs.SECURITY_PROTOCOL_CONFIG,\r\n                    &quot;SSL&quot;,\r\n                    SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG,\r\n                    &quot;truststore.jks&quot;,\r\n                    SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG,\r\n                    &quot;password&quot;,\r\n                    SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG,\r\n                    &quot;keystore.jks&quot;,\r\n                    SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG,\r\n                    &quot;password&quot;,\r\n                    SslConfigs.SSL_KEY_PASSWORD_CONFIG,\r\n                    &quot;password&quot;,\r\n                    ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,\r\n                    &quot;latest&quot;,\r\n                    ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG,\r\n                    600000));\r\n\r\n    pipeline\r\n        .apply(input)\r\n        .apply(\r\n            &quot;ExtractRecord&quot;,\r\n            ParDo.of(\r\n                new DoFn&lt;\r\n                    KafkaRecord&lt;GenericRecord, GenericRecord&gt;,\r\n                    KafkaRecord&lt;GenericRecord, GenericRecord&gt;&gt;() {\r\n                  @DoFn.ProcessElement\r\n                  public void processElement(ProcessContext c) {\r\n                    KafkaRecord&lt;GenericRecord, GenericRecord&gt; record =\r\n                        (KafkaRecord&lt;GenericRecord, GenericRecord&gt;) c.element();\r\n                    KV&lt;GenericRecord, GenericRecord&gt; log = record.getKV();\r\n                    System.out.println(&quot;Key Obtained: &quot; + log.getKey());\r\n                    System.out.println(&quot;Value Obtained: &quot; + log.getValue().toString());\r\n                    c.output(record);\r\n                  }\r\n                }));\r\n    \r\n\r\n    PipelineResult run = pipeline.run();\r\n    run.waitUntilFinish(Duration.standardSeconds(1000));\r\n  }\r\n}\r\n\r\n```","title":"Apache Bean PTransform to PCollection","body":"<p>I am trying to consume records from kafka and write them to BigQuery , also following the online documentation found here <a href=\"https://beam.apache.org/documentation/io/built-in/google-bigquery/\" rel=\"nofollow noreferrer\">https://beam.apache.org/documentation/io/built-in/google-bigquery/</a></p>\n<p>Most of the examples posted here are with PCollection, I have Ptransform in my code</p>\n<p>Any idea if we can use the writeQuery on PTransofrm or a way to convert PTransform to PCollection</p>\n<p>Code for consuming records from kafa is below</p>\n<pre><code>public class BeamConsoleConsumer {\n\n  public static void main(String[] args) throws IOException {\n\n      String tableSpec = &quot;project-id.kafka.sample&quot;;\n\n    PipelineOptions options = PipelineOptionsFactory.create();\n    Pipeline pipeline = Pipeline.create(options);\n    Schema schema =\n        new Schema.Parser()\n            .parse(new File(&quot;schema.avsc&quot;));\n\n    PTransform&lt;PBegin, PCollection&lt;KafkaRecord&lt;GenericRecord, GenericRecord&gt;&gt;&gt; input =\n        KafkaIO.&lt;GenericRecord, GenericRecord&gt;read()\n            .withBootstrapServers(\n                &quot;kafak-server-url&quot;)\n            .withTopic(&quot;sample-topis&quot;) // use\n            // withTopics(List&lt;String&gt;) to read from multiple topics.\n            .withKeyDeserializer(\n                ConfluentSchemaRegistryDeserializerProvider.of(\n                    &quot;schema-registry-key-deserializer&quot;))\n            .withValueDeserializer(\n                ConfluentSchemaRegistryDeserializerProvider.of(\n                    &quot;schema-registry-value-deserializer&quot;))\n            .withConsumerConfigUpdates(\n                ImmutableMap.of(\n                    ConsumerConfig.GROUP_ID_CONFIG,\n                    &quot;sample-group-id&quot;,\n                    CommonClientConfigs.SECURITY_PROTOCOL_CONFIG,\n                    &quot;SSL&quot;,\n                    SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG,\n                    &quot;truststore.jks&quot;,\n                    SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG,\n                    &quot;password&quot;,\n                    SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG,\n                    &quot;keystore.jks&quot;,\n                    SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG,\n                    &quot;password&quot;,\n                    SslConfigs.SSL_KEY_PASSWORD_CONFIG,\n                    &quot;password&quot;,\n                    ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,\n                    &quot;latest&quot;,\n                    ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG,\n                    600000));\n\n    pipeline\n        .apply(input)\n        .apply(\n            &quot;ExtractRecord&quot;,\n            ParDo.of(\n                new DoFn&lt;\n                    KafkaRecord&lt;GenericRecord, GenericRecord&gt;,\n                    KafkaRecord&lt;GenericRecord, GenericRecord&gt;&gt;() {\n                  @DoFn.ProcessElement\n                  public void processElement(ProcessContext c) {\n                    KafkaRecord&lt;GenericRecord, GenericRecord&gt; record =\n                        (KafkaRecord&lt;GenericRecord, GenericRecord&gt;) c.element();\n                    KV&lt;GenericRecord, GenericRecord&gt; log = record.getKV();\n                    System.out.println(&quot;Key Obtained: &quot; + log.getKey());\n                    System.out.println(&quot;Value Obtained: &quot; + log.getValue().toString());\n                    c.output(record);\n                  }\n                }));\n    \n\n    PipelineResult run = pipeline.run();\n    run.waitUntilFinish(Duration.standardSeconds(1000));\n  }\n}\n\n</code></pre>\n"},{"tags":["java","matrix","solver"],"comments":[{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1685986254,"post_id":76408541,"comment_id":134734591,"body_markdown":"Please add your code as text and not as an image. Others might want to copy and search in your code and this is not possible in an image.","body":"Please add your code as text and not as an image. Others might want to copy and search in your code and this is not possible in an image."},{"owner":{"account_id":28758596,"reputation":1,"user_id":22025039,"display_name":"Sakib Hoque"},"score":0,"creation_date":1686867971,"post_id":76408541,"comment_id":134861382,"body_markdown":"Sorry for any interruptions/inconvenience. Just curious if anyone has any ideas or theories on how to fix the problem I am having with the script, any help and/or advice is more then greatly appreciated, thank you in advance.","body":"Sorry for any interruptions/inconvenience. Just curious if anyone has any ideas or theories on how to fix the problem I am having with the script, any help and/or advice is more then greatly appreciated, thank you in advance."}],"owner":{"account_id":28758596,"reputation":1,"user_id":22025039,"display_name":"Sakib Hoque"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685989040,"creation_date":1685984200,"question_id":76408541,"body_markdown":"The IntelliJ program I believe is having trouble in recognizing the array &quot;values&quot; for it to complete the matrices (lines 36 and 37).\r\n\r\nFor context, this is me just doing this for fun. But wanted to try and make a program that could take user inputs using the scanner function (as seen in the scanner array above from lines 17 to 33) and solving it based on a given modifier i.e. (addition (+), subtraction (-), etc.) and printing out the final result to the console.\r\n\r\nI will leave a screenshot below of what it looks like so far and the script as of so far, any help is greatly appreciated.\r\n\r\n[Matrix program and script as of so far](https://i.stack.imgur.com/jINSz.png)\r\n\r\nAs mentioned in summary, I was attempting to make a matrix solver program for the different kinds of approaches based on what values and modifier the user had desired.\r\n\r\nThough if there is anything obvious that I am missing, please do let me know as I do want to learn from this mistake. Also yes, I do have a public class statement and the imports done for both arrays and scanner if anyone is confused sorry.\r\n\r\nThank you greatly in advance to anyone who can answer this and hope you have a great rest of your day.\r\n\r\nEdit: Added the script that I am currently  using (matched with the image link is details)\r\n\r\n```\r\npublic static double[][] add(double[][] a1, double[][] a2) {\r\n            for (int r = 0; r &lt; a1.length; r++) {\r\n                for (int c = 0; c &lt; a1[r].length; c++) {\r\n                    a1[r][c] = a1[r][c] + a2[r][c];\r\n                }\r\n            }\r\n            return a1;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n\r\n            System.out.println(&quot;Please select your values&quot;);\r\n\r\n            String[] values = new String[11];\r\n            values[0] = scan.next();\r\n            values[1] = scan.next();\r\n            values[2] = scan.next();\r\n            values[3] = scan.next();\r\n            values[4] = scan.next();\r\n            values[5] = scan.next();\r\n            values[6] = scan.next();\r\n            values[7] = scan.next();\r\n            values[8] = scan.next();\r\n            values[9] = scan.next();\r\n            values[10] = scan.next();\r\n            values[11] = scan.next();\r\n\r\n            //double[][] arr1 = {{8, 43, 10}, {10, 17, 47}};\r\n            double[][] arr1 = {{values[0], values[1], values[2]);}, {values[3], values[4], values[5]};};\r\n            double[][] arr2 = {{values[6], values[7], values[8]);}, {values[9], values[10], values[11]};};\r\n            double[][] sumMatrix = add(arr1, arr2);\r\n\r\n            for (double r[] : sumMatrix) {\r\n                for (double c : r)\r\n                    System.out.print(c + &quot;, &quot;);\r\n                System.out.println(&quot;Please select a modifier for the equation&quot;);\r\n                String[] modifier = new String[0];\r\n                modifier[0] = scan.next();\r\n                System.out.println(&quot;&quot; modifier[0] &#39;\\n&#39;);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nSincerely, S.H.","title":"Trying to make a matrix solver program in IntelliJ JDK 17 but having some understanding issues in fixing it","body":"<p>The IntelliJ program I believe is having trouble in recognizing the array &quot;values&quot; for it to complete the matrices (lines 36 and 37).</p>\n<p>For context, this is me just doing this for fun. But wanted to try and make a program that could take user inputs using the scanner function (as seen in the scanner array above from lines 17 to 33) and solving it based on a given modifier i.e. (addition (+), subtraction (-), etc.) and printing out the final result to the console.</p>\n<p>I will leave a screenshot below of what it looks like so far and the script as of so far, any help is greatly appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/jINSz.png\" rel=\"nofollow noreferrer\">Matrix program and script as of so far</a></p>\n<p>As mentioned in summary, I was attempting to make a matrix solver program for the different kinds of approaches based on what values and modifier the user had desired.</p>\n<p>Though if there is anything obvious that I am missing, please do let me know as I do want to learn from this mistake. Also yes, I do have a public class statement and the imports done for both arrays and scanner if anyone is confused sorry.</p>\n<p>Thank you greatly in advance to anyone who can answer this and hope you have a great rest of your day.</p>\n<p>Edit: Added the script that I am currently  using (matched with the image link is details)</p>\n<pre><code>public static double[][] add(double[][] a1, double[][] a2) {\n            for (int r = 0; r &lt; a1.length; r++) {\n                for (int c = 0; c &lt; a1[r].length; c++) {\n                    a1[r][c] = a1[r][c] + a2[r][c];\n                }\n            }\n            return a1;\n        }\n\n        public static void main(String[] args) {\n            Scanner scan = new Scanner(System.in);\n\n            System.out.println(&quot;Please select your values&quot;);\n\n            String[] values = new String[11];\n            values[0] = scan.next();\n            values[1] = scan.next();\n            values[2] = scan.next();\n            values[3] = scan.next();\n            values[4] = scan.next();\n            values[5] = scan.next();\n            values[6] = scan.next();\n            values[7] = scan.next();\n            values[8] = scan.next();\n            values[9] = scan.next();\n            values[10] = scan.next();\n            values[11] = scan.next();\n\n            //double[][] arr1 = {{8, 43, 10}, {10, 17, 47}};\n            double[][] arr1 = {{values[0], values[1], values[2]);}, {values[3], values[4], values[5]};};\n            double[][] arr2 = {{values[6], values[7], values[8]);}, {values[9], values[10], values[11]};};\n            double[][] sumMatrix = add(arr1, arr2);\n\n            for (double r[] : sumMatrix) {\n                for (double c : r)\n                    System.out.print(c + &quot;, &quot;);\n                System.out.println(&quot;Please select a modifier for the equation&quot;);\n                String[] modifier = new String[0];\n                modifier[0] = scan.next();\n                System.out.println(&quot;&quot; modifier[0] '\\n');\n            }\n        }\n    }\n</code></pre>\n<p>Sincerely, S.H.</p>\n"},{"tags":["java","javafx","nullpointerexception","invocationtargetexception"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1685988819,"post_id":76408962,"comment_id":134735031,"body_markdown":"Use a different controller class for each FXML file.","body":"Use a different controller class for each FXML file."}],"owner":{"account_id":28759152,"reputation":1,"user_id":22025470,"display_name":"yangttze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685988497,"creation_date":1685988497,"question_id":76408962,"body_markdown":"I am new to Javafx, and in doing a little project I encountered a problem. This program is supposed to be a little scheduling program, in which the user is supposed to be able to make events in scene2 and scene4 and view them in scene3.fxml. After the events are made and the user navigates to scene3.fxml, it is supposed to change the label to the list of events (i tried a listView, but that had other errors). For some reason, whenever I try to access &quot;scene3.fxml&quot; I get the stack of errors below, and even though I see the scene it doesn&#39;t work as intended. I have ensured all fxids are correct, and all the other fxml files are working properly.\r\n    package application;\r\nSceneController.java:\r\n```\r\npackage application;\r\n\r\nimport java.io.IOException;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.net.URL;\r\nimport java.time.LocalDate;\r\nimport java.util.ResourceBundle;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.DatePicker;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.image.*;\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class SceneController {\r\n\t\r\n\t\r\n\t\r\n\tprivate Stage stage;\r\n\tprivate Scene scene;\r\n\tprivate Parent root;\r\n\t\r\n\t//Scene2\r\n\t@FXML\r\n\tprivate DatePicker myDatePicker;\r\n\t@FXML\r\n\tprivate Label dateLabel;\r\n\t\r\n\t@FXML\r\n\tprivate Label errorDate;\r\n\t\r\n\t//Scene3\r\n\t@FXML\r\n\tprivate Label listLabel;\r\n\t@FXML\r\n\tprivate Label ScheduleLabel;\r\n\t@FXML\r\n\tprivate Button returnFrom3;\r\n\t\r\n\t\r\n\t//Scene4\r\n\t@FXML\r\n\tprivate TextArea description;\r\n\t@FXML \r\n\tprivate TextField name;\r\n\t@FXML\r\n\tprivate Button eventSubmitter;\r\n\t@FXML\r\n\tprivate Label errorLabel;\r\n\tpublic static ArrayList&lt;String&gt; events = new ArrayList&lt;String&gt;();\r\n\tpublic static ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\r\n\tpublic static ArrayList&lt;LocalDate&gt; dates = new ArrayList&lt;LocalDate&gt;();\r\n\tprivate LocalDate myDate;\r\n\t\r\n\t\r\n\t\r\n\tImageView myImageView;\r\n\tString currentEvent;\r\n\tImage myImage = new Image(getClass().getResourceAsStream(&quot;SchedulerLogo.PNG&quot;));\r\n\t\r\n\t\r\n\t/*\r\n\t@Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1) {\r\n\t\t\r\n\t\t// TODO Auto-generated method stub\r\n\t\t/*\r\n\t\tlistLabel.getItems().addAll(events);\r\n\t\tlistLabel.getSelectionModel().selectedItemProperty().addListener(new ChangeListener&lt;String&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void changed(ObservableValue&lt;? extends String&gt; arg0, String arg1, String arg2) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tcurrentEvent = listLabel.getSelectionModel().getSelectedItem();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t}\r\n*/\r\n\t\r\n\t\r\n\tpublic String getDate() {\r\n\t\ttry {\r\n\t\t\tmyDate = myDatePicker.getValue();\r\n\t\t\tSystem.out.println(myDate.toString());\r\n\t\t\tdates.add(myDate);\r\n\t\t\treturn myDate.toString();\r\n\t\t}catch(NullPointerException e) {\r\n\t\t\tSystem.out.println(&quot;NullPointerException e&quot;);\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}catch(Exception e) {\r\n\t\t\tSystem.out.println(&quot;exception e&quot;);\r\n\t\t\tLocalDate myDate = myDatePicker.getValue();\r\n\t\t\tdates.add(myDate);\r\n\t\t\tSystem.out.println(myDate.toString());\r\n\t\t\treturn myDate.toString();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void switchToScene1(ActionEvent event) throws IOException {\r\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;fxml.fxml&quot;));\r\n\t\tstage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n\t\tscene = new Scene(root);\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t\t//myImageView.setImage(myImage);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void switchToScene2(ActionEvent event) throws IOException {\r\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;scene2.fxml&quot;));\r\n\t\tstage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n\t\tscene = new Scene(root);\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t}\r\n\t\r\n\tpublic void loadEvents() {\r\n\t\tfor(int i =0; i&lt;events.size(); i++) {\r\n\t    \tcurrentEvent = currentEvent + events.get(i);\r\n\t    }\r\n\t    listLabel.setText(currentEvent);\r\n\t}\r\n\t\r\n\tpublic void switchToScene3(ActionEvent event) throws IOException {\r\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;scene3.fxml&quot;));\r\n\t\tstage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n\t\tscene = new Scene(root);\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t\tloadEvents();\r\n\t}\r\n\t\r\n\tpublic void submitDate(ActionEvent event) throws IOException {\r\n\t    \r\n\t    if (myDate != null) {\r\n\t    \tSystem.out.println(myDate + &quot;numba 2 &quot;);\r\n\t        //dates.add();\r\n\t        Parent root = FXMLLoader.load(getClass().getResource(&quot;scene4.fxml&quot;));\r\n\t        stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n\t        scene = new Scene(root);\r\n\t        stage.setScene(scene);\r\n\t        stage.show();\r\n\t    } else {\r\n\t        errorDate.setVisible(true);\r\n\t    }\r\n\t    printArrays();\r\n\t}\r\n\t\r\n\tpublic void submitEvent(ActionEvent event) throws IOException{\r\n\t\tString eventName = name.getText();\r\n\t\tString eventDescription = description.getText();\r\n\t\tif(eventName.length()&gt;0) {\r\n\t\t\tevents.add(eventName);\r\n\t\t\tdescriptions.add(eventDescription);\r\n\t\t\terrorLabel.setVisible(true);\r\n\t\t\terrorLabel.setText(&quot;Your event has been submitted. You may now navigate back to the main menu.&quot;);\r\n\t\t\t\r\n\t\t}else {\r\n\t\t\terrorLabel.setVisible(true);\r\n\t\t}\r\n\t\tprintArrays();\r\n\t\t\r\n\t}\r\n\tpublic void printArrays() {\r\n\t\tSystem.out.println(events);\r\n\t\tSystem.out.println(descriptions);\r\n\t\tSystem.out.println(dates);\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\n```\r\nMain.java: \r\n\r\n```\r\npackage application;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Line;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.image.*;\r\nimport javafx.scene.input.KeyCombination;\r\nimport javafx.scene.text.*;\r\nimport java.io.FileInputStream; \r\nimport java.io.FileNotFoundException; \r\nimport javafx.application.Application; \r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;  \r\nimport javafx.scene.control.DatePicker;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.time.LocalDate;\r\nimport java.util.ResourceBundle;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.DatePicker;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.image.*;\r\nimport java.util.ArrayList;\r\n\r\n\r\n\r\n\r\npublic class Main extends Application {\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void start(Stage stage) throws Exception {\r\n\t\ttry {\r\n\t\t\tLocalDate e = LocalDate.now();\r\n\t\t\tSceneController.events.add(&quot; &quot;);\r\n\t\t\tSceneController.descriptions.add(&quot; &quot;);\r\n\t\t\tSceneController.dates.add(e);\r\n\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;fxml.fxml&quot;));\r\n\t\tScene scene = new Scene(root);\r\n\t\tString css = this.getClass().getResource(&quot;application.css&quot;).toExternalForm();\r\n\t\tscene.getStylesheets().add(css);\r\n\t\t\r\n\t\t\r\n\t\tImage icon = new Image(&quot;SchedulerLogo.PNG&quot;);\r\n\t\tstage.getIcons().add(icon);\r\n\t\tstage.setTitle(&quot;Scheduler&quot;);\r\n\t\tstage.setWidth(1000);\r\n\t\tstage.setHeight(700);\r\n\t\tstage.setFullScreen(false);\r\n\t\tstage.setFullScreenExitHint(&quot;press q to escape?&quot;);\r\n\t\tstage.setFullScreenExitKeyCombination(KeyCombination.valueOf(&quot;q&quot;));\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t\t}catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\nscene3.fxml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;1255.0&quot; prefWidth=&quot;1299.0&quot; style=&quot;-fx-background-color: pink;&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.SceneController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Label fx:id=&quot;ScheduleLabel&quot; alignment=&quot;CENTER&quot; layoutX=&quot;-4.0&quot; layoutY=&quot;73.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;1309.0&quot; style=&quot;-fx-background-color: pink;&quot; text=&quot;Upcoming Events:&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;75.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Button fx:id=&quot;returnFrom3&quot; layoutX=&quot;625.0&quot; layoutY=&quot;1136.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToScene1&quot; prefWidth=&quot;94.0&quot; text=&quot;Main Menu&quot; /&gt;\r\n      &lt;Label fx:id=&quot;listLabel&quot; alignment=&quot;TOP_LEFT&quot; layoutY=&quot;301.0&quot; prefHeight=&quot;821.0&quot; prefWidth=&quot;1299.0&quot; text=&quot;Label&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\nerror stack-trace:\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1858)\r\n\tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@20.0.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Node.java:8944)\r\n\tat javafx.controls@20.0.1/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@20.0.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n\tat javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.base@20.0.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\r\n\tat javafx.fxml@20.0.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\r\n\t... 46 more\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.Label.setText(String)&quot; because &quot;this.listLabel&quot; is null\r\n\tat hellofx/application.SceneController.loadEvents(SceneController.java:157)\r\n\tat hellofx/application.SceneController.switchToScene3(SceneController.java:166)\r\n\t... 57 more\r\n\r\n```\r\n\r\n\r\n\r\ni have tried recreating the fxml files, I think that all the libraries and build paths are in order, I have no idea what is happening. Please help. ","title":"javafx invocation exception and nullpointer exception","body":"<p>I am new to Javafx, and in doing a little project I encountered a problem. This program is supposed to be a little scheduling program, in which the user is supposed to be able to make events in scene2 and scene4 and view them in scene3.fxml. After the events are made and the user navigates to scene3.fxml, it is supposed to change the label to the list of events (i tried a listView, but that had other errors). For some reason, whenever I try to access &quot;scene3.fxml&quot; I get the stack of errors below, and even though I see the scene it doesn't work as intended. I have ensured all fxids are correct, and all the other fxml files are working properly.\npackage application;\nSceneController.java:</p>\n<pre><code>package application;\n\nimport java.io.IOException;\nimport java.lang.reflect.InvocationTargetException;\nimport java.net.URL;\nimport java.time.LocalDate;\nimport java.util.ResourceBundle;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.DatePicker;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\nimport javafx.scene.image.*;\nimport java.util.ArrayList;\n\n\npublic class SceneController {\n    \n    \n    \n    private Stage stage;\n    private Scene scene;\n    private Parent root;\n    \n    //Scene2\n    @FXML\n    private DatePicker myDatePicker;\n    @FXML\n    private Label dateLabel;\n    \n    @FXML\n    private Label errorDate;\n    \n    //Scene3\n    @FXML\n    private Label listLabel;\n    @FXML\n    private Label ScheduleLabel;\n    @FXML\n    private Button returnFrom3;\n    \n    \n    //Scene4\n    @FXML\n    private TextArea description;\n    @FXML \n    private TextField name;\n    @FXML\n    private Button eventSubmitter;\n    @FXML\n    private Label errorLabel;\n    public static ArrayList&lt;String&gt; events = new ArrayList&lt;String&gt;();\n    public static ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\n    public static ArrayList&lt;LocalDate&gt; dates = new ArrayList&lt;LocalDate&gt;();\n    private LocalDate myDate;\n    \n    \n    \n    ImageView myImageView;\n    String currentEvent;\n    Image myImage = new Image(getClass().getResourceAsStream(&quot;SchedulerLogo.PNG&quot;));\n    \n    \n    /*\n    @Override\n    public void initialize(URL arg0, ResourceBundle arg1) {\n        \n        // TODO Auto-generated method stub\n        /*\n        listLabel.getItems().addAll(events);\n        listLabel.getSelectionModel().selectedItemProperty().addListener(new ChangeListener&lt;String&gt;() {\n\n            @Override\n            public void changed(ObservableValue&lt;? extends String&gt; arg0, String arg1, String arg2) {\n                // TODO Auto-generated method stub\n                currentEvent = listLabel.getSelectionModel().getSelectedItem();\n            }\n            \n        });\n        \n    }\n*/\n    \n    \n    public String getDate() {\n        try {\n            myDate = myDatePicker.getValue();\n            System.out.println(myDate.toString());\n            dates.add(myDate);\n            return myDate.toString();\n        }catch(NullPointerException e) {\n            System.out.println(&quot;NullPointerException e&quot;);\n            return &quot;&quot;;\n        }catch(Exception e) {\n            System.out.println(&quot;exception e&quot;);\n            LocalDate myDate = myDatePicker.getValue();\n            dates.add(myDate);\n            System.out.println(myDate.toString());\n            return myDate.toString();\n        }\n    }\n    \n    public void switchToScene1(ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;fxml.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n        //myImageView.setImage(myImage);\n        \n    }\n    \n    public void switchToScene2(ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;scene2.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    public void loadEvents() {\n        for(int i =0; i&lt;events.size(); i++) {\n            currentEvent = currentEvent + events.get(i);\n        }\n        listLabel.setText(currentEvent);\n    }\n    \n    public void switchToScene3(ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;scene3.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n        loadEvents();\n    }\n    \n    public void submitDate(ActionEvent event) throws IOException {\n        \n        if (myDate != null) {\n            System.out.println(myDate + &quot;numba 2 &quot;);\n            //dates.add();\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;scene4.fxml&quot;));\n            stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n            scene = new Scene(root);\n            stage.setScene(scene);\n            stage.show();\n        } else {\n            errorDate.setVisible(true);\n        }\n        printArrays();\n    }\n    \n    public void submitEvent(ActionEvent event) throws IOException{\n        String eventName = name.getText();\n        String eventDescription = description.getText();\n        if(eventName.length()&gt;0) {\n            events.add(eventName);\n            descriptions.add(eventDescription);\n            errorLabel.setVisible(true);\n            errorLabel.setText(&quot;Your event has been submitted. You may now navigate back to the main menu.&quot;);\n            \n        }else {\n            errorLabel.setVisible(true);\n        }\n        printArrays();\n        \n    }\n    public void printArrays() {\n        System.out.println(events);\n        System.out.println(descriptions);\n        System.out.println(dates);\n        \n    }\n\n    \n    \n    \n\n}\n\n</code></pre>\n<p>Main.java:</p>\n<pre><code>package application;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Line;\nimport javafx.scene.Group;\nimport javafx.scene.Parent;\nimport javafx.scene.image.*;\nimport javafx.scene.input.KeyCombination;\nimport javafx.scene.text.*;\nimport java.io.FileInputStream; \nimport java.io.FileNotFoundException; \nimport javafx.application.Application; \nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;  \nimport javafx.scene.control.DatePicker;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.time.LocalDate;\nimport java.util.ResourceBundle;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.DatePicker;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.control.TextField;\nimport javafx.scene.image.ImageView;\nimport javafx.stage.Stage;\nimport javafx.scene.image.*;\nimport java.util.ArrayList;\n\n\n\n\npublic class Main extends Application {\n    \n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        try {\n            LocalDate e = LocalDate.now();\n            SceneController.events.add(&quot; &quot;);\n            SceneController.descriptions.add(&quot; &quot;);\n            SceneController.dates.add(e);\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;fxml.fxml&quot;));\n        Scene scene = new Scene(root);\n        String css = this.getClass().getResource(&quot;application.css&quot;).toExternalForm();\n        scene.getStylesheets().add(css);\n        \n        \n        Image icon = new Image(&quot;SchedulerLogo.PNG&quot;);\n        stage.getIcons().add(icon);\n        stage.setTitle(&quot;Scheduler&quot;);\n        stage.setWidth(1000);\n        stage.setHeight(700);\n        stage.setFullScreen(false);\n        stage.setFullScreenExitHint(&quot;press q to escape?&quot;);\n        stage.setFullScreenExitKeyCombination(KeyCombination.valueOf(&quot;q&quot;));\n        \n        \n        \n        stage.setScene(scene);\n        stage.show();\n        }catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>scene3.fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;1255.0&quot; prefWidth=&quot;1299.0&quot; style=&quot;-fx-background-color: pink;&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.SceneController&quot;&gt;\n   &lt;children&gt;\n      &lt;Label fx:id=&quot;ScheduleLabel&quot; alignment=&quot;CENTER&quot; layoutX=&quot;-4.0&quot; layoutY=&quot;73.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;1309.0&quot; style=&quot;-fx-background-color: pink;&quot; text=&quot;Upcoming Events:&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;75.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Button fx:id=&quot;returnFrom3&quot; layoutX=&quot;625.0&quot; layoutY=&quot;1136.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToScene1&quot; prefWidth=&quot;94.0&quot; text=&quot;Main Menu&quot; /&gt;\n      &lt;Label fx:id=&quot;listLabel&quot; alignment=&quot;TOP_LEFT&quot; layoutY=&quot;301.0&quot; prefHeight=&quot;821.0&quot; prefWidth=&quot;1299.0&quot; text=&quot;Label&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>error stack-trace:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1858)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@20.0.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Node.java:8944)\n    at javafx.controls@20.0.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@20.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@20.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@20.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@20.0.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\n    at javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.base@20.0.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\n    at javafx.fxml@20.0.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\n    ... 46 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.Label.setText(String)&quot; because &quot;this.listLabel&quot; is null\n    at hellofx/application.SceneController.loadEvents(SceneController.java:157)\n    at hellofx/application.SceneController.switchToScene3(SceneController.java:166)\n    ... 57 more\n\n</code></pre>\n<p>i have tried recreating the fxml files, I think that all the libraries and build paths are in order, I have no idea what is happening. Please help.</p>\n"},{"tags":["java","inheritance","multiple-inheritance"],"comments":[{"owner":{"account_id":1474041,"reputation":1667,"user_id":1384908,"accept_rate":67,"display_name":"pafau k."},"score":0,"creation_date":1685903982,"post_id":76401873,"comment_id":134722694,"body_markdown":"If you only ever want to have one child class extending the parent, why isn&#39;t it a single class anyway? Why would you need two?","body":"If you only ever want to have one child class extending the parent, why isn&#39;t it a single class anyway? Why would you need two?"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685904287,"post_id":76401873,"comment_id":134722733,"body_markdown":"Sorry, I couldn&#39;t able to get your question. Could you please be more specific.","body":"Sorry, I couldn&#39;t able to get your question. Could you please be more specific."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685904435,"post_id":76401873,"comment_id":134722755,"body_markdown":"The class B method has a common function.","body":"The class B method has a common function."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1685905388,"post_id":76401873,"comment_id":134722885,"body_markdown":"And I&#39;m trying Loose coupling.","body":"And I&#39;m trying Loose coupling."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1685915653,"creation_date":1685915653,"answer_id":76402552,"question_id":76401873,"body_markdown":"You could define the code for _methodA_ if you use the _private_ or _default_ access modifier.  \r\n_[Lesson: Interfaces and Inheritance (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language)](https://docs.oracle.com/javase/tutorial/java/IandI/index.html)_.\r\n\r\n```java\r\ninterface A {\r\n    private String method() {\r\n        return &quot;stack overflow&quot;;\r\n    }\r\n}\r\n\r\nclass B implements A {\r\n    String string = A.super.method();\r\n}\r\n```","title":"Multiple child class vs Single child class - Java Inheritance","body":"<p>You could define the code for <em>methodA</em> if you use the <em>private</em> or <em>default</em> access modifier.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/index.html\" rel=\"nofollow noreferrer\">Lesson: Interfaces and Inheritance (The Java™ Tutorials &gt; Learning the Java Language)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface A {\n    private String method() {\n        return &quot;stack overflow&quot;;\n    }\n}\n\nclass B implements A {\n    String string = A.super.method();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28750997,"reputation":21,"user_id":22019110,"display_name":"Yogendra Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685988328,"creation_date":1685988328,"answer_id":76408946,"question_id":76401873,"body_markdown":"Go through the **SOLID principle**. Its a design principles encourage us to create more maintainable, understandable, and flexible software. Consequently, as our applications grow in size, we can reduce their complexity and save ourselves a lot of headaches further down the road!","title":"Multiple child class vs Single child class - Java Inheritance","body":"<p>Go through the <strong>SOLID principle</strong>. Its a design principles encourage us to create more maintainable, understandable, and flexible software. Consequently, as our applications grow in size, we can reduce their complexity and save ourselves a lot of headaches further down the road!</p>\n"}],"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1685988328,"creation_date":1685903232,"question_id":76401873,"body_markdown":"I have a question that extending a Parent class to multiple child classes is a good practice or maintaining a single child is a good practice? Does this affects the scalability? All the classes will be executed at the same time. So I have this question.\r\n\r\nfor example I have used only 4 classes. In real time It will be like 83 classes will be using the same method and gets executed at once.\r\n\r\n    public interface A\r\n    {\r\n      methodA();\r\n    }\r\n    \r\n    public class B implements A\r\n    {\r\n      methodA()\r\n      {\r\n        .....\r\n      }\r\n    }\r\n    \r\n    public class C\r\n    {\r\n      B b = new B();\r\n      b.methodA();\r\n    }\r\n    \r\n    public class D\r\n    {\r\n      B b = new B();\r\n      b.methodA();\r\n    }\r\n\r\nOr\r\n\r\n    public interface A\r\n    {\r\n      methodA();\r\n    }\r\n    \r\n    public class B implements A\r\n    {\r\n      methodA()\r\n      {\r\n        .....\r\n      }\r\n    }\r\n    \r\n    public class C extends B\r\n    {\r\n      super.methodA();\r\n    }\r\n    \r\n    public class D extends B\r\n    {\r\n      super.methodA();\r\n    }\r\n\r\nOr\r\n\r\n    public interface A\r\n    {\r\n      methodA();\r\n    }\r\n    \r\n    public class B implements A\r\n    {\r\n      methodA()\r\n      {\r\n        .....\r\n      }\r\n    }\r\n    \r\n    public class C extends B\r\n    {\r\n      super.methodA();\r\n    }\r\n    \r\n    public class D extends C\r\n    {\r\n      super.methodA();\r\n    }\r\n","title":"Multiple child class vs Single child class - Java Inheritance","body":"<p>I have a question that extending a Parent class to multiple child classes is a good practice or maintaining a single child is a good practice? Does this affects the scalability? All the classes will be executed at the same time. So I have this question.</p>\n<p>for example I have used only 4 classes. In real time It will be like 83 classes will be using the same method and gets executed at once.</p>\n<pre><code>public interface A\n{\n  methodA();\n}\n\npublic class B implements A\n{\n  methodA()\n  {\n    .....\n  }\n}\n\npublic class C\n{\n  B b = new B();\n  b.methodA();\n}\n\npublic class D\n{\n  B b = new B();\n  b.methodA();\n}\n</code></pre>\n<p>Or</p>\n<pre><code>public interface A\n{\n  methodA();\n}\n\npublic class B implements A\n{\n  methodA()\n  {\n    .....\n  }\n}\n\npublic class C extends B\n{\n  super.methodA();\n}\n\npublic class D extends B\n{\n  super.methodA();\n}\n</code></pre>\n<p>Or</p>\n<pre><code>public interface A\n{\n  methodA();\n}\n\npublic class B implements A\n{\n  methodA()\n  {\n    .....\n  }\n}\n\npublic class C extends B\n{\n  super.methodA();\n}\n\npublic class D extends C\n{\n  super.methodA();\n}\n</code></pre>\n"},{"tags":["java","arrays","algorithm","data-structures","bufferedreader"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685981615,"post_id":76408207,"comment_id":134733758,"body_markdown":"You&#39;re inputting 10,000 numbers at the command line - why? (And *how*?)","body":"You&#39;re inputting 10,000 numbers at the command line - why? (And <i>how</i>?)"},{"owner":{"account_id":23302693,"reputation":5,"user_id":17383107,"display_name":"Minh Anh"},"score":0,"creation_date":1685981765,"post_id":76408207,"comment_id":134733783,"body_markdown":"@g00se it&#39;s my homeworks :((. It&#39;s still worked but the thing is it not runs fast enough so i can pass the time limit","body":"@g00se it&#39;s my homeworks :((. It&#39;s still worked but the thing is it not runs fast enough so i can pass the time limit"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685981836,"post_id":76408207,"comment_id":134733795,"body_markdown":"How fast is it and how fast do you need it to be? That should be part of the question","body":"How fast is it and how fast do you need it to be? That should be part of the question"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1685984003,"post_id":76408207,"comment_id":134734209,"body_markdown":"Instead of all that code in one line, break up your read, split, and string to int conversion  using a simple `for` loop.  See if the `for` loop is faster.","body":"Instead of all that code in one line, break up your read, split, and string to int conversion  using a simple <code>for</code> loop.  See if the <code>for</code> loop is faster."},{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1685984478,"post_id":76408207,"comment_id":134734283,"body_markdown":"So the input is a single line that contains 10,000 integers, space-separated? Your *homework* is to create a program that will read and parse that, and you have a time limit? I guess things have changed a lot since I was in school.","body":"So the input is a single line that contains 10,000 integers, space-separated? Your <i>homework</i> is to create a program that will read and parse that, and you have a time limit? I guess things have changed a lot since I was in school."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1685987076,"post_id":76408207,"comment_id":134734730,"body_markdown":"I&#39;m guessing that parsing the input is not the real problem. What is the time limit? What do you do with the array `a` after it&#39;s created?","body":"I&#39;m guessing that parsing the input is not the real problem. What is the time limit? What do you do with the array <code>a</code> after it&#39;s created?"}],"answers":[{"tags":[],"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685985680,"creation_date":1685985680,"answer_id":76408707,"question_id":76408207,"body_markdown":"You might find that the regular expression and integer conversion are convenient but not necessarily performant. In the code you posted, the regex evaluator has to examine every character to find the separators, then create a new string for each number it finds, and call the conversion routine to create an integer (which involves looking at each character of the string again). There&#39;s a lot of work going on under the hood.\r\n\r\nYou might consider parsing and converting in a single step. If you know that the input is valid (i.e. there aren&#39;t any values out of range and there aren&#39;t any non-numeric characters), then a tightly coded loop along these lines might do the trick. Note that I&#39;m not really a Java programmer, but you should be able to get the gist of the idea:\r\n\r\n    List&lt;int&gt; tempList;  // this is a dynamic list that grows with append\r\n    string inputString;\r\n\r\n    inputString = br.readLine();\r\n    int i = 0;  // number is built here\r\n    bool firstDigit = false;\r\n    for (x = 0 to length of inputString) {\r\n        if (inputString[x] == &#39; &#39;) {\r\n            // if the input character is a space and you&#39;ve seen\r\n            // at least one digit, then this is the end of that number.\r\n            // Write it to the output list and reset.\r\n            if (firstDigit) {\r\n                tempList.append(i);\r\n                i = 0;\r\n                firstDigit = false;\r\n            }\r\n            continue;  // go get next character\r\n        }\r\n        i = (i*10) + inputString[x] - &#39;0&#39;;\r\n        firstDigit = true;\r\n    }\r\n    // We&#39;ve reached the end of the string.\r\n    // There might not be a space at the end, so the last value\r\n    // is still in the variable i and hasn&#39;t been written to output\r\n    if (firstDigit) {\r\n        tempList.append(i);\r\n    }\r\n    // and then convert that expandable list to an array\r\n    return tempList.ToArray()\r\n\r\nThis could potentially be much faster because it goes through the array examining each character exactly once. In addition, it doesn&#39;t create any temporary strings.\r\n\r\nIf you know that there are exactly 10,000 numbers on the line, you can speed this up even more by allocating your return array at the start. When you read a number, add it to the array and increment the index. Something like:\r\n\r\n    int a[10000];\r\n    aindex = 0;\r\n\r\nAnd then in your loop in place of `tempList.append(i)`, you have:\r\n\r\n    a[aindex] = i;\r\n    aindex++;\r\n\r\nThat will eliminate the need for the dynamic list and the `ToArray` at the end.","title":"Convert text line of integers into array of integers in fastest way","body":"<p>You might find that the regular expression and integer conversion are convenient but not necessarily performant. In the code you posted, the regex evaluator has to examine every character to find the separators, then create a new string for each number it finds, and call the conversion routine to create an integer (which involves looking at each character of the string again). There's a lot of work going on under the hood.</p>\n<p>You might consider parsing and converting in a single step. If you know that the input is valid (i.e. there aren't any values out of range and there aren't any non-numeric characters), then a tightly coded loop along these lines might do the trick. Note that I'm not really a Java programmer, but you should be able to get the gist of the idea:</p>\n<pre><code>List&lt;int&gt; tempList;  // this is a dynamic list that grows with append\nstring inputString;\n\ninputString = br.readLine();\nint i = 0;  // number is built here\nbool firstDigit = false;\nfor (x = 0 to length of inputString) {\n    if (inputString[x] == ' ') {\n        // if the input character is a space and you've seen\n        // at least one digit, then this is the end of that number.\n        // Write it to the output list and reset.\n        if (firstDigit) {\n            tempList.append(i);\n            i = 0;\n            firstDigit = false;\n        }\n        continue;  // go get next character\n    }\n    i = (i*10) + inputString[x] - '0';\n    firstDigit = true;\n}\n// We've reached the end of the string.\n// There might not be a space at the end, so the last value\n// is still in the variable i and hasn't been written to output\nif (firstDigit) {\n    tempList.append(i);\n}\n// and then convert that expandable list to an array\nreturn tempList.ToArray()\n</code></pre>\n<p>This could potentially be much faster because it goes through the array examining each character exactly once. In addition, it doesn't create any temporary strings.</p>\n<p>If you know that there are exactly 10,000 numbers on the line, you can speed this up even more by allocating your return array at the start. When you read a number, add it to the array and increment the index. Something like:</p>\n<pre><code>int a[10000];\naindex = 0;\n</code></pre>\n<p>And then in your loop in place of <code>tempList.append(i)</code>, you have:</p>\n<pre><code>a[aindex] = i;\naindex++;\n</code></pre>\n<p>That will eliminate the need for the dynamic list and the <code>ToArray</code> at the end.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685988019,"creation_date":1685988019,"answer_id":76408916,"question_id":76408207,"body_markdown":"One way is to use the _[Scanner](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html)_ class, and iterate on the _[Scanner#nextInt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextInt())_ method.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nint[] a = new int[10_000];\r\nint index = 0;\r\nwhile (index &lt; a.length) a[index++] = scanner.nextInt();\r\n```","title":"Convert text line of integers into array of integers in fastest way","body":"<p>One way is to use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></em> class, and iterate on the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\">Scanner#nextInt</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nint[] a = new int[10_000];\nint index = 0;\nwhile (index &lt; a.length) a[index++] = scanner.nextInt();\n</code></pre>\n"}],"owner":{"account_id":23302693,"reputation":5,"user_id":17383107,"display_name":"Minh Anh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685988019,"creation_date":1685981187,"question_id":76408207,"body_markdown":"I have a small homeworks, I need to convert text line of integers contains 10,000 numbers. I have tried this code below:\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    int[] a = Arrays.stream(br.readLine().split(&quot;\\\\s+&quot;)).mapToInt(Integer::parseInt).toArray();\r\nIt&#39;s worked, but it&#39;s still not fast enough and I got Time Limited Exeeded error. Is there any way I can make it run faster?","title":"Convert text line of integers into array of integers in fastest way","body":"<p>I have a small homeworks, I need to convert text line of integers contains 10,000 numbers. I have tried this code below:</p>\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\nint[] a = Arrays.stream(br.readLine().split(&quot;\\\\s+&quot;)).mapToInt(Integer::parseInt).toArray();\n</code></pre>\n<p>It's worked, but it's still not fast enough and I got Time Limited Exeeded error. Is there any way I can make it run faster?</p>\n"},{"tags":["java","spring","spring-boot","integration-testing"],"answers":[{"comments":[{"owner":{"account_id":28721222,"reputation":51,"user_id":21994955,"display_name":"jack nik"},"score":0,"creation_date":1685982682,"post_id":76408328,"comment_id":134733959,"body_markdown":"Hi, so your example is not mocking the service and is actually bringing up all the server? Can we call it an integrationtest?","body":"Hi, so your example is not mocking the service and is actually bringing up all the server? Can we call it an integrationtest?"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1685984918,"post_id":76408328,"comment_id":134734354,"body_markdown":"You can and should call this an integration test.  I&#39;ve modified the test class name to reflect this.  Follow the surefire naming convention for integration tests, which is to name them `*IT.java`,  `IT*.java`, or `*ITCase.java`","body":"You can and should call this an integration test.  I&#39;ve modified the test class name to reflect this.  Follow the surefire naming convention for integration tests, which is to name them <code>*IT.java</code>,  <code>IT*.java</code>, or <code>*ITCase.java</code>"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1685987479,"post_id":76408328,"comment_id":134734807,"body_markdown":"&gt; &quot;@ExtendWith(SpringExtension.class) // SpringExtension will spin up the full Spring context&quot; why not just @SpringBootTest then?","body":"&gt; &quot;@ExtendWith(SpringExtension.class) // SpringExtension will spin up the full Spring context&quot; why not just @SpringBootTest then?"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1685991138,"post_id":76408328,"comment_id":134735438,"body_markdown":"As pointed out by @ILyaCyclone, there are many ways to achieve what you want :)","body":"As pointed out by @ILyaCyclone, there are many ways to achieve what you want :)"}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685984802,"creation_date":1685982309,"answer_id":76408328,"question_id":76406928,"body_markdown":"You are 99% of the way there with the test you have.  The key that you&#39;re missing is that @WebMvcTest will not create the full spring context that contains your service beans.  I will assume that you&#39;re on Junit5, given that you&#39;re using Spring 3.  Here&#39;s an example of a MockMvc test that will inject actual service instances into your controller.\r\n\r\n\r\n\t@WebMvcTest\r\n\t@ExtendWith(SpringExtension.class) // SpringExtension will spin up the full Spring context\r\n\tpublic class PersonController_IT {\r\n\t\t@Autowired\r\n\t\tprivate MockMvc mockMvc;\r\n\t\t\r\n\t\t@Test\r\n\t\tvoid whenGetPersonListThenStatusOk() throws Exception {\r\n\t\t\tPersonListDto personListDto = new PersonListDto(new ArrayList&lt;&gt;());\r\n\t\t\tmockMvc.perform(get(BASE_URL))\r\n\t\t\t\t\t.andExpect(status().isOk())\r\n\t\t\t\t\t.andExpect(content().string(&quot;{\\&quot;persons\\&quot;:[]}&quot;));\r\n\t\r\n\t\t}\r\n\t}","title":"Integration tests Spring Boot 3","body":"<p>You are 99% of the way there with the test you have.  The key that you're missing is that @WebMvcTest will not create the full spring context that contains your service beans.  I will assume that you're on Junit5, given that you're using Spring 3.  Here's an example of a MockMvc test that will inject actual service instances into your controller.</p>\n<pre><code>@WebMvcTest\n@ExtendWith(SpringExtension.class) // SpringExtension will spin up the full Spring context\npublic class PersonController_IT {\n    @Autowired\n    private MockMvc mockMvc;\n    \n    @Test\n    void whenGetPersonListThenStatusOk() throws Exception {\n        PersonListDto personListDto = new PersonListDto(new ArrayList&lt;&gt;());\n        mockMvc.perform(get(BASE_URL))\n                .andExpect(status().isOk())\n                .andExpect(content().string(&quot;{\\&quot;persons\\&quot;:[]}&quot;));\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28721222,"reputation":51,"user_id":21994955,"display_name":"jack nik"},"score":0,"creation_date":1685988562,"post_id":76408911,"comment_id":134734989,"body_markdown":"what is the difference with mockmvc?","body":"what is the difference with mockmvc?"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1685988868,"post_id":76408911,"comment_id":134735041,"body_markdown":"MockMvc is a MOCK. It doesn&#39;t start real web server. You can&#39;t send real http requests to it.","body":"MockMvc is a MOCK. It doesn&#39;t start real web server. You can&#39;t send real http requests to it."},{"owner":{"account_id":28721222,"reputation":51,"user_id":21994955,"display_name":"jack nik"},"score":0,"creation_date":1685989219,"post_id":76408911,"comment_id":134735100,"body_markdown":"So it mocks the server but I guess all the layers like database and service are not mocked","body":"So it mocks the server but I guess all the layers like database and service are not mocked"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1686003001,"post_id":76408911,"comment_id":134737198,"body_markdown":"@WebMvcTest will load your controllers, emulate web requests without actual http calls (mockMvc) and mock other beans (like services), that are required by your controllers.","body":"@WebMvcTest will load your controllers, emulate web requests without actual http calls (mockMvc) and mock other beans (like services), that are required by your controllers."},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1686003082,"post_id":76408911,"comment_id":134737211,"body_markdown":"As said, if you want &quot;real http request&quot;, you commonly use `@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)` (or .DEFINED_PORT).","body":"As said, if you want &quot;real http request&quot;, you commonly use <code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</code> (or .DEFINED_PORT)."}],"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685987963,"creation_date":1685987963,"answer_id":76408911,"question_id":76406928,"body_markdown":"&gt; So the goal would be to run a real http request involving all application layers and server.\r\n\r\nFor real http requests you can use\r\n`@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)`. This will start your application on random free port and also autoconfigure TestRestTemplate.\r\n\r\n`@Autowired private TestRestTemplate restTemplate;`\r\n\r\nIt is not required to specify the port (nor host) in your test code as it is preconfigured.\r\n\r\n`ResponseEntity&lt;String&gt; response = restTemplate.exchange(&quot;/api/something&quot;, HttpMethod.POST, requestEntity, String.class);`\r\n\r\nExample:\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic class MyIntegrationTest {\r\n\r\n@Autowired private TestRestTemplate restTemplate;\r\n\r\n@Test\r\npubliс void myTest() {\r\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(&quot;/api/something&quot;, HttpMethod.POST, requestEntity, String.class);\r\n    // ...\r\n}\r\n\r\n```\r\nFor WebClient (or WebTestClient) you will need webflux.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nWhich will also make it available through auto-wiring.\r\n`@Autowired WebTestClient webClient;`. Although you should consider if it is worth adding this dependency just for WebTestClient.","title":"Integration tests Spring Boot 3","body":"<blockquote>\n<p>So the goal would be to run a real http request involving all application layers and server.</p>\n</blockquote>\n<p>For real http requests you can use\n<code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</code>. This will start your application on random free port and also autoconfigure TestRestTemplate.</p>\n<p><code>@Autowired private TestRestTemplate restTemplate;</code></p>\n<p>It is not required to specify the port (nor host) in your test code as it is preconfigured.</p>\n<p><code>ResponseEntity&lt;String&gt; response = restTemplate.exchange(&quot;/api/something&quot;, HttpMethod.POST, requestEntity, String.class);</code></p>\n<p>Example:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class MyIntegrationTest {\n\n@Autowired private TestRestTemplate restTemplate;\n\n@Test\npubliс void myTest() {\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(&quot;/api/something&quot;, HttpMethod.POST, requestEntity, String.class);\n    // ...\n}\n\n</code></pre>\n<p>For WebClient (or WebTestClient) you will need webflux.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Which will also make it available through auto-wiring.\n<code>@Autowired WebTestClient webClient;</code>. Although you should consider if it is worth adding this dependency just for WebTestClient.</p>\n"}],"owner":{"account_id":28721222,"reputation":51,"user_id":21994955,"display_name":"jack nik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685987963,"creation_date":1685971787,"question_id":76406928,"body_markdown":"I got bit confused trying to understand what the best way to run integration tests for a Spring Boot 3 rest api application (data jpa,spring mvc). For unit test I use:\r\n\r\n\r\n      @WebMvcTest\r\n      @AutoConfigureMockMvc(addFilters = false)\r\n      class PersonControllerTest {\r\n\r\n\r\n    @MockBean\r\n    private PersonService personService;\r\n    @MockBean\r\n    private SkillService skillService;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n\r\n    @Test\r\n    void whenGetPersonListThenStatusOk() throws Exception {\r\n\r\n        PersonListDto personListDto = new PersonListDto(new ArrayList&lt;&gt;());\r\n        when(personService.getAllPersons()).thenReturn(personListDto);\r\n        mockMvc.perform(get(BASE_URL))\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().string(&quot;{\\&quot;persons\\&quot;:[]}&quot;));\r\n\r\n    }\r\n\r\n\r\nBut for integration test I have no idea what to use. Can I use mockMvc(is it only for unittest)? or Webclient(as I understood is only for reactive app and require jetty)? \r\n\r\nSo the goal would be to run a real http request involving all application layers and server.\r\n\r\n","title":"Integration tests Spring Boot 3","body":"<p>I got bit confused trying to understand what the best way to run integration tests for a Spring Boot 3 rest api application (data jpa,spring mvc). For unit test I use:</p>\n<pre><code>  @WebMvcTest\n  @AutoConfigureMockMvc(addFilters = false)\n  class PersonControllerTest {\n\n\n@MockBean\nprivate PersonService personService;\n@MockBean\nprivate SkillService skillService;\n\n@Autowired\nprivate MockMvc mockMvc;\n\n\n@Test\nvoid whenGetPersonListThenStatusOk() throws Exception {\n\n    PersonListDto personListDto = new PersonListDto(new ArrayList&lt;&gt;());\n    when(personService.getAllPersons()).thenReturn(personListDto);\n    mockMvc.perform(get(BASE_URL))\n            .andExpect(status().isOk())\n            .andExpect(content().string(&quot;{\\&quot;persons\\&quot;:[]}&quot;));\n\n}\n</code></pre>\n<p>But for integration test I have no idea what to use. Can I use mockMvc(is it only for unittest)? or Webclient(as I understood is only for reactive app and require jetty)?</p>\n<p>So the goal would be to run a real http request involving all application layers and server.</p>\n"},{"tags":["java","eclipse","export"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685983839,"post_id":76408474,"comment_id":134734178,"body_markdown":"How are you creating this thing, what does your project look like? The first snippet is something special, you&#39;re clicking on the wrong stuff, but as you haven&#39;t explained what you&#39;re doing it&#39;s not possible to answer this question in any further detail, other than &#39;hey, works fine for me&#39;.","body":"How are you creating this thing, what does your project look like? The first snippet is something special, you&#39;re clicking on the wrong stuff, but as you haven&#39;t explained what you&#39;re doing it&#39;s not possible to answer this question in any further detail, other than &#39;hey, works fine for me&#39;."},{"owner":{"account_id":28758538,"reputation":1,"user_id":22024999,"display_name":"battlecruiser12"},"score":0,"creation_date":1685984090,"post_id":76408474,"comment_id":134734224,"body_markdown":"[Here is how the project I&#39;m trying to export is structured](https://imgur.com/a/zMD5jrr)\n\nI have also tried to export a program consisting only of a main method with a System.out.print(), which gives the same error.","body":"<a href=\"https://imgur.com/a/zMD5jrr\" rel=\"nofollow noreferrer\">Here is how the project I&#39;m trying to export is structured</a>  I have also tried to export a program consisting only of a main method with a System.out.print(), which gives the same error."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1685987804,"post_id":76408474,"comment_id":134734880,"body_markdown":"`-Xdiag` still requires you use `-jar`, if I read the doc right.","body":"<code>-Xdiag</code> still requires you use <code>-jar</code>, if I read the doc right."}],"answers":[{"tags":[],"owner":{"account_id":28758538,"reputation":1,"user_id":22024999,"display_name":"battlecruiser12"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685987762,"creation_date":1685987762,"answer_id":76408893,"question_id":76408474,"body_markdown":"\r\nUpdate: Managed to solve the issue by downloading JDK 17","title":"Programs run fine in Eclipse, but Java can&#39;t find the source file after exporting","body":"<p>Update: Managed to solve the issue by downloading JDK 17</p>\n"}],"owner":{"account_id":28758538,"reputation":1,"user_id":22024999,"display_name":"battlecruiser12"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685987762,"creation_date":1685983612,"question_id":76408474,"body_markdown":"Eclipse on my desktop (Windows 10), seems to be unable to export runnable jars correctly. When I export a file and attempt to run using\r\n\r\n```\r\njava -jar test.jar\r\n```\r\n\r\ncmd flashes for a second before disappearing.\r\nWhen testing it using \r\n\r\n```\r\njava -Xdiag test.jar\r\npause\r\n```\r\n\r\nI get the error shown in the picture:\r\n\r\n[Translation: &quot;Error: Can&#39;t find or load main class test.jar&quot;](https://i.stack.imgur.com/4U0Ip.png)\r\n\r\nI have no issues running a program I exported on my laptop downloaded to my desktop this way, so I&#39;m assuming it is an issue with Eclipse, as any file exported from my desktop yields the same result.\r\n\r\nI have looked into the MANIFEST files, but I don&#39;t really have enough experience with Java to make any sense out of it, but here is the MANIFEST for a project exported on my desktop:\r\n\r\n```\r\nManifest-Version: 1.0\r\nMain-Class: org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader\r\nRsrc-Class-Path: ./\r\nRsrc-Main-Class: main.Main\r\nClass-Path: .\r\n```\r\nHere is one from a project exported on my laptop:\r\n\r\n```\r\nManifest-Version: 1.0\r\nMain-Class: Main\r\nClass-Path: .\r\n```\r\nI have tried replacing the one from the project exported on my desktop with\r\n\r\n```\r\nManifest-Version: 1.0\r\nMain-Class: main.Main\r\nClass-Path: .\r\n```\r\nBut it doesn&#39;t make any difference.","title":"Programs run fine in Eclipse, but Java can&#39;t find the source file after exporting","body":"<p>Eclipse on my desktop (Windows 10), seems to be unable to export runnable jars correctly. When I export a file and attempt to run using</p>\n<pre><code>java -jar test.jar\n</code></pre>\n<p>cmd flashes for a second before disappearing.\nWhen testing it using</p>\n<pre><code>java -Xdiag test.jar\npause\n</code></pre>\n<p>I get the error shown in the picture:</p>\n<p><a href=\"https://i.stack.imgur.com/4U0Ip.png\" rel=\"nofollow noreferrer\">Translation: &quot;Error: Can't find or load main class test.jar&quot;</a></p>\n<p>I have no issues running a program I exported on my laptop downloaded to my desktop this way, so I'm assuming it is an issue with Eclipse, as any file exported from my desktop yields the same result.</p>\n<p>I have looked into the MANIFEST files, but I don't really have enough experience with Java to make any sense out of it, but here is the MANIFEST for a project exported on my desktop:</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader\nRsrc-Class-Path: ./\nRsrc-Main-Class: main.Main\nClass-Path: .\n</code></pre>\n<p>Here is one from a project exported on my laptop:</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: Main\nClass-Path: .\n</code></pre>\n<p>I have tried replacing the one from the project exported on my desktop with</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: main.Main\nClass-Path: .\n</code></pre>\n<p>But it doesn't make any difference.</p>\n"},{"tags":["java","spring-boot","neo4j","spring-data-neo4j"],"answers":[{"comments":[{"owner":{"account_id":4054391,"reputation":929,"user_id":3332879,"accept_rate":38,"display_name":"Cugomastik"},"score":0,"creation_date":1701188420,"post_id":76408870,"comment_id":136743024,"body_markdown":"also, some info in here: https://docs.spring.io/spring-data/neo4j/reference/getting-started.html#configure-cypher-dsl-dialect","body":"also, some info in here: <a href=\"https://docs.spring.io/spring-data/neo4j/reference/getting-started.html#configure-cypher-dsl-dialect\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/neo4j/reference/&hellip;</a>"}],"tags":[],"owner":{"account_id":13001928,"reputation":46,"user_id":9397755,"display_name":"Jennifer Reif"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685987570,"creation_date":1685987570,"answer_id":76408870,"question_id":76392714,"body_markdown":"This is a known issue with Spring Boot 3.1.0 and Spring Data Neo4j. You can add the below section of code to the configuration/SpringBootApplication class. Information on the issue is [here](https://github.com/spring-projects/spring-data-neo4j/issues/2728). It should be fixed once the updated release is published.\r\n\r\n    @Bean\r\n    public Configuration cypherDslConfiguration() {\r\n\t    return Configuration.newConfig()\r\n\t\t\t.withDialect(Dialect.NEO4J_5)\r\n\t\t\t.build();\r\n    } ","title":"Unable to create a relationship with spring data Neo4j","body":"<p>This is a known issue with Spring Boot 3.1.0 and Spring Data Neo4j. You can add the below section of code to the configuration/SpringBootApplication class. Information on the issue is <a href=\"https://github.com/spring-projects/spring-data-neo4j/issues/2728\" rel=\"nofollow noreferrer\">here</a>. It should be fixed once the updated release is published.</p>\n<pre><code>@Bean\npublic Configuration cypherDslConfiguration() {\n    return Configuration.newConfig()\n        .withDialect(Dialect.NEO4J_5)\n        .build();\n} \n</code></pre>\n"}],"owner":{"account_id":24377961,"reputation":56,"user_id":18310003,"display_name":"RosarioB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685987570,"creation_date":1685730933,"question_id":76392714,"body_markdown":"I am trying to create a set of CRUD REST APIs for Neo4j. Everything works fine except I am unable to create a new relationship. These are the entities:\r\n\r\n```\r\n@Node(&quot;Movie&quot;)\r\n@Getter @Setter  @AllArgsConstructor @ToString\r\npublic class Movie {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    //@JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    private Long id;\r\n\r\n    @Property(&quot;title&quot;)\r\n    private String title;\r\n\r\n    @Property(&quot;description&quot;)\r\n    private String description;\r\n\r\n    @Relationship(type = &quot;ACTED_IN&quot;, direction = Relationship.Direction.INCOMING)\r\n    private List&lt;Roles actorsAndRoles;\r\n\r\n    @Relationship(type = &quot;DIRECTED&quot;, direction = Relationship.Direction.INCOMING)\r\n    private List&lt;Person directors;\r\n}\r\n\r\n @Node(&quot;Person&quot;)\r\n @Getter @Setter @AllArgsConstructor @ToString\r\n public class Person {\r\n \r\n     @Id @GeneratedValue\r\n     private Long id;\r\n \r\n     @Property(&quot;name&quot;)\r\n     private String name;\r\n \r\n     @Property(&quot;born&quot;)\r\n     private String born;\r\n \r\n }\r\n\r\n @Getter @Setter @AllArgsConstructor @ToString\r\n @RelationshipProperties\r\n public class Roles{\r\n \r\n     @RelationshipId\r\n     private Long id;\r\n \r\n     @TargetNode\r\n     private Person person;\r\n \r\n     @Property(&quot;roles&quot;)\r\n     private List&lt;String roles;\r\n }\r\n```\r\n\r\nThis is the controller (the class is called MovieController) method I am calling:\r\n\r\n\r\n```\r\n@PostMapping\r\n    public ResponseEntity create(@RequestBody Movie movie){\r\n        try {\r\n            movie.setId(null);\r\n            return ResponseEntity.ok(movieService.save(movie));\r\n        }\r\n        catch(Exception e){\r\n            return ResponseEntity.internalServerError().body(e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\nI have uploaded the code here: [https://github.com/RosarioB/spring-boot-crud-rest-api-neo4j/tree/basic_crud](https://github.com/RosarioB/spring-boot-crud-rest-api-neo4j/tree/basic_crud)\r\n\r\n\r\nThis is an example of a body of a POST request at: http://localhost:8080/api/movies\r\n\r\n\r\n```\r\n{\r\n    \r\n   &quot;title&quot;:&quot;Matrix&quot;,\r\n   &quot;description&quot;:&quot;Science fiction&quot;,\r\n   &quot;actorsAndRoles&quot;:[\r\n       {\r\n           &quot;person&quot;:{\r\n               &quot;name&quot;:&quot;Keanu Reeves&quot;,\r\n               &quot;born&quot;:&quot;27-01-1963&quot;\r\n           }\r\n       }\r\n   ]\r\n   \r\n\r\n}\r\n```\r\n\r\nAnd this is the response:\r\n\r\n\r\n```\r\n{\r\n    &quot;id&quot;: 16,\r\n    &quot;title&quot;: &quot;Matrix&quot;,\r\n    &quot;description&quot;: &quot;Science fiction&quot;,\r\n    &quot;actorsAndRoles&quot;: [\r\n        {\r\n            &quot;id&quot;: null,\r\n            &quot;person&quot;: {\r\n                &quot;id&quot;: 17,\r\n                &quot;name&quot;: &quot;Keanu Reeves&quot;,\r\n                &quot;born&quot;: &quot;27-01-1963&quot;\r\n            },\r\n            &quot;roles&quot;: null\r\n        }\r\n    ],\r\n    &quot;directors&quot;: null\r\n}\r\n```\r\n\r\n\r\nUnfortunately on the database only the 2 nodes (one Person and one Movie)  got created but not the relationship. I would have expected the relationship ACTED_IN to be created too.\r\n\r\nWhat am I doing wrong? Thank you very much!\r\n","title":"Unable to create a relationship with spring data Neo4j","body":"<p>I am trying to create a set of CRUD REST APIs for Neo4j. Everything works fine except I am unable to create a new relationship. These are the entities:</p>\n<pre><code>@Node(&quot;Movie&quot;)\n@Getter @Setter  @AllArgsConstructor @ToString\npublic class Movie {\n\n    @Id\n    @GeneratedValue\n    //@JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private Long id;\n\n    @Property(&quot;title&quot;)\n    private String title;\n\n    @Property(&quot;description&quot;)\n    private String description;\n\n    @Relationship(type = &quot;ACTED_IN&quot;, direction = Relationship.Direction.INCOMING)\n    private List&lt;Roles actorsAndRoles;\n\n    @Relationship(type = &quot;DIRECTED&quot;, direction = Relationship.Direction.INCOMING)\n    private List&lt;Person directors;\n}\n\n @Node(&quot;Person&quot;)\n @Getter @Setter @AllArgsConstructor @ToString\n public class Person {\n \n     @Id @GeneratedValue\n     private Long id;\n \n     @Property(&quot;name&quot;)\n     private String name;\n \n     @Property(&quot;born&quot;)\n     private String born;\n \n }\n\n @Getter @Setter @AllArgsConstructor @ToString\n @RelationshipProperties\n public class Roles{\n \n     @RelationshipId\n     private Long id;\n \n     @TargetNode\n     private Person person;\n \n     @Property(&quot;roles&quot;)\n     private List&lt;String roles;\n }\n</code></pre>\n<p>This is the controller (the class is called MovieController) method I am calling:</p>\n<pre><code>@PostMapping\n    public ResponseEntity create(@RequestBody Movie movie){\n        try {\n            movie.setId(null);\n            return ResponseEntity.ok(movieService.save(movie));\n        }\n        catch(Exception e){\n            return ResponseEntity.internalServerError().body(e.getMessage());\n        }\n    }\n</code></pre>\n<p>I have uploaded the code here: <a href=\"https://github.com/RosarioB/spring-boot-crud-rest-api-neo4j/tree/basic_crud\" rel=\"nofollow noreferrer\">https://github.com/RosarioB/spring-boot-crud-rest-api-neo4j/tree/basic_crud</a></p>\n<p>This is an example of a body of a POST request at: http://localhost:8080/api/movies</p>\n<pre><code>{\n    \n   &quot;title&quot;:&quot;Matrix&quot;,\n   &quot;description&quot;:&quot;Science fiction&quot;,\n   &quot;actorsAndRoles&quot;:[\n       {\n           &quot;person&quot;:{\n               &quot;name&quot;:&quot;Keanu Reeves&quot;,\n               &quot;born&quot;:&quot;27-01-1963&quot;\n           }\n       }\n   ]\n   \n\n}\n</code></pre>\n<p>And this is the response:</p>\n<pre><code>{\n    &quot;id&quot;: 16,\n    &quot;title&quot;: &quot;Matrix&quot;,\n    &quot;description&quot;: &quot;Science fiction&quot;,\n    &quot;actorsAndRoles&quot;: [\n        {\n            &quot;id&quot;: null,\n            &quot;person&quot;: {\n                &quot;id&quot;: 17,\n                &quot;name&quot;: &quot;Keanu Reeves&quot;,\n                &quot;born&quot;: &quot;27-01-1963&quot;\n            },\n            &quot;roles&quot;: null\n        }\n    ],\n    &quot;directors&quot;: null\n}\n</code></pre>\n<p>Unfortunately on the database only the 2 nodes (one Person and one Movie)  got created but not the relationship. I would have expected the relationship ACTED_IN to be created too.</p>\n<p>What am I doing wrong? Thank you very much!</p>\n"},{"tags":["java","arrays","loops"],"answers":[{"comments":[{"owner":{"account_id":9478194,"reputation":177,"user_id":7046938,"display_name":"codeskin"},"score":0,"creation_date":1686319097,"post_id":76408799,"comment_id":134786661,"body_markdown":"In the above solution, I expected to see the queue elements returned in descending order. \n\n```PriorityQueue&lt;Double&gt; queue = new PriorityQueue&lt;&gt;(10, Collections.reverseOrder());\n\n        for(double level : pollutionLevels) {\n            queue.add(level);\n        }\n  \nSystem.out.println(&quot;Descending: &quot;+queue);```\n\n\nInput: double[] pollutionLevels = {3, 5, 6, 1, 18};\n\nBut they don&#39;t they are returned as such:\n\nDescending: [18.0, 6.0, 5.0, 1.0, 3.0]\n\nWhy is the ordering for 1.0 and 3.0 out of step with descending order?","body":"In the above solution, I expected to see the queue elements returned in descending order.   <code>PriorityQueue&lt;Double&gt; queue = new PriorityQueue&lt;&gt;(10, Collections.reverseOrder());          for(double level : pollutionLevels) {             queue.add(level);         }    System.out.println(&quot;Descending: &quot;+queue);</code>   Input: double[] pollutionLevels = {3, 5, 6, 1, 18};  But they don&#39;t they are returned as such:  Descending: [18.0, 6.0, 5.0, 1.0, 3.0]  Why is the ordering for 1.0 and 3.0 out of step with descending order?"},{"owner":{"account_id":9478194,"reputation":177,"user_id":7046938,"display_name":"codeskin"},"score":0,"creation_date":1686319842,"post_id":76408799,"comment_id":134786819,"body_markdown":"Is it better?\n\nShould the implementation of the PriorityQueue be implemented as:\n\n```Queue&lt;Double&gt; queue = new PriorityQueue&lt;&gt;(Collections.reverseOrder());```\n\nInstead of using the implementation type (PriorityQueue), use the interface type (Queue), giving greater flexibility to change implementations by merely changing the constructor.","body":"Is it better?  Should the implementation of the PriorityQueue be implemented as:  <code>Queue&lt;Double&gt; queue = new PriorityQueue&lt;&gt;(Collections.reverseOrder());</code>  Instead of using the implementation type (PriorityQueue), use the interface type (Queue), giving greater flexibility to change implementations by merely changing the constructor."},{"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"score":1,"creation_date":1686346056,"post_id":76408799,"comment_id":134791450,"body_markdown":"Ideally if the use case demands it, then yes you could simply use `Queue` as type of variable and change it&#39;s implementation later as needed! but for above use case it should be ok to just use `PriorityQueue`!","body":"Ideally if the use case demands it, then yes you could simply use <code>Queue</code> as type of variable and change it&#39;s implementation later as needed! but for above use case it should be ok to just use <code>PriorityQueue</code>!"}],"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685986670,"creation_date":1685986670,"answer_id":76408799,"question_id":76408662,"body_markdown":"This is a classic `heap` problem where you need to keep the elements sorted while insertion and deletion, in this case we remove max pollution from heap and insert half it&#39;s value and pull the next max value right from top of the heap, we could use `PriorityQueue` in java\r\n```\r\npublic static int getMinimumFilters(double[] pollutionLevels) {\r\n    double currentPollution = Arrays.stream(pollutionLevels).sum();\r\n    double targetPollution = currentPollution / 2.0;\r\n    PriorityQueue&lt;Double&gt; queue = new PriorityQueue&lt;&gt;(10, Collections.reverseOrder());\r\n    for(double level : pollutionLevels) {\r\n        queue.offer(level);\r\n    }\r\n    int numFilters = 0;\r\n    while(currentPollution &gt; targetPollution) {\r\n        double maxPollution = queue.poll(); \r\n        double pollutionAfterFilter = maxPollution/2.0;\r\n        queue.offer(pollutionAfterFilter); \r\n        currentPollution -= pollutionAfterFilter;\r\n        numFilters++;\r\n    }\r\n    return numFilters;\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    double[] pollutionLevels = {3, 5, 6, 1, 18};\r\n    System.out.println(&quot;Minimum number of filters needed: &quot; + getMinimumFilters(pollutionLevels));\r\n}\r\n```","title":"Visa Interview Question has me stomped for a while","body":"<p>This is a classic <code>heap</code> problem where you need to keep the elements sorted while insertion and deletion, in this case we remove max pollution from heap and insert half it's value and pull the next max value right from top of the heap, we could use <code>PriorityQueue</code> in java</p>\n<pre><code>public static int getMinimumFilters(double[] pollutionLevels) {\n    double currentPollution = Arrays.stream(pollutionLevels).sum();\n    double targetPollution = currentPollution / 2.0;\n    PriorityQueue&lt;Double&gt; queue = new PriorityQueue&lt;&gt;(10, Collections.reverseOrder());\n    for(double level : pollutionLevels) {\n        queue.offer(level);\n    }\n    int numFilters = 0;\n    while(currentPollution &gt; targetPollution) {\n        double maxPollution = queue.poll(); \n        double pollutionAfterFilter = maxPollution/2.0;\n        queue.offer(pollutionAfterFilter); \n        currentPollution -= pollutionAfterFilter;\n        numFilters++;\n    }\n    return numFilters;\n}\n\npublic static void main(String[] args) {\n    double[] pollutionLevels = {3, 5, 6, 1, 18};\n    System.out.println(&quot;Minimum number of filters needed: &quot; + getMinimumFilters(pollutionLevels));\n}\n</code></pre>\n"}],"owner":{"account_id":9478194,"reputation":177,"user_id":7046938,"display_name":"codeskin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76408799,"answer_count":1,"score":-3,"last_activity_date":1685986670,"creation_date":1685985255,"question_id":76408662,"body_markdown":"I have been trying to resolve this interview question but so far I have not been able to. Please help.\r\n\r\n**Question**\r\n\r\nThere are factories in an area which produce a pollutive gas and filters are to be installed at each factory to reduce pollution. \r\n\r\nEach filter installed would half the pollution in that factory. Each factory can have multiple filters. \r\nThere is a list of N integers representing the level of pollution in each of the N factories in the area. \r\n\r\nFind the minimum number of filters needed to half the overall pollution. \r\n\r\nE.g. - Let [3, 5, 6, 1, 18] be the list of pollution levels in 5 factories.\r\nOverall pollution = 3+5+6+1+18 = 33 (target is 33/2 = 16.5)\r\n\r\nInstall a filter in factory given by index=4 -- &gt; pollution levels will be [3, 5, 6, 1, 9] --&gt; 24\r\nInstall a filter in factory given by index=4 -- &gt; pollution levels will be [3, 5, 6, 1, 4.5] --&gt; 19.5\r\nInstall a filter in factory given by index=2 -- &gt; pollution levels will be [3, 5, 3, 1, 4.5] --&gt; 16.5\r\n\r\nNeed 3 filters minimum to half the overall pollution.\r\n\r\nN is an integer within the range [1....30,000]. Each element in the list is an integer within the range [0....70,000]\r\n\r\n\r\nI am not being lazy, here&#39;s my incorrect attempt:\r\n\r\n    public static int getMinimumFilters(double[] pollutionLevels) {\r\n        double totalPollution = Arrays.stream(pollutionLevels).sum();\r\n        double targetPollution = totalPollution / 2.0;\r\n        int numFilters = 0;\r\n        double currentPollution = 0;\r\n        double tempPollution = 0;\r\n\r\n        Arrays.sort(pollutionLevels);\r\n\r\n        for (double i = pollutionLevels.length -1; i &gt;= 0; i--) {\r\n            currentPollution = (totalPollution - pollutionLevels[(int) i]) + pollutionLevels[(int) i]/2;\r\n            numFilters++;\r\n            if (currentPollution &lt;= targetPollution) {\r\n                break;\r\n            }\r\n\r\n        }\r\n\r\n        return numFilters;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        double[] pollutionLevels = {3, 5, 6, 1, 18};\r\n        System.out.println(&quot;Minimum number of filters needed: &quot; + getMinimumFilters(pollutionLevels));\r\n    }\r\n\r\nMy next line of thought was to sum the array and then use the difference between the sum and the targetPollution value to somehow check which array values should be halved to achieve the target. \r\n\r\nAny help is appreciated. ","title":"Visa Interview Question has me stomped for a while","body":"<p>I have been trying to resolve this interview question but so far I have not been able to. Please help.</p>\n<p><strong>Question</strong></p>\n<p>There are factories in an area which produce a pollutive gas and filters are to be installed at each factory to reduce pollution.</p>\n<p>Each filter installed would half the pollution in that factory. Each factory can have multiple filters.\nThere is a list of N integers representing the level of pollution in each of the N factories in the area.</p>\n<p>Find the minimum number of filters needed to half the overall pollution.</p>\n<p>E.g. - Let [3, 5, 6, 1, 18] be the list of pollution levels in 5 factories.\nOverall pollution = 3+5+6+1+18 = 33 (target is 33/2 = 16.5)</p>\n<p>Install a filter in factory given by index=4 -- &gt; pollution levels will be [3, 5, 6, 1, 9] --&gt; 24\nInstall a filter in factory given by index=4 -- &gt; pollution levels will be [3, 5, 6, 1, 4.5] --&gt; 19.5\nInstall a filter in factory given by index=2 -- &gt; pollution levels will be [3, 5, 3, 1, 4.5] --&gt; 16.5</p>\n<p>Need 3 filters minimum to half the overall pollution.</p>\n<p>N is an integer within the range [1....30,000]. Each element in the list is an integer within the range [0....70,000]</p>\n<p>I am not being lazy, here's my incorrect attempt:</p>\n<pre><code>public static int getMinimumFilters(double[] pollutionLevels) {\n    double totalPollution = Arrays.stream(pollutionLevels).sum();\n    double targetPollution = totalPollution / 2.0;\n    int numFilters = 0;\n    double currentPollution = 0;\n    double tempPollution = 0;\n\n    Arrays.sort(pollutionLevels);\n\n    for (double i = pollutionLevels.length -1; i &gt;= 0; i--) {\n        currentPollution = (totalPollution - pollutionLevels[(int) i]) + pollutionLevels[(int) i]/2;\n        numFilters++;\n        if (currentPollution &lt;= targetPollution) {\n            break;\n        }\n\n    }\n\n    return numFilters;\n}\n\npublic static void main(String[] args) {\n    double[] pollutionLevels = {3, 5, 6, 1, 18};\n    System.out.println(&quot;Minimum number of filters needed: &quot; + getMinimumFilters(pollutionLevels));\n}\n</code></pre>\n<p>My next line of thought was to sum the array and then use the difference between the sum and the targetPollution value to somehow check which array values should be halved to achieve the target.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1685994045,"post_id":76408759,"comment_id":134735925,"body_markdown":"`stage.setScene(new Scene(new Pane(), 200, 200));` write this before the `stage.show();` for more info https://docs.oracle.com/javafx/2/get_started/hello_world.htm","body":"<code>stage.setScene(new Scene(new Pane(), 200, 200));</code> write this before the <code>stage.show();</code> for more info <a href=\"https://docs.oracle.com/javafx/2/get_started/hello_world.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/javafx/2/get_started/hello_world.htm</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1685994710,"post_id":76408759,"comment_id":134736029,"body_markdown":"https://openjfx.io/openjfx-docs/","body":"<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1686156218,"post_id":76408759,"comment_id":134761616,"body_markdown":"The code runs correctly rom the command line.","body":"The code runs correctly rom the command line."}],"owner":{"account_id":26410559,"reputation":19,"user_id":20059702,"display_name":"Mathayel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685986214,"creation_date":1685986214,"question_id":76408759,"body_markdown":"I have a Mac OS (Version: 12.6.5) and I downloaded javaFX to work on GUI applications. I&#39;m using Eclipse to run my program and when I do, a folder icon shows up on my dock, but nothing happens. Even when I click on it, nothing happens nor show up. How can I make the windows show up on my screen?\r\n\r\nThis is a simple code that I tried running, but it didn&#39;t work:\r\n\r\n&#39;&#39;&#39;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.stage.Stage;\r\n\r\n    public class App extends Application{\r\n\r\n\t    @Override\r\n\t    public void start(Stage stage) {\r\n\t\t    stage.setTitle(&quot;My First App&quot;);\r\n\t\t    stage.show();\r\n\t\t\r\n\t    }\r\n\t\r\n\t    public static void main(String args[]) {\r\n\t\t    launch(args);\r\n\t    }\r\n\r\n    }\r\n&#39;&#39;&#39;","title":"My GUI app does not show up when I run the program","body":"<p>I have a Mac OS (Version: 12.6.5) and I downloaded javaFX to work on GUI applications. I'm using Eclipse to run my program and when I do, a folder icon shows up on my dock, but nothing happens. Even when I click on it, nothing happens nor show up. How can I make the windows show up on my screen?</p>\n<p>This is a simple code that I tried running, but it didn't work:</p>\n<p>'''</p>\n<pre><code>import javafx.application.Application;\nimport javafx.stage.Stage;\n\npublic class App extends Application{\n\n    @Override\n    public void start(Stage stage) {\n        stage.setTitle(&quot;My First App&quot;);\n        stage.show();\n    \n    }\n\n    public static void main(String args[]) {\n        launch(args);\n    }\n\n}\n</code></pre>\n<p>'''</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":0,"creation_date":1620042412,"post_id":67368381,"comment_id":119076085,"body_markdown":"I would recommend parsing it, mapping it, then serialising it again.","body":"I would recommend parsing it, mapping it, then serialising it again."},{"owner":{"account_id":3037415,"reputation":706,"user_id":2575155,"accept_rate":42,"display_name":"marjun"},"score":0,"creation_date":1620044353,"post_id":67368381,"comment_id":119076869,"body_markdown":"@HenryTwist Thanks for response. Dynamic parsing can be done through json path?  Any pseudo code or references will be helpful?","body":"@HenryTwist Thanks for response. Dynamic parsing can be done through json path?  Any pseudo code or references will be helpful?"},{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":1,"creation_date":1620044837,"post_id":67368381,"comment_id":119077095,"body_markdown":"I&#39;ve actually just noticed that your expected JSON isn&#39;t actually valid JSON, the array isn&#39;t an array? So maybe update that to what you actually want and then I&#39;ll take another look.","body":"I&#39;ve actually just noticed that your expected JSON isn&#39;t actually valid JSON, the array isn&#39;t an array? So maybe update that to what you actually want and then I&#39;ll take another look."},{"owner":{"account_id":3037415,"reputation":706,"user_id":2575155,"accept_rate":42,"display_name":"marjun"},"score":1,"creation_date":1620045605,"post_id":67368381,"comment_id":119077451,"body_markdown":"@HenryTwist I have updated the input and expected json. Please have a look.","body":"@HenryTwist I have updated the input and expected json. Please have a look."},{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":1,"creation_date":1620050978,"post_id":67368381,"comment_id":119079911,"body_markdown":"I would take a look at this answer which includes steps that parse the JSON keys, which is what you need here: https://stackoverflow.com/a/31094365/10082297","body":"I would take a look at this answer which includes steps that parse the JSON keys, which is what you need here: <a href=\"https://stackoverflow.com/a/31094365/10082297\">stackoverflow.com/a/31094365/10082297</a>"},{"owner":{"account_id":3037415,"reputation":706,"user_id":2575155,"accept_rate":42,"display_name":"marjun"},"score":0,"creation_date":1620062934,"post_id":67368381,"comment_id":119085020,"body_markdown":"mapping I feel some what challenging.","body":"mapping I feel some what challenging."}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685985819,"creation_date":1685985819,"answer_id":76408719,"question_id":67368381,"body_markdown":"You may try library _Josson_ to do the transformation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;payload\\&quot;: {&quot; +\r\n        &quot;        \\&quot;giata\\&quot;: {&quot; +\r\n        &quot;            \\&quot;435185\\&quot;: [&quot; +\r\n        &quot;                \\&quot;2019-11-27T14:34:32.368197Z\\&quot;&quot; +\r\n        &quot;            ]&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        \\&quot;dod1\\&quot;: {&quot; +\r\n        &quot;            \\&quot;A0947863\\&quot;: [&quot; +\r\n        &quot;                \\&quot;2019-11-27T14:34:32.368197Z\\&quot;&quot; +\r\n        &quot;            ]&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        \\&quot;gr\\&quot;: {&quot; +\r\n        &quot;            \\&quot;A0947863\\&quot;: [&quot; +\r\n        &quot;                \\&quot;2019-11-27T14:34:32.368197Z\\&quot;,&quot; +\r\n        &quot;                \\&quot;2021-04-27T06:13:12.841968Z\\&quot;,&quot; +\r\n        &quot;                \\&quot;2021-04-27T06:13:21.640612Z\\&quot;,&quot; +\r\n        &quot;                \\&quot;2021-04-27T06:13:28.439001Z\\&quot;,&quot; +\r\n        &quot;                \\&quot;2021-04-27T06:13:43.487103Z\\&quot;,&quot; +\r\n        &quot;                \\&quot;2021-04-27T06:13:49.770269Z\\&quot;&quot; +\r\n        &quot;            ]&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Transformation__\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;map(payload&quot; +\r\n        &quot;  .map(sources: entries()&quot; +\r\n        &quot;    .map(source: key,&quot; +\r\n        &quot;         code: value.keys().[0],&quot; +\r\n        &quot;         version: value.toArray().[0]&quot; +\r\n        &quot;    )&quot; +\r\n        &quot;  )&quot; +\r\n        &quot;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;payload&quot; : {\r\n        &quot;sources&quot; : [ {\r\n          &quot;source&quot; : &quot;giata&quot;,\r\n          &quot;code&quot; : &quot;435185&quot;,\r\n          &quot;version&quot; : [ &quot;2019-11-27T14:34:32.368197Z&quot; ]\r\n        }, {\r\n          &quot;source&quot; : &quot;dod1&quot;,\r\n          &quot;code&quot; : &quot;A0947863&quot;,\r\n          &quot;version&quot; : [ &quot;2019-11-27T14:34:32.368197Z&quot; ]\r\n        }, {\r\n          &quot;source&quot; : &quot;gr&quot;,\r\n          &quot;code&quot; : &quot;A0947863&quot;,\r\n          &quot;version&quot; : [ &quot;2019-11-27T14:34:32.368197Z&quot;, &quot;2021-04-27T06:13:12.841968Z&quot;, &quot;2021-04-27T06:13:21.640612Z&quot;, &quot;2021-04-27T06:13:28.439001Z&quot;, &quot;2021-04-27T06:13:43.487103Z&quot;, &quot;2021-04-27T06:13:49.770269Z&quot; ]\r\n        } ]\r\n      }\r\n    }\r\n","title":"How to convert json key as attribute in java","body":"<p>You may try library <em>Josson</em> to do the transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;payload\\&quot;: {&quot; +\n    &quot;        \\&quot;giata\\&quot;: {&quot; +\n    &quot;            \\&quot;435185\\&quot;: [&quot; +\n    &quot;                \\&quot;2019-11-27T14:34:32.368197Z\\&quot;&quot; +\n    &quot;            ]&quot; +\n    &quot;        },&quot; +\n    &quot;        \\&quot;dod1\\&quot;: {&quot; +\n    &quot;            \\&quot;A0947863\\&quot;: [&quot; +\n    &quot;                \\&quot;2019-11-27T14:34:32.368197Z\\&quot;&quot; +\n    &quot;            ]&quot; +\n    &quot;        },&quot; +\n    &quot;        \\&quot;gr\\&quot;: {&quot; +\n    &quot;            \\&quot;A0947863\\&quot;: [&quot; +\n    &quot;                \\&quot;2019-11-27T14:34:32.368197Z\\&quot;,&quot; +\n    &quot;                \\&quot;2021-04-27T06:13:12.841968Z\\&quot;,&quot; +\n    &quot;                \\&quot;2021-04-27T06:13:21.640612Z\\&quot;,&quot; +\n    &quot;                \\&quot;2021-04-27T06:13:28.439001Z\\&quot;,&quot; +\n    &quot;                \\&quot;2021-04-27T06:13:43.487103Z\\&quot;,&quot; +\n    &quot;                \\&quot;2021-04-27T06:13:49.770269Z\\&quot;&quot; +\n    &quot;            ]&quot; +\n    &quot;        }&quot; +\n    &quot;    }&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;map(payload&quot; +\n    &quot;  .map(sources: entries()&quot; +\n    &quot;    .map(source: key,&quot; +\n    &quot;         code: value.keys().[0],&quot; +\n    &quot;         version: value.toArray().[0]&quot; +\n    &quot;    )&quot; +\n    &quot;  )&quot; +\n    &quot;)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;payload&quot; : {\n    &quot;sources&quot; : [ {\n      &quot;source&quot; : &quot;giata&quot;,\n      &quot;code&quot; : &quot;435185&quot;,\n      &quot;version&quot; : [ &quot;2019-11-27T14:34:32.368197Z&quot; ]\n    }, {\n      &quot;source&quot; : &quot;dod1&quot;,\n      &quot;code&quot; : &quot;A0947863&quot;,\n      &quot;version&quot; : [ &quot;2019-11-27T14:34:32.368197Z&quot; ]\n    }, {\n      &quot;source&quot; : &quot;gr&quot;,\n      &quot;code&quot; : &quot;A0947863&quot;,\n      &quot;version&quot; : [ &quot;2019-11-27T14:34:32.368197Z&quot;, &quot;2021-04-27T06:13:12.841968Z&quot;, &quot;2021-04-27T06:13:21.640612Z&quot;, &quot;2021-04-27T06:13:28.439001Z&quot;, &quot;2021-04-27T06:13:43.487103Z&quot;, &quot;2021-04-27T06:13:49.770269Z&quot; ]\n    } ]\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3037415,"reputation":706,"user_id":2575155,"accept_rate":42,"display_name":"marjun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685985819,"creation_date":1620042254,"question_id":67368381,"body_markdown":"I&#39;m very new working java with json. Couldn&#39;t find relevant solutions. That&#39;s why posting this question. I have json with property name as value in it. How to convert this property name as attribute and restructured in array. Any help would be much appreciated. \r\n\r\nFollowing is my json file: \r\n\r\n***INPUT JSON:***\r\n\r\n    {\r\n    \t&quot;payload&quot;: {\r\n    \t\t&quot;giata&quot;: {\r\n    \t\t\t&quot;435185&quot;: [\r\n    \t\t\t\t&quot;2019-11-27T14:34:32.368197Z&quot;\r\n    \t\t\t]\r\n    \t\t},\r\n    \t\t&quot;dod1&quot;: {\r\n    \t\t\t&quot;A0947863&quot;: [\r\n    \t\t\t\t&quot;2019-11-27T14:34:32.368197Z&quot;\r\n    \t\t\t]\r\n    \t\t},\r\n    \t\t&quot;gr&quot;: {\r\n    \t\t\t&quot;A0947863&quot;: [\r\n    \t\t\t\t&quot;2019-11-27T14:34:32.368197Z&quot;,\r\n    \t\t\t\t&quot;2021-04-27T06:13:12.841968Z&quot;,\r\n    \t\t\t\t&quot;2021-04-27T06:13:21.640612Z&quot;,\r\n    \t\t\t\t&quot;2021-04-27T06:13:28.439001Z&quot;,\r\n    \t\t\t\t&quot;2021-04-27T06:13:43.487103Z&quot;,\r\n    \t\t\t\t&quot;2021-04-27T06:13:49.770269Z&quot;\r\n    \t\t\t]\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n***Expected JSON :***\r\n\r\n    {\r\n    \t&quot;payload&quot;: {\r\n    \t\t&quot;sources&quot;: [\r\n    \t\t\t{\r\n    \t\t\t\t&quot;source&quot;: &quot;giata&quot;,\r\n    \t\t\t\t&quot;code&quot;: &quot;435185&quot;,\r\n    \t\t\t\t&quot;version&quot;: [\r\n    \t\t\t\t\t&quot;2019-11-27T14:34:32.368197Z&quot;\r\n    \t\t\t\t]\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;source&quot;: &quot;dod1&quot;,\r\n    \t\t\t\t&quot;code&quot;: &quot;A0947863&quot;,\r\n    \t\t\t\t&quot;version&quot;: [\r\n    \t\t\t\t\t&quot;2019-11-27T14:34:32.368197Z&quot;\r\n    \t\t\t\t]\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;source&quot;: &quot;gr&quot;,\r\n    \t\t\t\t&quot;code&quot;: &quot;A0947863&quot;,\r\n    \t\t\t\t&quot;version&quot;: [\r\n    \t\t\t\t\t&quot;2019-11-27T14:34:32.368197Z&quot;,\r\n    \t\t\t\t\t&quot;2021-04-27T06:13:12.841968Z&quot;,\r\n    \t\t\t\t\t&quot;2021-04-27T06:13:21.640612Z&quot;,\r\n    \t\t\t\t\t&quot;2021-04-27T06:13:28.439001Z&quot;,\r\n    \t\t\t\t\t&quot;2021-04-27T06:13:43.487103Z&quot;,\r\n    \t\t\t\t\t&quot;2021-04-27T06:13:49.770269Z&quot;\r\n    \t\t\t\t]\r\n    \t\t\t}\r\n    \t\t]\r\n    \t}\r\n    }\r\n\r\n**Code**:\r\n\r\n    package com.tui.structure_json;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonParser;\r\n\r\n    public class App \r\n    {\r\n        public static void main( String[] args )\r\n        {\r\n        \tString yourJson = &quot;{\\r\\n&quot; + \r\n        \t\t\t&quot;\t\\&quot;payload\\&quot;: {\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\\&quot;giata\\&quot;: {\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t\\&quot;435185\\&quot;: [\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t\t\\&quot;2019-11-27T14:34:32.368197Z\\&quot;\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t]\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t},\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\\&quot;dod1\\&quot;: {\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t\\&quot;A0947863\\&quot;: [\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t\t\\&quot;2019-11-27T14:34:32.368197Z\\&quot;\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t]\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t},\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\\&quot;gr\\&quot;: {\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t\\&quot;A0947863\\&quot;: [\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t\t\\&quot;2019-11-27T14:34:32.368197Z\\&quot;,\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t\t\\&quot;2021-04-27T06:13:12.841968Z\\&quot;,\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t\t\\&quot;2021-04-27T06:13:21.640612Z\\&quot;,\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t\t\\&quot;2021-04-27T06:13:28.439001Z\\&quot;,\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t\t\\&quot;2021-04-27T06:13:43.487103Z\\&quot;,\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t\t\\&quot;2021-04-27T06:13:49.770269Z\\&quot;\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t\t]\\r\\n&quot; + \r\n        \t\t\t&quot;\t\t}\\r\\n&quot; + \r\n        \t\t\t&quot;\t}\\r\\n&quot; + \r\n        \t\t\t&quot;}&quot;;\r\n        \tJsonElement element = JsonParser.parseString(yourJson);\r\n        \tJsonObject obj = element.getAsJsonObject(); //since you know it&#39;s a JsonObject\r\n        \tSet&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entries = obj.entrySet();//will return members of your object\r\n        \tfor (Map.Entry&lt;String, JsonElement&gt; entry: entries) {\r\n        \t    System.out.println(entry.getValue());\r\n        \t}\r\n        }\r\n    }\r\n\r\n","title":"How to convert json key as attribute in java","body":"<p>I'm very new working java with json. Couldn't find relevant solutions. That's why posting this question. I have json with property name as value in it. How to convert this property name as attribute and restructured in array. Any help would be much appreciated.</p>\n<p>Following is my json file:</p>\n<p><em><strong>INPUT JSON:</strong></em></p>\n<pre><code>{\n    &quot;payload&quot;: {\n        &quot;giata&quot;: {\n            &quot;435185&quot;: [\n                &quot;2019-11-27T14:34:32.368197Z&quot;\n            ]\n        },\n        &quot;dod1&quot;: {\n            &quot;A0947863&quot;: [\n                &quot;2019-11-27T14:34:32.368197Z&quot;\n            ]\n        },\n        &quot;gr&quot;: {\n            &quot;A0947863&quot;: [\n                &quot;2019-11-27T14:34:32.368197Z&quot;,\n                &quot;2021-04-27T06:13:12.841968Z&quot;,\n                &quot;2021-04-27T06:13:21.640612Z&quot;,\n                &quot;2021-04-27T06:13:28.439001Z&quot;,\n                &quot;2021-04-27T06:13:43.487103Z&quot;,\n                &quot;2021-04-27T06:13:49.770269Z&quot;\n            ]\n        }\n    }\n}\n</code></pre>\n<p><em><strong>Expected JSON :</strong></em></p>\n<pre><code>{\n    &quot;payload&quot;: {\n        &quot;sources&quot;: [\n            {\n                &quot;source&quot;: &quot;giata&quot;,\n                &quot;code&quot;: &quot;435185&quot;,\n                &quot;version&quot;: [\n                    &quot;2019-11-27T14:34:32.368197Z&quot;\n                ]\n            },\n            {\n                &quot;source&quot;: &quot;dod1&quot;,\n                &quot;code&quot;: &quot;A0947863&quot;,\n                &quot;version&quot;: [\n                    &quot;2019-11-27T14:34:32.368197Z&quot;\n                ]\n            },\n            {\n                &quot;source&quot;: &quot;gr&quot;,\n                &quot;code&quot;: &quot;A0947863&quot;,\n                &quot;version&quot;: [\n                    &quot;2019-11-27T14:34:32.368197Z&quot;,\n                    &quot;2021-04-27T06:13:12.841968Z&quot;,\n                    &quot;2021-04-27T06:13:21.640612Z&quot;,\n                    &quot;2021-04-27T06:13:28.439001Z&quot;,\n                    &quot;2021-04-27T06:13:43.487103Z&quot;,\n                    &quot;2021-04-27T06:13:49.770269Z&quot;\n                ]\n            }\n        ]\n    }\n}\n</code></pre>\n<p><strong>Code</strong>:</p>\n<pre><code>package com.tui.structure_json;\nimport java.util.Map;\nimport java.util.Set;\n\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\n\npublic class App \n{\n    public static void main( String[] args )\n    {\n        String yourJson = &quot;{\\r\\n&quot; + \n                &quot;   \\&quot;payload\\&quot;: {\\r\\n&quot; + \n                &quot;       \\&quot;giata\\&quot;: {\\r\\n&quot; + \n                &quot;           \\&quot;435185\\&quot;: [\\r\\n&quot; + \n                &quot;               \\&quot;2019-11-27T14:34:32.368197Z\\&quot;\\r\\n&quot; + \n                &quot;           ]\\r\\n&quot; + \n                &quot;       },\\r\\n&quot; + \n                &quot;       \\&quot;dod1\\&quot;: {\\r\\n&quot; + \n                &quot;           \\&quot;A0947863\\&quot;: [\\r\\n&quot; + \n                &quot;               \\&quot;2019-11-27T14:34:32.368197Z\\&quot;\\r\\n&quot; + \n                &quot;           ]\\r\\n&quot; + \n                &quot;       },\\r\\n&quot; + \n                &quot;       \\&quot;gr\\&quot;: {\\r\\n&quot; + \n                &quot;           \\&quot;A0947863\\&quot;: [\\r\\n&quot; + \n                &quot;               \\&quot;2019-11-27T14:34:32.368197Z\\&quot;,\\r\\n&quot; + \n                &quot;               \\&quot;2021-04-27T06:13:12.841968Z\\&quot;,\\r\\n&quot; + \n                &quot;               \\&quot;2021-04-27T06:13:21.640612Z\\&quot;,\\r\\n&quot; + \n                &quot;               \\&quot;2021-04-27T06:13:28.439001Z\\&quot;,\\r\\n&quot; + \n                &quot;               \\&quot;2021-04-27T06:13:43.487103Z\\&quot;,\\r\\n&quot; + \n                &quot;               \\&quot;2021-04-27T06:13:49.770269Z\\&quot;\\r\\n&quot; + \n                &quot;           ]\\r\\n&quot; + \n                &quot;       }\\r\\n&quot; + \n                &quot;   }\\r\\n&quot; + \n                &quot;}&quot;;\n        JsonElement element = JsonParser.parseString(yourJson);\n        JsonObject obj = element.getAsJsonObject(); //since you know it's a JsonObject\n        Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entries = obj.entrySet();//will return members of your object\n        for (Map.Entry&lt;String, JsonElement&gt; entry: entries) {\n            System.out.println(entry.getValue());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":17201151,"reputation":5,"user_id":12452863,"display_name":"michael2048"},"score":0,"creation_date":1685980178,"post_id":76408030,"comment_id":134733431,"body_markdown":"This is my database.table https://imgur.com/cI6f8yy.png","body":"This is my database.table <a href=\"https://imgur.com/cI6f8yy.png\" rel=\"nofollow noreferrer\">imgur.com/cI6f8yy.png</a>"},{"owner":{"account_id":4338431,"reputation":1014,"user_id":3542351,"display_name":"terpinmd"},"score":0,"creation_date":1685980223,"post_id":76408030,"comment_id":134733443,"body_markdown":"if its printing data size : 4 then you know that its close to be being right.  what exactly are you expecting to see? do you see the data returned in the network call of your browser console?","body":"if its printing data size : 4 then you know that its close to be being right.  what exactly are you expecting to see? do you see the data returned in the network call of your browser console?"},{"owner":{"account_id":17201151,"reputation":5,"user_id":12452863,"display_name":"michael2048"},"score":0,"creation_date":1685980534,"post_id":76408030,"comment_id":134733515,"body_markdown":"I want to see the data in the table, just like the result of entering &quot;SELECT * FROM library.book;&quot; in mysql workbench. May I ask where is my code wrong?","body":"I want to see the data in the table, just like the result of entering &quot;SELECT * FROM library.book;&quot; in mysql workbench. May I ask where is my code wrong?"},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1685980650,"post_id":76408030,"comment_id":134733541,"body_markdown":"It&#39;s a classic case of getter setters having issues. The reason might be lombok","body":"It&#39;s a classic case of getter setters having issues. The reason might be lombok"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1686361016,"post_id":76408030,"comment_id":134792586,"body_markdown":"Please show us the generated SQL.  (Not png, but text)","body":"Please show us the generated SQL.  (Not png, but text)"}],"answers":[{"comments":[{"owner":{"account_id":17201151,"reputation":5,"user_id":12452863,"display_name":"michael2048"},"score":0,"creation_date":1685980377,"post_id":76408052,"comment_id":134733476,"body_markdown":"I changed it to lowercase, but the result is still empty.","body":"I changed it to lowercase, but the result is still empty."},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1685980459,"post_id":76408052,"comment_id":134733495,"body_markdown":"Which IDE do you use, we need to ensure that it has the support enabled for lombok?","body":"Which IDE do you use, we need to ensure that it has the support enabled for lombok?"},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1685980719,"post_id":76408052,"comment_id":134733556,"body_markdown":"https://www.baeldung.com/lombok-ide","body":"<a href=\"https://www.baeldung.com/lombok-ide\" rel=\"nofollow noreferrer\">baeldung.com/lombok-ide</a>"},{"owner":{"account_id":17201151,"reputation":5,"user_id":12452863,"display_name":"michael2048"},"score":0,"creation_date":1685980726,"post_id":76408052,"comment_id":134733558,"body_markdown":"eclipse.  I have added dependencies in pom.xml","body":"eclipse.  I have added dependencies in pom.xml"},{"owner":{"account_id":17201151,"reputation":5,"user_id":12452863,"display_name":"michael2048"},"score":0,"creation_date":1685982656,"post_id":76408052,"comment_id":134733950,"body_markdown":"Still the same. I have installed lombok and made sure there is an entry for lombok.jar in eclipse.ini. After restarting eclipse and executing the project, it is still empty.","body":"Still the same. I have installed lombok and made sure there is an entry for lombok.jar in eclipse.ini. After restarting eclipse and executing the project, it is still empty."},{"owner":{"account_id":17201151,"reputation":5,"user_id":12452863,"display_name":"michael2048"},"score":0,"creation_date":1685984964,"post_id":76408052,"comment_id":134734361,"body_markdown":"I found out why. I need to add @Data in book.java. I always thought that as long as there is **@Getter, @Setter**, it will be fine.","body":"I found out why. I need to add @Data in book.java. I always thought that as long as there is <b>@Getter, @Setter</b>, it will be fine."},{"owner":{"account_id":17201151,"reputation":5,"user_id":12452863,"display_name":"michael2048"},"score":0,"creation_date":1685985036,"post_id":76408052,"comment_id":134734370,"body_markdown":"The previously added **@Data** is still empty, it should be because lombok is installed, thank you very much for your answer.","body":"The previously added <b>@Data</b> is still empty, it should be because lombok is installed, thank you very much for your answer."},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1685987338,"post_id":76408052,"comment_id":134734793,"body_markdown":"Please upvote the answer if it helped","body":"Please upvote the answer if it helped"},{"owner":{"account_id":17201151,"reputation":5,"user_id":12452863,"display_name":"michael2048"},"score":0,"creation_date":1685987880,"post_id":76408052,"comment_id":134734891,"body_markdown":"But I don&#39;t have 15 reputation to cast a vote","body":"But I don&#39;t have 15 reputation to cast a vote"},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1686025734,"post_id":76408052,"comment_id":134738960,"body_markdown":"It&#39;s okay, np, thanks","body":"It&#39;s okay, np, thanks"}],"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685979891,"creation_date":1685979891,"answer_id":76408052,"question_id":76408030,"body_markdown":"Make fields camelcase format and it works as getter/setters are not matching which are generated by Lombok.\r\n\r\n    private String isbn;\r\n    private String name:\r\n    private String author;\r\n    private String introduction;","title":"Springboot+MySQL table return empty","body":"<p>Make fields camelcase format and it works as getter/setters are not matching which are generated by Lombok.</p>\n<pre><code>private String isbn;\nprivate String name:\nprivate String author;\nprivate String introduction;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17201151,"reputation":5,"user_id":12452863,"display_name":"michael2048"},"score":0,"creation_date":1685983794,"post_id":76408458,"comment_id":134734168,"body_markdown":"I&#39;ve fixed it and it&#39;s still empty.","body":"I&#39;ve fixed it and it&#39;s still empty."},{"owner":{"account_id":17201151,"reputation":5,"user_id":12452863,"display_name":"michael2048"},"score":0,"creation_date":1685984936,"post_id":76408458,"comment_id":134734356,"body_markdown":"I found out why. I need to add **@Data** in book.java. I always thought that as long as there is **@Getter, @Setter**, it will be fine.","body":"I found out why. I need to add <b>@Data</b> in book.java. I always thought that as long as there is <b>@Getter, @Setter</b>, it will be fine."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685985561,"post_id":76408458,"comment_id":134734466,"body_markdown":"The no-args constructor was missing.","body":"The no-args constructor was missing."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685985510,"creation_date":1685983452,"answer_id":76408458,"question_id":76408030,"body_markdown":"The signature of your repository is wrong. Change this:\r\n\r\n    CrudRepository&lt;Book, Integer&gt;\r\n\r\nlike this:\r\n\r\n    CrudRepository&lt;Book, String&gt;\r\n\r\nThe second type must match the type of the ID field.\r\n\r\nAlso add a no-args constructor to the entity class. This is needed for Hibernate to map data from the query results.","title":"Springboot+MySQL table return empty","body":"<p>The signature of your repository is wrong. Change this:</p>\n<pre><code>CrudRepository&lt;Book, Integer&gt;\n</code></pre>\n<p>like this:</p>\n<pre><code>CrudRepository&lt;Book, String&gt;\n</code></pre>\n<p>The second type must match the type of the ID field.</p>\n<p>Also add a no-args constructor to the entity class. This is needed for Hibernate to map data from the query results.</p>\n"}],"owner":{"account_id":17201151,"reputation":5,"user_id":12452863,"display_name":"michael2048"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76408052,"answer_count":2,"score":0,"last_activity_date":1685985510,"creation_date":1685979669,"question_id":76408030,"body_markdown":"I&#39;m a new to java and trying to connect mysql database using springboot. But the data returned from the database.table is empty. Below is my code, where is the problem? There is no error code, which means that there is indeed a connection to the database.table. And my database does have data. I have read several similar questions, but none of them can solve my doubts.\r\n\r\n**application.yaml**\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/library?serverTimezone=GMT%2B8&amp;characterEncoding=utf-8\r\n    username: root\r\n    password: 1234\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n  jpa:\r\n    show-sql: true\r\n    properties:\r\n      hibernate:\r\n        ddl-auto: update\r\n        naming:\r\n          physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n        format_sql: true\r\nserver:\r\n  port: 8181\r\n```\r\n\r\n**Book.java**\r\n```\r\npackage com.example.demo.model;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport lombok.Data;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;book&quot;)\r\npublic class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;isbn&quot;)\r\n    private String ISBN;\r\n    \r\n    @Column(name=&quot;name&quot;)\r\n    private String Name;\r\n    \r\n    @Column(name=&quot;author&quot;)\r\n    private String Author;\r\n    \r\n    @Column(name=&quot;introduction&quot;)\r\n    private String Introduction;\r\n}\r\n```\r\n**BookRepository.java**\r\n```\r\npackage com.example.demo.dao;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport com.example.demo.model.Book;\r\n\r\npublic interface BookRepository extends CrudRepository&lt;Book, Integer&gt; {\r\n\r\n}\r\n```\r\n**BookController.java**\r\n```\r\npackage com.example.demo.controller;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\n\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.example.demo.model.Book;\r\nimport com.example.demo.dao.BookRepository;\r\n\r\nimport jakarta.annotation.Resource;\r\n\r\n@RestController\r\npublic class BookController {\r\n\t@GetMapping(&quot;/test&quot;)\r\n\tpublic String test() {\r\n\t\tSystem.out.println(&quot;ok&quot;);\r\n\t\treturn &quot;TEST&quot;;\r\n\t}\r\n\t\r\n    @Resource\r\n    private BookRepository bookrepository;\r\n\t\r\n\t@RequestMapping(value = &quot;/allbook&quot;, method = RequestMethod.GET)\r\n\tpublic List&lt;Book&gt; getAll() {\r\n\t\t\r\n\t\tList&lt;Book&gt; books = (List&lt;Book&gt;) bookrepository.findAll();\r\n\t\tSystem.out.println(&quot;data size : &quot;+books.size());\r\n\t\t\r\n\t\treturn (List&lt;Book&gt;) bookrepository.findAll();\r\n\t}\r\n    \r\n}\r\n```\r\n\r\nOn the webpage it looks like this...\r\nhttp://localhost:8181/allbook\r\n```\r\n[{},{},{},{}]\r\n```\r\n\r\nAnd the console on my eclipse is output like this...\r\n```\r\ndata size : 4\r\nHibernate: \r\n    select\r\n        b1_0.isbn,\r\n        b1_0.author,\r\n        b1_0.introduction,\r\n        b1_0.name \r\n    from\r\n        book b1_0\r\n```\r\n","title":"Springboot+MySQL table return empty","body":"<p>I'm a new to java and trying to connect mysql database using springboot. But the data returned from the database.table is empty. Below is my code, where is the problem? There is no error code, which means that there is indeed a connection to the database.table. And my database does have data. I have read several similar questions, but none of them can solve my doubts.</p>\n<p><strong>application.yaml</strong></p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/library?serverTimezone=GMT%2B8&amp;characterEncoding=utf-8\n    username: root\n    password: 1234\n    driver-class-name: com.mysql.cj.jdbc.Driver\n  jpa:\n    show-sql: true\n    properties:\n      hibernate:\n        ddl-auto: update\n        naming:\n          physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n        format_sql: true\nserver:\n  port: 8181\n</code></pre>\n<p><strong>Book.java</strong></p>\n<pre><code>package com.example.demo.model;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;book&quot;)\npublic class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;isbn&quot;)\n    private String ISBN;\n    \n    @Column(name=&quot;name&quot;)\n    private String Name;\n    \n    @Column(name=&quot;author&quot;)\n    private String Author;\n    \n    @Column(name=&quot;introduction&quot;)\n    private String Introduction;\n}\n</code></pre>\n<p><strong>BookRepository.java</strong></p>\n<pre><code>package com.example.demo.dao;\n\nimport org.springframework.data.repository.CrudRepository;\nimport com.example.demo.model.Book;\n\npublic interface BookRepository extends CrudRepository&lt;Book, Integer&gt; {\n\n}\n</code></pre>\n<p><strong>BookController.java</strong></p>\n<pre><code>package com.example.demo.controller;\n\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.demo.model.Book;\nimport com.example.demo.dao.BookRepository;\n\nimport jakarta.annotation.Resource;\n\n@RestController\npublic class BookController {\n    @GetMapping(&quot;/test&quot;)\n    public String test() {\n        System.out.println(&quot;ok&quot;);\n        return &quot;TEST&quot;;\n    }\n    \n    @Resource\n    private BookRepository bookrepository;\n    \n    @RequestMapping(value = &quot;/allbook&quot;, method = RequestMethod.GET)\n    public List&lt;Book&gt; getAll() {\n        \n        List&lt;Book&gt; books = (List&lt;Book&gt;) bookrepository.findAll();\n        System.out.println(&quot;data size : &quot;+books.size());\n        \n        return (List&lt;Book&gt;) bookrepository.findAll();\n    }\n    \n}\n</code></pre>\n<p>On the webpage it looks like this...\nhttp://localhost:8181/allbook</p>\n<pre><code>[{},{},{},{}]\n</code></pre>\n<p>And the console on my eclipse is output like this...</p>\n<pre><code>data size : 4\nHibernate: \n    select\n        b1_0.isbn,\n        b1_0.author,\n        b1_0.introduction,\n        b1_0.name \n    from\n        book b1_0\n</code></pre>\n"},{"tags":["java","angular","spring","endpoint"],"comments":[{"owner":{"account_id":11555562,"reputation":316,"user_id":8466853,"display_name":"Arno"},"score":1,"creation_date":1685986769,"post_id":76408685,"comment_id":134734676,"body_markdown":"What exactly do you mean with &quot;2 gets on same endpoint&quot;?","body":"What exactly do you mean with &quot;2 gets on same endpoint&quot;?"},{"owner":{"account_id":3211463,"reputation":638,"user_id":2711384,"display_name":"Zag"},"score":0,"creation_date":1685989618,"post_id":76408685,"comment_id":134735182,"body_markdown":"Make a different endpoint for the new operation.  This will simplify both your Java and your Angular code.  I don&#39;t understand why you would even consider using the same endpoint for something that returns completely different data and is obviously a different operation.","body":"Make a different endpoint for the new operation.  This will simplify both your Java and your Angular code.  I don&#39;t understand why you would even consider using the same endpoint for something that returns completely different data and is obviously a different operation."}],"owner":{"account_id":21168498,"reputation":1,"user_id":17339208,"display_name":"Zijad Bećirević"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685985485,"creation_date":1685985485,"question_id":76408685,"body_markdown":"Its my first time using angular and java. So Im learning from tasks. I already made a call from frontend to backend to retrieve a count number (sends number from frontend, searches the database and return the output from the query). Now I have a similar task to send the same number to backend but now when searching the database I receive 4 string returns and have to send that to frontend to output it. The problem is I don&#39;t know how to send 2 gets on the same endpoint.\r\n\r\nItemService\r\n```\r\npublic PayloadResponse&lt;Long&gt; getCount(EntityRequest&lt;Long&gt; request);\r\n```\r\n\r\nItemServiceImpl\r\n```\r\n@Override\r\n    public PayloadResponse&lt;Long&gt; getCount(EntityRequest&lt;Long&gt; request) {\r\n        Long itemId = request.getEntity();\r\n        Long count = itemDAO.getCount(itemId);\r\n        PayloadResponse&lt;Long&gt; response = new PayloadResponse&lt;&gt;(request, ResponseCode.OK, count);\r\n        \r\n        return response;\r\n    }\r\n```\r\n\r\nItemRestService\r\n```\r\n@GetMapping(&quot;/{itemId}/overview&quot;)\r\n    public PayloadResponse&lt;Long&gt; getCount(@PathVariable Long itemId) {\r\n        var request = new EntityRequest&lt;&gt;(itemId);\r\n        return itemService.getCount(request);\r\n    }\r\n```\r\n\r\nItemDAO\r\n```\r\npublic Long getCount(Long itemId) {\r\n        String hql = &quot;select count( distinct m.id) from ItemEntity i join MapTileResourceEntity mtr on mtr.resourceId = :itemId &quot;\r\n                + &quot;and mtr.resourceType = :resourceType join MapTileEntity mt on mt.id = mtr.mapTile.id join MapEntity m on m.id = mt.map.id&quot;;\r\n        TypedQuery&lt;Long&gt; query = entityManager.createQuery(hql, Long.class).setParameter(&quot;itemId&quot;, itemId).setParameter(&quot;resourceType&quot;,\r\n                ObjectType.ITEM.getValue());\r\n        return query.getSingleResult();\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"How to call two functions from the same endpoint. Angular, java","body":"<p>Its my first time using angular and java. So Im learning from tasks. I already made a call from frontend to backend to retrieve a count number (sends number from frontend, searches the database and return the output from the query). Now I have a similar task to send the same number to backend but now when searching the database I receive 4 string returns and have to send that to frontend to output it. The problem is I don't know how to send 2 gets on the same endpoint.</p>\n<p>ItemService</p>\n<pre><code>public PayloadResponse&lt;Long&gt; getCount(EntityRequest&lt;Long&gt; request);\n</code></pre>\n<p>ItemServiceImpl</p>\n<pre><code>@Override\n    public PayloadResponse&lt;Long&gt; getCount(EntityRequest&lt;Long&gt; request) {\n        Long itemId = request.getEntity();\n        Long count = itemDAO.getCount(itemId);\n        PayloadResponse&lt;Long&gt; response = new PayloadResponse&lt;&gt;(request, ResponseCode.OK, count);\n        \n        return response;\n    }\n</code></pre>\n<p>ItemRestService</p>\n<pre><code>@GetMapping(&quot;/{itemId}/overview&quot;)\n    public PayloadResponse&lt;Long&gt; getCount(@PathVariable Long itemId) {\n        var request = new EntityRequest&lt;&gt;(itemId);\n        return itemService.getCount(request);\n    }\n</code></pre>\n<p>ItemDAO</p>\n<pre><code>public Long getCount(Long itemId) {\n        String hql = &quot;select count( distinct m.id) from ItemEntity i join MapTileResourceEntity mtr on mtr.resourceId = :itemId &quot;\n                + &quot;and mtr.resourceType = :resourceType join MapTileEntity mt on mt.id = mtr.mapTile.id join MapEntity m on m.id = mt.map.id&quot;;\n        TypedQuery&lt;Long&gt; query = entityManager.createQuery(hql, Long.class).setParameter(&quot;itemId&quot;, itemId).setParameter(&quot;resourceType&quot;,\n                ObjectType.ITEM.getValue());\n        return query.getSingleResult();\n    }\n</code></pre>\n"},{"tags":["java","jboss","wildfly"],"owner":{"account_id":19127477,"reputation":1,"user_id":13970152,"display_name":"Fabrizio Zerpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685984625,"creation_date":1685984625,"question_id":76408586,"body_markdown":"I have a working application running in JBoss EAP 7.3, with some properties files. I&#39;m trying to move these files to modules, as explained here:\r\n\r\nhttps://www.mastertheboss.com/jbossas/jboss-configuration/how-to-inject-system-properties-into-jboss/\r\n\r\nWhen deploying the application I&#39;m getting this error\r\n\r\n```\r\nCaused by: org.jboss.modules.xml.XmlPullParserException: Failed to add resource root &#39;./connector.properties&#39; at path &#39;./connector.properties&#39; (position: END_TAG seen ...&lt;resources&gt;\\r\\n    &lt;resource-root path=&quot;./connector.properties&quot;/&gt;... @4:51) caused by: java.util.zip.ZipException: zip END header not found\r\n```\r\n\r\nApparently JBoss is expecting a jar or zip file, how can I get it to load the properties files?\r\n\r\nthis is the module.xml content, this and the properties files are located in \\modules\\system\\layers\\base\\com\\connector\\main\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.connector&quot;&gt;\r\n  &lt;resources&gt;\r\n    &lt;resource-root path=&quot;./connector.properties&quot;/&gt;\r\n    &lt;resource-root path=&quot;./connector-web.properties&quot;/&gt;\r\n    &lt;resource-root path=&quot;./pge-client.properties&quot;/&gt;\r\n  &lt;/resources&gt;\r\n&lt;/module&gt;\r\n```\r\nthis is in my standalone.xml file\r\n\r\n```\r\n&lt;global-modules&gt;\r\n     &lt;module name=&quot;com.connector&quot; slot=&quot;main&quot;/&gt;\r\n&lt;/global-modules&gt;\r\n```\r\n\r\nThanks\r\n\r\n\r\n","title":"Problem loading WAR properties file as a module in JBoss","body":"<p>I have a working application running in JBoss EAP 7.3, with some properties files. I'm trying to move these files to modules, as explained here:</p>\n<p><a href=\"https://www.mastertheboss.com/jbossas/jboss-configuration/how-to-inject-system-properties-into-jboss/\" rel=\"nofollow noreferrer\">https://www.mastertheboss.com/jbossas/jboss-configuration/how-to-inject-system-properties-into-jboss/</a></p>\n<p>When deploying the application I'm getting this error</p>\n<pre><code>Caused by: org.jboss.modules.xml.XmlPullParserException: Failed to add resource root './connector.properties' at path './connector.properties' (position: END_TAG seen ...&lt;resources&gt;\\r\\n    &lt;resource-root path=&quot;./connector.properties&quot;/&gt;... @4:51) caused by: java.util.zip.ZipException: zip END header not found\n</code></pre>\n<p>Apparently JBoss is expecting a jar or zip file, how can I get it to load the properties files?</p>\n<p>this is the module.xml content, this and the properties files are located in \\modules\\system\\layers\\base\\com\\connector\\main</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.connector&quot;&gt;\n  &lt;resources&gt;\n    &lt;resource-root path=&quot;./connector.properties&quot;/&gt;\n    &lt;resource-root path=&quot;./connector-web.properties&quot;/&gt;\n    &lt;resource-root path=&quot;./pge-client.properties&quot;/&gt;\n  &lt;/resources&gt;\n&lt;/module&gt;\n</code></pre>\n<p>this is in my standalone.xml file</p>\n<pre><code>&lt;global-modules&gt;\n     &lt;module name=&quot;com.connector&quot; slot=&quot;main&quot;/&gt;\n&lt;/global-modules&gt;\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","data-structures","hashmap","time-complexity","prims-algorithm"],"owner":{"account_id":25235345,"reputation":3,"user_id":21870678,"display_name":"vardo "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685984400,"creation_date":1685984340,"question_id":76408554,"body_markdown":"I am implementing Prim&#39;s algorithm in java, and would like to determine the time complexity of my method. I am using hash maps as the structure for the tree, and looking at my code, I think the complexity is quadratic in relation to the number of edges, O(E^2).\r\n\r\nFirst, here is my code:\r\n\r\n```\r\nabstract class Graph{\r\n    abstract void insertEdge(String v,String u,int w);\r\n    abstract void printGraph();\r\n    static HashMap&lt;String,Vertex&gt; vertex=new HashMap&lt;&gt;();\r\n    static Vertex vertex(String s){\r\n        if(!vertex.containsKey(s))vertex.put(s,new Vertex(s));\r\n        return vertex.get(s);\r\n    }\r\n    Collection&lt;Vertex&gt; vertices(){return vertex.values();}\r\n    abstract Collection&lt;Edge&gt; edges();\r\n    abstract Collection&lt;Edge&gt; outEdge(Vertex v);\r\n\r\n    // the algorithm for checking that the graph is connected\r\n    void visitDepthFirst(Vertex v, Set&lt;Vertex&gt; visited){\r\n        if(visited.contains(v))return;\r\n        System.out.println(&quot;visited &quot;+ v);\r\n        visited.add(v);\r\n        for(Edge e:outEdge(v))visitDepthFirst(e.to,visited);\r\n    }\r\n}\r\n\r\nclass Vertex{\r\n    String name;\r\n    Vertex(String s){name=s;}\r\n    public String toString(){return name;}\r\n}\r\n\r\nclass Edge{\r\n    Vertex from,to;\r\n    int weight;\r\n    Edge(Vertex from,Vertex to,int w){this.from=from; this.to=to; weight=w;}\r\n    public String toString(){return from.name+&quot; - &quot;+weight+&quot; -&gt; &quot;+to.name; }\r\n}\r\n\r\n\r\nclass AdjListGraph extends Graph {\r\n    HashMap&lt;Vertex, Set&lt;Edge&gt;&gt; outEdge = new HashMap&lt;&gt;();\r\n\r\n    void insertEdge(String u, String v, int w) {\r\n        Edge e = new Edge(vertex(u), vertex(v), w);\r\n        if (!outEdge.containsKey(e.from))\r\n            outEdge.put(e.from, new HashSet&lt;Edge&gt;());\r\n        outEdge.get(e.from).add(e);\r\n    }\r\n\r\n    Collection&lt;Edge&gt; edges() {\r\n        Set&lt;Edge&gt; edges = new HashSet&lt;&gt;();\r\n        for (Vertex v : outEdge.keySet()) edges.addAll(outEdge.get(v));\r\n        return edges;\r\n    }\r\n\r\n    void printGraph() {\r\n        for (Vertex v : outEdge.keySet()) {\r\n            System.out.println(&quot;vertex &quot; + v);\r\n            for (Edge e : outEdge.get(v)) System.out.println(&quot; &quot; + e);\r\n        }\r\n    }\r\n\r\n    Collection&lt;Edge&gt; outEdge(Vertex v) {\r\n        return outEdge.get(v);\r\n    }\r\n\r\n    // implementation of the minimum spanning tree\r\n    public HashSet&lt;Edge&gt; minimumSpanningTree(){\r\n        Collection&lt;Vertex&gt; vertices = vertices();\r\n        Collection&lt;Edge&gt; edges = null;\r\n        HashSet&lt;Edge&gt; mst = new HashSet&lt;&gt;();\r\n        HashSet&lt;Vertex&gt; frontier = new HashSet&lt;&gt;();\r\n        for (Vertex v : vertices) {\r\n                frontier.add(v);\r\n                edges = outEdge(v);\r\n                break;\r\n        }\r\n        while (true) {\r\n            Edge nearest = null;\r\n            for (Edge e : edges) { // Linear complexity\r\n                if (nearest == null || nearest.weight &gt; e.weight)\r\n                    nearest = e;\r\n            }\r\n            if (nearest == null) break;\r\n            mst.add(nearest);\r\n            frontier.add(nearest.to);\r\n\r\n            edges.addAll(outEdge(nearest.to));\r\n            edges.remove(nearest);\r\n            edges.removeIf(e -&gt; frontier.contains(e.to));\r\n\r\n            if (frontier.size() == vertices().size()) break;\r\n        }\r\n        System.out.println(&quot;Frontier: &quot; + frontier);\r\n        return mst;\r\n    }\r\n}\r\n```\r\n\r\nI believe that the complexity is O(E^2) because all of the operations in the method operate on constant time due to the use of hash sets, so the only opportunity for increased complexity seems to arise in the while loop and for loop, both of which potentially loop through every edge. Is my understanding correct?","title":"How to calculate the complexity of Prim&#39;s Algorithm when using HashMaps","body":"<p>I am implementing Prim's algorithm in java, and would like to determine the time complexity of my method. I am using hash maps as the structure for the tree, and looking at my code, I think the complexity is quadratic in relation to the number of edges, O(E^2).</p>\n<p>First, here is my code:</p>\n<pre><code>abstract class Graph{\n    abstract void insertEdge(String v,String u,int w);\n    abstract void printGraph();\n    static HashMap&lt;String,Vertex&gt; vertex=new HashMap&lt;&gt;();\n    static Vertex vertex(String s){\n        if(!vertex.containsKey(s))vertex.put(s,new Vertex(s));\n        return vertex.get(s);\n    }\n    Collection&lt;Vertex&gt; vertices(){return vertex.values();}\n    abstract Collection&lt;Edge&gt; edges();\n    abstract Collection&lt;Edge&gt; outEdge(Vertex v);\n\n    // the algorithm for checking that the graph is connected\n    void visitDepthFirst(Vertex v, Set&lt;Vertex&gt; visited){\n        if(visited.contains(v))return;\n        System.out.println(&quot;visited &quot;+ v);\n        visited.add(v);\n        for(Edge e:outEdge(v))visitDepthFirst(e.to,visited);\n    }\n}\n\nclass Vertex{\n    String name;\n    Vertex(String s){name=s;}\n    public String toString(){return name;}\n}\n\nclass Edge{\n    Vertex from,to;\n    int weight;\n    Edge(Vertex from,Vertex to,int w){this.from=from; this.to=to; weight=w;}\n    public String toString(){return from.name+&quot; - &quot;+weight+&quot; -&gt; &quot;+to.name; }\n}\n\n\nclass AdjListGraph extends Graph {\n    HashMap&lt;Vertex, Set&lt;Edge&gt;&gt; outEdge = new HashMap&lt;&gt;();\n\n    void insertEdge(String u, String v, int w) {\n        Edge e = new Edge(vertex(u), vertex(v), w);\n        if (!outEdge.containsKey(e.from))\n            outEdge.put(e.from, new HashSet&lt;Edge&gt;());\n        outEdge.get(e.from).add(e);\n    }\n\n    Collection&lt;Edge&gt; edges() {\n        Set&lt;Edge&gt; edges = new HashSet&lt;&gt;();\n        for (Vertex v : outEdge.keySet()) edges.addAll(outEdge.get(v));\n        return edges;\n    }\n\n    void printGraph() {\n        for (Vertex v : outEdge.keySet()) {\n            System.out.println(&quot;vertex &quot; + v);\n            for (Edge e : outEdge.get(v)) System.out.println(&quot; &quot; + e);\n        }\n    }\n\n    Collection&lt;Edge&gt; outEdge(Vertex v) {\n        return outEdge.get(v);\n    }\n\n    // implementation of the minimum spanning tree\n    public HashSet&lt;Edge&gt; minimumSpanningTree(){\n        Collection&lt;Vertex&gt; vertices = vertices();\n        Collection&lt;Edge&gt; edges = null;\n        HashSet&lt;Edge&gt; mst = new HashSet&lt;&gt;();\n        HashSet&lt;Vertex&gt; frontier = new HashSet&lt;&gt;();\n        for (Vertex v : vertices) {\n                frontier.add(v);\n                edges = outEdge(v);\n                break;\n        }\n        while (true) {\n            Edge nearest = null;\n            for (Edge e : edges) { // Linear complexity\n                if (nearest == null || nearest.weight &gt; e.weight)\n                    nearest = e;\n            }\n            if (nearest == null) break;\n            mst.add(nearest);\n            frontier.add(nearest.to);\n\n            edges.addAll(outEdge(nearest.to));\n            edges.remove(nearest);\n            edges.removeIf(e -&gt; frontier.contains(e.to));\n\n            if (frontier.size() == vertices().size()) break;\n        }\n        System.out.println(&quot;Frontier: &quot; + frontier);\n        return mst;\n    }\n}\n</code></pre>\n<p>I believe that the complexity is O(E^2) because all of the operations in the method operate on constant time due to the use of hash sets, so the only opportunity for increased complexity seems to arise in the while loop and for loop, both of which potentially loop through every edge. Is my understanding correct?</p>\n"},{"tags":["java","jakarta-ee","jndi","weblogic11g","mbeans"],"answers":[{"comments":[{"owner":{"account_id":1897117,"reputation":414,"user_id":1713816,"accept_rate":71,"display_name":"milin"},"score":0,"creation_date":1594219334,"post_id":62796518,"comment_id":111051035,"body_markdown":"We are running WebLogic Server 10.3.4.0 with Java 1.6.0_37. I&#39;m not sure whether this is the cause (most likely is), but your examples, when put in a stateless EJB bean, yield null values. Other resources get injected as expected.","body":"We are running WebLogic Server 10.3.4.0 with Java 1.6.0_37. I&#39;m not sure whether this is the cause (most likely is), but your examples, when put in a stateless EJB bean, yield null values. Other resources get injected as expected."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1594225317,"post_id":62796518,"comment_id":111054041,"body_markdown":"Yes, you are probably running on a server that supports an older version of J(2)EE that does not specify these JNDI values (I do no think the Java version plays a role). Can you tweak the deployment descriptors of your modules? I believe you can still add JNDI entries of type `String` from the deployment descriptors - but under the `java:comp/env` namespace.","body":"Yes, you are probably running on a server that supports an older version of J(2)EE that does not specify these JNDI values (I do no think the Java version plays a role). Can you tweak the deployment descriptors of your modules? I believe you can still add JNDI entries of type <code>String</code> from the deployment descriptors - but under the <code>java:comp&#47;env</code> namespace."},{"owner":{"account_id":1897117,"reputation":414,"user_id":1713816,"accept_rate":71,"display_name":"milin"},"score":0,"creation_date":1594228026,"post_id":62796518,"comment_id":111055347,"body_markdown":"Currently, I use this approach, in a somewhat different arrangement. I use an ant script to deploy to WL and pass in the application name as a normal string resource using the deployment plan. This is, however, cumbersome, and I would like to avoid it if possible. The whole motivation of trying to get the application name dynamically is to avoid doing it &quot;manually&quot;.","body":"Currently, I use this approach, in a somewhat different arrangement. I use an ant script to deploy to WL and pass in the application name as a normal string resource using the deployment plan. This is, however, cumbersome, and I would like to avoid it if possible. The whole motivation of trying to get the application name dynamically is to avoid doing it &quot;manually&quot;."}],"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594588426,"creation_date":1594216707,"answer_id":62796518,"question_id":62789713,"body_markdown":"Quoting the Java EE 8 specification, ch. EE.5.15 &quot;Application Name and Module Name References&quot;\r\n\r\n&gt; A component may access the name of the current application using the pre-defined JNDI name `java:app/AppName`. A component may access the name of the current module using the pre-defined JNDI name `java:module/ModuleName`. Both of these names are represented by `String` objects.\r\n\r\nAnd later, at EE.5.15.2 &quot;Java EE Product Provider’s Responsibilities&quot;:\r\n\r\n&gt; The Java EE Product Provider is responsible for providing the correct application name and module name String objects as required by this specification.\r\n\r\nSo Java EE compliant products are *required* to provide the JNDI value you mention.\r\n\r\nFor me (currently on WildFly 15) this works:\r\n\r\n    @Resource(name = &quot;java:app/AppName&quot;)\r\n    private String appName;\r\n\r\n    @Resource(name = &quot;java:module/ModuleName&quot;)\r\n    private String moduleName;\r\n","title":"Get application name from EJB on Weblogic 11g","body":"<p>Quoting the Java EE 8 specification, ch. EE.5.15 &quot;Application Name and Module Name References&quot;</p>\n<blockquote>\n<p>A component may access the name of the current application using the pre-defined JNDI name <code>java:app/AppName</code>. A component may access the name of the current module using the pre-defined JNDI name <code>java:module/ModuleName</code>. Both of these names are represented by <code>String</code> objects.</p>\n</blockquote>\n<p>And later, at EE.5.15.2 &quot;Java EE Product Provider’s Responsibilities&quot;:</p>\n<blockquote>\n<p>The Java EE Product Provider is responsible for providing the correct application name and module name String objects as required by this specification.</p>\n</blockquote>\n<p>So Java EE compliant products are <em>required</em> to provide the JNDI value you mention.</p>\n<p>For me (currently on WildFly 15) this works:</p>\n<pre><code>@Resource(name = &quot;java:app/AppName&quot;)\nprivate String appName;\n\n@Resource(name = &quot;java:module/ModuleName&quot;)\nprivate String moduleName;\n</code></pre>\n"}],"owner":{"account_id":1897117,"reputation":414,"user_id":1713816,"accept_rate":71,"display_name":"milin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685984185,"creation_date":1594193614,"question_id":62789713,"body_markdown":"Is there a way to find out the deployment name of an application from a server managed object that itself is in, on Weblogic 11g? For example, can I get the application name a stateless bean in deployed with, from that stateless bean itself?\r\n\r\nI found some servers allow for JNDI lookup of `java:app/AppName`, but it doesn&#39;t seem to work on Weblogic. Also, I know I can get the names of all the deployed applications (and much more) using MBean, but I don&#39;t know how to identify &#39;the one&#39; that I&#39;m interested in without previously passing the application name to my bean, which defeats the purpose.","title":"Get application name from EJB on Weblogic 11g","body":"<p>Is there a way to find out the deployment name of an application from a server managed object that itself is in, on Weblogic 11g? For example, can I get the application name a stateless bean in deployed with, from that stateless bean itself?</p>\n<p>I found some servers allow for JNDI lookup of <code>java:app/AppName</code>, but it doesn't seem to work on Weblogic. Also, I know I can get the names of all the deployed applications (and much more) using MBean, but I don't know how to identify 'the one' that I'm interested in without previously passing the application name to my bean, which defeats the purpose.</p>\n"},{"tags":["java","hadoop","mapreduce","hdfs","hadoop-yarn"],"answers":[{"tags":[],"owner":{"account_id":19163208,"reputation":133,"user_id":13998537,"display_name":"Ayush Saxena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685983460,"creation_date":1685983460,"answer_id":76408460,"question_id":76396768,"body_markdown":"Did you close this file\r\n\r\n             FSDataOutputStream dos = hdfs.create(outpath, true);\r\n\r\nYou should close the file as well\r\n\r\n          out.close();","title":"Hadoop unable to see file though it exists: &quot;Error: java.io.FileNotFoundException: File does not exist: /user/hadoop/centroids.seq&quot;","body":"<p>Did you close this file</p>\n<pre><code>         FSDataOutputStream dos = hdfs.create(outpath, true);\n</code></pre>\n<p>You should close the file as well</p>\n<pre><code>      out.close();\n</code></pre>\n"}],"owner":{"account_id":28744193,"reputation":1,"user_id":22013699,"display_name":"Sissi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685983460,"creation_date":1685806694,"question_id":76396768,"body_markdown":"I wrote a hadoop program and when I try to execute it (I use this command: hadoop jar kmeans-1.0-SNAPSHOT.jar it.kurapika.Kmeans dataset.txt output) I get the following error:\r\n\r\n```\r\nError: java.io.FileNotFoundException: File does not exist: /user/hadoop/centroids.seq (inode 17689) [Lease.  Holder: DFSClient_attempt_1685688288161_0036_r_000002_0_2097879656_1, pending creates: 1]\r\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:2840)\r\n        at org.apache.hadoop.hdfs.server.namenode.FSDirWriteFileOp.analyzeFileState(FSDirWriteFileOp.java:599)\r\n        at org.apache.hadoop.hdfs.server.namenode.FSDirWriteFileOp.validateAddBlock(FSDirWriteFileOp.java:171)\r\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getAdditionalBlock(FSNamesystem.java:2719)\r\n        at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.addBlock(NameNodeRpcServer.java:892)\r\n        at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.addBlock(ClientNamenodeProtocolServerSideTranslatorPB.java:568)\r\n        at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\r\n        at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:527)\r\n        at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1036)\r\n        at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1000)\r\n        at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:928)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at javax.security.auth.Subject.doAs(Subject.java:422)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1729)\r\n        at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2916)\r\n\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at org.apache.hadoop.ipc.RemoteException.instantiateException(RemoteException.java:121)\r\n        at org.apache.hadoop.ipc.RemoteException.unwrapRemoteException(RemoteException.java:88)\r\n        at org.apache.hadoop.hdfs.DFSOutputStream.addBlock(DFSOutputStream.java:1084)\r\n        at org.apache.hadoop.hdfs.DataStreamer.locateFollowingBlock(DataStreamer.java:1866)\r\n        at org.apache.hadoop.hdfs.DataStreamer.nextBlockOutputStream(DataStreamer.java:1668)\r\n        at org.apache.hadoop.hdfs.DataStreamer.run(DataStreamer.java:716)\r\n```\r\n\r\nWhen I check the Hadoop portal on the browser I can see that the file exists:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe &#39;centroids.seq&#39; file is created in the Driver file(Kmeans.java) this one:\r\n\r\n``` java\r\npublic class Kmeans {\r\n\r\n        public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\r\n                // TODO Auto-generated method stub\r\n                Configuration conf = new Configuration();\r\n        conf.addResource(new Path(&quot;configuration.xml&quot;));\r\n\r\n        String[] otherArgs = new GenericOptionsParser(conf, args).getRemainingArgs();\r\n\r\n        // set parameters\r\n        final String INPUT = otherArgs[0];\r\n        final String OUTPUT = otherArgs[1] + &quot;/temp&quot;;\r\n        final int DATASET_SIZE = conf.getInt(&quot;dataset.size&quot;, 100);\r\n\r\n        final String CENTROIDS_PATH = conf.get(&quot;centroids.path&quot;, &quot;centroids.seq&quot;);\r\n        final int K = conf.getInt(&quot;k&quot;, 3);\r\n        final int MAX_ITERATIONS = conf.getInt(&quot;iterations&quot;, 20);\r\n\r\n        Point[] newCentroids = new Point[K];\r\n\r\n        // generate initial centroids\r\n        newCentroids = Utility.generateCentroids(conf, INPUT, K, DATASET_SIZE);\r\n        Utility.writeCentroids(conf, new Path(CENTROIDS_PATH), newCentroids);\r\n          \r\n            ...\r\n                // write final centroids in output file\r\n                Utility.writeOutput(conf, new Path(CENTROIDS_PATH), new Path(otherArgs[1]));\r\n\r\n\r\n        System.exit(0);\r\n\r\n        }\r\n}\r\n```\r\n\r\nHere&#39;s Utility.java:\r\n\r\n```java\r\npublic class Utility {\r\n\r\n        public static Point[] generateCentroids(Configuration conf, String pathString, int k, int dataSetSize)\r\n                      throws IOException {\r\n                        Point[] points = new Point[k];\r\n\r\n                        //Create a sorted list of positions without duplicates\r\n                        //Positions are the line index of the random selected centroids\r\n                        List&lt;Integer&gt; positions = new ArrayList&lt;Integer&gt;();\r\n                        Random random = new Random();\r\n                        int pos;\r\n                        while(positions.size() &lt; k) {\r\n                            pos = random.nextInt(dataSetSize);\r\n                            if(!positions.contains(pos)) {\r\n                                positions.add(pos);\r\n                            }\r\n                        }\r\n                        Collections.sort(positions);\r\n\r\n                        //File reading utils\r\n                        Path dataPath = new Path(pathString);\r\n                        FileSystem hdfs = FileSystem.get(conf);\r\n                        FSDataInputStream in = hdfs.open(dataPath);\r\n                        BufferedReader br = new BufferedReader(new InputStreamReader(in));\r\n\r\n                        //Get centroids from the file\r\n                        int row = 0;\r\n                        int i = 0;\r\n                        int position;\r\n                        while(i &lt; positions.size()) {\r\n                            position = positions.get(i);\r\n                            String point = br.readLine();\r\n                            if(row == position) {\r\n                                points[i] = new Point();\r\n                                points[i].parse(point);\r\n                                i++;\r\n                            }\r\n                            row++;\r\n                        }\r\n                        br.close();\r\n\r\n                        return points;\r\n                    }\r\n\r\n        public static void writeCentroids(Configuration conf, Path center, Point[] points) throws IOException {\r\n                try (SequenceFile.Writer centerWriter = SequenceFile.createWriter(conf, SequenceFile.Writer.file(center) ,\r\n                                SequenceFile.Writer.keyClass(Point.class), SequenceFile.Writer.valueClass(IntWritable.class))) {\r\n                        final IntWritable value = new IntWritable(0);\r\n                        for (Point point : points) {\r\n                                centerWriter.append(point, value);\r\n                        }\r\n\r\n                }\r\n        }\r\n\r\n        public static void writeOutput(Configuration conf, Path centroidsPath, Path outpath) throws IOException {\r\n\r\n                List&lt;Centroid&gt; centroids = new ArrayList&lt;&gt;();           // list of centroids\r\n\r\n                try (SequenceFile.Reader reader = new SequenceFile.Reader(conf, SequenceFile.Reader.file(centroidsPath))) {\r\n\r\n                        Centroid key = new Centroid();\r\n\r\n                        while (reader.next(key)) {                      // iterate over records\r\n                                Centroid center = new Centroid(key);    // create new centroid\r\n                                centroids.add(center);                  // add new Centroid to list\r\n                        }\r\n\r\n\r\n                        FileSystem hdfs = FileSystem.get(conf);\r\n                        FSDataOutputStream dos = hdfs.create(outpath, true);\r\n                        BufferedWriter br = new BufferedWriter(new OutputStreamWriter(dos));\r\n\r\n                        // write the result in output file\r\n                        for(int i = 0; i &lt; centroids.size(); i++) {\r\n                                br.write(centroids.get(i).toString());\r\n                                br.newLine();\r\n                        }\r\n\r\n                        br.close();\r\n                        hdfs.close();\r\n                }\r\n        }\r\n\r\n}\r\n```\r\n\r\nThe Reducer:\r\n\r\n```java\r\npublic class KmeansReducer extends Reducer&lt;Centroid, Point, Centroid, NullWritable&gt;{\r\n\r\n        public static enum Counter {\r\n                // Global counter: it gets incremented every time new centroids are more than epsilon distant from previous centroids\r\n                CONVERGED\r\n        }\r\n\r\n        private final List&lt;Centroid&gt; centers = new ArrayList&lt;&gt;();  // list containing new centroids\r\n\r\n        private Double epsilon = 0.;            // convergence parameter\r\n\r\n        @Override\r\n        protected void setup(Context context) {\r\n            Configuration conf = context.getConfiguration();\r\n            epsilon = conf.getDouble(&quot;epsilon&quot;, 0.0001);        // initialize convergence parameter with value in configuration file\r\n        }\r\n\r\n        // for each cluster calculate new centroids\r\n        @Override\r\n        protected void reduce(Centroid key, Iterable&lt;Point&gt; partialSums, Context context) throws IOException, InterruptedException {\r\n\r\n            Centroid newKey = new Centroid();                   // new centroid\r\n\r\n            for (Point point : partialSums) {                   // summation of partial sums\r\n                newKey.getPoint().sum(point);\r\n            }\r\n            newKey.getPoint().compress();                       // divide for number of points in cluster\r\n            newKey.setIndex(key);                               // assign old centroid&#39;s index to new centroid\r\n\r\n            centers.add(newKey);                                // add new centroid to new centroids list\r\n            context.write(newKey, NullWritable.get());          // write output record (key: centroid, value: null)\r\n\r\n            // calculate distance between new centroid and old centroid\r\n            double distance = key.getPoint().getDistance(newKey.getPoint());\r\n            if (distance &gt; epsilon) {                           // if distance is greater than epsilon\r\n                context.getCounter(Counter.CONVERGED).increment(1);     // increment global counter\r\n            }\r\n        }\r\n\r\n        // write new centroids in sequence file\r\n        @Override\r\n        protected void cleanup(Context context) throws IOException, InterruptedException {\r\n\r\n                Configuration conf = context.getConfiguration();\r\n                Path outPath = new Path(conf.get(&quot;centroids.path&quot;, &quot;centroids.seq&quot;));           // get path of centroids sequence file\r\n                FileSystem fs = FileSystem.get(conf);\r\n                fs.delete(outPath, true);                               // if path exists delete it\r\n                try (SequenceFile.Writer out = SequenceFile.createWriter(conf, SequenceFile.Writer.file(outPath),\r\n                                SequenceFile.Writer.keyClass(Centroid.class), SequenceFile.Writer.valueClass(IntWritable.class))) {\r\n                        final IntWritable value = new IntWritable(0);\r\n                        for (Centroid center : centers) {\r\n                                out.append(center, value);              // write new centroids in sequence file\r\n                        }\r\n                }\r\n        }\r\n\r\n}\r\n```\r\n\r\nI&#39;ve tried modifying the permission rights for the file centroids.seq:\r\n`hadoop fs -chmod +wx /user/hadoop/centroids.seq`\r\nto no avail as running the program again produced the same output.\r\n\r\nAny help would be appreciated.\r\n\r\n[1]: https://i.stack.imgur.com/2lePm.png","title":"Hadoop unable to see file though it exists: &quot;Error: java.io.FileNotFoundException: File does not exist: /user/hadoop/centroids.seq&quot;","body":"<p>I wrote a hadoop program and when I try to execute it (I use this command: hadoop jar kmeans-1.0-SNAPSHOT.jar it.kurapika.Kmeans dataset.txt output) I get the following error:</p>\n<pre><code>Error: java.io.FileNotFoundException: File does not exist: /user/hadoop/centroids.seq (inode 17689) [Lease.  Holder: DFSClient_attempt_1685688288161_0036_r_000002_0_2097879656_1, pending creates: 1]\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:2840)\n        at org.apache.hadoop.hdfs.server.namenode.FSDirWriteFileOp.analyzeFileState(FSDirWriteFileOp.java:599)\n        at org.apache.hadoop.hdfs.server.namenode.FSDirWriteFileOp.validateAddBlock(FSDirWriteFileOp.java:171)\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getAdditionalBlock(FSNamesystem.java:2719)\n        at org.apache.hadoop.hdfs.server.namenode.NameNodeRpcServer.addBlock(NameNodeRpcServer.java:892)\n        at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolServerSideTranslatorPB.addBlock(ClientNamenodeProtocolServerSideTranslatorPB.java:568)\n        at org.apache.hadoop.hdfs.protocol.proto.ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2.callBlockingMethod(ClientNamenodeProtocolProtos.java)\n        at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:527)\n        at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1036)\n        at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1000)\n        at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:928)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1729)\n        at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2916)\n\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at org.apache.hadoop.ipc.RemoteException.instantiateException(RemoteException.java:121)\n        at org.apache.hadoop.ipc.RemoteException.unwrapRemoteException(RemoteException.java:88)\n        at org.apache.hadoop.hdfs.DFSOutputStream.addBlock(DFSOutputStream.java:1084)\n        at org.apache.hadoop.hdfs.DataStreamer.locateFollowingBlock(DataStreamer.java:1866)\n        at org.apache.hadoop.hdfs.DataStreamer.nextBlockOutputStream(DataStreamer.java:1668)\n        at org.apache.hadoop.hdfs.DataStreamer.run(DataStreamer.java:716)\n</code></pre>\n<p>When I check the Hadoop portal on the browser I can see that the file exists:</p>\n<p><a href=\"https://i.stack.imgur.com/2lePm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2lePm.png\" alt=\"enter image description here\" /></a></p>\n<p>The 'centroids.seq' file is created in the Driver file(Kmeans.java) this one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Kmeans {\n\n        public static void main(String[] args) throws IOException, InterruptedException, ClassNotFoundException {\n                // TODO Auto-generated method stub\n                Configuration conf = new Configuration();\n        conf.addResource(new Path(&quot;configuration.xml&quot;));\n\n        String[] otherArgs = new GenericOptionsParser(conf, args).getRemainingArgs();\n\n        // set parameters\n        final String INPUT = otherArgs[0];\n        final String OUTPUT = otherArgs[1] + &quot;/temp&quot;;\n        final int DATASET_SIZE = conf.getInt(&quot;dataset.size&quot;, 100);\n\n        final String CENTROIDS_PATH = conf.get(&quot;centroids.path&quot;, &quot;centroids.seq&quot;);\n        final int K = conf.getInt(&quot;k&quot;, 3);\n        final int MAX_ITERATIONS = conf.getInt(&quot;iterations&quot;, 20);\n\n        Point[] newCentroids = new Point[K];\n\n        // generate initial centroids\n        newCentroids = Utility.generateCentroids(conf, INPUT, K, DATASET_SIZE);\n        Utility.writeCentroids(conf, new Path(CENTROIDS_PATH), newCentroids);\n          \n            ...\n                // write final centroids in output file\n                Utility.writeOutput(conf, new Path(CENTROIDS_PATH), new Path(otherArgs[1]));\n\n\n        System.exit(0);\n\n        }\n}\n</code></pre>\n<p>Here's Utility.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Utility {\n\n        public static Point[] generateCentroids(Configuration conf, String pathString, int k, int dataSetSize)\n                      throws IOException {\n                        Point[] points = new Point[k];\n\n                        //Create a sorted list of positions without duplicates\n                        //Positions are the line index of the random selected centroids\n                        List&lt;Integer&gt; positions = new ArrayList&lt;Integer&gt;();\n                        Random random = new Random();\n                        int pos;\n                        while(positions.size() &lt; k) {\n                            pos = random.nextInt(dataSetSize);\n                            if(!positions.contains(pos)) {\n                                positions.add(pos);\n                            }\n                        }\n                        Collections.sort(positions);\n\n                        //File reading utils\n                        Path dataPath = new Path(pathString);\n                        FileSystem hdfs = FileSystem.get(conf);\n                        FSDataInputStream in = hdfs.open(dataPath);\n                        BufferedReader br = new BufferedReader(new InputStreamReader(in));\n\n                        //Get centroids from the file\n                        int row = 0;\n                        int i = 0;\n                        int position;\n                        while(i &lt; positions.size()) {\n                            position = positions.get(i);\n                            String point = br.readLine();\n                            if(row == position) {\n                                points[i] = new Point();\n                                points[i].parse(point);\n                                i++;\n                            }\n                            row++;\n                        }\n                        br.close();\n\n                        return points;\n                    }\n\n        public static void writeCentroids(Configuration conf, Path center, Point[] points) throws IOException {\n                try (SequenceFile.Writer centerWriter = SequenceFile.createWriter(conf, SequenceFile.Writer.file(center) ,\n                                SequenceFile.Writer.keyClass(Point.class), SequenceFile.Writer.valueClass(IntWritable.class))) {\n                        final IntWritable value = new IntWritable(0);\n                        for (Point point : points) {\n                                centerWriter.append(point, value);\n                        }\n\n                }\n        }\n\n        public static void writeOutput(Configuration conf, Path centroidsPath, Path outpath) throws IOException {\n\n                List&lt;Centroid&gt; centroids = new ArrayList&lt;&gt;();           // list of centroids\n\n                try (SequenceFile.Reader reader = new SequenceFile.Reader(conf, SequenceFile.Reader.file(centroidsPath))) {\n\n                        Centroid key = new Centroid();\n\n                        while (reader.next(key)) {                      // iterate over records\n                                Centroid center = new Centroid(key);    // create new centroid\n                                centroids.add(center);                  // add new Centroid to list\n                        }\n\n\n                        FileSystem hdfs = FileSystem.get(conf);\n                        FSDataOutputStream dos = hdfs.create(outpath, true);\n                        BufferedWriter br = new BufferedWriter(new OutputStreamWriter(dos));\n\n                        // write the result in output file\n                        for(int i = 0; i &lt; centroids.size(); i++) {\n                                br.write(centroids.get(i).toString());\n                                br.newLine();\n                        }\n\n                        br.close();\n                        hdfs.close();\n                }\n        }\n\n}\n</code></pre>\n<p>The Reducer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class KmeansReducer extends Reducer&lt;Centroid, Point, Centroid, NullWritable&gt;{\n\n        public static enum Counter {\n                // Global counter: it gets incremented every time new centroids are more than epsilon distant from previous centroids\n                CONVERGED\n        }\n\n        private final List&lt;Centroid&gt; centers = new ArrayList&lt;&gt;();  // list containing new centroids\n\n        private Double epsilon = 0.;            // convergence parameter\n\n        @Override\n        protected void setup(Context context) {\n            Configuration conf = context.getConfiguration();\n            epsilon = conf.getDouble(&quot;epsilon&quot;, 0.0001);        // initialize convergence parameter with value in configuration file\n        }\n\n        // for each cluster calculate new centroids\n        @Override\n        protected void reduce(Centroid key, Iterable&lt;Point&gt; partialSums, Context context) throws IOException, InterruptedException {\n\n            Centroid newKey = new Centroid();                   // new centroid\n\n            for (Point point : partialSums) {                   // summation of partial sums\n                newKey.getPoint().sum(point);\n            }\n            newKey.getPoint().compress();                       // divide for number of points in cluster\n            newKey.setIndex(key);                               // assign old centroid's index to new centroid\n\n            centers.add(newKey);                                // add new centroid to new centroids list\n            context.write(newKey, NullWritable.get());          // write output record (key: centroid, value: null)\n\n            // calculate distance between new centroid and old centroid\n            double distance = key.getPoint().getDistance(newKey.getPoint());\n            if (distance &gt; epsilon) {                           // if distance is greater than epsilon\n                context.getCounter(Counter.CONVERGED).increment(1);     // increment global counter\n            }\n        }\n\n        // write new centroids in sequence file\n        @Override\n        protected void cleanup(Context context) throws IOException, InterruptedException {\n\n                Configuration conf = context.getConfiguration();\n                Path outPath = new Path(conf.get(&quot;centroids.path&quot;, &quot;centroids.seq&quot;));           // get path of centroids sequence file\n                FileSystem fs = FileSystem.get(conf);\n                fs.delete(outPath, true);                               // if path exists delete it\n                try (SequenceFile.Writer out = SequenceFile.createWriter(conf, SequenceFile.Writer.file(outPath),\n                                SequenceFile.Writer.keyClass(Centroid.class), SequenceFile.Writer.valueClass(IntWritable.class))) {\n                        final IntWritable value = new IntWritable(0);\n                        for (Centroid center : centers) {\n                                out.append(center, value);              // write new centroids in sequence file\n                        }\n                }\n        }\n\n}\n</code></pre>\n<p>I've tried modifying the permission rights for the file centroids.seq:\n<code>hadoop fs -chmod +wx /user/hadoop/centroids.seq</code>\nto no avail as running the program again produced the same output.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","c++","registry","guid"],"answers":[{"comments":[{"owner":{"account_id":3240077,"reputation":2811,"user_id":2733333,"accept_rate":89,"display_name":"Tomas Bisciak"},"score":0,"creation_date":1456174037,"post_id":35540701,"comment_id":58815159,"body_markdown":"are you using Cygwin compiler?","body":"are you using Cygwin compiler?"},{"owner":{"account_id":2393840,"reputation":3260,"user_id":2093113,"display_name":"user2093113"},"score":1,"creation_date":1456253842,"post_id":35540701,"comment_id":58858200,"body_markdown":"@TomasBisciak No. I used Visual Studio 2015 Community.","body":"@TomasBisciak No. I used Visual Studio 2015 Community."},{"owner":{"account_id":3240077,"reputation":2811,"user_id":2733333,"accept_rate":89,"display_name":"Tomas Bisciak"},"score":0,"creation_date":1456254196,"post_id":35540701,"comment_id":58858412,"body_markdown":"Yup that fixed it for me , dev c++ that i had had different compiler / mingw one or what is it called , that one didnt supported that import i needed , used visual c++ and works well :)","body":"Yup that fixed it for me , dev c++ that i had had different compiler / mingw one or what is it called , that one didnt supported that import i needed , used visual c++ and works well :)"}],"tags":[],"owner":{"account_id":2393840,"reputation":3260,"user_id":2093113,"display_name":"user2093113"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1456081949,"creation_date":1456081949,"answer_id":35540701,"question_id":35538787,"body_markdown":"The [MMDevice API][1] allows you to enumerate audio device endpoints and get their device IDs. You didn&#39;t specify how you are identifying which device you want the ID for. I&#39;ve assumed the friendly name will be enough.\r\n\r\nHere is some example code:\r\n\r\n\t#include &lt;mmdeviceapi.h&gt;\r\n\t#include &lt;objbase.h&gt;\r\n\t#include &lt;Functiondiscoverykeys_devpkey.h&gt;\r\n\t#include &lt;iostream&gt;\r\n\r\n\ttemplate&lt;typename T&gt;\r\n\tstruct com_pointer\r\n\t{\r\n\t\t~com_pointer() { ptr_-&gt;Release(); }\r\n\t\toperator T*() { return ptr_; }\r\n\t\tT* operator-&gt;() { return ptr_; }\r\n\t\tT** operator&amp;() { return &amp;ptr_; }\r\n\r\n\t\tT* ptr_;\r\n\t};\r\n\r\n\tint main()\r\n\t{\r\n\t\t::CoInitialize(NULL);\r\n\r\n\t\tcom_pointer&lt;IMMDeviceEnumerator&gt; enumerator;\r\n\r\n\t\tHRESULT hr = ::CoCreateInstance(__uuidof(MMDeviceEnumerator), NULL, CLSCTX_ALL,\r\n\t\t\t__uuidof(IMMDeviceEnumerator), (void**)&amp;enumerator);\r\n\r\n\t\tif (hr != S_OK)\r\n\t\t\treturn 1;\r\n\r\n\t\tcom_pointer&lt;IMMDeviceCollection&gt; devices;\r\n\t\tif (enumerator-&gt;EnumAudioEndpoints(eRender, DEVICE_STATE_ACTIVE, &amp;devices) != S_OK)\r\n\t\t\treturn 1;\r\n\r\n\t\tUINT count;\r\n\t\tif (devices-&gt;GetCount(&amp;count) != S_OK)\r\n\t\t\treturn 1;\r\n\r\n\t\tfor (UINT i = 0; i &lt; count; ++i)\r\n\t\t{\r\n\t\t\tcom_pointer&lt;IMMDevice&gt; device;\r\n\t\t\tif (devices-&gt;Item(i, &amp;device) != S_OK)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tcom_pointer&lt;IPropertyStore&gt; properties;\r\n\t\t\tif (device-&gt;OpenPropertyStore(STGM_READ, &amp;properties) != S_OK)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tPROPVARIANT name;\r\n\t\t\tif (properties-&gt;GetValue(PKEY_Device_FriendlyName, &amp;name) != S_OK)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tLPWSTR id;\r\n\t\t\tif (device-&gt;GetId(&amp;id) != S_OK)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tstd::wcout &lt;&lt; id &lt;&lt; &quot; - &quot; &lt;&lt; name.pwszVal &lt;&lt; &quot;\\n&quot;;\r\n\r\n\t\t\t::CoTaskMemFree(id);\r\n\t\t}\r\n\r\n\t\treturn 0;\r\n\t}\r\n\r\nThis will spit out the device IDs and friendly names to the console. For my system it looks like this:\r\n\r\n    {0.0.0.00000000}.{142c47f7-085b-4dee-a343-07d95b82403e} - Line (8- LitexMedia Virtual Audio Cable (WDM))\r\n    {0.0.0.00000000}.{24d74d8e-a3a9-410c-860f-f94720d051a7} - Line (6- LitexMedia Virtual Audio Cable (WDM))\r\n    {0.0.0.00000000}.{4b5f58ca-bae3-40c8-b394-d380782f16b6} - Speakers (ASUS Xonar DG Audio Device)\r\n    {0.0.0.00000000}.{5321f69d-c2d5-4e4f-922c-7f11a8d328fd} - S/PDIF Pass-through Device (ASUS Xonar DG Audio Device)\r\n    {0.0.0.00000000}.{59acfa2f-eb45-413b-b413-ed1043613389} - SPDIF Interface (TX0) (VIA High Definition Audio)\r\n    {0.0.0.00000000}.{87468c3a-8b84-4b70-a2d0-53a620055478} - Line (3- LitexMedia Virtual Audio Cable (WDM))\r\n    {0.0.0.00000000}.{9b5da642-3573-4520-b9c1-7d90922e89a6} - Line (2- LitexMedia Virtual Audio Cable (WDM))\r\n    {0.0.0.00000000}.{a73964bd-5357-4487-821e-2b1a2f72556a} - Line (9- LitexMedia Virtual Audio Cable (WDM))\r\n    {0.0.0.00000000}.{c895c45c-9064-4d2d-a424-2c4846490f32} - Speakers (VIA High Definition Audio)\r\n    {0.0.0.00000000}.{d4cddc1f-808c-4dfc-a0a2-7dd283fad1e0} - Line (5- LitexMedia Virtual Audio Cable (WDM))\r\n    {0.0.0.00000000}.{de953a87-89a4-40b7-9e13-8c2a6cf86cfe} - Line (4- LitexMedia Virtual Audio Cable (WDM))\r\n    {0.0.0.00000000}.{e3390713-3188-409c-918b-4f8cea7e08d4} - SPDIF Interface (TX1) (VIA High Definition Audio)\r\n    {0.0.0.00000000}.{f4493833-9f5e-4929-afc3-673d12ab3010} - Line (LitexMedia Virtual Audio Cable (WDM))\r\n    {0.0.0.00000000}.{f819358a-cdb7-4898-97c0-7a9a5d3104a3} - Line (7- LitexMedia Virtual Audio Cable (WDM))\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/windows/desktop/dd316556.aspx","title":"Getting GUID of an audio output device","body":"<p>The <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd316556.aspx\" rel=\"nofollow\">MMDevice API</a> allows you to enumerate audio device endpoints and get their device IDs. You didn't specify how you are identifying which device you want the ID for. I've assumed the friendly name will be enough.</p>\n\n<p>Here is some example code:</p>\n\n<pre><code>#include &lt;mmdeviceapi.h&gt;\n#include &lt;objbase.h&gt;\n#include &lt;Functiondiscoverykeys_devpkey.h&gt;\n#include &lt;iostream&gt;\n\ntemplate&lt;typename T&gt;\nstruct com_pointer\n{\n    ~com_pointer() { ptr_-&gt;Release(); }\n    operator T*() { return ptr_; }\n    T* operator-&gt;() { return ptr_; }\n    T** operator&amp;() { return &amp;ptr_; }\n\n    T* ptr_;\n};\n\nint main()\n{\n    ::CoInitialize(NULL);\n\n    com_pointer&lt;IMMDeviceEnumerator&gt; enumerator;\n\n    HRESULT hr = ::CoCreateInstance(__uuidof(MMDeviceEnumerator), NULL, CLSCTX_ALL,\n        __uuidof(IMMDeviceEnumerator), (void**)&amp;enumerator);\n\n    if (hr != S_OK)\n        return 1;\n\n    com_pointer&lt;IMMDeviceCollection&gt; devices;\n    if (enumerator-&gt;EnumAudioEndpoints(eRender, DEVICE_STATE_ACTIVE, &amp;devices) != S_OK)\n        return 1;\n\n    UINT count;\n    if (devices-&gt;GetCount(&amp;count) != S_OK)\n        return 1;\n\n    for (UINT i = 0; i &lt; count; ++i)\n    {\n        com_pointer&lt;IMMDevice&gt; device;\n        if (devices-&gt;Item(i, &amp;device) != S_OK)\n            continue;\n\n        com_pointer&lt;IPropertyStore&gt; properties;\n        if (device-&gt;OpenPropertyStore(STGM_READ, &amp;properties) != S_OK)\n            continue;\n\n        PROPVARIANT name;\n        if (properties-&gt;GetValue(PKEY_Device_FriendlyName, &amp;name) != S_OK)\n            continue;\n\n        LPWSTR id;\n        if (device-&gt;GetId(&amp;id) != S_OK)\n            continue;\n\n        std::wcout &lt;&lt; id &lt;&lt; \" - \" &lt;&lt; name.pwszVal &lt;&lt; \"\\n\";\n\n        ::CoTaskMemFree(id);\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>This will spit out the device IDs and friendly names to the console. For my system it looks like this:</p>\n\n<pre><code>{0.0.0.00000000}.{142c47f7-085b-4dee-a343-07d95b82403e} - Line (8- LitexMedia Virtual Audio Cable (WDM))\n{0.0.0.00000000}.{24d74d8e-a3a9-410c-860f-f94720d051a7} - Line (6- LitexMedia Virtual Audio Cable (WDM))\n{0.0.0.00000000}.{4b5f58ca-bae3-40c8-b394-d380782f16b6} - Speakers (ASUS Xonar DG Audio Device)\n{0.0.0.00000000}.{5321f69d-c2d5-4e4f-922c-7f11a8d328fd} - S/PDIF Pass-through Device (ASUS Xonar DG Audio Device)\n{0.0.0.00000000}.{59acfa2f-eb45-413b-b413-ed1043613389} - SPDIF Interface (TX0) (VIA High Definition Audio)\n{0.0.0.00000000}.{87468c3a-8b84-4b70-a2d0-53a620055478} - Line (3- LitexMedia Virtual Audio Cable (WDM))\n{0.0.0.00000000}.{9b5da642-3573-4520-b9c1-7d90922e89a6} - Line (2- LitexMedia Virtual Audio Cable (WDM))\n{0.0.0.00000000}.{a73964bd-5357-4487-821e-2b1a2f72556a} - Line (9- LitexMedia Virtual Audio Cable (WDM))\n{0.0.0.00000000}.{c895c45c-9064-4d2d-a424-2c4846490f32} - Speakers (VIA High Definition Audio)\n{0.0.0.00000000}.{d4cddc1f-808c-4dfc-a0a2-7dd283fad1e0} - Line (5- LitexMedia Virtual Audio Cable (WDM))\n{0.0.0.00000000}.{de953a87-89a4-40b7-9e13-8c2a6cf86cfe} - Line (4- LitexMedia Virtual Audio Cable (WDM))\n{0.0.0.00000000}.{e3390713-3188-409c-918b-4f8cea7e08d4} - SPDIF Interface (TX1) (VIA High Definition Audio)\n{0.0.0.00000000}.{f4493833-9f5e-4929-afc3-673d12ab3010} - Line (LitexMedia Virtual Audio Cable (WDM))\n{0.0.0.00000000}.{f819358a-cdb7-4898-97c0-7a9a5d3104a3} - Line (7- LitexMedia Virtual Audio Cable (WDM))\n</code></pre>\n"}],"owner":{"account_id":3240077,"reputation":2811,"user_id":2733333,"accept_rate":89,"display_name":"Tomas Bisciak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2330,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":35540701,"answer_count":1,"score":0,"last_activity_date":1685982646,"creation_date":1456072819,"question_id":35538787,"body_markdown":"**Is there way to get GUID of an audio output device (speaker, headphones) in Java?** I&#39;m trying to modify specific value in registry and I need this key name, for instance:\r\n\r\n    HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\MMDevices\\Audio\\Render\\{d348b8e8-3118-4a9c-9b43-422647b555ca}\r\n\r\nThe last part `{d348b8e8-3118-4a9c-9b43-422647b555ca}` is what I&#39;m looking for.\r\n\r\n**In case it&#39;s not possible with Java, is there any way to do this with C++?** ","title":"Getting GUID of an audio output device","body":"<p><strong>Is there way to get GUID of an audio output device (speaker, headphones) in Java?</strong> I'm trying to modify specific value in registry and I need this key name, for instance:</p>\n<pre><code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\MMDevices\\Audio\\Render\\{d348b8e8-3118-4a9c-9b43-422647b555ca}\n</code></pre>\n<p>The last part <code>{d348b8e8-3118-4a9c-9b43-422647b555ca}</code> is what I'm looking for.</p>\n<p><strong>In case it's not possible with Java, is there any way to do this with C++?</strong></p>\n"},{"tags":["java","json","spring-boot","apache-flink"],"comments":[{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1638991314,"post_id":70266557,"comment_id":124236985,"body_markdown":"Duplicate of https://stackoverflow.com/questions/70277657/java-convert-dataset-of-tuple2-to-string","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/70277657/java-convert-dataset-of-tuple2-to-string\" title=\"java convert dataset of tuple2 to string\">stackoverflow.com/questions/70277657/&hellip;</a>"},{"owner":{"account_id":11438508,"reputation":749,"user_id":8384983,"display_name":"Neeraj"},"score":2,"creation_date":1639044192,"post_id":70266557,"comment_id":124249701,"body_markdown":"Does this answer your question? [JAVA convert Dataset of Tuple2 to String](https://stackoverflow.com/questions/70277657/java-convert-dataset-of-tuple2-to-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70277657/java-convert-dataset-of-tuple2-to-string\">JAVA convert Dataset of Tuple2 to String</a>"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685982241,"creation_date":1685982241,"answer_id":76408316,"question_id":70266557,"body_markdown":"You may try library _Josson_ to generate the JSON output.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    JsonNode node = Josson\r\n        .from(&quot;some some some text here&quot;)\r\n        .getNode(&quot;split()@.toObject(&#39;key&#39;).@group(key).map(key::elements.size()).mergeObjects()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;some&quot; : 3,\r\n      &quot;text&quot; : 1,\r\n      &quot;here&quot; : 1\r\n    }\r\n","title":"Convert flink DataSet to Json in Java","body":"<p>You may try library <em>Josson</em> to generate the JSON output.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>JsonNode node = Josson\n    .from(&quot;some some some text here&quot;)\n    .getNode(&quot;split()@.toObject('key').@group(key).map(key::elements.size()).mergeObjects()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;some&quot; : 3,\n  &quot;text&quot; : 1,\n  &quot;here&quot; : 1\n}\n</code></pre>\n"}],"owner":{"account_id":18941462,"reputation":195,"user_id":13821397,"display_name":"jayzee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685982241,"creation_date":1638908926,"question_id":70266557,"body_markdown":"I have this \r\n\r\n        DataSet&lt;String&gt; text = env.fromElements(&quot;some some some text here&quot;);\r\n        DataSet&lt;Tuple2&lt;String, Integer&gt;&gt; counts = text.flatMap(new LineSplitter()).groupBy(0).sum(1);\r\n    \r\n    counts.print();\r\n\r\nI get this output:\r\n\r\n    (some,3)\r\n    (text,1)\r\n    (here,1)\r\n\r\n\r\nI want to convert the result to Json:\r\n\r\n    {\r\n    \t&quot;some&quot;: 3,\r\n    \t&quot;text&quot;: 1,\r\n    \t&quot;here&quot;: 1\r\n    }\r\n\r\n","title":"Convert flink DataSet to Json in Java","body":"<p>I have this</p>\n<pre><code>    DataSet&lt;String&gt; text = env.fromElements(&quot;some some some text here&quot;);\n    DataSet&lt;Tuple2&lt;String, Integer&gt;&gt; counts = text.flatMap(new LineSplitter()).groupBy(0).sum(1);\n\ncounts.print();\n</code></pre>\n<p>I get this output:</p>\n<pre><code>(some,3)\n(text,1)\n(here,1)\n</code></pre>\n<p>I want to convert the result to Json:</p>\n<pre><code>{\n    &quot;some&quot;: 3,\n    &quot;text&quot;: 1,\n    &quot;here&quot;: 1\n}\n</code></pre>\n"},{"tags":["java","android","gradle","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"score":0,"creation_date":1453920501,"post_id":30142056,"comment_id":57815462,"body_markdown":"Are you opposed to converting the maven project to gradle?","body":"Are you opposed to converting the maven project to gradle?"},{"owner":{"account_id":1867600,"reputation":7212,"user_id":1690755,"accept_rate":85,"display_name":"kamokaze"},"score":0,"creation_date":1453923085,"post_id":30142056,"comment_id":57816967,"body_markdown":"Yes, then I&#39;ve tried to convert the Maven project into a Gradle project, but that resulted in a bunch of other errors, so i would prefer to stay with Maven...","body":"Yes, then I&#39;ve tried to convert the Maven project into a Gradle project, but that resulted in a bunch of other errors, so i would prefer to stay with Maven..."},{"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"score":1,"creation_date":1453923449,"post_id":30142056,"comment_id":57817186,"body_markdown":"Alright, I just wanted to note that it is possible to add a regular java gradle project as a subproject to an android project.","body":"Alright, I just wanted to note that it is possible to add a regular java gradle project as a subproject to an android project."},{"owner":{"display_name":"user65839"},"score":1,"creation_date":1467376228,"post_id":30142056,"comment_id":63720460,"body_markdown":"Are the problems you&#39;re having described by JetBrains YouTrack ticket [IDEA-122904](https://youtrack.jetbrains.com/issue/IDEA-122904)? If so, do any of the workarounds listed in there help?","body":"Are the problems you&#39;re having described by JetBrains YouTrack ticket <a href=\"https://youtrack.jetbrains.com/issue/IDEA-122904\" rel=\"nofollow noreferrer\">IDEA-122904</a>? If so, do any of the workarounds listed in there help?"},{"owner":{"account_id":1933155,"reputation":15551,"user_id":1830736,"accept_rate":98,"display_name":"George Hilliard"},"score":3,"creation_date":1508255974,"post_id":30142056,"comment_id":80535348,"body_markdown":"Possible duplicate of [Android studio Error &quot;Unsupported Modules Detected: Compilation is not supported for following modules&quot;](https://stackoverflow.com/questions/28668252/android-studio-error-unsupported-modules-detected-compilation-is-not-supported)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/28668252/android-studio-error-unsupported-modules-detected-compilation-is-not-supported\">Android studio Error &quot;Unsupported Modules Detected: Compilation is not supported for following modules&quot;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1867600,"reputation":7212,"user_id":1690755,"accept_rate":85,"display_name":"kamokaze"},"score":9,"creation_date":1483602728,"post_id":41407512,"comment_id":70164803,"body_markdown":"I don&#39;t use android studio .  this is not my case !","body":"I don&#39;t use android studio .  this is not my case !"},{"owner":{"account_id":6868812,"reputation":986,"user_id":5280105,"display_name":"JC Carrillo"},"score":1,"creation_date":1533155317,"post_id":41407512,"comment_id":90247966,"body_markdown":"Was getting &quot;Unsupported Modules Detected: Compilation is not supported for following modules: mobile. Unfortunately you can&#39;t have non-Gradle Java modules and Android-Gradle modules in one project&quot; - this helped me. Thanks!","body":"Was getting &quot;Unsupported Modules Detected: Compilation is not supported for following modules: mobile. Unfortunately you can&#39;t have non-Gradle Java modules and Android-Gradle modules in one project&quot; - this helped me. Thanks!"}],"tags":[],"owner":{"account_id":7239261,"reputation":3162,"user_id":5523333,"accept_rate":86,"display_name":"Jagruttam Panchal"},"comment_count":2,"down_vote_count":5,"up_vote_count":26,"is_accepted":false,"score":21,"last_activity_date":1483180270,"creation_date":1483180270,"answer_id":41407512,"question_id":30142056,"body_markdown":"First of all you should update to Android Studio Source: https://code.google.com/p/android/issues/detail?id=77983\r\n\r\nThen you should go to File -&gt; Invalidate Caches / Restart -&gt; Invalidate Caches &amp; Restart.\r\n\r\nThen try to build the application again.\r\n\r\nI found this answer [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28668252/android-studio-error-unsupported-modules-detected-compilation-is-not-supported","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>First of all you should update to Android Studio Source: <a href=\"https://code.google.com/p/android/issues/detail?id=77983\" rel=\"noreferrer\">https://code.google.com/p/android/issues/detail?id=77983</a></p>\n\n<p>Then you should go to File -> Invalidate Caches / Restart -> Invalidate Caches &amp; Restart.</p>\n\n<p>Then try to build the application again.</p>\n\n<p>I found this answer <a href=\"https://stackoverflow.com/questions/28668252/android-studio-error-unsupported-modules-detected-compilation-is-not-supported\">here</a></p>\n"},{"comments":[{"owner":{"account_id":5440328,"reputation":2189,"user_id":4328589,"display_name":"Suresh Maidaragi"},"score":0,"creation_date":1595160771,"post_id":47181333,"comment_id":111372422,"body_markdown":"Please try to add solution instead redirecting to another websites","body":"Please try to add solution instead redirecting to another websites"}],"tags":[],"owner":{"account_id":2747282,"reputation":2176,"user_id":2367442,"accept_rate":83,"display_name":"Mohamd Ali"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1510148747,"creation_date":1510148747,"answer_id":47181333,"question_id":30142056,"body_markdown":"the error explain all things, the idea is confused between **gradle** and **maven**.\r\n\r\ntry to create new project with two **gradle** modules, you can build spring application with gradle as maven.\r\n\r\nsee [this][1] example from spring guides\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/gradle/","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>the error explain all things, the idea is confused between <strong>gradle</strong> and <strong>maven</strong>.</p>\n\n<p>try to create new project with two <strong>gradle</strong> modules, you can build spring application with gradle as maven.</p>\n\n<p>see <a href=\"https://spring.io/guides/gs/gradle/\" rel=\"nofollow noreferrer\">this</a> example from spring guides</p>\n"},{"comments":[{"owner":{"account_id":127801,"reputation":2791,"user_id":325224,"accept_rate":67,"display_name":"schemacs"},"score":2,"creation_date":1548657233,"post_id":51582490,"comment_id":95604251,"body_markdown":"`File -&gt; Settings (= STRG+ALT+S) -&gt; Plugins -&gt; uncheck &quot;Android Support&quot;` [JetBrains Help Page](https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000404920/comments/360000086479)","body":"<code>File -&gt; Settings (= STRG+ALT+S) -&gt; Plugins -&gt; uncheck &quot;Android Support&quot;</code> <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000404920/comments/360000086479\" rel=\"nofollow noreferrer\">JetBrains Help Page</a>"},{"owner":{"account_id":2575220,"reputation":3130,"user_id":2233069,"accept_rate":25,"display_name":"djdance"},"score":2,"creation_date":1575977871,"post_id":51582490,"comment_id":104740224,"body_markdown":"In my case I had no such a plugin, but had &quot;Markdown plugin&quot; marked as red incompatible, I uninstalled it and solved the problem after AS restart.","body":"In my case I had no such a plugin, but had &quot;Markdown plugin&quot; marked as red incompatible, I uninstalled it and solved the problem after AS restart."},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1688098454,"post_id":51582490,"comment_id":135031145,"body_markdown":"turning off the Markdown plugin allowed me to run https://invent.kde.org/network/kdeconnect-android . So can anyone explain why a dumb plugin for a text language would croak the entire build for a phone app??","body":"turning off the Markdown plugin allowed me to run <a href=\"https://invent.kde.org/network/kdeconnect-android\" rel=\"nofollow noreferrer\">invent.kde.org/network/kdeconnect-android</a> . So can anyone explain why a dumb plugin for a text language would croak the entire build for a phone app??"}],"tags":[],"owner":{"display_name":"user5164938"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1534775295,"creation_date":1532882925,"answer_id":51582490,"question_id":30142056,"body_markdown":"Press Ctrl-Alt-S &gt; Uncheck &quot;Android Support&quot; plugin\r\n\r\n(I wish I could tell you exactly why this works, but I can&#39;t. If you want to develop for Android, try using Android Studio, which is also made by Jetbrains.)","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>Press Ctrl-Alt-S > Uncheck \"Android Support\" plugin</p>\n\n<p>(I wish I could tell you exactly why this works, but I can't. If you want to develop for Android, try using Android Studio, which is also made by Jetbrains.)</p>\n"},{"tags":[],"owner":{"account_id":1424271,"reputation":14854,"user_id":1348215,"accept_rate":78,"display_name":"Egor Neliuba"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1534059795,"creation_date":1534059795,"answer_id":51806787,"question_id":30142056,"body_markdown":"Make sure you have added your module to the `settings.gradle` file:\r\n\r\n    include &#39;:app&#39;\r\n    include &#39;:your-module&#39;\r\n","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>Make sure you have added your module to the <code>settings.gradle</code> file:</p>\n\n<pre><code>include ':app'\ninclude ':your-module'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":387081,"reputation":1374,"user_id":745224,"accept_rate":70,"display_name":"dirkvranckaert"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1539194146,"creation_date":1539194146,"answer_id":52746165,"question_id":30142056,"body_markdown":"Had same issue with Android Studio 3.3 Canary 13.\r\n\r\nI was able to solve it by following these steps:\r\n\r\n - Go to the module settings and remove your module from the list\r\n - Edit settings.gradle and remove your module from there also\r\n - Physically move the module directory out of the project (to your desktop for instance)\r\n - Then in the module settings again add a module and select as type &#39;Import Gradle Project&#39; in which you select the module folder you have moved to your desktop (or anywhere else)\r\n\r\nWhen you complete these steps the module will be copied into your project again, AS will start syncing Gradle again and that succeeds without errors :-) Check your GIT status and you will see as soon as you add your module directory to GIT again that nothing has changed to your working directory. So it&#39;s purely an issue with AS that gets somehow out-of-sync...\r\n\r\nBased my solution on this comment: https://issuetracker.google.com/issues/37008041#comment3","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>Had same issue with Android Studio 3.3 Canary 13.</p>\n\n<p>I was able to solve it by following these steps:</p>\n\n<ul>\n<li>Go to the module settings and remove your module from the list</li>\n<li>Edit settings.gradle and remove your module from there also</li>\n<li>Physically move the module directory out of the project (to your desktop for instance)</li>\n<li>Then in the module settings again add a module and select as type 'Import Gradle Project' in which you select the module folder you have moved to your desktop (or anywhere else)</li>\n</ul>\n\n<p>When you complete these steps the module will be copied into your project again, AS will start syncing Gradle again and that succeeds without errors :-) Check your GIT status and you will see as soon as you add your module directory to GIT again that nothing has changed to your working directory. So it's purely an issue with AS that gets somehow out-of-sync...</p>\n\n<p>Based my solution on this comment: <a href=\"https://issuetracker.google.com/issues/37008041#comment3\" rel=\"noreferrer\">https://issuetracker.google.com/issues/37008041#comment3</a></p>\n"},{"tags":[],"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539210493,"creation_date":1539210493,"answer_id":52749623,"question_id":30142056,"body_markdown":"For me, my project was very corrupted. I don&#39;t know how I got into that state. What I observed was that several .gradle file and proguard file had a whole bundle of xml content. Fortunately, the physical file had the correct content in it, but android studio was displaying it as some xml file that looked like it belonged to some generated res xml data.  Things like &quot;Sync to file system&quot; or &quot;sync project to gradle file&quot;, &quot;invalidate cache and restart&quot; or &quot;gradlew clean&quot; wouldn&#39;t clear up the issue.  I even replaced the bogus xml data being displayed in the gradle scripts with the original content, but that didn&#39;t help either. I tried some of the advise given above, but they either didn&#39;t work or seemed too complex for me to feel that me project would go back into a well formed state.\r\n\r\nSo I elected to create a new blank project.  Using file explorer, I copied all of the modules in the corrupted project into the new project (a plain old copy and paste)  I also replaced the &quot;settings.gradle&quot; and the root &quot;build.gradle&quot; files of the new file with the contents from the old file. Once that is done, you have to run &quot;sync Project with gradle files and you&#39;re good to good.  If by chance your project root has some content that you physically added, you would have to copy that over too.\r\n\r\nSo that gets you back up and working. I don&#39;t know for sure what caused my project to get corrupted, but I think it might have to do with the laptop going into sleep mode.  My laptop was not allowing me wake up from sleep and the only way for me to wake up was to power off an power on again.  I did have some projects opened a few times when that happened.  So that&#39;s my best guess as to how the project might have gotten corrupted.","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>For me, my project was very corrupted. I don't know how I got into that state. What I observed was that several .gradle file and proguard file had a whole bundle of xml content. Fortunately, the physical file had the correct content in it, but android studio was displaying it as some xml file that looked like it belonged to some generated res xml data.  Things like \"Sync to file system\" or \"sync project to gradle file\", \"invalidate cache and restart\" or \"gradlew clean\" wouldn't clear up the issue.  I even replaced the bogus xml data being displayed in the gradle scripts with the original content, but that didn't help either. I tried some of the advise given above, but they either didn't work or seemed too complex for me to feel that me project would go back into a well formed state.</p>\n\n<p>So I elected to create a new blank project.  Using file explorer, I copied all of the modules in the corrupted project into the new project (a plain old copy and paste)  I also replaced the \"settings.gradle\" and the root \"build.gradle\" files of the new file with the contents from the old file. Once that is done, you have to run \"sync Project with gradle files and you're good to good.  If by chance your project root has some content that you physically added, you would have to copy that over too.</p>\n\n<p>So that gets you back up and working. I don't know for sure what caused my project to get corrupted, but I think it might have to do with the laptop going into sleep mode.  My laptop was not allowing me wake up from sleep and the only way for me to wake up was to power off an power on again.  I did have some projects opened a few times when that happened.  So that's my best guess as to how the project might have gotten corrupted.</p>\n"},{"comments":[{"owner":{"account_id":1318242,"reputation":380,"user_id":1264648,"display_name":"IulianT"},"score":32,"creation_date":1567499362,"post_id":53920901,"comment_id":101970883,"body_markdown":"worked for me with just the deletion of .idea dir, on astudio 3.5","body":"worked for me with just the deletion of .idea dir, on astudio 3.5"},{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":3,"creation_date":1567769504,"post_id":53920901,"comment_id":102072450,"body_markdown":"Does this work on only specific versions of Android Studio ?","body":"Does this work on only specific versions of Android Studio ?"},{"owner":{"account_id":1782787,"reputation":9911,"user_id":1650674,"accept_rate":92,"display_name":"tir38"},"score":3,"creation_date":1587143985,"post_id":53920901,"comment_id":108402954,"body_markdown":"Be careful deleting .idea directory. There is a lot of stuff in that directory that will get lost and not auto-generated when you relaunch A/S. Specifically `codeStyles` and `dictionaries`","body":"Be careful deleting .idea directory. There is a lot of stuff in that directory that will get lost and not auto-generated when you relaunch A/S. Specifically <code>codeStyles</code> and <code>dictionaries</code>"},{"owner":{"account_id":4546280,"reputation":1606,"user_id":3692788,"accept_rate":67,"display_name":"JCarlosR"},"score":1,"creation_date":1587656753,"post_id":53920901,"comment_id":108603262,"body_markdown":"It works for AS 3.6.3 too. I just closed the IDE, deleted the files and reopen. Didn&#39;t have to close the project nor import (I believe the IDE does it anyway).","body":"It works for AS 3.6.3 too. I just closed the IDE, deleted the files and reopen. Didn&#39;t have to close the project nor import (I believe the IDE does it anyway)."},{"owner":{"account_id":1932473,"reputation":3546,"user_id":1741586,"accept_rate":25,"display_name":"Neo"},"score":0,"creation_date":1590486181,"post_id":53920901,"comment_id":109690203,"body_markdown":"@tir38, I think all the files in .idea folder are auto-generated. No need to worry while deleting. Android Studio creates every file by itself.","body":"@tir38, I think all the files in .idea folder are auto-generated. No need to worry while deleting. Android Studio creates every file by itself."},{"owner":{"account_id":1660785,"reputation":6891,"user_id":1529129,"accept_rate":50,"display_name":"Rahul Tiwari"},"score":11,"creation_date":1591770594,"post_id":53920901,"comment_id":110178283,"body_markdown":"more precisely: deleting `modules.xml` from `.idea` directory works. https://stackoverflow.com/a/61813520/1529129","body":"more precisely: deleting <code>modules.xml</code> from <code>.idea</code> directory works. <a href=\"https://stackoverflow.com/a/61813520/1529129\">stackoverflow.com/a/61813520/1529129</a>"},{"owner":{"account_id":6152448,"reputation":1851,"user_id":4796491,"display_name":"sceee"},"score":0,"creation_date":1600186210,"post_id":53920901,"comment_id":113005962,"body_markdown":"Received this after upgrading `firebase_crashlytics` package in a flutter project (Upgrade from Fabric-based to FB-based: https://firebase.googleblog.com/2020/06/crashlytics-sdk-now-available.html). This solution solved it.","body":"Received this after upgrading <code>firebase_crashlytics</code> package in a flutter project (Upgrade from Fabric-based to FB-based: <a href=\"https://firebase.googleblog.com/2020/06/crashlytics-sdk-now-available.html\" rel=\"nofollow noreferrer\">firebase.googleblog.com/2020/06/&hellip;</a>). This solution solved it."},{"owner":{"account_id":12655492,"reputation":376,"user_id":9198161,"display_name":"DavidUps"},"score":0,"creation_date":1632299027,"post_id":53920901,"comment_id":122451645,"body_markdown":"It doesn&#39;t work on android artic fox, I think it&#39;s more related to Gradle but I don&#39;t find it...","body":"It doesn&#39;t work on android artic fox, I think it&#39;s more related to Gradle but I don&#39;t find it..."}],"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"comment_count":8,"down_vote_count":3,"up_vote_count":585,"is_accepted":false,"score":582,"last_activity_date":1545728918,"creation_date":1545728918,"answer_id":53920901,"question_id":30142056,"body_markdown":"1- close the project\r\n\r\n2- close `Android Studio` IDE\r\n\r\n3- delete the `.idea` directory\r\n\r\n4- delete all `.iml` files\r\n\r\n5- open `Android Studio` IDE and import the project  \r\n\r\nAnswer from [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28668252/android-studio-error-unsupported-modules-detected-compilation-is-not-supported","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>1- close the project</p>\n\n<p>2- close <code>Android Studio</code> IDE</p>\n\n<p>3- delete the <code>.idea</code> directory</p>\n\n<p>4- delete all <code>.iml</code> files</p>\n\n<p>5- open <code>Android Studio</code> IDE and import the project  </p>\n\n<p>Answer from <a href=\"https://stackoverflow.com/questions/28668252/android-studio-error-unsupported-modules-detected-compilation-is-not-supported\">here</a></p>\n"},{"tags":[],"owner":{"account_id":6685684,"reputation":540,"user_id":5459444,"display_name":"Ashutosh dwivedi"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1563351880,"creation_date":1563351880,"answer_id":57071601,"question_id":30142056,"body_markdown":"This solution worked for me Android Studio 3.3.2.\r\n\r\n1. Delete the .iml file from the project directory.\r\n2. In android studio File-&gt;invalidate caches/restart.\r\n3. Clean and Rebuild project if the auto build throws error.","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>This solution worked for me Android Studio 3.3.2.</p>\n\n<ol>\n<li>Delete the .iml file from the project directory.</li>\n<li>In android studio File->invalidate caches/restart.</li>\n<li>Clean and Rebuild project if the auto build throws error.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":8405311,"reputation":996,"user_id":6308959,"display_name":"user_MGU"},"score":1,"creation_date":1571564153,"post_id":57335710,"comment_id":103276798,"body_markdown":"Thank. It helped me. And the solution is pretty! :)\n\nBut with:\n\nSync Project with Gradle Files","body":"Thank. It helped me. And the solution is pretty! :)  But with:  Sync Project with Gradle Files"},{"owner":{"account_id":2168664,"reputation":1978,"user_id":1921204,"accept_rate":77,"display_name":"MohanRaj S"},"score":0,"creation_date":1575294218,"post_id":57335710,"comment_id":104507087,"body_markdown":"What are file will configure in .gitignore, can you please give suggestions for the new project.","body":"What are file will configure in .gitignore, can you please give suggestions for the new project."},{"owner":{"account_id":7043344,"reputation":554,"user_id":5395039,"display_name":"Stuart Schechter"},"score":1,"creation_date":1581057857,"post_id":57335710,"comment_id":106309651,"body_markdown":"1.a After selecting &quot;Invalidate Caches/Restart&quot; a dialog appears. Make sure to choose the &quot;invalidate&quot; option only and close Android studio manually.  If you choose &quot;invalidate + restart&quot; Android studio will restart before you can complete steps 3-5.","body":"1.a After selecting &quot;Invalidate Caches/Restart&quot; a dialog appears. Make sure to choose the &quot;invalidate&quot; option only and close Android studio manually.  If you choose &quot;invalidate + restart&quot; Android studio will restart before you can complete steps 3-5."},{"owner":{"account_id":1932473,"reputation":3546,"user_id":1741586,"accept_rate":25,"display_name":"Neo"},"score":0,"creation_date":1590486437,"post_id":57335710,"comment_id":109690343,"body_markdown":"@MohanRajS, all the files which generates automatically must be ignored. For example- every iml file, .idea folder, .gradle folder, build folder, .classpath, .project , .log, .apk, .aab etc.","body":"@MohanRajS, all the files which generates automatically must be ignored. For example- every iml file, .idea folder, .gradle folder, build folder, .classpath, .project , .log, .apk, .aab etc."},{"owner":{"account_id":2397410,"reputation":10658,"user_id":2095953,"accept_rate":56,"display_name":"frodo2975"},"score":0,"creation_date":1678316838,"post_id":57335710,"comment_id":133511354,"body_markdown":"Just invalidating caches and cleaning the project was enough for me.","body":"Just invalidating caches and cleaning the project was enough for me."}],"tags":[],"owner":{"account_id":16440294,"reputation":1683,"user_id":11876780,"display_name":"Gagan Raghunath"},"comment_count":5,"down_vote_count":3,"up_vote_count":124,"is_accepted":false,"score":121,"last_activity_date":1564810306,"creation_date":1564810306,"answer_id":57335710,"question_id":30142056,"body_markdown":" 1. Go to File -&gt; Invalidate Caches/Restart.\r\n 2. Close the project.\r\n 3. Go to project folder and delete .idea folder.\r\n 4. Delete YourProjectName.iml in project folder.\r\n 5. Delete app.iml in  app folder.\r\n 6. Open Android studio -&gt; open existing project, and then select your\r\n    project.\r\n 7. The Load Settings error and Unsupported modules detected error will\r\n    be gone.\r\n\r\n","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<ol>\n<li>Go to File -> Invalidate Caches/Restart.</li>\n<li>Close the project.</li>\n<li>Go to project folder and delete .idea folder.</li>\n<li>Delete YourProjectName.iml in project folder.</li>\n<li>Delete app.iml in  app folder.</li>\n<li>Open Android studio -> open existing project, and then select your\nproject.</li>\n<li>The Load Settings error and Unsupported modules detected error will\nbe gone.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9323810,"reputation":31,"user_id":6921788,"display_name":"Shubham Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565271411,"creation_date":1565271411,"answer_id":57413938,"question_id":30142056,"body_markdown":"None of above worked for me but tried something random and it worked. \r\n\r\n1. Copy the corrupted project directory.\r\n2. Paste it at somewhere else.\r\n3. Import it in Android Studio. (File-&gt; New-&gt; Import project)\r\n4. And uncorrupted project get restored.\r\n\r\nPS: You must have original corrupted project. (Means, copy it without tampering project structure)\r\n","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>None of above worked for me but tried something random and it worked. </p>\n\n<ol>\n<li>Copy the corrupted project directory.</li>\n<li>Paste it at somewhere else.</li>\n<li>Import it in Android Studio. (File-> New-> Import project)</li>\n<li>And uncorrupted project get restored.</li>\n</ol>\n\n<p>PS: You must have original corrupted project. (Means, copy it without tampering project structure)</p>\n"},{"tags":[],"owner":{"account_id":16520118,"reputation":11,"user_id":11936539,"display_name":"Akash Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565974623,"creation_date":1565964949,"answer_id":57526209,"question_id":30142056,"body_markdown":"Copy the project files from the original source and paste it somewhere and then import from the Android Studio.\r\n","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>Copy the project files from the original source and paste it somewhere and then import from the Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":17145461,"reputation":11,"user_id":12408516,"display_name":"Finks"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574318416,"creation_date":1574318416,"answer_id":58968740,"question_id":30142056,"body_markdown":"Been dealing with this issue for a while every time I tried opening a project.\r\n\r\nI always receive this error even though I knew I had not made any changes that should of caused this apart from exporting to zip.\r\n\r\nTo Fix:\r\n\r\n - Make a new project or open project that works\r\n - Go to file &gt; open &gt; &quot;your project&quot;\r\n - Make sure your dummy project stays open.\r\n The project you were getting errors should be opened in a new window.\r\n\r\nThis fixed it for me without doing any changes or deleting anything.\r\n\r\n","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>Been dealing with this issue for a while every time I tried opening a project.</p>\n\n<p>I always receive this error even though I knew I had not made any changes that should of caused this apart from exporting to zip.</p>\n\n<p>To Fix:</p>\n\n<ul>\n<li>Make a new project or open project that works</li>\n<li>Go to file > open > \"your project\"</li>\n<li>Make sure your dummy project stays open.\nThe project you were getting errors should be opened in a new window.</li>\n</ul>\n\n<p>This fixed it for me without doing any changes or deleting anything.</p>\n"},{"tags":[],"owner":{"account_id":5716997,"reputation":91,"user_id":4516824,"display_name":"Muhammad Kamran Latif Raza"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576501392,"creation_date":1576501392,"answer_id":59357203,"question_id":30142056,"body_markdown":"goto `.idea` folder open `modules.xml` file and see for yourself what module is there that you are not using in project currently.","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>goto <code>.idea</code> folder open <code>modules.xml</code> file and see for yourself what module is there that you are not using in project currently.</p>\n"},{"tags":[],"owner":{"account_id":16405411,"reputation":91,"user_id":11850096,"display_name":"Francis Eyogo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1578886859,"creation_date":1578886859,"answer_id":59710346,"question_id":30142056,"body_markdown":"For some reason, you can not delete the .idea folder\r\n\r\nThe best way is \r\n\r\n - Delete all files inside of .idea\r\n - Delete .idea","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>For some reason, you can not delete the .idea folder</p>\n\n<p>The best way is </p>\n\n<ul>\n<li>Delete all files inside of .idea</li>\n<li>Delete .idea</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":5854227,"reputation":83,"user_id":4612034,"display_name":"Redar"},"score":6,"creation_date":1583500604,"post_id":60004751,"comment_id":107148226,"body_markdown":"deleting .idea folder and .iml file helped.","body":"deleting .idea folder and .iml file helped."}],"tags":[],"owner":{"account_id":16433551,"reputation":440,"user_id":11871733,"display_name":"Obot Ernest"},"comment_count":1,"down_vote_count":2,"up_vote_count":48,"is_accepted":false,"score":46,"last_activity_date":1596304427,"creation_date":1580476799,"answer_id":60004751,"question_id":30142056,"body_markdown":"The ultimate solution to this error:\r\n\r\n**SOLUTION 1**\r\n==============\r\n\r\n**Step 1** Go to File -&gt; Invalidate Caches/Restart.\r\n\r\n**Step 2** Close the project.\r\n\r\n**Step 3** Go to project folder and delete .idea folder.\r\n\r\n**Step 4** Delete YourProjectName.iml in project folder.\r\n\r\n**step 5** You will see a folder below graddle folder, Delete YourProjectName folder (it contains another YourProjectName.iml file).\r\n\r\n**Step 6** Open Android studio -&gt; open existing project, and then select your project.\r\n\r\n**\r\n\r\nSOLUTION 2\r\n==========\r\n\r\n**\r\n\r\n**Step 1:** Open the Corrupted Project (The one showing error).\r\n\r\n**Step 2:** Open system.gradle file.\r\n\r\n**step 3:** add this line of code `include &#39;:app&#39;`.\r\n\r\n**Step 4:** click on the sync, to sync the gradle file.\r\n","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>The ultimate solution to this error:</p>\n<h1><strong>SOLUTION 1</strong></h1>\n<p><strong>Step 1</strong> Go to File -&gt; Invalidate Caches/Restart.</p>\n<p><strong>Step 2</strong> Close the project.</p>\n<p><strong>Step 3</strong> Go to project folder and delete .idea folder.</p>\n<p><strong>Step 4</strong> Delete YourProjectName.iml in project folder.</p>\n<p><strong>step 5</strong> You will see a folder below graddle folder, Delete YourProjectName folder (it contains another YourProjectName.iml file).</p>\n<p><strong>Step 6</strong> Open Android studio -&gt; open existing project, and then select your project.</p>\n<p>**</p>\n<h1>SOLUTION 2</h1>\n<p>**</p>\n<p><strong>Step 1:</strong> Open the Corrupted Project (The one showing error).</p>\n<p><strong>Step 2:</strong> Open system.gradle file.</p>\n<p><strong>step 3:</strong> add this line of code <code>include ':app'</code>.</p>\n<p><strong>Step 4:</strong> click on the sync, to sync the gradle file.</p>\n"},{"comments":[{"owner":{"account_id":426309,"reputation":4353,"user_id":807452,"accept_rate":67,"display_name":"3c71"},"score":3,"creation_date":1583502794,"post_id":60059702,"comment_id":107149469,"body_markdown":"It worked for me. I had this error on a *gradle* module that was later removed but error kept being reported no matter what. Removing the module from modules.xml worked while everything else didn&#39;t.","body":"It worked for me. I had this error on a <i>gradle</i> module that was later removed but error kept being reported no matter what. Removing the module from modules.xml worked while everything else didn&#39;t."}],"tags":[],"owner":{"account_id":13090036,"reputation":480,"user_id":9457832,"display_name":"The Fluffy T Rex"},"comment_count":1,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1580827083,"creation_date":1580827083,"answer_id":60059702,"question_id":30142056,"body_markdown":"Tried all above. Didn&#39;t work. \r\n\r\nHere&#39;s what worked. Go to the file called modules.xml \r\n\r\nDelete all the modules there. Clean and rebuild. ","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>Tried all above. Didn't work. </p>\n\n<p>Here's what worked. Go to the file called modules.xml </p>\n\n<p>Delete all the modules there. Clean and rebuild. </p>\n"},{"comments":[{"owner":{"account_id":12378425,"reputation":453,"user_id":9025180,"display_name":"mohammad reza sarsarabi"},"score":0,"creation_date":1652015569,"post_id":60194422,"comment_id":127498554,"body_markdown":"this was the only solution that worked for me! of course after invalidate caches and restart.","body":"this was the only solution that worked for me! of course after invalidate caches and restart."}],"tags":[],"owner":{"account_id":7595843,"reputation":1704,"user_id":5762040,"display_name":"Michal Zhradnk Nono3551"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1586945658,"creation_date":1581530271,"answer_id":60194422,"question_id":30142056,"body_markdown":"In my case settings.gradle contained invalid configuration.\r\n\r\nI changed:\r\n&gt;     include &#39;:app&#39;\r\n&gt;     rootProject.name=&#39;&lt;somthing else&gt;&#39;\r\n\r\nTo:\r\n&gt;     include &#39;:app&#39;\r\n\r\nError is gone. So maybe check your settings.gradle for potential errors. If this won&#39;t work try to remove cache and other tips.","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>In my case settings.gradle contained invalid configuration.</p>\n\n<p>I changed:</p>\n\n<blockquote>\n<pre><code>include ':app'\nrootProject.name='&lt;somthing else&gt;'\n</code></pre>\n</blockquote>\n\n<p>To:</p>\n\n<blockquote>\n<pre><code>include ':app'\n</code></pre>\n</blockquote>\n\n<p>Error is gone. So maybe check your settings.gradle for potential errors. If this won't work try to remove cache and other tips.</p>\n"},{"tags":[],"owner":{"account_id":10232860,"reputation":105,"user_id":8208341,"display_name":"Emmanuel Afolabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586184155,"creation_date":1586179633,"answer_id":61060927,"question_id":30142056,"body_markdown":"You can simply downgrade your gradle dependency to fit your current android studio version.\r\n\r\n```groovy\r\ndependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.5.2&#39;\r\n        ....\r\n}\r\n```\r\n\r\nWorked for me.","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>You can simply downgrade your gradle dependency to fit your current android studio version.</p>\n\n<pre><code>dependencies {\n        classpath 'com.android.tools.build:gradle:3.5.2'\n        ....\n}\n</code></pre>\n\n<p>Worked for me.</p>\n"},{"tags":[],"owner":{"account_id":16485178,"reputation":217,"user_id":11910757,"display_name":"AnonyKnow"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1587535078,"creation_date":1587473703,"answer_id":61344063,"question_id":30142056,"body_markdown":"This may be resolved by fixing `.idea/modules.xml`  \r\nCheck for https://stackoverflow.com/a/61343944/11910757","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>This may be resolved by fixing <code>.idea/modules.xml</code><br>\nCheck for <a href=\"https://stackoverflow.com/a/61343944/11910757\">https://stackoverflow.com/a/61343944/11910757</a></p>\n"},{"comments":[{"owner":{"account_id":2655487,"reputation":1219,"user_id":2296286,"display_name":"Afilu"},"score":3,"creation_date":1592982562,"post_id":61813520,"comment_id":110616235,"body_markdown":"Worked for me with android studio 4.0","body":"Worked for me with android studio 4.0"},{"owner":{"account_id":7009333,"reputation":667,"user_id":5539513,"accept_rate":61,"display_name":"Nimral"},"score":1,"creation_date":1595855785,"post_id":61813520,"comment_id":111610275,"body_markdown":"Worked for me too, needed to rebuild the project before it worked.","body":"Worked for me too, needed to rebuild the project before it worked."},{"owner":{"account_id":5792854,"reputation":3271,"user_id":6341943,"accept_rate":62,"display_name":"hushed_voice"},"score":3,"creation_date":1598341556,"post_id":61813520,"comment_id":112419421,"body_markdown":"Damn..worked for me.. `cmd+shitf+.` to see hidden folders(.idea) in mac btw","body":"Damn..worked for me.. <code>cmd+shitf+.</code> to see hidden folders(.idea) in mac btw"}],"tags":[],"owner":{"account_id":17147866,"reputation":939,"user_id":12410455,"display_name":"Nauman Khaliq"},"comment_count":3,"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1589525921,"creation_date":1589525921,"answer_id":61813520,"question_id":30142056,"body_markdown":" 1. Close the project\r\n 2. Just **delete the modules.xml** in .idea folder.\r\n 3. Open the project again.","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<ol>\n<li>Close the project</li>\n<li>Just <strong>delete the modules.xml</strong> in .idea folder.</li>\n<li>Open the project again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4605097,"reputation":21,"user_id":3734796,"display_name":"Suresh Doraiswamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591792579,"creation_date":1591792579,"answer_id":62303758,"question_id":30142056,"body_markdown":"The following solution I found in this forum worked like a charm:\r\n\r\n1- close the project\r\n\r\n2- close Android Studio IDE\r\n\r\n3- delete the .idea directory in the directory where your app resides\r\n\r\n4- delete all .iml files in the directory where your app resides\r\n\r\n5- open Android Studio IDE and import the project","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>The following solution I found in this forum worked like a charm:</p>\n\n<p>1- close the project</p>\n\n<p>2- close Android Studio IDE</p>\n\n<p>3- delete the .idea directory in the directory where your app resides</p>\n\n<p>4- delete all .iml files in the directory where your app resides</p>\n\n<p>5- open Android Studio IDE and import the project</p>\n"},{"tags":[],"owner":{"account_id":2599209,"reputation":42717,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595322470,"creation_date":1595322470,"answer_id":63011142,"question_id":30142056,"body_markdown":"If nothing works try Import **app folder not the Git root** while opening Android Project and Error will be gone","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>If nothing works try Import <strong>app folder not the Git root</strong> while opening Android Project and Error will be gone</p>\n"},{"tags":[],"owner":{"account_id":16735088,"reputation":179,"user_id":12096447,"display_name":"Vikram Rayavarapu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597507487,"creation_date":1597507487,"answer_id":63428124,"question_id":30142056,"body_markdown":"Change the directory of the Project and re-open.","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>Change the directory of the Project and re-open.</p>\n"},{"tags":[],"owner":{"account_id":16614427,"reputation":699,"user_id":12006498,"display_name":"Debarshi Bhattacharjee"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601478498,"creation_date":1601478498,"answer_id":64140521,"question_id":30142056,"body_markdown":"***Writing in 2020*** -\r\n\r\nIf none of these worked, close **android studio** and then go to\r\n\r\n&gt; C:\\Users\\User\\.AndroidStudio(ANDROID_STUDIO_VERSION)\\system and delete the **caches** folder \r\n\r\n**Restart your project now**, it should work.","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p><em><strong>Writing in 2020</strong></em> -</p>\n<p>If none of these worked, close <strong>android studio</strong> and then go to</p>\n<blockquote>\n<p>C:\\Users\\User.AndroidStudio(ANDROID_STUDIO_VERSION)\\system and delete the <strong>caches</strong> folder</p>\n</blockquote>\n<p><strong>Restart your project now</strong>, it should work.</p>\n"},{"tags":[],"owner":{"account_id":1910877,"reputation":630,"user_id":1724749,"accept_rate":65,"display_name":"Mahdi Giveie"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602670054,"creation_date":1602670054,"answer_id":64351027,"question_id":30142056,"body_markdown":"Follow these steps :\r\n\r\n1-Command+Shift+F\r\n\r\n2-Type : modules.xml\r\n\r\n3-Open file\r\n\r\n4-Remove those you get error for (the module when you get error once building project)\r\n\r\n**Good luck :)**","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>Follow these steps :</p>\n<p>1-Command+Shift+F</p>\n<p>2-Type : modules.xml</p>\n<p>3-Open file</p>\n<p>4-Remove those you get error for (the module when you get error once building project)</p>\n<p><strong>Good luck :)</strong></p>\n"},{"tags":[],"owner":{"account_id":6555535,"reputation":1356,"user_id":5068349,"display_name":"Bharat Lalwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1628753614,"creation_date":1628753614,"answer_id":68753335,"question_id":30142056,"body_markdown":"This happened when there are some cache issues.\r\nJust remove .gradle,.idea and app/build folder.\r\n\r\nGoto -&gt; AndroidStudio -&gt; File -&gt; Invalidate Cache &amp; Restart\r\n\r\nThis will open the same project again and Gradle will rebuild all files and caches. This will take around 10-12 minutes.\r\nThis will definitely be going to help you. ","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>This happened when there are some cache issues.\nJust remove .gradle,.idea and app/build folder.</p>\n<p>Goto -&gt; AndroidStudio -&gt; File -&gt; Invalidate Cache &amp; Restart</p>\n<p>This will open the same project again and Gradle will rebuild all files and caches. This will take around 10-12 minutes.\nThis will definitely be going to help you.</p>\n"},{"tags":[],"owner":{"account_id":6845381,"reputation":6435,"user_id":5264367,"accept_rate":12,"display_name":"Samir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629490854,"creation_date":1629490854,"answer_id":68867693,"question_id":30142056,"body_markdown":"In my case I deleted all project from local Repos folder. Then Cloned new Project from `bitbucked` and imported it again, hopefully error gone. ","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>In my case I deleted all project from local Repos folder. Then Cloned new Project from <code>bitbucked</code> and imported it again, hopefully error gone.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1645193420,"post_id":71174194,"comment_id":125812861,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/71174194/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":1078673,"reputation":2560,"user_id":1076264,"accept_rate":75,"display_name":"Sadra"},"score":0,"creation_date":1645588290,"post_id":71174194,"comment_id":125909250,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/31103396)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/31103396\">From Review</a>"}],"tags":[],"owner":{"account_id":21314914,"reputation":51,"user_id":15688897,"display_name":"avinash kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645190548,"creation_date":1645190548,"answer_id":71174194,"question_id":30142056,"body_markdown":"in my case it work by just invalidate and restart ","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>in my case it work by just invalidate and restart</p>\n"},{"comments":[{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":0,"creation_date":1651767596,"post_id":72127708,"comment_id":127446936,"body_markdown":"You need to provide somewhat more detail than that, such as _which_ project files (POMs? IntelliJ files? something else) to copy from, and which to copy to.","body":"You need to provide somewhat more detail than that, such as <i>which</i> project files (POMs? IntelliJ files? something else) to copy from, and which to copy to."},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1652124495,"post_id":72127708,"comment_id":127525771,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/31700267)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/31700267\">From Review</a>"}],"tags":[],"owner":{"account_id":19790960,"reputation":1,"user_id":14494002,"display_name":"Sempresionus"},"comment_count":2,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1651756092,"creation_date":1651756092,"answer_id":72127708,"question_id":30142056,"body_markdown":"\r\n\r\nTry to copy and paste from the project files","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>Try to copy and paste from the project files</p>\n"},{"tags":[],"owner":{"account_id":16580176,"reputation":76,"user_id":11980977,"display_name":"Ruslan Zhuravlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684750791,"creation_date":1684750791,"answer_id":76305179,"question_id":30142056,"body_markdown":"**Writing in 2023:**\r\ntry invalidate caches and restart\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/toz1v.png","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p><strong>Writing in 2023:</strong>\ntry invalidate caches and restart</p>\n<p><a href=\"https://i.stack.imgur.com/toz1v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/toz1v.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":28189864,"reputation":917,"user_id":21545421,"display_name":"amycodes"},"score":2,"creation_date":1685985241,"post_id":76408281,"comment_id":134734412,"body_markdown":"It would be beneficial if you showed examples of the mismatch, and the correction, rather than just pointing to the gradle build script.","body":"It would be beneficial if you showed examples of the mismatch, and the correction, rather than just pointing to the gradle build script."}],"tags":[],"owner":{"account_id":15914104,"reputation":1,"user_id":11483238,"display_name":"nagaraj gond"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685981963,"creation_date":1685981903,"answer_id":76408281,"question_id":30142056,"body_markdown":"if you use firebase, this error can also occur when there is a mismatch between firebase Android package name and project package name.\r\nMake sure firebase package name is same as namespace (you can find it here: &lt;project&gt;/andriod/app/build.gradle)\r\n\r\n","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>if you use firebase, this error can also occur when there is a mismatch between firebase Android package name and project package name.\nMake sure firebase package name is same as namespace (you can find it here: /andriod/app/build.gradle)</p>\n"}],"owner":{"account_id":1867600,"reputation":7212,"user_id":1690755,"accept_rate":85,"display_name":"kamokaze"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205178,"favorite_count":0,"down_vote_count":0,"up_vote_count":367,"answer_count":31,"score":367,"last_activity_date":1685981963,"creation_date":1431186977,"question_id":30142056,"body_markdown":"I have an IntelliJ 14.1.2 Project consisting of two modules - one is an Android Gradle based module and the other is a Spring Java-based module with Maven.\r\n\r\ngps-trackman.v1 is my root project and I&#39;ve not configured any outputs or facets for this project. The app is my android gradle module and I&#39;ve configured Android and Android-Gradle Facet for this project and gps-trackman isn&#39;t my Spring Maven Project. I want to be able to build everything all together. Is it possible?\r\n\r\n\r\nI now get this error message in my IntelliJ Eventlog \r\n\r\n&gt; Unsupported Modules Detected: Compilation is not supported\r\n&gt; for following modules: gps-trackman, gps-trackman.v1, app.\r\n&gt; Unfortunately you can&#39;t have non-Gradle Java modules and\r\n&gt; Android-Gradle modules in one project.\r\n&gt; \r\n&gt; The project &#39;gps-trackman.v1&#39; is not a Gradle-based\r\n\r\n\r\nIs this error just due to a misconfiguration of my project or is it really not possible to have a maven module and a Gradle module in one project?\r\n\r\nDo I have to configure any Facets for the root project? Alternatively, do I have to convert my maven to gradle? ","title":"Error: Unfortunately you can&#39;t have non-Gradle Java modules and &gt; Android-Gradle modules in one project","body":"<p>I have an IntelliJ 14.1.2 Project consisting of two modules - one is an Android Gradle based module and the other is a Spring Java-based module with Maven.</p>\n\n<p>gps-trackman.v1 is my root project and I've not configured any outputs or facets for this project. The app is my android gradle module and I've configured Android and Android-Gradle Facet for this project and gps-trackman isn't my Spring Maven Project. I want to be able to build everything all together. Is it possible?</p>\n\n<p>I now get this error message in my IntelliJ Eventlog </p>\n\n<blockquote>\n  <p>Unsupported Modules Detected: Compilation is not supported\n  for following modules: gps-trackman, gps-trackman.v1, app.\n  Unfortunately you can't have non-Gradle Java modules and\n  Android-Gradle modules in one project.</p>\n  \n  <p>The project 'gps-trackman.v1' is not a Gradle-based</p>\n</blockquote>\n\n<p>Is this error just due to a misconfiguration of my project or is it really not possible to have a maven module and a Gradle module in one project?</p>\n\n<p>Do I have to configure any Facets for the root project? Alternatively, do I have to convert my maven to gradle? </p>\n"},{"tags":["java","api","selenium-webdriver","automation","burp"],"owner":{"account_id":26467722,"reputation":3,"user_id":20108706,"display_name":"RTest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685980840,"creation_date":1685975206,"question_id":76407439,"body_markdown":"I am trying to integrate Burp suite with selenium testng java framework. I have successfully made the requests to pass through proxy server. \r\n\r\nNow as the requests are getting stored in the proxy server I want to select those requests and perform active scan on them \r\n\r\n**But I am facing null pointer error in the below code lines, which seems like callback object is null\r\n**\r\n   this.callbacks.setExtensionName(&quot;Active Scan&quot;);- in burpSecurity class\r\n\r\nburpSecurity.registerExtenderCallbacks(callbacks); - in test class\r\n\r\n\r\n```\r\nimport burp.*;\r\nimport org.testng.annotations.Test;\r\n\r\nimport java.awt.*;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n\r\n\r\n\r\n\r\npublic class BurpSecurity implements IBurpExtender, ITab, IHttpListener{\r\n\r\n    private IBurpExtenderCallbacks callbacks;\r\n    private List&lt;IHttpRequestResponse&gt; proxyHistoryItems;\r\n\r\n\r\n    public BurpSecurity(IBurpExtenderCallbacks callbacks) {\r\n        this.callbacks = callbacks;\r\n    }\r\n\r\n    @Override\r\n    public void registerExtenderCallbacks(IBurpExtenderCallbacks callbacks) {\r\n        this.callbacks = callbacks;\r\n        this.callbacks.setExtensionName(&quot;Active Scan&quot;);\r\n        this.proxyHistoryItems = new ArrayList&lt;&gt;();\r\n\r\n        this.callbacks.registerHttpListener(this);\r\n        this.callbacks.addSuiteTab(this);\r\n    }\r\n\r\n    @Override\r\n    public void processHttpMessage(int toolFlag, boolean messageIsRequest, IHttpRequestResponse messageInfo) {\r\n        if (toolFlag == IBurpExtenderCallbacks.TOOL_PROXY &amp;&amp; messageIsRequest == true) {\r\n            this.proxyHistoryItems.add(messageInfo);\r\n        }\r\n    }\r\n\r\n\r\n    public void performActiveScan() {\r\n        if (proxyHistoryItems == null || proxyHistoryItems.isEmpty()) {\r\n            System.out.println(&quot;No requests in proxy history to scan.&quot;);\r\n\r\n        } else if (callbacks != null) {\r\n            // Log the number of selected items\r\n            System.out.println(&quot;Number of selected items: &quot; + proxyHistoryItems.size());\r\n        }\r\n\r\n        for (IHttpRequestResponse item : proxyHistoryItems) {\r\n            callbacks.doActiveScan(\r\n                    item.getHttpService().getHost(),\r\n                    item.getHttpService().getPort(),\r\n                    item.getHttpService().getProtocol().equals(&quot;https&quot;),\r\n                    item.getRequest()\r\n            );\r\n        }\r\n\r\n        System.out.println(&quot;Active scanning completed.&quot;);\r\n    }\r\n\r\n    @Override\r\n    public String getTabCaption() {\r\n        return &quot;BurpSecurity&quot;;\r\n    }\r\n\r\n    @Override\r\n    public Component getUiComponent() {\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n\r\n```\r\n\r\ntest class\r\n\r\n\r\n```\r\nprivate BurpSecurity burpSecurity;\r\n//\tprivate IBurpExtenderCallbacks callbacks;\r\n\r\n\t@BeforeClass(alwaysRun = true)\r\n\tpublic void setUp(ITestContext context) {\r\n\r\n\t\tIBurpExtenderCallbacks callbacks = (IBurpExtenderCallbacks) context.getAttribute(&quot;burp_callbacks&quot;);\r\n\t\tburpSecurity = new BurpSecurity(callbacks);\r\n\t\tburpSecurity.registerExtenderCallbacks(callbacks);\r\n\t\tcallbacks.registerHttpListener(burpSecurity);\r\n\t}\r\n\r\n\r\n@Test\r\n\tpublic void Abc(Map&lt;String, String&gt; data) throws Exception {\r\n\r\n\t\tThread.sleep(5000);\r\n\r\n\t\tnew LoginPage().........;\r\n\r\n\t\tThread.sleep(15000);\r\n\t\ttry {\r\n\r\n\t\t\tSystem.out.println(&quot;testing&quot;);\r\n\t\t\tburpSecurity.performActiveScan();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\n","title":"Integrating burp with selenium to perform active scan on the requests stored in http history","body":"<p>I am trying to integrate Burp suite with selenium testng java framework. I have successfully made the requests to pass through proxy server.</p>\n<p>Now as the requests are getting stored in the proxy server I want to select those requests and perform active scan on them</p>\n<p>**But I am facing null pointer error in the below code lines, which seems like callback object is null\n**\nthis.callbacks.setExtensionName(&quot;Active Scan&quot;);- in burpSecurity class</p>\n<p>burpSecurity.registerExtenderCallbacks(callbacks); - in test class</p>\n<pre><code>import burp.*;\nimport org.testng.annotations.Test;\n\nimport java.awt.*;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\n\n\n\npublic class BurpSecurity implements IBurpExtender, ITab, IHttpListener{\n\n    private IBurpExtenderCallbacks callbacks;\n    private List&lt;IHttpRequestResponse&gt; proxyHistoryItems;\n\n\n    public BurpSecurity(IBurpExtenderCallbacks callbacks) {\n        this.callbacks = callbacks;\n    }\n\n    @Override\n    public void registerExtenderCallbacks(IBurpExtenderCallbacks callbacks) {\n        this.callbacks = callbacks;\n        this.callbacks.setExtensionName(&quot;Active Scan&quot;);\n        this.proxyHistoryItems = new ArrayList&lt;&gt;();\n\n        this.callbacks.registerHttpListener(this);\n        this.callbacks.addSuiteTab(this);\n    }\n\n    @Override\n    public void processHttpMessage(int toolFlag, boolean messageIsRequest, IHttpRequestResponse messageInfo) {\n        if (toolFlag == IBurpExtenderCallbacks.TOOL_PROXY &amp;&amp; messageIsRequest == true) {\n            this.proxyHistoryItems.add(messageInfo);\n        }\n    }\n\n\n    public void performActiveScan() {\n        if (proxyHistoryItems == null || proxyHistoryItems.isEmpty()) {\n            System.out.println(&quot;No requests in proxy history to scan.&quot;);\n\n        } else if (callbacks != null) {\n            // Log the number of selected items\n            System.out.println(&quot;Number of selected items: &quot; + proxyHistoryItems.size());\n        }\n\n        for (IHttpRequestResponse item : proxyHistoryItems) {\n            callbacks.doActiveScan(\n                    item.getHttpService().getHost(),\n                    item.getHttpService().getPort(),\n                    item.getHttpService().getProtocol().equals(&quot;https&quot;),\n                    item.getRequest()\n            );\n        }\n\n        System.out.println(&quot;Active scanning completed.&quot;);\n    }\n\n    @Override\n    public String getTabCaption() {\n        return &quot;BurpSecurity&quot;;\n    }\n\n    @Override\n    public Component getUiComponent() {\n        return null;\n    }\n\n\n\n\n</code></pre>\n<p>test class</p>\n<pre><code>private BurpSecurity burpSecurity;\n//  private IBurpExtenderCallbacks callbacks;\n\n    @BeforeClass(alwaysRun = true)\n    public void setUp(ITestContext context) {\n\n        IBurpExtenderCallbacks callbacks = (IBurpExtenderCallbacks) context.getAttribute(&quot;burp_callbacks&quot;);\n        burpSecurity = new BurpSecurity(callbacks);\n        burpSecurity.registerExtenderCallbacks(callbacks);\n        callbacks.registerHttpListener(burpSecurity);\n    }\n\n\n@Test\n    public void Abc(Map&lt;String, String&gt; data) throws Exception {\n\n        Thread.sleep(5000);\n\n        new LoginPage().........;\n\n        Thread.sleep(15000);\n        try {\n\n            System.out.println(&quot;testing&quot;);\n            burpSecurity.performActiveScan();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1685980758,"post_id":76408150,"comment_id":134733564,"body_markdown":"Does this answer your question? [What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?](https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685989193,"post_id":76408150,"comment_id":134735093,"body_markdown":"It&#39;s the _addRow_ method which is throwing the exception?","body":"It&#39;s the <i>addRow</i> method which is throwing the exception?"},{"owner":{"account_id":25402402,"reputation":1,"user_id":19211647,"display_name":"DaSe"},"score":0,"creation_date":1685990966,"post_id":76408150,"comment_id":134735421,"body_markdown":"Yes, It&#39;s addRow, I tried put a for to put a string per column, but I get the same error.\n for(int i = 0; i &lt; titles.length; ++i) {\n            rowData[i] = &quot;Iteracion&quot; + i;\n        }","body":"Yes, It&#39;s addRow, I tried put a for to put a string per column, but I get the same error.  for(int i = 0; i &lt; titles.length; ++i) {             rowData[i] = &quot;Iteracion&quot; + i;         }"}],"owner":{"account_id":25402402,"reputation":1,"user_id":19211647,"display_name":"DaSe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685980707,"creation_date":1685980707,"question_id":76408150,"body_markdown":"I&#39;ve searched for my problem for hours, but none of the solutions I tried have solved it. I want to generate around 40 rows in a table with 6 columns for a project. However, when I run the code in a Swing GUI, the rows don&#39;t appear in the table. Each row is either a String or a Double, except for the last row, which is going to be a Panel. Here is the error message:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 26 &gt; 0\r\n\r\nHere is the function with the problem:\r\n\r\n    public void generateRows() {\r\n        setRowCount(0);\r\n        int cont = 0;\r\n        for (Object obj : productos) {\r\n            addRow(obtenerAtributosProducto((ProductoComida) obj));\r\n            cont++;\r\n        }\r\n        setRowCount(cont);\r\n    }\r\n    private Object[] obtenerAtributosProducto(ProductoComida producto) {\r\n        /*\r\n         *Los atributos se obtendr&#225;n en el siguiente orden:  &quot;Id&quot;, &quot;Nombre&quot;,\r\n         *  &quot;Precio&quot;, &quot;Marca&quot;\r\n         * , &quot;Calificaci&#243;n&quot; \r\n         * */\r\n\r\n\r\n        rowData[0] = producto.obtenerId().toString();\r\n        rowData[1] = producto.obtenerNombre();\r\n        rowData[2] = producto.obtenerPrecio();\r\n        rowData[3] = producto.obtenerMarca();\r\n        rowData[4] = producto.obtenerCalificacion();\r\n        rowData[5] = &quot;Here is a panel&quot;;\r\n\r\n        return rowData;\r\n    }\r\n\r\n\r\nThis is the rest of the code:\r\n\r\n\r\n    public class ComprarComidaTableModel extends DefaultTableModel {\r\n    private static final String[] titles = {\r\n            &quot;Id&quot;, &quot;Nombre&quot;,  &quot;Precio&quot;, &quot;Marca&quot;\r\n            , &quot;Calificaci&#243;n&quot;, &quot;Opciones&quot;\r\n    };//La &#250;ltima fila es la fila del bot&#243;n, la cantidad, y obtener m&#225;s informaci&#243;n del producto.\r\n\r\n    private Inventario inventario = new Inventario();;\r\n    private Object[] productos;\r\n    private String filtro;\r\n    private Object[] rowData = new Object[6];\r\n\r\n    public ComprarComidaTableModel() {\r\n        super(0, 0);\r\n        this.productos = inventario.obtenerCatComida().obtenerProductos();\r\n        generateColumns(); \r\n        generateRows(); //This method is the problem\r\n        this.filtro = &quot;Ninguno&quot;;\r\n\r\n    }\r\n\r\nI know that I don&#39;t need to do this for a single table, but I have to do almost 3 tables like this and I think this is the best way to simplify the code.\r\n","title":"Why I get java.lang.ArrayIndexOutOfBoundsException when I try to genery rows of a table?","body":"<p>I've searched for my problem for hours, but none of the solutions I tried have solved it. I want to generate around 40 rows in a table with 6 columns for a project. However, when I run the code in a Swing GUI, the rows don't appear in the table. Each row is either a String or a Double, except for the last row, which is going to be a Panel. Here is the error message:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 26 &gt; 0\n</code></pre>\n<p>Here is the function with the problem:</p>\n<pre><code>public void generateRows() {\n    setRowCount(0);\n    int cont = 0;\n    for (Object obj : productos) {\n        addRow(obtenerAtributosProducto((ProductoComida) obj));\n        cont++;\n    }\n    setRowCount(cont);\n}\nprivate Object[] obtenerAtributosProducto(ProductoComida producto) {\n    /*\n     *Los atributos se obtendrán en el siguiente orden:  &quot;Id&quot;, &quot;Nombre&quot;,\n     *  &quot;Precio&quot;, &quot;Marca&quot;\n     * , &quot;Calificación&quot; \n     * */\n\n\n    rowData[0] = producto.obtenerId().toString();\n    rowData[1] = producto.obtenerNombre();\n    rowData[2] = producto.obtenerPrecio();\n    rowData[3] = producto.obtenerMarca();\n    rowData[4] = producto.obtenerCalificacion();\n    rowData[5] = &quot;Here is a panel&quot;;\n\n    return rowData;\n}\n</code></pre>\n<p>This is the rest of the code:</p>\n<pre><code>public class ComprarComidaTableModel extends DefaultTableModel {\nprivate static final String[] titles = {\n        &quot;Id&quot;, &quot;Nombre&quot;,  &quot;Precio&quot;, &quot;Marca&quot;\n        , &quot;Calificación&quot;, &quot;Opciones&quot;\n};//La última fila es la fila del botón, la cantidad, y obtener más información del producto.\n\nprivate Inventario inventario = new Inventario();;\nprivate Object[] productos;\nprivate String filtro;\nprivate Object[] rowData = new Object[6];\n\npublic ComprarComidaTableModel() {\n    super(0, 0);\n    this.productos = inventario.obtenerCatComida().obtenerProductos();\n    generateColumns(); \n    generateRows(); //This method is the problem\n    this.filtro = &quot;Ninguno&quot;;\n\n}\n</code></pre>\n<p>I know that I don't need to do this for a single table, but I have to do almost 3 tables like this and I think this is the best way to simplify the code.</p>\n"},{"tags":["java","eclipse","xsd","xsd-validation"],"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686111664,"post_id":76408080,"comment_id":134752740,"body_markdown":"Perhaps this helps: [_How to solve this error : src-resolve: Cannot resolve the name &#39;j2ee:descriptionType&#39; to a(n) &#39;type definition&#39; component.?_](https://stackoverflow.com/a/9945668/1744774)","body":"Perhaps this helps: <a href=\"https://stackoverflow.com/a/9945668/1744774\"><i>How to solve this error : src-resolve: Cannot resolve the name &#39;j2ee:descriptionType&#39; to a(n) &#39;type definition&#39; component.?</i></a>"}],"owner":{"account_id":18177895,"reputation":53,"user_id":14342895,"display_name":"NoobCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685980118,"creation_date":1685980118,"question_id":76408080,"body_markdown":"I am getting this error when validating my schema\r\nBelow I have attached both xsds. Error comes from subservice.xsd.\r\n\r\n```\r\nsrc-resolve: Cannot resolve the name &#39;ns0:PublishHeaderType&#39; to a(n) &#39;type definition&#39; component.\r\n```\r\n\r\nsubservice.xsd\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;xsd:schema xmlns=&quot;http://www.example.com/capmkts/structuredtrading/issuance/dataservice/v3.x&quot;\r\n\t xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\t xmlns:sec=&quot;http://www.example.com/enterprisedata/eldm/integrated/security/v5.x&quot;\r\n\t xmlns:srvtypes=&quot;http://www.example.com/enterprisedata/core/serviceTypes/v1.0&quot;\r\n\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t xmlns:ns0=&quot;http://www.example.com/enterprisedata/core/serviceTypes/v1.0&quot;\r\n\t targetNamespace=&quot;http://www.example.com/capmkts/structuredtrading/issuance/dataservice/v3.x&quot;\r\n\t elementFormDefault=&quot;qualified&quot;\r\n\t attributeFormDefault=&quot;unqualified&quot;&gt;\r\n\t&lt;xsd:import namespace=&quot;http://www.example.com/enterprisedata/eldm/integrated/security/v5.x&quot; schemaLocation=&quot;./ELDM_INTGTD_Security.xsd&quot;/&gt;\r\n\t&lt;xsd:import namespace=&quot;http://www.example.com/enterprisedata/core/serviceTypes/v1.0&quot; schemaLocation=&quot;./EDR_ServiceTypes.xsd&quot;/&gt;\r\n\r\n\t&lt;!-- ###########TOP LEVEL EXPOSED ELEMENTS########################################## --&gt;\r\n\t&lt;!--The following elements are exposed for embedding in WSDL and EMS based interface documents--&gt;\r\n\t&lt;xsd:element name=&quot;SecurityPublishDataSet&quot; type=&quot;SecurityPublishDataSetType&quot;/&gt;\r\n\t&lt;xsd:element name=&quot;StructuredTransactionDealPublishDataSet&quot; type=&quot;StructuredTransactionDealPublishDataSetType&quot;/&gt;\r\n\r\n\t&lt;!-- ##################################################################### --&gt;\r\n\t&lt;xsd:complexType name=&quot;SecurityPublishDataSetType&quot;&gt;\r\n\t\t&lt;xsd:sequence&gt;\r\n\t\t\t&lt;xsd:element name=&quot;PublishHeader&quot; type=&quot;ns0:PublishHeaderType&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;PublishPayload&quot; type=&quot;SecurityPayloadType&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t&lt;/xsd:sequence&gt;\r\n\t\t&lt;xsd:attribute name=&quot;schemaVersion&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;\r\n\t&lt;/xsd:complexType&gt;\r\n\t&lt;xsd:complexType name=&quot;SecurityPayloadType&quot;&gt;\r\n\t\t&lt;xsd:choice&gt;\r\n\t\t\t&lt;xsd:element name=&quot;Securities&quot; type=&quot;sec:Securities&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;StructuredTransactionDeals&quot; type=&quot;sec:StructuredTransactionDeals&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t&lt;/xsd:choice&gt;\r\n\t&lt;/xsd:complexType&gt;\r\n\t&lt;xsd:complexType name=&quot;StructuredTransactionDealPublishDataSetType&quot;&gt;\r\n\t\t&lt;xsd:sequence&gt;\r\n\t\t\t&lt;xsd:element name=&quot;PublishHeader&quot; type=&quot;ns0:PublishHeaderType&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;PublishPayload&quot; type=&quot;StructuredTransactionDealPayloadType&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t&lt;/xsd:sequence&gt;\r\n\t\t&lt;xsd:attribute name=&quot;schemaVersion&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;\r\n\t&lt;/xsd:complexType&gt;\r\n\t&lt;xsd:complexType name=&quot;StructuredTransactionDealPayloadType&quot;&gt;\r\n\t\t&lt;xsd:sequence&gt;\r\n\t\t\t&lt;xsd:element name=&quot;StructuredTransactionDeals&quot; type=&quot;sec:StructuredTransactionDeals&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t&lt;/xsd:sequence&gt;\r\n\t&lt;/xsd:complexType&gt;\r\n&lt;/xsd:schema&gt;\r\n```\r\n\r\nEDR_ServiceTypes.xsd\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;xsd:schema xmlns=&quot;http://www.example.com/enterprisedata/core/serviceTypes/v1.0&quot;\r\n\t xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\t targetNamespace=&quot;http://www.example.com/enterprisedata/core/serviceTypes/v1.0&quot;\r\n\t elementFormDefault=&quot;qualified&quot;\r\n\t attributeFormDefault=&quot;unqualified&quot;&gt;\r\n\t&lt;xsd:complexType name=&quot;RequestHeaderType&quot;&gt;\r\n\t\t&lt;xsd:sequence&gt;\r\n\t\t\t&lt;xsd:element name=&quot;RequestCreationTimestamp&quot; type=&quot;xsd:dateTime&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;RequestPostTimestamp&quot; type=&quot;xsd:dateTime&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;RequestID&quot; type=&quot;xsd:string&quot;/&gt;\r\n\t\t&lt;/xsd:sequence&gt;\r\n\t&lt;/xsd:complexType&gt;\r\n\t&lt;xsd:complexType name=&quot;ResponseHeaderType&quot;&gt;\r\n\t\t&lt;xsd:sequence&gt;\r\n\t\t\t&lt;xsd:element name=&quot;RequestID&quot; type=&quot;xsd:string&quot;/&gt;\r\n\r\n\t\t\t&lt;!-- echo back from request --&gt;\r\n\t\t\t&lt;xsd:element name=&quot;RequestCreationTimestamp&quot; type=&quot;xsd:dateTime&quot;/&gt;\r\n\r\n\t\t\t&lt;!-- echo back from request --&gt;\r\n\t\t\t&lt;xsd:element name=&quot;RequestReceiptTimestamp&quot; type=&quot;xsd:dateTime&quot;/&gt;\r\n\r\n\t\t\t&lt;!-- capture timestamp as soon as received --&gt;\r\n\t\t\t&lt;xsd:element name=&quot;ResponseCreationTimestamp&quot; type=&quot;xsd:dateTime&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;ResponsePostTimestamp&quot; type=&quot;xsd:dateTime&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;ResponseCode&quot; type=&quot;xsd:int&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;RecordCount&quot; type=&quot;xsd:int&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t&lt;/xsd:sequence&gt;\r\n\t&lt;/xsd:complexType&gt;\r\n\t&lt;xsd:complexType name=&quot;PublishHeaderType&quot;&gt;\r\n\t\t&lt;xsd:sequence&gt;\r\n\t\t\t&lt;xsd:element name=&quot;PublishTimestamp&quot; type=&quot;xsd:dateTime&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;PublishCode&quot; type=&quot;xsd:int&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;PayloadID&quot; type=&quot;xsd:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;RecordCount&quot; type=&quot;xsd:int&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t&lt;/xsd:sequence&gt;\r\n\t&lt;/xsd:complexType&gt;\r\n\t&lt;xsd:complexType name=&quot;ErrorDetailType&quot;&gt;\r\n\t\t&lt;xsd:sequence&gt;\r\n\t\t\t&lt;xsd:element name=&quot;ExceptionCode&quot; type=&quot;xsd:token&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;ExceptionSummary&quot; type=&quot;xsd:token&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;ExceptionMessage&quot; type=&quot;xsd:token&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n\t\t\t&lt;xsd:element name=&quot;ExceptionTrace&quot; type=&quot;xsd:token&quot; minOccurs=&quot;0&quot;/&gt;\r\n\t\t&lt;/xsd:sequence&gt;\r\n\t&lt;/xsd:complexType&gt;\r\n&lt;/xsd:schema&gt;\r\n```\r\n\r\nany idea on the issue?\r\nany help would be appreciated. \r\n\r\n*xmlns:ns0* url is the same on EDR_ServiceTypes.xsd targetNamespace. Not sure what else could be the issue.\r\n","title":"Java - XSD: src-resolve: Cannot resolve the name &#39;ns0:PublishHeaderType&#39; to a(n) &#39;type definition&#39; component","body":"<p>I am getting this error when validating my schema\nBelow I have attached both xsds. Error comes from subservice.xsd.</p>\n<pre><code>src-resolve: Cannot resolve the name 'ns0:PublishHeaderType' to a(n) 'type definition' component.\n</code></pre>\n<p>subservice.xsd</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;xsd:schema xmlns=&quot;http://www.example.com/capmkts/structuredtrading/issuance/dataservice/v3.x&quot;\n     xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n     xmlns:sec=&quot;http://www.example.com/enterprisedata/eldm/integrated/security/v5.x&quot;\n     xmlns:srvtypes=&quot;http://www.example.com/enterprisedata/core/serviceTypes/v1.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xmlns:ns0=&quot;http://www.example.com/enterprisedata/core/serviceTypes/v1.0&quot;\n     targetNamespace=&quot;http://www.example.com/capmkts/structuredtrading/issuance/dataservice/v3.x&quot;\n     elementFormDefault=&quot;qualified&quot;\n     attributeFormDefault=&quot;unqualified&quot;&gt;\n    &lt;xsd:import namespace=&quot;http://www.example.com/enterprisedata/eldm/integrated/security/v5.x&quot; schemaLocation=&quot;./ELDM_INTGTD_Security.xsd&quot;/&gt;\n    &lt;xsd:import namespace=&quot;http://www.example.com/enterprisedata/core/serviceTypes/v1.0&quot; schemaLocation=&quot;./EDR_ServiceTypes.xsd&quot;/&gt;\n\n    &lt;!-- ###########TOP LEVEL EXPOSED ELEMENTS########################################## --&gt;\n    &lt;!--The following elements are exposed for embedding in WSDL and EMS based interface documents--&gt;\n    &lt;xsd:element name=&quot;SecurityPublishDataSet&quot; type=&quot;SecurityPublishDataSetType&quot;/&gt;\n    &lt;xsd:element name=&quot;StructuredTransactionDealPublishDataSet&quot; type=&quot;StructuredTransactionDealPublishDataSetType&quot;/&gt;\n\n    &lt;!-- ##################################################################### --&gt;\n    &lt;xsd:complexType name=&quot;SecurityPublishDataSetType&quot;&gt;\n        &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;PublishHeader&quot; type=&quot;ns0:PublishHeaderType&quot;/&gt;\n            &lt;xsd:element name=&quot;PublishPayload&quot; type=&quot;SecurityPayloadType&quot; minOccurs=&quot;0&quot;/&gt;\n        &lt;/xsd:sequence&gt;\n        &lt;xsd:attribute name=&quot;schemaVersion&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;\n    &lt;/xsd:complexType&gt;\n    &lt;xsd:complexType name=&quot;SecurityPayloadType&quot;&gt;\n        &lt;xsd:choice&gt;\n            &lt;xsd:element name=&quot;Securities&quot; type=&quot;sec:Securities&quot; minOccurs=&quot;0&quot;/&gt;\n            &lt;xsd:element name=&quot;StructuredTransactionDeals&quot; type=&quot;sec:StructuredTransactionDeals&quot; minOccurs=&quot;0&quot;/&gt;\n        &lt;/xsd:choice&gt;\n    &lt;/xsd:complexType&gt;\n    &lt;xsd:complexType name=&quot;StructuredTransactionDealPublishDataSetType&quot;&gt;\n        &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;PublishHeader&quot; type=&quot;ns0:PublishHeaderType&quot;/&gt;\n            &lt;xsd:element name=&quot;PublishPayload&quot; type=&quot;StructuredTransactionDealPayloadType&quot; minOccurs=&quot;0&quot;/&gt;\n        &lt;/xsd:sequence&gt;\n        &lt;xsd:attribute name=&quot;schemaVersion&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;\n    &lt;/xsd:complexType&gt;\n    &lt;xsd:complexType name=&quot;StructuredTransactionDealPayloadType&quot;&gt;\n        &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;StructuredTransactionDeals&quot; type=&quot;sec:StructuredTransactionDeals&quot; minOccurs=&quot;0&quot;/&gt;\n        &lt;/xsd:sequence&gt;\n    &lt;/xsd:complexType&gt;\n&lt;/xsd:schema&gt;\n</code></pre>\n<p>EDR_ServiceTypes.xsd</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;xsd:schema xmlns=&quot;http://www.example.com/enterprisedata/core/serviceTypes/v1.0&quot;\n     xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n     targetNamespace=&quot;http://www.example.com/enterprisedata/core/serviceTypes/v1.0&quot;\n     elementFormDefault=&quot;qualified&quot;\n     attributeFormDefault=&quot;unqualified&quot;&gt;\n    &lt;xsd:complexType name=&quot;RequestHeaderType&quot;&gt;\n        &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;RequestCreationTimestamp&quot; type=&quot;xsd:dateTime&quot;/&gt;\n            &lt;xsd:element name=&quot;RequestPostTimestamp&quot; type=&quot;xsd:dateTime&quot; minOccurs=&quot;0&quot;/&gt;\n            &lt;xsd:element name=&quot;RequestID&quot; type=&quot;xsd:string&quot;/&gt;\n        &lt;/xsd:sequence&gt;\n    &lt;/xsd:complexType&gt;\n    &lt;xsd:complexType name=&quot;ResponseHeaderType&quot;&gt;\n        &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;RequestID&quot; type=&quot;xsd:string&quot;/&gt;\n\n            &lt;!-- echo back from request --&gt;\n            &lt;xsd:element name=&quot;RequestCreationTimestamp&quot; type=&quot;xsd:dateTime&quot;/&gt;\n\n            &lt;!-- echo back from request --&gt;\n            &lt;xsd:element name=&quot;RequestReceiptTimestamp&quot; type=&quot;xsd:dateTime&quot;/&gt;\n\n            &lt;!-- capture timestamp as soon as received --&gt;\n            &lt;xsd:element name=&quot;ResponseCreationTimestamp&quot; type=&quot;xsd:dateTime&quot; minOccurs=&quot;0&quot;/&gt;\n            &lt;xsd:element name=&quot;ResponsePostTimestamp&quot; type=&quot;xsd:dateTime&quot;/&gt;\n            &lt;xsd:element name=&quot;ResponseCode&quot; type=&quot;xsd:int&quot;/&gt;\n            &lt;xsd:element name=&quot;RecordCount&quot; type=&quot;xsd:int&quot; minOccurs=&quot;0&quot;/&gt;\n        &lt;/xsd:sequence&gt;\n    &lt;/xsd:complexType&gt;\n    &lt;xsd:complexType name=&quot;PublishHeaderType&quot;&gt;\n        &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;PublishTimestamp&quot; type=&quot;xsd:dateTime&quot;/&gt;\n            &lt;xsd:element name=&quot;PublishCode&quot; type=&quot;xsd:int&quot; minOccurs=&quot;0&quot;/&gt;\n            &lt;xsd:element name=&quot;PayloadID&quot; type=&quot;xsd:string&quot; minOccurs=&quot;0&quot;/&gt;\n            &lt;xsd:element name=&quot;RecordCount&quot; type=&quot;xsd:int&quot; minOccurs=&quot;0&quot;/&gt;\n        &lt;/xsd:sequence&gt;\n    &lt;/xsd:complexType&gt;\n    &lt;xsd:complexType name=&quot;ErrorDetailType&quot;&gt;\n        &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;ExceptionCode&quot; type=&quot;xsd:token&quot; minOccurs=&quot;0&quot;/&gt;\n            &lt;xsd:element name=&quot;ExceptionSummary&quot; type=&quot;xsd:token&quot; minOccurs=&quot;0&quot;/&gt;\n            &lt;xsd:element name=&quot;ExceptionMessage&quot; type=&quot;xsd:token&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n            &lt;xsd:element name=&quot;ExceptionTrace&quot; type=&quot;xsd:token&quot; minOccurs=&quot;0&quot;/&gt;\n        &lt;/xsd:sequence&gt;\n    &lt;/xsd:complexType&gt;\n&lt;/xsd:schema&gt;\n</code></pre>\n<p>any idea on the issue?\nany help would be appreciated.</p>\n<p><em>xmlns:ns0</em> url is the same on EDR_ServiceTypes.xsd targetNamespace. Not sure what else could be the issue.</p>\n"},{"tags":["java","json","csv","jackson","jackson-databind"],"comments":[{"owner":{"account_id":3488489,"reputation":724,"user_id":2918734,"display_name":"Igor Khvostenkov"},"score":0,"creation_date":1576654374,"post_id":59382269,"comment_id":104965392,"body_markdown":"Seems to be a problem in your CSV-&gt;JSON converter. Can you post code of the CSV-&gt;JSON converter?","body":"Seems to be a problem in your CSV-&gt;JSON converter. Can you post code of the CSV-&gt;JSON converter?"},{"owner":{"account_id":17331724,"reputation":1,"user_id":12554639,"display_name":"CodesByMass"},"score":0,"creation_date":1576667584,"post_id":59382269,"comment_id":104971571,"body_markdown":"I posted it, check the CSV to JSON code, i also posted its output","body":"I posted it, check the CSV to JSON code, i also posted its output"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685980062,"creation_date":1685980062,"answer_id":76408068,"question_id":59382269,"body_markdown":"Just one more step can get the final result. That is to unflatten your JSON output.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;[ {&quot; +\r\n        &quot; \\&quot;batters.batter[1].id\\&quot; : \\&quot;1001\\&quot;,&quot; +\r\n        &quot; \\&quot;batters.batter[1].type\\&quot; : \\&quot;Regular\\&quot;,&quot; +\r\n        &quot; \\&quot;batters.batter[2].id\\&quot; : \\&quot;1002\\&quot;,&quot; +\r\n        &quot; \\&quot;batters.batter[2].type\\&quot; : \\&quot;Chocolate\\&quot;,&quot; +\r\n        &quot; \\&quot;batters.batter[3].id\\&quot; : \\&quot;1003\\&quot;,&quot; +\r\n        &quot; \\&quot;batters.batter[3].type\\&quot; : \\&quot;Blueberry\\&quot;,&quot; +\r\n        &quot; \\&quot;batters.batter[4].id\\&quot; : \\&quot;1004\\&quot;,&quot; +\r\n        &quot; \\&quot;batters.batter[4].type\\&quot; : \\&quot;Devil&#39;s Food\\&quot;,&quot; +\r\n        &quot; \\&quot;id\\&quot; : \\&quot;0001\\&quot;,&quot; +\r\n        &quot; \\&quot;name\\&quot; : \\&quot;Cake\\&quot;,&quot; +\r\n        &quot; \\&quot;ppu\\&quot; : \\&quot;0.55\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[1].id\\&quot; : \\&quot;5001\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[1].type\\&quot; : \\&quot;None\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[2].id\\&quot; : \\&quot;5002\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[2].type\\&quot; : \\&quot;Glazed\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[3].id\\&quot; : \\&quot;5005\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[3].type\\&quot; : \\&quot;Sugar\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[4].id\\&quot; : \\&quot;5007\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[4].type\\&quot; : \\&quot;Powdered Sugar\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[5].id\\&quot; : \\&quot;5006\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[5].type\\&quot; : \\&quot;Chocolate with Sprinkles\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[6].id\\&quot; : \\&quot;5003\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[6].type\\&quot; : \\&quot;Chocolate\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[7].id\\&quot; : \\&quot;5004\\&quot;,&quot; +\r\n        &quot; \\&quot;topping[7].type\\&quot; : \\&quot;Maple\\&quot;,&quot; +\r\n        &quot; \\&quot;type\\&quot; : \\&quot;donut\\&quot;&quot; +\r\n        &quot;} ]&quot;);\r\n    JsonNode node = josson.getNode(&quot;[]@.unflatten(&#39;.[]&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    [ {\r\n      &quot;batters&quot; : {\r\n        &quot;batter&quot; : [ {\r\n          &quot;id&quot; : &quot;1001&quot;,\r\n          &quot;type&quot; : &quot;Regular&quot;\r\n        }, {\r\n          &quot;id&quot; : &quot;1002&quot;,\r\n          &quot;type&quot; : &quot;Chocolate&quot;\r\n        }, {\r\n          &quot;id&quot; : &quot;1003&quot;,\r\n          &quot;type&quot; : &quot;Blueberry&quot;\r\n        }, {\r\n          &quot;id&quot; : &quot;1004&quot;,\r\n          &quot;type&quot; : &quot;Devil&#39;s Food&quot;\r\n        } ]\r\n      },\r\n      &quot;id&quot; : &quot;0001&quot;,\r\n      &quot;name&quot; : &quot;Cake&quot;,\r\n      &quot;ppu&quot; : &quot;0.55&quot;,\r\n      &quot;topping&quot; : [ {\r\n        &quot;id&quot; : &quot;5001&quot;,\r\n        &quot;type&quot; : &quot;None&quot;\r\n      }, {\r\n        &quot;id&quot; : &quot;5002&quot;,\r\n        &quot;type&quot; : &quot;Glazed&quot;\r\n      }, {\r\n        &quot;id&quot; : &quot;5005&quot;,\r\n        &quot;type&quot; : &quot;Sugar&quot;\r\n      }, {\r\n        &quot;id&quot; : &quot;5007&quot;,\r\n        &quot;type&quot; : &quot;Powdered Sugar&quot;\r\n      }, {\r\n        &quot;id&quot; : &quot;5006&quot;,\r\n        &quot;type&quot; : &quot;Chocolate with Sprinkles&quot;\r\n      }, {\r\n        &quot;id&quot; : &quot;5003&quot;,\r\n        &quot;type&quot; : &quot;Chocolate&quot;\r\n      }, {\r\n        &quot;id&quot; : &quot;5004&quot;,\r\n        &quot;type&quot; : &quot;Maple&quot;\r\n      } ],\r\n      &quot;type&quot; : &quot;donut&quot;\r\n    } ]\r\n","title":"Convert a CSV file with objects to JSON using Jackson","body":"<p>Just one more step can get the final result. That is to unflatten your JSON output.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;[ {&quot; +\n    &quot; \\&quot;batters.batter[1].id\\&quot; : \\&quot;1001\\&quot;,&quot; +\n    &quot; \\&quot;batters.batter[1].type\\&quot; : \\&quot;Regular\\&quot;,&quot; +\n    &quot; \\&quot;batters.batter[2].id\\&quot; : \\&quot;1002\\&quot;,&quot; +\n    &quot; \\&quot;batters.batter[2].type\\&quot; : \\&quot;Chocolate\\&quot;,&quot; +\n    &quot; \\&quot;batters.batter[3].id\\&quot; : \\&quot;1003\\&quot;,&quot; +\n    &quot; \\&quot;batters.batter[3].type\\&quot; : \\&quot;Blueberry\\&quot;,&quot; +\n    &quot; \\&quot;batters.batter[4].id\\&quot; : \\&quot;1004\\&quot;,&quot; +\n    &quot; \\&quot;batters.batter[4].type\\&quot; : \\&quot;Devil's Food\\&quot;,&quot; +\n    &quot; \\&quot;id\\&quot; : \\&quot;0001\\&quot;,&quot; +\n    &quot; \\&quot;name\\&quot; : \\&quot;Cake\\&quot;,&quot; +\n    &quot; \\&quot;ppu\\&quot; : \\&quot;0.55\\&quot;,&quot; +\n    &quot; \\&quot;topping[1].id\\&quot; : \\&quot;5001\\&quot;,&quot; +\n    &quot; \\&quot;topping[1].type\\&quot; : \\&quot;None\\&quot;,&quot; +\n    &quot; \\&quot;topping[2].id\\&quot; : \\&quot;5002\\&quot;,&quot; +\n    &quot; \\&quot;topping[2].type\\&quot; : \\&quot;Glazed\\&quot;,&quot; +\n    &quot; \\&quot;topping[3].id\\&quot; : \\&quot;5005\\&quot;,&quot; +\n    &quot; \\&quot;topping[3].type\\&quot; : \\&quot;Sugar\\&quot;,&quot; +\n    &quot; \\&quot;topping[4].id\\&quot; : \\&quot;5007\\&quot;,&quot; +\n    &quot; \\&quot;topping[4].type\\&quot; : \\&quot;Powdered Sugar\\&quot;,&quot; +\n    &quot; \\&quot;topping[5].id\\&quot; : \\&quot;5006\\&quot;,&quot; +\n    &quot; \\&quot;topping[5].type\\&quot; : \\&quot;Chocolate with Sprinkles\\&quot;,&quot; +\n    &quot; \\&quot;topping[6].id\\&quot; : \\&quot;5003\\&quot;,&quot; +\n    &quot; \\&quot;topping[6].type\\&quot; : \\&quot;Chocolate\\&quot;,&quot; +\n    &quot; \\&quot;topping[7].id\\&quot; : \\&quot;5004\\&quot;,&quot; +\n    &quot; \\&quot;topping[7].type\\&quot; : \\&quot;Maple\\&quot;,&quot; +\n    &quot; \\&quot;type\\&quot; : \\&quot;donut\\&quot;&quot; +\n    &quot;} ]&quot;);\nJsonNode node = josson.getNode(&quot;[]@.unflatten('.[]')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[ {\n  &quot;batters&quot; : {\n    &quot;batter&quot; : [ {\n      &quot;id&quot; : &quot;1001&quot;,\n      &quot;type&quot; : &quot;Regular&quot;\n    }, {\n      &quot;id&quot; : &quot;1002&quot;,\n      &quot;type&quot; : &quot;Chocolate&quot;\n    }, {\n      &quot;id&quot; : &quot;1003&quot;,\n      &quot;type&quot; : &quot;Blueberry&quot;\n    }, {\n      &quot;id&quot; : &quot;1004&quot;,\n      &quot;type&quot; : &quot;Devil's Food&quot;\n    } ]\n  },\n  &quot;id&quot; : &quot;0001&quot;,\n  &quot;name&quot; : &quot;Cake&quot;,\n  &quot;ppu&quot; : &quot;0.55&quot;,\n  &quot;topping&quot; : [ {\n    &quot;id&quot; : &quot;5001&quot;,\n    &quot;type&quot; : &quot;None&quot;\n  }, {\n    &quot;id&quot; : &quot;5002&quot;,\n    &quot;type&quot; : &quot;Glazed&quot;\n  }, {\n    &quot;id&quot; : &quot;5005&quot;,\n    &quot;type&quot; : &quot;Sugar&quot;\n  }, {\n    &quot;id&quot; : &quot;5007&quot;,\n    &quot;type&quot; : &quot;Powdered Sugar&quot;\n  }, {\n    &quot;id&quot; : &quot;5006&quot;,\n    &quot;type&quot; : &quot;Chocolate with Sprinkles&quot;\n  }, {\n    &quot;id&quot; : &quot;5003&quot;,\n    &quot;type&quot; : &quot;Chocolate&quot;\n  }, {\n    &quot;id&quot; : &quot;5004&quot;,\n    &quot;type&quot; : &quot;Maple&quot;\n  } ],\n  &quot;type&quot; : &quot;donut&quot;\n} ]\n</code></pre>\n"}],"owner":{"account_id":17331724,"reputation":1,"user_id":12554639,"display_name":"CodesByMass"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685980062,"creation_date":1576617697,"question_id":59382269,"body_markdown":"I have to convert JSON files into CSV and vice-versa, i use the Jackson library.\r\n\r\nGoing from JSON to CSV works well, for every type of data, including nested objects, but the counter way is much more harder, as the CSVMapper parse the CSV in a map, thus a couple &lt;key,value&gt;.\r\n\r\nEven if my actual works for simple CSV files, it doesn&#39;t for CSV that should produce JSON objects like this\r\n\r\n### JSON File ###\r\n```\r\n[\r\n\t{\r\n\t\t&quot;id&quot;: &quot;0001&quot;,\r\n\t\t&quot;type&quot;: &quot;donut&quot;,\r\n\t\t&quot;name&quot;: &quot;Cake&quot;,\r\n\t\t&quot;ppu&quot;: 0.55,\r\n\t\t&quot;batters&quot;:\r\n\t\t\t{\r\n\t\t\t\t&quot;batter&quot;:\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t{ &quot;id&quot;: &quot;1001&quot;, &quot;type&quot;: &quot;Regular&quot; },\r\n\t\t\t\t\t\t{ &quot;id&quot;: &quot;1002&quot;, &quot;type&quot;: &quot;Chocolate&quot; },\r\n\t\t\t\t\t\t{ &quot;id&quot;: &quot;1003&quot;, &quot;type&quot;: &quot;Blueberry&quot; },\r\n\t\t\t\t\t\t{ &quot;id&quot;: &quot;1004&quot;, &quot;type&quot;: &quot;Devil&#39;s Food&quot; }\r\n\t\t\t\t\t]\r\n\t\t\t},\r\n\t\t&quot;topping&quot;:\r\n\t\t\t[\r\n\t\t\t\t{ &quot;id&quot;: &quot;5001&quot;, &quot;type&quot;: &quot;None&quot; },\r\n\t\t\t\t{ &quot;id&quot;: &quot;5002&quot;, &quot;type&quot;: &quot;Glazed&quot; },\r\n\t\t\t\t{ &quot;id&quot;: &quot;5005&quot;, &quot;type&quot;: &quot;Sugar&quot; },\r\n\t\t\t\t{ &quot;id&quot;: &quot;5007&quot;, &quot;type&quot;: &quot;Powdered Sugar&quot; },\r\n\t\t\t\t{ &quot;id&quot;: &quot;5006&quot;, &quot;type&quot;: &quot;Chocolate with Sprinkles&quot; },\r\n\t\t\t\t{ &quot;id&quot;: &quot;5003&quot;, &quot;type&quot;: &quot;Chocolate&quot; },\r\n\t\t\t\t{ &quot;id&quot;: &quot;5004&quot;, &quot;type&quot;: &quot;Maple&quot; }\r\n\t\t\t]\r\n\t},\r\n]\r\n```\r\n\r\n### CSV file after the conversion ###\r\n\r\n    batters.batter[1].id;batters.batter[1].type;batters.batter[2].id;batters.batter[2].type;batters.batter[3].id;batters.batter[3].type;batters.batter[4].id;batters.batter[4].type;id;name;ppu;topping[1].id;topping[1].type;topping[2].id;topping[2].type;topping[3].id;topping[3].type;topping[4].id;topping[4].type;topping[5].id;topping[5].type;topping[6].id;topping[6].type;topping[7].id;topping[7].type;type\r\n\r\n    1001;Regular;1002;Chocolate;1003;Blueberry;1004;Devil&#39;s Food;0001;Cake;0.55;5001;None;5002;Glazed;5005;Sugar;5007;Powdered Sugar;5006;Chocolate with Sprinkles;5003;Chocolate;5004;Maple;donut\r\n\r\n## CSV to JSON converter ##\r\n\r\n    File csvFile = new File(CSV_File) ;\r\n\t// Get the name of the file, for the new one in JSON\r\n\t// String file_name = csvFile.getName().replaceFirst(&quot;[.][^.]+$&quot;, &quot;&quot;);;\r\n\r\n\tCsvMapper mapper = new CsvMapper();\r\n\r\n\tmapper.disable(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY);\r\n\r\n\tCsvSchema schema = CsvSchema.emptySchema().withHeader(); // use first row as header; otherwise defaults are fine\r\n\tMappingIterator&lt;Map&lt;String,String&gt;&gt; it = mapper.readerFor(Map.class)\r\n\t   .with(schema)\r\n\t   .readValues(csvFile);\r\n\t\r\n\t// We extract a list from the mapping Iterator\r\n\tList&lt;Map&lt;String, String&gt;&gt; readObjectsFromCsv = it.readAll() ;\r\n\t// Clean the list\r\n\treadObjectsFromCsv = cleanCSV(readObjectsFromCsv) ;\r\n\t\r\n\t// Build the JSON file\r\n\ttry {\r\n\t\t\r\n\t\tObjectMapper mapperObject = new ObjectMapper() ;\r\n\t\t\r\n\t\t// Write JSON formated data to output.json file\r\n\t\tmapperObject.writerWithDefaultPrettyPrinter().writeValue(new File(JSON_File),readObjectsFromCsv);\r\n\r\n\t\t\r\n\t\t} catch (JsonGenerationException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (JsonMappingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n### The output of this code ###\r\n\r\n    [ {\r\n     &quot;batters.batter[1].id&quot; : &quot;1001&quot;,\r\n     &quot;batters.batter[1].type&quot; : &quot;Regular&quot;,\r\n     &quot;batters.batter[2].id&quot; : &quot;1002&quot;,\r\n     &quot;batters.batter[2].type&quot; : &quot;Chocolate&quot;,\r\n     &quot;batters.batter[3].id&quot; : &quot;1003&quot;,\r\n     &quot;batters.batter[3].type&quot; : &quot;Blueberry&quot;,\r\n     &quot;batters.batter[4].id&quot; : &quot;1004&quot;,\r\n     &quot;batters.batter[4].type&quot; : &quot;Devil&#39;s Food&quot;,\r\n     &quot;id&quot; : &quot;0001&quot;,\r\n     &quot;name&quot; : &quot;Cake&quot;,\r\n     &quot;ppu&quot; : &quot;0.55&quot;,\r\n     &quot;topping[1].id&quot; : &quot;5001&quot;,\r\n     &quot;topping[1].type&quot; : &quot;None&quot;,\r\n     &quot;topping[2].id&quot; : &quot;5002&quot;,\r\n     &quot;topping[2].type&quot; : &quot;Glazed&quot;,\r\n     &quot;topping[3].id&quot; : &quot;5005&quot;,\r\n     &quot;topping[3].type&quot; : &quot;Sugar&quot;,\r\n     &quot;topping[4].id&quot; : &quot;5007&quot;,\r\n     &quot;topping[4].type&quot; : &quot;Powdered Sugar&quot;,\r\n     &quot;topping[5].id&quot; : &quot;5006&quot;,\r\n     &quot;topping[5].type&quot; : &quot;Chocolate with Sprinkles&quot;,\r\n     &quot;topping[6].id&quot; : &quot;5003&quot;,\r\n     &quot;topping[6].type&quot; : &quot;Chocolate&quot;,\r\n     &quot;topping[7].id&quot; : &quot;5004&quot;,\r\n     &quot;topping[7].type&quot; : &quot;Maple&quot;,\r\n     &quot;type&quot; : &quot;donut&quot;\r\n    } ]","title":"Convert a CSV file with objects to JSON using Jackson","body":"<p>I have to convert JSON files into CSV and vice-versa, i use the Jackson library.</p>\n\n<p>Going from JSON to CSV works well, for every type of data, including nested objects, but the counter way is much more harder, as the CSVMapper parse the CSV in a map, thus a couple .</p>\n\n<p>Even if my actual works for simple CSV files, it doesn't for CSV that should produce JSON objects like this</p>\n\n<h3>JSON File</h3>\n\n<pre><code>[\n    {\n        \"id\": \"0001\",\n        \"type\": \"donut\",\n        \"name\": \"Cake\",\n        \"ppu\": 0.55,\n        \"batters\":\n            {\n                \"batter\":\n                    [\n                        { \"id\": \"1001\", \"type\": \"Regular\" },\n                        { \"id\": \"1002\", \"type\": \"Chocolate\" },\n                        { \"id\": \"1003\", \"type\": \"Blueberry\" },\n                        { \"id\": \"1004\", \"type\": \"Devil's Food\" }\n                    ]\n            },\n        \"topping\":\n            [\n                { \"id\": \"5001\", \"type\": \"None\" },\n                { \"id\": \"5002\", \"type\": \"Glazed\" },\n                { \"id\": \"5005\", \"type\": \"Sugar\" },\n                { \"id\": \"5007\", \"type\": \"Powdered Sugar\" },\n                { \"id\": \"5006\", \"type\": \"Chocolate with Sprinkles\" },\n                { \"id\": \"5003\", \"type\": \"Chocolate\" },\n                { \"id\": \"5004\", \"type\": \"Maple\" }\n            ]\n    },\n]\n</code></pre>\n\n<h3>CSV file after the conversion</h3>\n\n<pre><code>batters.batter[1].id;batters.batter[1].type;batters.batter[2].id;batters.batter[2].type;batters.batter[3].id;batters.batter[3].type;batters.batter[4].id;batters.batter[4].type;id;name;ppu;topping[1].id;topping[1].type;topping[2].id;topping[2].type;topping[3].id;topping[3].type;topping[4].id;topping[4].type;topping[5].id;topping[5].type;topping[6].id;topping[6].type;topping[7].id;topping[7].type;type\n\n1001;Regular;1002;Chocolate;1003;Blueberry;1004;Devil's Food;0001;Cake;0.55;5001;None;5002;Glazed;5005;Sugar;5007;Powdered Sugar;5006;Chocolate with Sprinkles;5003;Chocolate;5004;Maple;donut\n</code></pre>\n\n<h2>CSV to JSON converter</h2>\n\n<pre><code>File csvFile = new File(CSV_File) ;\n// Get the name of the file, for the new one in JSON\n// String file_name = csvFile.getName().replaceFirst(\"[.][^.]+$\", \"\");;\n\nCsvMapper mapper = new CsvMapper();\n\nmapper.disable(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY);\n\nCsvSchema schema = CsvSchema.emptySchema().withHeader(); // use first row as header; otherwise defaults are fine\nMappingIterator&lt;Map&lt;String,String&gt;&gt; it = mapper.readerFor(Map.class)\n   .with(schema)\n   .readValues(csvFile);\n\n// We extract a list from the mapping Iterator\nList&lt;Map&lt;String, String&gt;&gt; readObjectsFromCsv = it.readAll() ;\n// Clean the list\nreadObjectsFromCsv = cleanCSV(readObjectsFromCsv) ;\n\n// Build the JSON file\ntry {\n\n    ObjectMapper mapperObject = new ObjectMapper() ;\n\n    // Write JSON formated data to output.json file\n    mapperObject.writerWithDefaultPrettyPrinter().writeValue(new File(JSON_File),readObjectsFromCsv);\n\n\n    } catch (JsonGenerationException e) {\n        e.printStackTrace();\n    } catch (JsonMappingException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<h3>The output of this code</h3>\n\n<pre><code>[ {\n \"batters.batter[1].id\" : \"1001\",\n \"batters.batter[1].type\" : \"Regular\",\n \"batters.batter[2].id\" : \"1002\",\n \"batters.batter[2].type\" : \"Chocolate\",\n \"batters.batter[3].id\" : \"1003\",\n \"batters.batter[3].type\" : \"Blueberry\",\n \"batters.batter[4].id\" : \"1004\",\n \"batters.batter[4].type\" : \"Devil's Food\",\n \"id\" : \"0001\",\n \"name\" : \"Cake\",\n \"ppu\" : \"0.55\",\n \"topping[1].id\" : \"5001\",\n \"topping[1].type\" : \"None\",\n \"topping[2].id\" : \"5002\",\n \"topping[2].type\" : \"Glazed\",\n \"topping[3].id\" : \"5005\",\n \"topping[3].type\" : \"Sugar\",\n \"topping[4].id\" : \"5007\",\n \"topping[4].type\" : \"Powdered Sugar\",\n \"topping[5].id\" : \"5006\",\n \"topping[5].type\" : \"Chocolate with Sprinkles\",\n \"topping[6].id\" : \"5003\",\n \"topping[6].type\" : \"Chocolate\",\n \"topping[7].id\" : \"5004\",\n \"topping[7].type\" : \"Maple\",\n \"type\" : \"donut\"\n} ]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1685819042,"post_id":76396606,"comment_id":134715493,"body_markdown":"Does this answer your question? [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685917320,"post_id":76396606,"comment_id":134724030,"body_markdown":"As I pointed out in a comment on your previous question, you aren&#39;t using the mock you create. You need to refactor your code so that a RequestClient instance is injected into CorrectionService.","body":"As I pointed out in a comment on your previous question, you aren&#39;t using the mock you create. You need to refactor your code so that a RequestClient instance is injected into CorrectionService."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685923692,"post_id":76396606,"comment_id":134724519,"body_markdown":"If you believe that you need to create different types of RequestClient, then inject a factory.","body":"If you believe that you need to create different types of RequestClient, then inject a factory."}],"answers":[{"tags":[],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685978339,"creation_date":1685977987,"answer_id":76407814,"question_id":76396606,"body_markdown":"Note that the library class was a generic. \r\n\r\nIn the service class, I had to create a bean for the library class like this:\r\n```\r\n@Bean(&quot;someName&quot;)\r\n&lt;T&gt; RequestClient&lt;T&gt; getClient(){\r\n   return new RequestClient&lt;&gt;();\r\n}\r\n```\r\n\r\nAnd then use it in the service like:\r\n```\r\nApiResponse&lt;BookingDetails&gt; apiResponse = (RequestClient&lt;BookingDetails&gt;)(applicationContext.getBean(&quot;someName&quot;)).send(bookingRequest, BookingDetails.class)\r\n```\r\n\r\nand then, in the test class, I was able to successfully mock the `RequestClient` with an INLINE mocking:\r\n\r\n```\r\n@Mock(mockMaker= MockMakers.INLINE)\r\nRequestClient&lt;?&gt; requestClient;\r\n```","title":"How to mock a third party library using Mockito?","body":"<p>Note that the library class was a generic.</p>\n<p>In the service class, I had to create a bean for the library class like this:</p>\n<pre><code>@Bean(&quot;someName&quot;)\n&lt;T&gt; RequestClient&lt;T&gt; getClient(){\n   return new RequestClient&lt;&gt;();\n}\n</code></pre>\n<p>And then use it in the service like:</p>\n<pre><code>ApiResponse&lt;BookingDetails&gt; apiResponse = (RequestClient&lt;BookingDetails&gt;)(applicationContext.getBean(&quot;someName&quot;)).send(bookingRequest, BookingDetails.class)\n</code></pre>\n<p>and then, in the test class, I was able to successfully mock the <code>RequestClient</code> with an INLINE mocking:</p>\n<pre><code>@Mock(mockMaker= MockMakers.INLINE)\nRequestClient&lt;?&gt; requestClient;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1685989270,"post_id":76408065,"comment_id":134735106,"body_markdown":"Nice! Thank you!","body":"Nice! Thank you!"}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685979981,"creation_date":1685979981,"answer_id":76408065,"question_id":76396606,"body_markdown":"I had previously overlooked the fact that in your service class you are newing up an instance of RequestClient in your service method.  There is nothing that you can create in your test that will allow you to replace what&#39;s coming out of the `new` operator.\r\n\r\nIn general, you should not be &quot;newing&quot; up instances; it goes against the principles of IoC.  You have two options if you want to get a mock here.  You can either Autowire the `RequestClient`, or, as one of the comments points out, Autowire a Factory that produces a `RequestClient`.  Here&#39;s an example for you to think over.\r\n\r\nFirst, create a factory.\r\n\r\n    @Component\r\n    public class RequestClientFactory {\r\n\r\n      public &lt;T&gt; RequestClient&lt;T&gt; createRequestClient() {\r\n        return new RequestClient&lt;T&gt;(new HttpClientFactory());\r\n      }\r\n    }\r\n\r\nInject this component into your service and use the factory method to get a new instance of RequestClient.\r\n\r\n\t@Service\r\n\tclass CorrectionService {\r\n\t  @Autowire\r\n      private RequestClientFactory requestClientFactory;\r\n\r\n      BookingDetails getData() {\r\n\t\tRequestClient &lt;BookingDetails&gt; requestClient = requestClientFactory.createRequestClient();\r\n\t\tApiResponse &lt;BookingDetails&gt; apiResponse =\r\n\t\t\t\t\trequestClient.send(bookingRequest, BookingDetails.class);\r\n\t\treturn apiResponse.getData();\r\n\t\r\n\t  }\r\n\t}\r\n\r\nIn your test, inject a mocked RequestClientFactory that returns your mocked RequestClient.\r\n\r\n    @InjectMocks\r\n    CorrectionService correctionService;\r\n\r\n    @Mock\r\n    private RequestClientFactory requestClientFactory;\r\n\r\n\t@Test\r\n\tvoid test(){\r\n\t\tRequestClient requestClient = mock(RequestClient.class);\r\n        // Your factory has been injected into your service as a mock, \r\n        // so instruct the mocked factory to return your mocked \r\n        // RequestClient when createRequestClient is called.\r\n        when(requestClientFactory.createRequestClient()).thenReturn(requestClient);\r\n\t\tApiResponse apiResponse = ApiResponse.builder().build();\r\n\t\twhen(requestClient.send(any(),any(Class.class))).thenReturn(apiResponse);\r\n\r\n        // Now, inside this method when the factory is called, it&#39;s going to return your mocked RequestClient\r\n\t\tassertAll(() -&gt; correctionService.getData());\r\n\t}\r\n","title":"How to mock a third party library using Mockito?","body":"<p>I had previously overlooked the fact that in your service class you are newing up an instance of RequestClient in your service method.  There is nothing that you can create in your test that will allow you to replace what's coming out of the <code>new</code> operator.</p>\n<p>In general, you should not be &quot;newing&quot; up instances; it goes against the principles of IoC.  You have two options if you want to get a mock here.  You can either Autowire the <code>RequestClient</code>, or, as one of the comments points out, Autowire a Factory that produces a <code>RequestClient</code>.  Here's an example for you to think over.</p>\n<p>First, create a factory.</p>\n<pre><code>@Component\npublic class RequestClientFactory {\n\n  public &lt;T&gt; RequestClient&lt;T&gt; createRequestClient() {\n    return new RequestClient&lt;T&gt;(new HttpClientFactory());\n  }\n}\n</code></pre>\n<p>Inject this component into your service and use the factory method to get a new instance of RequestClient.</p>\n<pre><code>@Service\nclass CorrectionService {\n  @Autowire\n  private RequestClientFactory requestClientFactory;\n\n  BookingDetails getData() {\n    RequestClient &lt;BookingDetails&gt; requestClient = requestClientFactory.createRequestClient();\n    ApiResponse &lt;BookingDetails&gt; apiResponse =\n                requestClient.send(bookingRequest, BookingDetails.class);\n    return apiResponse.getData();\n\n  }\n}\n</code></pre>\n<p>In your test, inject a mocked RequestClientFactory that returns your mocked RequestClient.</p>\n<pre><code>@InjectMocks\nCorrectionService correctionService;\n\n@Mock\nprivate RequestClientFactory requestClientFactory;\n\n@Test\nvoid test(){\n    RequestClient requestClient = mock(RequestClient.class);\n    // Your factory has been injected into your service as a mock, \n    // so instruct the mocked factory to return your mocked \n    // RequestClient when createRequestClient is called.\n    when(requestClientFactory.createRequestClient()).thenReturn(requestClient);\n    ApiResponse apiResponse = ApiResponse.builder().build();\n    when(requestClient.send(any(),any(Class.class))).thenReturn(apiResponse);\n\n    // Now, inside this method when the factory is called, it's going to return your mocked RequestClient\n    assertAll(() -&gt; correctionService.getData());\n}\n</code></pre>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76407814,"answer_count":2,"score":0,"last_activity_date":1685979981,"creation_date":1685804140,"question_id":76396606,"body_markdown":"In my Java service, I use a library to interact with some APIs under the hood andget some response as shown below:\r\n\r\n```\r\n@Service\r\nclass CorrectionService {\r\n\r\n  BookingDetails getData() {\r\n\r\n    RequestClient &lt;BookingDetails&gt; requestClient = new RequestClient &lt;&gt; (new HttpClientFactory());\r\n    ApiResponse &lt;BookingDetails&gt; apiResponse =\r\n      requestClient.send(bookingRequest, BookingDetails.class);\r\n    return apiResponse.getData();\r\n\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\n`RequestClient` is a library util class and I create an object of this class when the method `correctionservice.getData()` is called. Note that there are multiple such methods in the `CorrectionService` class, each of them creating different types of `RequestClient` objects. So, I can&#39;t *autowire* `RequestClient` in `CorrectionService`.\r\n\r\nHow can I mock `apiResponse` so that it will not actually call `requestClient.send()`\r\n\r\nI tried the below mocking code, but it is still going inside the `send()` method of library and calling the actual APIs. \r\n```\r\n@InjectMocks\r\nCorrectionService correctionService;\r\n\r\n@Test\r\nvoid test(){\r\n  RequestClient requestClient = mock(RequestClient.class);\r\n  ApiResponse apiResponse = ApiResponse.builder().build();\r\n  when(requestClient.send(any(),any(Class.class))).thenReturn(apiResponse);\r\n  assertAll(() -&gt; correctionService.getData());\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How to mock a third party library using Mockito?","body":"<p>In my Java service, I use a library to interact with some APIs under the hood andget some response as shown below:</p>\n<pre><code>@Service\nclass CorrectionService {\n\n  BookingDetails getData() {\n\n    RequestClient &lt;BookingDetails&gt; requestClient = new RequestClient &lt;&gt; (new HttpClientFactory());\n    ApiResponse &lt;BookingDetails&gt; apiResponse =\n      requestClient.send(bookingRequest, BookingDetails.class);\n    return apiResponse.getData();\n\n  }\n\n}\n\n</code></pre>\n<p><code>RequestClient</code> is a library util class and I create an object of this class when the method <code>correctionservice.getData()</code> is called. Note that there are multiple such methods in the <code>CorrectionService</code> class, each of them creating different types of <code>RequestClient</code> objects. So, I can't <em>autowire</em> <code>RequestClient</code> in <code>CorrectionService</code>.</p>\n<p>How can I mock <code>apiResponse</code> so that it will not actually call <code>requestClient.send()</code></p>\n<p>I tried the below mocking code, but it is still going inside the <code>send()</code> method of library and calling the actual APIs.</p>\n<pre><code>@InjectMocks\nCorrectionService correctionService;\n\n@Test\nvoid test(){\n  RequestClient requestClient = mock(RequestClient.class);\n  ApiResponse apiResponse = ApiResponse.builder().build();\n  when(requestClient.send(any(),any(Class.class))).thenReturn(apiResponse);\n  assertAll(() -&gt; correctionService.getData());\n}\n</code></pre>\n"},{"tags":["java","image-compression"],"owner":{"account_id":28758039,"reputation":1,"user_id":22024635,"display_name":"이우용"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685979802,"creation_date":1685979802,"question_id":76408048,"body_markdown":"So I&#39;ve been trying to make a compressor app using an online video, but something&#39;s just not right. I&#39;ve been getting errors with the compress button, and the size isn&#39;t showing, either.\r\n\r\nI just don&#39;t know what the problem seems to be. It&#39;s my first time asking here. So I&#39;ll post the full code, just in case.\r\n\r\nHelp.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        public static final int RESULT_IMAGE=1;\r\n        ImageView imgOriginal, imgCompressed;\r\n        TextView txtOriginal, txtCompressed, txtQuality;\r\n        EditText txtHeight, txtWidth;\r\n        SeekBar seekBar;\r\n        Button btnPick, btnCompress;\r\n        File originalImage, compressedImage;\r\n        private static String filepath;\r\n        File path=new File(Environment.getExternalStorageDirectory().getAbsolutePath()+&quot;/myCompressor&quot;);\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            askPermission();\r\n    \r\n            imgOriginal=findViewById(R.id.imgOriginal);\r\n            imgCompressed=findViewById(R.id.imgCompressed);\r\n            txtOriginal=findViewById(R.id.txtOriginal);\r\n            txtCompressed=findViewById(R.id.txtCompressed);\r\n            txtQuality=findViewById(R.id.txtQuality);\r\n            txtHeight=findViewById(R.id.txtHeight);\r\n            txtWidth=findViewById(R.id.txtWidth);\r\n            seekBar=findViewById(R.id.seekQuality);\r\n            btnPick=findViewById(R.id.btnPick);\r\n            btnCompress=findViewById(R.id.btnCompress);\r\n    \r\n            filepath=path.getAbsolutePath();\r\n            if (!path.exists()){\r\n                path.mkdirs();\r\n            }\r\n            seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n                txtQuality.setText(&quot;Quality: &quot;+ i);\r\n                seekBar.setMax(100);\r\n            }\r\n            @Override\r\n                public void onStartTrackingTouch(SeekBar seekBar) {\r\n                }\r\n                @Override\r\n                public void onStopTrackingTouch(SeekBar seekBar) {\r\n                }\r\n                });\r\n            btnPick.setOnClickListener(view -&gt; openGallery());\r\n            btnCompress.setOnClickListener(view -&gt; {\r\n                int quality=seekBar.getProgress();\r\n                int width=Integer.parseInt(txtWidth.getText().toString());\r\n                int height=Integer.parseInt(txtHeight.getText().toString());\r\n            \r\n                try {\r\n                    compressedImage=new Compressor(MainActivity.this)\r\n                            .setMaxWidth(width)\r\n                            .setMaxHeight(height)\r\n                            .setQuality(quality)\r\n                            .setCompressFormat(Bitmap.CompressFormat.JPEG)\r\n                            .setDestinationDirectoryPath(filepath)\r\n                            .compressToFile(originalImage);\r\n                    File finalFile=new File(filepath,originalImage.getName());\r\n                    Bitmap finalBitmap=BitmapFactory.decodeFile(finalFile.getAbsolutePath());\r\n                    imgCompressed.setImageBitmap(finalBitmap);\r\n                    txtCompressed.setText(&quot;Size: &quot;+Formatter.formatShortFileSize(MainActivity.this, finalFile.length()));\r\n                Toast.makeText(MainActivity.this, &quot;Image Compressed and Saved!&quot;, Toast.LENGTH_SHORT).show();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                Toast.makeText(MainActivity.this, &quot;Error!&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n            }\r\n        });\r\n    }\r\n    \r\n    private void openGallery() {\r\n        Intent gallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\r\n        startActivityForResult(gallery, RESULT_IMAGE);\r\n    }\r\n    \r\n    @Override\r\n    protected void onActivityResult(int requestCode,int resultCode, @Nullable Intent data){\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (resultCode==RESULT_OK){\r\n            btnCompress.setVisibility(View.VISIBLE);\r\n            assert data != null;\r\n            final Uri imageUri=data.getData();\r\n            try{\r\n                final InputStream imageStream=getContentResolver().openInputStream(imageUri);\r\n                final Bitmap selectedImage= BitmapFactory.decodeStream(imageStream);\r\n                imgOriginal.setImageBitmap(selectedImage);\r\n                originalImage=new File(imageUri.getPath().replace(&quot;raw/&quot;,&quot;&quot;));\r\n                txtOriginal.setText(&quot;Size: &quot; + Formatter.formatShortFileSize(MainActivity.this, originalImage.length()));\r\n    \r\n            }catch (FileNotFoundException e){\r\n                e.printStackTrace();\r\n                Toast.makeText(this, &quot;Something Went Wrong!&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n        else{\r\n            Toast.makeText(this, &quot;No Image Selected&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n    \r\n    private void askPermission() {\r\n        Dexter.withContext(this)\r\n                .withPermissions(\r\n                        Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                        Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                .withListener(new MultiplePermissionsListener() {\r\n                    @Override\r\n                    public void onPermissionsChecked(MultiplePermissionsReport multiplePermissionsReport) {\r\n    \r\n                    }\r\n    \r\n                    @Override\r\n                    public void onPermissionRationaleShouldBeShown(List&lt;PermissionRequest&gt; list, PermissionToken permissionToken) {\r\n                        permissionToken.continuePermissionRequest();\r\n    \r\n                    }\r\n                }).check();\r\n    }\r\n\r\n}","title":"Image Compressor","body":"<p>So I've been trying to make a compressor app using an online video, but something's just not right. I've been getting errors with the compress button, and the size isn't showing, either.</p>\n<p>I just don't know what the problem seems to be. It's my first time asking here. So I'll post the full code, just in case.</p>\n<p>Help.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public static final int RESULT_IMAGE=1;\n    ImageView imgOriginal, imgCompressed;\n    TextView txtOriginal, txtCompressed, txtQuality;\n    EditText txtHeight, txtWidth;\n    SeekBar seekBar;\n    Button btnPick, btnCompress;\n    File originalImage, compressedImage;\n    private static String filepath;\n    File path=new File(Environment.getExternalStorageDirectory().getAbsolutePath()+&quot;/myCompressor&quot;);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        askPermission();\n\n        imgOriginal=findViewById(R.id.imgOriginal);\n        imgCompressed=findViewById(R.id.imgCompressed);\n        txtOriginal=findViewById(R.id.txtOriginal);\n        txtCompressed=findViewById(R.id.txtCompressed);\n        txtQuality=findViewById(R.id.txtQuality);\n        txtHeight=findViewById(R.id.txtHeight);\n        txtWidth=findViewById(R.id.txtWidth);\n        seekBar=findViewById(R.id.seekQuality);\n        btnPick=findViewById(R.id.btnPick);\n        btnCompress=findViewById(R.id.btnCompress);\n\n        filepath=path.getAbsolutePath();\n        if (!path.exists()){\n            path.mkdirs();\n        }\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n        @Override\n        public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n            txtQuality.setText(&quot;Quality: &quot;+ i);\n            seekBar.setMax(100);\n        }\n        @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n            }\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n            }\n            });\n        btnPick.setOnClickListener(view -&gt; openGallery());\n        btnCompress.setOnClickListener(view -&gt; {\n            int quality=seekBar.getProgress();\n            int width=Integer.parseInt(txtWidth.getText().toString());\n            int height=Integer.parseInt(txtHeight.getText().toString());\n        \n            try {\n                compressedImage=new Compressor(MainActivity.this)\n                        .setMaxWidth(width)\n                        .setMaxHeight(height)\n                        .setQuality(quality)\n                        .setCompressFormat(Bitmap.CompressFormat.JPEG)\n                        .setDestinationDirectoryPath(filepath)\n                        .compressToFile(originalImage);\n                File finalFile=new File(filepath,originalImage.getName());\n                Bitmap finalBitmap=BitmapFactory.decodeFile(finalFile.getAbsolutePath());\n                imgCompressed.setImageBitmap(finalBitmap);\n                txtCompressed.setText(&quot;Size: &quot;+Formatter.formatShortFileSize(MainActivity.this, finalFile.length()));\n            Toast.makeText(MainActivity.this, &quot;Image Compressed and Saved!&quot;, Toast.LENGTH_SHORT).show();\n        } catch (IOException e) {\n            e.printStackTrace();\n            Toast.makeText(MainActivity.this, &quot;Error!&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    });\n}\n\nprivate void openGallery() {\n    Intent gallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\n    startActivityForResult(gallery, RESULT_IMAGE);\n}\n\n@Override\nprotected void onActivityResult(int requestCode,int resultCode, @Nullable Intent data){\n    super.onActivityResult(requestCode, resultCode, data);\n    if (resultCode==RESULT_OK){\n        btnCompress.setVisibility(View.VISIBLE);\n        assert data != null;\n        final Uri imageUri=data.getData();\n        try{\n            final InputStream imageStream=getContentResolver().openInputStream(imageUri);\n            final Bitmap selectedImage= BitmapFactory.decodeStream(imageStream);\n            imgOriginal.setImageBitmap(selectedImage);\n            originalImage=new File(imageUri.getPath().replace(&quot;raw/&quot;,&quot;&quot;));\n            txtOriginal.setText(&quot;Size: &quot; + Formatter.formatShortFileSize(MainActivity.this, originalImage.length()));\n\n        }catch (FileNotFoundException e){\n            e.printStackTrace();\n            Toast.makeText(this, &quot;Something Went Wrong!&quot;,Toast.LENGTH_SHORT).show();\n        }\n    }\n    else{\n        Toast.makeText(this, &quot;No Image Selected&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n\nprivate void askPermission() {\n    Dexter.withContext(this)\n            .withPermissions(\n                    Manifest.permission.READ_EXTERNAL_STORAGE,\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE)\n            .withListener(new MultiplePermissionsListener() {\n                @Override\n                public void onPermissionsChecked(MultiplePermissionsReport multiplePermissionsReport) {\n\n                }\n\n                @Override\n                public void onPermissionRationaleShouldBeShown(List&lt;PermissionRequest&gt; list, PermissionToken permissionToken) {\n                    permissionToken.continuePermissionRequest();\n\n                }\n            }).check();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1686025260,"post_id":76407954,"comment_id":134738917,"body_markdown":"can you tell us clearly what you want?","body":"can you tell us clearly what you want?"},{"owner":{"account_id":28758158,"reputation":1,"user_id":22024718,"display_name":"Swasthik Acharya"},"score":0,"creation_date":1686041059,"post_id":76407954,"comment_id":134741129,"body_markdown":"i want to add onclicklistener so that i could jump to another activity","body":"i want to add onclicklistener so that i could jump to another activity"},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1686054542,"post_id":76407954,"comment_id":134743967,"body_markdown":"As I am watching. Your code should not contain errors. He seems to be right.","body":"As I am watching. Your code should not contain errors. He seems to be right."}],"owner":{"account_id":28758158,"reputation":1,"user_id":22024718,"display_name":"Swasthik Acharya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685979212,"creation_date":1685979212,"question_id":76407954,"body_markdown":" @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n       \r\n        View v = inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n\r\n        qr= v.findViewById(R.id.qrb); \r\n\r\n        qr.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n\r\n                Intent intent=new Intent(getActivity(),payphno.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n       \r\n        View v = inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n\r\n        qr= v.findViewById(R.id.qrb); \r\n\r\n        qr.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n\r\n                Intent intent=new Intent(getActivity(),payphno.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\nwas expecting to jump to another page or activity\r\n","title":"how add onclicklistener to a fragment from which i want to jump to another activity","body":"<p>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\nBundle savedInstanceState) {</p>\n<pre><code>    View v = inflater.inflate(R.layout.fragment_home, container, false);\n\n\n    qr= v.findViewById(R.id.qrb); \n\n    qr.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v)\n        {\n\n            Intent intent=new Intent(getActivity(),payphno.class);\n            startActivity(intent);\n        }\n    });\n</code></pre>\n<p>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\nBundle savedInstanceState) {</p>\n<pre><code>    View v = inflater.inflate(R.layout.fragment_home, container, false);\n\n\n    qr= v.findViewById(R.id.qrb); \n\n    qr.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v)\n        {\n\n            Intent intent=new Intent(getActivity(),payphno.class);\n            startActivity(intent);\n        }\n    });\n</code></pre>\n<p>was expecting to jump to another page or activity</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1685970324,"post_id":76406619,"comment_id":134730933,"body_markdown":"Do you have an example project or this one on github or alike?","body":"Do you have an example project or this one on github or alike?"},{"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"score":0,"creation_date":1685970441,"post_id":76406619,"comment_id":134730972,"body_markdown":"@khmarbaise No, but I can create one if it&#39;s necessary.","body":"@khmarbaise No, but I can create one if it&#39;s necessary."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1685970784,"post_id":76406619,"comment_id":134731054,"body_markdown":"Would be great so we can give concrete hint where to change/improve...","body":"Would be great so we can give concrete hint where to change/improve..."},{"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"score":0,"creation_date":1685972257,"post_id":76406619,"comment_id":134731394,"body_markdown":"@khmarbaise https://github.com/jnemecz/multimodule-sandbox","body":"@khmarbaise <a href=\"https://github.com/jnemecz/multimodule-sandbox\" rel=\"nofollow noreferrer\">github.com/jnemecz/multimodule-sandbox</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1685972616,"post_id":76406619,"comment_id":134731487,"body_markdown":"Is that correct that you are mixing spring boot 2.7.X and spring boot 3?","body":"Is that correct that you are mixing spring boot 2.7.X and spring boot 3?"},{"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"score":0,"creation_date":1685972740,"post_id":76406619,"comment_id":134731520,"body_markdown":"@khmarbaise No, it&#39;s supposed to be 2.7, that would be a quick sample of the structure, I&#39;ll fix the library versions - fixed","body":"@khmarbaise No, it&#39;s supposed to be 2.7, that would be a quick sample of the structure, I&#39;ll fix the library versions - fixed"},{"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"score":0,"creation_date":1685973063,"post_id":76406619,"comment_id":134731579,"body_markdown":"@khmarbaise Fixed.","body":"@khmarbaise Fixed."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1685974597,"post_id":76406619,"comment_id":134731955,"body_markdown":"Added PR to create a full working example....take a look...","body":"Added PR to create a full working example....take a look..."},{"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"score":0,"creation_date":1685976662,"post_id":76406619,"comment_id":134732469,"body_markdown":"@khmarbaise Perfect, now it works! Feel free to post an answer, it will be accepted.","body":"@khmarbaise Perfect, now it works! Feel free to post an answer, it will be accepted."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1685979126,"post_id":76406619,"comment_id":134733170,"body_markdown":"You should update your post because you have deleted the github repository...","body":"You should update your post because you have deleted the github repository..."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685979094,"creation_date":1685979094,"answer_id":76407939,"question_id":76406619,"body_markdown":"The parent of the project should look like this:\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;example&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;modules&gt;\r\n            &lt;module&gt;sandbox-backend&lt;/module&gt;\r\n            &lt;module&gt;sandbox-commons&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.12&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;deriva.commons.version&gt;1.79&lt;/deriva.commons.version&gt;\r\n            &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;cz.deriva.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;deriva-commons&lt;/artifactId&gt;\r\n                    &lt;version&gt;${deriva.commons.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.12.0&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\nSo the first module (`sandbox-commons`):\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;example&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;artifactId&gt;sandbox-commons&lt;/artifactId&gt;\r\n    &lt;/project&gt;\r\n\r\nand the last module (`sandbox-backend`):\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;example&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;artifactId&gt;sandbox-backend&lt;/artifactId&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;","title":"How to build multimodule Spring/Maven project as standalone executable jar?","body":"<p>The parent of the project should look like this:</p>\n\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;sandbox-backend&lt;/module&gt;\n        &lt;module&gt;sandbox-commons&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.12&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;deriva.commons.version&gt;1.79&lt;/deriva.commons.version&gt;\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;cz.deriva.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;deriva-commons&lt;/artifactId&gt;\n                &lt;version&gt;${deriva.commons.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n                &lt;version&gt;3.12.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>So the first module (<code>sandbox-commons</code>):</p>\n\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;example&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;sandbox-commons&lt;/artifactId&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and the last module (<code>sandbox-backend</code>):</p>\n\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;example&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;sandbox-backend&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685979094,"creation_date":1685969654,"question_id":76406619,"body_markdown":"**Github example:** https://github.com/jnemecz/multimodule-sandbox\r\n\r\n---\r\n\r\nI went through several articles regarding multi module Maven/Spring projects, most of them deal with the structure but do not explain the principle of building a standalone executable `jar` of the given sub-project.\r\n\r\nUntil now I used to separate Spring/Maven projects into separated directories and with `spring-boot-maven-plugin` set up the executable of the given project. All projects has one separated build configuration.\r\n\r\nNow I want to combine four separate projects into one and divide them using modules in this structure:\r\n\r\n- {parent} &lt;- `pom`\r\n- data &lt;- `jar`, executable\r\n- commons &lt;- `jar`, libraries, not executable\r\n- backend &lt;- `jar`, executable\r\n- infrastructure &lt;- `jar`, libraries, not executable\r\n\r\nNow I&#39;m not sure how the module build works in this multi module project. I imagine that I build the `backend` module using `spring-boot-maven-plugin`, I will build it with `mvn clean package -P{profile}` and it will automatically build all dependencies (`commons` module and external Maven libraries) and create executable `jar` file as usual.\r\n\r\nThis is parent `pom.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;example&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;modules&gt;\r\n            &lt;module&gt;example-backend&lt;/module&gt;\r\n            &lt;module&gt;example-data&lt;/module&gt;\r\n            &lt;module&gt;example-commons&lt;/module&gt;\r\n            &lt;module&gt;example-infrastructure&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;deriva.commons.version&gt;1.79&lt;/deriva.commons.version&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;cz.deriva.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;deriva-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;${deriva.commons.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nand this is `pom.xml` from &quot;module project&quot; `backend`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;example&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;artifactId&gt;example-backend&lt;/artifactId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;start.class&gt;com.example.backend.ApplicationRoot&lt;/start.class&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                &lt;artifactId&gt;example-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;executable&gt;true&lt;/executable&gt;\r\n                        &lt;mainClass&gt;${start.class}&lt;/mainClass&gt;\r\n                        &lt;layout&gt;JAR&lt;/layout&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nWhen I run `mvn clean package -Pproduction` to build a production ready `jar` this error occures:\r\n\r\n&gt; [ERROR] Failed to execute goal on project example-backend: Could not\r\n&gt; resolve dependencies for project com.example:example-backend:jar:1.0:\r\n&gt; com.example:example-commons:jar:1.0 was not found in\r\n&gt; https://repo.maven.apache.org/maven2 during a previous attempt. This\r\n&gt; failure was cached in the local repository and resolution is not\r\n&gt; reattempted until the update interval of central has elapsed or\r\n&gt; updates are forced -&gt; [Help 1]\r\n\r\nWhat am I doing wrong?","title":"How to build multimodule Spring/Maven project as standalone executable jar?","body":"<p><strong>Github example:</strong> <a href=\"https://github.com/jnemecz/multimodule-sandbox\" rel=\"nofollow noreferrer\">https://github.com/jnemecz/multimodule-sandbox</a></p>\n<hr />\n<p>I went through several articles regarding multi module Maven/Spring projects, most of them deal with the structure but do not explain the principle of building a standalone executable <code>jar</code> of the given sub-project.</p>\n<p>Until now I used to separate Spring/Maven projects into separated directories and with <code>spring-boot-maven-plugin</code> set up the executable of the given project. All projects has one separated build configuration.</p>\n<p>Now I want to combine four separate projects into one and divide them using modules in this structure:</p>\n<ul>\n<li>{parent} &lt;- <code>pom</code></li>\n<li>data &lt;- <code>jar</code>, executable</li>\n<li>commons &lt;- <code>jar</code>, libraries, not executable</li>\n<li>backend &lt;- <code>jar</code>, executable</li>\n<li>infrastructure &lt;- <code>jar</code>, libraries, not executable</li>\n</ul>\n<p>Now I'm not sure how the module build works in this multi module project. I imagine that I build the <code>backend</code> module using <code>spring-boot-maven-plugin</code>, I will build it with <code>mvn clean package -P{profile}</code> and it will automatically build all dependencies (<code>commons</code> module and external Maven libraries) and create executable <code>jar</code> file as usual.</p>\n<p>This is parent <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;example-backend&lt;/module&gt;\n        &lt;module&gt;example-data&lt;/module&gt;\n        &lt;module&gt;example-commons&lt;/module&gt;\n        &lt;module&gt;example-infrastructure&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;deriva.commons.version&gt;1.79&lt;/deriva.commons.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;cz.deriva.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;deriva-commons&lt;/artifactId&gt;\n            &lt;version&gt;${deriva.commons.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>and this is <code>pom.xml</code> from &quot;module project&quot; <code>backend</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;example&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;example-backend&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;start.class&gt;com.example.backend.ApplicationRoot&lt;/start.class&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;example-commons&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                    &lt;mainClass&gt;${start.class}&lt;/mainClass&gt;\n                    &lt;layout&gt;JAR&lt;/layout&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When I run <code>mvn clean package -Pproduction</code> to build a production ready <code>jar</code> this error occures:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal on project example-backend: Could not\nresolve dependencies for project com.example:example-backend:jar:1.0:\ncom.example:example-commons:jar:1.0 was not found in\n<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> during a previous attempt. This\nfailure was cached in the local repository and resolution is not\nreattempted until the update interval of central has elapsed or\nupdates are forced -&gt; [Help 1]</p>\n</blockquote>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","swt"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1685975307,"post_id":76406827,"comment_id":134732132,"body_markdown":"Far easier to have one browse button that displays the currently selected table item.","body":"Far easier to have one browse button that displays the currently selected table item."},{"owner":{"account_id":28682989,"reputation":7,"user_id":21963792,"display_name":"vmaya003"},"score":0,"creation_date":1685977345,"post_id":76406827,"comment_id":134732687,"body_markdown":"I need to select different file for each item, and hence need multiple browse button","body":"I need to select different file for each item, and hence need multiple browse button"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1685977607,"post_id":76406827,"comment_id":134732756,"body_markdown":"I don&#39;t see why needing different files requires different buttons. The code for the buton selection can work out which file from the selected table item.","body":"I don&#39;t see why needing different files requires different buttons. The code for the buton selection can work out which file from the selected table item."},{"owner":{"account_id":28682989,"reputation":7,"user_id":21963792,"display_name":"vmaya003"},"score":0,"creation_date":1685978840,"post_id":76406827,"comment_id":134733093,"body_markdown":"Okay the requirement : there is one input file for one module and i need to select three different files for three modules in order to generate an output file. i have added an image for reference","body":"Okay the requirement : there is one input file for one module and i need to select three different files for three modules in order to generate an output file. i have added an image for reference"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1685982575,"post_id":76406827,"comment_id":134733929,"body_markdown":"I wouldn&#39;t use a Table for that at all, just a few rows of Label + Button (or Text + Button).","body":"I wouldn&#39;t use a Table for that at all, just a few rows of Label + Button (or Text + Button)."},{"owner":{"account_id":28682989,"reputation":7,"user_id":21963792,"display_name":"vmaya003"},"score":0,"creation_date":1686013025,"post_id":76406827,"comment_id":134738046,"body_markdown":"Can youu help with the code?","body":"Can youu help with the code?"}],"owner":{"account_id":28682989,"reputation":7,"user_id":21963792,"display_name":"vmaya003"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685978950,"creation_date":1685971128,"question_id":76406827,"body_markdown":"[![enter image description here][1]][1]I am trying to display the table items for which I should have browse button at the right side to select each item&#39;s file from the file explorer\r\n\r\n     `Table table = new Table(shell, SWT.NONE );\r\n\t\ttable.setBounds(10, 75, 250, 300);\r\n\t\tString modDisp[] = {&quot;ITEM1&quot;,&quot;ITEM2&quot;,&quot;ITEM3&quot;};\r\n\t\tfor(int i=0;i&lt;modDisp.length;i++)\r\n\t\t{\r\n\t\t\titems = new TableItem(table, SWT.NONE);\r\n\t\t\titems.setText(modDisp[i]);\r\n\t\t}`    \r\n\t\t\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/otDM2.png","title":"In JAVA SWT , How to display tableitem along with browse button for each item in the right side?","body":"<p><a href=\"https://i.stack.imgur.com/otDM2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/otDM2.png\" alt=\"enter image description here\" /></a>I am trying to display the table items for which I should have browse button at the right side to select each item's file from the file explorer</p>\n<pre><code> `Table table = new Table(shell, SWT.NONE );\n    table.setBounds(10, 75, 250, 300);\n    String modDisp[] = {&quot;ITEM1&quot;,&quot;ITEM2&quot;,&quot;ITEM3&quot;};\n    for(int i=0;i&lt;modDisp.length;i++)\n    {\n        items = new TableItem(table, SWT.NONE);\n        items.setText(modDisp[i]);\n    }`    \n    \n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":28578968,"reputation":111,"user_id":21880187,"display_name":"Abhishek Mishra"},"score":0,"creation_date":1685968239,"post_id":76406219,"comment_id":134730465,"body_markdown":"Please check your browser dev-tools network for HTTP messages between browser and server. Server is redirecting with 3xx response for /login to some other url in location header. Please trace the network call to identify the source of redirection in your server side code viz. any other security filter, url interceptor etc.","body":"Please check your browser dev-tools network for HTTP messages between browser and server. Server is redirecting with 3xx response for /login to some other url in location header. Please trace the network call to identify the source of redirection in your server side code viz. any other security filter, url interceptor etc."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1685984958,"post_id":76406219,"comment_id":134734360,"body_markdown":"why not enable spring security trace logs and read them?","body":"why not enable spring security trace logs and read them?"},{"owner":{"account_id":28756329,"reputation":54,"user_id":22023284,"display_name":"Mergo"},"score":0,"creation_date":1686060063,"post_id":76406219,"comment_id":134745261,"body_markdown":"Because I didn&#39;t know that there is such a thing as trace logs. But I did it now and found the issue. My server was okey, the issue was in my requests. They need to have content-type : application/json and now it works. Thank you very much!","body":"Because I didn&#39;t know that there is such a thing as trace logs. But I did it now and found the issue. My server was okey, the issue was in my requests. They need to have content-type : application/json and now it works. Thank you very much!"},{"owner":{"account_id":28756329,"reputation":54,"user_id":22023284,"display_name":"Mergo"},"score":0,"creation_date":1686060303,"post_id":76406219,"comment_id":134745336,"body_markdown":"It was also necessary to call .csrf().disable() by the way.","body":"It was also necessary to call .csrf().disable() by the way."}],"owner":{"account_id":28756329,"reputation":54,"user_id":22023284,"display_name":"Mergo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685978806,"creation_date":1685966519,"question_id":76406219,"body_markdown":"I don&#39;t have much experience with Java Spring and am currently trying to program a server. My WebSecurityConfig can be seen below. When I try to call /login I get ERR_TOO_MANY_REDIRECTS. I don&#39;t understand where exactly the redirection takes place. Can anyone explain to me?\r\n\r\nI just want the login page to come up when you go to the login web address. It&#39;s currently running locally for me, so the web address is http://localhost:8080/login\r\n\r\nEDIT: The status code of the response is 302. If I add a login.html file to the project, it works for /login.html, but if I try http://localhost:8080/api/v1/registration/ then, I am redirected to /login.html again. And if I remove the .formLogin(...) part, and try to call http://localhost:8080/api/v1/registration/, then it returns 403 Forbidden.\r\n\r\nThanks!\r\n\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    private final AppUserService appUserService;\r\n    private final BCryptPasswordEncoder passwordEncoder;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .requestMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin(formLogin -&gt; formLogin\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .permitAll()\r\n                );\r\n\r\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.authenticationProvider(daoAuthenticationProvider());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider =\r\n                new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(passwordEncoder);\r\n        provider.setUserDetailsService(appUserService);\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\nI tried reading the documentation but didn&#39;t help me much.","title":"Java Spring ERR_TOO_MANY_REDIRECTS","body":"<p>I don't have much experience with Java Spring and am currently trying to program a server. My WebSecurityConfig can be seen below. When I try to call /login I get ERR_TOO_MANY_REDIRECTS. I don't understand where exactly the redirection takes place. Can anyone explain to me?</p>\n<p>I just want the login page to come up when you go to the login web address. It's currently running locally for me, so the web address is http://localhost:8080/login</p>\n<p>EDIT: The status code of the response is 302. If I add a login.html file to the project, it works for /login.html, but if I try http://localhost:8080/api/v1/registration/ then, I am redirected to /login.html again. And if I remove the .formLogin(...) part, and try to call http://localhost:8080/api/v1/registration/, then it returns 403 Forbidden.</p>\n<p>Thanks!</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    private final AppUserService appUserService;\n    private final BCryptPasswordEncoder passwordEncoder;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .formLogin(formLogin -&gt; formLogin\n                        .loginPage(&quot;/login&quot;)\n                        .permitAll()\n                );\n\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.authenticationProvider(daoAuthenticationProvider());\n\n        return http.build();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider =\n                new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder);\n        provider.setUserDetailsService(appUserService);\n        return provider;\n    }\n}\n</code></pre>\n<p>I tried reading the documentation but didn't help me much.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5856345,"reputation":697,"user_id":4613465,"display_name":"Fatorice"},"score":5,"creation_date":1685879989,"post_id":76400285,"comment_id":134719836,"body_markdown":"What happens in the case, when T isn&#39;t a Person? However I think this is not how you want to use generics in general. As the name implies, generics work with any kind of object you use it with. So I suggest you, that you take a look at generic constraints (e.g. the where keyword in this case) and that you add an interface ```Writeable``` e.g. which adds a ```toLine``` method or something. Then you can constraint T to implement this interface and simply call the ```toLine``` method on any object which is passed to ```writeToFile```","body":"What happens in the case, when T isn&#39;t a Person? However I think this is not how you want to use generics in general. As the name implies, generics work with any kind of object you use it with. So I suggest you, that you take a look at generic constraints (e.g. the where keyword in this case) and that you add an interface <code>Writeable</code> e.g. which adds a <code>toLine</code> method or something. Then you can constraint T to implement this interface and simply call the <code>toLine</code> method on any object which is passed to <code>writeToFile</code>"},{"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"score":1,"creation_date":1685880427,"post_id":76400285,"comment_id":134719874,"body_markdown":"away from the generic topic , since you have the list object , stream the list and collect objects which are instances of Person class","body":"away from the generic topic , since you have the list object , stream the list and collect objects which are instances of Person class"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1685881348,"post_id":76400285,"comment_id":134719972,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/generics/index.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/index.html</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685884489,"post_id":76400285,"comment_id":134720359,"body_markdown":"*How to make the method accept any list and if the list is List of Person, the method will be able to write all its fields to a file.* To interpret your requirement exactly, you will probably want to type-check it: if `T` is of type `Person` (don&#39;t use all caps for class names) then you will *know* what its fields are and can use them in the write. Otherwise, you *don&#39;t* know, so you can call `T.toString()` instead and write using that. Were you to want to be writing them the same in all cases, you would have to use reflection","body":"<i>How to make the method accept any list and if the list is List of Person, the method will be able to write all its fields to a file.</i> To interpret your requirement exactly, you will probably want to type-check it: if <code>T</code> is of type <code>Person</code> (don&#39;t use all caps for class names) then you will <i>know</i> what its fields are and can use them in the write. Otherwise, you <i>don&#39;t</i> know, so you can call <code>T.toString()</code> instead and write using that. Were you to want to be writing them the same in all cases, you would have to use reflection"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1685919241,"post_id":76400285,"comment_id":134724183,"body_markdown":"You could provide your &quot;Person&quot; class with a proper `toString` implementation and then write the string that this creates to a file. The `toString` method is available in all Java objects, so you would not need to handle different classes differently, but the results in the file of course would vary by the implementation of `toString` in the individual classes.","body":"You could provide your &quot;Person&quot; class with a proper <code>toString</code> implementation and then write the string that this creates to a file. The <code>toString</code> method is available in all Java objects, so you would not need to handle different classes differently, but the results in the file of course would vary by the implementation of <code>toString</code> in the individual classes."},{"owner":{"account_id":28547169,"reputation":29,"user_id":21852473,"display_name":"R Zav"},"score":0,"creation_date":1685952531,"post_id":76400285,"comment_id":134727237,"body_markdown":"@cyberbrain I threw the solution here, as you said, do you think it fits?","body":"@cyberbrain I threw the solution here, as you said, do you think it fits?"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1691529545,"post_id":76400285,"comment_id":135503496,"body_markdown":"Just as a note: according to naming convention for class names, it should be `Person` – `PERSON` would be for constants.","body":"Just as a note: according to naming convention for class names, it should be <code>Person</code> – <code>PERSON</code> would be for constants."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691530799,"post_id":76400285,"comment_id":135503686,"body_markdown":"@PaŭloEbermann (already mentioned)","body":"@PaŭloEbermann (already mentioned)"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1691531106,"post_id":76400285,"comment_id":135503725,"body_markdown":"@g00se sorry, I missed this hidden in your longish comment (which almost qualifies as an answer).","body":"@g00se sorry, I missed this hidden in your longish comment (which almost qualifies as an answer)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691531849,"post_id":76400285,"comment_id":135503813,"body_markdown":"No problem​​​​​​​​​​​​​​​​​​​​  □□□□□□□□□□□□□□□□□□□□  :)","body":"No problem​​​​​​​​​​​​​​​​​​​​  □□□□□□□□□□□□□□□□□□□□  :)"}],"answers":[{"tags":[],"owner":{"account_id":27317635,"reputation":737,"user_id":20831888,"display_name":"Kozydot"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1685948044,"creation_date":1685948044,"answer_id":76404089,"question_id":76400285,"body_markdown":"Modify the `writeToFile` method as follows:\r\n```java\r\npublic &lt;T&gt; void writeToFile(List&lt;T&gt; list) throws IOException {\r\n    if (list.isEmpty() || !(list.get(0) instanceof PERSON)) {\r\n        return;\r\n    }\r\n    \r\n    Path path = Path.of(&quot;C:\\\\Users\\\\Professional\\\\IdeaProjects\\\\Lesson\\\\src\\\\FileWr&quot;);\r\n    String lineFirst = &quot;# Name Surname&quot;;\r\n    Files.write(path, lineFirst.getBytes(), StandardOpenOption.APPEND);\r\n\r\n    List&lt;String&gt; rows = new ArrayList&lt;&gt;();\r\n    int num = 1;\r\n    for (T t : list) {\r\n        PERSON person = (PERSON) t;\r\n        String line = String.valueOf(num++) + &quot;. &quot; + person.name + &quot; &quot; + person.surname + System.lineSeparator();\r\n        rows.add(line);\r\n    }\r\n\r\n    Files.write(path, rows, StandardOpenOption.APPEND);\r\n}\r\n```\r\nThis method first checks if the input list is empty or if its elements are not instances of `PERSON`. If either of these conditions is true, the method returns without writing to the file. Otherwise, it writes the fields of each `PERSON` in the list to the file as specified. Note that you need to cast the generic `T` type to `PERSON` to access its fields. The method uses the `StandardOpenOption.APPEND` option to append the lines to the file.\r\n","title":"write List&lt;T&gt; to File","body":"<p>Modify the <code>writeToFile</code> method as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; void writeToFile(List&lt;T&gt; list) throws IOException {\n    if (list.isEmpty() || !(list.get(0) instanceof PERSON)) {\n        return;\n    }\n    \n    Path path = Path.of(&quot;C:\\\\Users\\\\Professional\\\\IdeaProjects\\\\Lesson\\\\src\\\\FileWr&quot;);\n    String lineFirst = &quot;# Name Surname&quot;;\n    Files.write(path, lineFirst.getBytes(), StandardOpenOption.APPEND);\n\n    List&lt;String&gt; rows = new ArrayList&lt;&gt;();\n    int num = 1;\n    for (T t : list) {\n        PERSON person = (PERSON) t;\n        String line = String.valueOf(num++) + &quot;. &quot; + person.name + &quot; &quot; + person.surname + System.lineSeparator();\n        rows.add(line);\n    }\n\n    Files.write(path, rows, StandardOpenOption.APPEND);\n}\n</code></pre>\n<p>This method first checks if the input list is empty or if its elements are not instances of <code>PERSON</code>. If either of these conditions is true, the method returns without writing to the file. Otherwise, it writes the fields of each <code>PERSON</code> in the list to the file as specified. Note that you need to cast the generic <code>T</code> type to <code>PERSON</code> to access its fields. The method uses the <code>StandardOpenOption.APPEND</code> option to append the lines to the file.</p>\n"},{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1685976494,"post_id":76404549,"comment_id":134732423,"body_markdown":"You don&#39;t need to access `.toString` via reflection. It is a method of `java.lang.Object` so all java classes have some implementation of it, you can call it on any object in Java!\nI would just add an `instanceof` check to be sure you only call it on instances of your `PERSON` class, but no cast necessary. Or you use generics boundaries, will add an answer for that.","body":"You don&#39;t need to access <code>.toString</code> via reflection. It is a method of <code>java.lang.Object</code> so all java classes have some implementation of it, you can call it on any object in Java! I would just add an <code>instanceof</code> check to be sure you only call it on instances of your <code>PERSON</code> class, but no cast necessary. Or you use generics boundaries, will add an answer for that."}],"tags":[],"owner":{"account_id":28547169,"reputation":29,"user_id":21852473,"display_name":"R Zav"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685952441,"creation_date":1685952441,"answer_id":76404549,"question_id":76400285,"body_markdown":"I tried to solve it using the toString method and reflection. If you don&#39;t get hung up on the PERSON class, it turns out you can try to put any other class that has a toString method. probably I can add a check for the existence of the toString method, if it exists, then fill in the List&lt;String&gt; rows\r\n\r\n    public &lt;T&gt; void writeToFile(List&lt;T&gt; list) throws Exception{\r\n        Path path = Path.of(&quot;FileWr&quot;);\r\n        String lineFirst = &quot;# Name Surname&quot; + System.lineSeparator();\r\n        Files.write(path,lineFirst.getBytes(), StandardOpenOption.APPEND);\r\n\r\n        Class&lt;? extends T&gt; clazz = (Class&lt;? extends T&gt;) list.get(0).getClass();\r\n        Method method = clazz.getMethod(&quot;toString&quot;);\r\n\r\n        List&lt;String&gt; rows = new ArrayList&lt;&gt;();\r\n        int num = 1;\r\n        for (T t: list) {\r\n            String line = String.valueOf(num++) + method.invoke(t);\r\n            rows.add(line);\r\n        }\r\n        Files.write(path,rows, StandardOpenOption.APPEND);\r\n    }","title":"write List&lt;T&gt; to File","body":"<p>I tried to solve it using the toString method and reflection. If you don't get hung up on the PERSON class, it turns out you can try to put any other class that has a toString method. probably I can add a check for the existence of the toString method, if it exists, then fill in the List rows</p>\n<pre><code>public &lt;T&gt; void writeToFile(List&lt;T&gt; list) throws Exception{\n    Path path = Path.of(&quot;FileWr&quot;);\n    String lineFirst = &quot;# Name Surname&quot; + System.lineSeparator();\n    Files.write(path,lineFirst.getBytes(), StandardOpenOption.APPEND);\n\n    Class&lt;? extends T&gt; clazz = (Class&lt;? extends T&gt;) list.get(0).getClass();\n    Method method = clazz.getMethod(&quot;toString&quot;);\n\n    List&lt;String&gt; rows = new ArrayList&lt;&gt;();\n    int num = 1;\n    for (T t: list) {\n        String line = String.valueOf(num++) + method.invoke(t);\n        rows.add(line);\n    }\n    Files.write(path,rows, StandardOpenOption.APPEND);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1685978771,"post_id":76407759,"comment_id":134733072,"body_markdown":"If you don&#39;t want to use generics boundaries, you can still go with `public &lt;T&gt; void ...` but have to use this for loop then: `for (T person: collection)`. The call of the `toString` method does _not_ change!","body":"If you don&#39;t want to use generics boundaries, you can still go with <code>public &lt;T&gt; void ...</code> but have to use this for loop then: <code>for (T person: collection)</code>. The call of the <code>toString</code> method does <i>not</i> change!"}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685978733,"creation_date":1685977553,"answer_id":76407759,"question_id":76400285,"body_markdown":"Based on the OPs own answer I want to add this variant that uses Java generics boundaries to ensure the method is only called on lists with suitable members:\r\n\r\n``` lang-java\r\npublic &lt;T extends PERSON&gt; void writeToFile(Collection&lt;T&gt; collection) throws Exception {\r\n    Path path = Path.of(&quot;FileWr&quot;);\r\n    String lineFirst = &quot;# Name Surname&quot; + System.lineSeparator();\r\n    Files.writeString(path, lineFirst, StandardOpenOption.CREATE);\r\n\r\n    int row = 1;\r\n    for (PERSON person : collection) {\r\n        String line = String.valueOf(row) + person.toString() + System.lineSeparator();\r\n        Files.writeString(path, line, StandardOpenOption.APPEND);\r\n        row++;\r\n    }\r\n}\r\n```\r\n\r\nI modified a few places of the original method: \r\n\r\n* used the generic boundary `T extends PERSON` to ensure all list members are assignable to a `PERSON` variable\r\n* used a `Collection` instead of a `List` for the input parameter as this method does not need to know the type of collection, no specific methods of the `List` interface are used\r\n* used `Files.writeString` for the heading to ensure proper encoding\r\n* used the `StandardOpenOption.CREATE` for writing the header to ensure the file is not appended over and over again with the header and values, but looks &quot;fresh&quot; after every run\r\n* made use of the boundary to handle the values of the collection inside the loop as real `PERSON` instances. This would allow to use any special method of `PERSON` instead of `toString` if this is required.\r\n* used immediate `Files.writeString` inside the loop instead of creating an in-memory list of lines to prevent `OutOfMemoryError`s and get the code more compact. This is not optimized for speed as the multiple operations to open and close the file will stress the OS but optimization is secondary here.\r\n* incremented the row counter in a separate instruction to increase readability. If it were for optimization I would initialize it with 0 and use inline `++row` instead.","title":"write List&lt;T&gt; to File","body":"<p>Based on the OPs own answer I want to add this variant that uses Java generics boundaries to ensure the method is only called on lists with suitable members:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T extends PERSON&gt; void writeToFile(Collection&lt;T&gt; collection) throws Exception {\n    Path path = Path.of(&quot;FileWr&quot;);\n    String lineFirst = &quot;# Name Surname&quot; + System.lineSeparator();\n    Files.writeString(path, lineFirst, StandardOpenOption.CREATE);\n\n    int row = 1;\n    for (PERSON person : collection) {\n        String line = String.valueOf(row) + person.toString() + System.lineSeparator();\n        Files.writeString(path, line, StandardOpenOption.APPEND);\n        row++;\n    }\n}\n</code></pre>\n<p>I modified a few places of the original method:</p>\n<ul>\n<li>used the generic boundary <code>T extends PERSON</code> to ensure all list members are assignable to a <code>PERSON</code> variable</li>\n<li>used a <code>Collection</code> instead of a <code>List</code> for the input parameter as this method does not need to know the type of collection, no specific methods of the <code>List</code> interface are used</li>\n<li>used <code>Files.writeString</code> for the heading to ensure proper encoding</li>\n<li>used the <code>StandardOpenOption.CREATE</code> for writing the header to ensure the file is not appended over and over again with the header and values, but looks &quot;fresh&quot; after every run</li>\n<li>made use of the boundary to handle the values of the collection inside the loop as real <code>PERSON</code> instances. This would allow to use any special method of <code>PERSON</code> instead of <code>toString</code> if this is required.</li>\n<li>used immediate <code>Files.writeString</code> inside the loop instead of creating an in-memory list of lines to prevent <code>OutOfMemoryError</code>s and get the code more compact. This is not optimized for speed as the multiple operations to open and close the file will stress the OS but optimization is secondary here.</li>\n<li>incremented the row counter in a separate instruction to increase readability. If it were for optimization I would initialize it with 0 and use inline <code>++row</code> instead.</li>\n</ul>\n"}],"owner":{"account_id":28547169,"reputation":29,"user_id":21852473,"display_name":"R Zav"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1685978733,"creation_date":1685879579,"question_id":76400285,"body_markdown":"I&#39;m trying to figure out Generics. Let&#39;s say I have a Person class, and I want to write a list of persons to a file. How to make the method accept any list and if the list is List of Person, the method will be able to write all its fields to a file.\r\n\r\n``` lang-java\r\nclass PERSON {\r\n    String name;\r\n    String surname;\r\n\r\n    public PERSON(String name, String surname) {\r\n        this.name = name;\r\n        this.surname = surname;\r\n    }\r\n}\r\n\r\nclass  Lesson7 {\r\n    public &lt;T&gt; void writeToFile(List&lt;T&gt; list) throws Exception{\r\n        Path path = Path.of(&quot;C:\\\\Users\\\\Professional\\\\IdeaProjects\\\\Lesson\\\\src\\\\FileWr&quot;);\r\n        String lineFirst = &quot;# Name Surname&quot;;\r\n        Files.write(path, lineFirst.getBytes(), StandardOpenOption.APPEND);\r\n\r\n        List&lt;String&gt; rows = new ArrayList&lt;&gt;();\r\n        int num = 1;\r\n        for (T t: list) {\r\n            String line = String.valueOf(num++) + &quot;.&quot; + &quot; &quot; + t.name + &quot; &quot; + t.surname + System.lineSeparator();\r\n        }\r\n\r\n        Files.write(Path.of(&quot;FileWr&quot;), rows);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        PERSON p1 = new PERSON(&quot;Christian&quot;, &quot;Bale&quot;);\r\n        PERSON p2 = new PERSON(&quot;Leo&quot;, &quot;Dicaprio&quot;);\r\n        List&lt;PERSON&gt; list1 = List.of(p1, p2);\r\n        Lesson7 l7 = new Lesson7();\r\n        l7.writeToFile(list1);\r\n    }\r\n}\r\n```","title":"write List&lt;T&gt; to File","body":"<p>I'm trying to figure out Generics. Let's say I have a Person class, and I want to write a list of persons to a file. How to make the method accept any list and if the list is List of Person, the method will be able to write all its fields to a file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PERSON {\n    String name;\n    String surname;\n\n    public PERSON(String name, String surname) {\n        this.name = name;\n        this.surname = surname;\n    }\n}\n\nclass  Lesson7 {\n    public &lt;T&gt; void writeToFile(List&lt;T&gt; list) throws Exception{\n        Path path = Path.of(&quot;C:\\\\Users\\\\Professional\\\\IdeaProjects\\\\Lesson\\\\src\\\\FileWr&quot;);\n        String lineFirst = &quot;# Name Surname&quot;;\n        Files.write(path, lineFirst.getBytes(), StandardOpenOption.APPEND);\n\n        List&lt;String&gt; rows = new ArrayList&lt;&gt;();\n        int num = 1;\n        for (T t: list) {\n            String line = String.valueOf(num++) + &quot;.&quot; + &quot; &quot; + t.name + &quot; &quot; + t.surname + System.lineSeparator();\n        }\n\n        Files.write(Path.of(&quot;FileWr&quot;), rows);\n    }\n\n    public static void main(String[] args) throws Exception {\n        PERSON p1 = new PERSON(&quot;Christian&quot;, &quot;Bale&quot;);\n        PERSON p2 = new PERSON(&quot;Leo&quot;, &quot;Dicaprio&quot;);\n        List&lt;PERSON&gt; list1 = List.of(p1, p2);\n        Lesson7 l7 = new Lesson7();\n        l7.writeToFile(list1);\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl","tls1.2"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1685978289,"post_id":76407783,"comment_id":134732935,"body_markdown":"When you use a TLS site certificate it has an associated hostname. You aren&#39;t using that. Instead you&#39;re connecting to an IP address. Thus the certificate can&#39;t be validated. Security risks include man in the middle attacks and IP address hijacking. Best of luck!","body":"When you use a TLS site certificate it has an associated hostname. You aren&#39;t using that. Instead you&#39;re connecting to an IP address. Thus the certificate can&#39;t be validated. Security risks include man in the middle attacks and IP address hijacking. Best of luck!"},{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1685978824,"post_id":76407783,"comment_id":134733088,"body_markdown":"Not only is this insecure since (impersonation, man in the middle) but you might access the wrong server configuration. It is very common today that there are multiple &quot;virtual hosts&quot; at the same IP address and which one is used depends on the hostname send by the client within the TLS handshake (SNI - server name indication).","body":"Not only is this insecure since (impersonation, man in the middle) but you might access the wrong server configuration. It is very common today that there are multiple &quot;virtual hosts&quot; at the same IP address and which one is used depends on the hostname send by the client within the TLS handshake (SNI - server name indication)."},{"owner":{"account_id":28010177,"reputation":1,"user_id":21392843,"display_name":"Xavier"},"score":0,"creation_date":1685980170,"post_id":76407783,"comment_id":134733429,"body_markdown":"Then it would tell the client to update the certificate?","body":"Then it would tell the client to update the certificate?"}],"owner":{"account_id":28010177,"reputation":1,"user_id":21392843,"display_name":"Xavier"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685978542,"answer_count":0,"score":0,"last_activity_date":1685977715,"creation_date":1685977715,"question_id":76407783,"body_markdown":"When i try to make a request to an API, through java to the ip or the resorce https://172.17.14.16, throws me the following error: &quot;No subject alternative names matching IP address 172.17.14.16 found&quot;,  but if I deactivate the host verification it works for me, my question is if there is no problem doing that, I don&#39;t know if It can generate security problems so that a third party can exploit it\r\n\r\n```\r\n```\r\n\r\n```\r\nURL urlWs = new URL(url);\r\n\r\n\t\t\r\n\r\n\t\tSSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n\t    sc.init(null, null, new SecureRandom());\r\n\t    HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\t\t\r\n\t   \r\n\t\tconexion = (HttpURLConnection) urlWs.openConnection();\r\n\t\tthis.metodo = &quot;POST&quot;;\r\n\t\tthis.timeout = timeout;\r\n\r\n\t\tinit(header)\r\n```\r\n\r\ni do this,and it gives me this problem: &quot;Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names matching IP address 172.17.14.16 found\r\n\r\n&quot;,, but when i try this way it works for me:\r\n\r\n```\r\nURL urlWs = new URL(url);\r\n\r\n\t\t\r\n\r\n\t\tSSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n\t    sc.init(null, null, new SecureRandom());\r\n\t    HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\t\t\r\n\t    HostnameVerifier hostnameVerifier = new HostnameVerifier() {\r\n\t        @Override\r\n\t        public boolean verify(String hostname, SSLSession session) {\r\n\t            // Realizar la verificaci&#243;n del nombre de host aqu&#237;\r\n\t            // Puedes comparar el nombre del host con el certificado del servidor\r\n\t            // Devuelve true si es v&#225;lido, o false si no lo es\r\n\t            return false;\r\n\t        }\r\n\t    };\r\n\t    HttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\r\n\t\tconexion = (HttpURLConnection) urlWs.openConnection();\r\n\t\tthis.metodo = &quot;POST&quot;;\r\n\t\tthis.timeout = timeout;\r\n```","title":"Best practices to do security certificate validations","body":"<p>When i try to make a request to an API, through java to the ip or the resorce <a href=\"https://172.17.14.16\" rel=\"nofollow noreferrer\">https://172.17.14.16</a>, throws me the following error: &quot;No subject alternative names matching IP address 172.17.14.16 found&quot;,  but if I deactivate the host verification it works for me, my question is if there is no problem doing that, I don't know if It can generate security problems so that a third party can exploit it</p>\n<pre><code></code></pre>\n<pre><code>URL urlWs = new URL(url);\n\n        \n\n        SSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n        sc.init(null, null, new SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n        \n       \n        conexion = (HttpURLConnection) urlWs.openConnection();\n        this.metodo = &quot;POST&quot;;\n        this.timeout = timeout;\n\n        init(header)\n</code></pre>\n<p>i do this,and it gives me this problem: &quot;Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names matching IP address 172.17.14.16 found</p>\n<p>&quot;,, but when i try this way it works for me:</p>\n<pre><code>URL urlWs = new URL(url);\n\n        \n\n        SSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\n        sc.init(null, null, new SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n        \n        HostnameVerifier hostnameVerifier = new HostnameVerifier() {\n            @Override\n            public boolean verify(String hostname, SSLSession session) {\n                // Realizar la verificación del nombre de host aquí\n                // Puedes comparar el nombre del host con el certificado del servidor\n                // Devuelve true si es válido, o false si no lo es\n                return false;\n            }\n        };\n        HttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\n        conexion = (HttpURLConnection) urlWs.openConnection();\n        this.metodo = &quot;POST&quot;;\n        this.timeout = timeout;\n</code></pre>\n"},{"tags":["java","jquery","spring"],"comments":[{"owner":{"account_id":2784949,"reputation":8695,"user_id":2396624,"accept_rate":67,"display_name":"Shoaib Chikate"},"score":0,"creation_date":1383655984,"post_id":19789410,"comment_id":29416099,"body_markdown":"what exception you are getting??","body":"what exception you are getting??"},{"owner":{"account_id":2188114,"reputation":39,"user_id":1935991,"accept_rate":0,"display_name":"akshatha shetty"},"score":0,"creation_date":1383656245,"post_id":19789410,"comment_id":29416233,"body_markdown":"Required MultipartFile parameter &#39;file&#39; is not present","body":"Required MultipartFile parameter &#39;file&#39; is not present"},{"owner":{"account_id":2784949,"reputation":8695,"user_id":2396624,"accept_rate":67,"display_name":"Shoaib Chikate"},"score":0,"creation_date":1383656330,"post_id":19789410,"comment_id":29416284,"body_markdown":"See the links in my answer","body":"See the links in my answer"}],"answers":[{"comments":[{"owner":{"account_id":2188114,"reputation":39,"user_id":1935991,"accept_rate":0,"display_name":"akshatha shetty"},"score":0,"creation_date":1383656216,"post_id":19789504,"comment_id":29416216,"body_markdown":"Could you please tell me how can it be achieved.","body":"Could you please tell me how can it be achieved."}],"tags":[],"owner":{"account_id":3480524,"reputation":1005,"user_id":2912717,"display_name":"Karthik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383656152,"creation_date":1383656152,"answer_id":19789504,"question_id":19789410,"body_markdown":"The code is passing the file itself as the payload to your server. However your controller is expecting the file to be send as a value of parameter &quot;file&quot;","title":"File upload using ajax and spring","body":"<p>The code is passing the file itself as the payload to your server. However your controller is expecting the file to be send as a value of parameter \"file\"</p>\n"},{"comments":[{"owner":{"account_id":2188114,"reputation":39,"user_id":1935991,"accept_rate":0,"display_name":"akshatha shetty"},"score":0,"creation_date":1383734380,"post_id":19789533,"comment_id":29451658,"body_markdown":"Could you please tell how to receive the file at the server end.","body":"Could you please tell how to receive the file at the server end."}],"tags":[],"owner":{"account_id":2784949,"reputation":8695,"user_id":2396624,"accept_rate":67,"display_name":"Shoaib Chikate"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383737977,"creation_date":1383656241,"answer_id":19789533,"question_id":19789410,"body_markdown":"You are sending your file as dataType=&quot;json&quot; which may be causing you problem because your content-type is multipart/form-data\r\n\r\nFollow this link &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Guide/Using_FormData_Objects?redirectlocale=en-US&amp;redirectslug=Web%2FAPI%2FFormData%2FUsing_FormData_Objects&quot;&gt;FormData for ajax file upload&lt;/a&gt;\r\n\r\nAnother link for your problem is &lt;a href=&quot;https://stackoverflow.com/questions/5392344/sending-multipart-formdata-with-jquery-ajax&quot;&gt;here&lt;/a&gt;\r\n\r\nYou can follow this link which has controller code for &lt;a href=&quot;http://dhruba.name/2008/12/27/implementing-single-and-multiple-file-multipart-uploads-using-spring-25/&quot;&gt;MultipartFile&lt;/a&gt; ","title":"File upload using ajax and spring","body":"<p>You are sending your file as dataType=\"json\" which may be causing you problem because your content-type is multipart/form-data</p>\n\n<p>Follow this link <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/Using_FormData_Objects?redirectlocale=en-US&amp;redirectslug=Web%2FAPI%2FFormData%2FUsing_FormData_Objects\" rel=\"nofollow noreferrer\">FormData for ajax file upload</a></p>\n\n<p>Another link for your problem is <a href=\"https://stackoverflow.com/questions/5392344/sending-multipart-formdata-with-jquery-ajax\">here</a></p>\n\n<p>You can follow this link which has controller code for <a href=\"http://dhruba.name/2008/12/27/implementing-single-and-multiple-file-multipart-uploads-using-spring-25/\" rel=\"nofollow noreferrer\">MultipartFile</a> </p>\n"},{"comments":[{"owner":{"account_id":5336756,"reputation":3802,"user_id":4255447,"accept_rate":50,"display_name":"Parth Trivedi"},"score":1,"creation_date":1450161372,"post_id":34282494,"comment_id":56306728,"body_markdown":"Please add description.","body":"Please add description."}],"tags":[],"owner":{"account_id":7473817,"reputation":1,"user_id":5680842,"display_name":"anind"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463490391,"creation_date":1450161188,"answer_id":34282494,"question_id":19789410,"body_markdown":"     data        : {file1:file}\r\n\r\nand in controller \r\n\r\n    getContents(@RequestParam(&quot;file1&quot;) MultipartFile file)\r\n\r\n\r\n\r\n\r\n\r\n","title":"File upload using ajax and spring","body":"<pre><code> data        : {file1:file}\n</code></pre>\n\n<p>and in controller </p>\n\n<pre><code>getContents(@RequestParam(\"file1\") MultipartFile file)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2247371,"reputation":16,"user_id":1980425,"display_name":"sandeep23"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599458783,"creation_date":1599458783,"answer_id":63772170,"question_id":19789410,"body_markdown":"In controller method, just change the name of the request parameter to data:\r\n\r\n    @RequestMapping(value = &quot;/Upload.json&quot;, method = RequestMethod.POST)\r\n        public ModelAndView getContents(@RequestParam(&quot;data&quot;) MultipartFile file) { \r\n    }","title":"File upload using ajax and spring","body":"<p>In controller method, just change the name of the request parameter to data:</p>\n<pre><code>@RequestMapping(value = &quot;/Upload.json&quot;, method = RequestMethod.POST)\n    public ModelAndView getContents(@RequestParam(&quot;data&quot;) MultipartFile file) { \n}\n</code></pre>\n"}],"owner":{"account_id":2188114,"reputation":39,"user_id":1935991,"accept_rate":0,"display_name":"akshatha shetty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7932,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1685977405,"creation_date":1383655809,"question_id":19789410,"body_markdown":"I am trying to upload a file and read it at the server side. But i am not able to read the file instead i am getting an exception\r\n    \r\n    Required MultipartFile parameter &#39;file&#39; is not present\r\n    \r\n    \r\n    \r\nBelow is the code snippet for the same. Can you kindly tell me if i am doing something wrong here. Is there any other way to read the file sent by an ajax request at the server end.\r\n\r\n    &lt;form  id=&quot;dealform&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; type=&quot;file&quot;&gt;\r\n    &lt;input type=&quot;file&quot; name=&quot;file&quot; id=&quot;upload_file&quot; style=&quot;visibility: hidden;width:0px;height:0px;&quot;/&gt;&lt;input id=&quot;fg-upload-button&quot; type=&quot;submit&quot; value=&quot;Upload&quot; style=&quot;display:none;&quot;/&gt;\r\n    &lt;/form&gt;\r\n    \r\n    this.getRecord\t \t\t\t= function(params)\t\t{\r\n    \t\t\t\r\n    \t\t\tvar file = $(&#39;#upload_file&#39;).prop(&quot;files&quot;)[0];\r\n    \t\t\t\r\n    \t\t\t$.ajax({\r\n    \t\t\t\turl\t\t\t: /Upload,\r\n    \t\t\t\tdata\t\t: file,\r\n    \t\t\t\ttype\t\t: &#39;POST&#39;,\r\n    \t\t\t\tdataType\t: &#39;json&#39;,\r\n    \t\t\t\ttimeout\t\t: json_timeout,\r\n    \t\t\t\terror\t\t: function(){\r\n    \t\t\t\t\tthat.notifyGetDataError(&#39;error getting:&#39;);\t\t\t\t\t\r\n    \t\t\t\t},\r\n    \t\t\t\tsuccess\t\t: function(data){\r\n    \t\t\t\t\tthat.notifyGetDataSuccess();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t};\r\n    \r\n    In the controller :\r\n    \r\n    @RequestMapping(value = &quot;/Upload.json&quot;, method = RequestMethod.POST)\r\n    \tpublic ModelAndView getContents(@RequestParam(&quot;file&quot;) MultipartFile file) { \r\n    }\r\n    \r\n    Using the below in applicationContext.xml\r\n    \r\n    &lt;bean id=&quot;multipartResolver&quot;\r\n       class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;\r\n    &lt;/bean&gt;","title":"File upload using ajax and spring","body":"<p>I am trying to upload a file and read it at the server side. But i am not able to read the file instead i am getting an exception</p>\n\n<pre><code>Required MultipartFile parameter 'file' is not present\n</code></pre>\n\n<p>Below is the code snippet for the same. Can you kindly tell me if i am doing something wrong here. Is there any other way to read the file sent by an ajax request at the server end.</p>\n\n<pre><code>&lt;form  id=\"dealform\" method=\"post\" enctype=\"multipart/form-data\" type=\"file\"&gt;\n&lt;input type=\"file\" name=\"file\" id=\"upload_file\" style=\"visibility: hidden;width:0px;height:0px;\"/&gt;&lt;input id=\"fg-upload-button\" type=\"submit\" value=\"Upload\" style=\"display:none;\"/&gt;\n&lt;/form&gt;\n\nthis.getRecord              = function(params)      {\n\n            var file = $('#upload_file').prop(\"files\")[0];\n\n            $.ajax({\n                url         : /Upload,\n                data        : file,\n                type        : 'POST',\n                dataType    : 'json',\n                timeout     : json_timeout,\n                error       : function(){\n                    that.notifyGetDataError('error getting:');                  \n                },\n                success     : function(data){\n                    that.notifyGetDataSuccess();\n                }\n            });\n        };\n\nIn the controller :\n\n@RequestMapping(value = \"/Upload.json\", method = RequestMethod.POST)\n    public ModelAndView getContents(@RequestParam(\"file\") MultipartFile file) { \n}\n\nUsing the below in applicationContext.xml\n\n&lt;bean id=\"multipartResolver\"\n   class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\"&gt;\n&lt;/bean&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9835,"page":390,"page_size":100}
