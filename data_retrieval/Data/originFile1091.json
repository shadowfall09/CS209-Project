{"items":[{"tags":["java","project-reactor","java-nio"],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661248087,"creation_date":1661248087,"answer_id":73456533,"question_id":73456332,"body_markdown":"`BufferedReader.readLine()` is a blocking method. Did you think that all java.nio methods were non-blocking? Only some are non-blocking, i.e. just those that are explicitly documented as being non-blocking. All the others are blocking. In particular, you ask about `Files.lines`. That returns a `Stream` of lines. It uses the blocking method `readLine()` internally, but it doesn&#39;t read all the lines in the file when you call it. It only reads each line when you make a terminal operation on the returned Stream.","title":"Is BufferedReader.readLine method non-blocking","body":"<p><code>BufferedReader.readLine()</code> is a blocking method. Did you think that all java.nio methods were non-blocking? Only some are non-blocking, i.e. just those that are explicitly documented as being non-blocking. All the others are blocking. In particular, you ask about <code>Files.lines</code>. That returns a <code>Stream</code> of lines. It uses the blocking method <code>readLine()</code> internally, but it doesn't read all the lines in the file when you call it. It only reads each line when you make a terminal operation on the returned Stream.</p>\n"}],"owner":{"account_id":18924610,"reputation":210,"user_id":13808010,"display_name":"Muhammad Ilyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73456533,"answer_count":1,"score":-3,"last_activity_date":1661248087,"creation_date":1661247277,"question_id":73456332,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4J4Fk.png\r\n\r\nI was using Java NIO Files.lines method but i was curious to know the code so dig little bit further then i see some FileChannel of nio package.\r\nmy digging took me to buffered reader it seems like there nio is using io which is supposed to be blocking.\r\n\r\nI was trying to read file for my webflux project reactor code but it seems like it could have some blocking in it.","title":"Is BufferedReader.readLine method non-blocking","body":"<p><a href=\"https://i.stack.imgur.com/4J4Fk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4J4Fk.png\" alt=\"enter image description here\" /></a></p>\n<p>I was using Java NIO Files.lines method but i was curious to know the code so dig little bit further then i see some FileChannel of nio package.\nmy digging took me to buffered reader it seems like there nio is using io which is supposed to be blocking.</p>\n<p>I was trying to read file for my webflux project reactor code but it seems like it could have some blocking in it.</p>\n"},{"tags":["java","null","garbage-collection"],"answers":[{"tags":[],"owner":{"display_name":"James Brooks"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1232076951,"creation_date":1232076951,"answer_id":449416,"question_id":449409,"body_markdown":"\r\n\r\n\r\nYes. \r\n\r\nFrom &quot;The Pragmatic Programmer&quot; p.292:\r\n\r\nBy setting a reference to NULL you reduce the number of pointers to the object by one ... (which will allow the garbage collector to remove it)\r\n\r\n","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>Yes. </p>\n\n<p>From \"The Pragmatic Programmer\" p.292:</p>\n\n<p>By setting a reference to NULL you reduce the number of pointers to the object by one ... (which will allow the garbage collector to remove it)</p>\n"},{"tags":[],"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1232077009,"creation_date":1232077009,"answer_id":449420,"question_id":449409,"body_markdown":"At least in java, it&#39;s not voodoo programming at all.  When you create an object in java using something like\r\n\r\n    Foo bar = new Foo();\r\n\r\nyou do two things: first, you create a reference to an object, and second, you create the Foo object itself.   So long as that reference or another exists, the specific object can&#39;t be gc&#39;d.  however, when you assign null to that reference...\r\n\r\n    bar = null ;\r\n\r\nand assuming nothing else has a reference to the object, it&#39;s freed and available for gc the next time the garbage collector passes by.  ","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>At least in java, it's not voodoo programming at all.  When you create an object in java using something like</p>\n\n<pre><code>Foo bar = new Foo();\n</code></pre>\n\n<p>you do two things: first, you create a reference to an object, and second, you create the Foo object itself.   So long as that reference or another exists, the specific object can't be gc'd.  however, when you assign null to that reference...</p>\n\n<pre><code>bar = null ;\n</code></pre>\n\n<p>and assuming nothing else has a reference to the object, it's freed and available for gc the next time the garbage collector passes by.  </p>\n"},{"tags":[],"owner":{"account_id":589,"reputation":30817,"user_id":758,"accept_rate":77,"display_name":"Mark Renouf"},"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1232077550,"creation_date":1232077090,"answer_id":449425,"question_id":449409,"body_markdown":"Typically, no.\r\n\r\nBut like all things: it depends. The GC in Java these days is VERY good and everything should be cleaned up very shortly after it is no longer reachable. This is just after leaving a method for local variables, and when a class instance is no longer referenced for fields.\r\n\r\nYou only need to explicitly null if you know it would remain referenced otherwise. For example an array which is kept around. You may want to null the individual elements of the array when they are no longer needed.\r\n\r\nFor example, this code from ArrayList:\r\n\r\n    public E remove(int index) {\r\n        RangeCheck(index);\r\n\r\n        modCount++;\r\n        E oldValue = (E) elementData[index];\r\n\r\n        int numMoved = size - index - 1;\r\n        if (numMoved &gt; 0)\r\n             System.arraycopy(elementData, index+1, elementData, index,\r\n\t\t\t     numMoved);\r\n        elementData[--size] = null; // Let gc do its work\r\n\r\n        return oldValue;\r\n    }\r\n\r\n\r\nAlso, explicitly nulling an object will not cause an object to be collected any sooner than if it just went out of scope naturally as long as no references remain.\r\n\r\nBoth:\r\n\r\n    void foo() {\r\n       Object o = new Object();\r\n       /// do stuff with o\r\n    }\r\n\r\nand:\r\n\r\n\r\n    void foo() {\r\n       Object o = new Object();\r\n       /// do stuff with o\r\n       o = null;\r\n    }\r\n\r\nAre functionally equivalent.","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>Typically, no.</p>\n\n<p>But like all things: it depends. The GC in Java these days is VERY good and everything should be cleaned up very shortly after it is no longer reachable. This is just after leaving a method for local variables, and when a class instance is no longer referenced for fields.</p>\n\n<p>You only need to explicitly null if you know it would remain referenced otherwise. For example an array which is kept around. You may want to null the individual elements of the array when they are no longer needed.</p>\n\n<p>For example, this code from ArrayList:</p>\n\n<pre><code>public E remove(int index) {\n    RangeCheck(index);\n\n    modCount++;\n    E oldValue = (E) elementData[index];\n\n    int numMoved = size - index - 1;\n    if (numMoved &gt; 0)\n         System.arraycopy(elementData, index+1, elementData, index,\n             numMoved);\n    elementData[--size] = null; // Let gc do its work\n\n    return oldValue;\n}\n</code></pre>\n\n<p>Also, explicitly nulling an object will not cause an object to be collected any sooner than if it just went out of scope naturally as long as no references remain.</p>\n\n<p>Both:</p>\n\n<pre><code>void foo() {\n   Object o = new Object();\n   /// do stuff with o\n}\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>void foo() {\n   Object o = new Object();\n   /// do stuff with o\n   o = null;\n}\n</code></pre>\n\n<p>Are functionally equivalent.</p>\n"},{"tags":[],"owner":{"account_id":13481,"reputation":2898,"user_id":27107,"accept_rate":100,"display_name":"earlNameless"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1475245806,"creation_date":1232077327,"answer_id":449430,"question_id":449409,"body_markdown":"Good article is today&#39;s [coding horror][1].\r\n\r\nThe way GC&#39;s work is by looking for objects that do not have any pointers to them, the area of their search is heap/stack and any other spaces they have.  So if you set a variable to null, the actual object is now not pointed by anyone, and hence could be GC&#39;d.\r\n\r\nBut since the GC might not run at that exact instant, you might not actually be buying yourself anything.  But if your method is fairly long (in terms of execution time) it might be worth it since you will be increasing your chances of GC collecting that object. \r\n\r\nThe problem can also be complicated with code optimizations, if you never use the variable after you set it to null, it would be a safe optimization to remove the line that sets the value to null (one less instruction to execute).  So you might not actually be getting any improvement.\r\n\r\nSo in summary, **yes it can help, but it will not be deterministic**.\r\n\r\n  [1]: https://blog.codinghorror.com/die-you-gravy-sucking-pig-dog/\r\n","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>Good article is today's <a href=\"https://blog.codinghorror.com/die-you-gravy-sucking-pig-dog/\" rel=\"noreferrer\">coding horror</a>.</p>\n\n<p>The way GC's work is by looking for objects that do not have any pointers to them, the area of their search is heap/stack and any other spaces they have.  So if you set a variable to null, the actual object is now not pointed by anyone, and hence could be GC'd.</p>\n\n<p>But since the GC might not run at that exact instant, you might not actually be buying yourself anything.  But if your method is fairly long (in terms of execution time) it might be worth it since you will be increasing your chances of GC collecting that object. </p>\n\n<p>The problem can also be complicated with code optimizations, if you never use the variable after you set it to null, it would be a safe optimization to remove the line that sets the value to null (one less instruction to execute).  So you might not actually be getting any improvement.</p>\n\n<p>So in summary, <strong>yes it can help, but it will not be deterministic</strong>.</p>\n"},{"tags":[],"owner":{"account_id":17184,"reputation":6053,"user_id":38212,"accept_rate":95,"display_name":"Sesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1232077693,"creation_date":1232077338,"answer_id":449431,"question_id":449409,"body_markdown":"&quot;*It depends*&quot;\r\n\r\nI do not know about Java but in .net (C#, VB.net...) it is usually not required to assign a null when you no longer require a object. \r\n\r\nHowever note that it is &quot;usually not required&quot;. \r\n\r\nBy analyzing your code the .net compiler makes a good valuation of the life time of the variable...to accurately tell when the object is not being used anymore. So if you write obj=null it might actually look as if the obj is still being used...in this case it is counter productive to assign a null.\r\n\r\nThere are a few cases where it might actually help to assign a null. One example is you have a huge code that runs for long time or a method that is running in a different thread, or some loop. In such cases it might help to assign null so that it is easy for the GC to know its not being used anymore.\r\n\r\nThere is no hard &amp; fast rule for this. Going by the above place null-assigns in your code and do run a profiler to see if it helps in any way. Most probably you might not see a benefit.\r\n\r\nIf it is .net code you are trying to optimize, then my experience has been that taking good care with Dispose and Finalize methods is actually more beneficial than bothering about nulls.\r\n\r\nSome references on the topic: \r\n\r\nhttp://blogs.msdn.com/csharpfaq/archive/2004/03/26/97229.aspx\r\n\r\nhttp://weblogs.asp.net/pwilson/archive/2004/02/20/77422.aspx","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>\"<em>It depends</em>\"</p>\n\n<p>I do not know about Java but in .net (C#, VB.net...) it is usually not required to assign a null when you no longer require a object. </p>\n\n<p>However note that it is \"usually not required\". </p>\n\n<p>By analyzing your code the .net compiler makes a good valuation of the life time of the variable...to accurately tell when the object is not being used anymore. So if you write obj=null it might actually look as if the obj is still being used...in this case it is counter productive to assign a null.</p>\n\n<p>There are a few cases where it might actually help to assign a null. One example is you have a huge code that runs for long time or a method that is running in a different thread, or some loop. In such cases it might help to assign null so that it is easy for the GC to know its not being used anymore.</p>\n\n<p>There is no hard &amp; fast rule for this. Going by the above place null-assigns in your code and do run a profiler to see if it helps in any way. Most probably you might not see a benefit.</p>\n\n<p>If it is .net code you are trying to optimize, then my experience has been that taking good care with Dispose and Finalize methods is actually more beneficial than bothering about nulls.</p>\n\n<p>Some references on the topic: </p>\n\n<p><a href=\"http://blogs.msdn.com/csharpfaq/archive/2004/03/26/97229.aspx\" rel=\"nofollow noreferrer\">http://blogs.msdn.com/csharpfaq/archive/2004/03/26/97229.aspx</a></p>\n\n<p><a href=\"http://weblogs.asp.net/pwilson/archive/2004/02/20/77422.aspx\" rel=\"nofollow noreferrer\">http://weblogs.asp.net/pwilson/archive/2004/02/20/77422.aspx</a></p>\n"},{"tags":[],"owner":{"account_id":13942,"reputation":43052,"user_id":28278,"accept_rate":79,"display_name":"CodingWithSpike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1232077458,"creation_date":1232077458,"answer_id":449435,"question_id":449409,"body_markdown":"I assume the OP is referring to things like this:\r\n\r\n    private void Blah()\r\n    {\r\n        MyObj a;\r\n        MyObj b;\r\n\r\n        try {\r\n            a = new MyObj();\r\n            b = new MyObj;\r\n\r\n            // do real work\r\n        } finally {\r\n            a = null;\r\n            b = null;\r\n        }\r\n    }\r\n\r\nIn this case, wouldn&#39;t the VM mark them for GC as soon as they leave scope anyway?\r\n\r\nOr, from another perspective, would explicitly setting the items to null cause them to get GC&#39;d before they would if they just went out of scope? If so, the VM may spend time GC&#39;ing the object when the memory isn&#39;t needed anyway, which would actually cause worse performance CPU usage wise because it would be GC&#39;ing more earlier.","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>I assume the OP is referring to things like this:</p>\n\n<pre><code>private void Blah()\n{\n    MyObj a;\n    MyObj b;\n\n    try {\n        a = new MyObj();\n        b = new MyObj;\n\n        // do real work\n    } finally {\n        a = null;\n        b = null;\n    }\n}\n</code></pre>\n\n<p>In this case, wouldn't the VM mark them for GC as soon as they leave scope anyway?</p>\n\n<p>Or, from another perspective, would explicitly setting the items to null cause them to get GC'd before they would if they just went out of scope? If so, the VM may spend time GC'ing the object when the memory isn't needed anyway, which would actually cause worse performance CPU usage wise because it would be GC'ing more earlier.</p>\n"},{"tags":[],"owner":{"account_id":221,"reputation":24852,"user_id":275,"display_name":"lubos hasko"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1232078490,"creation_date":1232077814,"answer_id":449446,"question_id":449409,"body_markdown":"It depends.\r\n\r\nGenerally speaking shorter you keep references to your objects, faster they&#39;ll get collected.\r\n\r\nIf your method takes say 2 seconds to execute and you don&#39;t need an object anymore after one second of method execution, it makes sense to clear any references to it. If GC sees that after one second, your object is still referenced, next time it might check it in a minute or so.\r\n\r\n**Anyway, setting all references to null by default is to me premature optimization and nobody should do it unless in specific rare cases where it measurably decreases memory consuption.**","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>It depends.</p>\n\n<p>Generally speaking shorter you keep references to your objects, faster they'll get collected.</p>\n\n<p>If your method takes say 2 seconds to execute and you don't need an object anymore after one second of method execution, it makes sense to clear any references to it. If GC sees that after one second, your object is still referenced, next time it might check it in a minute or so.</p>\n\n<p><strong>Anyway, setting all references to null by default is to me premature optimization and nobody should do it unless in specific rare cases where it measurably decreases memory consuption.</strong></p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1529750655,"creation_date":1232077971,"answer_id":449452,"question_id":449409,"body_markdown":"In my experience, more often than not, people null out references out of paranoia not out of necessity. Here is a quick guideline:\r\n\r\n1. If object A references object B **and** you no longer need this reference **and** object A is not eligible for garbage collection then you should explicitly null out the field. There is no need to null out a field if the enclosing object is getting garbage collected anyway. Nulling out fields in a dispose() method is almost always useless.\r\n\r\n2. There is no need to null out object references created in a method. They will get cleared automatically once the method terminates. The exception to this rule is if you&#39;re running in a very long method or some massive loop and you need to ensure that some references get cleared before the end of the method. Again, these cases are extremely rare.\r\n\r\nI would say that the vast majority of the time you will not need to null out references. Trying to outsmart the garbage collector is useless. You will just end up with inefficient, unreadable code.","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>In my experience, more often than not, people null out references out of paranoia not out of necessity. Here is a quick guideline:</p>\n\n<ol>\n<li><p>If object A references object B <strong>and</strong> you no longer need this reference <strong>and</strong> object A is not eligible for garbage collection then you should explicitly null out the field. There is no need to null out a field if the enclosing object is getting garbage collected anyway. Nulling out fields in a dispose() method is almost always useless.</p></li>\n<li><p>There is no need to null out object references created in a method. They will get cleared automatically once the method terminates. The exception to this rule is if you're running in a very long method or some massive loop and you need to ensure that some references get cleared before the end of the method. Again, these cases are extremely rare.</p></li>\n</ol>\n\n<p>I would say that the vast majority of the time you will not need to null out references. Trying to outsmart the garbage collector is useless. You will just end up with inefficient, unreadable code.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1558024245,"creation_date":1232093296,"answer_id":449799,"question_id":449409,"body_markdown":"Explicitly setting a reference to null instead of just letting the variable go out of scope, does not help the garbage collector, unless the object held is very large, where setting it to null as soon as you are done with is a good idea.\r\n\r\nGenerally setting references to null, mean to the READER of the code that this object is completely done with and should not be concerned about any more.\r\n\r\nA similar effect can be achieved by introducing a narrower scope by putting in an extra set of braces\r\n\r\n```java\r\n{\r\n  int l;\r\n  {  // &lt;- here\r\n    String bigThing = ....;\r\n    l = bigThing.length();\r\n  }  // &lt;- and here\r\n}\r\n```\r\n\r\nthis allows the bigThing to be garbage collected right after leaving the nested braces.\r\n","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>Explicitly setting a reference to null instead of just letting the variable go out of scope, does not help the garbage collector, unless the object held is very large, where setting it to null as soon as you are done with is a good idea.</p>\n\n<p>Generally setting references to null, mean to the READER of the code that this object is completely done with and should not be concerned about any more.</p>\n\n<p>A similar effect can be achieved by introducing a narrower scope by putting in an extra set of braces</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>{\n  int l;\n  {  // &lt;- here\n    String bigThing = ....;\n    l = bigThing.length();\n  }  // &lt;- and here\n}\n</code></pre>\n\n<p>this allows the bigThing to be garbage collected right after leaving the nested braces.</p>\n"},{"tags":[],"owner":{"display_name":"Sunny"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1402336191,"creation_date":1243922330,"answer_id":938080,"question_id":449409,"body_markdown":"    public class JavaMemory {\r\n        private final int dataSize = (int) (Runtime.getRuntime().maxMemory() * 0.6);\r\n\r\n        public void f() {\r\n            {\r\n                byte[] data = new byte[dataSize];\r\n                //data = null;\r\n            }\r\n\r\n            byte[] data2 = new byte[dataSize];\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n\r\n            JavaMemory jmp = new JavaMemory();\r\n            jmp.f();\r\n\r\n        }\r\n\r\n    }\r\n\r\nAbove program throws `OutOfMemoryError`. If you uncomment `data = null;`, the `OutOfMemoryError` is solved. It is always good practice to set the unused variable to null","title":"Does assigning objects to null in Java impact garbage collection?","body":"<pre><code>public class JavaMemory {\n    private final int dataSize = (int) (Runtime.getRuntime().maxMemory() * 0.6);\n\n    public void f() {\n        {\n            byte[] data = new byte[dataSize];\n            //data = null;\n        }\n\n        byte[] data2 = new byte[dataSize];\n    }\n\n    public static void main(String[] args) {\n\n        JavaMemory jmp = new JavaMemory();\n        jmp.f();\n\n    }\n\n}\n</code></pre>\n\n<p>Above program throws <code>OutOfMemoryError</code>. If you uncomment <code>data = null;</code>, the <code>OutOfMemoryError</code> is solved. It is always good practice to set the unused variable to null</p>\n"},{"tags":[],"owner":{"account_id":37373,"reputation":12278,"user_id":106801,"accept_rate":53,"display_name":"sgargan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1258569189,"creation_date":1258569189,"answer_id":1758092,"question_id":449409,"body_markdown":"Even if nullifying the reference were marginally more efficient, would it be worth the ugliness of having to pepper your code with these ugly nullifications? They would only be clutter and obscure the intent code that contains them. \r\n\r\nIts a rare codebase that has no better candidate for optimisation than trying to outsmart the Garbage collector (rarer still are developers who succeed in outsmarting it). Your efforts will most likely be better spent elsewhere instead, ditching that crufty Xml parser or finding some opportunity to cache computation. These optimisations will be easier to quantify and don&#39;t require you dirty up your codebase with noise. ","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>Even if nullifying the reference were marginally more efficient, would it be worth the ugliness of having to pepper your code with these ugly nullifications? They would only be clutter and obscure the intent code that contains them. </p>\n\n<p>Its a rare codebase that has no better candidate for optimisation than trying to outsmart the Garbage collector (rarer still are developers who succeed in outsmarting it). Your efforts will most likely be better spent elsewhere instead, ditching that crufty Xml parser or finding some opportunity to cache computation. These optimisations will be easier to quantify and don't require you dirty up your codebase with noise. </p>\n"},{"tags":[],"owner":{"account_id":2128348,"reputation":41,"user_id":1889852,"display_name":"Perry"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1355074408,"creation_date":1355074408,"answer_id":13789840,"question_id":449409,"body_markdown":"I was working on a video conferencing application one time and noticed a huge huge huge difference in performance when I took the time to null references as soon as I didn&#39;t need the object anymore. This was in 2003-2004 and I can only imagine the GC has gotten even smarter since. In my case I had hundreds of objects coming and going out of scope every second, so I noticed the GC when it kicked in periodically. However after I made it a point to null objects the GC stopped pausing my application. \r\n\r\nSo it depends on what your doing...\r\n\r\n","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>I was working on a video conferencing application one time and noticed a huge huge huge difference in performance when I took the time to null references as soon as I didn't need the object anymore. This was in 2003-2004 and I can only imagine the GC has gotten even smarter since. In my case I had hundreds of objects coming and going out of scope every second, so I noticed the GC when it kicked in periodically. However after I made it a point to null objects the GC stopped pausing my application. </p>\n\n<p>So it depends on what your doing...</p>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510258919,"creation_date":1510213242,"answer_id":47196419,"question_id":449409,"body_markdown":"In the future execution of your program, the values of some data members will be used to computer an output visible external to the program. Others might or might not be used, depending on future (And impossible to predict) inputs to the program. Other data members might be guaranteed not to be used. All resources, including memory,  allocated to those unused data are wasted. The job of the garbage collector (GC) is to eliminate that wasted memory. It would be disastrous for the GC to eliminate something that was needed, so the algorithm used might be conservative,  retaining more than the strict minimum. It might use heuristic optimizations to improve its speed, at the cost of retaining some items that are not actually  needed. There are many potential algorithms the GC might use. Therefore it is possible that changes you make to your program, and which do not affect the correctness of your program, might nevertheless affect the operation of the GC, either making it run faster to do the same job, or to sooner identify unused items. So this kind of change, setting an unusdd object reference to `null`, *in theory* is not always voodoo. \r\n\r\nIs it voodoo? There are reportedly parts of the Java library code that do this. The writers of that code are much better than average programmers and either know, or cooperate with, programmers who know details of the garbage collector implementations. So that suggests there *is* sometimes a benefit.","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>In the future execution of your program, the values of some data members will be used to computer an output visible external to the program. Others might or might not be used, depending on future (And impossible to predict) inputs to the program. Other data members might be guaranteed not to be used. All resources, including memory,  allocated to those unused data are wasted. The job of the garbage collector (GC) is to eliminate that wasted memory. It would be disastrous for the GC to eliminate something that was needed, so the algorithm used might be conservative,  retaining more than the strict minimum. It might use heuristic optimizations to improve its speed, at the cost of retaining some items that are not actually  needed. There are many potential algorithms the GC might use. Therefore it is possible that changes you make to your program, and which do not affect the correctness of your program, might nevertheless affect the operation of the GC, either making it run faster to do the same job, or to sooner identify unused items. So this kind of change, setting an unusdd object reference to <code>null</code>, <em>in theory</em> is not always voodoo. </p>\n\n<p>Is it voodoo? There are reportedly parts of the Java library code that do this. The writers of that code are much better than average programmers and either know, or cooperate with, programmers who know details of the garbage collector implementations. So that suggests there <em>is</em> sometimes a benefit.</p>\n"},{"tags":[],"owner":{"account_id":4393877,"reputation":6964,"user_id":3581539,"accept_rate":48,"display_name":"Kirill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592867676,"creation_date":1592867313,"answer_id":62524869,"question_id":449409,"body_markdown":"As you said there are optimizations, i.e. JVM knows the place when the variable was last used and the object referenced by it can be GCed right after this last point (still executing in current scope). So nulling out references in most cases does not help GC.\r\n\r\nBut it can be useful to avoid &quot;nepotism&quot; (or &quot;floating garbage&quot;) problem ([read more here](http://psy-lob-saw.blogspot.com/2016/03/gc-nepotism-and-linked-queues.html) or [watch video](https://www.youtube.com/watch?v=M9o1LVfGp2A&amp;feature=youtu.be&amp;t=1391)). The problem exists because heap is split into Old and Young generations and there are different GC mechanisms applied: Minor GC (which is fast and happens often to clean young gen) and Major Gc (which causes longer pause to clean Old gen). &quot;Nepotism&quot; does not allow for garbage in Young gen to be collected if it is referenced by garbage which was already tenured to an Old gen.\r\n\r\n&gt; This is &#39;pathological&#39; because ANY promoted node will result in the promotion of ALL following nodes until a GC resolves the issue. \r\n\r\n\r\nTo avoid nepotism it&#39;s a good idea to null out references from an object which is supposed to be removed. You can see this technique applied in JDK classes: [LinkedList](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/c638b7fdff8cad2fed2f71a6d230684f8311602a/src/java.base/share/classes/java/util/LinkedList.java#L180) and [LinkedHashMap](https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/java.base/share/classes/java/util/LinkedHashMap.java#L286)\r\n\r\n```java\r\nprivate E unlinkFirst(Node&lt;E&gt; f) {\r\n    final E element = f.item;\r\n    final Node&lt;E&gt; next = f.next;\r\n    f.item = null;\r\n    f.next = null; // help GC\r\n\t// ...\r\n}","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>As you said there are optimizations, i.e. JVM knows the place when the variable was last used and the object referenced by it can be GCed right after this last point (still executing in current scope). So nulling out references in most cases does not help GC.</p>\n<p>But it can be useful to avoid &quot;nepotism&quot; (or &quot;floating garbage&quot;) problem (<a href=\"http://psy-lob-saw.blogspot.com/2016/03/gc-nepotism-and-linked-queues.html\" rel=\"nofollow noreferrer\">read more here</a> or <a href=\"https://www.youtube.com/watch?v=M9o1LVfGp2A&amp;feature=youtu.be&amp;t=1391\" rel=\"nofollow noreferrer\">watch video</a>). The problem exists because heap is split into Old and Young generations and there are different GC mechanisms applied: Minor GC (which is fast and happens often to clean young gen) and Major Gc (which causes longer pause to clean Old gen). &quot;Nepotism&quot; does not allow for garbage in Young gen to be collected if it is referenced by garbage which was already tenured to an Old gen.</p>\n<blockquote>\n<p>This is 'pathological' because ANY promoted node will result in the promotion of ALL following nodes until a GC resolves the issue.</p>\n</blockquote>\n<p>To avoid nepotism it's a good idea to null out references from an object which is supposed to be removed. You can see this technique applied in JDK classes: <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/c638b7fdff8cad2fed2f71a6d230684f8311602a/src/java.base/share/classes/java/util/LinkedList.java#L180\" rel=\"nofollow noreferrer\">LinkedList</a> and <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11u/blob/master/src/java.base/share/classes/java/util/LinkedHashMap.java#L286\" rel=\"nofollow noreferrer\">LinkedHashMap</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>private E unlinkFirst(Node&lt;E&gt; f) {\n    final E element = f.item;\n    final Node&lt;E&gt; next = f.next;\n    f.item = null;\n    f.next = null; // help GC\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8261664,"reputation":87,"user_id":6212820,"display_name":"Subfire"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661248008,"creation_date":1661247444,"answer_id":73456373,"question_id":449409,"body_markdown":"Oracle doc point out &quot;Assign null to Variables That Are No Longer Needed&quot; https://docs.oracle.com/cd/E19159-01/819-3681/abebi/index.html","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>Oracle doc point out &quot;Assign null to Variables That Are No Longer Needed&quot; <a href=\"https://docs.oracle.com/cd/E19159-01/819-3681/abebi/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E19159-01/819-3681/abebi/index.html</a></p>\n"}],"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45239,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":449425,"answer_count":15,"score":88,"last_activity_date":1661248008,"creation_date":1232076602,"question_id":449409,"body_markdown":"Does assigning an unused object reference to `null` in Java improve the garbage collection process in any measurable way?\r\n\r\nMy experience with Java (and C#) has taught me that is often counter intuitive to try and outsmart the virtual machine or JIT compiler, but I&#39;ve seen co-workers use this method and I am curious if this is a good practice to pick up or one of those voodoo programming superstitions?\r\n","title":"Does assigning objects to null in Java impact garbage collection?","body":"<p>Does assigning an unused object reference to <code>null</code> in Java improve the garbage collection process in any measurable way?</p>\n\n<p>My experience with Java (and C#) has taught me that is often counter intuitive to try and outsmart the virtual machine or JIT compiler, but I've seen co-workers use this method and I am curious if this is a good practice to pick up or one of those voodoo programming superstitions?</p>\n"},{"tags":["java","checkstyle","java-10"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1590739611,"post_id":62078579,"comment_id":109799819,"body_markdown":"*Should I try writing my own rule* - why not","body":"<i>Should I try writing my own rule</i> - why not"}],"answers":[{"tags":[],"owner":{"account_id":5445405,"reputation":695,"user_id":4332146,"accept_rate":83,"display_name":"Andrei Amarfii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661247845,"creation_date":1661247845,"answer_id":73456466,"question_id":62078579,"body_markdown":"You can tweak this one : \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0dRfe.png\r\n\r\nfind it here : https://checkstyle.sourceforge.io/config_coding.html#MatchXpath\r\n\r\nNote : MatchXpath is Since Checkstyle 8.39","title":"A Checkstyle Rule for OpenJDK&#39;s Local Variable Type Inference Style Guidelines","body":"<p>You can tweak this one :\n<a href=\"https://i.stack.imgur.com/0dRfe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0dRfe.png\" alt=\"enter image description here\" /></a></p>\n<p>find it here : <a href=\"https://checkstyle.sourceforge.io/config_coding.html#MatchXpath\" rel=\"nofollow noreferrer\">https://checkstyle.sourceforge.io/config_coding.html#MatchXpath</a></p>\n<p>Note : MatchXpath is Since Checkstyle 8.39</p>\n"}],"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1661247845,"creation_date":1590725426,"question_id":62078579,"body_markdown":"# Background:\nOpenJDK have released a [style guide][1] for local variable type inference. \n\nI was looking for a checkstyle built in rule that addresses it but didn&#39;t found one. \n\nWhat I&#39;m trying to get is pretty simple but I&#39;m not that familiar with writing custom Modules. \n\n# Example:\n\n### Allow:\n\n- instance creation, it&#39;s clear what&#39;s being created \n\n```java\nvar something = new Anything(); // OK\n```\n- it&#39;s a literal, it&#39;s obvious what type it has\n\n```java\nvar something = &quot;literal&quot;; // OK\n```\n\n### Violation:\n\n- even with good naming, no clue what&#39;s the type\n\n```java\nvar something = anything.doAnything(); // Violation\n```\n\n- it improves readability to use var here\n\n```java\nAnything&lt;Foo&lt;Bar&gt;&gt; something = new Anything&lt;&gt;(); // Violation\n```\n\n- not a big deal but just for consistency\n\n```java\nString something = &quot;literal&quot;; // Violation\n```\n\n# Question:\n\nIs there any existing rule I can extend / tweak to get the above? Should I try writing my own rule? I assume RegExp can handle some cases but not all.\n\n  [1]: https://openjdk.java.net/projects/amber/LVTIstyle.html\n\n","title":"A Checkstyle Rule for OpenJDK&#39;s Local Variable Type Inference Style Guidelines","body":"<h1>Background:</h1>\n<p>OpenJDK have released a <a href=\"https://openjdk.java.net/projects/amber/LVTIstyle.html\" rel=\"nofollow noreferrer\">style guide</a> for local variable type inference.</p>\n<p>I was looking for a checkstyle built in rule that addresses it but didn't found one.</p>\n<p>What I'm trying to get is pretty simple but I'm not that familiar with writing custom Modules.</p>\n<h1>Example:</h1>\n<h3>Allow:</h3>\n<ul>\n<li>instance creation, it's clear what's being created</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>var something = new Anything(); // OK\n</code></pre>\n<ul>\n<li>it's a literal, it's obvious what type it has</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>var something = &quot;literal&quot;; // OK\n</code></pre>\n<h3>Violation:</h3>\n<ul>\n<li>even with good naming, no clue what's the type</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>var something = anything.doAnything(); // Violation\n</code></pre>\n<ul>\n<li>it improves readability to use var here</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Anything&lt;Foo&lt;Bar&gt;&gt; something = new Anything&lt;&gt;(); // Violation\n</code></pre>\n<ul>\n<li>not a big deal but just for consistency</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>String something = &quot;literal&quot;; // Violation\n</code></pre>\n<h1>Question:</h1>\n<p>Is there any existing rule I can extend / tweak to get the above? Should I try writing my own rule? I assume RegExp can handle some cases but not all.</p>\n"},{"tags":["java","exception","abap"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":3,"creation_date":1605812862,"post_id":64918332,"comment_id":114774281,"body_markdown":"important caveat to `finally`: it only triggers _if the code is still running_. If the code in the `try` block causes a VM crash, your `finally` will never kick in. The most famous story being the bank interviewing an applicant who went &quot;finally may not kick in&quot;, the bank insisting it does, and the applicant going &quot;okay, so what happens when I trip over the power cord?&quot; and the bank going dead silent before scrambling its engineering team.","body":"important caveat to <code>finally</code>: it only triggers <i>if the code is still running</i>. If the code in the <code>try</code> block causes a VM crash, your <code>finally</code> will never kick in. The most famous story being the bank interviewing an applicant who went &quot;finally may not kick in&quot;, the bank insisting it does, and the applicant going &quot;okay, so what happens when I trip over the power cord?&quot; and the bank going dead silent before scrambling its engineering team."},{"owner":{"account_id":4394469,"reputation":3058,"user_id":3585768,"accept_rate":80,"display_name":"Jonathan Benn"},"score":3,"creation_date":1605813138,"post_id":64918332,"comment_id":114774398,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans great story! :)  Let&#39;s say that this is not a concern for this particular question","body":"@Mike&#39;Pomax&#39;Kamermans great story! :)  Let&#39;s say that this is not a concern for this particular question"}],"answers":[{"tags":[],"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605870526,"creation_date":1605869340,"answer_id":64928117,"question_id":64918332,"body_markdown":"ABAP has no exact equivalent for the Java `finally` block.\r\n\r\nThere is the `TRY` ... `CLEANUP` construct which looks similar at first glance but actually works very differently:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n```\r\nMETHOD buggy_method.\r\n    TRY.\r\n       WRITE &#39;code before the error...&#39;.\r\n       RAISE EXCEPTION TYPE cx_foo.\r\n       WRITE &#39;This line will not get executed.&#39;.\r\n    CLEANUP.\r\n       WRITE &#39;Cleanup...&#39;.\r\n    ENDTRY.\r\nENDMETHOD.\r\n\r\n&quot; ...on an outer scope...\r\nTRY.\r\n    buggy_method( ).\r\n  CATCH cx_foo INTO DATA(lx_foo).\r\n    WRITE &#39;Caught the error!&#39;.\r\nENDTRY.\r\n```\r\n\r\nOutput: `code before the error... Cleanup... Caught the error!`\r\n\r\nHowever the cleanup block does not always* get executed. It only gets executed when there is an exception and that exception is **not** handled by a `CATCH` in the same `TRY`-block. The idea is to use it for cleanups which are supposed to happen when an exception is handled by a `TRY`-block on an outer level. So it&#39;s not useful for code which you want to run regardless of whether you have an error or not. It&#39;s only useful for code you want to run in case of an error which the try-block does not handle itself.\r\n\r\n_________\r\nAnother feature which covers some of the use-cases of the Java `finally` block are [resumable exceptions][1]:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n```\r\n&quot; In the class definiton\r\nMETHODS buggy_method RAISING RESUMABLE(cx_foo).\r\n\r\n&quot; In the class implementation:\r\nMETHOD buggy_method.\r\n   WRITE &#39;code before the error...&#39;.\r\n   RAISE RESUMABLE EXCEPTION TYPE cx_foo.\r\n   WRITE &#39;code after the error....&#39;.  \r\nENDMETHOD.\r\n\r\n&quot; Somewhere else:\r\nTRY.\r\n    buggy_method( ).\r\n  CATCH BEFORE UNWIND cx_foo INTO DATA(lx_foo).\r\n    WRITE &#39;Caught the error!&#39;.\r\n    RESUME.\r\nENDTRY.\r\n```\r\n\r\nOutput: `code before the error... Caught the error! code after the error....`\r\n\r\nThe `RESUME` keyword at the end of the `CATCH` block causes the execution to continue right after the exception was `RAISE RESUMABLE`d.  So when you want to make sure that the end of your method gets executed even in case of an error, then this is perhaps the syntax you are looking for. \r\n\r\n\r\n&lt;sub&gt;* yes, I know there are exotic edge-cases where a finally-block in Java does not get executed. Those are not relevant here.&lt;/sub&gt;\r\n\r\n  [1]: https://blogs.sap.com/2013/11/19/resumable-exceptions/","title":"In ABAP, what is the equivalent of Java&#39;s finally keyword?","body":"<p>ABAP has no exact equivalent for the Java <code>finally</code> block.</p>\n<p>There is the <code>TRY</code> ... <code>CLEANUP</code> construct which looks similar at first glance but actually works very differently:</p>\n<pre class=\"lang-none prettyprint-override\"><code>METHOD buggy_method.\n    TRY.\n       WRITE 'code before the error...'.\n       RAISE EXCEPTION TYPE cx_foo.\n       WRITE 'This line will not get executed.'.\n    CLEANUP.\n       WRITE 'Cleanup...'.\n    ENDTRY.\nENDMETHOD.\n\n&quot; ...on an outer scope...\nTRY.\n    buggy_method( ).\n  CATCH cx_foo INTO DATA(lx_foo).\n    WRITE 'Caught the error!'.\nENDTRY.\n</code></pre>\n<p>Output: <code>code before the error... Cleanup... Caught the error!</code></p>\n<p>However the cleanup block does not always* get executed. It only gets executed when there is an exception and that exception is <strong>not</strong> handled by a <code>CATCH</code> in the same <code>TRY</code>-block. The idea is to use it for cleanups which are supposed to happen when an exception is handled by a <code>TRY</code>-block on an outer level. So it's not useful for code which you want to run regardless of whether you have an error or not. It's only useful for code you want to run in case of an error which the try-block does not handle itself.</p>\n<hr />\n<p>Another feature which covers some of the use-cases of the Java <code>finally</code> block are <a href=\"https://blogs.sap.com/2013/11/19/resumable-exceptions/\" rel=\"nofollow noreferrer\">resumable exceptions</a>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot; In the class definiton\nMETHODS buggy_method RAISING RESUMABLE(cx_foo).\n\n&quot; In the class implementation:\nMETHOD buggy_method.\n   WRITE 'code before the error...'.\n   RAISE RESUMABLE EXCEPTION TYPE cx_foo.\n   WRITE 'code after the error....'.  \nENDMETHOD.\n\n&quot; Somewhere else:\nTRY.\n    buggy_method( ).\n  CATCH BEFORE UNWIND cx_foo INTO DATA(lx_foo).\n    WRITE 'Caught the error!'.\n    RESUME.\nENDTRY.\n</code></pre>\n<p>Output: <code>code before the error... Caught the error! code after the error....</code></p>\n<p>The <code>RESUME</code> keyword at the end of the <code>CATCH</code> block causes the execution to continue right after the exception was <code>RAISE RESUMABLE</code>d.  So when you want to make sure that the end of your method gets executed even in case of an error, then this is perhaps the syntax you are looking for.</p>\n<p><sub>* yes, I know there are exotic edge-cases where a finally-block in Java does not get executed. Those are not relevant here.</sub></p>\n"},{"tags":[],"owner":{"account_id":4394469,"reputation":3058,"user_id":3585768,"accept_rate":80,"display_name":"Jonathan Benn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1609773927,"creation_date":1605882467,"answer_id":64931232,"question_id":64918332,"body_markdown":"A colleague gave me the solution. The trick to avoiding code duplication, while still allowing the exception to propagate upward, is to not use the `CLEANUP` keyword at all, and instead:\r\n\r\n 1. After the risky code, catch exception `CX_ROOT` (to catch all possible exceptions, not just the ones you expect!)\r\n 2. Run the `finally`-style cleanup code\r\n 3. Use `IS BOUND` to see if an exception was raised, and if yes, re-raise it\r\n\r\nHere&#39;s an example:\r\n\r\n```\r\nMETHOD risky_method.\r\n    TRY.\r\n        WRITE &#39;code before...&#39;.\r\n        IF lv_error_condition = abap_true.\r\n            RAISE EXCEPTION TYPE cx_foo.\r\n        ENDIF.\r\n        WRITE &#39;Main program...&#39;.\r\n    CATCH cx_root INTO DATA(lx_root).\r\n    ENDTRY.\r\n\r\n    WRITE &#39;Cleanup...&#39;.\r\n\r\n    IF lx_root IS BOUND.\r\n        RAISE lx_root.\r\n    ENDIF.\r\nENDMETHOD.\r\n\r\nMETHOD outer_scope.\r\n    TRY.\r\n        risky_method( ).\r\n    CATCH cx_foo INTO DATA(lx_foo).\r\n        WRITE &#39;Caught the error!&#39;.\r\n    ENDTRY.\r\nENDMETHOD.\r\n```\r\n\r\nFor the case where `lv_error_condition` equals `abap_false`, the output is:\r\n    \r\n    code before... Main program... Cleanup...\r\n\r\nFor the case where `lv_error_condition` equals `abap_true`, the output is: \r\n\r\n    code before... Cleanup... Caught the error!\r\n\r\n","title":"In ABAP, what is the equivalent of Java&#39;s finally keyword?","body":"<p>A colleague gave me the solution. The trick to avoiding code duplication, while still allowing the exception to propagate upward, is to not use the <code>CLEANUP</code> keyword at all, and instead:</p>\n<ol>\n<li>After the risky code, catch exception <code>CX_ROOT</code> (to catch all possible exceptions, not just the ones you expect!)</li>\n<li>Run the <code>finally</code>-style cleanup code</li>\n<li>Use <code>IS BOUND</code> to see if an exception was raised, and if yes, re-raise it</li>\n</ol>\n<p>Here's an example:</p>\n<pre><code>METHOD risky_method.\n    TRY.\n        WRITE 'code before...'.\n        IF lv_error_condition = abap_true.\n            RAISE EXCEPTION TYPE cx_foo.\n        ENDIF.\n        WRITE 'Main program...'.\n    CATCH cx_root INTO DATA(lx_root).\n    ENDTRY.\n\n    WRITE 'Cleanup...'.\n\n    IF lx_root IS BOUND.\n        RAISE lx_root.\n    ENDIF.\nENDMETHOD.\n\nMETHOD outer_scope.\n    TRY.\n        risky_method( ).\n    CATCH cx_foo INTO DATA(lx_foo).\n        WRITE 'Caught the error!'.\n    ENDTRY.\nENDMETHOD.\n</code></pre>\n<p>For the case where <code>lv_error_condition</code> equals <code>abap_false</code>, the output is:</p>\n<pre><code>code before... Main program... Cleanup...\n</code></pre>\n<p>For the case where <code>lv_error_condition</code> equals <code>abap_true</code>, the output is:</p>\n<pre><code>code before... Cleanup... Caught the error!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26137684,"reputation":1,"user_id":19827495,"display_name":"FAlter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661247812,"creation_date":1661247812,"answer_id":73456454,"question_id":64918332,"body_markdown":"By my knowledge there is no real equivalent at all. For example, if ABAP knew a finally, I would expect this\r\n\r\n    TRY.\r\n      RETURN.\r\n    FINALLY.\r\n      WRITE / &#39;Finally&#39;.\r\n    ENDTRY.\r\n\r\nto write out the word &quot;Finally&quot;. And ABAP programs have so many situations where this would definitely be useful. One of the most common being enqueues which need the corresponding dequeue, but it could also be an open/close dataset pair.\r\n\r\nThis code only outputs &#39;try&#39;. \r\n\r\n  TRY.\r\n    WRITE /&#39;try&#39;.\r\n    RETURN.\r\n    WRITE /&#39;after return&#39;.\r\n  CLEANUP.\r\n    write /&#39;cleanup&#39;.\r\n  ENDTRY.\r\n  write /&#39;after try&#39;.\r\n\r\nSo you are forced to leave your routines by exception if you want to run that cleanup code. Or you write redundant code:\r\n\r\n      OPEN DATASET iv_file IN TEXT MODE ENCODING UTF-8.\r\n      TRY.\r\n        &quot; ... write something to file\r\n        \r\n        IF do_more IS INITIAL.\r\n           CLOSE DATASET iv_file. \r\n          RETURN.\r\n        ENDIF.\r\n        \r\n        &quot; ... write more to file ...\r\n        \r\n      CLEANUP.\r\n        CLOSE DATASET iv_file.\r\n      ENDTRY.\r\n      CLOSE DATASET iv_file. \r\n\r\nThe solution is more than often to write redundant code in the form like that. But let&#39;s say this enqueues and dequeues things while writing data to the file. Then you may have to call the dequeue and close dataset at some points any maybe only the close dataset at another point. Not nice to put this into a separate method or form routine if it changes.\r\n\r\nI&#39;m originally from the pascal side (from school days) and learned finally there. It&#39;s very often used since pascal based languages don&#39;t use garbage collector and you always have to make sure to free the object yourself when you son&#39;t need it anymore. So the free there is meant to always run (as long as the program still runs of course). You rather won&#39;t bother about things like closing files there because &lt;ou free it as soon as you&#39;re done and the destructor will be called on Free and will do it for you.","title":"In ABAP, what is the equivalent of Java&#39;s finally keyword?","body":"<p>By my knowledge there is no real equivalent at all. For example, if ABAP knew a finally, I would expect this</p>\n<pre><code>TRY.\n  RETURN.\nFINALLY.\n  WRITE / 'Finally'.\nENDTRY.\n</code></pre>\n<p>to write out the word &quot;Finally&quot;. And ABAP programs have so many situations where this would definitely be useful. One of the most common being enqueues which need the corresponding dequeue, but it could also be an open/close dataset pair.</p>\n<p>This code only outputs 'try'.</p>\n<p>TRY.\nWRITE /'try'.\nRETURN.\nWRITE /'after return'.\nCLEANUP.\nwrite /'cleanup'.\nENDTRY.\nwrite /'after try'.</p>\n<p>So you are forced to leave your routines by exception if you want to run that cleanup code. Or you write redundant code:</p>\n<pre><code>  OPEN DATASET iv_file IN TEXT MODE ENCODING UTF-8.\n  TRY.\n    &quot; ... write something to file\n    \n    IF do_more IS INITIAL.\n       CLOSE DATASET iv_file. \n      RETURN.\n    ENDIF.\n    \n    &quot; ... write more to file ...\n    \n  CLEANUP.\n    CLOSE DATASET iv_file.\n  ENDTRY.\n  CLOSE DATASET iv_file. \n</code></pre>\n<p>The solution is more than often to write redundant code in the form like that. But let's say this enqueues and dequeues things while writing data to the file. Then you may have to call the dequeue and close dataset at some points any maybe only the close dataset at another point. Not nice to put this into a separate method or form routine if it changes.</p>\n<p>I'm originally from the pascal side (from school days) and learned finally there. It's very often used since pascal based languages don't use garbage collector and you always have to make sure to free the object yourself when you son't need it anymore. So the free there is meant to always run (as long as the program still runs of course). You rather won't bother about things like closing files there because &lt;ou free it as soon as you're done and the destructor will be called on Free and will do it for you.</p>\n"}],"owner":{"account_id":4394469,"reputation":3058,"user_id":3585768,"accept_rate":80,"display_name":"Jonathan Benn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1222,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64931232,"answer_count":3,"score":4,"last_activity_date":1661247812,"creation_date":1605812620,"question_id":64918332,"body_markdown":"In Java, the `finally` keyword is used to execute code (used with exceptions - `try..catch` statements) no matter if an exception is thrown or not ([source][1]).\r\n\r\nFor example:\r\n\r\n```java\r\ntry {\r\n    // this code might throw an exception\r\n    riskyCall();\r\n\r\n    // this code will only run if no exception was thrown above\r\n    mainProgram();\r\n}\r\nfinally {\r\n    // this code will always run\r\n    cleanUp();\r\n}\r\n```\r\n\r\nIs there an equivalent feature in ABAP? If not, what&#39;s an idiomatic way to implement the same functionality?\r\n\r\nI know ABAP has a `CLEANUP` keyword, but this seems to only execute if an exception was thrown.\r\n\r\nI experimented and found the following as a possible solution. Unfortunately, I can&#39;t think of any solution without code duplication.\r\n\r\n```abap\r\nMETHOD risky_method.\r\n    TRY.\r\n       WRITE &#39;code before...&#39;.\r\n       IF lv_error_condition = abap_true.\r\n         RAISE EXCEPTION TYPE cx_foo.\r\n       ENDIF.\r\n       WRITE &#39;Main program...&#39;.\r\n       WRITE &#39;Cleanup...&#39;.\r\n    CLEANUP.\r\n       WRITE &#39;Cleanup...&#39;.\r\n    ENDTRY.\r\nENDMETHOD.\r\n\r\nMETHOD outer_scope.\r\n    TRY.\r\n        risky_method( ).\r\n    CATCH cx_foo INTO DATA(lx_foo).\r\n        WRITE &#39;Caught the error!&#39;.\r\n    ENDTRY.\r\nENDMETHOD.\r\n```\r\n\r\nFor the case where `lv_error_condition` equals `abap_false`, the output of executing method `outer_scope` is:\r\n    \r\n    code before... Main program... Cleanup...\r\n\r\nFor the case where `lv_error_condition` equals `abap_true`, the output is: \r\n\r\n    code before... Cleanup... Caught the error!\r\n\r\nThis solution has the advantage that the cleanup always runs. It has the disadvantage that some code duplication is required, as the cleanup needs to be written twice. If the cleanup is packaged into a method then it&#39;s not a *terrible* amount of code duplication. `:-/`\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/ref_keyword_finally.asp","title":"In ABAP, what is the equivalent of Java&#39;s finally keyword?","body":"<p>In Java, the <code>finally</code> keyword is used to execute code (used with exceptions - <code>try..catch</code> statements) no matter if an exception is thrown or not (<a href=\"https://www.w3schools.com/java/ref_keyword_finally.asp\" rel=\"nofollow noreferrer\">source</a>).</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    // this code might throw an exception\n    riskyCall();\n\n    // this code will only run if no exception was thrown above\n    mainProgram();\n}\nfinally {\n    // this code will always run\n    cleanUp();\n}\n</code></pre>\n<p>Is there an equivalent feature in ABAP? If not, what's an idiomatic way to implement the same functionality?</p>\n<p>I know ABAP has a <code>CLEANUP</code> keyword, but this seems to only execute if an exception was thrown.</p>\n<p>I experimented and found the following as a possible solution. Unfortunately, I can't think of any solution without code duplication.</p>\n<pre><code>METHOD risky_method.\n    TRY.\n       WRITE 'code before...'.\n       IF lv_error_condition = abap_true.\n         RAISE EXCEPTION TYPE cx_foo.\n       ENDIF.\n       WRITE 'Main program...'.\n       WRITE 'Cleanup...'.\n    CLEANUP.\n       WRITE 'Cleanup...'.\n    ENDTRY.\nENDMETHOD.\n\nMETHOD outer_scope.\n    TRY.\n        risky_method( ).\n    CATCH cx_foo INTO DATA(lx_foo).\n        WRITE 'Caught the error!'.\n    ENDTRY.\nENDMETHOD.\n</code></pre>\n<p>For the case where <code>lv_error_condition</code> equals <code>abap_false</code>, the output of executing method <code>outer_scope</code> is:</p>\n<pre><code>code before... Main program... Cleanup...\n</code></pre>\n<p>For the case where <code>lv_error_condition</code> equals <code>abap_true</code>, the output is:</p>\n<pre><code>code before... Cleanup... Caught the error!\n</code></pre>\n<p>This solution has the advantage that the cleanup always runs. It has the disadvantage that some code duplication is required, as the cleanup needs to be written twice. If the cleanup is packaged into a method then it's not a <em>terrible</em> amount of code duplication. <code>:-/</code></p>\n"},{"tags":["java","android","android-studio","android-volley","android-studio-3.0"],"answers":[{"tags":[],"owner":{"account_id":22997531,"reputation":119,"user_id":17122042,"display_name":"Majed Al-Moqbeli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661247796,"creation_date":1661247796,"answer_id":73456450,"question_id":73456337,"body_markdown":"Try this code before ```requestQueue.add(stringRequest);``` line:\r\n\r\n    stringRequest.setRetryPolicy(new DefaultRetryPolicy(0,\r\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES\r\n                , DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));","title":"Volley request timeout","body":"<p>Try this code before <code>requestQueue.add(stringRequest);</code> line:</p>\n<pre><code>stringRequest.setRetryPolicy(new DefaultRetryPolicy(0,\n            DefaultRetryPolicy.DEFAULT_MAX_RETRIES\n            , DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n</code></pre>\n"}],"owner":{"account_id":25955263,"reputation":13,"user_id":19672698,"display_name":"8xers6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73456450,"answer_count":1,"score":0,"last_activity_date":1661247796,"creation_date":1661247294,"question_id":73456337,"body_markdown":"Help me guys please sometimes the code is running and connect faster to the website PHP but sometimes it show me volley Request Timeout, is there something wrong with my code.\r\n\r\nwhen I run this in my localhost its fast but when we access the PHP in the website it take too long and sometimes give me volley request timeout, is there a way to make it faster?\r\n\r\nI am using Hostinger as webhost.\r\n\r\n \r\n\r\n    findViewById(R.id.sendotp).setOnClickListener(view -&gt; {\r\n                Toast.makeText(getApplicationContext(), &quot;Sending Please Wait&quot;, \r\n                Toast.LENGTH_SHORT).show();\r\n                Random random = new Random();\r\n                code = random.nextInt(899999) + 100000;\r\n                String url = &quot;https://mywebsite.com/myphp_php/myphp.php&quot;;\r\n                RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\r\n                StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\r\n                        response -&gt; Toast.makeText(MainActivity.this, &quot;&quot;\r\n                                + response, Toast.LENGTH_SHORT).show(), error -&gt;\r\n                        Toast.makeText(MainActivity.this, &quot;&quot; + error,\r\n                                Toast.LENGTH_SHORT).show()) {\r\n                    @Nullable\r\n                    @Override\r\n                    protected Map&lt;String, String&gt; getParams() {\r\n                        Map&lt;String, String&gt; mydata = new HashMap&lt;&gt;();\r\n                        mydata.put(&quot;email&quot;, editTextEmail.getText().toString());\r\n                        mydata.put(&quot;code&quot;, String.valueOf(code));\r\n                        return mydata;\r\n                    }\r\n                };\r\n                //stringRequest.setRetryPolicy(new DefaultRetryPolicy(20 * 1000, 2, \r\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n                requestQueue.add(stringRequest);\r\n            });","title":"Volley request timeout","body":"<p>Help me guys please sometimes the code is running and connect faster to the website PHP but sometimes it show me volley Request Timeout, is there something wrong with my code.</p>\n<p>when I run this in my localhost its fast but when we access the PHP in the website it take too long and sometimes give me volley request timeout, is there a way to make it faster?</p>\n<p>I am using Hostinger as webhost.</p>\n<pre><code>findViewById(R.id.sendotp).setOnClickListener(view -&gt; {\n            Toast.makeText(getApplicationContext(), &quot;Sending Please Wait&quot;, \n            Toast.LENGTH_SHORT).show();\n            Random random = new Random();\n            code = random.nextInt(899999) + 100000;\n            String url = &quot;https://mywebsite.com/myphp_php/myphp.php&quot;;\n            RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\n            StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\n                    response -&gt; Toast.makeText(MainActivity.this, &quot;&quot;\n                            + response, Toast.LENGTH_SHORT).show(), error -&gt;\n                    Toast.makeText(MainActivity.this, &quot;&quot; + error,\n                            Toast.LENGTH_SHORT).show()) {\n                @Nullable\n                @Override\n                protected Map&lt;String, String&gt; getParams() {\n                    Map&lt;String, String&gt; mydata = new HashMap&lt;&gt;();\n                    mydata.put(&quot;email&quot;, editTextEmail.getText().toString());\n                    mydata.put(&quot;code&quot;, String.valueOf(code));\n                    return mydata;\n                }\n            };\n            //stringRequest.setRetryPolicy(new DefaultRetryPolicy(20 * 1000, 2, \n            DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n            requestQueue.add(stringRequest);\n        });\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rabbitmq"],"comments":[{"owner":{"account_id":8064739,"reputation":533,"user_id":6079278,"display_name":"vanillaSugar"},"score":0,"creation_date":1539591479,"post_id":52809573,"comment_id":92542640,"body_markdown":"can you show your rabbitmq related dependencies?","body":"can you show your rabbitmq related dependencies?"},{"owner":{"account_id":3735804,"reputation":11,"user_id":3106768,"display_name":"kevin"},"score":0,"creation_date":1539600600,"post_id":52809573,"comment_id":92547386,"body_markdown":"@vanillaSugar I have submitted it.","body":"@vanillaSugar I have submitted it."},{"owner":{"account_id":8064739,"reputation":533,"user_id":6079278,"display_name":"vanillaSugar"},"score":0,"creation_date":1539601144,"post_id":52809573,"comment_id":92547701,"body_markdown":"Add this dependency and I think it will work https://mvnrepository.com/artifact/org.springframework.amqp/spring-rabbit/2.0.6.RELEASE   .. class DirectReplyToMessageListenerContainer is in this library","body":"Add this dependency and I think it will work <a href=\"https://mvnrepository.com/artifact/org.springframework.amqp/spring-rabbit/2.0.6.RELEASE\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework.amqp/&hellip;</a>   .. class DirectReplyToMessageListenerContainer is in this library"},{"owner":{"account_id":3735804,"reputation":11,"user_id":3106768,"display_name":"kevin"},"score":1,"creation_date":1539676712,"post_id":52809573,"comment_id":92577575,"body_markdown":"It will be `spring-boot-starter-amqp` dependent and should not be specified separately. My project is currently dependent on this.","body":"It will be <code>spring-boot-starter-amqp</code> dependent and should not be specified separately. My project is currently dependent on this."},{"owner":{"account_id":4197289,"reputation":4830,"user_id":5235392,"display_name":"shahaf"},"score":0,"creation_date":1573903021,"post_id":52809573,"comment_id":104046080,"body_markdown":"it usually happens due to change of the jar, while the app is running...","body":"it usually happens due to change of the jar, while the app is running..."}],"answers":[{"tags":[],"owner":{"account_id":5972810,"reputation":1,"user_id":4694682,"display_name":"Fl&#225;vio Marcheni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572880760,"creation_date":1572880760,"answer_id":58696308,"question_id":52809573,"body_markdown":"if you are using newrelic agent, desable spring oap instrumentation in newrelic config.\r\nEx:\r\n    com.newrelic.instrumentation.spring-aop-2:\r\n      enabled: false","title":"spring-boot shutdown rabbit NoClassDefFoundError","body":"<p>if you are using newrelic agent, desable spring oap instrumentation in newrelic config.\nEx:\n    com.newrelic.instrumentation.spring-aop-2:\n      enabled: false</p>\n"}],"owner":{"account_id":3735804,"reputation":11,"user_id":3106768,"display_name":"kevin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1713,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661247669,"creation_date":1539575735,"question_id":52809573,"body_markdown":"Occasionally NoClassDefFoundError is prompted to quit the JVM process, causing the JVM process to quit normally.\r\n\r\nhttps://github.com/spring-projects/spring-amqp/issues/822\r\n\r\n**I use:**\r\n\r\n\r\n    compile &quot;org.springframework.boot:spring-boot-starter-amqp:2.0.5.RELEASE&quot;\r\n\r\n\r\n\r\n**error1:**\r\n\r\n    2018-10-15 11:16:27,350 [Thread-13] [] [WARN ] o.s.c.s.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:264) - Failed to stop bean &#39;org.springframework.amqp.rabbit.config.internalRabbitListenerEndpointRegistry&#39;\r\n    java.lang.NoClassDefFoundError: org/springframework/amqp/rabbit/listener/RabbitListenerEndpointRegistry$AggregatingCallback\r\n            at org.springframework.amqp.rabbit.listener.RabbitListenerEndpointRegistry.stop(RabbitListenerEndpointRegistry.java:260)\r\n            at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:238)\r\n            at org.springframework.context.support.DefaultLifecycleProcessor.access$300(DefaultLifecycleProcessor.java:53)\r\n            at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:377)\r\n            at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:210)\r\n            at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:128)\r\n            at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1005)\r\n            at org.springframework.context.support.AbstractApplicationContext$1.run(AbstractApplicationContext.java:933)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.amqp.rabbit.listener.RabbitListenerEndpointRegistry$AggregatingCallback\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n            at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            ... 8 common frames omitted\r\n\r\n\r\n\r\n**error2:**\r\n\r\n    2018-10-15 11:16:57,353 [Thread-13] [] [INFO ] o.s.c.s.DefaultLifecycleProcessor.stop(DefaultLifecycleProcessor.java:387) - Failed to shut down 1 bean with phase value 2147483647 within timeout of 30000: [org.springframework.amqp.rabbit.config.internalRabbitListenerEndpointRegistry]\r\n    2018-10-15 11:16:57,358 [Thread-13] [] [WARN ] o.s.c.s.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:264) - Failed to stop bean &#39;rabbitTemplate&#39;\r\n    java.lang.BootstrapMethodError: java.lang.NoClassDefFoundError: org/springframework/amqp/rabbit/listener/DirectReplyToMessageListenerContainer\r\n            at org.springframework.amqp.rabbit.core.RabbitTemplate.isRunning(RabbitTemplate.java:791)\r\n            at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:231)\r\n            at org.springframework.context.support.DefaultLifecycleProcessor.access$300(DefaultLifecycleProcessor.java:53)\r\n            at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:377)\r\n            at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:210)\r\n            at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:128)\r\n            at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1005)\r\n            at org.springframework.context.support.AbstractApplicationContext$1.run(AbstractApplicationContext.java:933)\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/amqp/rabbit/listener/DirectReplyToMessageListenerContainer\r\n            ... 8 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.amqp.rabbit.listener.DirectReplyToMessageListenerContainer\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n            at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            ... 8 common frames omitted\r\n    2018-10-15 11:16:57,364 [AMQP Connection 192.168.31.231:5672] [] [ERROR] c.r.c.i.ForgivingExceptionHandler.log(ForgivingExceptionHandler.java:119) - An unexpected connection driver error occured\r\n    java.lang.NoClassDefFoundError: com/rabbitmq/client/impl/ConsumerDispatcher$2\r\n            at com.rabbitmq.client.impl.ConsumerDispatcher.handleCancelOk(ConsumerDispatcher.java:91)\r\n            at com.rabbitmq.client.impl.ChannelN$7.transformReply(ChannelN.java:1464)\r\n            at com.rabbitmq.client.impl.ChannelN$7.transformReply(ChannelN.java:1458)\r\n            at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.handleCommand(AMQChannel.java:478)\r\n            at com.rabbitmq.client.impl.RpcContinuationRpcWrapper.complete(RpcContinuationRpcWrapper.java:38)\r\n            at com.rabbitmq.client.impl.AMQChannel.handleCompleteInboundCommand(AMQChannel.java:196)\r\n            at com.rabbitmq.client.impl.AMQChannel.handleFrame(AMQChannel.java:111)\r\n            at com.rabbitmq.client.impl.AMQConnection.readFrame(AMQConnection.java:643)\r\n            at com.rabbitmq.client.impl.AMQConnection.access$300(AMQConnection.java:47)\r\n            at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:581)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.ClassNotFoundException: com.rabbitmq.client.impl.ConsumerDispatcher$2\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n            at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            ... 11 common frames omitted\r\n\r\n**thread dump:**\r\n\r\n\r\n    &quot;Thread-13&quot; #45 prio=5 os_prio=0 tid=0x00007f000c024800 nid=0x108b in Object.wait() [0x00007effcd4e4000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000000e779bf50&gt; (a com.rabbitmq.utility.BlockingValueOrException)\r\n    \tat com.rabbitmq.utility.BlockingCell.get(BlockingCell.java:73)\r\n    \t- locked &lt;0x00000000e779bf50&gt; (a com.rabbitmq.utility.BlockingValueOrException)\r\n    \tat com.rabbitmq.utility.BlockingCell.uninterruptibleGet(BlockingCell.java:120)\r\n    \t- locked &lt;0x00000000e779bf50&gt; (a com.rabbitmq.utility.BlockingValueOrException)\r\n    \tat com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:36)\r\n    \tat com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:494)\r\n    \tat com.rabbitmq.client.impl.ChannelN.basicCancel(ChannelN.java:1477)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.amqp.rabbit.connection.CachingConnectionFactory$CachedChannelInvocationHandler.invoke(CachingConnectionFactory.java:1032)\r\n    \t- locked &lt;0x0000000088906598&gt; (a java.lang.Object)\r\n    \tat com.sun.proxy.$Proxy84.basicCancel(Unknown Source)\r\n    \tat org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.basicCancel(BlockingQueueConsumer.java:399)\r\n    \tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doShutdown(SimpleMessageListenerContainer.java:521)\r\n    \t- locked &lt;0x0000000088906a60&gt; (a java.lang.Object)\r\n    \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.shutdown(AbstractMessageListenerContainer.java:1100)\r\n    \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.destroy(AbstractMessageListenerContainer.java:1042)\r\n    \tat org.springframework.amqp.rabbit.listener.RabbitListenerEndpointRegistry.destroy(RabbitListenerEndpointRegistry.java:221)\r\n    \tat org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:256)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:571)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:543)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1054)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:504)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1061)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1037)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1013)\r\n    \tat org.springframework.context.support.AbstractApplicationContext$1.run(AbstractApplicationContext.java:933)\r\n    \t- locked &lt;0x00000000879b14a8&gt; (a java.lang.Object)\r\n\r\n`Rabbit.MainLoopThread` has exited, but `SimpleMessageListenerContainer` is still waiting for a message to respond. In fact, it will never receive a message. This thread prevents the JVM process from quitting properly.\r\n\r\nI don&#39;t know why NoClassDefFoundError is prompted here. I&#39;m sure these classes exist, and it&#39;s not necessarily possible. I haven&#39;t found a reproducing method yet. Initially I used ampq-client-4.0.x, which I thought was too low, and I&#39;ve upgraded spring-boot-2.x and ampq-client-5.x, but there&#39;s the same problem. I really feel helpless. Please give me some hints.\r\n\r\n**This is my dependence. spring-boot-starter-amqp is the default. I didn&#39;t modify it.**\r\n\r\n    \\--- org.springframework.boot:spring-boot-starter-amqp:2.0.5.RELEASE\r\n         +--- org.springframework.boot:spring-boot-starter:2.0.5.RELEASE (*)\r\n         +--- org.springframework:spring-messaging:5.0.9.RELEASE\r\n         |    +--- org.springframework:spring-beans:5.0.9.RELEASE -&gt; 5.1.0.RELEASE (*)\r\n         |    \\--- org.springframework:spring-core:5.0.9.RELEASE -&gt; 5.1.0.RELEASE (*)\r\n         \\--- org.springframework.amqp:spring-rabbit:2.0.6.RELEASE\r\n              +--- org.springframework.amqp:spring-amqp:2.0.6.RELEASE\r\n              |    +--- org.springframework:spring-core:5.0.9.RELEASE -&gt; 5.1.0.RELEASE (*)\r\n              |    \\--- org.springframework.retry:spring-retry:1.2.2.RELEASE\r\n              |         \\--- org.springframework:spring-core:4.3.13.RELEASE -&gt; 5.1.0.RELEASE (*)\r\n              +--- com.rabbitmq:amqp-client:5.1.2\r\n              |    \\--- org.slf4j:slf4j-api:1.7.25\r\n              +--- org.springframework:spring-context:5.0.9.RELEASE -&gt; 5.1.0.RELEASE (*)\r\n              +--- org.springframework:spring-messaging:5.0.9.RELEASE (*)\r\n              +--- org.springframework:spring-tx:5.0.9.RELEASE -&gt; 5.1.0.RELEASE (*)\r\n              \\--- org.springframework:spring-web:5.0.9.RELEASE -&gt; 5.1.0.RELEASE (*)\r\n\r\n[This is my dependence. spring-boot-starter-amqp is the default. I didn&#39;t modify it.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t48UA.png\r\n","title":"spring-boot shutdown rabbit NoClassDefFoundError","body":"<p>Occasionally NoClassDefFoundError is prompted to quit the JVM process, causing the JVM process to quit normally.</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-amqp/issues/822\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-amqp/issues/822</a></p>\n\n<p><strong>I use:</strong></p>\n\n<pre><code>compile \"org.springframework.boot:spring-boot-starter-amqp:2.0.5.RELEASE\"\n</code></pre>\n\n<p><strong>error1:</strong></p>\n\n<pre><code>2018-10-15 11:16:27,350 [Thread-13] [] [WARN ] o.s.c.s.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:264) - Failed to stop bean 'org.springframework.amqp.rabbit.config.internalRabbitListenerEndpointRegistry'\njava.lang.NoClassDefFoundError: org/springframework/amqp/rabbit/listener/RabbitListenerEndpointRegistry$AggregatingCallback\n        at org.springframework.amqp.rabbit.listener.RabbitListenerEndpointRegistry.stop(RabbitListenerEndpointRegistry.java:260)\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:238)\n        at org.springframework.context.support.DefaultLifecycleProcessor.access$300(DefaultLifecycleProcessor.java:53)\n        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:377)\n        at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:210)\n        at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:128)\n        at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1005)\n        at org.springframework.context.support.AbstractApplicationContext$1.run(AbstractApplicationContext.java:933)\nCaused by: java.lang.ClassNotFoundException: org.springframework.amqp.rabbit.listener.RabbitListenerEndpointRegistry$AggregatingCallback\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 8 common frames omitted\n</code></pre>\n\n<p><strong>error2:</strong></p>\n\n<pre><code>2018-10-15 11:16:57,353 [Thread-13] [] [INFO ] o.s.c.s.DefaultLifecycleProcessor.stop(DefaultLifecycleProcessor.java:387) - Failed to shut down 1 bean with phase value 2147483647 within timeout of 30000: [org.springframework.amqp.rabbit.config.internalRabbitListenerEndpointRegistry]\n2018-10-15 11:16:57,358 [Thread-13] [] [WARN ] o.s.c.s.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:264) - Failed to stop bean 'rabbitTemplate'\njava.lang.BootstrapMethodError: java.lang.NoClassDefFoundError: org/springframework/amqp/rabbit/listener/DirectReplyToMessageListenerContainer\n        at org.springframework.amqp.rabbit.core.RabbitTemplate.isRunning(RabbitTemplate.java:791)\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:231)\n        at org.springframework.context.support.DefaultLifecycleProcessor.access$300(DefaultLifecycleProcessor.java:53)\n        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:377)\n        at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:210)\n        at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:128)\n        at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1005)\n        at org.springframework.context.support.AbstractApplicationContext$1.run(AbstractApplicationContext.java:933)\nCaused by: java.lang.NoClassDefFoundError: org/springframework/amqp/rabbit/listener/DirectReplyToMessageListenerContainer\n        ... 8 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.amqp.rabbit.listener.DirectReplyToMessageListenerContainer\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 8 common frames omitted\n2018-10-15 11:16:57,364 [AMQP Connection 192.168.31.231:5672] [] [ERROR] c.r.c.i.ForgivingExceptionHandler.log(ForgivingExceptionHandler.java:119) - An unexpected connection driver error occured\njava.lang.NoClassDefFoundError: com/rabbitmq/client/impl/ConsumerDispatcher$2\n        at com.rabbitmq.client.impl.ConsumerDispatcher.handleCancelOk(ConsumerDispatcher.java:91)\n        at com.rabbitmq.client.impl.ChannelN$7.transformReply(ChannelN.java:1464)\n        at com.rabbitmq.client.impl.ChannelN$7.transformReply(ChannelN.java:1458)\n        at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.handleCommand(AMQChannel.java:478)\n        at com.rabbitmq.client.impl.RpcContinuationRpcWrapper.complete(RpcContinuationRpcWrapper.java:38)\n        at com.rabbitmq.client.impl.AMQChannel.handleCompleteInboundCommand(AMQChannel.java:196)\n        at com.rabbitmq.client.impl.AMQChannel.handleFrame(AMQChannel.java:111)\n        at com.rabbitmq.client.impl.AMQConnection.readFrame(AMQConnection.java:643)\n        at com.rabbitmq.client.impl.AMQConnection.access$300(AMQConnection.java:47)\n        at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:581)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: com.rabbitmq.client.impl.ConsumerDispatcher$2\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 11 common frames omitted\n</code></pre>\n\n<p><strong>thread dump:</strong></p>\n\n<pre><code>\"Thread-13\" #45 prio=5 os_prio=0 tid=0x00007f000c024800 nid=0x108b in Object.wait() [0x00007effcd4e4000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000000e779bf50&gt; (a com.rabbitmq.utility.BlockingValueOrException)\n    at com.rabbitmq.utility.BlockingCell.get(BlockingCell.java:73)\n    - locked &lt;0x00000000e779bf50&gt; (a com.rabbitmq.utility.BlockingValueOrException)\n    at com.rabbitmq.utility.BlockingCell.uninterruptibleGet(BlockingCell.java:120)\n    - locked &lt;0x00000000e779bf50&gt; (a com.rabbitmq.utility.BlockingValueOrException)\n    at com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:36)\n    at com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:494)\n    at com.rabbitmq.client.impl.ChannelN.basicCancel(ChannelN.java:1477)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.amqp.rabbit.connection.CachingConnectionFactory$CachedChannelInvocationHandler.invoke(CachingConnectionFactory.java:1032)\n    - locked &lt;0x0000000088906598&gt; (a java.lang.Object)\n    at com.sun.proxy.$Proxy84.basicCancel(Unknown Source)\n    at org.springframework.amqp.rabbit.listener.BlockingQueueConsumer.basicCancel(BlockingQueueConsumer.java:399)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doShutdown(SimpleMessageListenerContainer.java:521)\n    - locked &lt;0x0000000088906a60&gt; (a java.lang.Object)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.shutdown(AbstractMessageListenerContainer.java:1100)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.destroy(AbstractMessageListenerContainer.java:1042)\n    at org.springframework.amqp.rabbit.listener.RabbitListenerEndpointRegistry.destroy(RabbitListenerEndpointRegistry.java:221)\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:256)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:571)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:543)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1054)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:504)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1061)\n    at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1037)\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1013)\n    at org.springframework.context.support.AbstractApplicationContext$1.run(AbstractApplicationContext.java:933)\n    - locked &lt;0x00000000879b14a8&gt; (a java.lang.Object)\n</code></pre>\n\n<p><code>Rabbit.MainLoopThread</code> has exited, but <code>SimpleMessageListenerContainer</code> is still waiting for a message to respond. In fact, it will never receive a message. This thread prevents the JVM process from quitting properly.</p>\n\n<p>I don't know why NoClassDefFoundError is prompted here. I'm sure these classes exist, and it's not necessarily possible. I haven't found a reproducing method yet. Initially I used ampq-client-4.0.x, which I thought was too low, and I've upgraded spring-boot-2.x and ampq-client-5.x, but there's the same problem. I really feel helpless. Please give me some hints.</p>\n\n<p><strong>This is my dependence. spring-boot-starter-amqp is the default. I didn't modify it.</strong></p>\n\n<pre><code>\\--- org.springframework.boot:spring-boot-starter-amqp:2.0.5.RELEASE\n     +--- org.springframework.boot:spring-boot-starter:2.0.5.RELEASE (*)\n     +--- org.springframework:spring-messaging:5.0.9.RELEASE\n     |    +--- org.springframework:spring-beans:5.0.9.RELEASE -&gt; 5.1.0.RELEASE (*)\n     |    \\--- org.springframework:spring-core:5.0.9.RELEASE -&gt; 5.1.0.RELEASE (*)\n     \\--- org.springframework.amqp:spring-rabbit:2.0.6.RELEASE\n          +--- org.springframework.amqp:spring-amqp:2.0.6.RELEASE\n          |    +--- org.springframework:spring-core:5.0.9.RELEASE -&gt; 5.1.0.RELEASE (*)\n          |    \\--- org.springframework.retry:spring-retry:1.2.2.RELEASE\n          |         \\--- org.springframework:spring-core:4.3.13.RELEASE -&gt; 5.1.0.RELEASE (*)\n          +--- com.rabbitmq:amqp-client:5.1.2\n          |    \\--- org.slf4j:slf4j-api:1.7.25\n          +--- org.springframework:spring-context:5.0.9.RELEASE -&gt; 5.1.0.RELEASE (*)\n          +--- org.springframework:spring-messaging:5.0.9.RELEASE (*)\n          +--- org.springframework:spring-tx:5.0.9.RELEASE -&gt; 5.1.0.RELEASE (*)\n          \\--- org.springframework:spring-web:5.0.9.RELEASE -&gt; 5.1.0.RELEASE (*)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/t48UA.png\" rel=\"nofollow noreferrer\">This is my dependence. spring-boot-starter-amqp is the default. I didn't modify it.</a></p>\n"},{"tags":["java","spring-boot","predicate","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661247458,"creation_date":1661247458,"answer_id":73456378,"question_id":73454922,"body_markdown":"`path(String path)` method of `PredicateSpec` is also a predicate (like a special case), so if you want multiple predicates you should call `BooleanSpec`&#39;s `and()` or `or()` method (depends on your scenario) and then call another predicate method, like this:\r\n\r\n    public RouteLocator routeLocator(RouteLocatorBuilder builder, CredentialsAuthRoutePredicateFactory ca) {\r\n        return builder.routes()\r\n                .route(&quot;superGraph - get data&quot;,\r\n                        r -&gt; r.path( &quot;/alcoholic-alpaca/**&quot;)\r\n                            .and() // or() ?\r\n                            .predicate(alpacaPredicate)\r\n                            .filters(f -&gt; f.filter(alpacaFilter))\r\n                            .uri(soberAlpacaUri))\r\n                .build();\r\n    }","title":"Spring Cloud Gateway route builder has missing predicate option","body":"<p><code>path(String path)</code> method of <code>PredicateSpec</code> is also a predicate (like a special case), so if you want multiple predicates you should call <code>BooleanSpec</code>'s <code>and()</code> or <code>or()</code> method (depends on your scenario) and then call another predicate method, like this:</p>\n<pre><code>public RouteLocator routeLocator(RouteLocatorBuilder builder, CredentialsAuthRoutePredicateFactory ca) {\n    return builder.routes()\n            .route(&quot;superGraph - get data&quot;,\n                    r -&gt; r.path( &quot;/alcoholic-alpaca/**&quot;)\n                        .and() // or() ?\n                        .predicate(alpacaPredicate)\n                        .filters(f -&gt; f.filter(alpacaFilter))\n                        .uri(soberAlpacaUri))\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":23217247,"reputation":67,"user_id":17310004,"display_name":"DanDevO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73456378,"answer_count":1,"score":0,"last_activity_date":1661247458,"creation_date":1661240846,"question_id":73454922,"body_markdown":"I want to add a predicate to my spring gateway route below\r\n\r\n```\r\npublic RouteLocator routeLocator(RouteLocatorBuilder builder,\r\n                                     CredentialsAuthRoutePredicateFactory ca) {\r\n        return builder.routes()\r\n                .route(&quot;superGraph - get data&quot;,r -&gt; r\r\n                        .path( &quot;/alcoholic-alpaca/**&quot;)\r\n                        .predicate(...)\r\n\r\n```\r\nHowever, the predicate option is underlined, and this error is showing up:\r\n\r\n```\r\n&#39;predicate&#39; is not public in &#39;org.springframework.cloud.gateway.route.builder.BooleanSpec&#39;. Cannot be accessed from outside package\r\n```\r\n\r\nHow can i access predicate in this case?\r\n \r\n","title":"Spring Cloud Gateway route builder has missing predicate option","body":"<p>I want to add a predicate to my spring gateway route below</p>\n<pre><code>public RouteLocator routeLocator(RouteLocatorBuilder builder,\n                                     CredentialsAuthRoutePredicateFactory ca) {\n        return builder.routes()\n                .route(&quot;superGraph - get data&quot;,r -&gt; r\n                        .path( &quot;/alcoholic-alpaca/**&quot;)\n                        .predicate(...)\n\n</code></pre>\n<p>However, the predicate option is underlined, and this error is showing up:</p>\n<pre><code>'predicate' is not public in 'org.springframework.cloud.gateway.route.builder.BooleanSpec'. Cannot be accessed from outside package\n</code></pre>\n<p>How can i access predicate in this case?</p>\n"},{"tags":["java","oracle","websphere","database-connection","ojdbc"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1420552590,"post_id":27799969,"comment_id":44008746,"body_markdown":"If you have Oracle 10g database, you might be using incorrect driver, since ojdbc6.jar is for Oracle 11. Test your application with 10g driver.","body":"If you have Oracle 10g database, you might be using incorrect driver, since ojdbc6.jar is for Oracle 11. Test your application with 10g driver."},{"owner":{"account_id":1341799,"reputation":371,"user_id":1283330,"accept_rate":55,"display_name":"blackberry dev"},"score":0,"creation_date":1420606738,"post_id":27799969,"comment_id":44032733,"body_markdown":"@Gas i tried using ojdbc14.jar but got same error.","body":"@Gas i tried using ojdbc14.jar but got same error."},{"owner":{"account_id":1341799,"reputation":371,"user_id":1283330,"accept_rate":55,"display_name":"blackberry dev"},"score":0,"creation_date":1420613720,"post_id":27799969,"comment_id":44034790,"body_markdown":"Thanks all for your help. I resolved by using latest version of ojdbc14.jar.\nOracle JDBC Driver version - &quot;10.2.0.4.0&quot;\nEarlier i was using jar with Oracle JDBC Driver version - &quot;10.2.0.1.0&quot;. Application is working fine. But now i am trying to run same application and database with WAS8.5 and i am using ojdbc6.jar and i am getting Unparsable date error so still I would like to know where to set Connection properties in WAS 8.5.","body":"Thanks all for your help. I resolved by using latest version of ojdbc14.jar. Oracle JDBC Driver version - &quot;10.2.0.4.0&quot; Earlier i was using jar with Oracle JDBC Driver version - &quot;10.2.0.1.0&quot;. Application is working fine. But now i am trying to run same application and database with WAS8.5 and i am using ojdbc6.jar and i am getting Unparsable date error so still I would like to know where to set Connection properties in WAS 8.5."}],"answers":[{"tags":[],"owner":{"account_id":4056640,"reputation":1703,"user_id":4969140,"accept_rate":88,"display_name":"Adrian Jałoszewski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661247373,"creation_date":1661247373,"answer_id":73456363,"question_id":27799969,"body_markdown":"I recently stumbled upon the same issue. To set the `oracle.jdbc.mapDateToTimestamp=false` property you have to define it in the ***custom properties*** of the DataSource as a key-value pair in the `connectionProperties` property. I tested it on Websphere 9.0.5.4 and Oracle 19c (Driver 19.3.0.0.0), but I believe it should also resolve the issue in the version you are working with.\r\n\r\n[![Configuration][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wktmI.png","title":"Where to set mapDateToTimestamp in Websphere server 7","body":"<p>I recently stumbled upon the same issue. To set the <code>oracle.jdbc.mapDateToTimestamp=false</code> property you have to define it in the <em><strong>custom properties</strong></em> of the DataSource as a key-value pair in the <code>connectionProperties</code> property. I tested it on Websphere 9.0.5.4 and Oracle 19c (Driver 19.3.0.0.0), but I believe it should also resolve the issue in the version you are working with.</p>\n<p><a href=\"https://i.stack.imgur.com/wktmI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wktmI.png\" alt=\"Configuration\" /></a></p>\n"}],"owner":{"account_id":1341799,"reputation":371,"user_id":1283330,"accept_rate":55,"display_name":"blackberry dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":983,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1661247373,"creation_date":1420551948,"question_id":27799969,"body_markdown":"I am using ojdbc6.jar to connect Oracle 10g database. but i am getting Unparsable date error. So i searched on various oracle and found out that we have to set \r\n[Oracle suggestion link][1] and  [Suggestion link2][2]\r\n\r\n&gt; mapDateToTimestamp = false\r\n\r\nBut nowhere they mentioned where to set this connection property in WAS 7.\r\nI tried setting this property in JVM argument but same error.\r\nAlso i tried to set this property in Data source &gt; Custom property.\r\nPFB screenshots![enter image description here][3]\r\n\r\n\r\n![enter image description here][4]\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E18283_01/java.112/e16548/apxref.htm\r\n  [2]: http://oracle.developer-works.com/article/5227657/Does+11.2+jdbc+driver+flag+&#39;mapDateToTimestamp&#39;+works+both+ways+-+In+Out+DB\r\n  [3]: http://i.stack.imgur.com/ceTeZ.png\r\n  [4]: http://i.stack.imgur.com/DSlMj.png","title":"Where to set mapDateToTimestamp in Websphere server 7","body":"<p>I am using ojdbc6.jar to connect Oracle 10g database. but i am getting Unparsable date error. So i searched on various oracle and found out that we have to set \n<a href=\"http://docs.oracle.com/cd/E18283_01/java.112/e16548/apxref.htm\" rel=\"noreferrer\">Oracle suggestion link</a> and  <a href=\"http://oracle.developer-works.com/article/5227657/Does+11.2+jdbc+driver+flag+&#39;mapDateToTimestamp&#39;+works+both+ways+-+In+Out+DB\" rel=\"noreferrer\">Suggestion link2</a></p>\n\n<blockquote>\n  <p>mapDateToTimestamp = false</p>\n</blockquote>\n\n<p>But nowhere they mentioned where to set this connection property in WAS 7.\nI tried setting this property in JVM argument but same error.\nAlso i tried to set this property in Data source > Custom property.\nPFB screenshots<img src=\"https://i.stack.imgur.com/ceTeZ.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/DSlMj.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":9543906,"reputation":1239,"user_id":7090806,"display_name":"Rahul Mishra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661247020,"creation_date":1661247020,"answer_id":73456266,"question_id":73456195,"body_markdown":"If you stored a value in a static variable and kill the application, then your value kept in static variable will be lost. But if you saved it in shared preference then you can read the saved value whether the application is killed from recent or not.\r\n\r\nYou can use static when there is not huge amount of data in the application. sharedpreference can be used if the data is more also and can be stored and retrieved as and when it is required.","title":"Question about the Shared Preference usage","body":"<p>If you stored a value in a static variable and kill the application, then your value kept in static variable will be lost. But if you saved it in shared preference then you can read the saved value whether the application is killed from recent or not.</p>\n<p>You can use static when there is not huge amount of data in the application. sharedpreference can be used if the data is more also and can be stored and retrieved as and when it is required.</p>\n"}],"owner":{"account_id":21902961,"reputation":15,"user_id":16188409,"display_name":"Stimm4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73456266,"answer_count":1,"score":0,"last_activity_date":1661247020,"creation_date":1661246684,"question_id":73456195,"body_markdown":"I would like to know the difference between use a Shared Reference / Editor and a static variable on a specific class.\r\n\r\nTo more explanation :\r\nI first use the Shared Reference in my project to share several variables between Services and Activity. But I&#39;m starting on the Java and Android programmation and I have seen someone use a static variable in a public class.\r\n\r\nBut when do we need to use Static variable or Shared reference ?\r\n\r\nThanks.","title":"Question about the Shared Preference usage","body":"<p>I would like to know the difference between use a Shared Reference / Editor and a static variable on a specific class.</p>\n<p>To more explanation :\nI first use the Shared Reference in my project to share several variables between Services and Activity. But I'm starting on the Java and Android programmation and I have seen someone use a static variable in a public class.</p>\n<p>But when do we need to use Static variable or Shared reference ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","mongodb","date"],"comments":[{"owner":{"account_id":10251787,"reputation":86,"user_id":7565792,"display_name":"Mihael Mihov"},"score":0,"creation_date":1661256366,"post_id":73456155,"comment_id":129723783,"body_markdown":"Please check here, you may find inspiration: https://stackoverflow.com/questions/49011711/java-get-returning-date-as-a-13-digit-number","body":"Please check here, you may find inspiration: <a href=\"https://stackoverflow.com/questions/49011711/java-get-returning-date-as-a-13-digit-number\" title=\"java get returning date as a 13 digit number\">stackoverflow.com/questions/49011711/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1661272084,"post_id":73456155,"comment_id":129730698,"body_markdown":"I strongly recommend you don’t use `Date`. That class is poorly designed and long outdated. For a point in time use `Instant` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>Date</code>. That class is poorly designed and long outdated. For a point in time use <code>Instant</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":14085149,"reputation":21,"user_id":10175083,"display_name":"Kotagiri Sathwik"},"score":1,"creation_date":1661496267,"post_id":73456155,"comment_id":129790385,"body_markdown":"@OleV.V. I have added the required jackson jsr dependency &amp; registered the Object Mapper with the time module. The result of the JSON when retrieving Instant date value is still in the Integer form but the result for a LocalDateTime data type is like this createdOn&quot;: [\n            2022,\n            8,\n            26,\n            5,\n            8,\n            4,\n            196000000\n        ]. I still didn&#39;t get in the Time stamp which I need.","body":"@OleV.V. I have added the required jackson jsr dependency &amp; registered the Object Mapper with the time module. The result of the JSON when retrieving Instant date value is still in the Integer form but the result for a LocalDateTime data type is like this createdOn&quot;: [             2022,             8,             26,             5,             8,             4,             196000000         ]. I still didn&#39;t get in the Time stamp which I need."}],"owner":{"account_id":14085149,"reputation":21,"user_id":10175083,"display_name":"Kotagiri Sathwik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661246489,"creation_date":1661246489,"question_id":73456155,"body_markdown":"POJO:\r\n\r\n    public class POJO {\r\n    \r\n        private String IdpUploadId;\r\n        private String type;\r\n        private String userId;\r\n        private String email;\r\n        private String cnsTenantId;\r\n        private Date createdOn;\r\n        private String createdBy;\r\n        private Date updatedOn;\r\n        private String updateBy;\r\n \r\n }\r\n\r\nHere the Date is coming from the library java.util.date. When I insert the above pojo class into mongodb, the date fields are stored properly as &quot;2022-06-13T14:20:51.511+00:00&quot;. However when I retrieve it, the date is being returned in the integer format like below. Check createdOn and updateBy fields.\r\n\r\n    {\r\n            &quot;type&quot;: &quot;custom&quot;,\r\n            &quot;userId&quot;: &quot;XX&quot;,\r\n            &quot;email&quot;: null,\r\n            &quot;cnsTenantId&quot;: &quot;XX&quot;,\r\n            &quot;createdOn&quot;: 1655130051511,\r\n            &quot;createdBy&quot;: &quot;USERANA002&quot;,\r\n            &quot;updatedOn&quot;: 1655130051511,\r\n            &quot;updateBy&quot;: &quot;XX&quot;,\r\n            &quot;idpUploadId&quot;: &quot;4961c827-0626-465e-9ec6-fd392c69e08b&quot;\r\n     }\r\n\r\nThe above data is retrieved in this way: \r\nMongoCollection&lt;POJO&gt; collection = database.getCollection(&quot;collectionName&quot;, POJO.class);\r\n\r\nHow to retrieve the date in the proper date format ?","title":"Date is returned in Integer form in Mongo DB Java","body":"<p>POJO:</p>\n<pre><code>public class POJO {\n\n    private String IdpUploadId;\n    private String type;\n    private String userId;\n    private String email;\n    private String cnsTenantId;\n    private Date createdOn;\n    private String createdBy;\n    private Date updatedOn;\n    private String updateBy;\n</code></pre>\n<p>}</p>\n<p>Here the Date is coming from the library java.util.date. When I insert the above pojo class into mongodb, the date fields are stored properly as &quot;2022-06-13T14:20:51.511+00:00&quot;. However when I retrieve it, the date is being returned in the integer format like below. Check createdOn and updateBy fields.</p>\n<pre><code>{\n        &quot;type&quot;: &quot;custom&quot;,\n        &quot;userId&quot;: &quot;XX&quot;,\n        &quot;email&quot;: null,\n        &quot;cnsTenantId&quot;: &quot;XX&quot;,\n        &quot;createdOn&quot;: 1655130051511,\n        &quot;createdBy&quot;: &quot;USERANA002&quot;,\n        &quot;updatedOn&quot;: 1655130051511,\n        &quot;updateBy&quot;: &quot;XX&quot;,\n        &quot;idpUploadId&quot;: &quot;4961c827-0626-465e-9ec6-fd392c69e08b&quot;\n }\n</code></pre>\n<p>The above data is retrieved in this way:\nMongoCollection collection = database.getCollection(&quot;collectionName&quot;, POJO.class);</p>\n<p>How to retrieve the date in the proper date format ?</p>\n"},{"tags":["java","xml","eclipse","xsd","jaxb"],"answers":[{"tags":[],"owner":{"account_id":9841032,"reputation":188,"user_id":7290045,"accept_rate":100,"display_name":"Abdul Ahad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1587064059,"creation_date":1517312772,"answer_id":48520689,"question_id":48441532,"body_markdown":"Using the following binding code i have resolved my issue \r\n\r\n    &lt;jaxb:bindings\r\n         schemaLocation=&quot;structures.xsd&quot;\r\n         node=&quot;//xs:complexType[@name=&#39;Instruction&#39;]/xs:choice/xs:sequence[1]/xs:sequence[1]&quot;&gt;\r\n         &lt;jaxb:property name=&quot;seq1&quot;/&gt;\r\n    &lt;/jaxb:bindings&gt;","title":"JaxB property value is already defined. Use &amp;lt;jaxb:property&gt; to resolve this conflict","body":"<p>Using the following binding code i have resolved my issue </p>\n\n<pre><code>&lt;jaxb:bindings\n     schemaLocation=\"structures.xsd\"\n     node=\"//xs:complexType[@name='Instruction']/xs:choice/xs:sequence[1]/xs:sequence[1]\"&gt;\n     &lt;jaxb:property name=\"seq1\"/&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n"}],"owner":{"account_id":9841032,"reputation":188,"user_id":7290045,"accept_rate":100,"display_name":"Abdul Ahad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4544,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48520689,"answer_count":1,"score":2,"last_activity_date":1661245716,"creation_date":1516878801,"question_id":48441532,"body_markdown":"I am using the following xsd schema file to generate java classes\r\n\r\n    &lt;xsd:complexType name=&quot;Instruction&quot;&gt;\r\n\t&lt;xsd:choice&gt;\r\n\t\t&lt;xsd:sequence&gt;\r\n\t\t\t&lt;xsd:element name=&quot;InstructionIndicator&quot; type=&quot;InstructionIndicator&quot;&gt;\r\n\t\t\t\t&lt;xsd:annotation&gt;\r\n\t\t\t\t\t&lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\r\n\t\t\t\t&lt;/xsd:annotation&gt;\r\n\t\t\t&lt;/xsd:element&gt;\r\n\t\t\t&lt;xsd:sequence minOccurs=&quot;0&quot; maxOccurs=&quot;49&quot;&gt;\r\n\t\t\t\t&lt;xsd:element name=&quot;MultipleTimingModifier&quot; type=&quot;ANDOR&quot;\r\n\t\t\t\t\tminOccurs=&quot;0&quot;&gt;\r\n\t\t\t\t\t&lt;xsd:annotation&gt;\r\n\t\t\t\t\t\t&lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\r\n\t\t\t\t\t&lt;/xsd:annotation&gt;\r\n\t\t\t\t&lt;/xsd:element&gt;\r\n\t\t\t\t&lt;xsd:element name=&quot;TimingAndDuration&quot; type=&quot;TimingAndDuration&quot; /&gt;\r\n\t\t\t&lt;/xsd:sequence&gt;\r\n\t\t&lt;/xsd:sequence&gt;\r\n\t\t&lt;xsd:sequence&gt;\r\n\t\t\t&lt;xsd:choice&gt;\r\n\t\t\t\t&lt;xsd:element name=&quot;AdministrationIndicator&quot; type=&quot;AdministrationIndicator&quot;&gt;\r\n\t\t\t\t\t&lt;xsd:annotation&gt;\r\n\t\t\t\t\t\t&lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\r\n\t\t\t\t\t&lt;/xsd:annotation&gt;\r\n\t\t\t\t&lt;/xsd:element&gt;\r\n\t\t\t\t&lt;xsd:sequence&gt;\r\n\t\t\t\t\t&lt;xsd:element name=&quot;DoseAdministration&quot; type=&quot;DoseAdministration&quot; /&gt;\r\n\t\t\t\t\t&lt;xsd:element name=&quot;TimingAndDuration&quot; type=&quot;TimingAndDuration&quot;&gt;\r\n\t\t\t\t\t\t&lt;xsd:annotation&gt;\r\n\t\t\t\t\t\t\t&lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\r\n\t\t\t\t\t\t&lt;/xsd:annotation&gt;\r\n\t\t\t\t\t&lt;/xsd:element&gt;\r\n\t\t\t\t\t&lt;xsd:sequence minOccurs=&quot;0&quot; maxOccurs=&quot;49&quot;&gt;\r\n\t\t\t\t\t\t&lt;xsd:element name=&quot;MultipleTimingModifier&quot; type=&quot;ANDOR&quot;\r\n\t\t\t\t\t\t\tminOccurs=&quot;0&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;xsd:annotation&gt;\r\n\t\t\t\t\t\t\t\t&lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\r\n\t\t\t\t\t\t\t&lt;/xsd:annotation&gt;\r\n\t\t\t\t\t\t&lt;/xsd:element&gt;\r\n\t\t\t\t\t\t&lt;xsd:element name=&quot;TimingAndDuration&quot; type=&quot;TimingAndDuration&quot; /&gt;\r\n\t\t\t\t\t&lt;/xsd:sequence&gt;\r\n\t\t\t\t&lt;/xsd:sequence&gt;\r\n\t\t\t&lt;/xsd:choice&gt;\r\n\t\t\t&lt;xsd:sequence minOccurs=&quot;0&quot;&gt;\r\n\t\t\t\t&lt;xsd:element name=&quot;IndicationForUse&quot; type=&quot;Indication&quot;\r\n\t\t\t\t\tmaxOccurs=&quot;50&quot;&gt;\r\n\t\t\t\t\t&lt;xsd:annotation&gt;\r\n\t\t\t\t\t\t&lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\r\n\t\t\t\t\t&lt;/xsd:annotation&gt;\r\n\t\t\t\t&lt;/xsd:element&gt;\r\n\t\t\t\t&lt;xsd:element name=&quot;IndicationClarifyingFreeText&quot; type=&quot;an1..255&quot;\r\n\t\t\t\t\tminOccurs=&quot;0&quot; /&gt;\r\n\t\t\t&lt;/xsd:sequence&gt;\r\n\t\t\t&lt;xsd:element name=&quot;MaximumDoseRestriction&quot; type=&quot;MaximumDoseRestriction&quot;\r\n\t\t\t\tminOccurs=&quot;0&quot; maxOccurs=&quot;50&quot;&gt;\r\n\t\t\t\t&lt;xsd:annotation&gt;\r\n\t\t\t\t\t&lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\r\n\t\t\t\t&lt;/xsd:annotation&gt;\r\n\t\t\t&lt;/xsd:element&gt;\r\n\t\t&lt;/xsd:sequence&gt;\r\n\t&lt;/xsd:choice&gt;\r\n&lt;/xsd:complexType&gt;\r\n\r\nBut processing this results in an error \r\n\r\n&gt; Property &quot;MultipleTimingModifierAndTimingAndDuration&quot; is already defined. Use &amp;lt;jaxb:property&gt; to resolve this conflict.\r\n\r\nTo resolve this i wrote a binding file with following content\r\n\r\n    &lt;jaxb:bindings xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n\txmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\r\n\tjaxb:extensionBindingPrefixes=&quot;xjc&quot; version=&quot;2.0&quot;&gt;\r\n\r\n\t&lt;jaxb:bindings schemaLocation=&quot;structures.xsd&quot;\r\n\t\tnode=&quot;//xs:complexType[@name=&#39;Instruction&#39;]/xs:choice[1]\r\n\t\t/xs:sequence[1]/xs:sequence/xs:element[@name=&#39;MultipleTimingModifier&#39;]&quot;&gt;\r\n\t\t&lt;jaxb:property name=&quot;MultipleTimingModifier1&quot; /&gt;\r\n\t&lt;/jaxb:bindings&gt;\r\n\r\n\t&lt;jaxb:bindings schemaLocation=&quot;structures.xsd&quot;\r\n\t\tnode=&quot;//xs:complexType[@name=&#39;Instruction&#39;]/xs:choice\r\n\t\t/xs:sequence[1]/xs:sequence/xs:element[@name=&#39;TimingAndDuration&#39;]&quot;&gt;\r\n\t\t&lt;jaxb:property name=&quot;TimingAndDuration1&quot; /&gt;\r\n\t&lt;/jaxb:bindings&gt;\r\n\r\n\r\n&lt;/jaxb:bindings&gt;\r\n\r\nafter adding this binding file while generating Jaxb classes in elcipse the following error is produced\r\n\r\n&gt; compiler was unable to honor this property customization. It is attached to a wrong place, or its inconsistent with other bindings.\r\n\r\nthe classes will successfully generate if maxoccurs=&quot;49&quot; constraint is removed from targeted sequence node\r\n\r\nNote:\r\n\r\n - the schema is a combination of 5 different files and is of more then 2000 lines\r\n - only the part in which error is produced is shared here\r\n\r\n","title":"JaxB property value is already defined. Use &amp;lt;jaxb:property&gt; to resolve this conflict","body":"<p>I am using the following xsd schema file to generate java classes</p>\n<pre><code>&lt;xsd:complexType name=&quot;Instruction&quot;&gt;\n&lt;xsd:choice&gt;\n    &lt;xsd:sequence&gt;\n        &lt;xsd:element name=&quot;InstructionIndicator&quot; type=&quot;InstructionIndicator&quot;&gt;\n            &lt;xsd:annotation&gt;\n                &lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\n            &lt;/xsd:annotation&gt;\n        &lt;/xsd:element&gt;\n        &lt;xsd:sequence minOccurs=&quot;0&quot; maxOccurs=&quot;49&quot;&gt;\n            &lt;xsd:element name=&quot;MultipleTimingModifier&quot; type=&quot;ANDOR&quot;\n                minOccurs=&quot;0&quot;&gt;\n                &lt;xsd:annotation&gt;\n                    &lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\n                &lt;/xsd:annotation&gt;\n            &lt;/xsd:element&gt;\n            &lt;xsd:element name=&quot;TimingAndDuration&quot; type=&quot;TimingAndDuration&quot; /&gt;\n        &lt;/xsd:sequence&gt;\n    &lt;/xsd:sequence&gt;\n    &lt;xsd:sequence&gt;\n        &lt;xsd:choice&gt;\n            &lt;xsd:element name=&quot;AdministrationIndicator&quot; type=&quot;AdministrationIndicator&quot;&gt;\n                &lt;xsd:annotation&gt;\n                    &lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\n                &lt;/xsd:annotation&gt;\n            &lt;/xsd:element&gt;\n            &lt;xsd:sequence&gt;\n                &lt;xsd:element name=&quot;DoseAdministration&quot; type=&quot;DoseAdministration&quot; /&gt;\n                &lt;xsd:element name=&quot;TimingAndDuration&quot; type=&quot;TimingAndDuration&quot;&gt;\n                    &lt;xsd:annotation&gt;\n                        &lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\n                    &lt;/xsd:annotation&gt;\n                &lt;/xsd:element&gt;\n                &lt;xsd:sequence minOccurs=&quot;0&quot; maxOccurs=&quot;49&quot;&gt;\n                    &lt;xsd:element name=&quot;MultipleTimingModifier&quot; type=&quot;ANDOR&quot;\n                        minOccurs=&quot;0&quot;&gt;\n                        &lt;xsd:annotation&gt;\n                            &lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\n                        &lt;/xsd:annotation&gt;\n                    &lt;/xsd:element&gt;\n                    &lt;xsd:element name=&quot;TimingAndDuration&quot; type=&quot;TimingAndDuration&quot; /&gt;\n                &lt;/xsd:sequence&gt;\n            &lt;/xsd:sequence&gt;\n        &lt;/xsd:choice&gt;\n        &lt;xsd:sequence minOccurs=&quot;0&quot;&gt;\n            &lt;xsd:element name=&quot;IndicationForUse&quot; type=&quot;Indication&quot;\n                maxOccurs=&quot;50&quot;&gt;\n                &lt;xsd:annotation&gt;\n                    &lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\n                &lt;/xsd:annotation&gt;\n            &lt;/xsd:element&gt;\n            &lt;xsd:element name=&quot;IndicationClarifyingFreeText&quot; type=&quot;an1..255&quot;\n                minOccurs=&quot;0&quot; /&gt;\n        &lt;/xsd:sequence&gt;\n        &lt;xsd:element name=&quot;MaximumDoseRestriction&quot; type=&quot;MaximumDoseRestriction&quot;\n            minOccurs=&quot;0&quot; maxOccurs=&quot;50&quot;&gt;\n            &lt;xsd:annotation&gt;\n                &lt;xsd:documentation&gt;some text&lt;/xsd:documentation&gt;\n            &lt;/xsd:annotation&gt;\n        &lt;/xsd:element&gt;\n    &lt;/xsd:sequence&gt;\n&lt;/xsd:choice&gt;\n</code></pre>\n<p>&lt;/xsd:complexType&gt;</p>\n<p>But processing this results in an error</p>\n<blockquote>\n<p>Property &quot;MultipleTimingModifierAndTimingAndDuration&quot; is already defined. Use &lt;jaxb:property&gt; to resolve this conflict.</p>\n</blockquote>\n<p>To resolve this i wrote a binding file with following content</p>\n<pre><code>&lt;jaxb:bindings xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\nxmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;\njaxb:extensionBindingPrefixes=&quot;xjc&quot; version=&quot;2.0&quot;&gt;\n\n&lt;jaxb:bindings schemaLocation=&quot;structures.xsd&quot;\n    node=&quot;//xs:complexType[@name='Instruction']/xs:choice[1]\n    /xs:sequence[1]/xs:sequence/xs:element[@name='MultipleTimingModifier']&quot;&gt;\n    &lt;jaxb:property name=&quot;MultipleTimingModifier1&quot; /&gt;\n&lt;/jaxb:bindings&gt;\n\n&lt;jaxb:bindings schemaLocation=&quot;structures.xsd&quot;\n    node=&quot;//xs:complexType[@name='Instruction']/xs:choice\n    /xs:sequence[1]/xs:sequence/xs:element[@name='TimingAndDuration']&quot;&gt;\n    &lt;jaxb:property name=&quot;TimingAndDuration1&quot; /&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>&lt;/jaxb:bindings&gt;</p>\n<p>after adding this binding file while generating Jaxb classes in elcipse the following error is produced</p>\n<blockquote>\n<p>compiler was unable to honor this property customization. It is attached to a wrong place, or its inconsistent with other bindings.</p>\n</blockquote>\n<p>the classes will successfully generate if maxoccurs=&quot;49&quot; constraint is removed from targeted sequence node</p>\n<p>Note:</p>\n<ul>\n<li>the schema is a combination of 5 different files and is of more then 2000 lines</li>\n<li>only the part in which error is produced is shared here</li>\n</ul>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661244275,"post_id":73455528,"comment_id":129719212,"body_markdown":"Wouldn&#39;t simply converting it to a string solve the issue? `TestData.getCellDataasnumber(1, 3).toString()`","body":"Wouldn&#39;t simply converting it to a string solve the issue? <code>TestData.getCellDataasnumber(1, 3).toString()</code>"},{"owner":{"account_id":19103478,"reputation":93,"user_id":13951200,"display_name":"abhi"},"score":0,"creation_date":1661244461,"post_id":73455528,"comment_id":129719276,"body_markdown":"After adding getting Cannot invoke toString() on the primitive type int","body":"After adding getting Cannot invoke toString() on the primitive type int"},{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":1,"creation_date":1661244511,"post_id":73455528,"comment_id":129719294,"body_markdown":"How about this? `String.valueOf(TestData.getCellDataasnumber(1, 3))`","body":"How about this? <code>String.valueOf(TestData.getCellDataasnumber(1, 3))</code>"},{"owner":{"account_id":19103478,"reputation":93,"user_id":13951200,"display_name":"abhi"},"score":1,"creation_date":1661244700,"post_id":73455528,"comment_id":129719365,"body_markdown":"Working..... Thank u. which site u are referring","body":"Working..... Thank u. which site u are referring"},{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661245061,"post_id":73455528,"comment_id":129719514,"body_markdown":"Great, I&#39;ve written an answer with some more explanation.","body":"Great, I&#39;ve written an answer with some more explanation."}],"answers":[{"tags":[],"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661245353,"creation_date":1661245010,"answer_id":73455810,"question_id":73455528,"body_markdown":"Just as the error says, you need a `CharSequence` as the parameter of the `sendKeys` method, instead of an `int`:\r\n\r\n&gt; The method sendKeys(CharSequence...) in the type WebElement is not applicable for the arguments (int)\r\n\r\n\r\nThis means that you have to convert the `int` to a CharSequence. In practice, the simplest way to get a `CharSequence` is to create a [`String`][1], so the solution is to convert the `int` to a `String`. You can achieve this in the following way:\r\n```java\r\nString.valueOf(TestData.getCellDataasnumber(1, 3))\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html","title":"The method sendKeys(CharSequence...) in the type WebElement is not applicable for the arguments (int)","body":"<p>Just as the error says, you need a <code>CharSequence</code> as the parameter of the <code>sendKeys</code> method, instead of an <code>int</code>:</p>\n<blockquote>\n<p>The method sendKeys(CharSequence...) in the type WebElement is not applicable for the arguments (int)</p>\n</blockquote>\n<p>This means that you have to convert the <code>int</code> to a CharSequence. In practice, the simplest way to get a <code>CharSequence</code> is to create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a>, so the solution is to convert the <code>int</code> to a <code>String</code>. You can achieve this in the following way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String.valueOf(TestData.getCellDataasnumber(1, 3))\n</code></pre>\n"}],"owner":{"account_id":19103478,"reputation":93,"user_id":13951200,"display_name":"abhi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73455810,"answer_count":1,"score":0,"last_activity_date":1661245353,"creation_date":1661243826,"question_id":73455528,"body_markdown":"```\r\nimport java.io.*;\r\nimport org.apache.poi.xssf.usermodel.*;\r\n    \r\npublic class ExcelUtils {\r\n   private XSSFSheet ExcelWSheet;\r\n   private XSSFWorkbook ExcelWBook;\r\n   \r\n   //Constructor to connect to the Excel with sheetname and Path\r\n   public Excelutils(String Path, String SheetName) throws Exception {\r\n   \r\n      try {\r\n         // Open the Excel file\r\n         FileInputStream ExcelFile = new FileInputStream(Path);\r\n         \r\n         // Access the required test data sheet\r\n         ExcelWBook = new XSSFWorkbook(ExcelFile);\r\n         ExcelWSheet = ExcelWBook.getSheet(SheetName);\r\n      } catch (Exception e) {\r\n         throw (e);\r\n      }\r\n   }\r\n      \r\n   //This method is to set the rowcount of the excel.\r\n   public int excel_get_rows() throws Exception {\r\n   \r\n      try {\r\n         return ExcelWSheet.getPhysicalNumberOfRows();\r\n      } catch (Exception e) {\r\n         throw (e);\r\n      }\r\n   }\r\n   \r\n   \r\n   \r\n   //This method to get the data and get the value as number.\r\n   public double getCellDataasnumber(int RowNum, int ColNum) throws Exception {\r\n   \r\n      try {\r\n         double CellData =\r\n            ExcelWSheet.getRow(RowNum).getCell(ColNum).getNumericCellValue();\r\n         System.out.println(&quot;The value of CellData &quot; + CellData);\r\n         return CellData;\r\n      } catch (Exception e) {\r\n         return 000.00;\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nAnd in Main function i am calling\r\n\r\n```java\r\nimport Utils.ExcelUtils;\r\n\r\npublic class getInt extends OpenDriver {\r\n\r\n\t@Test\r\n\tpublic void getInt() throws Exception {\r\n             ExcelUtils TestData = new ExcelUtils(&quot;D:\\\\Selenium Automation\\\\TestData\\\\user.xlsx&quot;,\r\n\t\t&quot;User&quot;);\r\n\r\n\t\tdriver = LaunchBrowser();\r\n\r\n\r\n\t\tdriver.findElement(By.xpath(&quot;//input[@name=&#39;capacity&#39;]&quot;)).sendKeys(TestData.getCellDataasnumber(1, 3));\r\n\t}\r\n}\r\n```\r\n\r\n 1. here i have created a excelutils and defined all my functions overthere\r\n 2. in main i have used excelUtils and passing value\r\n 3. I am getting error &quot;The method sendKeys(CharSequence...) in the type WebElement is not applicable for the arguments (int)&quot;\r\n 4. TestData.getCellDataasnumber(1, 3) will get number 25 from excel sheet.\r\n 5. tried, error not fixing\r\n 6. How can i fix this error","title":"The method sendKeys(CharSequence...) in the type WebElement is not applicable for the arguments (int)","body":"<pre><code>import java.io.*;\nimport org.apache.poi.xssf.usermodel.*;\n    \npublic class ExcelUtils {\n   private XSSFSheet ExcelWSheet;\n   private XSSFWorkbook ExcelWBook;\n   \n   //Constructor to connect to the Excel with sheetname and Path\n   public Excelutils(String Path, String SheetName) throws Exception {\n   \n      try {\n         // Open the Excel file\n         FileInputStream ExcelFile = new FileInputStream(Path);\n         \n         // Access the required test data sheet\n         ExcelWBook = new XSSFWorkbook(ExcelFile);\n         ExcelWSheet = ExcelWBook.getSheet(SheetName);\n      } catch (Exception e) {\n         throw (e);\n      }\n   }\n      \n   //This method is to set the rowcount of the excel.\n   public int excel_get_rows() throws Exception {\n   \n      try {\n         return ExcelWSheet.getPhysicalNumberOfRows();\n      } catch (Exception e) {\n         throw (e);\n      }\n   }\n   \n   \n   \n   //This method to get the data and get the value as number.\n   public double getCellDataasnumber(int RowNum, int ColNum) throws Exception {\n   \n      try {\n         double CellData =\n            ExcelWSheet.getRow(RowNum).getCell(ColNum).getNumericCellValue();\n         System.out.println(&quot;The value of CellData &quot; + CellData);\n         return CellData;\n      } catch (Exception e) {\n         return 000.00;\n      }\n   }\n}\n</code></pre>\n<p>And in Main function i am calling</p>\n<pre class=\"lang-java prettyprint-override\"><code>import Utils.ExcelUtils;\n\npublic class getInt extends OpenDriver {\n\n    @Test\n    public void getInt() throws Exception {\n             ExcelUtils TestData = new ExcelUtils(&quot;D:\\\\Selenium Automation\\\\TestData\\\\user.xlsx&quot;,\n        &quot;User&quot;);\n\n        driver = LaunchBrowser();\n\n\n        driver.findElement(By.xpath(&quot;//input[@name='capacity']&quot;)).sendKeys(TestData.getCellDataasnumber(1, 3));\n    }\n}\n</code></pre>\n<ol>\n<li>here i have created a excelutils and defined all my functions overthere</li>\n<li>in main i have used excelUtils and passing value</li>\n<li>I am getting error &quot;The method sendKeys(CharSequence...) in the type WebElement is not applicable for the arguments (int)&quot;</li>\n<li>TestData.getCellDataasnumber(1, 3) will get number 25 from excel sheet.</li>\n<li>tried, error not fixing</li>\n<li>How can i fix this error</li>\n</ol>\n"},{"tags":["java","avro"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1567923638,"creation_date":1567923638,"answer_id":57839625,"question_id":57839608,"body_markdown":"You can use its method [toString()][1]\r\n\r\n&gt;toString in interface CharSequence\r\n\r\n[1]:https://avro.apache.org/docs/1.5.1/api/java/org/apache/avro/util/Utf8.html#toString()","title":"Convert org.apache.avro.util.Utf8 to java.lang.String","body":"<p>You can use its method <a href=\"https://avro.apache.org/docs/1.5.1/api/java/org/apache/avro/util/Utf8.html#toString()\" rel=\"noreferrer\">toString()</a></p>\n\n<blockquote>\n  <p>toString in interface CharSequence</p>\n</blockquote>\n"}],"owner":{"account_id":5603475,"reputation":3045,"user_id":4438921,"accept_rate":67,"display_name":"linrongbin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13769,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":57839625,"answer_count":1,"score":7,"last_activity_date":1661245345,"creation_date":1567923374,"question_id":57839608,"body_markdown":"I write a sample with avro library. It generate java class source code `User` from schema `record User`.\r\n\r\nI want to encode `User` to `byte[]`, and decode `byte[]` to `User`.\r\n\r\nWhen decoding, I&#39;ve got error message:\r\n\r\n```\r\njava.lang.ClassCastException: org.apache.avro.util.Utf8 cannot be cast to java.lang.String\r\n```\r\n\r\nHow to convert `org.apache.avro.util.Utf8` to java `String` ?\r\n","title":"Convert org.apache.avro.util.Utf8 to java.lang.String","body":"<p>I write a sample with avro library. It generate java class source code <code>User</code> from schema <code>record User</code>.</p>\n\n<p>I want to encode <code>User</code> to <code>byte[]</code>, and decode <code>byte[]</code> to <code>User</code>.</p>\n\n<p>When decoding, I've got error message:</p>\n\n<pre><code>java.lang.ClassCastException: org.apache.avro.util.Utf8 cannot be cast to java.lang.String\n</code></pre>\n\n<p>How to convert <code>org.apache.avro.util.Utf8</code> to java <code>String</code> ?</p>\n"},{"tags":["java","filter"],"comments":[{"owner":{"account_id":268201,"reputation":419,"user_id":1573368,"display_name":"Sheel Prabhakar"},"score":0,"creation_date":1660477325,"post_id":73351198,"comment_id":129537810,"body_markdown":"Do you want a preview in IDE while debugging?","body":"Do you want a preview in IDE while debugging?"},{"owner":{"account_id":9345261,"reputation":130,"user_id":6936716,"display_name":"ottis79"},"score":0,"creation_date":1660477786,"post_id":73351198,"comment_id":129537921,"body_markdown":"Hi @SheelPrabhakar, I need to create a Map o similar object with value of MultipartFiles that you can see in my debug images. I have difficult to retrieve value from multipartFiles parameter in HttpServletRequest object.","body":"Hi @SheelPrabhakar, I need to create a Map o similar object with value of MultipartFiles that you can see in my debug images. I have difficult to retrieve value from multipartFiles parameter in HttpServletRequest object."}],"answers":[{"tags":[],"owner":{"account_id":9345261,"reputation":130,"user_id":6936716,"display_name":"ottis79"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661245082,"creation_date":1661245082,"answer_id":73455826,"question_id":73351198,"body_markdown":"One possible solution is to cast the request in MockMultipartHttpServletRequest object:\r\n\r\n    if (httpRequest instanceof MockMultipartHttpServletRequest) {\r\n    final MockMultipartHttpServletRequest mock = (MockMultipartHttpServletRequest) httpRequest ;\r\n    final List&lt;String&gt; parts = new ArrayList&lt;&gt;();\r\n    for (final Map.Entry&lt;String, List&lt;MultipartFile&gt;&gt; entry : mock.getMultiFileMap().entrySet()) {\r\n        for (final MultipartFile file : entry.getValue()) {\r\n            parts.add(file.getName());\r\n        }\r\n    }\r\n    return parts;","title":"How to get multipart Parameters from HTTPServletRequest to create a swagger object to trace coverage contract test","body":"<p>One possible solution is to cast the request in MockMultipartHttpServletRequest object:</p>\n<pre><code>if (httpRequest instanceof MockMultipartHttpServletRequest) {\nfinal MockMultipartHttpServletRequest mock = (MockMultipartHttpServletRequest) httpRequest ;\nfinal List&lt;String&gt; parts = new ArrayList&lt;&gt;();\nfor (final Map.Entry&lt;String, List&lt;MultipartFile&gt;&gt; entry : mock.getMultiFileMap().entrySet()) {\n    for (final MultipartFile file : entry.getValue()) {\n        parts.add(file.getName());\n    }\n}\nreturn parts;\n</code></pre>\n"}],"owner":{"account_id":9345261,"reputation":130,"user_id":6936716,"display_name":"ottis79"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73455826,"answer_count":1,"score":-1,"last_activity_date":1661245082,"creation_date":1660476054,"question_id":73351198,"body_markdown":"I&#39;m building a filter to trace the coverage about contract test.\r\nMy java Filter is:\r\n\r\n    public void doFilter(final ServletRequest servletRequest, final ServletResponse servletResponse, final FilterChain filterChain) throws IOException, ServletException {\r\n    MultiReadHttpServletRequest cacheReq = new MultiReadHttpServletRequest((HttpServletRequest)servletRequest);\r\n    MultiReadHttpServletResponse cacheResp = new MultiReadHttpServletResponse((HttpServletResponse)servletResponse);\r\n    log.info(&quot;Collecting coverage data open api 2 ...&quot;);\r\n    filterChain.doFilter(cacheReq, cacheResp);\r\n    Operation operation = new Operation();\r\n    ParameterMap parameterMap = this.retrieveParam.getPathParameter(cacheReq.getRequestURI(), cacheReq.getParameterMap());\r\n\r\n\r\nI have a httpRequest object like (debug image from ide):\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Piweh.png\r\n\r\nI have difficult to retrieve value from multipartFiles parameter in HttpServletRequest object. Is it possible to create a structure to retrieve this information?","title":"How to get multipart Parameters from HTTPServletRequest to create a swagger object to trace coverage contract test","body":"<p>I'm building a filter to trace the coverage about contract test.\nMy java Filter is:</p>\n<pre><code>public void doFilter(final ServletRequest servletRequest, final ServletResponse servletResponse, final FilterChain filterChain) throws IOException, ServletException {\nMultiReadHttpServletRequest cacheReq = new MultiReadHttpServletRequest((HttpServletRequest)servletRequest);\nMultiReadHttpServletResponse cacheResp = new MultiReadHttpServletResponse((HttpServletResponse)servletResponse);\nlog.info(&quot;Collecting coverage data open api 2 ...&quot;);\nfilterChain.doFilter(cacheReq, cacheResp);\nOperation operation = new Operation();\nParameterMap parameterMap = this.retrieveParam.getPathParameter(cacheReq.getRequestURI(), cacheReq.getParameterMap());\n</code></pre>\n<p>I have a httpRequest object like (debug image from ide):</p>\n<p><a href=\"https://i.stack.imgur.com/Piweh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Piweh.png\" alt=\"enter image description here\" /></a></p>\n<p>I have difficult to retrieve value from multipartFiles parameter in HttpServletRequest object. Is it possible to create a structure to retrieve this information?</p>\n"},{"tags":["java","spring-boot","fasterxml"],"comments":[{"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"score":0,"creation_date":1546784946,"post_id":54062469,"comment_id":94958045,"body_markdown":"Why are you parsing and constructing JSON Manually? Why not let Spring/Jackson do this for you?","body":"Why are you parsing and constructing JSON Manually? Why not let Spring/Jackson do this for you?"},{"owner":{"account_id":290411,"reputation":1535,"user_id":6171247,"accept_rate":92,"display_name":"robbie70"},"score":0,"creation_date":1546785431,"post_id":54062469,"comment_id":94958212,"body_markdown":"Hi Todd, the error I reported above is coming from Spring/Jackson. I wrote the Unit Test to try and see if I could reproduce the error but I wasnt able to. Unless I have misunderstood you. Have I added code which I should be leaving to Spring/Jackson to do for me ?","body":"Hi Todd, the error I reported above is coming from Spring/Jackson. I wrote the Unit Test to try and see if I could reproduce the error but I wasnt able to. Unless I have misunderstood you. Have I added code which I should be leaving to Spring/Jackson to do for me ?"},{"owner":{"account_id":9273909,"reputation":3750,"user_id":6887084,"display_name":"ScanQR"},"score":0,"creation_date":1546785448,"post_id":54062469,"comment_id":94958217,"body_markdown":"I tried using your code and it works well! Show us your product class as well if you can.","body":"I tried using your code and it works well! Show us your product class as well if you can."},{"owner":{"account_id":290411,"reputation":1535,"user_id":6171247,"accept_rate":92,"display_name":"robbie70"},"score":0,"creation_date":1546785738,"post_id":54062469,"comment_id":94958281,"body_markdown":"thanks ScanQR - how did you test it ? I seem to get it when call the full RestAPI and the Spring/Jackson processes are handling the unmarshalling.","body":"thanks ScanQR - how did you test it ? I seem to get it when call the full RestAPI and the Spring/Jackson processes are handling the unmarshalling."},{"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"score":0,"creation_date":1546786222,"post_id":54062469,"comment_id":94958435,"body_markdown":"Your test case doesn&#39;t represent what you are doing. Your test case should test Products object which contains with Price object. Then you will get a real test case.","body":"Your test case doesn&#39;t represent what you are doing. Your test case should test Products object which contains with Price object. Then you will get a real test case."},{"owner":{"account_id":290411,"reputation":1535,"user_id":6171247,"accept_rate":92,"display_name":"robbie70"},"score":0,"creation_date":1546790545,"post_id":54062469,"comment_id":94959613,"body_markdown":"@JonathanJohx I&#39;ve updated the question now by replacing the UnitTest of Price with one for Product and this works fine.","body":"@JonathanJohx I&#39;ve updated the question now by replacing the UnitTest of Price with one for Product and this works fine."},{"owner":{"account_id":290411,"reputation":1535,"user_id":6171247,"accept_rate":92,"display_name":"robbie70"},"score":0,"creation_date":1546790555,"post_id":54062469,"comment_id":94959614,"body_markdown":"@ScanQR I&#39;ve included the details for Product","body":"@ScanQR I&#39;ve included the details for Product"},{"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"score":1,"creation_date":1546793345,"post_id":54062469,"comment_id":94960573,"body_markdown":"@robbie70 I think you need to test it from ProductList class which you have. Please try to replicate the same values that you are doing. And can you add code where you can you are calling to the deserializer?thank you","body":"@robbie70 I think you need to test it from ProductList class which you have. Please try to replicate the same values that you are doing. And can you add code where you can you are calling to the deserializer?thank you"},{"owner":{"account_id":290411,"reputation":1535,"user_id":6171247,"accept_rate":92,"display_name":"robbie70"},"score":0,"creation_date":1546816846,"post_id":54062469,"comment_id":94966982,"body_markdown":"@JonathanJohx I&#39;ve updated the test for ProductList as you suggested, that was a good call. And the test still passes !\nI am not quite sure how I can add debug code into the deserialiser part - that bit of the application seems to be hidden from me -  the specific line I am executing in the Controller is shown below\n        \nResponseEntity&lt;ProductList&gt; restRes = restTemplate.exchange(&quot;https://jl-nonprod-syst.apigee.net/v1/categories/600001506/products?key=2ALHCAAs6ikGRBoy6eTHA58RaG097Fma&quot;, HttpMethod.GET, entity, ProductList.class);","body":"@JonathanJohx I&#39;ve updated the test for ProductList as you suggested, that was a good call. And the test still passes ! I am not quite sure how I can add debug code into the deserialiser part - that bit of the application seems to be hidden from me -  the specific line I am executing in the Controller is shown below          ResponseEntity&lt;ProductList&gt; restRes = restTemplate.exchange(&quot;<a href=\"https://jl-nonprod-syst.apigee.net/v1/categories/600001506/products?key=2ALHCAAs6ikGRBoy6eTHA58RaG097Fma\" rel=\"nofollow noreferrer\">jl-nonprod-syst.apigee.net/v1/categor&zwnj;&#8203;ies/600001506/&hellip;</a>&quot;, HttpMethod.GET, entity, ProductList.class);"},{"owner":{"account_id":290411,"reputation":1535,"user_id":6171247,"accept_rate":92,"display_name":"robbie70"},"score":0,"creation_date":1546816983,"post_id":54062469,"comment_id":94967014,"body_markdown":"@JonathanJohx As I mentioned in the question this works fine when I comment out the &quot;now&quot; field on my Price object.","body":"@JonathanJohx As I mentioned in the question this works fine when I comment out the &quot;now&quot; field on my Price object."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1546818156,"post_id":54062469,"comment_id":94967244,"body_markdown":"Generally this kind of exception means that `JSON` does not fit `POJO` classes. Lets try a trick, instead of class `Price` in `Product` use `Map`. For example: `Map&lt;String, Object&gt; price` and try to deserialise. In case it will success add a `String` representation of that `Map` to a question.","body":"Generally this kind of exception means that <code>JSON</code> does not fit <code>POJO</code> classes. Lets try a trick, instead of class <code>Price</code> in <code>Product</code> use <code>Map</code>. For example: <code>Map&lt;String, Object&gt; price</code> and try to deserialise. In case it will success add a <code>String</code> representation of that <code>Map</code> to a question."}],"answers":[{"tags":[],"owner":{"account_id":13976172,"reputation":985,"user_id":10093542,"display_name":"Lo&#239;c Le Doyen"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1546880316,"creation_date":1546880316,"answer_id":54078651,"question_id":54062469,"body_markdown":"The error states it expects a **VALUE** (**VALUE_STRING** preferably), whereas it gets a **START_OBJECT**, so your issue is probably coming from a json of the form\r\n\r\n    &quot;price&quot;: {\r\n        &quot;was&quot;: &quot;&quot;,\r\n        &quot;then1&quot;: &quot;&quot;,\r\n        &quot;then2&quot;: &quot;&quot;,\r\n        &quot;now&quot;:  {\r\n            ...\r\n        }\r\n        &quot;uom&quot;: &quot;&quot;,\r\n        &quot;currency&quot;: &quot;GBP&quot;\r\n    },\r\n\r\nInstead of the `&quot;now&quot;: &quot;some value&quot;` form expected by the code.","title":"Cannot deserialize instance of `java.lang.String` out of START_OBJECT token","body":"<p>The error states it expects a <strong>VALUE</strong> (<strong>VALUE_STRING</strong> preferably), whereas it gets a <strong>START_OBJECT</strong>, so your issue is probably coming from a json of the form</p>\n\n<pre><code>\"price\": {\n    \"was\": \"\",\n    \"then1\": \"\",\n    \"then2\": \"\",\n    \"now\":  {\n        ...\n    }\n    \"uom\": \"\",\n    \"currency\": \"GBP\"\n},\n</code></pre>\n\n<p>Instead of the <code>\"now\": \"some value\"</code> form expected by the code.</p>\n"}],"owner":{"account_id":290411,"reputation":1535,"user_id":6171247,"accept_rate":92,"display_name":"robbie70"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68508,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":54078651,"answer_count":1,"score":8,"last_activity_date":1661244851,"creation_date":1546784747,"question_id":54062469,"body_markdown":"I am getting the below error message, can someone please help or suggest how best to debug this.\r\n\r\n&gt; Cannot deserialize instance of `java.lang.String` out of START_OBJECT\r\n&gt; token  at [Source: (PushbackInputStream); line: 1, column: 37610]\r\n&gt; (through reference chain:\r\n&gt; com.model.ProductList[&quot;products&quot;]-&gt;java.util.ArrayList[23]-&gt;com.model.Product[&quot;price&quot;]-&gt;com.Price[&quot;now&quot;])\r\n\r\nI am trying to deserialise a Products object from a REst API call. The code has been working fine until I added code to deserialise a Price sub-class. This looks as follows,\r\n\r\n    &quot;price&quot;: {\r\n            &quot;was&quot;: &quot;&quot;,\r\n            &quot;then1&quot;: &quot;&quot;,\r\n            &quot;then2&quot;: &quot;&quot;,\r\n            &quot;now&quot;: &quot;59.00&quot;,\r\n            &quot;uom&quot;: &quot;&quot;,\r\n            &quot;currency&quot;: &quot;GBP&quot;\r\n          },\r\n\r\nMy Price pojo looks as follows,\r\n\r\n    public class Price {\r\n    \r\n         @JsonProperty(&quot;was&quot;)\r\n         String was;\r\n         @JsonProperty(&quot;then1&quot;)\r\n         String then1;\r\n         @JsonProperty(&quot;then2&quot;)\r\n         String then2;\r\n         @JsonProperty(&quot;now&quot;)\r\n         String now;\r\n         @JsonProperty(&quot;uom&quot;)\r\n         String uom;\r\n         @JsonProperty(&quot;currency&quot;)\r\n         String currency;\r\n     \r\n         public Price() {\r\n             //blank constructor for JSON\r\n         }\r\n     \r\n         @Override\r\n         public String toString() {\r\n             return &quot;Price{&quot; +\r\n                     &quot;was=&#39;&quot; + was + &#39;\\&#39;&#39; +\r\n                     &quot;, then1=&#39;&quot; + then1 + &#39;\\&#39;&#39; +\r\n                     &quot;, then2=&#39;&quot; + then2 + &#39;\\&#39;&#39; +\r\n                     &quot;, now=&#39;&quot; + now + &#39;\\&#39;&#39; +\r\n                     &quot;, uom=&#39;&quot; + uom + &#39;\\&#39;&#39; +\r\n                     &quot;, currency=&#39;&quot; + currency + &#39;\\&#39;&#39; +\r\n                     &#39;}&#39;;\r\n         }\r\n    }\r\n\r\nI have written a Junit test to try and simulate the error but it works in my test,\r\n\r\n        @Test\r\n        public void shouldConvertJsonProductListIntoPrice() {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            String content3 = &quot;{\\&quot;products\\&quot;: [{\\&quot;productId\\&quot;: \\&quot;3525085\\&quot;,\\&quot;title\\&quot;: \\&quot;hush Tasha Vest Dress\\&quot;, &quot; +\r\n                    &quot;\\&quot;price\\&quot;: {\\&quot;was\\&quot;: \\&quot;\\&quot;,\\&quot;then1\\&quot;: \\&quot;\\&quot;,\\&quot;then2\\&quot;: \\&quot;\\&quot;,\\&quot;now\\&quot;: \\&quot;59.00\\&quot;,\\&quot;uom\\&quot;: \\&quot;\\&quot;,\\&quot;currency\\&quot;: \\&quot;GBP\\&quot;}, &quot; +\r\n                    &quot;\\&quot;colorSwatches\\&quot;: [{\\&quot;basicColor\\&quot;: \\&quot;Red\\&quot;,\\&quot;skuId\\&quot;: \\&quot;237494589\\&quot;},{\\&quot;basicColor\\&quot;: \\&quot;Blue\\&quot;,\\&quot;skuId\\&quot;: \\&quot;237494562\\&quot;}] &quot; +\r\n                    &quot;}]}&quot;;\r\n            JavaType valueType = objectMapper.constructType(ProductList.class);\r\n            ProductList readValue;\r\n            try {\r\n                readValue = objectMapper.readValue(content3, valueType);\r\n                assertEquals(&quot;3525085&quot;, readValue.getProductList().get(0).productId);\r\n                assertEquals(&quot;hush Tasha Vest Dress&quot;, readValue.getProductList().get(0).title);\r\n                assertEquals(&quot;&quot;, readValue.getProductList().get(0).price.then1);\r\n                assertEquals(&quot;59.00&quot;, readValue.getProductList().get(0).price.now);\r\n                assertEquals(&quot;Blue&quot;, readValue.getProductList().get(0).colorSwatches[1].basicColor);\r\n                assertEquals(&quot;237494562&quot;, readValue.getProductList().get(0).colorSwatches[1].skuId);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                fail();\r\n            }\r\n        }\r\n\r\n**If I comment out the &quot;now&quot; field then my RestAPI call works perfectly and I dont see the exception.** So it seems that there is a problem with the &quot;now&quot; field and here I notice that its trying to convert &quot;59.00&quot; into a String. Could this be a problem for the Fasterxml converter ? do I need to help it maybe ?\r\n\r\nThe Product class is as follows (although this is much reduced list of fields that I am receiving off the API call).\r\n\r\n    public class Product {\r\n     \r\n         @JsonProperty(&quot;productId&quot;)\r\n         String productId;\r\n     \r\n         @JsonProperty(&quot;title&quot;)\r\n         String title;\r\n     \r\n         @JsonProperty(&quot;colorSwatches&quot;)\r\n         ColorSwatch [] colorSwatches;\r\n     \r\n         @JsonProperty(&quot;price&quot;)\r\n         Price price;\r\n     \r\n         public Product(){\r\n             // blank required for Jackson\r\n         }\r\n     \r\n         public Product(String productId, String title, ColorSwatch[] colorSwatches, Price price){\r\n             this.productId = productId;\r\n             this.title = title;\r\n             this.colorSwatches = colorSwatches;\r\n             this.price = price;\r\n      }\r\n","title":"Cannot deserialize instance of `java.lang.String` out of START_OBJECT token","body":"<p>I am getting the below error message, can someone please help or suggest how best to debug this.</p>\n\n<blockquote>\n  <p>Cannot deserialize instance of <code>java.lang.String</code> out of START_OBJECT\n  token  at [Source: (PushbackInputStream); line: 1, column: 37610]\n  (through reference chain:\n  com.model.ProductList[\"products\"]->java.util.ArrayList[23]->com.model.Product[\"price\"]->com.Price[\"now\"])</p>\n</blockquote>\n\n<p>I am trying to deserialise a Products object from a REst API call. The code has been working fine until I added code to deserialise a Price sub-class. This looks as follows,</p>\n\n<pre><code>\"price\": {\n        \"was\": \"\",\n        \"then1\": \"\",\n        \"then2\": \"\",\n        \"now\": \"59.00\",\n        \"uom\": \"\",\n        \"currency\": \"GBP\"\n      },\n</code></pre>\n\n<p>My Price pojo looks as follows,</p>\n\n<pre><code>public class Price {\n\n     @JsonProperty(\"was\")\n     String was;\n     @JsonProperty(\"then1\")\n     String then1;\n     @JsonProperty(\"then2\")\n     String then2;\n     @JsonProperty(\"now\")\n     String now;\n     @JsonProperty(\"uom\")\n     String uom;\n     @JsonProperty(\"currency\")\n     String currency;\n\n     public Price() {\n         //blank constructor for JSON\n     }\n\n     @Override\n     public String toString() {\n         return \"Price{\" +\n                 \"was='\" + was + '\\'' +\n                 \", then1='\" + then1 + '\\'' +\n                 \", then2='\" + then2 + '\\'' +\n                 \", now='\" + now + '\\'' +\n                 \", uom='\" + uom + '\\'' +\n                 \", currency='\" + currency + '\\'' +\n                 '}';\n     }\n}\n</code></pre>\n\n<p>I have written a Junit test to try and simulate the error but it works in my test,</p>\n\n<pre><code>    @Test\n    public void shouldConvertJsonProductListIntoPrice() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        String content3 = \"{\\\"products\\\": [{\\\"productId\\\": \\\"3525085\\\",\\\"title\\\": \\\"hush Tasha Vest Dress\\\", \" +\n                \"\\\"price\\\": {\\\"was\\\": \\\"\\\",\\\"then1\\\": \\\"\\\",\\\"then2\\\": \\\"\\\",\\\"now\\\": \\\"59.00\\\",\\\"uom\\\": \\\"\\\",\\\"currency\\\": \\\"GBP\\\"}, \" +\n                \"\\\"colorSwatches\\\": [{\\\"basicColor\\\": \\\"Red\\\",\\\"skuId\\\": \\\"237494589\\\"},{\\\"basicColor\\\": \\\"Blue\\\",\\\"skuId\\\": \\\"237494562\\\"}] \" +\n                \"}]}\";\n        JavaType valueType = objectMapper.constructType(ProductList.class);\n        ProductList readValue;\n        try {\n            readValue = objectMapper.readValue(content3, valueType);\n            assertEquals(\"3525085\", readValue.getProductList().get(0).productId);\n            assertEquals(\"hush Tasha Vest Dress\", readValue.getProductList().get(0).title);\n            assertEquals(\"\", readValue.getProductList().get(0).price.then1);\n            assertEquals(\"59.00\", readValue.getProductList().get(0).price.now);\n            assertEquals(\"Blue\", readValue.getProductList().get(0).colorSwatches[1].basicColor);\n            assertEquals(\"237494562\", readValue.getProductList().get(0).colorSwatches[1].skuId);\n        } catch (Exception e) {\n            e.printStackTrace();\n            fail();\n        }\n    }\n</code></pre>\n\n<p><strong>If I comment out the \"now\" field then my RestAPI call works perfectly and I dont see the exception.</strong> So it seems that there is a problem with the \"now\" field and here I notice that its trying to convert \"59.00\" into a String. Could this be a problem for the Fasterxml converter ? do I need to help it maybe ?</p>\n\n<p>The Product class is as follows (although this is much reduced list of fields that I am receiving off the API call).</p>\n\n<pre><code>public class Product {\n\n     @JsonProperty(\"productId\")\n     String productId;\n\n     @JsonProperty(\"title\")\n     String title;\n\n     @JsonProperty(\"colorSwatches\")\n     ColorSwatch [] colorSwatches;\n\n     @JsonProperty(\"price\")\n     Price price;\n\n     public Product(){\n         // blank required for Jackson\n     }\n\n     public Product(String productId, String title, ColorSwatch[] colorSwatches, Price price){\n         this.productId = productId;\n         this.title = title;\n         this.colorSwatches = colorSwatches;\n         this.price = price;\n  }\n</code></pre>\n"},{"tags":["java","android","android-mediaplayer","media-player"],"comments":[{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":0,"creation_date":1632255630,"post_id":69274117,"comment_id":122442148,"body_markdown":"That api doesn&#39;t have that method so there is nothing you can do about it. Research for another api.","body":"That api doesn&#39;t have that method so there is nothing you can do about it. Research for another api."}],"answers":[{"tags":[],"owner":{"account_id":17800149,"reputation":1,"user_id":12927127,"display_name":"Gajanan Godbole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654230426,"creation_date":1654230426,"answer_id":72484727,"question_id":69274117,"body_markdown":"lastfm does not provide media file that contain .mp3 file\r\n","title":"Last.FM how to get a song to play","body":"<p>lastfm does not provide media file that contain .mp3 file</p>\n"}],"owner":{"account_id":17172807,"reputation":105,"user_id":12429590,"display_name":"ArishaGraf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661244791,"creation_date":1632250095,"question_id":69274117,"body_markdown":"I want to develop an Android app that plays music from Last.FM API.\r\n\r\nBut I can’t find methods that response with mp3 file. Also in Last.FM API documentation I couldn’t find the answer! I can retrieve only track/artist/charts and etc. But I need track media file…to play selected track.\r\n\r\nI need to play music without user authentication is it possible?\r\n\r\nDoes someone know how I can retrieve Last.FM song to play (which method will allow to to it and give me the media file? Or maybe there is some other solution, maybe documentation/example?)","title":"Last.FM how to get a song to play","body":"<p>I want to develop an Android app that plays music from Last.FM API.</p>\n<p>But I can’t find methods that response with mp3 file. Also in Last.FM API documentation I couldn’t find the answer! I can retrieve only track/artist/charts and etc. But I need track media file…to play selected track.</p>\n<p>I need to play music without user authentication is it possible?</p>\n<p>Does someone know how I can retrieve Last.FM song to play (which method will allow to to it and give me the media file? Or maybe there is some other solution, maybe documentation/example?)</p>\n"},{"tags":["java","keycloak","quarkus"],"comments":[{"owner":{"account_id":14847701,"reputation":111,"user_id":10722621,"display_name":"Andrew Cattermole"},"score":0,"creation_date":1666781180,"post_id":73455747,"comment_id":131015707,"body_markdown":"Hi - did you ever get to the bottom of this? I&#39;m in exactly the same position now with needing to add each dependency jar is 1 by 1 and its a nightmare. Any help appreciated!","body":"Hi - did you ever get to the bottom of this? I&#39;m in exactly the same position now with needing to add each dependency jar is 1 by 1 and its a nightmare. Any help appreciated!"},{"owner":{"account_id":26137010,"reputation":31,"user_id":19826880,"display_name":"gruszka"},"score":0,"creation_date":1666874136,"post_id":73455747,"comment_id":131041523,"body_markdown":"Hi, for now we handled it by executing two plugins goals. First one is quarkus-maven-plugin and the goal dependency-tree - this goal shows us exactly those dependencies that are absolutely necessary to copy to the distribution and the other one is maven-dependency-plugin with goal copy-dependencies which generates ALL jars from dependency tree (also these that shouldn&#39;t be copied to the distribution package). Then we copy only those jars from the result of copy-dependency goal of maven-dependency-plugin that are present as a result of dependency-tree goal of quarkus-maven-plugin.","body":"Hi, for now we handled it by executing two plugins goals. First one is quarkus-maven-plugin and the goal dependency-tree - this goal shows us exactly those dependencies that are absolutely necessary to copy to the distribution and the other one is maven-dependency-plugin with goal copy-dependencies which generates ALL jars from dependency tree (also these that shouldn&#39;t be copied to the distribution package). Then we copy only those jars from the result of copy-dependency goal of maven-dependency-plugin that are present as a result of dependency-tree goal of quarkus-maven-plugin."},{"owner":{"account_id":26137010,"reputation":31,"user_id":19826880,"display_name":"gruszka"},"score":0,"creation_date":1666874227,"post_id":73455747,"comment_id":131041552,"body_markdown":"Obviously this quarkus-maven-plugin and the goal dependency-tree displays whole project dependency tree, so we copy only those under e.g. quarkus-cxf subtree.","body":"Obviously this quarkus-maven-plugin and the goal dependency-tree displays whole project dependency tree, so we copy only those under e.g. quarkus-cxf subtree."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1681265384,"post_id":73455747,"comment_id":134027350,"body_markdown":"Related: https://github.com/keycloak/keycloak/discussions/19630","body":"Related: <a href=\"https://github.com/keycloak/keycloak/discussions/19630\" rel=\"nofollow noreferrer\">github.com/keycloak/keycloak/discussions/19630</a>"}],"owner":{"account_id":26137010,"reputation":31,"user_id":19826880,"display_name":"gruszka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1661244762,"creation_date":1661244762,"question_id":73455747,"body_markdown":"I&#39;m writing custom Keycloak provider which needs [quarkus-cxf][1] extension as a dependency to integrate with a SOAP service. Everything works well in the development mode (I use maven, so I needed to add quarkus-cxf as a dependency and run Keycloak on Quarkus from IDE using [IDELauncher][2]). \r\n\r\nThe problem starts when I&#39;m trying to deploy my custom provider to the production environment. I know that my provider&#39;s jar need to be placed in `providers` directory within Keycloak distribution. Somewhere on Keycloak webpage I saw that every third-party dependencies jars I use, need to be placed in `providers` directory as well, so I did that and (thanks to maven-dependency-plugin) I generated all [quarkus-cxf][1] dependencies and put them all into `providers` directory. Then I tried to build keycloak by running `./kc.bat build` and it failed with the message: `ERROR: io.smallrye.config.SmallRyeConfigFactory: io.quarkus.runtime.configuration.QuarkusConfigFactory not a subtype`.\r\n\r\nHow it should be done to work properly? I need CXF dependencies in the build phase because I generate code from WSDL file and it&#39;s necessary for Quarkus augmentation. Maybe not all dependencies from [quarkus-cxf][1] dependency hierarchy are needed here, but I cannot imagine developing and then adding one by one jar and check if it&#39;s enough for build or maybe not and I will get NoClassDefFound error :) I&#39;ve got the same problem with my previous extension where I used resteasy dependencies but then only few jars were missing so I put them into `providers` directory and it worked. It&#39;s not the best solution for each and every one extension with extra dependencies like cxf (with huge hierarchy of transient dependencies).\r\n\r\nDoes anyone help me in this case? Maybe some of you have the same problem and you know how it should be done.\r\n\r\n\r\n  [1]: https://github.com/quarkiverse/quarkus-cxf\r\n  [2]: https://github.com/keycloak/keycloak/blob/main/quarkus/server/src/main/java/org/keycloak/quarkus/_private/IDELauncher.java","title":"Keycloak custom provider with Quarkus extension - where to put quarkiverse jars as dependencies?","body":"<p>I'm writing custom Keycloak provider which needs <a href=\"https://github.com/quarkiverse/quarkus-cxf\" rel=\"nofollow noreferrer\">quarkus-cxf</a> extension as a dependency to integrate with a SOAP service. Everything works well in the development mode (I use maven, so I needed to add quarkus-cxf as a dependency and run Keycloak on Quarkus from IDE using <a href=\"https://github.com/keycloak/keycloak/blob/main/quarkus/server/src/main/java/org/keycloak/quarkus/_private/IDELauncher.java\" rel=\"nofollow noreferrer\">IDELauncher</a>).</p>\n<p>The problem starts when I'm trying to deploy my custom provider to the production environment. I know that my provider's jar need to be placed in <code>providers</code> directory within Keycloak distribution. Somewhere on Keycloak webpage I saw that every third-party dependencies jars I use, need to be placed in <code>providers</code> directory as well, so I did that and (thanks to maven-dependency-plugin) I generated all <a href=\"https://github.com/quarkiverse/quarkus-cxf\" rel=\"nofollow noreferrer\">quarkus-cxf</a> dependencies and put them all into <code>providers</code> directory. Then I tried to build keycloak by running <code>./kc.bat build</code> and it failed with the message: <code>ERROR: io.smallrye.config.SmallRyeConfigFactory: io.quarkus.runtime.configuration.QuarkusConfigFactory not a subtype</code>.</p>\n<p>How it should be done to work properly? I need CXF dependencies in the build phase because I generate code from WSDL file and it's necessary for Quarkus augmentation. Maybe not all dependencies from <a href=\"https://github.com/quarkiverse/quarkus-cxf\" rel=\"nofollow noreferrer\">quarkus-cxf</a> dependency hierarchy are needed here, but I cannot imagine developing and then adding one by one jar and check if it's enough for build or maybe not and I will get NoClassDefFound error :) I've got the same problem with my previous extension where I used resteasy dependencies but then only few jars were missing so I put them into <code>providers</code> directory and it worked. It's not the best solution for each and every one extension with extra dependencies like cxf (with huge hierarchy of transient dependencies).</p>\n<p>Does anyone help me in this case? Maybe some of you have the same problem and you know how it should be done.</p>\n"},{"tags":["java","api","kubernetes","google-kubernetes-engine"],"comments":[{"owner":{"account_id":21951955,"reputation":1862,"user_id":16231068,"display_name":"boredabdel"},"score":0,"creation_date":1659527119,"post_id":73205209,"comment_id":129315022,"body_markdown":"GKE is just Kubernetes. So the API&#39;s are the same. Where are you running that code ? Is it inside the cluster or outside ? And can you attach the full error","body":"GKE is just Kubernetes. So the API&#39;s are the same. Where are you running that code ? Is it inside the cluster or outside ? And can you attach the full error"},{"owner":{"account_id":13254073,"reputation":23,"user_id":9570749,"display_name":"Pawan Gorai"},"score":0,"creation_date":1661240860,"post_id":73205209,"comment_id":129718058,"body_markdown":"@boredabdel - I have updated the details, which will help you suggest me correct solution. Please look into this","body":"@boredabdel - I have updated the details, which will help you suggest me correct solution. Please look into this"},{"owner":{"account_id":13254073,"reputation":23,"user_id":9570749,"display_name":"Pawan Gorai"},"score":0,"creation_date":1661240940,"post_id":73205209,"comment_id":129718084,"body_markdown":"I am trying to access PODs inside a cluster @boredabdel","body":"I am trying to access PODs inside a cluster @boredabdel"},{"owner":{"account_id":21951955,"reputation":1862,"user_id":16231068,"display_name":"boredabdel"},"score":0,"creation_date":1661259172,"post_id":73205209,"comment_id":129725012,"body_markdown":"That sounds like an authn issue. You need to configure the pod you run the code inside with the proper RBAC rules so it can make a call to the API Server","body":"That sounds like an authn issue. You need to configure the pod you run the code inside with the proper RBAC rules so it can make a call to the API Server"},{"owner":{"account_id":13254073,"reputation":23,"user_id":9570749,"display_name":"Pawan Gorai"},"score":0,"creation_date":1661274026,"post_id":73205209,"comment_id":129731364,"body_markdown":"@boredabdel - Yes, I added the proper RBAC and now I am. getting &#39;service unavailable&#39;  as a response body for KubectlException","body":"@boredabdel - Yes, I added the proper RBAC and now I am. getting &#39;service unavailable&#39;  as a response body for KubectlException"}],"owner":{"account_id":13254073,"reputation":23,"user_id":9570749,"display_name":"Pawan Gorai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661244709,"creation_date":1659432845,"question_id":73205209,"body_markdown":"I have tried setting the replica count of a GKE POD using Kubernetes API. But I was getting some exceptions which I will attach below.\r\n\r\nSo, I wanted to know whether Kubernetes API is compatible to use with Google Kubernetes Engine.\r\n\r\nI was getting some exceptions like \r\n\r\n    io.kubernetes.client.extended.kubectl.exception. KubectlException: io.kubernetes.client.openapi.ApiException: at \r\n    io.kubernetes.client.extended.kubectl.Kubectl$ApiClientBuilder.refreshDiscovery (Kubectl.java:235) at \r\n    io.kubernetes.client.extended.kubectl.KubectlGet $KubectlGetSingle.execute(KubectlGet.java:108) at\r\n    org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) at\r\n    org.springframework.aop.framework.CglibAopProxySCglibMethodInvocation.invokeJoinpoint (CglibAopProxy.java:793) at \r\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) at\r\n    org.springframework.aop.framework.CglibAopProxySCglibMethodInvocation.proceed(CglibAopProxy.java:763) at\r\n    .....\r\n\r\nThe reference I have followed : https://github.com/kubernetes-client/java/blob/master/docs/kubectl-equivalence-in-java.md#kubectl-scale\r\n\r\nFor testing purpose, I am trying to just get the PODs details \r\n\r\n    V1Deployment pod = null;\r\n    try {\r\n    pod = Kubectl.get(V1Deployment.class).namespace(&quot;something&quot;).name(&quot;something-pod&quot;).execute();\r\n    } catch (KubectlException e) { e.printStackTrace(); }\r\n\r\nOn printing `((ApiException)KubectlException.getCause()).getResponseBody()`\r\n\r\nI am getting the below logs, I am not sure why the user is anonymous provided the user in config file is a service account.\r\n\r\n    {&quot;kind&quot;:&quot;Status&quot;,&quot;apiVersion&quot;:&quot;v1&quot;,&quot;metadata&quot;:{},&quot;status&quot;:&quot;Failure&quot;, &quot;message&quot;: &quot;forbidden: User &quot;\\system: anonymous\\&quot; cannot get path \\&quot;/api\\&quot;&quot;, &quot;reason&quot;:&quot;Forbidden&quot;, &quot;details&quot;:{},&quot;code&quot;: 403}\r\n\r\nCan anyone help me in this case? Let me know if I need to clarify the question more.\r\nThank you\r\n\r\n","title":"Scale the GKE PODs using Kubernetes API - Java Client","body":"<p>I have tried setting the replica count of a GKE POD using Kubernetes API. But I was getting some exceptions which I will attach below.</p>\n<p>So, I wanted to know whether Kubernetes API is compatible to use with Google Kubernetes Engine.</p>\n<p>I was getting some exceptions like</p>\n<pre><code>io.kubernetes.client.extended.kubectl.exception. KubectlException: io.kubernetes.client.openapi.ApiException: at \nio.kubernetes.client.extended.kubectl.Kubectl$ApiClientBuilder.refreshDiscovery (Kubectl.java:235) at \nio.kubernetes.client.extended.kubectl.KubectlGet $KubectlGetSingle.execute(KubectlGet.java:108) at\norg.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) at\norg.springframework.aop.framework.CglibAopProxySCglibMethodInvocation.invokeJoinpoint (CglibAopProxy.java:793) at \norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) at\norg.springframework.aop.framework.CglibAopProxySCglibMethodInvocation.proceed(CglibAopProxy.java:763) at\n.....\n</code></pre>\n<p>The reference I have followed : <a href=\"https://github.com/kubernetes-client/java/blob/master/docs/kubectl-equivalence-in-java.md#kubectl-scale\" rel=\"nofollow noreferrer\">https://github.com/kubernetes-client/java/blob/master/docs/kubectl-equivalence-in-java.md#kubectl-scale</a></p>\n<p>For testing purpose, I am trying to just get the PODs details</p>\n<pre><code>V1Deployment pod = null;\ntry {\npod = Kubectl.get(V1Deployment.class).namespace(&quot;something&quot;).name(&quot;something-pod&quot;).execute();\n} catch (KubectlException e) { e.printStackTrace(); }\n</code></pre>\n<p>On printing <code>((ApiException)KubectlException.getCause()).getResponseBody()</code></p>\n<p>I am getting the below logs, I am not sure why the user is anonymous provided the user in config file is a service account.</p>\n<pre><code>{&quot;kind&quot;:&quot;Status&quot;,&quot;apiVersion&quot;:&quot;v1&quot;,&quot;metadata&quot;:{},&quot;status&quot;:&quot;Failure&quot;, &quot;message&quot;: &quot;forbidden: User &quot;\\system: anonymous\\&quot; cannot get path \\&quot;/api\\&quot;&quot;, &quot;reason&quot;:&quot;Forbidden&quot;, &quot;details&quot;:{},&quot;code&quot;: 403}\n</code></pre>\n<p>Can anyone help me in this case? Let me know if I need to clarify the question more.\nThank you</p>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661194831,"post_id":73449719,"comment_id":129709544,"body_markdown":"Please post the csv of input you are using","body":"Please post the csv of input you are using"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":2,"creation_date":1661195517,"post_id":73449719,"comment_id":129709752,"body_markdown":"check your input files. At line 8 there is a line with spaces. The file must not contain spaces at the end","body":"check your input files. At line 8 there is a line with spaces. The file must not contain spaces at the end"}],"answers":[{"tags":[],"owner":{"account_id":17432217,"reputation":11,"user_id":12635999,"display_name":"Ramnath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661244177,"creation_date":1661244177,"answer_id":73455611,"question_id":73449719,"body_markdown":"There is space in line number 8, that&#39;s why you are getting error. Please remove that and try.","title":"[Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;int&#39; for property &#39;id&#39; spring batch","body":"<p>There is space in line number 8, that's why you are getting error. Please remove that and try.</p>\n"}],"owner":{"account_id":14136769,"reputation":43,"user_id":16438442,"display_name":"breakingcode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1661246738,"answer_count":1,"score":1,"last_activity_date":1661244177,"creation_date":1661193847,"question_id":73449719,"body_markdown":"I am trying to read data from multiple csv file present in resources/input/user_*.csv and writing in one csv file present in resources/output/user.csv\r\n\r\nThis is my BatchConfig\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class BatchConfig {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(BatchConfig.class);\r\n    \r\n        @Autowired\r\n        private StepBuilderFactory stepBuilderFactory;\r\n    \r\n        @Autowired\r\n        private JobBuilderFactory jobBuilderFactory;\r\n    \r\n        @Value(value = &quot;classpath:input/user_*.csv&quot;)\r\n        private Resource[] resources;\r\n    \r\n        @Bean\r\n        public FlatFileItemReader&lt;User&gt; flatFileItemReader(){\r\n            log.info(&quot;flatFileItemReader execution started&quot;);\r\n            FlatFileItemReader&lt;User&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n            reader.setName(&quot;ReadMultipleCsv&quot;);\r\n            reader.setLineMapper(lineMapper());\r\n            log.info(&quot;flatFileItemReader execution completed&quot;);\r\n            return reader;\r\n        }\r\n    \r\n        private LineMapper&lt;User&gt; lineMapper(){\r\n            DefaultLineMapper&lt;User&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n    \r\n            DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n            lineTokenizer.setDelimiter(&quot;,&quot;);\r\n            lineTokenizer.setStrict(false);\r\n            lineTokenizer.setNames(new String[] {&quot;id&quot;,&quot;name&quot;,&quot;department&quot;,&quot;salary&quot;});\r\n    \r\n            BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n            fieldSetMapper.setTargetType(User.class);\r\n    \r\n            lineMapper.setLineTokenizer(lineTokenizer);\r\n            lineMapper.setFieldSetMapper(fieldSetMapper);\r\n            return lineMapper;\r\n        }\r\n    \r\n        @Bean\r\n        public MultiResourceItemReader&lt;User&gt; multiResourceItemReader(){\r\n            log.info(&quot;multiResourceItemReader() execution started&quot;);\r\n            MultiResourceItemReader&lt;User&gt; reader = new MultiResourceItemReader&lt;&gt;();\r\n            reader.setResources(resources);\r\n            reader.setDelegate(flatFileItemReader());\r\n            log.info(&quot;multiResourceItemReader() execution completed&quot;);\r\n            return reader;\r\n        }\r\n    \r\n        @Bean\r\n        public FlatFileItemWriter&lt;User&gt; writer(){\r\n            log.info(&quot;writer() execution started&quot;);\r\n            FlatFileItemWriter&lt;User&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n            writer.setResource(new ClassPathResource(&quot;output/user.csv&quot;));\r\n            writer.setAppendAllowed(true);\r\n    \r\n            DelimitedLineAggregator&lt;User&gt; delimitedLineAggregator = new DelimitedLineAggregator&lt;&gt;();\r\n            delimitedLineAggregator.setDelimiter(&quot;,&quot;);\r\n            BeanWrapperFieldExtractor&lt;User&gt; beanWrapperFieldExtractor = new BeanWrapperFieldExtractor&lt;&gt;();\r\n            beanWrapperFieldExtractor.setNames(new String[] {&quot;id&quot;,&quot;name&quot;,&quot;department&quot;,&quot;salary&quot;});\r\n            delimitedLineAggregator.setFieldExtractor(beanWrapperFieldExtractor);\r\n            writer.setLineAggregator(delimitedLineAggregator);\r\n            log.info(&quot;writer() execution completed&quot;);\r\n            return writer;\r\n        }\r\n    \r\n        @Bean\r\n        public Step step(){\r\n            return stepBuilderFactory.get(&quot;get-student&quot;).&lt;User, User&gt;chunk(5)\r\n                    .reader(multiResourceItemReader())\r\n                    .writer(writer()).build();\r\n        }\r\n    \r\n        @Bean\r\n        public Job job(){\r\n            return jobBuilderFactory.get(&quot;process-student&quot;).incrementer(new RunIdIncrementer())\r\n                    .flow(step()).end().build();\r\n        }\r\n    }\r\n\r\nAnd this is my User model\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class User {\r\n    \r\n        private int id;\r\n        private String name;\r\n        private String department;\r\n        private String salary;\r\n    }\r\n\r\nI have a requirement of the User&#39;s id of type int, but when I try run this above code it&#39;s throwing below error\r\n\r\n    org.springframework.batch.item.file.FlatFileParseException: Parsing error at line: 8 in resource=[file [C:\\Users\\NavghS\\Downloads\\spring-batch-multiple-csv-to\\spring-batch-multiple-csv-to\\target\\classes\\input\\user_1.csv]], input=[]\r\n    \r\n                   at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:189) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.read(AbstractItemCountingItemStreamItemReader.java:93) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.item.file.MultiResourceItemReader.readFromDelegate(MultiResourceItemReader.java:143) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.item.file.MultiResourceItemReader.readNextItem(MultiResourceItemReader.java:122) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.item.file.MultiResourceItemReader.read(MultiResourceItemReader.java:111) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.step.item.SimpleChunkProvider.doRead(SimpleChunkProvider.java:99) ~[spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.step.item.SimpleChunkProvider.read(SimpleChunkProvider.java:180) ~[spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.step.item.SimpleChunkProvider$1.doInIteration(SimpleChunkProvider.java:126) ~[spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.step.item.SimpleChunkProvider.provide(SimpleChunkProvider.java:118) ~[spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:71) ~[spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407) ~[spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331) ~[spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.22.jar:5.3.22]\r\n    \r\n                   at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273) ~[spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82) ~[spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258) ~[spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208) ~[spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152) [spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68) [spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:68) [spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169) [spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144) [spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:137) [spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320) [spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149) [spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) [spring-core-5.3.22.jar:5.3.22]\r\n    \r\n                   at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) [spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\r\n    \r\n                   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_121]\r\n    \r\n                   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_121]\r\n    \r\n                   at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_121]\r\n    \r\n                   at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.3.22.jar:5.3.22]\r\n    \r\n                   at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.3.22.jar:5.3.22]\r\n    \r\n                   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.3.22.jar:5.3.22]\r\n    \r\n                   at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) [spring-batch-core-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.22.jar:5.3.22]\r\n    \r\n                   at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) [spring-aop-5.3.22.jar:5.3.22]\r\n    \r\n                   at com.sun.proxy.$Proxy37.run(Unknown Source) [na:na]\r\n    \r\n                   at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199) [spring-boot-autoconfigure-2.7.3.jar:2.7.3]\r\n    \r\n                   at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173) [spring-boot-autoconfigure-2.7.3.jar:2.7.3]\r\n    \r\n                   at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160) [spring-boot-autoconfigure-2.7.3.jar:2.7.3]\r\n    \r\n                   at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155) [spring-boot-autoconfigure-2.7.3.jar:2.7.3]\r\n    \r\n                   at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150) [spring-boot-autoconfigure-2.7.3.jar:2.7.3]\r\n    \r\n                   at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762) [spring-boot-2.7.3.jar:2.7.3]\r\n    \r\n                   at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:752) [spring-boot-2.7.3.jar:2.7.3]\r\n    \r\n                   at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.7.3.jar:2.7.3]\r\n    \r\n                   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.3.jar:2.7.3]\r\n    \r\n                   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.3.jar:2.7.3]\r\n    \r\n                   at com.shrikant.SpringBatchMultipleCsvToApplication.main(SpringBatchMultipleCsvToApplication.java:13) [classes/:na]\r\n    \r\n    Caused by: org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors\r\n    \r\n    Field error in object &#39;target&#39; on field &#39;id&#39;: rejected value []; codes [typeMismatch.target.id,typeMismatch.id,typeMismatch.int,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [target.id,id]; arguments []; default message [id]]; default message [Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;int&#39; for property &#39;id&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;&quot;]\r\n    \r\n                   at org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper.mapFieldSet(BeanWrapperFieldSetMapper.java:201) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.item.file.mapping.DefaultLineMapper.mapLine(DefaultLineMapper.java:43) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:185) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\r\n    \r\n                   ... 54 common frames omitted\r\n    \r\n     \r\n    \r\n    2022-08-22 23:12:54.207  INFO 13816 --- [           main] o.s.batch.core.step.AbstractStep         : Step: [get-student] executed in 81ms\r\n    \r\n    2022-08-22 23:12:54.234  INFO 13816 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=process-student]] completed with the following parameters: [{run.id=1}] and the following status: [FAILED] in 149ms\r\n\r\nI am using these two files \r\n\r\n    1,bill,IT,12000\r\n    2,john,HR,10000\r\n    3,steve,IT,12000\r\n    4,reek,IT,12000\r\n    5,robb,HR,10000\r\n    6,don,IT,12000\r\n    7,karim,IT,12000\r\n\r\n    1,josh,IT,12000\r\n    2,sansa,HR,10000\r\n    3,roger,IT,12000\r\n    4,arya,IT,12000\r\n    5,walter,HR,10000\r\n    6,jessy,IT,12000\r\n    7,messi,IT,12000\r\n\r\nCan anyone see what&#39;s the causing this problem ?\r\n\r\nThanks","title":"[Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;int&#39; for property &#39;id&#39; spring batch","body":"<p>I am trying to read data from multiple csv file present in resources/input/user_*.csv and writing in one csv file present in resources/output/user.csv</p>\n<p>This is my BatchConfig</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class BatchConfig {\n\n    private static final Logger log = LoggerFactory.getLogger(BatchConfig.class);\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Value(value = &quot;classpath:input/user_*.csv&quot;)\n    private Resource[] resources;\n\n    @Bean\n    public FlatFileItemReader&lt;User&gt; flatFileItemReader(){\n        log.info(&quot;flatFileItemReader execution started&quot;);\n        FlatFileItemReader&lt;User&gt; reader = new FlatFileItemReader&lt;&gt;();\n        reader.setName(&quot;ReadMultipleCsv&quot;);\n        reader.setLineMapper(lineMapper());\n        log.info(&quot;flatFileItemReader execution completed&quot;);\n        return reader;\n    }\n\n    private LineMapper&lt;User&gt; lineMapper(){\n        DefaultLineMapper&lt;User&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n        lineTokenizer.setDelimiter(&quot;,&quot;);\n        lineTokenizer.setStrict(false);\n        lineTokenizer.setNames(new String[] {&quot;id&quot;,&quot;name&quot;,&quot;department&quot;,&quot;salary&quot;});\n\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(User.class);\n\n        lineMapper.setLineTokenizer(lineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n        return lineMapper;\n    }\n\n    @Bean\n    public MultiResourceItemReader&lt;User&gt; multiResourceItemReader(){\n        log.info(&quot;multiResourceItemReader() execution started&quot;);\n        MultiResourceItemReader&lt;User&gt; reader = new MultiResourceItemReader&lt;&gt;();\n        reader.setResources(resources);\n        reader.setDelegate(flatFileItemReader());\n        log.info(&quot;multiResourceItemReader() execution completed&quot;);\n        return reader;\n    }\n\n    @Bean\n    public FlatFileItemWriter&lt;User&gt; writer(){\n        log.info(&quot;writer() execution started&quot;);\n        FlatFileItemWriter&lt;User&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new ClassPathResource(&quot;output/user.csv&quot;));\n        writer.setAppendAllowed(true);\n\n        DelimitedLineAggregator&lt;User&gt; delimitedLineAggregator = new DelimitedLineAggregator&lt;&gt;();\n        delimitedLineAggregator.setDelimiter(&quot;,&quot;);\n        BeanWrapperFieldExtractor&lt;User&gt; beanWrapperFieldExtractor = new BeanWrapperFieldExtractor&lt;&gt;();\n        beanWrapperFieldExtractor.setNames(new String[] {&quot;id&quot;,&quot;name&quot;,&quot;department&quot;,&quot;salary&quot;});\n        delimitedLineAggregator.setFieldExtractor(beanWrapperFieldExtractor);\n        writer.setLineAggregator(delimitedLineAggregator);\n        log.info(&quot;writer() execution completed&quot;);\n        return writer;\n    }\n\n    @Bean\n    public Step step(){\n        return stepBuilderFactory.get(&quot;get-student&quot;).&lt;User, User&gt;chunk(5)\n                .reader(multiResourceItemReader())\n                .writer(writer()).build();\n    }\n\n    @Bean\n    public Job job(){\n        return jobBuilderFactory.get(&quot;process-student&quot;).incrementer(new RunIdIncrementer())\n                .flow(step()).end().build();\n    }\n}\n</code></pre>\n<p>And this is my User model</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\n    private int id;\n    private String name;\n    private String department;\n    private String salary;\n}\n</code></pre>\n<p>I have a requirement of the User's id of type int, but when I try run this above code it's throwing below error</p>\n<pre><code>org.springframework.batch.item.file.FlatFileParseException: Parsing error at line: 8 in resource=[file [C:\\Users\\NavghS\\Downloads\\spring-batch-multiple-csv-to\\spring-batch-multiple-csv-to\\target\\classes\\input\\user_1.csv]], input=[]\n\n               at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:189) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.read(AbstractItemCountingItemStreamItemReader.java:93) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.item.file.MultiResourceItemReader.readFromDelegate(MultiResourceItemReader.java:143) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.item.file.MultiResourceItemReader.readNextItem(MultiResourceItemReader.java:122) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.item.file.MultiResourceItemReader.read(MultiResourceItemReader.java:111) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.step.item.SimpleChunkProvider.doRead(SimpleChunkProvider.java:99) ~[spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.step.item.SimpleChunkProvider.read(SimpleChunkProvider.java:180) ~[spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.step.item.SimpleChunkProvider$1.doInIteration(SimpleChunkProvider.java:126) ~[spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.step.item.SimpleChunkProvider.provide(SimpleChunkProvider.java:118) ~[spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:71) ~[spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:407) ~[spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331) ~[spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140) ~[spring-tx-5.3.22.jar:5.3.22]\n\n               at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273) ~[spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82) ~[spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258) ~[spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:208) ~[spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152) [spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68) [spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:68) [spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169) [spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144) [spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:137) [spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320) [spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149) [spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) [spring-core-5.3.22.jar:5.3.22]\n\n               at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) [spring-batch-core-4.3.6.jar:4.3.6]\n\n               at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\n\n               at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_121]\n\n               at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_121]\n\n               at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_121]\n\n               at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) [spring-aop-5.3.22.jar:5.3.22]\n\n               at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) [spring-aop-5.3.22.jar:5.3.22]\n\n               at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.3.22.jar:5.3.22]\n\n               at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) [spring-batch-core-4.3.6.jar:4.3.6]\n\n               at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.3.22.jar:5.3.22]\n\n               at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) [spring-aop-5.3.22.jar:5.3.22]\n\n               at com.sun.proxy.$Proxy37.run(Unknown Source) [na:na]\n\n               at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:199) [spring-boot-autoconfigure-2.7.3.jar:2.7.3]\n\n               at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173) [spring-boot-autoconfigure-2.7.3.jar:2.7.3]\n\n               at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160) [spring-boot-autoconfigure-2.7.3.jar:2.7.3]\n\n               at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155) [spring-boot-autoconfigure-2.7.3.jar:2.7.3]\n\n               at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150) [spring-boot-autoconfigure-2.7.3.jar:2.7.3]\n\n               at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762) [spring-boot-2.7.3.jar:2.7.3]\n\n               at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:752) [spring-boot-2.7.3.jar:2.7.3]\n\n               at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.7.3.jar:2.7.3]\n\n               at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.3.jar:2.7.3]\n\n               at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.3.jar:2.7.3]\n\n               at com.shrikant.SpringBatchMultipleCsvToApplication.main(SpringBatchMultipleCsvToApplication.java:13) [classes/:na]\n\nCaused by: org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors\n\nField error in object 'target' on field 'id': rejected value []; codes [typeMismatch.target.id,typeMismatch.id,typeMismatch.int,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [target.id,id]; arguments []; default message [id]]; default message [Failed to convert property value of type 'java.lang.String' to required type 'int' for property 'id'; nested exception is java.lang.NumberFormatException: For input string: &quot;&quot;]\n\n               at org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper.mapFieldSet(BeanWrapperFieldSetMapper.java:201) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.item.file.mapping.DefaultLineMapper.mapLine(DefaultLineMapper.java:43) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:185) ~[spring-batch-infrastructure-4.3.6.jar:4.3.6]\n\n               ... 54 common frames omitted\n\n \n\n2022-08-22 23:12:54.207  INFO 13816 --- [           main] o.s.batch.core.step.AbstractStep         : Step: [get-student] executed in 81ms\n\n2022-08-22 23:12:54.234  INFO 13816 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=process-student]] completed with the following parameters: [{run.id=1}] and the following status: [FAILED] in 149ms\n</code></pre>\n<p>I am using these two files</p>\n<pre><code>1,bill,IT,12000\n2,john,HR,10000\n3,steve,IT,12000\n4,reek,IT,12000\n5,robb,HR,10000\n6,don,IT,12000\n7,karim,IT,12000\n\n1,josh,IT,12000\n2,sansa,HR,10000\n3,roger,IT,12000\n4,arya,IT,12000\n5,walter,HR,10000\n6,jessy,IT,12000\n7,messi,IT,12000\n</code></pre>\n<p>Can anyone see what's the causing this problem ?</p>\n<p>Thanks</p>\n"},{"tags":["java","redis","lettuce"],"answers":[{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482001406,"creation_date":1482001406,"answer_id":41202063,"question_id":41200270,"body_markdown":"That won&#39;t entirely work. Redis commands as used in a cli require parsing and result processing. Take a look at the wiki explaining [Custom commands](https://github.com/mp911de/lettuce/wiki/Custom-commands%2C-outputs-and-command-mechanics).","title":"How can i run Redis raw commands in Java Lettuce?","body":"<p>That won't entirely work. Redis commands as used in a cli require parsing and result processing. Take a look at the wiki explaining <a href=\"https://github.com/mp911de/lettuce/wiki/Custom-commands%2C-outputs-and-command-mechanics\" rel=\"nofollow noreferrer\">Custom commands</a>.</p>\n"},{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661243530,"creation_date":1661243185,"answer_id":73455399,"question_id":41200270,"body_markdown":"Actually, it is possible and `@mp911de&#39;s answer` is not correct, although it has the correct reference link : [Custom Commands][1]\r\n\r\n\r\n  [1]: https://lettuce.io/core/release/reference/#_custom_commands\r\n\r\nYou can easily create an `interface` and by `extending` following `io.lettuce.core.dynamic.Commands` `interface` you can define your raw command as below:\r\n\r\n    public interface CustomCommands extends Commands {\r\n    \r\n        @Command(&quot;FCALL :functionName :keysCount :jobsKey :inboxRef :jobsRef :jobIdentity :frwrdMsg &quot;)\r\n        Object fcall_responseJob(@Param(&quot;functionName&quot;) byte[] functionName, @Param(&quot;keysCount&quot;) Integer keysCount,\r\n                     @Param(&quot;jobsKey&quot;) byte[] jobsKey, @Param(&quot;inboxRef&quot;) byte[] inboxRef,\r\n                     @Param(&quot;jobsRef&quot;) byte[] jobsRef, @Param(&quot;jobIdentity&quot;) byte[] jobIdentity,\r\n                     @Param(&quot;frwrdMsg&quot;) byte[] frwrdMsg);\r\n    \r\n    }\r\n\r\nAnd for your usecase it could be like:\r\n\r\n    @Command(&quot;SET :key :value&quot;)\r\n    Object custom_set(@Param(&quot;key&quot;) String key, Param(&quot;value&quot;) String value); \r\n    \r\nThen you can call it as below:\r\n\r\n       RedisCommandFactory factory = new RedisCommandFactory(connection);\r\n       CustomCommands commands = factory.getCommands(CustomCommands.class);\r\n       Object obj = commands.csustom_set(&quot;YOUR_KEY&quot;.getBytes(StandardCharsets.UTF_8),\r\n                                         &quot;YOUR_VALUE&quot;.getBytes(StandardCharsets.UTF_8));\r\n\r\n","title":"How can i run Redis raw commands in Java Lettuce?","body":"<p>Actually, it is possible and <code>@mp911de's answer</code> is not correct, although it has the correct reference link : <a href=\"https://lettuce.io/core/release/reference/#_custom_commands\" rel=\"nofollow noreferrer\">Custom Commands</a></p>\n<p>You can easily create an <code>interface</code> and by <code>extending</code> following <code>io.lettuce.core.dynamic.Commands</code> <code>interface</code> you can define your raw command as below:</p>\n<pre><code>public interface CustomCommands extends Commands {\n\n    @Command(&quot;FCALL :functionName :keysCount :jobsKey :inboxRef :jobsRef :jobIdentity :frwrdMsg &quot;)\n    Object fcall_responseJob(@Param(&quot;functionName&quot;) byte[] functionName, @Param(&quot;keysCount&quot;) Integer keysCount,\n                 @Param(&quot;jobsKey&quot;) byte[] jobsKey, @Param(&quot;inboxRef&quot;) byte[] inboxRef,\n                 @Param(&quot;jobsRef&quot;) byte[] jobsRef, @Param(&quot;jobIdentity&quot;) byte[] jobIdentity,\n                 @Param(&quot;frwrdMsg&quot;) byte[] frwrdMsg);\n\n}\n</code></pre>\n<p>And for your usecase it could be like:</p>\n<pre><code>@Command(&quot;SET :key :value&quot;)\nObject custom_set(@Param(&quot;key&quot;) String key, Param(&quot;value&quot;) String value); \n</code></pre>\n<p>Then you can call it as below:</p>\n<pre><code>   RedisCommandFactory factory = new RedisCommandFactory(connection);\n   CustomCommands commands = factory.getCommands(CustomCommands.class);\n   Object obj = commands.csustom_set(&quot;YOUR_KEY&quot;.getBytes(StandardCharsets.UTF_8),\n                                     &quot;YOUR_VALUE&quot;.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n"}],"owner":{"account_id":1868900,"reputation":85,"user_id":4453931,"accept_rate":50,"display_name":"Hesham White"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661243530,"creation_date":1481989431,"question_id":41200270,"body_markdown":"I am building a Java application using lettuce as a Redis client.\r\n\r\nOne of the requirements is to run the redis commands from inside the application as i would run them from the command line redis-cli \r\nso instead of writing the implemented API method:\r\n\r\n    commands.set(&quot;key&quot;, &quot;value&quot;);\r\n\r\nI enter the actual raw command:\r\n\r\n    SET key value\r\n\r\nand the command would run on the server.\r\nFor example is there a method in the letuce api simmilar to this?\r\n\r\n    commands.runrawcommand(&quot;SET key value&quot;);\r\n\r\nThanks in Advance","title":"How can i run Redis raw commands in Java Lettuce?","body":"<p>I am building a Java application using lettuce as a Redis client.</p>\n\n<p>One of the requirements is to run the redis commands from inside the application as i would run them from the command line redis-cli \nso instead of writing the implemented API method:</p>\n\n<pre><code>commands.set(\"key\", \"value\");\n</code></pre>\n\n<p>I enter the actual raw command:</p>\n\n<pre><code>SET key value\n</code></pre>\n\n<p>and the command would run on the server.\nFor example is there a method in the letuce api simmilar to this?</p>\n\n<pre><code>commands.runrawcommand(\"SET key value\");\n</code></pre>\n\n<p>Thanks in Advance</p>\n"},{"tags":["java","android","qt","gradle"],"answers":[{"tags":[],"owner":{"account_id":10495409,"reputation":174,"user_id":8587673,"display_name":"Alexander Zolkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661243473,"creation_date":1661243473,"answer_id":73455468,"question_id":73256861,"body_markdown":"I solved this problem by:\r\n\r\n1. Adding the following lines in `gradle.properties` file. \r\n```\r\nsystemProp.javax.net.ssl.trustStore=C:/Windows/win.ini\r\nsystemProp.javax.net.ssl.trustStoreType=Windows-ROOT\r\n```\r\n\r\n2. Selecting right (I don&#39;t exactly why, they just works) gradle versions for in `gradle-wrapper.properties`\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.1.1-all.zip\r\n```\r\n\r\nAnd in `build.gradle` in `classpath` I selected gradle 4.0.2 like this: \r\n\r\n```\r\ndependencies {\r\n    classpath &#39;com.android.tools.build:gradle:4.0.2&#39;\r\n}\r\n```\r\n\r\n3. In `build.gradle` I added URLs `https://maven.google.com` like that:\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven { url &#39;https://maven.google.com&#39; }\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.0.2&#39;\r\n    }\r\n}\r\n\r\nrepositories {\r\n    google()\r\n    jcenter()\r\n    maven { url &#39;https://maven.google.com&#39; }\r\n}\r\n```","title":"Gradle could not be resolved for Qt Application build from Windows","body":"<p>I solved this problem by:</p>\n<ol>\n<li>Adding the following lines in <code>gradle.properties</code> file.</li>\n</ol>\n<pre><code>systemProp.javax.net.ssl.trustStore=C:/Windows/win.ini\nsystemProp.javax.net.ssl.trustStoreType=Windows-ROOT\n</code></pre>\n<ol start=\"2\">\n<li>Selecting right (I don't exactly why, they just works) gradle versions for in <code>gradle-wrapper.properties</code></li>\n</ol>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1.1-all.zip\n</code></pre>\n<p>And in <code>build.gradle</code> in <code>classpath</code> I selected gradle 4.0.2 like this:</p>\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:4.0.2'\n}\n</code></pre>\n<ol start=\"3\">\n<li>In <code>build.gradle</code> I added URLs <code>https://maven.google.com</code> like that:</li>\n</ol>\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://maven.google.com' }\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.0.2'\n    }\n}\n\nrepositories {\n    google()\n    jcenter()\n    maven { url 'https://maven.google.com' }\n}\n</code></pre>\n"}],"owner":{"account_id":10495409,"reputation":174,"user_id":8587673,"display_name":"Alexander Zolkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73455468,"answer_count":1,"score":0,"last_activity_date":1661243473,"creation_date":1659754802,"question_id":73256861,"body_markdown":"I am trying to compile an Android application (С++/Qt) from Windows machine onto a virtual Android.\r\n\r\n**Android SDK**: 31 (Android 12)\r\n\r\n**NDK**: 21.3.6528147\r\n\r\n**Qt**: 5.15.2\r\n\r\n**Language**: C++17\r\n\r\nObviously, compilation is for **x86_64** processors. \r\n\r\nCompilation breaks at the Android Package generation with following compile output: \r\n\r\n```\r\n05:00:15: The process &quot;C:\\Users\\adzol\\AppData\\Local\\Android\\Sdk\\ndk\\21.3.6528147\\prebuilt\\windows-x86_64\\bin\\make.exe&quot; exited normally.\r\n05:00:15: Starting: &quot;D:\\Qt\\5.15.2\\android\\bin\\androiddeployqt.exe&quot; --input C:/Users/adzol/Projects/build-posiflora-pos-Android_Qt_5_15_2_Clang_Multi_Abi_x86_64-Debug/florist/android-florist-deployment-settings.json --output C:/Users/adzol/Projects/build-posiflora-pos-Android_Qt_5_15_2_Clang_Multi_Abi_x86_64-Debug/florist/android-build --android-platform android-31 --jdk &quot;C:/Program Files/java-se-8u42-ri&quot; --gradle\r\nGenerating Android Package\r\n  Input file: C:/Users/adzol/Projects/build-posiflora-pos-Android_Qt_5_15_2_Clang_Multi_Abi_x86_64-Debug/florist/android-florist-deployment-settings.json\r\n  Output directory: C:/Users/adzol/Projects/build-posiflora-pos-Android_Qt_5_15_2_Clang_Multi_Abi_x86_64-Debug/florist/android-build/\r\n  Application binary: florist\r\n  Android build platform: android-31\r\n  Install to device: No\r\nWarning: QML import could not be resolved in any of the import paths: Pos.Controllers\r\nWarning: QML import could not be resolved in any of the import paths: Pos.Managers\r\nWarning: QML import could not be resolved in any of the import paths: Pos.Helpers\r\nWarning: QML import could not be resolved in any of the import paths: Pos.Models\r\nWarning: QML import could not be resolved in any of the import paths: Pos.Enums\r\nWarning: QML import could not be resolved in any of the import paths: Pos.DateTimeUtils\r\nWarning: QML import could not be resolved in any of the import paths: QZXing\r\nWarning: QML import could not be resolved in any of the import paths: Clipboard\r\nWarning: QML import could not be resolved in any of the import paths: QtQuick.Extras.Private.CppUtils\r\nWarning: QML import could not be resolved in any of the import paths: QtQuick.Extras.Private.CppUtils\r\nStarting a Gradle Daemon, 1 incompatible and 11 stopped Daemons could not be reused, use --status for details\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;android-build&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:3.6.3.\r\n     Required by:\r\n         project :\r\n      &gt; Could not resolve com.android.tools.build:gradle:3.6.3.\r\n         &gt; Could not get resource &#39;https://maven.google.com/com/android/tools/build/gradle/3.6.3/gradle-3.6.3.pom&#39;.\r\n            &gt; Could not GET &#39;https://maven.google.com/com/android/tools/build/gradle/3.6.3/gradle-3.6.3.pom&#39;.\r\n               &gt; java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n      &gt; Could not resolve com.android.tools.build:gradle:3.6.3.\r\n         &gt; Could not get resource &#39;https://jcenter.bintray.com/com/android/tools/build/gradle/3.6.3/gradle-3.6.3.pom&#39;.\r\n            &gt; Could not GET &#39;https://jcenter.bintray.com/com/android/tools/build/gradle/3.6.3/gradle-3.6.3.pom&#39;.\r\n               &gt; java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n```\r\n\r\nI can see that GET request is failing, but first URL (`https://maven.google.com/com/android/tools/build/gradle/3.6.3/gradle-3.6.3.pom`) is viable and I see a .pom file. The question is how I can use this files? However, the second URL returning a 404.\r\n\r\nThere was several advices, like [this one][1], suggesting to replace `goolge()` with `maven { url &#39;https://maven.google.com&#39; }`. So me `build.gradle` looks like this now:\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        maven { url &#39;https://maven.google.com&#39; } // Here was google()\r\n        jcenter()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.5.1&#39;\r\n    }\r\n}\r\n\r\nrepositories {\r\n    maven { url &#39;https://maven.google.com&#39; } // Here was google() too\r\n    jcenter()\r\n}\r\n\r\napply plugin: &#39;com.android.application&#39;\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;, &#39;*.aar&#39;])\r\n}\r\n\r\n\r\nandroid {\r\n    compileSdkVersion androidCompileSdkVersion.toInteger()\r\n\r\n    buildToolsVersion &#39;31.0.0&#39;\r\n\r\n    sourceSets {\r\n        main {\r\n            manifest.srcFile &#39;AndroidManifest.xml&#39;\r\n            java.srcDirs = [qt5AndroidDir + &#39;/src&#39;, &#39;src&#39;, &#39;java&#39;]\r\n            aidl.srcDirs = [qt5AndroidDir + &#39;/src&#39;, &#39;src&#39;, &#39;aidl&#39;]\r\n            res.srcDirs = [qt5AndroidDir + &#39;/res&#39;, &#39;res&#39;]\r\n            resources.srcDirs = [&#39;src&#39;]\r\n            renderscript.srcDirs = [&#39;src&#39;]\r\n            assets.srcDirs = [&#39;assets&#39;]\r\n            jniLibs.srcDirs = [&#39;libs&#39;]\r\n       }\r\n    }\r\n\r\n    tasks.withType(JavaCompile) {\r\n        options.incremental = true\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    lintOptions {\r\n        abortOnError false\r\n    }\r\n\r\n    // Do not compress Qt binary resources file\r\n    aaptOptions {\r\n        noCompress &#39;rcc&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        resConfig &quot;en&quot;\r\n        minSdkVersion = 21\r\n        targetSdkVersion = 31\r\n    }\r\n}\r\n\r\n```\r\n\r\nBefore replacing `google()` with `maven { url &#39;https://maven.google.com&#39; }` both URLs was unavailable: they returned 404 and 403 error codes accordingly.\r\n\r\nAnd, for good measure, my `gradle.properties` file:\r\n\r\n```\r\norg.gradle.jvmargs=-Xmx512m\r\nandroid.bundle.enableUncompressedNativeLibs=false\r\nandroidBuildToolsVersion=31.0.0\r\nandroidCompileSdkVersion=31\r\nbuildDir=build\r\nqt5AndroidDir=D:/Qt/5.15.2/android/src/android/java\r\nqtMinSdkVersion=21\r\nqtTargetSdkVersion=31\r\n```\r\n\r\nHonestly, I can&#39;t see where to dig now. Any help is very much appreciated. \r\n\r\n\r\n  [1]: https://androiderrors.com/could-not-find-com-android-tools-buildgradle3-0-0-alpha1-in-circle-ci/","title":"Gradle could not be resolved for Qt Application build from Windows","body":"<p>I am trying to compile an Android application (С++/Qt) from Windows machine onto a virtual Android.</p>\n<p><strong>Android SDK</strong>: 31 (Android 12)</p>\n<p><strong>NDK</strong>: 21.3.6528147</p>\n<p><strong>Qt</strong>: 5.15.2</p>\n<p><strong>Language</strong>: C++17</p>\n<p>Obviously, compilation is for <strong>x86_64</strong> processors.</p>\n<p>Compilation breaks at the Android Package generation with following compile output:</p>\n<pre><code>05:00:15: The process &quot;C:\\Users\\adzol\\AppData\\Local\\Android\\Sdk\\ndk\\21.3.6528147\\prebuilt\\windows-x86_64\\bin\\make.exe&quot; exited normally.\n05:00:15: Starting: &quot;D:\\Qt\\5.15.2\\android\\bin\\androiddeployqt.exe&quot; --input C:/Users/adzol/Projects/build-posiflora-pos-Android_Qt_5_15_2_Clang_Multi_Abi_x86_64-Debug/florist/android-florist-deployment-settings.json --output C:/Users/adzol/Projects/build-posiflora-pos-Android_Qt_5_15_2_Clang_Multi_Abi_x86_64-Debug/florist/android-build --android-platform android-31 --jdk &quot;C:/Program Files/java-se-8u42-ri&quot; --gradle\nGenerating Android Package\n  Input file: C:/Users/adzol/Projects/build-posiflora-pos-Android_Qt_5_15_2_Clang_Multi_Abi_x86_64-Debug/florist/android-florist-deployment-settings.json\n  Output directory: C:/Users/adzol/Projects/build-posiflora-pos-Android_Qt_5_15_2_Clang_Multi_Abi_x86_64-Debug/florist/android-build/\n  Application binary: florist\n  Android build platform: android-31\n  Install to device: No\nWarning: QML import could not be resolved in any of the import paths: Pos.Controllers\nWarning: QML import could not be resolved in any of the import paths: Pos.Managers\nWarning: QML import could not be resolved in any of the import paths: Pos.Helpers\nWarning: QML import could not be resolved in any of the import paths: Pos.Models\nWarning: QML import could not be resolved in any of the import paths: Pos.Enums\nWarning: QML import could not be resolved in any of the import paths: Pos.DateTimeUtils\nWarning: QML import could not be resolved in any of the import paths: QZXing\nWarning: QML import could not be resolved in any of the import paths: Clipboard\nWarning: QML import could not be resolved in any of the import paths: QtQuick.Extras.Private.CppUtils\nWarning: QML import could not be resolved in any of the import paths: QtQuick.Extras.Private.CppUtils\nStarting a Gradle Daemon, 1 incompatible and 11 stopped Daemons could not be reused, use --status for details\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'android-build'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:3.6.3.\n     Required by:\n         project :\n      &gt; Could not resolve com.android.tools.build:gradle:3.6.3.\n         &gt; Could not get resource 'https://maven.google.com/com/android/tools/build/gradle/3.6.3/gradle-3.6.3.pom'.\n            &gt; Could not GET 'https://maven.google.com/com/android/tools/build/gradle/3.6.3/gradle-3.6.3.pom'.\n               &gt; java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n      &gt; Could not resolve com.android.tools.build:gradle:3.6.3.\n         &gt; Could not get resource 'https://jcenter.bintray.com/com/android/tools/build/gradle/3.6.3/gradle-3.6.3.pom'.\n            &gt; Could not GET 'https://jcenter.bintray.com/com/android/tools/build/gradle/3.6.3/gradle-3.6.3.pom'.\n               &gt; java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<p>I can see that GET request is failing, but first URL (<code>https://maven.google.com/com/android/tools/build/gradle/3.6.3/gradle-3.6.3.pom</code>) is viable and I see a .pom file. The question is how I can use this files? However, the second URL returning a 404.</p>\n<p>There was several advices, like <a href=\"https://androiderrors.com/could-not-find-com-android-tools-buildgradle3-0-0-alpha1-in-circle-ci/\" rel=\"nofollow noreferrer\">this one</a>, suggesting to replace <code>goolge()</code> with <code>maven { url 'https://maven.google.com' }</code>. So me <code>build.gradle</code> looks like this now:</p>\n<pre><code>buildscript {\n    repositories {\n        maven { url 'https://maven.google.com' } // Here was google()\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.5.1'\n    }\n}\n\nrepositories {\n    maven { url 'https://maven.google.com' } // Here was google() too\n    jcenter()\n}\n\napply plugin: 'com.android.application'\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar', '*.aar'])\n}\n\n\nandroid {\n    compileSdkVersion androidCompileSdkVersion.toInteger()\n\n    buildToolsVersion '31.0.0'\n\n    sourceSets {\n        main {\n            manifest.srcFile 'AndroidManifest.xml'\n            java.srcDirs = [qt5AndroidDir + '/src', 'src', 'java']\n            aidl.srcDirs = [qt5AndroidDir + '/src', 'src', 'aidl']\n            res.srcDirs = [qt5AndroidDir + '/res', 'res']\n            resources.srcDirs = ['src']\n            renderscript.srcDirs = ['src']\n            assets.srcDirs = ['assets']\n            jniLibs.srcDirs = ['libs']\n       }\n    }\n\n    tasks.withType(JavaCompile) {\n        options.incremental = true\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n\n    // Do not compress Qt binary resources file\n    aaptOptions {\n        noCompress 'rcc'\n    }\n\n    defaultConfig {\n        resConfig &quot;en&quot;\n        minSdkVersion = 21\n        targetSdkVersion = 31\n    }\n}\n\n</code></pre>\n<p>Before replacing <code>google()</code> with <code>maven { url 'https://maven.google.com' }</code> both URLs was unavailable: they returned 404 and 403 error codes accordingly.</p>\n<p>And, for good measure, my <code>gradle.properties</code> file:</p>\n<pre><code>org.gradle.jvmargs=-Xmx512m\nandroid.bundle.enableUncompressedNativeLibs=false\nandroidBuildToolsVersion=31.0.0\nandroidCompileSdkVersion=31\nbuildDir=build\nqt5AndroidDir=D:/Qt/5.15.2/android/src/android/java\nqtMinSdkVersion=21\nqtTargetSdkVersion=31\n</code></pre>\n<p>Honestly, I can't see where to dig now. Any help is very much appreciated.</p>\n"},{"tags":["java","spring-boot","cookies"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661237567,"post_id":73451757,"comment_id":129717025,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue.","body":"Vague title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661257702,"post_id":73451757,"comment_id":129724368,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":926065,"reputation":19,"user_id":6209888,"display_name":"Pavan Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1661243051,"creation_date":1661208940,"question_id":73451757,"body_markdown":"We are using Java spring boot. On the server side cookie path is set as / , as below\r\n**set-cookie: SameSite=None; Max-Age=30; Expires=Mon, 22-Aug-2022 22:45:34 GMT; Path=/; Secure**.\r\nBut if we look at the path where the cookie stored in the chrome browser, it is same as request path.\r\n**/api/xxx/v1/xxx/0f040edd-8130-4932-a062-ceedb68920b1/xxx**\r\n.\r\nWe expect this to save in /, but why it is saving in the request path.\r\nPlease let us know.","title":"Cookie is not storing at root / but storing on request path","body":"<p>We are using Java spring boot. On the server side cookie path is set as / , as below\n<strong>set-cookie: SameSite=None; Max-Age=30; Expires=Mon, 22-Aug-2022 22:45:34 GMT; Path=/; Secure</strong>.\nBut if we look at the path where the cookie stored in the chrome browser, it is same as request path.\n<strong>/api/xxx/v1/xxx/0f040edd-8130-4932-a062-ceedb68920b1/xxx</strong>\n.\nWe expect this to save in /, but why it is saving in the request path.\nPlease let us know.</p>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":0,"creation_date":1661176760,"post_id":73446309,"comment_id":129703196,"body_markdown":"I suggest getting a pen and paper and tracing out what steps the input &#39;howdy&#39; goes through. That way, you can see and understand what exactly is happening in the call stack.","body":"I suggest getting a pen and paper and tracing out what steps the input &#39;howdy&#39; goes through. That way, you can see and understand what exactly is happening in the call stack."},{"owner":{"account_id":12991330,"reputation":94,"user_id":9390458,"display_name":"&#199;iğdem Erşep&#231;iler"},"score":0,"creation_date":1661177096,"post_id":73446309,"comment_id":129703341,"body_markdown":"it worked fine for me. But if you want to understand recursion you better trace it on a paper like @Tim said.","body":"it worked fine for me. But if you want to understand recursion you better trace it on a paper like @Tim said."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661178658,"creation_date":1661178658,"answer_id":73446794,"question_id":73446309,"body_markdown":"The difficulty is the processing _after_ the call. The first letter is added to the end of the result of `reverseString` of the rest.\r\n\r\n    reverseString &quot;howdy&quot;\r\n      reverseString &quot;owdy&quot;\r\n        reverseString &quot;wdy&quot;\r\n          reverseString &quot;dy&quot;\r\n            reverseString &quot;y&quot;\r\n              reverseString &quot;&quot;\r\n                return &quot;&quot;\r\n              return &quot;&quot; + &quot;y&quot;\r\n            returns &quot;y&quot; + &quot;d&quot;\r\n          returns &quot;yd&quot; + &quot;w&quot;\r\n        returns &quot;ydw&quot; + &quot;o&quot;\r\n      returns &quot;ydwo&quot; + &quot;h&quot;\r\n    returns &quot;ydwoh&quot;\r\n\r\nIt is like a mathematical proof by induction:\r\n\r\n- The empty string is reversed (result empty string).\r\n- When the recursive call works on a smaller string,\r\n  placing the first char at the end, also reverses the string.\r\n- So `reverseString` works for all length of strings.\r\n","title":"Java string recursion","body":"<p>The difficulty is the processing <em>after</em> the call. The first letter is added to the end of the result of <code>reverseString</code> of the rest.</p>\n<pre><code>reverseString &quot;howdy&quot;\n  reverseString &quot;owdy&quot;\n    reverseString &quot;wdy&quot;\n      reverseString &quot;dy&quot;\n        reverseString &quot;y&quot;\n          reverseString &quot;&quot;\n            return &quot;&quot;\n          return &quot;&quot; + &quot;y&quot;\n        returns &quot;y&quot; + &quot;d&quot;\n      returns &quot;yd&quot; + &quot;w&quot;\n    returns &quot;ydw&quot; + &quot;o&quot;\n  returns &quot;ydwo&quot; + &quot;h&quot;\nreturns &quot;ydwoh&quot;\n</code></pre>\n<p>It is like a mathematical proof by induction:</p>\n<ul>\n<li>The empty string is reversed (result empty string).</li>\n<li>When the recursive call works on a smaller string,\nplacing the first char at the end, also reverses the string.</li>\n<li>So <code>reverseString</code> works for all length of strings.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25091348,"reputation":1,"user_id":19419510,"display_name":"patotskay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661242848,"creation_date":1661242848,"answer_id":73455327,"question_id":73446309,"body_markdown":"Thanks for the answers! They helped me to figure out my misunderstanding!\r\nWhat I couldn&#39;t understand is *where* all the chars from the `text.charAt(0)` are stored! The trick  is that they are stored in the stack without any links. It&#39;s LIFO(Last-In-First-Out) approach in work.","title":"Java string recursion","body":"<p>Thanks for the answers! They helped me to figure out my misunderstanding!\nWhat I couldn't understand is <em>where</em> all the chars from the <code>text.charAt(0)</code> are stored! The trick  is that they are stored in the stack without any links. It's LIFO(Last-In-First-Out) approach in work.</p>\n"}],"owner":{"account_id":25091348,"reputation":1,"user_id":19419510,"display_name":"patotskay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1661242848,"creation_date":1661176576,"question_id":73446309,"body_markdown":"I am trying to learn Java, and now I&#39;m trying algorithms. So, I&#39;m stucked on recursion. I have a code that I don&#39;t understand. \r\n\r\n    public static String reverseString(String text){\r\n      \r\n    // base case\r\n      \r\n    if (text.length() == 0) {\r\n        return text;\r\n      } \r\n    \r\n    else {\r\n    \r\n        // recursive call\r\n    \r\n        return reverseString(text.substring(1)) + text.charAt(0);\r\n      }\r\n    }\r\n     \r\n    public static void main(String[] args) {\r\n      String str = new String(&quot;howdy&quot;);\r\n      // calling recursive function\r\n      String reverse = reverseString(str);\r\n      System.out.println(reverse); // Prints: ydwoh\r\n    }\r\n\r\nProblem is that for me recursive call in this code for me is:\r\n\r\nfor the first time it retuns *owdyh*,\r\n\r\nsecond time *wdyo* and so on. \r\n\r\nI can&#39;t understand how the string *ydwoh* borns. I suspect that somewhere chars concotanating in the right order, and stored somewhere, but where is this place I also don&#39;t know.\r\n\r\n**UPDATE**\r\n\r\nI tried it with paper, what I got:\r\n\r\nfirst recursive call:\r\n\r\nreturn value owdyh = &quot;owdy&quot; + &quot;h&quot;\r\n\r\nsecond call:\r\n\r\nreturn value wdyo = &quot;wdy&quot; + &quot;o&quot;\r\n\r\nand so on","title":"Java string recursion","body":"<p>I am trying to learn Java, and now I'm trying algorithms. So, I'm stucked on recursion. I have a code that I don't understand.</p>\n<pre><code>public static String reverseString(String text){\n  \n// base case\n  \nif (text.length() == 0) {\n    return text;\n  } \n\nelse {\n\n    // recursive call\n\n    return reverseString(text.substring(1)) + text.charAt(0);\n  }\n}\n \npublic static void main(String[] args) {\n  String str = new String(&quot;howdy&quot;);\n  // calling recursive function\n  String reverse = reverseString(str);\n  System.out.println(reverse); // Prints: ydwoh\n}\n</code></pre>\n<p>Problem is that for me recursive call in this code for me is:</p>\n<p>for the first time it retuns <em>owdyh</em>,</p>\n<p>second time <em>wdyo</em> and so on.</p>\n<p>I can't understand how the string <em>ydwoh</em> borns. I suspect that somewhere chars concotanating in the right order, and stored somewhere, but where is this place I also don't know.</p>\n<p><strong>UPDATE</strong></p>\n<p>I tried it with paper, what I got:</p>\n<p>first recursive call:</p>\n<p>return value owdyh = &quot;owdy&quot; + &quot;h&quot;</p>\n<p>second call:</p>\n<p>return value wdyo = &quot;wdy&quot; + &quot;o&quot;</p>\n<p>and so on</p>\n"},{"tags":["java","http","postman","okhttp","httpurlconnection"],"answers":[{"tags":[],"owner":{"account_id":5363697,"reputation":2558,"user_id":6200296,"accept_rate":89,"display_name":"Hasan Abdullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661242813,"creation_date":1661227037,"answer_id":73452981,"question_id":73449083,"body_markdown":"I couldn&#39;t found any major issue on your code. I&#39;ve tried to run your code inside one of my Android project. To avoid `NetworkOnMainThreadException` I&#39;ve run the code snippet inside a thread. Then run it and found the expected response header in the log.\r\n\r\n## Possible Solutions (What can you do now?)\r\n1. Try run my `callApi()` method inside your project.\r\n2. Change your url to `https://pagalworld.com.se/siteuploads/files/sfd14/6934/Har%20Har%20Shambhu%20Ringtone_320(PagalWorld.com.se).mp3` (replaced SPACE with `%20`). There is a chance for BAD request with white space URL.\r\n\r\n## Here is the significant output\r\n\r\n```\r\nI/System.out: ConnHeadRes: null HTTP/1.1 200 OK\r\nI/System.out: ConnHeadRes: Accept-Ranges bytes\r\nI/System.out: ConnHeadRes: Age 693\r\nI/System.out: ConnHeadRes: CF-Cache-Status HIT\r\nI/System.out: ConnHeadRes: CF-RAY 73f0ccbd1a5169b1-DAC\r\nI/System.out: ConnHeadRes: Connection keep-alive\r\nI/System.out: ConnHeadRes: content-disposition attachment\r\nI/System.out: ConnHeadRes: Content-Length 1221768\r\nI/System.out: ConnHeadRes: Content-Type application/octet-stream\r\nI/System.out: ConnHeadRes: Date Tue, 23 Aug 2022 03:35:42 GMT\r\nI/System.out: ConnHeadRes: Expect-CT max-age=604800, report-uri=&quot;https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct&quot;\r\nI/System.out: ConnHeadRes: last-modified Thu, 11 Aug 2022 14:41:49 GMT\r\nI/System.out: ConnHeadRes: NEL {&quot;success_fraction&quot;:0,&quot;report_to&quot;:&quot;cf-nel&quot;,&quot;max_age&quot;:604800}\r\nI/System.out: ConnHeadRes: Report-To {&quot;endpoints&quot;:[{&quot;url&quot;:&quot;https:\\/\\/a.nel.cloudflare.com\\/report\\/v3?s=nywwKM746VO8KiwrIJAIq6hoJ1D8eJphddRHtpP%2BkXxWPQCJayYi23um4V7mlUXd4kdWOXN%2FrXrTN6NA7sZWa%2BzU4L6tCx2v28VAkH51TPNfDVbeHGTHgwY8PCuulIdN3ek%2FloEn&quot;}],&quot;group&quot;:&quot;cf-nel&quot;,&quot;max_age&quot;:604800}\r\nI/System.out: ConnHeadRes: Server cloudflare\r\nI/System.out: ConnHeadRes: Strict-Transport-Security max-age=15552000; includeSubDomains; preload\r\nI/System.out: ConnHeadRes: Vary Accept-Encoding\r\nI/System.out: ConnHeadRes: X-Android-Received-Millis 1661225741490\r\nI/System.out: ConnHeadRes: X-Android-Response-Source NETWORK 200\r\nI/System.out: ConnHeadRes: X-Android-Selected-Protocol http/1.1\r\nI/System.out: ConnHeadRes: X-Android-Sent-Millis 1661225741442\r\nI/System.out: ConnHeadRes: x-content-type-options nosniff\r\nI/System.out: ConnHeadRes: x-nginx-upstream-cache-status MISS\r\n```\r\n\r\n### What I&#39;ve changed in the code?\r\n1. Run the code inside a thread\r\n2. Update `USER_AGENT_REQUEST_HEADER` field and value.\r\n3. Get response headers in a `Map` object.\r\n4. Iterate the Map object and print key-value in log.\r\n\r\n## Here is the code sample:\r\n\r\n    void callApi() {\r\n        Thread thread = new Thread(() -&gt; {\r\n            try {\r\n                String url2 = &quot;https://pagalworld.com.se/siteuploads/files/sfd14/6934/Har Har Shambhu Ringtone_320(PagalWorld.com.se).mp3&quot;;\r\n                String req_method = &quot;HEAD&quot;;\r\n                HttpsURLConnection conn = null;\r\n                try {\r\n                    System.setProperty(&quot;sun.net.http.allowRestrictedHeaders&quot;, &quot;true&quot;);\r\n                    URL UrlConnection = new URL(url2);\r\n                    conn = (HttpsURLConnection) UrlConnection.openConnection();\r\n                    String host = UrlConnection.getHost() + &quot;:80&quot;;\r\n                    conn.setRequestMethod(req_method);\r\n                    conn.setRequestProperty(&quot;Host&quot;, host);\r\n                    conn.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\r\n                    conn.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n                    conn.setRequestProperty(&quot;user-agent&quot;, &quot;android&quot;);\r\n                    System.out.println(&quot;Host:Port = &quot; + host);\r\n                    Map&lt;String, List&lt;String&gt;&gt; data = conn.getRequestProperties();\r\n                    System.out.println(&quot;Connection code : &quot; + conn.getResponseCode());\r\n                    System.out.println(&quot;Connection Msg : &quot; + conn.getResponseMessage());\r\n\r\n                    for (String key : data.keySet()) {\r\n                        System.out.println(key + &quot; &quot; + data.get(key));\r\n                    }\r\n\r\n                    Map&lt;String, List&lt;String&gt;&gt; responseHeader = conn.getHeaderFields();\r\n                    for (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : responseHeader.entrySet()) {\r\n                        for (String value: entry.getValue()) {\r\n                            System.out.println(&quot;ConnHeadRes: &quot; + entry.getKey() + &quot; &quot; + value);\r\n                        }\r\n                    }\r\n\r\n                } catch (MalformedURLException e) {\r\n\r\n                    e.printStackTrace();\r\n                } catch (ProtocolException e) {\r\n                    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                } catch (IOException e) {\r\n                    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    conn.disconnect();\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n\r\n        thread.start();\r\n    }\r\n\r\n\r\nSo, as far I understand I can say, there is no issue in your code.","title":"Server responding with response code 400 when making http head request using httpurlconnection","body":"<p>I couldn't found any major issue on your code. I've tried to run your code inside one of my Android project. To avoid <code>NetworkOnMainThreadException</code> I've run the code snippet inside a thread. Then run it and found the expected response header in the log.</p>\n<h2>Possible Solutions (What can you do now?)</h2>\n<ol>\n<li>Try run my <code>callApi()</code> method inside your project.</li>\n<li>Change your url to <code>https://pagalworld.com.se/siteuploads/files/sfd14/6934/Har%20Har%20Shambhu%20Ringtone_320(PagalWorld.com.se).mp3</code> (replaced SPACE with <code>%20</code>). There is a chance for BAD request with white space URL.</li>\n</ol>\n<h2>Here is the significant output</h2>\n<pre><code>I/System.out: ConnHeadRes: null HTTP/1.1 200 OK\nI/System.out: ConnHeadRes: Accept-Ranges bytes\nI/System.out: ConnHeadRes: Age 693\nI/System.out: ConnHeadRes: CF-Cache-Status HIT\nI/System.out: ConnHeadRes: CF-RAY 73f0ccbd1a5169b1-DAC\nI/System.out: ConnHeadRes: Connection keep-alive\nI/System.out: ConnHeadRes: content-disposition attachment\nI/System.out: ConnHeadRes: Content-Length 1221768\nI/System.out: ConnHeadRes: Content-Type application/octet-stream\nI/System.out: ConnHeadRes: Date Tue, 23 Aug 2022 03:35:42 GMT\nI/System.out: ConnHeadRes: Expect-CT max-age=604800, report-uri=&quot;https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct&quot;\nI/System.out: ConnHeadRes: last-modified Thu, 11 Aug 2022 14:41:49 GMT\nI/System.out: ConnHeadRes: NEL {&quot;success_fraction&quot;:0,&quot;report_to&quot;:&quot;cf-nel&quot;,&quot;max_age&quot;:604800}\nI/System.out: ConnHeadRes: Report-To {&quot;endpoints&quot;:[{&quot;url&quot;:&quot;https:\\/\\/a.nel.cloudflare.com\\/report\\/v3?s=nywwKM746VO8KiwrIJAIq6hoJ1D8eJphddRHtpP%2BkXxWPQCJayYi23um4V7mlUXd4kdWOXN%2FrXrTN6NA7sZWa%2BzU4L6tCx2v28VAkH51TPNfDVbeHGTHgwY8PCuulIdN3ek%2FloEn&quot;}],&quot;group&quot;:&quot;cf-nel&quot;,&quot;max_age&quot;:604800}\nI/System.out: ConnHeadRes: Server cloudflare\nI/System.out: ConnHeadRes: Strict-Transport-Security max-age=15552000; includeSubDomains; preload\nI/System.out: ConnHeadRes: Vary Accept-Encoding\nI/System.out: ConnHeadRes: X-Android-Received-Millis 1661225741490\nI/System.out: ConnHeadRes: X-Android-Response-Source NETWORK 200\nI/System.out: ConnHeadRes: X-Android-Selected-Protocol http/1.1\nI/System.out: ConnHeadRes: X-Android-Sent-Millis 1661225741442\nI/System.out: ConnHeadRes: x-content-type-options nosniff\nI/System.out: ConnHeadRes: x-nginx-upstream-cache-status MISS\n</code></pre>\n<h3>What I've changed in the code?</h3>\n<ol>\n<li>Run the code inside a thread</li>\n<li>Update <code>USER_AGENT_REQUEST_HEADER</code> field and value.</li>\n<li>Get response headers in a <code>Map</code> object.</li>\n<li>Iterate the Map object and print key-value in log.</li>\n</ol>\n<h2>Here is the code sample:</h2>\n<pre><code>void callApi() {\n    Thread thread = new Thread(() -&gt; {\n        try {\n            String url2 = &quot;https://pagalworld.com.se/siteuploads/files/sfd14/6934/Har Har Shambhu Ringtone_320(PagalWorld.com.se).mp3&quot;;\n            String req_method = &quot;HEAD&quot;;\n            HttpsURLConnection conn = null;\n            try {\n                System.setProperty(&quot;sun.net.http.allowRestrictedHeaders&quot;, &quot;true&quot;);\n                URL UrlConnection = new URL(url2);\n                conn = (HttpsURLConnection) UrlConnection.openConnection();\n                String host = UrlConnection.getHost() + &quot;:80&quot;;\n                conn.setRequestMethod(req_method);\n                conn.setRequestProperty(&quot;Host&quot;, host);\n                conn.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\n                conn.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\n                conn.setRequestProperty(&quot;user-agent&quot;, &quot;android&quot;);\n                System.out.println(&quot;Host:Port = &quot; + host);\n                Map&lt;String, List&lt;String&gt;&gt; data = conn.getRequestProperties();\n                System.out.println(&quot;Connection code : &quot; + conn.getResponseCode());\n                System.out.println(&quot;Connection Msg : &quot; + conn.getResponseMessage());\n\n                for (String key : data.keySet()) {\n                    System.out.println(key + &quot; &quot; + data.get(key));\n                }\n\n                Map&lt;String, List&lt;String&gt;&gt; responseHeader = conn.getHeaderFields();\n                for (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : responseHeader.entrySet()) {\n                    for (String value: entry.getValue()) {\n                        System.out.println(&quot;ConnHeadRes: &quot; + entry.getKey() + &quot; &quot; + value);\n                    }\n                }\n\n            } catch (MalformedURLException e) {\n\n                e.printStackTrace();\n            } catch (ProtocolException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } finally {\n                conn.disconnect();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    });\n\n    thread.start();\n}\n</code></pre>\n<p>So, as far I understand I can say, there is no issue in your code.</p>\n"}],"owner":{"account_id":8689252,"reputation":13,"user_id":6502593,"display_name":"Raja Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73452981,"answer_count":1,"score":1,"last_activity_date":1661242813,"creation_date":1661190175,"question_id":73449083,"body_markdown":"To a certain website , i am making HTTP head request to get header data using java. I have used the following code to do that.\r\n\r\n    String url2 = &quot;https://pagalworld.com.se/siteuploads/files/sfd14/6934/Har Har Shambhu Ringtone_320(PagalWorld.com.se).mp3&quot;;\r\n        String req_method = &quot;HEAD&quot;;\r\n        HttpsURLConnection conn = null;\r\n        try {\r\n            System.setProperty(&quot;sun.net.http.allowRestrictedHeaders&quot;, &quot;true&quot;);\r\n            URL UrlConnection = new URL(url2);\r\n            conn = (HttpsURLConnection) UrlConnection.openConnection();\r\n            String host = UrlConnection.getHost().toString()+&quot;:80&quot;;\r\n            conn.setRequestMethod(req_method);\r\n            conn.setRequestProperty(&quot;Host&quot;, host);\r\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\r\n            conn.setRequestProperty(&quot;Connection&quot;,&quot;keep-alive&quot;);\r\n            conn.setRequestProperty(DownloadApiConfig.USER_AGENT_REQUEST_HEADER, DownloadApiConfig.USER_AGENT_REQUEST_HEADER_VALUE);\r\n            System.out.println(&quot;Host:Port = &quot;+host);\r\n            Map&lt;String,List&lt;String&gt;&gt; data = conn.getRequestProperties();\r\n            System.out.println(&quot;Connection code : &quot;+conn.getResponseCode());\r\n            System.out.println(&quot;Connection Msg : &quot;+conn.getResponseMessage());\r\n            for(String key:data.keySet()){\r\n                System.out.println(key + &quot; &quot; + data.get(key));\r\n            }\r\n            \r\n        } catch (MalformedURLException e) {\r\n            \r\n            e.printStackTrace();\r\n        } catch (ProtocolException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }finally{\r\n            conn.disconnect();\r\n        }\r\nNow the problem is , Server is responding with response code 400 (Bad request). But when i am making the same request from postman with same request headers, it gives response code 200 (Ok).&lt;br/&gt;\r\n[http head request using Postman][1]\r\n&lt;br/&gt;Another thing is, if i am making the request with same request headers as before using okhttp client library then also it&#39;s responding with response code 200.\r\n&lt;br/&gt;Now what&#39;s wrong with my code ? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YpPC2.png","title":"Server responding with response code 400 when making http head request using httpurlconnection","body":"<p>To a certain website , i am making HTTP head request to get header data using java. I have used the following code to do that.</p>\n<pre><code>String url2 = &quot;https://pagalworld.com.se/siteuploads/files/sfd14/6934/Har Har Shambhu Ringtone_320(PagalWorld.com.se).mp3&quot;;\n    String req_method = &quot;HEAD&quot;;\n    HttpsURLConnection conn = null;\n    try {\n        System.setProperty(&quot;sun.net.http.allowRestrictedHeaders&quot;, &quot;true&quot;);\n        URL UrlConnection = new URL(url2);\n        conn = (HttpsURLConnection) UrlConnection.openConnection();\n        String host = UrlConnection.getHost().toString()+&quot;:80&quot;;\n        conn.setRequestMethod(req_method);\n        conn.setRequestProperty(&quot;Host&quot;, host);\n        conn.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\n        conn.setRequestProperty(&quot;Connection&quot;,&quot;keep-alive&quot;);\n        conn.setRequestProperty(DownloadApiConfig.USER_AGENT_REQUEST_HEADER, DownloadApiConfig.USER_AGENT_REQUEST_HEADER_VALUE);\n        System.out.println(&quot;Host:Port = &quot;+host);\n        Map&lt;String,List&lt;String&gt;&gt; data = conn.getRequestProperties();\n        System.out.println(&quot;Connection code : &quot;+conn.getResponseCode());\n        System.out.println(&quot;Connection Msg : &quot;+conn.getResponseMessage());\n        for(String key:data.keySet()){\n            System.out.println(key + &quot; &quot; + data.get(key));\n        }\n        \n    } catch (MalformedURLException e) {\n        \n        e.printStackTrace();\n    } catch (ProtocolException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }finally{\n        conn.disconnect();\n    }\n</code></pre>\n<p>Now the problem is , Server is responding with response code 400 (Bad request). But when i am making the same request from postman with same request headers, it gives response code 200 (Ok).<br/>\n<a href=\"https://i.stack.imgur.com/YpPC2.png\" rel=\"nofollow noreferrer\">http head request using Postman</a>\n<br/>Another thing is, if i am making the request with same request headers as before using okhttp client library then also it's responding with response code 200.\n<br/>Now what's wrong with my code ?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1661232857,"post_id":73453577,"comment_id":129715908,"body_markdown":"Where you reference the methods, they are all accessible.","body":"Where you reference the methods, they are all accessible."},{"owner":{"account_id":2573644,"reputation":140,"user_id":2231829,"display_name":"indranil32"},"score":0,"creation_date":1661232991,"post_id":73453577,"comment_id":129715931,"body_markdown":"Why are method access specifier contracts not enforced in reference?","body":"Why are method access specifier contracts not enforced in reference?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1661233161,"post_id":73453577,"comment_id":129715962,"body_markdown":"They are. Again, from where the methods are used, they are accessible (see my answer below)","body":"They are. Again, from where the methods are used, they are accessible (see my answer below)"}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661242793,"creation_date":1661233041,"answer_id":73453618,"question_id":73453577,"body_markdown":"&gt; Doesn&#39;t this break the method access specifier contract?\r\n\r\nNo, it does not because you are calling method by using `methodMap`.\r\n\r\n`methodMap` is `public`, however, it can call all methods and properties of class with *any* access modifier where it is placed.\r\n\r\nIt is not usual way to use methods of class, but you can. \r\n\r\nUsually, mapping is used when [Factory pattern][1] can be applied. Let me show an example via C#:\r\n\r\n    public enum SubscriptionType \r\n    {\r\n        WebSocket, Grpc\r\n    }\r\n    \r\n    \r\n    public class PublisherFactory\r\n    {\r\n        private Dictionary&lt;SubscriptionType, Publisher&gt; _pubisherByType = \r\n            new Dictionary&lt;SubscriptionType, Publisher&gt;()\r\n        {\r\n            { SubscriptionType.WebSocket, new  WebSocketPublisher () },\r\n            { SubscriptionType.Grpc, new GrpcPublisher () },\r\n        };\r\n    \r\n        public Publisher GetInstanceByType(SubscriptionType courtType) =&gt; \r\n            _pubisherByType[courtType];\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Factory_method_pattern","title":"Why is Java function Supplier allowing to execute private methods from another class?","body":"<blockquote>\n<p>Doesn't this break the method access specifier contract?</p>\n</blockquote>\n<p>No, it does not because you are calling method by using <code>methodMap</code>.</p>\n<p><code>methodMap</code> is <code>public</code>, however, it can call all methods and properties of class with <em>any</em> access modifier where it is placed.</p>\n<p>It is not usual way to use methods of class, but you can.</p>\n<p>Usually, mapping is used when <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">Factory pattern</a> can be applied. Let me show an example via C#:</p>\n<pre><code>public enum SubscriptionType \n{\n    WebSocket, Grpc\n}\n\n\npublic class PublisherFactory\n{\n    private Dictionary&lt;SubscriptionType, Publisher&gt; _pubisherByType = \n        new Dictionary&lt;SubscriptionType, Publisher&gt;()\n    {\n        { SubscriptionType.WebSocket, new  WebSocketPublisher () },\n        { SubscriptionType.Grpc, new GrpcPublisher () },\n    };\n\n    public Publisher GetInstanceByType(SubscriptionType courtType) =&gt; \n        _pubisherByType[courtType];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1661233603,"creation_date":1661233072,"answer_id":73453624,"question_id":73453577,"body_markdown":"The code:\r\n\r\n        methodMap.put(4, this::method4);\r\n\r\nIs equivalent to:\r\n\r\n        methodMap.put(4, new Supplier&lt;String&gt;() {\r\n            @Override\r\n            public String get() {\r\n                return MethodHolder.this.method4();\r\n            }\r\n        });\r\n\r\nThis code is in the `MethodHolder` class, so it can use any method of this class, including `private` ones.","title":"Why is Java function Supplier allowing to execute private methods from another class?","body":"<p>The code:</p>\n<pre><code>    methodMap.put(4, this::method4);\n</code></pre>\n<p>Is equivalent to:</p>\n<pre><code>    methodMap.put(4, new Supplier&lt;String&gt;() {\n        @Override\n        public String get() {\n            return MethodHolder.this.method4();\n        }\n    });\n</code></pre>\n<p>This code is in the <code>MethodHolder</code> class, so it can use any method of this class, including <code>private</code> ones.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661234688,"creation_date":1661233517,"answer_id":73453675,"question_id":73453577,"body_markdown":"This does not &quot;break the method access specifier contract&quot; because access modifiers control where you can access things. The *access* to `method2` and `method4` occurs *inside* `MethodHolder` - the same class where they are declared.\r\n\r\n    // this happens in the MethodHolder class:\r\n    methodMap.put(1, this::method1);\r\n    methodMap.put(2, this::method2);\r\n    methodMap.put(3, this::method3);\r\n    methodMap.put(4, this::method4);\r\n\r\nSo nothing is wrong here.\r\n\r\nIt does not matter where you call `get`. After all, when you call `get`, you are accessing the method [`get`][1], which is a public method declared in `Supplier`, so you are allowed to access it from anywhere.\r\n\r\nThe fact that calling `get` *actually* causes the method `method4` in your `MethodHolder` to be executed, is none of the business of access modifiers. That is an implementation detail.\r\n\r\nAnd no, method references are not implemented with reflection. They are implemented with an `invokedynamic` instruction - a class implementing the `Supplier` interface is dynamically created at runtime and instantiated, when the method reference expression is evaluated.\r\n\r\n&lt;hr&gt;\r\n\r\nBasically, claiming that this &quot;breaks the method access specifier contract&quot; is like saying that, since calling `publicMethod` (see below) from outside `MyClass` causes `privateMethod` to be executed, allowing public methods to call private methods also &quot;breaks the method access specifier contract&quot;\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        new MyClass().publicMethod(); // I can cause privateMethod to be executed here!\r\n        // Does this &quot;break access specifier contract&quot;? No!\r\n    }\r\n}\r\n\r\npublic class MyClass {\r\n    public void publicMethod() { privateMethod(); }\r\n    private void privateMethod() {}\r\n}\r\n```\r\n\r\nIn the same way that calling `privateMethod` is just an implementation detail of `publicMethod` in the above example, Your `method4` is just an implementation of `get`, albeit in a less obvious way, because it is a method reference.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html#get()","title":"Why is Java function Supplier allowing to execute private methods from another class?","body":"<p>This does not &quot;break the method access specifier contract&quot; because access modifiers control where you can access things. The <em>access</em> to <code>method2</code> and <code>method4</code> occurs <em>inside</em> <code>MethodHolder</code> - the same class where they are declared.</p>\n<pre><code>// this happens in the MethodHolder class:\nmethodMap.put(1, this::method1);\nmethodMap.put(2, this::method2);\nmethodMap.put(3, this::method3);\nmethodMap.put(4, this::method4);\n</code></pre>\n<p>So nothing is wrong here.</p>\n<p>It does not matter where you call <code>get</code>. After all, when you call <code>get</code>, you are accessing the method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html#get()\" rel=\"nofollow noreferrer\"><code>get</code></a>, which is a public method declared in <code>Supplier</code>, so you are allowed to access it from anywhere.</p>\n<p>The fact that calling <code>get</code> <em>actually</em> causes the method <code>method4</code> in your <code>MethodHolder</code> to be executed, is none of the business of access modifiers. That is an implementation detail.</p>\n<p>And no, method references are not implemented with reflection. They are implemented with an <code>invokedynamic</code> instruction - a class implementing the <code>Supplier</code> interface is dynamically created at runtime and instantiated, when the method reference expression is evaluated.</p>\n<hr>\n<p>Basically, claiming that this &quot;breaks the method access specifier contract&quot; is like saying that, since calling <code>publicMethod</code> (see below) from outside <code>MyClass</code> causes <code>privateMethod</code> to be executed, allowing public methods to call private methods also &quot;breaks the method access specifier contract&quot;</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        new MyClass().publicMethod(); // I can cause privateMethod to be executed here!\n        // Does this &quot;break access specifier contract&quot;? No!\n    }\n}\n\npublic class MyClass {\n    public void publicMethod() { privateMethod(); }\n    private void privateMethod() {}\n}\n</code></pre>\n<p>In the same way that calling <code>privateMethod</code> is just an implementation detail of <code>publicMethod</code> in the above example, Your <code>method4</code> is just an implementation of <code>get</code>, albeit in a less obvious way, because it is a method reference.</p>\n"}],"owner":{"account_id":2573644,"reputation":140,"user_id":2231829,"display_name":"indranil32"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73453675,"answer_count":3,"score":0,"last_activity_date":1661242793,"creation_date":1661232659,"question_id":73453577,"body_markdown":"    import java.util.*;\r\n    import java.util.function.*;\r\n    \r\n    public class MethodReference {\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tMethodHolder mh = new MethodHolder();\r\n    \t\tSystem.out.println(mh.methodMap.get(1).get());\r\n    \t\tSystem.out.println(mh.methodMap.get(2).get());\r\n    \t\tSystem.out.println(mh.methodMap.get(3).get());\r\n    \t\tSystem.out.println(mh.methodMap.get(4).get());\r\n    \t}\r\n    }\r\n    \r\n    class MethodHolder {\r\n    \tpublic Map&lt;Integer, Supplier&lt;String&gt;&gt; methodMap = new HashMap&lt;&gt;();\r\n    \tprivate int count = 1;\r\n    \r\n    \tpublic MethodHolder() {\r\n    \t\tmethodMap.put(1, this::method1);\r\n    \t\tmethodMap.put(2, this::method2);\r\n    \t\tmethodMap.put(3, this::method3);\r\n    \t\tmethodMap.put(4, this::method4);\r\n    \t}\r\n    \r\n    \tpublic String method1() {\r\n    \t\treturn &quot;public method1 - &quot; + (++count);\r\n    \t}\r\n    \r\n    \tprotected String method2() {\r\n    \t\t\treturn &quot;protected method2 - &quot; + (++count);\r\n    \t}\r\n    \r\n    \tString method3() {\r\n    \t\t\t\treturn &quot;default method3 - &quot; + (++count);\r\n    \t}\r\n    \r\n    \tprivate String method4() {\r\n    \t\t\t\treturn &quot;private method4 - &quot; + (++count);\r\n    \t}\r\n    }\r\n\r\nDoesn&#39;t this break the method access specifier contract? \r\n\r\nWe can access private using Reflection but is Supplier too using reflection? What is the rationale behind this?","title":"Why is Java function Supplier allowing to execute private methods from another class?","body":"<pre><code>import java.util.*;\nimport java.util.function.*;\n\npublic class MethodReference {\n\n    public static void main(String args[]) {\n        MethodHolder mh = new MethodHolder();\n        System.out.println(mh.methodMap.get(1).get());\n        System.out.println(mh.methodMap.get(2).get());\n        System.out.println(mh.methodMap.get(3).get());\n        System.out.println(mh.methodMap.get(4).get());\n    }\n}\n\nclass MethodHolder {\n    public Map&lt;Integer, Supplier&lt;String&gt;&gt; methodMap = new HashMap&lt;&gt;();\n    private int count = 1;\n\n    public MethodHolder() {\n        methodMap.put(1, this::method1);\n        methodMap.put(2, this::method2);\n        methodMap.put(3, this::method3);\n        methodMap.put(4, this::method4);\n    }\n\n    public String method1() {\n        return &quot;public method1 - &quot; + (++count);\n    }\n\n    protected String method2() {\n            return &quot;protected method2 - &quot; + (++count);\n    }\n\n    String method3() {\n                return &quot;default method3 - &quot; + (++count);\n    }\n\n    private String method4() {\n                return &quot;private method4 - &quot; + (++count);\n    }\n}\n</code></pre>\n<p>Doesn't this break the method access specifier contract?</p>\n<p>We can access private using Reflection but is Supplier too using reflection? What is the rationale behind this?</p>\n"},{"tags":["java","caching","concurrency","circular-buffer"],"comments":[{"owner":{"account_id":2705724,"reputation":2702,"user_id":5264558,"display_name":"Daniele"},"score":0,"creation_date":1583687314,"post_id":60589833,"comment_id":107192839,"body_markdown":"Can you give more details on how you need to use it? In example, could Guava&#39;s in-memory cache work for you?","body":"Can you give more details on how you need to use it? In example, could Guava&#39;s in-memory cache work for you?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1583690904,"post_id":60589833,"comment_id":107193789,"body_markdown":"Assuming by &quot;random access&quot; you mean access by index? If so, is it by LRU order? If so, why do you need that? What are you actually trying to achieve?","body":"Assuming by &quot;random access&quot; you mean access by index? If so, is it by LRU order? If so, why do you need that? What are you actually trying to achieve?"},{"owner":{"account_id":4695771,"reputation":61,"user_id":3800680,"display_name":"los"},"score":0,"creation_date":1583734032,"post_id":60589833,"comment_id":107202606,"body_markdown":"@Daniele Local cache for fail over, write operation is much more than read","body":"@Daniele Local cache for fail over, write operation is much more than read"},{"owner":{"account_id":4695771,"reputation":61,"user_id":3800680,"display_name":"los"},"score":0,"creation_date":1583734319,"post_id":60589833,"comment_id":107202692,"body_markdown":"@Bohemian Yes, by index, but restriction is weaker than LRU, cause it&#39;s only used for failover","body":"@Bohemian Yes, by index, but restriction is weaker than LRU, cause it&#39;s only used for failover"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1583734820,"post_id":60589833,"comment_id":107202831,"body_markdown":"The locking issues of a linked list shouldn&#39;t be a problem in a well designed cache. If you need LRU then [ConcurrentLinkedHashMap](https://github.com/ben-manes/concurrentlinkedhashmap) or [Guava&#39;s Cache](https://github.com/google/guava/wiki/CachesExplained) should suffice. If you can leverage a smarter eviction policy, then [Caffeine](https://github.com/ben-manes/caffeine) is preferrable. See [benchmarks](https://github.com/ben-manes/caffeine/wiki/Benchmarks#server-class).","body":"The locking issues of a linked list shouldn&#39;t be a problem in a well designed cache. If you need LRU then <a href=\"https://github.com/ben-manes/concurrentlinkedhashmap\" rel=\"nofollow noreferrer\">ConcurrentLinkedHashMap</a> or <a href=\"https://github.com/google/guava/wiki/CachesExplained\" rel=\"nofollow noreferrer\">Guava&#39;s Cache</a> should suffice. If you can leverage a smarter eviction policy, then <a href=\"https://github.com/ben-manes/caffeine\" rel=\"nofollow noreferrer\">Caffeine</a> is preferrable. See <a href=\"https://github.com/ben-manes/caffeine/wiki/Benchmarks#server-class\" rel=\"nofollow noreferrer\">benchmarks</a>."},{"owner":{"account_id":4695771,"reputation":61,"user_id":3800680,"display_name":"los"},"score":0,"creation_date":1583739977,"post_id":60589833,"comment_id":107204384,"body_markdown":"@BenManes No, I cannot use linked list, random access is a must","body":"@BenManes No, I cannot use linked list, random access is a must"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1583740149,"post_id":60589833,"comment_id":107204436,"body_markdown":"What does that mean? The random access of the map entries is supported.","body":"What does that mean? The random access of the map entries is supported."},{"owner":{"account_id":4695771,"reputation":61,"user_id":3800680,"display_name":"los"},"score":0,"creation_date":1583740621,"post_id":60589833,"comment_id":107204618,"body_markdown":"@BenManes The problem is, i don&#39;t have a key to describe requests: every request is different with each others, they are basically user actions. So i decide to cache a list of response and combine them as a failover response.","body":"@BenManes The problem is, i don&#39;t have a key to describe requests: every request is different with each others, they are basically user actions. So i decide to cache a list of response and combine them as a failover response."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1583740834,"post_id":60589833,"comment_id":107204693,"body_markdown":"Then I suppose a lock-free circular ring buffer and fifo or clock eviction is a reasonable strategy.","body":"Then I suppose a lock-free circular ring buffer and fifo or clock eviction is a reasonable strategy."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1583741090,"post_id":60589833,"comment_id":107204791,"body_markdown":"You can use AtomicReferenceArray to build your cache on top of.","body":"You can use AtomicReferenceArray to build your cache on top of."},{"owner":{"account_id":2705724,"reputation":2702,"user_id":5264558,"display_name":"Daniele"},"score":0,"creation_date":1583756538,"post_id":60589833,"comment_id":107211723,"body_markdown":"can you explain how you &quot;random access&quot; your items? I assume you would use some sort of key?","body":"can you explain how you &quot;random access&quot; your items? I assume you would use some sort of key?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1583793325,"post_id":60589833,"comment_id":107228539,"body_markdown":"@los how are random access and &quot;failover&quot; related?","body":"@los how are random access and &quot;failover&quot; related?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1583793687,"post_id":60589833,"comment_id":107228644,"body_markdown":"@los how are &quot;random access&quot; and &quot;failover&quot; related? Again I ask, what are you actually trying to do?","body":"@los how are &quot;random access&quot; and &quot;failover&quot; related? Again I ask, what are you actually trying to do?"}],"answers":[{"tags":[],"owner":{"account_id":2434783,"reputation":1779,"user_id":2124961,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583689097,"creation_date":1583689097,"answer_id":60590254,"question_id":60589833,"body_markdown":"For caches without timeout, I often use the ```ConcurrentHashMap```. You may also take a look at the ```CopyOnWriteArrayList```.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CopyOnWriteArrayList.html","title":"thread safe random access circular array in java?","body":"<p>For caches without timeout, I often use the <code>ConcurrentHashMap</code>. You may also take a look at the <code>CopyOnWriteArrayList</code>.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html</a>\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CopyOnWriteArrayList.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CopyOnWriteArrayList.html</a></p>\n"},{"tags":[],"owner":{"account_id":213337,"reputation":3691,"user_id":466677,"display_name":"Marek Gregor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661242791,"creation_date":1661242791,"answer_id":73455319,"question_id":60589833,"body_markdown":"There is an implementation of [CircularFifoQueue][1] in the Apache Commons Collections library. It contains a get() method for random access. For a thread-safe version, you can wrap its instance with the [SynchronizedQueue][2] wrapper.\r\nAnother solution is the cyclic ArrayList/Vector implementation, [described in detail here][3].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/index.html\r\n  [2]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/queue/SynchronizedQueue.html\r\n  [3]: https://stackoverflow.com/questions/18659792/circular-arraylist-extending-arraylist","title":"thread safe random access circular array in java?","body":"<p>There is an implementation of <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/index.html\" rel=\"nofollow noreferrer\">CircularFifoQueue</a> in the Apache Commons Collections library. It contains a get() method for random access. For a thread-safe version, you can wrap its instance with the <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/queue/SynchronizedQueue.html\" rel=\"nofollow noreferrer\">SynchronizedQueue</a> wrapper.\nAnother solution is the cyclic ArrayList/Vector implementation, <a href=\"https://stackoverflow.com/questions/18659792/circular-arraylist-extending-arraylist\">described in detail here</a>.</p>\n"}],"owner":{"account_id":4695771,"reputation":61,"user_id":3800680,"display_name":"los"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661242791,"creation_date":1583686589,"question_id":60589833,"body_markdown":"I need to cache the least recent result (say 10,000) of a concurrent system, and random access them.\r\nSince most of concurrent cache are based on linked list, I&#39;m wondering if there is a thread safe random access circular array in java?","title":"thread safe random access circular array in java?","body":"<p>I need to cache the least recent result (say 10,000) of a concurrent system, and random access them.\nSince most of concurrent cache are based on linked list, I'm wondering if there is a thread safe random access circular array in java?</p>\n"},{"tags":["java","dicom","dcm4che"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1436581116,"post_id":31351753,"comment_id":50688121,"body_markdown":"http://www.dcm4che.org/ might help you forward. A list of different toolkits is also available [here](http://www.schoech.de/diploma/toolkits.html).","body":"<a href=\"http://www.dcm4che.org/\" rel=\"nofollow noreferrer\">dcm4che.org</a> might help you forward. A list of different toolkits is also available <a href=\"http://www.schoech.de/diploma/toolkits.html\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":1851196,"reputation":1938,"user_id":1755206,"accept_rate":71,"display_name":"Rishi Gautam"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1611560848,"creation_date":1441253058,"answer_id":32366762,"question_id":31351753,"body_markdown":"In Java:\r\n\r\nOne of the best article for DICOM read in JAVA follow this link\r\n\r\nhttps://saravanansubramanian.com/dicomtutorials/#dicom-programming-tutorials-using-java\r\n\r\nOne more thing you need extra software to extract the image without this software you can&#39;t read the image and content .\r\n\r\n`jai-1_1_2_01-lib-windows-i586-jdk.exe`\r\n\r\n`jai_imageio-1_0_01-lib-windows-i586-jre.exe `\r\n\r\nBecause DICOM images are so highly resolution.\r\n\r\nYou also need JDK32 bit.\r\n\r\nIn Web Project:Configured the Jre Path instated of JDK path.\r\n\r\n\r\n\r\n\r\n","title":"How to read the content of a DICOM file in Java?","body":"<p>In Java:</p>\n<p>One of the best article for DICOM read in JAVA follow this link</p>\n<p><a href=\"https://saravanansubramanian.com/dicomtutorials/#dicom-programming-tutorials-using-java\" rel=\"nofollow noreferrer\">https://saravanansubramanian.com/dicomtutorials/#dicom-programming-tutorials-using-java</a></p>\n<p>One more thing you need extra software to extract the image without this software you can't read the image and content .</p>\n<p><code>jai-1_1_2_01-lib-windows-i586-jdk.exe</code></p>\n<p><code>jai_imageio-1_0_01-lib-windows-i586-jre.exe </code></p>\n<p>Because DICOM images are so highly resolution.</p>\n<p>You also need JDK32 bit.</p>\n<p>In Web Project:Configured the Jre Path instated of JDK path.</p>\n"},{"tags":[],"owner":{"account_id":1341820,"reputation":4183,"user_id":1283348,"accept_rate":71,"display_name":"malaguna"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1442561167,"creation_date":1442558007,"answer_id":32645308,"question_id":31351753,"body_markdown":"You can use dcm4che-3.3.X. This new rewrite of the fabulous framework comes with jai-imageio library fully integrated and you don&#39;t need to download and configure it anymore. \r\n\r\nReading meta-information of a Dicom file is a mater of creating a `org.dcm4che3.io.DicomInputStream` from dicom file and parsing the stream with a class that implements `org.dcm4che3.io.DicomInputHandler` interface. You have to implements this methods:\r\n\r\n    void readValue(DicomInputStream dis, Attributes attrs) throws IOException;\r\n    void readValue(DicomInputStream dis, Sequence seq) throws IOException;\r\n    void readValue(DicomInputStream dis, Fragments frags) throws IOException;\r\n    void startDataset(DicomInputStream dis) throws IOException;\r\n    void endDataset(DicomInputStream dis) throws IOException;\r\n\r\n`startDataset` and `endDataset` methods are launched when the stream is open/closed. The read methods are invoked when attributes, sequence or fragments are found. You can see a complete sample implementation in [dcm4che/dcm4che-tool/dcm4che-tool-dcmdump](https://github.com/dcm4che/dcm4che/tree/master/dcm4che-tool/dcm4che-tool-dcmdump).\r\n\r\nTo read dicom image into a `java.awt.image.BufferedImage` you need to get an `javax.imageio.stream.ImageInputStream` from a dicom file this way `javax.imageio.ImageIO.createImageInputStream(dicomFile)` where `dicomFile` is a `java.io.File`.\r\n\r\nIf you are wondering how this simple code works, this is because of `dcm4che-imageio` plugin.\r\n\r\nOnce again you can see a complete example implementation in [dcm4che/dcm4che-tool/dcm4che-tool-dcm2jpg](https://github.com/dcm4che/dcm4che/tree/master/dcm4che-tool/dcm4che-tool-dcm2jpg). \r\n\r\nObviously, you need a properly configured maven `pom.xml` with all dependencies you need, at least:\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.dcm4che&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dcm4che-imageio&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.7&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.dcm4che&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dcm4che-imageio-rle&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.7&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jai_imageio&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2-pre-dr-b04&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.dcm4che.tool&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dcm4che-tool-common&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.7&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nand also dcm4che maven repo\r\n\r\n    &lt;repositories&gt;\r\n      &lt;repository&gt;\r\n        &lt;id&gt;www.dcm4che.org&lt;/id&gt;\r\n        &lt;name&gt;dcm4che Repository&lt;/name&gt;\r\n        &lt;url&gt;http://www.dcm4che.org/maven2&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n\r\n\r\nHope it helps.","title":"How to read the content of a DICOM file in Java?","body":"<p>You can use dcm4che-3.3.X. This new rewrite of the fabulous framework comes with jai-imageio library fully integrated and you don't need to download and configure it anymore. </p>\n\n<p>Reading meta-information of a Dicom file is a mater of creating a <code>org.dcm4che3.io.DicomInputStream</code> from dicom file and parsing the stream with a class that implements <code>org.dcm4che3.io.DicomInputHandler</code> interface. You have to implements this methods:</p>\n\n<pre><code>void readValue(DicomInputStream dis, Attributes attrs) throws IOException;\nvoid readValue(DicomInputStream dis, Sequence seq) throws IOException;\nvoid readValue(DicomInputStream dis, Fragments frags) throws IOException;\nvoid startDataset(DicomInputStream dis) throws IOException;\nvoid endDataset(DicomInputStream dis) throws IOException;\n</code></pre>\n\n<p><code>startDataset</code> and <code>endDataset</code> methods are launched when the stream is open/closed. The read methods are invoked when attributes, sequence or fragments are found. You can see a complete sample implementation in <a href=\"https://github.com/dcm4che/dcm4che/tree/master/dcm4che-tool/dcm4che-tool-dcmdump\" rel=\"noreferrer\">dcm4che/dcm4che-tool/dcm4che-tool-dcmdump</a>.</p>\n\n<p>To read dicom image into a <code>java.awt.image.BufferedImage</code> you need to get an <code>javax.imageio.stream.ImageInputStream</code> from a dicom file this way <code>javax.imageio.ImageIO.createImageInputStream(dicomFile)</code> where <code>dicomFile</code> is a <code>java.io.File</code>.</p>\n\n<p>If you are wondering how this simple code works, this is because of <code>dcm4che-imageio</code> plugin.</p>\n\n<p>Once again you can see a complete example implementation in <a href=\"https://github.com/dcm4che/dcm4che/tree/master/dcm4che-tool/dcm4che-tool-dcm2jpg\" rel=\"noreferrer\">dcm4che/dcm4che-tool/dcm4che-tool-dcm2jpg</a>. </p>\n\n<p>Obviously, you need a properly configured maven <code>pom.xml</code> with all dependencies you need, at least:</p>\n\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.dcm4che&lt;/groupId&gt;\n    &lt;artifactId&gt;dcm4che-imageio&lt;/artifactId&gt;\n    &lt;version&gt;3.3.7&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.dcm4che&lt;/groupId&gt;\n    &lt;artifactId&gt;dcm4che-imageio-rle&lt;/artifactId&gt;\n    &lt;version&gt;3.3.7&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.sun.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jai_imageio&lt;/artifactId&gt;\n    &lt;version&gt;1.2-pre-dr-b04&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.dcm4che.tool&lt;/groupId&gt;\n    &lt;artifactId&gt;dcm4che-tool-common&lt;/artifactId&gt;\n    &lt;version&gt;3.3.7&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>and also dcm4che maven repo</p>\n\n<pre><code>&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;www.dcm4che.org&lt;/id&gt;\n    &lt;name&gt;dcm4che Repository&lt;/name&gt;\n    &lt;url&gt;http://www.dcm4che.org/maven2&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":8697526,"reputation":81,"user_id":6508470,"display_name":"enricopava"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1507655662,"creation_date":1507655662,"answer_id":46672336,"question_id":31351753,"body_markdown":"I wrote some time ago some code that permmitted me to read &quot;.dcm&quot; files and export them into an array of BufferedImage data type.\r\n\r\nI used the library dcm4che that you can find here:\r\nhttp://www.dcm4che.org/\r\n\r\nIn the code I wrote I used those classes:\r\n\r\n    import org.dcm4che3.imageio.plugins.dcm.*;\r\n    import org.dcm4che3.data.Tag;\r\n    import org.dcm4che3.io.DicomOutputStream;\r\n\r\nFirstly I used a method to read the DICOM file and get its pixel data into a raster:\r\n\r\n    static BufferedImage createBufferedImgdFromDICOMfile(File dicomFile) {\r\n\t   Raster raster = null ;\r\n\t   System.out.println(&quot;Input: &quot; + dicomFile.getName());\r\n\t   \r\n\t   //Open the DICOM file and get its pixel data\r\n\t   try {\r\n\t\t   Iterator iter = ImageIO.getImageReadersByFormatName(&quot;DICOM&quot;);\r\n\t\t   ImageReader reader = (ImageReader) iter.next();\r\n\t\t   DicomImageReadParam param = (DicomImageReadParam) reader.getDefaultReadParam();\r\n\t\t   ImageInputStream iis = ImageIO.createImageInputStream(dicomFile);\r\n\t\t   reader.setInput(iis, false);\r\n\t\t   //Returns a new Raster (rectangular array of pixels) containing the raw pixel data from the image stream\r\n\t\t   raster = reader.readRaster(0, param);\r\n\t\t   if (raster == null)\r\n\t\t\t      System.out.println(&quot;Error: couldn&#39;t read Dicom image!&quot;);\r\n\t\t   iis.close();\r\n\t   }\r\n\t\tcatch(Exception e) {\r\n\t\t\tSystem.out.println(&quot;Error: couldn&#39;t read dicom image! &quot;+ e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t   return get16bitBuffImage(raster);\r\n    }\r\n\r\nThen I used this method to get the pixels from the raster previusly created from the DICOM file and put them in a BufferImage with a black an white ColorModel:\r\n\r\n    public static BufferedImage get16bitBuffImage(Raster raster) {\r\n\t    short[] pixels = ((DataBufferUShort) raster.getDataBuffer()).getData();\r\n\t    ColorModel colorModel = new ComponentColorModel(\r\n\t\t\tColorSpace.getInstance(ColorSpace.CS_GRAY),\r\n\t        new int[]{16},\r\n\t        false,\r\n\t        false,\r\n\t        Transparency.OPAQUE,\r\n\t        DataBuffer.TYPE_USHORT);\r\n\t     DataBufferUShort db = new DataBufferUShort(pixels, pixels.length);\r\n\t     WritableRaster outRaster = Raster.createInterleavedRaster(\r\n\t        db,\r\n\t        raster.getWidth(),\r\n\t        raster.getHeight(),\r\n\t        raster.getWidth(),\r\n\t        1,\r\n\t        new int[1],\r\n\t        null);\r\n\t     return new BufferedImage(colorModel, outRaster, false, null);\r\n    }\r\n\r\nIf you want to export the BufferImage to a JPEG file you can use this method:\r\n\r\n    private static void outputJpegImage(BufferedImage outputImage, String outputPath) {\r\n\t   try {\r\n\t   File outputJpegFile = new File(outputPath);\r\n\t   OutputStream output = new BufferedOutputStream(new FileOutputStream(outputJpegFile));\r\n\t   JPEGImageEncoder encoder = JPEGCodec.createJPEGEncoder(output);\r\n\t   encoder.encode(outputImage);\r\n\t   output.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;Error: couldn&#39;t write jpeg image! &quot;+ e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t   System.out.println(&quot;Output: &quot; + outputPath);\r\n    }\r\n\r\n","title":"How to read the content of a DICOM file in Java?","body":"<p>I wrote some time ago some code that permmitted me to read \".dcm\" files and export them into an array of BufferedImage data type.</p>\n\n<p>I used the library dcm4che that you can find here:\n<a href=\"http://www.dcm4che.org/\" rel=\"nofollow noreferrer\">http://www.dcm4che.org/</a></p>\n\n<p>In the code I wrote I used those classes:</p>\n\n<pre><code>import org.dcm4che3.imageio.plugins.dcm.*;\nimport org.dcm4che3.data.Tag;\nimport org.dcm4che3.io.DicomOutputStream;\n</code></pre>\n\n<p>Firstly I used a method to read the DICOM file and get its pixel data into a raster:</p>\n\n<pre><code>static BufferedImage createBufferedImgdFromDICOMfile(File dicomFile) {\n   Raster raster = null ;\n   System.out.println(\"Input: \" + dicomFile.getName());\n\n   //Open the DICOM file and get its pixel data\n   try {\n       Iterator iter = ImageIO.getImageReadersByFormatName(\"DICOM\");\n       ImageReader reader = (ImageReader) iter.next();\n       DicomImageReadParam param = (DicomImageReadParam) reader.getDefaultReadParam();\n       ImageInputStream iis = ImageIO.createImageInputStream(dicomFile);\n       reader.setInput(iis, false);\n       //Returns a new Raster (rectangular array of pixels) containing the raw pixel data from the image stream\n       raster = reader.readRaster(0, param);\n       if (raster == null)\n              System.out.println(\"Error: couldn't read Dicom image!\");\n       iis.close();\n   }\n    catch(Exception e) {\n        System.out.println(\"Error: couldn't read dicom image! \"+ e.getMessage());\n        e.printStackTrace();\n    }\n   return get16bitBuffImage(raster);\n}\n</code></pre>\n\n<p>Then I used this method to get the pixels from the raster previusly created from the DICOM file and put them in a BufferImage with a black an white ColorModel:</p>\n\n<pre><code>public static BufferedImage get16bitBuffImage(Raster raster) {\n    short[] pixels = ((DataBufferUShort) raster.getDataBuffer()).getData();\n    ColorModel colorModel = new ComponentColorModel(\n        ColorSpace.getInstance(ColorSpace.CS_GRAY),\n        new int[]{16},\n        false,\n        false,\n        Transparency.OPAQUE,\n        DataBuffer.TYPE_USHORT);\n     DataBufferUShort db = new DataBufferUShort(pixels, pixels.length);\n     WritableRaster outRaster = Raster.createInterleavedRaster(\n        db,\n        raster.getWidth(),\n        raster.getHeight(),\n        raster.getWidth(),\n        1,\n        new int[1],\n        null);\n     return new BufferedImage(colorModel, outRaster, false, null);\n}\n</code></pre>\n\n<p>If you want to export the BufferImage to a JPEG file you can use this method:</p>\n\n<pre><code>private static void outputJpegImage(BufferedImage outputImage, String outputPath) {\n   try {\n   File outputJpegFile = new File(outputPath);\n   OutputStream output = new BufferedOutputStream(new FileOutputStream(outputJpegFile));\n   JPEGImageEncoder encoder = JPEGCodec.createJPEGEncoder(output);\n   encoder.encode(outputImage);\n   output.close();\n    } catch (IOException e) {\n        System.out.println(\"Error: couldn't write jpeg image! \"+ e.getMessage());\n        e.printStackTrace();\n    }\n   System.out.println(\"Output: \" + outputPath);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1197182,"reputation":1476,"user_id":1168635,"accept_rate":50,"display_name":"Radim Burget"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661242695,"creation_date":1661242695,"answer_id":73455301,"question_id":31351753,"body_markdown":"\r\n**Java Example:**\r\n(reads patients ID from metadata)\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import org.dcm4che3.data.Attributes;\r\n    import org.dcm4che3.data.Tag;\r\n    import org.dcm4che3.io.DicomInputStream;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tFile file = new File(...);\r\n    \t\tDicomInputStream dis = new DicomInputStream(file);\r\n    \t\tAttributes dcmObj = dis.readDataset(-1, -1);\r\n    \t\tString someVar = dcmObj.getString(Tag.PatientID);\r\n    \t\tSystem.out.println(someVar);\r\n    \t}\r\n    }\r\n\r\n**Maven:**\r\n\r\n      &lt;repositories&gt;\r\n    \t  &lt;repository&gt;\r\n    \t    &lt;id&gt;www.dcm4che.org&lt;/id&gt;\r\n    \t    &lt;name&gt;dcm4che Repository&lt;/name&gt;\r\n    \t    &lt;url&gt;http://www.dcm4che.org/maven2&lt;/url&gt;\r\n    \t&lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n      \r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.dcm4che&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dcm4che-imageio&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.7&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.dcm4che&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dcm4che-imageio-rle&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.7&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jai_imageio&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2-pre-dr-b04&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.dcm4che.tool&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dcm4che-tool-common&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.7&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"How to read the content of a DICOM file in Java?","body":"<p><strong>Java Example:</strong>\n(reads patients ID from metadata)</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport org.dcm4che3.data.Attributes;\nimport org.dcm4che3.data.Tag;\nimport org.dcm4che3.io.DicomInputStream;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        File file = new File(...);\n        DicomInputStream dis = new DicomInputStream(file);\n        Attributes dcmObj = dis.readDataset(-1, -1);\n        String someVar = dcmObj.getString(Tag.PatientID);\n        System.out.println(someVar);\n    }\n}\n</code></pre>\n<p><strong>Maven:</strong></p>\n<pre><code>  &lt;repositories&gt;\n      &lt;repository&gt;\n        &lt;id&gt;www.dcm4che.org&lt;/id&gt;\n        &lt;name&gt;dcm4che Repository&lt;/name&gt;\n        &lt;url&gt;http://www.dcm4che.org/maven2&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n  \n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.dcm4che&lt;/groupId&gt;\n    &lt;artifactId&gt;dcm4che-imageio&lt;/artifactId&gt;\n    &lt;version&gt;3.3.7&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.dcm4che&lt;/groupId&gt;\n    &lt;artifactId&gt;dcm4che-imageio-rle&lt;/artifactId&gt;\n    &lt;version&gt;3.3.7&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.sun.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jai_imageio&lt;/artifactId&gt;\n    &lt;version&gt;1.2-pre-dr-b04&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.dcm4che.tool&lt;/groupId&gt;\n    &lt;artifactId&gt;dcm4che-tool-common&lt;/artifactId&gt;\n    &lt;version&gt;3.3.7&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":1222361,"reputation":193,"user_id":1188753,"accept_rate":25,"display_name":"Yayatcm"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15454,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"closed_date":1661245604,"answer_count":4,"score":1,"last_activity_date":1661242695,"creation_date":1436570505,"question_id":31351753,"body_markdown":"A DICOM file contains a series of CAT scan images. Is there an implementation of a DICOM library in Java that can read the files and extract the images stored in them? I would like to store those images into a BufferedImage data type.\r\n","title":"How to read the content of a DICOM file in Java?","body":"<p>A DICOM file contains a series of CAT scan images. Is there an implementation of a DICOM library in Java that can read the files and extract the images stored in them? I would like to store those images into a BufferedImage data type.</p>\n"},{"tags":["java","enums","annotations","java-11","lombok"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1659607920,"post_id":73232229,"comment_id":129336922,"body_markdown":"You can do something like that with lombok, but I&#39;m not sure if it&#39;s worth your time. Either way you can get more information here: https://stackoverflow.com/questions/41243018/create-custom-annotation-for-lombok","body":"You can do something like that with lombok, but I&#39;m not sure if it&#39;s worth your time. Either way you can get more information here: <a href=\"https://stackoverflow.com/questions/41243018/create-custom-annotation-for-lombok\" title=\"create custom annotation for lombok\">stackoverflow.com/questions/41243018/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661181725,"post_id":73232229,"comment_id":129705187,"body_markdown":"Your classes aren’t `enum`s at all. This is an `enum`: `public enum Color { RED, BLUE;\n  public static Optional&lt;Color&gt; fromValue(int value) { var v = values(); return value &lt; 1 || value &gt; v.length? Optional.empty(): Optional.of(v[value - 1]); } }` But how many enum types with such an accessor do you have? And what do you need `fromValue` for? Are you about to reinvent `EnumSet`?","body":"Your classes aren’t <code>enum</code>s at all. This is an <code>enum</code>: <code>public enum Color { RED, BLUE;   public static Optional&lt;Color&gt; fromValue(int value) { var v = values(); return value &lt; 1 || value &gt; v.length? Optional.empty(): Optional.of(v[value - 1]); } }</code> But how many enum types with such an accessor do you have? And what do you need <code>fromValue</code> for? Are you about to reinvent <code>EnumSet</code>?"},{"owner":{"account_id":3300828,"reputation":2503,"user_id":2777063,"accept_rate":50,"display_name":"themagicalyang"},"score":0,"creation_date":1661242091,"post_id":73232229,"comment_id":129718460,"body_markdown":"@Holger It&#39;s a mistake. Color was an enum. I have marked it as such in the question now.","body":"@Holger It&#39;s a mistake. Color was an enum. I have marked it as such in the question now."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1661257933,"post_id":73232229,"comment_id":129724482,"body_markdown":"Still, my example is simpler without the need for code injection. And your use case unclear…","body":"Still, my example is simpler without the need for code injection. And your use case unclear…"}],"owner":{"account_id":3300828,"reputation":2503,"user_id":2777063,"accept_rate":50,"display_name":"themagicalyang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661242056,"creation_date":1659599478,"question_id":73232229,"body_markdown":"Consider the following piece of code:\r\n    \r\n\r\n\r\n    @RequiredArgsConstructor\r\n    public enum Color { \r\n        RED(1), BLUE(2);\r\n            \r\n        private final int value;\r\n        private static final Map&lt;Integer,Color&gt; mapping = new HashMap&lt;Integer,Color&gt;();\r\n\r\n        static {\r\n            for (Color c : Color.values()) {\r\n            mapping.put(c.getValue(), c);\r\n        }\r\n        \r\n        public static Optional&lt;Color&gt; fromValue(int value) {\r\n            return Optional.ofNullable(mapping.get(value));\r\n        }\r\n    }\r\n\r\nNow if I have to create `fromValue` for multiple such enums, can I create an annotation with the expected result being something like:\r\n\r\n    @RequiredArgsConstructor\r\n    @EnumFromValue(&#39;int&#39;)\r\n    public enum Color {\r\n        RED(1), BLUE(2);\r\n\r\n        private final int value;\r\n    }\r\n\r\n\r\n    ....\r\n    var maybeColor = Color.fromValue(someInt);\r\n\r\n\r\nGoal to not write the conversion boilerplate for every enum.\r\n\r\n1. Is it possible to remove the current value-to-optional&lt;Enum&gt; conversion boilerplate through annotations?\r\n2. Is it possible through some kind of generics?\r\n3. Is there a simpler method to do this?","title":"How to create an annotation to add a static function to an enum?","body":"<p>Consider the following piece of code:</p>\n<pre><code>@RequiredArgsConstructor\npublic enum Color { \n    RED(1), BLUE(2);\n        \n    private final int value;\n    private static final Map&lt;Integer,Color&gt; mapping = new HashMap&lt;Integer,Color&gt;();\n\n    static {\n        for (Color c : Color.values()) {\n        mapping.put(c.getValue(), c);\n    }\n    \n    public static Optional&lt;Color&gt; fromValue(int value) {\n        return Optional.ofNullable(mapping.get(value));\n    }\n}\n</code></pre>\n<p>Now if I have to create <code>fromValue</code> for multiple such enums, can I create an annotation with the expected result being something like:</p>\n<pre><code>@RequiredArgsConstructor\n@EnumFromValue('int')\npublic enum Color {\n    RED(1), BLUE(2);\n\n    private final int value;\n}\n\n\n....\nvar maybeColor = Color.fromValue(someInt);\n</code></pre>\n<p>Goal to not write the conversion boilerplate for every enum.</p>\n<ol>\n<li>Is it possible to remove the current value-to-optional conversion boilerplate through annotations?</li>\n<li>Is it possible through some kind of generics?</li>\n<li>Is there a simpler method to do this?</li>\n</ol>\n"},{"tags":["java","android","kotlin","android-tv"],"comments":[{"owner":{"account_id":21453101,"reputation":212,"user_id":15805169,"display_name":"Barney Stinson"},"score":0,"creation_date":1661165217,"post_id":73442174,"comment_id":129698693,"body_markdown":"Why do not you try alpha animation like in this question? https://stackoverflow.com/q/20628973/15805169","body":"Why do not you try alpha animation like in this question? <a href=\"https://stackoverflow.com/q/20628973/15805169\">stackoverflow.com/q/20628973/15805169</a>"},{"owner":{"account_id":26127380,"reputation":1,"user_id":19818610,"display_name":"eldroid"},"score":0,"creation_date":1661169614,"post_id":73442174,"comment_id":129700196,"body_markdown":"Because it&#39;s for a lot of cardviews and shouldn&#39;t be an animation, it should be static","body":"Because it&#39;s for a lot of cardviews and shouldn&#39;t be an animation, it should be static"},{"owner":{"account_id":20737252,"reputation":296,"user_id":15227830,"display_name":"alpertign"},"score":0,"creation_date":1661198959,"post_id":73442174,"comment_id":129710762,"body_markdown":"Sharing XML code and backend response might be a good idea.","body":"Sharing XML code and backend response might be a good idea."},{"owner":{"account_id":26127380,"reputation":1,"user_id":19818610,"display_name":"eldroid"},"score":0,"creation_date":1661242186,"post_id":73442174,"comment_id":129718499,"body_markdown":"I shared the XML for the view, the backend response doesn&#39;t really matter here because I take it as a bitmap variable and then assign it to the view.","body":"I shared the XML for the view, the backend response doesn&#39;t really matter here because I take it as a bitmap variable and then assign it to the view."},{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1661245856,"post_id":73442174,"comment_id":129719825,"body_markdown":"As I understand, if you want to set the gradient on the ImageView then, I think you should try this android:foreground=&quot;@drawable/cardview_gradient_shape&quot; in ImageView or Wrap ImageView with some layout and then try the same property.","body":"As I understand, if you want to set the gradient on the ImageView then, I think you should try this android:foreground=&quot;@drawable/cardview_gradient_shape&quot; in ImageView or Wrap ImageView with some layout and then try the same property."}],"owner":{"account_id":26127380,"reputation":1,"user_id":19818610,"display_name":"eldroid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661242022,"creation_date":1661156862,"question_id":73442174,"body_markdown":"I&#39;ve searched this up many times, but couldn&#39;t find an answer which worked for me. So basically, my issue is that I get an image from a backend provider and should display it in the ImageView with an opacity gradient of 100% at the bottom and 0% at the top so the image behind it slowly shows up. Applying a transparent gradient overlay doesn&#39;t work since the pixels to be transparent are the actual image I get from the backend service. Any help or ideas would be appreciated! The UI is in XML not Compose\r\n\r\nThis is the xml for the view I want to add an opacity gradient to. The image comes as a bitmap variable I assign to it&#39;s background currently:\r\n\r\n\r\n    &lt;ImageView\r\n\t\tandroid:id=&quot;@+id/bottom_container_background&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;@dimen/bottom_container_height&quot;\r\n\t\tandroid:adjustViewBounds=&quot;true&quot;\r\n\t\tandroid:alpha=&quot;0.7&quot;\r\n\t\tandroid:src=&quot;@drawable/cardview_gradient_shape&quot;\r\n\t\tapp:layout_constraintBottom_toBottomOf=&quot;@+id/iv_epg&quot;\r\n\t\tapp:layout_constraintEnd_toEndOf=&quot;@+id/iv_epg&quot;\r\n\t\tapp:layout_constraintStart_toStartOf=&quot;@+id/iv_epg&quot;\r\n\t\ttools:src=&quot;@drawable/cardview_gradient_shape&quot; /&gt;\r\n        \r\n   \r\n    val croppedBlurredThumbnail = BitmapDrawable(thumbnailBottomBackgroundBlurred) \r\n`cardLayout.bottom_container_background.background = croppedBlurredThumbnai`l\r\n\r\n\r\n\r\n\r\n\r\n   \r\n\r\n","title":"Make an ImageView transparent at the top in Android","body":"<p>I've searched this up many times, but couldn't find an answer which worked for me. So basically, my issue is that I get an image from a backend provider and should display it in the ImageView with an opacity gradient of 100% at the bottom and 0% at the top so the image behind it slowly shows up. Applying a transparent gradient overlay doesn't work since the pixels to be transparent are the actual image I get from the backend service. Any help or ideas would be appreciated! The UI is in XML not Compose</p>\n<p>This is the xml for the view I want to add an opacity gradient to. The image comes as a bitmap variable I assign to it's background currently:</p>\n<pre><code>&lt;ImageView\n    android:id=&quot;@+id/bottom_container_background&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;@dimen/bottom_container_height&quot;\n    android:adjustViewBounds=&quot;true&quot;\n    android:alpha=&quot;0.7&quot;\n    android:src=&quot;@drawable/cardview_gradient_shape&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;@+id/iv_epg&quot;\n    app:layout_constraintEnd_toEndOf=&quot;@+id/iv_epg&quot;\n    app:layout_constraintStart_toStartOf=&quot;@+id/iv_epg&quot;\n    tools:src=&quot;@drawable/cardview_gradient_shape&quot; /&gt;\n    \n\nval croppedBlurredThumbnail = BitmapDrawable(thumbnailBottomBackgroundBlurred) \n</code></pre>\n<p><code>cardLayout.bottom_container_background.background = croppedBlurredThumbnai</code>l</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":3,"creation_date":1660855911,"post_id":73409165,"comment_id":129638930,"body_markdown":"Please take the [tour] and read [ask]","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":21269479,"reputation":10151,"user_id":15649230,"display_name":"Ahmed AEK"},"score":0,"creation_date":1660856788,"post_id":73409165,"comment_id":129639167,"body_markdown":"1. learn java,  2. learn string processing,  3. learn spark, \n 4.write the app. i am not sure about the ordering of these steps but they should be sufficient.","body":"1. learn java,  2. learn string processing,  3. learn spark,   4.write the app. i am not sure about the ordering of these steps but they should be sufficient."}],"answers":[{"tags":[],"owner":{"account_id":11313464,"reputation":31,"user_id":8295955,"display_name":"jyoti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661241548,"creation_date":1661241115,"answer_id":73454988,"question_id":73409165,"body_markdown":"1. Create two dataframes by reading both the files in spark. \r\n2. Apply logic over these dataframes by using dataframes methods or spark sql query.\r\n3. then save the output at target location.\r\n\r\nplease go through below link of spark API documentation to get the exact syntax and details.\r\n\r\n&lt;https://spark.apache.org/docs/latest/sql-data-sources-csv.html&gt;\r\n","title":"How do I create a spark application written in Java that reads 2 files for processing","body":"<ol>\n<li>Create two dataframes by reading both the files in spark.</li>\n<li>Apply logic over these dataframes by using dataframes methods or spark sql query.</li>\n<li>then save the output at target location.</li>\n</ol>\n<p>please go through below link of spark API documentation to get the exact syntax and details.</p>\n<p><a href=\"https://spark.apache.org/docs/latest/sql-data-sources-csv.html\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/latest/sql-data-sources-csv.html</a></p>\n"}],"owner":{"account_id":26101880,"reputation":1,"user_id":19797190,"display_name":"heisenberg11231"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661241548,"creation_date":1660855111,"question_id":73409165,"body_markdown":"A team is working with data that has already been conformed and I have to take that data and make it ready for semantics.\r\n\r\nThere are 2 files: \r\n1st file has 3 fields:\r\n1)Product ID\r\n2)Product Name\r\n3)Product Category\r\n\r\n2nd File has 3 fields as well:\r\n1)Product ID\r\n2)Order ID\r\n3)Order Amount\r\n\r\nI have to write a spark application that reads data from both files and find out what are the LEAST sold products by product category. MUST BE IN JAVA\r\n\r\nHow will I be able to go about this?\r\n\r\nPlease and thank you.","title":"How do I create a spark application written in Java that reads 2 files for processing","body":"<p>A team is working with data that has already been conformed and I have to take that data and make it ready for semantics.</p>\n<p>There are 2 files:\n1st file has 3 fields:\n1)Product ID\n2)Product Name\n3)Product Category</p>\n<p>2nd File has 3 fields as well:\n1)Product ID\n2)Order ID\n3)Order Amount</p>\n<p>I have to write a spark application that reads data from both files and find out what are the LEAST sold products by product category. MUST BE IN JAVA</p>\n<p>How will I be able to go about this?</p>\n<p>Please and thank you.</p>\n"},{"tags":["java","weblogic11g"],"comments":[{"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"score":0,"creation_date":1601479206,"post_id":64070139,"comment_id":113422518,"body_markdown":"A NoClassDefFoundError does not necessarily mean ClassNotFoundException. Check the server log to find the complete error message, the stack trace and the root cause of your NoClassDefFoundError","body":"A NoClassDefFoundError does not necessarily mean ClassNotFoundException. Check the server log to find the complete error message, the stack trace and the root cause of your NoClassDefFoundError"}],"answers":[{"tags":[],"owner":{"display_name":"user4326656"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601062120,"creation_date":1601061716,"answer_id":64070219,"question_id":64070139,"body_markdown":"Make sure the WAR file contains this file as well. \r\n\r\nYou can also deploy the library to the WebLogic server as a library and try adding the library reference in the weblogic.xml","title":"java.lang.NoClassDefFoundError: com/jcraft/jsch/JSch in JAVA","body":"<p>Make sure the WAR file contains this file as well.</p>\n<p>You can also deploy the library to the WebLogic server as a library and try adding the library reference in the weblogic.xml</p>\n"}],"owner":{"account_id":9923384,"reputation":117,"user_id":7345807,"display_name":"Hema "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661241352,"creation_date":1601061283,"question_id":64070139,"body_markdown":"We have a code where we are trying to dump some file into sftp account of some user\r\nfor that, we use library  jsch from jsch-0.1.45.\r\n\r\n    JSch jsch = new JSch();  \r\n\t\t\t session = jsch.getSession(variable1,variable2); \r\n\t\t\t session.setPassword(abcd);  \r\n\t\t\t session.setConfig(config);  \r\n\t\t\t session.connect();  \r\n\t\t\t channel = session.openChannel(&quot;sftp&quot;);  \r\n\t\t\t channel.connect();  \r\n\r\nI have added jar under WEB-INF-lib, still getting below error at line JSch jsch = new JSch(); when we deploy our application in WebLogic server.\r\nException in thread &quot;Timer-2&quot; java.lang.NoClassDefFoundError: com/jcraft/jsch/JSch\r\n\r\n&gt; Blockquote\r\n\r\n Could anyone help me, what causing this issue?\r\n\r\n","title":"java.lang.NoClassDefFoundError: com/jcraft/jsch/JSch in JAVA","body":"<p>We have a code where we are trying to dump some file into sftp account of some user\nfor that, we use library  jsch from jsch-0.1.45.</p>\n<pre><code>JSch jsch = new JSch();  \n         session = jsch.getSession(variable1,variable2); \n         session.setPassword(abcd);  \n         session.setConfig(config);  \n         session.connect();  \n         channel = session.openChannel(&quot;sftp&quot;);  \n         channel.connect();  \n</code></pre>\n<p>I have added jar under WEB-INF-lib, still getting below error at line JSch jsch = new JSch(); when we deploy our application in WebLogic server.\nException in thread &quot;Timer-2&quot; java.lang.NoClassDefFoundError: com/jcraft/jsch/JSch</p>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n<p>Could anyone help me, what causing this issue?</p>\n"},{"tags":["java","spring-boot","redis","lua","lettuce"],"answers":[{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661241086,"creation_date":1661240729,"answer_id":73454897,"question_id":73426159,"body_markdown":"After a bit more research about the requirement, I found the following StackOverFlow answer:\r\n\r\n[StackOverFlow Answer][1]\r\n\r\nAnd also based on the documentation:\r\n\r\n[Redis Custom Commands : ][2]\r\n\r\n&gt; Custom commands can be dispatched on the one hand using Lua and the\r\n&gt; eval() command, on the other side Lettuce 4.x allows you to trigger\r\n&gt; own commands. That API is used by Lettuce itself to dispatch commands\r\n&gt; and requires some knowledge of how commands are constructed and\r\n&gt; dispatched within Lettuce.\r\n&gt; \r\n&gt; Lettuce provides two levels of command dispatching:\r\n&gt; \r\n&gt; - Using the synchronous, asynchronous or reactive API wrappers which\r\n&gt;  invoke commands according to their nature\r\n&gt;\r\n&gt; - Using the bare connection to influence the command nature and\r\n&gt;   synchronization (advanced)\r\n\r\nSo I could handle my requirements by creating an `interface` which `extends` the `io.lettuce.core.dynamic.Commands` `interface` as below:\r\n\r\n    public interface CustomCommands extends Commands {\r\n    \r\n        @Command(&quot;FCALL :funcName :keyCnt :jobsKey :inboxRef :jobsRef :jobIdentity :frwrdMsg &quot;)\r\n        Object fcall_responseJob(@Param(&quot;funcName&quot;) byte[] functionName, @Param(&quot;keyCnt&quot;) Integer keysCount,\r\n                     @Param(&quot;jobsKey&quot;) byte[] jobsKey, @Param(&quot;inboxRef&quot;) byte[] inboxRef,\r\n                     @Param(&quot;jobsRef&quot;) byte[] jobsRef, @Param(&quot;jobIdentity&quot;) byte[] jobIdentity,\r\n                     @Param(&quot;frwrdMsg&quot;) byte[] frwrdMsg);\r\n    \r\n    }\r\n\r\nThen I could easily call my loaded `FUNCTION`(which was a Lua script) as below:\r\n\r\n    private void updateResponseJobAndForwardMsgToSSO(SharedObject message, SharedObject responseMessage) {\r\n            try {\r\n                ObjectMapper objectMapper = new MessagePackMapper();\r\n                RedisCommandFactory factory = new RedisCommandFactory(connection);\r\n                CustomCommands commands = factory.getCommands(CustomCommands.class);\r\n                Object obj = commands.fcall_responseJob(\r\n                        Constant.REDIS_RESPONSE_JOB_FUNCTION_NAME.getBytes(StandardCharsets.UTF_8),\r\n                        Constant.REDIS_RESPONSE_JOB_FUNCTION_KEY_COUNT,\r\n                        (message.getAgent() + Constant.AGENTS_JOBS_POSTFIX).getBytes(StandardCharsets.UTF_8),\r\n                        (message.getAgent() + Constant.AGENTS_INBOX_POSTFIX).getBytes(StandardCharsets.UTF_8),\r\n                        message.getReferenceNumber().getBytes(StandardCharsets.UTF_8),\r\n                        message.getTyp().getBytes(StandardCharsets.UTF_8),\r\n                        objectMapper.writeValueAsBytes(responseMessage));\r\n                LOG.info(obj.toString());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n  [1]: https://stackoverflow.com/a/48589406/7189597\r\n  [2]: https://lettuce.io/core/release/reference/#_custom_commands","title":"calling a Redis function(loaded Lua script) using Lettuce library","body":"<p>After a bit more research about the requirement, I found the following StackOverFlow answer:</p>\n<p><a href=\"https://stackoverflow.com/a/48589406/7189597\">StackOverFlow Answer</a></p>\n<p>And also based on the documentation:</p>\n<p><a href=\"https://lettuce.io/core/release/reference/#_custom_commands\" rel=\"nofollow noreferrer\">Redis Custom Commands : </a></p>\n<blockquote>\n<p>Custom commands can be dispatched on the one hand using Lua and the\neval() command, on the other side Lettuce 4.x allows you to trigger\nown commands. That API is used by Lettuce itself to dispatch commands\nand requires some knowledge of how commands are constructed and\ndispatched within Lettuce.</p>\n<p>Lettuce provides two levels of command dispatching:</p>\n<ul>\n<li><p>Using the synchronous, asynchronous or reactive API wrappers which\ninvoke commands according to their nature</p>\n</li>\n<li><p>Using the bare connection to influence the command nature and\nsynchronization (advanced)</p>\n</li>\n</ul>\n</blockquote>\n<p>So I could handle my requirements by creating an <code>interface</code> which <code>extends</code> the <code>io.lettuce.core.dynamic.Commands</code> <code>interface</code> as below:</p>\n<pre><code>public interface CustomCommands extends Commands {\n\n    @Command(&quot;FCALL :funcName :keyCnt :jobsKey :inboxRef :jobsRef :jobIdentity :frwrdMsg &quot;)\n    Object fcall_responseJob(@Param(&quot;funcName&quot;) byte[] functionName, @Param(&quot;keyCnt&quot;) Integer keysCount,\n                 @Param(&quot;jobsKey&quot;) byte[] jobsKey, @Param(&quot;inboxRef&quot;) byte[] inboxRef,\n                 @Param(&quot;jobsRef&quot;) byte[] jobsRef, @Param(&quot;jobIdentity&quot;) byte[] jobIdentity,\n                 @Param(&quot;frwrdMsg&quot;) byte[] frwrdMsg);\n\n}\n</code></pre>\n<p>Then I could easily call my loaded <code>FUNCTION</code>(which was a Lua script) as below:</p>\n<pre><code>private void updateResponseJobAndForwardMsgToSSO(SharedObject message, SharedObject responseMessage) {\n        try {\n            ObjectMapper objectMapper = new MessagePackMapper();\n            RedisCommandFactory factory = new RedisCommandFactory(connection);\n            CustomCommands commands = factory.getCommands(CustomCommands.class);\n            Object obj = commands.fcall_responseJob(\n                    Constant.REDIS_RESPONSE_JOB_FUNCTION_NAME.getBytes(StandardCharsets.UTF_8),\n                    Constant.REDIS_RESPONSE_JOB_FUNCTION_KEY_COUNT,\n                    (message.getAgent() + Constant.AGENTS_JOBS_POSTFIX).getBytes(StandardCharsets.UTF_8),\n                    (message.getAgent() + Constant.AGENTS_INBOX_POSTFIX).getBytes(StandardCharsets.UTF_8),\n                    message.getReferenceNumber().getBytes(StandardCharsets.UTF_8),\n                    message.getTyp().getBytes(StandardCharsets.UTF_8),\n                    objectMapper.writeValueAsBytes(responseMessage));\n            LOG.info(obj.toString());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73454897,"answer_count":1,"score":2,"last_activity_date":1661241086,"creation_date":1660993578,"question_id":73426159,"body_markdown":"I am using `Java`, `Spring-Boot`, `Redis 7.0.4`, and `lettuce 6.2.0.RELEASE`.\r\n\r\nI wrote a `Lua` script as below:\r\n\r\n    #!lua\r\n    name = updateRegisterUserJobAndForwardMsg\r\n    function updateRegisterUserJobAndForwardMsg (KEYS, ARGV)\r\n      local jobsKey = KEYS[1]\r\n      local inboxKey = KEYS[2]\r\n      local jobRef = KEYS[3]\r\n      local jobIdentity  = KEYS[4]\r\n      local accountsMsg = ARGV[1]\r\n      \r\n      local jobDetail = redis.call(&#39;HGET&#39;, jobsKey ,jobRef)\r\n      local jobObj = cmsgpack.unpack(jobDetail)\r\n      local msgSteps = jobObj[&#39;steps&#39;]\r\n      msgSteps[jobIdentity] = &#39;IN_PROGRESS&#39;\r\n      \r\n      jobDetail = redis.call(&#39;HSET&#39;, jobsKey, jobRef, cmsgpack.pack(jobObj))\r\n      \r\n      local ssoMsg = redis.call(&#39;RPUSH&#39;, inboxKey, cmsgpack.pack(accountsMsg))\r\n    \r\n      return jobDetail\r\n    end\r\n    redis.register_function(&#39;updateRegisterUserJobAndForwardMsg&#39;, updateRegisterUserJobAndForwardMsg)\r\n\r\nThen I registered it as a function in my `Redis` using the below command:\r\n\r\n    cat updateJobAndForwardMsgScript.lua | redis-cli -x FUNCTION LOAD REPLACE\r\n    \r\nNow I can easily call my function using `Redis-cli` as below:\r\n\r\n     FCALL updateJobAndForwardMsg 4 key1 key2 key3 key4 arg1\r\n\r\nAnd it will get executed successfully!!\r\n\r\nNow I want to call my function using `lettuce` which is my `Redis-client` library in my application, but I haven&#39;t found anything on the net, and it seems that `lettuce` does not support `Redis 7 new feature` for calling `FUNCTION` using `FCALL` command!!\r\n\r\nDoes it have any other customized way for executing Redis commands using lettuce?\r\n\r\nAny help would be appreciated!!","title":"calling a Redis function(loaded Lua script) using Lettuce library","body":"<p>I am using <code>Java</code>, <code>Spring-Boot</code>, <code>Redis 7.0.4</code>, and <code>lettuce 6.2.0.RELEASE</code>.</p>\n<p>I wrote a <code>Lua</code> script as below:</p>\n<pre><code>#!lua\nname = updateRegisterUserJobAndForwardMsg\nfunction updateRegisterUserJobAndForwardMsg (KEYS, ARGV)\n  local jobsKey = KEYS[1]\n  local inboxKey = KEYS[2]\n  local jobRef = KEYS[3]\n  local jobIdentity  = KEYS[4]\n  local accountsMsg = ARGV[1]\n  \n  local jobDetail = redis.call('HGET', jobsKey ,jobRef)\n  local jobObj = cmsgpack.unpack(jobDetail)\n  local msgSteps = jobObj['steps']\n  msgSteps[jobIdentity] = 'IN_PROGRESS'\n  \n  jobDetail = redis.call('HSET', jobsKey, jobRef, cmsgpack.pack(jobObj))\n  \n  local ssoMsg = redis.call('RPUSH', inboxKey, cmsgpack.pack(accountsMsg))\n\n  return jobDetail\nend\nredis.register_function('updateRegisterUserJobAndForwardMsg', updateRegisterUserJobAndForwardMsg)\n</code></pre>\n<p>Then I registered it as a function in my <code>Redis</code> using the below command:</p>\n<pre><code>cat updateJobAndForwardMsgScript.lua | redis-cli -x FUNCTION LOAD REPLACE\n</code></pre>\n<p>Now I can easily call my function using <code>Redis-cli</code> as below:</p>\n<pre><code> FCALL updateJobAndForwardMsg 4 key1 key2 key3 key4 arg1\n</code></pre>\n<p>And it will get executed successfully!!</p>\n<p>Now I want to call my function using <code>lettuce</code> which is my <code>Redis-client</code> library in my application, but I haven't found anything on the net, and it seems that <code>lettuce</code> does not support <code>Redis 7 new feature</code> for calling <code>FUNCTION</code> using <code>FCALL</code> command!!</p>\n<p>Does it have any other customized way for executing Redis commands using lettuce?</p>\n<p>Any help would be appreciated!!</p>\n"},{"tags":["java","postgresql","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1657816210,"post_id":72969544,"comment_id":128905650,"body_markdown":"Probably a bug, which you could report here, with a bit more details on how to reproduce? https://github.com/jOOQ/jOOQ/issues/new/choose","body":"Probably a bug, which you could report here, with a bit more details on how to reproduce? <a href=\"https://github.com/jOOQ/jOOQ/issues/new/choose\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/new/choose</a>"},{"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"score":0,"creation_date":1661192137,"post_id":72969544,"comment_id":129708667,"body_markdown":"@LukasEder thanks, I created a bug report with a MCVE: https://github.com/jOOQ/jOOQ/issues/13903","body":"@LukasEder thanks, I created a bug report with a MCVE: <a href=\"https://github.com/jOOQ/jOOQ/issues/13903\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/13903</a>"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661240914,"creation_date":1661240914,"answer_id":73454932,"question_id":72969544,"body_markdown":"Given the details provided in your [bug report #13903][1], I don&#39;t think there&#39;s much jOOQ can do for you here out of the box. The `NUL` byte that can be contained in strings seems to have a special meaning in PostgreSQL, and is thus forbidden:\r\n\r\n- https://www.commandprompt.com/blog/null-characters-workarounds-arent-good-enough/\r\n- https://stackoverflow.com/q/28813409/521799\r\n- [How exactly does the one-byte &quot;char&quot; type work in PostgreSQL?][2]\r\n\r\nYou can try this:\r\n\r\n```sql\r\nselect &#39;{&quot;a&quot;:&quot;\\u0000&quot;}&#39;::jsonb;\r\n```\r\n\r\nYou&#39;ll get this error:\r\n\r\n&gt; SQL Error [22P05]: ERROR: unsupported Unicode escape sequence\r\n&gt;  Detail: \\u0000 cannot be converted to text.\r\n&gt;  Position: 8\r\n&gt;  Where: JSON data, line 1: {&quot;a&quot;:...\r\n\r\nShowing this has nothing to do with jOOQ itself. jOOQ can&#39;t encode this reasonably on your behalf, because any chosen encoding would inevitably conflict with some other data of some users. For example, if `&quot;\\u0000&quot;` were to be encoded as `&quot;#u0000&quot;`, then that might break the assumptions some users have already made about the difference between the `\\` and `#` characters. Hence, jOOQ can&#39;t offer this out of the box.\r\n\r\nHowever, you could encode the `NUL` byte in any way you want on your end using a custom [jOOQ data type binding][3].\r\n\r\n\r\n  [1]: https://github.com/jOOQ/jOOQ/issues/13903\r\n  [2]: https://dba.stackexchange.com/a/166167/2512\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/queryparts/custom-bindings/","title":"org.jooq.exception.DataAccessException: unsupported Unicode escape sequence \\u0000","body":"<p>Given the details provided in your <a href=\"https://github.com/jOOQ/jOOQ/issues/13903\" rel=\"nofollow noreferrer\">bug report #13903</a>, I don't think there's much jOOQ can do for you here out of the box. The <code>NUL</code> byte that can be contained in strings seems to have a special meaning in PostgreSQL, and is thus forbidden:</p>\n<ul>\n<li><a href=\"https://www.commandprompt.com/blog/null-characters-workarounds-arent-good-enough/\" rel=\"nofollow noreferrer\">https://www.commandprompt.com/blog/null-characters-workarounds-arent-good-enough/</a></li>\n<li><a href=\"https://stackoverflow.com/q/28813409/521799\">Are null bytes allowed in unicode strings in PostgreSQL via Python?</a></li>\n<li><a href=\"https://dba.stackexchange.com/a/166167/2512\">How exactly does the one-byte &quot;char&quot; type work in PostgreSQL?</a></li>\n</ul>\n<p>You can try this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select '{&quot;a&quot;:&quot;\\u0000&quot;}'::jsonb;\n</code></pre>\n<p>You'll get this error:</p>\n<blockquote>\n<p>SQL Error [22P05]: ERROR: unsupported Unicode escape sequence\nDetail: \\u0000 cannot be converted to text.\nPosition: 8\nWhere: JSON data, line 1: {&quot;a&quot;:...</p>\n</blockquote>\n<p>Showing this has nothing to do with jOOQ itself. jOOQ can't encode this reasonably on your behalf, because any chosen encoding would inevitably conflict with some other data of some users. For example, if <code>&quot;\\u0000&quot;</code> were to be encoded as <code>&quot;#u0000&quot;</code>, then that might break the assumptions some users have already made about the difference between the <code>\\</code> and <code>#</code> characters. Hence, jOOQ can't offer this out of the box.</p>\n<p>However, you could encode the <code>NUL</code> byte in any way you want on your end using a custom <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/queryparts/custom-bindings/\" rel=\"nofollow noreferrer\">jOOQ data type binding</a>.</p>\n"}],"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2181,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73454932,"answer_count":1,"score":2,"last_activity_date":1661240914,"creation_date":1657729260,"question_id":72969544,"body_markdown":"I&#39;m trying to insert a serialized JSON into a Postgres JSONB column using jOOQ, but it&#39;s failing because the serialized JSON has a `\\\\0` inside of it.\r\n\r\nIs there a way jOOQ will escape this automatically for us?\r\n\r\nThis is the exception I&#39;m getting:\r\n```\r\norg.jooq.exception.DataAccessException: SQL [insert into ...]; \r\nERROR: unsupported Unicode escape sequence \r\nDetail: \\u0000 cannot be converted to text. \r\nWhere: JSON data, line 1: ...ity&quot;:17,&quot;REDACTED&quot;:[&quot;REDACTED&quot;],&quot;REDACTED&quot;:... at \r\norg.jooq_3.15.8.POSTGRES.debug(Unknown Source) at \r\norg.jooq.impl.Tools.translate(Tools.java:2997) at \r\norg.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:639) at \r\norg.jooq.impl.AbstractQuery.execute(AbstractQuery.java:354) at \r\norg.jooq.impl.DMLQueryAsResultQuery.fetch(DMLQueryAsResultQuery.java:137) at \r\norg.jooq.impl.ResultQueryTrait.fetchLazy(ResultQueryTrait.java:278) at \r\norg.jooq.impl.ResultQueryTrait.fetchLazyNonAutoClosing(ResultQueryTrait.java:287) at \r\norg.jooq.impl.ResultQueryTrait.fetchOne(ResultQueryTrait.java:506) at \r\n...\r\n```\r\n","title":"org.jooq.exception.DataAccessException: unsupported Unicode escape sequence \\u0000","body":"<p>I'm trying to insert a serialized JSON into a Postgres JSONB column using jOOQ, but it's failing because the serialized JSON has a <code>\\\\0</code> inside of it.</p>\n<p>Is there a way jOOQ will escape this automatically for us?</p>\n<p>This is the exception I'm getting:</p>\n<pre><code>org.jooq.exception.DataAccessException: SQL [insert into ...]; \nERROR: unsupported Unicode escape sequence \nDetail: \\u0000 cannot be converted to text. \nWhere: JSON data, line 1: ...ity&quot;:17,&quot;REDACTED&quot;:[&quot;REDACTED&quot;],&quot;REDACTED&quot;:... at \norg.jooq_3.15.8.POSTGRES.debug(Unknown Source) at \norg.jooq.impl.Tools.translate(Tools.java:2997) at \norg.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:639) at \norg.jooq.impl.AbstractQuery.execute(AbstractQuery.java:354) at \norg.jooq.impl.DMLQueryAsResultQuery.fetch(DMLQueryAsResultQuery.java:137) at \norg.jooq.impl.ResultQueryTrait.fetchLazy(ResultQueryTrait.java:278) at \norg.jooq.impl.ResultQueryTrait.fetchLazyNonAutoClosing(ResultQueryTrait.java:287) at \norg.jooq.impl.ResultQueryTrait.fetchOne(ResultQueryTrait.java:506) at \n...\n</code></pre>\n"},{"tags":["java","spring","spring-boot","ssl","jakarta-mail"],"comments":[{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1661239117,"post_id":73454251,"comment_id":129717503,"body_markdown":"did you check https://stackoverflow.com/questions/67899129/postfix-and-openjdk-11-no-appropriate-protocol-protocol-is-disabled-or-cipher","body":"did you check <a href=\"https://stackoverflow.com/questions/67899129/postfix-and-openjdk-11-no-appropriate-protocol-protocol-is-disabled-or-cipher\" title=\"postfix and openjdk 11 no appropriate protocol protocol is disabled or cipher\">stackoverflow.com/questions/67899129/&hellip;</a>"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1661239669,"post_id":73454251,"comment_id":129717679,"body_markdown":"what is jdk version you are using?","body":"what is jdk version you are using?"},{"owner":{"account_id":15413608,"reputation":99,"user_id":11529048,"display_name":"Akhil"},"score":0,"creation_date":1661241114,"post_id":73454251,"comment_id":129718135,"body_markdown":"Might be related to this https://stackoverflow.com/questions/68857525/javax-net-ssl-sslhandshakeexceptionno-appropriate-protocol-how-to-force-java-t","body":"Might be related to this <a href=\"https://stackoverflow.com/questions/68857525/javax-net-ssl-sslhandshakeexceptionno-appropriate-protocol-how-to-force-java-t\" title=\"javax net ssl sslhandshakeexceptionno appropriate protocol how to force java t\">stackoverflow.com/questions/68857525/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661240233,"creation_date":1661240233,"answer_id":73454804,"question_id":73454251,"body_markdown":"This looks tls algorithm is part of your `disabledAlgorithms` list in jdk which is running in your system.\r\n\r\nWhile link shared by Marc Stroebel might help you but if you want to set this programatically as well, then you can use below in your spring startup :\r\n\r\n\r\n    @SpringBootApplication\r\n    public class App {\r\n    \tpublic static void main(String[] args) {\r\n          java.security.Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;, &quot;&quot;);\r\n          ..\r\n          ..\r\n        }\r\n    }\r\n\r\nThis will allow all algorithms while app execution.","title":"Getting javax.net.ssl.SSLHandshakeException: No appropriate protocol exception while sending mail through smtp","body":"<p>This looks tls algorithm is part of your <code>disabledAlgorithms</code> list in jdk which is running in your system.</p>\n<p>While link shared by Marc Stroebel might help you but if you want to set this programatically as well, then you can use below in your spring startup :</p>\n<pre><code>@SpringBootApplication\npublic class App {\n    public static void main(String[] args) {\n      java.security.Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;, &quot;&quot;);\n      ..\n      ..\n    }\n}\n</code></pre>\n<p>This will allow all algorithms while app execution.</p>\n"}],"owner":{"account_id":18241043,"reputation":259,"user_id":13278063,"display_name":"Susmitha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661240233,"creation_date":1661237193,"question_id":73454251,"body_markdown":"I am trying to send the mail from my spring boot application. The following are the smtp configurations I have added in application.yml\r\n```\r\nspring:\r\n  mail:\r\n    host: smtp.gmail.com\r\n    port: 587\r\n    username: ${username}\r\n    password: ${app-password}\r\n    properties:\r\n      mail:\r\n        transport:\r\n          protocol: smtp\r\n        smtp:\r\n          auth: true\r\n          starttls:\r\n            enable: true\r\n\r\n```\r\n\r\nBut when I am trying to send the mail, I am getting the following exception\r\n```\r\nMail server connection failed; nested exception is\r\n    javax.mail.MessagingException: Can&#39;t send command to SMTP host;\r\n  nested exception is:\r\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate).\r\nFailed messages: javax.mail.MessagingException: Can&#39;t send command to SMTP host;\r\n  nested exception is:\r\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;\r\n```\r\n\r\nPlease help me with this. I have searched many blogs, my configurations seems to be fine. Let me know If I need to change or add something. \r\n\r\nThanks in advance!","title":"Getting javax.net.ssl.SSLHandshakeException: No appropriate protocol exception while sending mail through smtp","body":"<p>I am trying to send the mail from my spring boot application. The following are the smtp configurations I have added in application.yml</p>\n<pre><code>spring:\n  mail:\n    host: smtp.gmail.com\n    port: 587\n    username: ${username}\n    password: ${app-password}\n    properties:\n      mail:\n        transport:\n          protocol: smtp\n        smtp:\n          auth: true\n          starttls:\n            enable: true\n\n</code></pre>\n<p>But when I am trying to send the mail, I am getting the following exception</p>\n<pre><code>Mail server connection failed; nested exception is\n    javax.mail.MessagingException: Can't send command to SMTP host;\n  nested exception is:\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate).\nFailed messages: javax.mail.MessagingException: Can't send command to SMTP host;\n  nested exception is:\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;\n</code></pre>\n<p>Please help me with this. I have searched many blogs, my configurations seems to be fine. Let me know If I need to change or add something.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469766989,"creation_date":1469765668,"answer_id":38650407,"question_id":38650354,"body_markdown":"It&#39;s just math, right? \r\n\r\nStore the initial step count when the app starts. When you try to get the new step value, simply subtract the initial value from the current step sensor value. That tells you exactly how many steps have been taken since the app started. ","title":"How to reset the step count from android","body":"<p>It's just math, right? </p>\n\n<p>Store the initial step count when the app starts. When you try to get the new step value, simply subtract the initial value from the current step sensor value. That tells you exactly how many steps have been taken since the app started. </p>\n"},{"tags":[],"owner":{"account_id":4519550,"reputation":5971,"user_id":3673259,"accept_rate":94,"display_name":"Joshua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469766443,"creation_date":1469766443,"answer_id":38650507,"question_id":38650354,"body_markdown":"Use the following code\r\n\r\n    private static final String Initial_Count_Key = &quot;FootStepInitialCount&quot;;\r\n    final SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());\r\n    // Initialize if it is the first time use\r\n    if(!prefs.contains(Initial_Count_Key)){\r\n    \tEditor editor = prefs.edit();\r\n    \teditor.putInt(Initial_Count_Key, stepsInSensor);\r\n    \teditor.commit();\r\n    }\r\n\r\nHow to get the step count\r\n\r\n    // return -1 if it is not initialize\r\n    int startingStepCount = prefs.getInt(Initial_Count_Key, -1); \r\n    int stepCount = stepsInSensor - startingStepCount;\r\n\r\nHow to reset (Reset the starting value)\r\n\r\n    Editor editor = prefs.edit();\r\n    editor.putInt(Initial_Count_Key, stepsInSensor);\r\n    editor.commit();","title":"How to reset the step count from android","body":"<p>Use the following code</p>\n\n<pre><code>private static final String Initial_Count_Key = \"FootStepInitialCount\";\nfinal SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());\n// Initialize if it is the first time use\nif(!prefs.contains(Initial_Count_Key)){\n    Editor editor = prefs.edit();\n    editor.putInt(Initial_Count_Key, stepsInSensor);\n    editor.commit();\n}\n</code></pre>\n\n<p>How to get the step count</p>\n\n<pre><code>// return -1 if it is not initialize\nint startingStepCount = prefs.getInt(Initial_Count_Key, -1); \nint stepCount = stepsInSensor - startingStepCount;\n</code></pre>\n\n<p>How to reset (Reset the starting value)</p>\n\n<pre><code>Editor editor = prefs.edit();\neditor.putInt(Initial_Count_Key, stepsInSensor);\neditor.commit();\n</code></pre>\n"}],"owner":{"account_id":6958719,"reputation":23,"user_id":5338924,"accept_rate":11,"display_name":"Jessica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4010,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661239813,"creation_date":1469765170,"question_id":38650354,"body_markdown":"    public class speedDetection extends Activity implements SensorEventListener {\r\n    \r\n        private TextView textView;\r\n        private SensorManager mSensorManager;\r\n        private Sensor mStepCounterSensor;\r\n        private Sensor mStepDetectorSensor;\r\n       // boolean flag = false;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_speed_detection);\r\n    \r\n    \r\n            //pass in the level from time to time.\r\n            //int level = this.getIntent().getIntExtra(&quot;Level&quot;,0);\r\n    \r\n            textView = (TextView) findViewById(R.id.textView);\r\n    \r\n            //Toast.makeText(getApplicationContext(), level, Toast.LENGTH_LONG).show();\r\n    \r\n            mSensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\r\n            mStepCounterSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\r\n            mStepDetectorSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_STEP_DETECTOR);\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onSensorChanged(SensorEvent event) {\r\n    \r\n            Sensor sensor = event.sensor;\r\n            float[] values = event.values;\r\n            int stepsInSensor = -1;\r\n    \r\n            /*if (!flag) {\r\n                //Reset the count when reset the apps\r\n                int initValue = (int) values[values.length - 1];\r\n                stepsInSensor = stepsInSensor - initValue;\r\n            }*/\r\n    \r\n            if (values.length &gt; 0) {                //some values was inside\r\n                stepsInSensor = (int) values[0];    //the latest value added will be at value[0]\r\n            }\r\n    \r\n            if (sensor.getType() == Sensor.TYPE_STEP_COUNTER) {\r\n                textView.setText(&quot;Step Counter Detected : &quot; + stepsInSensor);\r\n    \r\n            } else if (sensor.getType() == Sensor.TYPE_STEP_DETECTOR) {\r\n                textView.setText(&quot;Step Detector Detected : &quot; + stepsInSensor);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onAccuracyChanged(Sensor sensor, int i) {    }\r\n    \r\n        protected void onResume() {\r\n            super.onResume();\r\n            mSensorManager.registerListener(this, mStepCounterSensor, SensorManager.SENSOR_DELAY_FASTEST);\r\n            mSensorManager.registerListener(this, mStepDetectorSensor,SensorManager.SENSOR_DELAY_FASTEST);\r\n    \r\n        }\r\n    \r\n        protected void onStop() {\r\n            super.onStop();\r\n            mSensorManager.unregisterListener(this, mStepCounterSensor);\r\n            mSensorManager.unregisterListener(this, mStepDetectorSensor);\r\n    \r\n        }\r\n    }\r\n\r\nAnyone have idea how to reset the `stepInSensor` started with 0 everytime the apps started?\r\nthe `Sensor.TYPE_STEP_COUNTER` can only reset when the device reboot.\r\n\r\nI found a post answering this question was like &quot;store the first value returned as initial value, then subtract subsequent value by it.&quot; \r\n\r\nbut how exactly it can be done?\r\n","title":"How to reset the step count from android","body":"<pre><code>public class speedDetection extends Activity implements SensorEventListener {\n\n    private TextView textView;\n    private SensorManager mSensorManager;\n    private Sensor mStepCounterSensor;\n    private Sensor mStepDetectorSensor;\n   // boolean flag = false;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_speed_detection);\n\n\n        //pass in the level from time to time.\n        //int level = this.getIntent().getIntExtra(\"Level\",0);\n\n        textView = (TextView) findViewById(R.id.textView);\n\n        //Toast.makeText(getApplicationContext(), level, Toast.LENGTH_LONG).show();\n\n        mSensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n        mStepCounterSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\n        mStepDetectorSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_STEP_DETECTOR);\n\n    }\n\n\n    @Override\n    public void onSensorChanged(SensorEvent event) {\n\n        Sensor sensor = event.sensor;\n        float[] values = event.values;\n        int stepsInSensor = -1;\n\n        /*if (!flag) {\n            //Reset the count when reset the apps\n            int initValue = (int) values[values.length - 1];\n            stepsInSensor = stepsInSensor - initValue;\n        }*/\n\n        if (values.length &gt; 0) {                //some values was inside\n            stepsInSensor = (int) values[0];    //the latest value added will be at value[0]\n        }\n\n        if (sensor.getType() == Sensor.TYPE_STEP_COUNTER) {\n            textView.setText(\"Step Counter Detected : \" + stepsInSensor);\n\n        } else if (sensor.getType() == Sensor.TYPE_STEP_DETECTOR) {\n            textView.setText(\"Step Detector Detected : \" + stepsInSensor);\n        }\n    }\n\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int i) {    }\n\n    protected void onResume() {\n        super.onResume();\n        mSensorManager.registerListener(this, mStepCounterSensor, SensorManager.SENSOR_DELAY_FASTEST);\n        mSensorManager.registerListener(this, mStepDetectorSensor,SensorManager.SENSOR_DELAY_FASTEST);\n\n    }\n\n    protected void onStop() {\n        super.onStop();\n        mSensorManager.unregisterListener(this, mStepCounterSensor);\n        mSensorManager.unregisterListener(this, mStepDetectorSensor);\n\n    }\n}\n</code></pre>\n\n<p>Anyone have idea how to reset the <code>stepInSensor</code> started with 0 everytime the apps started?\nthe <code>Sensor.TYPE_STEP_COUNTER</code> can only reset when the device reboot.</p>\n\n<p>I found a post answering this question was like \"store the first value returned as initial value, then subtract subsequent value by it.\" </p>\n\n<p>but how exactly it can be done?</p>\n"},{"tags":["java","filter","java-stream"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1661227934,"post_id":73452933,"comment_id":129715104,"body_markdown":"`colors` is `List&lt;String&gt;` so `colors.stream()` will return `Stream&lt;String&gt;` which means that `color`, in `.filter(color -&gt; ` is a string and there is no `getRGBValue()` method in class `String` so how does your code even compile?","body":"<code>colors</code> is <code>List&lt;String&gt;</code> so <code>colors.stream()</code> will return <code>Stream&lt;String&gt;</code> which means that <code>color</code>, in <code>.filter(color -&gt; </code> is a string and there is no <code>getRGBValue()</code> method in class <code>String</code> so how does your code even compile?"}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661227770,"creation_date":1661227244,"answer_id":73453003,"question_id":73452933,"body_markdown":" If you would have not represented the code as a lambda expression, but as a block statement you would have been able to simplify it further.\r\n\r\n\r\n    .filter(color -&gt; {\r\n        List&lt;String&gt; colourFulValues = ValidationUtil.getColorfulValues(start,\r\n                        color.getRGBValue());\r\n        return colourFulValues.isEmpty() || colourFulValues.contains(entity.getColor())\r\n    }\r\n\r\nOf course, you could abstract the block as a `Predicate` of its own depending on its usage. The type of the Predicate would be the type you have chosen to represent the color. Currently, in your question, for example, if it&#39;s a `java.lang.String`, where is the method `color.getRGBValue()` associated from?","title":"How to optimise this filtering of list in Java","body":"<p>If you would have not represented the code as a lambda expression, but as a block statement you would have been able to simplify it further.</p>\n<pre><code>.filter(color -&gt; {\n    List&lt;String&gt; colourFulValues = ValidationUtil.getColorfulValues(start,\n                    color.getRGBValue());\n    return colourFulValues.isEmpty() || colourFulValues.contains(entity.getColor())\n}\n</code></pre>\n<p>Of course, you could abstract the block as a <code>Predicate</code> of its own depending on its usage. The type of the Predicate would be the type you have chosen to represent the color. Currently, in your question, for example, if it's a <code>java.lang.String</code>, where is the method <code>color.getRGBValue()</code> associated from?</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661228338,"creation_date":1661228338,"answer_id":73453096,"question_id":73452933,"body_markdown":"You can use a [method reference][1]:\r\n```java\r\nprivate List&lt;String&gt; validate(StartValue start, List&lt;String&gt; colors, Entity entity) {\r\n    if (!CollectionUtils.isEmpty(colors)) {\r\n        return colors.stream()\r\n                     .filter(this::filter)\r\n                     .collect(Collectors.toList());\r\n    }\r\n    return colors;\r\n}\r\n\r\nprivate boolean filter(String color) {\r\n    var rgbVal = color.getRGBValue();\r\n    var cv = ValidationUtil.getColorfulValues(start, rgbVal);\r\n    boolean empty = cv.isEmpty();\r\n    return empty || (!empty &amp;&amp; cv.contains(entity.getColor()));\r\n}\r\n```\r\nNote that I use [var][2] since it is not clear to me what `color.getRGBValue()` returns and also what `ValidationUtil.getColorfulValues()` returns.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [2]: https://stackoverflow.com/questions/63073153/var-keyword-in-java","title":"How to optimise this filtering of list in Java","body":"<p>You can use a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;String&gt; validate(StartValue start, List&lt;String&gt; colors, Entity entity) {\n    if (!CollectionUtils.isEmpty(colors)) {\n        return colors.stream()\n                     .filter(this::filter)\n                     .collect(Collectors.toList());\n    }\n    return colors;\n}\n\nprivate boolean filter(String color) {\n    var rgbVal = color.getRGBValue();\n    var cv = ValidationUtil.getColorfulValues(start, rgbVal);\n    boolean empty = cv.isEmpty();\n    return empty || (!empty &amp;&amp; cv.contains(entity.getColor()));\n}\n</code></pre>\n<p>Note that I use <a href=\"https://stackoverflow.com/questions/63073153/var-keyword-in-java\">var</a> since it is not clear to me what <code>color.getRGBValue()</code> returns and also what <code>ValidationUtil.getColorfulValues()</code> returns.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661239737,"creation_date":1661239737,"answer_id":73454716,"question_id":73452933,"body_markdown":"- Guessing that `CollectionUtils.isEmpty` considers null elements non-existing.\r\n- For the filter condition evaluating `ValidationUtil.getColorfulValues(start, color.getRGBValue()))` only once requires mapping to it. But one needs to conserve the color too, to collect it in a list. So I introduced a `record ColorWithValues`. The `record` class is intended for such kind of uses.\r\n- `||` is a short-circuit operator and does not need a negation of its first argument.\r\n\r\nSo:\r\n\r\n    private List&lt;String&gt; validate(StartValue start, List&lt;String&gt; colors, Entity entity) {\r\n        record ColorWithValues(String color, Set&lt;String&gt; values) {}\r\n        return colors.stream()\r\n                    .filter(Objects::nonNull)\r\n                    .map(c -&gt;\r\n                         new ColorWithValues(c,\r\n                             ValidationUtil.getColorfulValues(start, c.getRGBValue())))\r\n                    .filter(cv -&gt; cv.values.isEmpty() ||\r\n                                  cv.values.contains(entity.getColor()))\r\n                    .map(cv -&gt; cv.color)\r\n                    .collect(Collectors.toList());\r\n    }\r\n","title":"How to optimise this filtering of list in Java","body":"<ul>\n<li>Guessing that <code>CollectionUtils.isEmpty</code> considers null elements non-existing.</li>\n<li>For the filter condition evaluating <code>ValidationUtil.getColorfulValues(start, color.getRGBValue()))</code> only once requires mapping to it. But one needs to conserve the color too, to collect it in a list. So I introduced a <code>record ColorWithValues</code>. The <code>record</code> class is intended for such kind of uses.</li>\n<li><code>||</code> is a short-circuit operator and does not need a negation of its first argument.</li>\n</ul>\n<p>So:</p>\n<pre><code>private List&lt;String&gt; validate(StartValue start, List&lt;String&gt; colors, Entity entity) {\n    record ColorWithValues(String color, Set&lt;String&gt; values) {}\n    return colors.stream()\n                .filter(Objects::nonNull)\n                .map(c -&gt;\n                     new ColorWithValues(c,\n                         ValidationUtil.getColorfulValues(start, c.getRGBValue())))\n                .filter(cv -&gt; cv.values.isEmpty() ||\n                              cv.values.contains(entity.getColor()))\n                .map(cv -&gt; cv.color)\n                .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":275128,"reputation":6815,"user_id":567797,"accept_rate":75,"display_name":"station"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1661239737,"creation_date":1661226625,"question_id":73452933,"body_markdown":"I have the following code:\r\n\r\n```java\r\nprivate List&lt;String&gt; validate(StartValue start, List&lt;String&gt; colors, Entity entity) {\r\n    if (!CollectionUtils.isEmpty(colors)) {\r\n        return colors.stream()\r\n                     .filter(color -&gt; ValidationUtil.getColorfulValues(start, color.getRGBValue()).isEmpty() ||\r\n                                      (!ValidationUtil.getColorfulValues(start, color.getRGBValue()).isEmpty() &amp;&amp;\r\n                                       ValidationUtil.getColorfulValues(start, color.getRGBValue()).contains(entity.getColor())))\r\n                     .collect(Collectors.toList());\r\n    }\r\n    return colors;\r\n}\r\n```\r\nHere `ValidationUtil.getColorfulValues` is getting called thrice for each value in the list. Is there a way to optimize the filter so that we can save the value of the call?","title":"How to optimise this filtering of list in Java","body":"<p>I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;String&gt; validate(StartValue start, List&lt;String&gt; colors, Entity entity) {\n    if (!CollectionUtils.isEmpty(colors)) {\n        return colors.stream()\n                     .filter(color -&gt; ValidationUtil.getColorfulValues(start, color.getRGBValue()).isEmpty() ||\n                                      (!ValidationUtil.getColorfulValues(start, color.getRGBValue()).isEmpty() &amp;&amp;\n                                       ValidationUtil.getColorfulValues(start, color.getRGBValue()).contains(entity.getColor())))\n                     .collect(Collectors.toList());\n    }\n    return colors;\n}\n</code></pre>\n<p>Here <code>ValidationUtil.getColorfulValues</code> is getting called thrice for each value in the list. Is there a way to optimize the filter so that we can save the value of the call?</p>\n"},{"tags":["java","spring","kotlin","jooq"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1660903670,"post_id":73414101,"comment_id":129648775,"body_markdown":"That kind of error can happen when the binding class first type parameter (the class to create geometries from) does not match the one inferred by Jooq (here, SQLDataType.GEOMETRY, I think). Can you attach your binding class to provide more information ?","body":"That kind of error can happen when the binding class first type parameter (the class to create geometries from) does not match the one inferred by Jooq (here, SQLDataType.GEOMETRY, I think). Can you attach your binding class to provide more information ?"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1661239617,"post_id":73414101,"comment_id":129717659,"body_markdown":"@amanin: jOOQ version 3.14 didn&#39;t have `SQLDataType.GEOMETRY`, yet. It was added in jOOQ 3.16, only.","body":"@amanin: jOOQ version 3.14 didn&#39;t have <code>SQLDataType.GEOMETRY</code>, yet. It was added in jOOQ 3.16, only."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1661241262,"post_id":73414101,"comment_id":129718183,"body_markdown":"@LukasEder Ok, but why is it present in the first snippet in the question (2nd argument of the method) then ? Maybe the Jooq version used for generation differs from runtime version ? I do not see any version forced in the generator gradle configuration.","body":"@LukasEder Ok, but why is it present in the first snippet in the question (2nd argument of the method) then ? Maybe the Jooq version used for generation differs from runtime version ? I do not see any version forced in the generator gradle configuration."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1661242102,"post_id":73414101,"comment_id":129718465,"body_markdown":"@amanin: Yeah, that&#39;s probably the answer to this question...","body":"@amanin: Yeah, that&#39;s probably the answer to this question..."}],"owner":{"account_id":15706441,"reputation":53,"user_id":17438806,"display_name":"JaneD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661239565,"creation_date":1660898712,"question_id":73414101,"body_markdown":"I recently changed the jooq generator on my project to be KotlinGenerator. One of the issues that I am currently facing is for UDT in certain views and tables. \r\nI have tables that have fields of type Geometry in the database. When running jooq generator ( v3.14.1) there are compilation issues such as: \r\n\r\n    None of the following functions can be called with the arguments supplied:&lt;br/&gt;protected/*protected and package*/\r\n\r\n    val CENTER_POINT: TableField&lt;GeofenceRecord, Geometry?&gt; = createField(DSL.name(&quot;center_point&quot;), SQLDataType.GEOMETRY, this, &quot;&quot;, JTSGeometryBinding())\r\n\r\nHere is how my build.grade file looks:\r\n\r\n\r\n    generator {\r\n        name = &#39;org.jooq.codegen.KotlinGenerator&#39;\r\n        database {\r\n            name = &#39;org.jooq.meta.postgres.PostgresDatabase&#39;\r\n            inputSchema = &#39;schemaname&#39;\r\n            forcedTypes {\r\n                forcedType {\r\n                    userType = &#39;com.vividsolutions.jts.geom.Geometry&#39;\r\n                    binding = &#39;net.dmitry.jooq.postgis.spatial.binding.JTSGeometryBinding&#39;\r\n                    includeExpression = &#39;.*&#39;\r\n                    includeTypes = &#39;(geometry.*|GEOMETRY.*|geography.*|GEOGRAPHY.*)&#39;\r\n                }\r\n            }\r\n        }\r\n        generate {\r\n            deprecated = false\r\n            immutablePojos = false\r\n            fluentSetters = true\r\n            constructorPropertiesAnnotation = true\r\n            pojos = true\r\n            daos = true\r\n            relations = true\r\n            records = true\r\n            interfaces = true\r\n            pojosEqualsAndHashCode = true\r\n            javaTimeTypes = true\r\n        }\r\n        target {\r\n            packageName = &#39;projectname.jooq.schema&#39;\r\n            directory = &#39;build/generated-sources/jooq&#39;\r\n        }\r\n        strategy.name = &quot;org.jooq.codegen.DefaultGeneratorStrategy&quot;\r\n    }\r\n\r\nIs there anything in the configurations that I am missing, for it to account for geometry data types ? It used to work when the name of the generator was &#39;org.jooq.codegen.DefaultGenerator&#39;. \r\n","title":"Jooq - UDT generation errors","body":"<p>I recently changed the jooq generator on my project to be KotlinGenerator. One of the issues that I am currently facing is for UDT in certain views and tables.\nI have tables that have fields of type Geometry in the database. When running jooq generator ( v3.14.1) there are compilation issues such as:</p>\n<pre><code>None of the following functions can be called with the arguments supplied:&lt;br/&gt;protected/*protected and package*/\n\nval CENTER_POINT: TableField&lt;GeofenceRecord, Geometry?&gt; = createField(DSL.name(&quot;center_point&quot;), SQLDataType.GEOMETRY, this, &quot;&quot;, JTSGeometryBinding())\n</code></pre>\n<p>Here is how my build.grade file looks:</p>\n<pre><code>generator {\n    name = 'org.jooq.codegen.KotlinGenerator'\n    database {\n        name = 'org.jooq.meta.postgres.PostgresDatabase'\n        inputSchema = 'schemaname'\n        forcedTypes {\n            forcedType {\n                userType = 'com.vividsolutions.jts.geom.Geometry'\n                binding = 'net.dmitry.jooq.postgis.spatial.binding.JTSGeometryBinding'\n                includeExpression = '.*'\n                includeTypes = '(geometry.*|GEOMETRY.*|geography.*|GEOGRAPHY.*)'\n            }\n        }\n    }\n    generate {\n        deprecated = false\n        immutablePojos = false\n        fluentSetters = true\n        constructorPropertiesAnnotation = true\n        pojos = true\n        daos = true\n        relations = true\n        records = true\n        interfaces = true\n        pojosEqualsAndHashCode = true\n        javaTimeTypes = true\n    }\n    target {\n        packageName = 'projectname.jooq.schema'\n        directory = 'build/generated-sources/jooq'\n    }\n    strategy.name = &quot;org.jooq.codegen.DefaultGeneratorStrategy&quot;\n}\n</code></pre>\n<p>Is there anything in the configurations that I am missing, for it to account for geometry data types ? It used to work when the name of the generator was 'org.jooq.codegen.DefaultGenerator'.</p>\n"},{"tags":["java","apache-spark","apache-spark-dataset"],"comments":[{"owner":{"account_id":12822272,"reputation":1463,"user_id":19625832,"display_name":"vilalabinot"},"score":0,"creation_date":1660907818,"post_id":73413706,"comment_id":129650150,"body_markdown":"If you read the file like that, then `_c1` and `_c4` are second and fifth column respectively.","body":"If you read the file like that, then <code>_c1</code> and <code>_c4</code> are second and fifth column respectively."}],"answers":[{"tags":[],"owner":{"account_id":11313464,"reputation":31,"user_id":8295955,"display_name":"jyoti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661239528,"creation_date":1661239528,"answer_id":73454675,"question_id":73413706,"body_markdown":"you will get the schema by below command:\r\n\r\n\r\n````\r\ndataset.printSchema();\r\n````\r\nafter that select the column you want\r\n\r\n````dataset.select(&quot;c1&quot;,c4&quot;);````","title":"In Java spark, how to select columns based on index","body":"<p>you will get the schema by below command:</p>\n<pre><code>dataset.printSchema();\n</code></pre>\n<p>after that select the column you want</p>\n<p><code>dataset.select(&quot;c1&quot;,c4&quot;);</code></p>\n"}],"owner":{"account_id":14559953,"reputation":31,"user_id":10516308,"display_name":"Sun Yuting"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661239528,"creation_date":1660896729,"question_id":73413706,"body_markdown":"how can i only select 2nd and 5th column from a csv file (no column name in file) in java spark, code as below:\r\n\r\n```\r\nDataset&lt;Row&gt; dataset = getSparkSession().get().read()\r\n                .option(&quot;delimiter&quot;, &quot;|&quot;)\r\n                .option(&quot;header&quot;, false)\r\n                .csv(fileName);\r\n```\r\n\r\n\r\n","title":"In Java spark, how to select columns based on index","body":"<p>how can i only select 2nd and 5th column from a csv file (no column name in file) in java spark, code as below:</p>\n<pre><code>Dataset&lt;Row&gt; dataset = getSparkSession().get().read()\n                .option(&quot;delimiter&quot;, &quot;|&quot;)\n                .option(&quot;header&quot;, false)\n                .csv(fileName);\n</code></pre>\n"},{"tags":["java","locale"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1269597119,"creation_date":1269597119,"answer_id":2522279,"question_id":2522248,"body_markdown":"There doesn&#39;t seem to be a static `valueOf` method for this, which is a bit surprising.\r\n\r\nOne rather ugly, but simple, way, would be to iterate over `Locale.getAvailableLocales()`, comparing their `toString` values with your value.\r\n\r\nNot very nice, but no string parsing required. You could pre-populate a `Map` of Strings to Locales, and look up your database string in that Map.","title":"How to get Locale from its String representation in Java?","body":"<p>There doesn't seem to be a static <code>valueOf</code> method for this, which is a bit surprising.</p>\n\n<p>One rather ugly, but simple, way, would be to iterate over <code>Locale.getAvailableLocales()</code>, comparing their <code>toString</code> values with your value.</p>\n\n<p>Not very nice, but no string parsing required. You could pre-populate a <code>Map</code> of Strings to Locales, and look up your database string in that Map.</p>\n"},{"tags":[],"owner":{"account_id":108776,"reputation":3789,"user_id":288573,"accept_rate":71,"display_name":"raj"},"down_vote_count":8,"up_vote_count":45,"is_accepted":true,"score":37,"last_activity_date":1511429938,"creation_date":1269597472,"answer_id":2522304,"question_id":2522248,"body_markdown":"See the `Locale.getLanguage()`, `Locale.getCountry()`... Store this combination in the database instead of the `&quot;programatic name&quot;`...  \r\nWhen you want to build the Locale back, use `public Locale(String language, String country)`\r\n\r\nHere is a sample code :) \r\n\r\n    // May contain simple syntax error, I don&#39;t have java right now to test..\r\n    // but this is a bigger picture for your algo...\r\n    public String localeToString(Locale l) {\r\n        return l.getLanguage() + &quot;,&quot; + l.getCountry();\r\n    }\r\n    \r\n    public Locale stringToLocale(String s) {\r\n        StringTokenizer tempStringTokenizer = new StringTokenizer(s,&quot;,&quot;);\r\n        if(tempStringTokenizer.hasMoreTokens())\r\n        String l = tempStringTokenizer.nextElement();\r\n        if(tempStringTokenizer.hasMoreTokens())\r\n        String c = tempStringTokenizer.nextElement();\r\n        return new Locale(l,c);\r\n    }\r\n\r\n\r\n\r\n","title":"How to get Locale from its String representation in Java?","body":"<p>See the <code>Locale.getLanguage()</code>, <code>Locale.getCountry()</code>... Store this combination in the database instead of the <code>\"programatic name\"</code>...<br>\nWhen you want to build the Locale back, use <code>public Locale(String language, String country)</code></p>\n\n<p>Here is a sample code :) </p>\n\n<pre><code>// May contain simple syntax error, I don't have java right now to test..\n// but this is a bigger picture for your algo...\npublic String localeToString(Locale l) {\n    return l.getLanguage() + \",\" + l.getCountry();\n}\n\npublic Locale stringToLocale(String s) {\n    StringTokenizer tempStringTokenizer = new StringTokenizer(s,\",\");\n    if(tempStringTokenizer.hasMoreTokens())\n    String l = tempStringTokenizer.nextElement();\n    if(tempStringTokenizer.hasMoreTokens())\n    String c = tempStringTokenizer.nextElement();\n    return new Locale(l,c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8620,"reputation":22142,"user_id":15619,"accept_rate":91,"display_name":"Riduidel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1269597639,"creation_date":1269597639,"answer_id":2522320,"question_id":2522248,"body_markdown":"Well, I would store instead a string concatenation of &lt;code&gt;Locale.getISO3Language()&lt;/code&gt;, &lt;code&gt;getISO3Country()&lt;/code&gt; and &lt;ode&gt;getVariant()&lt;/code&gt; as key, which would allow me to latter call &lt;code&gt;Locale(String language, String country, String variant)&lt;/code&gt; constructor.\r\n\r\nindeed, relying of displayLanguage implies using the langage of locale to display it, which make it locale dependant, contrary to iso language code.\r\n\r\nAs an example, en locale key would be storable as\r\n\r\n    en_EN\r\n    en_US\r\n\r\nand so on ...\r\n    ","title":"How to get Locale from its String representation in Java?","body":"<p>Well, I would store instead a string concatenation of <code>Locale.getISO3Language()</code>, <code>getISO3Country()</code> and getVariant() as key, which would allow me to latter call <code>Locale(String language, String country, String variant)</code> constructor.</p>\n\n<p>indeed, relying of displayLanguage implies using the langage of locale to display it, which make it locale dependant, contrary to iso language code.</p>\n\n<p>As an example, en locale key would be storable as</p>\n\n<pre><code>en_EN\nen_US\n</code></pre>\n\n<p>and so on ...</p>\n"},{"tags":[],"owner":{"account_id":77238,"reputation":26925,"user_id":220599,"accept_rate":74,"display_name":"Tauren"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1464724683,"creation_date":1292072697,"answer_id":4416835,"question_id":2522248,"body_markdown":"Old question with plenty of answers, but here&#39;s more solutions:\r\n\r\n* [Get Locale From String][1]\r\n* [Converts a String to a Locale][2]\r\n\r\n  [1]: http://www.java2s.com/Code/Java/Network-Protocol/GetLocaleFromString.htm\r\n  [2]: http://www.java2s.com/Code/Java/Data-Type/ConvertsaStringtoaLocale.htm","title":"How to get Locale from its String representation in Java?","body":"<p>Old question with plenty of answers, but here's more solutions:</p>\n\n<ul>\n<li><a href=\"http://www.java2s.com/Code/Java/Network-Protocol/GetLocaleFromString.htm\" rel=\"nofollow noreferrer\">Get Locale From String</a></li>\n<li><a href=\"http://www.java2s.com/Code/Java/Data-Type/ConvertsaStringtoaLocale.htm\" rel=\"nofollow noreferrer\">Converts a String to a Locale</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":68769,"reputation":3079,"user_id":200459,"display_name":"yurilo"},"down_vote_count":1,"up_vote_count":157,"is_accepted":false,"score":156,"last_activity_date":1295958044,"creation_date":1295958044,"answer_id":4793397,"question_id":2522248,"body_markdown":"Method that returns locale from string exists in commons-lang library:\r\n`LocaleUtils.toLocale(localeAsString)`","title":"How to get Locale from its String representation in Java?","body":"<p>Method that returns locale from string exists in commons-lang library:\n<code>LocaleUtils.toLocale(localeAsString)</code></p>\n"},{"tags":[],"owner":{"account_id":54799,"reputation":3006,"user_id":164036,"accept_rate":68,"display_name":"Martin L."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341921197,"creation_date":1341921197,"answer_id":11412748,"question_id":2522248,"body_markdown":"Because I have just implemented it:\r\n\r\nIn `Groovy`/`Grails` it would be:\r\n\r\n    def locale = Locale.getAvailableLocales().find { availableLocale -&gt;\r\n          return availableLocale.toString().equals(searchedLocale)\r\n    }","title":"How to get Locale from its String representation in Java?","body":"<p>Because I have just implemented it:</p>\n\n<p>In <code>Groovy</code>/<code>Grails</code> it would be:</p>\n\n<pre><code>def locale = Locale.getAvailableLocales().find { availableLocale -&gt;\n      return availableLocale.toString().equals(searchedLocale)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35998,"reputation":3107,"user_id":102375,"accept_rate":53,"display_name":"nilskp"},"down_vote_count":1,"up_vote_count":79,"is_accepted":false,"score":78,"last_activity_date":1350425635,"creation_date":1350425635,"answer_id":12924273,"question_id":2522248,"body_markdown":"Since Java 7 there is factory method `Locale.forLanguageTag` and instance method `Locale.toLanguageTag` using [IETF language tags][1].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/IETF_language_tag","title":"How to get Locale from its String representation in Java?","body":"<p>Since Java 7 there is factory method <code>Locale.forLanguageTag</code> and instance method <code>Locale.toLanguageTag</code> using <a href=\"http://en.wikipedia.org/wiki/IETF_language_tag\" rel=\"noreferrer\">IETF language tags</a>.</p>\n"},{"tags":[],"owner":{"account_id":451213,"reputation":2973,"user_id":846977,"accept_rate":90,"display_name":"andy"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1385153862,"creation_date":1362541537,"answer_id":15238594,"question_id":2522248,"body_markdown":"This answer may be a little late, but it turns out that parsing out the string is not as ugly as the OP assumed. I found it quite simple and concise:\r\n\r\n    public static Locale fromString(String locale) {\r\n        String parts[] = locale.split(&quot;_&quot;, -1);\r\n        if (parts.length == 1) return new Locale(parts[0]);\r\n        else if (parts.length == 2\r\n                || (parts.length == 3 &amp;&amp; parts[2].startsWith(&quot;#&quot;)))\r\n            return new Locale(parts[0], parts[1]);\r\n        else return new Locale(parts[0], parts[1], parts[2]);\r\n    }\r\n\r\nI tested this (on Java 7) with all the examples given in the Locale.toString() documentation: &quot;en&quot;, &quot;de_DE&quot;, &quot;_GB&quot;, &quot;en_US_WIN&quot;, &quot;de__POSIX&quot;, &quot;zh_CN_#Hans&quot;, &quot;zh_TW_#Hant-x-java&quot;, and &quot;th_TH_TH_#u-nu-thai&quot;.\r\n\r\n**IMPORTANT UPDATE**: This is not recommended for use in Java 7+ according to the [documentation][1]:\r\n\r\n&gt;In particular, clients who parse the output of toString into language, country, and variant fields can continue to do so (although this is **strongly discouraged**), although the variant field will have additional information in it if script or extensions are present.\r\n\r\nUse Locale.forLanguageTag and Locale.toLanguageTag instead, or if you must, Locale.Builder.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html","title":"How to get Locale from its String representation in Java?","body":"<p>This answer may be a little late, but it turns out that parsing out the string is not as ugly as the OP assumed. I found it quite simple and concise:</p>\n\n<pre><code>public static Locale fromString(String locale) {\n    String parts[] = locale.split(\"_\", -1);\n    if (parts.length == 1) return new Locale(parts[0]);\n    else if (parts.length == 2\n            || (parts.length == 3 &amp;&amp; parts[2].startsWith(\"#\")))\n        return new Locale(parts[0], parts[1]);\n    else return new Locale(parts[0], parts[1], parts[2]);\n}\n</code></pre>\n\n<p>I tested this (on Java 7) with all the examples given in the Locale.toString() documentation: \"en\", \"de_DE\", \"_GB\", \"en_US_WIN\", \"de__POSIX\", \"zh_CN_#Hans\", \"zh_TW_#Hant-x-java\", and \"th_TH_TH_#u-nu-thai\".</p>\n\n<p><strong>IMPORTANT UPDATE</strong>: This is not recommended for use in Java 7+ according to the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>In particular, clients who parse the output of toString into language, country, and variant fields can continue to do so (although this is <strong>strongly discouraged</strong>), although the variant field will have additional information in it if script or extensions are present.</p>\n</blockquote>\n\n<p>Use Locale.forLanguageTag and Locale.toLanguageTag instead, or if you must, Locale.Builder.</p>\n"},{"tags":[],"owner":{"account_id":1757981,"reputation":2086,"user_id":2245107,"accept_rate":90,"display_name":"Mygod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1408935230,"creation_date":1408935230,"answer_id":25478416,"question_id":2522248,"body_markdown":"You can use this on Android. Works fine for me.\r\n\r\n    private static final Pattern localeMatcher = Pattern.compile\r\n            (&quot;^([^_]*)(_([^_]*)(_#(.*))?)?$&quot;);\r\n\r\n    public static Locale parseLocale(String value) {\r\n        Matcher matcher = localeMatcher.matcher(value.replace(&#39;-&#39;, &#39;_&#39;));\r\n        return matcher.find()\r\n                ? TextUtils.isEmpty(matcher.group(5))\r\n                    ? TextUtils.isEmpty(matcher.group(3))\r\n                        ? TextUtils.isEmpty(matcher.group(1))\r\n                            ? null\r\n                            : new Locale(matcher.group(1))\r\n                        : new Locale(matcher.group(1), matcher.group(3))\r\n                    : new Locale(matcher.group(1), matcher.group(3),\r\n                                 matcher.group(5))\r\n                : null;\r\n    }","title":"How to get Locale from its String representation in Java?","body":"<p>You can use this on Android. Works fine for me.</p>\n\n<pre><code>private static final Pattern localeMatcher = Pattern.compile\n        (\"^([^_]*)(_([^_]*)(_#(.*))?)?$\");\n\npublic static Locale parseLocale(String value) {\n    Matcher matcher = localeMatcher.matcher(value.replace('-', '_'));\n    return matcher.find()\n            ? TextUtils.isEmpty(matcher.group(5))\n                ? TextUtils.isEmpty(matcher.group(3))\n                    ? TextUtils.isEmpty(matcher.group(1))\n                        ? null\n                        : new Locale(matcher.group(1))\n                    : new Locale(matcher.group(1), matcher.group(3))\n                : new Locale(matcher.group(1), matcher.group(3),\n                             matcher.group(5))\n            : null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1544707678,"creation_date":1436352562,"answer_id":31290463,"question_id":2522248,"body_markdown":"1.  Java provides lot of things with proper implementation lot of complexity can be avoided. This returns **ms_MY**.\r\n \r\n        String key = &quot;ms-MY&quot;;\r\n        Locale locale = new Locale.Builder().setLanguageTag(key).build();\r\n\r\n2. Apache Commons has `LocaleUtils` to help parse a string representation. This will return **en_US**\r\n  \r\n        String str = &quot;en-US&quot;;\r\n        Locale locale =  LocaleUtils.toLocale(str);\r\n        System.out.println(locale.toString());\r\n    \r\n3. You can also use locale constructors.\r\n\r\n        // Construct a locale from a language code.(eg: en)\r\n        new Locale(String language)\r\n        // Construct a locale from language and country.(eg: en and US)\r\n        new Locale(String language, String country)\r\n        // Construct a locale from language, country and variant.\r\n        new Locale(String language, String country, String variant)\r\n\r\nPlease check this [LocaleUtils][1] and this [Locale][2] to explore more methods.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/LocaleUtils.html#toLocale(java.lang.String)\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html","title":"How to get Locale from its String representation in Java?","body":"<ol>\n<li><p>Java provides lot of things with proper implementation lot of complexity can be avoided. This returns <strong>ms_MY</strong>.</p>\n\n<pre><code>String key = \"ms-MY\";\nLocale locale = new Locale.Builder().setLanguageTag(key).build();\n</code></pre></li>\n<li><p>Apache Commons has <code>LocaleUtils</code> to help parse a string representation. This will return <strong>en_US</strong></p>\n\n<pre><code>String str = \"en-US\";\nLocale locale =  LocaleUtils.toLocale(str);\nSystem.out.println(locale.toString());\n</code></pre></li>\n<li><p>You can also use locale constructors.</p>\n\n<pre><code>// Construct a locale from a language code.(eg: en)\nnew Locale(String language)\n// Construct a locale from language and country.(eg: en and US)\nnew Locale(String language, String country)\n// Construct a locale from language, country and variant.\nnew Locale(String language, String country, String variant)\n</code></pre></li>\n</ol>\n\n<p>Please check this <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/LocaleUtils.html#toLocale(java.lang.String)\" rel=\"noreferrer\">LocaleUtils</a> and this <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html\" rel=\"noreferrer\">Locale</a> to explore more methods.</p>\n"},{"tags":[],"owner":{"account_id":6002498,"reputation":296,"user_id":4715314,"display_name":"junjun"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1496990060,"creation_date":1494917796,"answer_id":43994424,"question_id":2522248,"body_markdown":"**Option 1 :** \r\n\r\n    org.apache.commons.lang3.LocaleUtils.toLocale(&quot;en_US&quot;)\r\n\r\n**Option 2 :** \r\n\r\n    Locale.forLanguageTag(&quot;en-US&quot;)\r\n\r\nPlease note **Option 1** is &quot;underscore&quot; between language and country , and **Option 2** is &quot;dash&quot;.","title":"How to get Locale from its String representation in Java?","body":"<p><strong>Option 1 :</strong> </p>\n\n<pre><code>org.apache.commons.lang3.LocaleUtils.toLocale(\"en_US\")\n</code></pre>\n\n<p><strong>Option 2 :</strong> </p>\n\n<pre><code>Locale.forLanguageTag(\"en-US\")\n</code></pre>\n\n<p>Please note <strong>Option 1</strong> is \"underscore\" between language and country , and <strong>Option 2</strong> is \"dash\".</p>\n"},{"tags":[],"owner":{"account_id":13865519,"reputation":546,"user_id":10010097,"display_name":"Javad Alimohammadi"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1534333645,"creation_date":1534333645,"answer_id":51858116,"question_id":2522248,"body_markdown":"If you are using Spring framework in your project you can also use:\r\n\r\n    org.springframework.util.StringUtils.parseLocaleString(&quot;en_US&quot;);\r\n\r\n\r\n[Documentation][1]:\r\n\r\n&gt; Parse the given String representation into a Locale\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/StringUtils.html#parseLocaleString-java.lang.String-","title":"How to get Locale from its String representation in Java?","body":"<p>If you are using Spring framework in your project you can also use:</p>\n\n<pre><code>org.springframework.util.StringUtils.parseLocaleString(\"en_US\");\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/StringUtils.html#parseLocaleString-java.lang.String-\" rel=\"noreferrer\">Documentation</a>:</p>\n\n<blockquote>\n  <p>Parse the given String representation into a Locale</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4111085,"reputation":311,"user_id":3373857,"display_name":"firoj_mujawar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661239503,"creation_date":1661239503,"answer_id":73454669,"question_id":2522248,"body_markdown":"Might be late but if someone looking for simple solution:\r\n\r\nInstead of `toString()` set Locale string by using: `String langTag = localeObj.toLanguageTag();`\r\n\r\nStore `langTag` in DB or wherever you want\r\n\r\n\r\nAt the consumer side get `String lanTag = fromDB(); // or wherever`\r\n\r\nGet the Locale by: `Locale locale = Locale.forLanguageTag(langTag);`\r\n\r\nNo additional dependency needed!","title":"How to get Locale from its String representation in Java?","body":"<p>Might be late but if someone looking for simple solution:</p>\n<p>Instead of <code>toString()</code> set Locale string by using: <code>String langTag = localeObj.toLanguageTag();</code></p>\n<p>Store <code>langTag</code> in DB or wherever you want</p>\n<p>At the consumer side get <code>String lanTag = fromDB(); // or wherever</code></p>\n<p>Get the Locale by: <code>Locale locale = Locale.forLanguageTag(langTag);</code></p>\n<p>No additional dependency needed!</p>\n"}],"owner":{"account_id":23611,"reputation":36322,"user_id":59279,"accept_rate":85,"display_name":"Joonas Pulakka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175456,"favorite_count":0,"down_vote_count":0,"up_vote_count":140,"accepted_answer_id":2522304,"answer_count":13,"score":140,"last_activity_date":1661239503,"creation_date":1269596839,"question_id":2522248,"body_markdown":"Is there a neat way of getting a [Locale](http://java.sun.com/javase/6/docs/api/java/util/Locale.html) instance from its &quot;programmatic name&quot; as returned by Locale&#39;s `toString()` method? An obvious and ugly solution would be parsing the String and then constructing a new Locale instance according to that, but maybe there&#39;s a better way / ready solution for that?\r\n\r\nThe need is that I want to store some locale specific settings in a SQL database, including Locales themselves, but it would be ugly to put serialized Locale objects there. I would rather store their String representations, which seem to be quite adequate in detail.","title":"How to get Locale from its String representation in Java?","body":"<p>Is there a neat way of getting a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Locale.html\" rel=\"noreferrer\">Locale</a> instance from its \"programmatic name\" as returned by Locale's <code>toString()</code> method? An obvious and ugly solution would be parsing the String and then constructing a new Locale instance according to that, but maybe there's a better way / ready solution for that?</p>\n\n<p>The need is that I want to store some locale specific settings in a SQL database, including Locales themselves, but it would be ugly to put serialized Locale objects there. I would rather store their String representations, which seem to be quite adequate in detail.</p>\n"},{"tags":["java","spring-boot","circuit-breaker","resilience4j"],"owner":{"account_id":8898928,"reputation":419,"user_id":6642944,"accept_rate":43,"display_name":"Thomson Mathew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661239482,"creation_date":1660967675,"question_id":73423976,"body_markdown":"I am trying to implement Resilience4j programmatically and also forced state transition through a rest endpoint. But unfortunately Circuit Breaker is not working when I use Decorator. Interesting;y it works when I use this with WebClient. \r\n\r\nMy Controller Class:\r\n\r\n    @RestController\r\n\t@RequestMapping(&quot;v1/profileinfo&quot;)\r\n\tpublic class WebController {\r\n\t\tpublic static final Logger LOG = LoggerFactory.getLogger(WebController.class);\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate CircuitBreakerRegistry circuitBreakerRegistry;\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate AppConstants appConstants;\r\n\r\n\t\t@Autowired\r\n\t\tprivate ProfileService profileService;\r\n\t\t\r\n\t\t@GetMapping(&quot;/{profId}&quot;)\r\n\t\tpublic ResponseEntity&lt;ProfielInfo&gt; getProfileInfo(@PathVariable(&quot;profId&quot;) Long profId){\r\n\t\t\r\n\t\t\tProfielInfo resp = null;\r\n\t\t\tresp = profileService.getProfileInfo(profId);\r\n\t\t\treturn new ResponseEntity&lt;ProfielInfo&gt;(resp, HttpStatus.OK);\r\n\t\t}\r\n\t\t\r\n\t\t@PutMapping(&quot;circuitbreaker/{state}&quot;)\r\n\t\tpublic String setCircuitBreaker(@PathVariable(&quot;state&quot;) String state) {\r\n\t\t\t\t\t\r\n\t\t\tif(state.toUpperCase().equals(appConstants.CB_CLOSED)) {\r\n\t\t\t\tcircuitBreakerRegistry.circuitBreaker(&quot;benefitService&quot;).transitionToClosedState();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(state.toUpperCase().equals(appConstants.CB_OPEN)) {\r\n\t\t\t\tcircuitBreakerRegistry.circuitBreaker(&quot;benefitService&quot;).transitionToForcedOpenState();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn state;\r\n\t\t}\r\n\r\n\t}\r\n\r\nProfileInfo service:\r\n\r\n    ....\r\n\timport java.util.concurrent.TimeoutException;\r\n\timport java.util.function.Supplier;\r\n\r\n\timport io.github.resilience4j.circuitbreaker.CallNotPermittedException;\r\n\timport io.github.resilience4j.circuitbreaker.CircuitBreaker;\r\n\timport io.github.resilience4j.circuitbreaker.CircuitBreakerConfig;\r\n\timport io.github.resilience4j.circuitbreaker.CircuitBreakerRegistry;\r\n\timport io.github.resilience4j.decorators.Decorators;\r\n\r\n\t@Service\r\n\tpublic class ProfileService {\r\n\t\tpublic static final Logger LOG = LoggerFactory.getLogger(ProfileService.class);\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate CircuitBreakerConfig circuitBreakerConfig; //ADDED\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate CircuitBreakerRegistry circuitBreakerRegistry; //ADDED\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate UserInfoService userInfoService;\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate BenefitService benefitService;\r\n\r\n\t\tpublic ProfielInfo getProfileInfo(Long profId) throws TimeoutException {\r\n\t\t\r\n\t\t\tCircuitBreaker circuitBreaker = circuitBreakerRegistry\r\n\t\t\t\t\t  .circuitBreaker(&quot;benefitService&quot;);\r\n\t\t\t\t\t\r\n\t\t\tProfielInfo profileInfo = null;\r\n\t\t\tprofileInfo = new ProfielInfo();\r\n\t\t\t\r\n\t\t\tUserInfo userInfo = null;\r\n\t\t\tuserInfo = userInfoService.getUserInfo(profId);\r\n\t\t\t\r\n\t\t\tBenefit benefit = null;\r\n\t\t\tSupplier&lt;Benefit&gt; supplier = () -&gt; benefitService.getBenefitInfo(profId);\r\n\t\t\tLOG.info(&quot;||||Calling benefitService...&quot;);\r\n\t\t\tbenefit = Decorators.ofSupplier(supplier)\r\n\t\t\t\t\t  .withCircuitBreaker(circuitBreaker) //---&gt; Why it&#39;s not Working here ??\t\t\t\t  \r\n\t\t\t\t\t  .withFallback(e -&gt; buildFallbackBenefitInfo(profId))\r\n\t\t\t\t\t  .get();\r\n\t\t\t\r\n\t\t\tprofileInfo.setUserInfo(userInfo);\r\n\t\t\tprofileInfo.setBenefit(benefit);\r\n\t\t\t\r\n\t\t\tLOG.info(&quot;---End of the ProfileService.getProfileInfo()---&quot;);\r\n\t\t\treturn profileInfo;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Benefit buildFallbackBenefitInfo(Long memId) {\r\n\t\t\tBenefit benefit = null;\r\n\t\t\tbenefit = new Benefit();\r\n\t\t\tbenefit.setBenefitId(&quot;00000&quot;);\r\n\t\t\tbenefit.setMemeberId(&quot;00000&quot;);\r\n\t\t\t\r\n\t\t\treturn benefit;\r\n\t\t}\r\n\t}\r\n\r\nBenefitService  class which calls external api with webclient. Circuit breaker works here and takes my custom cinfigurations.\r\n\r\n    @Service\r\n\tpublic class BenefitService {\t\r\n\t\t@Autowired\r\n\t\tprivate CircuitBreakerRegistry circuitBreakerRegistry;\r\n\r\n\t\t@Autowired\r\n\t\tprivate WebClient benefitApiClient;\r\n\t\t\r\n\t\tpublic Benefit getBenefitInfo(long profId) {\r\n\t\t\t\r\n\t\t\tCircuitBreaker circuitBreaker = circuitBreakerRegistry\r\n\t\t\t\t\t  .circuitBreaker(&quot;benefitService&quot;);\r\n\r\n\t\t\treturn benefitApiClient.get()\r\n\t\t\t\t\t.uri(&quot;/&quot; + profId)\r\n\t\t\t\t\t.retrieve()\r\n\t\t\t\t\t.bodyToMono(Benefit.class)\r\n\t\t\t\t\t.timeout(Duration.ofSeconds(3))\r\n\t\t\t\t\t.transformDeferred(CircuitBreakerOperator.of(circuitBreaker)) // works here\r\n\t\t\t\t\t.block();\r\n\t\t}\r\n\t}\r\n\r\nMy Circuit Breaker Configuration class:\r\n\r\n    @Configuration\r\n\tpublic class CircuitBreakerConfigs {\r\n\t\t\r\n\t\t@Value(&quot;${circuitbreaker.failureRateThreshold}&quot;)\r\n\t\tprivate int failureRateThreshold;\r\n\t\t\r\n\t\t@Value(&quot;${circuitbreaker.slowCallRateThreshold}&quot;)\r\n\t\tprivate int slowCallRateThreshold;\r\n\t\t\r\n\t\t@Value(&quot;${circuitbreaker.waitDurationInOpenState}&quot;)\r\n\t\tprivate int waitDurationInOpenState;\r\n\t\t\r\n\t\t@Value(&quot;${circuitbreaker.slowCallDurationThreshold}&quot;)\r\n\t\tprivate int slowCallDurationThreshold;\r\n\t\t\r\n\t\t@Value(&quot;${circuitbreaker.permittedNumberOfCallsInHalfOpenState}&quot;)\r\n\t\tprivate int permittedNumHalfOpenState;\r\n\t\t\r\n\t\t@Value(&quot;${circuitbreaker.minimumNumberOfCalls}&quot;)\r\n\t\tprivate int minimumNumberOfCalls;\t\r\n\t\t\r\n\t\t@Value(&quot;${circuitbreaker.slidingWindowSize}&quot;)\r\n\t\tprivate int slidingWindowSize;\r\n\t\t\t\t \r\n\t\t@Bean\r\n\t\tpublic CircuitBreakerConfig circuitBreakerConfig() {\r\n\t\t\treturn CircuitBreakerConfig.custom()\r\n\t\t\t\t\t.failureRateThreshold(failureRateThreshold)\r\n\t\t\t\t\t.slowCallRateThreshold(slowCallRateThreshold)\r\n\t\t\t\t\t.waitDurationInOpenState(Duration.ofSeconds(waitDurationInOpenState))\r\n\t\t\t\t\t.slowCallDurationThreshold(Duration.ofSeconds(slowCallDurationThreshold))\r\n\t\t\t\t\t.permittedNumberOfCallsInHalfOpenState(permittedNumHalfOpenState)\r\n\t\t\t\t\t.minimumNumberOfCalls(minimumNumberOfCalls)\r\n\t\t\t\t\t.slidingWindowType(SlidingWindowType.COUNT_BASED)\r\n\t\t\t\t\t.slidingWindowSize(slidingWindowSize)\r\n\t\t\t\t\t.enableAutomaticTransitionFromOpenToHalfOpen()\r\n\t\t\t\t\t.recordExceptions(IOException.class, TimeoutException.class)\r\n\t\t\t\t\t.build();\r\n\t\t }\r\n\t\t\r\n\t\t@Bean\r\n\t\tpublic CircuitBreakerRegistry circuitBreakerRegistry() {\r\n\t\t\treturn CircuitBreakerRegistry.of(circuitBreakerConfig());\r\n\t\t}\r\n\r\n\t}\r\n\r\napplication.yml:\r\n\r\n    server:\r\n\t  port: 9099\r\n\r\n\tmanagement:\r\n\t  endpoints:\r\n\t\tweb:\r\n\t\t  exposure:\r\n\t\t\tinclude: &quot;*&quot;\r\n\t\t\t\r\n\tresilience4j.circuitbreaker:\r\n\t  configs:\r\n\t\tdefault:\r\n\t\t  registerHealthIndicator: true\r\n\t \r\n\tcircuitbreaker:\r\n\t  failureRateThreshold: 50\r\n\t  slowCallRateThreshold: 50\r\n\t  waitDurationInOpenState: 60\r\n\t  slowCallDurationThreshold: 60\r\n\t  minimumNumberOfCalls: 1\r\n\t  permittedNumberOfCallsInHalfOpenState: 3\r\n\t  slidingWindowSize: 5\r\n\r\nbuild.gradle:\r\n\r\n    plugins {\r\n\t\tid &#39;org.springframework.boot&#39; version &#39;2.7.3&#39;\r\n\t\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.13.RELEASE&#39;\r\n\t\tid &#39;java&#39;\r\n\t}\r\n\r\n\tgroup = &#39;com.demo.ref&#39;\r\n\tversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\tsourceCompatibility = &#39;17&#39;\r\n\r\n\trepositories {\r\n\t\tmavenCentral()\r\n\t}\r\n\r\n\tdependencies {\r\n\t\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\t\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\t\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\t\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\t\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\t\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n\t\t\r\n\t\timplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-aop&#39;, version: &#39;2.7.2&#39;\t\t\r\n\t\timplementation group: &#39;io.github.resilience4j&#39;, name: &#39;resilience4j-spring-boot2&#39;, version: &#39;1.5.0&#39;\r\n\t\timplementation group: &#39;io.github.resilience4j&#39;, name: &#39;resilience4j-reactor&#39;, version: &#39;1.5.0&#39;\r\n\t\timplementation group: &#39;io.github.resilience4j&#39;, name: &#39;resilience4j-all&#39;, version: &#39;1.5.0&#39;\r\n\t\timplementation group: &#39;io.micrometer&#39;, name: &#39;micrometer-registry-prometheus&#39;, version: &#39;1.9.3&#39;\r\n\t\t\r\n\t}\r\n\r\n\ttasks.named(&#39;test&#39;) {\r\n\t\tuseJUnitPlatform()\r\n\t}\r\n\r\nAs I mentioned above the circuit breaker is not working when I use with Decorators from ProfileService class. But if I move it to BenefitService class and use with WebClient it works perfectly. My external api(Benefit API) has been set to delay for 10 seconds so this call will timeout here) Can someone please help me ?","title":"Resilience4j circuit breaker: not working when it is used with Decorators","body":"<p>I am trying to implement Resilience4j programmatically and also forced state transition through a rest endpoint. But unfortunately Circuit Breaker is not working when I use Decorator. Interesting;y it works when I use this with WebClient.</p>\n<p>My Controller Class:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;v1/profileinfo&quot;)\npublic class WebController {\n    public static final Logger LOG = LoggerFactory.getLogger(WebController.class);\n    \n    @Autowired\n    private CircuitBreakerRegistry circuitBreakerRegistry;\n    \n    @Autowired\n    private AppConstants appConstants;\n\n    @Autowired\n    private ProfileService profileService;\n    \n    @GetMapping(&quot;/{profId}&quot;)\n    public ResponseEntity&lt;ProfielInfo&gt; getProfileInfo(@PathVariable(&quot;profId&quot;) Long profId){\n    \n        ProfielInfo resp = null;\n        resp = profileService.getProfileInfo(profId);\n        return new ResponseEntity&lt;ProfielInfo&gt;(resp, HttpStatus.OK);\n    }\n    \n    @PutMapping(&quot;circuitbreaker/{state}&quot;)\n    public String setCircuitBreaker(@PathVariable(&quot;state&quot;) String state) {\n                \n        if(state.toUpperCase().equals(appConstants.CB_CLOSED)) {\n            circuitBreakerRegistry.circuitBreaker(&quot;benefitService&quot;).transitionToClosedState();\n        }\n        \n        if(state.toUpperCase().equals(appConstants.CB_OPEN)) {\n            circuitBreakerRegistry.circuitBreaker(&quot;benefitService&quot;).transitionToForcedOpenState();\n        }\n        \n        return state;\n    }\n\n}\n</code></pre>\n<p>ProfileInfo service:</p>\n<pre><code>....\nimport java.util.concurrent.TimeoutException;\nimport java.util.function.Supplier;\n\nimport io.github.resilience4j.circuitbreaker.CallNotPermittedException;\nimport io.github.resilience4j.circuitbreaker.CircuitBreaker;\nimport io.github.resilience4j.circuitbreaker.CircuitBreakerConfig;\nimport io.github.resilience4j.circuitbreaker.CircuitBreakerRegistry;\nimport io.github.resilience4j.decorators.Decorators;\n\n@Service\npublic class ProfileService {\n    public static final Logger LOG = LoggerFactory.getLogger(ProfileService.class);\n    \n    @Autowired\n    private CircuitBreakerConfig circuitBreakerConfig; //ADDED\n    \n    @Autowired\n    private CircuitBreakerRegistry circuitBreakerRegistry; //ADDED\n    \n    @Autowired\n    private UserInfoService userInfoService;\n    \n    @Autowired\n    private BenefitService benefitService;\n\n    public ProfielInfo getProfileInfo(Long profId) throws TimeoutException {\n    \n        CircuitBreaker circuitBreaker = circuitBreakerRegistry\n                  .circuitBreaker(&quot;benefitService&quot;);\n                \n        ProfielInfo profileInfo = null;\n        profileInfo = new ProfielInfo();\n        \n        UserInfo userInfo = null;\n        userInfo = userInfoService.getUserInfo(profId);\n        \n        Benefit benefit = null;\n        Supplier&lt;Benefit&gt; supplier = () -&gt; benefitService.getBenefitInfo(profId);\n        LOG.info(&quot;||||Calling benefitService...&quot;);\n        benefit = Decorators.ofSupplier(supplier)\n                  .withCircuitBreaker(circuitBreaker) //---&gt; Why it's not Working here ??                 \n                  .withFallback(e -&gt; buildFallbackBenefitInfo(profId))\n                  .get();\n        \n        profileInfo.setUserInfo(userInfo);\n        profileInfo.setBenefit(benefit);\n        \n        LOG.info(&quot;---End of the ProfileService.getProfileInfo()---&quot;);\n        return profileInfo;\n    }\n    \n    public Benefit buildFallbackBenefitInfo(Long memId) {\n        Benefit benefit = null;\n        benefit = new Benefit();\n        benefit.setBenefitId(&quot;00000&quot;);\n        benefit.setMemeberId(&quot;00000&quot;);\n        \n        return benefit;\n    }\n}\n</code></pre>\n<p>BenefitService  class which calls external api with webclient. Circuit breaker works here and takes my custom cinfigurations.</p>\n<pre><code>@Service\npublic class BenefitService {   \n    @Autowired\n    private CircuitBreakerRegistry circuitBreakerRegistry;\n\n    @Autowired\n    private WebClient benefitApiClient;\n    \n    public Benefit getBenefitInfo(long profId) {\n        \n        CircuitBreaker circuitBreaker = circuitBreakerRegistry\n                  .circuitBreaker(&quot;benefitService&quot;);\n\n        return benefitApiClient.get()\n                .uri(&quot;/&quot; + profId)\n                .retrieve()\n                .bodyToMono(Benefit.class)\n                .timeout(Duration.ofSeconds(3))\n                .transformDeferred(CircuitBreakerOperator.of(circuitBreaker)) // works here\n                .block();\n    }\n}\n</code></pre>\n<p>My Circuit Breaker Configuration class:</p>\n<pre><code>@Configuration\npublic class CircuitBreakerConfigs {\n    \n    @Value(&quot;${circuitbreaker.failureRateThreshold}&quot;)\n    private int failureRateThreshold;\n    \n    @Value(&quot;${circuitbreaker.slowCallRateThreshold}&quot;)\n    private int slowCallRateThreshold;\n    \n    @Value(&quot;${circuitbreaker.waitDurationInOpenState}&quot;)\n    private int waitDurationInOpenState;\n    \n    @Value(&quot;${circuitbreaker.slowCallDurationThreshold}&quot;)\n    private int slowCallDurationThreshold;\n    \n    @Value(&quot;${circuitbreaker.permittedNumberOfCallsInHalfOpenState}&quot;)\n    private int permittedNumHalfOpenState;\n    \n    @Value(&quot;${circuitbreaker.minimumNumberOfCalls}&quot;)\n    private int minimumNumberOfCalls;   \n    \n    @Value(&quot;${circuitbreaker.slidingWindowSize}&quot;)\n    private int slidingWindowSize;\n             \n    @Bean\n    public CircuitBreakerConfig circuitBreakerConfig() {\n        return CircuitBreakerConfig.custom()\n                .failureRateThreshold(failureRateThreshold)\n                .slowCallRateThreshold(slowCallRateThreshold)\n                .waitDurationInOpenState(Duration.ofSeconds(waitDurationInOpenState))\n                .slowCallDurationThreshold(Duration.ofSeconds(slowCallDurationThreshold))\n                .permittedNumberOfCallsInHalfOpenState(permittedNumHalfOpenState)\n                .minimumNumberOfCalls(minimumNumberOfCalls)\n                .slidingWindowType(SlidingWindowType.COUNT_BASED)\n                .slidingWindowSize(slidingWindowSize)\n                .enableAutomaticTransitionFromOpenToHalfOpen()\n                .recordExceptions(IOException.class, TimeoutException.class)\n                .build();\n     }\n    \n    @Bean\n    public CircuitBreakerRegistry circuitBreakerRegistry() {\n        return CircuitBreakerRegistry.of(circuitBreakerConfig());\n    }\n\n}\n</code></pre>\n<p>application.yml:</p>\n<pre><code>server:\n  port: 9099\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n        \nresilience4j.circuitbreaker:\n  configs:\n    default:\n      registerHealthIndicator: true\n \ncircuitbreaker:\n  failureRateThreshold: 50\n  slowCallRateThreshold: 50\n  waitDurationInOpenState: 60\n  slowCallDurationThreshold: 60\n  minimumNumberOfCalls: 1\n  permittedNumberOfCallsInHalfOpenState: 3\n  slidingWindowSize: 5\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.3'\n    id 'io.spring.dependency-management' version '1.0.13.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.demo.ref'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n    \n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-aop', version: '2.7.2'     \n    implementation group: 'io.github.resilience4j', name: 'resilience4j-spring-boot2', version: '1.5.0'\n    implementation group: 'io.github.resilience4j', name: 'resilience4j-reactor', version: '1.5.0'\n    implementation group: 'io.github.resilience4j', name: 'resilience4j-all', version: '1.5.0'\n    implementation group: 'io.micrometer', name: 'micrometer-registry-prometheus', version: '1.9.3'\n    \n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>As I mentioned above the circuit breaker is not working when I use with Decorators from ProfileService class. But if I move it to BenefitService class and use with WebClient it works perfectly. My external api(Benefit API) has been set to delay for 10 seconds so this call will timeout here) Can someone please help me ?</p>\n"},{"tags":["java","database","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655274091,"creation_date":1655274091,"answer_id":72626712,"question_id":72626464,"body_markdown":"Yes it is possible !\r\n\r\nYou can define multiple data sources in your application YML like below\r\n\r\n1) \r\n&lt;pre&gt;\r\nspring:\r\n  datasource:\r\n    username: username\r\n    password: password\r\n    hikari:\r\n      driver_class_name: oracle.jdbc.driver.OracleDriver (or any other)\r\n      connection_timeout: 30000\r\n      maximum_pool_size: 5\r\n    url: host:port/serviceName &lt;/pre&gt;\r\n\r\n2) \r\n&lt;pre&gt;\r\nsomeOtherKey\r\n  datasource:\r\n    username: username\r\n    password: password\r\n    hikari:\r\n      driver_class_name: oracle.jdbc.driver.OracleDriver\r\n      connection_timeout: 30000\r\n      maximum_pool_size: 5\r\n    url: driverName@host:port/serviceName&lt;/pre&gt;\r\n\r\n\r\nYou can select which Datasource to pickup or provide via `@ConfigurationProperties` and `@Bean`","title":"Can multiple databases be configured in a single Spring Boot application","body":"<p>Yes it is possible !</p>\n<p>You can define multiple data sources in your application YML like below</p>\n<p>1)</p>\n<pre>\nspring:\n  datasource:\n    username: username\n    password: password\n    hikari:\n      driver_class_name: oracle.jdbc.driver.OracleDriver (or any other)\n      connection_timeout: 30000\n      maximum_pool_size: 5\n    url: host:port/serviceName </pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre>\nsomeOtherKey\n  datasource:\n    username: username\n    password: password\n    hikari:\n      driver_class_name: oracle.jdbc.driver.OracleDriver\n      connection_timeout: 30000\n      maximum_pool_size: 5\n    url: driverName@host:port/serviceName</pre>\n<p>You can select which Datasource to pickup or provide via <code>@ConfigurationProperties</code> and <code>@Bean</code></p>\n"}],"owner":{"account_id":23291926,"reputation":11,"user_id":17373862,"display_name":"Gnana Sekhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1655278402,"answer_count":1,"score":0,"last_activity_date":1661239221,"creation_date":1655272402,"question_id":72626464,"body_markdown":"can I configure multiple Database configuration in spring boot project","title":"Can multiple databases be configured in a single Spring Boot application","body":"<p>can I configure multiple Database configuration in spring boot project</p>\n"},{"tags":["java","spring","timezone","java.util.date"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":4,"creation_date":1661167858,"post_id":73444310,"comment_id":129699594,"body_markdown":"You don&#39;t have a time zone ID, you have the UTC offset. A time zone ID is e.g. &quot;Europe/Berlin&quot;. There is no way to set the correct time zone only with the offset.","body":"You don&#39;t have a time zone ID, you have the UTC offset. A time zone ID is e.g. &quot;Europe/Berlin&quot;. There is no way to set the correct time zone only with the offset."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1661168857,"post_id":73444310,"comment_id":129699963,"body_markdown":"You will get about 30 different `ZoneId`s having an offset of `+01:00` (at the moment). How do you want to choose the correct one? Considering daylight saving time would alter the amount depending on the day of year you run a choosing code.","body":"You will get about 30 different <code>ZoneId</code>s having an offset of <code>+01:00</code> (at the moment). How do you want to choose the correct one? Considering daylight saving time would alter the amount depending on the day of year you run a choosing code."},{"owner":{"account_id":7152799,"reputation":331,"user_id":5466236,"display_name":"StrongPoint"},"score":1,"creation_date":1661170333,"post_id":73444310,"comment_id":129700476,"body_markdown":"That is not completely right. A time zone ID is not only &quot;Europe/Berlin&quot; but also e.g. &quot;GMT+1&quot; or &quot;GMT+01:00&quot;. UTC however is not supported by TimeZone as an ID. So if you can get your timeZoneId in GMT format instead of UTC then you would be able to create a TimeZone instance from it.","body":"That is not completely right. A time zone ID is not only &quot;Europe/Berlin&quot; but also e.g. &quot;GMT+1&quot; or &quot;GMT+01:00&quot;. UTC however is not supported by TimeZone as an ID. So if you can get your timeZoneId in GMT format instead of UTC then you would be able to create a TimeZone instance from it."},{"owner":{"account_id":3605417,"reputation":1001,"user_id":3007690,"accept_rate":64,"display_name":"kandarp"},"score":0,"creation_date":1661170750,"post_id":73444310,"comment_id":129700626,"body_markdown":"Yes, I know GMT is taken by TimeZone instance. Unfortunately I am getting it only in UTC. Can we some how convert UTC to GMT? @StrongPoint","body":"Yes, I know GMT is taken by TimeZone instance. Unfortunately I am getting it only in UTC. Can we some how convert UTC to GMT? @StrongPoint"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1661171463,"post_id":73444310,"comment_id":129700904,"body_markdown":"Don’t use `TimeZone` nor `Date`. Those classes are poorly designed and long outdated, not worth struggling with. Use java.time, the modern Java date and time API, and its `ZoneId` class for time zones.","body":"Don’t use <code>TimeZone</code> nor <code>Date</code>. Those classes are poorly designed and long outdated, not worth struggling with. Use java.time, the modern Java date and time API, and its <code>ZoneId</code> class for time zones."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1661171562,"post_id":73444310,"comment_id":129700937,"body_markdown":"CET is the common name for a great many European and African time zones using offset +01:00 in winter. Most of them, not all, use offset +02:00 in summer. Which of those zones do you want? Specify as for example Europe/Stockholm or Africa/Ceuta.","body":"CET is the common name for a great many European and African time zones using offset +01:00 in winter. Most of them, not all, use offset +02:00 in summer. Which of those zones do you want? Specify as for example Europe/Stockholm or Africa/Ceuta."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1661179417,"post_id":73444310,"comment_id":129704311,"body_markdown":"Related: [Java: getTimeZone without returning a default value](https://stackoverflow.com/questions/33373442/java-gettimezone-without-returning-a-default-value)","body":"Related: <a href=\"https://stackoverflow.com/questions/33373442/java-gettimezone-without-returning-a-default-value\">Java: getTimeZone without returning a default value</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1661180777,"post_id":73444310,"comment_id":129704834,"body_markdown":"I believe that all that you need is the `ZoneId` you get from `ZoneId.of(timeZoneId)`. It’s exactly `UTC+01:00`, so not CET, but it sounds like that’s OK for your purpose? If you thought that you needed an old-fashioned `TimeZone` object for a `Calendar`, a `DateFormat` or another old class, — **don’t**. Stay away from those old and troublesome classes and instead use `ZonedDateTime` with your `ZoneId`. In case you can’t avoid calling some legacy method that requires a `TimeZone`, you may use `TimeZone.getTimeZone(ZoneId.of(timeZoneId).normalized())` to translate to a `TimeZone` of `GMT+01:00`","body":"I believe that all that you need is the <code>ZoneId</code> you get from <code>ZoneId.of(timeZoneId)</code>. It’s exactly <code>UTC+01:00</code>, so not CET, but it sounds like that’s OK for your purpose? If you thought that you needed an old-fashioned <code>TimeZone</code> object for a <code>Calendar</code>, a <code>DateFormat</code> or another old class, — <b>don’t</b>. Stay away from those old and troublesome classes and instead use <code>ZonedDateTime</code> with your <code>ZoneId</code>. In case you can’t avoid calling some legacy method that requires a <code>TimeZone</code>, you may use <code>TimeZone.getTimeZone(ZoneId.of(timeZoneId).normalized())</code> to translate to a <code>TimeZone</code> of <code>GMT+01:00</code>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661239170,"creation_date":1661184221,"answer_id":73447989,"question_id":73444310,"body_markdown":"# tl;dr\r\n\r\n\r\nYou cannot reliably determine a time zone from an offset. Your question is illogical.\r\n\r\n\r\n# Details\r\n\r\n\r\n&gt;`timeZoneId = &quot;UTC+01:00`\r\n\r\nNo, that is not a time zone. That is merely an offset.\r\n\r\n - An **offset** is a number of hours-minutes-seconds ahead or behind the temporal prime meridian of UTC/GMT. Simply a number, nothing more. \r\n - A **time zone** is much more. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region, as decided by their politicians. A [time zone has a name][1] in format of `Continent/Region` such as `Asia/Tokyo` or `Africa/Tunis`.\r\n\r\n\r\n&gt;Based on that I need to set correct timeZone in Java. \r\n\r\nNot possible. Many time zones may share the same offset. \r\n\r\nTake your example of +01:00. Many time zones may share that offset. These include Africa/Casablanca, Africa/Algiers, Africa/Ndjamena, Africa/Lagos, Europe/Brussels, Europe/Andorra, Europe/Malta, Europe/Oslo, Europe/Paris, and many more.\r\n\r\nSo an offset does not map to a time zone one-to-one.\r\n\r\nFurthermore, the offset used by a time zone varies over time. This happens for various reasons. An invading army may dictate a certain time zone in its occupied territory. A politician may change the time zone of their jurisdiction to annoy or appease a neighboring country. Or some loopy politicians may decide to require their citizens go to bed an hour earlier or open their shops an hour later, in a practice known as [Daylight Saving Time (DST)][2]. \r\n\r\nThe offset changing in a locality over time means that you cannot determine the offset in effect without specifying a date and time along with the name of a time zone. \r\n\r\n&gt; Ideally it should set timezone of CET\r\n\r\nNo, `CET` is not a time zone. Such 2-4 letter abbreviations are pseudo zones that hint at a time zone, and indicate whether Daylight Saving Time (DST) is in effect or not. But these pseudo-zones are not standardized, and are not even unique. Avoid them.  Use real time zones with names of `Continent/Region`. \r\n\r\n&gt; Does anyone know how to achieve this?\r\n\r\nIf you mean “How to achieve determining a time zone from a given offset?”, you cannot. That is not possible as discussed above. \r\n\r\n&gt; Can we some how convert UTC to GMT\r\n\r\n[UTC][3] and [GMT][4] are the same thing when speaking practically, in common business contexts. The difference is less than a second.\r\n\r\n\r\n----------\r\n\r\nAll of this has been discussed many times on Stack Overflow. Search to learn more.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [2]: https://en.m.wikipedia.org/wiki/Daylight_saving_time\r\n  [3]: https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [4]: https://en.m.wikipedia.org/wiki/Greenwich_Mean_Time","title":"How to get correct getTimeZone by passing string value with offset in java","body":"<h1>tl;dr</h1>\n<p>You cannot reliably determine a time zone from an offset. Your question is illogical.</p>\n<h1>Details</h1>\n<blockquote>\n<p><code>timeZoneId = &quot;UTC+01:00</code></p>\n</blockquote>\n<p>No, that is not a time zone. That is merely an offset.</p>\n<ul>\n<li>An <strong>offset</strong> is a number of hours-minutes-seconds ahead or behind the temporal prime meridian of UTC/GMT. Simply a number, nothing more.</li>\n<li>A <strong>time zone</strong> is much more. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region, as decided by their politicians. A <a href=\"https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">time zone has a name</a> in format of <code>Continent/Region</code> such as <code>Asia/Tokyo</code> or <code>Africa/Tunis</code>.</li>\n</ul>\n<blockquote>\n<p>Based on that I need to set correct timeZone in Java.</p>\n</blockquote>\n<p>Not possible. Many time zones may share the same offset.</p>\n<p>Take your example of +01:00. Many time zones may share that offset. These include Africa/Casablanca, Africa/Algiers, Africa/Ndjamena, Africa/Lagos, Europe/Brussels, Europe/Andorra, Europe/Malta, Europe/Oslo, Europe/Paris, and many more.</p>\n<p>So an offset does not map to a time zone one-to-one.</p>\n<p>Furthermore, the offset used by a time zone varies over time. This happens for various reasons. An invading army may dictate a certain time zone in its occupied territory. A politician may change the time zone of their jurisdiction to annoy or appease a neighboring country. Or some loopy politicians may decide to require their citizens go to bed an hour earlier or open their shops an hour later, in a practice known as <a href=\"https://en.m.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a>.</p>\n<p>The offset changing in a locality over time means that you cannot determine the offset in effect without specifying a date and time along with the name of a time zone.</p>\n<blockquote>\n<p>Ideally it should set timezone of CET</p>\n</blockquote>\n<p>No, <code>CET</code> is not a time zone. Such 2-4 letter abbreviations are pseudo zones that hint at a time zone, and indicate whether Daylight Saving Time (DST) is in effect or not. But these pseudo-zones are not standardized, and are not even unique. Avoid them.  Use real time zones with names of <code>Continent/Region</code>.</p>\n<blockquote>\n<p>Does anyone know how to achieve this?</p>\n</blockquote>\n<p>If you mean “How to achieve determining a time zone from a given offset?”, you cannot. That is not possible as discussed above.</p>\n<blockquote>\n<p>Can we some how convert UTC to GMT</p>\n</blockquote>\n<p><a href=\"https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> and <a href=\"https://en.m.wikipedia.org/wiki/Greenwich_Mean_Time\" rel=\"nofollow noreferrer\">GMT</a> are the same thing when speaking practically, in common business contexts. The difference is less than a second.</p>\n<hr />\n<p>All of this has been discussed many times on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":3605417,"reputation":1001,"user_id":3007690,"accept_rate":64,"display_name":"kandarp"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661239170,"creation_date":1661167553,"question_id":73444310,"body_markdown":"I have a use case where I get `timeZoneId` in `UTC` `+/-` format as `String`. Based on that I need to set correct `timeZone` in Java. Does anyone know the correct way of doing it? \r\n\r\nFor example: \r\n\r\n    String timeZoneId = &quot;UTC+01:00&quot;;\r\n    TimeZone.getTimeZone(timeZoneId); &lt;- Ideally it should set timezone of CET.\r\nBut it does not. It set default timeZone GMT. \r\nDoes anyone know how to achieve this? ","title":"How to get correct getTimeZone by passing string value with offset in java","body":"<p>I have a use case where I get <code>timeZoneId</code> in <code>UTC</code> <code>+/-</code> format as <code>String</code>. Based on that I need to set correct <code>timeZone</code> in Java. Does anyone know the correct way of doing it?</p>\n<p>For example:</p>\n<pre><code>String timeZoneId = &quot;UTC+01:00&quot;;\nTimeZone.getTimeZone(timeZoneId); &lt;- Ideally it should set timezone of CET.\n</code></pre>\n<p>But it does not. It set default timeZone GMT.\nDoes anyone know how to achieve this?</p>\n"},{"tags":["java","spring-boot","maven","sftp"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661177448,"post_id":73446433,"comment_id":129703467,"body_markdown":"Why are you using `&lt;scope&gt;provided&lt;/scope&gt;`? Do you know what this means?","body":"Why are you using <code>&lt;scope&gt;provided&lt;&#47;scope&gt;</code>? Do you know what this means?"},{"owner":{"account_id":4361950,"reputation":141,"user_id":3558722,"display_name":"Shaam"},"score":0,"creation_date":1661238419,"post_id":73446433,"comment_id":129717294,"body_markdown":"For Provided Scope in both runtime and compile scope dependencies will be pulled in with the provided scope in the project.","body":"For Provided Scope in both runtime and compile scope dependencies will be pulled in with the provided scope in the project."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661177255,"creation_date":1661177255,"answer_id":73446453,"question_id":73446433,"body_markdown":"The scope `provided` means, that the library will not be packed into your application. Remove the scope:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.55&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nor put the jar into your runtime environment","title":"java.lang.NoClassDefFoundError: com/jcraft/jzlib/ZStream With Spring Boot Maven","body":"<p>The scope <code>provided</code> means, that the library will not be packed into your application. Remove the scope:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n    &lt;version&gt;0.1.55&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or put the jar into your runtime environment</p>\n"},{"tags":[],"owner":{"account_id":4361950,"reputation":141,"user_id":3558722,"display_name":"Shaam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661238957,"creation_date":1661238957,"answer_id":73454562,"question_id":73446433,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\nwhen I saw the source code of downloaded Jar in the Library didn&#39;t reach out this `com/jcraft/jzlib/ZStream` path then i&#39;ll find out another Maven Dependency of jcraft \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jzlib&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Tzvfi.png\r\n  [2]: https://i.stack.imgur.com/wIxuN.png\r\n\r\nand they have the same classes which are missing in base dependency. Now its work for me.","title":"java.lang.NoClassDefFoundError: com/jcraft/jzlib/ZStream With Spring Boot Maven","body":"<p><a href=\"https://i.stack.imgur.com/Tzvfi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tzvfi.png\" alt=\"enter image description here\" /></a></p>\n<p>when I saw the source code of downloaded Jar in the Library didn't reach out this <code>com/jcraft/jzlib/ZStream</code> path then i'll find out another Maven Dependency of jcraft</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n        &lt;artifactId&gt;jzlib&lt;/artifactId&gt;\n        &lt;version&gt;1.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wIxuN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wIxuN.png\" alt=\"enter image description here\" /></a></p>\n<p>and they have the same classes which are missing in base dependency. Now its work for me.</p>\n"}],"owner":{"account_id":4361950,"reputation":141,"user_id":3558722,"display_name":"Shaam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73454562,"answer_count":2,"score":1,"last_activity_date":1661238957,"creation_date":1661177150,"question_id":73446433,"body_markdown":"```java\r\nJSch jsch = new JSch();  \r\nsession = jsch.getSession(variable1,variable2); \r\nsession.setPassword(abcd);  \r\nsession.setConfig(config);  \r\nsession.connect();  \r\nchannel = session.openChannel(&quot;sftp&quot;);  \r\nchannel.connect();\r\n```\r\n\r\nI&#39;m using this code with this POM dependency\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.55&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI&#39;m facing this error in the runtime environment:\r\n\r\n&gt; java.lang.NoClassDefFoundError: com/jcraft/jzlib/ZStream\r\n\r\n","title":"java.lang.NoClassDefFoundError: com/jcraft/jzlib/ZStream With Spring Boot Maven","body":"<pre class=\"lang-java prettyprint-override\"><code>JSch jsch = new JSch();  \nsession = jsch.getSession(variable1,variable2); \nsession.setPassword(abcd);  \nsession.setConfig(config);  \nsession.connect();  \nchannel = session.openChannel(&quot;sftp&quot;);  \nchannel.connect();\n</code></pre>\n<p>I'm using this code with this POM dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n    &lt;version&gt;0.1.55&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I'm facing this error in the runtime environment:</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: com/jcraft/jzlib/ZStream</p>\n</blockquote>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1661238842,"post_id":73454416,"comment_id":129717428,"body_markdown":"What if you open the original file (not auto-save)? Also, you can try to open the auto-save in a notepad and edit what you think might cause this, but you can easily corrupt the file, so make a backup first","body":"What if you open the original file (not auto-save)? Also, you can try to open the auto-save in a notepad and edit what you think might cause this, but you can easily corrupt the file, so make a backup first"},{"owner":{"account_id":18365931,"reputation":92,"user_id":13376953,"display_name":"Miguel Roberto Campos Murcia"},"score":0,"creation_date":1661239326,"post_id":73454416,"comment_id":129717567,"body_markdown":"When trying to open the original no auto save model, it gives me the option to replace the file with the latest I saved, but I lose like 5 hours of work. I did try to delete that last path from the code using the notepad, but it gives me the invalid project file format error.... Any more suggestions? @Benjamin","body":"When trying to open the original no auto save model, it gives me the option to replace the file with the latest I saved, but I lose like 5 hours of work. I did try to delete that last path from the code using the notepad, but it gives me the invalid project file format error.... Any more suggestions? @Benjamin"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":2,"creation_date":1661240418,"post_id":73454416,"comment_id":129717915,"body_markdown":"Only try to change the notepad file very carefully, to preserve the xml format (else you get the format error). Oh, and get into the habit of saving manually all the time. And even more important: Start using GitHub for versioning, saves you a ton of this frustration","body":"Only try to change the notepad file very carefully, to preserve the xml format (else you get the format error). Oh, and get into the habit of saving manually all the time. And even more important: Start using GitHub for versioning, saves you a ton of this frustration"}],"owner":{"account_id":18365931,"reputation":92,"user_id":13376953,"display_name":"Miguel Roberto Campos Murcia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661238133,"creation_date":1661238133,"question_id":73454416,"body_markdown":"I was working on a model and while creating a node network, I believe I added a route with length 0 and now I had to close the model and won&#39;t open. I had to terminate Anylogic, and while try to open the autosave file I am getting the following error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i0Aeq.png\r\n\r\nIs there any way to fix this? I lost a lot of work...","title":"How to fix Anylogic Unable to open the model Error?","body":"<p>I was working on a model and while creating a node network, I believe I added a route with length 0 and now I had to close the model and won't open. I had to terminate Anylogic, and while try to open the autosave file I am getting the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/i0Aeq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i0Aeq.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any way to fix this? I lost a lot of work...</p>\n"},{"tags":["java","ios","jenkins","jenkins-pipeline"],"comments":[{"owner":{"account_id":1038489,"reputation":2676,"user_id":1045055,"accept_rate":50,"display_name":"Leena"},"score":0,"creation_date":1660641008,"post_id":72053538,"comment_id":129573917,"body_markdown":"Did you got solution for this pipeline script. I get error for buildDir variable in the pipeline script.","body":"Did you got solution for this pipeline script. I get error for buildDir variable in the pipeline script."},{"owner":{"account_id":11204189,"reputation":477,"user_id":8220305,"display_name":"Jenish"},"score":0,"creation_date":1661163692,"post_id":72053538,"comment_id":129698211,"body_markdown":"@Leena No still not getting the solution.","body":"@Leena No still not getting the solution."},{"owner":{"account_id":1038489,"reputation":2676,"user_id":1045055,"accept_rate":50,"display_name":"Leena"},"score":0,"creation_date":1661167449,"post_id":72053538,"comment_id":129699447,"body_markdown":"xcodeBuild   buildIpa: true,configuration: &#39;Release&#39;,  generateArchive: true, ipaExportMethod: &#39;development&#39;, ipaName: &#39;Archive&#39;, ipaOutputDirectory: &#39;Archive&#39;,  manualSigning: false, noConsoleLog: true, xcodeProjectPath: &#39;Code&#39;, xcodeSchema: &#39;AppSchema&#39;, xcodeWorkspaceFile: &#39;AppWorkspace&#39;    @Jenish try this finally got success with this script.","body":"xcodeBuild   buildIpa: true,configuration: &#39;Release&#39;,  generateArchive: true, ipaExportMethod: &#39;development&#39;, ipaName: &#39;Archive&#39;, ipaOutputDirectory: &#39;Archive&#39;,  manualSigning: false, noConsoleLog: true, xcodeProjectPath: &#39;Code&#39;, xcodeSchema: &#39;AppSchema&#39;, xcodeWorkspaceFile: &#39;AppWorkspace&#39;    @Jenish try this finally got success with this script."},{"owner":{"account_id":11204189,"reputation":477,"user_id":8220305,"display_name":"Jenish"},"score":0,"creation_date":1661170029,"post_id":72053538,"comment_id":129700339,"body_markdown":"@Leena I still got error. May I know which Xcode version and Jenkins version you are using ? I am using Xcode 13.4.1, Jenkins 2.319.3 and the Java version is 11.0.14","body":"@Leena I still got error. May I know which Xcode version and Jenkins version you are using ? I am using Xcode 13.4.1, Jenkins 2.319.3 and the Java version is 11.0.14"},{"owner":{"account_id":1038489,"reputation":2676,"user_id":1045055,"accept_rate":50,"display_name":"Leena"},"score":0,"creation_date":1661175012,"post_id":72053538,"comment_id":129702342,"body_markdown":"Xcode is 13.4 and Jenkins Jenkins 2.346.2 and I haven&#39;t installed Java in my system","body":"Xcode is 13.4 and Jenkins Jenkins 2.346.2 and I haven&#39;t installed Java in my system"},{"owner":{"account_id":11204189,"reputation":477,"user_id":8220305,"display_name":"Jenish"},"score":1,"creation_date":1661229787,"post_id":72053538,"comment_id":129715375,"body_markdown":"@Leena Finally I got success to Archive and Export the build for pipeline script. I got one hint from your given script. Thank you for your help.","body":"@Leena Finally I got success to Archive and Export the build for pipeline script. I got one hint from your given script. Thank you for your help."},{"owner":{"account_id":1038489,"reputation":2676,"user_id":1045055,"accept_rate":50,"display_name":"Leena"},"score":0,"creation_date":1663586628,"post_id":72053538,"comment_id":130267088,"body_markdown":"do you know how to define stages in pipeline where based on particular condition Archive should take place for TestFlight or exporting iPa for development purpose. Let me know if you have any idea about this.","body":"do you know how to define stages in pipeline where based on particular condition Archive should take place for TestFlight or exporting iPa for development purpose. Let me know if you have any idea about this."},{"owner":{"account_id":11204189,"reputation":477,"user_id":8220305,"display_name":"Jenish"},"score":0,"creation_date":1663590963,"post_id":72053538,"comment_id":130268608,"body_markdown":"@Leena I don&#39;t have any idea about this. Actually I created two seprate jobs for both dev and release purpose. You can refere &quot;https://itnext.io/jenkins-tutorial-part-5-when-conditions-76e61fc8ac0e&quot; this may be will help you.","body":"@Leena I don&#39;t have any idea about this. Actually I created two seprate jobs for both dev and release purpose. You can refere &quot;<a href=\"https://itnext.io/jenkins-tutorial-part-5-when-conditions-76e61fc8ac0e\" rel=\"nofollow noreferrer\">itnext.io/jenkins-tutorial-part-5-when-conditions-76e61fc8a&zwnj;&#8203;c0e</a>&quot; this may be will help you."},{"owner":{"account_id":1038489,"reputation":2676,"user_id":1045055,"accept_rate":50,"display_name":"Leena"},"score":0,"creation_date":1663592934,"post_id":72053538,"comment_id":130269321,"body_markdown":"hey thanks for the link I guess this will work will share pipeline script once its ready.","body":"hey thanks for the link I guess this will work will share pipeline script once its ready."},{"owner":{"account_id":1038489,"reputation":2676,"user_id":1045055,"accept_rate":50,"display_name":"Leena"},"score":0,"creation_date":1663773283,"post_id":72053538,"comment_id":130319226,"body_markdown":"pipeline {\n\n    agent any\n\n    stages {\n     stage (&#39;Environment&#39;) {\n         steps {\n             script {\n\n                 if (&quot;${env.Environment}&quot;.toString().toUpperCase().equals(&quot;LIVE&quot;)) { // This will print Yes\n                     echo &quot;Yes&quot;\n                  } else {\n                    echo &quot;No&quot;\n                  }\n\n                }\n\n            }\n        }\n    }\n}","body":"pipeline {      agent any      stages {      stage (&#39;Environment&#39;) {          steps {              script {                   if (&quot;${env.Environment}&quot;.toString().toUpperCase().equals(&quot;LIVE&quot;&zwnj;&#8203;)) { // This will print Yes                      echo &quot;Yes&quot;                   } else {                     echo &quot;No&quot;                   }                  }              }         }     } }"},{"owner":{"account_id":11204189,"reputation":477,"user_id":8220305,"display_name":"Jenish"},"score":0,"creation_date":1663926659,"post_id":72053538,"comment_id":130359241,"body_markdown":"@Leena Thanks for the script. Could you please upvote my below mentioned if script found you correct?","body":"@Leena Thanks for the script. Could you please upvote my below mentioned if script found you correct?"}],"answers":[{"tags":[],"owner":{"account_id":11204189,"reputation":477,"user_id":8220305,"display_name":"Jenish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661237970,"creation_date":1661237343,"answer_id":73454275,"question_id":72053538,"body_markdown":"**Finally I got the solution and able to generate .ipa file.**\r\n\r\n**Pipeline Script**\r\n\r\n    node {\r\n       stage(&quot;Fetching repo&quot;) { \r\n           git branch: &#39;development&#39;, changelog: false, credentialsId: ‘xxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxx’, poll: false, url: &#39;YOUR-REPO-URL.git&#39;\r\n       }\r\n       stage(&quot;Installing pods&quot;) {\r\n           sh &#39;/usr/local/bin/pod install&#39;\r\n       }\r\n       stage(&quot;Archive&quot;) {\r\n           xcodeBuild appURL: &#39;&#39;, assetPackManifestURL: &#39;&#39;, buildDir: &#39;&#39;, buildIpa: true, bundleID: &#39;&#39;, bundleIDInfoPlistPath: &#39;&#39;, cfBundleShortVersionStringValue: &#39;&#39;, cfBundleVersionValue: &#39;&#39;, cleanResultBundlePath: false, compileBitcode: false, configuration: &#39;Debug&#39;, copyProvisioningProfile: false, developmentTeamID: ‘XXXXXXXXXX’, developmentTeamName: &#39;&#39;, displayImageURL: &#39;&#39;, fullSizeImageURL: &#39;&#39;, generateArchive: true, ipaExportMethod: &#39;development&#39;, ipaName: ‘IPAName’, ipaOutputDirectory: &#39;artifacts&#39;, logfileOutputDirectory: &#39;&#39;, provisioningProfiles: [[provisioningProfileAppId: &#39;com.myapp.app&#39;, provisioningProfileUUID: ‘xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx’]], resultBundlePath: &#39;&#39;, sdk: &#39;&#39;, signingMethod: &#39;manual&#39;, symRoot: &#39;&#39;, target: &#39;&#39;, thinning: &#39;&#39;, uploadBitcode: false, uploadSymbols: false, xcodeProjectFile: &#39;&#39;, xcodeProjectPath: &#39;&#39;, xcodeSchema: ‘myapp, xcodeWorkspaceFile: ‘myapp’, xcodebuildArguments: &#39;-destination \\&#39;generic/platform=iOS\\&#39;&#39;\r\n       }   \r\n       stage(&quot;Export&quot;) {\r\n           sh &#39;xcodebuild -exportArchive -archivePath ${WORKSPACE}/build/Debug-iphoneos/myappxcarchive -exportPath ${JENKINS_HOME}/jobs/${JOB_NAME}/builds/${BUILD_NUMBER}/archive -exportOptionsPlist ${WORKSPACE}/build/Debug-iphoneos/artifacts/myapp.plist&#39;\r\n       }\r\n    }","title":"Jenkins pipeline failed to prepare xcodeBuild step","body":"<p><strong>Finally I got the solution and able to generate .ipa file.</strong></p>\n<p><strong>Pipeline Script</strong></p>\n<pre><code>node {\n   stage(&quot;Fetching repo&quot;) { \n       git branch: 'development', changelog: false, credentialsId: ‘xxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxx’, poll: false, url: 'YOUR-REPO-URL.git'\n   }\n   stage(&quot;Installing pods&quot;) {\n       sh '/usr/local/bin/pod install'\n   }\n   stage(&quot;Archive&quot;) {\n       xcodeBuild appURL: '', assetPackManifestURL: '', buildDir: '', buildIpa: true, bundleID: '', bundleIDInfoPlistPath: '', cfBundleShortVersionStringValue: '', cfBundleVersionValue: '', cleanResultBundlePath: false, compileBitcode: false, configuration: 'Debug', copyProvisioningProfile: false, developmentTeamID: ‘XXXXXXXXXX’, developmentTeamName: '', displayImageURL: '', fullSizeImageURL: '', generateArchive: true, ipaExportMethod: 'development', ipaName: ‘IPAName’, ipaOutputDirectory: 'artifacts', logfileOutputDirectory: '', provisioningProfiles: [[provisioningProfileAppId: 'com.myapp.app', provisioningProfileUUID: ‘xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx’]], resultBundlePath: '', sdk: '', signingMethod: 'manual', symRoot: '', target: '', thinning: '', uploadBitcode: false, uploadSymbols: false, xcodeProjectFile: '', xcodeProjectPath: '', xcodeSchema: ‘myapp, xcodeWorkspaceFile: ‘myapp’, xcodebuildArguments: '-destination \\'generic/platform=iOS\\''\n   }   \n   stage(&quot;Export&quot;) {\n       sh 'xcodebuild -exportArchive -archivePath ${WORKSPACE}/build/Debug-iphoneos/myappxcarchive -exportPath ${JENKINS_HOME}/jobs/${JOB_NAME}/builds/${BUILD_NUMBER}/archive -exportOptionsPlist ${WORKSPACE}/build/Debug-iphoneos/artifacts/myapp.plist'\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":11204189,"reputation":477,"user_id":8220305,"display_name":"Jenish"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661237970,"creation_date":1651212783,"question_id":72053538,"body_markdown":"I created one free-style job for generating .ipa for one of my project. Its working fine and successfully generated .ipa file. \r\n\r\nNow I want to create the same job with pipeline. So, I convert this free-style job to pipe line. But gives me error. Then I used pipeline syntax to generate script from my free-style job step by steps. But still it gives me an error.\r\n\r\nI serched a lot for this but nothing helps. Also I tried to unlock keychain before xcode build steps start. But still same result.\r\n\r\nIt would be great if anyone help me to resolve my issue. \r\nThank you.\r\n\r\n**Below is my pipeline script.**\r\n\r\n```\r\nnode {\r\n\r\n    stage(‘Code Fetch’) { \r\n        git branch: &#39;development&#39;, changelog: false, credentialsId: &#39;e7f0318c-0000-0000-0000-a5a3831b2274&#39;, poll: false, url: &#39;https://github.com/XXXXX/XXXXXXX.git&#39;\r\n    }\r\n    stage(&quot;Installing pods&quot;) {\r\n        sh &#39;/usr/local/bin/pod install&#39;\r\n    }\r\n    stage(&quot;Build&quot;) {\r\n        sh &#39;&#39;&#39;security unlock-keychain -p apple /Users/xxxxxx/Library/Keychains/login.keychain-db\r\nsecurity set-keychain-settings -t 3600 -l /Users/xxxxxx/Library/Keychains/login.keychain-db&#39;&#39;&#39;\r\n        xcodeBuild appURL: &#39;&#39;, assetPackManifestURL: &#39;&#39;, buildDir: &#39;&#39;, buildIpa: false, bundleID: &#39;&#39;, bundleIDInfoPlistPath: &#39;&#39;, cfBundleShortVersionStringValue: &#39;&#39;, cfBundleVersionValue: &#39;&#39;, cleanResultBundlePath: false, compileBitcode: false, configuration: &#39;Debug&#39;, copyProvisioningProfile: false, developmentTeamID: ‘XXXXXXXXX’, developmentTeamName: &#39;&#39;, displayImageURL: &#39;&#39;, fullSizeImageURL: &#39;&#39;, generateArchive: true, ipaExportMethod: &#39;development&#39;, ipaName: ‘My’App, ipaOutputDirectory: &#39;artifacts&#39;, keychainId: &#39;&#39;, keychainPath: &#39;&#39;, keychainPwd: &#39;&#39;, logfileOutputDirectory: &#39;&#39;, provisioningProfiles: [[provisioningProfileAppId: &#39;com.myapp.app&#39;, provisioningProfileUUID: &#39;955246fe-0000-0000-0000-cfa12fa742a7&#39;]], resultBundlePath: &#39;&#39;, sdk: &#39;&#39;, signingMethod: &#39;manual&#39;, symRoot: &#39;&#39;, target: &#39;&#39;, thinning: &#39;&#39;, uploadBitcode: false, uploadSymbols: false, xcodeProjectFile: &#39;&#39;, xcodeProjectPath: &#39;&#39;, xcodeSchema: ‘MyApp’, xcodeWorkspaceFile: &#39;MyApp&#39;, xcodebuildArguments: &#39;&#39;\r\n    }\r\n    \r\n}\r\n```\r\n\r\n**And the error I got from jenkins:** \r\n```\r\njava.lang.ClassCastException: class au.com.rayh.XCodeBuilder.setKeychainPwd() expects class hudson.util.Secret but received class java.lang.String\r\n\tat org.jenkinsci.plugins.structs.describable.DescribableModel.coerce(DescribableModel.java:492)\r\n\tat org.jenkinsci.plugins.structs.describable.DescribableModel.injectSetters(DescribableModel.java:429)\r\n\tat org.jenkinsci.plugins.structs.describable.DescribableModel.instantiate(DescribableModel.java:331)\r\nCaused: java.lang.IllegalArgumentException: Could not instantiate {appURL=, assetPackManifestURL=, buildDir=, buildIpa=false, bundleID=, bundleIDInfoPlistPath=, cfBundleShortVersionStringValue=, cfBundleVersionValue=, cleanResultBundlePath=false, compileBitcode=false, configuration=Debug, copyProvisioningProfile=false, developmentTeamID=XXXXXXX, developmentTeamName=, displayImageURL=, fullSizeImageURL=, generateArchive=true, ipaExportMethod=development, ipaName=MyApp, ipaOutputDirectory=artifacts, keychainId=, keychainPath=, keychainPwd=, logfileOutputDirectory=, provisioningProfiles=[{provisioningProfileAppId=com.MyApp.app, provisioningProfileUUID=955246fe-0000-0000-0000-cfa12fa742a7}], resultBundlePath=, sdk=, signingMethod=manual, symRoot=, target=, thinning=, uploadBitcode=false, uploadSymbols=false, xcodeProjectFile=, xcodeProjectPath=, xcodeSchema=MyApp, xcodeWorkspaceFile=MyApp, xcodebuildArguments=} for au.com.rayh.XCodeBuilder\r\n\tat org.jenkinsci.plugins.structs.describable.DescribableModel.instantiate(DescribableModel.java:334)\r\n\tat org.jenkinsci.plugins.structs.describable.UninstantiatedDescribable.instantiate(UninstantiatedDescribable.java:208)\r\n\tat org.jenkinsci.plugins.structs.describable.DescribableModel.coerce(DescribableModel.java:466)\r\n\tat org.jenkinsci.plugins.structs.describable.DescribableModel.buildArguments(DescribableModel.java:409)\r\n\tat org.jenkinsci.plugins.structs.describable.DescribableModel.instantiate(DescribableModel.java:329)\r\nCaused: java.lang.IllegalArgumentException: Could not instantiate {delegate=@xcodeBuild(appURL=,assetPackManifestURL=,buildDir=,buildIpa=false,bundleID=,bundleIDInfoPlistPath=,cfBundleShortVersionStringValue=,cfBundleVersionValue=,cleanResultBundlePath=false,compileBitcode=false,configuration=Debug,copyProvisioningProfile=false,developmentTeamID=XXXXXXX,developmentTeamName=,displayImageURL=,fullSizeImageURL=,generateArchive=true,ipaExportMethod=development,ipaName=myapp,ipaOutputDirectory=artifacts,keychainId=,keychainPath=,keychainPwd=,logfileOutputDirectory=,provisioningProfiles=[{provisioningProfileAppId=com.MyApp.app, provisioningProfileUUID=955246fe-0000-0000-0000-cfa12fa742a7}],resultBundlePath=,sdk=,signingMethod=manual,symRoot=,target=,thinning=,uploadBitcode=false,uploadSymbols=false,xcodeProjectFile=,xcodeProjectPath=,xcodeSchema=MyApp,xcodeWorkspaceFile=MyApp,xcodebuildArguments=)} for org.jenkinsci.plugins.workflow.steps.CoreStep\r\n\tat org.jenkinsci.plugins.structs.describable.DescribableModel.instantiate(DescribableModel.java:334)\r\n\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:302)\r\n\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeDescribable(DSL.java:499)\r\n\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:196)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\r\n\tat groovy.lang.MetaClassImpl.invokeMethodOnGroovyObject(MetaClassImpl.java:1278)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1172)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:810)\r\n\tat groovy.lang.GroovyObjectSupport.invokeMethod(GroovyObjectSupport.java:46)\r\n\tat groovy.lang.MetaClassImpl.invokeMethodOnGroovyObject(MetaClassImpl.java:1278)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1172)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n\tat com.cloudbees.groovy.cps.sandbox.DefaultInvoker.methodCall(DefaultInvoker.java:20)\r\nCaused: java.lang.IllegalArgumentException: Failed to prepare xcodeBuild step\r\n\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeDescribable(DSL.java:501)\r\n\tat org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:196)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\r\n\tat groovy.lang.MetaClassImpl.invokeMethodOnGroovyObject(MetaClassImpl.java:1278)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1172)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:810)\r\n\tat groovy.lang.GroovyObjectSupport.invokeMethod(GroovyObjectSupport.java:46)\r\n\tat groovy.lang.MetaClassImpl.invokeMethodOnGroovyObject(MetaClassImpl.java:1278)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1172)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n\tat com.cloudbees.groovy.cps.sandbox.DefaultInvoker.methodCall(DefaultInvoker.java:20)\r\n\tat WorkflowScript.run(WorkflowScript:12)\r\n\tat ___cps.transform___(Native Method)\r\n\tat com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:86)\r\n\tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:113)\r\n\tat com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:83)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor221.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\r\n\tat com.cloudbees.groovy.cps.impl.CollectionLiteralBlock$ContinuationImpl.dispatch(CollectionLiteralBlock.java:55)\r\n\tat com.cloudbees.groovy.cps.impl.CollectionLiteralBlock$ContinuationImpl.item(CollectionLiteralBlock.java:45)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor190.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\r\n\tat com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)\r\n\tat com.cloudbees.groovy.cps.Next.step(Next.java:83)\r\n\tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)\r\n\tat com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)\r\n\tat org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)\r\n\tat org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)\r\n\tat com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:185)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:403)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$400(CpsThreadGroup.java:97)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:315)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:279)\r\n\tat org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:67)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:139)\r\n\tat jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)\r\n\tat jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:68)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nFinished: FAILURE\r\n```\r\n\r\n","title":"Jenkins pipeline failed to prepare xcodeBuild step","body":"<p>I created one free-style job for generating .ipa for one of my project. Its working fine and successfully generated .ipa file.</p>\n<p>Now I want to create the same job with pipeline. So, I convert this free-style job to pipe line. But gives me error. Then I used pipeline syntax to generate script from my free-style job step by steps. But still it gives me an error.</p>\n<p>I serched a lot for this but nothing helps. Also I tried to unlock keychain before xcode build steps start. But still same result.</p>\n<p>It would be great if anyone help me to resolve my issue.\nThank you.</p>\n<p><strong>Below is my pipeline script.</strong></p>\n<pre><code>node {\n\n    stage(‘Code Fetch’) { \n        git branch: 'development', changelog: false, credentialsId: 'e7f0318c-0000-0000-0000-a5a3831b2274', poll: false, url: 'https://github.com/XXXXX/XXXXXXX.git'\n    }\n    stage(&quot;Installing pods&quot;) {\n        sh '/usr/local/bin/pod install'\n    }\n    stage(&quot;Build&quot;) {\n        sh '''security unlock-keychain -p apple /Users/xxxxxx/Library/Keychains/login.keychain-db\nsecurity set-keychain-settings -t 3600 -l /Users/xxxxxx/Library/Keychains/login.keychain-db'''\n        xcodeBuild appURL: '', assetPackManifestURL: '', buildDir: '', buildIpa: false, bundleID: '', bundleIDInfoPlistPath: '', cfBundleShortVersionStringValue: '', cfBundleVersionValue: '', cleanResultBundlePath: false, compileBitcode: false, configuration: 'Debug', copyProvisioningProfile: false, developmentTeamID: ‘XXXXXXXXX’, developmentTeamName: '', displayImageURL: '', fullSizeImageURL: '', generateArchive: true, ipaExportMethod: 'development', ipaName: ‘My’App, ipaOutputDirectory: 'artifacts', keychainId: '', keychainPath: '', keychainPwd: '', logfileOutputDirectory: '', provisioningProfiles: [[provisioningProfileAppId: 'com.myapp.app', provisioningProfileUUID: '955246fe-0000-0000-0000-cfa12fa742a7']], resultBundlePath: '', sdk: '', signingMethod: 'manual', symRoot: '', target: '', thinning: '', uploadBitcode: false, uploadSymbols: false, xcodeProjectFile: '', xcodeProjectPath: '', xcodeSchema: ‘MyApp’, xcodeWorkspaceFile: 'MyApp', xcodebuildArguments: ''\n    }\n    \n}\n</code></pre>\n<p><strong>And the error I got from jenkins:</strong></p>\n<pre><code>java.lang.ClassCastException: class au.com.rayh.XCodeBuilder.setKeychainPwd() expects class hudson.util.Secret but received class java.lang.String\n    at org.jenkinsci.plugins.structs.describable.DescribableModel.coerce(DescribableModel.java:492)\n    at org.jenkinsci.plugins.structs.describable.DescribableModel.injectSetters(DescribableModel.java:429)\n    at org.jenkinsci.plugins.structs.describable.DescribableModel.instantiate(DescribableModel.java:331)\nCaused: java.lang.IllegalArgumentException: Could not instantiate {appURL=, assetPackManifestURL=, buildDir=, buildIpa=false, bundleID=, bundleIDInfoPlistPath=, cfBundleShortVersionStringValue=, cfBundleVersionValue=, cleanResultBundlePath=false, compileBitcode=false, configuration=Debug, copyProvisioningProfile=false, developmentTeamID=XXXXXXX, developmentTeamName=, displayImageURL=, fullSizeImageURL=, generateArchive=true, ipaExportMethod=development, ipaName=MyApp, ipaOutputDirectory=artifacts, keychainId=, keychainPath=, keychainPwd=, logfileOutputDirectory=, provisioningProfiles=[{provisioningProfileAppId=com.MyApp.app, provisioningProfileUUID=955246fe-0000-0000-0000-cfa12fa742a7}], resultBundlePath=, sdk=, signingMethod=manual, symRoot=, target=, thinning=, uploadBitcode=false, uploadSymbols=false, xcodeProjectFile=, xcodeProjectPath=, xcodeSchema=MyApp, xcodeWorkspaceFile=MyApp, xcodebuildArguments=} for au.com.rayh.XCodeBuilder\n    at org.jenkinsci.plugins.structs.describable.DescribableModel.instantiate(DescribableModel.java:334)\n    at org.jenkinsci.plugins.structs.describable.UninstantiatedDescribable.instantiate(UninstantiatedDescribable.java:208)\n    at org.jenkinsci.plugins.structs.describable.DescribableModel.coerce(DescribableModel.java:466)\n    at org.jenkinsci.plugins.structs.describable.DescribableModel.buildArguments(DescribableModel.java:409)\n    at org.jenkinsci.plugins.structs.describable.DescribableModel.instantiate(DescribableModel.java:329)\nCaused: java.lang.IllegalArgumentException: Could not instantiate {delegate=@xcodeBuild(appURL=,assetPackManifestURL=,buildDir=,buildIpa=false,bundleID=,bundleIDInfoPlistPath=,cfBundleShortVersionStringValue=,cfBundleVersionValue=,cleanResultBundlePath=false,compileBitcode=false,configuration=Debug,copyProvisioningProfile=false,developmentTeamID=XXXXXXX,developmentTeamName=,displayImageURL=,fullSizeImageURL=,generateArchive=true,ipaExportMethod=development,ipaName=myapp,ipaOutputDirectory=artifacts,keychainId=,keychainPath=,keychainPwd=,logfileOutputDirectory=,provisioningProfiles=[{provisioningProfileAppId=com.MyApp.app, provisioningProfileUUID=955246fe-0000-0000-0000-cfa12fa742a7}],resultBundlePath=,sdk=,signingMethod=manual,symRoot=,target=,thinning=,uploadBitcode=false,uploadSymbols=false,xcodeProjectFile=,xcodeProjectPath=,xcodeSchema=MyApp,xcodeWorkspaceFile=MyApp,xcodebuildArguments=)} for org.jenkinsci.plugins.workflow.steps.CoreStep\n    at org.jenkinsci.plugins.structs.describable.DescribableModel.instantiate(DescribableModel.java:334)\n    at org.jenkinsci.plugins.workflow.cps.DSL.invokeStep(DSL.java:302)\n    at org.jenkinsci.plugins.workflow.cps.DSL.invokeDescribable(DSL.java:499)\n    at org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:196)\n    at org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\n    at groovy.lang.MetaClassImpl.invokeMethodOnGroovyObject(MetaClassImpl.java:1278)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1172)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:810)\n    at groovy.lang.GroovyObjectSupport.invokeMethod(GroovyObjectSupport.java:46)\n    at groovy.lang.MetaClassImpl.invokeMethodOnGroovyObject(MetaClassImpl.java:1278)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1172)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n    at com.cloudbees.groovy.cps.sandbox.DefaultInvoker.methodCall(DefaultInvoker.java:20)\nCaused: java.lang.IllegalArgumentException: Failed to prepare xcodeBuild step\n    at org.jenkinsci.plugins.workflow.cps.DSL.invokeDescribable(DSL.java:501)\n    at org.jenkinsci.plugins.workflow.cps.DSL.invokeMethod(DSL.java:196)\n    at org.jenkinsci.plugins.workflow.cps.CpsScript.invokeMethod(CpsScript.java:122)\n    at groovy.lang.MetaClassImpl.invokeMethodOnGroovyObject(MetaClassImpl.java:1278)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1172)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:810)\n    at groovy.lang.GroovyObjectSupport.invokeMethod(GroovyObjectSupport.java:46)\n    at groovy.lang.MetaClassImpl.invokeMethodOnGroovyObject(MetaClassImpl.java:1278)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1172)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:42)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n    at com.cloudbees.groovy.cps.sandbox.DefaultInvoker.methodCall(DefaultInvoker.java:20)\n    at WorkflowScript.run(WorkflowScript:12)\n    at ___cps.transform___(Native Method)\n    at com.cloudbees.groovy.cps.impl.ContinuationGroup.methodCall(ContinuationGroup.java:86)\n    at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.dispatchOrArg(FunctionCallBlock.java:113)\n    at com.cloudbees.groovy.cps.impl.FunctionCallBlock$ContinuationImpl.fixArg(FunctionCallBlock.java:83)\n    at jdk.internal.reflect.GeneratedMethodAccessor221.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\n    at com.cloudbees.groovy.cps.impl.CollectionLiteralBlock$ContinuationImpl.dispatch(CollectionLiteralBlock.java:55)\n    at com.cloudbees.groovy.cps.impl.CollectionLiteralBlock$ContinuationImpl.item(CollectionLiteralBlock.java:45)\n    at jdk.internal.reflect.GeneratedMethodAccessor190.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.cloudbees.groovy.cps.impl.ContinuationPtr$ContinuationImpl.receive(ContinuationPtr.java:72)\n    at com.cloudbees.groovy.cps.impl.ConstantBlock.eval(ConstantBlock.java:21)\n    at com.cloudbees.groovy.cps.Next.step(Next.java:83)\n    at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:174)\n    at com.cloudbees.groovy.cps.Continuable$1.call(Continuable.java:163)\n    at org.codehaus.groovy.runtime.GroovyCategorySupport$ThreadCategoryInfo.use(GroovyCategorySupport.java:129)\n    at org.codehaus.groovy.runtime.GroovyCategorySupport.use(GroovyCategorySupport.java:268)\n    at com.cloudbees.groovy.cps.Continuable.run0(Continuable.java:163)\n    at org.jenkinsci.plugins.workflow.cps.CpsThread.runNextChunk(CpsThread.java:185)\n    at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.run(CpsThreadGroup.java:403)\n    at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup.access$400(CpsThreadGroup.java:97)\n    at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:315)\n    at org.jenkinsci.plugins.workflow.cps.CpsThreadGroup$2.call(CpsThreadGroup.java:279)\n    at org.jenkinsci.plugins.workflow.cps.CpsVmExecutorService$2.call(CpsVmExecutorService.java:67)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at hudson.remoting.SingleLaneExecutorService$1.run(SingleLaneExecutorService.java:139)\n    at jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)\n    at jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:68)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nFinished: FAILURE\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661201047,"post_id":73450739,"comment_id":129711372,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1661203268,"post_id":73450739,"comment_id":129711921,"body_markdown":"The second way to call your code is probably having a log4j configuration that is overriding the one you have when you restart the project, so your logs get flushed somewhere else like a log file instead of the console. You may want to specify your own log4j appender","body":"The second way to call your code is probably having a log4j configuration that is overriding the one you have when you restart the project, so your logs get flushed somewhere else like a log file instead of the console. You may want to specify your own log4j appender"},{"owner":{"account_id":22372308,"reputation":15,"user_id":16587196,"display_name":"pollpoll"},"score":0,"creation_date":1661204669,"post_id":73450739,"comment_id":129712218,"body_markdown":"@MatteoNNZ May I ask what does the log have to do with executing the code?","body":"@MatteoNNZ May I ask what does the log have to do with executing the code?"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661237888,"creation_date":1661237888,"answer_id":73454379,"question_id":73450739,"body_markdown":"The default bean scope in Spring is singleton. This means that your job/step/reader/processor/writer beans will only be loaded once at application startup, and reused when requested during your application lifetime.\r\n\r\nSo the logs you defined in your bean definition methods like the following:\r\n\r\n```\r\n    @Bean\r\n    public Job inactiveMemberJob() {\r\n        log.info(&quot;InactiveMemberJob execution&quot;);\r\n        // ...\r\n    }\r\n```\r\n\r\nwill only be printed when that bean definition is loaded, ie when the Spring application context starts for the first time. Now since you have a web application, that application context is not refreshed on each web request, so those bean definitions will only be loaded once. That&#39;s why you see those logs when you first start your app, but not afterwards (unless you restart your application).","title":"Spring Batch When I run using joblauncher, I think the job is not running","body":"<p>The default bean scope in Spring is singleton. This means that your job/step/reader/processor/writer beans will only be loaded once at application startup, and reused when requested during your application lifetime.</p>\n<p>So the logs you defined in your bean definition methods like the following:</p>\n<pre><code>    @Bean\n    public Job inactiveMemberJob() {\n        log.info(&quot;InactiveMemberJob execution&quot;);\n        // ...\n    }\n</code></pre>\n<p>will only be printed when that bean definition is loaded, ie when the Spring application context starts for the first time. Now since you have a web application, that application context is not refreshed on each web request, so those bean definitions will only be loaded once. That's why you see those logs when you first start your app, but not afterwards (unless you restart your application).</p>\n"}],"owner":{"account_id":22372308,"reputation":15,"user_id":16587196,"display_name":"pollpoll"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1870,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73454379,"answer_count":1,"score":1,"last_activity_date":1661237888,"creation_date":1661200513,"question_id":73450739,"body_markdown":"If I restart the project, the job I registered works well and the log is taken well.\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.7.2)\r\n\r\n2022-08-23 05:07:50.729  INFO 16360 --- [  restartedMain] c.capston.chatting.ChattingApplication   : Starting ChattingApplication using Java 11.0.12 on DESKTOP-SHB62PK with PID 16360 (D:\\chatting\\chatting\\build\\classes\\java\\main started by user in D:\\chatting\\chatting)\r\n2022-08-23 05:07:50.730  INFO 16360 --- [  restartedMain] c.capston.chatting.ChattingApplication   : The following 4 profiles are active: &quot;google&quot;, &quot;naver&quot;, &quot;kakao&quot;, &quot;local&quot;\r\n2022-08-23 05:07:50.753  INFO 16360 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2022-08-23 05:07:50.753  INFO 16360 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2022-08-23 05:07:51.120  INFO 16360 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-08-23 05:07:51.152  INFO 16360 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 4 JPA repository interfaces.\r\n2022-08-23 05:07:51.470  INFO 16360 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-08-23 05:07:51.474  INFO 16360 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-08-23 05:07:51.475  INFO 16360 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n2022-08-23 05:07:51.547  INFO 16360 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-08-23 05:07:51.547  INFO 16360 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 794 ms\r\n2022-08-23 05:07:51.595  INFO 16360 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-08-23 05:07:51.738  INFO 16360 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2022-08-23 05:07:51.793  INFO 16360 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2022-08-23 05:07:51.814  INFO 16360 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final\r\n2022-08-23 05:07:51.889  INFO 16360 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2022-08-23 05:07:51.939  INFO 16360 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\n2022-08-23 05:07:52.204  INFO 16360 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2022-08-23 05:07:52.208  INFO 16360 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-08-23 05:07:52.636  INFO 16360 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62239b45, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3596673e, org.springframework.security.web.context.SecurityContextPersistenceFilter@49f2b09c, org.springframework.security.web.header.HeaderWriterFilter@576fbb11, org.springframework.security.web.authentication.logout.LogoutFilter@2356ea3a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@378ce71, org.springframework.security.web.session.ConcurrentSessionFilter@fac8000, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@704795de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41def366, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36aed9df, org.springframework.security.web.session.SessionManagementFilter@280ea7a9, org.springframework.security.web.access.ExceptionTranslationFilter@32ddfe1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74600b37]\r\n2022-08-23 05:07:52.641  INFO 16360 --- [  restartedMain] c.c.c.c.batch.InactiveMemberJobConfig    : InactiveMemberJob execution\r\n2022-08-23 05:07:52.641  INFO 16360 --- [  restartedMain] c.c.c.c.batch.InactiveMemberJobConfig    : InactiveMemberStep execution\r\n2022-08-23 05:07:52.642  INFO 16360 --- [  restartedMain] c.c.c.c.batch.InactiveMemberJobConfig    : InactiveMemberReader execution\r\n2022-08-23 05:07:52.660 DEBUG 16360 --- [  restartedMain] org.hibernate.SQL                        : \r\n    select\r\n        member0_.member_id as member_i1_3_,\r\n        member0_.created_date as created_2_3_,\r\n        member0_.update_date as update_d3_3_,\r\n        member0_.login_id as login_id4_3_,\r\n        member0_.login_pw as login_pw5_3_,\r\n        member0_.name as name6_3_,\r\n        member0_.role as role7_3_,\r\n        member0_.score as score8_3_,\r\n        member0_.status as status9_3_ \r\n    from\r\n        member member0_ \r\n    where\r\n        member0_.update_date&lt;? \r\n        and member0_.status=?\r\n2022-08-23 05:07:52.699  INFO 16360 --- [  restartedMain] c.c.c.c.batch.InactiveMemberJobConfig    : test\r\n2022-08-23 05:07:52.699  INFO 16360 --- [  restartedMain] c.c.c.c.batch.InactiveMemberJobConfig    : InactiveMemberWriter execution\r\n2022-08-23 05:07:52.826  WARN 16360 --- [  restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs. To silence this warning, set &#39;spring.batch.jdbc.isolation-level-for-create&#39; to &#39;default&#39;.\r\n2022-08-23 05:07:52.828  INFO 16360 --- [  restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: MYSQL\r\n2022-08-23 05:07:52.835  INFO 16360 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\r\n2022-08-23 05:07:52.912  INFO 16360 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2022-08-23 05:07:52.933  INFO 16360 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2022-08-23 05:07:52.934  INFO 16360 --- [  restartedMain] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...\r\n2022-08-23 05:07:52.935  INFO 16360 --- [  restartedMain] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@25358374]]\r\n2022-08-23 05:07:52.935  INFO 16360 --- [  restartedMain] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.\r\n2022-08-23 05:07:52.941  INFO 16360 --- [  restartedMain] c.capston.chatting.ChattingApplication   : Started ChattingApplication in 2.426 seconds (JVM running for 2.944)\r\n2022-08-23 05:07:52.942  INFO 16360 --- [  restartedMain] o.s.b.a.b.JobLauncherApplicationRunner   : Running default command line with: []\r\n2022-08-23 05:07:53.327  INFO 16360 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=inactiveMemberJob3]] launched with the following parameters: [{}]\r\n2022-08-23 05:07:53.617  INFO 16360 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [inactiveMemberStep]\r\n2022-08-23 05:07:53.811  INFO 16360 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [inactiveMemberStep] executed in 194ms\r\n2022-08-23 05:07:53.964  INFO 16360 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=inactiveMemberJob3]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 565ms\r\n```\r\n\r\nHowever, when I try to run using `joblauncher`, there is no log registered in job and only the log corresponding to job start and step start.\r\n\r\n```\r\n2022-08-23 05:08:13.746  INFO 16360 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-08-23 05:08:13.746  INFO 16360 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-08-23 05:08:13.747  INFO 16360 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n2022-08-23 05:08:14.015  INFO 16360 --- [nio-8080-exec-1] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=inactiveMemberJob3]] launched with the following parameters: [{}]\r\n2022-08-23 05:08:14.271  INFO 16360 --- [nio-8080-exec-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [inactiveMemberStep]\r\n2022-08-23 05:08:14.458  INFO 16360 --- [nio-8080-exec-1] o.s.batch.core.step.AbstractStep         : Step: [inactiveMemberStep] executed in 187ms\r\n2022-08-23 05:08:14.607  INFO 16360 --- [nio-8080-exec-1] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=inactiveMemberJob3]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 526ms\r\n2022-08-23 05:08:14.607  INFO 16360 --- [nio-8080-exec-1] c.c.chatting.controller.HomeController   : IsRunning : false\r\n2022-08-23 05:08:52.572  INFO 16360 --- [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\r\n```\r\n\r\nI debugged the `run` method in the `joblauncher`, and the incoming values were the same as they were when they were restarted.\r\n\r\nIs there anything i&#39;m missing?\r\n\r\n\r\n\r\n`HomeController.java`\r\n```\r\npackage com.capston.chatting.controller;\r\n\r\nimport com.capston.chatting.config.batch.InactiveMemberJobConfig;\r\nimport com.capston.chatting.dto.GetRoomIdDto;\r\nimport com.capston.chatting.entity.ChatRoom;\r\nimport com.capston.chatting.entity.Member;\r\nimport com.capston.chatting.repository.MemberRepository;\r\nimport com.capston.chatting.service.ChatRoomService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.batch.core.JobExecution;\r\nimport org.springframework.batch.core.JobParameters;\r\nimport org.springframework.batch.core.launch.JobLauncher;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\nimport javax.servlet.http.HttpSession;\r\nimport java.util.*;\r\n\r\n@Controller\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class HomeController {\r\n    // Test\r\n    private final JobLauncher jobLauncher;\r\n    private final InactiveMemberJobConfig config;\r\n\r\n    @GetMapping(&quot;/job_start&quot;)\r\n    @ResponseBody\r\n    public String jobStart() {\r\n        JobExecution run = null;\r\n        try {\r\n            run = jobLauncher.run(config.inactiveMemberJob(), new JobParameters());\r\n            log.info(&quot;IsRunning : {}&quot;, run.isRunning());\r\n        } catch (Exception e) {\r\n            log.error(e.getMessage());\r\n        }\r\n\r\n        return String.valueOf(run.getJobInstance());\r\n    }\r\n}\r\n```\r\n\r\n`InactiveMemberJobConfig.java`\r\n\r\n```\r\npackage com.capston.chatting.config.batch;\r\n\r\nimport com.capston.chatting.entity.Member;\r\nimport com.capston.chatting.enums.MemberStatus;\r\nimport com.capston.chatting.repository.MemberRepository;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.batch.core.Job;\r\nimport org.springframework.batch.core.Step;\r\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.batch.item.ItemProcessor;\r\nimport org.springframework.batch.item.ItemWriter;\r\nimport org.springframework.batch.item.support.ListItemReader;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.List;\r\n\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@Configuration\r\npublic class InactiveMemberJobConfig {\r\n\r\n    private final MemberRepository memberRepository;\r\n    private final JobBuilderFactory jobBuilderFactory;\r\n    private final StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Bean\r\n    public Job inactiveMemberJob() {\r\n        log.info(&quot;InactiveMemberJob execution&quot;);\r\n        return jobBuilderFactory.get(&quot;inactiveMemberJob3&quot;)\r\n                .start(inactiveJobStep())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step inactiveJobStep() {\r\n        log.info(&quot;InactiveMemberStep execution&quot;);\r\n        return stepBuilderFactory.get(&quot;inactiveMemberStep&quot;)\r\n                .&lt;Member, Member&gt;chunk(10)\r\n                .reader(inactiveMemberReader())\r\n                .processor(inactiveMemberProcessor())\r\n                .writer(inactiveMemberWriter())\r\n                .allowStartIfComplete(true)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public ListItemReader&lt;Member&gt; inactiveMemberReader() {\r\n        log.info(&quot;InactiveMemberReader execution&quot;);\r\n        List&lt;Member&gt; oldMembers = memberRepository\r\n                .findByUpdateDateBeforeAndStatusEquals(LocalDateTime.now().minusYears(1), MemberStatus.ACTIVE);\r\n\r\n//        ArrayList&lt;Member&gt; collect = oldMembers.stream().map(member -&gt; member.setInactive()).collect(Collectors.toCollection(ArrayList::new));\r\n//        memberRepository.saveAll(collect);\r\n        return new ListItemReader&lt;&gt;(oldMembers);\r\n    }\r\n\r\n    @Bean\r\n    public ItemProcessor&lt;Member, Member&gt; inactiveMemberProcessor() {\r\n        log.info(&quot;test&quot;);\r\n        ItemProcessor&lt;Member, Member&gt; memberItemProcessor = (member) -&gt; {\r\n            log.info(&quot;InactiveMemberProcessor execution&quot;);\r\n            return member.setInactive();\r\n        };\r\n        return memberItemProcessor;\r\n//        return new ItemProcessor&lt;Member, Member&gt;() {\r\n//            @Override\r\n//            public Member process(Member member) throws Exception {\r\n//                log.info(&quot;InactiveMemberProcessor execution&quot;);\r\n//                return member.setInactive();\r\n//            }\r\n//        };\r\n//        return member -&gt; {\r\n//            log.info(&quot;InactiveMemberProcessor execution&quot;);\r\n//            return member.setInactive();\r\n//        };\r\n    }\r\n\r\n    @Bean\r\n    public ItemWriter&lt;Member&gt; inactiveMemberWriter() {\r\n        log.info(&quot;InactiveMemberWriter execution&quot;);\r\n        return ((List&lt;? extends Member&gt; members) -&gt; {\r\n            memberRepository.saveAll(members);\r\n            log.info(&quot;Members : {}&quot;, members);\r\n        });\r\n    }\r\n}\r\n```\r\n","title":"Spring Batch When I run using joblauncher, I think the job is not running","body":"<p>If I restart the project, the job I registered works well and the log is taken well.</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.2)\n\n2022-08-23 05:07:50.729  INFO 16360 --- [  restartedMain] c.capston.chatting.ChattingApplication   : Starting ChattingApplication using Java 11.0.12 on DESKTOP-SHB62PK with PID 16360 (D:\\chatting\\chatting\\build\\classes\\java\\main started by user in D:\\chatting\\chatting)\n2022-08-23 05:07:50.730  INFO 16360 --- [  restartedMain] c.capston.chatting.ChattingApplication   : The following 4 profiles are active: &quot;google&quot;, &quot;naver&quot;, &quot;kakao&quot;, &quot;local&quot;\n2022-08-23 05:07:50.753  INFO 16360 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-08-23 05:07:50.753  INFO 16360 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2022-08-23 05:07:51.120  INFO 16360 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-08-23 05:07:51.152  INFO 16360 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 4 JPA repository interfaces.\n2022-08-23 05:07:51.470  INFO 16360 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-08-23 05:07:51.474  INFO 16360 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-08-23 05:07:51.475  INFO 16360 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n2022-08-23 05:07:51.547  INFO 16360 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-08-23 05:07:51.547  INFO 16360 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 794 ms\n2022-08-23 05:07:51.595  INFO 16360 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-08-23 05:07:51.738  INFO 16360 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-08-23 05:07:51.793  INFO 16360 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-08-23 05:07:51.814  INFO 16360 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.10.Final\n2022-08-23 05:07:51.889  INFO 16360 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-08-23 05:07:51.939  INFO 16360 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\n2022-08-23 05:07:52.204  INFO 16360 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-08-23 05:07:52.208  INFO 16360 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-08-23 05:07:52.636  INFO 16360 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62239b45, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3596673e, org.springframework.security.web.context.SecurityContextPersistenceFilter@49f2b09c, org.springframework.security.web.header.HeaderWriterFilter@576fbb11, org.springframework.security.web.authentication.logout.LogoutFilter@2356ea3a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@378ce71, org.springframework.security.web.session.ConcurrentSessionFilter@fac8000, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@704795de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41def366, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36aed9df, org.springframework.security.web.session.SessionManagementFilter@280ea7a9, org.springframework.security.web.access.ExceptionTranslationFilter@32ddfe1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74600b37]\n2022-08-23 05:07:52.641  INFO 16360 --- [  restartedMain] c.c.c.c.batch.InactiveMemberJobConfig    : InactiveMemberJob execution\n2022-08-23 05:07:52.641  INFO 16360 --- [  restartedMain] c.c.c.c.batch.InactiveMemberJobConfig    : InactiveMemberStep execution\n2022-08-23 05:07:52.642  INFO 16360 --- [  restartedMain] c.c.c.c.batch.InactiveMemberJobConfig    : InactiveMemberReader execution\n2022-08-23 05:07:52.660 DEBUG 16360 --- [  restartedMain] org.hibernate.SQL                        : \n    select\n        member0_.member_id as member_i1_3_,\n        member0_.created_date as created_2_3_,\n        member0_.update_date as update_d3_3_,\n        member0_.login_id as login_id4_3_,\n        member0_.login_pw as login_pw5_3_,\n        member0_.name as name6_3_,\n        member0_.role as role7_3_,\n        member0_.score as score8_3_,\n        member0_.status as status9_3_ \n    from\n        member member0_ \n    where\n        member0_.update_date&lt;? \n        and member0_.status=?\n2022-08-23 05:07:52.699  INFO 16360 --- [  restartedMain] c.c.c.c.batch.InactiveMemberJobConfig    : test\n2022-08-23 05:07:52.699  INFO 16360 --- [  restartedMain] c.c.c.c.batch.InactiveMemberJobConfig    : InactiveMemberWriter execution\n2022-08-23 05:07:52.826  WARN 16360 --- [  restartedMain] o.s.b.a.batch.JpaBatchConfigurer         : JPA does not support custom isolation levels, so locks may not be taken when launching Jobs. To silence this warning, set 'spring.batch.jdbc.isolation-level-for-create' to 'default'.\n2022-08-23 05:07:52.828  INFO 16360 --- [  restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: MYSQL\n2022-08-23 05:07:52.835  INFO 16360 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\n2022-08-23 05:07:52.912  INFO 16360 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2022-08-23 05:07:52.933  INFO 16360 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-08-23 05:07:52.934  INFO 16360 --- [  restartedMain] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...\n2022-08-23 05:07:52.935  INFO 16360 --- [  restartedMain] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@25358374]]\n2022-08-23 05:07:52.935  INFO 16360 --- [  restartedMain] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.\n2022-08-23 05:07:52.941  INFO 16360 --- [  restartedMain] c.capston.chatting.ChattingApplication   : Started ChattingApplication in 2.426 seconds (JVM running for 2.944)\n2022-08-23 05:07:52.942  INFO 16360 --- [  restartedMain] o.s.b.a.b.JobLauncherApplicationRunner   : Running default command line with: []\n2022-08-23 05:07:53.327  INFO 16360 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=inactiveMemberJob3]] launched with the following parameters: [{}]\n2022-08-23 05:07:53.617  INFO 16360 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [inactiveMemberStep]\n2022-08-23 05:07:53.811  INFO 16360 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [inactiveMemberStep] executed in 194ms\n2022-08-23 05:07:53.964  INFO 16360 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=inactiveMemberJob3]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 565ms\n</code></pre>\n<p>However, when I try to run using <code>joblauncher</code>, there is no log registered in job and only the log corresponding to job start and step start.</p>\n<pre><code>2022-08-23 05:08:13.746  INFO 16360 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-08-23 05:08:13.746  INFO 16360 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-08-23 05:08:13.747  INFO 16360 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2022-08-23 05:08:14.015  INFO 16360 --- [nio-8080-exec-1] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=inactiveMemberJob3]] launched with the following parameters: [{}]\n2022-08-23 05:08:14.271  INFO 16360 --- [nio-8080-exec-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [inactiveMemberStep]\n2022-08-23 05:08:14.458  INFO 16360 --- [nio-8080-exec-1] o.s.batch.core.step.AbstractStep         : Step: [inactiveMemberStep] executed in 187ms\n2022-08-23 05:08:14.607  INFO 16360 --- [nio-8080-exec-1] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=inactiveMemberJob3]] completed with the following parameters: [{}] and the following status: [COMPLETED] in 526ms\n2022-08-23 05:08:14.607  INFO 16360 --- [nio-8080-exec-1] c.c.chatting.controller.HomeController   : IsRunning : false\n2022-08-23 05:08:52.572  INFO 16360 --- [MessageBroker-1] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\n</code></pre>\n<p>I debugged the <code>run</code> method in the <code>joblauncher</code>, and the incoming values were the same as they were when they were restarted.</p>\n<p>Is there anything i'm missing?</p>\n<p><code>HomeController.java</code></p>\n<pre><code>package com.capston.chatting.controller;\n\nimport com.capston.chatting.config.batch.InactiveMemberJobConfig;\nimport com.capston.chatting.dto.GetRoomIdDto;\nimport com.capston.chatting.entity.ChatRoom;\nimport com.capston.chatting.entity.Member;\nimport com.capston.chatting.repository.MemberRepository;\nimport com.capston.chatting.service.ChatRoomService;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.batch.core.JobExecution;\nimport org.springframework.batch.core.JobParameters;\nimport org.springframework.batch.core.launch.JobLauncher;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport javax.servlet.http.HttpSession;\nimport java.util.*;\n\n@Controller\n@RequiredArgsConstructor\n@Slf4j\npublic class HomeController {\n    // Test\n    private final JobLauncher jobLauncher;\n    private final InactiveMemberJobConfig config;\n\n    @GetMapping(&quot;/job_start&quot;)\n    @ResponseBody\n    public String jobStart() {\n        JobExecution run = null;\n        try {\n            run = jobLauncher.run(config.inactiveMemberJob(), new JobParameters());\n            log.info(&quot;IsRunning : {}&quot;, run.isRunning());\n        } catch (Exception e) {\n            log.error(e.getMessage());\n        }\n\n        return String.valueOf(run.getJobInstance());\n    }\n}\n</code></pre>\n<p><code>InactiveMemberJobConfig.java</code></p>\n<pre><code>package com.capston.chatting.config.batch;\n\nimport com.capston.chatting.entity.Member;\nimport com.capston.chatting.enums.MemberStatus;\nimport com.capston.chatting.repository.MemberRepository;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.item.ItemProcessor;\nimport org.springframework.batch.item.ItemWriter;\nimport org.springframework.batch.item.support.ListItemReader;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@Slf4j\n@RequiredArgsConstructor\n@Configuration\npublic class InactiveMemberJobConfig {\n\n    private final MemberRepository memberRepository;\n    private final JobBuilderFactory jobBuilderFactory;\n    private final StepBuilderFactory stepBuilderFactory;\n\n    @Bean\n    public Job inactiveMemberJob() {\n        log.info(&quot;InactiveMemberJob execution&quot;);\n        return jobBuilderFactory.get(&quot;inactiveMemberJob3&quot;)\n                .start(inactiveJobStep())\n                .build();\n    }\n\n    @Bean\n    public Step inactiveJobStep() {\n        log.info(&quot;InactiveMemberStep execution&quot;);\n        return stepBuilderFactory.get(&quot;inactiveMemberStep&quot;)\n                .&lt;Member, Member&gt;chunk(10)\n                .reader(inactiveMemberReader())\n                .processor(inactiveMemberProcessor())\n                .writer(inactiveMemberWriter())\n                .allowStartIfComplete(true)\n                .build();\n    }\n\n    @Bean\n    public ListItemReader&lt;Member&gt; inactiveMemberReader() {\n        log.info(&quot;InactiveMemberReader execution&quot;);\n        List&lt;Member&gt; oldMembers = memberRepository\n                .findByUpdateDateBeforeAndStatusEquals(LocalDateTime.now().minusYears(1), MemberStatus.ACTIVE);\n\n//        ArrayList&lt;Member&gt; collect = oldMembers.stream().map(member -&gt; member.setInactive()).collect(Collectors.toCollection(ArrayList::new));\n//        memberRepository.saveAll(collect);\n        return new ListItemReader&lt;&gt;(oldMembers);\n    }\n\n    @Bean\n    public ItemProcessor&lt;Member, Member&gt; inactiveMemberProcessor() {\n        log.info(&quot;test&quot;);\n        ItemProcessor&lt;Member, Member&gt; memberItemProcessor = (member) -&gt; {\n            log.info(&quot;InactiveMemberProcessor execution&quot;);\n            return member.setInactive();\n        };\n        return memberItemProcessor;\n//        return new ItemProcessor&lt;Member, Member&gt;() {\n//            @Override\n//            public Member process(Member member) throws Exception {\n//                log.info(&quot;InactiveMemberProcessor execution&quot;);\n//                return member.setInactive();\n//            }\n//        };\n//        return member -&gt; {\n//            log.info(&quot;InactiveMemberProcessor execution&quot;);\n//            return member.setInactive();\n//        };\n    }\n\n    @Bean\n    public ItemWriter&lt;Member&gt; inactiveMemberWriter() {\n        log.info(&quot;InactiveMemberWriter execution&quot;);\n        return ((List&lt;? extends Member&gt; members) -&gt; {\n            memberRepository.saveAll(members);\n            log.info(&quot;Members : {}&quot;, members);\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","api","rest","gradle"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1661173139,"post_id":73445478,"comment_id":129701525,"body_markdown":"`src/data` isn&#39;t part of theb uild so no it won&#39;t be in the resulting artifact. put it in `src/main/resources` and load it as a classpath resource.","body":"<code>src&#47;data</code> isn&#39;t part of theb uild so no it won&#39;t be in the resulting artifact. put it in <code>src&#47;main&#47;resources</code> and load it as a classpath resource."},{"owner":{"display_name":"user17866308"},"score":0,"creation_date":1661173668,"post_id":73445478,"comment_id":129701743,"body_markdown":"Thanks for your answer! I put it in src/main/resources and changed the references in my code. How do I &quot;load it as a class path resource&quot;? I&#39;m not familiar and google spits out random articles that don&#39;t help.","body":"Thanks for your answer! I put it in src/main/resources and changed the references in my code. How do I &quot;load it as a class path resource&quot;? I&#39;m not familiar and google spits out random articles that don&#39;t help."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1661174840,"post_id":73445478,"comment_id":129702263,"body_markdown":"`new ClassPathResource` which is  Spring class.","body":"<code>new ClassPathResource</code> which is  Spring class."},{"owner":{"display_name":"user17866308"},"score":0,"creation_date":1661175425,"post_id":73445478,"comment_id":129702538,"body_markdown":"I&#39;m afraid I don&#39;t understand your instructions. Do I need to use the class path resource as my File Path for my Jackson parser? I&#39;m sorry - real noob here","body":"I&#39;m afraid I don&#39;t understand your instructions. Do I need to use the class path resource as my File Path for my Jackson parser? I&#39;m sorry - real noob here"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1661177959,"post_id":73445478,"comment_id":129703659,"body_markdown":"If you don&#39;t know what you are doing you might want to first understand that. You cannot access a file from within an artifact as a `java.io.File` as it isn&#39;t a resource on the filesystem. So you need to use the resource to get an inputstream. But as you didn&#39;t explain what you are actually doing it is more or less impossible to know what you should do in your exact situation.","body":"If you don&#39;t know what you are doing you might want to first understand that. You cannot access a file from within an artifact as a <code>java.io.File</code> as it isn&#39;t a resource on the filesystem. So you need to use the resource to get an inputstream. But as you didn&#39;t explain what you are actually doing it is more or less impossible to know what you should do in your exact situation."},{"owner":{"display_name":"user17866308"},"score":0,"creation_date":1661237421,"post_id":73445478,"comment_id":129716975,"body_markdown":"Got it. \n\nExplanation to what I&#39;m doing: I&#39;m building a rest api for the company I work for. The Goal is to have a web interface where users are able to search for specific components and get information based on their search. Everything is done except for the second part which is compiling it into a jar. I&#39;m using a JSON File to save data on the components - to be displayed later. I have a Jackson reader and parser to write from and to a map of components. I&#39;m posting the code in an update to my original post","body":"Got it.   Explanation to what I&#39;m doing: I&#39;m building a rest api for the company I work for. The Goal is to have a web interface where users are able to search for specific components and get information based on their search. Everything is done except for the second part which is compiling it into a jar. I&#39;m using a JSON File to save data on the components - to be displayed later. I have a Jackson reader and parser to write from and to a map of components. I&#39;m posting the code in an update to my original post"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661241797,"post_id":73445478,"comment_id":129718370,"body_markdown":"Your write won&#39;t work as you cannot write to the classpath. Your read is wrong because, as stated, you cannot use a `java.io.File`. If you need to write it you will need to place the file **outside** of the classpath in a well known location (for your app) so you can load it.","body":"Your write won&#39;t work as you cannot write to the classpath. Your read is wrong because, as stated, you cannot use a <code>java.io.File</code>. If you need to write it you will need to place the file <b>outside</b> of the classpath in a well known location (for your app) so you can load it."},{"owner":{"display_name":"user17866308"},"score":0,"creation_date":1661268719,"post_id":73445478,"comment_id":129729490,"body_markdown":"gotcha. So what do I need to change to include it in the classpath? Does is even work with the read/write I want to do?","body":"gotcha. So what do I need to change to include it in the classpath? Does is even work with the read/write I want to do?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661281385,"post_id":73445478,"comment_id":129733768,"body_markdown":"What isn&#39;t you didn&#39;t get from this sentence -&gt; *Your write won&#39;t work as you cannot write to the classpath.*.","body":"What isn&#39;t you didn&#39;t get from this sentence -&gt; <i>Your write won&#39;t work as you cannot write to the classpath.</i>."}],"owner":{"display_name":"user17866308"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661237525,"creation_date":1661172895,"question_id":73445478,"body_markdown":"title basically says it all.\r\n\r\nI have written a Rest API and whenever I export to a .jar using :bootJar it gives me the following error:\r\n\r\n          .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v2.7.2)\r\n    \r\n    2022-08-22 14:43:27.390  INFO 14202 --- [           main] xxx            : Starting xxx using Java 18 on xxx with PID 14202 (/Users/OP/Desktop/api.jar started by OP in /Users/OP/Desktop)\r\n    2022-08-22 14:43:27.394  INFO 14202 --- [           main] xxx            : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-08-22 14:43:27.822  INFO 14202 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-08-22 14:43:27.829  INFO 14202 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-08-22 14:43:27.829  INFO 14202 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n    2022-08-22 14:43:27.869  INFO 14202 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-08-22 14:43:27.869  INFO 14202 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 448 ms\r\n    2022-08-22 14:43:27.895  WARN 14202 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;controller&#39;: Invocation of init method failed; nested exception is java.io.FileNotFoundException: ./src/data/data.json (No such file or directory)\r\n    2022-08-22 14:43:27.897  INFO 14202 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2022-08-22 14:43:27.902  INFO 14202 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-08-22 14:43:27.912 ERROR 14202 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;controller&#39;: Invocation of init method failed; nested exception is java.io.FileNotFoundException: ./src/data/data.json (No such file or directory)\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160) ~[spring-beans-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440) ~[spring-beans-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.2.jar!/:2.7.2]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.2.jar!/:2.7.2]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.2.jar!/:2.7.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.2.jar!/:2.7.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar!/:2.7.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar!/:2.7.2]\r\n    \tat de.xxx.main(xxx:10) ~[classes!/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[api.jar:na]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[api.jar:na]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[api.jar:na]\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[api.jar:na]\r\n    Caused by: java.io.FileNotFoundException: ./src/data/data.json (No such file or directory)\r\n    \tat java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\r\n    \tat java.base/java.io.FileInputStream.open(FileInputStream.java:216) ~[na:na]\r\n    \tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[na:na]\r\n    \tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111) ~[na:na]\r\n    \tat java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60) ~[na:na]\r\n    \tat de.xxx.controller.Controller.populateComponents(Controller.java:124) ~[classes!/:na]\r\n    \tat de.xxx.controller.Controller.init(Controller.java:42) ~[classes!/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.3.22.jar!/:5.3.22]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.3.22.jar!/:5.3.22]\r\n    \t... 24 common frames omitted\r\n\r\n\r\nI&#39;m clearly doing something wrong but with every API I built &#39;till now, I never had a similar problem. \r\n\r\nIf you&#39;ve got any questions I&#39;ll do my best to answer everything.\r\n\r\nThanks in advance!\r\n\r\n(The data.json is under .../src/data/data.json)\r\nAnd a screenshot of my file structure:\r\n\r\n[![file structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UPGYW.png\r\n\r\n*EDIT FOR M.DEINUM*\r\n\r\nThe two Methods I was referring to:\r\n\r\n    public void populateComponents() throws IOException {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            Component[] everyComponent = objectMapper.readValue(new FileReader(&quot;./src/main/resources/data.json&quot;), Component[].class);\r\n    \r\n            for (Component c : everyComponent) {\r\n                compMap.put(c.getNumber(), c);\r\n            }\r\n        }\r\n    \r\n    \r\n        public void writeComponents() throws IOException {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            File file = new File(&quot;./src/main/resources/data.json&quot;);\r\n    \r\n            mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n            mapper.writeValue(file, compMap.values());\r\n    \r\n            populateComponents();\r\n        }","title":"Rest API (Gradle) :bootJar doesn&#39;t include data.json file/can&#39;t seem to find it in the jar","body":"<p>title basically says it all.</p>\n<p>I have written a Rest API and whenever I export to a .jar using :bootJar it gives me the following error:</p>\n<pre><code>      .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.2)\n\n2022-08-22 14:43:27.390  INFO 14202 --- [           main] xxx            : Starting xxx using Java 18 on xxx with PID 14202 (/Users/OP/Desktop/api.jar started by OP in /Users/OP/Desktop)\n2022-08-22 14:43:27.394  INFO 14202 --- [           main] xxx            : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-08-22 14:43:27.822  INFO 14202 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-08-22 14:43:27.829  INFO 14202 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-08-22 14:43:27.829  INFO 14202 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n2022-08-22 14:43:27.869  INFO 14202 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-08-22 14:43:27.869  INFO 14202 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 448 ms\n2022-08-22 14:43:27.895  WARN 14202 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'controller': Invocation of init method failed; nested exception is java.io.FileNotFoundException: ./src/data/data.json (No such file or directory)\n2022-08-22 14:43:27.897  INFO 14202 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-08-22 14:43:27.902  INFO 14202 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-08-22 14:43:27.912 ERROR 14202 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'controller': Invocation of init method failed; nested exception is java.io.FileNotFoundException: ./src/data/data.json (No such file or directory)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160) ~[spring-beans-5.3.22.jar!/:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440) ~[spring-beans-5.3.22.jar!/:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.3.22.jar!/:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar!/:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar!/:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar!/:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar!/:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar!/:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar!/:5.3.22]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.22.jar!/:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar!/:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar!/:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.2.jar!/:2.7.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.2.jar!/:2.7.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.2.jar!/:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.2.jar!/:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar!/:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar!/:2.7.2]\n    at de.xxx.main(xxx:10) ~[classes!/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[api.jar:na]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[api.jar:na]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[api.jar:na]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[api.jar:na]\nCaused by: java.io.FileNotFoundException: ./src/data/data.json (No such file or directory)\n    at java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:216) ~[na:na]\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[na:na]\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111) ~[na:na]\n    at java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60) ~[na:na]\n    at de.xxx.controller.Controller.populateComponents(Controller.java:124) ~[classes!/:na]\n    at de.xxx.controller.Controller.init(Controller.java:42) ~[classes!/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.22.jar!/:5.3.22]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.3.22.jar!/:5.3.22]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.3.22.jar!/:5.3.22]\n    ... 24 common frames omitted\n</code></pre>\n<p>I'm clearly doing something wrong but with every API I built 'till now, I never had a similar problem.</p>\n<p>If you've got any questions I'll do my best to answer everything.</p>\n<p>Thanks in advance!</p>\n<p>(The data.json is under .../src/data/data.json)\nAnd a screenshot of my file structure:</p>\n<p><a href=\"https://i.stack.imgur.com/UPGYW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UPGYW.png\" alt=\"file structure\" /></a></p>\n<p><em>EDIT FOR M.DEINUM</em></p>\n<p>The two Methods I was referring to:</p>\n<pre><code>public void populateComponents() throws IOException {\n        ObjectMapper objectMapper = new ObjectMapper();\n        Component[] everyComponent = objectMapper.readValue(new FileReader(&quot;./src/main/resources/data.json&quot;), Component[].class);\n\n        for (Component c : everyComponent) {\n            compMap.put(c.getNumber(), c);\n        }\n    }\n\n\n    public void writeComponents() throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        File file = new File(&quot;./src/main/resources/data.json&quot;);\n\n        mapper.enable(SerializationFeature.INDENT_OUTPUT);\n        mapper.writeValue(file, compMap.values());\n\n        populateComponents();\n    }\n</code></pre>\n"},{"tags":["java","rest","unit-testing","api-doc"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456481923,"creation_date":1456481923,"answer_id":35649044,"question_id":35648757,"body_markdown":"Perhaps you want a [BDD](https://en.wikipedia.org/wiki/Behavior-driven_development) framework? Eg:\r\n\r\n - [cucumber](https://cucumber.io)\r\n - [fitnesse](http://www.fitnesse.org)\r\n - [jbehave](http://jbehave.org)","title":"REST-API documentation generation from unittests","body":"<p>Perhaps you want a <a href=\"https://en.wikipedia.org/wiki/Behavior-driven_development\" rel=\"nofollow\">BDD</a> framework? Eg:</p>\n\n<ul>\n<li><a href=\"https://cucumber.io\" rel=\"nofollow\">cucumber</a></li>\n<li><a href=\"http://www.fitnesse.org\" rel=\"nofollow\">fitnesse</a></li>\n<li><a href=\"http://jbehave.org\" rel=\"nofollow\">jbehave</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3138894,"reputation":3547,"user_id":2654773,"accept_rate":96,"display_name":"eztam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456482100,"creation_date":1456482100,"answer_id":35649105,"question_id":35648757,"body_markdown":"I recently did some research about the same topic and decided to use the free version of  [Miredot][1] because it is the only tool that fulfilled my requirements: \r\n\r\n 1. Does not need extra annotations. All information is extracted from JavaDoc\r\n 2. Can handle JAX-RS as well as Spring annotations\r\n 3. Easy maven integration\r\n\r\nMiredot generates automatically a HTML based documentation when you run `mvn test` \r\n\r\n\r\n  [1]: http://www.miredot.com/","title":"REST-API documentation generation from unittests","body":"<p>I recently did some research about the same topic and decided to use the free version of  <a href=\"http://www.miredot.com/\" rel=\"nofollow\">Miredot</a> because it is the only tool that fulfilled my requirements: </p>\n\n<ol>\n<li>Does not need extra annotations. All information is extracted from JavaDoc</li>\n<li>Can handle JAX-RS as well as Spring annotations</li>\n<li>Easy maven integration</li>\n</ol>\n\n<p>Miredot generates automatically a HTML based documentation when you run <code>mvn test</code> </p>\n"},{"tags":[],"owner":{"account_id":7589390,"reputation":1131,"user_id":5757486,"accept_rate":57,"display_name":"P S M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456482125,"creation_date":1456482125,"answer_id":35649115,"question_id":35648757,"body_markdown":"Swagger is a beautiful option. It&#39;s a project on GitHub, has Maven integration and loads of other options to keep it flexible.\r\n\r\nIntegration guide: [swagger-core wiki][1]\r\n\r\nMore Information: [here][2]\r\n\r\n\r\n  [1]: https://github.com/wordnik/swagger-core/wiki\r\n  [2]: http://swagger.wordnik.com/","title":"REST-API documentation generation from unittests","body":"<p>Swagger is a beautiful option. It's a project on GitHub, has Maven integration and loads of other options to keep it flexible.</p>\n\n<p>Integration guide: <a href=\"https://github.com/wordnik/swagger-core/wiki\" rel=\"nofollow\">swagger-core wiki</a></p>\n\n<p>More Information: <a href=\"http://swagger.wordnik.com/\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661236786,"creation_date":1661236786,"answer_id":73454180,"question_id":35648757,"body_markdown":"Not sure if you have already found something for this, but Spring RestDocs does exactly what you are asking about here.\r\n\r\n\r\nhttps://spring.io/projects/spring-restdocs\r\n\r\nIm curious as to other tools you may have run across in other languages too.","title":"REST-API documentation generation from unittests","body":"<p>Not sure if you have already found something for this, but Spring RestDocs does exactly what you are asking about here.</p>\n<p><a href=\"https://spring.io/projects/spring-restdocs\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-restdocs</a></p>\n<p>Im curious as to other tools you may have run across in other languages too.</p>\n"}],"owner":{"account_id":1459950,"reputation":3567,"user_id":1374536,"accept_rate":72,"display_name":"tgr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1661236786,"creation_date":1456481189,"question_id":35648757,"body_markdown":"I want to automatically document my REST-API. I know, there are many tools for that, but I want to generate the documentation from my unit tests.\r\n\r\nThe reason for this is, that I want the documentation to mirror, what is tested and what not. Nevertheless the documentation should be as rich as a documentation generated by let&#39;s say [swagger][1].\r\n\r\nI already found two projects with this approach, [doctester][2] and [testdoc4j][3]. Both do not satisfy my needs. The resulting documentation does not aggregate the happy path and the error paths.\r\n\r\nWhat tools do you use and can you suggest any good one?\r\n\r\nCheers.\r\n\r\n**Edit:**\r\n\r\nThere is a difference between documenting the API contract, defined in the interface, and documenting the test scenarios. If my documentation only includes the tested endpoints and pathes, I am able to define my interface and can hand out only the portions, I have tested.\r\n\r\nThis means I am able to define an interface with let&#39;s say ten endpoints. After implementing a basic functionality with corresponding tests, I can release this part with documentation. Not yet stable or implemented endpoints are not included, which prevents the users from using them.\r\n\r\n[1]: http://swagger.io/\r\n[2]: http://www.doctester.org/\r\n[3]: https://github.com/thomasfl/testdoc4j","title":"REST-API documentation generation from unittests","body":"<p>I want to automatically document my REST-API. I know, there are many tools for that, but I want to generate the documentation from my unit tests.</p>\n\n<p>The reason for this is, that I want the documentation to mirror, what is tested and what not. Nevertheless the documentation should be as rich as a documentation generated by let's say <a href=\"http://swagger.io/\" rel=\"nofollow\">swagger</a>.</p>\n\n<p>I already found two projects with this approach, <a href=\"http://www.doctester.org/\" rel=\"nofollow\">doctester</a> and <a href=\"https://github.com/thomasfl/testdoc4j\" rel=\"nofollow\">testdoc4j</a>. Both do not satisfy my needs. The resulting documentation does not aggregate the happy path and the error paths.</p>\n\n<p>What tools do you use and can you suggest any good one?</p>\n\n<p>Cheers.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>There is a difference between documenting the API contract, defined in the interface, and documenting the test scenarios. If my documentation only includes the tested endpoints and pathes, I am able to define my interface and can hand out only the portions, I have tested.</p>\n\n<p>This means I am able to define an interface with let's say ten endpoints. After implementing a basic functionality with corresponding tests, I can release this part with documentation. Not yet stable or implemented endpoints are not included, which prevents the users from using them.</p>\n"},{"tags":["java","prolog","semantic-web","swi-prolog","dcg"],"comments":[{"owner":{"account_id":42836,"reputation":10041,"user_id":124951,"accept_rate":20,"display_name":"salva"},"score":2,"creation_date":1296140709,"post_id":4807341,"comment_id":5342756,"body_markdown":"Java higher level than Prolog? ja!","body":"Java higher level than Prolog? ja!"},{"owner":{"account_id":281184,"reputation":21762,"user_id":577334,"accept_rate":50,"display_name":"billygoat"},"score":0,"creation_date":1296141714,"post_id":4807341,"comment_id":5343008,"body_markdown":"Funny. How do you define higher level programming. Hardware abstraction, portability .. Any languages that depends on setting rules and works directly with logic is not higher level programming . When you are teaching some one introduction to a language and he asks you, how to i Iterate and you tell him, why do you want to use iteration, why can&#39;t you define a transitive rule, its not high level programming.","body":"Funny. How do you define higher level programming. Hardware abstraction, portability .. Any languages that depends on setting rules and works directly with logic is not higher level programming . When you are teaching some one introduction to a language and he asks you, how to i Iterate and you tell him, why do you want to use iteration, why can&#39;t you define a transitive rule, its not high level programming."},{"owner":{"account_id":55665,"reputation":357059,"user_id":166749,"accept_rate":94,"display_name":"Fred Foo"},"score":0,"creation_date":1296150934,"post_id":4807341,"comment_id":5345456,"body_markdown":"I fear this question may a bit too specific for SO. You could try asking this on the SWI-Prolog mailing list, https://lists.iai.uni-bonn.de/mailman/listinfo.cgi/swi-prolog","body":"I fear this question may a bit too specific for SO. You could try asking this on the SWI-Prolog mailing list, <a href=\"https://lists.iai.uni-bonn.de/mailman/listinfo.cgi/swi-prolog\" rel=\"nofollow noreferrer\">lists.iai.uni-bonn.de/mailman/listinfo.cgi/swi-prolog</a>"},{"owner":{"account_id":281184,"reputation":21762,"user_id":577334,"accept_rate":50,"display_name":"billygoat"},"score":0,"creation_date":1296259656,"post_id":4807341,"comment_id":5365198,"body_markdown":"You are probably correct. I did send some emails and probably will post in some more specific forums.","body":"You are probably correct. I did send some emails and probably will post in some more specific forums."},{"owner":{"account_id":117733,"reputation":5301,"user_id":308193,"accept_rate":59,"display_name":"Little Bobby Tables"},"score":1,"creation_date":1297089272,"post_id":4807341,"comment_id":5484572,"body_markdown":"I have a good deal of experience with SWI-Prolog programming, but not in the context of semantic web.  Is that of any help to you?","body":"I have a good deal of experience with SWI-Prolog programming, but not in the context of semantic web.  Is that of any help to you?"},{"owner":{"account_id":281184,"reputation":21762,"user_id":577334,"accept_rate":50,"display_name":"billygoat"},"score":0,"creation_date":1297103885,"post_id":4807341,"comment_id":5488181,"body_markdown":"@littlebobbytables, that should be perfectly fine. I just want to hear from people who have worked with swi prolog in a production/ commercial environment.","body":"@littlebobbytables, that should be perfectly fine. I just want to hear from people who have worked with swi prolog in a production/ commercial environment."}],"answers":[{"tags":[],"owner":{"account_id":117733,"reputation":5301,"user_id":308193,"accept_rate":59,"display_name":"Little Bobby Tables"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1297166148,"creation_date":1297166148,"answer_id":4932691,"question_id":4807341,"body_markdown":"Disclaimer: I did not use SWI-Prolog in a commercial/production environment, I did not try the SWI/Java interface (although it was reported on the SWI-Prolog mailing list to work reasonably well), and I have no interest in the semantic web.\r\n\r\nThat said, I did write a large and non-trivial project using SWI-Prolog, and it wasn&#39;t a toy application - I needed it to work in order to finish my research.  Therefore I have *some* credentials for answering this question, even if not all of the *required* ones.\r\n\r\nIn the context of a large project, it is best to treat Prolog as a domain-specific language for writing search routines - Not unlike SQL and storage.  Prolog does one thing extremely well, and that it solving search problems.  If your problem can be narrowed down to finding a valid assignment to a set of variables given a set of facts and rules, Prolog is your weapon-of-choice: You won&#39;t have to worry about anything else in your coding other than tweaking the queries and rules.  It will also run reasonably fast, especially if you compile the predicates.  Prolog is often slow not because it is inherently slow, but because it runs search routines over a large search space.\r\n\r\nKeeping that in mind, you can integrate it with Java in a similar manner you integrate SQL: Prolog takes care about solving the search.  It stores the permanent data and the rules, and run the queries.  The Java app takes care of anything else.\r\n\r\nDevelopment environments are a bit of a soft-spot for Prolog.  You won&#39;t get a fancy IDE - Simply because there are very few things to be fancy about.  Prolog programs rarely have full compile-time information, so you won&#39;t get perfect auto-completion.  I simply used Emacs, with the Prolog shell always open.  For most things, the Prolog textual tracer/debugger will do the trick.  SWI comes with its-own graphical debugger, but I haven&#39;t tried it.\r\n\r\nProlog has several rarely-known advantages: A built-in parsing framework (DCG rules), a great macros system (term expansion), and meta-predicates (call, findall, etc.).  If you know how to use them, these are real aces in your deck.\r\n\r\nTo summarize: Does Prolog boosts or damages productivity?  That depends on what currently blocks your productivity.  If you waste too much time wondering how to implement knowledge representation and search routines in Java - Just use Prolog; It&#39;s not as if you implement your-own red-black trees instead of using SQL.  If you&#39;re looking for soft-realtime performance and a spoiling IDE - Try something else.\r\n\r\n","title":"SWI-Prolog in Semantic Web","body":"<p>Disclaimer: I did not use SWI-Prolog in a commercial/production environment, I did not try the SWI/Java interface (although it was reported on the SWI-Prolog mailing list to work reasonably well), and I have no interest in the semantic web.</p>\n\n<p>That said, I did write a large and non-trivial project using SWI-Prolog, and it wasn't a toy application - I needed it to work in order to finish my research.  Therefore I have <em>some</em> credentials for answering this question, even if not all of the <em>required</em> ones.</p>\n\n<p>In the context of a large project, it is best to treat Prolog as a domain-specific language for writing search routines - Not unlike SQL and storage.  Prolog does one thing extremely well, and that it solving search problems.  If your problem can be narrowed down to finding a valid assignment to a set of variables given a set of facts and rules, Prolog is your weapon-of-choice: You won't have to worry about anything else in your coding other than tweaking the queries and rules.  It will also run reasonably fast, especially if you compile the predicates.  Prolog is often slow not because it is inherently slow, but because it runs search routines over a large search space.</p>\n\n<p>Keeping that in mind, you can integrate it with Java in a similar manner you integrate SQL: Prolog takes care about solving the search.  It stores the permanent data and the rules, and run the queries.  The Java app takes care of anything else.</p>\n\n<p>Development environments are a bit of a soft-spot for Prolog.  You won't get a fancy IDE - Simply because there are very few things to be fancy about.  Prolog programs rarely have full compile-time information, so you won't get perfect auto-completion.  I simply used Emacs, with the Prolog shell always open.  For most things, the Prolog textual tracer/debugger will do the trick.  SWI comes with its-own graphical debugger, but I haven't tried it.</p>\n\n<p>Prolog has several rarely-known advantages: A built-in parsing framework (DCG rules), a great macros system (term expansion), and meta-predicates (call, findall, etc.).  If you know how to use them, these are real aces in your deck.</p>\n\n<p>To summarize: Does Prolog boosts or damages productivity?  That depends on what currently blocks your productivity.  If you waste too much time wondering how to implement knowledge representation and search routines in Java - Just use Prolog; It's not as if you implement your-own red-black trees instead of using SQL.  If you're looking for soft-realtime performance and a spoiling IDE - Try something else.</p>\n"},{"tags":[],"owner":{"account_id":136945,"reputation":4354,"user_id":340811,"accept_rate":85,"display_name":"Samuel Lampa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1297850701,"creation_date":1297850701,"answer_id":5015020,"question_id":4807341,"body_markdown":"I did not really use it in a production environment either, but I integrated it into the Java/Eclipse based [Bioclipse workbench][1], to be used in real-world scenarios, as part of my thesis work. Also, the thesis work focused much on testing the performance and usability of the prolog integration in Bioclipse.\r\n\r\nI will give short answers to the questions you asked below, but for anyone interested, the most information can be found in my thesis report named [&quot;SWI-Prolog as a Semantic Web Tool for semantic querying in Bioclipse: Integration and performance benchmarking&quot;][2], as well as in my relevantly tagged [blog posts][3]. The source code is available in a [github repo][4].\r\n\r\n**How did you integrate with a programming language like Java?**\r\n\r\nI used the the [JPL Java Prolog interface][5]\r\n\r\n**What did you use prolog libraries for (in context of semantic web)?**\r\n\r\nI used it to do some pattern matching against an RDF database of some 60000 NMR spectra, containing peaks of distinct heights. I used this to test the performance of SWI-Prolog for this operation, compared to other Semantic Web tools such as Pellet and Jena (Java based). (BTW, SWI-Prolog by far outperformed both of these tools).\r\n\r\n**What development environment was used?**\r\n\r\nEclipse RCP\r\n\r\n**I really like the idea of using swi prolog but will steer away from it, if it affects productivity.**\r\n\r\nMy experience is that in addition to increased productivity for certain problems, the performance for certain operations is also far better than tools written in conventional programming languages.\r\n\r\n\r\n  [1]: http://www.bioclipse.net\r\n  [2]: http://www.ibg.uu.se/upload/2010-07-05_180748_062/Samuel_L.pdf\r\n  [3]: http://saml.rilspace.org/tags/swi-prolog\r\n  [4]: http://github.com/samuell/bioclipse.swipl\r\n  [5]: http://www.swi-prolog.org/packages/jpl/java_api/index.html","title":"SWI-Prolog in Semantic Web","body":"<p>I did not really use it in a production environment either, but I integrated it into the Java/Eclipse based <a href=\"http://www.bioclipse.net\" rel=\"noreferrer\">Bioclipse workbench</a>, to be used in real-world scenarios, as part of my thesis work. Also, the thesis work focused much on testing the performance and usability of the prolog integration in Bioclipse.</p>\n\n<p>I will give short answers to the questions you asked below, but for anyone interested, the most information can be found in my thesis report named <a href=\"http://www.ibg.uu.se/upload/2010-07-05_180748_062/Samuel_L.pdf\" rel=\"noreferrer\">\"SWI-Prolog as a Semantic Web Tool for semantic querying in Bioclipse: Integration and performance benchmarking\"</a>, as well as in my relevantly tagged <a href=\"http://saml.rilspace.org/tags/swi-prolog\" rel=\"noreferrer\">blog posts</a>. The source code is available in a <a href=\"http://github.com/samuell/bioclipse.swipl\" rel=\"noreferrer\">github repo</a>.</p>\n\n<p><strong>How did you integrate with a programming language like Java?</strong></p>\n\n<p>I used the the <a href=\"http://www.swi-prolog.org/packages/jpl/java_api/index.html\" rel=\"noreferrer\">JPL Java Prolog interface</a></p>\n\n<p><strong>What did you use prolog libraries for (in context of semantic web)?</strong></p>\n\n<p>I used it to do some pattern matching against an RDF database of some 60000 NMR spectra, containing peaks of distinct heights. I used this to test the performance of SWI-Prolog for this operation, compared to other Semantic Web tools such as Pellet and Jena (Java based). (BTW, SWI-Prolog by far outperformed both of these tools).</p>\n\n<p><strong>What development environment was used?</strong></p>\n\n<p>Eclipse RCP</p>\n\n<p><strong>I really like the idea of using swi prolog but will steer away from it, if it affects productivity.</strong></p>\n\n<p>My experience is that in addition to increased productivity for certain problems, the performance for certain operations is also far better than tools written in conventional programming languages.</p>\n"},{"tags":[],"owner":{"account_id":136095,"reputation":69,"user_id":339385,"display_name":"moueza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661236445,"creation_date":1661236445,"answer_id":73454115,"question_id":4807341,"body_markdown":" 1. For Prolog with Java : sicstus prolog\r\n 2. You could also use CORBA","title":"SWI-Prolog in Semantic Web","body":"<ol>\n<li>For Prolog with Java : sicstus prolog</li>\n<li>You could also use CORBA</li>\n</ol>\n"}],"owner":{"account_id":281184,"reputation":21762,"user_id":577334,"accept_rate":50,"display_name":"billygoat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3733,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":4932691,"answer_count":3,"score":25,"last_activity_date":1661236445,"creation_date":1296060764,"question_id":4807341,"body_markdown":"**I would like to hear from people who have real world programming experience in using SWI-Prolog&#39;s semantic library.**\r\n\r\nEdit: The reason for this question is, among the many people I talked to with prolog experience, most of them seem to have used it for some AI programming in their academic projects. I wanted to know if someone have used it widely in a production environment. Because real time maintainability, performance is different from having a project done to get good grades.\r\n\r\n \r\n\r\n**How did you integrate with a programming language like Java?**\r\n\r\nEdit: As mentioned in the answer, it seems REST Services or usage of SWI-Prolog&#39;s foreign interface are the two best options.\r\n\r\n**What did you use prolog libraries for (in context of semantic web)?**\r\n\r\nProbably will not get a definite answer for this here. May be, this question belongs to semantic overflow. I have a fair idea now and will continue this discussion in more appropriate forum.\r\n\r\n**What development environment was used?**\r\nEmacs or its variant provided by SWI-Prolog seems to be the overwhelming answer. \r\n\r\nI never wanted an IDE like Intellij IDEA for java. After all what would I do, auto complete? I understand the necessity of rule based language. Then again, the reason why I discussed development environment, is to help me trace my rule (debug ) and also probably identify anomalies in my knowledge sets. SWI-Prolog&#39;s graphical tracer takes care of the first requirement, but at least to me, it appeared shoddy and limited. But I do not believe there is anything else.\r\n\r\n**I really like the idea of using SWI-Prolog but will steer away from it, if it affects productivity.**\r\n\r\nAs mentioned in the answer, Prolog should be used to perform what it is good at. I always knew this and hence my question on integration with other programming languages.  It seems the biggest productivity hog is the quality of developers and is in development phase. Problems in your system might be dormant and not easily fixable, but it could be handled by using a set of questions for checking the validity of your system.\r\n\r\nNote: when I mention answer, I mean the answer provided by @littletable. Also for people interested in SWI-Prolog for semantic web, [thea][1] looks interesting.\r\n\r\n\r\n  [1]: http://www.semanticweb.gr/thea/index.html","title":"SWI-Prolog in Semantic Web","body":"<p><strong>I would like to hear from people who have real world programming experience in using SWI-Prolog's semantic library.</strong></p>\n<p>Edit: The reason for this question is, among the many people I talked to with prolog experience, most of them seem to have used it for some AI programming in their academic projects. I wanted to know if someone have used it widely in a production environment. Because real time maintainability, performance is different from having a project done to get good grades.</p>\n<p><strong>How did you integrate with a programming language like Java?</strong></p>\n<p>Edit: As mentioned in the answer, it seems REST Services or usage of SWI-Prolog's foreign interface are the two best options.</p>\n<p><strong>What did you use prolog libraries for (in context of semantic web)?</strong></p>\n<p>Probably will not get a definite answer for this here. May be, this question belongs to semantic overflow. I have a fair idea now and will continue this discussion in more appropriate forum.</p>\n<p><strong>What development environment was used?</strong>\nEmacs or its variant provided by SWI-Prolog seems to be the overwhelming answer.</p>\n<p>I never wanted an IDE like Intellij IDEA for java. After all what would I do, auto complete? I understand the necessity of rule based language. Then again, the reason why I discussed development environment, is to help me trace my rule (debug ) and also probably identify anomalies in my knowledge sets. SWI-Prolog's graphical tracer takes care of the first requirement, but at least to me, it appeared shoddy and limited. But I do not believe there is anything else.</p>\n<p><strong>I really like the idea of using SWI-Prolog but will steer away from it, if it affects productivity.</strong></p>\n<p>As mentioned in the answer, Prolog should be used to perform what it is good at. I always knew this and hence my question on integration with other programming languages.  It seems the biggest productivity hog is the quality of developers and is in development phase. Problems in your system might be dormant and not easily fixable, but it could be handled by using a set of questions for checking the validity of your system.</p>\n<p>Note: when I mention answer, I mean the answer provided by @littletable. Also for people interested in SWI-Prolog for semantic web, <a href=\"http://www.semanticweb.gr/thea/index.html\" rel=\"nofollow noreferrer\">thea</a> looks interesting.</p>\n"},{"tags":["java","windows","multithreading","processor","cpu-cores"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":4,"creation_date":1660987434,"post_id":73425499,"comment_id":129666826,"body_markdown":"The OS (much less the CPU) has no idea what you&#39;re doing. If your threads are blocking each other (or blocked on I/O) the OS won&#39;t schedule them. If they&#39;re runnable (i.e. not blocked on something) it&#39;ll schedule them according to their priorities to whatever cores it deems fit.","body":"The OS (much less the CPU) has no idea what you&#39;re doing. If your threads are blocking each other (or blocked on I/O) the OS won&#39;t schedule them. If they&#39;re runnable (i.e. not blocked on something) it&#39;ll schedule them according to their priorities to whatever cores it deems fit."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1660996103,"post_id":73425499,"comment_id":129668478,"body_markdown":"Does the OS schedule threads or just processes? If the latter, who decides which thread in a process gets the CPU?","body":"Does the OS schedule threads or just processes? If the latter, who decides which thread in a process gets the CPU?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1661000232,"post_id":73425499,"comment_id":129669178,"body_markdown":"It depends on the OS.  If the OS can only schedule processes (i.e., &quot;threads&quot; are a user-space artifact) then the program running in the process will have to implement thread scheduling, likely by using an existing threads library - and probably using only the single CPU that the process is running on.","body":"It depends on the OS.  If the OS can only schedule processes (i.e., &quot;threads&quot; are a user-space artifact) then the program running in the process will have to implement thread scheduling, likely by using an existing threads library - and probably using only the single CPU that the process is running on."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661026238,"creation_date":1661009217,"answer_id":73427911,"question_id":73425499,"body_markdown":"&gt; Can processor cores start queued threads...\r\n\r\nProcessor cores know nothing about threads. Processor cores execute streams of instructions. That&#39;s all they do.\r\n\r\nThe operating system _scheduler_ knows about threads, and in particular, it knows the operational state of each thread. In some hypothetical OS, there are states called `running`, `runnable` (the thread wants to run but it lacks a CPU to run on), and `blocked` (the thread is waiting for something.) In a real OS, there may be different kinds of `blocked`, and there may be other states like `dead`, but we don&#39;t need to talk about those here.\\*\r\n\r\nThe OS also has a number of _queues_† that hold the contexts of non-`running` threads; There is a _run queue_ that contains all of the `runnable` threads, and there typically is a different queue for each different reason that a thread might be `blocked`. (E.g., for each mutex lock, there is a queue of threads waiting to acquire the lock.)\r\n\r\nThe job of the OS scheduler is to decide when to _preempt_ some running thread A, and choose a different `runnable` thread B to take its place. The scheduler;\r\n\r\n* Interrupts (i.e., takes control of) the CPU that is running thread A,\r\n* Changes thread A&#39;s state from `running` to `runnable`,\r\n* Moves the thread A&#39;s context to the back of the run queue,\r\n* Removes thread B from the run queue,\r\n* Changes the state of thread B from `runnable` to `running`,\r\n* Loads thread B&#39;s context onto the CPU, and\r\n* lets the CPU return to executing application code. \r\n\r\n&gt; ...whenever threads assigned to them are idle?\r\n\r\nThreads are never idle.‡ Threads either are `blocked` or `runnable` if not `running`. A _CPU_ can be idle if there are no `runnable` threads that can be moved onto it. When the CPU is idle, it typically executes the operating system&#39;s _idle loop,_ which looks like,\r\n\r\n``` lang-java\r\nwhile (true) {\r\n    putCPUIntoLowPowerState();\r\n}\r\n```\r\n\r\nThe only way out of the idle loop is for the CPU to be interrupted, as described above.\r\n\r\n----------------\r\n\\* Java&#39;s [`Thread.State`](https://cr.openjdk.java.net/~iris/se/17/latestSpec/api/java.base/java/lang/Thread.State.html) enumeration does not recognize any difference between `running` and `runnable`. Those both are wrapped up in `Thread.State.RUNNABLE`. Also, Java splits my `blocked` into `Thread.State.BLOCKED` (the thread is waiting to enter a `synchronized` block) and `Thread.State.WAITING` (the thread is waiting for any other reason.)\r\n\r\n† Not actually strict FIFO queues (thanks @NateEldredge), but &quot;queue&quot; is the traditional name. They are the containers in which threads reside when they await whatever it is they are waiting for. The scheduler may consider various factors (e.g., the thread&#39;s priority) besides just how long the thread has been waiting when deciding which thread to take from one queue and move to a CPU or to another queue.\r\n\r\n‡ I mean that from the point of view of the OS scheduler. An _application_ might consider one of its threads to be &quot;idle,&quot; but the OS knows nothing about what the application threads are supposed to do. As far as the OS is concerned, a thread either is `running`, or it is `runnable`, or it is `blocked`.","title":"How do processor cores share/run queued threads?","body":"<blockquote>\n<p>Can processor cores start queued threads...</p>\n</blockquote>\n<p>Processor cores know nothing about threads. Processor cores execute streams of instructions. That's all they do.</p>\n<p>The operating system <em>scheduler</em> knows about threads, and in particular, it knows the operational state of each thread. In some hypothetical OS, there are states called <code>running</code>, <code>runnable</code> (the thread wants to run but it lacks a CPU to run on), and <code>blocked</code> (the thread is waiting for something.) In a real OS, there may be different kinds of <code>blocked</code>, and there may be other states like <code>dead</code>, but we don't need to talk about those here.*</p>\n<p>The OS also has a number of <em>queues</em>† that hold the contexts of non-<code>running</code> threads; There is a <em>run queue</em> that contains all of the <code>runnable</code> threads, and there typically is a different queue for each different reason that a thread might be <code>blocked</code>. (E.g., for each mutex lock, there is a queue of threads waiting to acquire the lock.)</p>\n<p>The job of the OS scheduler is to decide when to <em>preempt</em> some running thread A, and choose a different <code>runnable</code> thread B to take its place. The scheduler;</p>\n<ul>\n<li>Interrupts (i.e., takes control of) the CPU that is running thread A,</li>\n<li>Changes thread A's state from <code>running</code> to <code>runnable</code>,</li>\n<li>Moves the thread A's context to the back of the run queue,</li>\n<li>Removes thread B from the run queue,</li>\n<li>Changes the state of thread B from <code>runnable</code> to <code>running</code>,</li>\n<li>Loads thread B's context onto the CPU, and</li>\n<li>lets the CPU return to executing application code.</li>\n</ul>\n<blockquote>\n<p>...whenever threads assigned to them are idle?</p>\n</blockquote>\n<p>Threads are never idle.‡ Threads either are <code>blocked</code> or <code>runnable</code> if not <code>running</code>. A <em>CPU</em> can be idle if there are no <code>runnable</code> threads that can be moved onto it. When the CPU is idle, it typically executes the operating system's <em>idle loop,</em> which looks like,</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (true) {\n    putCPUIntoLowPowerState();\n}\n</code></pre>\n<p>The only way out of the idle loop is for the CPU to be interrupted, as described above.</p>\n<hr />\n<p>* Java's <a href=\"https://cr.openjdk.java.net/%7Eiris/se/17/latestSpec/api/java.base/java/lang/Thread.State.html\" rel=\"nofollow noreferrer\"><code>Thread.State</code></a> enumeration does not recognize any difference between <code>running</code> and <code>runnable</code>. Those both are wrapped up in <code>Thread.State.RUNNABLE</code>. Also, Java splits my <code>blocked</code> into <code>Thread.State.BLOCKED</code> (the thread is waiting to enter a <code>synchronized</code> block) and <code>Thread.State.WAITING</code> (the thread is waiting for any other reason.)</p>\n<p>† Not actually strict FIFO queues (thanks @NateEldredge), but &quot;queue&quot; is the traditional name. They are the containers in which threads reside when they await whatever it is they are waiting for. The scheduler may consider various factors (e.g., the thread's priority) besides just how long the thread has been waiting when deciding which thread to take from one queue and move to a CPU or to another queue.</p>\n<p>‡ I mean that from the point of view of the OS scheduler. An <em>application</em> might consider one of its threads to be &quot;idle,&quot; but the OS knows nothing about what the application threads are supposed to do. As far as the OS is concerned, a thread either is <code>running</code>, or it is <code>runnable</code>, or it is <code>blocked</code>.</p>\n"}],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73427911,"answer_count":1,"score":0,"last_activity_date":1661236255,"creation_date":1660987131,"question_id":73425499,"body_markdown":"I have a processor with two cores c1 and c2. I have seven threads t0, t1, t2, t3, t4, t5 and t6. t0 is the main thread.\r\n\r\nFrom t0 I create t1 and t2 to handle certain tasks from data d0 obtained from t0. Both t1 and t2 work to produce data d0a and d0b they then feed to the main thread to produce d0a + d0b = data d1 (i.e. threads t1 and t2 wait (`join()`) for each other to be idle before sharing their intel (d0a and d0b obtained from d0) with the main thread to produce d1).\r\n\r\nIn order to help speed up the process at t1 it spawns thread t3 and t4 to help produce d0a likewise the process at t2 also spawns t5 and t6 to help produce d0b.\r\n\r\nLet’s assume c1 handles t1, t3 and t4 then c2 handles t2, t5 and t6 by default \r\n\r\nSay t1 with the assistance of t3 and t4 after producing d0a finished way ahead of the commencement of the process at t2. Would c1 help c2 finish up the process at t2 for example by handling one of it’s sub threads (t5 or t6).\r\n\r\nCan processor cores start queued threads whenever threads assigned to them are idle.\r\n\r\nThis question is particularly tagged with java and windows because I am especially interested in how it applies. Other answers are also welcome ","title":"How do processor cores share/run queued threads?","body":"<p>I have a processor with two cores c1 and c2. I have seven threads t0, t1, t2, t3, t4, t5 and t6. t0 is the main thread.</p>\n<p>From t0 I create t1 and t2 to handle certain tasks from data d0 obtained from t0. Both t1 and t2 work to produce data d0a and d0b they then feed to the main thread to produce d0a + d0b = data d1 (i.e. threads t1 and t2 wait (<code>join()</code>) for each other to be idle before sharing their intel (d0a and d0b obtained from d0) with the main thread to produce d1).</p>\n<p>In order to help speed up the process at t1 it spawns thread t3 and t4 to help produce d0a likewise the process at t2 also spawns t5 and t6 to help produce d0b.</p>\n<p>Let’s assume c1 handles t1, t3 and t4 then c2 handles t2, t5 and t6 by default</p>\n<p>Say t1 with the assistance of t3 and t4 after producing d0a finished way ahead of the commencement of the process at t2. Would c1 help c2 finish up the process at t2 for example by handling one of it’s sub threads (t5 or t6).</p>\n<p>Can processor cores start queued threads whenever threads assigned to them are idle.</p>\n<p>This question is particularly tagged with java and windows because I am especially interested in how it applies. Other answers are also welcome</p>\n"},{"tags":["java","android","list","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":25916347,"reputation":1,"user_id":19639690,"display_name":"Jeffin Pulsator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661236063,"creation_date":1661236063,"answer_id":73454058,"question_id":73453346,"body_markdown":"You cant get a recyclerview inside a recyclerview. If the number of counter argument is constant for every external recyclerview item, like every argument has 4 counter argument, then I suggest you to add counter arguments design to arguments xml.\r\nMaybe check this [answer](https://stackoverflow.com/questions/34569217/how-to-add-a-recyclerview-inside-another-recyclerview)","title":"recyclerview not showing full list of android studio data","body":"<p>You cant get a recyclerview inside a recyclerview. If the number of counter argument is constant for every external recyclerview item, like every argument has 4 counter argument, then I suggest you to add counter arguments design to arguments xml.\nMaybe check this <a href=\"https://stackoverflow.com/questions/34569217/how-to-add-a-recyclerview-inside-another-recyclerview\">answer</a></p>\n"}],"owner":{"account_id":25288183,"reputation":37,"user_id":19114746,"display_name":"mauricio romero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661236063,"creation_date":1661230826,"question_id":73453346,"body_markdown":"I am making an android application using java and xml, the application allows to debate by generating arguments and counter arguments. To display the argument list create an &quot;external&quot; recyclerview that inflates a view which contains linear layout. To display the list of counter arguments create an internal recyclerview that inflates a view which contains a cardview which allows counterarguments on a specific argument. The problem is that the internal recyclerview does not show the complete list of counterarguments. I leave you part of my code hoping that you can help me\r\n\r\nadapterArgument.class\r\n```\r\n\r\npublic class adapterArguments extends RecyclerView.Adapter&lt;adapterArguments.ViewHolder&gt; {\r\n    private List&lt;ListArguments&gt; data;\r\n    private LayoutInflater inflater;\r\n    private Context context;\r\n    public String position_selected;\r\n    public static String argument;\r\n\r\n\r\n\r\n\r\n    public adapterArguments(List&lt;ListArguments&gt; itemList, Context context) {\r\n        this.data = itemList;\r\n        this.inflater = LayoutInflater.from(context);\r\n        this.context = context;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = inflater.inflate(R.layout.compontents_arguments_recyclerview,null);\r\n        return new adapterArguments.ViewHolder(view);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        ConexionSQliteHelper conn=new ConexionSQliteHelper(context,&quot;db_testwuad_7&quot;,null,31);\r\n        holder.arguments.setText(data.get(position).getArguments());\r\n        holder.name_user.setText(data.get(position).getName_user());\r\n        holder.date.setText(data.get(position).getDate_arguments());\r\n        holder.position.setText(data.get(position).getPosition());\r\n        int id_argument_selected = data.get(position).getId();\r\n        position_selected = holder.position.getText().toString();\r\n        holder.list_contrarguments = conn.getContrarguments(id_argument_selected);\r\n        holder.recyclerView_contrarguments.setLayoutManager(new LinearLayoutManager(context));\r\n        holder.recyclerView_contrarguments.setHasFixedSize(true);\r\n        holder.listContrarguments = new adapterContrarguments(holder.list_contrarguments,context);\r\n        holder.recyclerView_contrarguments.setAdapter(holder.listContrarguments);\r\n        final int[] checkedItem = {-1};\r\n        if(position_selected.equals(&quot;A favor&quot;)){\r\n            holder.position.setBackgroundColor(Color.parseColor(&quot;#073FD7&quot;));\r\n        }\r\n        else{\r\n            holder.position.setBackgroundColor(Color.parseColor(&quot;#FC0C1E&quot;));\r\n\r\n        }\r\n\r\n        holder.addContrarguments.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AlertDialog.Builder alertDialog = new AlertDialog.Builder(v.getContext());\r\n                alertDialog.setTitle(&quot;A&#241;adir un Contrargumento&quot;);\r\n                alertDialog.setMessage(&quot;&#191;Quieres a&#241;adir un contrargumento a este texto?&quot;);\r\n                alertDialog.setPositiveButton(&quot;Aceptar&quot;, new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int id) {\r\n                                argument = holder.arguments.getText().toString();\r\n                                contrargument fragment = new contrargument();\r\n                                Bundle args = new Bundle();\r\n                                args.putString(&quot;argument&quot;, argument);\r\n                                args.putInt(&quot;id&quot;,id_argument_selected);\r\n                                fragment.setArguments(args);\r\n                                FragmentManager fragmentManager;\r\n                                FragmentTransaction fragmentTransaction;\r\n                                fragmentManager = ((AppCompatActivity)context).getSupportFragmentManager();\r\n                                fragmentTransaction = fragmentManager.beginTransaction();\r\n                                fragmentTransaction.replace(R.id.container, fragment);\r\n                                fragmentTransaction.addToBackStack(null);\r\n                                fragmentTransaction.commit();\r\n                            }\r\n                        });\r\n                alertDialog.setNegativeButton(&quot;Cancelar&quot;, new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int id) {\r\n                            }\r\n                        });\r\n                AlertDialog customAlertDialog = alertDialog.create();\r\n                customAlertDialog.show();\r\n            }\r\n        });\r\n        holder.deleteDiscuss.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AlertDialog.Builder alertDialog = new AlertDialog.Builder(v.getContext());\r\n                alertDialog.setTitle(&quot;&#191;Deseas eliminar este argumento?&quot;);\r\n                alertDialog.setMessage(&quot;&#191;Quieres a&#241;adir un contrargumento a este texto?&quot;);\r\n                alertDialog.setPositiveButton(&quot;Aceptar&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        boolean user_create_debate = conn.verifyCreatorDebate(holder.name_user.getText().toString());\r\n                        Toast.makeText(context, &quot;el valor es&quot;+user_create_debate, Toast.LENGTH_SHORT).show();\r\n                        if(user_create_debate){\r\n                            conn.deleteArgument(id_argument_selected);\r\n                        }\r\n                        else{\r\n                            Toast.makeText(context, &quot;No puede eliminar el argumento,ya que no es el creador del texto&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                        opinionUserOnPostDebate fragment = new opinionUserOnPostDebate();\r\n                        FragmentManager fragmentManager;\r\n                        FragmentTransaction fragmentTransaction;\r\n                        fragmentManager = ((AppCompatActivity)context).getSupportFragmentManager();\r\n                        fragmentTransaction = fragmentManager.beginTransaction();\r\n                        fragmentTransaction.detach(fragment).attach(fragment).commit();\r\n\r\n                    }\r\n                });\r\n                alertDialog.setNegativeButton(&quot;Cancelar&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                    }\r\n                });\r\n                AlertDialog customAlertDialog = alertDialog.create();\r\n                customAlertDialog.show();\r\n            }\r\n        });\r\n        holder.changePosition.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AlertDialog.Builder alertDialog = new AlertDialog.Builder(context);\r\n                alertDialog.setTitle(&quot;Cambio de postura&quot;);\r\n                final String[] listItems = new String[]{&quot;Cambie de opini&#243;n&quot;,&quot;Me equivoque de bot&#243;n&quot;,&quot;Otro&quot;};\r\n                alertDialog.setSingleChoiceItems(listItems, checkedItem[0], new DialogInterface.OnClickListener() {\r\n                    @SuppressLint(&quot;SetTextI18n&quot;)\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        checkedItem[0] = which;\r\n                    }\r\n                });\r\n                alertDialog.setPositiveButton(&quot;Aceptar&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        if(position_selected.equals(&quot;A favor&quot;)){\r\n                           //conn.changePosition(id_argument_selected,&quot;En contra&quot;);\r\n                        }\r\n                        else{\r\n                            //conn.changePosition(id_argument_selected,&quot;A favor&quot;);\r\n\r\n                        }\r\n\r\n                    }\r\n                });\r\n                alertDialog.setNegativeButton(&quot;Cancelar&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n\r\n                    }\r\n                });\r\n                AlertDialog customAlertDialog = alertDialog.create();\r\n                customAlertDialog.show();\r\n            }\r\n        });\r\n        holder.Report.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AlertDialog.Builder alertDialog = new AlertDialog.Builder(context);\r\n                alertDialog.setTitle(&quot;Reportar post&quot;);\r\n                final String[] listItems = new String[]{&quot;Opini&#243;n contiene lenguaje ofensivo&quot;,&quot;Opini&#243;n contiene informaci&#243;n personal&quot;,&quot;Otro&quot;};\r\n                alertDialog.setSingleChoiceItems(listItems, checkedItem[0], new DialogInterface.OnClickListener() {\r\n                    @SuppressLint(&quot;SetTextI18n&quot;)\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        checkedItem[0] = which;\r\n                    }\r\n                });\r\n                alertDialog.setPositiveButton(&quot;Aceptar&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        if(position_selected.equals(&quot;A favor&quot;)){\r\n                            //conn.changePosition(id_argument_selected,&quot;En contra&quot;);\r\n                        }\r\n                        else{\r\n                            //conn.changePosition(id_argument_selected,&quot;A favor&quot;);\r\n\r\n                        }\r\n\r\n                    }\r\n                });\r\n                alertDialog.setNegativeButton(&quot;Cancelar&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n\r\n                    }\r\n                });\r\n                AlertDialog customAlertDialog = alertDialog.create();\r\n                customAlertDialog.show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size();\r\n    }\r\n\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView arguments,name_user,date,position;\r\n        ImageButton addContrarguments,deleteDiscuss,addFriend,changePosition,Report;\r\n        List&lt;ListContrarguments&gt; list_contrarguments;\r\n        RecyclerView recyclerView_contrarguments;\r\n        public adapterContrarguments listContrarguments;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            arguments = itemView.findViewById(R.id.arguments_posted);\r\n            name_user = itemView.findViewById(R.id.name_arguments);\r\n            date = itemView.findViewById(R.id.date_arguments);\r\n            position = itemView.findViewById(R.id.position);\r\n            addContrarguments = itemView.findViewById(R.id.comments);\r\n            deleteDiscuss = itemView.findViewById(R.id.delete);\r\n            changePosition = itemView.findViewById(R.id.change_position);\r\n            addFriend = itemView.findViewById(R.id.add_friend);\r\n            Report = itemView.findViewById(R.id.report_argument);\r\n            recyclerView_contrarguments = itemView.findViewById(R.id.recycler_contrargument);\r\n\r\n\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nlayout.compontents_arguments_recyclerview.xml\r\n```\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    &gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;500dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        &gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/position&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textSize=&quot;25dp&quot;\r\n                android:background=&quot;#0AA842&quot;&gt;\r\n            &lt;/TextView&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;100dp&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/image_person_contrarguments&quot;\r\n                android:layout_width=&quot;100dp&quot;\r\n                android:layout_height=&quot;80dp&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginTop=&quot;15dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;&gt;\r\n\r\n            &lt;/ImageView&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/name_arguments&quot;\r\n                android:layout_width=&quot;145dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;8dp&quot;\r\n                android:layout_marginTop=&quot;15dp&quot;\r\n                android:textSize=&quot;14sp&quot;\r\n                &gt;\r\n\r\n            &lt;/TextView&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/date_arguments&quot;\r\n                android:layout_width=&quot;145dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;15dp&quot;\r\n                &gt;\r\n\r\n            &lt;/TextView&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;360dp&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            &gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/arguments_posted&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;140dp&quot;\r\n                &gt;\r\n\r\n            &lt;/TextView&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:background=&quot;#FEFEFE&quot;\r\n                &gt;\r\n                &lt;ImageButton\r\n                    android:id=&quot;@+id/comments&quot;\r\n                    android:layout_width=&quot;60dp&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:src=&quot;@drawable/add_comments&quot;\r\n                    android:background=&quot;#FEFEFE&quot;\r\n                    android:layout_marginLeft=&quot;50dp&quot;\r\n                    &gt;\r\n                &lt;/ImageButton&gt;\r\n                &lt;ImageButton\r\n                    android:id=&quot;@+id/delete&quot;\r\n                    android:layout_width=&quot;60dp&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:src=&quot;@drawable/delete&quot;\r\n                    android:background=&quot;#FEFEFE&quot;\r\n                    &gt;\r\n                &lt;/ImageButton&gt;\r\n                &lt;ImageButton\r\n                    android:id=&quot;@+id/change_position&quot;\r\n                    android:layout_width=&quot;60dp&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:src=&quot;@drawable/change_opinion&quot;\r\n                    android:background=&quot;#FEFEFE&quot;\r\n                    &gt;\r\n\r\n                &lt;/ImageButton&gt;\r\n                &lt;ImageButton\r\n                    android:id=&quot;@+id/add_friend&quot;\r\n                    android:layout_width=&quot;60dp&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:src=&quot;@drawable/add_friend&quot;\r\n                    android:background=&quot;#FEFEFE&quot;\r\n                    &gt;\r\n                &lt;/ImageButton&gt;\r\n                &lt;ImageButton\r\n                    android:id=&quot;@+id/report_argument&quot;\r\n                    android:layout_width=&quot;60dp&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:src=&quot;@drawable/display_report&quot;\r\n                    android:background=&quot;#FEFEFE&quot;\r\n                    &gt;\r\n                &lt;/ImageButton&gt;\r\n            &lt;/LinearLayout&gt;\r\n            &lt;View\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;1dp&quot;\r\n                android:background=&quot;#A4A1A1&quot;\r\n                &gt;\r\n            &lt;/View&gt;\r\n            &lt;include\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;179dp&quot;\r\n                layout=&quot;@layout/recyclerview_contrarguments&quot;\r\n                &gt;\r\n            &lt;/include&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\nadapterContrarguments.class\r\n```\r\npublic class adapterContrarguments extends RecyclerView.Adapter&lt;adapterContrarguments.ViewHolder&gt; {\r\n    private List&lt;ListContrarguments&gt; data;\r\n    private LayoutInflater inflater;\r\n    private Context context;\r\n\r\n    public adapterContrarguments(List&lt;ListContrarguments&gt; itemlist, Context context) {\r\n        this.data = itemlist;\r\n        this.inflater = LayoutInflater.from(context);\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = inflater.inflate(R.layout.cardview_contrarguments,null);\r\n        return new adapterContrarguments.ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        holder.name_user_posted_contrarguments.setText(data.get(position).getName_user_posted_contrarguments());\r\n        holder.contrarguments.setText(data.get(position).getPost_contrarguments());\r\n        holder.date_contrarguments.setText(data.get(position).getDate_contrarguments());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView name_user_posted_contrarguments,date_contrarguments,contrarguments;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            name_user_posted_contrarguments = itemView.findViewById(R.id.user_post_contrargument);\r\n            date_contrarguments = itemView.findViewById(R.id.date_contrargument);\r\n            contrarguments = itemView.findViewById(R.id.contrargument_post);\r\n        }\r\n    }\r\n}\r\n```\r\ncardview_contrarguments.xml\r\n```\r\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/cardview&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:animateLayoutChanges=&quot;true&quot;\r\n    app:cardCornerRadius=&quot;20dp&quot;\r\n    app:cardElevation=&quot;4dp&quot;\r\n    app:cardUseCompatPadding=&quot;true&quot;\r\n    &gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;395dp&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:padding=&quot;26dp&quot;&gt;\r\n\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/user_post_contrargument&quot;\r\n            android:layout_width=&quot;168dp&quot;\r\n            android:layout_height=&quot;19dp&quot;\r\n            android:text=&quot;TextView&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/contrargument_post&quot;\r\n            android:layout_width=&quot;336dp&quot;\r\n            android:layout_height=&quot;115dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:gravity=&quot;start|top&quot;\r\n            android:inputType=&quot;textMultiLine&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.493&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/date_contrargument&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;TextView&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.89&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.022&quot; /&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n&lt;/androidx.cardview.widget.CardView&gt;\r\n```","title":"recyclerview not showing full list of android studio data","body":"<p>I am making an android application using java and xml, the application allows to debate by generating arguments and counter arguments. To display the argument list create an &quot;external&quot; recyclerview that inflates a view which contains linear layout. To display the list of counter arguments create an internal recyclerview that inflates a view which contains a cardview which allows counterarguments on a specific argument. The problem is that the internal recyclerview does not show the complete list of counterarguments. I leave you part of my code hoping that you can help me</p>\n<p>adapterArgument.class</p>\n<pre><code>\npublic class adapterArguments extends RecyclerView.Adapter&lt;adapterArguments.ViewHolder&gt; {\n    private List&lt;ListArguments&gt; data;\n    private LayoutInflater inflater;\n    private Context context;\n    public String position_selected;\n    public static String argument;\n\n\n\n\n    public adapterArguments(List&lt;ListArguments&gt; itemList, Context context) {\n        this.data = itemList;\n        this.inflater = LayoutInflater.from(context);\n        this.context = context;\n    }\n\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = inflater.inflate(R.layout.compontents_arguments_recyclerview,null);\n        return new adapterArguments.ViewHolder(view);\n    }\n\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        ConexionSQliteHelper conn=new ConexionSQliteHelper(context,&quot;db_testwuad_7&quot;,null,31);\n        holder.arguments.setText(data.get(position).getArguments());\n        holder.name_user.setText(data.get(position).getName_user());\n        holder.date.setText(data.get(position).getDate_arguments());\n        holder.position.setText(data.get(position).getPosition());\n        int id_argument_selected = data.get(position).getId();\n        position_selected = holder.position.getText().toString();\n        holder.list_contrarguments = conn.getContrarguments(id_argument_selected);\n        holder.recyclerView_contrarguments.setLayoutManager(new LinearLayoutManager(context));\n        holder.recyclerView_contrarguments.setHasFixedSize(true);\n        holder.listContrarguments = new adapterContrarguments(holder.list_contrarguments,context);\n        holder.recyclerView_contrarguments.setAdapter(holder.listContrarguments);\n        final int[] checkedItem = {-1};\n        if(position_selected.equals(&quot;A favor&quot;)){\n            holder.position.setBackgroundColor(Color.parseColor(&quot;#073FD7&quot;));\n        }\n        else{\n            holder.position.setBackgroundColor(Color.parseColor(&quot;#FC0C1E&quot;));\n\n        }\n\n        holder.addContrarguments.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AlertDialog.Builder alertDialog = new AlertDialog.Builder(v.getContext());\n                alertDialog.setTitle(&quot;Añadir un Contrargumento&quot;);\n                alertDialog.setMessage(&quot;¿Quieres añadir un contrargumento a este texto?&quot;);\n                alertDialog.setPositiveButton(&quot;Aceptar&quot;, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int id) {\n                                argument = holder.arguments.getText().toString();\n                                contrargument fragment = new contrargument();\n                                Bundle args = new Bundle();\n                                args.putString(&quot;argument&quot;, argument);\n                                args.putInt(&quot;id&quot;,id_argument_selected);\n                                fragment.setArguments(args);\n                                FragmentManager fragmentManager;\n                                FragmentTransaction fragmentTransaction;\n                                fragmentManager = ((AppCompatActivity)context).getSupportFragmentManager();\n                                fragmentTransaction = fragmentManager.beginTransaction();\n                                fragmentTransaction.replace(R.id.container, fragment);\n                                fragmentTransaction.addToBackStack(null);\n                                fragmentTransaction.commit();\n                            }\n                        });\n                alertDialog.setNegativeButton(&quot;Cancelar&quot;, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int id) {\n                            }\n                        });\n                AlertDialog customAlertDialog = alertDialog.create();\n                customAlertDialog.show();\n            }\n        });\n        holder.deleteDiscuss.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AlertDialog.Builder alertDialog = new AlertDialog.Builder(v.getContext());\n                alertDialog.setTitle(&quot;¿Deseas eliminar este argumento?&quot;);\n                alertDialog.setMessage(&quot;¿Quieres añadir un contrargumento a este texto?&quot;);\n                alertDialog.setPositiveButton(&quot;Aceptar&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        boolean user_create_debate = conn.verifyCreatorDebate(holder.name_user.getText().toString());\n                        Toast.makeText(context, &quot;el valor es&quot;+user_create_debate, Toast.LENGTH_SHORT).show();\n                        if(user_create_debate){\n                            conn.deleteArgument(id_argument_selected);\n                        }\n                        else{\n                            Toast.makeText(context, &quot;No puede eliminar el argumento,ya que no es el creador del texto&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                        opinionUserOnPostDebate fragment = new opinionUserOnPostDebate();\n                        FragmentManager fragmentManager;\n                        FragmentTransaction fragmentTransaction;\n                        fragmentManager = ((AppCompatActivity)context).getSupportFragmentManager();\n                        fragmentTransaction = fragmentManager.beginTransaction();\n                        fragmentTransaction.detach(fragment).attach(fragment).commit();\n\n                    }\n                });\n                alertDialog.setNegativeButton(&quot;Cancelar&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                    }\n                });\n                AlertDialog customAlertDialog = alertDialog.create();\n                customAlertDialog.show();\n            }\n        });\n        holder.changePosition.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AlertDialog.Builder alertDialog = new AlertDialog.Builder(context);\n                alertDialog.setTitle(&quot;Cambio de postura&quot;);\n                final String[] listItems = new String[]{&quot;Cambie de opinión&quot;,&quot;Me equivoque de botón&quot;,&quot;Otro&quot;};\n                alertDialog.setSingleChoiceItems(listItems, checkedItem[0], new DialogInterface.OnClickListener() {\n                    @SuppressLint(&quot;SetTextI18n&quot;)\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        checkedItem[0] = which;\n                    }\n                });\n                alertDialog.setPositiveButton(&quot;Aceptar&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        if(position_selected.equals(&quot;A favor&quot;)){\n                           //conn.changePosition(id_argument_selected,&quot;En contra&quot;);\n                        }\n                        else{\n                            //conn.changePosition(id_argument_selected,&quot;A favor&quot;);\n\n                        }\n\n                    }\n                });\n                alertDialog.setNegativeButton(&quot;Cancelar&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n\n                    }\n                });\n                AlertDialog customAlertDialog = alertDialog.create();\n                customAlertDialog.show();\n            }\n        });\n        holder.Report.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AlertDialog.Builder alertDialog = new AlertDialog.Builder(context);\n                alertDialog.setTitle(&quot;Reportar post&quot;);\n                final String[] listItems = new String[]{&quot;Opinión contiene lenguaje ofensivo&quot;,&quot;Opinión contiene información personal&quot;,&quot;Otro&quot;};\n                alertDialog.setSingleChoiceItems(listItems, checkedItem[0], new DialogInterface.OnClickListener() {\n                    @SuppressLint(&quot;SetTextI18n&quot;)\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        checkedItem[0] = which;\n                    }\n                });\n                alertDialog.setPositiveButton(&quot;Aceptar&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        if(position_selected.equals(&quot;A favor&quot;)){\n                            //conn.changePosition(id_argument_selected,&quot;En contra&quot;);\n                        }\n                        else{\n                            //conn.changePosition(id_argument_selected,&quot;A favor&quot;);\n\n                        }\n\n                    }\n                });\n                alertDialog.setNegativeButton(&quot;Cancelar&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n\n                    }\n                });\n                AlertDialog customAlertDialog = alertDialog.create();\n                customAlertDialog.show();\n            }\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.size();\n    }\n\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        TextView arguments,name_user,date,position;\n        ImageButton addContrarguments,deleteDiscuss,addFriend,changePosition,Report;\n        List&lt;ListContrarguments&gt; list_contrarguments;\n        RecyclerView recyclerView_contrarguments;\n        public adapterContrarguments listContrarguments;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            arguments = itemView.findViewById(R.id.arguments_posted);\n            name_user = itemView.findViewById(R.id.name_arguments);\n            date = itemView.findViewById(R.id.date_arguments);\n            position = itemView.findViewById(R.id.position);\n            addContrarguments = itemView.findViewById(R.id.comments);\n            deleteDiscuss = itemView.findViewById(R.id.delete);\n            changePosition = itemView.findViewById(R.id.change_position);\n            addFriend = itemView.findViewById(R.id.add_friend);\n            Report = itemView.findViewById(R.id.report_argument);\n            recyclerView_contrarguments = itemView.findViewById(R.id.recycler_contrargument);\n\n\n\n        }\n    }\n}\n\n</code></pre>\n<p>layout.compontents_arguments_recyclerview.xml</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    &gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;500dp&quot;\n        android:orientation=&quot;vertical&quot;\n        &gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n            &lt;TextView\n                android:id=&quot;@+id/position&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textSize=&quot;25dp&quot;\n                android:background=&quot;#0AA842&quot;&gt;\n            &lt;/TextView&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;100dp&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n            &lt;ImageView\n                android:id=&quot;@+id/image_person_contrarguments&quot;\n                android:layout_width=&quot;100dp&quot;\n                android:layout_height=&quot;80dp&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginTop=&quot;15dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;&gt;\n\n            &lt;/ImageView&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/name_arguments&quot;\n                android:layout_width=&quot;145dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;8dp&quot;\n                android:layout_marginTop=&quot;15dp&quot;\n                android:textSize=&quot;14sp&quot;\n                &gt;\n\n            &lt;/TextView&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/date_arguments&quot;\n                android:layout_width=&quot;145dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;15dp&quot;\n                &gt;\n\n            &lt;/TextView&gt;\n\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;360dp&quot;\n            android:orientation=&quot;vertical&quot;\n            &gt;\n            &lt;TextView\n                android:id=&quot;@+id/arguments_posted&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;140dp&quot;\n                &gt;\n\n            &lt;/TextView&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:background=&quot;#FEFEFE&quot;\n                &gt;\n                &lt;ImageButton\n                    android:id=&quot;@+id/comments&quot;\n                    android:layout_width=&quot;60dp&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:src=&quot;@drawable/add_comments&quot;\n                    android:background=&quot;#FEFEFE&quot;\n                    android:layout_marginLeft=&quot;50dp&quot;\n                    &gt;\n                &lt;/ImageButton&gt;\n                &lt;ImageButton\n                    android:id=&quot;@+id/delete&quot;\n                    android:layout_width=&quot;60dp&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:src=&quot;@drawable/delete&quot;\n                    android:background=&quot;#FEFEFE&quot;\n                    &gt;\n                &lt;/ImageButton&gt;\n                &lt;ImageButton\n                    android:id=&quot;@+id/change_position&quot;\n                    android:layout_width=&quot;60dp&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:src=&quot;@drawable/change_opinion&quot;\n                    android:background=&quot;#FEFEFE&quot;\n                    &gt;\n\n                &lt;/ImageButton&gt;\n                &lt;ImageButton\n                    android:id=&quot;@+id/add_friend&quot;\n                    android:layout_width=&quot;60dp&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:src=&quot;@drawable/add_friend&quot;\n                    android:background=&quot;#FEFEFE&quot;\n                    &gt;\n                &lt;/ImageButton&gt;\n                &lt;ImageButton\n                    android:id=&quot;@+id/report_argument&quot;\n                    android:layout_width=&quot;60dp&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:src=&quot;@drawable/display_report&quot;\n                    android:background=&quot;#FEFEFE&quot;\n                    &gt;\n                &lt;/ImageButton&gt;\n            &lt;/LinearLayout&gt;\n            &lt;View\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;1dp&quot;\n                android:background=&quot;#A4A1A1&quot;\n                &gt;\n            &lt;/View&gt;\n            &lt;include\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;179dp&quot;\n                layout=&quot;@layout/recyclerview_contrarguments&quot;\n                &gt;\n            &lt;/include&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>adapterContrarguments.class</p>\n<pre><code>public class adapterContrarguments extends RecyclerView.Adapter&lt;adapterContrarguments.ViewHolder&gt; {\n    private List&lt;ListContrarguments&gt; data;\n    private LayoutInflater inflater;\n    private Context context;\n\n    public adapterContrarguments(List&lt;ListContrarguments&gt; itemlist, Context context) {\n        this.data = itemlist;\n        this.inflater = LayoutInflater.from(context);\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = inflater.inflate(R.layout.cardview_contrarguments,null);\n        return new adapterContrarguments.ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        holder.name_user_posted_contrarguments.setText(data.get(position).getName_user_posted_contrarguments());\n        holder.contrarguments.setText(data.get(position).getPost_contrarguments());\n        holder.date_contrarguments.setText(data.get(position).getDate_contrarguments());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        TextView name_user_posted_contrarguments,date_contrarguments,contrarguments;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            name_user_posted_contrarguments = itemView.findViewById(R.id.user_post_contrargument);\n            date_contrarguments = itemView.findViewById(R.id.date_contrargument);\n            contrarguments = itemView.findViewById(R.id.contrargument_post);\n        }\n    }\n}\n</code></pre>\n<p>cardview_contrarguments.xml</p>\n<pre><code>&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/cardview&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:animateLayoutChanges=&quot;true&quot;\n    app:cardCornerRadius=&quot;20dp&quot;\n    app:cardElevation=&quot;4dp&quot;\n    app:cardUseCompatPadding=&quot;true&quot;\n    &gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;395dp&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:padding=&quot;26dp&quot;&gt;\n\n\n        &lt;TextView\n            android:id=&quot;@+id/user_post_contrargument&quot;\n            android:layout_width=&quot;168dp&quot;\n            android:layout_height=&quot;19dp&quot;\n            android:text=&quot;TextView&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/contrargument_post&quot;\n            android:layout_width=&quot;336dp&quot;\n            android:layout_height=&quot;115dp&quot;\n            android:ems=&quot;10&quot;\n            android:gravity=&quot;start|top&quot;\n            android:inputType=&quot;textMultiLine&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.493&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;1.0&quot;\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/date_contrargument&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;TextView&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.89&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.022&quot; /&gt;\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661235990,"creation_date":1660747036,"answer_id":73390384,"question_id":73384425,"body_markdown":"In a custom [`MetadataContributor`](https://docs.jboss.org/hibernate/orm/current/javadocs/org/hibernate/boot/spi/MetadataContributor.html) you can access [`metadataCollector.getDatabase()`](https://docs.jboss.org/hibernate/orm/current/javadocs/org/hibernate/boot/Metadata.html#getDatabase()) which exposes the full relational model to you. You just have so save that into a static volatile variable and then access it later on in your app to do whatever you want to do with it.","title":"Retrieve table hierarchie from Hibernate","body":"<p>In a custom <a href=\"https://docs.jboss.org/hibernate/orm/current/javadocs/org/hibernate/boot/spi/MetadataContributor.html\" rel=\"nofollow noreferrer\"><code>MetadataContributor</code></a> you can access <a href=\"https://docs.jboss.org/hibernate/orm/current/javadocs/org/hibernate/boot/Metadata.html#getDatabase()\" rel=\"nofollow noreferrer\"><code>metadataCollector.getDatabase()</code></a> which exposes the full relational model to you. You just have so save that into a static volatile variable and then access it later on in your app to do whatever you want to do with it.</p>\n"}],"owner":{"account_id":380582,"reputation":15578,"user_id":734687,"accept_rate":83,"display_name":"ChrLipp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73390384,"answer_count":1,"score":0,"last_activity_date":1661235990,"creation_date":1660721342,"question_id":73384425,"body_markdown":"Now and then I come into the situation that I have to display the table hierarchie of a database for further operations, currently in a data migration project where I have to treat &quot;leaf tables&quot; (tables which are leafes in the table dependency tree) in a different way.\r\n\r\nI&#39;ve always wanted to use Hibernate&#39;s meta information to retrieve and display the table dependency tree, but never knew how to approach the problem.\r\n\r\nSo can anyone give me feedback on whether Hibernate provides an API to do this? I am not asking for a complete solution, the information if there is an API and what it is called is absolutely sufficient.\r\n\r\nI want to solve the following questions:\r\n\r\n- Which tables are in the database?\r\n- Is a given table a root table (not dependant from other tables)?\r\n- Is a given table a leaf table (dependant from other tables but no table is dependant from the given table)?\r\n- Which tables are dependant from the given table?\r\n- On which tables does the given table depend?\r\n\r\nI know how to retrieve the mapping between entities and tables:\r\nhttps://stackoverflow.com/questions/45843457/how-to-discover-fully-qualified-table-column-from-hibernate-metadatasources , but I want the relationship between the tables.","title":"Retrieve table hierarchie from Hibernate","body":"<p>Now and then I come into the situation that I have to display the table hierarchie of a database for further operations, currently in a data migration project where I have to treat &quot;leaf tables&quot; (tables which are leafes in the table dependency tree) in a different way.</p>\n<p>I've always wanted to use Hibernate's meta information to retrieve and display the table dependency tree, but never knew how to approach the problem.</p>\n<p>So can anyone give me feedback on whether Hibernate provides an API to do this? I am not asking for a complete solution, the information if there is an API and what it is called is absolutely sufficient.</p>\n<p>I want to solve the following questions:</p>\n<ul>\n<li>Which tables are in the database?</li>\n<li>Is a given table a root table (not dependant from other tables)?</li>\n<li>Is a given table a leaf table (dependant from other tables but no table is dependant from the given table)?</li>\n<li>Which tables are dependant from the given table?</li>\n<li>On which tables does the given table depend?</li>\n</ul>\n<p>I know how to retrieve the mapping between entities and tables:\n<a href=\"https://stackoverflow.com/questions/45843457/how-to-discover-fully-qualified-table-column-from-hibernate-metadatasources\">How to discover fully qualified table column from Hibernate MetadataSources</a> , but I want the relationship between the tables.</p>\n"},{"tags":["java","spring-boot","search","algolia"],"answers":[{"tags":[],"owner":{"account_id":5004128,"reputation":1233,"user_id":4022255,"display_name":"Shafeeq Mohammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661235592,"creation_date":1659610036,"answer_id":73234560,"question_id":73196707,"body_markdown":"Finally found the solution,\r\n\r\n    public TestResponse getAllTestDate(String cursor, int pageSize) {\r\n        final SearchIndex&lt;Test&gt; index = client.initIndex(indexName, Test.class);\r\n        TestResponseDate testResponseData = new ProductListResponse();\r\n        BrowseIndexResponse&lt;Test&gt; items = null;\r\n        if (cursor != null) {\r\n            items = index.browseFrom(new BrowseIndexQuery().setHitsPerPage(pageSize).setCursor(cursor));\r\n        } else {\r\n            items = index.browseFrom(new BrowseIndexQuery().setHitsPerPage(pageSize));\r\n        }\r\n        testResponseData .setCursor(items.getCursor());\r\n        testResponseData .setTest(items.getHits());\r\n        return testResponseData ;\r\n    }\r\n\r\nFirst time we are not passing &#39;cursor&#39; value, After first hit we will get a &#39;cursor&#39; value from algolia, use that for next algolia hit. repeat this until we are getting &#39;cursor&#39; value as null (that means, for last page algolia returns &#39;cursor&#39; value as null).","title":"Use of deprecated `page`/`offset` parameter in browse error from ALGOLIA","body":"<p>Finally found the solution,</p>\n<pre><code>public TestResponse getAllTestDate(String cursor, int pageSize) {\n    final SearchIndex&lt;Test&gt; index = client.initIndex(indexName, Test.class);\n    TestResponseDate testResponseData = new ProductListResponse();\n    BrowseIndexResponse&lt;Test&gt; items = null;\n    if (cursor != null) {\n        items = index.browseFrom(new BrowseIndexQuery().setHitsPerPage(pageSize).setCursor(cursor));\n    } else {\n        items = index.browseFrom(new BrowseIndexQuery().setHitsPerPage(pageSize));\n    }\n    testResponseData .setCursor(items.getCursor());\n    testResponseData .setTest(items.getHits());\n    return testResponseData ;\n}\n</code></pre>\n<p>First time we are not passing 'cursor' value, After first hit we will get a 'cursor' value from algolia, use that for next algolia hit. repeat this until we are getting 'cursor' value as null (that means, for last page algolia returns 'cursor' value as null).</p>\n"}],"owner":{"account_id":5004128,"reputation":1233,"user_id":4022255,"display_name":"Shafeeq Mohammed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73234560,"answer_count":1,"score":0,"last_activity_date":1661235592,"creation_date":1659370655,"question_id":73196707,"body_markdown":"I was trying to fetch all data from Algolia using browseFrom() API with pagination as below. \r\n\r\n     BrowseIndexResponse&lt;Test&gt; items = index\r\n                    .browseFrom(new BrowseIndexQuery().setPage(pageNumber).setHitsPerPage(pageSize));\r\n\r\nBut after a particular page i got an error as shown below\r\n\r\n \r\n\r\n        {&quot;message&quot;:&quot;Use of deprecated `page`/`offset` parameter in browse:\r\n         you should pass the `cursor` parameter to fetch next page.\r\n         Please upgrade your api client if necessary&quot;,&quot;status&quot;:400}\r\n    \r\nNote:\r\nalgolia shows nbPages: 82, nbHits: 16341\r\n\r\nI have tried changing Algolia version and al, but it is not working. any help is appreciated","title":"Use of deprecated `page`/`offset` parameter in browse error from ALGOLIA","body":"<p>I was trying to fetch all data from Algolia using browseFrom() API with pagination as below.</p>\n<pre><code> BrowseIndexResponse&lt;Test&gt; items = index\n                .browseFrom(new BrowseIndexQuery().setPage(pageNumber).setHitsPerPage(pageSize));\n</code></pre>\n<p>But after a particular page i got an error as shown below</p>\n<pre><code>    {&quot;message&quot;:&quot;Use of deprecated `page`/`offset` parameter in browse:\n     you should pass the `cursor` parameter to fetch next page.\n     Please upgrade your api client if necessary&quot;,&quot;status&quot;:400}\n</code></pre>\n<p>Note:\nalgolia shows nbPages: 82, nbHits: 16341</p>\n<p>I have tried changing Algolia version and al, but it is not working. any help is appreciated</p>\n"},{"tags":["java","cucumber"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661235191,"creation_date":1661169746,"answer_id":73444816,"question_id":73443388,"body_markdown":"You cannot mix up Cucumber expressions (`{state}` is a syntax of Cucumber expressions) and regular expressions (which are detected by Cucumber by locating leading `^` and trailing `$`).\r\n\r\nSo you have to make your choice. Whether to use Cucumber or Regular expressions.\r\n\r\n**P.S.** - With Cucumber expression the following would work for you:\r\n\r\n`@And(&quot;I {state} identity provider with name {string}&quot;)`","title":"Cucumber doesn&#39;t find Step Definition when passing a Java Enum type","body":"<p>You cannot mix up Cucumber expressions (<code>{state}</code> is a syntax of Cucumber expressions) and regular expressions (which are detected by Cucumber by locating leading <code>^</code> and trailing <code>$</code>).</p>\n<p>So you have to make your choice. Whether to use Cucumber or Regular expressions.</p>\n<p><strong>P.S.</strong> - With Cucumber expression the following would work for you:</p>\n<p><code>@And(&quot;I {state} identity provider with name {string}&quot;)</code></p>\n"}],"owner":{"display_name":"user17953271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661235191,"creation_date":1661162796,"question_id":73443388,"body_markdown":"I followed the example in this README: https://github.com/cucumber/cucumber-expressions#readme , but I must be doing something wrong. The scenario file doesn&#39;t find the method in the step definitions.\r\n\r\nLine in scenario file:\r\n\r\n    And I disable identity provider with name &quot;identity provider name&quot;\r\n\r\nStep definition and parametertype configuration in step definition file:\r\n\r\n      @ParameterType(&quot;enable|disable&quot;)\r\n      public State state(String name){\r\n        return State.valueOf(name);\r\n      }        \r\n    \r\n      @And(&quot;^I {state} identity provider with name \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n      public void I_change_enabled_status_of_identity_provider_with_name(State state, final String idpName) {\r\n             \r\n\r\n          METHOD BODY\r\n\r\n\r\n      }","title":"Cucumber doesn&#39;t find Step Definition when passing a Java Enum type","body":"<p>I followed the example in this README: <a href=\"https://github.com/cucumber/cucumber-expressions#readme\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-expressions#readme</a> , but I must be doing something wrong. The scenario file doesn't find the method in the step definitions.</p>\n<p>Line in scenario file:</p>\n<pre><code>And I disable identity provider with name &quot;identity provider name&quot;\n</code></pre>\n<p>Step definition and parametertype configuration in step definition file:</p>\n<pre><code>  @ParameterType(&quot;enable|disable&quot;)\n  public State state(String name){\n    return State.valueOf(name);\n  }        \n\n  @And(&quot;^I {state} identity provider with name \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\n  public void I_change_enabled_status_of_identity_provider_with_name(State state, final String idpName) {\n         \n\n      METHOD BODY\n\n\n  }\n</code></pre>\n"},{"tags":["java","memory-management","heap-memory","stack-memory"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1661228937,"post_id":73453100,"comment_id":129715235,"body_markdown":"There is no value &quot;a&quot;. It is just an offset into the stack (if `a` is a local variable) or into the object&#39;s memory (if `a` is a field.) See https://stackoverflow.com/questions/20441256/contents-of-stack-frame-in-java. &quot;none of them are clear to me&quot; -- in what way? You&#39;ll need to ask specific questions.","body":"There is no value &quot;a&quot;. It is just an offset into the stack (if <code>a</code> is a local variable) or into the object&#39;s memory (if <code>a</code> is a field.) See <a href=\"https://stackoverflow.com/questions/20441256/contents-of-stack-frame-in-java\" title=\"contents of stack frame in java\">stackoverflow.com/questions/20441256/&hellip;</a>. &quot;none of them are clear to me&quot; -- in what way? You&#39;ll need to ask specific questions."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1661229115,"post_id":73453100,"comment_id":129715263,"body_markdown":"And primitive valuse can be stored in the heap, when they are a field of a class, or an array element.","body":"And primitive valuse can be stored in the heap, when they are a field of a class, or an array element."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1661229134,"post_id":73453100,"comment_id":129715268,"body_markdown":"Not all primitives are stored on the stack.  If a primitive is part of an object, it will be on the heap with the rest of the object.","body":"Not all primitives are stored on the stack.  If a primitive is part of an object, it will be on the heap with the rest of the object."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1661229238,"post_id":73453100,"comment_id":129715290,"body_markdown":"Also, the name of the variable (`&quot;a&quot;` in your case) isn&#39;t really part of the executing program; so I wouldn&#39;t expect it to get stored in any place that&#39;s accessible to the runtime.","body":"Also, the name of the variable (<code>&quot;a&quot;</code> in your case) isn&#39;t really part of the executing program; so I wouldn&#39;t expect it to get stored in any place that&#39;s accessible to the runtime."},{"owner":{"account_id":21459145,"reputation":77,"user_id":15810251,"display_name":"CypherZ"},"score":0,"creation_date":1661231648,"post_id":73453100,"comment_id":129715699,"body_markdown":"@tgdavies I didn&#39;t go into specifics regarding the last part, cause that  wasn&#39;t my question. My question is whats above that. I just asked you guys to suggest some resources, so I can better understand the topic.","body":"@tgdavies I didn&#39;t go into specifics regarding the last part, cause that  wasn&#39;t my question. My question is whats above that. I just asked you guys to suggest some resources, so I can better understand the topic."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1661231769,"post_id":73453100,"comment_id":129715718,"body_markdown":"It&#39;s unclear whether your declaration is a local variable or a field. If it&#39;s a field you can find the name in the class file: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.5","body":"It&#39;s unclear whether your declaration is a local variable or a field. If it&#39;s a field you can find the name in the class file: <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-&zwnj;&#8203;4.5</a>"},{"owner":{"account_id":21459145,"reputation":77,"user_id":15810251,"display_name":"CypherZ"},"score":0,"creation_date":1661231974,"post_id":73453100,"comment_id":129715760,"body_markdown":"@tgdavies What if its a local variable? The reference variable &quot;a&quot; has to get stored somewhere right? Where does it get stored?","body":"@tgdavies What if its a local variable? The reference variable &quot;a&quot; has to get stored somewhere right? Where does it get stored?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1661232104,"post_id":73453100,"comment_id":129715774,"body_markdown":"The compiler just knows that that value is at some particular offset on the stack, and uses that offset when the variable is accessed.","body":"The compiler just knows that that value is at some particular offset on the stack, and uses that offset when the variable is accessed."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1661232203,"post_id":73453100,"comment_id":129715794,"body_markdown":"i.e. https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.iload (although I&#39;m not certain what you&#39;re thinking of when you say &quot;reference variable&quot;)","body":"i.e. <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.iload\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/&hellip;</a> (although I&#39;m not certain what you&#39;re thinking of when you say &quot;reference variable&quot;)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661232310,"post_id":73453100,"comment_id":129715814,"body_markdown":"There is no &#39;reference variable `a`&#39;. `a` *is* an *integer* variable. The compiler knows its offset in the current stack frame if local, or where it is in the containing object if on the heap. Your question doesn&#39;t make sense.","body":"There is no &#39;reference variable <code>a</code>&#39;. <code>a</code> <i>is</i> an <i>integer</i> variable. The compiler knows its offset in the current stack frame if local, or where it is in the containing object if on the heap. Your question doesn&#39;t make sense."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661235086,"creation_date":1661229232,"answer_id":73453165,"question_id":73453100,"body_markdown":"So it&#39;s not correct say that primitives are stored (only) on the stack and references stored (only) on the heap.  First, some code:\r\n\r\n    public static main( String args... ) {\r\n      Widget w = new Widget();\r\n    }\r\n    \r\n    class Widget {\r\n       private int i = 10;\r\n       private String name = &quot;FooBar&quot;;\r\n    }\r\n\r\nSo in `main`, the reference `w` is stored (canonically) on the stack.  The **instance** the reference points to is stored on the heap.\r\n\r\nWithin that instance, there&#39;s a variable `i` that&#39;s stored on the heap, because it&#39;s part of the `Widget` instance.  There&#39;s also a reference to another object, `name` that points to a second object instance `&quot;FooBar&quot;` that is also stored on the heap.\r\n\r\nSo here is an example of a reference `w` on the stack, and a reference `name` on the heap.  They can be stored in either location.\r\n\r\nDitto with primitives. I think you understand how primitives get stored on the stack.  So I had `Widget` store a primitive on the heap to show how that works.\r\n\r\n(All that said, the &quot;stack&quot; can be kept on the heap, if the compiler or JVM/OS really want to, and small objects can be allocated on the stack for speed, so it&#39;s really a bit more complicated.  But ignoring tricky stuff, normally we say that the stack and the heap work like above.)\r\n\r\n**Also please suggest some good resources to learn memory management in Java.**  Take a systems programming course or two at your university (typically one on compilers/linkers and one on &quot;how to write an operating system&quot;).  If you&#39;re not at a university, go to university.  Some stuff they don&#39;t teach by reading some random Wordpress blog.\r\n\r\n**where does the value &quot;a&quot; get stored?** &quot;a&quot; is just a label used by the source text, it gets effectively erased at runtime.  The compiler (the runtime byte codes or assembly language) just uses a number to refer to the variable, that number is just the offset (or position) on the stack.  It&#39;s just like accessing an array of numbers.  The stack is like an int array, `stack = new int[100]` or whatever, and each local variable is just a number, an offset, into that array.  This includes references too, which are stored at an offset in the stack and themselves just &quot;point&quot; to heap memory by being the address (as a number) of the location in memory of the object.  It gets more complicated because the stack can also have bytes and char (16 bits) and long, but the CPU and assembly language can handle that fine.","title":"Where does the reference to the primitive variable get stored in java?","body":"<p>So it's not correct say that primitives are stored (only) on the stack and references stored (only) on the heap.  First, some code:</p>\n<pre><code>public static main( String args... ) {\n  Widget w = new Widget();\n}\n\nclass Widget {\n   private int i = 10;\n   private String name = &quot;FooBar&quot;;\n}\n</code></pre>\n<p>So in <code>main</code>, the reference <code>w</code> is stored (canonically) on the stack.  The <strong>instance</strong> the reference points to is stored on the heap.</p>\n<p>Within that instance, there's a variable <code>i</code> that's stored on the heap, because it's part of the <code>Widget</code> instance.  There's also a reference to another object, <code>name</code> that points to a second object instance <code>&quot;FooBar&quot;</code> that is also stored on the heap.</p>\n<p>So here is an example of a reference <code>w</code> on the stack, and a reference <code>name</code> on the heap.  They can be stored in either location.</p>\n<p>Ditto with primitives. I think you understand how primitives get stored on the stack.  So I had <code>Widget</code> store a primitive on the heap to show how that works.</p>\n<p>(All that said, the &quot;stack&quot; can be kept on the heap, if the compiler or JVM/OS really want to, and small objects can be allocated on the stack for speed, so it's really a bit more complicated.  But ignoring tricky stuff, normally we say that the stack and the heap work like above.)</p>\n<p><strong>Also please suggest some good resources to learn memory management in Java.</strong>  Take a systems programming course or two at your university (typically one on compilers/linkers and one on &quot;how to write an operating system&quot;).  If you're not at a university, go to university.  Some stuff they don't teach by reading some random Wordpress blog.</p>\n<p><strong>where does the value &quot;a&quot; get stored?</strong> &quot;a&quot; is just a label used by the source text, it gets effectively erased at runtime.  The compiler (the runtime byte codes or assembly language) just uses a number to refer to the variable, that number is just the offset (or position) on the stack.  It's just like accessing an array of numbers.  The stack is like an int array, <code>stack = new int[100]</code> or whatever, and each local variable is just a number, an offset, into that array.  This includes references too, which are stored at an offset in the stack and themselves just &quot;point&quot; to heap memory by being the address (as a number) of the location in memory of the object.  It gets more complicated because the stack can also have bytes and char (16 bits) and long, but the CPU and assembly language can handle that fine.</p>\n"}],"owner":{"account_id":21459145,"reputation":77,"user_id":15810251,"display_name":"CypherZ"},"comment_count":10,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1661263803,"answer_count":1,"score":-3,"last_activity_date":1661235086,"creation_date":1661228374,"question_id":73453100,"body_markdown":"I know that primitive values are stored in stack and non primitive values are stored in heap. As far as I know the stack also contains reference to the non primitive values. Now my doubt is where do we store reference to the primitives? i.e, for example,\r\n\r\n    int a=10;\r\n\r\nNow the value 10 gets stored in stack as far as I know, but my question is where does the value `a` get stored?\r\n\r\nAlso please suggest some good resources to learn memory management in Java. I&#39;ve read tons of stuff online, but none of them are clear to me. ","title":"Where does the reference to the primitive variable get stored in java?","body":"<p>I know that primitive values are stored in stack and non primitive values are stored in heap. As far as I know the stack also contains reference to the non primitive values. Now my doubt is where do we store reference to the primitives? i.e, for example,</p>\n<pre><code>int a=10;\n</code></pre>\n<p>Now the value 10 gets stored in stack as far as I know, but my question is where does the value <code>a</code> get stored?</p>\n<p>Also please suggest some good resources to learn memory management in Java. I've read tons of stuff online, but none of them are clear to me.</p>\n"},{"tags":["java","hibernate","hibernate-mapping","dto"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661236324,"post_id":73453363,"comment_id":129716679,"body_markdown":"Well I think you should create a Dto also for `OrderLineId` The entities returned by the `EntityManager` are attached to the `PersistenceContext`. I’m not sure but if you don’t make a Dto for `OrderLineId` It will refer to the id in the `OrderLine` Entity and if you set something new in that object you could fire an update","body":"Well I think you should create a Dto also for <code>OrderLineId</code> The entities returned by the <code>EntityManager</code> are attached to the <code>PersistenceContext</code>. I’m not sure but if you don’t make a Dto for <code>OrderLineId</code> It will refer to the id in the <code>OrderLine</code> Entity and if you set something new in that object you could fire an update"},{"owner":{"account_id":25707090,"reputation":41,"user_id":19466202,"display_name":"DrunkDragon"},"score":0,"creation_date":1661241397,"post_id":73453363,"comment_id":129718221,"body_markdown":"Did&#39;nt understood. Could you please explain more on your front?","body":"Did&#39;nt understood. Could you please explain more on your front?"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661251609,"post_id":73453363,"comment_id":129721908,"body_markdown":"I mean if you make a `SomeEntity entity = entityManager.find(SomeEntity.class, id); entity.setField(someValue);` this will fire a select and then an update as explained [here](https://stackoverflow.com/questions/1607532/when-to-use-entitymanager-find-vs-entitymanager-getreference-with-jpa) so if you put in your Dto an instance of `OrderLineId` you will have the same reference in your `OrderLine` Entity and in your Dto. So if by mistake you set something in the `OrderLineId` you will change the reference that is also attached to the `PersistentContext`. You can make a test to see what happens","body":"I mean if you make a <code>SomeEntity entity = entityManager.find(SomeEntity.class, id); entity.setField(someValue);</code> this will fire a select and then an update as explained <a href=\"https://stackoverflow.com/questions/1607532/when-to-use-entitymanager-find-vs-entitymanager-getreference-with-jpa\">here</a> so if you put in your Dto an instance of <code>OrderLineId</code> you will have the same reference in your <code>OrderLine</code> Entity and in your Dto. So if by mistake you set something in the <code>OrderLineId</code> you will change the reference that is also attached to the <code>PersistentContext</code>. You can make a test to see what happens"}],"owner":{"account_id":25707090,"reputation":41,"user_id":19466202,"display_name":"DrunkDragon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661234947,"creation_date":1661230936,"question_id":73453363,"body_markdown":"My entity classes:\r\n\r\nOrder.java\r\n\r\n```\r\npublic class Order {\r\n    private int id;\r\n    private Set&lt;OrderLine&gt; lines = new HashSet&lt;OrderLine&gt;();\r\n   // Setters &amp; Getters\r\n}\r\n```\r\nOrderLine.java\r\n```\r\npublic class OrderLine {\r\n    private OrderLineId id;\r\n    private String name;\r\n    private Order order;\r\n   // Setters &amp; Getters\r\n}\r\n```\r\nOrderLineId.java\r\n```\r\npublic class OrderLineId implements Serializable{\r\n    private int lineId;\r\n    private int orderId;\r\n    private int customerId;\r\n   // Setters &amp; Getters\r\n}\r\n````\r\nMy mapping file:\r\n```\r\n&lt;hibernate-mapping&gt;\r\n   &lt;class name=&quot;Order&quot; table=&quot;TEST_Order&quot;&gt;\r\n      &lt;id name=&quot;id&quot; type=&quot;int&quot; column=&quot;id&quot;&gt;\r\n         &lt;generator class=&quot;native&quot;/&gt;\r\n      &lt;/id&gt;\r\n      &lt;set name=&quot;lines&quot; cascade=&quot;all&quot;&gt;\r\n         &lt;key column=&quot;orderId&quot;/&gt;\r\n         &lt;one-to-many class=&quot;OrderLine&quot;/&gt;\r\n      &lt;/set&gt;\r\n   &lt;/class&gt;\r\n\r\n&lt;class name=&quot;OrderLine&quot; table=&quot;TEST_OrderLine&quot;&gt;\r\n    &lt;composite-id name=&quot;id&quot; class=&quot;OrderLineId&quot;&gt;\r\n        &lt;key-property name=&quot;lineId&quot;/&gt;\r\n        &lt;key-property name=&quot;orderId&quot;/&gt;\r\n        &lt;key-property name=&quot;customerId&quot;/&gt;\r\n    &lt;/composite-id&gt;\r\n\r\n    &lt;property name=&quot;name&quot;/&gt;\r\n\r\n    &lt;many-to-one name=&quot;order&quot; class=&quot;Order&quot;\r\n            insert=&quot;false&quot; update=&quot;false&quot;&gt;\r\n        &lt;column name=&quot;orderId&quot;/&gt;\r\n    &lt;/many-to-one&gt;\r\n&lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\n\r\nI have created Separate DTO&#39;s for **Order** and **OrderLine**. Do I need to create a separate DTO for **OrderLineId** (which is a composite Identifier class as mentioned above) as well ?","title":"Is it required to create a DTO for UI for composite identifier class also in Hibernate?","body":"<p>My entity classes:</p>\n<p>Order.java</p>\n<pre><code>public class Order {\n    private int id;\n    private Set&lt;OrderLine&gt; lines = new HashSet&lt;OrderLine&gt;();\n   // Setters &amp; Getters\n}\n</code></pre>\n<p>OrderLine.java</p>\n<pre><code>public class OrderLine {\n    private OrderLineId id;\n    private String name;\n    private Order order;\n   // Setters &amp; Getters\n}\n</code></pre>\n<p>OrderLineId.java</p>\n<pre><code>public class OrderLineId implements Serializable{\n    private int lineId;\n    private int orderId;\n    private int customerId;\n   // Setters &amp; Getters\n}\n</code></pre>\n<p>My mapping file:</p>\n<pre><code>&lt;hibernate-mapping&gt;\n   &lt;class name=&quot;Order&quot; table=&quot;TEST_Order&quot;&gt;\n      &lt;id name=&quot;id&quot; type=&quot;int&quot; column=&quot;id&quot;&gt;\n         &lt;generator class=&quot;native&quot;/&gt;\n      &lt;/id&gt;\n      &lt;set name=&quot;lines&quot; cascade=&quot;all&quot;&gt;\n         &lt;key column=&quot;orderId&quot;/&gt;\n         &lt;one-to-many class=&quot;OrderLine&quot;/&gt;\n      &lt;/set&gt;\n   &lt;/class&gt;\n\n&lt;class name=&quot;OrderLine&quot; table=&quot;TEST_OrderLine&quot;&gt;\n    &lt;composite-id name=&quot;id&quot; class=&quot;OrderLineId&quot;&gt;\n        &lt;key-property name=&quot;lineId&quot;/&gt;\n        &lt;key-property name=&quot;orderId&quot;/&gt;\n        &lt;key-property name=&quot;customerId&quot;/&gt;\n    &lt;/composite-id&gt;\n\n    &lt;property name=&quot;name&quot;/&gt;\n\n    &lt;many-to-one name=&quot;order&quot; class=&quot;Order&quot;\n            insert=&quot;false&quot; update=&quot;false&quot;&gt;\n        &lt;column name=&quot;orderId&quot;/&gt;\n    &lt;/many-to-one&gt;\n&lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>I have created Separate DTO's for <strong>Order</strong> and <strong>OrderLine</strong>. Do I need to create a separate DTO for <strong>OrderLineId</strong> (which is a composite Identifier class as mentioned above) as well ?</p>\n"},{"tags":["java","android","android-fragments","fragment","navigation-drawer"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661201132,"post_id":73445083,"comment_id":129711399,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":15906876,"reputation":53,"user_id":11477844,"display_name":"Zudy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661234669,"creation_date":1661234669,"answer_id":73453848,"question_id":73445083,"body_markdown":"That is a very common task and Google introduced the Navigation component for such tasks. See https://developer.android.com/guide/navigation/navigation-getting-started for reference. \r\n\r\nSome reference code (you also need the navigation graph): \r\n\r\n**In MainActivity**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n       @Override\r\n       protected void onCreate(Bundle savedInstanceState) {\r\n          super.onCreate(savedInstanceState);\r\n          setContentView(R.layout.activity_main);\r\n          NavController navController = Navigation.findNavController(this, \r\n          R.id.nav_host_fragment);\r\n        }\r\n    }\r\n\r\n**In MainActivity XML:**\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_host_fragment&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/bottomNavigationBorder&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:navGraph=&quot;@navigation/nav_graph&quot; /&gt;\r\n\r\n\r\n**In &quot;onViewCreated&quot; of the navigation Fragment**\r\n\r\n    NavController navController = Navigation.findNavController(view);\r\n    btnAction.setOnClickListener(new View.OnClickListener() {\r\n       @Override\r\n       public void onClick(View v) {\r\n          Bundle bundle = new Bundle();\r\n          bundle.putInt(&quot;ACTION&quot;, &quot;1&quot;);\r\n          navController.navigate(R.id.action_mainFragment_to_nextFragment, bundle);\r\n       }\r\n    });\r\n\r\n\r\nThe function navController.navigate() can one or two arguments. The bundle is optional and is used if you want to send information to the target fragment. The &quot;R.id.....&quot; attribute is defined in the navigation graph and describes the link between two fragments / activities. \r\n\r\nHope this helps. ","title":"Navigate fragments from another fragment like like Navigation links","body":"<p>That is a very common task and Google introduced the Navigation component for such tasks. See <a href=\"https://developer.android.com/guide/navigation/navigation-getting-started\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/navigation/navigation-getting-started</a> for reference.</p>\n<p>Some reference code (you also need the navigation graph):</p>\n<p><strong>In MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.activity_main);\n      NavController navController = Navigation.findNavController(this, \n      R.id.nav_host_fragment);\n    }\n}\n</code></pre>\n<p><strong>In MainActivity XML:</strong></p>\n<pre><code>&lt;fragment\n    android:id=&quot;@+id/nav_host_fragment&quot;\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:defaultNavHost=&quot;true&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/bottomNavigationBorder&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:navGraph=&quot;@navigation/nav_graph&quot; /&gt;\n</code></pre>\n<p><strong>In &quot;onViewCreated&quot; of the navigation Fragment</strong></p>\n<pre><code>NavController navController = Navigation.findNavController(view);\nbtnAction.setOnClickListener(new View.OnClickListener() {\n   @Override\n   public void onClick(View v) {\n      Bundle bundle = new Bundle();\n      bundle.putInt(&quot;ACTION&quot;, &quot;1&quot;);\n      navController.navigate(R.id.action_mainFragment_to_nextFragment, bundle);\n   }\n});\n</code></pre>\n<p>The function navController.navigate() can one or two arguments. The bundle is optional and is used if you want to send information to the target fragment. The &quot;R.id.....&quot; attribute is defined in the navigation graph and describes the link between two fragments / activities.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":24783102,"reputation":1,"user_id":18666471,"display_name":"Md. Abdulla Heal Masud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661234669,"creation_date":1661170951,"question_id":73445083,"body_markdown":"In the application, I have:\r\n\r\n1. One main activity\r\n2. 4 fragments\r\n\r\n2.a. Home fragment\r\n2.b. Data fragment\r\n2.c. Picture fragment\r\n2.d. Link fragment\r\n\r\n\r\nSo inside of the home fragment, there are 3 pictures which links to Data, picture and link fragment. There is a NavigationView which also links to the fragment.\r\n\r\nNow, I want to add these links to each picture so it can work as a Navigation links and forwards to the same fragment. How to achieve that?\r\n\r\nCurrently, I am using setOnClickListener inside home fragment to forward each fragment but I believe there are better ways to do that? This is because when i use setOnClickListener this does not update the current nav link. \r\n\r\n[Layout][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H0CPF.png","title":"Navigate fragments from another fragment like like Navigation links","body":"<p>In the application, I have:</p>\n<ol>\n<li>One main activity</li>\n<li>4 fragments</li>\n</ol>\n<p>2.a. Home fragment\n2.b. Data fragment\n2.c. Picture fragment\n2.d. Link fragment</p>\n<p>So inside of the home fragment, there are 3 pictures which links to Data, picture and link fragment. There is a NavigationView which also links to the fragment.</p>\n<p>Now, I want to add these links to each picture so it can work as a Navigation links and forwards to the same fragment. How to achieve that?</p>\n<p>Currently, I am using setOnClickListener inside home fragment to forward each fragment but I believe there are better ways to do that? This is because when i use setOnClickListener this does not update the current nav link.</p>\n<p><a href=\"https://i.stack.imgur.com/H0CPF.png\" rel=\"nofollow noreferrer\">Layout</a></p>\n"},{"tags":["java","android","unity-game-engine"],"answers":[{"tags":[],"owner":{"account_id":17094848,"reputation":41,"user_id":12370066,"display_name":"spykeh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606370289,"creation_date":1606362560,"answer_id":65015852,"question_id":61621876,"body_markdown":"In my case the problem was that Mapbox SDK already included this file. I fixed it by removing all **.aar** files from `\\Assets\\Mapbox\\Core\\Plugins\\Android`","title":"Failed to transform artifact &#39;support-v4-25.1.0.aar (:support-v4-25.1.0:)&#39; to match attributes {artifactType=jar}","body":"<p>In my case the problem was that Mapbox SDK already included this file. I fixed it by removing all <strong>.aar</strong> files from <code>\\Assets\\Mapbox\\Core\\Plugins\\Android</code></p>\n"},{"tags":[],"owner":{"account_id":18303214,"reputation":11,"user_id":13327522,"display_name":"Vinay Ambapkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661234653,"creation_date":1660824183,"answer_id":73402768,"question_id":61621876,"body_markdown":"Close Android studio then\r\n\r\n    1)Go to C:Users:&lt;OrgName&gt;: .android - delete &#39;cache&#39; folder.\r\n    2) Go to C:Users:&lt;OrgName&gt;: .gradle- delete &#39;caches&#39;, &#39;daemon&#39; and wrapper folder.\r\n\r\nthen restart Android studio. It should work.\r\n","title":"Failed to transform artifact &#39;support-v4-25.1.0.aar (:support-v4-25.1.0:)&#39; to match attributes {artifactType=jar}","body":"<p>Close Android studio then</p>\n<pre><code>1)Go to C:Users:&lt;OrgName&gt;: .android - delete 'cache' folder.\n2) Go to C:Users:&lt;OrgName&gt;: .gradle- delete 'caches', 'daemon' and wrapper folder.\n</code></pre>\n<p>then restart Android studio. It should work.</p>\n"}],"owner":{"account_id":18499507,"reputation":11,"user_id":13477155,"display_name":"abdel zaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661234653,"creation_date":1588708475,"question_id":61621876,"body_markdown":"I built my unity project to android but it has some error on gradle, so I decided to export it to Android studio\r\nbut when I export it I get the following error :\r\n\r\n        ERROR: Unable to resolve dependency for &#39;:unityLibrary@debug/compileClasspath&#39;: Failed to transform artifact &#39;support-v4-25.1.0.aar (:support-v4-25.1.0:)&#39; to match attributes {artifactType=jar}.\r\n    Show Details\r\n    Affected Modules: unityLibrary\r\n\r\nthis is my build.gradle for unityLibrary\r\n\r\n    apply plugin: &#39;com.android.library&#39;\r\n    \r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation(name: &#39;androidx.arch.core.core-runtime-2.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.asynclayoutinflater.asynclayoutinflater-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.coordinatorlayout.coordinatorlayout-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.core.core-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.cursoradapter.cursoradapter-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.customview.customview-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.documentfile.documentfile-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.drawerlayout.drawerlayout-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.fragment.fragment-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.interpolator.interpolator-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.legacy.legacy-support-core-ui-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.legacy.legacy-support-core-utils-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.lifecycle.lifecycle-livedata-2.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.lifecycle.lifecycle-livedata-core-2.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.lifecycle.lifecycle-runtime-2.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.lifecycle.lifecycle-viewmodel-2.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.loader.loader-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.localbroadcastmanager.localbroadcastmanager-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.print.print-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.slidingpanelayout.slidingpanelayout-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.swiperefreshlayout.swiperefreshlayout-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.versionedparcelable.versionedparcelable-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;androidx.viewpager.viewpager-1.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;animated-vector-drawable-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;appcompat-v7-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;arcore_client&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-ads-identifier-17.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-base-17.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-basement-17.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-measurement-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-measurement-api-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-measurement-base-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-measurement-impl-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-measurement-sdk-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-measurement-sdk-api-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-stats-17.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.android.gms.play-services-tasks-17.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-analytics-17.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-app-unity-6.14.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-auth-19.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-auth-interop-19.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-auth-unity-6.14.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-common-19.3.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-components-16.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-database-19.2.1&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-database-collection-17.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-database-unity-6.14.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-iid-20.0.2&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-iid-interop-17.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-measurement-connector-18.0.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-storage-19.1.1&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.google.firebase.firebase-storage-unity-6.14.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;com.mapbox.android.unity-debug&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;mapbox-android-telemetry-2-1-0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;support-compat-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;support-core-ui-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;support-core-utils-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;support-media-compat-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;support-v4-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;support-vector-drawable-25.1.0&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;unityandroidpermissions&#39;, ext:&#39;aar&#39;)\r\n        implementation(name: &#39;UnityARCore&#39;, ext:&#39;aar&#39;)\r\n        implementation project(&#39;Firebase&#39;)\r\n    }\r\n    \r\n    android {\r\n        compileSdkVersion 28\r\n        buildToolsVersion &#39;28.0.3&#39;\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n        defaultConfig {\r\n            minSdkVersion 24\r\n            targetSdkVersion 28\r\n            ndk {\r\n                abiFilters &#39;armeabi-v7a&#39;\r\n            }\r\n            versionCode 1\r\n            versionName &#39;0.1&#39;\r\n            consumerProguardFiles &#39;proguard-unity.txt&#39;\r\n        }\r\n    \r\n        lintOptions {\r\n            abortOnError false\r\n        }\r\n    \r\n        aaptOptions {\r\n            ignoreAssetsPattern = &quot;!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~&quot;\r\n        }\r\n    \r\n        packagingOptions {\r\n            doNotStrip &#39;*/armeabi-v7a/*.so&#39;\r\n        }\r\n    }\r\n\r\ngradle.properties :\r\n\r\n    org.gradle.jvmargs=-Xmx4096M\r\n    org.gradle.parallel=true\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\nAndroid studio version : 3.5.\r\nGradle version : 5.4.1.\r\n\r\nI cleaned the project and rebuilt but not works\r\n\r\n\r\n\r\n\r\n\r\n","title":"Failed to transform artifact &#39;support-v4-25.1.0.aar (:support-v4-25.1.0:)&#39; to match attributes {artifactType=jar}","body":"<p>I built my unity project to android but it has some error on gradle, so I decided to export it to Android studio\nbut when I export it I get the following error :</p>\n\n<pre><code>    ERROR: Unable to resolve dependency for ':unityLibrary@debug/compileClasspath': Failed to transform artifact 'support-v4-25.1.0.aar (:support-v4-25.1.0:)' to match attributes {artifactType=jar}.\nShow Details\nAffected Modules: unityLibrary\n</code></pre>\n\n<p>this is my build.gradle for unityLibrary</p>\n\n<pre><code>apply plugin: 'com.android.library'\n\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation(name: 'androidx.arch.core.core-runtime-2.0.0', ext:'aar')\n    implementation(name: 'androidx.asynclayoutinflater.asynclayoutinflater-1.0.0', ext:'aar')\n    implementation(name: 'androidx.coordinatorlayout.coordinatorlayout-1.0.0', ext:'aar')\n    implementation(name: 'androidx.core.core-1.0.0', ext:'aar')\n    implementation(name: 'androidx.cursoradapter.cursoradapter-1.0.0', ext:'aar')\n    implementation(name: 'androidx.customview.customview-1.0.0', ext:'aar')\n    implementation(name: 'androidx.documentfile.documentfile-1.0.0', ext:'aar')\n    implementation(name: 'androidx.drawerlayout.drawerlayout-1.0.0', ext:'aar')\n    implementation(name: 'androidx.fragment.fragment-1.0.0', ext:'aar')\n    implementation(name: 'androidx.interpolator.interpolator-1.0.0', ext:'aar')\n    implementation(name: 'androidx.legacy.legacy-support-core-ui-1.0.0', ext:'aar')\n    implementation(name: 'androidx.legacy.legacy-support-core-utils-1.0.0', ext:'aar')\n    implementation(name: 'androidx.lifecycle.lifecycle-livedata-2.0.0', ext:'aar')\n    implementation(name: 'androidx.lifecycle.lifecycle-livedata-core-2.0.0', ext:'aar')\n    implementation(name: 'androidx.lifecycle.lifecycle-runtime-2.0.0', ext:'aar')\n    implementation(name: 'androidx.lifecycle.lifecycle-viewmodel-2.0.0', ext:'aar')\n    implementation(name: 'androidx.loader.loader-1.0.0', ext:'aar')\n    implementation(name: 'androidx.localbroadcastmanager.localbroadcastmanager-1.0.0', ext:'aar')\n    implementation(name: 'androidx.print.print-1.0.0', ext:'aar')\n    implementation(name: 'androidx.slidingpanelayout.slidingpanelayout-1.0.0', ext:'aar')\n    implementation(name: 'androidx.swiperefreshlayout.swiperefreshlayout-1.0.0', ext:'aar')\n    implementation(name: 'androidx.versionedparcelable.versionedparcelable-1.0.0', ext:'aar')\n    implementation(name: 'androidx.viewpager.viewpager-1.0.0', ext:'aar')\n    implementation(name: 'animated-vector-drawable-25.1.0', ext:'aar')\n    implementation(name: 'appcompat-v7-25.1.0', ext:'aar')\n    implementation(name: 'arcore_client', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-ads-identifier-17.0.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-base-17.1.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-basement-17.0.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-measurement-17.3.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-measurement-api-17.3.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-measurement-base-17.3.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-measurement-impl-17.3.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-measurement-sdk-17.3.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-measurement-sdk-api-17.3.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-stats-17.0.0', ext:'aar')\n    implementation(name: 'com.google.android.gms.play-services-tasks-17.0.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-analytics-17.3.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-app-unity-6.14.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-auth-19.3.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-auth-interop-19.0.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-auth-unity-6.14.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-common-19.3.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-components-16.0.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-database-19.2.1', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-database-collection-17.0.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-database-unity-6.14.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-iid-20.0.2', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-iid-interop-17.0.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-measurement-connector-18.0.0', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-storage-19.1.1', ext:'aar')\n    implementation(name: 'com.google.firebase.firebase-storage-unity-6.14.0', ext:'aar')\n    implementation(name: 'com.mapbox.android.unity-debug', ext:'aar')\n    implementation(name: 'mapbox-android-telemetry-2-1-0', ext:'aar')\n    implementation(name: 'support-compat-25.1.0', ext:'aar')\n    implementation(name: 'support-core-ui-25.1.0', ext:'aar')\n    implementation(name: 'support-core-utils-25.1.0', ext:'aar')\n    implementation(name: 'support-media-compat-25.1.0', ext:'aar')\n    implementation(name: 'support-v4-25.1.0', ext:'aar')\n    implementation(name: 'support-vector-drawable-25.1.0', ext:'aar')\n    implementation(name: 'unityandroidpermissions', ext:'aar')\n    implementation(name: 'UnityARCore', ext:'aar')\n    implementation project('Firebase')\n}\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion '28.0.3'\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        minSdkVersion 24\n        targetSdkVersion 28\n        ndk {\n            abiFilters 'armeabi-v7a'\n        }\n        versionCode 1\n        versionName '0.1'\n        consumerProguardFiles 'proguard-unity.txt'\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n\n    aaptOptions {\n        ignoreAssetsPattern = \"!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~\"\n    }\n\n    packagingOptions {\n        doNotStrip '*/armeabi-v7a/*.so'\n    }\n}\n</code></pre>\n\n<p>gradle.properties :</p>\n\n<pre><code>org.gradle.jvmargs=-Xmx4096M\norg.gradle.parallel=true\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n\n<p>Android studio version : 3.5.\nGradle version : 5.4.1.</p>\n\n<p>I cleaned the project and rebuilt but not works</p>\n"},{"tags":["java","macos","keytool"],"comments":[{"owner":{"account_id":5877408,"reputation":2486,"user_id":4627880,"accept_rate":80,"display_name":"JamesD"},"score":0,"creation_date":1531826979,"post_id":39774665,"comment_id":89732030,"body_markdown":"same issue, I am using /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/bin/keytool instead did you get anywher with this ?","body":"same issue, I am using /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/&zwnj;&#8203;Home/bin/keytool instead did you get anywher with this ?"},{"owner":{"account_id":9014473,"reputation":1027,"user_id":7858883,"display_name":"DarkMatter"},"score":0,"creation_date":1608538136,"post_id":39774665,"comment_id":115604546,"body_markdown":"As suggested, try typing the command. Also try without quotation marks around the alias, they shouldn&#39;t be needed. Lastly, I always use the operation -importcert to import a certificate to a keystore (my keytool doesn&#39;t list the operation -import at all).","body":"As suggested, try typing the command. Also try without quotation marks around the alias, they shouldn&#39;t be needed. Lastly, I always use the operation -importcert to import a certificate to a keystore (my keytool doesn&#39;t list the operation -import at all)."}],"answers":[{"tags":[],"owner":{"account_id":2554005,"reputation":4023,"user_id":2216414,"accept_rate":67,"display_name":"Cristian Meneses"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1475164036,"creation_date":1475164036,"answer_id":39774758,"question_id":39774665,"body_markdown":"OSX includes its own certificate and credentials management tool, which name is also `keytool`.\r\n\r\nThe most probable cause is that you are using OSX&#39;s `keytool`  instead of Java `keytool` (as this provides the `-alias` option)\r\n\r\nUse the full path for Java keytool on the command line, which is `JAVA_HOME/bin/keytool`","title":"Keytool giving error for Illegal option: -alias","body":"<p>OSX includes its own certificate and credentials management tool, which name is also <code>keytool</code>.</p>\n\n<p>The most probable cause is that you are using OSX's <code>keytool</code>  instead of Java <code>keytool</code> (as this provides the <code>-alias</code> option)</p>\n\n<p>Use the full path for Java keytool on the command line, which is <code>JAVA_HOME/bin/keytool</code></p>\n"},{"tags":[],"owner":{"account_id":1221292,"reputation":343,"user_id":1187896,"display_name":"M.A.Naseer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502312871,"creation_date":1502312871,"answer_id":45600652,"question_id":39774665,"body_markdown":"Try removing the quotes around the &quot;myappProd&quot; in alias value. \r\n\r\nso the command should be\r\n\r\n    keytool -import -alias myappProd -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_73.jdk/Contents/Home/jre/lib/security/cacerts -file /Users/myuser/Downloads/certs/javaprod.cer ","title":"Keytool giving error for Illegal option: -alias","body":"<p>Try removing the quotes around the \"myappProd\" in alias value. </p>\n\n<p>so the command should be</p>\n\n<pre><code>keytool -import -alias myappProd -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_73.jdk/Contents/Home/jre/lib/security/cacerts -file /Users/myuser/Downloads/certs/javaprod.cer \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3652290,"reputation":2120,"user_id":3044117,"accept_rate":38,"display_name":"Eduardo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1603918985,"creation_date":1603918985,"answer_id":64581251,"question_id":39774665,"body_markdown":"This might sound silly, but was happening also to me.\r\n\r\nI typed the command instead of using copy/paste into terminal, that worked.\r\n\r\nApparently the hyphen was different","title":"Keytool giving error for Illegal option: -alias","body":"<p>This might sound silly, but was happening also to me.</p>\n<p>I typed the command instead of using copy/paste into terminal, that worked.</p>\n<p>Apparently the hyphen was different</p>\n"},{"tags":[],"owner":{"account_id":15513031,"reputation":453,"user_id":11191344,"display_name":"Yoshita Mahajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608536398,"creation_date":1608536037,"answer_id":65388984,"question_id":39774665,"body_markdown":"When you face this issue Keytool giving error for Illegal option: -alias\r\n\r\nTry typing the whole command instead of copy pasting the command in command prompt .You wont face any issue.","title":"Keytool giving error for Illegal option: -alias","body":"<p>When you face this issue Keytool giving error for Illegal option: -alias</p>\n<p>Try typing the whole command instead of copy pasting the command in command prompt .You wont face any issue.</p>\n"},{"tags":[],"owner":{"account_id":20139558,"reputation":27,"user_id":14769736,"display_name":"Fahad Mustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661234514,"creation_date":1660807968,"answer_id":73399093,"question_id":39774665,"body_markdown":"In my case, I had to type the command to resolve the issue. but ignore the first back slash &quot;\\\\&quot; in the statement. \r\n**Instead of**\r\n\r\n    keytool -list -v \\\\\r\n    -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\r\n\r\n**type this**\r\n\r\n    keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore","title":"Keytool giving error for Illegal option: -alias","body":"<p>In my case, I had to type the command to resolve the issue. but ignore the first back slash &quot;\\&quot; in the statement.\n<strong>Instead of</strong></p>\n<pre><code>keytool -list -v \\\\\n-alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\n</code></pre>\n<p><strong>type this</strong></p>\n<pre><code>keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\n</code></pre>\n"}],"owner":{"account_id":78055,"reputation":18996,"user_id":222403,"accept_rate":85,"display_name":"Catfish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21679,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1661234514,"creation_date":1475163779,"question_id":39774665,"body_markdown":"I&#39;m trying to import a certificate to my cacerts file in my java installation.\r\n\r\nThis command seems to give me the error &quot;Illegal option: -alias myappProd&quot;.\r\n\r\n    $ keytool -import -alias&#160;&quot;myappProd&quot; -keystore&#160;/Library/Java/JavaVirtualMachines/jdk1.8.0_73.jdk/Contents/Home/jre/lib/security/cacerts -file&#160;/Users/myuser/Downloads/certs/javaprod.cer \r\n    Illegal option:  -alias&#160;myappProd\r\n\r\nHow can I get past this issue?\r\n","title":"Keytool giving error for Illegal option: -alias","body":"<p>I'm trying to import a certificate to my cacerts file in my java installation.</p>\n\n<p>This command seems to give me the error \"Illegal option: -alias myappProd\".</p>\n\n<pre><code>$ keytool -import -alias \"myappProd\" -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_73.jdk/Contents/Home/jre/lib/security/cacerts -file /Users/myuser/Downloads/certs/javaprod.cer \nIllegal option:  -alias myappProd\n</code></pre>\n\n<p>How can I get past this issue?</p>\n"},{"tags":["java","email","selenium-webdriver","gmail-imap"],"comments":[{"owner":{"account_id":22997491,"reputation":63,"user_id":17122008,"display_name":"jalcala"},"score":0,"creation_date":1655332595,"post_id":72632604,"comment_id":128310808,"body_markdown":"Does this answer your question? [Is there a work around google disabling &quot;Less secure apps&quot;?](https://stackoverflow.com/questions/72480275/is-there-a-work-around-google-disabling-less-secure-apps)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/72480275/is-there-a-work-around-google-disabling-less-secure-apps\">Is there a work around google disabling &quot;Less secure apps&quot;?</a>"}],"answers":[{"tags":[],"owner":{"account_id":22997491,"reputation":63,"user_id":17122008,"display_name":"jalcala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655305873,"creation_date":1655305873,"answer_id":72633811,"question_id":72632604,"body_markdown":"You have to use a different authentication method. Either OAuth2 or an [app password][1]. See [this question][2] which this is likely a duplicate of. \r\n\r\n\r\n  [1]: https://support.google.com/accounts/answer/185833?hl=en\r\n  [2]: https://stackoverflow.com/questions/72480275/is-there-a-work-around-google-disabling-less-secure-apps","title":"I am not able to read email content using javax mail imap because less secure apps is no longer available now as google declares on 30th May 2022","body":"<p>You have to use a different authentication method. Either OAuth2 or an <a href=\"https://support.google.com/accounts/answer/185833?hl=en\" rel=\"nofollow noreferrer\">app password</a>. See <a href=\"https://stackoverflow.com/questions/72480275/is-there-a-work-around-google-disabling-less-secure-apps\">this question</a> which this is likely a duplicate of.</p>\n"},{"tags":[],"owner":{"account_id":2285959,"reputation":335,"user_id":3392152,"accept_rate":50,"display_name":"Varun Arya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661234087,"creation_date":1661234087,"answer_id":73453753,"question_id":72632604,"body_markdown":"You have to Create &amp; use App Passwords\r\n\r\nGo to your Google [Account][1].\r\nSelect Security.\r\nUnder &quot;Signing in to Google,&quot; select App Passwords. You may need to sign in. If you don’t have this option or 2-Step Verification is not set up for your account.\r\n\r\nAt the bottom, choose Select app and choose the app you using and then Select device and choose the device you’re using and then Generate.\r\nFollow the instructions to enter the App Password. The App Password is the 16-character code in the yellow bar on your device. Clink on Done.\r\n\r\nIf you are getting cert error try this :\r\n\r\n    \r\n    String certificatesTrustStorePath = &quot;C:\\\\jdk-17.0.2.8-hotspot\\\\lib\\\\security\\\\security\\\\cacerts&quot;;\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, certificatesTrustStorePath);\r\n\r\nIf you are getting TTL/SSL error try this:\r\n\r\n    System.setProperty(&quot;mail.pop3s.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n    System.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\r\n  [1]: https://myaccount.google.com/","title":"I am not able to read email content using javax mail imap because less secure apps is no longer available now as google declares on 30th May 2022","body":"<p>You have to Create &amp; use App Passwords</p>\n<p>Go to your Google <a href=\"https://myaccount.google.com/\" rel=\"nofollow noreferrer\">Account</a>.\nSelect Security.\nUnder &quot;Signing in to Google,&quot; select App Passwords. You may need to sign in. If you don’t have this option or 2-Step Verification is not set up for your account.</p>\n<p>At the bottom, choose Select app and choose the app you using and then Select device and choose the device you’re using and then Generate.\nFollow the instructions to enter the App Password. The App Password is the 16-character code in the yellow bar on your device. Clink on Done.</p>\n<p>If you are getting cert error try this :</p>\n<pre><code>String certificatesTrustStorePath = &quot;C:\\\\jdk-17.0.2.8-hotspot\\\\lib\\\\security\\\\security\\\\cacerts&quot;;\nSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, certificatesTrustStorePath);\n</code></pre>\n<p>If you are getting TTL/SSL error try this:</p>\n<pre><code>System.setProperty(&quot;mail.pop3s.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\nSystem.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n</code></pre>\n"}],"owner":{"account_id":25562882,"reputation":3,"user_id":19345223,"display_name":"Neha Goyal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":847,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73453753,"answer_count":2,"score":0,"last_activity_date":1661234087,"creation_date":1655300712,"question_id":72632604,"body_markdown":"*Error which i faced*\r\ninternal.qaauto.framework.exceptions.EmailDriverException: javax.mail.AuthenticationFailedException: [AUTHENTICATIONFAILED] Invalid credentials (Failure)\r\n\r\n\tat internal.qaauto.framework.drivers.email.ImapsEmailDriver.connect(ImapsEmailDriver.java:55)\r\n\tat certainwebapptests.CreateSubAccount.setUp(CreateSubAccount.java:53)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)\r\n\tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)\r\n\tat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:782)\r\n\tat org.testng.TestRunner.run(TestRunner.java:632)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:268)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\r\n\tat org.testng.TestNG.run(TestNG.java:1064)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\nCaused by: javax.mail.AuthenticationFailedException: [AUTHENTICATIONFAILED] Invalid credentials (Failure)\r\n\tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:661)\r\n\tat javax.mail.Service.connect(Service.java:295)\r\n\tat internal.qaauto.framework.drivers.email.ImapsEmailDriver.connect(ImapsEmailDriver.java:45)\r\n\t... 24 more\r\n\r\n*Here is my code*\r\ntry {\r\n            Properties connectionProperties = new Properties();\r\n\r\n            // Set IMAPS as store protocol\r\n\r\n\r\n            connectionProperties.put(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\n            connectionProperties.put(&quot;mail.imaps.ssl.checkserveridentity&quot;, &quot;false&quot;);\r\n\r\n            // Create a session with mail server\r\n            session = Session.getDefaultInstance(connectionProperties);\r\n\r\n            // Get the Store, which is JavaMail name for the entity that holds the mails.\r\n            store = session.getStore(&quot;imaps&quot;);\r\n\r\n            // Connect the recently created Store\r\n            reporter.debug(&quot;Connecting to &quot; + MAIL_HOSTNAME + &quot;:&quot; + IMAP_PORT + &quot; using &quot; + MAIL_USER + &quot;/&quot; + MAIL_PASSWORD);\r\n            store.connect(MAIL_HOSTNAME, IMAP_PORT, MAIL_USER, MAIL_PASSWORD);\r\n\r\n            // Check that connection was successful\r\n            checkConnection();\r\n\r\n            // Select Inbox folder\r\n            selectFolder(&quot;Inbox&quot;);\r\n        } catch (MessagingException e) {\r\n            reporter.error(&quot;Unable to connect to mail server &quot; + MAIL_HOSTNAME + &quot; through port &quot; + IMAP_PORT + &quot;. Using &quot;\r\n                    + MAIL_USER + &quot;/&quot; + MAIL_PASSWORD + &quot;. Reason: &quot; + e.getMessage());\r\n            throw new RuntimeException(e);\r\n        }\r\n","title":"I am not able to read email content using javax mail imap because less secure apps is no longer available now as google declares on 30th May 2022","body":"<p><em>Error which i faced</em>\ninternal.qaauto.framework.exceptions.EmailDriverException: javax.mail.AuthenticationFailedException: [AUTHENTICATIONFAILED] Invalid credentials (Failure)</p>\n<pre><code>at internal.qaauto.framework.drivers.email.ImapsEmailDriver.connect(ImapsEmailDriver.java:55)\nat certainwebapptests.CreateSubAccount.setUp(CreateSubAccount.java:53)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)\nat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)\nat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)\nat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:142)\nat org.testng.internal.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)\nat org.testng.TestRunner.privateRun(TestRunner.java:782)\nat org.testng.TestRunner.run(TestRunner.java:632)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\nat org.testng.SuiteRunner.run(SuiteRunner.java:268)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\nat org.testng.TestNG.run(TestNG.java:1064)\nat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\nat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n</code></pre>\n<p>Caused by: javax.mail.AuthenticationFailedException: [AUTHENTICATIONFAILED] Invalid credentials (Failure)\nat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:661)\nat javax.mail.Service.connect(Service.java:295)\nat internal.qaauto.framework.drivers.email.ImapsEmailDriver.connect(ImapsEmailDriver.java:45)\n... 24 more</p>\n<p><em>Here is my code</em>\ntry {\nProperties connectionProperties = new Properties();</p>\n<pre><code>        // Set IMAPS as store protocol\n\n\n        connectionProperties.put(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\n        connectionProperties.put(&quot;mail.imaps.ssl.checkserveridentity&quot;, &quot;false&quot;);\n\n        // Create a session with mail server\n        session = Session.getDefaultInstance(connectionProperties);\n\n        // Get the Store, which is JavaMail name for the entity that holds the mails.\n        store = session.getStore(&quot;imaps&quot;);\n\n        // Connect the recently created Store\n        reporter.debug(&quot;Connecting to &quot; + MAIL_HOSTNAME + &quot;:&quot; + IMAP_PORT + &quot; using &quot; + MAIL_USER + &quot;/&quot; + MAIL_PASSWORD);\n        store.connect(MAIL_HOSTNAME, IMAP_PORT, MAIL_USER, MAIL_PASSWORD);\n\n        // Check that connection was successful\n        checkConnection();\n\n        // Select Inbox folder\n        selectFolder(&quot;Inbox&quot;);\n    } catch (MessagingException e) {\n        reporter.error(&quot;Unable to connect to mail server &quot; + MAIL_HOSTNAME + &quot; through port &quot; + IMAP_PORT + &quot;. Using &quot;\n                + MAIL_USER + &quot;/&quot; + MAIL_PASSWORD + &quot;. Reason: &quot; + e.getMessage());\n        throw new RuntimeException(e);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","api","rest"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1659021478,"post_id":73155196,"comment_id":129201402,"body_markdown":"Wrong encoding used.  Need UTF-8.  Is Postman assuming ASCII?","body":"Wrong encoding used.  Need UTF-8.  Is Postman assuming ASCII?"},{"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"score":0,"creation_date":1659021725,"post_id":73155196,"comment_id":129201498,"body_markdown":"Nope, content-type = application/json and I also tried adding charset=utf-8 in content-type but still shows ? in UAT env.","body":"Nope, content-type = application/json and I also tried adding charset=utf-8 in content-type but still shows ? in UAT env."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1659021776,"post_id":73155196,"comment_id":129201523,"body_markdown":"That&#39;s fine for the HTTP request.  What about the Postman display?  Your problem occurs in the last mile when rendering on the UI.","body":"That&#39;s fine for the HTTP request.  What about the Postman display?  Your problem occurs in the last mile when rendering on the UI."},{"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"score":0,"creation_date":1659021946,"post_id":73155196,"comment_id":129201578,"body_markdown":"@duffymo not yet integrated with UI. But when I debugged it, I can see ? symbol there also, so if that&#39;s the case, how UI can convert it into pound by itself? Only after integration we will get to know.","body":"@duffymo not yet integrated with UI. But when I debugged it, I can see ? symbol there also, so if that&#39;s the case, how UI can convert it into pound by itself? Only after integration we will get to know."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1659021991,"post_id":73155196,"comment_id":129201596,"body_markdown":"That&#39;s the part that needs to be figured out.  Sounds like the data is there.  Need to make sure the renderer is interpreting it correctly.","body":"That&#39;s the part that needs to be figured out.  Sounds like the data is there.  Need to make sure the renderer is interpreting it correctly."},{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":0,"creation_date":1659022023,"post_id":73155196,"comment_id":129201608,"body_markdown":"Try swagger UI and see what the data looks like?","body":"Try swagger UI and see what the data looks like?"},{"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"score":0,"creation_date":1659460254,"post_id":73155196,"comment_id":129298474,"body_markdown":"@Enfieldli I can&#39;t use swagger UI cuz testing of api required tons of headers to be passed which I don&#39;t know how to pass via swagger UI. So far no help yet.","body":"@Enfieldli I can&#39;t use swagger UI cuz testing of api required tons of headers to be passed which I don&#39;t know how to pass via swagger UI. So far no help yet."}],"answers":[{"tags":[],"owner":{"account_id":26135582,"reputation":11,"user_id":19825625,"display_name":"Sumit Sagar Lakra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661233335,"creation_date":1661233335,"answer_id":73453655,"question_id":73155196,"body_markdown":"There is a specific character that shows up wrong when UTF-8 is set from the client(SoapUI) in the header content-type: application/json;charset=UTF-8.\r\nFor more details [Check this link][1] \r\n\r\n\r\n  [1]: https://knowledge.broadcom.com/external/article/72616/western-european-characters-do-not-displ.html","title":"Why Pound symbol (&#163;) is converted to question mark (?) in Postman?","body":"<p>There is a specific character that shows up wrong when UTF-8 is set from the client(SoapUI) in the header content-type: application/json;charset=UTF-8.\nFor more details <a href=\"https://knowledge.broadcom.com/external/article/72616/western-european-characters-do-not-displ.html\" rel=\"nofollow noreferrer\">Check this link</a></p>\n"}],"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":608,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1661233335,"creation_date":1659021324,"question_id":73155196,"body_markdown":"I have set some error code and message in a JSON file in my project which looks like (not original code for safety):\r\n\r\n    {\r\n    &quot;ERROR&quot;:&quot;Limit is &#163;100.&quot;\r\n    }\r\nWhen I set this message to be thrown as exception when testing from Postman, instead of showing `Limit is &#163;100.`, it shows like `Limit is ?100.`\r\n\r\nSo, I&#39;m worried why `&#163;` gets converted to `?`. Then, I tried to replace this **?** with **&#163;** by using below code:\r\n\r\n    String message = fetchErrorMessage(&quot;ERROR&quot;, ***some parameters***);\r\n    if (message != null) {\r\n    message = message.contains(&quot;�&quot;)\r\n            ? message.replaceAll(&quot;�&quot;, &quot;&#163;&quot;)\r\n            : message;\r\n    }\r\n\r\n**Note: I checked with � instead of **?** because when I was debugging the code and hover over the `message` to check whether it contains the `&#163;` symbol or not, I found that it was having a weird looking square block (check screenshot below). So, I copy-paste it and got to know it&#39;s a question mark symbol inside a black diamond.**\r\n[![enter image description here][1]][1]\r\n\r\nNow, with above piece of code change, the message is coming properly in Postman but soon I realized that when I deployed the code in UAT environment, it still shows `?`.\r\n\r\nSo, any workaround how to fix it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nayv2.png","title":"Why Pound symbol (&#163;) is converted to question mark (?) in Postman?","body":"<p>I have set some error code and message in a JSON file in my project which looks like (not original code for safety):</p>\n<pre><code>{\n&quot;ERROR&quot;:&quot;Limit is £100.&quot;\n}\n</code></pre>\n<p>When I set this message to be thrown as exception when testing from Postman, instead of showing <code>Limit is £100.</code>, it shows like <code>Limit is ?100.</code></p>\n<p>So, I'm worried why <code>£</code> gets converted to <code>?</code>. Then, I tried to replace this <strong>?</strong> with <strong>£</strong> by using below code:</p>\n<pre><code>String message = fetchErrorMessage(&quot;ERROR&quot;, ***some parameters***);\nif (message != null) {\nmessage = message.contains(&quot;�&quot;)\n        ? message.replaceAll(&quot;�&quot;, &quot;£&quot;)\n        : message;\n}\n</code></pre>\n<p><strong>Note: I checked with � instead of <strong>?</strong> because when I was debugging the code and hover over the <code>message</code> to check whether it contains the <code>£</code> symbol or not, I found that it was having a weird looking square block (check screenshot below). So, I copy-paste it and got to know it's a question mark symbol inside a black diamond.</strong>\n<a href=\"https://i.stack.imgur.com/nayv2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nayv2.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, with above piece of code change, the message is coming properly in Postman but soon I realized that when I deployed the code in UAT environment, it still shows <code>?</code>.</p>\n<p>So, any workaround how to fix it?</p>\n"},{"tags":["java","private-key"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1661240782,"post_id":73453588,"comment_id":129718038,"body_markdown":"what is getPublicKey?","body":"what is getPublicKey?"},{"owner":{"account_id":375465,"reputation":43,"user_id":726319,"display_name":"Jason"},"score":0,"creation_date":1661301720,"post_id":73453588,"comment_id":129737878,"body_markdown":"It&#39;s just deriving the ECPublicKey from the ECPrivateKey (not the PublicKey that I think I need to get back to a KeyPair).","body":"It&#39;s just deriving the ECPublicKey from the ECPrivateKey (not the PublicKey that I think I need to get back to a KeyPair)."}],"owner":{"account_id":375465,"reputation":43,"user_id":726319,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661232767,"creation_date":1661232767,"question_id":73453588,"body_markdown":"I generated a secp256k1 KeyPair and saved the private key to a file as Base58 and Base64.\r\n\r\nI thought perhaps it was a standard PrivateKey string from:\r\n\r\n       Base64.encode(privateKey.getEncoded())\r\n\r\nThe Base58 string is 87 characters long.\r\nThe Base64 string is 88 characters long.\r\n\r\nI believe I&#39;m able to get the PrivateKey, ECPrivateKey, and ECPublicKey from this:\r\n\r\n     byte[] pkcs8EncodedBytes = Base64.decode(known64);\r\n     KeyFactory kecFactory = KeyFactory.getInstance(&quot;EC&quot;);\r\n     PrivateKey privateKeyNative = kecFactory.generatePrivate(new PKCS8EncodedKeySpec(pkcs8EncodedBytes));\r\n     ECPrivateKey ecPrivateKeyNative = (ECPrivateKey) privateKeyNative;\r\n     ECPublicKey ecPublicKeyNative = getPublicKey(ecPrivateKeyNative);\r\n\r\nIt works without error, however I need to get back to the full KeyPair. I&#39;ve tried all sorts of looking online and just seem to be hitting a wall.\r\n\r\nAny help is appreciated.\r\n\r\n\r\n\r\n","title":"Can&#39;t recover full KeyPair from PrivateKey saved as string","body":"<p>I generated a secp256k1 KeyPair and saved the private key to a file as Base58 and Base64.</p>\n<p>I thought perhaps it was a standard PrivateKey string from:</p>\n<pre><code>   Base64.encode(privateKey.getEncoded())\n</code></pre>\n<p>The Base58 string is 87 characters long.\nThe Base64 string is 88 characters long.</p>\n<p>I believe I'm able to get the PrivateKey, ECPrivateKey, and ECPublicKey from this:</p>\n<pre><code> byte[] pkcs8EncodedBytes = Base64.decode(known64);\n KeyFactory kecFactory = KeyFactory.getInstance(&quot;EC&quot;);\n PrivateKey privateKeyNative = kecFactory.generatePrivate(new PKCS8EncodedKeySpec(pkcs8EncodedBytes));\n ECPrivateKey ecPrivateKeyNative = (ECPrivateKey) privateKeyNative;\n ECPublicKey ecPublicKeyNative = getPublicKey(ecPrivateKeyNative);\n</code></pre>\n<p>It works without error, however I need to get back to the full KeyPair. I've tried all sorts of looking online and just seem to be hitting a wall.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","shutdown-hook"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1659442218,"post_id":73207293,"comment_id":129291220,"body_markdown":"Where are you running it? Lambda? EC2? How are you shutting it down?","body":"Where are you running it? Lambda? EC2? How are you shutting it down?"},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1659442263,"post_id":73207293,"comment_id":129291238,"body_markdown":"Hi @Michael EC2! And Amazon is shutting the machine!","body":"Hi @Michael EC2! And Amazon is shutting the machine!"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1659442762,"post_id":73207293,"comment_id":129291419,"body_markdown":"It would depend on how the runtime is being ended. Certain process signals (e.g. `SIGKILL`) and in-process calls (like `Runtime#halt`) will not reliably call shutdown hooks. You will likely need to look within AWS&#39;s documentation regarding how to handle this situation.","body":"It would depend on how the runtime is being ended. Certain process signals (e.g. <code>SIGKILL</code>) and in-process calls (like <code>Runtime#halt</code>) will not reliably call shutdown hooks. You will likely need to look within AWS&#39;s documentation regarding how to handle this situation."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1659442836,"post_id":73207293,"comment_id":129291457,"body_markdown":"According to some other threads I found, it should wait minutes or more, so I suspect this is the JVM rather than anything to do with AWS. Maybe your shutdown task is async so unblocks the shutdown thread?","body":"According to some other threads I found, it should wait minutes or more, so I suspect this is the JVM rather than anything to do with AWS. Maybe your shutdown task is async so unblocks the shutdown thread?"},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1659442843,"post_id":73207293,"comment_id":129291460,"body_markdown":"The shutdown is called indeed but is not finish i dont know why!","body":"The shutdown is called indeed but is not finish i dont know why!"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1659444004,"post_id":73207293,"comment_id":129291959,"body_markdown":"Include the code for your shutdown hook.","body":"Include the code for your shutdown hook."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1659618139,"post_id":73207293,"comment_id":129340815,"body_markdown":"It&#39;s important to include the actual code involved here (or at least the same methods in use). If that shutdown hook is merely starting a lot of threads, but never using `Thread#join` on them, then the shutdown hook thread will terminate without waiting for the other threads.","body":"It&#39;s important to include the actual code involved here (or at least the same methods in use). If that shutdown hook is merely starting a lot of threads, but never using <code>Thread#join</code> on them, then the shutdown hook thread will terminate without waiting for the other threads."}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1661232698,"creation_date":1659442514,"answer_id":73207373,"question_id":73207293,"body_markdown":"Normally projects use &quot;transactions&quot; for this kind of cases. You can&#39;t really avoid a machine being shutted down, and sometimes you will not even get a notification. The only solution to reliable deal with this problem is to use ATOMIC operations aka &quot;transactions&quot;\r\n\r\nThere is no way to guarantee a shutdown hook always finish or even being fired at all, otherwise you could hang the shutdown process indefinitally in the shutdown hook. shutdown hook is to give you chance to shutdown gracefully - eg. notify other components of the system so they will not waste time on trying to connect, or to maybe try to save something, which might be usefull. But this can be used for kind of shutdown optimization to be as gracefull as possible, but it is not for relying on it for data or operation integrity. That&#39;s it, and if you will think about it it makes perfect sense.","title":"Java there is a way to guarantee a shutdown hook finish?","body":"<p>Normally projects use &quot;transactions&quot; for this kind of cases. You can't really avoid a machine being shutted down, and sometimes you will not even get a notification. The only solution to reliable deal with this problem is to use ATOMIC operations aka &quot;transactions&quot;</p>\n<p>There is no way to guarantee a shutdown hook always finish or even being fired at all, otherwise you could hang the shutdown process indefinitally in the shutdown hook. shutdown hook is to give you chance to shutdown gracefully - eg. notify other components of the system so they will not waste time on trying to connect, or to maybe try to save something, which might be usefull. But this can be used for kind of shutdown optimization to be as gracefull as possible, but it is not for relying on it for data or operation integrity. That's it, and if you will think about it it makes perfect sense.</p>\n"}],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661232698,"creation_date":1659442073,"question_id":73207293,"body_markdown":"I need to perform some medium load on shutdown but in AWS the machine is giving only 2 or less seconds to the thread to perform and only 45-47% of load is consume.\r\n\r\nIs there is a way to increase this? or is nothing i can do!\r\n\r\nThread started.\r\n\r\n    07:22:09.476 [Thread-61] INFO  com.company.main.Main.lambda$run$0(307) - Shutdown process start with thread: [Thread-61]\r\n\r\nAnd the last line.\r\n\r\n    07:22:11.026 [Thread-61] DEBUG c.p.w.company.lambda$sort$1(341)\r\n\r\nAs you can see like 1.5 seconds is giving to thread to finish and i need to do finish the method :(\r\n\r\nWe are using EC2!\r\n\r\nSorry if the question is plain but this is giving me nightmares.\r\n\r\nThe code is not mine but is something like this.\r\n\r\n    public class Main extends Thread {\r\n\r\nIn public static method we create some Threads.\r\n\r\n\r\n    for (int i = 0; i &lt; threads; i++) {\r\n          Main main = (Main) ctx.getBean(&quot;beanName&quot;);\r\n          main.setName(&quot;main-&quot; + i);\r\n          main.start();\r\n     }\r\n\r\nThe Main class **run** method override\r\n\r\n    @Override\r\n    public void run() {\r\n        if (StringUtils.equals(&quot;main-0&quot;, Thread.currentThread().getName())) {\r\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n                doWork();\r\n            }));\r\n        }\r\n\r\nAs you can see we are creating the shutdown on the 1 Main thread created, i did created the shutdown on the **main** thread as well but the same thing happens.\r\n\r\n","title":"Java there is a way to guarantee a shutdown hook finish?","body":"<p>I need to perform some medium load on shutdown but in AWS the machine is giving only 2 or less seconds to the thread to perform and only 45-47% of load is consume.</p>\n<p>Is there is a way to increase this? or is nothing i can do!</p>\n<p>Thread started.</p>\n<pre><code>07:22:09.476 [Thread-61] INFO  com.company.main.Main.lambda$run$0(307) - Shutdown process start with thread: [Thread-61]\n</code></pre>\n<p>And the last line.</p>\n<pre><code>07:22:11.026 [Thread-61] DEBUG c.p.w.company.lambda$sort$1(341)\n</code></pre>\n<p>As you can see like 1.5 seconds is giving to thread to finish and i need to do finish the method :(</p>\n<p>We are using EC2!</p>\n<p>Sorry if the question is plain but this is giving me nightmares.</p>\n<p>The code is not mine but is something like this.</p>\n<pre><code>public class Main extends Thread {\n</code></pre>\n<p>In public static method we create some Threads.</p>\n<pre><code>for (int i = 0; i &lt; threads; i++) {\n      Main main = (Main) ctx.getBean(&quot;beanName&quot;);\n      main.setName(&quot;main-&quot; + i);\n      main.start();\n }\n</code></pre>\n<p>The Main class <strong>run</strong> method override</p>\n<pre><code>@Override\npublic void run() {\n    if (StringUtils.equals(&quot;main-0&quot;, Thread.currentThread().getName())) {\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n            doWork();\n        }));\n    }\n</code></pre>\n<p>As you can see we are creating the shutdown on the 1 Main thread created, i did created the shutdown on the <strong>main</strong> thread as well but the same thing happens.</p>\n"},{"tags":["java","android","kotlin","gesture"],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661232188,"creation_date":1661232188,"question_id":73453518,"body_markdown":"I need to use `setSystemGestureExclusionRects` to prevent Android&#39;s &quot;swipe from edge of device to trigger back navigation&quot;, for my app&#39;s painter-like feature. However, though it works perfectly on android simulator, it does not work for many real devices.\r\n\r\nReproducible sample: https://github.com/fzyzcjy/android_gesture_exclusion_example\r\n\r\nCore code(https://github.com/fzyzcjy/android_gesture_exclusion_example/blob/master/app/src/main/java/com/example/myapplication/MainActivity.kt): \r\n\r\n        binding.root.doOnNextLayout {\r\n            val exclusions = listOf(Rect(0, it.bottom - 200, 100, it.bottom))\r\n            ViewCompat.setSystemGestureExclusionRects(binding.root, exclusions)\r\n        }\r\n\r\n\r\nExpected behavior: When dragging horizontally from left to right near the left-bottom of the left edge of the device (i.e. the `exclusions` region in the code), android system should not trigger back navigation.\r\n\r\nExperiments:\r\n\r\n* Android simulator, android 30: Expected behavior\r\n* Android simulator, android 29: Expected behavior\r\n* Real Redmi device, android 29: Unexpected behavior (seems the `setSystemGestureExclusionRects` does not work at all)\r\n* Real Honor device, android 29: Unexpected behavior (same as above)","title":"`setSystemGestureExclusionRects` does not work for many real devices","body":"<p>I need to use <code>setSystemGestureExclusionRects</code> to prevent Android's &quot;swipe from edge of device to trigger back navigation&quot;, for my app's painter-like feature. However, though it works perfectly on android simulator, it does not work for many real devices.</p>\n<p>Reproducible sample: <a href=\"https://github.com/fzyzcjy/android_gesture_exclusion_example\" rel=\"nofollow noreferrer\">https://github.com/fzyzcjy/android_gesture_exclusion_example</a></p>\n<p>Core code(<a href=\"https://github.com/fzyzcjy/android_gesture_exclusion_example/blob/master/app/src/main/java/com/example/myapplication/MainActivity.kt\" rel=\"nofollow noreferrer\">https://github.com/fzyzcjy/android_gesture_exclusion_example/blob/master/app/src/main/java/com/example/myapplication/MainActivity.kt</a>):</p>\n<pre><code>    binding.root.doOnNextLayout {\n        val exclusions = listOf(Rect(0, it.bottom - 200, 100, it.bottom))\n        ViewCompat.setSystemGestureExclusionRects(binding.root, exclusions)\n    }\n</code></pre>\n<p>Expected behavior: When dragging horizontally from left to right near the left-bottom of the left edge of the device (i.e. the <code>exclusions</code> region in the code), android system should not trigger back navigation.</p>\n<p>Experiments:</p>\n<ul>\n<li>Android simulator, android 30: Expected behavior</li>\n<li>Android simulator, android 29: Expected behavior</li>\n<li>Real Redmi device, android 29: Unexpected behavior (seems the <code>setSystemGestureExclusionRects</code> does not work at all)</li>\n<li>Real Honor device, android 29: Unexpected behavior (same as above)</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1661229815,"post_id":73453196,"comment_id":129715384,"body_markdown":"Where are these files located? Do you use an IDE?","body":"Where are these files located? Do you use an IDE?"},{"owner":{"account_id":18944908,"reputation":190,"user_id":13824045,"display_name":"fahadhub"},"score":0,"creation_date":1661230025,"post_id":73453196,"comment_id":129715411,"body_markdown":"In the same folder. The the enum part and the RawAsupFile part are in different files within the same folder. The enum part is located in a file called QueueType.java and the other part is in a file called RawAsupFile.java. I was able to compile and get QueueType.class. I cannot compile RawAsupFile.java","body":"In the same folder. The the enum part and the RawAsupFile part are in different files within the same folder. The enum part is located in a file called QueueType.java and the other part is in a file called RawAsupFile.java. I was able to compile and get QueueType.class. I cannot compile RawAsupFile.java"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1661230126,"post_id":73453196,"comment_id":129715427,"body_markdown":"Is the folder called `mypack`? How do you compile the files?","body":"Is the folder called <code>mypack</code>? How do you compile the files?"},{"owner":{"account_id":18944908,"reputation":190,"user_id":13824045,"display_name":"fahadhub"},"score":0,"creation_date":1661230259,"post_id":73453196,"comment_id":129715447,"body_markdown":"mypack is a place holder, I have replaced the original value due to privacy reasons. But both the files are in the same package. I compile on the terminal using javac filename.java","body":"mypack is a place holder, I have replaced the original value due to privacy reasons. But both the files are in the same package. I compile on the terminal using javac filename.java"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1661230475,"post_id":73453196,"comment_id":129715487,"body_markdown":"a) the folder structure has to follow the package structure (that&#39;s why I asked), b) you have to tell javac where it should try to find classes (aka class path), go one directory up (the root of your package/folder structure) and call `javac -cp . mypackage/Filename.java` (you can also use `*.java` to compile all files in this directory at once)","body":"a) the folder structure has to follow the package structure (that&#39;s why I asked), b) you have to tell javac where it should try to find classes (aka class path), go one directory up (the root of your package/folder structure) and call <code>javac -cp . mypackage&#47;Filename.java</code> (you can also use <code>*.java</code> to compile all files in this directory at once)"},{"owner":{"account_id":18944908,"reputation":190,"user_id":13824045,"display_name":"fahadhub"},"score":0,"creation_date":1661230684,"post_id":73453196,"comment_id":129715532,"body_markdown":"The last part worked. I could not compile it individually but going a folder up and compiling them all at once worked for whatever reason","body":"The last part worked. I could not compile it individually but going a folder up and compiling them all at once worked for whatever reason"}],"answers":[{"tags":[],"owner":{"account_id":25889921,"reputation":11,"user_id":19617498,"display_name":"reegs20"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661231864,"creation_date":1661231864,"answer_id":73453478,"question_id":73453196,"body_markdown":"If your files are in the same folder and you want to compile everything together then you can use with option `javac *.java` from folder/package location \r\n\r\nIn case if you want to compile each file individually then you can try with the command `javac -cp &lt;path location&gt; filename.java`.\r\nExample `javac -cp D:\\mypack\\* RawAsupFile.java` in Windows","title":"Unable to import an enum from another class in the same package","body":"<p>If your files are in the same folder and you want to compile everything together then you can use with option <code>javac *.java</code> from folder/package location</p>\n<p>In case if you want to compile each file individually then you can try with the command <code>javac -cp &lt;path location&gt; filename.java</code>.\nExample <code>javac -cp D:\\mypack\\* RawAsupFile.java</code> in Windows</p>\n"}],"owner":{"account_id":18944908,"reputation":190,"user_id":13824045,"display_name":"fahadhub"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661231864,"creation_date":1661229574,"question_id":73453196,"body_markdown":"I have a a class QueueType:\r\n\r\n    package mypack;\r\n    \r\n    public enum QueueType {\r\n    \tSMTP, PUT, POST, ISF\r\n    }\r\n\r\nI am trying to import this into another class in the same package but I get an error saying &quot;can&#39;t find symbol QueueType&quot;. What am I doing wrong?\r\n\r\n    package mypack;\r\n    \r\n    public class RawAsupFile {\r\n    \r\n    \tprivate QueueType queueType;\r\n    .\r\n    .\r\n    .","title":"Unable to import an enum from another class in the same package","body":"<p>I have a a class QueueType:</p>\n<pre><code>package mypack;\n\npublic enum QueueType {\n    SMTP, PUT, POST, ISF\n}\n</code></pre>\n<p>I am trying to import this into another class in the same package but I get an error saying &quot;can't find symbol QueueType&quot;. What am I doing wrong?</p>\n<pre><code>package mypack;\n\npublic class RawAsupFile {\n\n    private QueueType queueType;\n.\n.\n.\n</code></pre>\n"},{"tags":["java","bazel","arm64"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1660815583,"post_id":73397931,"comment_id":129623907,"body_markdown":"No help from me, just info. JAVA_HOME was a (cross-platform) requirement of the JDK, that now no longer holds. It seems bazel still uses it. Alternative java versions side-by-side: https://askubuntu.com/questions/315646/update-java-alternatives-vs-update-alternatives-config-java","body":"No help from me, just info. JAVA_HOME was a (cross-platform) requirement of the JDK, that now no longer holds. It seems bazel still uses it. Alternative java versions side-by-side: <a href=\"https://askubuntu.com/questions/315646/update-java-alternatives-vs-update-alternatives-config-java\" title=\"update java alternatives vs update alternatives config java\">askubuntu.com/questions/315646/&hellip;</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1660820924,"post_id":73397931,"comment_id":129625845,"body_markdown":"@user16320675 yes and then there was also JDK_HOME.","body":"@user16320675 yes and then there was also JDK_HOME."}],"answers":[{"tags":[],"owner":{"account_id":18304375,"reputation":11,"user_id":13328487,"display_name":"Sendi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660801714,"creation_date":1660801714,"answer_id":73397996,"question_id":73397931,"body_markdown":"Try to set up an Environment Variable. Google &quot;how to install JDK 8.&quot; You can get better answers there","title":"ERROR: Cannot determine JDK version, please set $JAVA_HOME.\\n $JAVAC_VERSION is &quot;javac 11.0.16&quot;","body":"<p>Try to set up an Environment Variable. Google &quot;how to install JDK 8.&quot; You can get better answers there</p>\n"},{"tags":[],"owner":{"account_id":25819182,"reputation":180,"user_id":19558627,"display_name":"Phillip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660802009,"creation_date":1660802009,"answer_id":73398039,"question_id":73397931,"body_markdown":"It seems like you didn&#39;t set JAVA_HOME environment variable\r\n\r\nPlease check [here][1] to manually setup environment variables.\r\n\r\nHere you should set `export JAVA_HOME=&lt;java_path&gt;`\r\n\r\n\r\n  [1]: https://docs.nvidia.com/drive/drive_os_5.1.6.1L/nvvib_docs/index.html#page/DRIVE_OS_Linux_SDK_Development_Guide/Architecture/config_env_variables_setup.html","title":"ERROR: Cannot determine JDK version, please set $JAVA_HOME.\\n $JAVAC_VERSION is &quot;javac 11.0.16&quot;","body":"<p>It seems like you didn't set JAVA_HOME environment variable</p>\n<p>Please check <a href=\"https://docs.nvidia.com/drive/drive_os_5.1.6.1L/nvvib_docs/index.html#page/DRIVE_OS_Linux_SDK_Development_Guide/Architecture/config_env_variables_setup.html\" rel=\"nofollow noreferrer\">here</a> to manually setup environment variables.</p>\n<p>Here you should set <code>export JAVA_HOME=&lt;java_path&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":14320442,"reputation":451,"user_id":17779615,"display_name":"Susan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661231820,"creation_date":1660814855,"answer_id":73400564,"question_id":73397931,"body_markdown":"Thank you @Philip for your input and advice.\r\n\r\nThe issue is solved by:\r\n\r\n1. ```ls -l /etc/alternatives/java``` gives ```etc/alternatives/java -&gt; /usr/lib/jvm/java-11-openjdk-arm64/```\r\n\r\n2. ```vim /etc/profile```\r\n\r\n3. Press `I`\r\n\r\n4. Add\r\n\r\n       export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-arm64/bin/java\r\n    \r\n       export PATH=$JAVA_HOME/bin:$PATH\r\n\r\n5. Reboot the os. ```source /etc/profile```","title":"ERROR: Cannot determine JDK version, please set $JAVA_HOME.\\n $JAVAC_VERSION is &quot;javac 11.0.16&quot;","body":"<p>Thank you @Philip for your input and advice.</p>\n<p>The issue is solved by:</p>\n<ol>\n<li><p><code>ls -l /etc/alternatives/java</code> gives <code>etc/alternatives/java -&gt; /usr/lib/jvm/java-11-openjdk-arm64/</code></p>\n</li>\n<li><p><code>vim /etc/profile</code></p>\n</li>\n<li><p>Press <code>I</code></p>\n</li>\n<li><p>Add</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-arm64/bin/java\n\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n</li>\n<li><p>Reboot the os. <code>source /etc/profile</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":14320442,"reputation":451,"user_id":17779615,"display_name":"Susan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1461,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1661231820,"creation_date":1660801103,"question_id":73397931,"body_markdown":"I am using Linux aarch64 machine. I use miniconda3 and create a virtual environment in miniconda3. I want to install tensorflow using bazel. Therefore I first download the bazel zip file. \r\n\r\nWhen I run the compile.sh file after extracting the zip file of &quot;bazel&quot;, I got the following error \r\n```\r\nINFO: You can skip this first step by providing a path to the bazel binary as second argument:\r\nINFO:    ./compile.sh compile /path/to/bazel\r\n&#127811;  Building Bazel from scratch\r\nERROR: Cannot determine JDK version, please set $JAVA_HOME.\\n $JAVAC_VERSION is &quot;javac 11.0.16&quot;\r\n```\r\nWhen I search Java version , \r\n```java --version```\r\nI got this \r\n```\r\nopenjdk version &quot;11.0.16&quot; 2022-07-19\r\nOpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu120.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu120.04, mixed mode)\r\n```\r\nMay  I know how can I solve the issue?\r\nWhen I check ```echo $JAVA_HOME&quot;```, I got nothing. Do I also need to set JAVAC_VERSION? If yes, may  I know how can I set both Java_home and javac_version?\r\nThank you.","title":"ERROR: Cannot determine JDK version, please set $JAVA_HOME.\\n $JAVAC_VERSION is &quot;javac 11.0.16&quot;","body":"<p>I am using Linux aarch64 machine. I use miniconda3 and create a virtual environment in miniconda3. I want to install tensorflow using bazel. Therefore I first download the bazel zip file.</p>\n<p>When I run the compile.sh file after extracting the zip file of &quot;bazel&quot;, I got the following error</p>\n<pre><code>INFO: You can skip this first step by providing a path to the bazel binary as second argument:\nINFO:    ./compile.sh compile /path/to/bazel\n🍃  Building Bazel from scratch\nERROR: Cannot determine JDK version, please set $JAVA_HOME.\\n $JAVAC_VERSION is &quot;javac 11.0.16&quot;\n</code></pre>\n<p>When I search Java version ,\n<code>java --version</code>\nI got this</p>\n<pre><code>openjdk version &quot;11.0.16&quot; 2022-07-19\nOpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu120.04)\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu120.04, mixed mode)\n</code></pre>\n<p>May  I know how can I solve the issue?\nWhen I check <code>echo $JAVA_HOME&quot;</code>, I got nothing. Do I also need to set JAVAC_VERSION? If yes, may  I know how can I set both Java_home and javac_version?\nThank you.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1518426056,"post_id":48742631,"comment_id":84484988,"body_markdown":"Have you tried running your code in a debugger?","body":"Have you tried running your code in a debugger?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1518426102,"post_id":48742631,"comment_id":84485016,"body_markdown":"There appears to be a bunch of words missing from your task specification. Please try and write stuff that makes sense.","body":"There appears to be a bunch of words missing from your task specification. Please try and write stuff that makes sense."},{"owner":{"account_id":5486720,"reputation":347,"user_id":4361236,"accept_rate":20,"display_name":"Awanish"},"score":0,"creation_date":1518426584,"post_id":48742631,"comment_id":84485280,"body_markdown":"Can you try changing the &quot;&lt;=&quot; condition in for loop to &quot;&lt;&quot; and try","body":"Can you try changing the &quot;&lt;=&quot; condition in for loop to &quot;&lt;&quot; and try"},{"owner":{"account_id":9156128,"reputation":327,"user_id":6812985,"display_name":"Asnau Nauticas"},"score":0,"creation_date":1518426596,"post_id":48742631,"comment_id":84485285,"body_markdown":"I have edited it. Please check now","body":"I have edited it. Please check now"},{"owner":{"account_id":9156128,"reputation":327,"user_id":6812985,"display_name":"Asnau Nauticas"},"score":0,"creation_date":1518426800,"post_id":48742631,"comment_id":84485393,"body_markdown":"Already tried that but no change in output. Instead it takes N-1 test cases","body":"Already tried that but no change in output. Instead it takes N-1 test cases"}],"answers":[{"tags":[],"owner":{"account_id":7591569,"reputation":51,"user_id":5759082,"display_name":"madhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518427072,"creation_date":1518427072,"answer_id":48742944,"question_id":48742631,"body_markdown":"I think the expectation is to take all inputs in one go.\r\nMeaning, once the number of words are given, read all words and then print the output. Since the question is not clear, I am answering based on my assumption.","title":"Simple String program but getting wrong output with no Runtime error","body":"<p>I think the expectation is to take all inputs in one go.\nMeaning, once the number of words are given, read all words and then print the output. Since the question is not clear, I am answering based on my assumption.</p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518559151,"creation_date":1518427149,"answer_id":48742965,"question_id":48742631,"body_markdown":"The problem is not:\r\n\r\n&gt; _______________ // first line is getting skipped but if i comment the System\r\n\r\n&gt;.out.println at the end of loop then both string are coming on same line\r\n\r\n\r\n, but:\r\n      \r\n    for(int i=0; i&lt;=n; i++) { ...\r\n\r\n\r\n...and:\r\n\r\n&gt;Error (stderr)\r\n&gt;\r\n&gt;Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n\tat java.util.Scanner.nextLine(Scanner.java:1585)\r\n\tat Solution.main(Solution.java:14)\r\n\r\n...with:\r\n\r\n    for(int i=0; i&lt;n; i++) { //!!\r\n\r\n, you&#39;ll get:\r\n\r\n&gt;Congrats, you solved this challenge!\r\n&gt;Challenge your friends:\r\n&gt;Test Case #0\r\n&gt;Test Case #1\r\n&gt;Test Case #2\r\n&gt;Test Case #3\r\n&gt;Test Case #4\r\n&gt;Test Case #5\r\n&gt;Test Case #6\r\n&gt;Test Case #7\r\n&gt;Test Case #8\r\n&gt;Test Case #9\r\n\r\n\r\n\r\n----------\r\n    \r\n... a small style&amp;efficiency improvement would be:\r\n   \r\n    ...\r\n    for(int j = 0; j&lt;str.length() ; j+=2){//!!\r\n        // no if!\r\n        System.out.print(str.charAt(j));\r\n    }\r\n    System.out.print(&quot; &quot;);\r\n    for(int j = 1; j&lt; str.length() ; j+=2){//!!\r\n        //no if!       \r\n        System.out.print(str.charAt(j));\r\n    }\r\n    ...","title":"Simple String program but getting wrong output with no Runtime error","body":"<p>The problem is not:</p>\n\n<blockquote>\n  <p>_______________ // first line is getting skipped but if i comment the System</p>\n  \n  <p>.out.println at the end of loop then both string are coming on same line</p>\n</blockquote>\n\n<p>, but:</p>\n\n<pre><code>for(int i=0; i&lt;=n; i++) { ...\n</code></pre>\n\n<p>...and:</p>\n\n<blockquote>\n  <p>Error (stderr)</p>\n  \n  <p>Exception in thread \"main\" java.util.NoSuchElementException: No line found\n      at java.util.Scanner.nextLine(Scanner.java:1585)\n      at Solution.main(Solution.java:14)</p>\n</blockquote>\n\n<p>...with:</p>\n\n<pre><code>for(int i=0; i&lt;n; i++) { //!!\n</code></pre>\n\n<p>, you'll get:</p>\n\n<blockquote>\n  <p>Congrats, you solved this challenge!\n  Challenge your friends:\n  Test Case #0\n  Test Case #1\n  Test Case #2\n  Test Case #3\n  Test Case #4\n  Test Case #5\n  Test Case #6\n  Test Case #7\n  Test Case #8\n  Test Case #9</p>\n</blockquote>\n\n<hr>\n\n<p>... a small style&amp;efficiency improvement would be:</p>\n\n<pre><code>...\nfor(int j = 0; j&lt;str.length() ; j+=2){//!!\n    // no if!\n    System.out.print(str.charAt(j));\n}\nSystem.out.print(\" \");\nfor(int j = 1; j&lt; str.length() ; j+=2){//!!\n    //no if!       \n    System.out.print(str.charAt(j));\n}\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9281755,"reputation":763,"user_id":6892765,"display_name":"anurag0510"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518427322,"creation_date":1518427322,"answer_id":48743014,"question_id":48742631,"body_markdown":"Well there are few mistakes which I found in your code which could be the reason for failure :\r\n\r\n&gt; for(int i=0; i&lt;=n; i++)\r\n\r\nThere should be condition like i &lt; n.\r\n\r\nAlso you are printing the output one by one i.e. as soon as user gave first input out of n you are printing it.\r\n\r\n    2\r\n    Hacker\r\n    Hce akr\r\n    Rank\r\n    Rn ak\r\n\r\nHere I modified the code which you are using hope you ry to understand it first before using :\r\n\r\n    public class Solution {\r\n    public static void main(String[] args) {\r\n    \t    /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\r\n    \t    Scanner sc = new Scanner(System.in);\r\n    \t    int n = sc.nextInt();\r\n    \t    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \t    sc.nextLine();\r\n    \t    for(int i=0; i&lt; n; i++){\r\n    \t        String str = sc.nextLine();\r\n    \t        String s1 =&quot;&quot;;\r\n    \t        for(int j = 0; j&lt; str.length() ; j++){\r\n    \t            if(j%2 ==0){\r\n    \t                s1 = s1 + str.charAt(j);\r\n    \t            }                \r\n    \t        }\r\n    \t        s1 = s1 + &quot; &quot;;\r\n    \t        for(int j = 0; j&lt; str.length() ; j++){\r\n    \t            if(j%2==1 ){\r\n    \t                s1 = s1 + str.charAt(j);\r\n    \t            }\r\n    \t        }\r\n    \t        list.add(s1);\r\n    \t    }\r\n    \t    for(int i = 0; i &lt; list.size(); i++) {\r\n    \t    \tSystem.out.println(list.get(i));\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\n","title":"Simple String program but getting wrong output with no Runtime error","body":"<p>Well there are few mistakes which I found in your code which could be the reason for failure :</p>\n\n<blockquote>\n  <p>for(int i=0; i&lt;=n; i++)</p>\n</blockquote>\n\n<p>There should be condition like i &lt; n.</p>\n\n<p>Also you are printing the output one by one i.e. as soon as user gave first input out of n you are printing it.</p>\n\n<pre><code>2\nHacker\nHce akr\nRank\nRn ak\n</code></pre>\n\n<p>Here I modified the code which you are using hope you ry to understand it first before using :</p>\n\n<pre><code>public class Solution {\npublic static void main(String[] args) {\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        sc.nextLine();\n        for(int i=0; i&lt; n; i++){\n            String str = sc.nextLine();\n            String s1 =\"\";\n            for(int j = 0; j&lt; str.length() ; j++){\n                if(j%2 ==0){\n                    s1 = s1 + str.charAt(j);\n                }                \n            }\n            s1 = s1 + \" \";\n            for(int j = 0; j&lt; str.length() ; j++){\n                if(j%2==1 ){\n                    s1 = s1 + str.charAt(j);\n                }\n            }\n            list.add(s1);\n        }\n        for(int i = 0; i &lt; list.size(); i++) {\n            System.out.println(list.get(i));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9156128,"reputation":327,"user_id":6812985,"display_name":"Asnau Nauticas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1661231614,"creation_date":1518425896,"question_id":48742631,"body_markdown":"I am solving a problem in HackerRank.\r\n\r\n**Task:**\r\n \r\nGiven a string,S, of length N that is indexed from 0 to N-1 , print its even-indexed and odd-indexed characters as 2 space-separated strings on a single line (see the Sample below for more detail).\r\n\r\n\r\n**Input Format**\r\n\r\nThe first line contains an integer, T (the number of test cases). \r\nEach line i of the T subsequent lines contain a String, S .\r\n\r\n\r\n**Output Format**\r\n\r\nFor each String Sj (where ), print Sj&#39;s even-indexed characters, followed by a space, followed by Sj&#39;s odd-indexed characters.\r\n\r\n**Sample Input**\r\n\r\n2\r\n\r\nHacker\r\n\r\nRank\r\n\r\n**Sample Output**\r\n\r\nHce akr\r\n\r\nRn ak\r\n\r\n**Following is the Code I have written:**\r\n\r\n    public class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        sc.nextLine();\r\n        for(int i=0; i&lt;=n; i++){\r\n            String str = sc.nextLine();\r\n            for(int j = 0; j&lt; str.length() ; j++){\r\n                if(j%2 ==0){\r\n                    System.out.print(str.charAt(j));\r\n                }                \r\n            }\r\n            System.out.print(&quot; &quot;);\r\n            for(int j = 0; j&lt; str.length() ; j++){\r\n                if(j%2==1 ){\r\n                    System.out.print(str.charAt(j));\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n\r\nNow My Output is differing with the Test Case Output:\r\n\r\n**Testcase 0**\r\nYour code did not pass this test case.\r\n\r\n**Input (stdin)**\r\n\r\n2\r\n\r\nHacker\r\n\r\nRank\r\n\r\n**Your Output (stdout)**\r\n\r\n_______________   // first line is getting skipped but if i comment the System.out.println at the end of loop then both string are coming on same line     \r\n\r\nHce akr\r\n\r\nRn ak\r\n\r\n**Expected Output**\r\n\r\nHce akr\r\n\r\nRn ak\r\n\r\n**Compiler Message**\r\n\r\nWrong Answer\r\n\r\nI want to know whats wrong with my Program as per my knowledge I am not making any mistakes. Why after first time String Manipulation it is exiting loop?\r\n\r\n\r\nHere is the link for Whole question:\r\nhttps://www.hackerrank.com/challenges/30-review-loop/problem\r\n\r\n**One Question Added**\r\nyou can see if we are putting System.out.println() at the end of loop I am getting extra line in my output but when i m skipping it my program is working fine but as there is no linebreak between my output both are sticking together and coming like this: hce akrRn ak. U see this is my main problem. I want to get the output in sperate lines.","title":"Simple String program but getting wrong output with no Runtime error","body":"<p>I am solving a problem in HackerRank.</p>\n\n<p><strong>Task:</strong></p>\n\n<p>Given a string,S, of length N that is indexed from 0 to N-1 , print its even-indexed and odd-indexed characters as 2 space-separated strings on a single line (see the Sample below for more detail).</p>\n\n<p><strong>Input Format</strong></p>\n\n<p>The first line contains an integer, T (the number of test cases). \nEach line i of the T subsequent lines contain a String, S .</p>\n\n<p><strong>Output Format</strong></p>\n\n<p>For each String Sj (where ), print Sj's even-indexed characters, followed by a space, followed by Sj's odd-indexed characters.</p>\n\n<p><strong>Sample Input</strong></p>\n\n<p>2</p>\n\n<p>Hacker</p>\n\n<p>Rank</p>\n\n<p><strong>Sample Output</strong></p>\n\n<p>Hce akr</p>\n\n<p>Rn ak</p>\n\n<p><strong>Following is the Code I have written:</strong></p>\n\n<pre><code>public class Solution {\n\npublic static void main(String[] args) {\n    /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */\n    Scanner sc = new Scanner(System.in);\n    int n = sc.nextInt();\n    sc.nextLine();\n    for(int i=0; i&lt;=n; i++){\n        String str = sc.nextLine();\n        for(int j = 0; j&lt; str.length() ; j++){\n            if(j%2 ==0){\n                System.out.print(str.charAt(j));\n            }                \n        }\n        System.out.print(\" \");\n        for(int j = 0; j&lt; str.length() ; j++){\n            if(j%2==1 ){\n                System.out.print(str.charAt(j));\n            }\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Now My Output is differing with the Test Case Output:</p>\n\n<p><strong>Testcase 0</strong>\nYour code did not pass this test case.</p>\n\n<p><strong>Input (stdin)</strong></p>\n\n<p>2</p>\n\n<p>Hacker</p>\n\n<p>Rank</p>\n\n<p><strong>Your Output (stdout)</strong></p>\n\n<p>_______________   // first line is getting skipped but if i comment the System.out.println at the end of loop then both string are coming on same line     </p>\n\n<p>Hce akr</p>\n\n<p>Rn ak</p>\n\n<p><strong>Expected Output</strong></p>\n\n<p>Hce akr</p>\n\n<p>Rn ak</p>\n\n<p><strong>Compiler Message</strong></p>\n\n<p>Wrong Answer</p>\n\n<p>I want to know whats wrong with my Program as per my knowledge I am not making any mistakes. Why after first time String Manipulation it is exiting loop?</p>\n\n<p>Here is the link for Whole question:\n<a href=\"https://www.hackerrank.com/challenges/30-review-loop/problem\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/30-review-loop/problem</a></p>\n\n<p><strong>One Question Added</strong>\nyou can see if we are putting System.out.println() at the end of loop I am getting extra line in my output but when i m skipping it my program is working fine but as there is no linebreak between my output both are sticking together and coming like this: hce akrRn ak. U see this is my main problem. I want to get the output in sperate lines.</p>\n"},{"tags":["java","arrays","matrix"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1661229241,"post_id":73453101,"comment_id":129715291,"body_markdown":"Since this appears to be an assignment, are there any limitations on which parts of Java can be used? Your code imports `java.util.ArrayList` but does not use that class. Are you allowed to use `ArrayList` in your code? Are you allowed to use the [stream API](https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html)? Are you allowed to use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)?","body":"Since this appears to be an assignment, are there any limitations on which parts of Java can be used? Your code imports <code>java.util.ArrayList</code> but does not use that class. Are you allowed to use <code>ArrayList</code> in your code? Are you allowed to use the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a>? Are you allowed to use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661229279,"post_id":73453101,"comment_id":129715298,"body_markdown":"Step through your code with the debugger","body":"Step through your code with the debugger"},{"owner":{"account_id":23822387,"reputation":17,"user_id":17829901,"display_name":"theClawistheLaw"},"score":0,"creation_date":1661230578,"post_id":73453101,"comment_id":129715508,"body_markdown":"@Abra There&#39;s no limitations that I know of, although I had no idea what the stream API was before you mentioned it, or try with resource. But I can use an ArrayList if desired.","body":"@Abra There&#39;s no limitations that I know of, although I had no idea what the stream API was before you mentioned it, or try with resource. But I can use an ArrayList if desired."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661231133,"creation_date":1661231133,"answer_id":73453397,"question_id":73453101,"body_markdown":"Notes after the code.\r\n```java\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class Lab12MU2 {\r\n\r\n    public static void main(String[] args) {\r\n        Path path = Paths.get(&quot;CAM.txt&quot;);\r\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\r\n            List&lt;String[]&gt; list = lines.map(line -&gt; line.split(&quot;, &quot;))\r\n                                       .collect(Collectors.toList());\r\n            String[][] matrix = list.toArray(new String[][]{});\r\n            boolean first = true;\r\n            for (int col = 0; col &lt; matrix[0].length; col++) {\r\n                if (first) {\r\n                    first = false;\r\n                }\r\n                else {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n                System.out.print(matrix[0][col]);\r\n            }\r\n            System.out.println();\r\n            for (int row = 1; row &lt; matrix.length; row++) {\r\n                first = true;\r\n                for (int col = 0; col &lt; matrix[row].length; col++) {\r\n                    if (first) {\r\n                        first = false;\r\n                    }\r\n                    else {\r\n                        System.out.print(&quot; &quot;);\r\n                    }\r\n                    System.out.printf(&quot;%&quot; + matrix[0][col].length() + &quot;s&quot;, matrix[row][col]);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n        catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nAbove code assumes that the file name is _CAM.txt_ rather than getting the file name from the user. Note that, according to the above code, the file must be in the working directory.\r\n\r\nThe code uses the [stream API][1] and [try-with-resources][2].\r\n\r\nRefer to the [documentation][3] for method `printf`.\r\n\r\nWhen I run the above code, using the file from your question, I get the following output:\r\n```none\r\nNew York Boston Atlanta St. Paul\r\n       0    120     400       -1\r\n     120      0    1700      500\r\n     400   1700       0       -1\r\n      -1    500      -1        0\r\n```\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)","title":"Reading a 2d array from an external file","body":"<p>Notes after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Lab12MU2 {\n\n    public static void main(String[] args) {\n        Path path = Paths.get(&quot;CAM.txt&quot;);\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\n            List&lt;String[]&gt; list = lines.map(line -&gt; line.split(&quot;, &quot;))\n                                       .collect(Collectors.toList());\n            String[][] matrix = list.toArray(new String[][]{});\n            boolean first = true;\n            for (int col = 0; col &lt; matrix[0].length; col++) {\n                if (first) {\n                    first = false;\n                }\n                else {\n                    System.out.print(&quot; &quot;);\n                }\n                System.out.print(matrix[0][col]);\n            }\n            System.out.println();\n            for (int row = 1; row &lt; matrix.length; row++) {\n                first = true;\n                for (int col = 0; col &lt; matrix[row].length; col++) {\n                    if (first) {\n                        first = false;\n                    }\n                    else {\n                        System.out.print(&quot; &quot;);\n                    }\n                    System.out.printf(&quot;%&quot; + matrix[0][col].length() + &quot;s&quot;, matrix[row][col]);\n                }\n                System.out.println();\n            }\n        }\n        catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Above code assumes that the file name is <em>CAM.txt</em> rather than getting the file name from the user. Note that, according to the above code, the file must be in the working directory.</p>\n<p>The code uses the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a> and <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>.</p>\n<p>Refer to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">documentation</a> for method <code>printf</code>.</p>\n<p>When I run the above code, using the file from your question, I get the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>New York Boston Atlanta St. Paul\n       0    120     400       -1\n     120      0    1700      500\n     400   1700       0       -1\n      -1    500      -1        0\n</code></pre>\n"}],"owner":{"account_id":23822387,"reputation":17,"user_id":17829901,"display_name":"theClawistheLaw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73453397,"answer_count":1,"score":0,"last_activity_date":1661231133,"creation_date":1661228378,"question_id":73453101,"body_markdown":"I know this has been asked before, but I&#39;m still confused after reading other&#39;s posts. I&#39;m trying to read a cost adjacency matrix from an external file and use it to populate my 2d array which I&#39;ll end up printing. I&#39;m able to read the information in the text file, but my matrix isn&#39;t filling in properly. Right now it looks like this: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gN29D.png\r\n\r\nWhat I&#39;m shooting for would look like this,\r\n\r\n             New York Boston Atlanta St.Paul\r\n    New York        0    120     400      -1\r\n    Boston        120      0    1700     500\r\n    Atlanta       400   1700       0      -1\r\n    St.Paul        -1    500      -1       0\r\n\r\n\r\nHere is my code so far:\r\n\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileReader;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Lab12MU2 {\r\n\r\n    public static void main(String[] args) {\r\n        String fileName;\r\n        FileReader myFileRead;\r\n        String[][] matrix;\r\n        boolean populated = false;\r\n        Scanner scn = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the name of the file: &quot;);\r\n        fileName = scn.nextLine();\r\n        try {\r\n            myFileRead = new FileReader(fileName);\r\n            BufferedReader buffRead;\r\n            buffRead = new BufferedReader(myFileRead);\r\n            Scanner input = new Scanner(new File(fileName));\r\n            int dim = 5;\r\n            matrix = new String[dim][dim];\r\n            int i, j;\r\n            for (i = 0; i &lt; dim; ++i) {\r\n                for (j = 0; j &lt; dim - 1; ++j) {\r\n                    if (input.hasNext()) {\r\n                        matrix[i][j] = input.nextLine();\r\n                    }\r\n                }\r\n            }\r\n            for (i = 0; i &lt; matrix.length; i++) {\r\n                for (j = 0; j &lt; matrix[0].length; j++) {\r\n                    System.out.print(matrix[i][j] + &quot;\\t&quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            populated = true;\r\n            myFileRead.close();\r\n        }\r\n        catch (Exception ex) {\r\n            System.out.println(&quot;ERROR: File not found&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nAny help in fixing my matrix to look anything close to my desired result is appreciated. Also, here&#39;s the text file: https://www.dropbox.com/s/owikpr2vqx31kjn/CAM.txt?dl=0\r\n\r\n```none\r\nNew York, Boston, Atlanta, St. Paul \r\n0, 120, 400, -1\r\n120, 0, 1700, 500 \r\n400, 1700, 0, -1\r\n-1, 500, -1, 0\r\n```\r\n","title":"Reading a 2d array from an external file","body":"<p>I know this has been asked before, but I'm still confused after reading other's posts. I'm trying to read a cost adjacency matrix from an external file and use it to populate my 2d array which I'll end up printing. I'm able to read the information in the text file, but my matrix isn't filling in properly. Right now it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/gN29D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gN29D.png\" alt=\"enter image description here\" /></a></p>\n<p>What I'm shooting for would look like this,</p>\n<pre><code>         New York Boston Atlanta St.Paul\nNew York        0    120     400      -1\nBoston        120      0    1700     500\nAtlanta       400   1700       0      -1\nSt.Paul        -1    500      -1       0\n</code></pre>\n<p>Here is my code so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Lab12MU2 {\n\n    public static void main(String[] args) {\n        String fileName;\n        FileReader myFileRead;\n        String[][] matrix;\n        boolean populated = false;\n        Scanner scn = new Scanner(System.in);\n        System.out.print(&quot;Enter the name of the file: &quot;);\n        fileName = scn.nextLine();\n        try {\n            myFileRead = new FileReader(fileName);\n            BufferedReader buffRead;\n            buffRead = new BufferedReader(myFileRead);\n            Scanner input = new Scanner(new File(fileName));\n            int dim = 5;\n            matrix = new String[dim][dim];\n            int i, j;\n            for (i = 0; i &lt; dim; ++i) {\n                for (j = 0; j &lt; dim - 1; ++j) {\n                    if (input.hasNext()) {\n                        matrix[i][j] = input.nextLine();\n                    }\n                }\n            }\n            for (i = 0; i &lt; matrix.length; i++) {\n                for (j = 0; j &lt; matrix[0].length; j++) {\n                    System.out.print(matrix[i][j] + &quot;\\t&quot;);\n                }\n                System.out.println();\n            }\n            populated = true;\n            myFileRead.close();\n        }\n        catch (Exception ex) {\n            System.out.println(&quot;ERROR: File not found&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Any help in fixing my matrix to look anything close to my desired result is appreciated. Also, here's the text file: <a href=\"https://www.dropbox.com/s/owikpr2vqx31kjn/CAM.txt?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/owikpr2vqx31kjn/CAM.txt?dl=0</a></p>\n<pre class=\"lang-none prettyprint-override\"><code>New York, Boston, Atlanta, St. Paul \n0, 120, 400, -1\n120, 0, 1700, 500 \n400, 1700, 0, -1\n-1, 500, -1, 0\n</code></pre>\n"},{"tags":["java","android","xml","layout"],"comments":[{"owner":{"account_id":1250748,"reputation":1775,"user_id":1211209,"display_name":"Hradesh Kumar"},"score":0,"creation_date":1491287716,"post_id":12763746,"comment_id":73471738,"body_markdown":"I had solve same problem, see my answer :- [http://stackoverflow.com/questions/42832856/minheight-not-working-with-weight-1-in-linearlayout/43199823#43199823](http://stackoverflow.com/questions/42832856/minheight-not-working-with-weight-1-in-linearlayout/43199823#43199823)","body":"I had solve same problem, see my answer :- <a href=\"http://stackoverflow.com/questions/42832856/minheight-not-working-with-weight-1-in-linearlayout/43199823#43199823\">http://stackoverflow.com/questions/42832856/minheight-not-wo&zwnj;&#8203;rking-with-weight-1-&zwnj;&#8203;in-linearlayout/4319&zwnj;&#8203;9823#43199823</a>"},{"owner":{"account_id":10858233,"reputation":763,"user_id":7983864,"display_name":"Shahood ul Hassan"},"score":0,"creation_date":1661229249,"post_id":12763746,"comment_id":129715293,"body_markdown":"Switch to `ConstraintLayout` sooner than later!","body":"Switch to <code>ConstraintLayout</code> sooner than later!"}],"answers":[{"tags":[],"owner":{"account_id":1857806,"reputation":3283,"user_id":1683022,"display_name":"Givi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349556752,"creation_date":1349556752,"answer_id":12763778,"question_id":12763746,"body_markdown":"Add         `android:layout_weight=&quot;1&quot;` to the ListView as well.\r\nChange them both (list &amp; linearMe)        `android:layout_height` attribute to `&quot;match_parent&quot;`\r\nRemove `minHeight.\r\n\r\nThat way each View will take half of the screen.`\r\n","title":"LinearLayout minHeight not working with weigth=&quot;1&quot;","body":"<p>Add         <code>android:layout_weight=\"1\"</code> to the ListView as well.\nChange them both (list &amp; linearMe)        <code>android:layout_height</code> attribute to <code>\"match_parent\"</code>\nRemove `minHeight.</p>\n\n<p>That way each View will take half of the screen.`</p>\n"},{"tags":[],"owner":{"account_id":1410773,"reputation":1621,"user_id":1337412,"display_name":"theelfismike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349556899,"creation_date":1349556899,"answer_id":12763798,"question_id":12763746,"body_markdown":"You might want to try your spacer layout using &quot;View&quot; instead of &quot;LinearLayout&quot;. The ViewGroup classes sometimes handle layouts slightly differently.","title":"LinearLayout minHeight not working with weigth=&quot;1&quot;","body":"<p>You might want to try your spacer layout using \"View\" instead of \"LinearLayout\". The ViewGroup classes sometimes handle layouts slightly differently.</p>\n"},{"tags":[],"owner":{"account_id":10858233,"reputation":763,"user_id":7983864,"display_name":"Shahood ul Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661231133,"creation_date":1661231133,"answer_id":73453395,"question_id":12763746,"body_markdown":"If you are willing to use `ConstraintLayout` as the parent container, the following xml should serve your purpose:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/list&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constrainedHeight=&quot;true&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/linearMe&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:listitem=&quot;@android:layout/list_content&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/linearMe&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:background=&quot;#FF0000&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/list&quot;\r\n        app:layout_constraintHeight_min=&quot;200dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nWhat I&#39;ve done is that I&#39;ve defined constraints to chain both `list` and `linearMe` with each other. `app:layout_constraintHeight_min=&quot;200dp&quot;` will ensure minimum height of 200dp for `linearMe`. `app:layout_constrainedHeight=&quot;true&quot;` makes sure that when `list` has more items, it doesn&#39;t hide behind `linearMe`.\r\n\r\nI couldn&#39;t test it with some data to fill the `ListView`. You can just try it out and post your feedback here.","title":"LinearLayout minHeight not working with weigth=&quot;1&quot;","body":"<p>If you are willing to use <code>ConstraintLayout</code> as the parent container, the following xml should serve your purpose:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;ListView\n    android:id=&quot;@+id/list&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constrainedHeight=&quot;true&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/linearMe&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    tools:listitem=&quot;@android:layout/list_content&quot; /&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/linearMe&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:background=&quot;#FF0000&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/list&quot;\n    app:layout_constraintHeight_min=&quot;200dp&quot;\n    android:orientation=&quot;vertical&quot;\n    /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>What I've done is that I've defined constraints to chain both <code>list</code> and <code>linearMe</code> with each other. <code>app:layout_constraintHeight_min=&quot;200dp&quot;</code> will ensure minimum height of 200dp for <code>linearMe</code>. <code>app:layout_constrainedHeight=&quot;true&quot;</code> makes sure that when <code>list</code> has more items, it doesn't hide behind <code>linearMe</code>.</p>\n<p>I couldn't test it with some data to fill the <code>ListView</code>. You can just try it out and post your feedback here.</p>\n"}],"owner":{"account_id":410014,"reputation":9732,"user_id":781588,"accept_rate":53,"display_name":"Timoth&#233;e Jeannin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3795,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":3,"score":18,"last_activity_date":1661231133,"creation_date":1349556503,"question_id":12763746,"body_markdown":"I tried all afternoon to get the `minHeight` attribute to work. \r\n\r\nWhat I want is the `linearMe` layout to:\r\n\r\n - Stretch from the bottom of the screen to the bottom of the ListView when the ListView has just a few elements.\r\n - I need to be able to fill the linearMe layout with a picture for example.\r\n\r\nAs the ListView gets bigger I want the `linearMe` layout to:\r\n\r\n - Have a fixed height (while being at the bottom of the screen) and the ListView to allow scrolling.\r\n\r\nMy problem is that the the `linearMe` layout is smaller and smaller as there is more elements in the ListView. And when there is enough element for the listView to fill the screen, the `linearMe` layout is just gone. It looks like the `minHeight` is useless in this case.\r\n\r\n```\r\n&lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_height=&quot;match_parent&quot; &gt;\r\n\r\n&lt;ListView\r\n    android:id=&quot;@+id/list&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n&lt;LinearLayout\r\n    android:id=&quot;@+id/linearMe&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;0dp&quot;\r\n    android:layout_weight=&quot;1&quot;\r\n    android:background=&quot;#FF0000&quot;\r\n    android:minHeight=&quot;200dp&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n![enter image description here][1]![enter image description here][2]\r\n\r\nI hope you can help me out ! :)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/efTMg.png\r\n  [2]: http://i.stack.imgur.com/MS53S.png","title":"LinearLayout minHeight not working with weigth=&quot;1&quot;","body":"<p>I tried all afternoon to get the <code>minHeight</code> attribute to work.</p>\n<p>What I want is the <code>linearMe</code> layout to:</p>\n<ul>\n<li>Stretch from the bottom of the screen to the bottom of the ListView when the ListView has just a few elements.</li>\n<li>I need to be able to fill the linearMe layout with a picture for example.</li>\n</ul>\n<p>As the ListView gets bigger I want the <code>linearMe</code> layout to:</p>\n<ul>\n<li>Have a fixed height (while being at the bottom of the screen) and the ListView to allow scrolling.</li>\n</ul>\n<p>My problem is that the the <code>linearMe</code> layout is smaller and smaller as there is more elements in the ListView. And when there is enough element for the listView to fill the screen, the <code>linearMe</code> layout is just gone. It looks like the <code>minHeight</code> is useless in this case.</p>\n<pre><code>&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_height=&quot;match_parent&quot; &gt;\n\n&lt;ListView\n    android:id=&quot;@+id/list&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/linearMe&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:layout_weight=&quot;1&quot;\n    android:background=&quot;#FF0000&quot;\n    android:minHeight=&quot;200dp&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/efTMg.png\" alt=\"enter image description here\" /><img src=\"https://i.stack.imgur.com/MS53S.png\" alt=\"enter image description here\" /></p>\n<p>I hope you can help me out ! :)</p>\n"},{"tags":["java","android","gracenote","albumart"],"answers":[{"tags":[],"owner":{"account_id":3876358,"reputation":2617,"user_id":3210285,"accept_rate":100,"display_name":"Chintan Desai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661230777,"creation_date":1459257972,"answer_id":36285690,"question_id":22371838,"body_markdown":"I know it&#39;s bit late to answer but you can get the link of the cover art in gracenote response itself but you need to change some properties in its API.  \r\nIn initGracenote() change following\r\n\r\n    config.setProperty(&quot;content.coverart&quot;, &quot;1&quot;);\r\n\r\nI also recommend you to set this property also because sometimes I personally felt something chaotic in getting link.\r\n\r\n    config.setProperty(&quot;content.allowfullresponse&quot;, &quot;1&quot;);\r\n\r\nfor fetching coverart URL from response do the following\r\n\r\n    String coverArt = response.getCoverArt().getUrl().toString();\r\n\r\nHope it help you.","title":"find album art and cover art programatically in Android","body":"<p>I know it's bit late to answer but you can get the link of the cover art in gracenote response itself but you need to change some properties in its API.<br />\nIn initGracenote() change following</p>\n<pre><code>config.setProperty(&quot;content.coverart&quot;, &quot;1&quot;);\n</code></pre>\n<p>I also recommend you to set this property also because sometimes I personally felt something chaotic in getting link.</p>\n<pre><code>config.setProperty(&quot;content.allowfullresponse&quot;, &quot;1&quot;);\n</code></pre>\n<p>for fetching coverart URL from response do the following</p>\n<pre><code>String coverArt = response.getCoverArt().getUrl().toString();\n</code></pre>\n<p>Hope it help you.</p>\n"}],"owner":{"account_id":4086003,"reputation":243,"user_id":3355265,"accept_rate":60,"display_name":"jarnail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1977,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661230955,"creation_date":1394695590,"question_id":22371838,"body_markdown":"I have song name, artist name and album name.  \r\nIs there any link from where I can get cover or album art by sending these parameters?  \r\nFor my application I need cover art. I searched a lot to find out something but get nothing.\r\n\r\nIf there is any third party available for this, then help me with sample code.\r\n    \r\nBy using **Gracenote API**, I am getting song name, artist name and album name but am unable to get cover art. So I need help for this. If I externally can get the cover art by using third party service then please help me.","title":"find album art and cover art programatically in Android","body":"<p>I have song name, artist name and album name.<br />\nIs there any link from where I can get cover or album art by sending these parameters?<br />\nFor my application I need cover art. I searched a lot to find out something but get nothing.</p>\n<p>If there is any third party available for this, then help me with sample code.</p>\n<p>By using <strong>Gracenote API</strong>, I am getting song name, artist name and album name but am unable to get cover art. So I need help for this. If I externally can get the cover art by using third party service then please help me.</p>\n"},{"tags":["java","spring","maven","pom.xml","parent-pom"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1661229288,"post_id":73452953,"comment_id":129715299,"body_markdown":"there is a typo in your parent pom: `grovvy.version` - should be `groovy.version`","body":"there is a typo in your parent pom: <code>grovvy.version</code> - should be <code>groovy.version</code>"},{"owner":{"account_id":22812427,"reputation":21,"user_id":16963512,"display_name":"Malay Pandey"},"score":0,"creation_date":1661229856,"post_id":73452953,"comment_id":129715391,"body_markdown":"Ohh sorry, u can ignore that btw.","body":"Ohh sorry, u can ignore that btw."},{"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"score":1,"creation_date":1661244215,"post_id":73452953,"comment_id":129719195,"body_markdown":"Just tested your code (with and without the optional &quot;depedency.version 2.5.1.3&quot;) and it works. I&#39;m afraid you&#39;ll have to show us more code than that.","body":"Just tested your code (with and without the optional &quot;depedency.version 2.5.1.3&quot;) and it works. I&#39;m afraid you&#39;ll have to show us more code than that."}],"owner":{"account_id":22812427,"reputation":21,"user_id":16963512,"display_name":"Malay Pandey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661229873,"creation_date":1661226773,"question_id":73452953,"body_markdown":"In my application I am using `grovvy` dependency for using a class called `GrovvyClassLoader`. Earlier I was using spring version `2.2.11.RELEASE` and my `grovvy` was on `2.5.13`. Since I have upgraded to spring `2.6.6`, it tends to download `grovvy` version `3.0.10` automatically. \r\n\r\nI have tried to use `&lt;grovvy.version&gt;` tag inside `&lt;properties&gt;` tag in pom file to prevent spring from downloading `grovvy` automatically but even that is not helpful. Surprising is the fact that even `grovvy` dependency in my pom is set to version `2.5.13`.\r\n\r\nThis my pom(parent pom),\r\n\r\n```\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.6&lt;/version&gt;\r\n    &lt;relativePath/&gt;\r\n  &lt;/parent&gt;\r\n\r\n &lt;properties&gt;\r\n   .\r\n   .\r\n   .\r\n&lt;groovy.version&gt;2.5.13&lt;/groovy.version&gt;\r\n  &lt;/properties&gt;\r\n```\r\n\r\nThis is a child pom to the above pom where I am actually setting dependency for `grovvy`,\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n      &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nCan anybody tell me why is spring overriding my version and how can stop it.\r\n\r\n","title":"Spring downloading upgraded version automatically","body":"<p>In my application I am using <code>grovvy</code> dependency for using a class called <code>GrovvyClassLoader</code>. Earlier I was using spring version <code>2.2.11.RELEASE</code> and my <code>grovvy</code> was on <code>2.5.13</code>. Since I have upgraded to spring <code>2.6.6</code>, it tends to download <code>grovvy</code> version <code>3.0.10</code> automatically.</p>\n<p>I have tried to use <code>&lt;grovvy.version&gt;</code> tag inside <code>&lt;properties&gt;</code> tag in pom file to prevent spring from downloading <code>grovvy</code> automatically but even that is not helpful. Surprising is the fact that even <code>grovvy</code> dependency in my pom is set to version <code>2.5.13</code>.</p>\n<p>This my pom(parent pom),</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.6&lt;/version&gt;\n    &lt;relativePath/&gt;\n  &lt;/parent&gt;\n\n &lt;properties&gt;\n   .\n   .\n   .\n&lt;groovy.version&gt;2.5.13&lt;/groovy.version&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>This is a child pom to the above pom where I am actually setting dependency for <code>grovvy</code>,</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n      &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n      &lt;version&gt;2.5.13&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Can anybody tell me why is spring overriding my version and how can stop it.</p>\n"},{"tags":["java","android","json","org.json"],"comments":[{"owner":{"account_id":147366,"reputation":12038,"user_id":358435,"accept_rate":68,"display_name":"karthick"},"score":2,"creation_date":1532139660,"post_id":51452188,"comment_id":89874529,"body_markdown":"which version of the library are you using? I am not able to reproduce the issue in json-20180130.jar   https://mvnrepository.com/artifact/org.json/json/20180130","body":"which version of the library are you using? I am not able to reproduce the issue in json-20180130.jar   <a href=\"https://mvnrepository.com/artifact/org.json/json/20180130\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.json/json/20180130</a>"},{"owner":{"account_id":5711782,"reputation":164,"user_id":4513526,"display_name":"xiurobert"},"score":0,"creation_date":1532141134,"post_id":51452188,"comment_id":89874669,"body_markdown":"@karthick im using the one bundled with android api 26. Not sure which one that would be","body":"@karthick im using the one bundled with android api 26. Not sure which one that would be"}],"answers":[{"tags":[],"owner":{"account_id":10514107,"reputation":395,"user_id":7748753,"display_name":"Himanshu itmca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532348588,"creation_date":1532348588,"answer_id":51478702,"question_id":51452188,"body_markdown":"This is working perfectly\r\n\r\n    String json = &quot;{\\&quot;status\\&quot;:200,\\&quot;message\\&quot;:\\&quot;200 Request is valid\\&quot;,\\&quot;job\\&quot;:{\\&quot;Id\\&quot;:1,\\&quot;Jobtitle\\&quot;:\\&quot;Test Job\\&quot;,\\&quot;Description\\&quot;:\\&quot;Asthma\\&quot;,\\&quot;Medicalcondition\\&quot;:\\&quot;Asthma\\&quot;,\\&quot;Language\\&quot;:\\&quot;English\\&quot;,\\&quot;Racereligion\\&quot;:\\&quot;Chinese\\&quot;,\\&quot;Agegender\\&quot;:\\&quot;50, Female\\&quot;,\\&quot;Hourlyprice\\&quot;:42,\\&quot;Type\\&quot;:\\&quot;caregiver\\&quot;,\\&quot;Date\\&quot;:\\&quot;2019-05-12T00:00:00+08:00\\&quot;,\\&quot;Starttime\\&quot;:\\&quot;2018-07-20T12:15:00+08:00\\&quot;,\\&quot;Endtime\\&quot;:\\&quot;2018-07-20T18:15:00+08:00\\&quot;,\\&quot;Address\\&quot;:\\&quot;1 Cluny Road\\&quot;,\\&quot;Latitude\\&quot;:1.3152057,\\&quot;Longitude\\&quot;:103.8162553,\\&quot;Creator\\&quot;:\\&quot;xiurobert\\&quot;}}&quot;;\r\n            try\r\n            {\r\n                JSONObject jsonObject = new JSONObject(json);\r\n                Log.i(&quot;TAG&quot;, &quot;a: &quot;+jsonObject.toString());\r\n    \r\n            } catch (JSONException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\nwhere are you getting error","title":"org.json.JSONObject creating JSONObject from string threw java.lang.RuntimeException","body":"<p>This is working perfectly</p>\n\n<pre><code>String json = \"{\\\"status\\\":200,\\\"message\\\":\\\"200 Request is valid\\\",\\\"job\\\":{\\\"Id\\\":1,\\\"Jobtitle\\\":\\\"Test Job\\\",\\\"Description\\\":\\\"Asthma\\\",\\\"Medicalcondition\\\":\\\"Asthma\\\",\\\"Language\\\":\\\"English\\\",\\\"Racereligion\\\":\\\"Chinese\\\",\\\"Agegender\\\":\\\"50, Female\\\",\\\"Hourlyprice\\\":42,\\\"Type\\\":\\\"caregiver\\\",\\\"Date\\\":\\\"2019-05-12T00:00:00+08:00\\\",\\\"Starttime\\\":\\\"2018-07-20T12:15:00+08:00\\\",\\\"Endtime\\\":\\\"2018-07-20T18:15:00+08:00\\\",\\\"Address\\\":\\\"1 Cluny Road\\\",\\\"Latitude\\\":1.3152057,\\\"Longitude\\\":103.8162553,\\\"Creator\\\":\\\"xiurobert\\\"}}\";\n        try\n        {\n            JSONObject jsonObject = new JSONObject(json);\n            Log.i(\"TAG\", \"a: \"+jsonObject.toString());\n\n        } catch (JSONException e)\n        {\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>where are you getting error</p>\n"},{"tags":[],"owner":{"account_id":9212208,"reputation":1425,"user_id":6844910,"display_name":"Dushan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661228502,"creation_date":1661228502,"answer_id":73453112,"question_id":51452188,"body_markdown":"In my case i have used `org.json.JSONObject` and `org.json.JSONArray`. Then i changed the imports to `org.json.simple.JSONObject` and `org.json.simple.JSONArray` and my code worked without any issues.\r\n\r\n","title":"org.json.JSONObject creating JSONObject from string threw java.lang.RuntimeException","body":"<p>In my case i have used <code>org.json.JSONObject</code> and <code>org.json.JSONArray</code>. Then i changed the imports to <code>org.json.simple.JSONObject</code> and <code>org.json.simple.JSONArray</code> and my code worked without any issues.</p>\n"}],"owner":{"account_id":5711782,"reputation":164,"user_id":4513526,"display_name":"xiurobert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1967,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1661228502,"creation_date":1532138441,"question_id":51452188,"body_markdown":"I&#39;ve been trying to figure out why constructing a `org.json.JSONObject` from a string json would not work for very long.\r\n\r\nHere is the json string (pretty)\r\n\r\n\r\n    {\r\n        &quot;status&quot;: 200,\r\n        &quot;message&quot;: &quot;200 Request is valid&quot;,\r\n        &quot;job&quot;: {\r\n            &quot;Id&quot;: 1,\r\n            &quot;Jobtitle&quot;: &quot;Test Job&quot;,\r\n            &quot;Description&quot;: &quot;Asthma&quot;,\r\n            &quot;Medicalcondition&quot;: &quot;Asthma&quot;,\r\n            &quot;Language&quot;: &quot;English&quot;,\r\n            &quot;Racereligion&quot;: &quot;Chinese&quot;,\r\n            &quot;Agegender&quot;: &quot;50, Female&quot;,\r\n            &quot;Hourlyprice&quot;: 42,\r\n            &quot;Type&quot;: &quot;caregiver&quot;,\r\n            &quot;Date&quot;: &quot;2019-05-12T00:00:00+08:00&quot;,\r\n            &quot;Starttime&quot;: &quot;2018-07-20T12:15:00+08:00&quot;,\r\n            &quot;Endtime&quot;: &quot;2018-07-20T18:15:00+08:00&quot;,\r\n            &quot;Address&quot;: &quot;1 Cluny Road&quot;,\r\n            &quot;Latitude&quot;: 1.3152057,\r\n            &quot;Longitude&quot;: 103.8162553,\r\n            &quot;Creator&quot;: &quot;xiurobert&quot;\r\n        }\r\n    }\r\n\r\nand minified (the one that I&#39;m attempting to construct a JSONObject from)\r\n\r\n    String json = &quot;{\\&quot;status\\&quot;:200,\\&quot;message\\&quot;:\\&quot;200 Request is valid\\&quot;,\\&quot;job\\&quot;:{\\&quot;Id\\&quot;:1,\\&quot;Jobtitle\\&quot;:\\&quot;Test Job\\&quot;,\\&quot;Description\\&quot;:\\&quot;Asthma\\&quot;,\\&quot;Medicalcondition\\&quot;:\\&quot;Asthma\\&quot;,\\&quot;Language\\&quot;:\\&quot;English\\&quot;,\\&quot;Racereligion\\&quot;:\\&quot;Chinese\\&quot;,\\&quot;Agegender\\&quot;:\\&quot;50, Female\\&quot;,\\&quot;Hourlyprice\\&quot;:42,\\&quot;Type\\&quot;:\\&quot;caregiver\\&quot;,\\&quot;Date\\&quot;:\\&quot;2019-05-12T00:00:00+08:00\\&quot;,\\&quot;Starttime\\&quot;:\\&quot;2018-07-20T12:15:00+08:00\\&quot;,\\&quot;Endtime\\&quot;:\\&quot;2018-07-20T18:15:00+08:00\\&quot;,\\&quot;Address\\&quot;:\\&quot;1 Cluny Road\\&quot;,\\&quot;Latitude\\&quot;:1.3152057,\\&quot;Longitude\\&quot;:103.8162553,\\&quot;Creator\\&quot;:\\&quot;xiurobert\\&quot;}}&quot;;\r\n\r\nConstructor\r\n\r\n    JSONObject jsonObject = new JSONObject(json)\r\n\r\nHowever, this resulted in a `java.lang.RuntimeException: Cannot evaluate org.json.JSONObject.toString()`\r\n\r\nI&#39;ve even tried using gson to parse the string first and then output it back to the new JSONObject but it seems like it didn&#39;t work.\r\n\r\nAny reasons why?\r\n\r\n","title":"org.json.JSONObject creating JSONObject from string threw java.lang.RuntimeException","body":"<p>I've been trying to figure out why constructing a <code>org.json.JSONObject</code> from a string json would not work for very long.</p>\n\n<p>Here is the json string (pretty)</p>\n\n<pre><code>{\n    \"status\": 200,\n    \"message\": \"200 Request is valid\",\n    \"job\": {\n        \"Id\": 1,\n        \"Jobtitle\": \"Test Job\",\n        \"Description\": \"Asthma\",\n        \"Medicalcondition\": \"Asthma\",\n        \"Language\": \"English\",\n        \"Racereligion\": \"Chinese\",\n        \"Agegender\": \"50, Female\",\n        \"Hourlyprice\": 42,\n        \"Type\": \"caregiver\",\n        \"Date\": \"2019-05-12T00:00:00+08:00\",\n        \"Starttime\": \"2018-07-20T12:15:00+08:00\",\n        \"Endtime\": \"2018-07-20T18:15:00+08:00\",\n        \"Address\": \"1 Cluny Road\",\n        \"Latitude\": 1.3152057,\n        \"Longitude\": 103.8162553,\n        \"Creator\": \"xiurobert\"\n    }\n}\n</code></pre>\n\n<p>and minified (the one that I'm attempting to construct a JSONObject from)</p>\n\n<pre><code>String json = \"{\\\"status\\\":200,\\\"message\\\":\\\"200 Request is valid\\\",\\\"job\\\":{\\\"Id\\\":1,\\\"Jobtitle\\\":\\\"Test Job\\\",\\\"Description\\\":\\\"Asthma\\\",\\\"Medicalcondition\\\":\\\"Asthma\\\",\\\"Language\\\":\\\"English\\\",\\\"Racereligion\\\":\\\"Chinese\\\",\\\"Agegender\\\":\\\"50, Female\\\",\\\"Hourlyprice\\\":42,\\\"Type\\\":\\\"caregiver\\\",\\\"Date\\\":\\\"2019-05-12T00:00:00+08:00\\\",\\\"Starttime\\\":\\\"2018-07-20T12:15:00+08:00\\\",\\\"Endtime\\\":\\\"2018-07-20T18:15:00+08:00\\\",\\\"Address\\\":\\\"1 Cluny Road\\\",\\\"Latitude\\\":1.3152057,\\\"Longitude\\\":103.8162553,\\\"Creator\\\":\\\"xiurobert\\\"}}\";\n</code></pre>\n\n<p>Constructor</p>\n\n<pre><code>JSONObject jsonObject = new JSONObject(json)\n</code></pre>\n\n<p>However, this resulted in a <code>java.lang.RuntimeException: Cannot evaluate org.json.JSONObject.toString()</code></p>\n\n<p>I've even tried using gson to parse the string first and then output it back to the new JSONObject but it seems like it didn't work.</p>\n\n<p>Any reasons why?</p>\n"},{"tags":["java"],"owner":{"account_id":21025048,"reputation":11,"user_id":15450589,"display_name":"Kyle Stan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661227287,"creation_date":1661227287,"question_id":73453007,"body_markdown":"heres my code\r\n\r\n    @Autowired\r\n    HttpSession httpSession;\r\n\r\n    @GetMapping(&quot;/getproductlist&quot;)\r\n    @CrossOrigin\r\n    @ResponseBody\r\n    public Map&lt;String,Object&gt; getproductlist(HttpServletRequest request,HttpSession session)\r\n    {\r\n        Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\r\n        shop currshop = new shop();\r\n        currshop.setShop_id(1l);\r\n        request.getSession().setAttribute(&quot;currshop&quot;,currshop);\r\n        httpSession.setAttribute(&quot;currshop&quot;,currshop);\r\n\r\n\r\n        shop currshop2 = (com.o2o.shop.entity.shop) httpSession.getAttribute(&quot;currshop&quot;);\r\n\r\n        System.out.println(&quot;====================&quot;+currshop2.getShop_id());\r\n\r\n        List&lt;productCategory&gt; list = null;\r\n\r\n        if(currshop2 != null &amp;&amp; currshop2.getShop_id() != null)\r\n        {\r\n            list = pcategoryService.queryProductCategoryList(currshop.getShop_id());\r\n            map.put(&quot;pcategory&quot;,list);\r\n        }else{\r\n            map.put(&quot;success&quot;,false);\r\n        }\r\n        return map;\r\n    }\r\nits works if in this request\r\nbut its always null when i try next request\r\n\r\n    @PostMapping(value = &quot;/insertBatch&quot;)\r\n    @CrossOrigin\r\n    @ResponseBody\r\n    public Map&lt;String,Object&gt; insertBatch(@RequestBody List&lt;productCategory&gt; pcategory,HttpServletRequest request)  {\r\n        Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\r\n        int a =-1;\r\n        shop currshop2 = (com.o2o.shop.entity.shop) httpSession.getAttribute(&quot;currshop&quot;);\r\n\r\n        System.out.println(&quot;====================&quot;+currshop2 .getShop_id());\r\n\r\n        for(productCategory pc : pcategory)\r\n        {\r\n            pc.setShop_id(currshop2 .getShop_id());\r\n        }\r\n        if(pcategory != null &amp;&amp; pcategory.size() != 0)\r\n        {\r\n            a = pcategoryService.insertBatch(pcategory);\r\n            map.put(&quot;success&quot;,a);\r\n        }else{\r\n            a=0;\r\n            map.put(&quot;success&quot;,&quot;empty list&quot;);\r\n        }\r\n        return map;\r\n    }\r\nis it browser problem or i missing something?\r\nheres the error list\r\n\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656)\r\n\tat org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:292)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:137)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.NullPointerException: null\r\n\r\n \r\ni was try to fix this issue for 2 day.but i cant not figure out why i \r\nalways can not get session attribute when trying to get diffrerent page\r\nand fetch the right attribute\r\n  \r\n","title":"session attribute receive null when crossing diffrent request in spring boot","body":"<p>heres my code</p>\n<pre><code>@Autowired\nHttpSession httpSession;\n\n@GetMapping(&quot;/getproductlist&quot;)\n@CrossOrigin\n@ResponseBody\npublic Map&lt;String,Object&gt; getproductlist(HttpServletRequest request,HttpSession session)\n{\n    Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\n    shop currshop = new shop();\n    currshop.setShop_id(1l);\n    request.getSession().setAttribute(&quot;currshop&quot;,currshop);\n    httpSession.setAttribute(&quot;currshop&quot;,currshop);\n\n\n    shop currshop2 = (com.o2o.shop.entity.shop) httpSession.getAttribute(&quot;currshop&quot;);\n\n    System.out.println(&quot;====================&quot;+currshop2.getShop_id());\n\n    List&lt;productCategory&gt; list = null;\n\n    if(currshop2 != null &amp;&amp; currshop2.getShop_id() != null)\n    {\n        list = pcategoryService.queryProductCategoryList(currshop.getShop_id());\n        map.put(&quot;pcategory&quot;,list);\n    }else{\n        map.put(&quot;success&quot;,false);\n    }\n    return map;\n}\n</code></pre>\n<p>its works if in this request\nbut its always null when i try next request</p>\n<pre><code>@PostMapping(value = &quot;/insertBatch&quot;)\n@CrossOrigin\n@ResponseBody\npublic Map&lt;String,Object&gt; insertBatch(@RequestBody List&lt;productCategory&gt; pcategory,HttpServletRequest request)  {\n    Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\n    int a =-1;\n    shop currshop2 = (com.o2o.shop.entity.shop) httpSession.getAttribute(&quot;currshop&quot;);\n\n    System.out.println(&quot;====================&quot;+currshop2 .getShop_id());\n\n    for(productCategory pc : pcategory)\n    {\n        pc.setShop_id(currshop2 .getShop_id());\n    }\n    if(pcategory != null &amp;&amp; pcategory.size() != 0)\n    {\n        a = pcategoryService.insertBatch(pcategory);\n        map.put(&quot;success&quot;,a);\n    }else{\n        a=0;\n        map.put(&quot;success&quot;,&quot;empty list&quot;);\n    }\n    return map;\n}\n</code></pre>\n<p>is it browser problem or i missing something?\nheres the error list</p>\n<pre><code>at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\nat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\nat org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656)\nat org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:292)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\nat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\nat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\nat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\nat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\nat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\nat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\nat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\nat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\nat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat org.eclipse.jetty.server.Server.handle(Server.java:516)\nat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\nat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\nat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\nat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\nat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\nat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\nat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:137)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Caused by: java.lang.NullPointerException: null</p>\n<p>i was try to fix this issue for 2 day.but i cant not figure out why i\nalways can not get session attribute when trying to get diffrerent page\nand fetch the right attribute</p>\n"},{"tags":["java","cassandra","talend","datastax-enterprise","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":5553836,"reputation":11478,"user_id":4406006,"display_name":"Andy Tolbert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1518717251,"creation_date":1518717251,"answer_id":48813479,"question_id":48813091,"body_markdown":"DataStax provides a tarball that includes all dependencies which can be downloaded from [here](http://downloads.datastax.com/java-driver/dse/).\r\n\r\nUsing maven and the `dependency:tree` goal, I generated the dependency tree for 1.5.0\r\n\r\n```\r\n[INFO] com.datastax.dse:dse-java-driver-core:jar:1.5.0\r\n[INFO] +- io.netty:netty-handler:jar:4.0.47.Final:compile\r\n[INFO] |  +- io.netty:netty-buffer:jar:4.0.47.Final:compile\r\n[INFO] |  +- io.netty:netty-transport:jar:4.0.47.Final:compile\r\n[INFO] |  \\- io.netty:netty-codec:jar:4.0.47.Final:compile\r\n[INFO] +- com.google.guava:guava:jar:19.0:compile\r\n[INFO] +- io.dropwizard.metrics:metrics-core:jar:3.2.2:compile\r\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.25:compile\r\n[INFO] +- com.github.jnr:jnr-ffi:jar:2.0.7:compile\r\n[INFO] |  +- com.github.jnr:jffi:jar:1.2.10:compile\r\n[INFO] |  +- com.github.jnr:jffi:jar:native:1.2.10:runtime\r\n[INFO] |  +- org.ow2.asm:asm:jar:5.0.3:compile\r\n[INFO] |  +- org.ow2.asm:asm-commons:jar:5.0.3:compile\r\n[INFO] |  +- org.ow2.asm:asm-analysis:jar:5.0.3:compile\r\n[INFO] |  +- org.ow2.asm:asm-tree:jar:5.0.3:compile\r\n[INFO] |  +- org.ow2.asm:asm-util:jar:5.0.3:compile\r\n[INFO] |  \\- com.github.jnr:jnr-x86asm:jar:1.0.2:compile\r\n[INFO] +- com.github.jnr:jnr-posix:jar:3.0.27:compile\r\n[INFO] |  \\- com.github.jnr:jnr-constants:jar:0.9.0:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.8.8:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-annotations:jar:2.8.8:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.7.9.2:compile\r\n[INFO] +- com.esri.geometry:esri-geometry-api:jar:1.2.1:compile\r\n[INFO] |  +- org.json:json:jar:20090211:compile\r\n[INFO] |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.12:compile\r\n[INFO] +- org.xerial.snappy:snappy-java:jar:1.1.2.6:compile\r\n[INFO] +- net.jpountz.lz4:lz4:jar:1.3.0:compile\r\n[INFO] +- io.netty:netty-transport-native-epoll:jar:4.0.47.Final:compile\r\n[INFO] |  \\- io.netty:netty-common:jar:4.0.47.Final:compile\r\n[INFO] \\- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile\r\n```\r\n\r\nNote that the jnr jars and their dependencies are optional, as well as the metrics library (if you use `withoutMetrics` in your `Cluster.builder()`).  The lz4 and snappy libraries are also optional (only needed if you use compression)","title":"What are the dependent JAR files needed for dse-java-driver-core-1.5.0.jar?","body":"<p>DataStax provides a tarball that includes all dependencies which can be downloaded from <a href=\"http://downloads.datastax.com/java-driver/dse/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Using maven and the <code>dependency:tree</code> goal, I generated the dependency tree for 1.5.0</p>\n\n<p><code>\n[INFO] com.datastax.dse:dse-java-driver-core:jar:1.5.0\n[INFO] +- io.netty:netty-handler:jar:4.0.47.Final:compile\n[INFO] |  +- io.netty:netty-buffer:jar:4.0.47.Final:compile\n[INFO] |  +- io.netty:netty-transport:jar:4.0.47.Final:compile\n[INFO] |  \\- io.netty:netty-codec:jar:4.0.47.Final:compile\n[INFO] +- com.google.guava:guava:jar:19.0:compile\n[INFO] +- io.dropwizard.metrics:metrics-core:jar:3.2.2:compile\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.25:compile\n[INFO] +- com.github.jnr:jnr-ffi:jar:2.0.7:compile\n[INFO] |  +- com.github.jnr:jffi:jar:1.2.10:compile\n[INFO] |  +- com.github.jnr:jffi:jar:native:1.2.10:runtime\n[INFO] |  +- org.ow2.asm:asm:jar:5.0.3:compile\n[INFO] |  +- org.ow2.asm:asm-commons:jar:5.0.3:compile\n[INFO] |  +- org.ow2.asm:asm-analysis:jar:5.0.3:compile\n[INFO] |  +- org.ow2.asm:asm-tree:jar:5.0.3:compile\n[INFO] |  +- org.ow2.asm:asm-util:jar:5.0.3:compile\n[INFO] |  \\- com.github.jnr:jnr-x86asm:jar:1.0.2:compile\n[INFO] +- com.github.jnr:jnr-posix:jar:3.0.27:compile\n[INFO] |  \\- com.github.jnr:jnr-constants:jar:0.9.0:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.8.8:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-annotations:jar:2.8.8:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.7.9.2:compile\n[INFO] +- com.esri.geometry:esri-geometry-api:jar:1.2.1:compile\n[INFO] |  +- org.json:json:jar:20090211:compile\n[INFO] |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.12:compile\n[INFO] +- org.xerial.snappy:snappy-java:jar:1.1.2.6:compile\n[INFO] +- net.jpountz.lz4:lz4:jar:1.3.0:compile\n[INFO] +- io.netty:netty-transport-native-epoll:jar:4.0.47.Final:compile\n[INFO] |  \\- io.netty:netty-common:jar:4.0.47.Final:compile\n[INFO] \\- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile\n</code></p>\n\n<p>Note that the jnr jars and their dependencies are optional, as well as the metrics library (if you use <code>withoutMetrics</code> in your <code>Cluster.builder()</code>).  The lz4 and snappy libraries are also optional (only needed if you use compression)</p>\n"}],"owner":{"account_id":12954993,"reputation":5,"user_id":9366151,"display_name":"Kevin Carpenter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48813479,"answer_count":1,"score":0,"last_activity_date":1661226683,"creation_date":1518715880,"question_id":48813091,"body_markdown":"I am trying to use the DataStax Java driver in Talend to generate TimeUUIDs; however I keep getting a class not found exception. I am pretty sure the reason is because at execution time the JAR file is reaching out to some external repositories on the web to get dependent libraries and my work&#39;s network firewall is blocking Talend from getting those dependencies. Are there specific JARs that I can download and install into Talend manually so that my jobs don&#39;t need to reach out to the web for the libraries at execution time?\r\n\r\nI am using:\r\n\r\n - Talend Open Studio for Big Data version 6.4.1\r\n - Oracle Java JDK 8 Update 161 (Standard Edition)\r\n - Windows 10 Enterprise 64-bit version 1709\r\n - dse-java-driver-core-1.5.0.jar","title":"What are the dependent JAR files needed for dse-java-driver-core-1.5.0.jar?","body":"<p>I am trying to use the DataStax Java driver in Talend to generate TimeUUIDs; however I keep getting a class not found exception. I am pretty sure the reason is because at execution time the JAR file is reaching out to some external repositories on the web to get dependent libraries and my work's network firewall is blocking Talend from getting those dependencies. Are there specific JARs that I can download and install into Talend manually so that my jobs don't need to reach out to the web for the libraries at execution time?</p>\n\n<p>I am using:</p>\n\n<ul>\n<li>Talend Open Studio for Big Data version 6.4.1</li>\n<li>Oracle Java JDK 8 Update 161 (Standard Edition)</li>\n<li>Windows 10 Enterprise 64-bit version 1709</li>\n<li>dse-java-driver-core-1.5.0.jar</li>\n</ul>\n"},{"tags":["java","functional-programming","java-8","option-type"],"comments":[{"owner":{"account_id":6881348,"reputation":678,"user_id":5287968,"display_name":"Bryce Rogers"},"score":0,"creation_date":1479963448,"post_id":40778248,"comment_id":68780118,"body_markdown":"Possible duplicate of [Uses for Optional](http://stackoverflow.com/questions/23454952/uses-for-optional)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/23454952/uses-for-optional\">Uses for Optional</a>"},{"owner":{"account_id":4176805,"reputation":25534,"user_id":3423097,"accept_rate":50,"display_name":"Mritunjay"},"score":1,"creation_date":1479963608,"post_id":40778248,"comment_id":68780165,"body_markdown":"Possible duplicate of [Optional vs. null. What is the purpose of Optional in Java 8?](http://stackoverflow.com/questions/28746482/optional-vs-null-what-is-the-purpose-of-optional-in-java-8)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/28746482/optional-vs-null-what-is-the-purpose-of-optional-in-java-8\">Optional vs. null. What is the purpose of Optional in Java 8?</a>"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1479963684,"post_id":40778248,"comment_id":68780182,"body_markdown":"Well, for one thing, you can use `x.toString()` on an `Optional` that isn&#39;t present, but you can&#39;t use it on a `null`.  Also something like `x.equals(y)`.","body":"Well, for one thing, you can use <code>x.toString()</code> on an <code>Optional</code> that isn&#39;t present, but you can&#39;t use it on a <code>null</code>.  Also something like <code>x.equals(y)</code>."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1479963883,"post_id":40778248,"comment_id":68780253,"body_markdown":"I don&#39;t think avoiding exceptions is the big benefit [other than what I mentioned in my other comment].  If your code is broken, you won&#39;t get `NullPointerException` as often but you might get `NoSuchElementException`.  Big deal.  I think a bigger benefit is that if you use `Optional` consistently, so that a value can be present or `empty`, then when you get a `NullPointerException` you know that your code did something really wrong, like forgetting to initialize something.","body":"I don&#39;t think avoiding exceptions is the big benefit [other than what I mentioned in my other comment].  If your code is broken, you won&#39;t get <code>NullPointerException</code> as often but you might get <code>NoSuchElementException</code>.  Big deal.  I think a bigger benefit is that if you use <code>Optional</code> consistently, so that a value can be present or <code>empty</code>, then when you get a <code>NullPointerException</code> you know that your code did something really wrong, like forgetting to initialize something."}],"answers":[{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1480064291,"creation_date":1480064291,"answer_id":40801034,"question_id":40778248,"body_markdown":"Let&#39;s say you want to get a string returned by a function, convert it to upper case, and then print it out. If you have:\r\n\r\n    String someFunc() { ... }\r\n\r\nYou might be tempted to write:\r\n\r\n    System.out.println(someFunc().toUpperCase());\r\n\r\nOf course, this throws `NullPointerException` if `someFunc` returns `null`. Instead, suppose we have this:\r\n\r\n    Optional&lt;String&gt; someFunc() { ... }\r\n\r\nThen\r\n\r\n    System.out.println(someFunc().toUpperCase());\r\n\r\nwon&#39;t work, since `Optional` doesn&#39;t have a `toUpperCase` method. At this point -- hopefully -- you&#39;ll be confronted with an `Optional`, which should make you think about the case of the `Optional` being empty. This helps avoid NPEs, but probably only somewhat.\r\n\r\nNow you might be focusing on how to get the value out of the `Optional`, and you might forget about the empty case. Ah, there&#39;s a `get` method:\r\n\r\n    System.out.println(someFunc().get().toUpperCase());\r\n\r\nThis brings back the same problem as NPE, except that the exception is `NoSuchElementException` instead. So if you blindly call `get` on an `Optional`, it really is pretty much the same thing as calling a method on a reference without checking whether it&#39;s null.\r\n\r\n(For this reason, [Brian Goetz][1] considers `Optional.get` to be the biggest mistake in Java 8. See his interview with Angelika Langer [*JAX 2015 Fragen und Antworten zu Java 8*][2] at about 16 minutes in. I&#39;m not sure it&#39;s the biggest, but it is a mistake. People just don&#39;t expect `get` to throw an exception.)\r\n\r\nIf you&#39;re diligent about checking for null references or empty optionals, then\r\n\r\n    Optional&lt;String&gt; os = someFunc();\r\n    if (os.isPresent()) {\r\n        System.out.println(os.get().toUpperCase());\r\n    }\r\n\r\nis hardly any better than the old\r\n\r\n    String s = someFunc();\r\n    if (s != null) {\r\n        System.out.println(s.toUpperCase());\r\n    }\r\n\r\nThe **real** advantage of `Optional` is that it&#39;s a library class that has a fairly rich API for dealing with the empty case in a safe way. It&#39;s often possible to process the value that might be contained within an `Optional` by chaining a couple method calls to the method that returned the `Optional` in the first place. For example, we could rewrite the sample above as follows:\r\n\r\n    someFunc().map(String::toUpperCase)\r\n              .ifPresent(System.out::println);\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3553087/brian-goetz\r\n  [2]: https://jaxenter.de/fragen-und-antworten-zu-java-8-qa-33108","title":"Null check vs Optional isPresent check","body":"<p>Let's say you want to get a string returned by a function, convert it to upper case, and then print it out. If you have:</p>\n\n<pre><code>String someFunc() { ... }\n</code></pre>\n\n<p>You might be tempted to write:</p>\n\n<pre><code>System.out.println(someFunc().toUpperCase());\n</code></pre>\n\n<p>Of course, this throws <code>NullPointerException</code> if <code>someFunc</code> returns <code>null</code>. Instead, suppose we have this:</p>\n\n<pre><code>Optional&lt;String&gt; someFunc() { ... }\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>System.out.println(someFunc().toUpperCase());\n</code></pre>\n\n<p>won't work, since <code>Optional</code> doesn't have a <code>toUpperCase</code> method. At this point -- hopefully -- you'll be confronted with an <code>Optional</code>, which should make you think about the case of the <code>Optional</code> being empty. This helps avoid NPEs, but probably only somewhat.</p>\n\n<p>Now you might be focusing on how to get the value out of the <code>Optional</code>, and you might forget about the empty case. Ah, there's a <code>get</code> method:</p>\n\n<pre><code>System.out.println(someFunc().get().toUpperCase());\n</code></pre>\n\n<p>This brings back the same problem as NPE, except that the exception is <code>NoSuchElementException</code> instead. So if you blindly call <code>get</code> on an <code>Optional</code>, it really is pretty much the same thing as calling a method on a reference without checking whether it's null.</p>\n\n<p>(For this reason, <a href=\"https://stackoverflow.com/users/3553087/brian-goetz\">Brian Goetz</a> considers <code>Optional.get</code> to be the biggest mistake in Java 8. See his interview with Angelika Langer <a href=\"https://jaxenter.de/fragen-und-antworten-zu-java-8-qa-33108\" rel=\"noreferrer\"><em>JAX 2015 Fragen und Antworten zu Java 8</em></a> at about 16 minutes in. I'm not sure it's the biggest, but it is a mistake. People just don't expect <code>get</code> to throw an exception.)</p>\n\n<p>If you're diligent about checking for null references or empty optionals, then</p>\n\n<pre><code>Optional&lt;String&gt; os = someFunc();\nif (os.isPresent()) {\n    System.out.println(os.get().toUpperCase());\n}\n</code></pre>\n\n<p>is hardly any better than the old</p>\n\n<pre><code>String s = someFunc();\nif (s != null) {\n    System.out.println(s.toUpperCase());\n}\n</code></pre>\n\n<p>The <strong>real</strong> advantage of <code>Optional</code> is that it's a library class that has a fairly rich API for dealing with the empty case in a safe way. It's often possible to process the value that might be contained within an <code>Optional</code> by chaining a couple method calls to the method that returned the <code>Optional</code> in the first place. For example, we could rewrite the sample above as follows:</p>\n\n<pre><code>someFunc().map(String::toUpperCase)\n          .ifPresent(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":289963,"reputation":2107,"user_id":591234,"accept_rate":50,"display_name":"Sashi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647105640,"creation_date":1647105640,"answer_id":71451781,"question_id":40778248,"body_markdown":"    String op = someFunc()\r\n    if(op != null) {\r\n       op.trim();\r\n    }\r\n\r\nWhen the interface someFunc() is invoked above, it doesn&#39;t explicitly say that a null value could be returned, so the caller is left to his/her own assumption.\r\n\r\nBy explicitly returning an Optional, the caller of someFunc() is made aware that the interface could potentially return null. From an interface creator&#39;s perspective, it lets him/her be specific about the return value rather than having to document it separately. \r\n\r\n    Optional&lt;String&gt; op = someFunc()\r\n    if(op.isPresent()) {\r\n       op.get().trim();\r\n    }","title":"Null check vs Optional isPresent check","body":"<pre><code>String op = someFunc()\nif(op != null) {\n   op.trim();\n}\n</code></pre>\n<p>When the interface someFunc() is invoked above, it doesn't explicitly say that a null value could be returned, so the caller is left to his/her own assumption.</p>\n<p>By explicitly returning an Optional, the caller of someFunc() is made aware that the interface could potentially return null. From an interface creator's perspective, it lets him/her be specific about the return value rather than having to document it separately.</p>\n<pre><code>Optional&lt;String&gt; op = someFunc()\nif(op.isPresent()) {\n   op.get().trim();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13072244,"reputation":2184,"user_id":10014361,"display_name":"Aven Desta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661226577,"creation_date":1661226577,"answer_id":73452927,"question_id":40778248,"body_markdown":"One scenario where Optional is helpful in avoiding NullPointerException is method chaining. \r\n```\r\nclass A {\r\n  private B b;\r\n}\r\nclass B {\r\n  private C c;\r\n}\r\nclass C {\r\n  private D d;\r\n}\r\n```\r\nLet&#39;s say I have the above classes, and I want to make sure that an instance of class A has a non-null instance of D, but without causing a null pointer exception. \r\nIf I were to directly call `a.getB().getC().getD() != null`, then it might throw NullPointerException - say if `a.getB()` was null.\r\n\r\nOf course, I can do\r\n```\r\ntry { \r\n  a.getB().getC().getD(); \r\n  // do something\r\n}\r\ncatch(NullPointerException e) {\r\n  // handle exception\r\n};\r\n```\r\nBut that doesn&#39;t look nice. An elegant solution would be to wrap our objects in optional.\r\n\r\n```\r\nOptional.ofNullable(a).map(A::getB).map(B::getC).map(C::getD).isPresent()\r\n```\r\n\r\nCheck [this][1] for more.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3458451/check-chains-of-get-calls-for-null","title":"Null check vs Optional isPresent check","body":"<p>One scenario where Optional is helpful in avoiding NullPointerException is method chaining.</p>\n<pre><code>class A {\n  private B b;\n}\nclass B {\n  private C c;\n}\nclass C {\n  private D d;\n}\n</code></pre>\n<p>Let's say I have the above classes, and I want to make sure that an instance of class A has a non-null instance of D, but without causing a null pointer exception.\nIf I were to directly call <code>a.getB().getC().getD() != null</code>, then it might throw NullPointerException - say if <code>a.getB()</code> was null.</p>\n<p>Of course, I can do</p>\n<pre><code>try { \n  a.getB().getC().getD(); \n  // do something\n}\ncatch(NullPointerException e) {\n  // handle exception\n};\n</code></pre>\n<p>But that doesn't look nice. An elegant solution would be to wrap our objects in optional.</p>\n<pre><code>Optional.ofNullable(a).map(A::getB).map(B::getC).map(C::getD).isPresent()\n</code></pre>\n<p>Check <a href=\"https://stackoverflow.com/questions/3458451/check-chains-of-get-calls-for-null\">this</a> for more.</p>\n"}],"owner":{"account_id":3207382,"reputation":2884,"user_id":2708169,"accept_rate":49,"display_name":"ffff"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52824,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":40801034,"answer_count":3,"score":35,"last_activity_date":1661226577,"creation_date":1479962925,"question_id":40778248,"body_markdown":"Can someone explain how `Optional` helps us avoid `NullPointerException`?\r\n\r\n    Optional&lt;String&gt; op = someFunc()\r\n    if(op.isPresent()) {\r\n       op.get();\r\n    }\r\n    String possibleNull = op.get();\r\n\r\nIsn&#39;t this code prone to `NullPointerException` too? If so, then why is this code preferred over\r\n\r\n    String op = someFunc()\r\n    if(op != null) {\r\n       op.get();\r\n    }\r\n    String possibleNull = op;\r\n\r\nWhat possible benefit does `Optional` provide other than the fact that it helps us in knowing whether a function actually had a return value or not","title":"Null check vs Optional isPresent check","body":"<p>Can someone explain how <code>Optional</code> helps us avoid <code>NullPointerException</code>?</p>\n\n<pre><code>Optional&lt;String&gt; op = someFunc()\nif(op.isPresent()) {\n   op.get();\n}\nString possibleNull = op.get();\n</code></pre>\n\n<p>Isn't this code prone to <code>NullPointerException</code> too? If so, then why is this code preferred over</p>\n\n<pre><code>String op = someFunc()\nif(op != null) {\n   op.get();\n}\nString possibleNull = op;\n</code></pre>\n\n<p>What possible benefit does <code>Optional</code> provide other than the fact that it helps us in knowing whether a function actually had a return value or not</p>\n"},{"tags":["java","sql","cassandra","datastax-java-driver"],"comments":[{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1527846222,"post_id":50640540,"comment_id":88291164,"body_markdown":"QueryBuilder is from which library?","body":"QueryBuilder is from which library?"},{"owner":{"account_id":11641250,"reputation":185,"user_id":8525580,"accept_rate":60,"display_name":"S.P."},"score":0,"creation_date":1527846407,"post_id":50640540,"comment_id":88291281,"body_markdown":"from com.datastax.driver.core.querybuilder.QueryBuilder","body":"from com.datastax.driver.core.querybuilder.QueryBuilder"},{"owner":{"account_id":8689793,"reputation":2088,"user_id":6503002,"accept_rate":100,"display_name":"amicoderozer"},"score":0,"creation_date":1527847388,"post_id":50640540,"comment_id":88291860,"body_markdown":"Possible duplicate of [PreparedStatement IN clause alternatives?](https://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives\">PreparedStatement IN clause alternatives?</a>"},{"owner":{"account_id":1525199,"reputation":1862,"user_id":1423818,"accept_rate":72,"display_name":"mallikarjun"},"score":0,"creation_date":1527847663,"post_id":50640540,"comment_id":88292025,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/16918853/prepared-statement-with-collection-in-in-clause-in-datastax-cassandra-cql-driver","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/16918853/prepared-statement-with-collection-in-in-clause-in-datastax-cassandra-cql-driver\" title=\"prepared statement with collection in in clause in datastax cassandra cql driver\">stackoverflow.com/questions/16918853/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527850568,"creation_date":1527850568,"answer_id":50641908,"question_id":50640540,"body_markdown":"To achieve this with `QueryBuilder` you need to call the `bindMarker()`, or `bindMarker(&quot;name&quot;)`... See corresponding [Javadocs][1] (example is from it):\r\n\r\n    Insert i = QueryBuilder.insertInto(&quot;test&quot;).value(&quot;k&quot;, 0)\r\n                           .value(&quot;c&quot;, QueryBuilder.bindMarker());\r\n    PreparedStatement p = session.prepare(i.toString());\r\n\r\n  [1]: https://docs.datastax.com/en/drivers/java/3.5/com/datastax/driver/core/querybuilder/QueryBuilder.html#bindMarker--","title":"Query builder in clause to prepared statement","body":"<p>To achieve this with <code>QueryBuilder</code> you need to call the <code>bindMarker()</code>, or <code>bindMarker(\"name\")</code>... See corresponding <a href=\"https://docs.datastax.com/en/drivers/java/3.5/com/datastax/driver/core/querybuilder/QueryBuilder.html#bindMarker--\" rel=\"nofollow noreferrer\">Javadocs</a> (example is from it):</p>\n\n<pre><code>Insert i = QueryBuilder.insertInto(\"test\").value(\"k\", 0)\n                       .value(\"c\", QueryBuilder.bindMarker());\nPreparedStatement p = session.prepare(i.toString());\n</code></pre>\n"}],"owner":{"account_id":11641250,"reputation":185,"user_id":8525580,"accept_rate":60,"display_name":"S.P."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1800,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661226524,"creation_date":1527846112,"question_id":50640540,"body_markdown":"I want to change following query to prepared statement :\r\n\r\n                   \r\n    QueryBuilder.select().column(id).from(studentTable).where(QueryBuilder.in(id,List)).\r\n\r\nI know noramlly this query can be written as : \r\n\r\n    select id from studentTable where id = ?\r\n\r\nHow the same can be achieved by `querybuilder` ?\r\n","title":"Query builder in clause to prepared statement","body":"<p>I want to change following query to prepared statement :</p>\n\n<pre><code>QueryBuilder.select().column(id).from(studentTable).where(QueryBuilder.in(id,List)).\n</code></pre>\n\n<p>I know noramlly this query can be written as : </p>\n\n<pre><code>select id from studentTable where id = ?\n</code></pre>\n\n<p>How the same can be achieved by <code>querybuilder</code> ?</p>\n"},{"tags":["java","cassandra","deserialization","nio","datastax-java-driver"],"comments":[{"owner":{"account_id":3329682,"reputation":931,"user_id":2798897,"display_name":"Julien Revault d&#39;A..."},"score":0,"creation_date":1548863833,"post_id":54444440,"comment_id":95698316,"body_markdown":"Do you really have the need to encapsulate your &#39;attributes.getBytes()&#39; inside a ByteBuffer ? You could just store your array directly and deserialise it...","body":"Do you really have the need to encapsulate your &#39;attributes.getBytes()&#39; inside a ByteBuffer ? You could just store your array directly and deserialise it..."},{"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"score":0,"creation_date":1548865195,"post_id":54444440,"comment_id":95699149,"body_markdown":"Didn&#39;t get your question. Attributes is a  string and ByteBuffer.wrap(takes a bytearray) hence calling getBytes() on it","body":"Didn&#39;t get your question. Attributes is a  string and ByteBuffer.wrap(takes a bytearray) hence calling getBytes() on it"},{"owner":{"account_id":5871401,"reputation":2092,"user_id":4935554,"accept_rate":40,"display_name":"Ng Sharma"},"score":0,"creation_date":1548866982,"post_id":54444440,"comment_id":95700317,"body_markdown":"https://stackoverflow.com/questions/3982704/how-to-serialize-bytebuffer","body":"<a href=\"https://stackoverflow.com/questions/3982704/how-to-serialize-bytebuffer\" title=\"how to serialize bytebuffer\">stackoverflow.com/questions/3982704/how-to-serialize-bytebuf&zwnj;&#8203;fer</a>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1548867003,"post_id":54444440,"comment_id":95700327,"body_markdown":"The error suggests that the data it is not serialized through the Java serialization mechanism. Using `String.getBytes` is just a direct string-to-bytes conversion (`7B226F70` is `{&quot;op` in ASCII, which to me looks like the start of a JSON string converted to bytes). Make sure you use the correct mechanism (which is `new String(thebytes)`. Note though that it would be better to explicitly specify the character set, because right now you&#39;re relying on platform specific encoding","body":"The error suggests that the data it is not serialized through the Java serialization mechanism. Using <code>String.getBytes</code> is just a direct string-to-bytes conversion (<code>7B226F70</code> is <code>{&quot;op</code> in ASCII, which to me looks like the start of a JSON string converted to bytes). Make sure you use the correct mechanism (which is <code>new String(thebytes)</code>. Note though that it would be better to explicitly specify the character set, because right now you&#39;re relying on platform specific encoding"},{"owner":{"account_id":5871401,"reputation":2092,"user_id":4935554,"accept_rate":40,"display_name":"Ng Sharma"},"score":0,"creation_date":1548867102,"post_id":54444440,"comment_id":95700388,"body_markdown":"https://kafka.apache.org/10/javadoc/org/apache/kafka/common/serialization/ByteBufferDeserializer.html","body":"<a href=\"https://kafka.apache.org/10/javadoc/org/apache/kafka/common/serialization/ByteBufferDeserializer.html\" rel=\"nofollow noreferrer\">kafka.apache.org/10/javadoc/org/apache/kafka/common/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3329682,"reputation":931,"user_id":2798897,"display_name":"Julien Revault d&#39;A..."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548866756,"creation_date":1548866756,"answer_id":54445506,"question_id":54444440,"body_markdown":"You should try something like this :\r\n\r\n    byte[] bytes = attributes.getBytes( StandardCharsets.UTF_8 );\r\n    ByteBuffer.wrap(bytes);\r\n\r\nI added StandardCharsets.UTF_8 as getBytes() uses the default charset of your platform.\r\nthen you can get your bytes back with something like :\r\n\r\n    String original = new String( entity.getAttributes(), StandardCharsets.UTF_8 );\r\n\r\nIn fact I don&#39;t know what type is your **entity.getAttributes()** but if it is a byte[] it should work.\r\n","title":"How to deserialize a java.nio.ByteBuffer in Java","body":"<p>You should try something like this :</p>\n\n<pre><code>byte[] bytes = attributes.getBytes( StandardCharsets.UTF_8 );\nByteBuffer.wrap(bytes);\n</code></pre>\n\n<p>I added StandardCharsets.UTF_8 as getBytes() uses the default charset of your platform.\nthen you can get your bytes back with something like :</p>\n\n<pre><code>String original = new String( entity.getAttributes(), StandardCharsets.UTF_8 );\n</code></pre>\n\n<p>In fact I don't know what type is your <strong>entity.getAttributes()</strong> but if it is a byte[] it should work.</p>\n"}],"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2527,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54445506,"answer_count":1,"score":1,"last_activity_date":1661226088,"creation_date":1548863405,"question_id":54444440,"body_markdown":"I converted an object to json String and storing it as Blob in Datastax using `ByteBuffer.wrap(attributes.getBytes())`. How can I convert that back to String and assert in my tests? I tried using \r\n`org.apache.commons.lang3.SerializationUtils.deserialize(entity.getAttributes().array())` but getting an exception\r\n\r\n&gt; org.apache.commons.lang3.SerializationException: java.io.StreamCorruptedException: invalid stream header: 7B226F70\r\n\r\n\tat org.apache.commons.lang3.SerializationUtils.deserialize(SerializationUtils.java:197)\r\n\tat org.apache.commons.lang3.SerializationUtils.deserialize(SerializationUtils.java:223)\r\n\tat com.homedepot.productassortment.fullfeed.util.InstallSkusToProductAssortmentConverterTest.convertInstallSkuToProductAssortmentEntity(InstallSkusToProductAssortmentConverterTest.java:50)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:160)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n\r\n","title":"How to deserialize a java.nio.ByteBuffer in Java","body":"<p>I converted an object to json String and storing it as Blob in Datastax using <code>ByteBuffer.wrap(attributes.getBytes())</code>. How can I convert that back to String and assert in my tests? I tried using \n<code>org.apache.commons.lang3.SerializationUtils.deserialize(entity.getAttributes().array())</code> but getting an exception</p>\n\n<blockquote>\n  <p>org.apache.commons.lang3.SerializationException: java.io.StreamCorruptedException: invalid stream header: 7B226F70</p>\n</blockquote>\n\n<pre><code>at org.apache.commons.lang3.SerializationUtils.deserialize(SerializationUtils.java:197)\nat org.apache.commons.lang3.SerializationUtils.deserialize(SerializationUtils.java:223)\nat com.homedepot.productassortment.fullfeed.util.InstallSkusToProductAssortmentConverterTest.convertInstallSkuToProductAssortmentEntity(InstallSkusToProductAssortmentConverterTest.java:50)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:160)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1661224094,"post_id":73452681,"comment_id":129714641,"body_markdown":"Fails how?  Provide the full error message(s) and stack trace(s) for your failures.","body":"Fails how?  Provide the full error message(s) and stack trace(s) for your failures."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1661224305,"post_id":73452681,"comment_id":129714669,"body_markdown":"And dragging in Apache Commons to convert an input stream to a `byte` array?  Just copy the InputStream to a `ByteArrayOutputStream`.  You can even wrap that `ByteArrayOutputStream` with a base64 encoding stream and save a copy step.","body":"And dragging in Apache Commons to convert an input stream to a <code>byte</code> array?  Just copy the InputStream to a <code>ByteArrayOutputStream</code>.  You can even wrap that <code>ByteArrayOutputStream</code> with a base64 encoding stream and save a copy step."},{"owner":{"account_id":2099763,"reputation":59,"user_id":1867729,"display_name":"amitz27"},"score":0,"creation_date":1661225065,"post_id":73452681,"comment_id":129714753,"body_markdown":"Seems like the corporate firewall maybe blocking the request except for the Microsoft link which seems to be reachable. Error is: \n\norg.w3c.www.protocol.http.HttpException: Connection closed by remote host.","body":"Seems like the corporate firewall maybe blocking the request except for the Microsoft link which seems to be reachable. Error is:   org.w3c.www.protocol.http.HttpException: Connection closed by remote host."}],"owner":{"account_id":2099763,"reputation":59,"user_id":1867729,"display_name":"amitz27"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661225950,"creation_date":1661223588,"question_id":73452681,"body_markdown":"I am trying to convert an image(Web URL) to Base64 encoded string using Java. The below code works fine for the below URL\r\n\r\nhttps://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE1Mu3b\r\n\r\nHowever, fails for most other image URLs\r\n\r\ne.g. https://images.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png\r\n\r\nSeems like it fails in the openStream() step in the code.\r\n\r\n```\r\ntry{\r\n\tURI attURI = new URI(strURL);\r\n\timportanttrace.addWarning(attURI.toASCIIString());\r\n    java.net.URL url = new java.net.URL(attURI.toASCIIString());\r\n    InputStream is = url.openStream(); //erroring\r\n\tbyte[] bytes = org.apache.commons.io.IOUtils.toByteArray(is);\r\n    String res = Base64.getEncoder().encodeToString(bytes);\r\n\treturn res;\r\n}\r\ncatch (Exception e) {\r\nreturn &quot;err&quot;;\r\n}\r\n```\r\n\r\nCan someone help me understand what the issue may be? Thanks for your help!\r\n\r\nEDIT: It is a FIREWALL issue.","title":"Image URL to Base64 encoded data","body":"<p>I am trying to convert an image(Web URL) to Base64 encoded string using Java. The below code works fine for the below URL</p>\n<p><a href=\"https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE1Mu3b\" rel=\"nofollow noreferrer\">https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE1Mu3b</a></p>\n<p>However, fails for most other image URLs</p>\n<p>e.g. <a href=\"https://images.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png\" rel=\"nofollow noreferrer\">https://images.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png</a></p>\n<p>Seems like it fails in the openStream() step in the code.</p>\n<pre><code>try{\n    URI attURI = new URI(strURL);\n    importanttrace.addWarning(attURI.toASCIIString());\n    java.net.URL url = new java.net.URL(attURI.toASCIIString());\n    InputStream is = url.openStream(); //erroring\n    byte[] bytes = org.apache.commons.io.IOUtils.toByteArray(is);\n    String res = Base64.getEncoder().encodeToString(bytes);\n    return res;\n}\ncatch (Exception e) {\nreturn &quot;err&quot;;\n}\n</code></pre>\n<p>Can someone help me understand what the issue may be? Thanks for your help!</p>\n<p>EDIT: It is a FIREWALL issue.</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":15338340,"reputation":1012,"user_id":11066033,"display_name":"Willem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661091577,"creation_date":1661091577,"answer_id":73435293,"question_id":73429170,"body_markdown":"I dont know with what arguments you actually do the call `UserInfo info = service.getInfo(&quot;string&quot;, &quot;string&quot; , int, int, null);` \r\nBut in your test you stub the method for 2 strings, 2 Integers, and 1 String. \r\nIn your class it lookslike your last argument is NULL. So your stub doesn&#39;t match with the actual arguments used. so mockito will throw a `PotentialStubbingProblem` telling you your stub doesn&#39;t match with the actual method called. This can be fixed by adjusting you last parameter for your stub to for example &#39;any()&#39; or `isNull()` or `nullable(String.class)`","title":"Mocked Instance is always Null","body":"<p>I dont know with what arguments you actually do the call <code>UserInfo info = service.getInfo(&quot;string&quot;, &quot;string&quot; , int, int, null);</code>\nBut in your test you stub the method for 2 strings, 2 Integers, and 1 String.\nIn your class it lookslike your last argument is NULL. So your stub doesn't match with the actual arguments used. so mockito will throw a <code>PotentialStubbingProblem</code> telling you your stub doesn't match with the actual method called. This can be fixed by adjusting you last parameter for your stub to for example 'any()' or <code>isNull()</code> or <code>nullable(String.class)</code></p>\n"},{"tags":[],"owner":{"account_id":14406892,"reputation":77,"user_id":10406714,"display_name":"Vinayak49"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661225083,"creation_date":1661225083,"answer_id":73452803,"question_id":73429170,"body_markdown":"Its working when I changed arguments in mocked function call from anyString(), anyInt() to any() i.e \r\nInstead of \r\n```\r\nwhen(service.getInfo(anyString(), anyString(), anyInt(), anyInt()).thenReturn(info);\r\n```\r\nreplaced this with :\r\n```\r\nwhen(service.getInfo(any(), any(), any(), any()).thenReturn(info);\r\n```\r\n\r\nAlso I am avoiding passing of Null argument as I realized its not required as that variable would be always Null","title":"Mocked Instance is always Null","body":"<p>Its working when I changed arguments in mocked function call from anyString(), anyInt() to any() i.e\nInstead of</p>\n<pre><code>when(service.getInfo(anyString(), anyString(), anyInt(), anyInt()).thenReturn(info);\n</code></pre>\n<p>replaced this with :</p>\n<pre><code>when(service.getInfo(any(), any(), any(), any()).thenReturn(info);\n</code></pre>\n<p>Also I am avoiding passing of Null argument as I realized its not required as that variable would be always Null</p>\n"}],"owner":{"account_id":14406892,"reputation":77,"user_id":10406714,"display_name":"Vinayak49"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73452803,"answer_count":2,"score":0,"last_activity_date":1661225083,"creation_date":1661020272,"question_id":73429170,"body_markdown":"Sample Code :\r\nFile : InfoRequestControllerTest.java\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class InfoRequestControllerTest {\r\n\r\nInfoRequestController InfoRequestControllerTest;\r\n\r\n@Mock\r\nService service;\r\n\r\n@Mock\r\nUserInfo info\r\n\r\n@Before\r\npublic void setupMocks() {\r\n        MockitoAnnotations.openMocks(this);\r\n        InfoRequestControllerTest = new InfoRequestController(argmock1, argmock2, argmock3);\r\n\r\n}\r\n\r\n@SneakyThrows\r\n@Test\r\npublic void InfoTest() {\r\n\twhen(service.getInfo(anyString(), anyString(), anyInt(), anyInt(), anyString()).thenReturn(info);\r\n\tRespDto respDto = InfoRequestControllerTest.InfoRequest(&quot;string&quot;, &quot;string&quot;, &quot;string&quot;).call();\r\n\r\n}\r\n```\r\n\r\nFile : InfoRequestController.java\r\n```\r\npublic Callable&lt;UserInfo&gt; InfoRequest() \r\n{\r\n  ...\r\n  UserInfo info = service.getInfo(&quot;string&quot;, &quot;string&quot; , int, int, null);\r\n  ...\r\n}\r\n```\r\n\r\nSo inside this InfoRequest method, I am always getting &quot;info&quot; as null.\r\nI have added &quot;@RunWith(MockitoJUnitRunner.class)&quot; at the beginning of InfoRequestControllerTest class. ALso &quot;MockitoAnnotations.openMocks(this)&quot; is present inside setup class.\r\n\r\nI am not understanding inspite of mocking &quot;info&quot;, why it&#39;s coming Null during the execution of test case.\r\nAny pointers will be really helpful.\r\n","title":"Mocked Instance is always Null","body":"<p>Sample Code :\nFile : InfoRequestControllerTest.java</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class InfoRequestControllerTest {\n\nInfoRequestController InfoRequestControllerTest;\n\n@Mock\nService service;\n\n@Mock\nUserInfo info\n\n@Before\npublic void setupMocks() {\n        MockitoAnnotations.openMocks(this);\n        InfoRequestControllerTest = new InfoRequestController(argmock1, argmock2, argmock3);\n\n}\n\n@SneakyThrows\n@Test\npublic void InfoTest() {\n    when(service.getInfo(anyString(), anyString(), anyInt(), anyInt(), anyString()).thenReturn(info);\n    RespDto respDto = InfoRequestControllerTest.InfoRequest(&quot;string&quot;, &quot;string&quot;, &quot;string&quot;).call();\n\n}\n</code></pre>\n<p>File : InfoRequestController.java</p>\n<pre><code>public Callable&lt;UserInfo&gt; InfoRequest() \n{\n  ...\n  UserInfo info = service.getInfo(&quot;string&quot;, &quot;string&quot; , int, int, null);\n  ...\n}\n</code></pre>\n<p>So inside this InfoRequest method, I am always getting &quot;info&quot; as null.\nI have added &quot;@RunWith(MockitoJUnitRunner.class)&quot; at the beginning of InfoRequestControllerTest class. ALso &quot;MockitoAnnotations.openMocks(this)&quot; is present inside setup class.</p>\n<p>I am not understanding inspite of mocking &quot;info&quot;, why it's coming Null during the execution of test case.\nAny pointers will be really helpful.</p>\n"},{"tags":["java","jenkins","jenkins-plugins","hudson"],"comments":[{"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1661171340,"post_id":73444832,"comment_id":129700853,"body_markdown":"Do you want to recursively traverse and get all files and directories in the workspace?","body":"Do you want to recursively traverse and get all files and directories in the workspace?"},{"owner":{"account_id":320694,"reputation":1530,"user_id":639107,"accept_rate":84,"display_name":"kn_pavan"},"score":0,"creation_date":1661171433,"post_id":73444832,"comment_id":129700892,"body_markdown":"That&#39;s correct @ycr. I would like to include both files and directories, except for the exclusion patten matched ones","body":"That&#39;s correct @ycr. I would like to include both files and directories, except for the exclusion patten matched ones"}],"answers":[{"tags":[],"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661224691,"creation_date":1661223539,"answer_id":73452678,"question_id":73444832,"body_markdown":"You can&#39;t use `hudson.FilePath#listDirectories` with a exclude/include patterns. Hence you will have to implement your own method to get the directories supporting Ant pattern matching. Here is a sample code.\r\n\r\n**Dependency**\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\r\n  &lt;artifactId&gt;ant&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Java Code**\r\n```java\r\nprivate String [] getDirectories(String baseDir, String excludes) {\r\n\r\n    DirSet ds = new DirSet();\r\n    ds.setDir(new File(baseDir));\r\n    for (String token : excludes.split(&quot;,&quot;)) {\r\n        ds.createExclude().setName(token);\r\n    }\r\n    DirectoryScanner scanner = ds.getDirectoryScanner(new Project());\r\n    String[] directories = scanner.getIncludedDirectories();\r\n\r\n    return directories;\r\n}\r\n```\r\n\r\n**Calling the method**\r\n```java\r\nString excludes = &quot;node_modules/**/*,**/node_modules/**/*,.git/**,.npm*/**,**/.npm*/**,**/.nvm*/**,**/cronus/**,**/.cache/**,**/npmtmp/**,**/.tmp/**&quot;;\r\nString dir = &quot;/SOME/DIR&quot;;\r\nString[] directories = getDirectories(dir, excludes);\r\n```\r\n  [1]: https://github.com/jenkinsci/jenkins/blob/master/core/src/main/java/hudson/FilePath.java#L2051","title":"hudson.FilePath : How to list subDirectories as well whole using excludes glob filter","body":"<p>You can't use <code>hudson.FilePath#listDirectories</code> with a exclude/include patterns. Hence you will have to implement your own method to get the directories supporting Ant pattern matching. Here is a sample code.</p>\n<p><strong>Dependency</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\n  &lt;artifactId&gt;ant&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Java Code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private String [] getDirectories(String baseDir, String excludes) {\n\n    DirSet ds = new DirSet();\n    ds.setDir(new File(baseDir));\n    for (String token : excludes.split(&quot;,&quot;)) {\n        ds.createExclude().setName(token);\n    }\n    DirectoryScanner scanner = ds.getDirectoryScanner(new Project());\n    String[] directories = scanner.getIncludedDirectories();\n\n    return directories;\n}\n</code></pre>\n<p><strong>Calling the method</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>String excludes = &quot;node_modules/**/*,**/node_modules/**/*,.git/**,.npm*/**,**/.npm*/**,**/.nvm*/**,**/cronus/**,**/.cache/**,**/npmtmp/**,**/.tmp/**&quot;;\nString dir = &quot;/SOME/DIR&quot;;\nString[] directories = getDirectories(dir, excludes);\n</code></pre>\n"}],"owner":{"account_id":320694,"reputation":1530,"user_id":639107,"accept_rate":84,"display_name":"kn_pavan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73452678,"answer_count":1,"score":2,"last_activity_date":1661224691,"creation_date":1661169811,"question_id":73444832,"body_markdown":"I am working on a Jenkins custom Plugin, where I need to list all valid FilePaths: sub-Directories and child files, excluding some temporary files like `.git,.npm,.cache etc`, the full list is included in below code sample:\r\n\r\n```java\r\nString excludes = &quot;node_modules/**/*,**/node_modules/**/*,.git/**,.npm*/**,**/.npm*/**,**/.nvm*/**,**/cronus/**,**/.cache/**,**/npmtmp/**,**/.tmp/**&quot;;\r\nFilePath[] validFileAndFolderPaths = workspace.list(&quot;**/*&quot;, excludes);\r\n```\r\n\r\nThe above code is giving me all of the files in the `workspace` FilePath, but not the sub-directories.  \r\n\r\nThere is a method for listing all sub-directories `hudson.FilePath#listDirectories`, but that doesn&#39;t support exclusion list.\r\nAny help on how to achieve this requirement?","title":"hudson.FilePath : How to list subDirectories as well whole using excludes glob filter","body":"<p>I am working on a Jenkins custom Plugin, where I need to list all valid FilePaths: sub-Directories and child files, excluding some temporary files like <code>.git,.npm,.cache etc</code>, the full list is included in below code sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String excludes = &quot;node_modules/**/*,**/node_modules/**/*,.git/**,.npm*/**,**/.npm*/**,**/.nvm*/**,**/cronus/**,**/.cache/**,**/npmtmp/**,**/.tmp/**&quot;;\nFilePath[] validFileAndFolderPaths = workspace.list(&quot;**/*&quot;, excludes);\n</code></pre>\n<p>The above code is giving me all of the files in the <code>workspace</code> FilePath, but not the sub-directories.</p>\n<p>There is a method for listing all sub-directories <code>hudson.FilePath#listDirectories</code>, but that doesn't support exclusion list.\nAny help on how to achieve this requirement?</p>\n"},{"tags":["java","javafx","javafx-8"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1434285375,"creation_date":1434284828,"answer_id":30829337,"question_id":30829164,"body_markdown":"Use a web view:\r\n\r\n    @FXML\r\n    private WebView fontWebView ;\r\n    \r\n    // ...\r\n\r\n    public void changeFont() {\r\n        StringBuilder sb = new StringBuilder(fontText);\r\n        for (int i = 0; i &lt; fontSizes.length; i++) {\r\n            sb.append(&quot;&lt;p style=&#39;font-family:&quot;)\r\n              .append(fontListView.getSelectionModel().getSelectedItem())\r\n              .append(&quot;;font-size:&quot;)\r\n              .append( fontSizes[i])\r\n              .append(&quot;&#39;&gt;This is Sample Text&lt;/p&gt;&quot;);\r\n        }\r\n        fontText = sb.toString();\r\n        fontWebView.getEngine().loadContent(fontText);\r\n    }\r\n\r\n","title":"How to display HTML in JavaFX Application","body":"<p>Use a web view:</p>\n\n<pre><code>@FXML\nprivate WebView fontWebView ;\n\n// ...\n\npublic void changeFont() {\n    StringBuilder sb = new StringBuilder(fontText);\n    for (int i = 0; i &lt; fontSizes.length; i++) {\n        sb.append(\"&lt;p style='font-family:\")\n          .append(fontListView.getSelectionModel().getSelectedItem())\n          .append(\";font-size:\")\n          .append( fontSizes[i])\n          .append(\"'&gt;This is Sample Text&lt;/p&gt;\");\n    }\n    fontText = sb.toString();\n    fontWebView.getEngine().loadContent(fontText);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11050447,"reputation":111,"user_id":8488508,"display_name":"tj1000"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609259979,"creation_date":1609252521,"answer_id":65493850,"question_id":30829164,"body_markdown":"This is a very late answer, but I wanted to pass this along for those who need to apply fonts to a variety of FX controls (as I needed to do):\r\n\r\nYou can display fonts without using a `WebView`, by using the `TextArea`&#39;s setFont method. This has the advantage of being applicable to most text displaying FX controls, including `Button`, `TextField`, etc..., and can be used with downloaded TTF or OTF files.\r\n\r\n\r\n    // examples create a 20 pt font\r\n    // system font\r\n    Font f = Font.font(&quot;SansSerif&quot;, Font.PLAIN, 20);\r\n    // TTF/OTF added to your project as a resource:\r\n    Font f = Font.loadFont(ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;ResourceName&quot;), 20);\r\n    // TTF/OTF loaded from a file dynamically... read the font file into an input stream, and:\r\n    Font f = Font.loadFont(inputStream, 20);\r\n    // to use:\r\n    fontTextArea.setFont(f);\r\n\r\nNote: some of the script TTF/OTF fonts can extend above or below the area that a system font will fit into, so test appropriately when using downloaded fonts.\r\n","title":"How to display HTML in JavaFX Application","body":"<p>This is a very late answer, but I wanted to pass this along for those who need to apply fonts to a variety of FX controls (as I needed to do):</p>\n<p>You can display fonts without using a <code>WebView</code>, by using the <code>TextArea</code>'s setFont method. This has the advantage of being applicable to most text displaying FX controls, including <code>Button</code>, <code>TextField</code>, etc..., and can be used with downloaded TTF or OTF files.</p>\n<pre><code>// examples create a 20 pt font\n// system font\nFont f = Font.font(&quot;SansSerif&quot;, Font.PLAIN, 20);\n// TTF/OTF added to your project as a resource:\nFont f = Font.loadFont(ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;ResourceName&quot;), 20);\n// TTF/OTF loaded from a file dynamically... read the font file into an input stream, and:\nFont f = Font.loadFont(inputStream, 20);\n// to use:\nfontTextArea.setFont(f);\n</code></pre>\n<p>Note: some of the script TTF/OTF fonts can extend above or below the area that a system font will fit into, so test appropriately when using downloaded fonts.</p>\n"}],"owner":{"account_id":356260,"reputation":2426,"user_id":695657,"accept_rate":78,"display_name":"Sai Upadhyayula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20795,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":30829337,"answer_count":2,"score":12,"last_activity_date":1661224535,"creation_date":1434283721,"question_id":30829164,"body_markdown":"I am developing a FontViewer application which changes the font of the text based on the selected font style.\r\n\r\nThis is the controller class of my application\r\n\r\n    public class FXMLDocumentController implements Initializable {\r\n    \r\n        @FXML\r\n        private ListView fontListView;\r\n    \r\n        @FXML\r\n        private TextArea fontTextArea;\r\n    \r\n        int[] fontSizes = {34, 28, 24, 20, 18, 16, 14, 12, 11, 10, 9, 8, 7, 6};\r\n    \r\n        String fontText = &quot;&quot;;\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle rb) {\r\n            ObservableList&lt;String&gt; fontsList = FXCollections.observableArrayList(Font.getFontNames());\r\n            fontListView.setItems(fontsList);\r\n        }\r\n    \r\n        @FXML\r\n        public void handleMouseClickEvent(MouseEvent mouseEvent) {\r\n            changeFont();\r\n        }\r\n    \r\n        public void changeFont() {\r\n            for (int i = 0; i &lt; fontSizes.length; i++) {\r\n                fontText += &quot;&lt;p style=&#39;font-family:&quot; + fontListView.getSelectionModel().getSelectedItem() + &quot;;font-size:&quot; + fontSizes[i] + &quot;&#39;&gt;&quot; + &quot;This is Sample Text&lt;/p&gt;&quot;;\r\n            }\r\n    \r\n            fontTextArea.setText(fontText);\r\n        }\r\n    }\r\n\r\nScreenshot of my application:\r\n\r\n![enter image description here][1]\r\n\r\n When I use a `TextArea`, it displays just the plain HTML code instead of converting the HTML to Text. Which control should I use to accomplish this?\r\n\r\nP.S: I tried `TextFlow` but it doesn&#39;t work, as I need to display different Styles and font-sizes for the required text.\r\n\r\nI also looked at `WebView` but didn&#39;t understand how it could solve the mentioned problem.\r\n\r\n  [1]: http://i.stack.imgur.com/UdoKB.png","title":"How to display HTML in JavaFX Application","body":"<p>I am developing a FontViewer application which changes the font of the text based on the selected font style.</p>\n\n<p>This is the controller class of my application</p>\n\n<pre><code>public class FXMLDocumentController implements Initializable {\n\n    @FXML\n    private ListView fontListView;\n\n    @FXML\n    private TextArea fontTextArea;\n\n    int[] fontSizes = {34, 28, 24, 20, 18, 16, 14, 12, 11, 10, 9, 8, 7, 6};\n\n    String fontText = \"\";\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        ObservableList&lt;String&gt; fontsList = FXCollections.observableArrayList(Font.getFontNames());\n        fontListView.setItems(fontsList);\n    }\n\n    @FXML\n    public void handleMouseClickEvent(MouseEvent mouseEvent) {\n        changeFont();\n    }\n\n    public void changeFont() {\n        for (int i = 0; i &lt; fontSizes.length; i++) {\n            fontText += \"&lt;p style='font-family:\" + fontListView.getSelectionModel().getSelectedItem() + \";font-size:\" + fontSizes[i] + \"'&gt;\" + \"This is Sample Text&lt;/p&gt;\";\n        }\n\n        fontTextArea.setText(fontText);\n    }\n}\n</code></pre>\n\n<p>Screenshot of my application:</p>\n\n<p><img src=\"https://i.stack.imgur.com/UdoKB.png\" alt=\"enter image description here\"></p>\n\n<p>When I use a <code>TextArea</code>, it displays just the plain HTML code instead of converting the HTML to Text. Which control should I use to accomplish this?</p>\n\n<p>P.S: I tried <code>TextFlow</code> but it doesn't work, as I need to display different Styles and font-sizes for the required text.</p>\n\n<p>I also looked at <code>WebView</code> but didn't understand how it could solve the mentioned problem.</p>\n"},{"tags":["java","javac"],"comments":[{"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"score":1,"creation_date":1355387647,"post_id":13855700,"comment_id":19076441,"body_markdown":"@NandkumarTekale I don&#39;t know, I&#39;m not using Eclipse. I&#39;m compiling from a shell script using Oracle&#39;s Java compiler.","body":"@NandkumarTekale I don&#39;t know, I&#39;m not using Eclipse. I&#39;m compiling from a shell script using Oracle&#39;s Java compiler."},{"owner":{"account_id":481416,"reputation":355324,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1430480069,"post_id":13855700,"comment_id":48091359,"body_markdown":"possible duplicate of [Cannot stop ant from generating compiler warnings](http://stackoverflow.com/questions/9613857/cannot-stop-ant-from-generating-compiler-warnings)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9613857/cannot-stop-ant-from-generating-compiler-warnings\">Cannot stop ant from generating compiler warnings</a>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1559646800,"post_id":13855700,"comment_id":99478780,"body_markdown":"Rather than suppress the warning, in the base of the Base64 encoder, why not [use the Java 8 supplied encoder rather than the proprietary API](https://stackoverflow.com/questions/13109588/base64-encoding-in-java)?","body":"Rather than suppress the warning, in the base of the Base64 encoder, why not <a href=\"https://stackoverflow.com/questions/13109588/base64-encoding-in-java\">use the Java 8 supplied encoder rather than the proprietary API</a>?"}],"answers":[{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1355387039,"creation_date":1355387039,"answer_id":13855737,"question_id":13855700,"body_markdown":"Reference its interface [CachedRowSet][1] not the implementation.\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E17824_01/dsc_docs/docs/jscreator/apis/rowset/javax/sql/rowset/CachedRowSet.html","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>Reference its interface <a href=\"http://docs.oracle.com/cd/E17824_01/dsc_docs/docs/jscreator/apis/rowset/javax/sql/rowset/CachedRowSet.html\" rel=\"noreferrer\">CachedRowSet</a> not the implementation.</p>\n"},{"tags":[],"owner":{"account_id":1036092,"reputation":8846,"user_id":1043352,"accept_rate":81,"display_name":"Jakub Zaverka"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1355387049,"creation_date":1355387049,"answer_id":13855741,"question_id":13855700,"body_markdown":"Try the javac option\r\n\r\n    -Xlint:none\r\n\r\nIf you compile from an IDE, it should have an option to disable warnings.\r\n\r\nThis will disable ALL warnings that are not a part of Java Language Specification. So for example &quot;unchecked&quot; warning will not be blocked.","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>Try the javac option</p>\n\n<pre><code>-Xlint:none\n</code></pre>\n\n<p>If you compile from an IDE, it should have an option to disable warnings.</p>\n\n<p>This will disable ALL warnings that are not a part of Java Language Specification. So for example \"unchecked\" warning will not be blocked.</p>\n"},{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1355393913,"creation_date":1355393913,"answer_id":13857660,"question_id":13855700,"body_markdown":"I tried\r\n   \r\n    @SuppressWarnings(&quot;all&quot;)\r\n\r\nbut that didn&#39;t work.\r\n\r\nSo I resorted to a horrible, horrible kludge which I don&#39;t recommend in general, but in this specific case made the warning go away. I used reflection to instantiate a new instance of the com.sun.rowset.CachedRowSetImpl class.\r\n\r\nI replaced this line, which caused the warning:\r\n\r\n        return new CachedRowSetImpl();\r\n\r\nwith this block:\r\n\r\n        try {\r\n            final Class&lt;?&gt; aClass = Class.forName(&quot;com.sun.rowset.CachedRowSetImpl&quot;);\r\n            return (CachedRowSet) aClass.newInstance();\r\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\nPlease don&#39;t do this in your own code without first considering any other option.\r\n","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>I tried</p>\n\n<pre><code>@SuppressWarnings(\"all\")\n</code></pre>\n\n<p>but that didn't work.</p>\n\n<p>So I resorted to a horrible, horrible kludge which I don't recommend in general, but in this specific case made the warning go away. I used reflection to instantiate a new instance of the com.sun.rowset.CachedRowSetImpl class.</p>\n\n<p>I replaced this line, which caused the warning:</p>\n\n<pre><code>    return new CachedRowSetImpl();\n</code></pre>\n\n<p>with this block:</p>\n\n<pre><code>    try {\n        final Class&lt;?&gt; aClass = Class.forName(\"com.sun.rowset.CachedRowSetImpl\");\n        return (CachedRowSet) aClass.newInstance();\n    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n\n<p>Please don't do this in your own code without first considering any other option.</p>\n"},{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":1,"up_vote_count":55,"is_accepted":true,"score":54,"last_activity_date":1355417963,"creation_date":1355410119,"answer_id":13862308,"question_id":13855700,"body_markdown":"This particular warning [cannot be suppressed][1]. At least not officially.\r\n\r\n&gt; The warning about proprietary API means that you should not\r\nuse the API which causes the warning.  Sun does not support\r\nsuch API and the warning will not be suppressible.\r\n\r\nIf you&#39;re particularly determined, you can use the highly undocumented [`javac -XDignore.symbol.file`][2] flag which will compile your program against Sun&#39;s internal `rt.jar` rather than the public-facing symbol file `ct.sym`. `rt.jar` doesn&#39;t produce this warning.\r\n\r\n[1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6476630\r\n[2]: https://stackoverflow.com/a/4070685/68587","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>This particular warning <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6476630\" rel=\"nofollow noreferrer\">cannot be suppressed</a>. At least not officially.</p>\n<blockquote>\n<p>The warning about proprietary API means that you should not\nuse the API which causes the warning.  Sun does not support\nsuch API and the warning will not be suppressible.</p>\n</blockquote>\n<p>If you're particularly determined, you can use the highly undocumented <a href=\"https://stackoverflow.com/a/4070685/68587\"><code>javac -XDignore.symbol.file</code></a> flag which will compile your program against Sun's internal <code>rt.jar</code> rather than the public-facing symbol file <code>ct.sym</code>. <code>rt.jar</code> doesn't produce this warning.</p>\n"},{"tags":[],"owner":{"account_id":1283505,"reputation":2377,"user_id":1237044,"accept_rate":100,"display_name":"Brandon"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1427945745,"creation_date":1382385897,"answer_id":19503679,"question_id":13855700,"body_markdown":"If you are using maven, you might be interested in adding the following to your `pom.xml` file:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>If you are using maven, you might be interested in adding the following to your <code>pom.xml</code> file:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2872898,"reputation":1566,"user_id":2465785,"display_name":"William Leung"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1661223764,"creation_date":1487819735,"answer_id":42406330,"question_id":13855700,"body_markdown":"see this answer\r\n&gt; https://stackoverflow.com/questions/9613857/cannot-stop-ant-from-generating-compiler-sun-proprietary-api-warnings/34966719#34966719\r\n\r\nTesting code\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @SuppressWarnings(&quot;sunapi&quot;)\r\n    sun.security.x509.X509CertImpl test;\r\n\r\n\r\ncompiling command line\r\n\r\n    javac test.java -Werror -Xlint:sunapi -XDenableSunApiLintControl\r\n\r\nor\r\n\r\n    javac test.java -Werror -Xlint:all -XDenableSunApiLintControl\r\n \r\ncompile passed with no any warning\r\n\r\nremove the `SuppressWarnings` tag and compile again:\r\n\r\nan error is reported then\r\n\r\n    test.java:4: warning: X509CertImpl is internal proprietary API and may be removed in a future release\r\n            sun.security.x509.X509CertImpl test;\r\n                         ^\r\n    error: warnings found and -Werror specified\r\n    1 error\r\n    1 warning\r\n","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>see this answer</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/9613857/cannot-stop-ant-from-generating-compiler-sun-proprietary-api-warnings/34966719#34966719\">Cannot stop ant from generating compiler Sun proprietary API warnings</a></p>\n</blockquote>\n<p>Testing code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressWarnings(&quot;sunapi&quot;)\nsun.security.x509.X509CertImpl test;\n</code></pre>\n<p>compiling command line</p>\n<pre><code>javac test.java -Werror -Xlint:sunapi -XDenableSunApiLintControl\n</code></pre>\n<p>or</p>\n<pre><code>javac test.java -Werror -Xlint:all -XDenableSunApiLintControl\n</code></pre>\n<p>compile passed with no any warning</p>\n<p>remove the <code>SuppressWarnings</code> tag and compile again:</p>\n<p>an error is reported then</p>\n<pre><code>test.java:4: warning: X509CertImpl is internal proprietary API and may be removed in a future release\n        sun.security.x509.X509CertImpl test;\n                     ^\nerror: warnings found and -Werror specified\n1 error\n1 warning\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13617234,"reputation":45,"user_id":10772634,"display_name":"Pablo Navarro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587054329,"creation_date":1587054329,"answer_id":61255173,"question_id":13855700,"body_markdown":"I acknowledge that this answer is a late harvest, and you will have solved your problem. But I got stuck in the same problem as you, and researching I found this solution.\r\n\r\n**Why happens?**\r\n\r\nhttps://www.oracle.com/java/technologies/faq-sun-packages.html\r\n\r\n**Is this behavior wrong?** \r\n\r\nNo, its a warning telling us that ChachedRowSetImpl does not belong to the public interface, therefore compatibility is not guaranteed.\r\n\r\n**Workaround**\r\n\r\nThe following code snippet creates a `CachedRowSet` object by using a `RowSetFactory` which is created by the `RowSetProvider`:\r\n\r\n```\r\nRowSetFactory factory = RowSetProvider.newFactory();\r\nCachedRowSet rowset = factory.createCachedRowSet();\r\n```\r\n\r\nThis creates a `CachedRowSet` object from the implementation class `com.sun.rowset.CachedRowSetImpl`. It’s equivalent to the following statement:\r\n\r\n```\r\nCachedRowSet rowset = new com.sun.rowset.CachedRowSetImpl();\r\n```\r\nHowever, it’s recommended to create a `CachedRowSet` object from a RowSetFactory because the reference implementation may be changed in future\r\n\r\n","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>I acknowledge that this answer is a late harvest, and you will have solved your problem. But I got stuck in the same problem as you, and researching I found this solution.</p>\n\n<p><strong>Why happens?</strong></p>\n\n<p><a href=\"https://www.oracle.com/java/technologies/faq-sun-packages.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/faq-sun-packages.html</a></p>\n\n<p><strong>Is this behavior wrong?</strong> </p>\n\n<p>No, its a warning telling us that ChachedRowSetImpl does not belong to the public interface, therefore compatibility is not guaranteed.</p>\n\n<p><strong>Workaround</strong></p>\n\n<p>The following code snippet creates a <code>CachedRowSet</code> object by using a <code>RowSetFactory</code> which is created by the <code>RowSetProvider</code>:</p>\n\n<pre><code>RowSetFactory factory = RowSetProvider.newFactory();\nCachedRowSet rowset = factory.createCachedRowSet();\n</code></pre>\n\n<p>This creates a <code>CachedRowSet</code> object from the implementation class <code>com.sun.rowset.CachedRowSetImpl</code>. It’s equivalent to the following statement:</p>\n\n<pre><code>CachedRowSet rowset = new com.sun.rowset.CachedRowSetImpl();\n</code></pre>\n\n<p>However, it’s recommended to create a <code>CachedRowSet</code> object from a RowSetFactory because the reference implementation may be changed in future</p>\n"}],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61696,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":13862308,"answer_count":7,"score":61,"last_activity_date":1661223764,"creation_date":1355386829,"question_id":13855700,"body_markdown":"When I compile the Spring JDBC source on OS X with JDK 1.7.0, I get this warning:\r\n\r\n    warning: CachedRowSetImpl is internal proprietary API and may be removed in a future release\r\n\r\nHow do I suppress the warning message during a compile?\r\n\r\nI already know and use Java&#39;s @SuppressWarning annotations. I&#39;m looking for the specific use of this to suppress the warning I&#39;ve described.\r\n\r\nMy question specifically is, in this line of code:\r\n\r\n    @SuppressWarnings(&quot;valuegoeshere&quot;)\r\n\r\nwhat should &quot;valuegoeshere&quot; be replaced with?\r\n\r\nEDIT: People, I know that it is best to avoid the code that leads to the warning. And usually that would be my approach. However I&#39;m compiling third-party code here which I don&#39;t want to rewrite. I just want to add the correct annotation to suppress the warning, so that warnings I can actually do something about don&#39;t get buried.","title":"Suppress javac warning &quot;...is internal proprietary API and may be removed in a future release&quot;","body":"<p>When I compile the Spring JDBC source on OS X with JDK 1.7.0, I get this warning:</p>\n\n<pre><code>warning: CachedRowSetImpl is internal proprietary API and may be removed in a future release\n</code></pre>\n\n<p>How do I suppress the warning message during a compile?</p>\n\n<p>I already know and use Java's @SuppressWarning annotations. I'm looking for the specific use of this to suppress the warning I've described.</p>\n\n<p>My question specifically is, in this line of code:</p>\n\n<pre><code>@SuppressWarnings(\"valuegoeshere\")\n</code></pre>\n\n<p>what should \"valuegoeshere\" be replaced with?</p>\n\n<p>EDIT: People, I know that it is best to avoid the code that leads to the warning. And usually that would be my approach. However I'm compiling third-party code here which I don't want to rewrite. I just want to add the correct annotation to suppress the warning, so that warnings I can actually do something about don't get buried.</p>\n"},{"tags":["java","functional-programming","option-type"],"comments":[{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1661222190,"post_id":73452494,"comment_id":129714409,"body_markdown":"With `java.util.Optional`, this doesn&#39;t even compile. Are you using some other implementation?","body":"With <code>java.util.Optional</code>, this doesn&#39;t even compile. Are you using some other implementation?"},{"owner":{"account_id":5872134,"reputation":915,"user_id":4624150,"accept_rate":32,"display_name":"Saad"},"score":0,"creation_date":1661222267,"post_id":73452494,"comment_id":129714418,"body_markdown":"I just ran it and it gave me the      [java]     =&gt; java.util.NoSuchElementException: No value present exception","body":"I just ran it and it gave me the      [java]     =&gt; java.util.NoSuchElementException: No value present exception"},{"owner":{"account_id":5872134,"reputation":915,"user_id":4624150,"accept_rate":32,"display_name":"Saad"},"score":0,"creation_date":1661222327,"post_id":73452494,"comment_id":129714423,"body_markdown":"It doesnt seem to be going into the orElse part,","body":"It doesnt seem to be going into the orElse part,"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661223712,"creation_date":1661222301,"answer_id":73452570,"question_id":73452494,"body_markdown":"\r\nLet&#39;s follow the evaluation. Since the inner part of the `Optional.ofNullable(...)` results in `Optional&lt;String&gt;`, the entire chain wraps it in `Optional&lt;Optional&lt;String&gt;&gt;`.\r\n\r\nAfter evaluation of the parameter in `Optional.ofNullable(...)`, the result is roughly this:\r\n\r\n```\r\nOptional.ofNullable(Optional.&lt;String&gt;empty())      // Optional&lt;Optional&lt;String&gt;&gt;\r\n\t\t\t\t.orElse(list.stream().findFirst()) // Optional&lt;String&gt;\r\n\t\t\t\t.orElseThrow();                    // String\r\n```\r\n\r\nThe `orElse` is **not** called as long as the `Optional.empty()` is not `null`, hence the outer `Optional` is **not empty**. The flow continues with the inner `Optional.enpty` on which the `orElseThrow` is called and always fails by throwing `java.util.NoSuchElementException`. \r\n\r\nWhat you want to do is this:\r\n\r\n```\r\nfinal String finalStr = list.stream()                        // Stream&lt;String&gt;\r\n\t\t.filter(s -&gt; s.contains(&quot;pattern:a:b:&quot;))             // Stream&lt;String&gt;\r\n\t\t.map(str -&gt; str.substring(str.lastIndexOf(&#39;:&#39;) + 1)) // Stream&lt;String&gt;\r\n\t\t.findFirst()                                         // Optional&lt;String&gt;\r\n\t\t.or(() -&gt; list.stream().findFirst())                 // Optional&lt;String&gt;\r\n\t\t.orElseThrow();                                      // String\r\n```\r\n\r\nThe `or` method is the key one as on empty `Optional&lt;T&gt;` it supplies with a different one without losing the `Optional&lt;T&gt;` context.\r\n","title":"What am i doing wrong in this Java optional - orElse statement","body":"<p>Let's follow the evaluation. Since the inner part of the <code>Optional.ofNullable(...)</code> results in <code>Optional&lt;String&gt;</code>, the entire chain wraps it in <code>Optional&lt;Optional&lt;String&gt;&gt;</code>.</p>\n<p>After evaluation of the parameter in <code>Optional.ofNullable(...)</code>, the result is roughly this:</p>\n<pre><code>Optional.ofNullable(Optional.&lt;String&gt;empty())      // Optional&lt;Optional&lt;String&gt;&gt;\n                .orElse(list.stream().findFirst()) // Optional&lt;String&gt;\n                .orElseThrow();                    // String\n</code></pre>\n<p>The <code>orElse</code> is <strong>not</strong> called as long as the <code>Optional.empty()</code> is not <code>null</code>, hence the outer <code>Optional</code> is <strong>not empty</strong>. The flow continues with the inner <code>Optional.enpty</code> on which the <code>orElseThrow</code> is called and always fails by throwing <code>java.util.NoSuchElementException</code>.</p>\n<p>What you want to do is this:</p>\n<pre><code>final String finalStr = list.stream()                        // Stream&lt;String&gt;\n        .filter(s -&gt; s.contains(&quot;pattern:a:b:&quot;))             // Stream&lt;String&gt;\n        .map(str -&gt; str.substring(str.lastIndexOf(':') + 1)) // Stream&lt;String&gt;\n        .findFirst()                                         // Optional&lt;String&gt;\n        .or(() -&gt; list.stream().findFirst())                 // Optional&lt;String&gt;\n        .orElseThrow();                                      // String\n</code></pre>\n<p>The <code>or</code> method is the key one as on empty <code>Optional&lt;T&gt;</code> it supplies with a different one without losing the <code>Optional&lt;T&gt;</code> context.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661222812,"creation_date":1661222509,"answer_id":73452594,"question_id":73452494,"body_markdown":"Your misunderstanding is that `findFirst` returns null if the stream is empty, and tries to use `Optional.ofNullable` to wrap it into an `Optional`. `findFirst` in fact returns an `Optional&lt;T&gt;` directly, so you end up with a double optional - `Optional&lt;Optional&lt;String&gt;&gt;`. And the outer optional is never empty, since `findFirst` always returns a non-null value (that could be either an empty or a non-empty `Optional`).\r\n\r\nThen, you use `orElse` on it. Since the outer optional is never empty, this always unwraps the outer optional and the default value you provide is never used. Finally, `orElseThrow` is called on the inner optional, which could be empty or non-empty, as that is what is returned by the first `findFirst`. If it happens to be empty, you&#39;d get the exception.\r\n\r\nYou should not wrap the first `findFirst` in `Optional.ofNullable` in the first place. Use [`or`][1] to supply another `Optional` as the alternative when the optional is empty.\r\n\r\n    final String finalStr =\r\n        list.stream()\r\n                .filter(s -&gt; s.contains(&quot;pattern:a:b:&quot;))\r\n                .map(str -&gt; str.substring(str.lastIndexOf(&#39;:&#39;) + 1))\r\n                .findFirst()\r\n            .or(() -&gt;\r\n                list.stream()\r\n                    .filter(s -&gt; !s.contains(&quot;pattern:c:d&quot;))\r\n                    .findFirst()\r\n            )\r\n            .orElseThrow();\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#or(java.util.function.Supplier)","title":"What am i doing wrong in this Java optional - orElse statement","body":"<p>Your misunderstanding is that <code>findFirst</code> returns null if the stream is empty, and tries to use <code>Optional.ofNullable</code> to wrap it into an <code>Optional</code>. <code>findFirst</code> in fact returns an <code>Optional&lt;T&gt;</code> directly, so you end up with a double optional - <code>Optional&lt;Optional&lt;String&gt;&gt;</code>. And the outer optional is never empty, since <code>findFirst</code> always returns a non-null value (that could be either an empty or a non-empty <code>Optional</code>).</p>\n<p>Then, you use <code>orElse</code> on it. Since the outer optional is never empty, this always unwraps the outer optional and the default value you provide is never used. Finally, <code>orElseThrow</code> is called on the inner optional, which could be empty or non-empty, as that is what is returned by the first <code>findFirst</code>. If it happens to be empty, you'd get the exception.</p>\n<p>You should not wrap the first <code>findFirst</code> in <code>Optional.ofNullable</code> in the first place. Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#or(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>or</code></a> to supply another <code>Optional</code> as the alternative when the optional is empty.</p>\n<pre><code>final String finalStr =\n    list.stream()\n            .filter(s -&gt; s.contains(&quot;pattern:a:b:&quot;))\n            .map(str -&gt; str.substring(str.lastIndexOf(':') + 1))\n            .findFirst()\n        .or(() -&gt;\n            list.stream()\n                .filter(s -&gt; !s.contains(&quot;pattern:c:d&quot;))\n                .findFirst()\n        )\n        .orElseThrow();\n</code></pre>\n"}],"owner":{"account_id":5872134,"reputation":915,"user_id":4624150,"accept_rate":32,"display_name":"Saad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":73452570,"answer_count":2,"score":0,"last_activity_date":1661223712,"creation_date":1661221370,"question_id":73452494,"body_markdown":"     List&lt;String&gt; list = \r\n      Arrays.asList(&quot;TEST1&quot;, &quot;TEST2&quot;, &quot;TEST3&quot;);\r\n\r\n        final String finalStr = \r\n    Optional.ofNullable(list.stream()\r\n                .filter(s -&gt; s.contains(&quot;pattern:a:b:&quot;))\r\n                .map(str -&gt; str.substring(str.lastIndexOf(&#39;:&#39;) + 1))\r\n                .findFirst())\r\n                .orElse(list.stream()\r\n                        .filter(s -&gt; !s.contains(&quot;pattern:c:d:&quot;))\r\n                        .findFirst())\r\n                .orElseThrow();\r\n\r\nIt will work if the list contains pattern:a:b: but for above example always throw an exception if that pattern is not available. In the orElse part it doesnt even seem to be executing. \r\n\r\nMy result is \r\n     [java]     =&gt; java.util.NoSuchElementException: No value present when i am epecting to return me the first element.\r\n\r\nEdit: I wish to first find if any string with pattern:a:b exists in the list, if it does not, i wish it to return me the first string that does not contain the pattern:c:d For example\r\n\r\n&quot;pattern:a:b:TEST1&quot;, &quot;pattern:c:d:TEST2&quot;, &quot;TEST3&quot; should always return TEST1.\r\n\r\n\r\n&quot;pattern:c:d:TEST1&quot;, &quot;TEST2&quot;, &quot;TEST3&quot; should always return TEST2.\r\n\r\n&quot;TEST1&quot;, &quot;TEST2&quot;, &quot;TEST3&quot; should always return TEST1.\r\n\r\n","title":"What am i doing wrong in this Java optional - orElse statement","body":"<pre><code> List&lt;String&gt; list = \n  Arrays.asList(&quot;TEST1&quot;, &quot;TEST2&quot;, &quot;TEST3&quot;);\n\n    final String finalStr = \nOptional.ofNullable(list.stream()\n            .filter(s -&gt; s.contains(&quot;pattern:a:b:&quot;))\n            .map(str -&gt; str.substring(str.lastIndexOf(':') + 1))\n            .findFirst())\n            .orElse(list.stream()\n                    .filter(s -&gt; !s.contains(&quot;pattern:c:d:&quot;))\n                    .findFirst())\n            .orElseThrow();\n</code></pre>\n<p>It will work if the list contains pattern:a:b: but for above example always throw an exception if that pattern is not available. In the orElse part it doesnt even seem to be executing.</p>\n<p>My result is\n[java]     =&gt; java.util.NoSuchElementException: No value present when i am epecting to return me the first element.</p>\n<p>Edit: I wish to first find if any string with pattern:a:b exists in the list, if it does not, i wish it to return me the first string that does not contain the pattern:c:d For example</p>\n<p>&quot;pattern:a:b:TEST1&quot;, &quot;pattern:c:d:TEST2&quot;, &quot;TEST3&quot; should always return TEST1.</p>\n<p>&quot;pattern:c:d:TEST1&quot;, &quot;TEST2&quot;, &quot;TEST3&quot; should always return TEST2.</p>\n<p>&quot;TEST1&quot;, &quot;TEST2&quot;, &quot;TEST3&quot; should always return TEST1.</p>\n"},{"tags":["java","xpath"],"answers":[{"tags":[],"owner":{"account_id":30849,"reputation":39971,"user_id":84378,"accept_rate":85,"display_name":"Reverend Gonzo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1323102991,"creation_date":1323102991,"answer_id":8388584,"question_id":8388460,"body_markdown":"I haven&#39;t used the date functions, but you could use substring to extract the month and test that value, for example:\r\n\r\n    &#39;//entry[substring(@date,6,2)=&quot;11&quot;]&#39;\r\n\r\nreturns just \r\n\r\n    &lt;entry date=&quot;2011-11-29&quot; /&gt;\r\n","title":"xpath and queries using date functions","body":"<p>I haven't used the date functions, but you could use substring to extract the month and test that value, for example:</p>\n\n<pre><code>'//entry[substring(@date,6,2)=\"11\"]'\n</code></pre>\n\n<p>returns just </p>\n\n<pre><code>&lt;entry date=\"2011-11-29\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82655,"reputation":6401,"user_id":232235,"display_name":"Eli Acherkan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1323103585,"creation_date":1323103585,"answer_id":8388718,"question_id":8388460,"body_markdown":"The following XPath works for me:\r\n\r\n    //entry[month-from-date(@date)=11]\r\n\r\n(Replace `entry` with `*` to select *all* the nodes with a November `date` attribute, regardless of the node name.)","title":"xpath and queries using date functions","body":"<p>The following XPath works for me:</p>\n\n<pre><code>//entry[month-from-date(@date)=11]\n</code></pre>\n\n<p>(Replace <code>entry</code> with <code>*</code> to select <em>all</em> the nodes with a November <code>date</code> attribute, regardless of the node name.)</p>\n"}],"owner":{"account_id":14053,"reputation":12913,"user_id":28582,"accept_rate":88,"display_name":"Davide Gualano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8388584,"answer_count":2,"score":1,"last_activity_date":1661223632,"creation_date":1323102530,"question_id":8388460,"body_markdown":"I have an xml file containing a lists of nodes with a &quot;date&quot; attribute, storing a date:\r\n\r\n    &lt;root&gt;\r\n        &lt;entry date=&quot;2011-12-04&quot; /&gt;\r\n        &lt;entry date=&quot;2011-11-29&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\nIs it possible using a xPath query to retrive all the nodes that have the month of the &quot;date&quot; attribute set to november?  \r\nI read on the web (for example [here][1]) that this kind of functions exists in the xPath language, but I am not able to figure how to use them.  \r\nI should using this in a java application.\r\n\r\n\r\n  [1]: https://www.w3schools.com/xml/xsl_functions.asp#datetime","title":"xpath and queries using date functions","body":"<p>I have an xml file containing a lists of nodes with a &quot;date&quot; attribute, storing a date:</p>\n<pre><code>&lt;root&gt;\n    &lt;entry date=&quot;2011-12-04&quot; /&gt;\n    &lt;entry date=&quot;2011-11-29&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Is it possible using a xPath query to retrive all the nodes that have the month of the &quot;date&quot; attribute set to november?<br />\nI read on the web (for example <a href=\"https://www.w3schools.com/xml/xsl_functions.asp#datetime\" rel=\"nofollow noreferrer\">here</a>) that this kind of functions exists in the xPath language, but I am not able to figure how to use them.<br />\nI should using this in a java application.</p>\n"},{"tags":["java","spring","logging","slf4j","mdc"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1661205178,"post_id":73449669,"comment_id":129712330,"body_markdown":"MDC is meant for logging and the implementations of MDC that I know of only support strings as keys and as values. That means that the only way to store an integer value in an MDC is to convert it into a string and if you need the integer value back you need to convert the string back into an integer.","body":"MDC is meant for logging and the implementations of MDC that I know of only support strings as keys and as values. That means that the only way to store an integer value in an MDC is to convert it into a string and if you need the integer value back you need to convert the string back into an integer."}],"answers":[{"tags":[],"owner":{"account_id":16092908,"reputation":16,"user_id":11615862,"display_name":"Divyanshu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661222761,"creation_date":1661222761,"answer_id":73452622,"question_id":73449669,"body_markdown":"MDC only supports string values as keys and values. What you can do instead, to avoid type casting errors for null values, is to use [Integer class][1] instead of the primitive int.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html","title":"Using Integer value in MDC object","body":"<p>MDC only supports string values as keys and values. What you can do instead, to avoid type casting errors for null values, is to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html\" rel=\"nofollow noreferrer\">Integer class</a> instead of the primitive int.</p>\n"}],"owner":{"account_id":25892122,"reputation":11,"user_id":19619365,"display_name":"Pavittar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661222761,"creation_date":1661193593,"question_id":73449669,"body_markdown":"I was using MDC for logging in my spring boot application. Along with that I was also maintaining a graph. I was fetching the values from MDC to draw the graph. It requires Integer values not the string values. I don&#39;t want to make use of String values and then type caste it explicitly after fetching the values for the graph reason being the code may break during type casting as it may contain null values (even though there would be no such scenario as I have kept the default value as &quot;0&quot; but still I want to avoid this).\r\n\r\nIf I try \r\n```MDC.put(&quot;Speed&quot;, &quot;0&quot;);```\r\nIt works fine. \r\nBut it shows error for\r\n```MDC.put(&quot;Speed&quot;, 0);```\r\n\r\nPlease tell how can I put an integer value in the MDC object.","title":"Using Integer value in MDC object","body":"<p>I was using MDC for logging in my spring boot application. Along with that I was also maintaining a graph. I was fetching the values from MDC to draw the graph. It requires Integer values not the string values. I don't want to make use of String values and then type caste it explicitly after fetching the values for the graph reason being the code may break during type casting as it may contain null values (even though there would be no such scenario as I have kept the default value as &quot;0&quot; but still I want to avoid this).</p>\n<p>If I try\n<code>MDC.put(&quot;Speed&quot;, &quot;0&quot;);</code>\nIt works fine.\nBut it shows error for\n<code>MDC.put(&quot;Speed&quot;, 0);</code></p>\n<p>Please tell how can I put an integer value in the MDC object.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":4,"creation_date":1661215229,"post_id":73452261,"comment_id":129713925,"body_markdown":"You can&#39;t use a parameter in a PreparedStatement to substitute for a table name.  You&#39;re just going to have to append the table name into the query.","body":"You can&#39;t use a parameter in a PreparedStatement to substitute for a table name.  You&#39;re just going to have to append the table name into the query."},{"owner":{"account_id":22509537,"reputation":69,"user_id":16704666,"display_name":"Brandon Thies"},"score":0,"creation_date":1661215427,"post_id":73452261,"comment_id":129713951,"body_markdown":"Okay, there is no other way another this? I need to be able to use the same method for like 10 differant tables.  I really don&#39;t want to write a method for each table.","body":"Okay, there is no other way another this? I need to be able to use the same method for like 10 differant tables.  I really don&#39;t want to write a method for each table."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1661215519,"post_id":73452261,"comment_id":129713963,"body_markdown":"You don&#39;t have to write a method for each table.  Just append the table name to the rest of the SQL.  Something like `String sql = &quot;SELECT COUNT(*) AS total FROM &quot; + tableName;` would work nicely.","body":"You don&#39;t have to write a method for each table.  Just append the table name to the rest of the SQL.  Something like <code>String sql = &quot;SELECT COUNT(*) AS total FROM &quot; + tableName;</code> would work nicely."},{"owner":{"account_id":22509537,"reputation":69,"user_id":16704666,"display_name":"Brandon Thies"},"score":0,"creation_date":1661215654,"post_id":73452261,"comment_id":129713978,"body_markdown":"Okay thanks, I don&#39;t really work with java very much, I got a little confused.","body":"Okay thanks, I don&#39;t really work with java very much, I got a little confused."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1661215713,"post_id":73452261,"comment_id":129713983,"body_markdown":"Just make sure that the name of the table is not provided by the user, otherwise this is subject to SQL injection attacks.  If it has to be provided by the user, then validate it first.","body":"Just make sure that the name of the table is not provided by the user, otherwise this is subject to SQL injection attacks.  If it has to be provided by the user, then validate it first."}],"answers":[{"tags":[],"owner":{"account_id":22509537,"reputation":69,"user_id":16704666,"display_name":"Brandon Thies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661216387,"creation_date":1661216387,"answer_id":73452373,"question_id":73452261,"body_markdown":"Based on the answer given above, the code should look something like this:\r\n\r\n    int tableCounter(String tableName) {\r\n    \tint num = 0;\r\n    \tString sql = &quot;SELECT COUNT(*) AS total FROM &quot;+ tableName;\r\n    \tConnection conn = letConnect();\r\n    \ttry{Statement stmt = conn.createStatement();\r\n    \t\tResultSet rs = stmt.executeQuery(sql);\r\n    \t\twhile (rs.next()){\r\n    \t\t\tnum = rs.getInt(&quot;total&quot;);}\r\n    \t}catch (SQLException e) {\r\n    \t\te.printStackTrace();}\r\n    \treturn num;}","title":"How to Fix MySQL Count Function Error In Java?","body":"<p>Based on the answer given above, the code should look something like this:</p>\n<pre><code>int tableCounter(String tableName) {\n    int num = 0;\n    String sql = &quot;SELECT COUNT(*) AS total FROM &quot;+ tableName;\n    Connection conn = letConnect();\n    try{Statement stmt = conn.createStatement();\n        ResultSet rs = stmt.executeQuery(sql);\n        while (rs.next()){\n            num = rs.getInt(&quot;total&quot;);}\n    }catch (SQLException e) {\n        e.printStackTrace();}\n    return num;}\n</code></pre>\n"}],"owner":{"account_id":22509537,"reputation":69,"user_id":16704666,"display_name":"Brandon Thies"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1661442413,"answer_count":1,"score":1,"last_activity_date":1661216387,"creation_date":1661215010,"question_id":73452261,"body_markdown":"I am trying to create a method that will count the number of records I have in a certain table when the method is called.  But for some reason, I keep getting an error saying I have a problem in my SQL code.  Looking over everything, I couldn&#39;t find the problem.  I even went as far to as to copy parts of another person&#39;s solution online, but this failed too. To better show where the error seems to be ocurring, I inserted two print statements in the code. I think Java and SQL must hate me!  Any help would be most appreciated.\r\n\r\n\r\n    \r\n\r\n   \r\n\r\n     int tableCounter(String tableName) {\r\n                \tint num = 0;\r\n                \tString sql = &quot;SELECT COUNT(*) AS total FROM ?&quot;;\r\n                \ttry(Connection conn = letConnect(); PreparedStatement ps = conn.prepareStatement(sql)){\r\n                \t\tps.setString(1, tableName);\r\n                \t\tSystem.out.println(&quot;test&quot;);\r\n                \t\tResultSet rs = ps.executeQuery();//error ocurrs here\r\n                                                         //when the SQL code is executed\r\n                \t\tSystem.out.println(&quot;test&quot;);\r\n                \t\tnum = rs.getInt(&quot;total&quot;);\r\n                \t} catch (SQLException e) {\r\n                \t\te.printStackTrace();\r\n                \t}\r\n                \treturn num;\r\n                }\r\n\r\nOutput:\r\n\r\n    test\r\n    java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;&#39;Country&#39;&#39; at line 1\r\n    \tat mysql.connector.java@8.0.30/com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n    \tat mysql.connector.java@8.0.30/com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat mysql.connector.java@8.0.30/com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n    \tat mysql.connector.java@8.0.30/com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)\r\n    \tat Database_Interactor.tableCounter(Database_Interactor.java:25)\r\n    \tat MainClass.main(MainClass.java:10)\r\n\r\n","title":"How to Fix MySQL Count Function Error In Java?","body":"<p>I am trying to create a method that will count the number of records I have in a certain table when the method is called.  But for some reason, I keep getting an error saying I have a problem in my SQL code.  Looking over everything, I couldn't find the problem.  I even went as far to as to copy parts of another person's solution online, but this failed too. To better show where the error seems to be ocurring, I inserted two print statements in the code. I think Java and SQL must hate me!  Any help would be most appreciated.</p>\n<pre><code> int tableCounter(String tableName) {\n                int num = 0;\n                String sql = &quot;SELECT COUNT(*) AS total FROM ?&quot;;\n                try(Connection conn = letConnect(); PreparedStatement ps = conn.prepareStatement(sql)){\n                    ps.setString(1, tableName);\n                    System.out.println(&quot;test&quot;);\n                    ResultSet rs = ps.executeQuery();//error ocurrs here\n                                                     //when the SQL code is executed\n                    System.out.println(&quot;test&quot;);\n                    num = rs.getInt(&quot;total&quot;);\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n                return num;\n            }\n</code></pre>\n<p>Output:</p>\n<pre><code>test\njava.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''Country'' at line 1\n    at mysql.connector.java@8.0.30/com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at mysql.connector.java@8.0.30/com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at mysql.connector.java@8.0.30/com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n    at mysql.connector.java@8.0.30/com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)\n    at Database_Interactor.tableCounter(Database_Interactor.java:25)\n    at MainClass.main(MainClass.java:10)\n</code></pre>\n"},{"tags":["java","swing","menu"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1661197657,"post_id":73450170,"comment_id":129710393,"body_markdown":"If you are serious about this, the thing to do is to create your own look and feel : https://medium.com/@keeptoo/spicing-up-your-java-swingui-using-custom-look-and-feel-113501dd5920","body":"If you are serious about this, the thing to do is to create your own look and feel : <a href=\"https://medium.com/@keeptoo/spicing-up-your-java-swingui-using-custom-look-and-feel-113501dd5920\" rel=\"nofollow noreferrer\">medium.com/@keeptoo/&hellip;</a>"},{"owner":{"account_id":2605953,"reputation":484,"user_id":2257124,"accept_rate":80,"display_name":"Makaveli84"},"score":0,"creation_date":1661197891,"post_id":73450170,"comment_id":129710454,"body_markdown":"@ControlAltDel I am serious but I don&#39;t believe things need to escalate that far. I am confident there are hacks and workarounds for each individual customization I am trying to implement.","body":"@ControlAltDel I am serious but I don&#39;t believe things need to escalate that far. I am confident there are hacks and workarounds for each individual customization I am trying to implement."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1661198812,"post_id":73450170,"comment_id":129710726,"body_markdown":"I&#39;d advise you to look for a tutorial on creating a custom look and feel. Go through the tutorial, and then decide if creating a custom L&amp;F is too much","body":"I&#39;d advise you to look for a tutorial on creating a custom look and feel. Go through the tutorial, and then decide if creating a custom L&amp;F is too much"},{"owner":{"account_id":2605953,"reputation":484,"user_id":2257124,"accept_rate":80,"display_name":"Makaveli84"},"score":0,"creation_date":1661201511,"post_id":73450170,"comment_id":129711522,"body_markdown":"@ControlAltDel Thank you for your advice :) At some point, I might explore using FlatLAF. Thanks for the link. Maybe sometime down the line, I will revisit the idea of creating a custom L&amp;F, but that is not in the near future. All that being said, I already figured out how to set the accelerator text color. I am still interested in solutions for the menu item borders and even more so, for the separator items.","body":"@ControlAltDel Thank you for your advice :) At some point, I might explore using FlatLAF. Thanks for the link. Maybe sometime down the line, I will revisit the idea of creating a custom L&amp;F, but that is not in the near future. All that being said, I already figured out how to set the accelerator text color. I am still interested in solutions for the menu item borders and even more so, for the separator items."}],"answers":[{"tags":[],"owner":{"account_id":2605953,"reputation":484,"user_id":2257124,"accept_rate":80,"display_name":"Makaveli84"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661215703,"creation_date":1661215703,"answer_id":73452320,"question_id":73450170,"body_markdown":"After digging a bit deeper into the Swing API, I was able to achieve what I set out to do when I posted this question. Here is an illustration of the outcome:\r\n[![enter image description here][1]][1]\r\n\r\nIn order to help anyone who might come across a similar problem in the future, I will post my own answer to this question.\r\n\r\n\r\n----------\r\n\r\n\r\nFirst, regarding the foreground (text) color of the `accelerator` menu shortcuts, the only way I could get it to work was setting some application wide flags using `UIManager`.\r\n\r\n    UIDefaults uiDefaults = UIManager.getLookAndFeelDefaults();\r\n    // For Windows L&amp;F:\r\n    uiDefaults.put(&quot;MenuItem.acceleratorForeground&quot;, Color.lightGray);\r\n    uiDefaults.put(&quot;MenuItem.acceleratorSelectionForeground&quot;, Color.lightGray);\r\n    // For Nimbus L&amp;F:\r\n    uiDefaults.put(&quot;MenuItem:MenuItemAccelerator.textForeground&quot;, Color.lightGray);\r\n\r\n\r\n----------\r\n\r\n\r\nNext on the list was finding a way to apply the custom &quot;skin&quot; to the `separator` items in the menu list. The way to do this was to call the menu&#39;s `add(Component c)` method instead of the more common `addSeparator()`, while passing to it a `JSeparator` component. First, you would need to create the `JSeparator` object and set its properties before adding it to the menu. To simplify things, I created a helper class:\r\n\r\n    public class XMenuSeparator extends JSeparator\r\n    {\r\n    \tpublic XMenuSeparator(Color bgColor, Color fgColor)\r\n    \t{\r\n    \t\tsuper.setOpaque(true);\r\n    \t\tsuper.setBackground(bgColor);\r\n    \t\tsuper.setForeground(fgColor);\r\n    \t}\r\n    }\r\nWhich can subsequently be used as such:\r\n\r\n    myMenu.add(new XMenuSeparator(Color.darkGray, Color.lightGray));\r\nWhere `myMenu` is a `JMenu` instance (or as we will see next, an instance of our other helper class, `XMenu`).\r\n\r\n\r\n----------\r\n\r\nLast on the list was figuring out how to customize the menu list (background color, foreground color, and most importantly, the surrounding borders around the menu list). The first two customizations were pretty straight forward, using `setBackground(Color.darkGray)` and `setForeground(Color.lightGray)`, with the only consideration needed was setting the opacity to true: `setOpaque(true)`.\r\n\r\nAs for the surrounding border that had preserved the default background colors, and where the initial attempts to customize it using `JMenu`&#39;s `setBorder` had failed, the solution was to actually set the borders of the menu list and not the menu command button itself (obviously!) as such:\r\n\r\n    JMenu myMenu = new JMenu(&quot;File&quot;);\r\n    myMenu.getPopupMenu().setBorder(new LineBorder(Color.gray, borderThickness));\r\nAnd so to encapsulate all those steps (and some additional functionality of switching back and forth between the default and &quot;skinned&quot; looks), here&#39;s a simple helper class:\r\n\r\n    public class XMenu extends JMenu\r\n    {\r\n    \tprivate Color skinBgColor = Color.darkGray;\r\n    \tprivate Color skinFgColor = Color.lightGray;\r\n    \tprivate Color skinBorderColor = Color.gray;\r\n    \tprivate int skinBorderThickness = 1;\r\n    \t\r\n    \tprivate Color defaultBgColor;\r\n    \tprivate Color defaultFgColor;\r\n    \tprivate Border defaultBorder;\r\n    \tprivate boolean defaultOpacity;\r\n    \t\r\n    \tprivate void saveDefaults()\r\n    \t{\r\n    \t\tdefaultBgColor = super.getBackground();\r\n    \t\tdefaultFgColor = super.getForeground();\r\n    \t\tdefaultBorder = super.getPopupMenu().getBorder();\r\n    \t\tdefaultOpacity = super.isOpaque();\r\n    \t}\r\n    \t\r\n    \tpublic XMenu(String s)\r\n    \t{\r\n    \t\tsuper(s);\r\n    \t\tthis.saveDefaults();\r\n    \t}\r\n    \t\r\n    \tpublic XMenu(String s, Color bgColor, Color fgColor, Color borderColor)\r\n    \t{\r\n    \t\tsuper(s);\r\n    \t\tthis.saveDefaults();\r\n    \t\tthis.setSkinProperties(bgColor, fgColor, borderColor, 1);\r\n    \t\tthis.applySkin();\r\n    \t}\r\n    \t\r\n    \tpublic XMenu(String s, Color bgColor, Color fgColor, Color borderColor, int borderThickness)\r\n    \t{\r\n    \t\tsuper(s);\r\n    \t\tthis.saveDefaults();\r\n    \t\tthis.setSkinProperties(bgColor, fgColor, borderColor, borderThickness);\r\n    \t\tthis.applySkin();\r\n    \t}\r\n    \t\r\n    \tpublic void setSkinProperties(Color bgColor, Color fgColor, Color borderColor, int borderThickness)\r\n    \t{\r\n    \t\tthis.skinBgColor = bgColor;\r\n    \t\tthis.skinFgColor = fgColor;\r\n    \t\tthis.skinBorderColor = borderColor;\r\n    \t\tthis.skinBorderThickness = borderThickness;\r\n    \t}\r\n    \t\r\n    \tpublic void applySkin()\r\n    \t{\r\n    \t\tsuper.setOpaque(true);\r\n    \t\tsuper.setBackground(skinBgColor);\r\n    \t\tsuper.setForeground(skinFgColor);\r\n    \t\tsuper.getPopupMenu().setBorder(new LineBorder(skinBorderColor, skinBorderThickness));\r\n    \t}\r\n    \t\r\n    \tpublic void stripSkin()\r\n    \t{\r\n    \t\tsuper.setOpaque(defaultOpacity);\r\n    \t\tsuper.setBackground(defaultBgColor);\r\n    \t\tsuper.setForeground(defaultFgColor);\r\n    \t\tsuper.getPopupMenu().setBorder(defaultBorder);\r\n    \t}\r\n    }\r\nAnd now, one could simply instantiate this class for the menu lists:\r\n\r\n    JMenu myMenu = new XMenu(&quot;File&quot;, Color.darkGray, Color.lightGray, Color.gray);\r\n\r\n\r\n----------\r\n\r\n\r\nHopefully this helps anyone who comes across this posting! \r\n\r\n  [1]: https://i.stack.imgur.com/an1S2.png","title":"Customizing the Foreground and Background Colors of Java Swing Menu Items, Menu Separators, and Menu Accelerators","body":"<p>After digging a bit deeper into the Swing API, I was able to achieve what I set out to do when I posted this question. Here is an illustration of the outcome:\n<a href=\"https://i.stack.imgur.com/an1S2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/an1S2.png\" alt=\"enter image description here\" /></a></p>\n<p>In order to help anyone who might come across a similar problem in the future, I will post my own answer to this question.</p>\n<hr />\n<p>First, regarding the foreground (text) color of the <code>accelerator</code> menu shortcuts, the only way I could get it to work was setting some application wide flags using <code>UIManager</code>.</p>\n<pre><code>UIDefaults uiDefaults = UIManager.getLookAndFeelDefaults();\n// For Windows L&amp;F:\nuiDefaults.put(&quot;MenuItem.acceleratorForeground&quot;, Color.lightGray);\nuiDefaults.put(&quot;MenuItem.acceleratorSelectionForeground&quot;, Color.lightGray);\n// For Nimbus L&amp;F:\nuiDefaults.put(&quot;MenuItem:MenuItemAccelerator.textForeground&quot;, Color.lightGray);\n</code></pre>\n<hr />\n<p>Next on the list was finding a way to apply the custom &quot;skin&quot; to the <code>separator</code> items in the menu list. The way to do this was to call the menu's <code>add(Component c)</code> method instead of the more common <code>addSeparator()</code>, while passing to it a <code>JSeparator</code> component. First, you would need to create the <code>JSeparator</code> object and set its properties before adding it to the menu. To simplify things, I created a helper class:</p>\n<pre><code>public class XMenuSeparator extends JSeparator\n{\n    public XMenuSeparator(Color bgColor, Color fgColor)\n    {\n        super.setOpaque(true);\n        super.setBackground(bgColor);\n        super.setForeground(fgColor);\n    }\n}\n</code></pre>\n<p>Which can subsequently be used as such:</p>\n<pre><code>myMenu.add(new XMenuSeparator(Color.darkGray, Color.lightGray));\n</code></pre>\n<p>Where <code>myMenu</code> is a <code>JMenu</code> instance (or as we will see next, an instance of our other helper class, <code>XMenu</code>).</p>\n<hr />\n<p>Last on the list was figuring out how to customize the menu list (background color, foreground color, and most importantly, the surrounding borders around the menu list). The first two customizations were pretty straight forward, using <code>setBackground(Color.darkGray)</code> and <code>setForeground(Color.lightGray)</code>, with the only consideration needed was setting the opacity to true: <code>setOpaque(true)</code>.</p>\n<p>As for the surrounding border that had preserved the default background colors, and where the initial attempts to customize it using <code>JMenu</code>'s <code>setBorder</code> had failed, the solution was to actually set the borders of the menu list and not the menu command button itself (obviously!) as such:</p>\n<pre><code>JMenu myMenu = new JMenu(&quot;File&quot;);\nmyMenu.getPopupMenu().setBorder(new LineBorder(Color.gray, borderThickness));\n</code></pre>\n<p>And so to encapsulate all those steps (and some additional functionality of switching back and forth between the default and &quot;skinned&quot; looks), here's a simple helper class:</p>\n<pre><code>public class XMenu extends JMenu\n{\n    private Color skinBgColor = Color.darkGray;\n    private Color skinFgColor = Color.lightGray;\n    private Color skinBorderColor = Color.gray;\n    private int skinBorderThickness = 1;\n    \n    private Color defaultBgColor;\n    private Color defaultFgColor;\n    private Border defaultBorder;\n    private boolean defaultOpacity;\n    \n    private void saveDefaults()\n    {\n        defaultBgColor = super.getBackground();\n        defaultFgColor = super.getForeground();\n        defaultBorder = super.getPopupMenu().getBorder();\n        defaultOpacity = super.isOpaque();\n    }\n    \n    public XMenu(String s)\n    {\n        super(s);\n        this.saveDefaults();\n    }\n    \n    public XMenu(String s, Color bgColor, Color fgColor, Color borderColor)\n    {\n        super(s);\n        this.saveDefaults();\n        this.setSkinProperties(bgColor, fgColor, borderColor, 1);\n        this.applySkin();\n    }\n    \n    public XMenu(String s, Color bgColor, Color fgColor, Color borderColor, int borderThickness)\n    {\n        super(s);\n        this.saveDefaults();\n        this.setSkinProperties(bgColor, fgColor, borderColor, borderThickness);\n        this.applySkin();\n    }\n    \n    public void setSkinProperties(Color bgColor, Color fgColor, Color borderColor, int borderThickness)\n    {\n        this.skinBgColor = bgColor;\n        this.skinFgColor = fgColor;\n        this.skinBorderColor = borderColor;\n        this.skinBorderThickness = borderThickness;\n    }\n    \n    public void applySkin()\n    {\n        super.setOpaque(true);\n        super.setBackground(skinBgColor);\n        super.setForeground(skinFgColor);\n        super.getPopupMenu().setBorder(new LineBorder(skinBorderColor, skinBorderThickness));\n    }\n    \n    public void stripSkin()\n    {\n        super.setOpaque(defaultOpacity);\n        super.setBackground(defaultBgColor);\n        super.setForeground(defaultFgColor);\n        super.getPopupMenu().setBorder(defaultBorder);\n    }\n}\n</code></pre>\n<p>And now, one could simply instantiate this class for the menu lists:</p>\n<pre><code>JMenu myMenu = new XMenu(&quot;File&quot;, Color.darkGray, Color.lightGray, Color.gray);\n</code></pre>\n<hr />\n<p>Hopefully this helps anyone who comes across this posting!</p>\n"}],"owner":{"account_id":2605953,"reputation":484,"user_id":2257124,"accept_rate":80,"display_name":"Makaveli84"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73452320,"answer_count":1,"score":2,"last_activity_date":1661215703,"creation_date":1661196613,"question_id":73450170,"body_markdown":"I am trying to fashion a dark mode menu bar for my desktop GUI. Developing and testing on Windows with System L&amp;F.\r\n\r\nWhat has worked so far:\r\n\r\n- Setting the background color of the actual `JMenuBar` component itself.\r\n- Setting the background and foreground colors of the `JMenu` buttons (e.g. File, Edit, etc).\r\n- Setting the background color of the Menu items (somewhat).\r\n- Setting the foreground color of the Menu items (somewhat).\r\n\r\nFollowing is an illustration of what has worked and what has not worked so far:\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, I couldn&#39;t manage to set the desired background color for the Menu items&#39; borders. I am not even sure if those are per-item borders or a single container border for the items&#39; `JMenu` parent. Either way, calling `setBorder(new EmptyBorder(0,0,0,0))` and `setBorder(new LineBorder(Color.red))` on both the parent `JMenu` and the actual Menu items failed to make any changes to the UI.\r\n\r\nMoreover, another two issues that need to be dealt with are:\r\n- Setting the foreground color of the accelerator shortcut.\r\n- Setting the background (and possibly foreground) color of `Separator` items (which are not actual Menu items per-se since the call to `addSeparator()` returns `void`.\r\n\r\nI don&#39;t wanna give up on this endeavor! Help!\r\n\r\n----------\r\n\r\n**EDIT:**\r\n\r\nSetting the accelerators&#39; color application wide using:\r\n`UIManager.getLookAndFeelDefaults().put(&quot;MenuItem.acceleratorForeground&quot;, Color.yellow);` before any components are created seems to work for System L&amp;F on Windows.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DSrja.png","title":"Customizing the Foreground and Background Colors of Java Swing Menu Items, Menu Separators, and Menu Accelerators","body":"<p>I am trying to fashion a dark mode menu bar for my desktop GUI. Developing and testing on Windows with System L&amp;F.</p>\n<p>What has worked so far:</p>\n<ul>\n<li>Setting the background color of the actual <code>JMenuBar</code> component itself.</li>\n<li>Setting the background and foreground colors of the <code>JMenu</code> buttons (e.g. File, Edit, etc).</li>\n<li>Setting the background color of the Menu items (somewhat).</li>\n<li>Setting the foreground color of the Menu items (somewhat).</li>\n</ul>\n<p>Following is an illustration of what has worked and what has not worked so far:\n<a href=\"https://i.stack.imgur.com/DSrja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DSrja.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, I couldn't manage to set the desired background color for the Menu items' borders. I am not even sure if those are per-item borders or a single container border for the items' <code>JMenu</code> parent. Either way, calling <code>setBorder(new EmptyBorder(0,0,0,0))</code> and <code>setBorder(new LineBorder(Color.red))</code> on both the parent <code>JMenu</code> and the actual Menu items failed to make any changes to the UI.</p>\n<p>Moreover, another two issues that need to be dealt with are:</p>\n<ul>\n<li>Setting the foreground color of the accelerator shortcut.</li>\n<li>Setting the background (and possibly foreground) color of <code>Separator</code> items (which are not actual Menu items per-se since the call to <code>addSeparator()</code> returns <code>void</code>.</li>\n</ul>\n<p>I don't wanna give up on this endeavor! Help!</p>\n<hr />\n<p><strong>EDIT:</strong></p>\n<p>Setting the accelerators' color application wide using:\n<code>UIManager.getLookAndFeelDefaults().put(&quot;MenuItem.acceleratorForeground&quot;, Color.yellow);</code> before any components are created seems to work for System L&amp;F on Windows.</p>\n"},{"tags":["java","jar","noclassdeffounderror","live-streaming","youtube-data-api"],"comments":[{"owner":{"account_id":3801676,"reputation":2535,"user_id":3155154,"accept_rate":88,"display_name":"Nitek"},"score":0,"creation_date":1432192965,"post_id":30367045,"comment_id":48824928,"body_markdown":"Did you run it using maven?","body":"Did you run it using maven?"},{"owner":{"account_id":5499909,"reputation":582,"user_id":4369561,"accept_rate":38,"display_name":"Pro"},"score":0,"creation_date":1432193025,"post_id":30367045,"comment_id":48824967,"body_markdown":"looks like com.fasterxml.jackson.core:jackson-core dependency is missing in pom.xml","body":"looks like com.fasterxml.jackson.core:jackson-core dependency is missing in pom.xml"},{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1432193037,"post_id":30367045,"comment_id":48824975,"body_markdown":"You missed some jar at runtime that was used at compile time.","body":"You missed some jar at runtime that was used at compile time."},{"owner":{"account_id":2100275,"reputation":7433,"user_id":4390557,"accept_rate":27,"display_name":"VVB"},"score":0,"creation_date":1432197162,"post_id":30367045,"comment_id":48827454,"body_markdown":"@Nitek No I have added jar by going to project properties option","body":"@Nitek No I have added jar by going to project properties option"},{"owner":{"account_id":2100275,"reputation":7433,"user_id":4390557,"accept_rate":27,"display_name":"VVB"},"score":0,"creation_date":1432197181,"post_id":30367045,"comment_id":48827464,"body_markdown":"@NareshK i am not using Maven","body":"@NareshK i am not using Maven"},{"owner":{"account_id":2100275,"reputation":7433,"user_id":4390557,"accept_rate":27,"display_name":"VVB"},"score":0,"creation_date":1432197197,"post_id":30367045,"comment_id":48827476,"body_markdown":"@FranMontero No, there are no CTE","body":"@FranMontero No, there are no CTE"}],"answers":[{"tags":[],"owner":{"account_id":4062106,"reputation":7114,"user_id":3338360,"accept_rate":25,"display_name":"Kartheek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432193072,"creation_date":1432193072,"answer_id":30367146,"question_id":30367045,"body_markdown":"You have to add one jar : `jackson-annotations-2.1.2.jar`\r\nYou can download it from [here][1] and add it to the class path\r\nIf you are using the  gradle then add the following dependency.\r\n\r\n    compile &#39;com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:2.5.2&#39;\r\n\r\n  [1]: http://www.java2s.com/Code/Jar/j/Downloadjacksonannotations212jar.htm","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>You have to add one jar : <code>jackson-annotations-2.1.2.jar</code>\nYou can download it from <a href=\"http://www.java2s.com/Code/Jar/j/Downloadjacksonannotations212jar.htm\" rel=\"nofollow\">here</a> and add it to the class path\nIf you are using the  gradle then add the following dependency.</p>\n\n<pre><code>compile 'com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:2.5.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6303188,"reputation":3960,"user_id":4897144,"display_name":"shruti1810"},"down_vote_count":0,"up_vote_count":137,"is_accepted":true,"score":137,"last_activity_date":1432193267,"creation_date":1432193267,"answer_id":30367210,"question_id":30367045,"body_markdown":"Add the following dependency to your `pom.xml`\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.5.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>Add the following dependency to your <code>pom.xml</code></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10246036,"reputation":51,"user_id":7561794,"display_name":"Emmanuel Douaud"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487060579,"creation_date":1487060579,"answer_id":42221059,"question_id":30367045,"body_markdown":"The requested jar is probably not jackson-**annotations**-x.y.z.jar but jackson-**core**-x.y.z.jar which could be found here:\r\n[http://www.java2s.com/Code/Jar/j/Downloadjacksoncore220rc1jar.htm][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Jar/j/Downloadjacksoncore220rc1jar.htm","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>The requested jar is probably not jackson-<strong>annotations</strong>-x.y.z.jar but jackson-<strong>core</strong>-x.y.z.jar which could be found here:\n<a href=\"http://www.java2s.com/Code/Jar/j/Downloadjacksoncore220rc1jar.htm\" rel=\"noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjacksoncore220rc1jar.htm</a></p>\n"},{"tags":[],"owner":{"account_id":1409335,"reputation":1766,"user_id":1336263,"accept_rate":82,"display_name":"Cec"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494152933,"creation_date":1494152933,"answer_id":43830401,"question_id":30367045,"body_markdown":"As of jackson 2.7.4 (or earlier maybe), the class is in jacskon-jaxrs-base.jar, which is contained in [jackson-jaxrs-json-provider][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.fasterxml.jackson.jaxrs/jackson-jaxrs-json-provider","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>As of jackson 2.7.4 (or earlier maybe), the class is in jacskon-jaxrs-base.jar, which is contained in <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.jaxrs/jackson-jaxrs-json-provider\" rel=\"nofollow noreferrer\">jackson-jaxrs-json-provider</a></p>\n"},{"tags":[],"owner":{"account_id":3162994,"reputation":1345,"user_id":2673577,"accept_rate":0,"display_name":"asifaftab87"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1561507887,"creation_date":1532239779,"answer_id":51462494,"question_id":30367045,"body_markdown":"Because of old version I got this error.\r\nThen I changed to this version n error gone \r\nUsing maven\r\nmy pom.xml \r\n\r\n    &lt;properties&gt;  \r\n        ...\r\n        &lt;jackson.version&gt;2.5.2&lt;/jackson.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n    ...\r\n            &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nmy old version was &#39;2.2.3&#39;","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>Because of old version I got this error.\nThen I changed to this version n error gone \nUsing maven\nmy pom.xml </p>\n\n<pre><code>&lt;properties&gt;  \n    ...\n    &lt;jackson.version&gt;2.5.2&lt;/jackson.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n...\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>my old version was '2.2.3'</p>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570490674,"creation_date":1570490674,"answer_id":58278304,"question_id":30367045,"body_markdown":"**Solved the problem by upgrading the dependency to below version**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.8&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p><strong>Solved the problem by upgrading the dependency to below version</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.9.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1648723469,"creation_date":1593003205,"answer_id":62555520,"question_id":30367045,"body_markdown":"In my case problem was when i added com.fasterxml.jackson.dataformat\r\ni put the version **2.11.0**.\r\n\r\nWhile all other Jackson dependencies were 2.8.0 and one of them was **2.11.0** and changing all to be **2.8.0** fixed it.\r\n\r\nFYI, 2.11 is the latest but due to my legacy code, i kept it as 2.8 as well.\r\n\r\nBefore Fix [**ERROR**] : `com.fasterxml.jackson.dataformat` version is `2.11.0`:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAfter Fix [**WORKED**] `com.fasterxml.jackson.dataformat` version is `2.8.0`:\r\n\r\n   \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>In my case problem was when i added com.fasterxml.jackson.dataformat\ni put the version <strong>2.11.0</strong>.</p>\n<p>While all other Jackson dependencies were 2.8.0 and one of them was <strong>2.11.0</strong> and changing all to be <strong>2.8.0</strong> fixed it.</p>\n<p>FYI, 2.11 is the latest but due to my legacy code, i kept it as 2.8 as well.</p>\n<p>Before Fix [<strong>ERROR</strong>] : <code>com.fasterxml.jackson.dataformat</code> version is <code>2.11.0</code>:</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>After Fix [<strong>WORKED</strong>] <code>com.fasterxml.jackson.dataformat</code> version is <code>2.8.0</code>:</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10800701,"reputation":2436,"user_id":7944768,"display_name":"ezzou"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1599844828,"creation_date":1599844828,"answer_id":63851623,"question_id":30367045,"body_markdown":"If you are using springboot then **jackson is added by default**,\r\n\r\nSo the version of jackson you are adding manualy is probably **conflicting** with the one spring boot adds,\r\n\r\nTry to delete the jackson dependencies from your pom,\r\n\r\nIf you need to override the version spring boots add, then you need to **exclude** it first and then add your own","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>If you are using springboot then <strong>jackson is added by default</strong>,</p>\n<p>So the version of jackson you are adding manualy is probably <strong>conflicting</strong> with the one spring boot adds,</p>\n<p>Try to delete the jackson dependencies from your pom,</p>\n<p>If you need to override the version spring boots add, then you need to <strong>exclude</strong> it first and then add your own</p>\n"},{"tags":[],"owner":{"account_id":20477959,"reputation":71,"user_id":15026810,"display_name":"Yanpol"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1610932018,"creation_date":1610932018,"answer_id":65767626,"question_id":30367045,"body_markdown":"I have had the same error.\r\nI added dependency on pom.xml (I am working with Maven)\r\n\r\n    &lt;dependency&gt; \r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; \r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; \r\n            &lt;version&gt;2.12.1&lt;/version&gt; \r\n     &lt;/dependency&gt; \r\n\r\n  I started trying with version 2.9.0, then I found a different error (com/fasterxml/jackson/core/exc/InputCoercionException)\r\n  then I try different versions until all errors were solved with version 2.12.1\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>I have had the same error.\nI added dependency on pom.xml (I am working with Maven)</p>\n<pre><code>&lt;dependency&gt; \n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; \n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; \n        &lt;version&gt;2.12.1&lt;/version&gt; \n &lt;/dependency&gt; \n</code></pre>\n<p>I started trying with version 2.9.0, then I found a different error (com/fasterxml/jackson/core/exc/InputCoercionException)\nthen I try different versions until all errors were solved with version 2.12.1</p>\n"},{"tags":[],"owner":{"account_id":17624121,"reputation":331,"user_id":13679909,"display_name":"Rohit Agrawal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632310084,"creation_date":1632310084,"answer_id":69283301,"question_id":30367045,"body_markdown":"I faced the same issue and this was happening due to conflicting Jackson version present in the project. \r\n\r\nSo I explicitly defined the same version for all the Jackson dependencies in my pom.xml. Post this I did not face the error while running jar and it was properly resolved.\r\n\r\nBelow is what I used:\r\n```\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n**Maven Dependency tree with conflicting version**\r\n```\r\n(base) rohiagra-mac:test-secret rohiagra$ mvn dependency:tree|grep jackson\r\n[INFO] |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.7.9:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.7.9:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.7.9:compile\r\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.12.0:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.0:compile\r\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.12.0:compile\r\n[INFO] |  +- org.glassfish.jersey.media:jersey-media-json-jackson:jar:2.32:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.9:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.9:compile\r\n```\r\n\r\n**Maven Dependency tree with resolved conflicts**\r\n```\r\n[INFO] |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.7.9:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.7.9:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.7.9:compile\r\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.12.0:compile\r\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.12.0:compile\r\n[INFO] |  +- org.glassfish.jersey.media:jersey-media-json-jackson:jar:2.32:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.9:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.12.0:compile\r\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.0:compile\r\n```","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>I faced the same issue and this was happening due to conflicting Jackson version present in the project.</p>\n<p>So I explicitly defined the same version for all the Jackson dependencies in my pom.xml. Post this I did not face the error while running jar and it was properly resolved.</p>\n<p>Below is what I used:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>Maven Dependency tree with conflicting version</strong></p>\n<pre><code>(base) rohiagra-mac:test-secret rohiagra$ mvn dependency:tree|grep jackson\n[INFO] |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.7.9:compile\n[INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.7.9:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.7.9:compile\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.12.0:compile\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.0:compile\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.12.0:compile\n[INFO] |  +- org.glassfish.jersey.media:jersey-media-json-jackson:jar:2.32:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.9:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.9:compile\n</code></pre>\n<p><strong>Maven Dependency tree with resolved conflicts</strong></p>\n<pre><code>[INFO] |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.7.9:compile\n[INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.7.9:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.7.9:compile\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.12.0:compile\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.12.0:compile\n[INFO] |  +- org.glassfish.jersey.media:jersey-media-json-jackson:jar:2.32:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.9:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.12.0:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.0:compile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637055958,"creation_date":1637055958,"answer_id":69986839,"question_id":30367045,"body_markdown":"Most of time it is Jackson version incompatibility. Upgrade the jackson version and it should work. ","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>Most of time it is Jackson version incompatibility. Upgrade the jackson version and it should work.</p>\n"},{"tags":[],"owner":{"account_id":1180483,"reputation":3616,"user_id":1155514,"display_name":"Muhammad Tariq"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648024077,"creation_date":1648024077,"answer_id":71583959,"question_id":30367045,"body_markdown":"The issue was conflicting version of `Jackson-databind`. My spring-boot version was `2.5.8`, and spring-boot was using `jackson-core` version 2.12.6. \r\n\r\nMy explicit implementation was using `jackson-core` version 2.13.2, and this was the cause of the problem.\r\n\r\nI commented out the below line from `gradle.build`, and this fixed the issue.\r\n\r\n```yml\r\nimplementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.13.2&#39;\r\n```\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>The issue was conflicting version of <code>Jackson-databind</code>. My spring-boot version was <code>2.5.8</code>, and spring-boot was using <code>jackson-core</code> version 2.12.6.</p>\n<p>My explicit implementation was using <code>jackson-core</code> version 2.13.2, and this was the cause of the problem.</p>\n<p>I commented out the below line from <code>gradle.build</code>, and this fixed the issue.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.13.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15006936,"reputation":2131,"user_id":10832700,"display_name":"ahmnouira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649337253,"creation_date":1649337253,"answer_id":71782853,"question_id":30367045,"body_markdown":"I fixed this issue by simply removing the version tag as follows: \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>I fixed this issue by simply removing the version tag as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23024708,"reputation":344,"user_id":17145156,"display_name":"AceneKASDI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649506304,"creation_date":1649506304,"answer_id":71807929,"question_id":30367045,"body_markdown":"I have faced the same issue on my project Java 17, I have used the dependency.\r\n\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nNote that the version of jackson is automatically added by spring boot, you \r\ndon&#39;t really need to add it manually.\r\n\r\nI have removed it from the pom.xml\r\n","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>I have faced the same issue on my project Java 17, I have used the dependency.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Note that the version of jackson is automatically added by spring boot, you\ndon't really need to add it manually.</p>\n<p>I have removed it from the pom.xml</p>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661215310,"creation_date":1661215310,"answer_id":73452286,"question_id":30367045,"body_markdown":"I&#39;ve reproduced the issue like:\r\n\r\n    java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/util/JacksonFeature\r\n\r\n\r\nwith version of dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTo fix it, I&#39;ve used:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>I've reproduced the issue like:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/util/JacksonFeature\n</code></pre>\n<p>with version of dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.13.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.12.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To fix it, I've used:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.10.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.10.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2100275,"reputation":7433,"user_id":4390557,"accept_rate":27,"display_name":"VVB"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306294,"favorite_count":0,"down_vote_count":1,"up_vote_count":96,"accepted_answer_id":30367210,"answer_count":15,"score":95,"last_activity_date":1661215310,"creation_date":1432192816,"question_id":30367045,"body_markdown":"I am working on `YouTube broadcast` sample examples. I have created a sample `Java Project` &amp; added required jars. But, when I try to run the project it throws exception.\r\n\r\nException :\r\n\r\n    Throwable: com/fasterxml/jackson/core/JsonFactory\r\n    java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory\r\n    \tat com.google.api.client.json.jackson2.JacksonFactory.&lt;init&gt;(JacksonFactory.java:44)\r\n    \tat com.google.api.services.samples.youtube.cmdline.live.Auth.&lt;clinit&gt;(Auth.java:35)\r\n    \tat com.google.api.services.samples.youtube.cmdline.live.CreateBroadcast.main(CreateBroadcast.java:55)\r\n    Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.core.JsonFactory\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n    \t... 3 more\r\n\r\nI downloaded the project from [this GitHub repository][1]. \r\n\r\n\r\n  [1]: https://github.com/youtube/api-samples/tree/master/java","title":"java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory","body":"<p>I am working on <code>YouTube broadcast</code> sample examples. I have created a sample <code>Java Project</code> &amp; added required jars. But, when I try to run the project it throws exception.</p>\n\n<p>Exception :</p>\n\n<pre><code>Throwable: com/fasterxml/jackson/core/JsonFactory\njava.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonFactory\n    at com.google.api.client.json.jackson2.JacksonFactory.&lt;init&gt;(JacksonFactory.java:44)\n    at com.google.api.services.samples.youtube.cmdline.live.Auth.&lt;clinit&gt;(Auth.java:35)\n    at com.google.api.services.samples.youtube.cmdline.live.CreateBroadcast.main(CreateBroadcast.java:55)\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.core.JsonFactory\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    ... 3 more\n</code></pre>\n\n<p>I downloaded the project from <a href=\"https://github.com/youtube/api-samples/tree/master/java\" rel=\"noreferrer\">this GitHub repository</a>. </p>\n"},{"tags":["java","xml","soap","client","cxf"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661192501,"post_id":73449008,"comment_id":129708792,"body_markdown":"How are you generating the classes? maven plugin? soap-ui?","body":"How are you generating the classes? maven plugin? soap-ui?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1661207181,"post_id":73449008,"comment_id":129712738,"body_markdown":"Please, take some time to read [how to ask](/help/how-to-ask) and [How to create a Minimal, Reproducible Example](/help/minimal-reproducible-example)","body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1661207588,"post_id":73449008,"comment_id":129712822,"body_markdown":"The field might be annotated as `@XmlElement(name=&quot;orderId&quot;)\n         public String accessCode;` or similar","body":"The field might be annotated as <code>@XmlElement(name=&quot;orderId&quot;)          public String accessCode;</code> or similar"},{"owner":{"account_id":26125121,"reputation":1,"user_id":19816674,"display_name":"Mauricio Landos"},"score":0,"creation_date":1661353862,"post_id":73449008,"comment_id":129753496,"body_markdown":"@Pp88 the classes were generated with cfx-codegen plugin for maven.","body":"@Pp88 the classes were generated with cfx-codegen plugin for maven."},{"owner":{"account_id":26125121,"reputation":1,"user_id":19816674,"display_name":"Mauricio Landos"},"score":0,"creation_date":1661354110,"post_id":73449008,"comment_id":129753611,"body_markdown":"@LMC I&#39;ve tried searching for orderId in Intellij without success. the response i see defined in the operation definition only defines up to Result though, with the result being an xml type.\n`&lt;soap:Body&gt;\n   &lt;InsertOrderResponsexmlns=&quot;https://webservices.infotrust.pt/IdOnResp&quot;&gt;\n      &lt;InsertOrderResult&gt;\n        &lt;MessageId&gt;int&lt;/MessageId&gt;\n        &lt;TimeStamp&gt;long&lt;/TimeStamp&gt;\n        &lt;Result&gt;xml&lt;/Result&gt;\n      &lt;/InsertOrderResult&gt;\n    &lt;/InsertOrderResponse&gt;\n&lt;/soap:Body&gt;`","body":"@LMC I&#39;ve tried searching for orderId in Intellij without success. the response i see defined in the operation definition only defines up to Result though, with the result being an xml type. <code>&lt;soap:Body&gt;    &lt;InsertOrderResponsexmlns=&quot;https:&#47;&#47;webservices.infotrust.pt&#47;&zwnj;&#8203;IdOnResp&quot;&gt;       &lt;InsertOrderResult&gt;         &lt;MessageId&gt;int&lt;&#47;MessageId&gt;         &lt;TimeStamp&gt;long&lt;&#47;TimeStamp&gt;         &lt;Result&gt;xml&lt;&#47;Result&gt;       &lt;&#47;InsertOrderResult&gt;     &lt;&#47;InsertOrderResponse&gt; &lt;&#47;soap:Body&gt;</code>"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1661354369,"post_id":73449008,"comment_id":129753727,"body_markdown":"If the element appears in xml instance it must be defined somewhere, may the problem is in the [code generation](https://cxf.apache.org/docs/wsdl-to-java.html)","body":"If the element appears in xml instance it must be defined somewhere, may the problem is in the <a href=\"https://cxf.apache.org/docs/wsdl-to-java.html\" rel=\"nofollow noreferrer\">code generation</a>"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661354899,"post_id":73449008,"comment_id":129753977,"body_markdown":"Post the wsdl and the plug-in configuration if you can","body":"Post the wsdl and the plug-in configuration if you can"},{"owner":{"account_id":26125121,"reputation":1,"user_id":19816674,"display_name":"Mauricio Landos"},"score":0,"creation_date":1661394028,"post_id":73449008,"comment_id":129763695,"body_markdown":"I managed to solve my issue, the problem was that the lowest level field was of type XML, but I could not seem to find a way of parsing it since I couldn&#39;t serialize it, or cast it to another object. The type of Result for me was com.sun.org.apache.xerces.internal.dom.elementnsimpl, but somehow it was impossible to cast it to that object, and from what I understood is a bug in recent java versions.\nThe solution was simply casting it to `org.w3c.dom.Element` like said in [here](https://stackoverflow.com/a/56203831/19816674) and then I could navigate to the data.\nThanks for your time","body":"I managed to solve my issue, the problem was that the lowest level field was of type XML, but I could not seem to find a way of parsing it since I couldn&#39;t serialize it, or cast it to another object. The type of Result for me was com.sun.org.apache.xerces.internal.dom.elementnsimpl, but somehow it was impossible to cast it to that object, and from what I understood is a bug in recent java versions. The solution was simply casting it to <code>org.w3c.dom.Element</code> like said in <a href=\"https://stackoverflow.com/a/56203831/19816674\">here</a> and then I could navigate to the data. Thanks for your time"}],"owner":{"account_id":26125121,"reputation":1,"user_id":19816674,"display_name":"Mauricio Landos"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661213125,"creation_date":1661189784,"question_id":73449008,"body_markdown":"So I have this project where I consume an endpoint that creates a resource, and an access key for that resource is returned.\r\nThe response xml I get on Soap UI looks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;soap:Envelope\r\n\txmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n\t&lt;soap:Body&gt;\r\n\t\t&lt;InsertOrderResponse\r\n\t\t\txmlns=&quot;service URL&quot;&gt;\r\n\t\t\t&lt;InsertOrderResult&gt;\r\n\t\t\t\t&lt;MessageId&gt;0&lt;/MessageId&gt;\r\n\t\t\t\t&lt;TimeStamp&gt;123456789&lt;/TimeStamp&gt;\r\n\t\t\t\t&lt;Result&gt;\r\n\t\t\t\t\t&lt;orderId\r\n\t\t\t\t\t\txmlns=&quot;&quot;&gt;12345-access-code-67890\r\n\t\t\t\t\t&lt;/orderId&gt;\r\n\t\t\t\t&lt;/Result&gt;\r\n\t\t\t&lt;/InsertOrderResult&gt;\r\n\t\t&lt;/InsertOrderResponse&gt;\r\n\t&lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\nI want to get that order ID, but that field doesn&#39;t appear in any of the cxf-generated classes, the lowest level defined in the classes is the Result class which contains a list of objects &#39;content&#39;. In the debugger, I can see the field and value is present in [the return (inside field &#39;firstChild&#39;)][1]\r\n\r\n\r\nHowever, there is no [implemented method to extract that field.][2]\r\n\r\nI feel like this should be very easy, but I&#39;m very noob and I can&#39;t see to find a way of doing this.\r\n\r\n  [1]: https://i.stack.imgur.com/kFiAm.png\r\n  [2]: https://i.stack.imgur.com/aPkB5.png","title":"How do I extract the actual result of a cfx SOAP client in Java (no CXF class was generated with the field name i&#39;m looking for)","body":"<p>So I have this project where I consume an endpoint that creates a resource, and an access key for that resource is returned.\nThe response xml I get on Soap UI looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;soap:Envelope\n    xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;soap:Body&gt;\n        &lt;InsertOrderResponse\n            xmlns=&quot;service URL&quot;&gt;\n            &lt;InsertOrderResult&gt;\n                &lt;MessageId&gt;0&lt;/MessageId&gt;\n                &lt;TimeStamp&gt;123456789&lt;/TimeStamp&gt;\n                &lt;Result&gt;\n                    &lt;orderId\n                        xmlns=&quot;&quot;&gt;12345-access-code-67890\n                    &lt;/orderId&gt;\n                &lt;/Result&gt;\n            &lt;/InsertOrderResult&gt;\n        &lt;/InsertOrderResponse&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>I want to get that order ID, but that field doesn't appear in any of the cxf-generated classes, the lowest level defined in the classes is the Result class which contains a list of objects 'content'. In the debugger, I can see the field and value is present in <a href=\"https://i.stack.imgur.com/kFiAm.png\" rel=\"nofollow noreferrer\">the return (inside field 'firstChild')</a></p>\n<p>However, there is no <a href=\"https://i.stack.imgur.com/aPkB5.png\" rel=\"nofollow noreferrer\">implemented method to extract that field.</a></p>\n<p>I feel like this should be very easy, but I'm very noob and I can't see to find a way of doing this.</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":1108634,"reputation":2121,"user_id":1099503,"display_name":"DRCB"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1520026073,"creation_date":1324292766,"answer_id":8560390,"question_id":8560348,"body_markdown":"I would bind two different getters/setters pair to one variable:\r\n\r\n    class Coordinates{\r\n        int red;\r\n\r\n        @JsonProperty(&quot;red&quot;)\r\n        public byte getRed() {\r\n          return red;\r\n        }\r\n\r\n        public void setRed(byte red) {\r\n          this.red = red;\r\n        }\r\n\r\n        @JsonProperty(&quot;r&quot;)\r\n        public byte getR() {\r\n          return red;\r\n        }\r\n\r\n        public void setR(byte red) {\r\n          this.red = red;\r\n        }\r\n    }","title":"Different names of JSON property during serialization and deserialization","body":"<p>I would bind two different getters/setters pair to one variable:</p>\n\n<pre><code>class Coordinates{\n    int red;\n\n    @JsonProperty(\"red\")\n    public byte getRed() {\n      return red;\n    }\n\n    public void setRed(byte red) {\n      this.red = red;\n    }\n\n    @JsonProperty(\"r\")\n    public byte getR() {\n      return red;\n    }\n\n    public void setR(byte red) {\n      this.red = red;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18865,"reputation":25722,"user_id":43677,"accept_rate":100,"display_name":"bezmax"},"down_vote_count":1,"up_vote_count":260,"is_accepted":true,"score":259,"last_activity_date":1324294011,"creation_date":1324294011,"answer_id":8560615,"question_id":8560348,"body_markdown":"Just tested and this works:\r\n\r\n    public class Coordinates {\r\n        byte red;\r\n    \r\n        @JsonProperty(&quot;r&quot;)\r\n        public byte getR() {\r\n          return red;\r\n        }\r\n    \r\n        @JsonProperty(&quot;red&quot;)\r\n        public void setRed(byte red) {\r\n          this.red = red;\r\n        }\r\n    }\r\n\r\nThe idea is that method names should be different, so jackson parses it as different fields, not as one field.\r\n\r\nHere is test code:\r\n\r\n    Coordinates c = new Coordinates();\r\n    c.setRed((byte) 5);\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    System.out.println(&quot;Serialization: &quot; + mapper.writeValueAsString(c));\r\n\r\n    Coordinates r = mapper.readValue(&quot;{\\&quot;red\\&quot;:25}&quot;,Coordinates.class);\r\n    System.out.println(&quot;Deserialization: &quot; + r.getR());\r\n\r\nResult:\r\n\r\n    Serialization: {&quot;r&quot;:5}\r\n    Deserialization: 25","title":"Different names of JSON property during serialization and deserialization","body":"<p>Just tested and this works:</p>\n\n<pre><code>public class Coordinates {\n    byte red;\n\n    @JsonProperty(\"r\")\n    public byte getR() {\n      return red;\n    }\n\n    @JsonProperty(\"red\")\n    public void setRed(byte red) {\n      this.red = red;\n    }\n}\n</code></pre>\n\n<p>The idea is that method names should be different, so jackson parses it as different fields, not as one field.</p>\n\n<p>Here is test code:</p>\n\n<pre><code>Coordinates c = new Coordinates();\nc.setRed((byte) 5);\n\nObjectMapper mapper = new ObjectMapper();\nSystem.out.println(\"Serialization: \" + mapper.writeValueAsString(c));\n\nCoordinates r = mapper.readValue(\"{\\\"red\\\":25}\",Coordinates.class);\nSystem.out.println(\"Deserialization: \" + r.getR());\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Serialization: {\"r\":5}\nDeserialization: 25\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6340276,"reputation":71,"user_id":4922418,"display_name":"Andy Talkowski"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1432160824,"creation_date":1432160824,"answer_id":30361447,"question_id":8560348,"body_markdown":"This was not what I was expecting as a solution (though it is a legitimate use case). My requirement was to allow an existing buggy client (a mobile app which already released) to use alternate names. \r\n\r\nThe solution lies in providing a separate setter method like this:\r\n\r\n    @JsonSetter( &quot;r&quot; )\r\n    public void alternateSetRed( byte red ) {\r\n        this.red = red;\r\n    }","title":"Different names of JSON property during serialization and deserialization","body":"<p>This was not what I was expecting as a solution (though it is a legitimate use case). My requirement was to allow an existing buggy client (a mobile app which already released) to use alternate names. </p>\n\n<p>The solution lies in providing a separate setter method like this:</p>\n\n<pre><code>@JsonSetter( \"r\" )\npublic void alternateSetRed( byte red ) {\n    this.red = red;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1398778,"reputation":1,"user_id":1327949,"display_name":"Vernon Kujyio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557238040,"creation_date":1447826550,"answer_id":33772850,"question_id":8560348,"body_markdown":"You can write a serialize class to do that:\r\n```java\r\npublic class Symbol\r\n\r\n{\r\n\t private String symbol;\r\n\r\n\t private String name;\r\n\r\n     public String getSymbol() {\r\n\t\treturn symbol;\r\n\t}\r\n\tpublic void setSymbol(String symbol) {\r\n\t\tthis.symbol = symbol;\r\n\t}\t \r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\t \r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\npublic class SymbolJsonSerializer extends JsonSerializer&lt;Symbol&gt; {\r\n \r\n\t@Override\r\n\tpublic void serialize(Symbol symbol, JsonGenerator jgen, SerializerProvider serializers) throws IOException, JsonProcessingException {\r\n\t\tjgen.writeStartObject();\r\n\t\t\r\n\t\tjgen.writeStringField(&quot;symbol&quot;, symbol.getSymbol());\r\n         //Changed name to full_name as the field name of Json string\r\n\t\tjgen.writeStringField(&quot;full_name&quot;, symbol.getName());\r\n\t\tjgen.writeEndObject(); \r\n\t}\r\n}\r\n\r\n```\r\n\r\n```java\r\n            ObjectMapper mapper = new ObjectMapper();\r\n\t\t\r\n\t\t\tSimpleModule module = new SimpleModule();\r\n\t\t\tmodule.addSerializer(Symbol.class, new SymbolJsonSerializer());\r\n\t\t\tmapper.registerModule(module); \r\n\r\n            //only convert non-null field, option...\r\n\t\t\tmapper.setSerializationInclusion(Include.NON_NULL); \r\n\t\t\t \r\n\t\t\tString jsonString = mapper.writeValueAsString(symbolList);\r\n \r\n```","title":"Different names of JSON property during serialization and deserialization","body":"<p>You can write a serialize class to do that:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Symbol\n\n{\n     private String symbol;\n\n     private String name;\n\n     public String getSymbol() {\n        return symbol;\n    }\n    public void setSymbol(String symbol) {\n        this.symbol = symbol;\n    }    \n    public String getName() {\n        return name;\n    }    \n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SymbolJsonSerializer extends JsonSerializer&lt;Symbol&gt; {\n\n    @Override\n    public void serialize(Symbol symbol, JsonGenerator jgen, SerializerProvider serializers) throws IOException, JsonProcessingException {\n        jgen.writeStartObject();\n\n        jgen.writeStringField(\"symbol\", symbol.getSymbol());\n         //Changed name to full_name as the field name of Json string\n        jgen.writeStringField(\"full_name\", symbol.getName());\n        jgen.writeEndObject(); \n    }\n}\n\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>            ObjectMapper mapper = new ObjectMapper();\n\n            SimpleModule module = new SimpleModule();\n            module.addSerializer(Symbol.class, new SymbolJsonSerializer());\n            mapper.registerModule(module); \n\n            //only convert non-null field, option...\n            mapper.setSerializationInclusion(Include.NON_NULL); \n\n            String jsonString = mapper.writeValueAsString(symbolList);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2546050,"reputation":409,"user_id":2210838,"accept_rate":73,"display_name":"Jan Siekierski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468666458,"creation_date":1468666458,"answer_id":38410431,"question_id":8560348,"body_markdown":"They must have included this as a feature, because now setting a different `@JsonProperty` for a getter and setter results in exactly what you would expect (different property name during serialization and deserialization for the same field). Jackson version 2.6.7","title":"Different names of JSON property during serialization and deserialization","body":"<p>They must have included this as a feature, because now setting a different <code>@JsonProperty</code> for a getter and setter results in exactly what you would expect (different property name during serialization and deserialization for the same field). Jackson version 2.6.7</p>\n"},{"tags":[],"owner":{"account_id":3506256,"reputation":1117,"user_id":2931745,"display_name":"Raman Yelianevich"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1485949576,"creation_date":1485949576,"answer_id":41979024,"question_id":8560348,"body_markdown":"It&#39;s possible to have normal getter/setter pair. You just need to specify access mode in `@JsonProperty`\r\n\r\nHere is unit test for that:\r\n\r\n    public class JsonPropertyTest {\r\n    \r\n      private static class TestJackson {\r\n\r\n        private String color;\r\n\r\n        @JsonProperty(value = &quot;device_color&quot;, access = JsonProperty.Access.READ_ONLY)\r\n        public String getColor() {\r\n          return color;\r\n        };\r\n\r\n        @JsonProperty(value = &quot;color&quot;, access = JsonProperty.Access.WRITE_ONLY)\r\n        public void setColor(String color) {\r\n          this.color = color;\r\n        }\r\n\r\n      }\r\n\r\n      @Test\r\n      public void shouldParseWithAccessModeSpecified() throws Exception {\r\n        String colorJson = &quot;{\\&quot;color\\&quot;:\\&quot;red\\&quot;}&quot;;\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        TestJackson colotObject = mapper.readValue(colorJson, TestJackson.class);\r\n\r\n        String ser = mapper.writeValueAsString(colotObject);\r\n        System.out.println(&quot;Serialized colotObject: &quot; + ser);\r\n      }\r\n    }\r\n\r\nI got the output as follows:\r\n\r\n    Serialized colotObject: {&quot;device_color&quot;:&quot;red&quot;}","title":"Different names of JSON property during serialization and deserialization","body":"<p>It's possible to have normal getter/setter pair. You just need to specify access mode in <code>@JsonProperty</code></p>\n\n<p>Here is unit test for that:</p>\n\n<pre><code>public class JsonPropertyTest {\n\n  private static class TestJackson {\n\n    private String color;\n\n    @JsonProperty(value = \"device_color\", access = JsonProperty.Access.READ_ONLY)\n    public String getColor() {\n      return color;\n    };\n\n    @JsonProperty(value = \"color\", access = JsonProperty.Access.WRITE_ONLY)\n    public void setColor(String color) {\n      this.color = color;\n    }\n\n  }\n\n  @Test\n  public void shouldParseWithAccessModeSpecified() throws Exception {\n    String colorJson = \"{\\\"color\\\":\\\"red\\\"}\";\n    ObjectMapper mapper = new ObjectMapper();\n    TestJackson colotObject = mapper.readValue(colorJson, TestJackson.class);\n\n    String ser = mapper.writeValueAsString(colotObject);\n    System.out.println(\"Serialized colotObject: \" + ser);\n  }\n}\n</code></pre>\n\n<p>I got the output as follows:</p>\n\n<pre><code>Serialized colotObject: {\"device_color\":\"red\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11518413,"reputation":889,"user_id":8441079,"display_name":"Asura"},"down_vote_count":1,"up_vote_count":89,"is_accepted":false,"score":88,"last_activity_date":1575629401,"creation_date":1502296837,"answer_id":45596305,"question_id":8560348,"body_markdown":"You can use `@jsonAlias` which got introduced in jackson 2.9.0\r\n\r\nExample:\r\n\r\n    public class Info {\r\n      @JsonAlias({ &quot;red&quot; })\r\n      public String r;\r\n    }\r\n\r\nThis uses `r` during serialization, but allows `red` as an alias during deserialization. This still allows `r` to be deserialized as well, though.","title":"Different names of JSON property during serialization and deserialization","body":"<p>You can use <code>@jsonAlias</code> which got introduced in jackson 2.9.0</p>\n\n<p>Example:</p>\n\n<pre><code>public class Info {\n  @JsonAlias({ \"red\" })\n  public String r;\n}\n</code></pre>\n\n<p>This uses <code>r</code> during serialization, but allows <code>red</code> as an alias during deserialization. This still allows <code>r</code> to be deserialized as well, though.</p>\n"},{"tags":[],"owner":{"account_id":1073465,"reputation":1055,"user_id":1072175,"accept_rate":100,"display_name":"Xaero Degreaz"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1659073771,"creation_date":1519753508,"answer_id":49014860,"question_id":8560348,"body_markdown":"You can use a combination of [@JsonSetter](https://jenkov.com/tutorials/java-json/jackson-annotations.html#jsonsetter), and [@JsonGetter](https://jenkov.com/tutorials/java-json/jackson-annotations.html#jsongetter) to control the deserialization, and serialization of your property, respectively. This will also allow you to keep standardized getter and setter method names that correspond to your actual field name.\r\n\r\n    import com.fasterxml.jackson.annotation.JsonSetter;    \r\n    import com.fasterxml.jackson.annotation.JsonGetter;\r\n    \r\n    class Coordinates {\r\n    \tprivate int red;\r\n    \r\n    \t//# Used during serialization\r\n    \t@JsonGetter(&quot;r&quot;)\r\n    \tpublic int getRed() {\r\n    \t\treturn red;\r\n    \t}\r\n    \r\n    \t//# Used during deserialization\r\n    \t@JsonSetter(&quot;red&quot;)\r\n    \tpublic void setRed(int red) {\r\n    \t\tthis.red = red;\r\n    \t}\r\n    }\r\n**Edit**: Updated the documentation links, as the `fasterxml` GitHub pages are now returning 404.","title":"Different names of JSON property during serialization and deserialization","body":"<p>You can use a combination of <a href=\"https://jenkov.com/tutorials/java-json/jackson-annotations.html#jsonsetter\" rel=\"nofollow noreferrer\">@JsonSetter</a>, and <a href=\"https://jenkov.com/tutorials/java-json/jackson-annotations.html#jsongetter\" rel=\"nofollow noreferrer\">@JsonGetter</a> to control the deserialization, and serialization of your property, respectively. This will also allow you to keep standardized getter and setter method names that correspond to your actual field name.</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonSetter;    \nimport com.fasterxml.jackson.annotation.JsonGetter;\n\nclass Coordinates {\n    private int red;\n\n    //# Used during serialization\n    @JsonGetter(&quot;r&quot;)\n    public int getRed() {\n        return red;\n    }\n\n    //# Used during deserialization\n    @JsonSetter(&quot;red&quot;)\n    public void setRed(int red) {\n        this.red = red;\n    }\n}\n</code></pre>\n<p><strong>Edit</strong>: Updated the documentation links, as the <code>fasterxml</code> GitHub pages are now returning 404.</p>\n"},{"tags":[],"owner":{"account_id":10891961,"reputation":529,"user_id":8007430,"display_name":"Khaled"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557697543,"creation_date":1557697543,"answer_id":56103727,"question_id":8560348,"body_markdown":"I know its an old question but for me I got it working when I figured out that its conflicting with Gson library so if you are using Gson then use `@SerializedName(&quot;name&quot;)` instead of `@JsonProperty(&quot;name&quot;)` hope this helps","title":"Different names of JSON property during serialization and deserialization","body":"<p>I know its an old question but for me I got it working when I figured out that its conflicting with Gson library so if you are using Gson then use <code>@SerializedName(\"name\")</code> instead of <code>@JsonProperty(\"name\")</code> hope this helps</p>\n"},{"tags":[],"owner":{"account_id":8626891,"reputation":113,"user_id":6459849,"display_name":"Arnab Das"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591945153,"creation_date":1591945153,"answer_id":62339100,"question_id":8560348,"body_markdown":"Annotating with `@JsonAlias` which got introduced with Jackson 2.9+, without mentioning `@JsonProperty` on the item to be deserialized with more than one alias(different names for a json property) works fine.\r\n\r\n\r\nI used `com.fasterxml.jackson.annotation.JsonAlias` for package consistency with `com.fasterxml.jackson.databind.ObjectMapper` for my use-case. \r\n\r\nFor e.g.:\r\n\r\n    @Data\r\n    @Builder\r\n    public class Chair {\r\n    \r\n        @JsonAlias({&quot;woodenChair&quot;, &quot;steelChair&quot;})\r\n        private String entityType;\r\n\r\n    }\r\n    \r\n    \r\n    @Test\r\n    public void test1() {\r\n       \r\n       String str1 = &quot;{\\&quot;woodenChair\\&quot;:\\&quot;chair made of wood\\&quot;}&quot;;\r\n       System.out.println( mapper.readValue(str1, Chair.class));\r\n       String str2 = &quot;{\\&quot;steelChair\\&quot;:\\&quot;chair made of steel\\&quot;}&quot;;\r\n       System.out.println( mapper.readValue(str2, Chair.class));\r\n    \r\n    }\r\n\r\njust works fine.\r\n","title":"Different names of JSON property during serialization and deserialization","body":"<p>Annotating with <code>@JsonAlias</code> which got introduced with Jackson 2.9+, without mentioning <code>@JsonProperty</code> on the item to be deserialized with more than one alias(different names for a json property) works fine.</p>\n\n<p>I used <code>com.fasterxml.jackson.annotation.JsonAlias</code> for package consistency with <code>com.fasterxml.jackson.databind.ObjectMapper</code> for my use-case. </p>\n\n<p>For e.g.:</p>\n\n<pre><code>@Data\n@Builder\npublic class Chair {\n\n    @JsonAlias({\"woodenChair\", \"steelChair\"})\n    private String entityType;\n\n}\n\n\n@Test\npublic void test1() {\n\n   String str1 = \"{\\\"woodenChair\\\":\\\"chair made of wood\\\"}\";\n   System.out.println( mapper.readValue(str1, Chair.class));\n   String str2 = \"{\\\"steelChair\\\":\\\"chair made of steel\\\"}\";\n   System.out.println( mapper.readValue(str2, Chair.class));\n\n}\n</code></pre>\n\n<p>just works fine.</p>\n"},{"tags":[],"owner":{"account_id":10652891,"reputation":478,"user_id":7843234,"accept_rate":100,"display_name":"Vitalii T"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1598013571,"creation_date":1598013005,"answer_id":63522964,"question_id":8560348,"body_markdown":"You can use this variant:\r\n \r\n\r\n    import lombok.Getter;\r\n    import com.fasterxml.jackson.annotation.JsonGetter;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n    //...\r\n\r\n    @JsonProperty(value = &quot;rr&quot;) // for deserialization\r\n    @Getter(onMethod_ = {@JsonGetter(value = &quot;r&quot;)}) // for serialization\r\n    private String rrrr;\r\n\r\nwith Lombok getter\r\n\r\n","title":"Different names of JSON property during serialization and deserialization","body":"<p>You can use this variant:</p>\n<pre><code>import lombok.Getter;\nimport com.fasterxml.jackson.annotation.JsonGetter;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n//...\n\n@JsonProperty(value = &quot;rr&quot;) // for deserialization\n@Getter(onMethod_ = {@JsonGetter(value = &quot;r&quot;)}) // for serialization\nprivate String rrrr;\n</code></pre>\n<p>with Lombok getter</p>\n"},{"tags":[],"owner":{"account_id":3753631,"reputation":2325,"user_id":3120564,"accept_rate":80,"display_name":"Jaumzera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636461128,"creation_date":1636460792,"answer_id":69898130,"question_id":8560348,"body_markdown":"In my case, I had to read inputs in Brazilian portuguese and generate outputs in english. \r\n\r\nSo, a workaround which worked for me was using `@JsonAlias` instead of `@JsonProperty`:\r\n\r\n```Java\r\n\r\n// pseudo-java\r\n@Value\r\npublic class User {\r\n\r\n   String username;\r\n\r\n   public User(\r\n      @JsonAlias(&quot;nome_usuario&quot;) String username) {\r\n     // ...\r\n   }\r\n\r\n}\r\n\r\n```\r\n","title":"Different names of JSON property during serialization and deserialization","body":"<p>In my case, I had to read inputs in Brazilian portuguese and generate outputs in english.</p>\n<p>So, a workaround which worked for me was using <code>@JsonAlias</code> instead of <code>@JsonProperty</code>:</p>\n<pre><code>\n// pseudo-java\n@Value\npublic class User {\n\n   String username;\n\n   public User(\n      @JsonAlias(&quot;nome_usuario&quot;) String username) {\n     // ...\n   }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11624210,"reputation":731,"user_id":8514493,"display_name":"E.Big"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657648544,"creation_date":1657648544,"answer_id":72956533,"question_id":8560348,"body_markdown":"&lt;!-- language-all: lang-kotlin --&gt;\r\n\r\nFor Kotlin guys:\r\n\r\n```\r\ndata class TestClassDTO(\r\n    @JsonProperty(&quot;user_name&quot;)\r\n    val username: String\r\n)\r\n```\r\n\r\nYou will successfull handle `{&quot;user_name&quot;: &quot;John&quot;}` from POST payload in RestControllers \r\n\r\nBut when you need to serialize back with same name of @JsonProperty you can use this reflexe-approach\r\n\r\n\r\n\r\n```\r\nfun Any.forceSerialize(separator: String, sorted: Boolean = false): String {\r\n    var fieldNameToAnnotatedNameMap = this.javaClass.declaredFields.map { it.name }.associateWith { fieldName -&gt;\r\n        val jsonFieldName =\r\n            this::class.primaryConstructor?.parameters?.first { it.name == fieldName }?.annotations?.firstOrNull { it is JsonProperty }\r\n        val serializedName = if (jsonFieldName != null) (jsonFieldName as JsonProperty).value else fieldName\r\n        serializedName\r\n    }\r\n    if (sorted)\r\n        fieldNameToAnnotatedNameMap = fieldNameToAnnotatedNameMap.toList().sortedBy { (_, value) -&gt; value}.toMap()\r\n    return fieldNameToAnnotatedNameMap.entries.joinToString(separator) { e -&gt;\r\n        val field = this::class.memberProperties.first { it.name == e.key }\r\n        &quot;${e.value}=${field.javaGetter?.invoke(this)}&quot;\r\n    }\r\n}\r\n```","title":"Different names of JSON property during serialization and deserialization","body":"\n<p>For Kotlin guys:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class TestClassDTO(\n    @JsonProperty(&quot;user_name&quot;)\n    val username: String\n)\n</code></pre>\n<p>You will successfull handle <code>{&quot;user_name&quot;: &quot;John&quot;}</code> from POST payload in RestControllers</p>\n<p>But when you need to serialize back with same name of @JsonProperty you can use this reflexe-approach</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun Any.forceSerialize(separator: String, sorted: Boolean = false): String {\n    var fieldNameToAnnotatedNameMap = this.javaClass.declaredFields.map { it.name }.associateWith { fieldName -&gt;\n        val jsonFieldName =\n            this::class.primaryConstructor?.parameters?.first { it.name == fieldName }?.annotations?.firstOrNull { it is JsonProperty }\n        val serializedName = if (jsonFieldName != null) (jsonFieldName as JsonProperty).value else fieldName\n        serializedName\n    }\n    if (sorted)\n        fieldNameToAnnotatedNameMap = fieldNameToAnnotatedNameMap.toList().sortedBy { (_, value) -&gt; value}.toMap()\n    return fieldNameToAnnotatedNameMap.entries.joinToString(separator) { e -&gt;\n        val field = this::class.memberProperties.first { it.name == e.key }\n        &quot;${e.value}=${field.javaGetter?.invoke(this)}&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":431512,"reputation":1366,"user_id":815627,"accept_rate":50,"display_name":"mdev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661211580,"creation_date":1661211580,"answer_id":73451972,"question_id":8560348,"body_markdown":"Use both JsonAlias and JsonProperty on the attribute.\r\n\r\n    data class PayoutMethodCard(\r\n        @JsonProperty(&quot;payment_account_id&quot;)\r\n        @JsonAlias(&quot;payout_account_id&quot;)\r\n        val payoutAccountId: Long\r\n    )\r\n\r\nIn this case `paymentAccountId` can serialized from JSON either by `payment_account_id` or by `payout_account_id`, but when deserialized back to JSON JSONProperty will be used, and `payment_account_id` will be used.","title":"Different names of JSON property during serialization and deserialization","body":"<p>Use both JsonAlias and JsonProperty on the attribute.</p>\n<pre><code>data class PayoutMethodCard(\n    @JsonProperty(&quot;payment_account_id&quot;)\n    @JsonAlias(&quot;payout_account_id&quot;)\n    val payoutAccountId: Long\n)\n</code></pre>\n<p>In this case <code>paymentAccountId</code> can serialized from JSON either by <code>payment_account_id</code> or by <code>payout_account_id</code>, but when deserialized back to JSON JSONProperty will be used, and <code>payment_account_id</code> will be used.</p>\n"}],"owner":{"account_id":396500,"reputation":2375,"user_id":760085,"accept_rate":50,"display_name":"kiRach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310232,"favorite_count":0,"down_vote_count":0,"up_vote_count":212,"accepted_answer_id":8560615,"answer_count":14,"score":212,"last_activity_date":1661211580,"creation_date":1324292509,"question_id":8560348,"body_markdown":"Is it possible: to have one field in class, but different names for it during serialization/deserialization in Jackson library?\r\n\r\nFor example, I have class &quot;Coordiantes&quot;.\r\n    \r\n    class Coordinates{\r\n      int red;\r\n    }\r\n\r\nFor deserialization from JSON want to have format like this:\r\n    \r\n    {\r\n      &quot;red&quot;:12\r\n    }\r\n\r\nBut when I will serialize object, result should be like this one:\r\n   \r\n    {\r\n      &quot;r&quot;:12\r\n    }\r\n\r\nI tried to implement this by applying `@JsonProperty` annotation both on getter and setter (with different values):\r\n    \r\n    class Coordiantes{\r\n        int red;\r\n       \r\n        @JsonProperty(&quot;r&quot;)\r\n        public byte getRed() {\r\n          return red;\r\n        }\r\n\r\n        @JsonProperty(&quot;red&quot;)\r\n        public void setRed(byte red) {\r\n          this.red = red;\r\n        }\r\n    }\r\nbut I got an exception:\r\n     \r\n&gt;org.codehaus.jackson.map.exc.UnrecognizedPropertyException: Unrecognized field &quot;red&quot;\r\n","title":"Different names of JSON property during serialization and deserialization","body":"<p>Is it possible: to have one field in class, but different names for it during serialization/deserialization in Jackson library?</p>\n\n<p>For example, I have class \"Coordiantes\".</p>\n\n<pre><code>class Coordinates{\n  int red;\n}\n</code></pre>\n\n<p>For deserialization from JSON want to have format like this:</p>\n\n<pre><code>{\n  \"red\":12\n}\n</code></pre>\n\n<p>But when I will serialize object, result should be like this one:</p>\n\n<pre><code>{\n  \"r\":12\n}\n</code></pre>\n\n<p>I tried to implement this by applying <code>@JsonProperty</code> annotation both on getter and setter (with different values):</p>\n\n<pre><code>class Coordiantes{\n    int red;\n\n    @JsonProperty(\"r\")\n    public byte getRed() {\n      return red;\n    }\n\n    @JsonProperty(\"red\")\n    public void setRed(byte red) {\n      this.red = red;\n    }\n}\n</code></pre>\n\n<p>but I got an exception:</p>\n\n<blockquote>\n  <p>org.codehaus.jackson.map.exc.UnrecognizedPropertyException: Unrecognized field \"red\"</p>\n</blockquote>\n"},{"tags":["java","jsp","java-ee-6","jsp-tags"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1661186398,"post_id":73448309,"comment_id":129706796,"body_markdown":"have you tried `List[i].name`?","body":"have you tried <code>List[i].name</code>?"},{"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"score":0,"creation_date":1661186705,"post_id":73448309,"comment_id":129706907,"body_markdown":"@f1sh I don&#39;t understand how but it worked because I&#39;m using an arraylist, so I&#39;m suppose to use get() to get the arraylist that I want. If you want you can submit the answer and thanks &lt;3","body":"@f1sh I don&#39;t understand how but it worked because I&#39;m using an arraylist, so I&#39;m suppose to use get() to get the arraylist that I want. If you want you can submit the answer and thanks &lt;3"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661210057,"creation_date":1661210057,"answer_id":73451849,"question_id":73448309,"body_markdown":"The problem here is the syntax. You expect to write java code in these places, however JSP expects these expression to follow the syntax of the [Expression Language](https://docs.oracle.com/javaee/6/tutorial/doc/gjddd.html) (&quot;EL&quot;).\r\n\r\nIn EL, array/List/Map elements are accessed [using brackets][1]. Properties are expected to follow the naming convention of getters, so `.name` will internally be translated to `getName()`.\r\n\r\nOverall, your expression should be\r\n\r\n    List[i].name\r\n\r\nwhich EL evaluates one by one, eventually returning the same as `List.get(i).getName()`.\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/tutorial/doc/bnahu.html","title":"Why forEach var doesn&#39;t work as a parameter? JSP/JSTL","body":"<p>The problem here is the syntax. You expect to write java code in these places, however JSP expects these expression to follow the syntax of the <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/gjddd.html\" rel=\"nofollow noreferrer\">Expression Language</a> (&quot;EL&quot;).</p>\n<p>In EL, array/List/Map elements are accessed <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/bnahu.html\" rel=\"nofollow noreferrer\">using brackets</a>. Properties are expected to follow the naming convention of getters, so <code>.name</code> will internally be translated to <code>getName()</code>.</p>\n<p>Overall, your expression should be</p>\n<pre><code>List[i].name\n</code></pre>\n<p>which EL evaluates one by one, eventually returning the same as <code>List.get(i).getName()</code>.</p>\n"}],"owner":{"account_id":21018819,"reputation":362,"user_id":15445661,"display_name":"Ra&#250;l Pe&#241;ate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73451849,"answer_count":1,"score":0,"last_activity_date":1661210057,"creation_date":1661185919,"question_id":73448309,"body_markdown":"    &lt;c:forEach var = &quot;i&quot; begin = &quot;0&quot; end = &quot;${List.size()}&quot;&gt;\r\n      &lt;option value=&quot;2&quot; selected&gt;\r\n        ${List.get(i).getName()}\r\n      &lt;/option&gt;\r\n    &lt;/c:forEach&gt;\r\n\r\nMy arraylist (List) works and also the forEach, but I don&#39;t understand why the var **i** is not able to reach as a **parameter** for the function **get()**. But if I use it like **${i}** it works, also if I want to print **${List.get(0).getName()}** sending a number as a paramether it works.\r\n\r\nSo my question is why **&quot;i&quot;** doesn&#39;t work when is used as a parameter to get the list that I want.\r\n\r\nI also tried these:\r\n\r\n    &lt;c:out value=&quot;${List.get(i).getName()}&quot;/&gt;\r\n\r\n    &lt;%=List.get(i).getName()%&gt;","title":"Why forEach var doesn&#39;t work as a parameter? JSP/JSTL","body":"<pre><code>&lt;c:forEach var = &quot;i&quot; begin = &quot;0&quot; end = &quot;${List.size()}&quot;&gt;\n  &lt;option value=&quot;2&quot; selected&gt;\n    ${List.get(i).getName()}\n  &lt;/option&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n<p>My arraylist (List) works and also the forEach, but I don't understand why the var <strong>i</strong> is not able to reach as a <strong>parameter</strong> for the function <strong>get()</strong>. But if I use it like <strong>${i}</strong> it works, also if I want to print <strong>${List.get(0).getName()}</strong> sending a number as a paramether it works.</p>\n<p>So my question is why <strong>&quot;i&quot;</strong> doesn't work when is used as a parameter to get the list that I want.</p>\n<p>I also tried these:</p>\n<pre><code>&lt;c:out value=&quot;${List.get(i).getName()}&quot;/&gt;\n\n&lt;%=List.get(i).getName()%&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jwt"],"comments":[{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":2,"creation_date":1661221009,"post_id":73451841,"comment_id":129714267,"body_markdown":"The error is self explanatory. Where&#39;s your `Jwt.secret`?","body":"The error is self explanatory. Where&#39;s your <code>Jwt.secret</code>?"},{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":2,"creation_date":1661233277,"post_id":73451841,"comment_id":129715979,"body_markdown":"Looks like in your `JwtProvider` you have something like `@Value(&quot;${Jwt.secret}&quot;)`, and something&#39;s wrong with the placeholder here. maybe you don&#39;t have this property or its name is incorrect, or you defined a static field which cannot be processed by Spring","body":"Looks like in your <code>JwtProvider</code> you have something like <code>@Value(&quot;${Jwt.secret}&quot;)</code>, and something&#39;s wrong with the placeholder here. maybe you don&#39;t have this property or its name is incorrect, or you defined a static field which cannot be processed by Spring"},{"owner":{"account_id":25196252,"reputation":43,"user_id":19035739,"display_name":"Valente Zunino"},"score":1,"creation_date":1661275471,"post_id":73451841,"comment_id":129731825,"body_markdown":"It was a error in my application.properties where Jwt.secret and Jwt.expiration where misspelled, that resolved everything else. Thanks you so much for taking the time to help me.","body":"It was a error in my application.properties where Jwt.secret and Jwt.expiration where misspelled, that resolved everything else. Thanks you so much for taking the time to help me."}],"owner":{"account_id":25196252,"reputation":43,"user_id":19035739,"display_name":"Valente Zunino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661209958,"creation_date":1661209958,"question_id":73451841,"body_markdown":"Im having problems with my project in Java, making some Login with Jwt, below you can see the error thats throws me, really trying everything that see on the internet but nothing works for me.\r\n\r\n&gt; java.lang.IllegalStateException: Failed to load ApplicationContext\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;authController&#39;: Unsatisfied dependency expressed through field &#39;jwtProvider&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jwtProvider&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;Jwt.secret&#39; in value &quot;${Jwt.secret}&quot;\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jwtProvider&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;Jwt.secret&#39; in value &quot;${Jwt.secret}&quot;\r\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;Jwt.secret&#39; in value &quot;${Jwt.secret}&quot;&gt;\r\n\r\n\r\n\r\nHere there is the JwtTokenFilter.java\r\n\r\npublic class JwtTokenFilter extends OncePerRequestFilter {\r\n\r\n    private final static Logger logger = LoggerFactory.getLogger(JwtProvider.class);\r\n\r\n    @Autowired\r\n    JwtProvider jwtProvider;\r\n    @Autowired\r\n    UserDetailsImpl userDetailsServiceImpl;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        try {\r\n            String token = getToken(request);\r\n            if (token != null &amp;&amp; jwtProvider.validateToken(token)) {\r\n                String nombreUsuario = jwtProvider.getNombreUsuarioFromToken(token);\r\n                UserDetails userDetails = userDetailsServiceImpl.loadUserByUsername(nombreUsuario);\r\n                UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(userDetails,\r\n                        null, userDetails.getAuthorities());\r\n                SecurityContextHolder.getContext().setAuthentication(auth);\r\n            }\r\n        } catch (UsernameNotFoundException e) {\r\n            logger.error(&quot;Fallo el metodo doFilterInternal&quot;);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n    \r\n    private String getToken(HttpServletRequest request){\r\n    String header = request.getHeader(&quot;Authorization&quot;);\r\n    if(header != null &amp;&amp; header.startsWith(&quot;Bearer&quot;))\r\n           return header.replace(&quot;Bearer&quot;,&quot;&quot;);\r\n      return null;\r\n    }\r\n\r\n}`\r\n\r\n\r\n\r\n\r\nMainSecurity.java\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class MainSecurity extends WebSecurityConfigurerAdapter{\r\n    @Autowired\r\n    UserDetailsImpl userDetailsServicesImpl;\r\n    @Autowired\r\n    JwtEntryPoint jwtEntryPoint;\r\n\r\n    @Bean\r\n    public JwtTokenFilter jwtTokenFilter(){\r\n        return new JwtTokenFilter();\r\n    }\r\n    \r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .exceptionHandling().authenticationEntryPoint(jwtEntryPoint)\r\n                .and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n    @Override\r\n    protected AuthenticationManager authenticationManager() throws Exception {\r\n        return super.authenticationManager();\r\n    }\r\n    \r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsServicesImpl).passwordEncoder(passwordEncoder());\r\n    }\r\n    \r\n    \r\n    \r\n}`\r\n\r\n\r\n","title":"Error with beans.factory, JwtProvider &amp; Jwt.secret","body":"<p>Im having problems with my project in Java, making some Login with Jwt, below you can see the error thats throws me, really trying everything that see on the internet but nothing works for me.</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController': Unsatisfied dependency expressed through field 'jwtProvider'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwtProvider': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'Jwt.secret' in value &quot;${Jwt.secret}&quot;\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwtProvider': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'Jwt.secret' in value &quot;${Jwt.secret}&quot;\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'Jwt.secret' in value &quot;${Jwt.secret}&quot;&gt;</p>\n</blockquote>\n<p>Here there is the JwtTokenFilter.java</p>\n<p>public class JwtTokenFilter extends OncePerRequestFilter {</p>\n<pre><code>private final static Logger logger = LoggerFactory.getLogger(JwtProvider.class);\n\n@Autowired\nJwtProvider jwtProvider;\n@Autowired\nUserDetailsImpl userDetailsServiceImpl;\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    try {\n        String token = getToken(request);\n        if (token != null &amp;&amp; jwtProvider.validateToken(token)) {\n            String nombreUsuario = jwtProvider.getNombreUsuarioFromToken(token);\n            UserDetails userDetails = userDetailsServiceImpl.loadUserByUsername(nombreUsuario);\n            UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(userDetails,\n                    null, userDetails.getAuthorities());\n            SecurityContextHolder.getContext().setAuthentication(auth);\n        }\n    } catch (UsernameNotFoundException e) {\n        logger.error(&quot;Fallo el metodo doFilterInternal&quot;);\n    }\n    filterChain.doFilter(request, response);\n}\n\nprivate String getToken(HttpServletRequest request){\nString header = request.getHeader(&quot;Authorization&quot;);\nif(header != null &amp;&amp; header.startsWith(&quot;Bearer&quot;))\n       return header.replace(&quot;Bearer&quot;,&quot;&quot;);\n  return null;\n}\n</code></pre>\n<p>}`</p>\n<p>MainSecurity.java</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class MainSecurity extends WebSecurityConfigurerAdapter{\n@Autowired\nUserDetailsImpl userDetailsServicesImpl;\n@Autowired\nJwtEntryPoint jwtEntryPoint;\n\n@Bean\npublic JwtTokenFilter jwtTokenFilter(){\n    return new JwtTokenFilter();\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder(){\n    return new BCryptPasswordEncoder();\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.cors().and().csrf().disable()\n            .authorizeRequests()\n            .antMatchers(&quot;**&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .exceptionHandling().authenticationEntryPoint(jwtEntryPoint)\n            .and()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n}\n\n@Override\nprotected AuthenticationManager authenticationManager() throws Exception {\n    return super.authenticationManager();\n}\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userDetailsServicesImpl).passwordEncoder(passwordEncoder());\n}\n</code></pre>\n<p>}`</p>\n"},{"tags":["java","tomcat","jackson","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661209728,"creation_date":1661209728,"answer_id":73451826,"question_id":73426791,"body_markdown":"**Short answer**: META-INF/services.\r\n\r\n**Longer answer**: Jackson defines [Module class][1] which is used as a [service][2] (defined in META-INF/services) loaded by a standard ServiceLoader mechanism. Jackson defines \r\na static [method loading][3] all `Modules` and the Jackson `jackson-datatype-java8` module defines the [proper service][4]. \r\n\r\nJersey just [uses][5] the Jackson service-finding routine to [register the module][6].\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/blob/2.14/src/main/java/com/fasterxml/jackson/databind/Module.java\r\n  [2]: https://github.com/FasterXML/jackson-databind/blob/jackson-databind-2.13.3/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java#L1104\r\n  [3]: https://github.com/FasterXML/jackson-databind/blob/jackson-databind-2.13.3/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java#L1088\r\n  [4]: https://github.com/FasterXML/jackson-modules-java8/blob/jackson-modules-java8-2.13.3/datatypes/src/main/resources/META-INF/services/com.fasterxml.jackson.databind.Module\r\n  [5]: https://github.com/eclipse-ee4j/jersey/blob/3.0.5/media/json-jackson/src/main/java/org/glassfish/jersey/jackson/internal/DefaultJacksonJaxbJsonProvider.java#L76\r\n  [6]: https://github.com/eclipse-ee4j/jersey/blob/3.0.5/media/json-jackson/src/main/java/org/glassfish/jersey/jackson/internal/DefaultJacksonJaxbJsonProvider.java#L62","title":"(Why) is Jdk8Module registering &quot;itself&quot;?","body":"<p><strong>Short answer</strong>: META-INF/services.</p>\n<p><strong>Longer answer</strong>: Jackson defines <a href=\"https://github.com/FasterXML/jackson-databind/blob/2.14/src/main/java/com/fasterxml/jackson/databind/Module.java\" rel=\"nofollow noreferrer\">Module class</a> which is used as a <a href=\"https://github.com/FasterXML/jackson-databind/blob/jackson-databind-2.13.3/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java#L1104\" rel=\"nofollow noreferrer\">service</a> (defined in META-INF/services) loaded by a standard ServiceLoader mechanism. Jackson defines\na static <a href=\"https://github.com/FasterXML/jackson-databind/blob/jackson-databind-2.13.3/src/main/java/com/fasterxml/jackson/databind/ObjectMapper.java#L1088\" rel=\"nofollow noreferrer\">method loading</a> all <code>Modules</code> and the Jackson <code>jackson-datatype-java8</code> module defines the <a href=\"https://github.com/FasterXML/jackson-modules-java8/blob/jackson-modules-java8-2.13.3/datatypes/src/main/resources/META-INF/services/com.fasterxml.jackson.databind.Module\" rel=\"nofollow noreferrer\">proper service</a>.</p>\n<p>Jersey just <a href=\"https://github.com/eclipse-ee4j/jersey/blob/3.0.5/media/json-jackson/src/main/java/org/glassfish/jersey/jackson/internal/DefaultJacksonJaxbJsonProvider.java#L76\" rel=\"nofollow noreferrer\">uses</a> the Jackson service-finding routine to <a href=\"https://github.com/eclipse-ee4j/jersey/blob/3.0.5/media/json-jackson/src/main/java/org/glassfish/jersey/jackson/internal/DefaultJacksonJaxbJsonProvider.java#L62\" rel=\"nofollow noreferrer\">register the module</a>.</p>\n"}],"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73451826,"answer_count":1,"score":0,"last_activity_date":1661209728,"creation_date":1660999386,"question_id":73426791,"body_markdown":"I have an implementation using Tomcat v10.0.x and org.glassfish.jersey.* in version 3.0.5 to provide a web service. Initially, I had problems returning response Objects as `MediaType.APPLICATION_JSON` whenever they hat Attributes/Getters that are `Optional`.\r\n\r\nOnce I added jackson-datatype-jdk8 2.13.3 based on [this][1] question, everything started to work fine.\r\n\r\nI am confused, though. I did not register `Jdk8Module` because I am not actively creating a `Client` instance. As far as I believe to understand the inner workings of Jersey as JAX-RS implementation, the `@POST` annotations I am using are responsible for handling Client objects. It might also be Tomcat. On the web there is a big gap between simple howtos with little explanation, and in-depth documentation that is hard to understand.\r\n\r\nWhere is Jdk8Module registered, and how, and why, or not at all? Simply speaking, why does my code work?\r\n\r\n  [1]: https://stackoverflow.com/questions/40038232/how-to-map-java-util-optional-with-jersey-client","title":"(Why) is Jdk8Module registering &quot;itself&quot;?","body":"<p>I have an implementation using Tomcat v10.0.x and org.glassfish.jersey.* in version 3.0.5 to provide a web service. Initially, I had problems returning response Objects as <code>MediaType.APPLICATION_JSON</code> whenever they hat Attributes/Getters that are <code>Optional</code>.</p>\n<p>Once I added jackson-datatype-jdk8 2.13.3 based on <a href=\"https://stackoverflow.com/questions/40038232/how-to-map-java-util-optional-with-jersey-client\">this</a> question, everything started to work fine.</p>\n<p>I am confused, though. I did not register <code>Jdk8Module</code> because I am not actively creating a <code>Client</code> instance. As far as I believe to understand the inner workings of Jersey as JAX-RS implementation, the <code>@POST</code> annotations I am using are responsible for handling Client objects. It might also be Tomcat. On the web there is a big gap between simple howtos with little explanation, and in-depth documentation that is hard to understand.</p>\n<p>Where is Jdk8Module registered, and how, and why, or not at all? Simply speaking, why does my code work?</p>\n"},{"tags":["java","jackson","jax-rs","quarkus","objectmapper"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1661222748,"post_id":73448216,"comment_id":129714473,"body_markdown":"Probably because you&#39;re reading the stream. I don&#39;t know what a `CloseShieldInputStream` is but I&#39;m assuming, like most InputStreams, it can only be read once.","body":"Probably because you&#39;re reading the stream. I don&#39;t know what a <code>CloseShieldInputStream</code> is but I&#39;m assuming, like most InputStreams, it can only be read once."},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1661230829,"post_id":73448216,"comment_id":129715562,"body_markdown":"@PaulSamsotha then I would be getting Stream is closed error not the 400 Bad Request error.","body":"@PaulSamsotha then I would be getting Stream is closed error not the 400 Bad Request error."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1661263971,"post_id":73448216,"comment_id":129727336,"body_markdown":"You will get a 400 with any exception that occurs with the Jackson JSON provider","body":"You will get a 400 with any exception that occurs with the Jackson JSON provider"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1661264231,"post_id":73448216,"comment_id":129727468,"body_markdown":"@PaulSamsotha But if I remove the filter it works fine for the proper json means json without any validation errors .. so I want to know what&#39;s causing this issue ..","body":"@PaulSamsotha But if I remove the filter it works fine for the proper json means json without any validation errors .. so I want to know what&#39;s causing this issue .."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1661264383,"post_id":73448216,"comment_id":129727535,"body_markdown":"I told you already. The stream is read by your filter. That&#39;s what&#39;s causing the error. Why would you expect it to _not_ work without the filter?","body":"I told you already. The stream is read by your filter. That&#39;s what&#39;s causing the error. Why would you expect it to <i>not</i> work without the filter?"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1661264723,"post_id":73448216,"comment_id":129727682,"body_markdown":"If I don&#39;t use CloseShieldInputStream  then hitting filter second time causes Stream is closed in the logs. CloseShieldInputStream   prevents this Stream getting closes as it Proxy stream that prevents the underlying input stream from being closed.","body":"If I don&#39;t use CloseShieldInputStream  then hitting filter second time causes Stream is closed in the logs. CloseShieldInputStream   prevents this Stream getting closes as it Proxy stream that prevents the underlying input stream from being closed."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1661264759,"post_id":73448216,"comment_id":129727693,"body_markdown":"Closed and consumed are two different things. Can you verify it&#39;s not empty by the time it gets to the provider?","body":"Closed and consumed are two different things. Can you verify it&#39;s not empty by the time it gets to the provider?"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1661264808,"post_id":73448216,"comment_id":129727714,"body_markdown":"Filter is needed to log json mapping errors if any. I am saying if I don&#39;t use filter just to test whether my request is fine or not it works fine with the proper request and removing the filter...","body":"Filter is needed to log json mapping errors if any. I am saying if I don&#39;t use filter just to test whether my request is fine or not it works fine with the proper request and removing the filter..."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1661264871,"post_id":73448216,"comment_id":129727734,"body_markdown":"I don&#39;t get what you don&#39;t understand about what I&#39;m saying.","body":"I don&#39;t get what you don&#39;t understand about what I&#39;m saying."},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1661264900,"post_id":73448216,"comment_id":129727745,"body_markdown":"ok so how can I verify if the request is empty or not in this filter .. I mean which method I can use in this case to find if request is empty or not in the filter..","body":"ok so how can I verify if the request is empty or not in this filter .. I mean which method I can use in this case to find if request is empty or not in the filter.."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1661264965,"post_id":73448216,"comment_id":129727774,"body_markdown":"Put a breakpoint in the provider I guess.","body":"Put a breakpoint in the provider I guess."},{"owner":{"account_id":12526038,"reputation":353,"user_id":9115820,"display_name":"Clark Ngo"},"score":0,"creation_date":1662187832,"post_id":73448216,"comment_id":129952376,"body_markdown":"try adding `catch (JsonProcessingException e)` for any Jackson JSON provider exception/errors/. maybe convert that `InputStream` to a non-stream right away before you convert it to another object.","body":"try adding <code>catch (JsonProcessingException e)</code> for any Jackson JSON provider exception/errors/. maybe convert that <code>InputStream</code> to a non-stream right away before you convert it to another object."}],"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661208416,"creation_date":1661185503,"question_id":73448216,"body_markdown":"I am implementing a filter to find out any json mapping or parsing issues using ContainerRequestFilter interface. It logs error for all json parsing or mapping issues but for request which doesn&#39;t have any json validation issues it throws 400 Bad request. If I remove the filter from the code it works fine for proper json request. Below is the code for the same ..\r\n\r\n     @Provider\r\n     public class AppFilter implements ContainerRequestFilter {\r\n      private static final Logger LOG = Logger.getLogger(AppFilter.class);\r\n    \r\n\t  @Inject\r\n\t  ObjectMapper objectMapper;\r\n\t    \r\n     @Override\r\n     public void filter(ContainerRequestContext context) throws IOException {\r\n       \r\n       try(InputStream stream = new CloseShieldInputStream(context.getEntityStream())) {\r\n           objectMapper.readValue(stream,AppRequest.class);\r\n          }catch(Exception ex) {\r\n          \tLOG.error(ExceptionUtils.getRootCauseMessage(ex));\r\n          }\r\n        }\r\n      }\r\n\r\n\t@Path(&quot;/app&quot;)\r\n    public class MatchResource {\r\n\t@POST\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Uni&lt;Response&gt; processRequest(AppRequest request,\r\n                                            @Context SecurityContext securityContext) {\r\n        String tranId = UUID.randomUUID().toString();\r\n        ZonedDateTime zonedDateTime = ZonedDateTime.now(TIME_ZONE_ID);\r\n        return Uni.createFrom().item(request)\r\n                .onItem().invoke(() -&gt; {\r\n                    Set&lt;ConstraintViolation&lt;AppRequest&gt;&gt; violations = validator.validate(request);\r\n                    if (!violations.isEmpty()) {\r\n                        throw new RequestViolationsException(violations, \r\n       request.header.applicationReferenceId);\r\n                    }\r\n\t  }).onFailure()\r\n                .transform(t -&gt; \tLOG.error(ExceptionUtils.getRootCauseMessage(t)));\r\n    }\r\n\r\nLet me know if I am missing anything in this ..","title":"ContainerRequestFilter throwing 400 Bad Request on proper json request","body":"<p>I am implementing a filter to find out any json mapping or parsing issues using ContainerRequestFilter interface. It logs error for all json parsing or mapping issues but for request which doesn't have any json validation issues it throws 400 Bad request. If I remove the filter from the code it works fine for proper json request. Below is the code for the same ..</p>\n<pre><code> @Provider\n public class AppFilter implements ContainerRequestFilter {\n  private static final Logger LOG = Logger.getLogger(AppFilter.class);\n\n  @Inject\n  ObjectMapper objectMapper;\n    \n @Override\n public void filter(ContainerRequestContext context) throws IOException {\n   \n   try(InputStream stream = new CloseShieldInputStream(context.getEntityStream())) {\n       objectMapper.readValue(stream,AppRequest.class);\n      }catch(Exception ex) {\n        LOG.error(ExceptionUtils.getRootCauseMessage(ex));\n      }\n    }\n  }\n\n@Path(&quot;/app&quot;)\npublic class MatchResource {\n@POST\n@Produces(MediaType.APPLICATION_JSON)\npublic Uni&lt;Response&gt; processRequest(AppRequest request,\n                                        @Context SecurityContext securityContext) {\n    String tranId = UUID.randomUUID().toString();\n    ZonedDateTime zonedDateTime = ZonedDateTime.now(TIME_ZONE_ID);\n    return Uni.createFrom().item(request)\n            .onItem().invoke(() -&gt; {\n                Set&lt;ConstraintViolation&lt;AppRequest&gt;&gt; violations = validator.validate(request);\n                if (!violations.isEmpty()) {\n                    throw new RequestViolationsException(violations, \n   request.header.applicationReferenceId);\n                }\n  }).onFailure()\n            .transform(t -&gt;     LOG.error(ExceptionUtils.getRootCauseMessage(t)));\n}\n</code></pre>\n<p>Let me know if I am missing anything in this ..</p>\n"},{"tags":["java","multithreading","javafx","websocket","micronaut"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1661210875,"post_id":73451671,"comment_id":129713315,"body_markdown":"Please provide an [mcve], e.g. code without redacted `...` blocks in it, that could be run via copy and paste.  Your client code doesn&#39;t appear to have any JavaFX in it, so I am guessing JavaFX is (currently) irrelevant to the question and it is OK to keep it that way if your issue isn&#39;t really related to JavaFX usage.","body":"Please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, e.g. code without redacted <code>...</code> blocks in it, that could be run via copy and paste.  Your client code doesn&#39;t appear to have any JavaFX in it, so I am guessing JavaFX is (currently) irrelevant to the question and it is OK to keep it that way if your issue isn&#39;t really related to JavaFX usage."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1661211065,"post_id":73451671,"comment_id":129713338,"body_markdown":"Oracle [provides a WebSocket example with JavaFX](https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/BinaryWebSocket/binaryWebSocket.html).  WebSocket is a low level API.  Consider using a higher level API instead, e.g. either using a built-to-purpose chat API or a generic messaging API such as Stomp.  Baeldung provides some info on using Stomp in Spring servers and clients, in [Intro to WebSockets with Spring](https://www.baeldung.com/websockets-spring) and [A Java Client for a WebSockets API](https://www.baeldung.com/websockets-api-java-spring-client).","body":"Oracle <a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/BinaryWebSocket/binaryWebSocket.html\" rel=\"nofollow noreferrer\">provides a WebSocket example with JavaFX</a>.  WebSocket is a low level API.  Consider using a higher level API instead, e.g. either using a built-to-purpose chat API or a generic messaging API such as Stomp.  Baeldung provides some info on using Stomp in Spring servers and clients, in <a href=\"https://www.baeldung.com/websockets-spring\" rel=\"nofollow noreferrer\">Intro to WebSockets with Spring</a> and <a href=\"https://www.baeldung.com/websockets-api-java-spring-client\" rel=\"nofollow noreferrer\">A Java Client for a WebSockets API</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1661211546,"post_id":73451671,"comment_id":129713403,"body_markdown":"Also, if you need it [info on Stomp](https://stomp.github.io/) and the [Stomp specifcation](https://stomp.github.io/stomp-specification-1.2.html) so that you can understand what it is.","body":"Also, if you need it <a href=\"https://stomp.github.io/\" rel=\"nofollow noreferrer\">info on Stomp</a> and the <a href=\"https://stomp.github.io/stomp-specification-1.2.html\" rel=\"nofollow noreferrer\">Stomp specifcation</a> so that you can understand what it is."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1661211560,"post_id":73451671,"comment_id":129713408,"body_markdown":"Another example of integrating [websockets and JavaFX](https://github.com/jewelsea/javafx-websocket-test), based on Tyrus (the predecessor to official JDK/JEE WebSocket implementations).  Here is a [console chat client and server](https://github.com/fmbenhassine/web-socket-lab) using the same web socket framework.","body":"Another example of integrating <a href=\"https://github.com/jewelsea/javafx-websocket-test\" rel=\"nofollow noreferrer\">websockets and JavaFX</a>, based on Tyrus (the predecessor to official JDK/JEE WebSocket implementations).  Here is a <a href=\"https://github.com/fmbenhassine/web-socket-lab\" rel=\"nofollow noreferrer\">console chat client and server</a> using the same web socket framework."}],"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661208083,"creation_date":1661208083,"question_id":73451671,"body_markdown":"So I have been trying to implement websockets based on the examples given on this example https://guides.micronaut.io/latest/micronaut-websocket-maven-java.html  on the sverer side . I have a JavaFX client that uses the native java websocket API to connect to the server . The issue is I can&#39;t or I seem to fail to keep my client sessions alive on the server side , after connecting on javafx I get `INFO: onClose:statusCode- 1011`  after 5 seconds . \r\n\r\non the severe I have been tracking the sessions so , the session immediately closes , so I have started to think that its my client that has problems so I ended up using okhttp lib for this ,but I keep on getting the same issue of my sessions not living longer or expiring very early before any message can even be sent, below I have shared the client code and server code I have been testing with , so please can anyone help me on this if I am missing the point or something . \r\n\r\nYes , I have tried to look up for a solution on the server side to keep the session alive but you know Micronaut docs are also very shallow In practical solutions to our problems. \r\n\r\n```java\r\n// MyWebsockets.java  the server side\r\nimport io.micronaut.http.MediaType;\r\nimport io.micronaut.security.annotation.Secured;\r\nimport io.micronaut.security.rules.SecurityRule;\r\nimport io.micronaut.websocket.WebSocketBroadcaster;\r\nimport io.micronaut.websocket.WebSocketSession;\r\nimport io.micronaut.websocket.annotation.OnClose;\r\nimport io.micronaut.websocket.annotation.OnMessage;\r\nimport io.micronaut.websocket.annotation.OnOpen;\r\nimport io.micronaut.websocket.annotation.ServerWebSocket;\r\nimport org.json.JSONObject;\r\nimport org.reactivestreams.Publisher;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.function.Predicate;\r\nimport java.util.stream.Collectors;\r\n@ServerWebSocket (&quot;/ws/chat/{tail}/{logs}&quot;)\r\npublic class MyWebsockets {\r\n\r\n\t\r\n\tpublic final  WebSocketBroadcaster          broadcaster;\r\n\t\r\n\r\n\tprivate final Map&lt;String, WebSocketSession&gt; sessions        = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\tpublic MyWebsockets (WebSocketBroadcaster broadcaster) {\r\n\t\tthis.broadcaster = broadcaster;\r\n\t\t\r\n\t}\r\n\r\n\t@OnOpen\r\n\tpublic Publisher&lt;String&gt; onOpen (String tail, String logs, WebSocketSession session) {\r\n\r\n\t\tSystem.out.println(&quot;onOpen: &quot; + session.getId());\r\n\t\tsessions.put(session.getId(), session);\r\n\t\tSystem.out.println(&quot;onOpen: &quot; + sessions.size());\r\n\r\n\t\t\r\n\t\treturn broadcaster.broadcast(new JSONObject()\r\n\t\t\t\t\t\t.put(&quot;type&quot;, &quot;joined&quot;)\r\n\t\t\t\t\t\t.put(&quot;success&quot;, true)\r\n\t\t\t\t\t\t.put(&quot;logs&quot;, logs)\r\n\t\t\t\t\t\t.put(&quot;tail&quot;, tail).toString()\r\n\t\t\t\t, MediaType.APPLICATION_JSON_TYPE);\r\n\r\n\t}\r\n\r\n\t@OnMessage\r\n\tpublic Publisher&lt;String&gt; onMessage (String tail, String logs, String message, WebSocketSession session) {\r\n\t\tSystem.out.println(&quot;onOpen: &quot; + message);\r\n\t\treturn broadcaster.broadcast(String.format(&quot;[%s] %s&quot;, logs, message),  MediaType.APPLICATION_JSON_TYPE);\r\n\t}\r\n\r\n\t@OnClose\r\n\tpublic Publisher&lt;String&gt; onClose (String tail, String logs, WebSocketSession session) {\r\n\t\tSystem.out.println(&quot;[onClose] &quot; + tail + &quot; &quot; + logs  + session.getId());\r\n\t\tsessions.remove(session.getId());\r\n\t\t\r\n\t\treturn broadcaster.broadcast(String.format(&quot;[%s] Leaving %s!&quot;, logs, tail), MediaType.APPLICATION_JSON_TYPE);\r\n\t}\r\n}\r\n\r\n```\r\nHere is the JavaFX client code :\r\n\r\n```java\r\npublic static void main (String [] s){\r\n\r\nnew Thread(() -&gt; {\r\n\r\n\t\t\tws = HttpClient\r\n\t\t\t\t\t.newHttpClient()\r\n\t\t\t\t\t.newWebSocketBuilder().connectTimeout(Duration.of(30, ChronoUnit.SECONDS))\r\n\t\t\t\t\t.buildAsync(URI.create(&quot;ws://&quot; + finalUrl +&quot;/ws/chat/room/four&quot;), new WebSocketClient())\r\n\r\n\t\t\t\t\t.join();\r\n\r\n\t\t\tws.sendText(&quot;hi&quot;,true);\r\n\t\t\twhile (true) {\r\n\t\t\t}\r\n\r\n\t\t}).start();\r\n\r\n}\r\n[...]\r\n\r\n\r\nprivate static class WebSocketClient implements WebSocket.Listener {\r\n\t\tLogger logger = Logger.getLogger(WebSocketClient.class.getName());\r\n\t\t@Override\r\n\t\tpublic void onOpen (WebSocket webSocket) {\r\n\t\t\tWebSocket.Listener.super.onOpen(webSocket);\r\n\t\t\tWebSockets.IS_ONLINE = Boolean.TRUE;\r\n\t\t\tlogger.info(&quot;onOpen: &quot; + webSocket);\r\n\t\t}\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic CompletionStage&lt;?&gt; onText (WebSocket webSocket, CharSequence data, boolean last) {\r\n\t\t\tWebSockets.IS_ONLINE = Boolean.TRUE;\r\n\t\t\tlogger.info(&quot;onText received &quot; + data);\r\n\t\t\tSystem.out.println(&quot;onText received &quot; + data);\r\n\t\t\t\r\n\t\t\treturn WebSocket.Listener.super.onText(webSocket, data, last);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic CompletionStage&lt;?&gt; onPing (WebSocket webSocket, ByteBuffer message) {\r\n\t\t\tSystem.out.println(&quot;onPing received &quot; + message);\r\n\t\t\treturn WebSocket.Listener.super.onPing(webSocket, message);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic CompletionStage&lt;?&gt; onPong (WebSocket webSocket, ByteBuffer message) {\r\n\t\t\tSystem.out.println(&quot;onPong received &quot; + message);\r\n\t\t\treturn WebSocket.Listener.super.onPong(webSocket, message);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic CompletionStage&lt;?&gt; onClose (WebSocket webSocket, int statusCode, String reason) {\r\n\r\n\t\t\tlogger.info(&quot;onClose:statusCode- &quot; + statusCode);\r\n\t\t\tWebSockets.IS_ONLINE = Boolean.FALSE;\r\n\r\n\t\t\treturn WebSocket.Listener.super.onClose(webSocket, statusCode, reason);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onError (WebSocket webSocket, Throwable error) {\r\n\t\t\tlogger.info(&quot;Bad day! &quot; + webSocket.toString());\r\n\t\t\tWebSocket.Listener.super.onError(webSocket, error);\r\n\r\n\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n```\r\n","title":"Micronaut Web-sockets Client Session errors","body":"<p>So I have been trying to implement websockets based on the examples given on this example <a href=\"https://guides.micronaut.io/latest/micronaut-websocket-maven-java.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/micronaut-websocket-maven-java.html</a>  on the sverer side . I have a JavaFX client that uses the native java websocket API to connect to the server . The issue is I can't or I seem to fail to keep my client sessions alive on the server side , after connecting on javafx I get <code>INFO: onClose:statusCode- 1011</code>  after 5 seconds .</p>\n<p>on the severe I have been tracking the sessions so , the session immediately closes , so I have started to think that its my client that has problems so I ended up using okhttp lib for this ,but I keep on getting the same issue of my sessions not living longer or expiring very early before any message can even be sent, below I have shared the client code and server code I have been testing with , so please can anyone help me on this if I am missing the point or something .</p>\n<p>Yes , I have tried to look up for a solution on the server side to keep the session alive but you know Micronaut docs are also very shallow In practical solutions to our problems.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// MyWebsockets.java  the server side\nimport io.micronaut.http.MediaType;\nimport io.micronaut.security.annotation.Secured;\nimport io.micronaut.security.rules.SecurityRule;\nimport io.micronaut.websocket.WebSocketBroadcaster;\nimport io.micronaut.websocket.WebSocketSession;\nimport io.micronaut.websocket.annotation.OnClose;\nimport io.micronaut.websocket.annotation.OnMessage;\nimport io.micronaut.websocket.annotation.OnOpen;\nimport io.micronaut.websocket.annotation.ServerWebSocket;\nimport org.json.JSONObject;\nimport org.reactivestreams.Publisher;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.function.Predicate;\nimport java.util.stream.Collectors;\n@ServerWebSocket (&quot;/ws/chat/{tail}/{logs}&quot;)\npublic class MyWebsockets {\n\n    \n    public final  WebSocketBroadcaster          broadcaster;\n    \n\n    private final Map&lt;String, WebSocketSession&gt; sessions        = new ConcurrentHashMap&lt;&gt;();\n\n    public MyWebsockets (WebSocketBroadcaster broadcaster) {\n        this.broadcaster = broadcaster;\n        \n    }\n\n    @OnOpen\n    public Publisher&lt;String&gt; onOpen (String tail, String logs, WebSocketSession session) {\n\n        System.out.println(&quot;onOpen: &quot; + session.getId());\n        sessions.put(session.getId(), session);\n        System.out.println(&quot;onOpen: &quot; + sessions.size());\n\n        \n        return broadcaster.broadcast(new JSONObject()\n                        .put(&quot;type&quot;, &quot;joined&quot;)\n                        .put(&quot;success&quot;, true)\n                        .put(&quot;logs&quot;, logs)\n                        .put(&quot;tail&quot;, tail).toString()\n                , MediaType.APPLICATION_JSON_TYPE);\n\n    }\n\n    @OnMessage\n    public Publisher&lt;String&gt; onMessage (String tail, String logs, String message, WebSocketSession session) {\n        System.out.println(&quot;onOpen: &quot; + message);\n        return broadcaster.broadcast(String.format(&quot;[%s] %s&quot;, logs, message),  MediaType.APPLICATION_JSON_TYPE);\n    }\n\n    @OnClose\n    public Publisher&lt;String&gt; onClose (String tail, String logs, WebSocketSession session) {\n        System.out.println(&quot;[onClose] &quot; + tail + &quot; &quot; + logs  + session.getId());\n        sessions.remove(session.getId());\n        \n        return broadcaster.broadcast(String.format(&quot;[%s] Leaving %s!&quot;, logs, tail), MediaType.APPLICATION_JSON_TYPE);\n    }\n}\n\n</code></pre>\n<p>Here is the JavaFX client code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main (String [] s){\n\nnew Thread(() -&gt; {\n\n            ws = HttpClient\n                    .newHttpClient()\n                    .newWebSocketBuilder().connectTimeout(Duration.of(30, ChronoUnit.SECONDS))\n                    .buildAsync(URI.create(&quot;ws://&quot; + finalUrl +&quot;/ws/chat/room/four&quot;), new WebSocketClient())\n\n                    .join();\n\n            ws.sendText(&quot;hi&quot;,true);\n            while (true) {\n            }\n\n        }).start();\n\n}\n[...]\n\n\nprivate static class WebSocketClient implements WebSocket.Listener {\n        Logger logger = Logger.getLogger(WebSocketClient.class.getName());\n        @Override\n        public void onOpen (WebSocket webSocket) {\n            WebSocket.Listener.super.onOpen(webSocket);\n            WebSockets.IS_ONLINE = Boolean.TRUE;\n            logger.info(&quot;onOpen: &quot; + webSocket);\n        }\n\n\n        @Override\n        public CompletionStage&lt;?&gt; onText (WebSocket webSocket, CharSequence data, boolean last) {\n            WebSockets.IS_ONLINE = Boolean.TRUE;\n            logger.info(&quot;onText received &quot; + data);\n            System.out.println(&quot;onText received &quot; + data);\n            \n            return WebSocket.Listener.super.onText(webSocket, data, last);\n        }\n\n        @Override\n        public CompletionStage&lt;?&gt; onPing (WebSocket webSocket, ByteBuffer message) {\n            System.out.println(&quot;onPing received &quot; + message);\n            return WebSocket.Listener.super.onPing(webSocket, message);\n        }\n\n        @Override\n        public CompletionStage&lt;?&gt; onPong (WebSocket webSocket, ByteBuffer message) {\n            System.out.println(&quot;onPong received &quot; + message);\n            return WebSocket.Listener.super.onPong(webSocket, message);\n        }\n\n        @Override\n        public CompletionStage&lt;?&gt; onClose (WebSocket webSocket, int statusCode, String reason) {\n\n            logger.info(&quot;onClose:statusCode- &quot; + statusCode);\n            WebSockets.IS_ONLINE = Boolean.FALSE;\n\n            return WebSocket.Listener.super.onClose(webSocket, statusCode, reason);\n        }\n\n        @Override\n        public void onError (WebSocket webSocket, Throwable error) {\n            logger.info(&quot;Bad day! &quot; + webSocket.toString());\n            WebSocket.Listener.super.onError(webSocket, error);\n\n\n        }\n\n        \n    }\n</code></pre>\n"},{"tags":["java","android","debugging","textview","android-viewpager"],"comments":[{"owner":{"account_id":13155252,"reputation":294,"user_id":9502601,"display_name":"Shayan Samad"},"score":1,"creation_date":1618549611,"post_id":67119221,"comment_id":118639574,"body_markdown":"can you provide complete code of adapter and how you are calling it in your activity","body":"can you provide complete code of adapter and how you are calling it in your activity"},{"owner":{"account_id":13155252,"reputation":294,"user_id":9502601,"display_name":"Shayan Samad"},"score":0,"creation_date":1618550719,"post_id":67119221,"comment_id":118639826,"body_markdown":"Have you tried setOffscreenPageLimit (int limit) https://stackoverflow.com/a/12706211/9502601","body":"Have you tried setOffscreenPageLimit (int limit) <a href=\"https://stackoverflow.com/a/12706211/9502601\">stackoverflow.com/a/12706211/9502601</a>"}],"answers":[{"tags":[],"owner":{"account_id":16161438,"reputation":23,"user_id":11667407,"display_name":"Ahmet Emre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1618602044,"creation_date":1618552950,"answer_id":67119870,"question_id":67119221,"body_markdown":"adding this snipped solved the problem, it is a must to define borders to the pager\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n            ...\r\n        int size = sliderAdapter.slide_headings.length;\r\n        AktifHareket.setOffscreenPageLimit(size);","title":"TextView in SliderView text shown and text value bug [the n&#39;th TextView is returning its initialized value after changing (n+2)&#39;th textView]","body":"<p>adding this snipped solved the problem, it is a must to define borders to the pager</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n        ...\n    int size = sliderAdapter.slide_headings.length;\n    AktifHareket.setOffscreenPageLimit(size);\n</code></pre>\n"}],"owner":{"account_id":16161438,"reputation":23,"user_id":11667407,"display_name":"Ahmet Emre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67119870,"answer_count":1,"score":0,"last_activity_date":1661207932,"creation_date":1618548335,"question_id":67119221,"body_markdown":"   i have a textView in SliderView like this\r\n\r\nactivitity_slider.xml\r\n\r\n     &lt;androidx.viewpager.widget.ViewPager\r\n            android:id=&quot;@+id/slideViewPager&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n\r\nslide_layout.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n    \r\n        android:background=&quot;@color/white&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/HareketEkranı&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            &gt;\r\n    \r\n            &lt;androidx.cardview.widget.CardView\r\n                android:id=&quot;@+id/hareket&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                app:cardBackgroundColor=&quot;@color/white&quot;\r\n                app:cardCornerRadius=&quot;10dp&quot;&gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/HareketResmi&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:layout_marginBottom=&quot;20dp&quot;\r\n                    android:contentDescription=&quot;Hareket&quot;/&gt;\r\n                    //android:src=&quot;@drawable/ic_armcircle&quot;\r\n                &lt;com.jjoe64.graphview.GraphView\r\n                    android:id=&quot;@+id/haraketdatasi&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    /&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/textView&quot;\r\n                            android:layout_width=&quot;0dp&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:gravity=&quot;left&quot;\r\n                            android:text=&quot;Hareket&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:textColor=&quot;@color/darkTextColor&quot;\r\n                            android:textSize=&quot;24sp&quot; /&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/HareketAdi&quot;\r\n                            android:layout_width=&quot;0dp&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;right&quot;\r\n                            android:textAlignment=&quot;gravity&quot;\r\n                            android:gravity=&quot;right&quot;\r\n                            android:text=&quot;Armcircle&quot;\r\n                            android:textColor=&quot;@color/red&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:textSize=&quot;24sp&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/TekrarYazisiSlide&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;bottom&quot;\r\n                            android:text=&quot;Tekrar&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:textColor=&quot;@color/darkTextColor&quot;\r\n                            android:textSize=&quot;24sp&quot; /&gt;\r\n    \r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/TekrarSayisiSlide&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;bottom|end&quot;\r\n                            android:text=&quot;TekrarSayisi&quot;\r\n                            android:textAlignment=&quot;gravity&quot;\r\n                            android:gravity=&quot;right&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:textColor=&quot;@color/red&quot;\r\n                            android:textSize=&quot;24sp&quot; /&gt;\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/kesme&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;bottom|end&quot;\r\n                        android:text=&quot;/&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:textColor=&quot;@color/black&quot;\r\n                        android:textSize=&quot;24sp&quot; /&gt;\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/TekrarhedefiSlide&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;bottom|end&quot;\r\n                            android:text=&quot;25&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:textColor=&quot;@color/black&quot;\r\n                            android:textSize=&quot;24sp&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/androidx.cardview.widget.CardView&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\n\r\n\r\n**UPDATE !**\r\n\r\nSliderAdapter.java\r\n\r\n        package gymholix.assistx;\r\n    \r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.RelativeLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.viewpager.widget.PagerAdapter;\r\n    \r\n    public class SliderAdapter extends PagerAdapter {\r\n    \r\n        Context context;\r\n        LayoutInflater layoutInflater;\r\n    \r\n        public SliderAdapter(Context context){\r\n            this.context = context;\r\n        }\r\n    \r\n        //Arrays\r\n        public int[] slide_images = {\r\n                R.drawable.ic_armcircle,\r\n                R.drawable.ic_ropejump,\r\n                R.drawable.ic_jumpingjack,\r\n                R.drawable.ic_burpee,\r\n                R.drawable.ic_squat\r\n        };\r\n        public String[] slide_headings = {\r\n                &quot;ArmCircle&quot;,\r\n            &quot;RopeJump&quot;,\r\n            &quot;JumpingJack&quot;,\r\n            &quot;Burpee&quot;,\r\n            &quot;Squat&quot;\r\n    };\r\n    /*public String[] tekrar_sayisi = {\r\n        &quot;0&quot;,\r\n        &quot;0&quot;,\r\n        &quot;0&quot;,\r\n        &quot;0&quot;,\r\n        &quot;0&quot;*/\r\n    public int[] tekrar_sayisi = {\r\n            1,\r\n            2,\r\n            3,\r\n            4,\r\n            5\r\n    };\r\n\r\n\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return slide_headings.length;\r\n    }\r\n\r\n    @Override\r\n    public boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\r\n        return view == (RelativeLayout) object;\r\n    }\r\n    @NonNull\r\n    @Override\r\n    public Object instantiateItem(@NonNull ViewGroup container, int position) {\r\n        layoutInflater = (LayoutInflater) context.getSystemService(context.LAYOUT_INFLATER_SERVICE);\r\n        View view =layoutInflater.inflate(R.layout.slide_layout, container, false);\r\n\r\n        ImageView slideImageView = (ImageView) view.findViewById(R.id.HareketResmi);\r\n        TextView slideHeading = (TextView) view.findViewById(R.id.HareketAdi);\r\n        TextView slideTekraSayisi = (TextView) view.findViewById(R.id.TekrarSayisiSlide);\r\n\r\n        slideImageView.setImageResource((slide_images[position]));\r\n        slideHeading.setText(slide_headings[position]);\r\n        slideTekraSayisi.setText(String.valueOf(tekrar_sayisi[position]));\r\n\r\n\r\n\r\n        container.addView(view);\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n        public void destroyItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nSlider.Java\r\n\r\n        package gymholix.assistx;\r\n    \r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.viewpager.widget.ViewPager;\r\n    \r\n    \r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.text.Html;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.ImageView;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class Slider extends AppCompatActivity {\r\n    \r\n    \r\n        private LinearLayout mDotLayout;\r\n        private String asd;\r\n        private int asdf;\r\n    \r\n        TextView DenemeSayiCek;\r\n        int position;\r\n        View view;\r\n        int count;\r\n        View viewFix;\r\n        Context context;\r\n        //Sensors---------------------------------------------------------------------------------------\r\n        private Accelerometer accelerometer;\r\n        private Gyroscope gyroscope;\r\n    \r\n        public double[] acc={3.00,2.00,1.00};\r\n        public double[] gyr={3.00,2.00,1.00};\r\n    \r\n        //Sensors---------------------------------------------------------------------------------------\r\n        //Main------------------------------------------------------------------------------------------\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            Antreman antreman = new Antreman();\r\n            context = this;\r\n            setContentView(R.layout.activity_slider);\r\n    \r\n            ViewPager AktifHareket = findViewById(R.id.slideViewPager);\r\n            mDotLayout = findViewById(R.id.dotsLayout);\r\n            SliderAdapter sliderAdapter = new SliderAdapter(this);\r\n            AktifHareket.setAdapter((sliderAdapter));\r\n    \r\n            addDotsIndicator();\r\n    \r\n            //Saydir Buton------------------------------------------------------------------------------\r\n            TextView Deneme = findViewById(R.id.deneme);\r\n            TextView Deneme4 = findViewById(R.id.deneme4);\r\n        \r\n\r\n        TextView Deneme3 = findViewById(R.id.deneme3);\r\n                TextView Deneme2 = findViewById(R.id.deneme2);\r\n                Button Saydir = findViewById(R.id.SaydirSlide);\r\n                Button Saydir2 = findViewById(R.id.Saydir2Slide);\r\n                Saydir.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n    \r\n                    position = AktifHareket.getCurrentItem();\r\n                    view = AktifHareket.getChildAt(position);\r\n                    count = AktifHareket.indexOfChild(view);\r\n                    viewFix = AktifHareket.getChildAt(count);\r\n                    DenemeSayiCek = viewFix.findViewById(R.id.TekrarSayisiSlide);\r\n                    asd = DenemeSayiCek.getText().toString();\r\n                    asdf = Integer.parseInt(asd);\r\n                    asdf++;\r\n                    DenemeSayiCek.setText(String.valueOf(asdf));\r\n                    Deneme.setText(String.valueOf(asd));\r\n                    Deneme2.setText(String.valueOf(position));\r\n                    Deneme3.setText(String.valueOf(asdf));\r\n                    Deneme4.setText(String.valueOf(SliderAdapter.POSITION_NONE));\r\n    \r\n                }\r\n            });\r\n    \r\n            //Saydir Buton------------------------------------------------------------------------------\r\n            //ImageButton-------------------------------------------------------------------------------\r\n            ImageView logoImage = findViewById(R.id.logo);\r\n            logoImage.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    antreman.AntremanSayfasi(context);\r\n                }\r\n            });\r\n            antreman.AntremanSayfasi(context);//A&#231;ılışta Sayfayı a&#231;sın diye\r\n            //ImageButton-------------------------------------------------------------------------------\r\n            //Sensors-----------------------------------------------------------------------------------\r\n    \r\n            accelerometer = new Accelerometer(this);\r\n            gyroscope = new Gyroscope(this);\r\n            accelerometer.setListner(new Accelerometer.Listner() {\r\n                @Override\r\n                public void onTranslation(float ax, float ay, float az) {\r\n                    setAccValue(ax, ay, az);\r\n                    Antreman.GetSensorValues.OnAccelerometerChangeValues = acc;\r\n                }\r\n            });\r\n            gyroscope.setListner(new Gyroscope.Listner() {\r\n                @Override\r\n                public void onRotation(float gx, float gy, float gz) {\r\n                    setGyroValue(gx, gy, gz);\r\n                    Antreman.GetSensorValues.OnGyroscopeChangeValues = gyr;\r\n                    //OnSensorChangeValues.add(1, String.valueOf(gyr) );\r\n                }\r\n            });\r\n    /*        Saydir2.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n    \r\n                }\r\n            });*/\r\n            //Sensors-----------------------------------------------------------------------------------\r\n        }\r\n        //Sensors---------------------------------------------------------------------------------------\r\n        protected void onResume(){\r\n            super.onResume();\r\n    \r\n            accelerometer.register();\r\n            gyroscope.register();\r\n        }\r\n        protected void onPouse(){\r\n            super.onPause();\r\n            accelerometer.unregister();\r\n            gyroscope.unregister();\r\n        }\r\n        //Sensors---------------------------------------------------------------------------------------\r\n        //SensorsValueGetAndSet-------------------------------------------------------------------------\r\n        public double[] setAccValue(float ac, float bc, float cc){\r\n            this.acc[0] = ac;\r\n            this.acc[1] = bc;\r\n            this.acc[2] = cc;\r\n            return acc;\r\n        }\r\n        public double[] setGyroValue(float qq, float wq, float eq){\r\n            this.gyr[0] = qq;\r\n            this.gyr[1] = wq;\r\n            this.gyr[2] = eq;\r\n            return gyr;\r\n        }\r\n        public void getAccValue(float ac, float bc, float cc){\r\n            ac = (float) acc[0];\r\n            bc = (float) acc[1];\r\n            cc = (float) acc[2];\r\n        }\r\n        public void getGyroValue(float qq, float wq, float eq){\r\n            qq = (float) gyr[0];\r\n            wq = (float) gyr[1];\r\n            eq = (float) gyr[2];\r\n        }\r\n        //SensorsValueGetAndSet-------------------------------------------------------------------------\r\n        public void addDotsIndicator(){\r\n            TextView[] mDots = new TextView[3];\r\n            for(int i = 0; i &lt; mDots.length; i++){\r\n                mDots[i] = new TextView(this);\r\n                mDots[i].setText(Html.fromHtml(&quot;&amp;#8226;&quot;));\r\n                mDots[i].setTextSize(35);\r\n                mDots[i].setTextColor(getResources().getColor(R.color.colorPrimaryDark));\r\n                mDotLayout.addView(mDots[i]);\r\n            }\r\n        }\r\n        //----------------------------------------------------------------------------------------------\r\n    }\r\n\r\nthe weird thing about this code is; while running the button changes the text value correctly in the first pager, and the seckond one but when it comes the third one while it changes the value it resets the first pagers shown value but the getText() method inherits the correct value but the text is frozen and it cant be changed any more, after that the other page&#39;s values cant be changed either, but the getText() method still works fine and gets the correct value.\r\n\r\n   any idea will speed up my debuging process thanx anyway...","title":"TextView in SliderView text shown and text value bug [the n&#39;th TextView is returning its initialized value after changing (n+2)&#39;th textView]","body":"<p>i have a textView in SliderView like this</p>\n<p>activitity_slider.xml</p>\n<pre><code> &lt;androidx.viewpager.widget.ViewPager\n        android:id=&quot;@+id/slideViewPager&quot;\n        android:layout_width=&quot;match_parent&quot;\n</code></pre>\n<p>slide_layout.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_gravity=&quot;center&quot;\n\n    android:background=&quot;@color/white&quot;&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/HareketEkranı&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:orientation=&quot;vertical&quot;\n        &gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:id=&quot;@+id/hareket&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_marginLeft=&quot;10dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            app:cardBackgroundColor=&quot;@color/white&quot;\n            app:cardCornerRadius=&quot;10dp&quot;&gt;\n            &lt;ImageView\n                android:id=&quot;@+id/HareketResmi&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:layout_marginBottom=&quot;20dp&quot;\n                android:contentDescription=&quot;Hareket&quot;/&gt;\n                //android:src=&quot;@drawable/ic_armcircle&quot;\n            &lt;com.jjoe64.graphview.GraphView\n                android:id=&quot;@+id/haraketdatasi&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                /&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n                    &lt;TextView\n                        android:id=&quot;@+id/textView&quot;\n                        android:layout_width=&quot;0dp&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:gravity=&quot;left&quot;\n                        android:text=&quot;Hareket&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:textColor=&quot;@color/darkTextColor&quot;\n                        android:textSize=&quot;24sp&quot; /&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/HareketAdi&quot;\n                        android:layout_width=&quot;0dp&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;right&quot;\n                        android:textAlignment=&quot;gravity&quot;\n                        android:gravity=&quot;right&quot;\n                        android:text=&quot;Armcircle&quot;\n                        android:textColor=&quot;@color/red&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:textSize=&quot;24sp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/TekrarYazisiSlide&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;bottom&quot;\n                        android:text=&quot;Tekrar&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:textColor=&quot;@color/darkTextColor&quot;\n                        android:textSize=&quot;24sp&quot; /&gt;\n\n                    &lt;TextView\n                        android:id=&quot;@+id/TekrarSayisiSlide&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;bottom|end&quot;\n                        android:text=&quot;TekrarSayisi&quot;\n                        android:textAlignment=&quot;gravity&quot;\n                        android:gravity=&quot;right&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:textColor=&quot;@color/red&quot;\n                        android:textSize=&quot;24sp&quot; /&gt;\n                &lt;TextView\n                    android:id=&quot;@+id/kesme&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;bottom|end&quot;\n                    android:text=&quot;/&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;24sp&quot; /&gt;\n                    &lt;TextView\n                        android:id=&quot;@+id/TekrarhedefiSlide&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_gravity=&quot;bottom|end&quot;\n                        android:text=&quot;25&quot;\n                        android:layout_weight=&quot;1&quot;\n                        android:textColor=&quot;@color/black&quot;\n                        android:textSize=&quot;24sp&quot; /&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/androidx.cardview.widget.CardView&gt;\n    &lt;/LinearLayout&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>UPDATE !</strong></p>\n<p>SliderAdapter.java</p>\n<pre><code>    package gymholix.assistx;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.viewpager.widget.PagerAdapter;\n\npublic class SliderAdapter extends PagerAdapter {\n\n    Context context;\n    LayoutInflater layoutInflater;\n\n    public SliderAdapter(Context context){\n        this.context = context;\n    }\n\n    //Arrays\n    public int[] slide_images = {\n            R.drawable.ic_armcircle,\n            R.drawable.ic_ropejump,\n            R.drawable.ic_jumpingjack,\n            R.drawable.ic_burpee,\n            R.drawable.ic_squat\n    };\n    public String[] slide_headings = {\n            &quot;ArmCircle&quot;,\n        &quot;RopeJump&quot;,\n        &quot;JumpingJack&quot;,\n        &quot;Burpee&quot;,\n        &quot;Squat&quot;\n};\n/*public String[] tekrar_sayisi = {\n    &quot;0&quot;,\n    &quot;0&quot;,\n    &quot;0&quot;,\n    &quot;0&quot;,\n    &quot;0&quot;*/\npublic int[] tekrar_sayisi = {\n        1,\n        2,\n        3,\n        4,\n        5\n};\n\n\n\n@Override\npublic int getCount() {\n    return slide_headings.length;\n}\n\n@Override\npublic boolean isViewFromObject(@NonNull View view, @NonNull Object object) {\n    return view == (RelativeLayout) object;\n}\n@NonNull\n@Override\npublic Object instantiateItem(@NonNull ViewGroup container, int position) {\n    layoutInflater = (LayoutInflater) context.getSystemService(context.LAYOUT_INFLATER_SERVICE);\n    View view =layoutInflater.inflate(R.layout.slide_layout, container, false);\n\n    ImageView slideImageView = (ImageView) view.findViewById(R.id.HareketResmi);\n    TextView slideHeading = (TextView) view.findViewById(R.id.HareketAdi);\n    TextView slideTekraSayisi = (TextView) view.findViewById(R.id.TekrarSayisiSlide);\n\n    slideImageView.setImageResource((slide_images[position]));\n    slideHeading.setText(slide_headings[position]);\n    slideTekraSayisi.setText(String.valueOf(tekrar_sayisi[position]));\n\n\n\n    container.addView(view);\n\n    return view;\n}\n\n@Override\n    public void destroyItem(@NonNull ViewGroup container, int position, @NonNull Object object) {\n\n    }\n\n}\n</code></pre>\n<p>Slider.Java</p>\n<pre><code>    package gymholix.assistx;\n\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.viewpager.widget.ViewPager;\n\n\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.text.Html;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Slider extends AppCompatActivity {\n\n\n    private LinearLayout mDotLayout;\n    private String asd;\n    private int asdf;\n\n    TextView DenemeSayiCek;\n    int position;\n    View view;\n    int count;\n    View viewFix;\n    Context context;\n    //Sensors---------------------------------------------------------------------------------------\n    private Accelerometer accelerometer;\n    private Gyroscope gyroscope;\n\n    public double[] acc={3.00,2.00,1.00};\n    public double[] gyr={3.00,2.00,1.00};\n\n    //Sensors---------------------------------------------------------------------------------------\n    //Main------------------------------------------------------------------------------------------\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Antreman antreman = new Antreman();\n        context = this;\n        setContentView(R.layout.activity_slider);\n\n        ViewPager AktifHareket = findViewById(R.id.slideViewPager);\n        mDotLayout = findViewById(R.id.dotsLayout);\n        SliderAdapter sliderAdapter = new SliderAdapter(this);\n        AktifHareket.setAdapter((sliderAdapter));\n\n        addDotsIndicator();\n\n        //Saydir Buton------------------------------------------------------------------------------\n        TextView Deneme = findViewById(R.id.deneme);\n        TextView Deneme4 = findViewById(R.id.deneme4);\n    \n\n    TextView Deneme3 = findViewById(R.id.deneme3);\n            TextView Deneme2 = findViewById(R.id.deneme2);\n            Button Saydir = findViewById(R.id.SaydirSlide);\n            Button Saydir2 = findViewById(R.id.Saydir2Slide);\n            Saydir.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n\n                position = AktifHareket.getCurrentItem();\n                view = AktifHareket.getChildAt(position);\n                count = AktifHareket.indexOfChild(view);\n                viewFix = AktifHareket.getChildAt(count);\n                DenemeSayiCek = viewFix.findViewById(R.id.TekrarSayisiSlide);\n                asd = DenemeSayiCek.getText().toString();\n                asdf = Integer.parseInt(asd);\n                asdf++;\n                DenemeSayiCek.setText(String.valueOf(asdf));\n                Deneme.setText(String.valueOf(asd));\n                Deneme2.setText(String.valueOf(position));\n                Deneme3.setText(String.valueOf(asdf));\n                Deneme4.setText(String.valueOf(SliderAdapter.POSITION_NONE));\n\n            }\n        });\n\n        //Saydir Buton------------------------------------------------------------------------------\n        //ImageButton-------------------------------------------------------------------------------\n        ImageView logoImage = findViewById(R.id.logo);\n        logoImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                antreman.AntremanSayfasi(context);\n            }\n        });\n        antreman.AntremanSayfasi(context);//Açılışta Sayfayı açsın diye\n        //ImageButton-------------------------------------------------------------------------------\n        //Sensors-----------------------------------------------------------------------------------\n\n        accelerometer = new Accelerometer(this);\n        gyroscope = new Gyroscope(this);\n        accelerometer.setListner(new Accelerometer.Listner() {\n            @Override\n            public void onTranslation(float ax, float ay, float az) {\n                setAccValue(ax, ay, az);\n                Antreman.GetSensorValues.OnAccelerometerChangeValues = acc;\n            }\n        });\n        gyroscope.setListner(new Gyroscope.Listner() {\n            @Override\n            public void onRotation(float gx, float gy, float gz) {\n                setGyroValue(gx, gy, gz);\n                Antreman.GetSensorValues.OnGyroscopeChangeValues = gyr;\n                //OnSensorChangeValues.add(1, String.valueOf(gyr) );\n            }\n        });\n/*        Saydir2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n\n            }\n        });*/\n        //Sensors-----------------------------------------------------------------------------------\n    }\n    //Sensors---------------------------------------------------------------------------------------\n    protected void onResume(){\n        super.onResume();\n\n        accelerometer.register();\n        gyroscope.register();\n    }\n    protected void onPouse(){\n        super.onPause();\n        accelerometer.unregister();\n        gyroscope.unregister();\n    }\n    //Sensors---------------------------------------------------------------------------------------\n    //SensorsValueGetAndSet-------------------------------------------------------------------------\n    public double[] setAccValue(float ac, float bc, float cc){\n        this.acc[0] = ac;\n        this.acc[1] = bc;\n        this.acc[2] = cc;\n        return acc;\n    }\n    public double[] setGyroValue(float qq, float wq, float eq){\n        this.gyr[0] = qq;\n        this.gyr[1] = wq;\n        this.gyr[2] = eq;\n        return gyr;\n    }\n    public void getAccValue(float ac, float bc, float cc){\n        ac = (float) acc[0];\n        bc = (float) acc[1];\n        cc = (float) acc[2];\n    }\n    public void getGyroValue(float qq, float wq, float eq){\n        qq = (float) gyr[0];\n        wq = (float) gyr[1];\n        eq = (float) gyr[2];\n    }\n    //SensorsValueGetAndSet-------------------------------------------------------------------------\n    public void addDotsIndicator(){\n        TextView[] mDots = new TextView[3];\n        for(int i = 0; i &lt; mDots.length; i++){\n            mDots[i] = new TextView(this);\n            mDots[i].setText(Html.fromHtml(&quot;&amp;#8226;&quot;));\n            mDots[i].setTextSize(35);\n            mDots[i].setTextColor(getResources().getColor(R.color.colorPrimaryDark));\n            mDotLayout.addView(mDots[i]);\n        }\n    }\n    //----------------------------------------------------------------------------------------------\n}\n</code></pre>\n<p>the weird thing about this code is; while running the button changes the text value correctly in the first pager, and the seckond one but when it comes the third one while it changes the value it resets the first pagers shown value but the getText() method inherits the correct value but the text is frozen and it cant be changed any more, after that the other page's values cant be changed either, but the getText() method still works fine and gets the correct value.</p>\n<p>any idea will speed up my debuging process thanx anyway...</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649341363,"creation_date":1649341363,"answer_id":71783950,"question_id":71782621,"body_markdown":"Not able to try your code exactly, but try something like this:\r\n\r\n```java\r\npublic boolean updatePassword(String id, String data) {\r\n    final var responseSpec =\r\n        client\r\n            .post()\r\n            .uri(builder -&gt; builder.path(&quot;/{id}/change_password&quot;).build(id))\r\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; /*+ staticData.getAPIToken()*/)\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .body(BodyInserters.fromValue(data))\r\n            .retrieve()\r\n            .onStatus(\r\n                HttpStatus::isError,\r\n                error -&gt; error.bodyToMono(ErrorResponse.class)\r\n                    .map(errorResponse -&gt; {\r\n                    final var errorMsg = errorResponse.getCause().getSummary();\r\n                    if (error.statusCode().is4xxClientError()) {\r\n                      throw new HttpClientErrorException(error.statusCode(), errorMsg);\r\n                    }\r\n                    if (error.statusCode().is5xxServerError()) {\r\n                      throw new HttpServerErrorException(error.statusCode(), errorMsg);\r\n                    }\r\n                    return new HttpServerErrorException(\r\n                            HttpStatus.INTERNAL_SERVER_ERROR, &quot;Something else.&quot;);\r\n                  }))\r\n            .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n\r\n    final var response = responseSpec.block();\r\n\r\n    return response.containsKey(&quot;password&quot;) &amp;&amp; response.containsKey(&quot;provider&quot;);\r\n  }\r\n```","title":"With Spring WebClient, how do I deserialize different types for successful and failed responses?","body":"<p>Not able to try your code exactly, but try something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean updatePassword(String id, String data) {\n    final var responseSpec =\n        client\n            .post()\n            .uri(builder -&gt; builder.path(&quot;/{id}/change_password&quot;).build(id))\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; /*+ staticData.getAPIToken()*/)\n            .accept(MediaType.APPLICATION_JSON)\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(BodyInserters.fromValue(data))\n            .retrieve()\n            .onStatus(\n                HttpStatus::isError,\n                error -&gt; error.bodyToMono(ErrorResponse.class)\n                    .map(errorResponse -&gt; {\n                    final var errorMsg = errorResponse.getCause().getSummary();\n                    if (error.statusCode().is4xxClientError()) {\n                      throw new HttpClientErrorException(error.statusCode(), errorMsg);\n                    }\n                    if (error.statusCode().is5xxServerError()) {\n                      throw new HttpServerErrorException(error.statusCode(), errorMsg);\n                    }\n                    return new HttpServerErrorException(\n                            HttpStatus.INTERNAL_SERVER_ERROR, &quot;Something else.&quot;);\n                  }))\n            .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n\n    final var response = responseSpec.block();\n\n    return response.containsKey(&quot;password&quot;) &amp;&amp; response.containsKey(&quot;provider&quot;);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26133744,"reputation":26,"user_id":19824052,"display_name":"phil_stanton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661207905,"creation_date":1661207777,"answer_id":73451627,"question_id":71782621,"body_markdown":"I believe that I have found a solution. \r\n\r\nYou do want to use exchange instead of retrieve as you stated. Although, You might have been missing code and that is why it didn&#39;t work for you the first time around. \r\nBy using exchange you can inspect the return codes and write to a different response object depending on the status code. \r\n\r\nIn your case, \r\n\r\n```\r\nfinal var responseSpec =\r\n        client\r\n            .post()\r\n            .uri(builder -&gt; builder.path(&quot;/{id}/change_password&quot;).build(id))\r\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + staticData.getAPIToken())\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .body(BodyInserters.fromValue(data))\r\n            .exchange()\r\n            .block()\r\n \r\n\r\nif (respsonseSpec.statusCode().is2xxSuccessful()) { \r\n  Map&lt;String, Object&gt; data = \r\n       responseSpec.bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;() \r\n       {}).block()\r\n    \r\n   /* handle successful response  */ \r\n\r\n} else if (responseSpec.StatusCode().is4xxClientError()){\r\n  ErrorResponse errorResponse = responseSepc.bodyToMono(ErrorResponse.class).block()\r\n\r\n  /* handle error */ \r\n}\r\n/*... other status code cases */ \r\n```\r\n\r\nHopefully this helps for deserialization to different types based on status codes\r\n\r\n","title":"With Spring WebClient, how do I deserialize different types for successful and failed responses?","body":"<p>I believe that I have found a solution.</p>\n<p>You do want to use exchange instead of retrieve as you stated. Although, You might have been missing code and that is why it didn't work for you the first time around.\nBy using exchange you can inspect the return codes and write to a different response object depending on the status code.</p>\n<p>In your case,</p>\n<pre><code>final var responseSpec =\n        client\n            .post()\n            .uri(builder -&gt; builder.path(&quot;/{id}/change_password&quot;).build(id))\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + staticData.getAPIToken())\n            .accept(MediaType.APPLICATION_JSON)\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(BodyInserters.fromValue(data))\n            .exchange()\n            .block()\n \n\nif (respsonseSpec.statusCode().is2xxSuccessful()) { \n  Map&lt;String, Object&gt; data = \n       responseSpec.bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;() \n       {}).block()\n    \n   /* handle successful response  */ \n\n} else if (responseSpec.StatusCode().is4xxClientError()){\n  ErrorResponse errorResponse = responseSepc.bodyToMono(ErrorResponse.class).block()\n\n  /* handle error */ \n}\n/*... other status code cases */ \n</code></pre>\n<p>Hopefully this helps for deserialization to different types based on status codes</p>\n"}],"owner":{"account_id":2256668,"reputation":590,"user_id":1987724,"accept_rate":63,"display_name":"Fam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73451627,"answer_count":2,"score":0,"last_activity_date":1661207905,"creation_date":1649336320,"question_id":71782621,"body_markdown":"**tbjorch**&#39;s answer led me down the right path, but one thing I discovered is I should construct the HTTP exceptions using the static `.create` methods for both `HttpClientErrorException` and `HttpServerErrorException`. If I didn&#39;t do this, all my exceptions would get thrown as just the `Exception` superclass, which was undesirable since it lost the context of the original Http status code.\r\n\r\nI am new to using Spring WebClient. The API I&#39;m implementing responds with different JSON structures based on success or failure. In the case of a failure, I want to be able to deserialize the response body and return the error message. Based on the code below, I get an error message stating:\r\n\r\n```\r\njava.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-2\r\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83)\r\n```\r\n\r\nI agree, it doesn&#39;t make sense to block in 2 places. But I&#39;m not understanding how I can deserialize the error response to grab the error message. Everything I read on the web and StackOverflow indicates people just return `Mono.error` or throw exceptions, but they don&#39;t seem to be deserializing the response body in those scenarios. Here&#39;s my code:\r\n\r\n```\r\n  public boolean updatePassword(String id, String data) {\r\n    final var responseSpec =\r\n        client\r\n            .post()\r\n            .uri(builder -&gt; builder.path(&quot;/{id}/change_password&quot;).build(id))\r\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + staticData.getAPIToken())\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .body(BodyInserters.fromValue(data))\r\n            .retrieve()\r\n            .onStatus(\r\n                HttpStatus::isError,\r\n                error -&gt; {\r\n                  final var errorResponse = error.bodyToMono(ErrorResponse.class).block();\r\n                  final var errorMsg = errorResponse.getCause().getSummary();\r\n\r\n                  if (error.statusCode().is4xxClientError()) {\r\n                    throw new HttpClientErrorException(error.statusCode(), errorMsg);\r\n                  }\r\n                  if (error.statusCode().is5xxServerError()) {\r\n                    throw new HttpServerErrorException(error.statusCode(), errorMsg);\r\n                  }\r\n                  return Mono.error(\r\n                      new HttpServerErrorException(\r\n                          HttpStatus.INTERNAL_SERVER_ERROR, &quot;Something else.&quot;));\r\n                })\r\n            .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n\r\n    final var response = responseSpec.block();\r\n\r\n    return response.containsKey(&quot;password&quot;) &amp;&amp; response.containsKey(&quot;provider&quot;);\r\n  }\r\n```\r\n\r\n**PS.** I&#39;ve also tried using `.exchangeToMono` instead of `.retrieve`, so that I can inspect the response status code, and then use different types for the `.bodyToMono` function, but as soon as I write two different types between a success and failure, I get an error stating that the type argument can&#39;t be inferred.","title":"With Spring WebClient, how do I deserialize different types for successful and failed responses?","body":"<p><strong>tbjorch</strong>'s answer led me down the right path, but one thing I discovered is I should construct the HTTP exceptions using the static <code>.create</code> methods for both <code>HttpClientErrorException</code> and <code>HttpServerErrorException</code>. If I didn't do this, all my exceptions would get thrown as just the <code>Exception</code> superclass, which was undesirable since it lost the context of the original Http status code.</p>\n<p>I am new to using Spring WebClient. The API I'm implementing responds with different JSON structures based on success or failure. In the case of a failure, I want to be able to deserialize the response body and return the error message. Based on the code below, I get an error message stating:</p>\n<pre><code>java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-2\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83)\n</code></pre>\n<p>I agree, it doesn't make sense to block in 2 places. But I'm not understanding how I can deserialize the error response to grab the error message. Everything I read on the web and StackOverflow indicates people just return <code>Mono.error</code> or throw exceptions, but they don't seem to be deserializing the response body in those scenarios. Here's my code:</p>\n<pre><code>  public boolean updatePassword(String id, String data) {\n    final var responseSpec =\n        client\n            .post()\n            .uri(builder -&gt; builder.path(&quot;/{id}/change_password&quot;).build(id))\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + staticData.getAPIToken())\n            .accept(MediaType.APPLICATION_JSON)\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(BodyInserters.fromValue(data))\n            .retrieve()\n            .onStatus(\n                HttpStatus::isError,\n                error -&gt; {\n                  final var errorResponse = error.bodyToMono(ErrorResponse.class).block();\n                  final var errorMsg = errorResponse.getCause().getSummary();\n\n                  if (error.statusCode().is4xxClientError()) {\n                    throw new HttpClientErrorException(error.statusCode(), errorMsg);\n                  }\n                  if (error.statusCode().is5xxServerError()) {\n                    throw new HttpServerErrorException(error.statusCode(), errorMsg);\n                  }\n                  return Mono.error(\n                      new HttpServerErrorException(\n                          HttpStatus.INTERNAL_SERVER_ERROR, &quot;Something else.&quot;));\n                })\n            .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n\n    final var response = responseSpec.block();\n\n    return response.containsKey(&quot;password&quot;) &amp;&amp; response.containsKey(&quot;provider&quot;);\n  }\n</code></pre>\n<p><strong>PS.</strong> I've also tried using <code>.exchangeToMono</code> instead of <code>.retrieve</code>, so that I can inspect the response status code, and then use different types for the <code>.bodyToMono</code> function, but as soon as I write two different types between a success and failure, I get an error stating that the type argument can't be inferred.</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":26109316,"reputation":21,"user_id":19803516,"display_name":"Keenan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661207857,"creation_date":1661207857,"answer_id":73451635,"question_id":73420737,"body_markdown":"By following the example at https://github.com/Thumar/recyclerview-selection/tree/master/app\r\nI was able to get it working.  See my working code below.\r\n\r\nBut I still don&#39;t know which of the changes made it work and why.\r\n\r\nIf anyone figures out what was causing my problem, please post a comment or answer.\r\n\r\nAny and all other feedback is welcome as well.\r\n\r\nTHANKS\r\n\r\n\r\nHere&#39;s my new fragment:\r\n```\r\npackage com.example.smartflashcards;\r\n\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.selection.ItemDetailsLookup;\r\nimport androidx.recyclerview.selection.Selection;\r\nimport androidx.recyclerview.selection.SelectionPredicates;\r\nimport androidx.recyclerview.selection.SelectionTracker;\r\nimport androidx.recyclerview.selection.StableIdKeyProvider;\r\nimport androidx.recyclerview.selection.StorageStrategy;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class StackSelectionFragment extends Fragment {\r\n\r\n    // TODO: Customize parameter argument names\r\n    private static final String ARG_COLUMN_COUNT = &quot;column-count&quot;;\r\n    // TODO: Customize parameters\r\n    private int mColumnCount = 1;\r\n\r\n    SelectionTracker&lt;Long&gt; tracker; //TODO: add private?\r\n\r\n    private StackSelectionListener listener;\r\n    public interface StackSelectionListener {\r\n        public void onSelectStack(String stack);\r\n    }\r\n\r\n    String selections = &quot;&quot;;\r\n\r\n\r\n    /**\r\n     * Mandatory empty constructor for the fragment manager to instantiate the\r\n     * fragment (e.g. upon screen orientation changes).\r\n     */\r\n    public StackSelectionFragment() {\r\n    }\r\n\r\n    // TODO: Customize parameter initialization\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public static StackSelectionFragment newInstance(int columnCount) {\r\n        StackSelectionFragment fragment = new StackSelectionFragment();\r\n        Bundle args = new Bundle();\r\n        args.putInt(ARG_COLUMN_COUNT, columnCount);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        if (getArguments() != null) {\r\n            mColumnCount = getArguments().getInt(ARG_COLUMN_COUNT);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_stack_selection_list, container, false);\r\n        File directory = getActivity().getFilesDir();\r\n\r\n        List&lt;String&gt; filesList = new ArrayList(Arrays.asList(directory.list()));\r\n\r\n        // Set the adapter\r\n        if (view instanceof RecyclerView) {\r\n            Context context = view.getContext();\r\n            RecyclerView recyclerView = (RecyclerView) view;\r\n            if (mColumnCount &lt;= 1) {\r\n                recyclerView.setLayoutManager(new LinearLayoutManager(context));\r\n            } else {\r\n                recyclerView.setLayoutManager(new GridLayoutManager(context, mColumnCount));\r\n            }\r\n            MyItemRecyclerViewAdapter adapter = new MyItemRecyclerViewAdapter(filesList);\r\n            recyclerView.setAdapter(adapter);\r\n            adapter.hasStableIds();\r\n\r\n            this.tracker = new SelectionTracker.Builder&lt;Long&gt;(\r\n                    &quot;stack_selector&quot;,\r\n                    recyclerView,\r\n                    new StableIdKeyProvider(recyclerView),\r\n                    new MyDetailsLookup(recyclerView),\r\n                    StorageStrategy.createLongStorage()\r\n            ).withSelectionPredicate(SelectionPredicates.&lt;Long&gt;createSelectAnything()).build();\r\n            adapter.injectTracker(this.tracker);\r\n\r\n            SelectionTracker.SelectionObserver&lt;Long&gt; observer = new SelectionTracker.SelectionObserver&lt;Long&gt;() {\r\n                @Override\r\n                public void onSelectionChanged() {\r\n                    super.onSelectionChanged();\r\n\r\n                    //TODO: replace this placeholder action with something useful\r\n                    selections = &quot;&quot;;\r\n                    tracker.getSelection().forEach(item -&gt; selections += adapter.getContent(item.intValue()));//selections += item);\r\n                    //listener.onSelectStack(&quot;selections&quot;); //This causes an error???\r\n                    Context context = getContext();\r\n                    Toast toast = Toast.makeText(context, selections, Toast.LENGTH_LONG);\r\n                    toast.show();\r\n                }\r\n            };\r\n            this.tracker.addObserver(observer);\r\n        }\r\n        return view;\r\n    }\r\n\r\n    final class MyDetailsLookup extends ItemDetailsLookup {\r\n\r\n        private final RecyclerView mRecyclerView;\r\n\r\n        MyDetailsLookup(RecyclerView recyclerView) {\r\n            mRecyclerView = recyclerView;\r\n        }\r\n\r\n        public @Nullable\r\n        ItemDetails getItemDetails(@NonNull MotionEvent e) {\r\n            View view = mRecyclerView.findChildViewUnder(e.getX(), e.getY());\r\n            if (view != null) {\r\n                RecyclerView.ViewHolder holder = mRecyclerView.getChildViewHolder(view);\r\n                if (holder instanceof MyItemRecyclerViewAdapter.ViewHolder) {\r\n                    return ((MyItemRecyclerViewAdapter.ViewHolder)holder).getItemDetails();\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\n\r\nHere&#39;s my new adapter:\r\n```\r\npackage com.example.smartflashcards;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.recyclerview.selection.ItemDetailsLookup;\r\nimport androidx.recyclerview.selection.SelectionTracker;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.List;\r\n\r\npublic class MyItemRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyItemRecyclerViewAdapter.ViewHolder&gt; {\r\n\r\n    private final List&lt;String&gt; mValues;\r\n    private SelectionTracker&lt;Long&gt; selectionTracker;\r\n\r\n    public MyItemRecyclerViewAdapter(List&lt;String&gt; items) {\r\n        setHasStableIds(true); //TODO: remove redundancy between this and &quot;recyclerView.getAdapter().hasStableIds()&quot; in the Fragment\r\n        mValues = items;\r\n    }\r\n\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fragment_stack_selection, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        String item = this.mValues.get(position);\r\n        holder.bind(item, selectionTracker.isSelected((long) position));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mValues.size();\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return (long)position;\r\n    }\r\n\r\n    public String getContent(int position) {\r\n        return mValues.get(position);\r\n    }\r\n\r\n    public void injectTracker(SelectionTracker&lt;Long&gt; tracker)\r\n    {\r\n        this.selectionTracker = tracker;\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        public final TextView mContentView;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            mContentView = itemView.findViewById(R.id.content);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return super.toString() + &quot; &#39;&quot; + mContentView.getText() + &quot;&#39;&quot;;\r\n        }\r\n\r\n        public void bind(String item, Boolean activate) {\r\n            this.mContentView.setText(item);\r\n            itemView.setActivated(activate); //TODO: understand how &quot;itemView&quot; exists outside of the constructor\r\n        }\r\n\r\n        public ItemDetailsLookup.ItemDetails&lt;Long&gt; getItemDetails() {\r\n            return new ItemDetailsLookup.ItemDetails&lt;Long&gt;() {\r\n                @Override\r\n                public int getPosition() {\r\n                    return getAbsoluteAdapterPosition();\r\n                }\r\n\r\n                @Nullable\r\n                @Override\r\n                public Long getSelectionKey() {\r\n                    return (long) getAbsoluteAdapterPosition();\r\n                }\r\n            };\r\n        }\r\n    }\r\n}\r\n```","title":"Why isn&#39;t onBindViewHolder getting called when I make a selection?","body":"<p>By following the example at <a href=\"https://github.com/Thumar/recyclerview-selection/tree/master/app\" rel=\"nofollow noreferrer\">https://github.com/Thumar/recyclerview-selection/tree/master/app</a>\nI was able to get it working.  See my working code below.</p>\n<p>But I still don't know which of the changes made it work and why.</p>\n<p>If anyone figures out what was causing my problem, please post a comment or answer.</p>\n<p>Any and all other feedback is welcome as well.</p>\n<p>THANKS</p>\n<p>Here's my new fragment:</p>\n<pre><code>package com.example.smartflashcards;\n\nimport android.content.Context;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.selection.ItemDetailsLookup;\nimport androidx.recyclerview.selection.Selection;\nimport androidx.recyclerview.selection.SelectionPredicates;\nimport androidx.recyclerview.selection.SelectionTracker;\nimport androidx.recyclerview.selection.StableIdKeyProvider;\nimport androidx.recyclerview.selection.StorageStrategy;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.view.LayoutInflater;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Toast;\n\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class StackSelectionFragment extends Fragment {\n\n    // TODO: Customize parameter argument names\n    private static final String ARG_COLUMN_COUNT = &quot;column-count&quot;;\n    // TODO: Customize parameters\n    private int mColumnCount = 1;\n\n    SelectionTracker&lt;Long&gt; tracker; //TODO: add private?\n\n    private StackSelectionListener listener;\n    public interface StackSelectionListener {\n        public void onSelectStack(String stack);\n    }\n\n    String selections = &quot;&quot;;\n\n\n    /**\n     * Mandatory empty constructor for the fragment manager to instantiate the\n     * fragment (e.g. upon screen orientation changes).\n     */\n    public StackSelectionFragment() {\n    }\n\n    // TODO: Customize parameter initialization\n    @SuppressWarnings(&quot;unused&quot;)\n    public static StackSelectionFragment newInstance(int columnCount) {\n        StackSelectionFragment fragment = new StackSelectionFragment();\n        Bundle args = new Bundle();\n        args.putInt(ARG_COLUMN_COUNT, columnCount);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        if (getArguments() != null) {\n            mColumnCount = getArguments().getInt(ARG_COLUMN_COUNT);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_stack_selection_list, container, false);\n        File directory = getActivity().getFilesDir();\n\n        List&lt;String&gt; filesList = new ArrayList(Arrays.asList(directory.list()));\n\n        // Set the adapter\n        if (view instanceof RecyclerView) {\n            Context context = view.getContext();\n            RecyclerView recyclerView = (RecyclerView) view;\n            if (mColumnCount &lt;= 1) {\n                recyclerView.setLayoutManager(new LinearLayoutManager(context));\n            } else {\n                recyclerView.setLayoutManager(new GridLayoutManager(context, mColumnCount));\n            }\n            MyItemRecyclerViewAdapter adapter = new MyItemRecyclerViewAdapter(filesList);\n            recyclerView.setAdapter(adapter);\n            adapter.hasStableIds();\n\n            this.tracker = new SelectionTracker.Builder&lt;Long&gt;(\n                    &quot;stack_selector&quot;,\n                    recyclerView,\n                    new StableIdKeyProvider(recyclerView),\n                    new MyDetailsLookup(recyclerView),\n                    StorageStrategy.createLongStorage()\n            ).withSelectionPredicate(SelectionPredicates.&lt;Long&gt;createSelectAnything()).build();\n            adapter.injectTracker(this.tracker);\n\n            SelectionTracker.SelectionObserver&lt;Long&gt; observer = new SelectionTracker.SelectionObserver&lt;Long&gt;() {\n                @Override\n                public void onSelectionChanged() {\n                    super.onSelectionChanged();\n\n                    //TODO: replace this placeholder action with something useful\n                    selections = &quot;&quot;;\n                    tracker.getSelection().forEach(item -&gt; selections += adapter.getContent(item.intValue()));//selections += item);\n                    //listener.onSelectStack(&quot;selections&quot;); //This causes an error???\n                    Context context = getContext();\n                    Toast toast = Toast.makeText(context, selections, Toast.LENGTH_LONG);\n                    toast.show();\n                }\n            };\n            this.tracker.addObserver(observer);\n        }\n        return view;\n    }\n\n    final class MyDetailsLookup extends ItemDetailsLookup {\n\n        private final RecyclerView mRecyclerView;\n\n        MyDetailsLookup(RecyclerView recyclerView) {\n            mRecyclerView = recyclerView;\n        }\n\n        public @Nullable\n        ItemDetails getItemDetails(@NonNull MotionEvent e) {\n            View view = mRecyclerView.findChildViewUnder(e.getX(), e.getY());\n            if (view != null) {\n                RecyclerView.ViewHolder holder = mRecyclerView.getChildViewHolder(view);\n                if (holder instanceof MyItemRecyclerViewAdapter.ViewHolder) {\n                    return ((MyItemRecyclerViewAdapter.ViewHolder)holder).getItemDetails();\n                }\n            }\n            return null;\n        }\n    }\n</code></pre>\n<p>Here's my new adapter:</p>\n<pre><code>package com.example.smartflashcards;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.recyclerview.selection.ItemDetailsLookup;\nimport androidx.recyclerview.selection.SelectionTracker;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport java.util.List;\n\npublic class MyItemRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyItemRecyclerViewAdapter.ViewHolder&gt; {\n\n    private final List&lt;String&gt; mValues;\n    private SelectionTracker&lt;Long&gt; selectionTracker;\n\n    public MyItemRecyclerViewAdapter(List&lt;String&gt; items) {\n        setHasStableIds(true); //TODO: remove redundancy between this and &quot;recyclerView.getAdapter().hasStableIds()&quot; in the Fragment\n        mValues = items;\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.fragment_stack_selection, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        String item = this.mValues.get(position);\n        holder.bind(item, selectionTracker.isSelected((long) position));\n    }\n\n    @Override\n    public int getItemCount() {\n        return mValues.size();\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return (long)position;\n    }\n\n    public String getContent(int position) {\n        return mValues.get(position);\n    }\n\n    public void injectTracker(SelectionTracker&lt;Long&gt; tracker)\n    {\n        this.selectionTracker = tracker;\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        public final TextView mContentView;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            mContentView = itemView.findViewById(R.id.content);\n        }\n\n        @Override\n        public String toString() {\n            return super.toString() + &quot; '&quot; + mContentView.getText() + &quot;'&quot;;\n        }\n\n        public void bind(String item, Boolean activate) {\n            this.mContentView.setText(item);\n            itemView.setActivated(activate); //TODO: understand how &quot;itemView&quot; exists outside of the constructor\n        }\n\n        public ItemDetailsLookup.ItemDetails&lt;Long&gt; getItemDetails() {\n            return new ItemDetailsLookup.ItemDetails&lt;Long&gt;() {\n                @Override\n                public int getPosition() {\n                    return getAbsoluteAdapterPosition();\n                }\n\n                @Nullable\n                @Override\n                public Long getSelectionKey() {\n                    return (long) getAbsoluteAdapterPosition();\n                }\n            };\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26109316,"reputation":21,"user_id":19803516,"display_name":"Keenan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661207857,"creation_date":1660932716,"question_id":73420737,"body_markdown":"My scrolling list is displaying properly.\r\n\r\nOnBindViewHolder is called for each item in initial display and when scrolling brings new items into view.\r\n\r\nWhen I click on an item, I do see my ItemDetailsLookup and getItemDetails functions getting called, HOWEVER it doesn&#39;t call the OnBindViewHolder, and so setActivated isn&#39;t getting run.\r\n\r\nThe documentation for androidx.recyclerview.selection says &quot;... When the user selects an item the library will record that in SelectionTracker then notify RecyclerView that the state of the item has changed. This will ultimately cause the value to be rebound by way of RecyclerView.Adapter#onBindViewHolder...&quot; and I think I&#39;ve done everything up to this point, but I must have missed something...\r\n\r\nAny ideas?\r\n\r\nThanks\r\n\r\n\r\nHere&#39;s my fragment:\r\n```\r\npackage com.example.smartflashcards;\r\n\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.selection.ItemDetailsLookup;\r\nimport androidx.recyclerview.selection.SelectionPredicates;\r\nimport androidx.recyclerview.selection.SelectionTracker;\r\nimport androidx.recyclerview.selection.StableIdKeyProvider;\r\nimport androidx.recyclerview.selection.StorageStrategy;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class StackSelectionFragment extends Fragment {\r\n\r\n    private static final String ARG_COLUMN_COUNT = &quot;column-count&quot;;\r\n    private int mColumnCount = 1;\r\n\r\n    static SelectionTracker&lt;Long&gt; tracker;\r\n\r\n    public StackSelectionFragment() {\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public static StackSelectionFragment newInstance(int columnCount) {\r\n        StackSelectionFragment fragment = new StackSelectionFragment();\r\n        Bundle args = new Bundle();\r\n        args.putInt(ARG_COLUMN_COUNT, columnCount);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        if (getArguments() != null) {\r\n            mColumnCount = getArguments().getInt(ARG_COLUMN_COUNT);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_stack_selection_list, container, false);\r\n        File directory = getActivity().getFilesDir();\r\n\r\n        List&lt;String&gt; filesList = new ArrayList(Arrays.asList(directory.list()));\r\n\r\n        if (view instanceof RecyclerView) {\r\n            Context context = view.getContext();\r\n            RecyclerView recyclerView = (RecyclerView) view;\r\n            if (mColumnCount &lt;= 1) {\r\n                recyclerView.setLayoutManager(new LinearLayoutManager(context));\r\n            } else {\r\n                recyclerView.setLayoutManager(new GridLayoutManager(context, mColumnCount));\r\n            }\r\n            recyclerView.setAdapter(new MyItemRecyclerViewAdapter(filesList));\r\n            recyclerView.getAdapter().hasStableIds();\r\n\r\n            this.tracker = new SelectionTracker.Builder&lt;Long&gt;(\r\n                    &quot;stack_selector&quot;,\r\n                    recyclerView,\r\n                    new StableIdKeyProvider(recyclerView),\r\n                    new MyDetailsLookup(recyclerView),\r\n                    StorageStrategy.createLongStorage()\r\n                ).withSelectionPredicate(SelectionPredicates.&lt;Long&gt;createSelectAnything()).build();\r\n        }\r\n        return view;\r\n    }\r\n\r\n    final class MyDetailsLookup extends ItemDetailsLookup {\r\n\r\n        private final RecyclerView mRecyclerView;\r\n\r\n        MyDetailsLookup(RecyclerView recyclerView) {\r\n            mRecyclerView = recyclerView;\r\n        }\r\n\r\n        public @Nullable\r\n        ItemDetails getItemDetails(@NonNull MotionEvent e) {\r\n            View view = mRecyclerView.findChildViewUnder(e.getX(), e.getY());\r\n            if (view != null) {\r\n                RecyclerView.ViewHolder holder = mRecyclerView.getChildViewHolder(view);\r\n                if (holder instanceof MyItemRecyclerViewAdapter.ViewHolder) {\r\n                    return ((MyItemRecyclerViewAdapter.ViewHolder)holder).getItemDetails();\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s my adapter:\r\n```\r\npackage com.example.smartflashcards;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.recyclerview.selection.ItemDetailsLookup;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.smartflashcards.databinding.FragmentStackSelectionBinding;\r\n\r\nimport java.util.List;\r\n\r\npublic class MyItemRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyItemRecyclerViewAdapter.ViewHolder&gt; {\r\n\r\n    private final List&lt;String&gt; mValues;\r\n\r\n    public MyItemRecyclerViewAdapter(List&lt;String&gt; items) {\r\n        setHasStableIds(true);\r\n        mValues = items;\r\n    }\r\n\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n\r\n        return new ViewHolder(FragmentStackSelectionBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false));\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(final ViewHolder holder, int position) {\r\n        holder.mItem = getItemId(position);\r\n        holder.mContentView.setText(mValues.get(position));\r\n        holder.mContentView.setActivated(StackSelectionFragment.tracker.isSelected((long) position));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mValues.size();\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return (long)position;\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        public final TextView mIdView;\r\n        public final TextView mContentView;\r\n        public Long mItem;\r\n\r\n        public ViewHolder(FragmentStackSelectionBinding binding) {\r\n            super(binding.getRoot());\r\n            mIdView = binding.itemNumber;\r\n            mContentView = binding.content;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return super.toString() + &quot; &#39;&quot; + mContentView.getText() + &quot;&#39;&quot;;\r\n        }\r\n\r\n        public ItemDetailsLookup.ItemDetails&lt;Long&gt; getItemDetails() {\r\n            return new ItemDetailsLookup.ItemDetails&lt;Long&gt;() {\r\n                @Override\r\n                public int getPosition() {\r\n                    return getAbsoluteAdapterPosition();\r\n                }\r\n\r\n                @Nullable\r\n                @Override\r\n                public Long getSelectionKey() {\r\n                    return mItem;\r\n                }\r\n            };\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"Why isn&#39;t onBindViewHolder getting called when I make a selection?","body":"<p>My scrolling list is displaying properly.</p>\n<p>OnBindViewHolder is called for each item in initial display and when scrolling brings new items into view.</p>\n<p>When I click on an item, I do see my ItemDetailsLookup and getItemDetails functions getting called, HOWEVER it doesn't call the OnBindViewHolder, and so setActivated isn't getting run.</p>\n<p>The documentation for androidx.recyclerview.selection says &quot;... When the user selects an item the library will record that in SelectionTracker then notify RecyclerView that the state of the item has changed. This will ultimately cause the value to be rebound by way of RecyclerView.Adapter#onBindViewHolder...&quot; and I think I've done everything up to this point, but I must have missed something...</p>\n<p>Any ideas?</p>\n<p>Thanks</p>\n<p>Here's my fragment:</p>\n<pre><code>package com.example.smartflashcards;\n\nimport android.content.Context;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.selection.ItemDetailsLookup;\nimport androidx.recyclerview.selection.SelectionPredicates;\nimport androidx.recyclerview.selection.SelectionTracker;\nimport androidx.recyclerview.selection.StableIdKeyProvider;\nimport androidx.recyclerview.selection.StorageStrategy;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.view.LayoutInflater;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class StackSelectionFragment extends Fragment {\n\n    private static final String ARG_COLUMN_COUNT = &quot;column-count&quot;;\n    private int mColumnCount = 1;\n\n    static SelectionTracker&lt;Long&gt; tracker;\n\n    public StackSelectionFragment() {\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public static StackSelectionFragment newInstance(int columnCount) {\n        StackSelectionFragment fragment = new StackSelectionFragment();\n        Bundle args = new Bundle();\n        args.putInt(ARG_COLUMN_COUNT, columnCount);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        if (getArguments() != null) {\n            mColumnCount = getArguments().getInt(ARG_COLUMN_COUNT);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_stack_selection_list, container, false);\n        File directory = getActivity().getFilesDir();\n\n        List&lt;String&gt; filesList = new ArrayList(Arrays.asList(directory.list()));\n\n        if (view instanceof RecyclerView) {\n            Context context = view.getContext();\n            RecyclerView recyclerView = (RecyclerView) view;\n            if (mColumnCount &lt;= 1) {\n                recyclerView.setLayoutManager(new LinearLayoutManager(context));\n            } else {\n                recyclerView.setLayoutManager(new GridLayoutManager(context, mColumnCount));\n            }\n            recyclerView.setAdapter(new MyItemRecyclerViewAdapter(filesList));\n            recyclerView.getAdapter().hasStableIds();\n\n            this.tracker = new SelectionTracker.Builder&lt;Long&gt;(\n                    &quot;stack_selector&quot;,\n                    recyclerView,\n                    new StableIdKeyProvider(recyclerView),\n                    new MyDetailsLookup(recyclerView),\n                    StorageStrategy.createLongStorage()\n                ).withSelectionPredicate(SelectionPredicates.&lt;Long&gt;createSelectAnything()).build();\n        }\n        return view;\n    }\n\n    final class MyDetailsLookup extends ItemDetailsLookup {\n\n        private final RecyclerView mRecyclerView;\n\n        MyDetailsLookup(RecyclerView recyclerView) {\n            mRecyclerView = recyclerView;\n        }\n\n        public @Nullable\n        ItemDetails getItemDetails(@NonNull MotionEvent e) {\n            View view = mRecyclerView.findChildViewUnder(e.getX(), e.getY());\n            if (view != null) {\n                RecyclerView.ViewHolder holder = mRecyclerView.getChildViewHolder(view);\n                if (holder instanceof MyItemRecyclerViewAdapter.ViewHolder) {\n                    return ((MyItemRecyclerViewAdapter.ViewHolder)holder).getItemDetails();\n                }\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>Here's my adapter:</p>\n<pre><code>package com.example.smartflashcards;\n\nimport androidx.annotation.Nullable;\nimport androidx.recyclerview.selection.ItemDetailsLookup;\nimport androidx.recyclerview.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport com.example.smartflashcards.databinding.FragmentStackSelectionBinding;\n\nimport java.util.List;\n\npublic class MyItemRecyclerViewAdapter extends RecyclerView.Adapter&lt;MyItemRecyclerViewAdapter.ViewHolder&gt; {\n\n    private final List&lt;String&gt; mValues;\n\n    public MyItemRecyclerViewAdapter(List&lt;String&gt; items) {\n        setHasStableIds(true);\n        mValues = items;\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n        return new ViewHolder(FragmentStackSelectionBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false));\n\n    }\n\n    @Override\n    public void onBindViewHolder(final ViewHolder holder, int position) {\n        holder.mItem = getItemId(position);\n        holder.mContentView.setText(mValues.get(position));\n        holder.mContentView.setActivated(StackSelectionFragment.tracker.isSelected((long) position));\n    }\n\n    @Override\n    public int getItemCount() {\n        return mValues.size();\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return (long)position;\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        public final TextView mIdView;\n        public final TextView mContentView;\n        public Long mItem;\n\n        public ViewHolder(FragmentStackSelectionBinding binding) {\n            super(binding.getRoot());\n            mIdView = binding.itemNumber;\n            mContentView = binding.content;\n        }\n\n        @Override\n        public String toString() {\n            return super.toString() + &quot; '&quot; + mContentView.getText() + &quot;'&quot;;\n        }\n\n        public ItemDetailsLookup.ItemDetails&lt;Long&gt; getItemDetails() {\n            return new ItemDetailsLookup.ItemDetails&lt;Long&gt;() {\n                @Override\n                public int getPosition() {\n                    return getAbsoluteAdapterPosition();\n                }\n\n                @Nullable\n                @Override\n                public Long getSelectionKey() {\n                    return mItem;\n                }\n            };\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-arrow"],"answers":[{"tags":[],"owner":{"account_id":96711,"reputation":11791,"user_id":262727,"display_name":"li.davidm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661172651,"creation_date":1661172651,"answer_id":73445421,"question_id":73445004,"body_markdown":"The &quot;leak&quot; is probably just a side effect of the exception, because the code as written is not exception-safe. Use try-with-resources to manage the ArrowRecordBatch instead of manually calling `close()`:\r\n\r\n```java\r\ntry (ArrowRecordBatch batch = unloader.getRecordBatch()) {\r\n    loader.load(batch);\r\n}\r\n```\r\n\r\n(though, depending on what `load` does, this may not be enough).\r\n\r\nI can&#39;t say much else about why you&#39;re getting the exception without seeing more code and the full stack trace.","title":"How to avoid getting a memory leak while copying a VectorSchemaRoot","body":"<p>The &quot;leak&quot; is probably just a side effect of the exception, because the code as written is not exception-safe. Use try-with-resources to manage the ArrowRecordBatch instead of manually calling <code>close()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (ArrowRecordBatch batch = unloader.getRecordBatch()) {\n    loader.load(batch);\n}\n</code></pre>\n<p>(though, depending on what <code>load</code> does, this may not be enough).</p>\n<p>I can't say much else about why you're getting the exception without seeing more code and the full stack trace.</p>\n"},{"tags":[],"owner":{"account_id":11996521,"reputation":56,"user_id":8777886,"display_name":"David Dali Susanibar Arce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661207650,"creation_date":1661207650,"answer_id":73451614,"question_id":73445004,"body_markdown":"Could you try with something like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import org.apache.arrow.memory.BufferAllocator;\r\n    import org.apache.arrow.memory.RootAllocator;\r\n    import org.apache.arrow.vector.IntVector;\r\n    import org.apache.arrow.vector.VectorLoader;\r\n    import org.apache.arrow.vector.VectorSchemaRoot;\r\n    import org.apache.arrow.vector.VectorUnloader;\r\n    import org.apache.arrow.vector.ipc.message.ArrowRecordBatch;\r\n    import org.apache.arrow.vector.types.pojo.ArrowType;\r\n    import org.apache.arrow.vector.types.pojo.Field;\r\n    import org.apache.arrow.vector.types.pojo.FieldType;\r\n    import org.apache.arrow.vector.types.pojo.Schema;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.stream.Stream;\r\n\r\n    public class StackOverFlowSolved {\r\n        public static void main(String[] args) {\r\n            try(BufferAllocator allocator = new RootAllocator()){\r\n                // load data\r\n                IntVector ageColumn = new IntVector(&quot;age&quot;, allocator);\r\n                ageColumn.allocateNew();\r\n                ageColumn.set(0, 1);\r\n                ageColumn.set(1, 2);\r\n                ageColumn.set(2, 3);\r\n                ageColumn.setValueCount(3);\r\n                Stream&lt;VectorSchemaRoot&gt; streamOfVSR = Collections.singletonList(VectorSchemaRoot.of(ageColumn)).stream();\r\n\r\n                // transfer data\r\n                streamOfVSR.forEach(current -&gt; {\r\n                    Field ageLoad = new Field(&quot;age&quot;,\r\n                            FieldType.nullable(new ArrowType.Int(32, true)), null);\r\n                    Schema schema = new Schema(Arrays.asList(ageLoad));\r\n                    try (VectorSchemaRoot root = VectorSchemaRoot.create(schema,\r\n                                 allocator.newChildAllocator(&quot;loaddata&quot;, 0, Integer.MAX_VALUE))) {\r\n                        VectorUnloader unload = new VectorUnloader(current);\r\n                        try (ArrowRecordBatch recordBatch = unload.getRecordBatch()) {\r\n                            VectorLoader loader = new VectorLoader(root);\r\n                            loader.load(recordBatch);\r\n                        }\r\n                        System.out.println(root.contentToTSVString());\r\n                    }\r\n                    current.close();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    age\r\n    1\r\n    2\r\n    3\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to avoid getting a memory leak while copying a VectorSchemaRoot","body":"<p>Could you try with something like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import org.apache.arrow.memory.BufferAllocator;\nimport org.apache.arrow.memory.RootAllocator;\nimport org.apache.arrow.vector.IntVector;\nimport org.apache.arrow.vector.VectorLoader;\nimport org.apache.arrow.vector.VectorSchemaRoot;\nimport org.apache.arrow.vector.VectorUnloader;\nimport org.apache.arrow.vector.ipc.message.ArrowRecordBatch;\nimport org.apache.arrow.vector.types.pojo.ArrowType;\nimport org.apache.arrow.vector.types.pojo.Field;\nimport org.apache.arrow.vector.types.pojo.FieldType;\nimport org.apache.arrow.vector.types.pojo.Schema;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.stream.Stream;\n\npublic class StackOverFlowSolved {\n    public static void main(String[] args) {\n        try(BufferAllocator allocator = new RootAllocator()){\n            // load data\n            IntVector ageColumn = new IntVector(\"age\", allocator);\n            ageColumn.allocateNew();\n            ageColumn.set(0, 1);\n            ageColumn.set(1, 2);\n            ageColumn.set(2, 3);\n            ageColumn.setValueCount(3);\n            Stream&lt;VectorSchemaRoot&gt; streamOfVSR = Collections.singletonList(VectorSchemaRoot.of(ageColumn)).stream();\n\n            // transfer data\n            streamOfVSR.forEach(current -&gt; {\n                Field ageLoad = new Field(\"age\",\n                        FieldType.nullable(new ArrowType.Int(32, true)), null);\n                Schema schema = new Schema(Arrays.asList(ageLoad));\n                try (VectorSchemaRoot root = VectorSchemaRoot.create(schema,\n                             allocator.newChildAllocator(\"loaddata\", 0, Integer.MAX_VALUE))) {\n                    VectorUnloader unload = new VectorUnloader(current);\n                    try (ArrowRecordBatch recordBatch = unload.getRecordBatch()) {\n                        VectorLoader loader = new VectorLoader(root);\n                        loader.load(recordBatch);\n                    }\n                    System.out.println(root.contentToTSVString());\n                }\n                current.close();\n            });\n        }\n    }\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>age\n1\n2\n3</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":9499825,"reputation":1322,"user_id":7061393,"accept_rate":95,"display_name":"Pablo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661207650,"creation_date":1661170670,"question_id":73445004,"body_markdown":"I need to copy all of the contents of a stream of VectorSchemaRoots into a single object:\r\n\r\n    Stream&lt;VectorSchemaRoot&gt; data = fetchStream();\r\n    \r\n    VectorSchemaRoot finalResult = VectorSchemaRoot.create(schema, allocator);\r\n    VectorLoader = new VectorLoader(finalResult);\r\n    \r\n    data.forEach(current -&gt; {\r\n        VectorUnloader unloader = new VectorUnloader(current);\r\n        ArrowRecordBatch batch = unloader.getRecordBatch();\r\n        loader.load(batch);\r\n        current.close();\r\n    })\r\n\r\nHowever, I am getting the following error:\r\n\r\n    java.lang.IllegalStateException: Memory was leaked by query. Memory was leaked.\r\n\r\nAlso getting this further down the stack track:\r\n\r\n    Could not load buffers for field date: Timetamp(MILLISECOND, null) not null. error message: A buffer can only be associated between two allocators that shame the same root\r\n\r\nI use the same allocator for everything, does anyone know why I am getting this issue?\r\n\r\n","title":"How to avoid getting a memory leak while copying a VectorSchemaRoot","body":"<p>I need to copy all of the contents of a stream of VectorSchemaRoots into a single object:</p>\n<pre><code>Stream&lt;VectorSchemaRoot&gt; data = fetchStream();\n\nVectorSchemaRoot finalResult = VectorSchemaRoot.create(schema, allocator);\nVectorLoader = new VectorLoader(finalResult);\n\ndata.forEach(current -&gt; {\n    VectorUnloader unloader = new VectorUnloader(current);\n    ArrowRecordBatch batch = unloader.getRecordBatch();\n    loader.load(batch);\n    current.close();\n})\n</code></pre>\n<p>However, I am getting the following error:</p>\n<pre><code>java.lang.IllegalStateException: Memory was leaked by query. Memory was leaked.\n</code></pre>\n<p>Also getting this further down the stack track:</p>\n<pre><code>Could not load buffers for field date: Timetamp(MILLISECOND, null) not null. error message: A buffer can only be associated between two allocators that shame the same root\n</code></pre>\n<p>I use the same allocator for everything, does anyone know why I am getting this issue?</p>\n"},{"tags":["java","javafx","fxml","builder","scene"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1661207321,"post_id":73451527,"comment_id":129712768,"body_markdown":"I&#39;m not familiar with javafx.  But, in general, it&#39;s not enough to declare a variable&#39;s type. You have to `new` it or use other means of creating / initializing it.","body":"I&#39;m not familiar with javafx.  But, in general, it&#39;s not enough to declare a variable&#39;s type. You have to <code>new</code> it or use other means of creating / initializing it."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1661207382,"post_id":73451527,"comment_id":129712778,"body_markdown":"@James You are correct in the general sense, but in JavaFX you virtually never want to manually assign `@FXML`-annotated fields (they are injected for you).","body":"@James You are correct in the general sense, but in JavaFX you virtually never want to manually assign <code>@FXML</code>-annotated fields (they are injected for you)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":6,"creation_date":1661207677,"post_id":73451527,"comment_id":129712838,"body_markdown":"@DylwinTFTW The problem is you have `id=&quot;moneyCount&quot;` instead of `fx:id=&quot;moneyCount&quot;` in your FXML file. Check out [What&#39;s the difference between fx:id and id: in JavaFX?](https://stackoverflow.com/questions/23686325/whats-the-difference-between-fxid-and-id-in-javafx).","body":"@DylwinTFTW The problem is you have <code>id=&quot;moneyCount&quot;</code> instead of <code>fx:id=&quot;moneyCount&quot;</code> in your FXML file. Check out <a href=\"https://stackoverflow.com/questions/23686325/whats-the-difference-between-fxid-and-id-in-javafx\">What&#39;s the difference between fx:id and id: in JavaFX?</a>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1661212477,"post_id":73451527,"comment_id":129713533,"body_markdown":"&#39;Already declaring the variable&#39; has nothing to do with `NullPointerException`.","body":"&#39;Already declaring the variable&#39; has nothing to do with <code>NullPointerException</code>."}],"owner":{"account_id":16153781,"reputation":11,"user_id":11661486,"display_name":"DylwinTFTW"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1661209220,"answer_count":0,"score":0,"last_activity_date":1661207497,"creation_date":1661206675,"question_id":73451527,"body_markdown":"I made a small program with JavaFX and Scene Builder.\r\n\r\nHere&#39;s the controller: \r\n\r\n    package com.sunflowerseedgame;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.text.Text;\r\n    \r\n    public class GameLogic {\r\n        \r\n        @FXML\r\n        private Text moneyCount;\r\n    \r\n        public static int amountOfHelper = 0; // example of a helper would be Kid\r\n        public static int amountOfSeeds = 0;\r\n        public static int amountOfShells = 0;\r\n        public static double amountOfMoney = 0;\r\n        public void GetMoney(ActionEvent e) {\r\n            amountOfMoney++;\r\n            moneyCount.setText(&quot;Money = &quot; + amountOfMoney);\r\n        }\r\n        public static void main(String[] args) {\r\n    \r\n        }\r\n    }\r\n\r\nAnd here&#39;s the FXML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    &lt;?import javafx.scene.text.Text?&gt;\r\n    \r\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; style=&quot;-fx-background-color: green;&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.sunflowerseedgame.GameLogic&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;Button layoutX=&quot;85.0&quot; layoutY=&quot;287.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#GetMoney&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Obtain $1&quot; /&gt;\r\n          &lt;Button layoutX=&quot;439.0&quot; layoutY=&quot;287.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Buy Kid - $7&quot; /&gt;\r\n          &lt;Button layoutX=&quot;174.0&quot; layoutY=&quot;230.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Grab Seed&quot; /&gt;\r\n          &lt;Button layoutX=&quot;348.0&quot; layoutY=&quot;230.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Suck Seed&quot; /&gt;\r\n          &lt;Button layoutX=&quot;234.0&quot; layoutY=&quot;341.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Buy Bag of Seeds - $2&quot; /&gt;\r\n          &lt;Text layoutX=&quot;113.0&quot; layoutY=&quot;89.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Seed Sucker&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Consolas&quot; size=&quot;62.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Text&gt;\r\n          &lt;Text layoutX=&quot;85.0&quot; layoutY=&quot;171.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Seeds = 0&quot; /&gt;\r\n          &lt;Text id=&quot;moneyCount&quot; layoutX=&quot;271.0&quot; layoutY=&quot;171.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Money = 0&quot; /&gt;\r\n          &lt;Text layoutX=&quot;278.0&quot; layoutY=&quot;205.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Kids = 0&quot; /&gt;\r\n          &lt;Text layoutX=&quot;454.0&quot; layoutY=&quot;171.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Shells = 0&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nWhen I set the ID for moneyCount in Scene Builder, the option to so hasn&#39;t already there. This is despite me already making the variable for it. It compiles fine, but when I click the money count button I get this error:\r\n\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.text.Text.setText(String)&quot; because &quot;this.moneyCount&quot; is null\r\n            at com.sunflowerseedgame/com.sunflowerseedgame.GameLogic.GetMoney(GameLogic.java:18)\r\n\r\n(There&#39;s more errors, but none of the other ones mention my code)\r\n\r\nDoes anyone know why I&#39;m getting this?\r\n\r\n","title":"Getting a NullPointerException with JavaFX despite already declaring the variable","body":"<p>I made a small program with JavaFX and Scene Builder.</p>\n<p>Here's the controller:</p>\n<pre><code>package com.sunflowerseedgame;\n\nimport javafx.event.ActionEvent;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.text.Text;\n\npublic class GameLogic {\n    \n    @FXML\n    private Text moneyCount;\n\n    public static int amountOfHelper = 0; // example of a helper would be Kid\n    public static int amountOfSeeds = 0;\n    public static int amountOfShells = 0;\n    public static double amountOfMoney = 0;\n    public void GetMoney(ActionEvent e) {\n        amountOfMoney++;\n        moneyCount.setText(&quot;Money = &quot; + amountOfMoney);\n    }\n    public static void main(String[] args) {\n\n    }\n}\n</code></pre>\n<p>And here's the FXML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; style=&quot;-fx-background-color: green;&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.sunflowerseedgame.GameLogic&quot;&gt;\n   &lt;children&gt;\n      &lt;Button layoutX=&quot;85.0&quot; layoutY=&quot;287.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#GetMoney&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Obtain $1&quot; /&gt;\n      &lt;Button layoutX=&quot;439.0&quot; layoutY=&quot;287.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Buy Kid - $7&quot; /&gt;\n      &lt;Button layoutX=&quot;174.0&quot; layoutY=&quot;230.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Grab Seed&quot; /&gt;\n      &lt;Button layoutX=&quot;348.0&quot; layoutY=&quot;230.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Suck Seed&quot; /&gt;\n      &lt;Button layoutX=&quot;234.0&quot; layoutY=&quot;341.0&quot; mnemonicParsing=&quot;false&quot; style=&quot;-fx-background-color: darkseagreen;&quot; text=&quot;Buy Bag of Seeds - $2&quot; /&gt;\n      &lt;Text layoutX=&quot;113.0&quot; layoutY=&quot;89.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Seed Sucker&quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;Consolas&quot; size=&quot;62.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n      &lt;Text layoutX=&quot;85.0&quot; layoutY=&quot;171.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Seeds = 0&quot; /&gt;\n      &lt;Text id=&quot;moneyCount&quot; layoutX=&quot;271.0&quot; layoutY=&quot;171.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Money = 0&quot; /&gt;\n      &lt;Text layoutX=&quot;278.0&quot; layoutY=&quot;205.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Kids = 0&quot; /&gt;\n      &lt;Text layoutX=&quot;454.0&quot; layoutY=&quot;171.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Shells = 0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>When I set the ID for moneyCount in Scene Builder, the option to so hasn't already there. This is despite me already making the variable for it. It compiles fine, but when I click the money count button I get this error:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.text.Text.setText(String)&quot; because &quot;this.moneyCount&quot; is null\n        at com.sunflowerseedgame/com.sunflowerseedgame.GameLogic.GetMoney(GameLogic.java:18)\n</code></pre>\n<p>(There's more errors, but none of the other ones mention my code)</p>\n<p>Does anyone know why I'm getting this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8901,"page":1091,"page_size":100}
